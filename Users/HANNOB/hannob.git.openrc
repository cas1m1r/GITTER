======================: FILES :======================
======================: BRANCHES :======================
======================: LOGINFO :======================
commit 6b9a5b8271a4880a3b1f94d122a66e0c2cc95c93
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Oct 4 13:13:35 2021 -0500

    fix build for selinux

commit bfa634493d48c828330fb2a66418873c3ccf2cb9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Oct 2 15:46:12 2021 -0500

    build: fix pam and pam_misc dependencies
    
    Pam generates pkgconfig files now, so meson can use them to find the pam
    dependencies.

commit a4d4d390bea0781d12304e145eff88d704ccbfdc
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Sep 21 12:34:22 2021 -0500

    move rc_bindir and rc_sbindir definitions to the top level

commit d07572e1b7853f30e920d1ff9c7c55f21d5c96e5
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Sep 20 22:49:05 2021 -0500

    build: fix rootprefix
    
    This fixes #438.

commit 2ee9d9259937c4a83dc31ef174d1496186fdfd09
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Sep 18 17:01:41 2021 -0500

    link runscript with audit

commit b877ef24c442b22a6ecc34b31c31326bf37a3e49
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Sep 18 16:25:15 2021 -0500

    link openrc-run with audit and libpam_misc

commit c6a037e9dd1759320b02057382effe72e1c6791c
Author: hosxy <hosxy@live.com>
Date:   Sun Aug 18 21:13:41 2019 +0800

    fix agetty can be start directly
    
    This fixes #320.

commit 7faa48ae04588d4c9a529156218691a53ee35421
Author: Natanael Copa <ncopa@alpinelinux.org>
Date:   Wed Aug 17 17:18:21 2016 +0200

    hide error when migrating /var/run to /run
    
    The script tries to copy non-existing files. We simply hide the error
    
    http://bugs.alpinelinux.org/issues/3160
    This fixes #451.

commit 93d600c0a49ab21ab551b62aba985d32ed4fcf1f
Author: Natanael Copa <ncopa@alpinelinux.org>
Date:   Tue Apr 3 17:11:15 2018 +0200

    force root to be rw before localmount
    
    The original service that pulled in root remount was mtab which
    is not part of OpenRC.
    
    This fixes #449.

commit 6e24d335172b43286a284167c2d54d8f240fc9a0
Author: Aaditya Bagga <aaditya_gnulinux@zoho.com>
Date:   Tue Nov 6 20:26:33 2018 +0530

    [runit integration] give a bit of time to start the service
    
    Currently, we run sv start immediately after linking the service.
    The runsv process may not be up at the moment, as a result of which
    openrc will mark the service as stopped, even though it may be brought up
    by runit at the next scan.
    
    This is documented in the gentoo wiki:
    https://wiki.gentoo.org/wiki/Runit#OpenRC.27s_runit_integration_feature
    
    This PR adds a timeout so that correct process state can be reported.
    
    Before:
     * Starting netdata-runit ...
    fail: /run/openrc/sv/netdata: runsv not running
     * Failed to start netdata-runit
    
    After:
     * Starting netdata-runit ...
    fail: /run/openrc/sv/netdata: runsv not running
    ok: run: /run/openrc/sv/netdata: (pid 9042) 0s
    
    This fixes #253.

commit d65e603acd9b1f542069c59482c5e22502afa872
Author: Jakub Jirutka <jakub@jirutka.cz>
Date:   Mon Nov 12 18:41:32 2018 +0100

    Fix undeclared UT_LINESIZE
    
    Fix the following error:
    
            broadcast.c:41:21: error: '__UT_LINESIZE' undeclared (first use in this function); did you mean 'UT_LINESIZE'?
             #define UT_LINESIZE __UT_LINESIZE
                              ^~~~~~~~~~
    
    Constant UT_LINESIZE is defined in <utmp.h> provided by musl.

commit d87f5b2f24e5c521cbe410df17289e25477e45ac
Author: SÃ¶ren Tempel <soeren+git@soeren-tempel.net>
Date:   Wed Jan 15 21:41:32 2020 +0100

    rc-mount: make timeout invocation compatible with busybox timeout
    
    Busybox timeout does not support the `-k` flag. As such, invoking fuser
    from do_unmount never worked without this patch. This went unnoticed as
    standard error is redirected to /dev/null. This patch fixes this by
    simply removing the incompatible `-k` flag.
    
    [Ariadne: the `-k` is redundant anyway, since we are sending the KILL
     signal to begin with.]

commit 25d5de8fd9698fed0fdbbd8949fd4089602b796d
Author: Ariadne Conill <ariadne@dereferenced.org>
Date:   Wed Sep 8 23:50:44 2021 -0600

    fix build under musl 1.2 on 32 bit systems
    
    Since musl 1.2 time_t is a 64 bit value, even on 32 bit systems. A
    hotfix for printing the value is simply using PRIu64 from inttypes.h
    in the format string.
    
    This fixes #446.

commit b5cf79f7472e187c82f0acbee5311b868d1605b0
Author: Ariadne Conill <ariadne@dereferenced.org>
Date:   Tue Sep 7 20:31:06 2021 -0600

    fix trailing whitespace in tools/meson_runlevels.sh

commit 3f098817ef26738e05039da8f191a5ddc0f78b43
Author: artoo <artoo@artixlinux.org>
Date:   Thu Sep 9 00:03:04 2021 +0200

    meson: fix symlinks with sysvinit

commit a25ccbd8f2d5198e1b9f63d6ae944635e2ff64e7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Sep 8 15:05:46 2021 -0500

    build: install pam files

commit 8807e954c4eb49abc10934154415cd4e4ca72b61
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Sep 8 14:47:20 2021 -0500

    meson: typo fix

commit 4aa5a89ee0b4854809d9dcafe786e100651dc1b5
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Sep 8 13:28:29 2021 -0500

    build: fix sysvinit script installation

commit 46a0bfedd14001bd6df2e3ca7b96261ddabdfb71
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Sep 8 11:59:25 2021 -0500

    build: fix symlinks

commit 803aa1c637c42352c05a520dbb02bee6c03ccf75
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Sep 7 16:16:51 2021 -0500

    version 0.44

commit fb186a38673201a7a25d6a7c1516fcb734020ee1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Sep 7 16:14:08 2021 -0500

    update ChangeLog

commit c9b64b64fa9b2d2ee31684e8d35375f4c5bddba1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Sep 7 16:13:35 2021 -0500

    update README

commit 9cce9f8ce8d2624ac5fa1cf12d0b4b00de5bcde2
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Sep 7 15:59:19 2021 -0500

    news typo fix

commit 5a41f1ef201def94392f06d3b294e5e0c2c8432f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Sep 7 14:17:36 2021 -0500

    add discussion about removing old build system to NEWS

commit 6e3afc29f3005bca7c86e3faa7b8b2d9ede08efb
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Sep 7 13:31:16 2021 -0500

    update NEWS

commit 7c29fbd36f87426b78fe4baa6eb1a68661fc1374
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Sep 7 12:45:53 2021 -0500

    build: install bash and zsh completions

commit 593be166d16e371837d85ff4e963cf8c71b569c7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Sep 6 18:52:54 2021 -0500

    build: fix libexecdir

commit ca0270967c880ef87dbaea04c267c5c463377b2e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Sep 6 18:37:11 2021 -0500

    tools/meson_final.sh: typo fix

commit 3a187f88f47517b1fb0ee1247c79ab06899928f6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Sep 6 16:04:46 2021 -0500

    build: typo fix

commit f2362cc277023550b2482215b4a1cd7142639427
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Sep 6 15:22:28 2021 -0500

    build: add split-usr option

commit 444e44eb9da303c6614034a3558daceca15e0315
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Sep 6 14:30:30 2021 -0500

    build: change root_prefix to rootprefix

commit c0f8313164fb60fcf41313b273b21f3079e93c1e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Sep 5 20:04:55 2021 -0500

    sync meson build version with makefiles

commit d6622a1156929294b909d08273fd227c7d817bb9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Aug 22 13:09:30 2021 -0500

    add meson build files
    
    Closes #116.
    Closes #171.
    Closes #172.
    Closes #175.

commit 92004a2ed65045b7ca79063dda8fc5b4ac761606
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Sep 4 14:23:11 2021 -0500

    README: add note about github discussions

commit 5f6d7ac028b4e3c208a74465c54f235d5bf34a93
Author: Matt Whitlock <gentoo@mattwhitlock.name>
Date:   Sat Jul 31 17:13:21 2021 -0400

    supervise-daemon: implement SSD_IONICELEVEL
    
    supervise-daemon was apparently overlooked when support for the
    SSD_IONICELEVEL environment variable was added. This commit brings
    supervise-daemon up to parity with start-stop-daemon with respect to
    this environment variable.

commit 7cedc4942b8e52d9bab6f4aa7bb595c53aa6fdb1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Aug 14 15:05:07 2021 -0500

    update travis ci irc notifications
    
    - move to libera network
    - always notify on successful build

commit 091cd8015f25d283760c39dcb9bd7e9d56eef7c4
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Aug 13 23:08:07 2021 -0500

    man/supervise-daemon.8: document --pidfile option

commit 63955056ecb98faa1a02d90d5a4742515f0299c8
Author: Sven Wegener <sven.wegener@stealer.net>
Date:   Sun Jul 4 13:19:43 2021 +0200

    on_ac_power: support multiple power_supply devices in sysfs
    
    Newer devices have multiple power_supply devices in sysfs:
    
    $ grep ^ /sys/class/power_supply/*/type
    /sys/class/power_supply/AC/type:Mains
    /sys/class/power_supply/BAT0/type:Battery
    /sys/class/power_supply/ucsi-source-psy-USBC000:001/type:USB
    /sys/class/power_supply/ucsi-source-psy-USBC000:002/type:USB
    
    There are two "USB" Type-C ports than can supply power and both are
    aggregated into the "Mains" power supply by the firmware. The "Battery"
    also counts as a power supply, but is missing the online attribute.
    
    The -f check with a wildcard pattern results in an error, when multiple
    devices are present:
    
    /lib/rc/bin/on_ac_power: line 21: [: too many arguments
    
    When the power_supply class is registered, check for a "Mains" device.
    
    Fixes #427.

commit 1e975be89670f53db47aeef3dbb3361166517c26
Author: Alex Xu <351006+Hello71@users.noreply.github.com>
Date:   Thu Jul 29 17:05:27 2021 +0000

    conf.d/hostname: clarify hostname variable usage
    
    https://gitlab.alpinelinux.org/alpine/aports/-/issues/9744
    
    This fixes #433.

commit 18e53f7fed1a92dd6dc91e79ab620d22fee1e195
Author: kyoreln <57618278+kyoreln@users.noreply.github.com>
Date:   Sun Aug 1 19:37:34 2021 +0200

    move supervise-daemon out of experimental status
    
    supervise-daemon is no longer experimental so remove the statements to
    that affect.
    
    This fixes #434.

commit b5e4c2c2db3d32dcc70426e058132c52e32603f1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Aug 13 10:46:57 2021 -0500

    Revert "openrc-init: ignore an empty string in argv[1]"
    
    This reverts commit dec9ef200b0d7e96993e2725792a9e7abe9c5f1f.
    This check is no longer needed since rc_runlevel_exists() is fixed.
    
        X-Gentoo-Bug: 803536
        X-Gentoo-Bug-URL: https://bugs.gentoo.org/803536
        Closes: https://github.com/OpenRC/openrc/pull/431

commit 0a97bad6c9ba77285477aef8713e088eea4ab106
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Aug 13 10:28:44 2021 -0500

    librc: fix rc_runlevel_exists return for empty string
    
    This function should return false if the runlevel is an empty string.
    
        X-Gentoo-Bug: 803536
        X-Gentoo-Bug-URL: https://bugs.gentoo.org/803536
        Closes: https://github.com/OpenRC/openrc/pull/431

commit dec9ef200b0d7e96993e2725792a9e7abe9c5f1f
Author: Mike Gilbert <floppym@gentoo.org>
Date:   Fri Jul 23 15:27:15 2021 -0400

    openrc-init: ignore an empty string in argv[1]
    
    X-Gentoo-Bug: 803536
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/803536
    Closes: https://github.com/OpenRC/openrc/pull/431

commit 7f47539fb1992fa4f1c9ae7d039d21404d2eae71
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Aug 12 14:23:25 2021 -0500

    sh/rc-cgroup.sh: fix case in starting message
    
    X-Gentoo-Bug: 804193
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=804193

commit 9c7bedca9e0a51343058b9e44ed8e3b5b9d337be
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Aug 12 14:21:58 2021 -0500

    sh/rc-cgroup.sh: fix cgroup_cleanup
    
    X-Gentoo-Bug: 804193
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=804193

commit 1d282ddc80b2dcd9adbff7d662822fcd7e0c10e5
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun May 23 16:45:32 2021 -0500

    move the irc channel to the libera network

commit 0d86c4903bdc68d2d4704ab6c2d4fc8f2c054276
Author: Lars Wendler <polynomial-c@gentoo.org>
Date:   Wed May 12 21:01:06 2021 +0200

    init.d/modules.in: Avoid loading modules twice in Linux with dash shell
    
    Since commit 6b475ab26992f1dd8815700828df46abc4b71d27, openrc tries to load
    modules twice which have been defined in /etc/conf.d/modules via modules=
    variable when /bin/sh points to dash shell.
    The reason is that when the "modules-load" service was merged into "modules"
    service, the "modules" variable name got used in both, load_modules()
    function and in Linux_modules() function which both get called when modules
    service is started. Although "modules" variable is marked as local in
    load_modules(), dash simply ignores this.
    
    Avoid the issue by renaming "modules" variable to "_modules" in
    load_modules() function.
    
    This fixes #419.

commit 791322d7fa9d5bbceed558258baeff51a39787c5
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Apr 15 17:39:51 2021 -0500

    checkpath: fix code to walk the directory path
    
    X-Gentoo-Bug: 782808
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/782808

commit 63db2d99e730547339d1bdd28e8437999c380cae
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Apr 13 17:13:20 2021 -0500

    checkpath: remove extra slashes from paths
    
    This fixes #418.

commit 8400e7d3025a2957960e3f4ee3cb37a376235886
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Apr 13 16:29:21 2021 -0500

    style fix

commit 533a8c70b3b757d2ca06de7392805ab5d1698a53
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Apr 4 17:30:03 2021 -0500

    cgroup2_set_limits: fix harmless error message
    
    In legacy cgroups mode, we were running `mountinfo -q ""` which was
    generating an error message. If we return immediately when
    cgroup2_find_path returns an empty value, we avoid this message.

commit 852a3c86f66829864d5c0b7d0bd88841ac6b23a8
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Apr 3 15:18:30 2021 -0500

    NEWNET.md: fix the title

commit b3e8072403759d6cf0d89acc41443ea9ab6bd908
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Apr 3 15:14:23 2021 -0500

    rename README.newnet to a markdown file
    
    All of our documentation is in markdown, so rename this file to be
    consistent.

commit b7c03dea27bc0a4474702f2c7fedd753c560ae2e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Apr 3 15:13:09 2021 -0500

    README: convert references to markdown links

commit ee05403c501b5f0c0a955b1f8d67b2d88f0ede7a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Apr 2 12:47:39 2021 -0500

    version 0.43

commit c1558abb0f1e0fe2d1a2c42a536de335a1cd8de9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Apr 2 12:43:37 2021 -0500

    update ChangeLog

commit 901b752463eb37784fcebe5a3b5648b4bfbd9371
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Apr 2 12:35:16 2021 -0500

    README: force references to be on separate lines for github

commit c88368b7925e343e293a493da671edaa4ccebc0d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Apr 2 11:37:27 2021 -0500

    update news
    
    This adds a note about SHLIBDIR being dropped from the makefiles.

commit bfffe2c585dd6a23a7d3c99d16d414abcb321105
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Mar 29 12:47:33 2021 -0500

    drop reference to gentoo bugzilla
    
    OpenRC has a bug tracker on github, so ask people to file issues there.

commit 5f890ee8ab94f8760f4840d280feb7eced999068
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Mar 22 15:47:21 2021 -0500

    init.sh: rework the /run setup for linux xystems
    
    - fix mount options for /run.
    - run restorecon after everything is set up.
    
    X-Gentoo-Bug: 740576
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/740576

commit ef76a663bcc03d4cc9dd1ef05c800f208e26d0ed
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Mar 22 11:34:41 2021 -0500

    stop namespaced services with specified pids
    
    The previous fix excludes PIDs of processes running in a different namespace
    regardless of whether the PID has been explicitly stored in a PID file mentioned
    in the --pidfile parameter.  The correct behavior is to only exclude the pid if
    it is not stored in a pidfile.
    
    X-Gentoo-Bug: 776010
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/776010

commit fccd37c34cbabe77d701316491b899a0eb529114
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Mar 21 17:41:58 2021 -0500

    add PKGCONFIGDIR to the makefiles
    
    This allows pkgconfig files to be stored in /usr even if PREFIX is /.

commit 5058b6668caaa1ac019d6da299528ad0c75379c2
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Mar 21 17:19:56 2021 -0500

    drop shlibdir
    
    I know of no other build systems that have separate paths for static vs
    shared libraries, so this changes ours to use libdir for all libraries.

commit 1878a74a124e12fbdc3fe3286d81045b9198d424
Author: Thomas Deutschmann <whissi@whissi.de>
Date:   Fri Mar 19 01:42:49 2021 +0100

    numlock: Don't disable numlock on shutdown
    
    When dealing with remote consoles, a shutdown could disable
    host's numlock which is not desired.
    
    This fixes #413.

commit 897c2c00eff0dd73717b0903548912063cfd9f01
Author: btdmaster <59375667+btdmaster@users.noreply.github.com>
Date:   Sat Mar 13 20:44:24 2021 +0000

    README: Wrap 'make install' in backticks
    
    This fixes #412

commit 08d518b7fe8f4eade97a50d41859da841a04658a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Mar 15 16:58:52 2021 -0500

    rc_cgroup.sh: do not add newline when writing group2 values
    
    Fixes: #407

commit de776746634cde398bf2a171bfcb43ecc7069e33
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Feb 24 18:05:00 2021 -0600

    rc-cgroup.sh: avoid process substitution for cgroup_get_pids
    
    This should make cgroup_cleanup work successfully since cgroup_get_pids
    no longer uses a subshell.
    
    This fixes #396.
    This fixes #397.

commit 4fb4674374931be2fa279692800185078f350d9f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Feb 23 23:08:56 2021 -0600

    fix unified cgroups v2 setup
    
    The cgroups v2 setup required the rc_cgroups_controllers variable
    to be set to the list of controllers to enable regardless of whether the
    mode was hybrid or unified.
    
    This makes sense for hybrid mode since the controllers can't be in both
    the cgroups v1 and v2 hierarchies, but for unified mode we should enable
    all controllers that are configured in the kernel.

commit 0ddab761be249f54388c12f6cc8197dd01a63673
Author: Disconnect3d <dominik.b.czarnota@gmail.com>
Date:   Mon Apr 13 16:27:06 2020 +0200

    start-stop-daemon: Fix off by ones when checking for RC_* envvars
    
    The same as https://github.com/OpenRC/openrc/pull/361
    
    This fixes #362.

commit f5dd2f5baf1a33173c8ac47495e53d32aee834f5
Author: Disconnect3d <dominik.b.czarnota@gmail.com>
Date:   Mon Apr 13 16:26:06 2020 +0200

    supervise-daemon: Fix off by ones when checking for RC_* envvars
    
    Fixes strncmp size argument off by one as the current implementation didn't
    match the `=` character.
    
    This fixes #361.

commit b12c52d40f2221e6e2b3ae0296d45c607845ea2a
Author: Rin Cat <me@rin.cat>
Date:   Sat Dec 26 00:38:11 2020 -0500

    Support docker and lxc stop
    
    This fixes #398.

commit bac71fce5bc9cb7ba02338c6c4cfc949badd218b
Author: sqozz <sqozz@geekify.de>
Date:   Tue Feb 2 11:03:22 2021 +0100

    start-stop-daemon: fix typo in manpage

commit 12ee72a9b34ef33411cf1bfd5ea059676ee6e482
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jan 28 12:31:57 2021 -0600

    allow devfs to run on lxc
    
    X-Gentoo-Bug: 761918
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=761918
    Closes #272.

commit 170ce2624a98952e6eb871cd9915c7c1b76ab887
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jan 5 17:11:01 2021 -0600

    typo fix

commit 9a6698876af1c7563ae7a3237111fc43cf4f5bda
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jan 5 17:02:30 2021 -0600

    improve the diagnostic when the ulimit builtin fails
    
    X-Gentoo-Bug:739274
    X-Gentoo-Bug-URL:https://bugs.gentoo.org/739274

commit bf9af1fb23b57af38880d824e7bba37a648f12fb
Author: GaÃ«l PORTAY <gael.portay@gmail.com>
Date:   Sun Dec 13 12:00:39 2020 -0500

    net-online: fix process of symlinks in sysfs
    
    The test `[ -h "${ifname}" ] && continue` skips the symlinks while it is
    the opposite that is the expected: ignoring files that are not symlinks.
    
    Fixes commit f42ec82f21f3760b829507344ad0ae761e1d59aa.
    This fixes #391.

commit 5c9c2a19397eb7bcc0bd1c7091229bbf9ef883b5
Author: Patrick Noll <8444617+pnoll1@users.noreply.github.com>
Date:   Mon Apr 6 23:14:21 2020 +0000

    remove statement about not providing an init
    
    This fixes #359.

commit 4b2a61f1b8b786600e39ba1a223ff8d9b389b275
Author: Manuel RÃ¼ger <manuel@rueg.eu>
Date:   Sun Apr 19 13:00:43 2020 +0200

    rc-status: Remove noise from ini-formatted output
    
    Otherwise this would create the following output:
    
    rc-status -f ini
     * Caching service dependencies ...        [ ok ]
    [default]
    dbus =  started
    NetworkManager =  started
    syslog-ng =  started
    ...
    
    This fixes #364.

commit 62bc463c63a3beeeead0b6fb164f7c7e9b917849
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Dec 20 15:37:32 2020 -0600

    update freebsd 11.x image on cirrus ci

commit 7019bfad3b4cf6eff31d967f6f4e0960f67858fb
Author: Clayton Craft <clayton@craftyguy.net>
Date:   Fri Dec 4 17:23:18 2020 -0800

    user-guide: clarify note for Runlevels/rc-update usage
    
    I found the original note a little confusing, since using rc-update will
    add it to a runlevel so it *is* auto-started when the system reaches
    that runlevel again, but I don't think that was the intended meaning of
    'auto-start', so hopefully this makes it a little more clear.

commit 8346c985d598385e760375a8adf69c986bb4a350
Author: lishuxiang <GoldenMean58@outlook.com>
Date:   Sat Dec 5 20:27:04 2020 +0800

    Update user-guide.md
    
    fix a typo
    
    This fixes #389.

commit da30767353eb1cc13826176bf19308a05c7bade4
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Nov 29 21:22:43 2020 -0600

    supervise-daemon: do not spawn a process if we are exiting
    
    This fixes #375 and allows us to not add another level of indentation in
    the supervisor loop.

commit 57d9528a0bc64366ea3e0fbbb21b1282ce5c1212
Author: Dermot Bradley <dermot_bradley@yahoo.com>
Date:   Thu Aug 27 01:39:40 2020 +0100

    Remove warning when osclock init.d script runs
    
    Currently when osclock is enabled as a init.d service the following
    messages appear during boot when osclock starts:
    
      * The command variable is undefined.
      * There is nothing for osclock to start.
      * If this is what you intend, please write a start function.
      * This will become a failure in a future release.
    
    osclock is activated whenever a machine's system clock is automatically
    configured from a RTC by the kernel and the osclock's only purpose is to
    satisfy the "clock" dependency defined by other init.d services.
    
    Adding a stub start() function prevents OpenRC from showing warnings but
    continues to ensure that the osclock service still does not actually do
    anything.
    
    This fixes #377.

commit 6ce48f124aea593b77163d6f198d18bbe9093068
Author: Calvin Montgomery <calzoneman@gmail.com>
Date:   Sat Aug 29 20:19:26 2020 -0700

    man/openrc.8: populate OPTIONS from --help output
    
    This fixes #378.

commit 00ea2166081856774f24f7243126f701c7fe6db9
Author: Michael Orlitzky <michael@orlitzky.com>
Date:   Wed Nov 25 07:15:50 2020 -0500

    src/rc/checkpath.c: replace mkdir() with mkdirat().
    
    The do_check() function recently gained some defenses against symlink
    replacement attacks that involve the use of *at functions in place of
    their vanilla counterparts; openat() instead of open(), for example.
    One opportunity to replace mkdir() with mkdirat() was missed, however,
    and this commit replaces it.
    
    This fixes #386.

commit ac7ca6d901d72b1bc4ed13be5438e825c07fc0da
Author: Michael Orlitzky <michael@orlitzky.com>
Date:   Wed Nov 25 07:11:55 2020 -0500

    src/rc/checkpath.c: fix typo "synbolic" -> "symbolic".

commit 47819f004cec3cc3e911ba69003b8b52bacbebef
Author: Johannes Heimansberg <git@jhe.dedyn.io>
Date:   Sun Sep 6 09:22:50 2020 +0200

    start-stop-daemon, supervise-daemon: fix parsing of usernames passed via --user that start with a number
    
    start-stop-daemon and supervise-daemon parse usernames and group names
    passed via the --user argument as numeric UID/GID if they start with a
    number (e.g. user "4foo" will be treated as UID 4). This results in the
    process that is being started to run under a totally unexpected user if
    that UID exists.
    
    Even though the result of the sscanf calls are tested for a result of
    exactly 1, which means exactly one value was extracted, because sscanf's
    format string only contains only one placeholder, it will never return
    a value greater than 1, even if there are still characters left to be
    parsed. This causes start-stop-daemon and supervise-daemon to assume
    that usernames starting with a number are just that number. Adding a
    second placeholder "%1s" to the format string, which matches a string of
    length 1, makes sure that sscanf can distinguish between pure numbers
    (in which case it will return 1) and strings either starting with a
    number (in which case it will return 2) and any other string (in which
    case it will return 0).
    
    This fixes #379.
    This fixes #380.

commit 0fab3e837b45021fdcc02a71873c3c245ce96080
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Nov 27 15:13:40 2020 -0600

    bootmisc: allow sysvinit compatibility  during shutdown
    
    Use "halt -w" to write the halt record if it exists.
    Otherwise use openrc-shutdown.
    
    This fixes #336.

commit 38aaba28ee86602e29d8a31f155dfa72f5481e68
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Nov 20 14:55:26 2020 -0600

    scripts/shutdown.in: fix sysvinit compatible shutdown
    
    X-Gentoo-Bug: https://bugs.gentoo.org/755422

commit 3ed4126a31406124ae8042fc3d4c0bf963d6961e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Nov 20 10:00:34 2020 -0600

    update news for 0.43 with info on checkpath fix

commit aa0fdf6d08b987dfcabebf5b8d05beff015ad8f4
Author: Lars Wendler <polynomial-c@gentoo.org>
Date:   Wed Nov 18 11:08:47 2020 +0100

    start-stop-daemon: Don't segfault if --exec was given a non-existing file name
    
      Starting program: /sbin/start-stop-daemon --start --exec i-dont-exist
    
      Program received signal SIGSEGV, Segmentation fault.
      0x0000555555559053 in main (argc=1, argv=0x7fffffffdc20)
          at start-stop-daemon.c:631
      631                         *exec_file ? exec_file : exec);
    
    This fixes #385.

commit b6fef599bf8493480664b766040fa9b0d4b1e335
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Nov 20 09:15:59 2020 -0600

    checkpath: fix CVE-2018-21269
    
    This walks the directory path to the file we are going to manipulate to make
    sure that when we create the file and change the ownership and permissions
    we are working on the same file.
    Also, all non-terminal symbolic links must be owned by root. This will
    keep a non-root user from making a symbolic link as described in the
    bug. If root creates the symbolic link, it is assumed to be trusted.
    
    On non-linux platforms, we no longer follow non-terminal symbolic links
    by default. If you need to do that, add the -s option on the checkpath
    command line, but keep in mind that this is not secure.
    
    This fixes #201.

commit aac1734a70b60da97d4d24930f1902ca46894b44
Author: Julien Surloppe <julien@surloppe.fr>
Date:   Sun Nov 1 20:15:26 2020 +0100

    Update user-guide.md
    
    Add missing underscore.

commit 2355f1a3f2a4fd62cac6d9af0e94c8731acd4c0f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Sep 25 16:33:32 2020 -0500

    supervise-daemon: only log debug logs when verbose mode is active

commit fbec1eed51c85c53b39f97a213479caa0a2b75ab
Author: Manuel RÃ¼ger <manuel@rueg.eu>
Date:   Sun Apr 19 13:14:59 2020 +0200

    .cirrus.yml: Update FreeBSD releases
    
    Signed-off-by: Manuel RÃ¼ger <manuel@rueg.eu>

commit 229692cc3424e95d8185e6c681b76c0dc88899f9
Author: Austin English <austinenglish@gmail.com>
Date:   Wed Feb 5 11:33:18 2020 -0600

    man/openrc-run.8: fix a typo

commit 375ef42393f3dc6edbaa2cb70c79b2366072db38
Author: Sergei Trofimovich <slyfox@gentoo.org>
Date:   Sun Jan 19 15:24:20 2020 +0000

    src/rc/rc-logger.h: fix build failure against gcc-10
    
    On gcc-10 (and gcc-9 -fno-common) build fails as:
    
    ```
    cc  -L../librc -L../libeinfo -O2 -g -std=c99 -Wall -Wextra -Wimplicit -Wshadow \
      -Wformat=2 -Wmissing-prototypes -Wmissing-declarations -Wmissing-noreturn \
      -Wmissing-format-attribute -Wnested-externs -Winline -Wwrite-strings \
      -Wcast-align -Wcast-qual -Wpointer-arith -Wdeclaration-after-statement \
      -Wsequence-point -Werror=implicit-function-declaration    \
      -Wl,-rpath=/lib   -o openrc rc.o rc-logger.o rc-misc.o rc-plugin.o _usage.o -lutil -lrc -leinfo -Wl,-Bdynamic -ldl
    ld: rc-logger.o:/home/slyfox/dev/git/openrc/src/rc/rc-logger.h:16:
      multiple definition of `rc_logger_pid'; rc.o:openrc/src/rc/rc-logger.h:16: first defined here
    ld: rc-logger.o:/home/slyfox/dev/git/openrc/src/rc/rc-logger.h:17:
      multiple definition of `rc_logger_tty'; rc.o:openrc/src/rc/rc-logger.h:17: first defined here
    ```
    
    gcc-10 will change the default from -fcommon to fno-common:
    https://gcc.gnu.org/PR85678.
    
    The error also happens if CFLAGS=-fno-common passed explicitly.
    
    This fixes #348.

commit 6deda13754f1b60245945e953cce8d97e40e86fc
Author: Wolf <wolf@wolfsden.cz>
Date:   Fri Oct 4 15:24:32 2019 +0200

    supervise-daemon: Fix segfault when executable does not exist
    
    When executable is provided just by name (and therefore searched in a
    path), exec_file is reset to NULL every time. exists() handles it being
    NULL just fine, but dereferencing it in eerror does not work.
    
    Fixes #326
    Fixes #327

commit eb610859519292c6164c4ba601d22e642c306beb
Author: artoo <artoo@artixlinux.org>
Date:   Sat Oct 5 16:32:21 2019 +0200

    binfmt: ensure a file is ungegistered before registering
    
    This fixes #328

commit 039845b742e40752b05ef9393d5a6959d55fe0b6
Author: Andrew Scheller <github@loowis.durge.org>
Date:   Sun Nov 17 17:53:48 2019 +0000

    Fix typo in README
    
    This fixes #338

commit a7e7fd2b37a7666f26c2d4de9386b2d04f583b41
Author: Ethan Sommer <e5ten.arch@gmail.com>
Date:   Thu Jan 2 09:28:25 2020 -0500

    make grep usage POSIX compliant
    
    use grep -E instead of egrep
    check for space or end of line instead of GNU-specific word boundary
    
    This fixes #345

commit 12e147a107c6e27172734c660624343a3c092437
Author: Jason Bowen <jbowen@infinitecactus.com>
Date:   Fri Jan 10 01:21:10 2020 -0600

    Delete stray text.
    
    It looks like some stray text was left at the bottom of the file:
    ```
    package.
    migrating your system to openrc-init.
    ```
    There's a subsection on migrating a system to `openrc-ini`; perhaps this was
    an embryonic section title?
    
    This fixes #347.

commit fd852865e06a74ecf8b77ff534fa8053e020160f
Author: William Hubbs <william.hubbs@sony.com>
Date:   Thu Dec 5 12:10:46 2019 -0600

    openrc-shutdown.c: typo fix

commit 35ec935741ffb571cacf763dcca98661c0cfb296
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Oct 23 16:14:01 2019 -0500

    ci/travis.sh: run shellcheck on shell scripts

commit 19cfd82dadf2e52299cf3752deb04562be52145c
Author: Austin English <austinenglish@gmail.com>
Date:   Wed Oct 23 16:11:11 2019 -0500

    .travis.yml: install shellcheck

commit 87cfad3d6cd619c6090e8209092448ae68279b0c
Author: E5ten <ethancsommer@gmail.com>
Date:   Tue Aug 27 11:48:21 2019 -0400

    cgroup2_set_limits: verify that the cgroup2 path is a mount point
    
    prior to cgroups getting mounted, /sys/fs/cgroup will still exist,
    but attempts to make directories in it will fail, change cgroup2_set_limits() to
    verify that cgroups are mounted instead of just checking that /sys/fs/cgroup
    exists.
    
    This fixes #307.
    This fixes #321.

commit 8e31614c4b6679fc1bc1f1d1e0779dcedd066a5a
Author: William Hubbs <william.hubbs@sony.com>
Date:   Tue Aug 20 16:06:46 2019 -0500

    fix clang build

commit a177d15641b438fc9998642df9dc81c67babe62e
Author: William Hubbs <william.hubbs@sony.com>
Date:   Tue Aug 20 13:13:30 2019 -0500

    version 0.42

commit 2b4c4860432d07015358bff895cd14c35618ba03
Author: William Hubbs <william.hubbs@sony.com>
Date:   Tue Aug 20 13:09:50 2019 -0500

    Update ChangeLog

commit ed24d281631d564321d099a0d5e78be232d7de78
Author: William Hubbs <william.hubbs@sony.com>
Date:   Tue Aug 20 12:56:47 2019 -0500

    update sysvinit support files

commit 1bc96141e6846a5f9b3cf2c2bcaf53f2ed9ca33d
Author: William Hubbs <william.hubbs@sony.com>
Date:   Mon Aug 19 14:55:54 2019 -0500

    fix single user mode

commit c7000aeaabf34262375a2a96b5d5b8f7fcd8a793
Author: William Hubbs <william.hubbs@sony.com>
Date:   Thu Aug 15 18:40:05 2019 -0500

    optimize loops for installing gettys

commit 5c5129b534bd8a0ebd0e525c87241d6c6ef0ec8c
Author: William Hubbs <william.hubbs@sony.com>
Date:   Thu Aug 15 18:35:30 2019 -0500

    Remove "single" runlevel directory
    
    Single user mode should be handled in the init process directly.

commit 0dabda6f6ff3744c6f1b1d2afd57845554384977
Author: William Hubbs <william.hubbs@sony.com>
Date:   Thu Aug 15 12:02:30 2019 -0500

    fix sysvinit compatibility
    
    This allows openrc to direct sysvinit to shut down the system by setting
    the INIT_HALT environment variable appropriately. Also, we do not try to
    communicate with sysvinit if its fifo does not exist.

commit 92de9a693b0e4156e404bc69ab230fe2355c22ca
Author: William Hubbs <william.hubbs@sony.com>
Date:   Fri Aug 2 16:29:03 2019 -0500

    Add documentation for openrc-init and update the NEWS file

commit a71aebcae123d2684c4a326559749bc94b2796be
Author: William Hubbs <william.hubbs@sony.com>
Date:   Mon Jul 29 16:41:25 2019 -0500

    init.d/agetty: provide the getty virtual service

commit 61596b16d228c15888033da3b4138c1e405e1cb9
Author: William Hubbs <william.hubbs@sony.com>
Date:   Mon Jul 29 16:34:10 2019 -0500

    Install gettys if the MKSYSVINIT switch is set to yes
    
    The default is to put one getty in the "single" runlevel and 6 in the
    "default" runlevel.

commit 104eb3420b9332b441ce9965ef69ba5b099519ae
Author: William Hubbs <william.hubbs@sony.com>
Date:   Mon Jul 29 16:24:52 2019 -0500

    Add the "single" runlevel

commit 70b8df3e9c7fed156e1a81ee7efe8a51c1010cb6
Author: Chloe Kudryavtsev <toast@toast.cafe>
Date:   Sun Jun 9 23:51:06 2019 -0400

    clarify supervise-daemon-guide
    
    1. The given default for respawn_max is wrong.
    2. The example for respawn_period is nonsensical.
    
    This fixes #311.

commit cac41092e4180a8d16edacab0c8552585d94328b
Author: William Hubbs <william.hubbs@sony.com>
Date:   Mon Jul 22 18:29:27 2019 -0500

    add ability for openrc-shutdown to communicate with sysvinit
    
    This fixes #315.

commit 7ddc281ab6fd11b63f41059818b0de4748e2821f
Author: Martin Wilke <miwi@ixsystems.com>
Date:   Wed Jul 24 01:26:44 2019 +0800

    Fix  build with Clang
    
    This fixes #313.

commit c092ff6da174c12b913027ffa33d32622d39b9a0
Author: William Hubbs <william.hubbs@sony.com>
Date:   Mon Jul 22 10:19:30 2019 -0500

    Add Sony Interactive Entertainment as an author

commit 54780a45826f789f1291742eb2c99be369bfe64c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Mar 29 14:09:08 2019 -0500

    supervise-daemon: allow --respawn-max to be zero

commit 44f5a72d1aeb131cc2cb464a53809a5a8d90c46e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Feb 26 16:08:55 2019 -0600

    remove hidden-visibility.h
    
    I am removing this on the advice of a member of the Gentoo toolchain
    team. It was explained to me that this doesn't offer any significant
    benefits to OpenRC.
    
    If anyone ffeels differently, please open a pull request reverting
    this and adding an explanation of what it does and how to know which
    functions to mark hidden in the future.
    
    This fixes #301.

commit 0d378974bfbd69c5427d44c0a43a9f36389aa235
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Feb 25 17:32:12 2019 -0600

    openrc-init: fix waitpid checks
    
    The do_openrc() function was not waiting properly for the child process
    which started the runlevel to return. We need to repeatedly call
    waitpid() until its return value matches the pid of the child process or
    the child process does not exist.
    
    This fixes #216.
    This fixes #300.

commit 028da5c2e37d81d4e242a546eb48a20eafe0cc56
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Feb 23 17:25:16 2019 -0600

    librc: fix potential buffer overflow in pid_is_argv
    
    This fixes #299.

commit d8dbb890aaca34fc9b342772de0f23a7ea3efaaa
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Feb 23 15:42:09 2019 -0600

    Revert "src/librc/librc-daemon.c: fix buffer overrun in pid_is_argv"
    
    This reverts commit 084877eb52971faf8f52c780ddd08ed9af140eb6.
    The mentioned commit caused some systems to have some services reported
    as crashed.
    
    This fixes #297.
    This fixes #298.

commit 56c006ebd68d572e303c01c38291a1f5f4fc1c30
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Feb 22 19:03:41 2019 -0600

    Update ChangeLog

commit 067088bbff42ca2fb9106acf309f1d9ce3e78ada
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Feb 22 18:21:44 2019 -0600

    move ci scripts to their own directory
    
    This fixes #296.

commit 52d4e566743f57b9de81c77fdb605c171c02eacb
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Feb 22 15:19:33 2019 -0600

    combine test directories
    
    This fixes #295.

commit 6e6902c28b715826fdfc7b42a592db88459b9a57
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Feb 22 16:27:52 2019 -0600

    remove unused test ignore patterns

commit 084823182aec4aef6fb880d642bba2d0ef91a3ad
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Feb 22 13:25:51 2019 -0600

    remove unused test data files

commit 7478c104fc479067d71d191dccfa4cbf541311d8
Author: Georgy Yakovlev <gyakovlev@gentoo.org>
Date:   Thu Feb 21 14:24:44 2019 -0800

    librc/librc-depend.c: fix NULL pointer dereference
    
    In some cases deptree or depinfo can be NULL, check
    before dereferencing.
    
    Fixes https://github.com/OpenRC/openrc/issues/293
    Fixes https://github.com/OpenRC/openrc/pulls/294
    X-Gentoo-Bug: 659906
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/659906

commit 065b7ecc0d4ddd046cc235d60de20140db1a6fe8
Author: Georgy Yakovlev <gyakovlev@gentoo.org>
Date:   Wed Dec 5 11:41:56 2018 -0800

    use cirrus-ci for FreeBSD builds
    
    This fixes #265.

commit b054aca50b31fc46fc736a542ec2719de2d23d30
Author: Sergei Trofimovich <slyfox@gentoo.org>
Date:   Sun Feb 17 16:33:05 2019 +0000

    src/test/runtests.sh: drop 'readelf'-based tests
    
    The 'readelf'-based tests cover a few situations:
    1. undefined symbols in shared libraries
    2. unexpected exports in shared libraries
    
    Bug #575958 shows that [2.] implementation is too simplistic
    in assuming that presence of relocation equals to export presence.
    
    It is incorrect for PLT stubs and local symbols.
    Let's just drop these tests.
    
    If one needs to cover [1.] it is better to use LDFLAGS=-Wl,--no-undefined.
    
    This closes #292.
    
    X-Reported-by: Benda Xu
    X-Gentoo-Bug: https://bugs.gentoo.org/575958
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/575958

commit f9e7a00ba9c9b179c697fc0af83a19e923c831b0
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Feb 15 20:36:46 2019 -0600

    rc-status: style fixes

commit f1f48011acb266db309922f145653b86f11e0baf
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Feb 15 14:37:57 2019 -0600

    update ChangeLog

commit 427a1ce2995b376ed6d112c5c5b422217f815fbb
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Feb 15 14:21:43 2019 -0600

    rc-status: add -f option to allow formatting output
    
    The -f option can be used when showing the status of services in
    runlevels to allow making the output more easily parsable.
    Currently, the .ini format is the only one supported.

commit f43cec34ca0201031fc10b584bcb391859f302cd
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Feb 14 13:14:31 2019 -0600

    rc-status.c: small style changes

commit d64c9d205083ca82823f9f5ff178a5581f6c8b2a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Feb 7 17:08:12 2019 -0600

    add experimental support for an alternate shell for service scripts
    
    This is for #288.

commit b2b2c57a3898c945b33b8bf0a10b658483be09c1
Author: Edan Bedrik <3d4nb3@gmail.com>
Date:   Tue May 8 11:30:01 2018 +0300

    librc: fix realpath() return value check
    
    This fixes #226.

commit 155b8451945f8a17cd61ad56be3bb09541c3719a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Feb 6 16:53:49 2019 -0600

    improve shutdown documentation
    
    This fixes #290.

commit 9b578808fb67682780adb17157330934a5c2cce7
Author: Austin English <austinenglish@gmail.com>
Date:   Wed Nov 28 11:45:23 2018 -0600

    travis: try enabling musl-gcc
    
    This fixes #261.

commit 03164dd38d9e8d9a93141e5d6b495f306875bcd9
Author: Austin English <austinenglish@gmail.com>
Date:   Sun Dec 2 00:43:48 2018 -0600

    fix build with muslc
    
    This fixes #261.

commit 2b82766452adec4eb99f61902d62f0fa2e369fa4
Author: Austin English <austinenglish@gmail.com>
Date:   Sat Nov 17 01:36:56 2018 -0600

    test/skel.runtests.sh: remove unused file
    
    git grep shows no usage, and `make test` passes
    
    This fixes #256.

commit 3eef6e91274f2e07bd566f206e89d9b0b9c45fb9
Author: Felix NeumÃ¤rker <xdch47@posteo.de>
Date:   Fri Jan 18 23:20:38 2019 +0100

    zsh-completion: _rc-service support extra actions
    
      - use rc-service <service> describe to get action list
    
    This is for #285.

commit 77f09900a2e0eeb1475e9ee404b6e7ff76ff8e9d
Author: Felix NeumÃ¤rker <xdch47@posteo.de>
Date:   Fri Jan 18 23:18:02 2019 +0100

    zsh-completion: _rc-service fix flag/command combinations
    
      - handle `rc-service -<flag> <service> <action>` correctly
    
    This is for #285.

commit 50d77a4e5d8c321cc89565295db13e60b2fb2cc7
Author: Kim Jahn <kim@maisspace.org>
Date:   Tue Jan 15 22:25:22 2019 +0100

    man/openrc.8: add openrc-run.8  to see also
    
    This fixes #283.

commit 2d31b0a3f8b4be7290e596cb7072b78361e1734b
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Jan 1 18:36:40 2019 -0500

    man: supervise-daemon: fix various style issues
    
    The .Dt header is supposed to be all caps.  This was mixing case.
    
    The options block was being incorrectly indented due to a missing .El.
    
    Some of the new options were missing the .It block, so add that.
    
    Finally, the -D option was missing capitalization.

commit b84d0bac4d3f23ff969827d74808fd7bd1c621c3
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Dec 29 11:37:06 2018 -0600

    travis-ci: add IRC notifications

commit 1ff3a37c60e89da31c5c06bb4edd184770c91923
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Dec 28 09:31:38 2018 -0600

    start-stop-daemon: fix compiler warning

commit 7e95d924c9067d9d643fc3b533f777ea7a5234d7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Dec 27 16:31:15 2018 -0600

    bash-completions/rc-service: allow tab to be used again
    
    X-Gentoo-Bug: 670290
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/670290

commit a15b532a02094b3afe9d698f6b98e70f0fd4506a
Author: artoo <artoo@artixlinux.org>
Date:   Thu Dec 13 11:55:25 2018 +0100

    scripts: fix halt, poweroff and reboot wrappers
    
    These are designed to emulate the sysvinit equivalents, so pass "now" as
    the time argument if no arguments are given.
    
    This fixes #268.

commit 3e00fbc9b08dde9e2c7fc26ecb9e831417012dd1
Author: philhofer <phofer@umich.edu>
Date:   Thu Dec 27 10:06:01 2018 -0800

    fix leading whitespace
    
    Clean up code indented with mixed tabs and spaces.
    No actual code changes.
    
    This fixes #280.

commit 846e4600754dab3f0cb49edb4ad9e2b2b73d3f47
Author: philhofer <phofer@umich.edu>
Date:   Tue Dec 18 21:02:24 2018 -0800

    fix potential out-of-bounds reads
    
    readlink(3) does not nul-terminate the result it sticks
    into the supplied buffer. Consequently, the code
    
      rc = readlink(path, buf, sizeof(buf));
    
    does not necessarily produce a C string.
    
    The code in rc_find_pid() produces some C strings this way
    and passes them to strlen() and strcmp(), which can lead
    to an out-of-bounds read.
    
    In this case, since the code already takes care to
    zero-initialize the buffers before passing them
    to readlink(3), only allow sizeof(buf)-1 bytes to
    be returned.
    
    (While fixing this issue, I fixed two other locations that
    used the same problematic pattern.)
    
    This fixes #270.

commit a32b14bbb43e9888acaaea6f764fb8dcb34fb941
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Dec 25 12:13:23 2018 -0600

    Do not use UT_LINESIZE or __UT_LINESIZE
    
    These are not standard.
    For more information see issue #279.
    This fixes #279.

commit 084877eb52971faf8f52c780ddd08ed9af140eb6
Author: philhofer <phofer@umich.edu>
Date:   Tue Dec 18 20:36:26 2018 -0800

    src/librc/librc-daemon.c: fix buffer overrun in pid_is_argv
    
    The contents of /proc/<pid>/cmdline are read into
    a stack buffer using
    
      bytes = read(fd, buffer, sizeof(buffer));
    
    followed by appending a null terminator to the buffer with
    
      buffer[bytes] = '\0';
    
    If bytes == sizeof(buffer), then this write is out-of-bounds.
    
    Refactor the code to use rc_getfile instead, since PATH_MAX
    is not the maximum size of /proc/<pid>/cmdline. (I hit this
    issue in practice while compiling Linux; it tripped the
    stack-smashing protector.)
    
    This is roughly the same buffer overflow condition
    that was fixed by commit 0ddee9b7d2b8dea810e252ca6a95c457876df120
    This fixes #269.

commit 97e74f97347f5798e01a47057efab00906754546
Author: philhofer <phofer@umich.edu>
Date:   Sun Dec 23 12:10:56 2018 -0800

    src/rc/supervise-daemon.c: formatting fixes
    
    Fix misleading indentation and other erroneous whitespace.
    This fixes #273.

commit d328de198d0ad980188b105decc09405652aa3d6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Dec 23 18:30:32 2018 -0600

    remove /run migration script again
    
    This time it was done correctly.
    I missed a '\' the last time.

commit a9fc26ac1367ac887eab76007e8834dfe787edcd
Author: philhofer <phofer@umich.edu>
Date:   Sun Dec 23 12:42:33 2018 -0800

    src/rc/supervise-daemon.c: do not pass NULL to strcmp
    
    The following will cause a segfault due to NULL being
    passed to strcmp(3)
    
    $ RC_SVCNAME=foo supervise-daemon
    
    Fix the bounds check on argc in main. If argc<=1, then
    it is not safe to dereference argv[1].

commit 40f70466969b340ee5e277c98a4b27a9117b795e
Author: philhofer <phofer@umich.edu>
Date:   Sun Dec 23 13:28:25 2018 -0800

    src/rc/openrc-run.c: remove duplicate statement
    
    The statement
    
      ll = strlen(applet);
    
    appears twice in the same block without any
    intervening assignment to the variables
    'll' or 'applet'
    
    Remove the second (duplicate) statement.

commit 894995176e827eef16bf90b6479b7c285677ceef
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Dec 23 18:13:06 2018 -0600

    Revert "remove /run migration script"
    For some reason removing this broke the build.
    
    This reverts commit 5246ea7b6f8c6a247403f725f8301457f6ddfffd.

commit 5246ea7b6f8c6a247403f725f8301457f6ddfffd
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Dec 23 17:46:57 2018 -0600

    remove /run migration script
    
    We have used /run for some time now and we have had this migration
    script for 6 years. Linux users should have upgraded by now to a version
    of OpenRC which stores its information in /run.

commit ed8b768c4a68042eed0c21c8305640841b22f006
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Dec 21 12:06:15 2018 -0600

    fix compiler warnings

commit 825caa14de6160c966d44d64d5c0254f4038d9a0
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Dec 20 17:39:31 2018 -0600

    supervise-daemon: do not use the exec_service() function
    
    In order to run healthcheck() and the unhealthy() function, add an
    exec_command call to the supervisor.
    Another difference is This function also logs errors instead of
    attempting to display them.
    
    This is for #271.

commit d5c396cbfc49ce88f58d944c8ab01d2c36ccdc7b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Dec 18 11:29:10 2018 -0600

    Add debug logging to start-stop-daemon and rc-supervisor
    
    This will make it easier to track down why the supervisor intermittently
    hangs after it runs for a long time.

commit 5427783fdf3d183ea4e63afc507c31d88f0d2c9c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Dec 7 13:41:06 2018 -0600

    standardize the default shell
    
    I do not know of a need to have the default shell be a build-time
    configurable setting. All *nix systems I am aware of have /bin/sh as a
    default posix compatible shell.
    If some systems running OpenRC do not make that assumption about
    /bin/sh, I will consider bringing this back, so feel free to open an
    issue.

commit d95425b08a1675efb66def056d0f92e6b2d78a77
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Dec 7 15:31:13 2018 -0600

    rc-cgroup.sh: remove shebang line
    
    This is not a stand-alone script, so it does not need the shebang line.
    This also means it is not necessary to run this through sed.

commit 76420d9849e6832a52aa4c1ba1fd2895b7d51a08
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Dec 6 16:37:40 2018 -0600

    init.d/agetty: set default respawn period to 60 seconds
    
    Without a respawn period setting, the supervisor will give up on
    respawning agetty after it is respawned respawn_max times. For most
    daemons giving up like this is reasonable, but not for agettys. Agettys
    should always be respawned unless they are respawning too fafst,.
    
    If an agetty is respawning faster than 10 times in 60 seconds, this
    seems to be too fast.

commit bebc604438f9586f26d0cad8bd72749ae84b4335
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Dec 5 18:11:40 2018 -0600

    supervise-daemon: fix busy loop
    
    This fixes #264.

commit 9dae4f2e38ceae227933673e25db9583e8f610a6
Author: Alexander Zubkov <green@msu.ru>
Date:   Fri Aug 24 17:42:15 2018 +0200

    supervise-daemon: redirect std{in,out,err} to /dev/null after demonizing
    
    This fixes #239.

commit d126542dc626c8295b0f2cfcdee7bf5aa79daff1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Dec 3 18:14:34 2018 -0600

    version 0.41

commit ab6c8d56f155564f56d61553c4b1af9e7f63a9d2
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Dec 3 15:56:19 2018 -0600

    Update ChangeLog

commit fb4dd351c7ef2614076309d630e163ff963ac8bf
Author: Austin English <austinenglish@gmail.com>
Date:   Mon Dec 3 13:53:14 2018 -0600

    misc: make checks always fatal
    
    This fixes #263.

commit 10dc65cc46e4f16f1b1f9822f3b687f2e58e4b40
Author: Austin English <austinenglish@gmail.com>
Date:   Mon Dec 3 13:52:53 2018 -0600

    src/rc/supervise-daemon.c: fix style issue
    
    This is for #263.

commit 9a2115f7620b33e03592fb1eabe5a613984a9894
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Dec 3 15:16:17 2018 -0600

    rc-status: show status for supervised services instead of a list

commit eeba6df4761777be5af7f9a2876223155921ee37
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Dec 3 13:08:25 2018 -0600

    Update supervise-daemon man page

commit ac42e81a6419b281ed3f62900e29a5a802106dce
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Dec 3 12:43:12 2018 -0600

    supervise-daemon.sh: drop the unused stopsig variable

commit af70862a7a115d6269affca663423e9340d6e929
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Dec 2 15:15:51 2018 -0600

    supervise-daemon: use a default pid file if one is not specified
    
    Since the pid file is internal to us, start moving toward deprecating it
    by not requiring the user to specify it.
    In the next release, I plan on working on code to start phasing out the
    use of a pid file if this is possible.

commit fa6611b5af94548e901e587fcd36f4fb59124975
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Dec 2 10:13:10 2018 -0600

    rc-status: add --supervised option to show supervised services

commit db01442580847d36f232527200e50091431c32b5
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Nov 30 18:46:25 2018 -0600

    rc-status: show failed services as failed

commit ebf79db79eaa2df0ceb62b4edbef94e68a28b612
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Nov 30 18:07:16 2018 -0600

    supervise-daemon: mark a service failed if it respawns too many times

commit 1b5a3b4ef4b2c3e20cfe4a71cf38c63279ed42d2
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Nov 30 17:10:47 2018 -0600

    supervise-daemon: make respawn-max and respawn-period independent settings

commit 77262c359c4aaf15ba00b07cd51f3987ce514769
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Nov 30 11:45:48 2018 -0600

    supervise-daemon: add support for a fifo
    
    This will allow us to signal the daemon we are supervising as well as
    send other commands to the supervisor in the future.
    
    This fixes #227.

commit 7f23e0461d6c6d24f5cfa39b9e404a7ec9cfd9c1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Nov 30 11:43:31 2018 -0600

    supervise-daemon: rework signal handling and main loop
    
    This is needed in preparation for adding support for a fifo to allow us
    to communicate with the supervisor to ask it to signal the child it is
    supervising.

commit ff4af908a58eedf9a165946f109f06add23fff9c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Dec 2 16:08:42 2018 -0600

    Revert "checkpath: use O_PATH when available"
    
    This reverts commit 2af0cedd5952d7da71681b7a636dff3540e4295d.
    
    After speaking with Luis Ressel on the Gentoo selinux team, I am reverting
    this commit for the following reasons:
    
    - Luis told me that he feels this is not the solution we need to address
      the concern with checkpath; I will be working with him on another
      solution.
    
    - There are concerns about the way the path variable was handled
      and the assert() call.
      The path variable should be dynamically allocated using xasprintf
      instead of defining a length at compile time. This would eliminate the
      need for the assert() call.
    
    - It introduces the definition of _GNU_SOURCE which makes it
      easier to introduce portability concerns in the future (see #262).

commit 2af0cedd5952d7da71681b7a636dff3540e4295d
Author: Mike Gilbert <floppym@gentoo.org>
Date:   Sat Dec 1 23:36:27 2018 -0500

    checkpath: use O_PATH when available
    
    This avoids opening directories/files with read permission, which is
    sometimes rejected by selinux policy.
    
    Bug: https://bugs.gentoo.org/667122

commit ee41e444ad18192fa34f598464e3ac52f323e27e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Nov 29 08:18:06 2018 -0600

    rc.conf: typo fix
    
    X-Gentoo-Bug: 670874
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=670874

commit b7828651babd20fb6cc11aed91721e103ccbb3e1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Nov 28 16:06:07 2018 -0600

    supervise-daemon: fix type of exiting flag

commit e96f7d5658950ddee68e54fba4b6321b9a6a2ed8
Author: Austin English <austinenglish@gmail.com>
Date:   Fri Oct 19 14:59:23 2018 -0500

    src/tests/runtests.sh: add a FATAL_CHECKS variable to make whitespace/etc. fatal

commit 28b73fc524096d5b2205fea25943410725d6227f
Author: Austin English <austinenglish@gmail.com>
Date:   Fri Oct 19 14:57:09 2018 -0500

    src/rc/openrc-shutdown.c: fix style

commit 7a00c63420f81797b3e0cc402f756b63fe06f7d4
Author: Austin English <austinenglish@gmail.com>
Date:   Fri Oct 19 14:56:35 2018 -0500

    fix misc whitespace issues

commit f4597c546a998085e09880aa6663d1d6ee05fac4
Author: Austin English <austinenglish@gmail.com>
Date:   Fri Oct 12 17:20:58 2018 -0500

    give TravisCI a try

commit e10afc8e757fb914e632e9c40fc6e589e6d47580
Author: Austin English <austinenglish@gmail.com>
Date:   Sat Nov 17 05:18:18 2018 -0600

    sh/functions.sh.in: return a different value for invalid input in yesno()

commit 0f704402a236d385e8b30083ccf9aca327c0a57e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Nov 15 14:15:06 2018 -0600

    supervise-daemon: make the pidfile an implementation detail
    
    The pidfile of the supervisor doesn't need to be adjustable by the
    service script. It is only used so the supervisor can stop itself when
    the --stop option is used.

commit 2504a2c25bc0587b36d81a2d85c203b20e2d40cf
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Nov 14 17:44:03 2018 -0600

    Do not complain if interrupted by a signal
    
    In start-stop-daemon and rc-schedules, we were printing out a warning if
    the nanosleep call was interrupted by a signal, but we did not treat
    this as an error situation other than displaying the message, so there
    is no need for the message.

commit 7eb3975543eafd44c6946ca5a76812aa0d7a7303
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Nov 6 16:34:14 2018 -0600

    Create save-keymaps and save-ktermencoding services
    
    These services represent the parts of the keymaps and termencoding
    services which saved the settings back to the root file system so they
    can be loaded very early in the boot process.
    These are needed to allow keymaps and termencoding to run earlier in the
    boot sequence.
    
    X-Gentoo-Bug: 446018
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=446018

commit 60e60dc9bbf0e3a18d897861367d9289ae8006d6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Nov 6 10:54:02 2018 -0600

    supervise-daemon.sh: drop invalid --signal switch
    
    This fixes #230.

commit 008c9d0036e348242e323c0b5a66f3724b4a839d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Nov 5 21:35:00 2018 -0600

    supervise-daemon: reap zombies
    
    We need to make sure to reap zombies so that we can shut down
    successfully.
    
    Fixes #252.
    Possibly related to #250.

commit 025c9693ccab9c6220520ace47aa81553e7ea600
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Nov 5 11:39:39 2018 -0600

    rc-service: fix help output

commit ee3c4afdb75b98cd472b7ffbb46adc9d8a1e1b15
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Nov 2 18:22:11 2018 -0500

    openrc-init: add SELinux support
    
    This is for #173.

commit e2416d089396e2b9a72cc56ef9f57886ffb0f1c8
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Oct 24 15:24:29 2018 -0500

    openrc-shutdown: do not require a time for -w switch
    
    X-Gentoo-Bug: 669500
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=669500

commit a2bcfeb42882b40ca23ddfefca2a17a7988f8082
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Oct 24 15:18:10 2018 -0500

    version 0.40

commit 53f7afd3b3daf659d58d6545dc79cd45c4c54277
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 23 17:14:01 2018 -0500

    Update ChangeLog

commit 75e9b66f6ff36d06bf1f8bd4824000f9f26106e0
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 23 16:59:20 2018 -0500

    news.md: add information about the modules service changes

commit d70b1c55b67b44b98c23ceed25bc428481f7e00a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 23 16:47:37 2018 -0500

    modules: Add --first-time switch to modprobe commands
    
    On Linux, kernel modules should be loaded once during boot, either in an
    initramfs or by this service.
    
    This does not change anything other than printing out messages if a
    module is loaded more than once.
    
    X-Gentoo-Bug: 659530
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=659530

commit c1e582586d398b4452f568240985247294f645ef
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 9 17:49:02 2018 -0500

    supervise-daemon: add health checks
    
    Health checks are a way to monitor a service and make sure it stays
    healthy.
    
    If a service is not healthy, it will be automatically restarted after
    running the unhealthy() function to clean up.

commit 7a75bfb00c52687a236c92bec78b5e7ab4844701
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 23 13:34:08 2018 -0500

    news.md: add note about scheduled shutdown

commit aacf841de4983ab33755081a6f69cdf5e3a47007
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Oct 22 17:49:25 2018 -0500

    supervise-daemon-guide.md: re-format and add more variables

commit 3f918161aafa61c1c2005709fda0b9bec4c412d8
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Oct 5 14:10:59 2018 -0500

    openrc-shutdown: Add scheduled shutdown and the ability to cancel a shutdown
    
    You can now schedule a shutdown for a certain time or a cpecific number
    of minutes into the future.
    
    When a shutdown is running, you can now cancel it with ^c from the
    keyboard or by running "openrc-shutdown -c" from another shell.

commit 710c874e6e3bc57b1561eb8f2108244bf24ed32e
Author: Zac Medico <zmedico@gmail.com>
Date:   Sat Oct 13 12:32:45 2018 -0700

    supervise-daemon: fix respawn_max off by one
    
    Fix the comparison between respawn_count and respawn_max so that
    respawn_max = 1 will allow for one respawn. Since respawn_count is
    incremented before the comparison, use a 'greater than' comparison
    so that respawn will be triggered when respawn_count is equal to
    respawn_max.
    
    Fixes: https://github.com/OpenRC/openrc/issues/247
    Fixes: https://github.com/OpenRC/openrc/issues/248

commit 07908be0903229a69b9e0f733ed13eeff0b55a44
Author: Austin English <austinenglish@gmail.com>
Date:   Fri Oct 12 17:16:33 2018 -0500

    misc: style fixups

commit 02af093043a7444381b0d8a0a3e8e97247505f95
Author: Austin English <austinenglish@gmail.com>
Date:   Fri Oct 12 17:16:23 2018 -0500

    misc: whitespace fixes

commit 67e2d6033dd7ac6db0269ee060ed20484825ff9f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 9 11:34:52 2018 -0500

    Complete implementation of forever timeout value in stop schedules

commit eca4357892315ca7340bbfc2b373d7660a34142f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Oct 6 12:51:04 2018 -0500

    supervise-daemon: use nanosleep() instead of sleep()
    
    We will be using sigalrm in this process for health checking, and
    sigalrm cannot be used with sleep() safely.

commit 7ee3e5b2d6dbb9c279011b59ec132d27d04f843e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Oct 6 12:49:44 2018 -0500

    openrc-init: convert sleep() call to nanosleep()
    
    Nanosleep is the safer call to use in case we need to use alarms
    eventually.

commit 7cb8d943236fe651ac54c64f8167f7c4369f649c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Aug 14 10:21:27 2018 -0500

    Stop mounting efivarfs read-only
    
    We do not need to do this any longer since all supported linux kernels
    make efivarfs immutable and the tools that manipulate it are aware of
    this feature.
    
    This fixes https://github.com/openrc/openrc/issues/238.

commit 84ed570eaefcbb55b99ba425030bf7d1d1d46137
Author: Zac Medico <zmedico@gmail.com>
Date:   Mon Aug 6 14:50:41 2018 -0700

    librc: fix EACCES errno false-positive crash
    
    Use errno != EACCES to fix false-positive for non-root users
    with grsecurity kernels.
    
    Fixes: 37e29442721a ("librc: Add check for crashed state")
    This fixes #237

commit 2eea73bfd5ce2f9993d52293fe7d25c0c804d592
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Jul 9 18:02:54 2018 -0500

    rc-functions.sh: Remove addon support
    
    This is an old relic from Gentoo baselayout-1.x which should not be used
    any longer.

commit a571a42421b337380b6f5751635c55906bb8b508
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jun 29 15:29:46 2018 -0500

    modules: remove the ability to rename modules on the fly
    
    Kmod doesn't support the -o switch, so if you have been using this your
    module loads have been failing.

commit 79648ac1c6355975abca6acf6076e7022037523f
Author: Holger HoffstÃ¤tte <holger@applied-asynchrony.com>
Date:   Thu Jun 28 23:08:57 2018 +0200

    rc-status: initialize uptime pointer to prevent memory corruption
    
    This fixes #231.

commit 02af762e83640ec23bf64c5b814f0d3424d90e10
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jun 28 13:32:19 2018 -0500

    version 0.39

commit 01c34c28e6d6d7bfecc0f88bdf1fb15e97ab8823
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jun 28 13:02:42 2018 -0500

    Update ChangeLog

commit 56ddda54b5aa01474bf563d5a662075c35152858
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jun 27 17:37:11 2018 -0500

    supervise-daemon.c: clean up memory leaks

commit 3a803b3135837665d51ef4dd7a8b913c78e71ff6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jun 27 12:06:19 2018 -0500

    librc-daemon.c: fix memory leaks

commit 72df51e17ba0e1a0f94451b4bbfb338288c4625c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jun 22 15:41:25 2018 -0500

    librc-daemon: convert most snprintf calls to xasprintf

commit b2f5531194e33c229462e9f52fa1d9388463f7b7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jun 20 17:45:01 2018 -0500

    librc-misc: convert snprintf calls to xasprintf

commit 19bf49a710f27d4774ed4c6372d87d6ba15f189e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jun 20 12:36:51 2018 -0500

    libeinfo: convert remaining snprintf calls to xasprintf

commit 64354831da2adeba5cb2f91a81fa0f56e1ce4ed9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jun 20 09:37:20 2018 -0500

    openrc: convert snprintf calls to xasprintf

commit e14edd765fdc4ed43356d2eef35fa99228e5d461
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jun 19 17:57:10 2018 -0500

    supervise-daemon: convert snprintf calls to xasprintf

commit f9d41243d8499c5d7027177d5aa716d5b5859cd6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jun 19 17:46:12 2018 -0500

    start-stop-daemon: convert snprintf calls to xasprintf

commit be7ad06d4a0efce2a1144b2cf6f0cc361f2a81e4
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jun 19 17:06:33 2018 -0500

    rc-status: convert snprintf calls to xasprintf

commit a6165168953b9c7a62c089ce946476b23b73fb12
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jun 19 16:15:22 2018 -0500

    rc-status: fix gcc 7 warnings

commit 04721ece03b15503aa220f60e7c6159d01ee75e1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jun 19 15:32:10 2018 -0500

    start-stop-daemon: fix gcc 7 warnings

commit c7e8f1133a42152cc293e6b637985f81bcf8b310
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jun 19 14:01:54 2018 -0500

    checkpath: fix gcc 7 warnings

commit 47e4bfae57402eedd017d6098b432c2c411cd374
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jun 19 13:59:16 2018 -0500

    fix gcc 7 warnings in pipe routines

commit 8a945194afb106428bc700e751078ef9944ee617
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jun 19 13:52:40 2018 -0500

    libeinfo: clean up gcc 7 compiler warnings

commit aa4a004c297ec7a1fb794ad2e53ef3ac8b3f4fd1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Jun 17 12:45:51 2018 -0500

    version 0.38

commit 9ec5d36bdddf5bb0e96b0c561bc5d013a8a2da2a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jun 15 18:04:43 2018 -0500

    Update ChangeLog

commit a097933edab9d7221df1831e098415d604437c98
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jun 15 17:44:39 2018 -0500

    sh/start-stop-daemon.sh: fix processing of the logger arguments

commit a6f5b1bb63070c24145df72040fa7b465948003c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jun 15 12:59:13 2018 -0500

    Update ChangeLog

commit e6d01471fe2a8eb8a15bb906d7c91c11805d1bef
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jun 15 12:23:50 2018 -0500

    start-stop-daemon: add ability to log stdout or stderr to processes

commit d4501a9f06c807f87be04f128e535a74b370fdb4
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jun 14 14:55:42 2018 -0500

    fix a typo

commit ec8abea4605395a2a59b26906ce4677a578e3c60
Author: Mike Gilbert <floppym@gentoo.org>
Date:   Wed Jun 13 13:49:42 2018 -0500

    Add helper to spawn process with stdin connected to a pipe

commit e4ddfa38e0e0318abf442b7aa07e0d8206191dd7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jun 5 17:34:09 2018 -0500

    user-guide.md: small cleanups

commit 21d30bc6d9caca31d007631717a480a552b89701
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jun 5 17:26:57 2018 -0500

    service-script-guide.md: small cleanups

commit 2a1ff6e49c6603bb81eec3cafe2c587fa734289f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jun 5 16:11:28 2018 -0500

    version 0.37

commit 6762cb875c9c039b79dcc447b9d0eb65356a7708
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu May 31 16:53:25 2018 -0500

    Update ChangeLog

commit 6edf516a1fe0ad4f4e8738f9fdd1bf0bc7718361
Author: Austin English <austinenglish@gmail.com>
Date:   Wed May 30 11:11:10 2018 -0500

    sh/supervise-daemon.sh: use start_stop_daemon_args if supervise_daemon_args is undefined

commit 7e56a49e23c810673b83e48eb9ca36229bb4016e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue May 22 17:11:43 2018 -0500

    Logger: only log printable characters and newlines
    
    X-Gentoo-Bug: 651412
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=651412

commit fa5aea80c50fb724d2c98a6542307adbafd0e62d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue May 22 11:12:12 2018 -0500

    openrc-run.sh: move crashed test outside started test
    
    This is handled inside librc, so we don't need the nesting in this
    script.

commit 0f4fa41574a4ebf8117493e5411f8ab522010467
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue May 22 11:08:35 2018 -0500

    Add mark_service_crashed binary

commit 5d6dd97bba3559b57fb1c1de35e644c6dbd6baa7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon May 21 18:16:12 2018 -0500

    rc-misc: add the crashed state

commit 37e29442721af0dc3846e87ef2b85a474af3cf2b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri May 18 18:28:07 2018 -0500

    librc: Add check for crashed state
    
    In rc_service_state,, call rc_service_daemons_crashed to check for
    a crashed daemon if the service is started.

commit 4e0eace837287845504c9895429dc9f64872d075
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu May 17 17:42:14 2018 -0500

    librc: Add crashed state

commit faa8318b3ba278544413a39d4a5ae4457711793f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri May 18 16:48:21 2018 -0500

    Remove the _rc_can_find_pids function
    
    This test to find if we could see pid 1 was being used inconsistently in
    rc-status and mark_service_crashed to decide whether we could test to
    see if the daemon for the service was crashed, and it was not part of
    the librc library.
    
    I am removing it from the executables because of inconsistent usage. I
    will add it to the library if it is needed there.

commit 08da36149c0b41c64a09369c3eef5e2f5a6fa39c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed May 16 13:25:22 2018 -0500

    rc-service: add --ifstarted and --ifstopped options

commit 56870d0db18209396f8276bdc05d413fe4dd7a88
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue May 15 17:09:56 2018 -0500

    Man: rc-service man page cleanups

commit 4d47ce440c3e8f193cff82a77e6691ee6e7fac33
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue May 15 16:59:21 2018 -0500

    rc-service: add -d/--debug and -D/--nodeps options

commit 958f57d895b6573b39e62097e5e9881f16174715
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue May 15 16:27:42 2018 -0500

    openrc-run: respect the RC_NODEPS environment variable

commit 04886efd85328988657c34440da9ba6aa2841cfd
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue May 15 16:18:19 2018 -0500

    Add RC_DEBUG and RC_NODEPS to environment whitelist
    
    These are needed so rc-service can pass debug and nodeps options to
    openrc-run.

commit d980798d6444bbfc508796a233e962bf4dd61275
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon May 14 19:08:19 2018 -0500

    openrc-run: respect the IN_DRYRUN environment variable
    
    This allows rc-service to pass the tryrun option to openrc-run.
    
    This is for #225.

commit 414a9aae6ce066d2a6ad42e7e24d1c12a7b46409
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon May 14 19:04:42 2018 -0500

    rc-misc.c: Add IN_DRYRUN to environment whitelist
    
    This allows rc-service to pass the dryrun option to openrc-run.
    
    This is for #225.

commit a7f475ca04856ef8232364c5b0c3191566b0696c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon May 14 19:00:04 2018 -0500

    rc-service: add a --dry-run option
    
    This is for #225.

commit 3c53680018c1799d0d804e241a9fa4d3b9423896
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri May 11 15:38:27 2018 -0500

    build: standardize installation modes
    
    Gentoo was changing some of our installation modes from 0444 to 0644.
    There isn't a reason to install things 0444, so we are switching these
    to 0644 so the Gentoo ebuild doesn't need this extra step.

commit f0ad647303daca528cb9b75f9a07d422318635c2
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed May 9 17:54:18 2018 -0500

    Revert "savecache: stop saving the dependency tree"
    
    It is safe to save the deptree, but we also need to regenerate it at
    boot time.

commit b35e03b6b1acc841ac33f601dd39c1152523621e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu May 10 19:35:24 2018 -0500

    Revert "Logger: only log printable characters and newlines"
    
    This reverts commit 2b1392af2fe9e5dfc8eda2f19d896efdc41840bf.
    This seems to create issues shutting down, so I need to look into it
    further.

commit 2b1392af2fe9e5dfc8eda2f19d896efdc41840bf
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed May 9 17:30:08 2018 -0500

    Logger: only log printable characters and newlines
    
    X-Gentoo-Bug: 651412
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=651412

commit a3d0e293eebcb92564c473e61ca42724844fb279
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon May 7 18:12:55 2018 -0500

    Remove localmount from dependencies for linux-only services
    
    This removes localmount from the dependencies of the consolefont,
    keymaps, numlock and procfs services.
    
    These services are Linux only and the default modern linux system has /
    and /usr on the same file system.
    
    This also fixes the following issue.
    
    X-Gentoo-Bug: 651998
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=651998

commit 0200002b8cbd061ac79b6aed4024220cd0386d2c
Author: Andrey Utkin <andrey_utkin@gentoo.org>
Date:   Sat Apr 21 23:13:15 2018 +0100

    start-stop-daemon: don't fail stopping if pidfile is gone
    
    If pidfile does not exist when we are stopping the daemon, assume it is
    already stopped, and report success.
    
    hostapd is an example of a daemon which removes its pidfile when it is
    exiting. If this daemon terminates prematurely, that is, without s-s-d
    involvement, then openrc fails to restart it, because s-s-d "stop"
    command fails when pidfile is missing.
    
    X-Gentoo-Bug: 646274
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/646274

commit f4e2142089487b7f5c99da949d7bf8d038724df7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue May 1 13:28:57 2018 -0500

    Add _POSIX_C_SOURCE definition to Linux build
    
    We need this to allow builds on uclibc-ng based systems.
    
    X-Gentoo-Bug: 650908
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=650908

commit 49a90f27a848ba02a363fc0c844d6284728bdd73
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Apr 24 10:40:57 2018 -0500

    typo fix

commit 2ae60ca0419d60c86904a8e15e71e902549e18d4
Author: Scall <Scall@users.noreply.github.com>
Date:   Wed Mar 21 13:33:33 2018 +0100

    rc-update: fix typo

commit 6b475ab26992f1dd8815700828df46abc4b71d27
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Mar 16 14:33:01 2018 -0500

    init.d/modules: add code from modules-load service
    
    There is no reason for these to be separate services. I did add a
    provide so that we don't break backward compatibility.

commit b302b0c094c2c99b810aec9c8877adcd1effabac
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Mar 16 13:48:05 2018 -0500

    net-online: always start after net
    
    X-Gentoo-Bug: 650600
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=650600

commit 40aa69cf3a99fa080375a702631da4d2311ebf3e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Mar 14 20:37:02 2018 -0500

    agetty.in: allow status to be displayed

commit 5346fbf2c90b33b3abc01588e4727d4402f8db62
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Mar 14 20:05:45 2018 -0500

    supervise-daemon: fix off-by-one error

commit 92e6bdee12fa9d87a2535446ceccee261305e87c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Mar 14 13:07:46 2018 -0500

    Use _BSD_SOURCE on FreeBSD

commit 71f275b2aa04d9a9323a49d1421796c4d50b1436
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Mar 14 10:45:40 2018 -0500

    typo fix

commit 6dc0d0af333592203fabd4746279bb15d2801c0b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Mar 13 18:14:39 2018 -0500

    Remove _XOPEN_SOURCE macros from builds

commit 59a9e53378891be7b12ed304ccb609e27da70751
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Mar 13 18:03:54 2018 -0500

    Add _POSIX_C_SOURCE macro to FreeBSD build

commit 122768d339175c925a1a228792f4725b7c802f46
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Mar 12 18:22:05 2018 -0500

    man: document default retry specification for supervise-daemon

commit fa3c60c0d8fd2267be5c1b156530b136a2503088
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Mar 12 18:15:06 2018 -0500

    man: document default retry sppecification for start-stop-daemon

commit 61905bfcf560219939c902dbb8fe9bc5088a42cf
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Mar 11 21:40:57 2018 -0500

    Clean up cgroups v2 code
    
    Remove the IFS manipulation and simplify the loop that processes the
    settings.

commit 3e68013631765e00eddf118bc24e38254e7f6d64
Author: Scall <Scall@users.noreply.github.com>
Date:   Tue Mar 6 02:16:26 2018 +0100

    init.d: swap should always be started after root
    
    Otherwise if a swap file is being used, and swap is started before
    root, swapon may fail because of a read-only filesystem.

commit b46123f2e19a5eb8dc02b898e8c20a2ccc211615
Author: Chris Cromer <cromerc@users.noreply.github.com>
Date:   Thu Mar 1 21:31:33 2018 -0300

    openrc-run: fix memory size (#213)
    
    Fixes #212

commit 109869641f7b58d07819f6b65d7b085abf75083b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Mar 1 11:47:29 2018 -0600

    fix build on FreeBSD

commit e8a2305de0320dc98bf187bb97f936e2dc4a4554
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Mar 1 11:46:02 2018 -0600

    version 0.36

commit f62975a1f8c4d5d4abdf78d8cad5509216138f03
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Feb 28 16:21:52 2018 -0600

    Update ChangeLog

commit 5bb6f9aa318a6d0507971b74d88c3fd2803bae4b
Author: Jason Zaman <jason@perfinion.com>
Date:   Wed Feb 28 12:41:54 2018 -0600

    init.sh: apply SELinux label for /run early in boot
    
    Some initramfs mount /run which then ends up with the wrong labels.
    Force relabel all of /run right after its mounted to fix.

commit 1ab8541a6ccb9d72c6faeaf2d616fc49f6cdfaf6
Author: Jason Zaman <jason@perfinion.com>
Date:   Wed Feb 28 11:24:55 2018 -0600

    init-early.sh.Linux.in: apply the selinux label to /dev/console early
    
    /dev/console is relabelled later in the devfs init script, but by then we
    have already missed some of the messages, so fix that label early.

commit 038c03bef315314ddb1e460c67d29b2599b494ad
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Feb 27 16:02:20 2018 -0600

    supervise-daemon: make an error message more verbose

commit e51dc29e2f3b2718a62347e8588115e786a9f3c8
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Feb 27 15:56:54 2018 -0600

    cgroups: fix indentation

commit c6047f887a362cb8d96624fbd73484ca703acf53
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Feb 26 14:33:15 2018 -0600

    cgroups: add rc_cgroup_memory_use_hierarchy setting for cgroups v1

commit 0506d68427e342366d826aae4bfbbc6cc0adecc2
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Feb 26 13:46:47 2018 -0600

    fstabinfo: fix an error message

commit c3d666acaf51c771671b0fa54bd8ec0f5d29859e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Feb 26 13:14:31 2018 -0600

    openrc: remove unused #define's.

commit e93b1d76d150c4477015052fc3df9b94647e5b5d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Feb 26 13:13:44 2018 -0600

    openrc: convert another execl() call to execlp()

commit acf1e43f815898c4a4957db352f71f3fb629edf3
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Feb 26 12:21:14 2018 -0600

    openrc-init: convert execl calls to execlp

commit f383fd87b121492a04362ca9041f686d981718f1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Feb 24 17:02:02 2018 -0600

    kill_all: change execl call to execlp

commit cfded513cd9b7febe4b7cf39a80411e4303f0655
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Feb 24 16:24:08 2018 -0600

    openrc-init: set a default path
    
    The default path provided by the system if one isn't set only includes
    "/bin:/usr/bin". This adds the default path setting from sysvinit.

commit 16ff3cd8df6169f73e3d7cf00758a4703f62cbf0
Author: Christian Brauner <christian.brauner@ubuntu.com>
Date:   Mon Feb 12 13:32:01 2018 +0100

    check whether /sys/fs/cgroup is a mountpoint
    
    The current check only tries to detect whether /sys/fs/cgroup exists and
    whether it is writable or not. But when the init system doesn't mount
    cgroups then /sys/fs/cgroup will just be an empty directory. When paired
    with unprivileged containers that mount sysfs this will cause misleading
    errors to be printed since /sys/fs/cgroup will be owned by user
    nobody:nogroup in this case. Independent of this specific problem this
    check will also be misleading when the /sys/fs/cgroup exists and is in
    fact writable by the init system but isn't actually a mountpoint.
    
    Note from William. "grep -qs" doesn't need to redirect output to
    /dev/null since it is completely silent.
    
    This fixes #209.

commit 38032626a6c2f8e869197999f32ac3634667cc86
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Feb 23 15:07:04 2018 -0600

    improve cgroup configuration checks
    
    make the base/controller functions return successfully if cgroups v1/v2
    are not configured in the kernel

commit aa7d3a7911b658c550e7ce76cd6d7d46541fc323
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Feb 22 16:16:07 2018 -0600

    openrc: force deptree update for sysinit runlevel

commit 98262647a9d2f3c65a7ceb1aaa81095522c1ef06
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Feb 22 12:54:21 2018 -0600

    supervise-daemon: zero out the cmdline buffer when it is allocated

commit 5868abe97babcc287794dcb36ad8e77989b6ddcf
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Feb 21 18:16:56 2018 -0600

    start-stop-daemon: compiler warning cleanup

commit 71aad16256604e0e9e146221957a9b00cfe67b99
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Feb 21 18:15:35 2018 -0600

    openrc-run: clean up a compiler warning

commit e275da84de1589253da5ff6a7c272cf1c82f8567
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Feb 21 18:14:56 2018 -0600

    supervise-daemon: remove references to PATH_MAX

commit a6cc7f06cf3807a0e0590697e1f14e6ab9055271
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Feb 21 13:49:41 2018 -0600

    rc.c: remove PATH_MAX references

commit c1178c8eebb92c9f3702e981cd4af9ef41f51884
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Feb 20 16:35:50 2018 -0600

    rc-selinux.c: remove references to path_max

commit 3c031ca9780c555817fe9ccb8b23ceb231129724
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Feb 20 16:01:15 2018 -0600

    rc-plubin.c: remove references to PATH_MAX

commit 8e02406d8fbf92167c30431987d5de8de72cd7df
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Feb 20 14:22:29 2018 -0600

    rc-misc.c: remove references to PATH_MAX

commit 8dbdabcc5e0df8ac36722a4ba7bfe30664cc9919
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Feb 16 14:04:40 2018 -0600

    start-stop-daemon: clean up string handling

commit 488d8989c518d9256f183899aac02024c679b93e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Feb 15 15:10:24 2018 -0600

    openrc-run: clean up string handling
    
    - remove references to PATH_MAX
    - use xasprintf to create strings

commit 9e14b35da8942bd8fa552363617c3415887f485f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Feb 15 12:23:39 2018 -0600

    rc-update: remove reference to PATH_MAX

commit 7b4879cb72e907414b70553663bd9b6fda8d4408
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Feb 14 16:56:19 2018 -0600

    mountinfo: create strings with xasprintf

commit 74cfb455c59298f86849541e724ae346ff205c3d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Feb 14 16:50:24 2018 -0600

    kill_all: create strings with xasprintf

commit 0110487722646ebf9bc2c4e12b4b4a3c358cb10d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Feb 10 16:48:22 2018 -0600

    helpers.h: silence compiler warnings about xasprintf

commit 68b9b0bc2a11d144870d14fcb8ac24e6c9c63354
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Feb 10 14:09:22 2018 -0600

    xasprintf: exit if return value of vsnprintf is invalid

commit 4616f8f809ee8566904ca37f2b8bf0409a487475
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Feb 9 16:27:12 2018 -0600

    helpers.h: add xasprintf function
    
    This is our own version of asprintf(). This original code was written by
    Mike Frysinger, and I was able to modify it to use our memory helper
    functions.
    
    We need a version of this code because it is not available on glibc at
    least without defining _GNU_SOURCE, and I would rather not do that.
    
    This is the first step in improving string handling in OpenRC for #207.

commit 287d71bd2591ddec73efe356db081020e65cd922
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Feb 9 15:35:12 2018 -0600

    helpers.h: style fix

commit c1ffe4d9f2e10b6853464cc298d1922c81ae92f4
Author: Michael Orlitzky <michael@orlitzky.com>
Date:   Thu Jan 25 11:28:39 2018 -0500

    man/openrc-run.8: fix mountinfo args.
    
    The "Ar" tag for the mountinfo command contained a typo (leading
    space) that resulted in the tag being output verbatim; that is,
    
      mountinfo ... .Ar mount1 mount2
    
    rather than e.g.
    
      mountinfo ... <mount1> <mount2>
    
    This commit deletes the leading space to fix the output.
    
    This fixes #204.

commit 4c517bdb2b69eac36f004ae41bb9cbb212fe0a51
Author: Michael Orlitzky <michael@orlitzky.com>
Date:   Thu Jan 25 11:27:16 2018 -0500

    man/openrc-run.8: add missing "Xo" tags for fstabinfo and mountinfo.
    
    The BUILTINS are all surrounded by Xo...Xc tags, but the opening "Xo"
    was missing from the two commands fstabinfo and mountinfo. This commit
    adds them, and thereby fixes the spacing when viewed by man.
    
    This is for #204.

commit 110582491ff02db061b567636a237460afbc489c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jan 24 17:43:02 2018 -0600

    service-script-guide.md cleanups
    
    Refer to /var/run in the documentation instead of /run, and make it
    clear at the top of the pidfile section that we use /run under Linux.
    
    This is for #202.

commit 5dd1d39d20c118064d31ed65dc7ae2de75dd7908
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jan 24 10:56:33 2018 -0600

    typo fix

commit 1771bc2a83fe65bfe6ec3e93ea7632609e697a38
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jan 23 16:56:06 2018 -0600

    checkpath: use fchown and fchmod to handle ownership and mode changes
    
    This is related to #195.
    
    This is an attempt to shorten the window for the first two issues
    discussed by using a file descriptor which does not follow symbolic
    links and using the fchmod and fchown calls instead of chown and chmod.
    with.

commit 87c98ebb01873120eecc1757e615b3a4c14a2f1f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jan 16 13:34:37 2018 -0600

    checkpath: fix lchown error message
    
    X-Gentoo-Bug: 643084
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=643084

commit 4af5a80b0c516773286cc30e743dc90a2d19df23
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jan 16 13:11:22 2018 -0600

    _rc_deptree_load - return NULL if the stat() call is not successful
    
    X-Gentoo-Bug: 643084
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=643084

commit fee2ffe559bc39beec16585daf557b902a53137b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jan 12 14:10:42 2018 -0600

    Reformat and fix titles in documentation

commit 8878f8916b7682a333d1e40af991cd7354192be1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jan 11 10:57:05 2018 -0600

    Rename guide.md to user-guide.md to better describe its purpose

commit 14e3359a9e4174da3e422957d9de56907f025875
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jan 10 13:25:13 2018 -0600

    move developer documentation from guide.md to service-script-guide.md

commit 918d955fd2de1f594b83508f5ddd5271534e3591
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jan 9 17:20:39 2018 -0600

    checkpath: use lchown instead of chown
    
    Checkpath should never follow symbolic links when changing ownership of a file.
    
    This is for https://github.com/openrc/openrc/issues/195.

commit 92cfa0e543d380ab290d06e98e2fef1b283349fe
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Jan 8 15:33:03 2018 -0600

    service-script-guide.md: formatting changes
    
    Add a title, adjust the headings and update the example that referred to
    "net.lo" to refer to "loopback".

commit c2bd33e4838eb56bebe2707f6ca6bd05e9df5b24
Author: Michael Orlitzky <michael@orlitzky.com>
Date:   Mon Sep 4 17:58:09 2017 -0400

    service-script-guide.md: new guide for service script authors.
    
    This fixes #162.

commit f42ec82f21f3760b829507344ad0ae761e1d59aa
Author: 3PO <r2d2@freakmail.de>
Date:   Sun Dec 31 22:50:57 2017 +0100

    net-online: only process symbolic links in /sys/class/net
    
    The /sys/class/net directory contains files which are not symlinks if
    the system has bonded devices [1].  We should ignore these files.
    
    This fixes #196.
    
    [1] https://elkano.org/blog/manage-interface-bondings-sysfs-interface/

commit 7affff568a0aa83d732757c4699d4b94b7e3a9aa
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Dec 20 11:01:29 2017 -0600

    init.d.examples: pid files always go in /var
    
    This removes the @VARBASE@ substitution since it is always translated to
    /var.

commit 4f750933fd8ef944be58bfeef071a8e35fc0c606
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Dec 14 17:31:57 2017 -0600

    procfs: remove the @sysconfdir@ reference

commit 50b69d564a8f89b8137bb6d9d53aac1e44f6c23c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Dec 14 17:07:31 2017 -0600

    hostname: replace @SYSCONFDIR@ references with /etc
    
    I do not know of any situation where /etc/hostname is at any other
    location. Also, this does not run on prefix.

commit eb18f4f3483b99705f944c7274b4a6b451716df7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Dec 14 16:38:09 2017 -0600

    hwclock: use shell variables for configuration file path
    
    This removes a reference to @SYSCONFDIR@.

commit d5f3fe52c87928095bd2659823b985d231f0718c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Dec 14 13:52:55 2017 -0600

    sysctl: hard code paths for sysctl files on *bsd
    
    For *BSD,the sysctl*.conf files are always in /etc.

commit bb1bc6eeb73b3483a1ebdfc142a11240b58588cf
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Dec 14 12:44:45 2017 -0600

    local: misc cleanups
    
    Remove references to @SYSCONFDIR@ since these can be calculated at
    runtime.
    Also style fixes.

commit 53844fd0dcd9741b5f19dee7c00787be7e904c3c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Dec 14 12:06:07 2017 -0600

    devfs: cleanup
    
    clean up local definitions. Also remove @SYSCONFDIR@ substitutions since
    they can be calculated at runtime.

commit 14938c29cefe869872b987f8e606da72024fa8bb
Author: bell07 <web.alexander@web.de>
Date:   Tue Dec 12 21:51:55 2017 +0100

    net-online: wait for ping_test_host
    
    The script should wait till the ping host is available or timeout reached
    Closes : #179
    Closes : #191

commit 8bf501aaf2cb60b8ddf1b2fa2d1ba0ef970fb790
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Dec 12 14:23:04 2017 -0600

    network: use 'command -v ip' to test for the ip executable
    
    This is an improved test because it doesn't require the ip executable to be
    in a specific path.

commit 9d05f68b51d7b31634cde30a482ec0e3da3b1c21
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Dec 12 12:45:52 2017 -0600

    Do not use file tests in net-online
    
    https://unix.stackexchange.com/questions/252002/help-testing-special-file-in-sys-class-net
    
    This is for #189

commit ee2524cd1d0305e207f7dfac52742a1d5e77ea4a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Dec 11 17:41:04 2017 -0600

    net-online: clean up quoting and test for existence
    
    This is for #178.

commit 5c81661d4758dea039860ae2481476a70e78ac47
Author: Marcel Greter <marcel.greter@ocbnet.ch>
Date:   Sat Dec 9 23:18:03 2017 +0100

    Gracefully handle unreadable /sys/class/net/dev/ nodes
    
    Fixes https://bugs.gentoo.org/629228
    Fixes #189
    Fixes #185
    Fixes #178

commit fb96c9c127dcfa932460b0e8a977ba5f7d26a418
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Dec 7 12:53:04 2017 -0600

    Make bash-completion and zsh-completion optional

commit 6c456f9383ab0000527b4363bc82fc17850aba18
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Dec 7 11:30:32 2017 -0600

    Add zsh-completion support

commit d220fc272337b216bff6ac781a7b6be4e6f3caee
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Dec 6 13:21:25 2017 -0600

    add bash completion support
    
    This fixes #188.

commit a2447dfb420cbd97a65cc085404c031d42cb3dfb
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Dec 4 17:17:17 2017 -0600

    rc-service: add --ifcrashed option
    
    This works like the other --if options. If the service is crashed, run
    the command.
    
    This fixes #154.

commit cee3919908c2d715fd75a796873e3308209a4c2e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Dec 1 15:43:09 2017 -0600

    Clean up the calls to group_add_service
    
    This function should only be called once and it does not take any
    arguments.
    
    X-Gentoo-Bug: 639166
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=639166

commit 0feadd2922484ec181c2ab86a5f7f8d6d37c5c77
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Nov 30 16:00:42 2017 -0600

    man/openrc-run.8: update documentation for command_user

commit a7c99506d9de81b9a2a7547bd11715073de1ce95
Author: Will Miles <wmiles@sgl.com>
Date:   Wed Aug 23 21:53:16 2017 -0400

    Fix repeated dependency cache rebuild if clock skewed
    
    rc_deptree_update_needed would return early as soon as it found
    any file newer than the existing dependency cache.  Unfortunately,
    the first file found may not be the newest one there; so the
    clock skew workaround in rc-misc:_rc_deptree_load would be given
    a timestamp that was still too old.
    
    This fix forces a full scan of all relevant files, so as to
    ensure that we return a timestamp that will allow the clock skew
    fix to operate.   The runtime cost is no worse than the case where
    the cache is up to date (ie. we must check every possible file).
    
    This fixes #161.

commit f0129307759f1a5eb34b72589e8d48790c92b2db
Author: Julien Reichardt <mi@jrei.ch>
Date:   Wed Nov 29 15:01:32 2017 -0600

    man/openrc-run.8: remove white space
    
    This is for #184.

commit ddbdb696582e9fd61995f15d6a3a53055a151e41
Author: Julien Reichardt <mi@jrei.ch>
Date:   Mon Nov 20 23:45:51 2017 +0100

    add more variables for start-stop-daemon and supervise-daemon options
    
    Add the following variables to expose more arguments that can be passed
    to start-stop-daemon or supervise-daemon:
    
    - directory will be passed to --chdir
    - error_log will be passed to --stderr
    - output_log will be passed to --stdout
    - umask will be passed to umask
    
    This is for #184.

commit c84ebb94d19ca856fe064e15d2068d5671e360c9
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Wed Nov 29 15:10:39 2017 -0500

    start-stop-daemon: properly handle missing pidfile
    
    X-Gentoo-Bug: 639218
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/639218

commit 3de6395ae3b8780ab501f3cf8688e1cb2a9f0243
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Nov 28 17:14:33 2017 -0600

    split cgroups mounting out of sysfs
    
    This is neceessary to allow cgroups to be mounted in an lxc/lxd
    container.
    
    Fixes https://github.com/openrc/openrc/issues/187

commit 6bb7ebec483a96e258c64ea3fea18358d7893fee
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Nov 27 11:09:43 2017 -0600

    fix FreeBSD build
    
    This is for #186.

commit a192caf88f527e09508e32baa623ef85549612ae
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Sun Nov 19 11:05:30 2017 -0500

    rc-schedules: if given nothing to look for, stop
    
    This avoids trying to kill everything.
    
    X-Gentoo-Bug: 631958
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=631958

commit e805c74d31113c75058d860588e83bca120decf6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Nov 16 15:35:35 2017 -0600

    s6 supervisor fixes
    
    Add the ability to force-kill a service if it does not go down
    successfully. Also, adjust the default wait time for an s6 service to go
    down to 60 seconds.

commit 318e87348168e37d78f433d3ff06288ad8ccf15c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Nov 14 14:11:57 2017 -0600

    strongly encourage Linux users to not make  /etc/mtab a flat file
    
    The OpenRC team does not currently know of any modern linux tools that
    require /etc/mtab to be a flat file, so this puts users on notice that
    the mtab service will be removed in the future.

commit 0d15898f58cc254d79777c791d4798a9b2542cf2
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Nov 14 13:17:01 2017 -0600

    adjust mtab and localmount dependencies
    
    localmount had mtab in its "use" dependencies; however, it makes more
    sense to add "before localmount" to the mtab service and remove
    "use mtab" from the localmount service.

commit 971e82784cd1ad8f9a286ee792e6417359972976
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Nov 13 16:54:57 2017 -0600

    rc_find_pids: namespace fix
    
    Ignore namespaces if there are errors reading either the pid namespace
    for the current process or the process we aare testing.
    
    This fixes https://github.com/openrc/openrc/issues/180.

commit 90d9ea656ff7c6b5d618df4e4261ebfa4033f1a8
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Nov 7 15:30:21 2017 -0600

    start-stop-daemon: do not use do_stop to verify whether a daemon is running
    
    X-Gentoo-Bug: 636574
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=636574

commit a3d1c8a0e7d5586be13e2cd9b5029fd729bc1594
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Oct 30 18:21:39 2017 -0500

    fix issue with --reexec call

commit 913b2ca53771742385d5c69164aefcaab634f012
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Oct 27 19:22:09 2017 -0500

    supervise-daemon: use RC_SVCNAME as the first argument to the daemon
    
    This makes ps show which service the supervisor is monitoring.

commit 3fe99c8b8264269dd935d52a1a52581cc0f14e8e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Oct 27 17:34:29 2017 -0500

    supervise-daemon: fix logging for reexec and the child command line

commit 27b8183de2f2bfd7411c14c1ec28543ca8a36602
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Oct 27 15:32:26 2017 -0500

    log as supervise-daemon not the service

commit f32d8e1bfe16caf233d1180921f4aeed77d7476d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Oct 26 14:15:40 2017 -0500

    supervise-daemon: clarify a log message

commit d019f34a83b0ad5e890f685b1263b281ab54ce54
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Oct 26 13:57:04 2017 -0500

    supervise-daemon: log the command line we run to spawn the child process

commit bb9c481f02cb1843e00bf32e98caf18b6b56bb4d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Oct 26 13:36:41 2017 -0500

    supervise-daemon: log with the service name instead of "supervise-daemon"

commit 82da844b42ff83b2ebf944198e56ac2d81851897
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Oct 26 13:11:12 2017 -0500

    implement "unsupervised" status
    
    The unsupervised status is to be used when a supervisor of a supervised
    service dies but leaves the service daemon itself running.

commit 667a09983ca5311824aa88c42d39a495c540fc4c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Oct 26 12:58:59 2017 -0500

    supervise-daemon: remove child_pid from saved options during shutdown
    
    This allows us to detect when the supervisor dies unexpectedly because
    in that case child_pid will still exist.

commit cf429ee359356d736c818e8b35db8fca887e7332
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Oct 26 12:54:37 2017 -0500

    rc_service_value_set: remove the option if NULL is the value
    
    This allows the equivalent of "unsetting" a value for a service.

commit 6f3e2e2d7de61ab28cf03937ccf2e5f80b62190a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Oct 25 21:20:15 2017 -0500

    supervise-daemon.sh: fix status function with no namespaces

commit 35b88fb42bb8e0a56cdc1947342f1b89c98658bc
Author: Patrick McLean <chutzpah@gentoo.org>
Date:   Wed Oct 25 21:19:15 2017 -0500

    cgroups_cleanup: clean up shutdown signaling
    
    - do not sleep for the full 90 seconds if processes are dead
    - re-arrange the order of signals we attempt to send to the processes

commit a428c325a902bba55a849a07a59c0c1567404db2
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Oct 25 15:07:19 2017 -0500

    add "unsupervised" status and return code 64 to supervise-daemon status function
    
    This is to be used if the service is being supervised and the
    supervisor is somehow killed.
    
    Currently, this is very linux specific, but I will expand to other
    platforms, patches are welcome.

commit 3219ecd6085231d7cc1268323a5be6a69f8c9143
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 24 16:47:53 2017 -0500

    supervise-daemon: fix build issue for >=glibc-2.26
    
    X-Gentoo-Bug: 635334
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=635334

commit 0d8dc4f798cc0d707fc64e8bffcba4fbceb32935
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 24 16:46:52 2017 -0500

    version 0.35

commit f3c70bf5b5aa18e8dc94d4949f05568e0741c5cb
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 24 10:42:11 2017 -0500

    Update ChangeLog

commit f5acc66db7d1a0bfad6a40eefc0240b80f52df94
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 24 10:37:01 2017 -0500

    rc_find_pids: ignore pids that are not in our pid namespace
    
    X-Gentoo-Bug: 634634
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=634634

commit fdce4769f2e0f4175163ffa181c7b3b2192f7b22
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 24 10:26:18 2017 -0500

    supervise-daemon: multiple fixes
    
    - Harden against dying by handling all signals that would terminate the
    program and adding --reexec support
    - factor the supervisor into its own function
    - fix test for whether we are already running

commit 35b1996704f6635bb29ea3604410e133209e6432
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Oct 18 18:07:50 2017 -0500

    supervise-daemon: elevate some log messages to warnings
    
    Prior to this change, we were logging unexpected terminations of daemons
    we were supervising at the info level. This change moves the logs to
    warnings.

commit 3c8e7ed255edb8df0d548d6ce514544d5422cbf0
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Oct 13 16:10:57 2017 -0500

    version 0.34

commit acaed1f910a2a00fdd5b6aeab752c552075a7292
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Oct 13 11:29:49 2017 -0500

    Update ChangeLog

commit 91109e31d81ecd48f5690ad6f63103fca545dec7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Oct 12 18:54:17 2017 -0500

    update news

commit 2b6eeea01d1c64d58929788f4bfa0758393885bf
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Oct 12 18:47:36 2017 -0500

    man: remove service(8) man page

commit a15de23e5713d840d871c526b46050983dc6ea1e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 10 10:56:27 2017 -0500

    typo fix

commit efa9ba485d9328f780f3e60dc18339c75974c6c6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Oct 9 15:54:06 2017 -0500

    init.d/sysfs.in: fix reference to RC_LIBEXECDIR
    
    The sysfs init script referred to @LIBEXECDIR@ before this change, but
    it is better to refer to RC_LIBEXECDIR so that we get rid of a sed
    substitution.

commit d4ddd72701ff5533a1ba07b1da60806859c63d88
Author: Chris Cromer <chris@cromer.cl>
Date:   Fri Oct 6 14:42:52 2017 -0500

    add option to make agetty startup quiet
    
    This fixes #150

commit 1e9af2cd421423404ffe1491bd35af76c2885f1f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Oct 5 18:31:07 2017 -0500

    fix compiler warning

commit 3c05db74f6e733890e9035c183a774db3d512512
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Oct 2 18:09:03 2017 -0500

    remove service binary
    
    The service binary was just a synonym for rc-service, so use rc-service
    instead of service. If you want a "service" binary, it should be
    something that can determine which service manager you are running and
    run the appropriate service manager commands.

commit edc54b03770d5f58d1a4969d06c28660003dfb04
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Oct 2 16:58:59 2017 -0500

    version 0.33

commit 8e53a3fa8a33fb714064ddbe38bff2213fcf6837
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Oct 2 11:21:29 2017 -0500

    Update ChangeLog

commit 7f3b41311119e3a96a15b0fb473b44f422e903e9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Sep 29 12:50:05 2017 -0500

    use printf consistently in cgroups handling
    
    This makes the cgroups handling consistent between cgroups v1 and v2.
    Also, it fixes #167.

commit 1ccba056584ee1a8e09fb1d5eebd988b47912c06
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Sep 22 17:22:50 2017 -0500

    sh/rc-functions.sh: add need_if_exists convenience function

commit c46adf14343df3a74aef7e4ae5be175ae5fa7a01
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Sep 22 16:20:41 2017 -0500

    man/openrc-run.8: Clarify the explanation of the need dependency

commit 1cac8b080c16f9aab19c7a3ae1ca155c20dfa14d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Sep 18 16:59:18 2017 -0500

    ignore sigchld when shutting down the supervised process
    
    We need to do this to skip the zombie state for the child process since
    we are not easily able to wait() for it.

commit b58194ef63ec8c0a7e0ea3c291da9c19aa83cb1a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Sep 18 13:30:56 2017 -0500

    typo fix

commit b28c0d6f66e42b1e6d2a39c286a18c8d92881790
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Sep 18 13:03:34 2017 -0500

    typo fix

commit 3cf19b0f30a90157d23d09ded304439f1eb42d4a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Sep 18 12:25:37 2017 -0500

    supervise-daemon: code cleanup
    
    Clean up the process for killing an active supervisor when stopping.

commit 0eb47b9af340dd07209a3920944ed085fe7bd359
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Sep 18 10:36:17 2017 -0500

    initialize the stop schedule

commit 4ab60ff10935122277bbaed437f82a765279cd19
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Sep 17 14:20:05 2017 -0500

    rc-schedules.c: pass the correct pid to rc_find_pids
    
    This is for #163.

commit db4a578273dbfa15b8b96686391bcc9ecc04b646
Author: Jason Zaman <jason@perfinion.com>
Date:   Sun Sep 17 23:52:52 2017 +0800

    selinux: fix const qualifier warning
    
    rc-selinux.c: In function âselinux_setupâ:
    rc-selinux.c:361:9: warning: assignment discards âconstâ qualifier from pointer target type [-Wdiscarded-qualifiers]
      curr_t = context_type_get(curr_con);
             ^

commit b1c3422f453921e838d419640fe39144dbf8d13d
Author: Jason Zaman <jason@perfinion.com>
Date:   Sun Sep 17 21:15:13 2017 +0800

    selinux: use openrc contexts path to get contexts
    
    The minimum requirement for libselinux is now >=2.6
    The refpolicy and the gentoo policy contain the
    contexts since version 2.20170204-r4

commit 3fafd7a76e6adf15ec72a7ba5f44583eff8fab7a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Sep 16 17:02:52 2017 -0500

    sysfs: fix cgroup hybrid mode
    
    In hybrid mode, we should not try to mount cgroup2 if it is not
    available in the kernel.
    
    This fixes #164.

commit cd5722aca50f0eaddde7ce04ee00da53c313ba7d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Sep 16 16:46:42 2017 -0500

    cgroup2_find_path: use legacy mode if cgroup2 is not in the kernel
    
    This is related to #164.

commit dcb4a4d2613a1fdf85651b32e5b7a87528f487bc
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Sep 16 13:24:52 2017 -0500

    version 0.32

commit e312e569970c74cf52e255da67034391b68dafac
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Sep 15 15:33:24 2017 -0500

    Update ChangeLog

commit 2f60a959b442866b0e879d83f2732c4fa3ed3f7d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Sep 15 14:25:33 2017 -0500

    update news file

commit 25b45a5a239318fb57c405c3fe64e53b0738ad68
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Sep 15 14:22:34 2017 -0500

    cgroup_cleanup: try to remove the cgroup version 2 cgroup
    
    If we were able to kill all the processes in the cgroup, it should be
    removed.

commit 4651b8c7e9e2ef9c1ea1fb8d174d1ca4693627af
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Sep 15 13:42:50 2017 -0500

    rc-cgroup.sh: cgroup_cleanup fix error handling
    
    cgroup_cleanup should warn if it is unable to clean up all processes in
    the control group, but it will always return success.

commit 50608b54ed98acb54fec5fe3323909ea684d3af9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Sep 15 13:27:49 2017 -0500

    rc-cgroup.sh: fix signal names
    
    The "SIG" prefix on signal names passed to kill -s isn't portable.

commit b0a077a35f85e266fdb82a245dcbda18664a8567
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Sep 14 18:24:31 2017 -0500

    add quiet switch to do_stop in src-schedules.c
    
    This allows supervise-daemon to run this code without attempting to
    print some status messages used by start-stop-daemon.

commit 6a5ca2ab368d0a85f51bb559672dba2e3ffcc6be
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Sep 14 11:40:26 2017 -0500

    make the procedure for killing child processes of services configurable

commit 2b0345165e5af57ca61a4000c3671bbe6d677cf9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Sep 14 10:55:06 2017 -0500

    Make cgroup_cleanup send only one sigterm and sigkill
    
    Instead of looping and sending multiple signals to child processes in
    cgroup_cleanup, we send sigterm followed by sleeping one second then
    sigkill.
    
    This brings us more in line with systemd's "control group" killmode
    setting.
    
    Also, this commit includes several shellcheck cleanups.

commit 8885580986ab8adc951fe32b9323c8b16130fb4f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Sep 14 10:44:52 2017 -0500

    rc-cgroup.sh: move cgroup_cleanup to the end of the file

commit 6d7713a758b7e78f05e6a3cc101f862d28d778ab
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Sep 14 10:39:38 2017 -0500

    guide.md: clarify cgroups documentation
    
    Update the documentation to reflect cgroups version 2 support.
    Also, add a section on dealing with orphaned service processes.
    
    This fixes #94.

commit 457f928e793cb1f6ef254935ad07f58b8762c72f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Sep 14 10:38:10 2017 -0500

    add support for control groups version 2
    
    This is for #94.

commit a71a461e452a98554346c47411e9c9012023c201
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Sep 7 11:28:09 2017 -0500

    version 0.31

commit a09b8af3f98c0700a9b838b7f3683ee58eecc912
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Sep 6 17:31:01 2017 -0500

    Update ChangeLog

commit 382efdbfcb99703d03211efacd800c9575e64230
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Sep 6 16:43:28 2017 -0500

    add quiet parameter to run_stop_schedule

commit 17b5cc78d35dc5fe4904e5951715c3e0d07d6343
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Sep 6 13:22:30 2017 -0500

    add retry option to supervise-daemon
    
    The --retry option for supervise-daemon defines how the supervisor will
    attempt to stop the child process it is monitoring. It is defined when
    the supervisor is started since stopping the supervisor just sends a
    signal to the active supervisor.
    
    This fixes #160.

commit 36a0ab9054512ade413226fb8e8b28060045e9a4
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Aug 25 11:36:45 2017 -0500

    make run_stop_schedule accept a pid instead of a pid file

commit 27c2bd997d5173aa30844a16bc22dc8caab09f8c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Aug 24 11:44:32 2017 -0500

    version 0.30

commit d7938f54f29193251e083ad35a7d464949829096
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Aug 24 11:34:18 2017 -0500

    start-stop-daemon: move --retry processing code to a shared module
    
    This was part of start-stop-daemon; however, it needs to be shared in
    order to be used by supervise-daemon.

commit cfbe9c2ede24dac530ef58e5c35bd57f22a788a3
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Aug 23 14:16:49 2017 -0500

    move get_pid function to a shared file

commit df28002b728b033c00c2da64dedf2bcd4ab5e11b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Aug 16 11:38:37 2017 -0500

    Update ChangeLog

commit 66ed8082d0c865a0b4f4cc436cf9e13351e3d6fe
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Aug 15 17:15:14 2017 -0500

    sh/openrc-run: source service script before ulimit is processed
    
    This is needed to allow the service script author to set a default for
    rc_ulimit inside the service script.

commit c2d256bafb9d1dfafbfd0846c035c5d26f7449c8
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jul 26 11:29:10 2017 -0500

    man/openrc-run.8: document fstabinfo and mountinfo
    
    X-Gentoo-Bug: 592374
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=592374

commit f48d9c33a5c708c871d6657a39485d1c0c735548
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jul 25 13:54:12 2017 -0500

    man/openrc-run.8: document _pre and _post functions
    
    Fixes https://github.com/openrc/openrc/issues/155.

commit 6d4e8433974fd8567885635ae0454031290f96b1
Author: Jason Graham <jgraha8@gmail.com>
Date:   Mon Jul 24 18:22:46 2017 -0500

    fix ENT macro usage
    
    X-Gentoo-Bug: 624796
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=624796

commit 0513cd3964a9564e0ba39b50aa8ebd3d7e9a3920
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Jul 24 17:28:54 2017 -0500

    version 0.29

commit 72bb2e57de935ab46ad000f97a5720265bed9342
Author: John R. Graham <john_r_graham@gentoo.org>
Date:   Mon Jul 24 17:14:08 2017 -0500

    Typo fix
    
    X-Gentoo-Bug: 624908
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=624908

commit 84c5da30695db89d686d3c28c7cacdf172cbf429
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jul 13 17:51:02 2017 -0500

    Update ChangeLog

commit b35099cb707e333b6b8d30d956ffa93bcd2da0ab
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jul 13 17:49:17 2017 -0500

    Add comment about overriding the default efivars mount in fstab to news

commit 3fd3bfc76dccc3752f4af949ad4076dab26357fb
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jul 11 15:10:16 2017 -0500

    add link to efivars issue to news file

commit 492a6303cb8314263bfd3631e3b0de5a9df178da
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jul 11 14:57:13 2017 -0500

    Update ChangeLog

commit e7807b3136d8993805082320784460f5059e6275
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jul 11 14:41:29 2017 -0500

    fix sysvinit compatibility for shutdown wrapper

commit 03a461ac0ee34b7900868cdea624c6fd868b1656
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jul 11 11:53:23 2017 -0500

    fix sysvinit compatibility for reboot wrapper

commit 7e0f76e0adc545c74a8332a6ef0811d2aa62cb81
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jul 11 11:09:52 2017 -0500

    fix sysvinit compatibility for poweroff wrapper

commit 9812ce5b8dc22fe36cc7bf75cf6e62db204ece3d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Jul 10 18:23:01 2017 -0500

    fix halt wrapper so it is sysvinit compatible
    
    This makes the halt wrapper sysvinit compatible. It ignores several
    command line switches which are not currently implemented; however,
    those can be implemented if we need to do so.
    
    This fixes https://github.com/openrc/openrc/issues/146.

commit 12f75e4167f84a9a85f69924ebdb28ad36c085cb
Author: Adam Borowski <kilobyte@angband.pl>
Date:   Fri Jul 7 02:11:00 2017 +0200

    man: fix an unclosed .Bl/.El warning
    
    This fixes #151.

commit 260368e0103e95625c29760f2c2ec89143e5a233
Author: Adam Borowski <kilobyte@angband.pl>
Date:   Fri Jul 7 02:06:34 2017 +0200

    man: fix missing .Pp warnings
    
    This fixes #151.

commit f87a9eec3d23ea01578500972f1df993d5d24fba
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jun 13 12:45:35 2017 -0500

    init.d/sysfs: mount efivars read only
    
    This fixes #134.

commit 1e837d596e483ceb5cec177a6c7faff24a42384b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Jun 12 17:58:18 2017 -0500

    fix argument parsing for the sysvinit shutdown wrapper
    
    This fixes #140.

commit dcc686e42b406d63d52ef75de9a326f67d0a06c9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Jun 12 12:24:18 2017 -0500

    scripts/shutdown: fix arguments to be sysvinit shutdown compatible
    
    This fixes #140.

commit 2f81c100afdf45ebf787dfc5d3261aa6055640e4
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Jun 12 12:12:50 2017 -0500

    Fix link to shutdown for MKSYSVINIT=yes

commit a511a48d77b1dcb8a3fb0dd1abddb750a152869b
Author: Nuno Silva <nuno.m.ribeiro.silva@tecnico.ulisboa.pt>
Date:   Sat Jun 10 03:12:49 2017 +0100

    init.d/hostname: fix default parameter syntax
    
    The syntax for expanding a variable with a default value is
            ${parameter:-word}
    not
            ${parameter-word}
    although the latter still works for a reason I could not explain.
    
    This fixes #143.

commit 1e5322e5c55ec744a2cdcc3342ef6547eab7c46f
Author: Nuno Silva <nuno.m.ribeiro.silva@tecnico.ulisboa.pt>
Date:   Sat Jun 10 03:05:09 2017 +0100

    init.d/hostname: fix indentation
    
    This is for #143.

commit 199a210d2fbc524c9c400a06f832dabffd7ed1b3
Author: udeved <artoo@manjaro.org>
Date:   Fri Jun 9 23:03:20 2017 +0200

    scripts/Makefile: make symlinks absolute instead of relative
    
    This closes #142.

commit 5b7667af32effddf867a5d021c66d43f0645d374
Author: udeved <artoo@manjaro.org>
Date:   Fri Jun 9 21:58:59 2017 +0200

    scripts/Makefile: respect SBINDIR with MKSYSVINIT
    
    This is for #142.

commit 11243f85b67e5f450ddf50346ffd4a1b2c6faeb5
Author: Jory A. Pratt <anarchy@gentoo.org>
Date:   Thu Jun 8 09:14:10 2017 -0500

    kill_all: include limits.h for PATH_MAX

commit 3c40826d3466cdda1a46abcd5c86b661b8185f46
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jun 8 08:45:16 2017 -0500

    version 0.28

commit 560d874d2fee63bf7ca11f17cf9933021b639a1d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jun 8 08:43:42 2017 -0500

    fix compile issue for musl

commit e84366fd232a41c3ba79ed351e93c74cef8d7c8d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jun 7 12:03:52 2017 -0500

    Update ChangeLog

commit caacedc0a82285fb2d25c6d3473f154044c7ad66
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jun 7 11:28:01 2017 -0500

    man: update openrc-shutdown man page
    
    Add the new wtmp options and fix some cross references.

commit 84d140a1f6abf95a4170d13527152d3ab14e6613
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jun 7 10:59:42 2017 -0500

    scripts/shutdown: pass --single to openrc-shutdown
    
    Sysvinit shutdown has a default of single user mode, but openrc-shutdown
    makes you choose a default action. Because of this, the shutdown wrapper
    needs to pass --single to openrc-shutdown.

commit ee886c44824b1dd892eaff2c6da666286e61bc73
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Jun 5 15:49:22 2017 -0500

    openrc-shutdown: add --single option and clean up option processing

commit 1801561c2d36c330df7fd02c7508f503a61ff5ba
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jun 2 18:21:53 2017 -0500

    init.d/bootmisc: use openrc-shutdown instead of halt to write halt record
    
    This fixes #139 and fixes #128.
    and fixes #124.

commit 7689106aa10f7852b707b4c21ec080ccb2767280
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jun 2 14:07:40 2017 -0500

    add support for writing reboot and shutdown records to wtmp

commit 1564e155b726308200ecd5df315c002bd8b16952
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed May 31 13:15:32 2017 -0500

    openrc-init: add optional sysvinit compatibility

commit 44bac3c3798f7eb9186c3ea8774552aa191bfae7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue May 30 18:48:33 2017 -0500

    Change killprocs to use kill_all instead of killall5
    
    X-Gentoo-Bug:376977
    X-Gentoo-Bug-URL:https://bugs.gentoo.org/show_bug.cgi?id=376977

commit 0ddee9b7d2b8dea810e252ca6a95c457876df120
Author: Sergei Trofimovich <slyfox@gentoo.org>
Date:   Tue May 30 21:58:32 2017 +0100

    openrc-init: fix buffer overflow in init.ctl
    
    How to reproduce 1-byte overflow:
    
    ```
    $ FEATURES=-test CFLAGS="-fsanitize=address -O0 -ggdb3" emerge -1 openrc
    
    =================================================================
    ==1==ERROR: AddressSanitizer: stack-buffer-overflow on address 0x7fff0efd8710
        at pc 0x000000402076 bp 0x7fff0efd7d50 sp 0x7fff0efd7d40
    WRITE of size 1 at 0x7fff0efd8710 thread T0
        #0 0x402075  (/sbin/openrc-init+0x402075)
        #1 0x3cf6e2070f in __libc_start_main (/lib64/libc.so.6+0x3cf6e2070f)
        #2 0x4013b8  (/sbin/openrc-init+0x4013b8)
    
    Address 0x7fff0efd8710 is located in stack of thread T0 at offset 2432 in frame
        #0 0x401cfb  (/sbin/openrc-init+0x401cfb)
    
      This frame has 3 object(s):
        [32, 160) 'signals'
        [192, 344) 'sa'
        [384, 2432) 'buf' <== Memory access at offset 2432 overflows this variable
    HINT: this may be a false positive if your program uses some custom stack unwind mechanism or swapcontext
          (longjmp and C++ exceptions *are* supported)
    SUMMARY: AddressSanitizer: stack-buffer-overflow ??:0 ??
    ```
    
    The problem here is in the code handling reads from 'init.ctl':
    
    ```
    int main(int argc, char **argv) {
    ...
        char buf[2048];
        for (;;) {
            /* This will block until a command is sent down the pipe... */
            fifo = fopen(RC_INIT_FIFO, "r");
            count = fread(buf, 1, 2048, fifo);
            buf[count] = 0;
            ...
        }
    ```
    
    `buf[count] = 0;` writes outside the buffer when `fread()` returns non-truncated read.
    
    This fixes #138.

commit 688566c535111a141f77caf88db12a4338544f7b
Author: Sergei Trofimovich <slyfox@inbox.ru>
Date:   Tue May 30 08:51:42 2017 +0100

    mk/cc.mk: make implicit function declarations fatal (#136)
    
    Avoids issues with missing prototypes causing truncation of pointers.
    
    Signed-off-by: Sergei Trofimovich <slyfox@gentoo.org>

commit 7185e242ffaa8cd1b672fe4726502a196fd779c2
Author: Sergei Trofimovich <slyfox@inbox.ru>
Date:   Tue May 30 08:47:55 2017 +0100

    rc-logger.c: fix crash on fclose(NULL) (#137)
    
    Only close the log if we successfully opened it.
    
    Reported-by: Brian Evans <grknight@gentoo.org>
    Tested-by: Brian Evans <grknight@gentoo.org>
    Signed-off-by: Sergei Trofimovich <slyfox@gentoo.org>

commit ec27299f4b88daa80261298fafea76ae634744d9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon May 22 12:46:55 2017 -0500

    typo fix
    
    X-Gentoo-Bug: 618888
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=618888

commit 1ece16bfcd0ab71d2f9fe17a75ee6184e0fa4828
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon May 22 12:42:37 2017 -0500

    openrc-shutdown: add dry-run option

commit 0cfd0dd9ef580ed9dc563ccc164d70efe8f299db
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon May 22 12:15:15 2017 -0500

    openrc-shutdown: move to single user mode by default
    
    To be more compatible with sysvinit, move to single user mode if no
    options are specified on the command line.

commit a77ee2e94191ba1a286b8a6835f76556481566ba
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon May 22 11:29:14 2017 -0500

    init: add ability to switch to single user mode

commit 49b8a573a195f4b2cee992cd10678694da0a6f4f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri May 19 13:37:30 2017 -0500

    add kill_all helper
    
    This is similar to the sysvinit killall5 utility.  It should only be used
    in service scripts, so it will not be installed in the path.
    
    This closes #129.

commit a2055af90054f5125cc07d4851b1dc9d16815e7c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon May 15 18:55:35 2017 -0500

    rc_status: calculate time differences in time_t and display seconds in uptime

commit cbf96967f1b6dc72ae16203dfbbb844bd08e8b6b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri May 12 17:14:56 2017 -0500

    supervise-daemon: save start time and respawn count before dropping privs

commit f1013037b47cdd6344f1b3ed92b7f84d7fcca01f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri May 12 17:14:15 2017 -0500

    version 0.27

commit e4bfb4530a86a4ccdff312c857df37fa0da36fd6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu May 11 22:00:41 2017 -0500

    update ChangeLog

commit 78e0042eccaf5a5554b195ad391b3ab0b8974cf6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu May 11 21:53:23 2017 -0500

    man/rc-status: document changes for supervised daemons
    
    rc-status now shows the amount of time a supervised daemon has been
    active as well as the number of times it has been respawned during the
    current respawn period.

commit 82e12e309247bc84abf29aca04b3a2dd845fa11b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu May 11 21:38:55 2017 -0500

    rc-status: show uptimes and respawn counts for supervised daemons

commit 1ebef0d7a38ec0a9635418b75c3aabb564c1577e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu May 11 18:13:13 2017 -0500

    fix to_time_t to honor dst

commit 6b4050ab9cf9d678a1d6b7af7af7494f8533dbca
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu May 11 16:18:41 2017 -0500

    fix from_time_t function

commit cf5e9aa2bbcdf1783fadeab26586c1134929d928
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu May 11 16:06:12 2017 -0500

    Move time_t conversions to rc-misc.c so they can be shared

commit a3250e77d412f2290e381b9e7569930d95e4fc5b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu May 11 13:52:22 2017 -0500

    supervise-daemon: save start time and respawn count
    
    This will allow rc-status to display an uptime and restart count for
    supervised processes.

commit df027ca4722c8755b23a65db75728b835ccca807
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu May 11 11:32:24 2017 -0500

    supervise-daemon: fix our status when we give up on the child process

commit 4c89e3f5fa1c65ccd0c843f98e4013c2085f243f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed May 10 18:01:10 2017 -0500

    supervise-daemon:create multiple options from --respawn-limit
    
    This creates --respawn-delay, --respawn-max and --respawn-period. It was
    suggested that it would be easier to follow if the options were
    separated.
    
    This is for #126.

commit 3673040722b75c0a4d06fbeb272f917c7d1ea7c4
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue May 9 18:20:52 2017 -0500

    supervise-daemon: add a --respawn-limit option
    
    Allow limiting the number of times supervise-daemon will attempt to respawn a
    daemon once it has died to prevent infinite respawning. Also, set a
    reasonable default limit (10 times in a 5 second period).
    
    This is for issue #126.

commit 96c8ba2fb5f91a711ef5bfcfd8affe0b74ad18fe
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Apr 29 13:48:45 2017 -0500

    supervise-daemon: mark all open file descriptors FD_CLOEXEC

commit 47cf1d0c707dc88d216bebc15be3f39d5eb47fa9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Apr 29 12:04:15 2017 -0500

    supervise-daemon:remove the controlling tty in the supervisor

commit 06a6a27e441372164872c7712b80728527a6ec05
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Apr 29 10:12:16 2017 -0500

    supervise-daemon:  fix access to tty_fd and devnull_fd
    
    Both the child and supervisor need access to these file descriptors.

commit 5de3798afc55ce147e65926f863ec9c9cef60e79
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Apr 29 09:41:07 2017 -0500

    supervise-daemon: mark the service started when the supervisor is active

commit 6ac094a59cf7b51d8527af15b07feca707a635c8
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Apr 19 17:24:44 2017 -0500

    version 0.26

commit 84c81ca02d7077a619dc704ff654385846fcd2b4
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Apr 17 12:35:12 2017 -0500

    update ChangeLog

commit 0e3f8720984d7d5752a78a4135cd268e4f83b3d7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Apr 17 12:23:45 2017 -0500

    init: send term/kill signals as final step of shutdown

commit 5fd3747b190887d094225547f23007d25e2d9592
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Apr 14 11:10:56 2017 -0500

    reword the bugs section of the openrc-init man page

commit 4694900190a9078397bb9083328b68b489af92f4
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Apr 13 12:54:18 2017 -0500

    init: fix signal handling
    
    The only signals we handle are SIGINT and SIGCHLD, so block all others
    and unblock them in the child process before we start a rurnlevel.

commit 05738bfce120114037d4f02c67ec740813f94b89
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Apr 12 17:56:30 2017 -0500

    init: add re-exec capability
    
    This will allow the re-execution of the init process after upgrading
    OpenRC.

commit 6f88ee4ec6f59e545346a7422facc3e5b6adac04
Author: i.Dark_Templar <darktemplar@dark-templar-archives.net>
Date:   Mon Apr 10 17:07:17 2017 +0300

    bootmisc: do not remove ld-elf32.so.hints
    
    File /var/run/ld-elf32.so.hints is used on FreeBSD 64bit multilib
    This fixes #125.

commit cc51bdca3bac963878141da047e92f125772e14f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Apr 7 07:39:12 2017 -0500

    Add attribution to openrc-init.c and openrc-shutdown.c

commit 13ca79856e5836117e469c3edbcfd4bf47b6bab0
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Apr 6 17:13:59 2017 -0500

    add init process
    
    openrc-init.c and openrc-shutdown.c are based on code which was written by
    James Hammons <jlhamm@acm.org>, so I would like to publically
    thank him for his work.

commit 79a9edc73068244ad843f2edbe4206ce696c91c8
Author: i.Dark_Templar <darktemplar@dark-templar-archives.net>
Date:   Wed Apr 5 16:54:53 2017 +0300

    Fix make install on FreeBSD: don't try to install /etc/init.d/modules twice

commit 9eb669591e16c5ee0ca07babe058d0b7b2396077
Author: Austin English <austinenglish@gmail.com>
Date:   Fri Mar 31 13:59:38 2017 -0500

    start-stop-daemon: warn if calling --start with --retry or --stop with --wait
    
    This fixes #122

commit 55a87a30ec845eb725e8a923c8f8eb7aa75baa72
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Mar 31 16:21:28 2017 -0500

    init.d/agetty.in: add -prefix keyword

commit a912029462ae988ab4e2a96a0958e54a3c2e822f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Mar 31 13:39:42 2017 -0500

    init.d/mount-ro: change dependency on killprocs and savecache to after
    
    killprocs always succeeds and savecache is not required by mount-ro, so
    we can just start after both of these have run.

commit 1e9078279709df2a3617bf1460890ceb1ddfcf59
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Mar 31 10:34:41 2017 -0500

    agetty-guide: typo fix

commit 51a292e09b9362f13d5747d4eedaa521ddf9ce72
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Mar 28 17:52:53 2017 -0500

    init.d: add agetty to ignore patterns

commit 50fccf47d4bd2ed6e7ea6ff7f72577c8e7b95d0d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Mar 23 13:17:11 2017 -0500

    sh/gendepends.sh.in: fix detection of service scripts
    
    We do not need to care about the path on the shebang line of a service
    script as long as the shebang line ends with "openrc-run".
    This fixes #119 and #120.

commit 9bd63b5d4a16601712a65eb8962214cdd4d26ce5
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Mar 16 10:16:39 2017 -0500

    update dependencies for clock service
    
    The clock services had a very long list of "before" dependencies that
    referred to other services within OpenRC. For ease of maintenance,
    convert these to "after clock" dependencies in the individual services.

commit 48db17a93f5e60c0d241f8fb06bfbdd01206fb9c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Mar 14 18:43:46 2017 -0500

    update news file

commit c333707cba356f4cacfd58a6fcc78f7c073dddcd
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Mar 14 18:04:31 2017 -0500

    Remove all occurances of 'before *' from dependencies
    
    Using wildcards in dependencies causes issues when rc_parallel is set to
    yes because it can lead to deadlocks.
    All dependencies need to be explicit rather than implicit.
    
    This is the first stage of moving this direction.

commit 5f5b1f7cbefd0bc14352e86a9c33260266f98d9b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Mar 12 13:55:49 2017 -0500

    init.d/sysfs.in: efivarfs tweaks
    
    Since we check for /sys/firmware/efi/efivars, we do not need to check
    for /sys/firmware/efi
    
    Since Failing to mount efivarfs is not critical, we silence the error
    message from mount.

commit cfdf56475e600f79a433cd721cadf39114c6c58d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Mar 12 13:55:25 2017 -0500

    version 0.25

commit fde3902d069dfdce9c59555186a5541d6d99c8aa
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Mar 9 16:20:17 2017 -0600

    update ChangeLog

commit d7bbb0f5830e1ec4df1ec52714d70ac6b0a81878
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Mar 9 15:23:02 2017 -0600

    add agetty service
    
    The agetty service is an alternate way to manage gettys with agetty
    under Linux which is separate from an external init system.

commit 21ca2b746cce67e2b3578fb7015c9d4c243e3a0c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Mar 8 10:41:31 2017 -0600

    init.d/sysfs: drop modules completely from the dependencies
    
    This is for #112.

commit 6a79aef0159d7035778fd852b26ecfac903cd029
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Mar 7 17:40:18 2017 -0600

    init.d/sysfs: Do not load efivarfs module
    
    My understanding is that the kernel can autoload this module. If it
    doesn't, the module should be built in or loaded from an initramfs.
    
    This fixes https://github.com/openrc/openrc/pulls/112.

commit 4a269674b765e5267f024fa55c8644480a7304ea
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Feb 28 17:44:06 2017 -0600

    make sure netmount and localmount start after root

commit eea4decdd1c84e4b8775a255d8ed85bce5eb40a5
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Feb 26 19:09:56 2017 -0600

    net-online: typo fix

commit d4d0f25a4844ecaed43de913e8b729e7a2e894db
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Feb 26 13:51:50 2017 -0600

    net-online: updates to make the service more usable
    
    - switch from attempting to ping the default gateway to a host outside
    the local network, defaulting to google.com.
    - along with this, change the name of the variable that requests a ping
    test to include_ping_test so the meaning is more clear.

commit 1cb44092fce298004ab4c4547c6fbcac29c5997f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Feb 23 12:50:33 2017 -0600

    sh/rc-functions.sh.in: add get_bootparam_value function

commit 4207e46622f584eb5f0cc10bbfd36f92f001a2e2
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Feb 22 12:26:09 2017 -0600

    move init.d examples under support and install them

commit f6ea16159ec8583a6f2182578334aa00578cb080
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Feb 22 14:25:02 2017 -0600

    scripts: make sure the rc-sstat symlink is always replaced

commit 9047ea4cb0d0e5e27704369380e128d26c3e86b2
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Feb 17 12:52:38 2017 -0600

    install support files
    
    These files have been in the distribution for some time but haven't been
    installed. They are good examples of how to do things, so we should
    install them.

commit d7f5a696c173e7af67dd4b3f90744e0a056441e1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Feb 17 12:28:10 2017 -0600

    support: rename all README files to README.md

commit 6f614cd3f33dbdea3a67ac2fb414b1130674ee04
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Feb 17 12:06:03 2017 -0600

    Move deptree2dot to the support folder
    
    Since deptree2dot and the perl requirement are completely optional, we
    can move this tool to the support folder. This gives the user the option
    of using it if they have perl installed, and means we do not have an
    optional runtime dependency on perl.
    
    Documentation for this tool has also been added to the support folder.
    
    X-Gentoo-Bug: 600742
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=600742

commit 85c1930acf15b0c9d3c5537fb2b0409c6a11c982
Author: William Pitcock <nenolod@dereferenced.org>
Date:   Tue Jan 31 20:48:59 2017 +0000

    test/setup_env: ensure that eval_ecolors is available on the path.
    
    The test environment previously used the system default paths instead of installing the necessary $PATH environment
    variable to make finding eval_ecolors work.
    This closes #117.
    
    X-Gentoo-Bug: 374191.
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=374191.

commit 96bd0c004c9549e5a2ef64277216a15da6f96a8e
Author: Nicolas Porcel <nicolasporcel06@gmail.com>
Date:   Thu Jan 26 22:01:43 2017 +0100

    Fix typo in guide.md
    
    This fixes #115.

commit b693af90556ac9b055ba5c6e589066c1e08b2146
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jan 26 15:39:19 2017 -0600

    Revert "scripts: do not substitute for @SHELL@ in rc-sstat"
    
    This reverts commit e2e652e469efa5f3ebcd69828ff16d8f5ad3f1b8.

commit 6dcb6929869c2f81c1f8d0930191f74fc6dfaa3e
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Sun Jan 8 10:48:53 2017 +0000

    start-stop-daemon: allow all standard signals
    
    Also we define the signalpair_item macro.
    This fixes #113.
    
    X-Gentoo-Bug: 604986
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=604986

commit e2e652e469efa5f3ebcd69828ff16d8f5ad3f1b8
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Jan 8 20:42:26 2017 -0600

    scripts: do not substitute for @SHELL@ in rc-sstat

commit b73941f0c3020e3dbd1684d09685e114c678b520
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jan 4 18:18:27 2017 -0600

    mountinfo: make the path to /proc/mounts a constant
    
    This path should not be hard coded in the open call.
    Linux prior to 2.4.19 did not have /proc/self/mounts, so for now I'm
    making this value /proc/mounts everywhere, but that may change to
    /proc/self/mounts on linux; I'm not sure we should care about <2.4.19.
    
    X-Gentoo-Bug: 604646
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=604646

commit c304522131a795cf882444b5f94e81db4baf65b3
Author: Benda Xu <heroxbd@gentoo.org>
Date:   Wed Jan 4 17:18:35 2017 -0600

    Clean up warnings that can use the _unused macro
    
    X-Gentoo-Bug: 604666
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=604666

commit 92325b44ba58a7ca04d88ae8ca202b402b032b43
Author: Benda Xu <heroxbd@gentoo.org>
Date:   Wed Jan 4 16:56:09 2017 -0600

    Indentation fixes
    
    X-Gentoo-Bug: 604666
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=604666

commit 074d90f5a4e3b66e532a0becde372acf38346397
Author: Benda Xu <heroxbd@gentoo.org>
Date:   Wed Jan 4 16:11:35 2017 -0600

    Drop the use of the _BSD_SOURCE macro on Linux
    
    X-Gentoo-Bug: 604666
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=604666

commit 7056b56b3ccc9cbde4ef8297b923919c49c7c242
Author: Benda Xu <heroxbd@gentoo.org>
Date:   Wed Jan 4 16:09:09 2017 -0600

    Drop the use of the _BSD_SOURCE macro on GNU/Hurd
    
    X-Gentoo-Bug: 604666
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=604666

commit d5c3b85e3fbddbba149687244d607fcdae222f95
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Wed Dec 21 18:00:02 2016 +0000

    loopback: drop explicit route for BSD too

commit 1ab2249448ba24a591b561f53aa64ff3df1e41f6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Dec 21 11:50:22 2016 -0600

    version 0.24

commit a15cff21c63f2ad951af1c59a74fc7d37f78e91b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Dec 20 12:34:22 2016 -0600

    update ChangeLog

commit 45aa36cc623eeeb15fb6827b57e0c07a37cdef41
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Mon Dec 19 00:43:27 2016 +0000

    librc: detect loops in stacked runlevels and abort
    
    This fixes #109.
    X-Gentoo-Bug: 558700
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=558700

commit d3f833179b39368442221c448f90b87f76d28ee8
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Dec 18 11:52:54 2016 -0600

    sh/init.sh.Linux.in: remove unused check for Gnu/KFreeBSD
    
    This script only runs on Linux, so the check will always be false.

commit abe552b969b6601f47ba0474f683d8cd80d53c9d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Dec 18 01:13:48 2016 +0000

    modules: get rid of printing each module on Linux
    
    Now that we respect the module blacklists, don't print every module we
    try to load, because it might not end up loaded due to the blacklist,
    and modprobe doesn't consider that a failure.

commit 856eafb006655b7dda630a94cbd16f5db9f781be
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Sat Dec 17 19:59:45 2016 +0000

    sh/init.sh.Linux.in: skip /proc test if no md5sum
    
    This will also warn users if md5sum is missing, which serves as a pretty
    good indicator that /usr is not mounted.

commit f27d60add9ee1ef8a90ea0034edf6f4e4e6d0ed8
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Thu Dec 15 14:43:34 2016 -0800

    sh/openrc-run.sh: expose default start/stop/status
    
    Supervisor setups break easily when start/stop/status functions are not
    default.
    
    Applications that write multiple PIDs to a pidfile (eg HAProxy as
    described in bug 601540), can also benefit from being able to call the
    default start/stop/status with modified environment variables.
    
    Expose the default start/stop/status functions as
    default_start/stop/status, and use them for the defaults
    start/stop/status.
    
    Trivial usage example:
    ```
      stop()
      {
        t=$(mktemp)
        for pid in $(cat $pidfile) ; do
          echo $pid >$t
          pidfile=$t default_stop
        done
        rm -f $t
      }
    ```
    
    X-Gentoo-Bug: 601540
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/601540
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 8ad460c54ce66aa0900cf872d9ebfacf0c03f9da
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Sat Dec 17 18:41:02 2016 +0000

    Fix typos
    
    Fixes #99

commit 72c0824961fc257b634a9439496e04d1b3392ef1
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Sat Dec 17 18:39:53 2016 +0000

    localmount: add comment about types variable

commit 5b7e3490ef2ce96c35e6c18b4c64e8c61586bb7a
Author: Alan Somers <asomers@gmail.com>
Date:   Fri Dec 16 22:51:13 2016 -0700

    Localmount shouldn't mount remote filesystems
    
    The /etc/init.d/localmount script has a syntax error that causes it to
    attempt to mount remote filesystems, causing the boot to fail. The
    script appends a "no" to each remote filesystem type, but it should only
    be append the "no" to the beginning of the list.  This patch fixes
    localmount on FreeBSD 12.0.  A review of the mount(8) manpage on Ubuntu
    12.04 suggests that this patch is correct for Linux, too.

commit dd61e6bfc3fc1da011b01f4f6cf3e45e26c59dc1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Dec 15 17:52:34 2016 -0600

    rc.conf: fix the commented default setting for rc_logger
    
    X-Gentoo-Bug: 601480
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=601480

commit 204971c6e2ea1e37fa037e09bff02eea3a07f843
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Mon Dec 12 15:13:26 2016 -0500

    runlevels: remove bad trailing backslash

commit 3552f0ae548d68effd4411ad4080e7b13fe627c5
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Dec 5 12:23:37 2016 -0600

    man/start-stop-daemon.8: clarify documentation about --pidfile option
    
    The documentation implied that if you stop a daemon we handle multiple
    pids in a pid file. This is not correct. We only handle the first pid.
    
    X-Gentoo-Bug: https://bugs.gentoo.org/show_bug.cgi?id=601540

commit 42cb84882918a0c9dd93a89d92b0b4818dfb44b8
Author: AndCycle <andcycle-github@andcycle.idv.tw>
Date:   Fri Dec 2 19:22:14 2016 +0800

    fix manual typo
    
    This fixes #105.

commit e0ac661419042cb39c1ccf93df2981504d1e6339
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Nov 14 18:12:06 2016 -0600

    split tmpfiles processing into opentmpfiles
    
    The openntmpfiles package is designed so that it can be used on systems
    independently of whether openrc is used.

commit 6414c3bc394f86a5d6a5f02c934469e21bbbc923
Author: Jason Zaman <jason@perfinion.com>
Date:   Wed Nov 16 12:55:49 2016 +0800

    selinux: fix SIGSEGV with invalid contexts
    
    Fixes: https://github.com/openrc/openrc/issues/104

commit 4f9bd7e4db185ce6debbebb5242344d8ffadc3ae
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Nov 3 12:47:01 2016 -0500

    init.d/loopback.in: drop the route to the loopback interface on Linux
    
    This is related to #103.

commit bf539f2196290864ce5c5fd0d679b74ee016e2da
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Nov 3 12:29:21 2016 -0500

    init.d/mount-ro: do not remount /usr read only if it is premounted
    
    X-Gentoo-Bug: 573760
    X-Gentoo-Bug: https://bugs.gentoo.org/show_bug.cgi?id=573760

commit 20b60ea904612669dfb744beffcd8e7e447f69ef
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Nov 3 11:57:40 2016 -0500

    conf.d/net-online: clarify comment about interfaces setting
    
    This setting refers to all interfaces that support ethernet

commit f53c8baef3a6215077c00901759cbbcbe8f10e9b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Nov 3 11:18:20 2016 -0500

    init.d/net-online: remove interfaces and timeout from local declarations
    
    X-Gentoo-Bug:  598621
    X-Gentoo-Bug-URL:  https://bugs.gentoo.org/show_bug.cgi?id=598621

commit be06cd250e12e63b8eb704bb2508e06fb9791251
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Nov 1 17:31:35 2016 -0500

    src/rc/rc: do not try to start services if fork fails

commit 003657c973ea338a19f2b7294190af9d76cf5cea
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Oct 24 14:19:22 2016 -0700

    init.d/loopback: drop scope on loopback
    
    Busybox does not support the 'scope' argument on 'ip address add' or 'ip
    route add', this is documented in BUSYBOX.md, but is no longer actually
    needed, as the kernel does get it right without manual specification,
    and the ifconfig variant already relies on the kernel to get it right.
    This is part of #103.
    
    X-Gentoo-Bug: 487208
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=487208

commit 4fd144c0a6526963c70f18cb34a65354c2f0a48c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Oct 24 12:39:14 2016 -0500

    src/rc/rc-misc.c: report error if call to flock() fails
    
    X-Gentoo-Bug: 597390
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=597390

commit c44c904a61418189c989e978b0237e5b161263ef
Author: Joe Maloney <jpm820@gmail.com>
Date:   Thu Oct 13 23:09:22 2016 -0400

    init.d.misc/wpa_supplicant: find wireless interface for FreeBSD
    
    This fixes #101.

commit 78146b0e14cb57dda8a3aed3d4f8d6b1db7a3c7e
Author: Sven Wegener <swegener@gentoo.org>
Date:   Tue Oct 4 11:30:02 2016 +0200

    do_service: Initialize idx to 0
    
    If index is not explicitly specified for service_started_daemon, it will
    look for daemons by random index.
    
    This fixes #100.

commit deaae7ab5c499191426cec81f6e803c972f0cca3
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Oct 5 22:43:56 2016 -0500

    init.d/sysfs: load efivarfs module when booting in efi mode:1
    
    The presence of /sys/firmware/efi is used to indicate that the system
    was booted in efi mode.

commit 3d2c2f0b871944492036d04b0c220ccba1fa2dd5
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 4 18:18:05 2016 -0500

    init.d/sysfs: fix efivarfs module test

commit 6a0c033a64ce18056625cd37a94b9810dc5784e3
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 4 11:51:24 2016 -0500

    init.d/sysfs: fix efivarfs handling
    
    Separate loading the module, if it isn't built in or loaded, from
    mounting the file system.
    
    This also makes sure the warning about configuring the module in
    /etc/conf.d/modules or building it in is displayed only if it is loaded
    successfully.
    
    X-Gentoo-Bug: 595836
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=595836

commit 6710316a18c33601e780282e72c60f09b5175280
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Fri Sep 30 17:29:56 2016 -0400

    openrc-run: fix double free

commit 61882821e0d6110a2ca2f67fad7c362983a85cf0
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Wed Sep 28 15:00:40 2016 -0400

    init.d: Clean up some bad ewarn output

commit 969546bcf0203379db286be21c7f709d27cc73b0
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Sep 27 19:38:20 2016 -0500

    typo fix
    
    X-Gentoo-Bug: 595306
    X-Gentoo-Bug: https://bugs.gentoo.org/show_bug.cgi?id=595306

commit d0ae7ffc2534fa65c2e8927931f5107ce4505ca6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Sep 27 19:38:07 2016 -0500

    version 0.23

commit b71bcc242202752bc74fce3a5c629f172b04fca5
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Sep 27 12:24:40 2016 -0500

    update ChangeLog

commit 24010dcb483cf7284cd8a5db111ae63f0d4e1038
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Sep 23 15:25:22 2016 -0500

    dist: convert to tar.gz
    
    This allows the "make dist" target to be used as well as the github
    archive generation.

commit 0a76627345a173fc00be9864f3f3f5c3b15319cd
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Sep 23 14:17:14 2016 -0500

    init.d/swap: remove the case for linux
    
    I am removing the separate case for Linux, because we are droppping the
    "-e" switch.

commit bbf98befb86337a36ef5af7f273e503a6de4b9bd
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Sep 22 17:22:03 2016 -0500

    sh/init.sh.Linux.in: update test for live /proc to use md5sum
    
    This allows us to avoid the warnings from bash-4.4 about null bytes in
    command substitutions.
    
    If you have separate /usr, are not using an initramfs, and have a file
    called /proc/self/environ on your root file system, this will break.
    X-Gentoo-Bug: 594534
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=594534

commit 316903fbf0da6edc067a98327c8c6cb2b3cdcf93
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Sep 22 10:30:41 2016 -0500

    man/openrc-run.8: typo fix

commit 66a9788435e51e658e4ae9d3ce0d0e54ea53e4f9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Sep 21 13:33:39 2016 -0500

    man/openrc-run.8: Add note about eval usage
    
    This fixes #77.

commit bf73363f220ff086d2559e7c2015801f80862749
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Sep 20 12:55:53 2016 -0500

    Add --use-blacklist to modprobe calls in modules and modules-load
    
    This means that we will honor the modprobe black lists.
    
    X-Gentoo-Bug: 594012
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=594012

commit d6c30ab12a3b335ac57cd1f0ac00231bb34fc0c4
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Sep 20 11:23:46 2016 -0500

    Revert "Remove eval calls from supervisor start functions"
    
    This reverts commit 0d1f1010c299a95332f224c3be9e8dfdd85eec54.
    We need the eval in case someone uses something like:
    command_args="this \"is a\" test"
    
    This is related to #77.

commit 0d1f1010c299a95332f224c3be9e8dfdd85eec54
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Sep 19 18:03:57 2016 -0500

    Remove eval calls from supervisor start functions
    
    This fixes #77.

commit 83bb827edf5b9be04a326d1970d6f55db239281f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Sep 19 12:07:04 2016 -0500

    Revert "Disable parallel startup in interactive mode"
    
    This reverts commit 8b4fc05ff2645b2ecb0f153492f72dd8b39ba431.
    The original commit did not explain why this feature was disabled, and I
    now have a request to enable it.
    
    This fixes #24.

commit c146b966913ae80652e3be925d3aba60ed82f14d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Sep 16 14:23:09 2016 -0500

    Add command_progress variable
    
    If this is set to yes, 1, true, or on, start-stop-daemon will display a
    progress meter while waiting for a daemon to stop.

commit 6cabaf274defa11773094a2c85b3d0a9f0bd9b08
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Fri Sep 16 09:51:03 2016 -0400

    rc-misc: allow EINFO_VERBOSE through too

commit 1edb5f6fd9c4827e5d4ed5c854bc322ba8a7df73
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Wed Sep 14 22:48:56 2016 -0400

    rc-misc: Allow EINFO_COLOR through env_filter()
    
    This allows rc-service -C <service> <action> to properly not print color
    messages.
    
    Fixes #93

commit c4d7e02abd7008b8e8ad16f62c2abbb60fab252b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Sep 14 11:08:48 2016 -0500

    Fix permission checks for cgroups
    
    This is needed because containers may give read access to cgroups but
    not allow the settings to be changed.

commit a4e0d675e13f07bf880da10a4d602983a556264d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Sep 13 14:02:10 2016 -0500

    man/openrc-run.8: update variable documentation
    
    - document command_args_background and command_user.r
    - clarify documentation for command_background
    
    This fixes #78.

commit 8a8032478a755f6e2ceaebc5425e61c6817df936
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Sep 13 12:27:08 2016 -0500

    Make use of name vs RC_SVCNAME consistent in supervisor scripts
    
    This fixes #79.

commit ac53c9a658589456c678b6bfe674a66a3845e564
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Sep 12 11:20:26 2016 -0500

    sh/init.sh: fix the test for cache restoration
    
    This fixes the test for cache restoration since we are no longer caching
    the dependency tree.

commit b02ff466fa75cc4b5bcfaff3f2989cc65c823f43
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Sep 9 11:12:32 2016 -0500

    savecache: stop saving the dependency tree
    
    This fixes #85.

commit 6bd0f2d096f149906061a4ac7b66b7e85516784a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Sep 12 12:58:01 2016 -0500

    init.d/procfs: typo fix

commit 63f8ae466f046dcdbb0ba13ef96e63eeec86e6e6
Author: frickler01 <frickler01@users.noreply.github.com>
Date:   Fri Sep 2 14:10:05 2016 +0200

    Format code blocks and variable/path notations
    
    Add markdown backticks for commands, variable names and path as well
    as code blocks for better readability.
    
    This fixes #97.

commit 841b883825ddf9982a673b3964757f6df25acd46
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Sep 8 12:39:52 2016 -0500

    hwclock: fix module load warning

commit ba10793b0b85b11fae04e6526716c6f7976afde1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Sep 6 18:15:27 2016 -0500

    init.d/procfs: fix binfmt_misc module load warning
    
    This reworks the logic so that the warning about configuring the
    binfmt_misc module is only displayed if the module actually has to be
    loaded.

commit d4d559323819c8a5279bf197d8d3ff80f1e28cdc
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Sep 5 11:20:03 2016 -0500

    sh/openrc-run.sh: read global configuration settings first
    
    X-Gentoo-Bug: 503134
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=503134

commit d5db5489be135ae9295e378e789b4b7b13367fdd
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Sep 5 13:24:27 2016 -0500

    init.d/swap: do not unmount all tmpfs file systems
    
    X-Gentoo-Bug: 568162
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=568162

commit d06db93d5954460668d09cf6ef2fc401ee9d981c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Sep 3 14:04:03 2016 -0500

    remove swapfiles service
    
    The swapfiles service was basically a copy of the swap service, so this
    commit consolidates the functionality into the swap service.
    
    X-Funtoo-Bug-URL: https://bugs.funtoo.org/browse/FL-2523
    X-Gentoo-Bug: 568162
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=568162

commit 8c14d0c476e06fff7598c526e26b6a13d53a4600
Author: Martin VÃ¤th <martin@mvath.de>
Date:   Tue Aug 30 19:47:13 2016 +0200

    Fix typo in RC_UNAME check of modules-load
    
    The $RC_UNAME "Linux" had been misspelled as "linux".
    As a consequence, entries in e.g. /etc/modules-load.d failed to
    load any module succesfully under Linux(!)

commit 04debf6f25b3748a101b61cb85f78617dbe5be6e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Aug 30 09:08:17 2016 -0500

    another news typo fix

commit c289774b00d0d7dc38fdc1f0f623569bd184a4b1
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Fri Aug 26 15:23:54 2016 -0400

    modules-load: handle comments better
    
    This handles comments without a trailing space after the comment
    character.
    
    Reported-By: josef64

commit 9dd8ee330d8a4449c937bc95fc8393a55913c8d1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Aug 25 21:05:45 2016 -0500

    typo fix

commit 5d5856c193768d24f11d5f0533e48c39526aef5c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Aug 25 17:33:04 2016 -0500

    Update news file
    
    Add information on modules-load service and more explanation about
    dealing with the rc -> openrc and runscript -> openrc-run transitions.

commit 686e172207ac9e23560da18a6f877be777ded935
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Aug 25 17:02:14 2016 -0500

    init.d: add modules-load to ignore patterns

commit fef6268f8d03e3ab3e2564cbf3634d0db2bcd99e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Aug 25 16:10:45 2016 -0500

    modules-load.d: cleanups
    
    Move list of directories to a local variable and create the fn variable
    to use for an individual file name rather than using path.

commit 556dbff99d53cdcc00e6b1ec67e1679f72b6f284
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Aug 23 17:48:39 2016 -0500

    Add modules-load.d support

commit 69ac78d76a31d843c004717eb6aa6a77bb4c9a8e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Aug 25 11:04:48 2016 -0500

    openrc-run: make runscript warning respect quiet option
    
    X-Gentoo-Bug: 591414
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=591414

commit 4018dfc8de4818101c336ff8bcf0f4762b318c6a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Aug 24 13:43:11 2016 -0500

    init.d/hostname: do not use localhost as a default hostname
    
    This allows the operating system default hostname to be used if no
    hostname is configured.

commit 353bb9bc9a0ab3c6650d72d2ceb14c990762a2a0
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Aug 23 13:22:19 2016 -0500

    init.d/hostname: add support for /etc/hostname

commit 73cdf10f1f513be7b5dec4f1cc91e0c68cda689b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Aug 18 16:25:56 2016 -0500

    Deprecate automatic loading of modules
    
    In the hwclock, procfs and sysfs service scripts, we automatically
    attempt to load the kernel modules we need before we take any action. We
    shouldn't do this, because there are systems which do not use kernel
    modules and do not have the kmod package installed.
    
    With this change, we continue to load the modules ourselves, but we warn
    the admin that they need to be added to /etc/conf.d/modules or built
    into the kernel.
    
    In the future, this automatic loading will be dropped.
    
    X-Gentoo-Bug: 342313
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=342313

commit 1a55d46645b376cd27f394796934150120a08387
Author: Raymond Jennings <shentino@gmail.com>
Date:   Mon Aug 15 12:50:52 2016 -0500

    local.d/README: typo fix
    
    X-Gentoo-Bug: 591258
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=591258

commit cae3976ef1276ce33aa7e49474f13499a48a3fe6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Jul 31 14:02:30 2016 -0500

    init.d: Add runsvdir to ignore patterns

commit da28a3d367b6078deda6bc205806b43b971e67a9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Jul 31 13:01:17 2016 -0500

    init.d: initial service adjustments for docker support
    
    Add -docker keyword to the same scripts that have -lxc keyword.

commit ca8c29ee60b0e8ca89091aaf801725bd71e28001
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Jul 31 12:24:56 2016 -0500

    librc: fix Docker auto detection
    
    The original auto detection of Docker containers assumed the presence of
    a container environment variable. However, Docker-1.12 does not
    implement this, and I'm not sure which versions of docker implemented
    it.
    
    The new test is for the presence of a file named .dockerenv in the
    root directory.

commit f62253b8334a85dac4671e42817b96a3bedd1881
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jul 27 16:26:26 2016 -0500

    Add support for runit
    
    X-Gentoo-Bug: 501364
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=501364

commit f2c2e2dd5a5e0a22da4dcabea6615d0f4697a962
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jul 27 14:09:24 2016 -0500

    init.d/sysctl.in: typo fix

commit 94b98430cb83a8f4e62d837100fc357e9eb12ca6
Author: Kenneth Lakin <kennethlakin@gmail.com>
Date:   Tue Nov 3 03:33:06 2015 -0800

    start-stop-daemon: Add SSD_IONICELEVEL
    
    This is the disk IO counterpart to SSD_NICELEVEL.
    Modified by William Hubbs to add the variable to the start-stop-daemon
    man page.
    
    This fixes #69.

commit b19d0a40d7f20987323d5af91469c720ead39561
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jul 26 11:14:39 2016 -0500

    init.d/loopback: remove unnecessary stop function

commit 0c229faf7e6a57bcff70f2143b83cb69a34c89f4
Author: Martin VÃ¤th <martin@mvath.de>
Date:   Wed May 25 11:03:12 2016 +0200

    tmpfiles.sh: Support lines with q Q h H
    
    btrfs support is not implemented yet (for q Q v), but at least tmpfiles.sh
    no longer chokes about tmpfiles.d lines of recent systemd versions
    
    This fixes #87.

commit 3092e310acd376fc626cc051549e02bcd7697aed
Author: Mike Gilbert <floppym@gentoo.org>
Date:   Sat Mar 12 14:10:42 2016 -0500

    tmpfiles: Accept filenames as command line arguments
    
    This brings us closer to being able to use tmpfiles.sh as a full
    replacement for systemd-tmpfiles.
    
    This closes #83.

commit 671911762d1bcd90c10d8ac0eb30fe10be4a65f6
Author: Mike Gilbert <floppym@gentoo.org>
Date:   Sat Mar 12 13:13:56 2016 -0500

    tmpfiles: Process command line before gathering config files
    
    This is part of #83.

commit 7d68839e9ea89b0a92aef69a9b4fd298554bb9b1
Author: Mike Gilbert <floppym@gentoo.org>
Date:   Sat Mar 12 13:01:51 2016 -0500

    tmpfiles: Make unrecognized options fatal
    
    This is part of #83.

commit 5341a925c15934674031aebb97533b0adcd10236
Author: Jakub Jirutka <jakub@jirutka.cz>
Date:   Fri Jul 22 23:24:49 2016 +0200

    s6-guide: fix typo
    
    This fixes #92.

commit 3adb8fb389caaafbed1be13c5ac4d96214c8eed3
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Sun Jul 24 02:27:53 2016 +0000

    rc-logger: refuse to cat TMPLOG into itself
    
    This prevents an infinite loop in case somebody decides to set
    rc_log_path to match TMPLOG.

commit 8927a37fb790e718c956376242a532ab9d1755e7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jul 20 15:05:00 2016 -0500

    etc: remove rc.conf.* file fragments

commit b085b2cda58bc884acb959e48f14fb044c983042
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jul 20 12:51:07 2016 -0500

    etc: create default rc.conf
    
    Before now, /etc/rc.conf was created by the build system from multiple
    rc.conf.* file fragments and there was no reason for this.

commit daf93977641201f16c477b075ce9055a1da8f7b3
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jul 19 15:56:06 2016 -0500

    init.d: combine sysctl scripts
    
    We had separate sysctl scripts for each operating system. However, there
    is no need to do this since we can detect the operating system at
    runtime with $RC_UNAME.

commit 2984504c887afc9a36610eb7c20b097f7d1e70d0
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jul 19 11:35:12 2016 -0500

    conf.d: remove staticroute file fragments

commit 35e8386c24df6483f2918979dae150421f7151df
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jul 19 11:21:44 2016 -0500

    conf.d: makestaticroute file static

commit 2108285d64e2ee8cc03fbe544efc3752fe349bdd
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jul 19 10:22:17 2016 -0500

    conf.d: remove network file fragnents

commit a3133fec250eca3cdfb460c2ce26c707fd593c09
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Jul 18 17:59:57 2016 -0500

    conf.d: make network file static

commit 314ae3dc781d7ae8fc26c276a85b0dc6ab6bc326
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Jul 17 14:53:12 2016 -0500

    modules: add support for FreeBSD
    
    This is based on a patch submitted by
    Joe Maloney <pkgdemonteam@gmail.com>.
    
    This fixes #91.

commit 695be59083cdf0d2ff9296f2c210e591c51bdf40
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jul 15 11:37:54 2016 -0500

    rc-status: add -m/--manual  option to show manually started services
    
    X-Gentoo-Bug: 585906
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=585906

commit c962678dd6ab1314b55c2a3bcdae03902bda39b8
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Sat Jul 16 20:10:37 2016 +0000

    rc: Rename some static variables to kill warnings

commit 3a1262703fd20d2e8288d13d908fb282c77d1793
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Mar 22 15:04:14 2015 -0500

    Remove the DEBUG_MEMORY macro
    
    This fixes #43.

commit 20035210bdf5d5729734457f35f5f32a53a5b3ad
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jul 14 12:13:17 2016 -0500

    make variable aflag a boolean show_all

commit 7f84b5d741c150cd159d5a3cda3ef532f0381826
Author: Jaromil <jaromil@dyne.org>
Date:   Thu Jun 2 12:15:08 2016 +0200

    libeinfo: document the x suffix on function names
    
    This fixes #88.

commit 8bca2cd4b3c710809131ac036456b34c223e8d12
Author: Julian Ospald <hasufell@posteo.de>
Date:   Wed Jun 29 14:27:37 2016 +0200

    Build: fix hardcoded pkg-config invocation
    
    This fixes #89.

commit ac8ad169ae59fece38066c2e08ff57d53d737edd
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jul 6 10:40:31 2016 -0500

    hwclock: always use --noadjfile if available
    
    When we use the --utc or --localtime switch, also use --noadjfile if it
    is available. This means hwclock will not use a drift file.
    
    X-Gentoo-Bug: 584722
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=584722

commit 553799400218903ab495d1154a41c6d8890cb752
Author: Mike Gilbert <floppym@gentoo.org>
Date:   Thu Jun 23 08:40:45 2016 -0400

    man: Document the procname variable for openrc-run
    
    X-Gentoo-Bug: 586794
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/586794

commit 5af5d12f3e56f9f2ff232d124d27c856fd66f551
Author: Benda Xu <heroxbd@gentoo.org>
Date:   Mon Jun 13 17:43:36 2016 -0500

    Fix PATH for Prefix.
    
    1. remove default /bin:/sbin:/usr/bin:/usr/sbin
    2. PKG_PREFIX should be defaulted to $(PREFIX)/usr
    3. LOCAL_PREFIX should be defaulted to $(PREFIX)/usr/local
    
    X-Gentoo-Bug:583634
    X-Gentoo-Bug-URL:https://bugs.gentoo.org/show_bug.cgi?id=583634

commit b2c92b88cc6ce6d81444667efbc6d44542db1788
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jun 7 04:31:48 2016 -0500

    fstabinfo/mountinfo: ensure /etc/fstab exists before calling setmntent
    
    This is based on a patch by A. Wilcox <awilfox.gentoo@foxkit.us>.
    
    X-Gentoo-Bug: 478226
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=478226
    
    X-Gentoo-Bug: 478226
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=478226

commit 1b32af17225a4b18ced7f4326727cbe8265e7fd2
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jun 10 16:02:25 2016 -0500

    increment version to 0.22

commit 5bfb7d6c77ff533e34e2bbfe5b6e57410d961d70
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue May 24 14:02:35 2016 -0500

    Update ChangeLog

commit 12c8248b5f53879935d4e62ef42023f703c7b636
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue May 24 13:06:29 2016 -0500

    update news for 0.21

commit 820ef6dab674c2878d72edc8ea21e7250b1b5aec
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue May 24 12:55:50 2016 -0500

    supervise-daemon: clarify documentation about configuring daemon not to fork

commit 87884db66767eba6317b506a4d7270dd22721831
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue May 24 11:24:10 2016 -0500

    Make deprecation warnings for rc and runscript more visible
    
    These warnings were inserted in verbose only mode in OpenRC-0.13.A
    Now, we are making them more visible in preparation for removing these
    compatibility binaries in the future.

commit 94077d264e14783e6ca5603d64e9d579fb206c20
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon May 23 11:06:40 2016 -0500

    supervise-daemon: log the exit code or signal when a child process dies

commit 3351c8b4c3027f09003f8ba33e43f46762f5c453
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu May 19 17:59:40 2016 -0500

    supervise-daemon.sh: add support for chroot variable

commit a8214af2fe3aa91930e3270af99cf1d9b7ef5b0a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu May 19 17:58:14 2016 -0500

    start-stop-daemon.sh: fix regression in chroot support
    
    The support for the chroot variable was broken in 0.16, this fixes that
    breakage.

commit 9a372812c78ea8efc55b3dea6a39c2d0559bca45
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu May 19 13:36:43 2016 -0500

    guide.md: typo fix
    
    This fixes #86.

commit 3fa9015b8e5610d38366f781a08789e34159b0dc
Author: Jason Zaman <jason@perfinion.com>
Date:   Sun Mar 6 16:22:51 2016 +0800

    rc-selinux: access check was backwards

commit 3b5a8b331e81ecd9a9362553c16f4527291d5528
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri May 13 12:05:23 2016 -0500

    supervise-daemon: add pam service file

commit b3a04e797e5e459842c2c239886ab6ea08a8dc29
Author: Anthony G. Basile <blueness@gentoo.org>
Date:   Thu May 12 17:48:15 2016 -0400

    runlevels/Makefile: add support for runlevel ânonetworkâ
    
    Traditional System V reserves runlevel 2 for multiuser with no
    networking.  We add support for this which is already defined in
    the inittab as
    
        l2:2:wait:/sbin/rc nonetwork
    
    X-Gentoo-Bug: 533828
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=533828
    
    Signed-off-by: Anthony G. Basile <blueness@gentoo.org>

commit 92e2f2c7cc958effcec0ef773dda954a153d8e42
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu May 5 17:02:39 2016 -0500

    killprocs: remove calls to sleep
    
    X-Gentoo-Bug: 487084
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=487084

commit ad23d5b8dbee70815c02271c78f415bcd7088076
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed May 4 18:17:58 2016 -0500

    openrc-run: clean up runscript deprecation message

commit 62410eaf4ba92516a58a550717d7f3faf63bb79f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Feb 1 12:42:58 2016 -0600

    add daemon supervisor
    
    The supervise-daemon process is meant to be a lightweight supervisor
    which can monitor and restart a daemon if it crashes.

commit fd80b6fc67ec6a0fe4853167fb67ee40bb51b742
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Apr 26 12:43:50 2016 -0500

    localmount/netmount: clean up critical mount processing
    
    Fix a typo and do not fail if a path in critical_mounts is not listed as
    a critical mount does not get mounted.

commit 5d130cc45cd334fd38b0c6874bcc81ac74636217
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Apr 25 12:04:34 2016 -0500

    localmount/netmount: allow mount points to be marked critical
    
    In previous releases, we either treated no mount points as critical or
    all of them.
    
    Now both localmount and netmount support a critical_mounts setting. If
    mount points listed in this setting fail to mount, localmount and
    netmount will fail.

commit 1c3c2cf6d8cb060d03919297f5fe706f6027a4c6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Apr 15 11:30:44 2016 -0500

    netmount: fix mounting on Linux
    
    Before this commit, on Linux, we were always trying to mount file
    systems marked with _netdev, even when the previous mount command
    failed. Now, we do not run the second mount if the first fails.
    
    X-Gentoo-Bug: 579876
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=579876

commit 171e856ec8a0a64504b4b4a47ab6181d37fc3dbe
Author: Mike Gilbert <floppym@gentoo.org>
Date:   Wed Mar 16 10:25:27 2016 -0400

    start-stop-daemon: Allow group read/write when creating output files
    
    This allows for better interaction with inherited ACL entries.
    This fixes #84.
    
    X-Gentoo-Bug: 577362
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/577362

commit beaa71df0ab2cfa61beba4be0303099aa6c75e6a
Author: Dustin C. Hatch <dustin@hatch.name>
Date:   Thu Feb 18 19:18:13 2016 -0600

    binfmt.sh: use read in raw mode
    
    The read builtin in most shells will interpret backslash characters
    as escapes, and they are lost when reading binfmt files line-by-line.
    This causes magic strings containing backslashes to be mangled and
    become invalid, resulting in erroneous 'invalid entry' messages.
    
    The -r option to read disables special handling of backslashes and
    keeps all lines intact.
    
    X-Gentoo-Bug: 575114
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=575114

commit 7eaf71176b87ae69bfa622aa621341a19a9d32b0
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Feb 12 12:40:55 2016 -0600

    Fix rc_env_allow wildcard usage
    
    Before this commit, using * in rc_env_allow did not work.
    
    This fixes #60.

commit 2c1f6a16e10a45397e0872585dcb0e16684b6cbf
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Feb 5 20:00:41 2016 -0500

    sysfs: mount pstore when available

commit e82653782e1803e3c924aef055113333b18dafd9
Author: Patrick Lauer <patrick@gentoo.org>
Date:   Tue Feb 9 15:30:46 2016 -0600

    Add a basic OpenRC users guide
    
    X-Gentoo-Bug: 513024
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=513024

commit e52b5f59c22283b22e2b5a0d2ab9de6b92a73ebf
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Oct 26 08:41:11 2015 -0500

    savecache: stop saving nettree
    
    Netifrc is no longer part of OpenRC, so we shouldn't save its dep tree
    as part of savecache.
    
    This should have been removed when netifrc was split out. also, it
    might be related to the following bug.
    
    X-Gentoo-Bug: 563720
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=563720

commit 8a7e4d38a74c714e1a532e1b7a53fd2a5c528b63
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Sep 21 13:54:51 2014 -0500

    rc-service: add --ifinactive and --ifnotstarted flags
    
    X-Gentoo-Bug: 523174
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=523174

commit 47dd5e37cbf372df3ee0fad2c87226dce5b51587
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jan 22 12:46:29 2016 -0600

    add back deprecation warnings lost during refactoring

commit e277ae57efaba3be3eb619fd00084b116c370231
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jan 22 11:54:16 2016 -0600

    fix tests
    
    X-Gentoo-Bug: 572602
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=572602

commit 69f052b611878d771fc3f56ee77639269db9b6e1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jan 21 15:35:55 2016 -0600

    librc: Complain when a real and virtual service have the same name

commit e4eacf02cae10eca48f6906592981d701b0c1973
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jan 20 11:19:01 2016 -0600

    openrc-run: in verbose mode, log execution of the shell script
    
    This is to show when openrc-run runs the openrc-run.sh script; it is
    used for debugging.

commit 30c3561b6b648d60174a22a73555b680d2cc86fc
Author: Colin Booth <colin@heliocat.net>
Date:   Mon Sep 14 00:43:42 2015 -0700

    sh/s6.sh: update s6-svc syntax to be valid for 2.2.0.0+
    
    The s6-svc syntax changed for wait-up, wait-ready, wait-down, and
    wait-finished. This changes the s6 handling script to use the current
    valid syntax.
    
    This fixes #65.

commit 5f2850366ea0f30f0f9cb6b129b69192c11e74ac
Author: Manuel RÃ¼ger <manuel@rueg.eu>
Date:   Thu Dec 3 22:03:13 2015 +0100

    Fix typo
    
    This fixes #70.

commit 1cb7eec31f37db0de11a4b39939fd3fbe17c1e24
Author: Gokturk Yuksek <gokturk@binghamton.edu>
Date:   Wed Dec 9 20:10:57 2015 -0500

    conf.d/bootmisc: typo fix: s/dmesc/dmesg/
    
    This fixes #72.

commit cd7883d25d0a9321b68df1c1e6ad9662306fa9e7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jan 19 12:32:56 2016 -0600

    localmount: Allow users to control whether errors are ignored
    
    X-Gentoo-Bug: 572138
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=572138

commit 62b49b2a3ad1c13012305b4d7281d7f6543c70d7
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Sun Jan 17 22:57:26 2016 -0800

    rc: remove use of magic constant and allow OpenVZ to drop to shell
    
    OpenVZ has had console support for a long time now; allow them to use it
    to drop to a shell during interactive boot.

commit 4c814a0a285565bc09d662f602f93dbb938503c6
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Sun Jan 17 22:39:11 2016 -0800

    librc: handle rc_sys="prefix" even if we weren't built with a prefix
    
    This probably isn't needed, but it mimics old behavior.

commit 36dde4e7f21afba36a96837aa86f2b5d2dae3807
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Sun Jan 17 22:05:22 2016 -0800

    librc: fix handling the nothing special case for rc_sys

commit 649f63d882d53533ae8b1c3b28967e772e738c45
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Sun Jan 17 21:43:46 2016 -0800

    librc: move system detection code into rc_sys and use it
    
    This fixes an issue where librc code was calling code that only existed
    in the rc binary.
    
    This reverts commits 8addd79 and 9f6e056
    
    This fixes #75.

commit 55a28f5d2524615560698453a5a6afd50460030c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Jan 18 23:40:20 2016 -0600

    Revert "rc: make get_systype similar to the old rc_sys function"
    
    This reverts commit f79a7a7be18d68bf264efc60d82838d03048da6b.

commit 6c0942137572608d02eb4b34bad55c9bf418a6ba
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Jan 18 23:40:03 2016 -0600

    Revert "librc: fix librc-depend functions to call rc_sys"
    
    This reverts commit 73482cf13a338051606788957cbd0031ac850c70.

commit 79359f77cc786e18695368bccb6b6186ecfe38c0
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Jan 16 15:34:17 2016 -0600

    fix bsd build
    
    X-Gentoo-Bug: 572068
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=572068

commit f79a7a7be18d68bf264efc60d82838d03048da6b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Jan 18 15:50:50 2016 -0600

    rc: make get_systype similar to the old rc_sys function

commit 73482cf13a338051606788957cbd0031ac850c70
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Jan 18 15:09:31 2016 -0600

    librc: fix librc-depend functions to call rc_sys

commit 0910c455d3723ac4d4b793afb61cd82f660547f4
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jan 14 13:33:05 2016 -0600

    src/rc/Makefile: fix make depend target

commit f5e06bc55ab1717ddff8c21f00f48cfcba8cb4a7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jan 14 12:52:21 2016 -0600

    include rc.h properly in source files
    
    We were attempting to include rc.h in rc-misc.h instead of the source
    files where it should be included.

commit e7ae08c38d4753d8d54a4ed60ca98794d85aadd9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jan 14 11:35:18 2016 -0600

    version 0.21

commit 6da0abc0850dfc99df0ba50cbd0092929ec0107b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jan 14 10:53:03 2016 -0600

    fix selinux build
    
    X-Gentoo-Bug: 571798
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=571798

commit b34df9dd817069ade7e0526a59aaa9d3f2beb806
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jan 13 20:11:06 2016 -0600

    fix selinux build

commit 6f02069746f4d8a2331ab7e000abdca9bbdd622d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jan 13 19:34:22 2016 -0600

    Add LANG, LC_MESSAGES and TERM to the environment whitelist

commit d4c7207ef3906daf6f8646e8deb6d968fe76cb36
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jan 13 19:29:11 2016 -0600

    fix seg fault

commit 04f05c30d13ec83b85164a536eb570f29a66b275
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jan 13 11:01:41 2016 -0600

    update ChangeLog

commit 9473ac514cb72663d5c3bac8b5473cced4a20bf7
Author: joe9 <joe9mail@gmail.com>
Date:   Sat Oct 24 18:55:59 2015 -0400

    allow the user to decide whether fsck aborts for errors
    
    X-Gentoo-Bug: 564008
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=564008

commit bf2f40828ee26d3ba9185f29db596ee5d7b9cf61
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Dec 23 14:06:31 2015 -0600

    Remove multicall binary structure from OpenRC
    
    This eliminates the need for the selinux-specific wrapper scrript we
    were installing in /lib*/rc/{bin,sbin}.

commit fe485f44339963fdbee143687dcbef2069924bc6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jan 5 00:57:40 2016 -0600

    rc: fix compiler warnings cleanup
    
    This reverts commit 981d2b3308edb0d0a68f7bdce4f2c99110de6940 and fixes
    the warnings that generated.

commit 53bc986ce5f9725d7117356e28224ac898f9c9bf
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Jan 4 12:32:16 2016 -0600

    Clean default env_whitelist
    
    The whitelist of environment variables we pass to service scripts
    included several unnecessary variables.
    
    The default whitelist now includes EERROR_QUIET, EINFO_QUIET,
    IN_BACKGROUND and IN_HOTPLUG.
    
    X-Gentoo-Bug: 569542
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=569542

commit 981d2b3308edb0d0a68f7bdce4f2c99110de6940
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jan 1 13:13:28 2016 -0600

    rc: clean up compiler warnings
    
    The get_systype(), detect_container(), detect_prefix() and detect_vm()
    functions need to return "char *" instead of "const char *".

commit 5d3e85bc310e12411135e98a397b35fb920a72a3
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jan 1 09:19:49 2016 -0600

    add ignore patterns for init.d directory

commit 000503fad72e4eb2ef956a24df358be84b2a9493
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Dec 4 16:52:19 2015 -0600

    Convert OpenRC to a centralized copyright/license structure
    
    In the past, OpenRC was a hybrid of a centralized and file-scope
    license/copyright structure.
    
    I followed the instructions from the Software Freedom Law Center [1] to
    convert to a Centralized structure where possible, for easier future
    maintenance.
    
    [1] https://softwarefreedom.org/resources/2012/ManagingCopyrightInformation.html

commit 065f034059d7ca26bbb985158c5d361ff75df186
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Dec 14 11:37:39 2015 -0600

    format fix

commit fe32ef8e09a2edf2690a3b281cea0be84a5541ca
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Dec 11 16:46:02 2015 -0600

    FEATURE-REMOVAL-SCHEDULE: create section for librc API functions

commit c45313dfa9880c4aedb72da1b2ac3159eee05a93
Author: Rick Farina (Zero_Chaos) <zerochaos@gentoo.org>
Date:   Tue Dec 8 17:02:31 2015 -0500

    netmount: use want dependency to start nfsclient
    
    add in parsing of fstab to determine if nfsclient should be automatically
    started so that netmount can mount nfs without adding nfsclient
    to the default runlevel
    
    This fixes #71.

commit 3ef2bbfb19fe3ca0c169f9dcf48b70a59321a5d1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Dec 9 17:57:20 2015 -0600

    Add note about deprecating rc_getline()

commit cc9c23c8484ea7d07b1f8e54bcab46cc31ec727d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Dec 9 12:38:10 2015 -0600

    Complete support for rc.conf.d
    
    - gendepends.sh needs to read this directory to allow dependencies to be
      overridden
      - init.sh for Linux and Bsd need to read it to allow config settings
        they use to be overridden.

commit 935252b1152b4086ccbe76ace21e677d7ac8a357
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Dec 8 13:11:41 2015 -0600

    Add note about removing rc_sys() from librc

commit 0d202b5711228bb047140430ea8fe4f749503fb4
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Dec 8 13:02:21 2015 -0600

    Update feature-removal-schedule wrt mtab service

commit f9bdb072e8d88079a20834fe921d43e326a9a18a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Dec 8 12:50:47 2015 -0600

    rc.map: remove references to rc_sys_v{1,2}

commit 9f6e05671d6d48faa7b83aec05a637bcdfcb3f82
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Dec 7 17:56:02 2015 -0600

    Convert rc_sys() calls to detect_container() and detect_vm()

commit 8addd7913a743b75ef3854ab4a96fea81cc5245d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Dec 4 18:02:43 2015 -0600

    Create detect_container() and detect_vm() functions
    
    These functions replace rc_sys so that we can detect containers and vms
    separately.
    
    Also, we copy file_regex() to rc-misc.c and open it to all operating
    systems.

commit 83cd7145e3e7c3ac453b6a87214cf5704e3875ce
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Dec 5 17:47:47 2015 -0600

    Rename bootlevel variable in _usage.c
    
    In src/rc/_usage.c, we were using bootlevel as the variable to hold the
    return value of rc_sys.
    This changes the variable name to systype because this function returns
    a system type, not a runlevel.

commit a67e3495d0b54ac83a00fc04aef50951646814ad
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Dec 5 10:31:39 2015 -0600

    Increment version number

commit a1acdeb92ead07f2dc60cb9796aaf5b4ea377713
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Dec 4 13:50:21 2015 -0600

    update ChangeLog

commit b810473e4f7218afbb7047890860c15a8c45472b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Dec 3 17:37:38 2015 -0600

    man/openrc-run.8: Clarify documentation on dependencies and keywords
    
    Provide an example of using the -containers keyword and clarify
    documentation on some of the dependency functions.

commit 627e925463068e754ffd869f99a43634d6d9631e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Dec 3 14:09:38 2015 -0600

    add support for -containers keyword

commit f5cf1136e70502ee530f20f0434f312611b12b51
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Dec 2 15:44:35 2015 -0600

    Use systype variable for rc_sys call

commit a4038e11712d4c3f87f541f90be0b88f2903b82d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Dec 2 11:11:45 2015 -0600

    rc.conf.Linux: document the rkt keyword

commit a0cf8f91246ff4487b36d6432dab787e5b10957d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Dec 2 09:19:45 2015 -0600

    Add detection for rkt containers

commit 9fedb3b40b5983372b2c2de29dfe321c6dfaadf4
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Dec 1 18:20:02 2015 -0600

    Add detection for docker containers

commit 635e33cdc8f18bb290756633ce0714c496383cfb
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Dec 1 17:39:04 2015 -0600

    librc: comsolidate rc_sys_v1 and rc_sys_v2 into rc_sys
    
    These functions were never meant to be used outside of OpenRC, and they
    were added when we thought we were going to do away with the automatic
    detection of subsystems. Since the autodetection is not going away, we
    can combine these functions into rc_sys.

commit bd9456ff3172cc88f32d67bd4e789e2beee43595
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Dec 1 12:31:28 2015 -0600

    rc-functions.sh: add support for user-defined want dependencies

commit 33d3f33b3ca7dd2ce616b8182d588d0743c2f124
Author: Ian Stakenvicius <axs@gentoo.org>
Date:   Mon Oct 26 15:20:58 2015 -0400

    Implement "want" dependency
    
    The want dependency is similar to the use dependency. If a service
    script, for example called service1, adds "want service2" to its depend
    function, OpenRC will attempt to start service2, if it exists on the
    system,  when service1 is started.
    
    However, service1 will start regardless of the status of
    service2.
    
    X-Gentoo-Bug: 406021
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=406021

commit ddb895b355e02c9c07b00bfaf00d1bf8a7abbc03
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Nov 11 15:48:19 2015 -0600

    conf.d/netmount: typo fix
    
    X-Gentoo-Bug: 564846
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=564846

commit 085d77f17e3bedd23ffa96fe7e4eb8515ae8bfc6
Author: Benda Xu <heroxbd@gentoo.org>
Date:   Wed Nov 11 13:37:41 2015 -0600

    Standardize macro tests for gnu hurd
    
    This also fixes breakage of GNU/hurd builds introduced by commit 3f82edbeb92.

commit c831f1f994e187afd8edfff15e4063b99440bbcb
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Nov 5 11:08:29 2015 -0600

    librc: rework overriding rc.conf options from the kcl
    
    Rename the rc_conf_override function to describe its purpose better,
    drop one conditional compile by making it available everywhere, and move
    the call to it after the optional rc.conf.d directory is processed.

commit 591aea28215a8b5ad8660184dc6f6f15ff0c18b4
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Nov 5 09:29:33 2015 -0600

    librc: Remove redundant code from rc_config_load

commit c09eeca49145b034df6527c500099ba22f28e824
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Oct 30 12:32:32 2015 -0500

    Add rc.conf.d support
    
    This makes it possible to override settings in rc.conf by adding a
    directory @SYSCONFDIR@/rc.conf.d and putting files in this directory.
    The files will be processed in lexical order, and the last setting in
    these files will be used.

commit 4cf6b0ecf7f5b35a6d80d76c60e77c3e1c7fee5c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Oct 29 11:27:27 2015 -0500

    consolefont: add after modules to dependencies
    
    X-Gentoo-Bug: 559540
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=559540

commit ee944553a9ea35622046bd1ab5657fd416a7019a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Oct 21 14:01:57 2015 -0500

    bootmisc: optionally save the previous dmesg log
    
    X-Gentoo-Bug: 561204
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=561204

commit 6cae41a4e63510cdcf3af1153d6e8300435e1838
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Oct 21 12:49:00 2015 -0500

    etc/rc.conf: Clean up documentation for rc_hotplug
    
    X-Gentoo-Bug: 554540
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=554540

commit 960881fcfe974178c0846a816663a258cdd488cc
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Oct 19 18:06:55 2015 -0500

    Add net-online service

commit d26013494db8ea8699db9815ef4c4b0eb2f55e7f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Oct 14 17:43:12 2015 -0500

    mtab: typo fix

commit b29b2fb3cb3e73b4453483ced908f0ef10e47e9c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Oct 14 10:41:14 2015 -0500

    mtab: make /etc/mtab as a file configurable

commit 7da72ce487a8d92d992e7fd3db881c198ae02609
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 13 17:42:46 2015 -0500

    openrc-run.sh: fix new required_* tests to exit properly

commit fc777aeaf3e6e2d47f4599acfe6c8d1bf5bc760a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 13 15:50:59 2015 -0500

    typo fix
    
    X-Gentoo-Bug: 563010
    X-Gentoo-Bug: https://bugs.gentoo.org/show_bug.cgi?id=563010

commit 9d53d436ae22d6f0f6fc1537e836dd1b4d31cf35
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 13 14:53:43 2015 -0500

    sysfs: consolidate cgroup processing code in a single function

commit b81317bdf8e3eed8b8ff2bef757ba29f362ed297
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 13 08:27:43 2015 -0500

    mountinfo: make sure the netdev variable is initialized on Linux
    
    This fixes the following regression:
    
    X-Gentoo-Bug: 562668
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=562668

commit 29f7e335927d4c1fb151124de8cdf01fb87723fa
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 13 07:59:50 2015 -0500

    openrc-run.sh: allow spaces in required_{files,dirs}
    
    X-Gentoo-Bug: 562320
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=562320

commit 850ca030777cb0c3e2fb03d9ab1f0ccee7b89e93
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Oct 8 16:14:16 2015 -0500

    increment version number

commit 050ddfae4ad1ad0dc5993766e0bd90739bd41de9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Oct 8 13:33:27 2015 -0500

    Update ChangeLog

commit d5116cc697c9eb275ab8497939ab41504e5ce578
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Oct 8 13:20:14 2015 -0500

    localmount: white space cleanup

commit b86d170037197d7bdcda57c7d4c09c17bda97f31
Author: Ian Stakenvicius <axs@gentoo.org>
Date:   Thu Oct 8 12:49:09 2015 -0500

    localmount: clean up handling of aufs branches
    
    X-Gentoo-Bug: 560008
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=560008

commit 6fa0d6318bcd5c98548cff2ff840bca116892ca5
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Oct 7 11:35:31 2015 -0500

    mtab: fix update logic
    
    This advises users to remove mtab from their runlevels if /etc/mtab is a
    symlink, and it creates the symlink if /etc/mtab does not exist on a
    system.
    
    X-Gentoo-Bug: 560060
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=560060

commit 80d3928b0d13f09a9c1e82bd27c9fff943d84d43
Author: Austin S. Hemmelgarn <ahferroin7@gmail.com>
Date:   Tue Oct 6 15:02:28 2015 -0500

    cgroups: Add the hugetlb, net_cls and pids controllers
    
    Note from WilliamH: I slightly rearranged the code and added the
    settings in rc.conf.
    
    X-Gentoo-Bug: 555488
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=555488

commit 17ef205bc63a4e231dccee719394a7a8563f8c3f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 6 13:31:43 2015 -0500

    sysfs: use printf instead of echo to write to cgroup files
    
    This is needed for compatibility with musl and printf is also posix.
    
    X-Gentoo-Bug: 562334
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=562334

commit b20a1951adf9a705a903fb3047b7ef26c013103c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 6 11:59:55 2015 -0500

    rc-cgroup.sh: Do not add leading spaces to cgroup values
    
    We were starting the value we write to the cgroup setting file with
    leading spaces and this was causing issues. This change makes sure that
    we aren't adding leading spaces to the value.
    
    X-Gentoo-Bug: 562354
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=562354

commit bf0c0dd5644436efe4986c2b259b755d111266b9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Oct 5 11:21:55 2015 -0500

    bootmisc: convert errors in clean_run function to warnings
    
    X-Gentoo-Bug: 552418
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=552418

commit 1558ad2b9ebf319b85876a940d31d513bf21324f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Oct 5 11:08:11 2015 -0500

    bootmisc: only remove temp directory if umount is successful
    
    Change the clean_run function to only remove the temp directory if the
    umount was successful.
    
    X-Gentoo-Bug: 561230
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=561230

commit 5f4f2420364098835522da868a9e75205c9e4f9c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Oct 5 10:18:00 2015 -0500

    mountinfo: fix --netdev and --nonetdev on Linux
    
    On Linux, the --netdev and --nonetdev switches were not working. They
    were both returning false. After this change, they operate based on the
    presence or abscence of the _netdev option in mount options.

commit b3f7ff901f7d3ed00b9f73c601193ac507f62eaf
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Oct 4 15:35:33 2015 -0500

    mountinfo: read /proc/self/mounts instead of /proc/mounts on Linux

commit a59365a582c3a8c9a8b863b572fddcb65fccadfd
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Oct 2 16:34:15 2015 -0500

    start-stop-daemon.sh: complain in start if command is undefined
    
    The default start-stop-daemon start function expects the command
    variable to be defined to point to the daemon we want to start.
    
    If the variable is undefined, this means that there will be nothing to
    start, and in this case we should complain because it is possible that
    the script writer made a typo in the variable name.

commit dac5966ca40610797d2b2aabef17154ca3dc20af
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Oct 1 17:16:14 2015 -0500

    Revert "local/netmount: remove uses of -O [no]_netdev"
    
    This reverts commit 2a439c85bd69efc14847b4397bd6783cac051405.
    There is another use case for -O involving iscsi, so we can't remove it.

commit 3b6a6df4b5b818e576a88444632d5c73cffd1c57
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Sep 17 15:02:30 2015 -0500

    openrc-run: rename some dependency variables and a function for clarity
    
    All of the dependency type lists had the types_ prefix in their names;
    this has been changed to deptypes_ to make them more self documenting.
    
    Along the same lines, the setup_types function was renamed
    setup_deptypes.

commit b047ea47e97d7e8b96d6d0e064613f6860c8eb36
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Sep 1 14:41:07 2015 -0500

    localmount/netmount: on Linux, fail if some file systems do not mount
    
    The following return codes are returned by mount -a:
    
    0:  all file systems mounted.
    32: no file systems mounted.
    64: some file systems mounted.
    
    The localmount/netmount services should fail if all file systems that
    should mount did not mount.

commit b652752339690e10a55ae50d046f4cf2a98daf1a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Aug 20 19:01:23 2015 -0500

    Make localmount and netmount always succeed on non-linux

commit 2a439c85bd69efc14847b4397bd6783cac051405
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Aug 17 17:51:06 2015 -0500

    local/netmount: remove uses of -O [no]_netdev
    
    This was causing an incompatibility with busybox, and we do not use it
    in Gentoo.

commit 7341cd882fba522c1f1d183603334839bd4df7fc
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Aug 10 18:45:36 2015 -0500

    allow localmount and netmount to fail

commit 279f1e5d1013309d99509ab4b7b57521f8a4aba4
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sun Aug 9 23:17:19 2015 -0400

    binfmt: fix indent on return

commit c256a7aa80c683eca6194c80b57294e4d51c9a16
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Mon Aug 10 14:11:27 2015 +0000

    savecache: clean up implementation
    
    X-Gentoo-Bug: 557222
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=557222

commit 6a422982579786cb8308af04ccca6622afa06e50
Author: Jason Zaman <jason@perfinion.com>
Date:   Sat Jul 11 00:45:11 2015 +0400

    tmpfiles: run restorecon on the entire path
    
    The tmpfiles "d" entry will create a full path and only the last dir in
    the path will have its SELinux label set correctly. This patch will
    restorecon the parents as well so that the selinux labels are correct.
    
    eg, "d /run/libvirt/lxc", then "lxc" would have the correct SELinux
    label but "libvirt" would not.
    
    Signed-off-by: Jason Zaman <jason@perfinion.com>

commit f69833a1e17d1cf65e96a34fcc0e48caf9d90d64
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Aug 1 15:08:31 2015 -0500

    mountinfo: fix -e and -E options
    
    Add the -e and -E options to getoptstring so they are recognized.

commit eeadca0b8a5b87c26e60a58563251604350a7a3b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jul 23 12:25:25 2015 -0500

    Add EERROR_QUIET and EINFO_QUIET to environment whitelist

commit dde339070b4850dc1fadf4992cc01d3468992106
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jul 10 13:25:43 2015 -0500

    Increment version

commit 1736be3bc3ebbc1440f87b49fc353e81fb0a6037
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Fri Jul 10 13:24:10 2015 -0400

    savecache: Fix unable to create cache message
    
    The cache is created in $RC_LIBEXECDIR, not $RC_SVCDIR, so fix the error
    message when we fail to create it to match.

commit a36a635b016a7427dd1739a26c951fedf22f0dec
Author: Mike Gilbert <floppym@gentoo.org>
Date:   Sat Jun 13 21:25:33 2015 -0400

    tmpfiles: Recognize type 'v' (create btrfs subvol)
    
    This change does NOT implement btrfs subvol creation.  Instead, it
    treats 'v' the same as 'd', which is an acceptable fallback
    according to the manual.
    
    Fixes #58

commit 9310ccc06bcadd8897aed51cd51c94fccb7d9c07
Author: Mike Gilbert <floppym@gentoo.org>
Date:   Sat Jun 13 21:11:18 2015 -0400

    Remove execute bit from tmpfiles.sh.in

commit 0c2e4eb3cd7935d375b74099a3a9a5fe519e6cab
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jun 19 09:55:37 2015 -0500

    Update ChangeLog

commit d2ce07e227ec95370e8aee5f1199edc6ad61aff9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jun 9 16:19:51 2015 -0500

    Add rc-sstat script
    
    The rc-sstat script is written to display status of s6 services and
    run rc-status to display all services status.
    
    This currently only works on Linux.

commit b209fe3859c05c286037843bb34058f849c54b15
Author: Mike Gilbert <floppym@gentoo.org>
Date:   Thu May 28 00:01:43 2015 -0400

    bootmisc: Don't call dmesg in systemd-nspawn containers
    
    This fixes #57.

commit c94c8288cd5217b01c24d6f048c64ebbc30bee02
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri May 29 02:10:39 2015 -0400

    fix link to s6 website

commit bcb9c44e73ccf332c7c961a6f82520699c6e776d
Author: Mike Gilbert <floppym@gentoo.org>
Date:   Mon May 18 21:23:11 2015 -0400

    man: Document the stopsig variable
    
    This variable can be used to set the signal to send if the service is
    using start-stop-daemon.
    
    This fixes #56

commit bbabf546f9d72cbfc48bd839a6d01b402ee6cced
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri May 22 09:43:51 2015 -0500

    Document bash's handling of ulimit options
    
    When bash is used in posix mode for the shell, the ulimit command uses
    a block size of 512 bytes for the -c and -f options.
    
    X-Gentoo-Bug: 549238
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=549238

commit a7fcc1e264b035177b4e524a40b27145baa86969
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu May 14 14:26:52 2015 -0500

    S6: kick the scanner and sleep 1.5 seconds to avoid a race condition

commit b79d058f162d8b49ccc968744e7cb1b7a7ba729c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu May 14 11:40:29 2015 -0500

    s6: Use s6-svc -Dd to stop services
    
    This allows us to get rid of the sleep call in the stop function. Also,
    we set a configurable timeout value for stopping daemons.

commit ddce529c71c2e9f01d8e5666e27050b6ed6c6761
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed May 13 16:51:55 2015 -0500

    More s6 fixes
    
    - When no service link is in the scan directory, show the default
      stopped message.
    - Do not remove the service link when stopping the service.

commit e372f97bebd4866633ad56aa5d5b1ae59fa88118
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed May 13 14:47:35 2015 -0500

    Fix the s6 handling
    
    This changes the default s6 service directory to /var/svc.d, also
    it changes the code to work with the individual services instead of
    forcing a rescan when a service is started or stopped.

commit c2abf4b436b8cca8ebed395ff08f5fdc546eadac
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed May 13 16:06:31 2015 -0500

    Start work on 0.17

commit d247ac4cbbe0ab62564ef82a5940b4f1a03973b3
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon May 11 18:43:15 2015 -0500

    Update changelog

commit bb2d7becfd3008379f8f69b5d036922281aa211f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon May 11 18:07:28 2015 -0500

    Add support for the s6 supervision suite

commit 0f9354becfbd54f9800c93092aa26be859dcf16a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon May 11 15:37:30 2015 -0500

    man: Clarify the documentation for command_args
    
    The command_args variable only works if using start-stop-daemon to start
    the daemon.

commit a15fa1a3b12a5372c1b3c8d5df7e489648bef913
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat May 9 17:56:45 2015 -0500

    Rework supervisor integration framework
    
    The original way of doing this allowed users to change the supervisor in
    conf.d/*. This changes this so that the supervisor setup can be done in
    the service script itself.

commit 0198affc742297b6e203bbcecc14436682119cc7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri May 8 12:29:26 2015 -0500

    The rc_supervisor variable is a service configuration variable
    
    This variable should not be changed globally unless you really know what
    you are doing.

commit abef2fcb2dbcc277bb05f0d9c674d4b47826f17f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri May 8 11:29:49 2015 -0500

    Make the default start, stop and status functions overridable
    
    This will make it possible to add support for supervision suites such as
    runit and s6.

commit 0b435ddd834bd18254c4d3341acdebf0829921f5
Author: Jakob Drexel <jake42@rommel.stw.uni-erlangen.de>
Date:   Sun May 3 11:06:45 2015 +0200

    librc: Fix crash if the service name is the same as the including runlevel
    
    If a service has the same name as the runlevel it is in, openrc will
    crash on changing to such runlevel. It goes in a recursive madness and
    eventually gets a SEGV while in snprintf (don't know why).
    
    This fixes two errors:
    1. ls_dir stats files not with full path -> stat always returns != 0
    2. ls_dir adds files to list if stat failed
    
    This fixes #53.
    
    X-Gentoo-Bug: 537304
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=537304

commit 9f6427ea57c6c950b4d1c356ad1bfb0aa8deb40b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri May 1 19:02:49 2015 -0500

    Start work on 0.16

commit 60488069c08201cbfbc661a3e7bd1fafa31fceed
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri May 1 16:08:24 2015 -0500

    update ChangeLog

commit 9225bfa6918cfd488c8f1055cf986b542f1f157e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri May 1 10:14:31 2015 -0500

    Build: make snapshot remove .git directory from tarball

commit 7bd456ed7bf35da2d7a53650baa33637e178064e
Author: Mike Gilbert <floppym@gentoo.org>
Date:   Tue Apr 28 21:03:49 2015 -0400

    Disable service scripts for systemd-nspawn
    
    This adds the -systemd-nspawn keyword to service scripts which are not
    intended to run in systemd-nspawn containers.
    
    This fixes #52.
    
        X-Gentoo-Bug: 548058
        X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=548058

commit c709e6077c6eda3f4f7e7222298213413254ee0f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Apr 28 15:07:21 2015 -0500

    Add support for systemd-nspawn containers
    
    This adds support for running OpenRC in a container created by
    the systemd-nspawn utility.
    
    This fixes #52.
    
    X-Gentoo-Bug: 548058
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=548058

commit a27d577da8cf4f1c7f9784a043ecf02d71a81ca6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Apr 30 14:45:42 2015 -0500

    Build: fix the dist target
    
    The dist target now creates an archive based on the version setting.
    This makes it possible to create an archive identical to the ones github
    generates once the release is tagged.

commit 8b9349208696e5caed1a8b34f066cec4ee642194
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Apr 26 13:31:49 2015 -0500

    convert all references from runscript to openrc-run

commit 4b1b457cd15cc1609c101b99a49a5e4c67b62567
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Apr 26 10:30:49 2015 -0500

    Start work on 0.15

commit 1d6602bb8e7062323ead03eaa0c4ae307c517b9e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Apr 25 18:30:39 2015 -0500

    Add ChangeLog

commit a6391f44ee6c68d674ae8425983467b971710d5d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Apr 25 15:37:52 2015 -0500

    mtab: move toward requiring /etc/mtab to be a symbolic link
    
    This changes the mtab service in the following way:
    
    - If /etc/mtab is a symbolic link, success is returned.
    - If /etc is not writable, we warn that we could not update /etc/mtab
      and return success.
    - If /etc/mtab does not exist, we create a symbolic link from
      /etc/mtab to /proc/self/mounts.
    - Otherwise, we warn that updating /etc/mtab as a file is
      deprecated and continue to update it after outputting instructions to
      the user for how to move it to a symbolic link.

commit a8c6dbac96a20eb35ce55befe0e64d89dd30de4d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Apr 24 19:53:35 2015 -0500

    typo fix in NEWS
    
    The binfmt service should be added to the boot runlevel, not sysinit.

commit a7c0400177e504fe07e7c39168b7a92e40ab334a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Apr 24 13:37:42 2015 -0500

    Update news

commit 03803ae8e966755e8bf6d52b61209792cb830cf4
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Apr 24 11:20:26 2015 -0500

    start-stop-daemon: redirect stdin if --background option is used
    
    X-Gentoo-Bug: 498684
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=498684

commit 1c2f7bf607ee7e24dca0a2710cef9e9b24e819f7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Apr 22 17:42:38 2015 -0500

    Convert feature removal schedule to markdown

commit 1ebffa517f6f1dafc206d5ee943d3cacd25feaf6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Apr 22 17:13:31 2015 -0500

    Convert news to markdown

commit e6dd26d185e4a9722f4d4813a084ca77eba913c7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Apr 22 17:03:59 2015 -0500

    convert README.history to markdown

commit 628b35e1beeea6aaab181b1511b2a879bdc45b61
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Apr 22 16:15:30 2015 -0500

    Update busybox documentation
    
    Convert README.busybox to markdown and add the note on the sysctl applet
    incompatibility.

commit ebc32aadada564095b70f0ff439a9863102a2ae5
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Apr 22 15:54:40 2015 -0500

    Convert style guide to markdown

commit 362dfa33804d2ba5bed241f697aac0178be07d3d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Apr 22 15:39:24 2015 -0500

    README.md: small formatting changes

commit dccc0a91292240022c4b120304b9198055d0d240
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Apr 22 14:54:12 2015 -0500

    Update README.md format and bug reporting information

commit c2aa56a7c49214b1fef355f79dfcd94265efe089
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Apr 22 14:47:56 2015 -0500

    Rename README README.md
    
    This fixes #26.

commit 23d806ca24845261fd89104c16bc28a60505fe5c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Apr 21 18:56:39 2015 -0500

    savecache: clean up creation of cache directory
    
    The cache directory should be created via mkdir -p instead of
    mkdir. This makes sure all parent directories are created.
    
    Also, we now display an error message explaining that we were unable to
    create the cache directory if creation fails.

commit de7d184909d561b68b411325d32471c047549bca
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Apr 21 18:30:26 2015 -0500

    savecache: fix check for $RC_LIBEXECDIR writability
    
    We were originally checking to see if $RC_LIBEXECDIR/cache was writable. For
    a new install, this check will fail since this path does not exist. This
    is also incorrect because later we create $RC_LIBEXECDIR/cache.
    
    The correct check is checkpath -W $RC_LIBEXECDIR, and this fixes the
    issue.
    
    X-Gentoo-Bug: 544632
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=544632

commit 15ab3f39c69ff8d69fd08a9cde7495a04b4dec9e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Apr 13 11:15:58 2015 -0500

    cgroups: use printf to write to cgroup files
    
    This fixes #33.

commit ee1768a419122d288256cce1723d4997bd965eab
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Mar 31 12:48:45 2015 -0500

    Add binfmt service to sysinit runlevel
    
    This makes binfmt processing behave like tmpfiles processing which
    follows the same specification as systemd.
    
    This fixes #48.
    
    X-Gentoo-Bug: 545162
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=545162

commit 95ed0665393c353dbc24afb8c63c615402136f5d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Apr 20 11:02:01 2015 -0500

    procfs: do not force loading of usbcore module
    
    It appears that the only reason we were force loading the usbcore
    module was to facilitate mounting usbfs. Since we no longer mount
    usbfs, this is no longer necessary.
    
    X-Gentoo-Bug: 480312
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=480312

commit 4c5132421f37bd6831eab1f9527a197340f2e9ae
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Apr 20 10:59:47 2015 -0500

    procfs: remove usbfs and usbdevfs support
    
    The usbfs and usbdevfs file systems have been deprecated since
    Linux-2.6.32, so we remove the code to automount them.
    
    X-Gentoo-Bug: 480312
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=480312

commit 6d81d3be1bcba81a68086f2a17561d13e1f844e6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Apr 19 13:59:12 2015 -0500

    procfs: do not test for the existence of /proc/filesystems
    
    The test for the existence of /proc/filesystems is redundant since we
    always return success.

commit 8d307a6fadd516f26d9c72016119277a7a5c1946
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Apr 17 14:15:59 2015 -0500

    procfs: remove redundant check for OpenVZ
    
    The check for OpenVZ is not necessary since the procfs service already
    will not run on OpenVZ due to the keywords setting.

commit 62addf118067dd2cd57c3f5fee35c9e80f9fec42
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Apr 11 16:29:58 2015 -0500

    Move SELinux mount to sysfs service
    
    The selinux file system is mounted under /sys, so move the code for it
    to the appropriate service.
    
    X-Gentoo-Bug: 546290
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=546290

commit 1eab656ca1d3258ff00495710a68ad459ce50d3e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Apr 1 10:55:09 2015 -0500

    Fix tmpfiles processing
    
    Tmpfiles.d processing had /run overriding /usr/lib and /etc, but this is
    not correct. The correct order, from lowest to highest, for tmpfiles
    processing is:
    
    * /usr/lib/tmpfiles.d/*.conf
    * /run/tmpfiles.d/*.conf
    * /etc/tmpfiles.d
    
    This means /run/tmpfiles.d/*.conf can override /etc/tmpfiles.d/*.conf,
    but /etc/tmpfiles.d/*.conf can override both of them.
    
    This fixes #49.

commit 731a3affdce31e2971a84cde11df2d122049ec99
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Apr 2 21:21:46 2015 -0500

    Fix script execution in the local service
    
    The local service should use eval when it executes scripts since it has
    the redirection set up in a variable.
    
    This fixes #50.
    X-Gentoo-Bug: 545012
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=545012

commit 3e9bb3b021620654f99a0ead71ed73d34b5c6826
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Apr 3 11:10:58 2015 -0500

    Make sysctl on Linux respect rc_verbose setting
    
    We do not need to spam the console with variable settings by default.
    This fixes #51.
    
    X-Gentoo-Bug: 541922
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=541922

commit c068762c4cf49e7ea9719dcab2e5f7d4c4e7e2e5
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Mar 29 15:20:52 2015 -0500

    Fix rc_verbose processing
    
    We were processing the rc_verbose setting before we sourced the
    configuration file where it was set; this fixes the issue.
    
    Fixes #46

commit b8ab99b5d3ee1a93f215157c36fb120857afde64
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Mar 25 08:33:42 2015 -0500

    checkpath: Remove the last HAVE_SELINUX test

commit a4cf61e8bf827dc405a547c314e840dab11fc979
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Mar 25 00:57:05 2015 -0500

    selinux: unconditionally include the header and provide stub methods
    
    If selinux is disabled, then stub methods will be provided instead of
    calling the real methods. This removes some warnings about unused
    parameters which used to be covered up with #ifdef HAVE_SELINUX.
    
    Signed-off-by: Jason Zaman <jason@perfinion.com>

commit d38cc8f2210e839c4935208917138e4809ece758
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Mar 24 23:17:35 2015 -0500

    checkpath: fix warning about selinux_on being unused

commit f085ae400c60289f61d99e9e80ce037beedf38b4
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Tue Mar 24 19:28:47 2015 +0000

    Fix some compiler warnings
    
    librc: Fix C90 warning (mixed declaration and code)
    rc: Fix warning about discarding const qualifier
    
    Fixes #45.

commit c1faafcad8197a821282b8e56a10132e27eb5d9f
Author: Will Miles <wmiles@sgl.com>
Date:   Fri Mar 13 12:34:29 2015 -0400

    start-stop-daemon: Fix regression for --test
    
    The previous fix to --test (PR #34) prevented reading one too many
    arguments when --exec -or --name was not specified, but created a
    regression where the last argument would not print if either of those
    arguments was specified. This corrects the issue.
    
    Fixes #41.

commit de93587affb17675e6f7cab2b85613d61e11b98b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Mar 23 09:13:55 2015 -0500

    Silence warning about _DEFAULT_SOURCE for Linux/glibc
    
    In >=glibc-2.20, the _BSD_SOURCE macro is deprecated in favor of
    _DEFAULT_SOURCE. This adds -D_DEFAULT_SOURCE to CPPFLAGS on Linux.
    
    Fixes #44

commit be497229b64613ebfbc4073985107a275d49f78e
Author: Anthony Donnelly <Amzo@archbsd.com>
Date:   Wed Mar 4 09:07:12 2015 +0000

    Fix savecore service on FreeBSD
    
    savecore -C only needs the dumpdevice otherwise it causes an error on startup.
    
    This fixes #40.

commit e16b7183e90090ecee539697508582d208859a8b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Mar 21 22:49:56 2015 -0500

    mk/os-GNU.mk: fix typo
    
    MAX_PATH should have been PATH_MAX

commit ccd83a5e9cc24833e1ab098cac1688f69ab6e9b6
Author: Will Miles <wmiles@sgl.com>
Date:   Wed Jan 14 18:19:13 2015 -0500

    savecache: Make sure cache directory exists before running checkpath
    
    checkpath -W can fail if the specified path doesn't actually exist yet.
    In this case savecache script should attempt to create the path if it is
    missing, however it is pre-empted by the checkpath call.  This patch adds
    an explicit existence test before executing checkpath.
    
    This fixes #36.

commit 7bbb73574b44972b0c1b364e24f71623068d7a1c
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Thu Feb 26 17:58:22 2015 -0800

    bootmisc: clean_run safety improvements.
    
    If /tmp or / are read-only, the clean_run function can fail in some very
    bad ways.
    
    1. dir=$(mktemp -d) returns an EMPTY string on error.
    2. "mount -o bind / $dir", and don't check the result of that,
    3. "rm -rf $dir/run/*", which removes the REAL /run contents
    4. box gets very weird from this point forward
    
    Signed-Off-By: Robin H. Johnson <robbat2@gentoo.org>
    Signed-Off-By: Chip Parker <infowolfe@gmail.com>
    Reported-by: Chip Parker <infowolfe@gmail.com>
    Tested-by: Chip Parker <infowolfe@gmail.com>

commit a0378f38713e630e1af9101c2ece5d27ca2130fe
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Feb 19 12:44:21 2015 -0600

    checkpath: do not chown or chmod symbolic links
    
    This is another security fix. If you use chown() or chmod() on a
    symbolic link, it affects the referenced file, not the symbolic link
    itself.
    
    X-Gentoo-Bug: 540006
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=540006

commit 423f82bae9f91f1f5a27d30a2542d8884c6f757a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Feb 18 12:46:51 2015 -0600

    ChangeLog: show authors and committers

commit 9dfb85d5d236dd126d13d039eb02a97aa0e6c8ac
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Jan 25 16:23:47 2015 -0600

    local: fix redirections
    
    The local service now redirects stdout and stderr for the scripts it
    runs to /dev/null unless it is run in verbose mode.
    
    X-Gentoo-Bug: 537444
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=537444

commit 6781667641580fef852ccffc2f42d060f791b354
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Feb 15 16:15:18 2015 -0600

    typo fix

commit b17af3c85fc94ecc12857146ba2133a3782ead52
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Feb 15 14:56:07 2015 -0600

    checkpath: security fix for -m and -o options
    
    Do not change permissions on the target if it is a file and has multiple
    hard links. This is necessary because a hard link can be an attack
    vector to gain privilege escalation.
    
    X-Gentoo-Bug: 540006
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=540006

commit 3100114bc104741145fb6c1d4b1664759114cc5c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Feb 3 10:53:48 2015 -0600

    Add nfsclient to netmount use dependencies
    
    X-Gentoo-Bug: 537996
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=537996

commit 3f80f22e22ec16ed517397fd303c3df99f9340fc
Author: Will Miles <wmiles@sgl.com>
Date:   Thu Jan 22 09:43:28 2015 -0500

    Prioritize local includes and libraries
    
    This fixes #35.

commit 8250ac94dfc6156075081e0e2d0986cb51b3098d
Author: Consus <consus@gmx.com>
Date:   Sat Jan 24 13:06:36 2015 +0000

    tmpfiles.*: Follow OpenRC's message style
    
    Just to be consistent.

commit fbdd669ba7c5d1a67129236b4ffcd76198340a1b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jan 23 12:52:31 2015 -0600

    Makefile: add variable for path to source tree
    
    Add a new variable, ${TOP}, to the top level makefile, which points to
    the path of the source tree.

commit cddb4aad08615420320f75050042d946b18d2bb5
Author: Will Miles <wmiles@sgl.com>
Date:   Fri Jan 9 19:34:26 2015 -0500

    Fix off-by-one error in --test argument printout in start-stop-daemon.
    
    Fixes #34.

commit 3c5dc0ec7774a72e243da43ac5180ea36a311ad8
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Jan 18 09:12:58 2015 -0600

    tmpfiles.dev: pass --boot to tmpfiles.sh so kmod works properly

commit 7e3a33c8f5ccae03e035cf4c9d1c3c01a0f57b1e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Jan 12 14:37:10 2015 -0600

    Add description for cgroup_cleanup
    
    X-Gentoo-Bug: 535184
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=535184

commit 74478830a8d035c078e986b57efd40a5c48bc896
Author: Doug Freed <dwfreed@mtu.edu>
Date:   Mon Jan 12 09:10:29 2015 -0600

    fix double free of pidfile
    
    This fixes a double free of the pidfile variable. For discussion of this
    issue, see the bug.
    
    X-Gentoo-Bug: 531600
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=531600

commit 6a9679377f4de257f02de1d16a513df14b4c25ba
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Dec 8 09:47:42 2014 -0600

    Do not call the shell to evaluate CHANGELOG_LIMIT
    
    The git log command understands dates such as "1 year ago", so there is
    no need to use the date command.

commit 72186ea3bbbf0b09b88a6f3e1fb23bf04ce1ddad
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Dec 7 19:06:51 2014 -0600

    etc/rc and etc/rc.shutdown: change references from rc to openrc

commit 3647db7a27f7a5ca14b33b14effeb945fd986210
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Dec 7 17:16:48 2014 -0600

    Add target to create ChangeLog
    
    This was added by request because some users are requesting a ChangeLog.
    
    This fixes #29.

commit 7a92eb888794819a339babd0ee220b6aa3993db1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Dec 5 11:55:16 2014 -0600

    rename git.mk to gitver.mk
    
    This is a more descriptive name since this file only sets the gitver
    variable.

commit 30cc3cdb76a66c7c0f89a52db4e5cff77b570e31
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Nov 23 10:28:21 2014 -0600

    Make sysfs behave like netmount and localmount
    
    sysfs now mounts all related sysfs file systems and returns success,
    like netmount and localmount.
    
    Also, we now check to make sure the cgroups are not mounted before we
    mount them.
    
    X-Gentoo-Bug: 530138
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=530138

commit dff6e4a004afeaa64f4ccb07c7d31bb821b043b4
Author: S. Gilles <sgilles@umd.edu>
Date:   Sat Nov 22 11:41:10 2014 -0600

    Fix mdoc warning for empty line in rc-update man page.
    
    X-Gentoo-Bug: 529374
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=529374

commit 3fad31a994f7eb14f3f001f3980eb2b0ae8fe4f1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Nov 20 11:25:48 2014 -0600

    init.d: add osclock to ignore patterns

commit 8d0ca13fbd38e782bae655eca6646dabc8d63899
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Nov 20 10:55:53 2014 -0600

    devfs: optionally add missing symbolic links
    
    If symbolic links for /dev/{fd,stdin,stdout,stderr,core} do not exist
    once /dev is mounted, we should create them.

commit 93ba67eff9333e434c969bb8131467f777546764
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Nov 6 14:38:17 2014 -0600

    netmount: unmount nfs file systems

commit 1932360adca3f9fe9b47bcfad7b8bd5efbd33bee
Author: Jason Zaman <jason@perfinion.com>
Date:   Thu Oct 30 10:22:02 2014 +0800

    Integrate the functionality from runscript_selinux.so
    
    runscript used to dlopen() runscript_selinux.so. This adds equivalent
    functionality directly in to runscript instead. It authenticates with
    either PAM or shadow and optionally has a dep on audit.
    
    X-Gentoo-Bug: 517450
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=517450

commit be952bebb3647069fb93b9791ee3439698f697ca
Author: Alexander Vershilov <alexander.vershilov@gmail.com>
Date:   Wed Oct 29 23:16:35 2014 +0300

    Fix incorrect handling of chroot option.
    Fixes #28.
    
    X-Gentoo-Bug: #527370
    X-Gentoo-Bug-Url: https://bugs.gentoo.org/show_bug.cgi?id=527370

commit 0bfde472d0154f14ea88c0f5ddd21a510443d713
Author: Ralph Sennhauser <sera@gentoo.org>
Date:   Mon Oct 27 23:27:23 2014 +0100

    Add osclock service
    
    This scripts sole purpose is to "provide clock" on OSs that already
    take care of the clock being properly set.

commit ba0a11fc94d303e208dd364b06c1c2a75bcdd62b
Author: Johan BergstrÃ¶m <bugs@bergstroem.nu>
Date:   Thu Oct 23 09:59:57 2014 +1100

    Pass ncurses cflags to build
    
    Fixes #25
    Note from William Hubbs:
    The original patch overwrote CFLAGS. I modified this patch to add the
    ncurses cflags to CPPFLAGS instead of overwriting CFLAGS.

commit 7700e6fe796cabfa22eefddc024d66257a28d4dc
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Oct 24 10:44:14 2014 -0500

    Fix compile errors created by bundling queue.h

commit 6ca79042b9aa9752e577346e6f355356ef8f2f9a
Author: Anthony G. Basile <blueness@gentoo.org>
Date:   Thu Oct 23 19:56:19 2014 -0400

    helpers.h, start-stop-daemon.c: remove uneeded macros
    
    TAILQ_CONCAT, TAILQ_FOREACH_SAFE and LIST_FOREACH_SAFE are defined
    in our bundled queue.h and are no longer required.

commit 1e0a4bebdefd06af09ba8f2459287d3ca28f89d7
Author: Anthony G. Basile <blueness@gentoo.org>
Date:   Thu Oct 23 18:33:27 2014 -0400

    Bundle <sys/queue.h> from NetBSD
    
    We are bundling this to allow building on musl-based systems since musl
    does not include <sys/queue.h>.

commit ca6b86be44fc7ed618a7ab3bd021e208d38878b1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Oct 23 18:47:04 2014 -0500

    Fix all tests for GNU/kFreeBSD
    
    It is necessary to check for both the kernel and c library because
    __FreeBSD_kernel is also defined on native FreeBSD [1].
    
    [1] http://sourceforge.net/p/predef/wiki/OperatingSystems/

commit 4ac289b5397a688393c596a9a01651c94d3b5711
Author: Gabriele Giacone <1o5g4r8o@gmail.com>
Date:   Wed Oct 22 15:02:51 2014 -0500

    Fix rc_svcdir for GNU/Hurd

commit 875f03e27c3475675f7b9572b071dd8c26257be7
Author: Svante Signell <svante.signell@gmail.com>
Date:   Wed Oct 22 14:59:01 2014 -0500

    fix defines for GNU/Hurd

commit 203b754f843fe6af0a40e983d557a9cdbc89f84b
Author: Svante Signell <svante.signell@gmail.com>
Date:   Wed Oct 22 14:25:00 2014 -0500

    add missing files for GNU/Hurd

commit 89c8a62a1078e770e12c47f06c8dbc9c2924e771
Author: Gabriele Giacone <1o5g4r8o@gmail.com>
Date:   Tue Oct 21 21:17:52 2014 -0500

    Fix rc_svcdir for GNU/kFreeBSD

commit d8e1d9a6edf94ecac580e80e1113f4fdbdc5a23b
Author: Gabriele Giacone <1o5g4r8o@gmail.com>
Date:   Tue Oct 21 02:24:12 2014 -0500

    Add missing files for GNU/kFreeBSD

commit 3f82edbeb9251149c6aff071d6537379af4e5eea
Author: Svante Signell <svante.signell@gmail.com>
Date:   Tue Oct 21 01:53:37 2014 -0500

    Fix GNU/kFreeBSD port
    
    Check for __FreeBSD_kernel instead of __GLIBC__ in source files.
    
    note from William Hubbs:
    I was told this is a better check for GNU/kFreeBSD than checking the
    C  library the source is being compiled against.
    GNU/kFreeBSD than checking which library we are using.

commit 86e9aa0d36813e2630c6613cd71c3ce8db642f71
Author: Anthony G. Basile <blueness@gentoo.org>
Date:   Wed Oct 22 07:46:49 2014 -0400

    einfo.h, rc.h.in: simplify __BEGIN_DECLS logic
    
    There is no need to redefine __BEGIN_DECLS and __END_DECLS.
    We simplify the logic here and avoid undefining these macros.

commit 4a08517cac3c68c232694db7288654b58b68b8ba
Author: Anthony G. Basile <blueness@gentoo.org>
Date:   Tue Oct 21 09:31:07 2014 -0400

    einfo.h, rc.h.in: ensure __BEGIN_DECLS is defined
    
    Some Standard C Libraries, like musl, don't define __BEGIN_DECLS
    or __END_DECLS.  We add some ifdef magic to ensure these are
    available.

commit 9bf789f78890c8b5879d29acb9fb0e23285baee4
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Oct 20 15:52:11 2014 -0500

    Update news file wrt chroot variable

commit f9acd65497c6e561fbf5420386a99d681fede859
Author: Alexander Vershilov <alexander.vershilov@gmail.com>
Date:   Sun Oct 19 19:41:36 2014 -0500

    librc:look for the pid file in a chroot if defined
    
    X-Gentoo-Bug: 524388
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=524388

commit 8c7ea4e9e8da500877a514402bbe90aababda2d6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Oct 19 19:36:57 2014 -0500

    runscript.sh: add chroot support
    
    This adds support for a chroot variable which will be passed to the
    start-stop-daemon --chroot switch to runscript.sh when starting a
    daemon. This also needs to be saved so it can be used in locating the
    pid file when stopping the daemon.
    
    X-Gentoo-Bug: 524388
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=524388

commit 5f1439f1aac14618592789042e05daaf80f55a15
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Oct 20 15:28:13 2014 -0500

    Add NEWS file

commit 85da4a5e2621dc5f5356d440735aa058008a1b7e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Oct 1 17:14:25 2014 -0500

    add back nfs and nfs4 file systems
    
    Fix gentoo bug #427996 correctly.
    We should attempt to mount the file systems, but not try to start the
    daemons. The previous fix removed mounting the file systems as well as
    starting the daemons.
    
    X-Gentoo-Bug: 508574
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=508574

commit ad770d739cd7d68dd16b4b2e23d4822ebeb3305b
Author: Rick Farina (ZeroChaos) <sidhayn@gmail.com>
Date:   Mon Oct 6 11:15:44 2014 -0500

    localmount: unmount aufs branches

commit 866501be1c554de074533ee98400124393d7fe9d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Sep 20 16:51:30 2014 -0500

    typo fix

commit 20006625a6d37c5add84dd4c8454649279645604
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Sep 19 17:23:55 2014 -0500

    man: Document start_inactive and in_background_fake

commit e860b7cb4f3749528ae3db0f3cb500ef889d2781
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Sep 16 17:44:30 2014 -0500

    Revert "sysfs: fix permissions on cgroup mounts"
    
    This reverts commit 7a25491ced95e14b04b8fe6225171564c87fcde0.
    This was broken; I need to look further into it.

commit 7a25491ced95e14b04b8fe6225171564c87fcde0
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Sep 16 15:14:12 2014 -0500

    sysfs: fix permissions on cgroup mounts

commit 50658449bd46f1a53b8eb11d34f6eefdd1ceba9c
Author: Roy Marples <roy@marples.name>
Date:   Thu Sep 11 13:26:58 2014 -0500

    Use exception-based approach for cgroup/ulimit setup
    
    Note from William Hubbs:
    I spoke with Roy about this, and he pointed out that user-defined
    functions may need the limits applied, so it is better to go with a
    method that uses exceptions to determine which functions apply the
    limits.
    
    X-Gentoo-Bug: 522408
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=522408

commit de60ffeebe93ffdc09c1dda51e04f29485d96cdb
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Sep 11 12:02:51 2014 -0500

    runscript: move verbose mode setting near debug setting

commit d032b17897278659ae103d1bcf2aea7739cdbfbb
Author: Joe M <joe9mail@gmail.com>
Date:   Fri Aug 29 09:10:58 2014 -0500

    savecache: check permissions on the correct directory

commit d4204a97a2410fcf37a64385204e6452c6958e8d
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Mon Aug 25 15:46:28 2014 -0400

    tmpfiles.sh: add support for C action
    
    Recursively copies files or directories.  Added by systemd in 849958d1.

commit 6f3f50d4530f583d0d2aedec8af20077a9d07f4f
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Mon Aug 25 15:37:45 2014 -0400

    tmpfiles.sh: add support for + modifier
    
    systemd added support for b+, c+, p+, and L+ in 2e78fa79 and 1554afae to
    remove the target path if it already exists.

commit 4f4f00d612ce6b43a2dcba9e0c39816e5d6d92a7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Aug 22 12:41:55 2014 -0500

    cgroups: fix cgroup subsystem mounting
    
    Originally, we aborted all of the cgroup setup if /sys/fs/cgroup/openrc
    was already mounted. This  caused an issue in lxc containers, so we
    should always allow the subsystems to be mounted.
    
    X-Gentoo-Bug: 520606
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=520606

commit 7b9fe5fced762935c48c90797b3bba2c82f10eb2
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Aug 17 16:06:32 2014 -0500

    start work on 0.14

commit c60ef5c381e9edc7e30be9dcc9cc7e123515452e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Aug 17 11:23:52 2014 -0500

    mtab: add verbose level deprecation warnings

commit bee3f8463cbc372c344541077924ddd45ca62ef1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Aug 17 00:11:14 2014 -0500

    README: Clarify devfs changes
    
    I was informed that the previous explanation of the devfs changes could
    be interpreted to mean that we mount a second /dev on top of the one
    that was mounted by the kernel or initramfs. This change makes it clear
    that is not the case.

commit 72b7b32502ff149c0f0f8a7833cfd213f6cf933e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Aug 16 17:16:20 2014 -0500

    README: add notes about devfs changes

commit 645f7b6947d9fc44fbece0931a3ddb10d3d79b27
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Aug 16 15:07:48 2014 -0500

    adjust deprecation schedule for mtab
    
    - Quiet the deprecation messages forr now
    - update the feature removal schedule to reflect that it will be removed
      in 2.0.

commit 1b26d547a50e2554483bdbfd288fae75fd76bfa0
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Aug 14 13:50:48 2014 -0500

    Deprecate the mtab service script
    
    The mtab service script is no longer needed on modern Linux systems, so
    we can remove it in 1.0. However, we need to set a deprecation notice
    first.

commit c8018d04a7b238b57a3d74a68e2af02af395f510
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Aug 13 15:26:37 2014 -0500

    tmpfiles: fix relabel to run restorecon before chown and chmod

commit 6f080e9c1a2a9b9c308cdc03f9cf782c4ce4d440
Author: Jason Zaman <jason@perfinion.com>
Date:   Wed Aug 13 10:50:34 2014 +0400

    tmpfiles: Move relabelling before any other calls for device nodes
    
    Device nodes are normally never device_t so this type does not
    have many permissions. After the mknod, the device should have
    its label corrected before any other operations (like chmod).

commit 2c265e13c60be0ed583a871ca12a22e4d379a7c0
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Aug 11 13:17:33 2014 -0500

    README: expand information about rc and runscript deprecation

commit 24d82d9ff1ca1ba7085814f8f6530124c117aa5f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Aug 11 12:57:23 2014 -0500

    rc.conf: document rc_verbose

commit d1e71b07afd4b900894ce4ea45f94010c70e32cc
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Aug 11 12:29:04 2014 -0500

    Show rc and runscript deprecation warnings in verbose mode
    
    These messages are being changed for this release to show in verbose
    mode because of the number of times they display.

commit 7b744befac2049eb6372a7f0c5420c740aa0a4ea
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Aug 10 17:15:05 2014 -0500

    bootmisc: do not run the clean_run function in an LXC container

commit faaaab4bf540b4df011abea5985963dbc9e1646a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Aug 10 13:00:39 2014 -0500

    hwclock: fix comments about the usage of clock_hctosys
    
    The clock_hctosys variable should be set to YES if you are not using NTP to
    synchronize your system time; it doesn't have anything to do with the
    kernel configuration.

commit d29db70efb2adfbd200ba4a03fa78653e97893a6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Aug 6 22:01:30 2014 -0500

    sysctl.linux.in: use the --system option
    
    According to the sysctl man page, the --system option causes sysctl to
    process all system configuration files, which include the following:
    
    /run/sysctl.d/*.conf
    /etc/sysctl.d/*.conf
    /usr/local/lib/sysctl.d/*.conf
    /usr/lib/sysctl.d/*.conf
    /lib/sysctl.d/*.conf
    /etc/sysctl.conf
    
    X-Gentoo-Bug: 484796
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=484796

commit 6a337ff6c531d9d7310253b67b3e95d1ce5d214c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Aug 8 14:49:00 2014 -0500

    devfs: several small clarifications
    
    - Rename the static_dev switch in conf.d/devfs to skip_mount_dev since
      this is a better description of what the switch does.
    
    - Clarify the error messages in the devfs service script based on the
      new name of the switch.

commit 647e08eb9166d23d0c64f0c8767d93a06bd21a40
Author: Jason Zaman <jason@perfinion.com>
Date:   Wed Aug 6 02:12:35 2014 +0400

    tmpfiles.sh: do not use install
    
    install is in /usr which causes problems if /usr is not mounted.
    Instead, checkpath and "mkdir -p" can do everything required and are
    both available before /usr is mounted.
    Since checkpath also handles selinux labels correctly,
    _restorecon after is not required.
    
    X-Gentoo-Bug: 503408
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=503408

commit 2624a8c8a7030180f9548a6e2fba5b0a82c5f046
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Jul 28 10:41:24 2014 -0500

    checkpath: apply ownership to all paths given on command line
    
    The stat structure was not being initialized correctly in do_check. This
    was causing the owner adjustment to be skipped if the first path had the
    correct owner.
    
    Also, the "correcting owner" message should always be printed when the
    owner is being changed.
    
    X-Gentoo-Bug: 518042
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=518042

commit 275714bdc74c363ca1612b2b6b97f74f7a62b50c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jul 25 11:04:57 2014 -0500

    checkpath: style fix

commit e3bfb68aece9378a0669c2893285808100fd5ea6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jul 23 16:19:25 2014 -0500

    hwclock: always set the kernel's timezone
    
    The hwclock service should set the time zone regardless of the setting
    of the clock_hctosys variable. This needs to be done to prevent issues
    when the system time is being synchronized using ntp.
    
    X-Gentoo-Bug: 434410
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=434410

commit 1f7582c78b2697c3f2617a4a89afabaf3550b0fb
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Jul 19 13:03:00 2014 -0500

    src/librc/librc-daemon.c: style fix

commit cc1bc6a4cec772c50a1b5232655ff34370d204b1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Jul 19 12:59:35 2014 -0500

    src/rc/Makefile: typo fix

commit 40f42ced21b1c0c99780b801d28fafd91a858f90
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jul 17 23:10:28 2014 -0500

    rc-status: fix infinite  loop when using stacked runlevels
    
    Remove the recursive call in print_stacked_services which was causing an
    infinite loop when using stacked runlevels.
    I would like to thank Doug Freed and Jason Zaman for assisting with
    tracking this down.
    
    X-Gentoo-Bug: 514972
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=514972

commit 1a1d53335b2e6e3240b738ba1f81de64e552c337
Author: Jason Zaman <jason@perfinion.com>
Date:   Thu Jul 17 03:07:19 2014 +0400

    devfs: fix restorecon ebegin message to match sys
    
    X-Gentoo-Bug: 516956
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=516956

commit 99939b9839fb45093fe193e06139eab4a95637da
Author: Jason Zaman <jason@perfinion.com>
Date:   Thu Jul 17 03:07:18 2014 +0400

    sysfs: restorecon after mounting /sys
    
    X-Gentoo-Bug: 516956
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=516956

commit 89907b60bac51db2cda1afe4555676577ef498a8
Author: Jason Zaman <jason@perfinion.com>
Date:   Thu Jul 17 00:46:25 2014 +0400

    move the selinux_setup function into rc-selinux
    
    X-Gentoo-Bug: 516956
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=516956

commit a94a9740d545817294cc431180db0f22fc923b13
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jul 16 15:03:11 2014 -0500

    checkpath: style fixes

commit 8b8edc29705b843988b97242942a409241c182eb
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jul 16 14:48:03 2014 -0500

    style fixes

commit 010c2ab18b4be2068237cf0db97e9348bba65ac6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jul 16 14:14:37 2014 -0500

    Rename SELinux source files
    
    The name rc-selinux-util.* is a bit long, so I renamed the source files
    to rc-selinux.*
    
    X-Gentoo-Bug: 516956
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=516956

commit 9c689542c3246e793310db938374bc97600435e6
Author: Jason Zaman <jason@perfinion.com>
Date:   Tue Jul 15 22:27:34 2014 +0400

    checkpath: restore the SELinux context
    
    X-Gentoo-Bug: 516956
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=516956

commit 525d7140b12a8e259f9d919f24148e369e9ff7d1
Author: Jason Zaman <jason@perfinion.com>
Date:   Tue Jul 15 22:27:33 2014 +0400

    devfs: fix SELinux contexts
    
    SELinux contexts in /dev need to be fixed after it is mounted
    
    X-Gentoo-Bug: 516956
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=516956

commit 4f784bd46923486773edcd7749246a21bd419e6b
Author: Jason Zaman <jason@perfinion.com>
Date:   Tue Jul 15 22:27:32 2014 +0400

    tmpfiles: set the proper SELinux context
    
    Restore the label on the created file / dir based on the policy
    fcontexts.
    
    X-Gentoo-Bug: 516956
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=516956

commit 4a1afa694cd8ebd6591d5a825ee35e4f57c98469
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jul 15 11:38:02 2014 -0500

    Add SELinux support to the build system
    
    X-Gentoo-Bug: 516956
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=516956

commit 25c229cf830c8e822a206f2e08f9c94964a47aa9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Jul 14 15:58:50 2014 -0500

    sysfs.in: fix indentation

commit 71d6d61b28c4c0f285ec51459551d900dfa4ea71
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Jul 13 14:12:36 2014 -0500

    checkpath: fix logic for the writable option
    
    The -W option does not need an argument of its own; it can take the
    first path after all other options are processed on the command line.
    
    Also, move the processing for the -W option out of the switch so it will
    be in the same loop as the other processing.

commit 40141244e349e6e1d2dfb9ebfbcbf62f68d33a9d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Jul 13 11:15:26 2014 -0500

    man/openrc-run.8: more updates and clarifications for checkpath
    
    X-Gentoo-Bug: 500606
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=500606

commit d59737afb159d993916836903d9e670a1334c93a
Author: Alexander V Vershilov <qnikst@gentoo.org>
Date:   Sun Feb 16 04:08:23 2014 +0400

    man/openrc.8: update checkpath documentation
    
    X-GENTOO-BUG: 500606
    X-GENTOO-BUG-URL: https://bugs.gentoo.org/show_bug.cgi?id=500606

commit f66f41c4f03d8077bdaa047a7a93f6c92c0a69de
Author: Alexander V Vershilov <qnikst@gentoo.org>
Date:   Fri Jul 11 16:33:42 2014 -0500

    typo fix

commit d80482c2f4ec35a880ee099eeb3983b255d65e8f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jul 11 15:23:38 2014 -0500

    checkpath: fix error message in previous commit

commit d0040aff0aa033fd5d5c40480008e98ee5e1f11a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jul 11 14:50:20 2014 -0500

    checkpath: report an error if required options were not specified
    
    Before this commit, not specifying -d, -f, -p or -W in a checkpath
    command meant the command exited successfully but actually did nothing.
    
    This is an error condition, so report it as such.

commit 75e06d85584fc3ebfa26fbca97ea60b687247bb0
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jul 10 05:18:00 2014 -0500

    Style Fixes

commit 1a44be0f16a7a1de8a176e7c656f8513494e0e64
Author: Alexander V Vershilov <qnikst@gentoo.org>
Date:   Sun Feb 16 04:27:52 2014 +0400

    cgroups: only run cgroup setup when starting a service
    
    Status call should not set limits as it requires root permissions,
    also this is not safe, as current process may reach limitation.
    
    Solution is to set limits and move process to service cgroup only
    on start.
    
    X-GENTOO-BUG: 500364
    X-GENTOO-BUG-URL: https://bugs.gentoo.org/show_bug.cgi?id=500364

commit f265ddde971d0fdb97a4f14b4cc96140be7b4628
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jul 10 09:04:04 2014 -0500

    FEATURE_REMOVAL_SCHEDULE: add entry for local_start/stop

commit 57b9e601a97fac3a044ec5d7e5f11b6219c892b7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Jul 5 14:30:33 2014 -0500

    init.d/local: bring functioning more in line with how sysctl works
    
    - remove the has_executables variable since it isn't used.
    - Convert the conditional calls to ewend/vewend to a single call to veend.
    - Always call eend after all scripts are executed passing the appropriate
    error code.
    
    Because of this change, you will see only an overall status when
    starting or stopping local unless you are using verbose mode.

commit c1de8c09bf4895c6108d297fcebd63046e49e614
Author: Thomas D <whissi@whissi.de>
Date:   Tue Jun 10 15:23:17 2014 +0200

    Add support for verbose "local" service runscript
    
    With this patch, the "local" service runscript will be verbose like the
    "sysctl" service when 'rc_verbose="yes"' is set.
    
    Example output successful start:
    
     * Stopping local ...
     *   Executing "/etc/local.d/00will-stop.stop" ...                  [ ok ]
     * Starting local ...
     *   Executing "/etc/local.d/00will-start.start" ...                [ ok ]
     *   Executing "/etc/local.d/01 test.start" ...                     [ ok ]
    
    Example output with failing executables:
    
     * Stopping local ...
     *   Executing "/etc/local.d/00will-stop.stop" ...                  [ ok ]
     *   Executing "/etc/local.d/will-fail.stop" ...
    mount: can't find foo in /etc/fstab
     *   Execution of "/etc/local.d/will-fail.stop" failed.             [ !! ]
     * Starting local ...
     *   Executing "/etc/local.d/00will-start.start" ...                [ ok ]
     *   Executing "/etc/local.d/01 test.start" ...                     [ ok ]
     *   Executing "/etc/local.d/will-fail2.start" ...
    mount: can't find bar in /etc/fstab
     *   Execution of "/etc/local.d/will-fail2.start" failed.           [ !! ]
     *   Executing "/etc/local.d/will-fail.start" ...
    mount: can't find foo in /etc/fstab
     *   Execution of "/etc/local.d/will-fail.start" failed.            [ !! ]
    
    X-Gentoo-Bug: 489274
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=489274

commit 143f1c64c13e4930e3880a393b7253d6fbc0ed58
Author: Kaarle Ritvanen <kaarle.ritvanen@datakunkku.fi>
Date:   Wed Jul 2 11:45:14 2014 +0300

    sysctl.Linux.in: remove -lxc from keywords
    
    certain tunables can be set independently for each container
    
    X-Gentoo-Bug: 516050
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=516050

commit b4b34d909c36898095a0036f90a328838137e3a4
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jul 1 07:14:31 2014 -0500

    Schedule removal of the opts variable from service scripts

commit 56112a6f1f176696e5f39a86fe4b52017ccdd04c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Jun 30 20:30:39 2014 -0500

    sysfs: Do not mount openrc cgroup if it is already mounted
    
    We were not checking to see if /sys/fs/cgroup/openrc was already mounted
    before we mounted it. This fixes that issue.
    Thanks to Robin Johnson <robbat2@gentoo.org> for pointing this out.

commit 09d81e86f210acf5270ea4bd0fa7319a49f88131
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Jun 23 20:26:18 2014 -0500

    Make history a separate document
    
    Move the additional history information from Daniel Robbins' wiki
    page along with the history from README to a separate file,
    README.history.
    
    X-Gentoo-Bug: 513024
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/513024

commit 23cb55d843b165d5508f330287ed329358fc85dc
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Jun 21 01:53:17 2014 -0500

    man/start-stop-daemon.8: correct argument from --nice to --nicelevel
    
    X-Gentoo-Bug: 510648
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=510648

commit 094bc17cb0ad75da189ebf1a8242a378928a1eef
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jun 20 19:39:07 2014 -0500

    tmpfiles.sh: fix comment processing
    
    If you happened to format a comment with no white space after the '#',
    it was not being processed.
    
    Reported-by: consus@gmx.com
    X-Gentoo-Bug: 511804
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=511804

commit 6126700a0723efa4ef1e299da0f58498f742c3a1
Author: Sven Vermeulen <sven.vermeulen@siphos.be>
Date:   Sat Apr 19 21:18:18 2014 +0200

    SELinux filesystem is at /sys/fs/selinux
    
    The SELinux filesystem has been moved to /sys/fs/selinux for quite some
    time. We kept supporting /selinux for backwards compatibility, but it's
    time to move forward on this.
    
    X-Gentoo-Bug: 511718
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=511718
    Signed-off-by: Sven Vermeulen <sven.vermeulen@siphos.be>

commit 19cccb2e9416311b85fcad3c15d4d988fed2f954
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Sun May 25 23:51:37 2014 -0700

    sh/tmpfiles.sh: license under 2-clause BSD
    
    As the author of our tmpfiles.sh script, I hereby license it under
    2-clause BSD, like the rest of openrc.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 9eb9b28d3e3b6725559fb38101ae869c1e4530ce
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jun 20 16:01:47 2014 -0500

    librc: filter out container processes on OpenVZ host
    
    Thanks to info and testing done by Daniel Robbins <drobbins@funtoo.org>,
    there is now a fix for this. Below is his description of the steps
    OpenRC needed to use.
    
    1) See if /proc/<pid>/status exists
    2) If it does, see if it has a "envID:" field
    3) If it does, see if "envID:" is set to "0"
    4) If so, then it's one of the host's processes and should be a
    candidate for the list. Otherwise, it is one of the container's
    processes and should be ignored.
    
    This should fix the bug and allow start-stop-daemon to work properly on
    OpenVZ hosts.
    
    X-Gentoo-Bug: 376817
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=376817

commit a817915632f7f2162e7c3740d204989f6cfde554
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Apr 9 19:27:12 2014 -0500

    README.busybox: document incompatibility with built-in ip applet

commit 20d7b83150b18b0eca550d9bb2e1d5fb0acbbd89
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Wed Mar 26 12:14:08 2014 -0400

    tmpfiles.dev: remove --remove option
    
    For compatibility with systemd.
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit 686ee62a79e12ad73581ef4e151baad21b624935
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Wed Mar 26 12:13:20 2014 -0400

    tmpfiles: add support for --boot option
    
    For compatibility with systemd-tmpfiles.
    
    Fixes #17
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit c081633762dc66235fe385eedcc2cdf6bff83391
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Thu Mar 27 11:02:47 2014 -0400

    tmpfiles: ignore all files starting with systemd-
    
    systemd recently moved creation of /run/nologin to systemd-nologin.conf
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit e0e1f2a4da376d9d05487ec23922c1ca356cbbc6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Mar 14 22:18:25 2014 -0500

    rc.conf: typo fix

commit 7fb209a6fc3512d3437bbb175853f1f01393b74d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Mar 13 15:27:40 2014 -0500

    conf.d/hwclock: typo fix

commit d0186d422c3bb75ac2977dfe7d1f8f97c3ce5c3b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Mar 9 15:35:41 2014 -0500

    rc.conf: document rc_nocolor setting

commit 4ee8e90ffed3ab9f9627f7bbaa48f514fd520f2a
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Thu Jan 23 01:19:35 2014 -0500

    devfs: explicitly mount /dev/shm with mode=1777
    
    The current code relies on the tmpfs mount defaulting to 1777
    permissions.  If it doesn't, things break badly.
    
    This can come up when tmpfs is disabled in the kernel and ramfs
    is being used instead (the kernel will alias tmpfs to ramfs).
    The default permissions for ramfs is 0755.

commit 2cc6ef723a7395993362f8015cd8aab6430301a9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jan 23 11:08:35 2014 -0600

    update feature removal schedule
    
    - Remove the netifrc related items since netifrc is now a separate
      package.
    
    - State that the features we are planning to remove will be removed
      in version 1.0.
    
    - Clarify the last entry; we are refering to start-stop-daemon options.

commit de186401e5843e376cc12545c2ea35212f5e0490
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Jan 18 13:50:05 2014 -0600

    fstabinfo: fix mount and remount
    
    The mount and remount options should always be processed. They were only
    being processed if -q was not on the command line.
    
    X-Gentoo-Bug: 498206
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=498206

commit cdc0dd061bed38be298e714e45cd0faa7cf77bf6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Jan 18 02:34:39 2014 -0600

    init-Linux.sh: do not mount /run with nosuid
    
    This is so that we will be consistent with the systemd spec forr the
    /run directory mentioned in this wiki article:
    
    http://www.freedesktop.org/wiki/Software/systemd/InitrdInterface/

commit 561b53ef09eed4dfba0b7f3026ddcdc2b7b5c54a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jan 15 10:43:52 2014 -0600

    bootmisc: Remove console directories only if $RC_LIBEXECDIR is writable
    
    X-Gentoo-Bug: 489368
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=489368

commit abadaa04abe1833c6016f203e5d10168002bd8d3
Author: Benda Xu <heroxbd@gentoo.org>
Date:   Mon Jan 13 09:18:40 2014 -0600

    rc-update: add option to remove a service from all runlevels
    
    The -a option,which only applies to the del command, is used to remove a
    service from all runlevels.
    
    X-Gentoo-Bug: 497740
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=497740

commit 54ab12d2186d907ea8d7d882b6a9e0536fcc8f5c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Jan 11 13:32:43 2014 -0600

    Merge init-common-post code into BSD init script
    
    This code is no longer part of the initialization script for Linux, so
    we can move it into the init script for *BSD which is the only place it
    is used.

commit 257e10a1abe275cfdd01f590e78a499c292ab55f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jan 9 13:56:31 2014 -0600

    conf.d/keymaps: Remove the currency and euro symbols
    
    A comment in this file had the actual currency and euro symbols, which
    were not utf-8, so I was requested to remove them.
    
    X-Gentoo-Bug: 494936
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=494936

commit e5a94dd3f4570d74b6e5149253e6d17261cf27f9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jan 8 13:16:27 2014 -0600

    Add missing documentation for environment variables
    
    Add documentation for the RC_SERVICE, RC_GOINGDOWN, RC_LIBEXECDIR and
    RC_NO_UMOUNTS environment variables.
    
    X-Gentoo-Bug: 489344
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=489344

commit 8352082eb6582d6e7adc26fc64dfd2255eadf2a7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Dec 1 16:31:02 2013 -0600

    devfs: add code to mount /dev
    
    All Linux systems need /dev to be set up,so add code to devfs to do
    this. The process devfs follows is below.
    
    1. If static_dev is yes, nothing is done.
    2. if /dev is an entry in fstab it is mounted or remounted based on that
    entry.
    3. If /dev is not in fstab, it attempts to mount /dev as a devtmpfs or
       tmpfs depending on which is defined in the kernel; devtmpfs is
       preferred.
    4. If neither devtmpfs nor tmpfs is defined, it assumes the user wants
    static /dev and prints a warning.
    
    X-Gentoo-Bug: 492694
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=492694

commit 3470eda3f5cea437a6de132b1ead3f27effd3902
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Dec 21 14:51:11 2013 -0600

    Rename runscript to openrc-run
    
    This was requested by Debian, because the minicom software, which is
    available on Debian and other distros, has a binary named runscript. We
    are keeping a backward compatibility symlink for now, but this allows
    Debian or any other distro to safely remove the symlink.
    
    X-Gentoo-Bug: 494220
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=494220

commit c096ad63caba72684010f446ecee87751da78e65
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Dec 13 12:19:27 2013 -0600

    add openrc binary to ignore patterns

commit 7a35daeab7bf97bcd0ae4f9e0e053cb5c9bad40b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Dec 13 01:09:55 2013 -0600

    runscript: clarify the message wrt scheduling
    
    The message about a service being scheduled to start was confusing to
    some of our users; I was told this wording is more clear.
    
    X-Gentoo-Bug: 493070
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=493070

commit 7b5fa011ac7a9544fe68a9abb2f8ef940d9845f7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Dec 11 17:39:38 2013 -0600

    Rename the rc binary to openrc
    
    Debian requested this rename due to the "rc" binary conflicting with the
    "rc" binary from the plan 9 shell.
    
    We also add a deprecation warning to the binary when it is run as rc to
    encourage users to switch to openrc instead.
    
    X-Gentoo-Bug: 493958
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=493958

commit 09733d3fae77265263b1e918b9fce66a1c7a519a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Dec 10 22:34:40 2013 -0600

    tmpfiles.sh: small fixes
    
    Change "sort | uniq" to "sort -u". Also, change `...` to $(...).
    
    X-Gentoo-Bug: 493736
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=493736

commit 7230b29bf365ab05f656bb5bbba471ead2597bf7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Dec 8 13:40:23 2013 -0600

    rc.conf: Sync list of network file systems with actual defaults
    
    I would like to thank Aaron Ten Clay <aarontc@aarontc.com> for pointing
    this out; this is based on a patch he submitted.
    
    X-Gentoo-Bug: 491384
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=491384

commit 235f94c4c5bdde011eda43620b39ed2c55af4f1d
Author: Petre Rodan <petre.rodan@simplex.ro>
Date:   Sun Dec 8 12:23:56 2013 -0600

    bootmisc.in: fix boot order
    
    Bootmisc was running before the root file system was remounted rw in
    some situations. This fixes that issue.
    
    X-Gentoo-Bug: 493442
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=493442

commit d7116631894badd88f334b4ef5cd6e3ee585b801
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Sun Aug 18 23:47:04 2013 -0400

    network.in: skip loopback device
    
    The loopback interface is supposed to be handled by the loopback
    service, but sys_interfaces includes it.  This causes network to try to
    start it and means that network provides net even if lo is the only
    interface configured.
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit 60d288a877a3671ea5b3483ed7c4612ec897b99a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Dec 1 19:25:01 2013 -0600

    remove type command
    
    The posix equivalent of the type command is "command -v", so now we use
    that. Thanks to Jonathan Callen <jcallen@gentoo.org> for informing me
    wrt the fix.

commit 1fccf91df12c3c7f7e68f9fa9a99a71e85d9b98e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Dec 1 11:20:29 2013 -0600

    rc-update: make "service already installed" message informational
    
    This message was being sent to stderr, and it should be sent to
    stdout since it is informational. This change was requested by
    zero_chaos.

commit af30c4b86e20512cbd2cfa861ff8346ed6bd1c3e
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Nov 30 16:21:15 2013 -0500

    functions.sh: yesno: (mostly) fix eval logic
    
    We need to quote the expansion.
    
    X-Gentoo-Bug: 475032
    X-Gentoo-Bug: https://bugs.gentoo.org/475032
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 6965d85f2efb4e1d7b37e04af890b715091fe3d9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Oct 31 16:04:19 2013 -0500

    Fix the service-level rc_verbose setting
    
    This commit fixes the rc_verbose setting so that it is honored if it is
    set for an individual service.
    
    Thanks to whissi@whissi.de for the original patch; this one is slightly
    modified to be more posix.
    
    X-Gentoo-Bug: 489358
    X-Gentoo-Bug: https://bugs.gentoo.org/show_bug.cgi?id=489358

commit 766d71c2d32d2c57969d161f4d96f15706b8ed3a
Author: Steven Chamberlain <steven@pyro.eu.org>
Date:   Tue Oct 29 13:35:33 2013 -0500

    Begin port to GNU/kFreeBSD
    
    This is just a minimal port to get Debian up and running; the rest will
    be done later.

commit 579838d2e7b1f9d43d2d284bcc8a90f6e27118ba
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Oct 28 15:21:50 2013 -0500

    bootmisc: do not run clean_run on VSERVER systems
    
    X-Gentoo-Bug: 489370
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=489370

commit 9238d94d6480569af68f7fe147038435c0410fca
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Oct 28 12:37:22 2013 -0500

    loopback: do not run in a prefix or vserver
    
    X-Gentoo-Bug: 489370
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=489370

commit aeb670f4e8f56bae72511b08f8b3b5fa732ce7fc
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Oct 21 14:21:22 2013 -0500

    librc: do not allow "." and ".." as runlevel names
    
    The rc_runlevel_exists function was attempting to treat "." and ".." as
    valid runlevels; however, this should not be allowed.
    
    X-Gentoo-Bug: 488710
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=488710

commit 48981be8a872c7a0191d2519793205276fdc423a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Oct 16 12:55:37 2013 -0500

    Revert "Make einfo routines private"
    
    This reverts commit de88aff0a839844526ae262f8961ec4372fed238.
    I was advised that splashutils links to libeinfo, so we do have a
    consumer for this library.

commit d2988dc7ddd832ffc94f6b76c54898217812b7cc
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Oct 18 16:26:46 2013 -0500

    remove redundant sync calls
    
    The localmount and mount-ro scripts were flushing pending disk writes by
    calling sync twice in succession. This is no longer necessary; see the
    bug report and blog post for reasons we were still doing this.
    
    Reported-by: Patrick Lauer <patrick@gentoo.org>
    X-Gentoo-Bug: 487382
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=487382

commit 66970394ab3fa395685234a725eda0a4e48f43da
Author: Alexander V Vershilov <qnikst@gentoo.org>
Date:   Fri Aug 16 09:47:09 2013 +0400

    Add uml keyword to fsck service.
    
    Fix relevant an issue mentioned by Toralf FÃ¶rster.
    
    X-Gentoo-Bug: 481096.
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=481096

commit f751e14416066fa0290c76c1f675d4093bb1d436
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Oct 11 12:55:27 2013 -0500

    convert flock() messages to verbose warnings
    
    Convert these messages to warnings that are only displayed if
    EINFO_VERBOSE is set to yes in the environment.
    
    This is based on a suggestion from Patrick Lauer <patrick@gentoo.org>.
    
    X-Gentoo-Bug: 487588
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=487588

commit 4b37d3b16f5544faef028d78b007a82cf98d8308
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 8 10:34:45 2013 -0500

    netmount: add -lxc keyword
    
    Netmount should not run on lxc, thanks to Mark van Dijk <funtoo@internecto.net>.

commit 82378bd92dc5569c1c06f291b6f3c048044baafa
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Oct 5 17:19:06 2013 -0500

    start-stop-daemon: fix do_stop calls
    
    Several calls to do_stop were forcing the test parameter to be true,
    which was causing extra output to the terminal, such as:
    
    * Would send signal 0 to pid xxxxx
    
    This should only happen if the --test command line option was used.

commit e6df76a3775f90f1178db507b6da08a02a9455f4
Author: Daniel Robbins <drobbins@funtoo.org>
Date:   Thu Sep 26 18:05:40 2013 +0000

    FL-786: localmount: support filesystem mounting on openvz

commit 03c67bcc2727a3e61a168c7dfac98a3dd49c7d79
Author: Natanael Copa <natanael.copa@gmail.com>
Date:   Thu Sep 26 08:17:07 2013 +0000

    librc: fix a read off-by-one bug
    
    We should first check if we are within bounds and then read rather than
    the opposite.
    
    This makes valgrind happy.
    
    Signed-off-by: Natanael Copa <ncopa@alpinelinux.org>

commit 681a37e7bd64a1cdc39613e7ded594dda8e98208
Author: Natanael Copa <natanael.copa@gmail.com>
Date:   Thu Sep 26 07:59:29 2013 +0000

    librc: fix off-by-one bug
    
    We need allocate space for both the added leading '-' and the trailing
    '\0'.
    
    Signed-off-by: Natanael Copa <ncopa@alpinelinux.org>

commit 56d592866c7734c42c0b2c0a41376e299fa3a0c2
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Sep 30 16:55:25 2013 -0500

    start-stop-daemon: fix eerorr calls in get_pid
    
    The eerror calls in this function make it too verbose, so change them to
    ewarnv() calls instead. This means that they will only print if the
    --verbose option is used or EINFO_VERBOSE=yes is set in the environment.

commit 993e7d704404a8ff1a355bf4a38d1d92e7cc56cd
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Sep 25 20:05:41 2013 -0500

    fix cgroup_cleanup function
    
    The yesno test for rc_cgroup_cleanup belongs at the point where this
    function is called from runscript, not in the function itself.
    
    X-Gentoo-Bug: 486210
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=486210

commit de88aff0a839844526ae262f8961ec4372fed238
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Sep 22 20:23:56 2013 -0500

    Make einfo routines private
    
    The libeinfo library has no consumers other than OpenRC, so there is no
    reason for it to be maintained as a library. The einfo routines are now
    an object that links with the rc binary.

commit 9e989227ab51cd880405958a0b11c63fa461ea7e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Sep 24 01:47:17 2013 -0500

    start-stop-daemon: remove the verbose variable
    
    Along the same lines as the quiet variable, this is controlled by an
    environment variable for the einfo code, so we do not need a separate
    boolean flag.

commit d6436bed09c0ccf07bdd32dd3374761a7187ab74
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Sep 23 16:48:30 2013 -0500

    start-stop-daemon: remove the quiet variable
    
    The suppression of output is controlled in the e* functions themselves,
    so there is no need for a variable to test in start-stop-daemon.
    
    X-Gentoo-Bug: 482396
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=482396

commit 4480f1f395d6b83f3a5d63f2df32efb4a590bc88
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Sep 23 13:37:21 2013 -0500

    rc: add service to ignore patterns

commit 0ba14ae7205a4e6a8acc23a62a95f6c6ad8b591f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Sep 23 12:40:26 2013 -0500

    style fixes

commit 7716bf31de5030b761613834e11e4e62f36403a5
Author: Alexander V Vershilov <qnikst@gentoo.org>
Date:   Wed Aug 7 11:03:51 2013 +0400

    Fix stacked runlevel support
    
    Patch was provided by  Max Hacking <max.gentoo.bugzilla@hacking.co.uk>
    and slightly fixed by Alexander Vershilov <qnikst@gentoo.org> and
    William Hubbs <williamh@gentoo.org>.
    
    Fixes:
    1). Rebase to newest OpenRC version.
    2). Remove code style fixes. Port to currect code style.
    3). Fix rc_runlevel_stack instead of introducing new function.
    4). Make get_runlevel_chain a private function.
    
    X-Gentoo-Bug: 467368
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=467368

commit 445b297360b85c03b4509458f194a0d964c1d71a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Sep 1 17:36:37 2013 -0500

    rc: add support for suppressing error messages
    
    Add support for suppressing error messages with --quiet specified twice
    on the command line.
    
    X-Gentoo-Bug: 482396
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=482396

commit 2590bf7a2bc40e2fcd5cbe1f4f063d820c2c5438
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Sep 1 15:06:15 2013 -0500

    libeinfo: add separate variable to suppress eerror messages
    
    Add an EERROR_QUIET environment variable which works like EINFO_QUIET
    but for the eerror functions. This will allow library consumers to
    choose whether to suppress eerror messages separately from einfo and
    ewarn messages.
    
    X-Gentoo-Bug: 482396
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=482396

commit 4ce3cb90a035b74f4f6bcce1a0f1bca841e6424f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Sep 1 16:30:18 2013 -0500

    init.d: update ignore patterns
    
    Remove net.lo* from the ignore pattern since these scripts are no longer
    part of OpenRC and add loopback and tmpfiles.dev.

commit a78b18e291bd7f55b176958074f41327f2d0e196
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Aug 28 14:23:46 2013 -0500

    libeinfo: suppress output for eerror* functions
    
    This makes the eerror* functions honor the EINFO_QUIET environment
    variable like the einfo* and ewarn* functions.
    
    X-Gentoo-Bug: 482396
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=482396

commit 72b58b9e6b7271bd4b20933b2992d55f8b4d31b4
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Aug 26 14:31:34 2013 -0500

    Revert "Libeinfo: do not suppress ewarn() messages"
    
    This reverts commit 4ee62c7903c65557c493f51d6703264a816156cd.
    
    The previously referenced commit broke consistency because ewarnx() was
    respecting the EINFO_QUIET environment setting, but after this commit,
    ewarn() was not.
    Also, due to discussion on the below referenced bugs, I think we do
    want to suppress warnings when EINFO_QUIET=yes.
    
    X-Gentoo-Bug: 482396
    X-Gentoo-Bug: 439174
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=482396
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=439174

commit 5c3e5d801b7ea536f6ea4a993076965c978f0e81
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Aug 26 17:09:18 2013 -0500

    start-stop-daemon: remove redundant test of the quiet value
    
    The einfo() function tests for the EINFO_QUIET environment variable
    directly, and this is the variable that is set by the --quiet flag, so
    there was no reason for this test to exist.

commit bb8a9c087d20ee6454e2b6bf4713ec0ce9db94f3
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Aug 25 21:27:50 2013 -0500

    start-stop-daemon: fix --quiet switch
    
    The --quiet switch wasn't really quiet, because we changed it to report
    errors. I am changing it back due to discussions on the listed bugs.
    
    X-Gentoo-Bug: 482396
    X-Gentoo-Bug: 439174
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=482396
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=439174

commit d1b183a2f9595c033489a7913aef1989ccd2d2eb
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Aug 24 17:59:19 2013 -0500

    increment version

commit 7296379f3fcab5d3d6320a21c6da30905155816b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Aug 24 11:57:22 2013 -0500

    man/runscript.8: minor grammar fixes

commit 1f5d447eda0ecc62a556cee19cdc1f1929ac2931
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Aug 15 10:14:42 2013 -0500

    fix typo on runscript man page
    
    The example code had an invalid checkpath option (--dir instead of
    --directory) and a mode that does not make sense for directories (664
    instead of 775).
    
    X-Gentoo-Bug: 481034
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=481034

commit df9d1c25a7907c45d5de33d5347de23cef9f82a0
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Aug 14 01:08:12 2013 -0500

    typo fix

commit 3811ac30db27722638d96a7f23f89357f4292717
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Aug 14 00:15:04 2013 -0500

    add note to README about the net.* scripts moving to their own package

commit 838c9efb36b3b058c5a5b9d0e8c6d4d4789a44b9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Mar 18 18:29:36 2013 -0500

    Remove gentoo's net.* scripts
    
    It has been determined that it will be best for gentoo's net.* scripts
    to be in a separate package to allow independent development.
    This package will be called netifrc and maintained by Gentoo.

commit b2f8ac9382d5dad70181ef803a37f43896f5cb91
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Aug 13 12:12:43 2013 -0500

    Clarify the documentation about the restart function
    
    Restart has never been able to be overridden in OpenRc, but there is a
    way to make your service script behave differently when restart is being
    executed.
    
    X-Gentoo-Bug: 480866
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=480866

commit 6b0ffd31035ddf6907dcf513afda9975ef425d02
Author: Fedja Beader <specing@contact.me.on.irc.freenode.net>
Date:   Tue Aug 6 00:27:30 2013 +0200

    Fix Permission Denied on reading dmesg in an LXC container

commit 1c94d793c025b763429e4bd006a78cfb2945ebb3
Author: Alexander V Vershilov <qnikst@gentoo.org>
Date:   Wed Jul 31 17:10:14 2013 +0400

    devfs: Add -lxc keyword
    
    Devfs is not needed for LXC, as LXC mounts all required fs on
    it's own. Reported by specing.

commit e90dcf39dd3f3658a7d9804e73d0442ae6c7935c
Author: Dirk Sondermann <ds-gentoo@dyximaq.de>
Date:   Sat Jul 27 10:53:32 2013 -0500

    tmpfiles: do not signal an error if device nodes already exist
    
    X-Gentoo-Bug: 478336
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=478336

commit e942e88b8cf37cd7dc292b7dbcfa567114bdb28e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jul 26 12:15:29 2013 -0500

    swapfiles: do not try to unmount all tmpfs mounts
    
    This is handled in the swap script, so it should not be done here as
    well.
    
    X-Gentoo-Bug: 477534
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=477534

commit 9ebd5a6aff73d70717f1d9a2f57767eae3eeb0c8
Author: Gary <admin@garyshood.com>
Date:   Tue Jul 23 00:07:23 2013 -0500

    Add support for DragonFly BSD

commit bee59c68c5ff5be426e68ecb603d4cc26542f4af
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jul 25 20:33:51 2013 -0500

    rc-cgroup: make sure the tasks file exists before adding the pid

commit 35f2f1ec73aa6754764d573ea3e1cce938b3ee9a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jul 25 12:33:03 2013 -0500

    Introduce the tmpfiles.dev service
    
    This service handles setting up the tmpfiles entries for the /dev
    directory for Linux systems which needs to be run in the sysinit
    runlevel.

commit e9189cd8a24b5614f3e82aec4a779e4d90656b1e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jul 25 00:58:38 2013 -0500

    tmpfiles: add --prefix and --exclude-prefix options

commit 19579687fd6d4fb80ffbd83c010fab6777c3120c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jul 23 17:58:42 2013 -0500

    tmpfiles: make b and c commands set ownership and permissions
    
    The b and c commands in tmpfiles.sh were not setting ownership and
    permissions for the device nodes.

commit c18d623dc02728e39376239fedbee8e76a87208e
Author: Alexander V Vershilov <qnikst@gentoo.org>
Date:   Thu Jul 18 20:14:42 2013 +0400

    rc-status: fix typo
    
    X-Gentoo-Bug: 477318
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=477318

commit 3af434a4e90f6e964105d94163169f843113a1fb
Author: Hank Leininger <hlein@korelogic.com>
Date:   Tue Jul 16 17:09:05 2013 -0500

    typo fix
    
    X-Gentoo-Bug: 477006
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=477006

commit 0f70cd067f4941ce7d9ec817dcf102952a1e8d44
Author: Alexander V Vershilov <qnikst@gentoo.org>
Date:   Sun Jul 14 10:55:24 2013 +0400

    rc-status: fix -a to show all services
    
    We need to unset rc_svcname so that all of the services are added to the
    list to display.
    
    X-Gentoo-Bug: 409787
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=409787

commit a7a6092f015642c86ea2a545bc8f6928afcffc66
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jul 5 11:04:45 2013 -0500

    cgroups: change '$$' to 0 for consistency

commit 88cdcc145eb6343b94626ab3910a5eb1f8654212
Merge: 00caa143 992807de
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Jul 5 10:38:51 2013 -0500

    Merge branch 'cgroup.systemd'
    
    Conflicts:
            sh/rc-cgroup.sh.in

commit 992807de55bd9b0e8cbb569a86bb84b75fe9482e
Author: Alexander V Vershilov <qnikst@gentoo.org>
Date:   Sun Jun 30 16:32:30 2013 +0400

    Put a service on into a top hierarchy of each cgroup
    
    This change will fix unwanted cgroup inheriting from user cgroups,
    and fixes issues with systemd cgroup tracking by logind.
    
    However this fix can lead to incorrect work for some user cgroup
    controllers - so more advanced solution, that coveres such cases
    will be created later.
    
    Thanks to Fabio Erculiani (lxnay) for testing and general idea.

commit 00caa1431abd5f7ae28bc9f4284d65f6a3575a7b
Merge: 2391ddff 29f0f55c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jun 25 12:11:23 2013 -0500

    Merge branch 'gentoo'
    
    This syncs the gentoo master branch to github.

commit 2391ddff772ce541bc2237c89a2792a0b85e076c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jun 25 10:50:13 2013 -0500

    cgroups: add support for systemd cgroup hierarchy
    
    The systemd cgroup hierarchy support is being added so we can run
    logind outside of systemd. This is needed because software that was
    using consolekit is now migrating to logind.
    We do not create this hierarchy, we just add services to it if it
    exists.

commit ccb8c5835c2c59d8f85aec531da8a75f004b030b
Merge: 29f0f55c 02a7d357
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jun 24 21:30:43 2013 +0000

    Merge branch 'master' of git+ssh://git.overlays.gentoo.org/proj/openrc

commit 02a7d3573d551c5d169eaa465ef90349d1ee367e
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jun 24 19:31:58 2013 +0000

    efivarfs: Support EFI variable access in 3.10 kernels.
    
    In the 3.10 kernel, EFI variables are now provided by a dedicated
    filesystem that needs to be mounted.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 29f0f55c0e7debef879674ed288c1d3af0f84772
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jun 24 19:31:58 2013 +0000

    efivarfs: Support EFI variable access in 3.10 kernels.
    
    In the 3.10 kernel, EFI variables are now provided by a dedicated
    filesystem that needs to be mounted.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 9f14fd7ae10d8ae724045a57a2eb25c1d4290a3b
Author: Alexander V Vershilov <qnikst@gentoo.org>
Date:   Sun Jun 2 22:49:19 2013 +0400

    Fix quoting in cgroup-release-agent

commit dce989e96df05c0777e407b7d2cbd1c67a67f630
Author: Alexander V Vershilov <qnikst@gentoo.org>
Date:   Sat May 25 17:37:56 2013 +0400

    cgroups: hide messages about non-existent processes

commit e451d173faeef52bd4723a50363e37e6d481521f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat May 25 21:04:10 2013 -0500

    runscript.sh: run cgroup_cleanup automatically after stop

commit b5cb1f5020c1e4969b6c870f665a87606c494997
Author: Alexander V Vershilov <qnikst@gentoo.org>
Date:   Sat May 25 17:37:56 2013 +0400

    rc_cgroup.sh: fix typo
    
    This fixes an incorrect variable assignment in cgroup_get_pids

commit 829c969f9bdada223e22aea501d60015e2c6d43a
Author: Alexander Berntsen <alexander@plaimi.net>
Date:   Tue May 7 23:53:16 2013 +0200

    Fix wrong wording in STYLE

commit ac00934ecd5d9f13e44d27dafe3ac470fc7a5f18
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue May 7 13:17:40 2013 -0500

    Document busybox applet incompatibilities
    
    Reported-by: slong@rathaus.eclipse.co.uk
    X-Gentoo-Bug: 468396
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=468396

commit 248434329b8ffd56b02bd13629a780bfae86f9ce
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun May 5 13:47:45 2013 -0500

    fix setfont detection in early startup on Linux
    
    Most of the time, setfont is an external command (part of the kbd
    package), but it can also be a builtin if busybox is being used. This
    corrects the test in early startup to work for both cases. I would like
    to thank Steve L. for pointing this out.

commit a09a60c4cf6e390fc4c2964c4a7a3674214283ee
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed May 1 18:01:11 2013 -0500

    Add service applet
    
    The service applet is equivalent to rc-service. This was added so that
    we will be more compatible with Debian and Fedora.
    
    Reported-by: cardoe@gentoo.org
    X-Gentoo-Bug: 468168
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=468168

commit 70628a875ba5ccf9fd3c9d702bc5c7471762270b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed May 1 18:20:01 2013 -0500

    fix the build for non-selinux systems
    
    The symlinks should be created only if MKSELINUX=yes, not if it just has
    a value.

commit 10a4385e409b48d9aa60590c140d4ca6485a7a72
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Apr 28 12:51:12 2013 -0500

    rc: allow switching runlevels without stopping services
    
    OpenRC, by default, stops all services that are not listed in a runlevel
    when rc is used to switch runlevels. This adds a -n/--no-stop command
    line option to rc which tells it to skip stopping the services which are
    not in the runlevel.
    
    Reported-by: gentoo@thoth.purplefrog.com
    X-Gentoo-Bug: 372585
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=372585

commit 10eabd4d921cea895b8f9bde47f29d107f39fa0b
Author: Eugeny Shkrigunov <eshkrig@gmail.com>
Date:   Sat Apr 27 10:26:37 2013 -0500

    fsck: fix typo
    
    X-Gentoo-Bug: 467158
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=467158

commit c984506537fbb8a3adefd2d57dd4dc831eeb79c3
Author: Alexander Vershilov <alexander.vershilov@gmail.com>
Date:   Tue Apr 16 09:52:33 2013 +0400

    add cgroup cleanup support
    
    This adds the ability to kill all processes within a service's cgroup
    when that service is stopped or restarted.

commit e4668a5061de4f225d4e9d534ff6212e634e45d2
Author: Natanael Copa <natanael.copa@gmail.com>
Date:   Thu Nov 8 15:51:00 2012 +0000

    Fix autodetection of lxc
    
    The /proc/1/environ contains various \0 terminated strings. The current
    code will only work when the search string is in the first of those.
    
    To fix this we look for strings in entire buffer.
    
    Signed-off-by: Natanael Copa <ncopa@alpinelinux.org>

commit 56f1752ce1899c455b9e97ac73da9bd68fbab2b9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Apr 8 12:46:51 2013 -0500

    create loopback service
    
    The loopback service handles the basic settings for the loopback
    interface, regardless of the network manager you are using.

commit 9314ac64ead736c3e2b0d990a8b7030c16013993
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Apr 3 11:25:19 2013 -0500

    migrate-to-run: fix test for successful migration
    
    This script originally tested the file system type for the source
    location of the data we were migrating to determine if the migration was
    complete. Now we test the destination, and if the softlevel file is
    there the migration was successful.
    
    Reported-by: Piotr Karbowski <piotr.karbowski@gmail.com>

commit 19fa20832c3783e134eb15866bcc1481c99a3f80
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Mar 22 14:50:27 2013 -0500

    localmount: add "no" in front of network file system types
    
    On Linux, this was not an issue, but we may have been attempting to
    mount network file systems twice on *bsd.
    
    Reported-by: powerman-asdf@yandex.ru
    x-Gentoo-Bug: 462210
    x-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=462210

commit 879c7f04eca9336ae9dcccc23c818a9125792123
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Mar 20 15:21:03 2013 -0500

    runscript: update documentation for the provide function
    
    Explain that virtual services take precedence over real services and
    recommend that virtual services have different names from real services.
    
    Reported-by: me@2gw.net
    X-Gentoo-Bug: 461818
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=461818

commit 66dd88d6f6a28b9b607433248ead8bde57e2b258
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Mar 12 14:16:41 2013 -0500

    config: move rc_fuser_timeout to rc.conf
    
    I was told that fuser does exist on *bsd, so this will need to bee
    supported there. This moves the timeout setting to rc.conf.

commit 67944412247173c65b14e7eaeb20b961241e1bd5
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Feb 16 12:53:31 2013 -0600

    Make fuser command time out
    
    This avoids situations in which fuser hangs because of open files on
    remote file systems when the remote system goes down.
    I have also passed this bug on to the maintainers of psmisc since it
    should really be fixed in fuser.
    This is based on a patch submitted by evermind@tuxfamily.org
    
    Reported-by: evermind@tuxfamily.org
    X-Gentoo-Bug: 455458
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=455458

commit 274d6eee662c7f4fe0233da08247c9e40af5c382
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Mar 11 01:03:06 2013 -0500

    tmpfiles: add support for the new X line type
    
    tmpfiles now has a new line type, X, which is similar to the x line type
    used by the cleanup function.
    This is not supported yet by OpenRc, because we do not have the cleanup
    function in tmpfiles.sh, so I have added a dummy procedure for it so
    we don't get complaints about this line type.
    
    Reported-by: mgorny@gentoo.org
    X-Gentoo-Bug: 460880
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=460880

commit f1ae8963c9251c23752e932eede36bf6f8901dbf
Author: Yuta SATOH <nigoro.gentoo@0x100.com>
Date:   Fri Mar 8 15:16:21 2013 -0600

    oldnet: convert netmask to decimal numbers in _netmask2cidr
    
    Free BSD's ifconfig outputs a netmask in the form 0xffffff00, which
    was translating to 0xff.0xff.0xff.0x00,. Now we convert this to decimal
    numbers before we convert it to cidr notation.
    
    Reported-by: 4glitch@gmail.com
    X-Gentoo-Bug: 460268
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=460268

commit 3b05586a735f46bb668a88e7ea59b1ff9d84b461
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Mar 6 12:48:20 2013 -0600

    ipfw: change opts variable to extra_commands
    
    Reported-by: 4glitch@gmail.com
    X-Gentoo-Bug: 459694
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=459694

commit ceb88fc465f1aa9fa5f9391ebf69aaa8516ab18c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Feb 25 16:04:25 2013 -0600

    local.d: update README
    
    Remind users that if they put a long-running process in /etc/local.d,
    they can delay their boot or shutdown processing.
    
    Reported-by: toralf.foerster@gmx.de
    X-Gentoo-Bug: 456650
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=456650

commit fb10b971722ca630314ac7bccb9480f277a56d31
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Sun Feb 24 12:06:43 2013 -0500

    rc-service: add usage message
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit 927207c1b793d601344d2bd3c8f3c04cefb6323e
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Sun Feb 24 12:06:42 2013 -0500

    rc-status: improve usage message accuracy and consistency
    
    This makes it more clear that many of the options are used as an
    alternative to a runlevel.
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit 5872bf1333ae67e42e40ae181b0b5f024ccf6a99
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Sun Feb 24 12:06:41 2013 -0500

    rc-update: improve usage message accuracy and consistency
    
    The old message did not indicate that the runlevel argument was optional
    for add and del or that it could be used with show.
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit 67377cc09fb597e4e65fde52ca0c5cb269d00c15
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Sun Feb 24 12:06:40 2013 -0500

    rc: add usage message
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit a82a2b5f7c4d42e4d12f066aa35708501dc8794c
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Tue Feb 12 17:09:51 2013 -0500

    include BINDIR and SBINDIR in the sanitized PATH
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit 8a44067838e268db88ea2158258f8006cb1344b7
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Tue Feb 12 17:09:50 2013 -0500

    Fix shebangs in services to point to the correct location of runscript
    
    SBINDIR and BINDIR can be set independently of PREFIX.  This fixes
    broken shebangs in service files when SBINDIR is set to something other
    than PREFIX/sbin
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit 8c90042dee7cd0d7960c86b9fcfac5f1afec5784
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Tue Feb 12 17:09:49 2013 -0500

    make BINDIR and SBINDIR available to input files
    
    BINDIR and SBINDIR can be set independently of PREFIX and may not be set
    to PREFIX/bin as scripts currently assume.
    
    Note from William Hubbs:
    
    This adds @BINDIR@ and @SBINDIR@ macros to the sed commands run to
    convert *.in files to the executable form.
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit 9eb06745126de85d032d2f5d65ea713065f03c3d
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Sun Feb 17 01:21:09 2013 -0500

    add SBINDIR variable to sys.mk
    
    BINDIR was pointing to PREFIX/sbin which was confusing and inconsistent
    with src/rc/Makefile.  Add SBINDIR and redefine BINDIR appropriately.
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit 549cbadd2ccc3d0f11b5b1802175ca7afcdcb6a4
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Feb 23 14:04:09 2013 -0600

    build: use pkg-config to find ncurses libraries if it is available
    
    If ncurses was built with the --with-termlib switch enabled, tgoto, tgetent
    and tgetstr move to libtinfo. Fortunately, ncurses provides a pkg-config
    file which we can use if pkg-config is installed. If it is not, we still
    link to -lncurses for now, so pkg-config is not a hard requirement.
    
    Reported-by: jan.paesmans@gmail.com
    X-Gentoo-Bug: 455912
    X-Gentoo-Bug: https://bugs.gentoo.org/show_bug.cgi?id=455912

commit fac96b4df4b61db399bfa18549be162e9861b0b5
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Feb 17 15:14:06 2013 -0600

    cgroups: major update to cgroups support
    
    This reworks cgroups support so we have one variable in rc.conf for each
    controller instead of each setting.
    
    Also we add support for all of the possible cgroup controllers.
    
    I would like to thank Alexander Vershilov for his help with testing and
    reworking this code.

commit ebf85d598e6ad2628e5d472ceeda3f86b2f0eac1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Feb 19 16:52:49 2013 -0600

    cgroups: fix shebang line in rc-cgroup.sh

commit f36f8fb1be7e68af4d192ed3e67a2da310946ecb
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Feb 17 15:37:27 2013 -0600

    Typo Fix
    
    Reported-by: vitalyb@telenet.dn.ua
    X-Gentoo-Bug: 452544
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=452544

commit a55eb3965e60e856f00bb346fed85117b8eea12e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Feb 17 11:09:02 2013 -0600

    cgroups: remove comment about suspend for cpu_shares setting

commit 89bb04a01a2d0b71c56c918961f32fe8e80d8234
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Mon Feb 11 22:13:30 2013 -0500

    do not use SYSCONFDIR for binfmt.d
    
    This makes binfmt.d consistent with tmpfiles.d and systemd which uses
    hard coded paths for both.
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit 414ef6466187c1452b97b69f946cdd150eaa465d
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Mon Feb 11 22:13:29 2013 -0500

    disable default -prefix services if MKPREFIX = yes
    
    Certain services were not being enabled by default if PREFIX was set.
    This appears to have been intended for Gentoo Prefix systems which are
    indicated by MKPREFIX not PREFIX.
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit cd4becf6cd9611defda298f984efa01c441723d3
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Mon Feb 11 22:13:28 2013 -0500

    make init.sh and init-early.sh honor SYSCONFDIR
    
    Fixes hardcoded paths that break when built with SYSCONFDIR
    set to anything other than /etc/
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit 746bf5f78376e2e7b3e8bc843dfa1e4a3fa6a8e4
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Mon Feb 11 22:13:27 2013 -0500

    consolefont: use setfont to save the current font
    
    Using setfont directly to save the font prevents breakage
    when a distro stores consolefonts in a location other than
    /usr/share/consolefonts such as Arch which stores them in
    /usr/share/kbd/consolefonts
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit 405dfea7ad054f0767c0dda87b18398a7ec626b9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Feb 16 16:05:54 2013 -0600

    cgroups: document kernel requirement for cpu controller settings

commit 1831e433a03fa0e6c5be6b6a87af4550688f1c49
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Feb 16 00:48:36 2013 -0600

    bootmisc: Skip cleaning /var/run or tmp directories if they are tmpfs
    
    Reported-by: walter@pratyeka.org
    X-Gentoo-Bug: 454338
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=454338

commit b46747f9981337470353014bfa34e9f9f8bace34
Author: Alexander Vershilov <qnikst@gentoo.org>
Date:   Sun Feb 3 16:01:16 2013 -0600

    Add module for cgroup processing
    
    sh/rc-cgroup.sh.in: new script to handle cgroup processing
    sh/rc-cgroup.sh.in: do not use grep or cut (modification by William Hubbs)
    sh/runscript.sh.in: use the cgroup script

commit 86dbd757e94fe5402efea03f9f8725a71533297a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Feb 15 16:09:49 2013 -0600

    keymaps: fix the  use of loadkeys in the euro fix
    
    The loadkeys man page states that if you don't pass a filename loadkeys
    will read from stdin. However, this is not correct, so we now pass "-"
    as the filename to explicitly request stdin.
    
    Reported-by: andi@grois.info
    X-Gentoo-Bug: 457524
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=457524

commit 970893adf3a2f0f7330c4839a716566de14171a3
Author: Alexander Mezin <mezin.alexander@gmail.com>
Date:   Sat Feb 2 15:15:19 2013 -0600

    runscript: retry prefix flock if it is interrupted by a signal
    
    Reported-by: Pacho Ramos <pacho2@gentoo.org>
    X-Gentoo-Bug: 434800
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=434800

commit f30eec03ce228cc807c84e32823c24e159c7db20
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Feb 14 17:49:46 2013 -0600

    devfs: Mount the posix message queue file system
    
    Reported-by: reuben.m@gmail.com
    X-Gentoo-Bug: 456998
    X-Gentoo-Bug: https://bugs.gentoo.org/show_bug.cgi?id=456998

commit 5bfebbecea6514037ceef3b832660f70acf8a945
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Feb 11 09:45:14 2013 -0600

    Rename shutdown_network setting to keep_network
    
    We were telling users that setting shutdown_network=YES would shut down
    the network interfaces during shutdown, but this was exactly the
    opposite of what we were doing. The default was YES, which was keeping
    the interfaces active.
    
    This keeps the default behavior, but renames the setting to keep_network
    which more accurately describes its function, and instructs users to set
    it to NO if they want the network interfaces to go down.

commit 1280b97749ec60b4cd3f77d1c68202f305ad79b4
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Feb 11 08:52:46 2013 -0600

    oldnet: add support for shutdown_network from newnet
    
    This setting, already in use in newnet, allows the user to control
    whether network interfaces are stopped when the system shuts down. By
    default, under newnet, they are not, so I am making oldnet have the same
    default.
    
    A side-affect of this is that in the default configuration this fixes
    bugs like the one below.
    
    Reported-by: jerryfleming2006@gmail.com
    X-Gentoo-Bug: 259183
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=259183

commit bbc6b96a4012b0ec176bd1e082642c12612e88cb
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Feb 9 17:39:32 2013 -0600

    oldnet: accomodate rkhunter false positive
    
    rkhunter thinks OpenRC is a rootkit because of the hidefirstrout
    variable. This has been renamed to hideFirstroute in order to get past
    rkhunter.
    
    I realize this is not an openrc bug. In this case though I do not have a
    problem renaming the variable.
    
    Reported-by: ago@gentoo.org
    X-Gentoo-Bug: 339714
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=339714

commit 8a6c3391bdc707e89733c259d116d004cbebce88
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Feb 1 13:49:02 2013 -0600

    sysfs: mount the fusectl file system
    
    Reported-by: vapier@gentoo.org
    X-Gentoo-Bug: 453740
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=453740

commit 8be072628c6ef9dce9ddafb911096e7035ed5401
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Jan 31 12:05:37 2013 -0600

    remove cruft from /run directory
    
    The /run directory is a mount point for a tmpfs and should not contain
    any files or directories.  This cleans out the /run/openrc
    symlink and any other files which were incorrectly placed in /run.
    Thanks to Ian Stakenvicius for pointing out this solution.

commit 8328b8836021e638a9b18640df4eb9f64bdcc812
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Wed Jan 16 22:17:08 2013 -0500

    rc-functions.sh: add ceph to net fs list
    
    X-Gentoo-Bug: 452552
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/452552
    Reported-by: Tomas Mozes <hydrapolic@gmail.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit cb31b132767db0d67941e4de022f2a21deb3ca74
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jan 15 12:36:12 2013 -0600

    typo fix

commit 6b3a4110cc0ff21631ad601d994f4c72fb5219c2
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jan 15 12:14:05 2013 -0600

    runscript: fix stopping changed service issues
    
    If an init script or service was upgraded while it was running and the
    settings for the pid file, command and process name were changed, it
    would not be possible to stop the old service.
    
    Runscript now saves the values it used to start the service and re-uses
    them to stop the service.
    
    Reported-by: flameeyes@gentoo.org
    X-Gentoo-Bug: 434032
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=434032

commit 3896b9d55ce76e41233eadb6d0ede2f8115736d3
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Wed Oct 31 11:49:20 2012 -0400

    libeinfo: check for "color" in the terminal name
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit 630d23283aea2304396069c6a9c305913ccb02aa
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Jan 2 12:40:03 2013 -0600

    Add tools directory
    
    This directory will contain tools which are not necessary for OpenRC to
    run, but which some users have found useful.
    
    The first of these is deptree2dot, which converts /run/openrc/deptree to
    a .dot file for use with graphviz. This can assist in finding circular
    dependencies.

commit 7bda62d844a31b5dda34706c80850027a17f03e7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Dec 22 09:38:38 2012 -0600

    udhcpc: fix resolv.conf setting for domain
    
    The value that was supposed to be in the domain setting was being added
    incorrectly to search.
    
    Reported-by: bug@mejor.pl
    X-Gentoo-Bug: 446862
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=446862

commit b00f85864dffd6de406e109e74372618ced71312
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Dec 22 08:15:50 2012 -0600

    Set a default size for /run on Linux
    
    Reported-by: alpiturchi@gmail.com
    X-Gentoo-Bug: 447076
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=447076

commit a8ab9d63f5ea41a1e5821e22ae95f9fa92b96e4d
Author: Alexander Tsoy <alexander@tsoy.me>
Date:   Fri Dec 21 16:36:20 2012 -0600

    ifconfig.sh.Linux.in: fix ipv6 routes and default route
    
    Do not add -net or -host to ipv6 routes or to the default route when
    using route from net-tools.
    
    X-Gentoo-Bug: 442594
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=442594

commit 2b0ff6f669d2a05f4b092d8135ee17626c64c494
Author: Alexander Tsoy <alexander@tsoy.me>
Date:   Fri Dec 21 14:24:27 2012 -0600

    net.lo: add ipv6 net and host patterns
    
    X-Gentoo-Bug: 442594
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=442594

commit a61fdd019ee8715689ce07abeda25e6961a4754f
Author: Mihai Moldovan <ionic@ionic.de>
Date:   Thu Dec 20 16:02:11 2012 -0600

    net.lo: allow address families to be set on routes
    
    X-Gentoo-Bug: 447310
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?d=447310

commit e0bbe8d0bde82b14aa9a867707298c2040442151
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Thu Dec 20 21:28:23 2012 +0000

    net/bonding: ensure mode & miimon are handled correctly.
    
    miimon & mode must be set before other parameters, and then not changed
    again. Prior commit f671e0a28 per bug #421757 introduced a small logic
    error. Fixed & refactored to prevent it happening as easily.
    
    X-Gentoo-Bug: 447790
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=447790
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit b44f96ac9bb6427c41480cc6ef2beb1818ca4f93
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Dec 19 11:20:08 2012 -0600

    init.sh.Linux: do not try to remove the /run/openrc symlink
    
    In order to make migration from /lib*/rc/init.d to /run/openrc possible
    without rebooting, the migration script creates a symlink from
    /run/openrc to /lib*/rc/init.d. We were trying to remove it on the next
    reboot, but this is not possible since / is ro when /run is mounted.
    
    Reported-by: fturco@fastmail.fm
    X-Gentoo-Bug: 447678
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=447678

commit 7557d62870a3ee92ff43e97bab734e2deaf3cb8a
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Dec 18 00:20:23 2012 -0500

    net.lo: sleep *after* carrier check
    
    For devices that are always connected (e.g. ethernet cards), the current
    carrier always wastes time by sleeping for 1 second.  This is because the
    code sleeps first, then checks for carrier.  Invert the order so that we
    return quickly for devices already active.  For devices which are not yet
    up, there shouldn't be any real difference.
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 2c60282ba9d12040e82e6571c9df8aa1e3da36a2
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Wed May 16 23:46:21 2012 -0400

    fsck: simplify skiplist setup
    
    Use printf rather than a manual for loop.
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 8d61d03e277c97cea5e449212baf5a6609ddef2c
Author: Steve L <slong@rathaus.eclipse.co.uk>
Date:   Sun Dec 16 20:00:01 2012 -0600

    localmount: quoting fixes
    
    X-Gentoo-Bug: 446556
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=446556

commit 230a678824811fe73e308b9a41697ae80df21611
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Dec 7 09:39:12 2012 -0600

    init-linux: Do not remove the $rc_libexecdir/init.d directory
    
    Reported-by: toralf.foerster@gmx.de
    X-Gentoo-Bug: 446342
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=446342

commit e5173b9127a42b7c6a209c278fbbcbcd29dcdccc
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Dec 6 16:43:24 2012 -0600

    migrate-to-run: do not require a reboot
    
    The script that migrates the @libexecdir@/rc/init.d directory to
    /run/openrc should not require a reboot.
    
    Reported-by: chainsaw@gentoo.org

commit a9272f50f75849f5d7a787cab4c54f5a2d158f58
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Dec 3 18:33:21 2012 -0600

    Do not add a prefix to the /run directory
    
    This doesn't affect us on gentoo, but on archlinux, which has done the
    /usr merge, OpenRC was looking for /run under PREFIX. /run is always at
    the root level, so it shouldn't have prefix appended to it.
    
    Reported-by: udeved@openrc4arch.site40.net

commit 31bcc6bee46c0d825ea71e76997af71af2fbad9a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Dec 3 14:59:22 2012 -0600

    Typo Fix

commit c5e163cffc61769f819d4599c2b6a525f7d6212b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Nov 30 12:05:26 2012 -0600

    typo fixes

commit 8661af3223d4115284fcebdf430017d19581d611
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Nov 29 12:34:34 2012 -0600

    netmount: make "net" the default network option for now
    
    Currently, we have the net virtual, so we should use it as the default
    in this instance so that netmount comes up after it thinks the network
    is up. However, this is technically eroneous, because there is no way to
    know from the init system that we really have network connectivity.
    
    Reported-by: cheepeero@gmx.net
    X-Gentoo-Bug: 445116
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=445116

commit 5cce37837b89145832c75b310791ae3a69d883ec
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Nov 29 10:19:20 2012 -0600

    localmount: only skip unmounting /usr if it was premounted
    
    Add a test when localmount is started to determine if /usr is mounted
    from inside an initramfs for Linux systems. If it is not, we can unmount it when
    localmount stops.
    
    On *bsd systems, we always unmount /usr if it is separate.
    
    Reported-by: ryao@gentoo.org

commit 0a72893c8b02e70a51e7ee0148a3fe586a82cd9d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Nov 25 21:27:36 2012 -0600

    migrate-to-run:  Remove old RC_SVCDIR after unmounting tmpfs
    
    reporrrrted-by: netfab@gmail.com
    X-Gentoo-Bug: 443996
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=443996

commit 4f19c2f512d9a08599b6bdf1129f508fc9a4e055
Author: Alexander Vershilov <alexander.vershilov@gmail.com>
Date:   Fri Oct 26 09:05:41 2012 +0400

    Support cpu usage management for Linux
    
    This commit was modified by William Hubbs as follows:
    
    - The paths in the cgroup fs were put into variables to ease
      maintenance.
    - Documentation was added to rc.conf.Linux.
    - The services were added originally to openrc/svcname cgroups under the
      controller cgroups, but this left an "openrc" cgroup which was unused.
      Now they are added to individual cgroups with the name openrc_${RC_SVCNAME}.

commit cf7b9047040264c02decf90e5d1355508fa98ded
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Nov 10 14:56:17 2012 -0600

    firewalld: fix firewall-cmd dependency
    
    This should be "program" instead of "program start".

commit 23f975dfcd95df2b06ab86e13072f5e9cba5c9d2
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Wed Nov 7 01:44:44 2012 +0000

    checkbashisms: Fix redirection order.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit ca6019031af96eabb471080e91374b44f176d113
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Wed Nov 7 01:44:17 2012 +0000

    net/apipa: checkbashisms false positive.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 4ec1edc1f8bb87b5989368a60162646760dc22fc
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Wed Nov 7 00:32:09 2012 +0000

    Whitespace.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 1b0130961ebc308bba4c9ced3988558bfac103d9
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Wed Nov 7 00:22:33 2012 +0000

    checkbashisms: clean up export statements.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 3809eac54d575d52d8793df38f826f1d7d7398fb
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Wed Nov 7 00:13:58 2012 +0000

    net/iwconfig: Even more bashism fun.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit dabd8b22ca2313e217cc26a4d30b72b777d771ac
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Tue Nov 6 23:21:38 2012 +0000

    checkbashisms: export syntax.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 54562d3525ae99a7982b4e506978dc0b875c240c
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Tue Nov 6 23:18:32 2012 +0000

    net/vlan: checkbashisms.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit ed3b0c66f9e90b8fafb7996b7700fd34db7ddc11
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Tue Nov 6 23:18:08 2012 +0000

    net/bonding: checkbashisms.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 91e28ab775e2bcfb343ba2e2c8b7db0289e11f70
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Tue Nov 6 23:11:58 2012 +0000

    init.d/hostname: Document checkbashism false positive.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 87daa26ca77a4d564959f7ab263cbc53d8925fb5
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Tue Nov 6 23:02:56 2012 +0000

    init.d/mtab: Another instance of the same pattern matching case.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 670589571e3bb2706c6eaae0a3b966f6e4124355
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Tue Nov 6 23:01:42 2012 +0000

    init.d/bootmisc: Another instance of the same pattern matching case.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit f6c3896087a364e7cabe791640a50c675fc9ca4a
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Tue Nov 6 22:49:49 2012 +0000

    init.d/bootmisc: POSIX XSI shellism.
    
    In a pathname expansion, specifically single-character match, the pure
    POSIX specification uses '!' as the Negation character where a regular
    expression would normally be '^'.
    
    Regular expression: "a[^a]a"
    Pathname expansion pattern: "a[!a]a"
    
    Reference:
    IEEE Std 1003.1, 2004 Edition
    2. Shell Command Language
    2.13 Pattern Matching Notation
    2.13.1 Patterns Matching a Single Character
    
    > The description of basic regular expression bracket expressions in the
    > Base Definitions volume of IEEEÂ StdÂ 1003.1-2001, Section 9.3.5, RE
    > Bracket Expression shall also apply to the pattern bracket expression,
    > except that the exclamation mark character ( '!' ) shall replace the
    > circumflex character ( '^' ) in its role in a "non-matching list" in
    > the regular expression notation. A bracket expression starting with an
    > unquoted circumflex character produces unspecified results.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit ec60e20331c7becd1b46ca38291f4c75db25e168
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Nov 6 16:32:59 2012 -0600

    tmpfiles: fix bashism
    
    reported-by: <pesa@gentoo.org>

commit 5657fa797512b31ada66e901b891961e63861208
Author: Doug Goldstein <cardoe@cardoe.com>
Date:   Mon Nov 5 16:54:09 2012 -0600

    oldnet: add firewalld support

commit 4936b72e0f0d20168473df9a4598b8159245d45b
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Nov 5 21:25:32 2012 +0000

    tmpfilesd: Doing both create+remove at the same time is valid.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 5cf5308ab430c60e21bb769f8ee0d860ee15c497
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Nov 2 16:38:57 2012 -0500

    increment version
    
    I have learned that it is better to increment the version early. This
    way keeps track of the version that is being worked on on the branch and
    the tag marks when the release actually happens.

commit 1a8cd5ff9ded16dd071624fa056712678b2cda6a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Oct 31 10:53:37 2012 -0500

    Tmpfiles: create and delete entries once in the boot runlevel.
    
    Initially, we were creating tmpfiles entries in the sysinit runlevel and
    again in the boot runlevel. Systemd runs the --create and --remove
    options in one service called systemd-tmpfiles-setup after the local
    file systems are mounted. Now we have a service called tmpfiles.setup
    which emulates this.
    
    This also closes the bug mentioned below, since we were originally
    writing to files that were on read-only file systems and that were not
    available.
    
    Reported-by: <devurandom@gmx.net>
    X-Gentoo-Bug: 439012
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=439012

commit eff07c48b7a2266a4c82a202960856b4f39936d0
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 30 11:12:20 2012 -0500

    Expand the documentation for service configuration variables
    
    The original documentation for these variables did not give an example
    of what to do if the service had a name that had illegal characters in
    it, so this commit adds an example. There was no bug report; this was
    suggested by Tobias Klausmann.

commit ff2e1d42a2d553b831ea914b16d0e32a99dafec4
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Oct 28 14:29:33 2012 -0500

    Oldnet: make carrier timeout documentation consistent

commit e634376482e70e40aab460ca1f60a4e5a5522bba
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Oct 27 12:59:58 2012 -0500

    Checkpath: print the path when correcting the owner
    
    Checkpath was printing the path it was working with unless it was
    correcting the owner. In this case, it was printing "checkpath", which
    is not very useful.
    
    Reported-by: <devurandom@gmx.net>
    X-Gentoo-Bug: 439014
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=439014

commit 5148047f8996df41b02543efd293ed02c83c8ee6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Oct 25 16:33:43 2012 -0500

    netmount: drop need net from dependencies
    
    Reported-by: <mattsch@gmail.com>
    X-Gentoo-Bug: 439658
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=439658

commit 978dbe028414fc44603d3be70f2a4b226eda9916
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Oct 24 12:29:29 2012 -0500

    mountinfo: respect the -q command line option
    
    Previously, we were setting the quiet flag before the command line was
    parsed. Since the flag is only used once, we can just read the
    environment variable which is set by the parsing process.
    
    Reported-by: <devurandom@gmx.net>
    X-Gentoo-Bug: 439010
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=439010

commit 8df18defe14149dd9f48d62c157fa47343c7900b
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Oct 22 09:35:14 2012 -0500

    oldnet: document the carrier_timeout option

commit 8d17c634db816db53ffc1fd67f7a971c5e74564d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Oct 22 09:23:04 2012 -0500

    oldnet: make the default carrier timeout 0
    
    Some types of interfaces do not have a carrier, so it doesn't make sense
    to automatically wait for one.
    
    Reported-by: <rose@rz.uni-potsdam.de>
    X-Gentoo-Bug: 438970
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=438970

commit 06658d1038407a26a2bde381b748e14241b660eb
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Mon Oct 15 19:25:42 2012 -0400

    fix typo in rc-status.8
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit 525c731f0e4d8975ba692016202ef92e470c6fdf
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Thu Oct 11 14:34:20 2012 -0400

    tmpfilesd: parse arguments with spaces
    
    systemd allows the final arg in tmpfiles to contain spaces.  Using the read()
    call to set the variables includes all trailing components in $arg so it
    doesn't get cut off.
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit 5647946e61380c9f917828440d4c6e5bd8796f56
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Thu Oct 11 14:34:19 2012 -0400

    tmpfiles: return success from _f/_F on empty $arg
    
    '[ -n "$arg" ] && _w' causes _f/_F to return the failure from the test when
    $arg is empty.  Inverting the test causes the test and _f/_F to return success.
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit 74c6b554bcdbed5e41c9d6dde16bf636bfa8a758
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Oct 21 14:45:45 2012 -0500

    tmpfiles: do not process systemd.conf
    
    This file contains definitions specific to systemd, so we should not
    process it.
    
    Reported-by: <andrew.gregory.8@gmail.com>

commit e8acdc6f856075d31dc16563ba03ab21eed3edf8
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Oct 19 21:45:14 2012 -0500

    tmfiles: change need dev to use dev.
    
    This is being changed to use for the reason I stated in the previous
    commit. There is no guarantee that someone is using a device manager.

commit 2a9de2df5825708f67cb2decbe0368bad2ae3dd2
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Oct 19 20:53:46 2012 -0500

    devfs: Remove references to specific device managers
    
    There were references in the devfs script to mdev, udev and
    udev-mount. These all provide the virtuals dev and dev-mount; that is
    how we should refer to them.
    
    I believe in the discussion I had with Tony and Robin about this, we
    were going to change the "use" line to "need". However, after thinking
    that over, I'm not comfortable doing so because someone could be running
    a static /dev with no device manager.
    
    Reported-by: <tokiclover@gmail.com>
    X-Gentoo-Bug: 438932
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=438932

commit 2ee3e9d95293ffb91ae9b5a9b4914b370e3e742f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Oct 19 13:02:30 2012 -0500

    Fix bashism in tmpfilesd scripts
    
    Reported-by: <pesa@gentoo.org>

commit 4385d31d9d5adf11517aae978a17bb6f2b40f2ae
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Oct 18 10:10:10 2012 -0500

    release openrc-0.11

commit 20af890ac24214a21dc8ce88dc39f287901fb298
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Oct 17 18:47:36 2012 -0500

    Spacing fixes

commit 21abe9821cfad8f106761ebaca0b627bac917a2f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Oct 17 18:13:47 2012 -0500

    tests: fix the paths
    
    When the test suite is being run, we need our local directories in PATH
    and LD_LIBRARY_PATH before the system directories. This makes sure we
    run our tests using the currently built tree.

commit f88637274991e4d427da6dae3ef0e181f0e1d9a1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Oct 17 17:55:02 2012 -0500

    functions.sh: do not hard code path in e* wrapper functions
    
    We should use the "command" shell builtin to execute a binary from
    within the wrapper with the same name. Hard coding the path to the
    binary makes our test suite fail.

commit f671e0a28fe566566b5465afbda985542f77ed8a
Author: Lorand Kelemen <lorand.kelemen@indgroup.eu>
Date:   Wed Oct 17 12:53:17 2012 -0500

    Oldnet: bonding: set miimon correctly
    
    Miimon needs to be activated before downdelay is set.
    
    X-Gentoo-Bug: 421757
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=421757

commit 6d84a4aed8dd519641c8fd6994fb93135efb122d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 16 20:56:34 2012 -0500

    Oldnet: the loopback interface does not need sysfs

commit 76f76eb19a1e0595ba6b512e1a7e3791006aee3a
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 16 14:27:19 2012 -0500

    Migrate /var/run and /var/lock to symlinks
    
    Now that we have full support for tmpfiles.d in OpenRC, we can migrate
    /var/run and /var/lock to symbolic links to /run and /run/lock
    respectively.

commit a3ff6cce97d2437438a955c781267df1f4f49bcd
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Tue Oct 16 21:28:45 2012 +0200

    Revert "Prepare for real "restart" support"
    
    This reverts commit c5bb6829d00a4034f7294aa4af79d5d114572ac1.
    
    That was meant for my local devel branch :)

commit 1e7c696ea4fb56f36c55bec0af1017a6d4a4fc65
Author: Walter <walter@pratyeka.org>
Date:   Fri Oct 12 23:08:29 2012 -0500

    Add documentation for subsuming support
    
    X-Gentoo-Bug: 428604
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=428604

commit 8d9db8d02cbedda7d5532d660fe678d8ee8bcd79
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Tue Oct 16 21:00:45 2012 +0200

    Add Vim modeline

commit c5bb6829d00a4034f7294aa4af79d5d114572ac1
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Fri Oct 12 21:07:59 2012 +0200

    Prepare for real "restart" support

commit a9f1ac2dfdc3ab7421ea33ae977f7e078750e542
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Thu Oct 11 03:54:32 2012 +0000

    net/bonding: Sanity-check sysfs usage
    
    If sysfs is not available, you might still be able to create bond
    interfaces, but only in very specific configurations, and you must have
    the ifenslave binary instead to call ioctls.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 27984c0d2d920db177ec43de10991c50e143915a
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Thu Oct 11 03:49:45 2012 +0000

    net/bonding: subsume functionality for NFS booting
    
    If the kernel is NFS-booting, it is critical that we don't down the
    slave interfaces when we activate the bond. To do so will break the root
    filesystem when networking is temporarily lost.
    
    Reported-by: Walter <walter@pratyeka.org>
    X-Gentoo-Bug: 428604
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=428604
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 9a9c2acd8d0a44799c1c0199bf7e14640f6a86f3
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Wed Oct 10 00:07:26 2012 +0000

    net/{bridge,iproute2}: Stricter iproute2 ip link syntax & promisc handling
    
    The 'dev' argument is only optional for ethX devices, for others it is
    mandatory, so we should always include it.
    
    Also tweak when promisc mode is applied to bridges.
    
    Patches submitted by Denis Kaganovich <mahatma@bspu.unibel.by>.
    
    X-Gentoo-Bug: #431204
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=431204
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit b68d4b3580b6c3b38712e415ac5b874228103cd1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 9 18:55:09 2012 -0500

    checkpath: fix bool values
    
    Use true/false for bool values instead of 0/1.
    
    Reported-by: <vapier@gentoo.org>

commit 6f345abe91a57ab64a447b20b3c701d14f23ef69
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 9 16:44:01 2012 -0500

    checkpath: change the owner/group only when requested to do so
    
    Fix checkpath so that it only changes the owner/group if -o is on the
    command line.
    
    Reported-by: <flameeyes@gentoo.org>
    X-Gentoo-Bug: 437560
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=437560

commit da842085ce3d9a8c32fdaecabefd6fd2ab123cc0
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Sat Sep 29 10:49:48 2012 -0400

    Fix default runlevel symlink paths
    
    runlevels/Makefile currently uses ${PREFIX} when creating the initial
    runlevel symlinks, but the init files are installed to ${INITDIR},
    which results in broken symlinks if ${SYSCONFDIR} is set to something
    other than ${PREFIX}/etc
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit 18bdbb68709280407ddb0c9443e033f178f1e5a3
Author: Andrew Gregory <andrew.gregory.8@gmail.com>
Date:   Sat Sep 29 10:49:47 2012 -0400

    Remove non-standard reboot option from inittab
    
    Gentoo adds a "-k" option to the reboot command in inittab. This is a
    Gentoo-specific option, so it is being removed.
    
    Signed-off-by: Andrew Gregory <andrew.gregory.8@gmail.com>

commit 361f5ce2b82765aa38a16abaeb92c475220336d3
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Oct 4 22:01:33 2012 -0500

    set the RC_UNAME environment variable when updating dependencies
    
    This is needed because the network script uses this variable in the
    depend() function but it wasn't exported when this was run.
    
    Reported-by: <aaly90@gmail.com>

commit ae9acfaed8401dbff3393f82468adfc33a85acf1
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Aug 21 11:40:59 2012 -0500

    sysfs: add -lxc keyword
    
    The sysfs filesystem should not be mounted inside a linux container.
    
    Reported-by: permeakra@gmail.com
    X-Gentoo-Bug: 425790
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=425790

commit 6770a6b1ce1537f7a5efe5e6f97895bf6c277bfb
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Oct 2 11:06:31 2012 -0500

    dmesg should not run in a linux container
    
    reported-by: <Walter@pratyeka.org>
    X-Gentoo-Bug: 436266
    X-Gentoo-Bug: https://bugs.gentoo.org/show_bug.cgi?id=436266

commit 4ff71bd7416b84712ec702c92d79c106b4f11eb1
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Wed Sep 26 15:42:37 2012 -0700

    tmpfiles.d init.d scripts
    
    Now that the tmpfiles.d code is more tested, actually call it from
    init.d. It assumes that /run is already available when it runs.
    
    Please note it runs TWICE.
    - During sysinit, ideally just after /dev/shm is created, but before
      udev has started. After udev is also acceptable, but not ideal.
    - During boot, ideally just after localmount has completed.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 5c736ad63e65949f7488474cc08cf3c8f2e7b0f9
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Wed Sep 26 15:13:16 2012 -0700

    sh/tmpfiles.sh: Improve dry-run mode.
    
    Dry-run with more detail is more useful this way.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 33c63ede78660598dcb8ba59034d0b5fe2d81884
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Wed Sep 26 14:32:19 2012 -0700

    init.d/devfs: Run after (u)dev-mount, before udev/mdev
    
    Using the new dev-mount virtual, with udev-mount included until new udev
    version is rolled out, we run devfs earlier now, before udev/mdev.
    It only needs (u)dev-mount before it, so that /dev is mounted.
    
    This opens the way for tmpfiles.d, which needs to be sandwiched in the
    middle.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit ac47b6abfa1c68173b68c74556ecd11da5a3cdf5
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Wed Sep 26 14:29:47 2012 -0700

    runlevels: Include sysfs in the sysinit level.
    
    net.* and module loading require sysfs now, and if udev is not in use,
    it is not always loaded early enough, esp for net.lo. Force it to come
    up during sysinit instead.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 7d8dca7b7816ccb95f86bf3f3206634597cbdc81
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Sep 26 11:51:34 2012 -0500

    Add -lxc keyword to urandom script
    
    Urandom should not run in lxc containers since it is provided by the
    host.
    
    Reported-by: <walter@pratyeka.org>
    X-Gentoo-Bug: 436270
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/436270

commit c08b1a6a3205c41bc14e466a6c47c7f309ae6cd2
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Sep 25 12:09:45 2012 -0500

    small runscript man page cleanups

commit 5615fa78d6dc4e23662a2c4130f31b8f954a8aab
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Sep 24 13:53:53 2012 -0500

    Drop restart_pre/restart_post
    
    By design, restart is hard coded to run stop followed by start along
    with all of the pre/post functions associated with them. Restart doesn't
    need its own pre/post functions since it is possible to make any
    function in an init script behave differently for a restart command by
    testing against the RC_CMD environment variable.

commit f007988fbac79460f7733eb9093d2beb537311f8
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Sep 23 19:25:57 2012 -0500

    Clarify how to handle restart processing
    
    The Gentoo developer manual covers how to handle restarts in init
    scripts, but this was not officially covered in OpenRc's Documentation.
    This commit adds an example to the runscript man page that shows how
    this works.

commit 20ef3439ea4f14ee431f39fc1925ee48c186e1bb
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Sep 23 11:11:23 2012 -0500

    fix Makefile indentation

commit 0406c6085bb25ace04c7880f860219ebfc67a16f
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sat Sep 22 16:57:46 2012 +0200

    Add restart_pre/restart_post support, also document RC_CMD

commit 0a132cdca508db86a62452dec081b316db880485
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Sep 20 16:04:48 2012 -0500

    fix RC_SVCDIR on prefix systems
    
    On prefix systems, RC_SVCDIR was being defined based on the host
    operating system. This is not correct because there will not be a /run
    directory in a prefix.
    This commit moves RC_SVCDIR on prefix systems to the same location as on
    non-Linux systems.

commit a0fe1c5a6082c751b570dc1db7dd32b914ebe5cd
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Sep 14 14:29:00 2012 -0500

    netmount: do not handle NFS mounts
    
    Since nfs and nfs4 file systems require extra daemons to be running on
    the client to function properly, netmount should not try to handle these
    file systems.
    
    Reported-by: <devurandom@gmx.net>
    X-Gentoo-Bug: 427996
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=427996

commit 6b1e806c8bfb9b72cba99162bcf20deb47b8670d
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Fri Sep 14 22:59:01 2012 +0200

    Typo: emtpy -> empty
    
    Reported-by: Walter <walter@pratyeka.org>
    X-Gentoo-Bug: 430146
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/430146

commit 3cd293c515ddf44172ece36e785209084a11d3fc
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Wed Sep 12 21:35:55 2012 +0200

    Silence the right get_pid() call

commit a06072b3959adc91ddf5157f69162977cbd48079
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Wed Sep 12 21:00:20 2012 +0200

    Silence get_pid(), OpenRC will give the process some time to create the PID file and the first get__pid() call may fail.

commit 3863c11be5d48ad4d1a10156f474339bea04f5ae
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Sep 10 15:43:42 2012 -0500

    netmount: add checks for rpc.idmapd for nfs4 filesystems
    
    Reported-by: <devurandom@gmx.net>
    X-Gentoo-Bug: 427996
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=427996

commit 5092595835461e889fbac14d4cfc6c06b5f55019
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Sep 9 22:22:15 2012 -0500

    add RC_PREFIX environment variable
    
    This will be used by init scripts which want to be able to run in a
    Gentoo Prefix installation. RC_PREFIX will contain the prefix offset.

commit 918d261658a75e42589d9e5556613a84eacbd14f
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Sep 9 20:40:38 2012 -0500

    dmesg: add -prefix keyword
    
    Dmesg should not run on prefix systems.
    
    Reported-by: <heroxbd@gentoo.org>

commit a0877449f3b6193fda1b1d2d6f5fdf34f4096c9d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Sep 7 19:18:51 2012 -0500

    savecache: make sure $RC_LIBEXECDIR is writable
    
    This is needed in case of a read-only root filesystem such as a diskless
    client.
    
    Reported-by: <walter@pratyeka.org>
    X-Gentoo-Bug: 430382
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=430382

commit 444bdfbfc4d1a336233ccc5a29495cc1f523b5a3
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Sep 7 14:29:56 2012 -0500

    oldnet/iproute2.sh: fix carrier detection
    
    We were not testing for carrier correctly when testing for ipv6
    tentative addresses.
    
    Reported-by: <ast@domdv.de>
    X-Gentoo-Bug: 433012
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=433012

commit 8e4169e29e419bfd986455bb809463a3fa433afb
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Aug 31 15:54:52 2012 -0500

    Fix UPREFIX for Gentoo Prefix installations
    
    Make sure UPREFIX in our make files gets set correctly when
    MKPREFIX=yes. In this situation, UPREFIX should be ${PREFIX}/usr.
    
    Reported-by: <heroxdb@gentoo.org>
    X-Gentoo-Bug: 415899
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=415899

commit ea696b47c875755a28ffd5dea15680172db1f50d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Aug 31 14:47:20 2012 -0500

    fix typo

commit 9e88d73aaaba93d716ecd49767dfcdf3ffdbff30
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Aug 31 09:22:12 2012 -0500

    add MKPREFIX flag to build system
    
    This allows building OpenRC for a Gentoo Prefix installation.

commit 1f011573544487bab0bee9d2a3d6ffa81c08ff48
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Aug 24 16:09:57 2012 -0500

    do not provide a virtual for the loopback
    
    The loopback interface is active on all systems, so there is no need to
    provide a virtual for it.

commit 8f675d14e86e9e86a2d17b825aae9af519214305
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Aug 24 10:30:04 2012 -0500

    newnet: provide net if configuring more than the loopback interface

commit 9afdf50667661812be936fe6d3b3a939b0c54061
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sun Aug 19 00:26:38 2012 +0200

    Do not silence errors

commit 8dc06e325943de7f3e04ddfe42da9143db7046cd
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sat Aug 18 23:21:40 2012 +0200

    Fix quiet usage
    
    EINFO_QUIET will always been unset when we first do unsetenv("EINFO_QUIET") and
    later query it again anyway..

commit aa7e2cd1fe88b5d24f272764b2005681ea1ebebd
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sat Aug 18 22:37:15 2012 +0200

    Use do_umount's return value instead of eoutdent's.

commit 07e848638cbf0e06c0de1b01644d5d2279d696a7
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Aug 17 13:26:21 2012 -0500

    swapfiles: make sure /proc/swaps exists
    
    If CONFIG_SWAP is turned off in the kernel, this file may not exist. In
    that case, we should not try to read from it.
    
    reported-by: <walter@pratyeka.org>
    X-Gentoo-Bug: 430378
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=430378

commit c8703354e36d85468e4b336371be424b76a68726
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Thu Aug 16 18:44:47 2012 +0000

    sh/tmpfiles: fix quoting for optional arguments
    
    Some optional arguments were missing quotes in the tests, so produced
    spurious warnings.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit e641b4384977011b93c3c2a90222d459bc4c5ca6
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Jul 2 22:04:22 2012 -0500

    Bring Back prefix support
    
    We now have a team member who is interested in OpenRC on prefix, so I am
    bringing it back to the main tree.

commit a6db2374fe69704ec55de86d815b127432328f24
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Fri Jul 20 10:20:19 2012 -0700

    Bug #427152: Port of VLAN code to sysfs/iproue2 from vconfig lost the ability to create different vlans with the same ID but different interfaces on a single system. Implement it now.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 2e3715bb6922b9bb8c7a4c85e5a8dd1fb034b6d3
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Jul 15 14:12:55 2012 -0500

    remove unnecessary header line

commit 883ea31f80c42696dfa9f9b5e97a16860be38243
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Jul 15 13:54:39 2012 -0500

    small style changes to encswap
    
    This drops some unnecessary continue statements and changes command
    command substitution to use $() instead of ``.

commit 39abbed7cbdd57e28ac3bd8ccb3b47b709467092
Author: Richard Yao <ryao@cs.stonybrook.edu>
Date:   Sun Jul 15 08:47:02 2012 -0400

    Fix savecore init script to execute after dumpon, but before encswap
    
    This ensures that any kernel crash dumps are available when savecore
    runs. It also prevents encswap from corrupting them.

commit 0730ac61e8e674c5751ff8fa3857184326a40460
Author: Richard Yao <ryao@cs.stonybrook.edu>
Date:   Sun Jul 15 08:47:00 2012 -0400

    Import encswap init script from FreeBSD
    
    The FreeBSD encswap init script has been adapted to function in OpenRC. It
    should function identically to its FreeBSD counterpart.

commit 006fbdce83a8b75766f9d6deeedefef001f15b32
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jul 10 12:18:06 2012 -0500

    fix the upstream default network stack
    
    The OpenRC upstream default network stack was changed, but there was no
    reason to change it. Now since we have the MKNET build switch, it is
    easy for the gentoo ebuild to install oldnet by default.
    
    The upstream default is newnet.

commit 60d6847de553970a80207fde6bd46f5f3696e049
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jul 10 01:59:28 2012 -0500

    add the MKNET variable to select a network stack
    
    The MKNET variable can be used to select the network stack you want to
    build and install with OpenRC.
    
    The current default is the gentoo "oldnet" stack. If you want to install
    the OpenRC newnet stack, use MKNET=newnet on the make command line.

commit ecb4d7c3f2b5ff7588a288d24c0dd462012a0389
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Jul 9 21:08:58 2012 -0500

    Revert "add the appropriate network scripts to the boot runlevel"
    
    This reverts commit add965706a3a239a7eb6750d6fc14090eb70dd12.
    This commit was broken so I need to revert it.

commit 84ad14b2e4e4c97c334def409a53c612bca70eb3
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Jul 9 09:25:24 2012 -0500

    fix reference to dmesg man page
    
    Correct the reference in conf.d/dmesg from dmesg(8) to dmesg(1).
    
    reported-by: <toralf.foerster@gmx.de>
    X-Gentoo-Bug: 425370
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=425370

commit a1bf1025918d6af1ad093c27ead9f170be7064d9
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Jul 9 09:12:31 2012 -0500

    fix typo

commit add965706a3a239a7eb6750d6fc14090eb70dd12
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Jul 8 21:10:10 2012 -0500

    add the appropriate network scripts to the boot runlevel

commit 5d8b1b689b2fb04eb7840dcc1d07c82f3e9a9960
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Jul 8 21:04:05 2012 -0500

    make oldnet the default for now

commit 3e2018f5e9c5cfd4ba8066747fc02dac1ce22f59
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Jul 8 15:02:11 2012 -0500

    Revert "Deprecate the network and staticroute scripts"
    
    This reverts commit 5994e55937cbbb71b1c22ad829b77a1bcd8c3793.
    There are situations where these scripts can be useful, so I am bringing
    them back. Also, I want to start discussions about simplifying the
    OpenRC network stack.

commit dceeef9fe568bd633ed72ca995a1846a9dc20689
Author: BjÃ¶rn Baumbach <bb@sernet.de>
Date:   Wed Jul 4 11:47:00 2012 +0200

    net: fix typo

commit 3df0bd64cb8d520cb4e65b1ac307d0b9fa4e83c3
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Jul 3 13:49:58 2012 -0500

    cgroups: allow users to turn off creation of controller cgroups
    
    This adds a switch to not create the one-cgroup-per-controller setup of
    cgroups.
    
    reported-by: davidweb@klaftenegger.de
    X-Gentoo-Bug: 423317
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=423317

commit a5b4fab7321c4feac2bc981b7fbf4b32bb5bb981
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Jul 2 13:22:04 2012 -0500

    fix handling of /run for vserver
    
    Mount can't be used in vservers, but /run is still needed. So we create
    the directory and clear it out instead of mounting a tmpfs in that
    situation.
    
    reported-by: <patrick@gentoo.org>
    X-Gentoo-Bug: 423739
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=423739

commit de36b26d5e8e331d91a3f2db04174d7d203210a1
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Jun 7 10:51:02 2012 -0500

    fix consolefont documentation to reflect the default state
    
    conf.d/consolefont was written as though the consolefont service was
    active by default. It is not, so this has been fixed.
    
    reported-by: Ikonta@yandex.ru
    X-Gentoo-Bug: 420037
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=420037

commit ae7cbd910a8d95fcf47ea99e19976e3398f6d947
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Jun 7 00:12:20 2012 -0500

    net/udhcpc: use -x hostname:NAME option instead of -h name
    
    reported-by: bug@mejor.pl
    X-Gentoo-Bug: 417617
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/417617

commit 92b274a7dea93c4832bcbb0905beb2a93df080e4
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Jun 6 23:16:35 2012 -0500

    net: clarify how to prefer ifconfig over iproute2
    
    reported-by: <vsync@quadium.net>
    X-Gentoo-Bug: 417899
    X-Gentoo-Bug-Url: https://bugs.gentoo.org/show_bug.cgi?id=417899

commit b3d47d58613f0637772e71fdd30bb36cf48d69b8
Author: William Hubbs <williamh@gentoo.org>
Date:   Sun May 27 10:03:24 2012 -0500

    termencoding should not run on lxc
    
    reported-by: Alexey Shvetsov <alexxy@gentoo.org>

commit f5ba232fb41e5e923daa5f573bd58c13daff6f40
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Wed May 23 19:32:01 2012 -0400

    rc: fix inverted string compare logic
    
    X-Gentoo-Bug: 417227
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=417227
    Reported-by: sphakka <marcoep@gmail.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 7e9861da0e5f7ddc2d1baedbf50008a36ce403a9
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue May 22 10:04:34 2012 -0500

    Release openrc-0.10

commit 6241f17e95f9e369a923a1dd205488ad7b7d80ee
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Wed May 16 18:16:04 2012 -0400

    rc: fix thinko in applet collapse
    
    We want to lookup the service based on the applet name.
    
    Reported-by: Christian Ruppert <idl0r@gentoo.org>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 6cecc7b4a6bd2fed40006d85f3ea855723c93840
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Thu May 17 00:00:22 2012 +0200

    local is only allowed in functions

commit 82d3918d7a1c625f98fcf607c7a450f18b7e60bd
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Feb 22 20:44:32 2012 -0600

    move rc_svcdir to /run/openrc on Linux systems
    
    If you are not using linux, this should not affect you.
    
    If you are using linux, from this point forward, openrc requires the
    /run directory to be a mounted tmpfs. If it is, you can run
    @LIBEXECDIR@/sh/migrate-to-run.sh as root to migrate your dependency
    tree and state information to the new location. If it is not, you must
    create the /run directory as root with permissions 755 then reboot your
    system.
    
    reported-by: Maxim Kammerer <mk@dee.su>
    X-Gentoo-Bug: 401059
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=401059

commit ee1a698451a01772d50a75e95c887520260f8619
Author: William Hubbs <williamh@gentoo.org>
Date:   Sun May 13 19:00:39 2012 -0500

    do not umount /usr on linux systems
    
    We can't really umount /usr on linux systems because /usr is a special
    case if it is a separate filesystem which is handled by an initramfs.
    
    reported-by: tamiko+GENTOO@kyomu.43-1.org
    X-Gentoo-Bug: 415523
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=415523

commit 2486eb4989918ff5ef645f2a17fedbec559b9485
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat May 5 20:28:28 2012 -0400

    rc: collapse the applet if statements into a single array walk
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 0813a80223e40a5d122dfa86ea41e7b1c986f093
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat May 5 20:26:54 2012 -0400

    add a new ARRAY_SIZE macro and use it
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 3969cb2a85d798cd029043566d97aad66dcee8e5
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat May 5 20:25:53 2012 -0400

    split out librc-independent helpers into a dedicated header file
    
    Many of these helpers are not special to librc, so split them out so they
    can be used in all source trees (including libeinfo).
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit b5917a817c697fa284462319357f5fac45c462f0
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Thu May 3 13:33:31 2012 -0700

    net: Be sure to install the ip6rd module.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 9e196a71ad7f4e7a8ae51ab29e9b34c0af9a2595
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed May 2 14:48:52 2012 -0500

    clarify the message about /proc being already mounted
    
    This message was being taken by some users as an error, so I have
    removed the part about "skipping..." Hopefully this will make the
    message less alarming.

commit ca7d67021e5b93e4d9af45ce13a05f76b4979f75
Author: Alexey Shvetsov <alexxy@gentoo.org>
Date:   Wed May 2 14:40:16 2012 -0500

    Do not try to remount /run read only
    
    On a diskless system, doing this causes the system to lock up during
    shutdown.

commit 8c82637e76dcc6a076bdc5e17c142ec8999364a1
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Apr 26 12:56:44 2012 -0500

    fix references to functions.sh
    
    There were a couple of places where we were sourcing functions.sh in
    @SYSCONFDIR@/init.d. This is only a backward compatibility symlink, so
    it should not be used for openrc. The correct place to source this from
    is @LIBEXECDIR@/sh.

commit 8d63719418de14248bb4bd3b4a0ce5599f8f3092
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Apr 26 12:19:42 2012 -0500

    Change the working directory for depend only
    
    We already have a special case for depend processing, so we should
    change the working directory there only. This prevents us from forcing
    all init scripts to be run in the init directory.

commit 3967077da3901b4f10d71dec1ee977af36fae956
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Apr 26 12:11:58 2012 -0500

    Revert "Revert "Let runscript enter the service dir before expand globs""
    
    This reverts commit f971c4c0b5e45500f1255f2e076f2c101d2f9281.
    After further discussion, this is a good first step toward a fix, so I
    am putting it back.

commit f971c4c0b5e45500f1255f2e076f2c101d2f9281
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Apr 26 11:28:02 2012 -0500

    Revert "Let runscript enter the service dir before expand globs"
    
    This reverts commit 9d0dce35c3e46b4515499f3f0f1c47645be0bc48.
    This is being reverted due to the fix still being under discussion.

commit 9d0dce35c3e46b4515499f3f0f1c47645be0bc48
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Thu Apr 26 15:18:56 2012 +0200

    Let runscript enter the service dir before expand globs
    
    Enter the service directory, like gendeps.sh does, to make sure globs are
    expanded in it rather than in /. That makes sure that globbing like "need *"
    will end up in all files of the init.d directory.
    
    Signed-off-by: Christian Ruppert <idl0r@gentoo.org>
    
    Reported-by: Guenther Brunthaler <gb_about_gnu@gmx.net>
    X-Gentoo-Bug: 412677
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/412677

commit 441272ff97b2dec4c3566239acf501c88f3026c8
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Thu Apr 26 12:40:13 2012 +0200

    Reduce overhead by leaving rc_deptree_update_needed() as soon as possible
    
    There's no need to check any further if we're returning true anyway.
    
    Signed-off-by: Christian Ruppert <idl0r@gentoo.org>

commit fd6bbfbe0713b07d050f0318610ebd479735c661
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Thu Apr 26 10:16:56 2012 +0200

    Disable some questionable lines
    
    Caused by bug 412589 I was looking at the do_mark_service() function and quickly
    found that the segfault is caused by a strlen() call against a NULL pointer.
    I also noticed it's using "/exclusive/%s.%s" so svcname.pid, all other functions
    are just using the svcname.. So it seems that svcname.pid was/is never used and
    thus not necessary at all.
    
    In relation to the above, the if statement in the do_mark_service() function
    ("if (ok && svcname && strcmp(svcname, service) == 0) {") needs to be
    fixed/improved as svcname and service are almost always equal, see my comment in
    the function for further details.
    
    Signed-off-by: Christian Ruppert <idl0r@gentoo.org>
    
    Reported-by: Patrick McLean <chutzpah@gentoo.org>
    X-Gentoo-Bug: 412589
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/412589

commit a6549a2b0ffc087bbf7b0ea41cf8dd5bda64e680
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Tue Apr 24 03:50:10 2012 +0200

    Whitespace

commit 1f5072421e07ec6e6af7efbf339f3b9840494e52
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Tue Apr 24 03:49:04 2012 +0200

    Remove duplicate getenv("RC_SVCNAME") call

commit 4943ddcb1c96aed14617c97ba42a658a2c6cecf5
Author: Sergei Trofimovich <slyfox@gentoo.org>
Date:   Fri Apr 13 23:01:42 2012 +0300

    init.d/procfs: posix compatibility fix
    
    I've noticed in at boot:
        # /etc/init.d/procfs restart
        procfs         | * WARNING: you are stopping a boot service
        procfs         |[: 308: unexpected operator
    
    Which calls
        $ /bin/dash -c '[ "$RC_SYS" == "OPENVZ" ] && echo "ovz" || echo "nope"'
        [: 1: unexpected operator
        nope
    
    Fixed by using '='.
    
    X-Gentoo-Bug: 412237
    x-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=412237

commit be5de328e9aa4d35a8222e1c4c2358bb9a07449c
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Apr 3 20:01:23 2012 -0500

    network scripts need sysfs on linux systems
    
    Adjust the previous commit so that on linux systems the network scripts
    need sysfs.

commit 37af1693b48c314224ecd207c2afa6291208412b
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Tue Apr 3 14:30:01 2012 -0700

    net/ifconfig, net/iproute: need sysfs
    
    sysfs needs to be available before we can check interfaces. On udev
    systems this was not a problem, but with mdev/static-dev, there is no
    other need for sysfs until later in the init.
    
    X-Gentoo-Bug: 410701
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=410701
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 9127684553ea7b0f9285bc3fbe6c554f4519016c
Author: William Hubbs <williamh@gentoo.org>
Date:   Sun Apr 1 22:59:00 2012 -0500

    Change the method for calculating the interface metric for linux systems
    
    On linux systems running  >=linux-3.2, the /proc/net/dev file cannot be
    relied on to show the order network interfaces were added to the system.
    Also, there is currently a bug in the implementation of the seek call
    for this file which can cause a system to go into an infinite loop.
    This commit changes the _ifindex function to retreive the value of
    /sys/class/net/${IFACE}/ifindex and use that value instead of attempting
    to calculate one from the interface's position in /proc/net/dev.
    
    reported-by: John Keeping <john.keeping@lineone.net>
    X-Gentoo-Bug: 410127
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=410127

commit 0571a7e05b658fc95da56d9df61e725eeda75a3c
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Mar 29 11:44:12 2012 -0500

    init.d/fsck: only check local file systems
    
    On linux systems, fsck was not taking into account which filesystems
    were local or remote. This commit adds the -t option, with an
    appropriate value, to the fsck call so that remote file systems are not
    checked.
    
    reported-by: Vladimir Berezhnoy <non7top@gmail.com>
    X-Gentoo-Bug: 408363
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=408363

commit 300c03203dd5f9f525dc330d24bacc0e07f57766
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Mar 26 15:04:40 2012 -0500

    librc: Do not output error messages from within the library.
    
    This fixes a compile issue. Also, it is cleaner to have the client
    output error messages as opposed to having the library do this.
    
    Reported-by: Ewoud Kohl van Wijngaarden <gentoo@kohlvanwijngaarden.nl>
    X-Gentoo-Bug: 409743
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=409743

commit f9162438bca8c8449f1f663a60c47229f0c08316
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Mar 26 14:51:03 2012 -0500

    Add -lxc keyword to sysctl script for linux systems
    
    Kernel parameters should not be set from inside a lxc guest.
    
    Reported-by: Piotr Karbowski <piotr.karbowski@gmail.com>

commit 533813dda03d4b3cd1685f4063e314ae0539267e
Author: William Hubbs <williamh@gentoo.org>
Date:   Sun Mar 25 18:29:37 2012 -0500

    localmount: Only unmount local filesystems if we are shutting down
    
    Make the stop function in localmount only unmount file systems when the
    system is going down.
    
    reported-by: Alexey Prokopchuk <alexpro@homelan.lg.ua>
    X-Gentoo-Bug: 407167
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=407167

commit 6ac182c9cab4bde83767ea82ba2013cf126d55de
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Mar 24 15:00:24 2012 -0500

    sysctl: use @SYSCONFDIR@ in the scripts instead of hard coding /etc

commit 09327f429fa8865c5a029dd4e9b029f5db1534e7
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Mar 24 14:37:08 2012 -0500

    Allow files in sysctl.d to override sysctl.conf
    
    reported-by: Peter Gantner (a.k.a. nephros) <gentoo@nephros.org>
    X-Gentoo-Bug: 406631
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=406631

commit 8104618d10bb4c06e87c723b3359cb9d5871fd51
Author: Diego Elio PettenÃ² <flameeyes@flameeyes.eu>
Date:   Sat Mar 24 00:01:29 2012 +0100

    init.d/sysctl.Linux: do not use sysctl -q
    
    The -q option is not implemented by BusyBox, so instead of using that, make
    it so that the standard error is caught, but standard output is thrown
    away.
    
    Note: the ordered behaviour of redirection is part of POSIX so we should be
    on the safe side with this change, as first we duplicate the output
    descriptor to be used as stderr, then we change the output descriptor to
    point to NULL.
    
    Signed-off-by: Diego Elio PettenÃ² <flameeyes@flameeyes.eu>

commit eb11953dd2bd713e6494db6da85ca87ac7f475e6
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Mar 24 12:40:45 2012 -0500

    Document the required_dirs and required_files variables

commit b264931034bedef6f0a384302334393359dc59c9
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Mar 19 13:53:09 2012 -0700

    doc/net.example: Add warnings that changing MAC on bonds can break things.
    
    In most cases, changing the MAC on a bond manually is wrong. The bonding
    module will do it as needed to failover between interfaces, or to get
    multiple interfaces to correctly have the same MAC.
    
    We cannot however enforce it, as there are some corner cases where it is
    actually valid (hardware that requires specific MAC configuration, like
    some quad-port NICs).
    
    Suggested-by: Martin Mokrejs <mmokrejs@fold.natur.cuni.cz>
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 76d3fceb58d757a2acd72a89f6098a45b53fc944
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Mar 19 13:06:38 2012 -0700

    doc/net.example: Update bonding example
    
    The newer bonding code using sysfs does not clearly show the most common
    bond parameter: mode
    
    Also include a path to the referenced kernel documentation for the other
    settings.
    
    X-Gentoo-Bug: 408333
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=408333
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 65be94a34a60c5c09e40aa85b65820a1b792f91f
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Mar 12 11:59:53 2012 -0700

    sh/tmpfiles: Upstream clarifications & quoting fixes.
    
    Upstream has clarified via IRC:
    - hardcoding /usr/lib/ is an explicit choice. It should NOT consider
      $libdir at all.
    - The z/Z relabel types should call restorecon, not chcon.
    - Whitespace is not allowed in tmpfiles.d/*.conf path entries,
      but is allowed in globs results. Fixed quoting of path arguments for
      this.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit c75352af3d787377c4aa62baa1331f37db3d1d97
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Mar 12 01:28:44 2012 -0700

    sh/tmpfiles: tmpfiles.d support.
    
    This is the baseline support for tmpfiles.d.
    
    Still missing:
    - SELinux relabel, pending upstream clarification
    - LIBDIR vs multilib systems, pending upstream clarification
    - Whitespace in paths?
    - Clean support not implemented
    - "x" exclude type not implemented
    
    X-Gentoo-Bug: 396003
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=396003
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit b27a9003bb0e3123b91b2b734629f980b8ccad6f
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Sun Mar 11 12:54:48 2012 -0700

    net/ifconfig: The location of the ifconfig binary has changed
    
    The location of the ifconfig binary has changed in
    net-tools-1.60_p20120127084908, and if we do not check both locations
    for it, the user will get errors like:
    _is_wireless: command not found
    _exists: command not found
    
    X-Gentoo-Bug: 407757
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=407757

commit 9fa54a8e8036262a7ea599d68e04fcbd8213506e
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Mar 3 09:16:27 2012 -0600

    Runscript: allow extra_commands to be run in chroots
    
    The commands defined in the extra_commands variable do not depend on
    whether the service is stopped or started, so it is valid to run them in
    chroot environments.
    
    Also, add a note to the runscript man page about the commands in
    extra_commands being able to run whether or not the service is started.
    
    Reported-by: Robin Johnson <robbat2@gentoo.org>
    X-Gentoo-Bug: 406713
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=406713

commit 7a1e4ef606a814b124fc35136c2821484981e6cb
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Fri Mar 2 19:54:48 2012 +0000

    Bug #405491: _exists can give a false negative since /proc/net/dev can be slow to update sometimes when interfaces are added rapidly. Use sysfs instead.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 0dc9431bdb989231cfa20560d69aebebd487a926
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Fri Mar 2 19:51:09 2012 +0000

    Add a potential future problem I can see with metric calculation and interfaces that change often.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 0fa164dff25969dd56a868446e0644396b2587dc
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Feb 29 09:37:23 2012 -0600

    Clarify the meaning of the clock_hctosys variable
    
    Reported-by: Ian Abbott <ian@abbott.org>
    X-Gentoo-Bug: 405861
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=405861

commit 582c8e986840158db3162a89cf85c29ec4bf7107
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Feb 25 15:00:03 2012 -0600

    librc: make rc_proc_getent available for all operating systems
    
    This looks up an option on the kernel command line. For now, itworks on
    linux and returns NULL on the bsds, but we are definitely open to
    patches for that side.

commit de6323ba51fb8525fb1e48b0331c15daf86d5916
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sat Feb 25 17:53:43 2012 +0100

    Fix rc_proc_getent() undeclared on BSD
    
    X-Gentoo-Bug: 405713
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/405713
    Reported-by: Dmitri Bogomolov <4glitch@gmail.com>

commit 3272261479c2a3ed860f71523497f5662ada55eb
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Feb 23 16:47:52 2012 -0600

    Skip pam if running as root
    
    Reported-by: Piotr Karbowski <piotr.karbowski@gmail.com>
    X-Gentoo-Bug: 386623
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=386623

commit 3247184d860aea7ccc2c58d399f62c088978e973
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Jan 25 11:42:32 2012 -0600

    Remove prefix support
    
    I spoke with the prefix team sometime back and was told that they do not
    have an interest in using OpenRC on prefix systems.

commit 32c506a4c813b77f9cad4051409bac15f9696e14
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Jan 25 13:06:55 2012 -0600

    Drop rc_sys definition from build system

commit 04db6c3d39f1c2e81e7d6d98f17388e2003bc17f
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Feb 20 20:04:57 2012 -0600

    rc: remove calls to rc_sys_v2 and rc_sys_v1
    
    These separate calls are no longer needed since we do not warn about
    falling back to automatic detection.

commit 3c602e7422019430737cbf67f26f9cc30fb00f87
Author: Jory A. Pratt <anarchy@gentoo.org>
Date:   Mon Feb 20 19:07:54 2012 -0600

    remove the warning about falling back to autodetection

commit e4146c094546e5d8e8a48b48636586c5e21ad509
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Feb 20 18:59:17 2012 -0600

    Revert "Revert "swap: go back to using swapon for Linux systems""
    
    This reverts commit 06d67017850e106f14d8948003027612253b143a.
    After researching this further, we do need this commit. The other issue
    is a bug in fstabinfo which will also need to be fixed.

commit 9e3fc7f3f5127a27dac686a885929f5bd856717f
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Feb 20 17:07:43 2012 -0600

    update ignore patterns

commit 06d67017850e106f14d8948003027612253b143a
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Feb 20 11:51:08 2012 -0600

    Revert "swap: go back to using swapon for Linux systems"
    
    This reverts commit 297720787f914ca34f2d04c66980c18c57700865.
    
    robbat2 tells me there is a better way to fix this.

commit 297720787f914ca34f2d04c66980c18c57700865
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Feb 20 11:30:03 2012 -0600

    swap: go back to using swapon for Linux systems
    
    There are several reasons for going back to this:
    
    - fstabinfo doesn't work with labels in fstab
    - when a device is passed to swapon individually, the swap priority from
      fstab is not honored.
    - We also add the -e option to only activate available swap devices.
    
    reported-by: Duncan <1i5t5.duncan@cox.net>
    X-Gentoo-Bug: 405021
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=405021

commit 47c3b284599cb4cfc9d1263af6d2039d67906b43
Author: William Hubbs <williamh@gentoo.org>
Date:   Sun Feb 19 13:11:11 2012 -0600

    Clarify the documentation about the reboot runlevel
    
    The reboot runlevel does exist, but it gets remapped to the shutdown
    runlevel internally.

commit f18763bcd8834909222d3ca1388845eca4d6ac13
Author: William Hubbs <williamh@gentoo.org>
Date:   Sun Feb 19 12:49:53 2012 -0600

    Document the RC_REBOOT variable

commit dd2b4a067a04ba8441093a22411eea32bae86971
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Feb 18 17:23:28 2012 -0600

    net: add deprecation warning for old style net dependency variables

commit 44e4c21f056437043d990d21a4db41a8f9799687
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Feb 18 17:03:28 2012 -0600

    net: fix documentation for interface dependencies
    
    The network script had a separate case for handling network interface
    dependencies using variables of the form
    rc_before/after/use/need/provide_ifname. This is unnecessary since
    openrc already supports rc_net_ifname_need/use/before/after/provide.
    This commit updates the documentation to use this more generally
    supported form.

commit bc581530e5caa4e2c82d1c3deb9f0382a440e8ec
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Feb 7 17:10:10 2012 -0600

    Fix meaning of "provide net"
    
    I was informed that "provide net" should mean that there is network
    communication outside the local computer. In this case, the loopback
    interface can't "provide net", but there needs to be a way for other
    processes to know that the loopback interface is active.
    
    To this end, this commit makes the loopback "provide lo" and all other
    interfaces "provide net".

commit 04afaa3c03ac7400c06a6b5f17cee99cdd4bfaeb
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Feb 17 15:02:10 2012 -0600

    hwclock: set the hardware clock on shutdown
    
    Previously, the default on linux systems was to not set the hardware
    clock to match the system clock during shutdown.
    This changes that default to be consistent with *bsd and swclock.

commit a21a2c3e32656cf2a153b3cd9f19eb7fae1f3c7a
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Feb 17 14:23:54 2012 -0600

    hwclock: Clarify documentation
    
    The clock_hctosys and clock_systohc settings really do not have anything
    to do with running an ntp daemon, so remove that reference from the
    documentation.
    
    Reported-by: Milos Ivanovic <milosivanovic@orcon.net.nz>
    X-Gentoo-Bug: 401433
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=401433

commit a5509d681997321e966e776b6a0e4630aa827595
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Feb 15 09:00:23 2012 -0600

    Enable binfmt_misc for openvz containers
    
    Reported-by: Daniel Robbins <drobbins@funtoo.org>
    X-Gentoo-Bug: 401875
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=401875

commit 0c866e1a313f20679f6b7d3288636170f3057b59
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Feb 16 13:02:41 2012 -0600

    Replace hard coded reference to /etc with @SYSCONFDIR@
    
    I found a reference to "/etc" in the procfs script. This changes that
    reference to @SYSCONFDIR@.

commit 1c7d3165e4aa87d3939d892be9e71582c2aa8d52
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Feb 13 12:15:55 2012 -0600

    Allow localmount to run in openvz containers
    
    Reported-By: Daniel Robbins <drobbins@funtoo.org>
    X-Gentoo-Bug: 401063
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=401063

commit 8199dee8d698d7ffa8955d36085a3b9eccbaa7dc
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Feb 13 11:29:19 2012 -0600

    Revert "Remove rc_parallel from rc.conf"
    
    This reverts commit 695f3886fb2d255e64387ce780be3c1cbc170fa9.
    
    Reported-by: Pacho Ramos <pacho@gentoo.org>
    X-Gentoo-Bug: 400741
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=400741

commit a5ad5ba9714ce5a2acca7db8fc022410038a5144
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Feb 13 10:12:12 2012 -0600

    Swap: fix redirect
    
    Swap should redirect stdout and stderr from swapon to null and not just
    stderr.

commit 79d6f109262ac936218332730b231a5b5897d612
Author: William Hubbs <williamh@gentoo.org>
Date:   Sun Feb 12 12:37:46 2012 -0600

    Improve swap handling
    
    Modify the swap script so it starts before and stops after localmount.
    Also, on linux, this script should skip mounting swap on loopback.
    
    Add a swapfiles script which runs after localmount and is designed to
    activate additional swap space which could not be activated before
    localmount was run. This includes loopback swap on linux and swapfiles
    which are on local file systems that were not mounted when swap was
    activated initially.
    
    The start code does reactivate swap that is already active, but this is
    not an error condition.
    
    Reported-by: Giampaolo Tomassoni <giampaolo@tomassoni.biz>
    X-Gentoo-Bug: 401003
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=401003

commit 5396bf185157a8a825c19215fb741f93444487ff
Merge: 6913f1de 09c8c8ed
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sun Feb 12 20:38:32 2012 +0100

    Merge branch 'master' of git+ssh://git.overlays.gentoo.org/proj/openrc

commit 6913f1deb61b19ffa62614673794746caed443a7
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sun Feb 12 20:37:05 2012 +0100

    Fix some more warnings

commit 09c8c8ed9fabffe34570099009d81978aa85d899
Author: William Hubbs <williamh@gentoo.org>
Date:   Sun Feb 12 12:38:37 2012 -0600

    Fix typo in swap script

commit d9dc5dc42314368a65579967c02af4945cb8c312
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sun Feb 12 02:23:04 2012 +0100

    Use size_t instead of int

commit 8c55f1e50da45286b35d611c3c3a823e3446c2b8
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sat Feb 11 00:24:10 2012 +0100

    Remove unused/useless function single_user()

commit 94661b1d22803a9a5c485ff5f89d5b867afa1fb7
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Feb 10 09:47:12 2012 -0600

    termencoding: change "need root" to "use root"
    
    This allows root to be removed from the boot runlevel which is needed
    sometimes when the root fs is mounted read-only.
    
    Reported-By: Maxim Kammerer <mk@dee.su>
    X-Gentoo-Bug: 400921
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=400921

commit b9cc5898828b710d9d4a2bf8988fd6ba78ba72e4
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Feb 10 09:23:13 2012 -0600

    root.in: split a long line for readability

commit 0baa57a88072c29794c554cbbe36d4d07d130a9f
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Feb 10 09:17:22 2012 -0600

    sysctl.d: fix README
    
    Fix some typos in this file and clarify the documentation more.

commit f5e7e768522895d2efe31d1afbdf7f2214421c7f
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Thu Feb 9 01:49:04 2012 -0800

    Fix early consolefont/termencoding usage vs rc_sys
    
    During early boot, the keywords were not being checked for
    consolefont/termencoding and they were running anyway when they should
    not be.
    
    X-Gentoo-Bug: 400549
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=400549
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 5021c119c76176171dba865cd5f8357dbc804826
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Thu Feb 9 01:49:04 2012 -0800

    sysctl.d: Include a README file for /etc/sysctl.d/
    
    Our sysctl script has read from /etc/sysctl.d/ but the directory was not
    created by default, and we didn't document it.
    
    X-Gentoo-Bug: 398189
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=398189
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 29a1ad3d18e8539077ef9a9636ac2841553cb934
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Thu Feb 9 01:43:27 2012 -0800

    Whitespace.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 659f7c2bc82c43088fd4a479d8fee849fe89141e
Author: Salah Coronya <salah.coronya@gmail.com>
Date:   Thu Feb 9 01:39:40 2012 -0800

    oldnet: ip6rd support
    
    X-Gentoo-Bug: 392223
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=392223
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 497ff7ee41168d863971efb52e2ca6b42f765832
Author: Piotr Karbowski <piotr.karbowski@gmail.com>
Date:   Fri Feb 3 21:17:18 2012 +0100

    Remount already mounted filesystems.
    
    This was modified by William Hubbs to use the checkpath helper and to
    improve readability.
    
    Signed-off-by: William Hubbs <williamh@gentoo.org>
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>
    (tested with genkernel /usr mount changes);

commit 0fcc6251fcde9c722207afa6f953aea7e80d771b
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Jan 31 10:56:57 2012 -0600

    fstabinfo: add --remount option
    
    This adds a --remount/-R option to fstabinfo. This new option works like
    --mount, but it adds the necessary options to remount a file system
    that is already mounted.
    
    Reported-by: Piotr Karbowski <piotr.karbowski@gmail.com>
    X-Gentoo-Bug: 401573
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=401573

commit 7da8394a8edc068e1cd2e04eaf179d1d6e1c1cb7
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Jan 30 13:12:40 2012 -0600

    Complain about loading /etc/conf.d/rc
    
    Openrc was quietly loading this file if it existed and this was causing
    some issues, so now openrc loads the file and complains about it.
    
    Hopefully the warning message will convince everyone to remove this file
    and migrate the settings to @SYSCONFDIR@/rc.conf where they belong.

commit 0ff23f20e88279fea27a110fc5d56ed760689806
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Jan 30 12:06:46 2012 -0600

    Revert "Net: do not bring down interfaces during shutdown"
    
    This reverts commit 6d5a2d5f9e5c1e3cb4c24dfc0c2ed2c118d8e64c.
    There are interfaces, such as adsl and ppp interfaces which need to be
    brought down. Also, the WOL setting is a good case for bringingdown
    interfaces.

commit cea71369e99a08c0fc3d9166bbfe9247ef8900ce
Author: William Hubbs <williamh@gentoo.org>
Date:   Sun Jan 29 09:47:43 2012 -0600

    cgroups: only create the cgroup when the service is being started

commit fb4aa20d053d055a83cf25f07f4185ea79cb7b30
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sat Jan 28 19:32:05 2012 +0100

    Use "checkpath -W" instead of dir_writable()

commit 5a8344a3d1068b2a7b24bf88f9a2882475b2a5ae
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sat Jan 28 19:26:00 2012 +0100

    Check if /sys/fs/cgroup/openrc is writable

commit 2d2751c4331a0204c4f7f6c4dd3994f34e0a4d47
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sat Jan 28 18:56:29 2012 +0100

    Do not unlink the temp. log during shutdown
    
    Also ignore errors in case of EROFS (Read-Only file systems)
    Reported-by: Maxim Kammerer
    X-Gentoo-Bug: 401115
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/401115

commit 6be8a0679b8d64ea5b99ea98839eab2ce129988b
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sat Jan 28 16:40:49 2012 +0100

    Do not loop flock()
    
    There's no need to loop until flock was successfully as flock() would simply
    block till a previous lock has been released.
    There's more to do to fix it properly, see my comments in the patch.
    
    Reported-by: James Le Cuirot <chewi@aura-online.co.uk>
    X-Gentoo-Bug: 360013
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/360013

commit 58e04035ed1e2c8ab319b1f4d47ea834b62eced9
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Jan 27 11:14:50 2012 -0600

    Cgroups: do not update mtab when mounting control groups
    
    This is based on a patch submitted by the reporter; however, there was
    another mount command which needed -n as well so it was added to the
    patch.
    
    Reported-by: Ben Kohler <bkohler@gmail.com>
    X-Gentoo-Bug: 400967
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=400967

commit ab9cf25197bccaff72d636f511b876aa2c379fdb
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Jan 26 22:09:07 2012 -0600

    cgroups: add all services to the openrc cgroup
    
    This is a modified version of a patch originally submitted by
    Patrick Lauer <patrick@gentoo.org>.

commit 7ea5c614d9c9e36c55f1da3d7fb894e83bbb56f3
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Wed Jan 25 23:18:08 2012 +0100

    Add -W/--writable function to checkpath
    
    Checkpath -W will use access(3p) to determine whether or not a path is
    writable. This is more accurate than test(1p) because it also takes into
    account whether or not the filesystem is mounted read-only.
    
    Modified by William Hubbs to add the man page update.

commit 5d441dd376ba0850f82d0927d798bbb60f70bda4
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Thu Jan 26 20:47:46 2012 +0100

    Whitespace

commit 44019f6542885fd684c5113c7a5c06308a51102a
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Thu Jan 26 20:44:33 2012 +0100

    Add is_writable() function to check whether a path is writable or not

commit de5cee2c217e5ed606db19ca1433686048303297
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Jan 26 11:02:00 2012 -0600

    cgroups: make sure /sys/fs/cgroup is a mount point
    
    We need to make sure this directory is a mount point before we add the
    control groups.
    
    Reported-by: Andrej Filipcic <andrej.filipcic@ijs.si>
    X-Gentoo-Bug: 400903
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=400903

commit 3ad501218d268f9884d84079f3e2de4ac0793147
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Thu Jan 26 01:10:21 2012 -0500

    bootmisc: stop deleting /etc/nologin
    
    Baselayout-1.x used to have a DELAYLOGIN option where it would setup
    /etc/nologin automatically and then delete it later on.  OpenRC did
    not keep that feature, and during the rewrites, ended up just punting
    it all the time.  This isn't what we intended, so drop the rm.
    
    X-Gentoo-Bug: 400837
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/400837
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 43a155a313488a89a5d7d23f08b9692a3a836911
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Wed Jan 25 11:04:22 2012 -0800

    This new release will be 0.9.9 with idl0r's changes
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit fb00b10669a0b191ba0467f035d45b77bedd9f09
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Wed Jan 25 10:30:33 2012 -0800

    net/bonding: Fix which interface IPs get added to.
    
    The previous bonding change of ensuring interfaces were down to add
    slave interfaces, but it clobbered the IFACE variable, because it was
    being passed to a bash function rather than a command.
    
    X-Gentoo-Bug: 400613
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=400613
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 8b4fc05ff2645b2ecb0f153492f72dd8b39ba431
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Tue Jan 24 19:41:20 2012 +0100

    Disable parallel startup in interactive mode

commit ced60319e315f4f12418c116b8823817d20839d6
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Tue Jan 24 19:40:59 2012 +0100

    Override rc.conf options only

commit cacea4e7f3de67181d54317759e9d3361504cfe4
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Jan 23 22:00:08 2012 -0600

    Cgroups: activate the openrc control group release agent

commit ce4c9b5397662869a707cd68a373aa751e125a50
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Jan 23 21:46:33 2012 -0600

    Cgroups: create openrc control group
    
    This creates the "openrc" control group with no subsystems attached. The
    next step will be to add everything openrc starts to this group.

commit 426b94bd696933a72d8623fa1325b3562096957d
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jan 23 10:26:58 2012 +0000

    Per the systemd tmpfiles implementation, we need to watch out for umask during initial creation of files as well as potentially changing permissions later. Also do not abort if the items exist already, per truncate rules in tmpfiles.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 06b8084b2cf9308fe0cbbcdde0741a881b7609fb
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jan 23 05:30:00 2012 +0000

    Ensure that when -F is passed, existing files are truncated properly.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit e3d0fe06bd566b659a7c36b5d9892c6f6b9caa89
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jan 23 05:26:40 2012 +0000

    Respin features.h usage so that we correctly test for features before we use them. Some BSD libc implementations may have one or the other flag, but not both.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 319f5003c66130fac091fa2f86070ea9f0a43cb8
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jan 23 05:24:54 2012 +0000

    Revert "Drop include for features.h"
    
    This reverts commit 30a565f80d6056ccabadf77e347cf17067133f7e.

commit 30a565f80d6056ccabadf77e347cf17067133f7e
Author: William Hubbs <williamh@gentoo.org>
Date:   Sun Jan 22 14:15:46 2012 -0600

    Drop include for features.h
    
    The following information is taken from the feature_test_macros man
    page:
    
    <features.h> is a Linux/glibc-specific header file.  Other systems have
    an analogous file, but typically with a different name.  This header
    file is automatically included by other header files as required: it is
    not necessary to explicitly include it in order to employ feature test
    macros.
    
    Reported-by: Tibor Vago <tibor.vago@gmail.com>
    X-Gentoo-Bug: 399635
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=399635

commit 6e2fbf6a0fd04f2ba4afca8b7a2ef9af34ebf330
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Jan 20 16:48:24 2012 -0600

    Make checks for writable directory posix compliant
    
    Reported-by: Maxim Kammerer <mk@de.su>
    X-Gentoo-Bug: 398931
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=398931

commit 2990e5a2e3ec06180ebe63448239e1cdad7878dd
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sun Jan 22 01:17:42 2012 +0100

    Whitespace

commit 85c90f9a1d6163c97e22570b7405be78b556626c
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Jan 20 21:38:13 2012 -0600

    small style fix

commit c529a5765097f020d3cfe4e58750c5382672c1e7
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Jan 17 12:04:20 2012 -0600

    drop the extra --pidfile option

commit 9c0edc5c527de01cbe2dccbc7f1a2c571b6acc41
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Tue Jan 17 18:23:56 2012 +0100

    Use the "--make-pidfile" when command_background is used
    
    The start-stop-daemon "--make-pidfile" option is now used by default when using
    command_background, this requires a pidfile to be specified.
    Document command_background option.
    
    Reported-by: Giampaolo Tomassoni <giampaolo@tomassoni.biz>
    X-Gentoo-Bug: 399165
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/399165

commit d729f9d0f2d773c3cddc2f3004364d831081f692
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Jan 16 12:11:29 2012 -0600

    style fixes

commit fdc8849e5686a13c6cb5401af5805ae649035eb0
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jan 16 09:33:09 2012 -0800

    net/ethtool: Fix program call.
    
    I missed removing a call to the old ethtool function wrapper that was
    made unneeded by commit d02d3af02.
    
    X-Gentoo-Bug: 399037
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=399037
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 30a56cdb4680f90e6c371c75c27c6ecec2d7aeec
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sun Jan 15 02:10:35 2012 +0100

    Add "ifstopped" command to runscript
    
    Signed-off-by: Christian Ruppert <idl0r@gentoo.org>

commit 14625346c07a2a66fe77ce578c9423918bec1d97
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sat Dec 31 00:38:47 2011 +0100

    Allow overriding of rc.conf options via kernel cmdline
    
    This adds a new function that allows us to override some specific rc.conf
    options via the kernel cmdline aka /proc/cmdline.
    This makes esp. sense in cases where a rc_parallel enabled system has boot
    issues. Simply disable rc_parallel by appending rc_parallel=no to your kernel
    cmdline.

commit c3be42006b78809f1087b6a8262caba01f2c7fc1
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sat Dec 31 00:33:49 2011 +0100

    Rename proc_getent to rc_proc_getent and make it global

commit 6fcc55cef80dfaab449b2e5379cb737988f68c24
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Jan 14 14:00:36 2012 -0600

    release openrc-0.9.8.1

commit 380752f4e0726ecd5267fc3d86b87923714c6d07
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Fri Jan 13 15:54:10 2012 -0800

    net: allow parameters to a single address config
    
    In the case of a single line of configuration, where the address has
    parameters, the parameters were being treated as seperate addresses.
    Eg:
    config_eth0="4321:0:1:2:3:4:567:89ab/64 nodad home preferred_lft 0"
    
    Also document usage of parameters in the net example, and note that
    multiple addresses on a single line cannot be mixed with parameters.
    Newlines are required to seperate the addresses.
    
    X-Gentoo-Bug: 398827
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=398827
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit e7649f117af827a855baeaa2fc72a5cf1a09f31c
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Thu Jan 12 20:38:31 2012 -0800

    net/iproute2: Handle shortened arguments
    
    Allow users to shorten iproute arguments to the shortest unique argument
    that will match a flag of iproute2.
    
    X-Gentoo-Bug: 398721
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=398721
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 66f4305e1cb596c3243a67e83beed0cb6d973eb8
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jan 9 19:20:47 2012 -0800

    rc/checkpath: tmpfiles.d backend creation code
    
    This commit provides the checkpath applet with feature parity to
    systemd's tmpfiles.c create_item function.
    
    Very similarly to the systemd function, it does NOT do any of the
    cleanup work in this function.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 4255ba175bd7c3ccadc5bc894d00ccb844467067
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Sun Jan 8 16:24:03 2012 -0800

    net: net.lo, lots of scripts
    
    The program function in depend blocks is now able to search paths by
    itself. If passed multiple arguments or multiple calls, at least one of
    the arguments passed must be a program or a shell builtin (eg ip built
    into busybox). If a qualified path is specified, only that path will be
    checked, otherwise it will be checked as a builtin, then $PATH will be
    checked for the named binary (via type).
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit d02d3af02e4254b04949de546c5d53af82cc2fc2
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Jan 7 15:47:48 2012 -0600

    net: make lookup of ethtool dynamic
    
    The ethtool module checked in two places for the ethtool binary; now we
    look for it in the path.

commit 61e05331d14a08fa909526fda15470a1ca4927dd
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Jan 7 15:41:43 2012 -0600

    net: make lookup of iproute2 dynamic
    
    The iproute2, macvlan and vlan modules had several possible hard coded
    paths for the iproute2 binary. Now we look for it in the path.

commit f2e404ab66b2c7eb22de4f9d01a444225b1ff616
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Jan 7 13:09:17 2012 -0600

    net.lo: Add the ability to find the full path of a binary
    
    Some of the networking tools, such as iproute2, can be stored in one of
    several locations. This function gives us a standard way to find these
    tools.
    
    I would like to thankRobin Johnson <robbat2@gentoo.org> for his input on
    this function.

commit adde73141f67f7772ba1efcd8820f63ff2a45374
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Jan 6 17:34:38 2012 -0600

    release openrc-0.9.8

commit 84aa4ba8182ffe69ddaa81e94e53a63af155fc1b
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Jan 6 14:51:43 2012 -0600

    Revert "net/ifconfig net/iproute2: support lookup ifconfig/ip dynamically"
    
    This reverts commit f583030e3cbfb1d2f30af3ebd00427e12fe66b70.
    
    The previous commit did not account for the case of not having iproute2
    installed.
    
    Reported-by: Duncan <1i5t5.duncan@cox.net>
    X-Gentoo-Bug: 397875
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=397875

commit 982ac38f35b5f0c7d80341783e74f803c177e8dd
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Jan 5 22:29:37 2012 -0600

    cgroups: hide configure option to turn off cgroups
    
    Turning off the default cgroups is possible, but these groups are the
    recommended setup from the kernel, so turning them off is highly
    discouraged.

commit cd52fecc4e3fa288d22a3faf6dd8b645a4bb79d1
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Jan 5 22:28:04 2012 -0600

    cgroups: turn on groups by default
    
    The control groups we create are the ones recommended by the linux
    kernel, so this should be on most of the time if cgroups are enabled in
    the kernel.

commit dbfcf232734439da3ded008af36fc1128375b437
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Jan 5 06:55:08 2012 -0600

    really disable /var/{lock,run} migration to /run
    
    This needs to be disabled until we have tmpfiles.d support. The previous
    method did not disable it correctly.

commit f583030e3cbfb1d2f30af3ebd00427e12fe66b70
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Wed Jan 4 16:37:33 2012 -0500

    net/ifconfig net/iproute2: support lookup ifconfig/ip dynamically
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 1771a83b92e3ff7b05742cf754a67c1e258472d1
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Dec 30 22:20:03 2011 -0600

    Reword the documentation for the retry option for start-stop-daemon

commit e873ef2ba7d43346b945e9d9f7bd32667de655a5
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Dec 30 21:51:05 2011 -0600

    Reword retry documentation on runscript man page

commit 26edfe369c685f3bec560dd4a968f2468c47a269
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sat Dec 31 03:41:52 2011 +0100

    Fix the description of --retry in start-stop-daemon(8)
    
    X-Gentoo-Bug: 368615
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/368615
    Reported-by: Stuart Shelton <srcshelton@gmail.com>

commit 34b7632d1d2ed38c7251ac8c2869c8fc416a99f5
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sat Dec 31 03:35:32 2011 +0100

    Do not exit immediately when a service has been stopped already
    
    The old behaviour was to exit(EXIT_SUCCESS) in case the service has been stopped
    already, even if further commands has been passed to the init script
    (like zap, start).
    So using for example /etc/init.d/foo stop zap start would abort immediately
    after "stop" if the service has been stopped already. Though there may be cases
    were we need it to proceed with the remaining commands, zap and start in this
    case.
    This patch fixes the behaviour to continue and proceed with the remaining
    commands whenever necessary.
    
    X-Gentoo-Bug: 371845
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/371845

commit fb8db18d79b4efc65c2b04a66a8e9e3b56f21f00
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sat Dec 31 02:41:59 2011 +0100

    Add "retry" option for the stop() template

commit 6d5a2d5f9e5c1e3cb4c24dfc0c2ed2c118d8e64c
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Dec 30 10:44:56 2011 -0600

    Net: do not bring down interfaces during shutdown

commit 810f2e55fb32e8a363d5737649a698f037e92db6
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Dec 30 10:35:16 2011 -0600

    Documentation updates
    
    - Clarify that start_stop_daemon_args is only used when starting a
      daemon.
    - fix several typos.

commit 372745844b422a0898599cb4019e29dc9f909e6f
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Fri Dec 30 16:02:44 2011 +0100

    Code style fixes

commit 191ea10f86d9399d67ab1a483a32167f70ee2bad
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Fri Dec 30 15:59:42 2011 +0100

    Document start_stop_daemon_args

commit 0d6ae379f43fdab9516e6ed949ba9563972c0c65
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Fri Dec 30 01:44:15 2011 +0100

    Compare stricter in proc_getent
    
    The new proc_getent compares stricter so that e.g. "ro" doesn't match
    root=/dev/sdaN anymore.
    So it has to be either "ro" or "ro=".

commit 2471d741f7d12382ba22a9efac0418293c7a74d5
Author: Marien Zwart <marienz@gentoo.org>
Date:   Thu Dec 29 19:10:32 2011 -0600

    net:macvlan: bring up the interface
    
    X-Gentoo-Bug: 396429
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=396429

commit 759f4ca4f2a7ee6be9ed13e7fd3fcd9cce44d865
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Dec 29 18:00:25 2011 -0600

    net: remove _check_macvlan function
    
    This test is incorrect, and we do not need the modprobe. If macvlan is a
    module, it is automatically modprobed when the first macvlan link is
    added. Also, the /sys directory referred to in the test does not exist
    if macvlan is built into the kernel.
    
    Reported-by: Marien Zwart <marienz@gentoo.org>
    X-Gentoo-Bug: 396427
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=396427

commit 6c8e8e2a964d28cc3924e61a371412f97d51b771
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Dec 29 17:27:54 2011 -0600

    disable /run migration until we have /run in baselayout

commit 29da0c8bf0b377dcdc7ca489bd783d804f444437
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Dec 29 10:01:28 2011 -0600

    cgroups: default the size of the tmpfs to 10 mb

commit 49e99a739361b977b0841c602f10fc9895285197
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Thu Dec 29 13:55:47 2011 +0100

    Don't try to write the log during sysinit
    
    During the sysinit and shutdown runlevels the logfile destination may be
    read-only. Skip the error messages in this case.
    
    X-Gentoo-Bug: 390645
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/390645

commit 8dcb7554ee627e9c1062cc1b4ab3bac8fcf89183
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Thu Dec 29 03:16:53 2011 +0100

    Use RC_LEVEL_SHUTDOWN

commit b754a27f627ddeab57835761058ee0fd2e1cac42
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Thu Dec 29 03:08:29 2011 +0100

    Remove useless rc_runlevel_get() call
    
    The current runlevel will be passed to rc_logger_open() already.

commit ec65f181eab6289101a0c0df624c9b022f3742d0
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Thu Dec 29 02:45:04 2011 +0100

    Don't print error when the logfile isn't writeable during shutdown
    
    The logfile or its basedir may be read-only during shutdown because the
    directory may be umounted or read-only remounted already. In this case we simply
    skip this error.
    This is related to a comment in bug 390645 but the initial bug is not fixed
    through this commit.
    
    X-Gentoo-Bug: 390645
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/390645

commit b12cb2f507b8ba7acc64e0e8172eb26bae00dc0a
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Wed Dec 28 20:31:02 2011 +0000

    net/iproute2: POSIX sh compatability: ${x/a/b} invalid
    
    The ${x/a/b} shell construct is NOT defined in the POSIX specification,
    it's a bash addition.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 1875db4ff6cdbed45f4375a2cc04f2fe55f25a32
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Dec 28 11:17:58 2011 -0600

    net: document up_before_preup for BSD

commit 26ceddae5e48bac07c82d754bd005df01492fa4f
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Dec 28 10:41:07 2011 -0600

    net: clean up documentation for up_before_preup

commit 20f612080c4f392abd622eab0afcd5ff5cea05f5
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Dec 27 17:59:39 2011 -0600

    net: use yesno to test up_before_preup

commit 5615325a8406c5691991381d4e9d760e4f84be58
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Dec 26 17:56:26 2011 -0800

    net/vlan: Fix prestop when device was hard-removed already
    
    During stop of an interface, if it has been removed already (eg
    hotunplug), not existing is fine.
    
    X-Gentoo-Bug: 395859
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=395859
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 537171eac271e050191d03dd6f041fbf8355d782
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Dec 26 17:51:28 2011 -0800

    Fix whitespace.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 415f48041056a020fa27cbd16bfd0be268bf693c
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Dec 26 17:21:34 2011 -0800

    net/vlan, net/macvlan: iproute2 is required for new VLAN configuration
    
    Since commit 683a21b0a in Feburary 2011, iproute2 has been required for
    new VLAN configuration. MACVLAN is also impossible to configure without
    iproute2. However we did not check if iproute2 was actually in the
    modules for a given interface, so it could end up hanging or giving
    weird errors. Check for iproute2 before usage now.
    
    X-Gentoo-Bug: 389437
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=389437
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit acf77b73afb8011a903d5ac88f6d6dcaf7b77a2f
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Dec 26 17:07:41 2011 -0800

    net/ip6to4: Split to use pre_start and start so that other tunnel names work.
    
    We need to create interfaces of custom names before we can sucessfully
    start them. To do this, we have to add tunnels during prestart instead
    of start. Split up the ip6to4 script to do this, saving the computed
    variables for use in start with the new service data commands.
    
    X-Gentoo-Bug: 372575
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=372575
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 9a01f6851533c808ff0665a3749a20f710a3ee57
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Dec 26 16:27:38 2011 -0800

    net: Add up_before_preup variable for CAN devices
    
    Historically, we have tried to up interfaces before running preup, so
    that the kernel setups up the device and makes things like ethtool work
    (some hardware cannot be correct probed until then). However this ends
    up breaking other hardware, so a variable has been introduced to allow
    the up prior to preup to be disabled: up_before_preup_IFVAR=no
    
    X-Gentoo-Bug: 389475
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=389475
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 7b1c1e16230abae1be4c0c237665ea7629d7ef28
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Wed Dec 21 08:10:47 2011 +0000

    net/iproute2: Confirmed that broadcast and peer can be used together.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 8bb4b759eb23004e8c6d5f9e267854624c70e354
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Wed Dec 21 08:03:38 2011 +0000

    net/iproute2: IPv6 cannot be used with broadcast
    
    Broadcast and IPv6 should not be used together. Do not try to set the
    keyword for auto-generation of the broadcast address. If the user passes
    a broadcast address for IPv6, throw an error.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit e5eb062f050d96a70f72ee78f431f774c98b24e2
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Wed Dec 21 07:44:53 2011 +0000

    net/iproute2: iproute2 flag handling
    
    Several of the optional flags were not being handled correctly, they
    were being passed as values only, without the keyword before them.
    Affected keywords: anycast, label, scope, valid_lft, preferred_lft
    
    Also change the handling of keywords to a common setup now, making
    broadcast and peer strings the same as the above keywords.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit f6dc3d5ae91ff6a660cf71a92d4a3a120b1180a4
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Dec 20 01:42:36 2011 -0600

    cgroups: always mount the tmpfs on /sys/fs/cgroup
    
    X-Gentoo-Bug:395079
    X-Gentoo-Bug-URL:https://bugs.gentoo.org/show_bug.cgi?id=395079

commit 3e2001f6a2f6d49f452b8d5b009c7190b7839524
Author: Piotr Karbowski <piotr.karbowski@gmail.com>
Date:   Sat Dec 17 17:45:11 2011 +0100

    add rc_cgroup option to allow disabling of cgroup default setup
    
    Currently, cgroups are still in development, so we are not setting them
    up by default. However, this default will be changed in the future.
    
    This commit message and patch were updated by
    William Hubbs <williamh@gentoo.org>.
    
    X-Gentoo-Bug: 395079
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=395079

commit ed4605bf9ff63effe0d09811a3e708d5e3a75378
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Dec 19 21:54:53 2011 -0600

    cgroups: remove references to the "openrc" cgroup
    
    Openrc will set up cgroups the way the kernel documentation recommends.

commit 461c69acdbf89b029554312392279753127112ee
Author: William Hubbs <williamh@gentoo.org>
Date:   Sun Dec 18 13:33:27 2011 -0600

    cgroups: mount cgroups suggested by the kernel documentation
    
    The linux kernel documentation suggests mounting a separate cgroup
    hierarchy for each subsystem you want to control/monitor. This changes
    the cgroups mounting code to do this.

commit 879e1acd5dc04eee1f7b0cb49d9c1a84e28c525c
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Tue Dec 13 00:43:18 2011 -0800

    net: Support more variants of address family specification.
    
    This includes address family specifications methods to help debug bug
    358235 further.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 06f6ce408cb7a7099c763ad13e1ad527e761b75f
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Tue Dec 13 00:17:22 2011 -0800

    net/iproute2: Support routing policy for IPv6 per bug #385833
    
    For creation of routing policy entries for IPv6, the family must be
    explicitly specified to 'ip'.
    
    X-Gentoo-Bug: 385833
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/385833
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit ac2391e0cba6b9b19660de1a76c5609cc0d3b05e
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Dec 12 22:52:09 2011 -0800

    net/vlan: Fix mtu setting
    
    Fix minor shell typo that broke setting mtu on vlans.
    
    X-Gentoo-Bug: 392971
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/392971
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit ce9994f7caa3a82575b61b944b69b518b3508710
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Dec 13 00:25:58 2011 -0600

    net/tuntap: fix return code when tools can't be found
    
    This module should return failure if iproute2, openvpn or tunctl cannot
    be found. Before it was returning success; this fixes the issue.

commit a38a5071f3ddcde7f18514d4d669d2bc0fde2736
Author: Salah Coronya <salah.coronya@gmail.com>
Date:   Sun Dec 11 22:06:30 2011 -0600

    Tuntap: add iproute2 support
    
    This patch was modified by William Hubbs <williamh@gentoo.org> to
    document the new usage in net.example.
    
    X-Gentoo-Bug: 394281
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=394281

commit 2569eb644e6e8e010a44a693e7dfa86e73c0d750
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Dec 12 18:48:11 2011 -0800

    net/ifconfig, net/iproute2: admin/oper state check functions
    
    Provide consistent methods using iproute2/ifconfig to check operational
    and administrative up/down state of interfaces. This is not the same as
    ethtool's "Link detected" field, which is the state of the layer 2
    medium.
    
    TODO: How to check operational state in BSD?
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit dd45506a40f3332cef96cc8ca7e258561a200ec0
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Dec 12 18:12:35 2011 -0800

    net/bonding: ensure slave interfaces are down before adding.
    
    The old ifenslave binary forcibly set new slave interface to down before
    adding into the kernel, as a way of show it's version to the kernel. We
    need to duplicate this so that the kernel doesn't think it's an old
    ifenslave version using the bonding setup interface.
    
    X-Gentoo-Bug: 391881
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/391881
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>
    Thanks-to: Yun Zheng Hu <hu@fox-it.com>

commit 46b96eb80d972db7d9d27d9635191c42016d6d96
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Dec 12 11:39:02 2011 -0600

    Network: start interfaces after dbus
    
    This is needed to allow auto-connect at boot.
    
    Reported-by: David J Cozatt <ygdrasil@comcast.net>
    X-Gentoo-Bug: 390955
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=390955

commit e574b5d441564dfccdcd9b09ed538f7b05d678db
Author: William Hubbs <williamh@gentoo.org>
Date:   Sun Dec 11 14:33:25 2011 -0600

    fix compile error
    
    A variable used in the previous commit was actually removed in another
    commit; that is why I didn't catch it.
    
    Reported-by: Duncan < 1i5t5.duncan@cox.net>
    X-Gentoo-Bug: 394369
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=394369

commit 5e01051c4eccf1fc52b32b060478a534d34769ed
Author: William Hubbs <williamh@gentoo.org>
Date:   Sun Dec 11 01:18:08 2011 -0600

    Allow init scripts to be executed with a relative path
    
    This was a regression that was caused by the fix for
    http://bugs.gentoo.org/show_bug.cgi?id=350910. I am reverting the commit
    that we said fixed that bug and re-opening it.
    
    Reported-By: Nathaniel <nathaniel@paust.us
    X-Gentoo-Bug: 392457
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=392457

commit 8ea1190486f9194bac9dfcb355021ebc8e8c15ce
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Dec 9 21:57:00 2011 -0600

    ip6to4: set correct subnet mask
    
    The correct setting for this is /48.
    
    Reported-by: MaratIK <marat.buharov@gmail.com>
    X-Gentoo-Bug: 392723
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=392723

commit a1c655949f1a44b130456bc0aceeb165dbf3bed8
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Dec 9 20:49:26 2011 -0600

    iproute2: set a default broadcast address if none is specified
    
    Reported-by: Spooky Ghost <spookyghost@blueyounder.co.uk>
    X-Gentoo-Bug: 392593
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=392593

commit 325a7bf206fc1d86c614e8409255b6c82341a3dc
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Dec 9 17:43:54 2011 -0600

    release openrc-0.9.7

commit 5adb3930c7a875153c0b817b5c21596a3faaac29
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Nov 30 10:00:44 2011 -0600

    Integrate migrate-run into bootmisc
    
    The migrate-run service was hanging when parallel startup was enabled
    because of its dependencies. This integrates the logic for this service
    into bootmisc, which will avoid the issues with parallel startup.
    
    I would like to thank Robin H. Johnson <robbat2@gentoo.org> for his
    input on this patch

commit b628481701d1f240ff8b2411dc041db332578a8c
Author: William Hubbs <williamh@gentoo.org>
Date:   Sun Nov 27 23:29:22 2011 -0600

    migrate-run: fix ln calls and migrate directories separately
    
    This is based on a patch submitted by AlphatPC@gmail.com.
    
    Reported-by: AlphatPC@gmail.com
    X-Gentoo-Bug: 391945
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=391945

commit ab01a74405fc316a15549aeda201521ec694981f
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Nov 26 20:57:14 2011 -0600

    Make migrate-run more verbose

commit 695f3886fb2d255e64387ce780be3c1cbc170fa9
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Nov 26 17:33:10 2011 -0600

    Remove rc_parallel from rc.conf
    
    rc_parallel has never been considered a stable feature of openrc. To
    that end, I am removing the documentation for this feature from
    rc.conf.
    
    It is still available, but bugs against it are not considered stable
    blockers, and it should only be used currently by developers and users
    who are willing to test the feature.
    
    X-Gentoo-Bug: 391945
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=391945

commit d8e739e19af48c2dab884d61ecd22e8a54e23883
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Nov 26 13:21:54 2011 -0500

    urandom: move seed from /var/run to /var/lib
    
    We want the seed to be preserved across reboots, so move it to /var/lib.
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 3baca9a35c4f6e2bd910d5bc54c0008c13b0501a
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Nov 26 03:21:21 2011 -0500

    fsck: fix typo in fsck mount point support
    
    Previous commit e3b39a677b535bc2 missed adding a "[" to one of the tests.
    
    Reported-by: Torsten Veller <tove@gentoo.org>
    x-Gentoo-Bug: 391941
    x-Gentoo-Bug-URL: http://bugs.gentoo.org/391941
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 467f91d870926f7a0c5d47f5bfc1e8e596dbd669
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Fri Nov 25 15:39:59 2011 -0600

    release openrc-0.9.6

commit cc45abb77b195ecd778e578cc716b90e9612e48a
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Wed Nov 23 13:17:20 2011 -0500

    net.lo: fix typo in previous math commit
    
    x-Gentoo-Bug: 391671
    x-Gentoo-Bug-URL: http://bugs.gentoo.org/391671
    Reported-by: Duncan <1i5t5.duncan@cox.net>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 40576a32d321b6807aad485daf389781cbb814c1
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Nov 23 08:31:55 2011 -0600

    release openrc-0.9.5

commit 483db945e11ef662e49cba3907b0be09c5b07fb3
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Nov 23 08:17:33 2011 -0600

    Fix typo

commit 17a1529416441391e3b55cd22e5584b530424932
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Nov 22 08:18:53 2011 -0600

    Migrate /var/lock and /var/run to /run for linux systems

commit 815952a65a9cf41d3d1f353e6bee5cef4de4805a
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Nov 22 12:56:29 2011 -0600

    Revert "Revert "fsck: add the ability to specify mount points to check""
    
    This reverts commit 5a3599df8a15b1212857335101c9d31fb19e87e2.
    
    After review, I am bringing this back to the tree.

commit 76fec586336775ef8e313df3f8c3981c6b4fdfa8
Author: William Hubbs <williamh@gentoo.org>
Date:   Sun Nov 20 21:27:38 2011 -0600

    pass the per-interface metric to resolvconf
    
    Reported-by: Alon Bar-Lev <alon.barlev@gmail.com>
    x-Gentoo-Bug: 364907
    x-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?364907

commit d8bbeb184f462199582fa265c9b681288884ecd9
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Nov 19 18:15:46 2011 -0600

    CGroups: create the openrc cgroup hierarchy
    
    Openrc will create a cgroup hierarchy called openrc which will have all
    services it starts and all subsystems attached to it. If you need other
    groups/hierarchies, please use libcgroup.

commit 453d13296d84472e6317472c2b27015b3ca612c4
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Nov 19 02:43:25 2011 -0500

    rc: usage: do not output non-printable short options in usage
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit c21c1f1e59a9e1fe8dbab22ebbf3f574a591e6ba
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Nov 19 02:39:08 2011 -0500

    rc: usage: optimize help string alignment output a little
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit c7cc685458d22b8fd78a9d8be4c0e7d456ff14a1
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Nov 19 02:33:11 2011 -0500

    rc: fix style around case_RC_COMMON_GETOPT
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit ef1ff1b4f29762d1caf83dc2b65ccfc7cb96e140
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Thu Nov 10 21:46:08 2011 -0500

    make shell math operations style more succulent
    
    Convert the style:
            var=$((${var} + 1))
    to:
            : $(( var += 1 ))
    
    The latter is easier to read imo.
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 0510c473d4cd9097401e3a7bc236b0121977b81d
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Nov 18 15:54:18 2011 -0600

    CGroups: /sys/fs/cgroups should be a tmpfs
    
    The kernel documentation states that a cgroup file system should not be
    mounted here, but a tmpfs.
    
    This also means that we should not create a group for each process, but
    we should allow the user to specify which group a process should be
    assigned to. The rc_cgroup variable will be used for this purpose.
    
    For more information, see /usr/src/linux/Documentation/cgroups/cgroups.txt.

commit 9a3d6c76009a58746d42d54c284058725131a854
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Nov 17 18:56:53 2011 -0600

    Add MKSTATICLIBS switch
    
    The MKSTATICLIBS switch, which defaults to yes, controls whether or not
    static libraries are built and installed.
    
    Reported-by: Agostino Sarubbo <ago@autistici.org>
    x-Gentoo-Bug: 378267
    x-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=378267

commit a5ba2f3264397ac1ca1545ae67fbfdafa1b30b67
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Nov 18 08:32:06 2011 -0600

    CGroups: fix group initialization
    
    Make sure cpuset.cpus and cpuset.mems exist in the parent group before
    attempting to copy them to the new group.

commit 62f4438376098f20ed293fec1fec6fabc014b7ef
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Nov 17 23:49:07 2011 -0600

    CGroups: finish initializing the CGroup
    
    When a CGroup is created, we need to copy cpuset.cpus and cpuset.mems
    from the new group's parent into the new group before we can attach any
    processes to it.

commit 0bbb764f70dcbaa8cfa3ffbb2b318274d1180120
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Nov 17 16:42:03 2011 -0600

    Change RC_CGROUP to lower case

commit 20df56f0b2a01bd2f8a70b8fb3fbd051c1aab8d8
Author: Patrick Lauer <patrick@gentoo.org>
Date:   Sat Nov 12 22:19:55 2011 +0100

    Add CGroup support
    
    X-Gentoo-Bug: 390297
    X-Gentoo-Bug: http://bugs.gentoo.org/show_bug.cgi?id=390297

commit 66e99b6d637edc33047398b467f2b22bc2f04b60
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Nov 17 16:06:18 2011 -0600

    Fix compile warning

commit 260b61e9d87510b869f2b7b8fefd281ea695f88e
Author: Alessio Ababilov <ilovedevlinux@gmail.com>
Date:   Thu Nov 17 09:48:38 2011 -0600

    on_ac_power: Fix AC adapter presence recognition
    
    On several machines, a file corresponding to AC adapter can be named
    ADP1. The on_ac_power script  checked for AC*, which does not match
    ADP1, so the script always considered the adapter to be off.
    
    X-Gentoo-Bug: 380933
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=380933

commit 5b1aaf8cc803e9f21f8a0c94236ab5dddba4b2fc
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Oct 17 13:47:45 2011 -0500

    add support for extra_stopped_commands

commit 5994e55937cbbb71b1c22ad829b77a1bcd8c3793
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Nov 15 17:06:10 2011 -0600

    Deprecate the network and staticroute scripts
    
    These scripts are not supported, and they have several major design
    issues such as not being able to stop, start or allow a dependency on a
    single interface.

commit 3f2e9c4e1fa5587ec4f7ff07fbc5b5066c2d281e
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Nov 15 14:36:55 2011 -0600

    mountinfo: Do not error out if realpath fails
    
    Reported-By: Dennis Schridde <devurandom@gmx.net>
    X-Gentoo-Bug: 383333
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=383333

commit 476034dd9595c56dab4e19ce04424dcfd8431dea
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Nov 14 10:51:42 2011 -0600

    net.example: Fix the bridge configuration example
    
    The example of how to configure the bridge was invalid. It showed
    invalid timer settings along with turning off stp. This update shows how
    to turn on stp and set the timer settings to the defaults.
    
    Reported-by: Sergey S. Starikoff < Ikonta@yandex.ru>
    X-Gentoo-Bug: 389209
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=389209

commit 37294b4e82fc265941e385e6a5430792fa57ae46
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Nov 12 15:32:08 2011 -0500

    net example: fix up grammar
    
    X-Gentoo-Bug: 390295
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/390295
    Reported-by: Patrick Lauer <patrick@gentoo.org>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 16661d02e961f043b89eddd438b1b5dccca83f12
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Wed Nov 9 00:09:58 2011 -0500

    ssd: fix building when SYS_ioprio_set is missing
    
    Older glibc's might not provide this.
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit f46626dcfc4ea06d4e4171fc8904a379f40b293f
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Sep 27 13:56:40 2011 -0500

    add auto detection for lxc
    
    Reported-by: Francesco Riosa <francesco+gentoo_bugzilla@pnpitalia.it>
    X-Gentoo-Bug: 384151
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=384151

commit 5a3599df8a15b1212857335101c9d31fb19e87e2
Author: William Hubbs <williamh@gentoo.org>
Date:   Sun Nov 6 22:06:58 2011 -0600

    Revert "fsck: add the ability to specify mount points to check"
    
    This reverts commit e3b39a677b535bc2676a939519906f6b2dbce6f4.
    
    I misunderstood and thought this was ready to go in the tree, but it was
    on a remote branch only for a review.

commit e3b39a677b535bc2676a939519906f6b2dbce6f4
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Sun Nov 6 13:58:48 2011 -0600

    fsck: add the ability to specify mount points to check

commit 27713e3a41574c20336fcbf4fd3522d126045f16
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Nov 2 08:16:52 2011 -0500

    Make sure we load external scripts before using eerror
    
    Reported-by: Jochen Schlick <josch06@gmail.com>
    X-Gentoo-Bug: 388715
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=388715

commit 5066d40ac83fc9036843d670dbf816955b9f40a3
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Oct 28 11:14:44 2011 -0500

    Use pattern rules instead of suffix rules
    
    Rework the makefiles to use pattern rules instead of suffix rules.
    This is the preferred way to write implicit rules according to the gnu
    make manual.

commit f94e8836333f6dea142d9a7b29610fcc8d6b12a3
Author: Stef Simoens <stef.simoens@scarlet.be>
Date:   Tue Sep 27 16:55:22 2011 -0500

    Add macvlan support
    
    X-Gentoo-Bug: 384029
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=384029

commit b1da4dcb9913d6d28fa39c60dcf9c867c39486ef
Author: Alexey Shvetsov <alexxy@gentoo.org>
Date:   Wed Oct 26 01:05:00 2011 +0400

    Add support for automounting configfs and cgroupfs
    
    Signed-off-by: Alexey Shvetsov <alexxy@gentoo.org>

commit 9a539ebbe1ee0c8557fbcdf22e849534dcbd9b53
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Wed Oct 19 21:30:39 2011 -0400

    further clean up OS differences in makefiles
    
    No need for if() logic.
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 9c77502f964ef368892598b4fb30c4909fe3d360
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Oct 19 12:22:23 2011 -0500

    Make variable references in Makefiles consistent
    
    Some variable references were written as $(foo), but the majority were
    written as ${foo}. This commit changes all of the variable references
    to using braces.

commit ecf77254bbacf5b53d940a738ea6cdc569a28958
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Oct 17 20:18:39 2011 -0500

    consolodate Makefiles
    
    The tree contained many operating system specific Makefiles which were
    being included in other Makefiles. This commit removes those and adds
    the code to the makefiles which included them using make's conditional
    processing.
    
    X-Gentoo-Bug: 387441
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=387441

commit 9f95878bbd5461837b00b5ea2134768302776584
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sun Oct 16 19:02:21 2011 -0400

    fix random typos
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 7644e027fd3ecc539a56a1e7a5698db32370b194
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sun Oct 16 17:35:12 2011 +0200

    Release OpenRC-0.9.4
    
    X-Gentoo-Bug: 382299
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/382299

commit 3ad849c5d6a24ef66152004eb3149d2cff973b1c
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Sat Oct 8 18:52:05 2011 +0000

    Bug #385971: fix net.example reference
    
    Add in wildcards for reference to net.example, so that users can find it
    regardless of version and dodoc compression settings.
    
    X-Gentoo-Bug: 385971
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=385971
    Reported-By: Serkan Kaba <serkan@gentoo.org>
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit f6c27abeb571d1025e2f2c7a53c734d21ad285cf
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Fri Oct 7 21:45:46 2011 +0000

    net/vlan: respect txqueuelen/mac/broadcast/mtu options during creation.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 917553475227bdeab70f19edb7a4ea549a1abe8f
Author: William Hubbs <williamh@gentoo.org>
Date:   Sun Oct 2 12:21:17 2011 -0500

    Small style change

commit c5fb64d61f1462d0f8790838424722e161ba4024
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Tue Sep 27 18:15:08 2011 +0200

    Make dmesg log optional
    
    Reported-by: Patrick <gentoo@feystorm.net>
    X-Gentoo-Bug: 384485
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/384485

commit 4b6392987873107f83fa135b871ac137a6c29ba2
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Wed Sep 21 13:26:47 2011 +0200

    Shutdown VLAN's before the actual/parent interface
    
    Make sure the VLAN interfaces as well as its rules will be removed prior
    to the actual/parent interface.
    The VLAN configs are gone in vlan_post_stop() already so we have to use
    vlan_pre_stop() instead.
    
    Reported-by: Bernd Bednarz <bernd.bednarz@avira.com>
    X-Gentoo-Bug: 380603
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/380603

commit 29693ecb7a031f6bacb74fd4dccfe0bdb1b1e5f8
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Wed Sep 21 03:57:09 2011 +0200

    Refactoring of commit bf49e59e3eb4fe12167812bc1b4531742eddc383
    
    Make sure the RPDB rules will be removed.

commit 930f4021b1904b9c46c41c70b99d6e0620a1b59d
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Wed Sep 21 00:21:43 2011 +0200

    Add a new helper functions for _{flatten,get}_array
    
    A new helper function (_array_helper) since both, the _flatten_array and
    _get_array function share partially the same code.
    We also reduce multiple whitespace to a single space, remove leading newlines
    as well as skipping "empty" lines.
    
    This makes the data returned by _{flatten,get}_array much nicer than before.
    It also fixes bug 366677 where net-tools having trouble with the whitespace
    mentioned above. iproute2 was not affected.
    
    Reported-by: Andrew Maltsev <am@ejelta.com>
    X-Gentoo-Bug: 366677
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/366677

commit bf49e59e3eb4fe12167812bc1b4531742eddc383
Author: Yun Zheng Hu <hu@fox-it.com>
Date:   Mon Sep 19 00:01:52 2011 +0200

    Don't do anything if the interface doesn't exist
    
    iproute2_post_stop() does now check if the network interface still exist.
    
    Reported-by: Yun Zheng Hu <hu@fox-it.com>
    X-Gentoo-Bug: 379575
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/379575

commit fb485366e68d2b4bfb868693b07a57969a1faa90
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sun Sep 18 15:50:12 2011 -0400

    procfs: simplify the binfmt_misc mount check
    
    Replace the `mountinfo` exec with a file test of the register file
    which we rely on later anyways.
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit f52dca69849b0aef2a4644f106c152c0e456f989
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sun Sep 18 15:47:16 2011 -0400

    procfs: drop nfsd mounting
    
    The dedicated nfs init.d script takes care of mounting this when
    necessary, and we want it there since mounting it isn't terribly
    useful if you can't actually start up the nfs daemons (which the
    nfs-utils package provides).
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 47d305d2af41a6105824bd704a0f0f958b35871d
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sun Sep 18 15:29:01 2011 -0400

    procfs: load config files from binfmt.d into /proc/sys/fs/binfmt_misc/register
    
    This is a KISS version.  Let's see where we go from here in terms of
    complexity.  Maybe nowhere!
    
    X-Gentoo-Bug: 382723
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/382723
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 95adeb85bad458d3eb41c6c88289fdb462594641
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Sep 17 23:07:33 2011 -0400

    runscript: simplify livecd-functions.sh loading
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 0e4d169a40e01d74cf5ff399afe049a25543f0f6
Author: Gilles Oivier <g.olivier@wanadoo.fr>
Date:   Sun Sep 18 14:42:39 2011 +0200

    Fix the Internal Field Seperator when using ethtool
    
    ethtool.sh didn't reset the Internal Field Seperator (IFS) properly.
    It now does, by storing the old IFS to OIFS, which will be used later
    in the for loop.
    
    It also fixes the "ethtool_ring_<if>" option.
    
    Reported-by: Alois Schmid <alois.schmid@gmx.de>
    X-Gentoo-Bug: 368525
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/368525

commit 72e31e753d06797aca5e2463257e57575313f268
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sat Sep 17 01:13:11 2011 +0200

    Improve missing openvpn/usermode-utilities warning message
    
    as OpenRC can be used on other distributions as well.

commit 645bbf2e0f6be1f9f4cc116dfc39939456b771e3
Author: Stefan Knoblich <s.knoblich@axsentis.de>
Date:   Sat Sep 17 00:06:00 2011 +0200

    Parse broadcast arp responses via arping (iputils) properly
    
    ARP replies may/do contain two MAC addresses when using iputils's
    arping so we have to use the first one because it's always the "From"
    address - which is what we want.
    
    Thanks to Stefan Knoblich <s.knoblich@axsentis.de> for the fixed pattern.
    
    Reported-by: cl@exomail.to
    X-Gentoo-Bug: 379181
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/379181

commit 539c4e58723fbd3b8ca9f30a09e99ddaf72c30b1
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Fri Sep 16 23:47:20 2011 +0200

    Print a warning if openvpn/tunctl are missing

commit e14e78db16b8ce38235665ee52e3c13375e0d168
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Mon Sep 12 17:46:51 2011 +0200

    Revert "Mount /run as early as possible"
    
    This reverts commit 5ed4d084d95608e40cb21888c18a8f381a44cd69.
    /run needs to be mounted after /proc.

commit 2d180551ef5f2541e22a5eaf90b4efc7aadba914
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sun Sep 11 15:12:54 2011 +0200

    Fix regex pattern for umounts during shutdown
    
    This patch fixes the regex pattern for /lib -> /lib(32|64)?
    as well as the pattern for RC_SVCDIR if it contains /lib(32|64)?/.
    This fixes bug 381783.
    
    X-Gentoo-Bug: 381783
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/381783

commit a9738a85085773bb5047466a98044cf06513b49e
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Sep 8 15:09:45 2011 -0500

    release openrc-0.9.3

commit 5cb985b6cc819de8242ae1ba82e9b65f9edc273b
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Sep 8 13:27:11 2011 -0500

    Credits for previous commit
    
    Reported-By: i.Dark_Templar <dark_templar@hotbox.ru>
    X-Gentoo-Bug: 381783
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=381783

commit e2f1464f47588792494686ccb195fe6207ce416f
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Thu Sep 8 19:20:20 2011 +0200

    Use the real/actual path when looking for mounts
    
    /proc/mounts contains real/actual paths so we should do the same in mountinfo.

commit 5df9dc1af534e85236ee72fe24bb31f73aeeb265
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Thu Sep 8 18:42:05 2011 +0200

    Remove unused variable

commit b42ab3b2f4daaebdac043478f0ae385200a25535
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Sep 7 15:11:04 2011 -0500

    Use checkpath to create /run/lock

commit 5ed4d084d95608e40cb21888c18a8f381a44cd69
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Sep 6 21:00:08 2011 -0500

    Mount /run as early as possible
    
    This commit moves the code that mounts /run to the earliest possible
    position in openrc.

commit 9be1a2a67b840918da752efefc3a21cffda173e6
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Sep 2 15:19:10 2011 -0500

    release openrc-0.9.2

commit 6d5b452ef5ef335821bd86eb9ad574acaa774f7b
Author: Flex <frostynova@gmail.com>
Date:   Fri Sep 2 11:04:23 2011 -0500

    Do not ignore return code for custom script functions
    
    X-Gentoo-Bug: 380317
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=380317

commit 7a6dbedf38e1eeffcbb36b7d77a67c56566d0409
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Sep 2 01:56:41 2011 -0500

    Mtab: fix typo
    
    Reported-By: Helmuth Schmelzer <des-colo@hotmail.com>
    X-Gentoo-Bug: 381503
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=381503

commit 70c159d47c2824e57e0bfd3f7f3d85458943cff2
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Sep 1 17:18:34 2011 -0500

    release openrc-0.9.1

commit b71f3bd2fd2ba39c1018baaf2dba74ed53c82cdc
Author: Diego <flameeyes@gentoo.org>
Date:   Thu Sep 1 17:05:46 2011 -0500

    Start-stop-daemon: remove call to pam_authenticate

commit c5b14edda807d1cd28938860b159f21a0e8c6e44
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Sep 1 10:33:14 2011 -0500

    release openrc-0.9.0

commit 4ee62c7903c65557c493f51d6703264a816156cd
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Aug 22 12:22:48 2011 -0500

    Libeinfo: do not suppress ewarn() messages
    
    The ewarn() function was affected by the EINFO_QUIET environment
    variable which lead to warning messages being suppressed. Warnings
    should not be suppressed.
    
    Reported-by: Hanno Boeck <hanno@gentoo.org>
    X-Gentoo-Bug: 380073
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=380073

commit a029dee59b22bdfb30fefb90c9409be813c1f824
Author: Yun Zheng Hu <hu@fox-it.com>
Date:   Sat Aug 20 14:02:04 2011 -0500

    Do not print "null" or "noop" when configuring an interface
    
    Note by william hubbs:
    
    I modified the patch to compare "null" and "noop" with $1 instead of
    ${config}.
    
    Reported-by:    Yun Zheng Hu <hu@fox-it.com>
    X-Gentoo-Bug: 379577
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=379577

commit 2330978300cd3a677e2a6b70ddc8c2825af03920
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Aug 20 12:38:05 2011 -0500

    Do not update mtab if it is a symbolic link
    
    Reported-by: <junkmailnotread@yahoo.com>
    X-Gentoo-Bug: 370037
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=370037

commit 0c8bea21524c22856fdb8528298b43d6fb20451d
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Jul 27 11:02:23 2011 -0500

    Improve processing of service directories and conf.d files
    
    symbolic links should not be followed in an attempt to work out the name
    of the service we are running. Also, @sysconfdir@/conf.d should be tried
    as a backup directory for configuration files.
    
    I would like to thank Robin Johnson for his input on this change.
    
    X-Gentoo-Bug: 350910
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=350910

commit 3688c851636c9458eb88c7469bb374e5f6d0f9de
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Jul 28 09:12:35 2011 -0500

    swclock: select a default reference file
    
    If $RC_SVCDIR/shutdowntime does not exist, we need a default reference
    file. It is safe to use @PREFIX@/sbin/runscript for this purpose.
    
    Reported-By: Robin H. Johnson <robbat2@gentoo.org>
    X-Gentoo-Bug: 376249
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=376249

commit 370e5c775a5072583bc57708bbf2c9e0320b8cd8
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Jul 26 16:58:42 2011 -0500

    runscript: rename saveDir back to save to fix compile error

commit df1f02ac848a010092df2d3d40b8828051522b4b
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Jul 26 12:19:59 2011 -0500

    Runscript: print deprecation warning for opts variable
    
    Openrc uses the extra_commands and extra_started_commands variables to
    list extra commands for services. Also, it supports the opts variable
    which is used to assist migration from baselayout-1.
    
    I am adding this warning to encourage switching from opts to
    extra_commands/extra_started_commands.
    
    I would like to remove support for opts eventually.

commit 863ef36011144a8907359bddc3fe705e5185fd1b
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Jul 23 18:25:55 2011 -0500

    mtab: fix test for a link to a location in /proc
    
    /etc/mtab can be a link to a file in /proc. If it is, we should not
    attempt to update /etc/mtab.
    
    The original test used "! -w" as part of the test.  This does not
    work since everything is writeable by root.
    
    Thanks to Robin Johnson for the suggestion of using readlink -f and the
    regular expression.
    
    Reported-By: junkmailnotread@yahoo.com
    X-Gentoo-Bug: 370037
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=370037

commit 05c2d68192b80ec6177a01db6fe96fbaaf1b813f
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Jul 23 16:53:16 2011 -0500

    Mtab: fix typo

commit 07694255a4901c33a8ee3ff49701fd49affad2b8
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Jul 20 14:38:55 2011 -0500

    rename save and save2 for clarity
    
    The names saveDir and saveLnk seem to better define how these variables
    are used.

commit 6fa6f9523f80b2fcb49728b349f3eefc3e45a769
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jul 18 07:09:28 2011 +0000

    Rewrite iproute2 addr argument parsing.
    
    This was originally to fix the fact that our code did not handle certain
    orders of arguments in conversion, but it was easier to rewrite the
    entire argument handling to support more options at the same time.
    
    Now supports all options documented in the ip manpage, including the
    IPv6-specific options that must be passed after the interface argument.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>
    Reported-by: Tony Vroon <chainsaw@gentoo.org>
    X-Gentoo-Bug: 366905
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/366905

commit e3b02abd7abe0cd6265cb56324018b6db003f293
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Jul 12 15:29:04 2011 -0500

    Add warnings for the use of bash arrays
    
    Currently, we allow the use of bash arrays for some configuration settings.
    This is undocumented, so I want to remove the support from openrc.
    
    The first phase of this removal will be this commit which adds warnings
    to encourage people not to use bash arrays.
    
    X-Gentoo-Bug: 374875
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=374875

commit 5541e5ba24532687ff490161ea9907382e88405e
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Jul 13 13:30:38 2011 -0500

    Add commit message information to style guide

commit a74382d9cb3d7f024efca46f2befb49e35c40758
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Wed Jul 13 21:32:13 2011 +0200

    Fix rc_service_value_get() to return multiple lines as well
    
    As introduced in bug 372547 using service_get_value() in the init scripts
    or using rc_service_value_get() directly will only return one line.
    This patch fixes it by using the new rc_getfile() function, it returns even
    multiple lines. We're still using a char *, so the lines will be appended
    instead of added into new element.
    
    X-Gentoo-Bug: 372547
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/372547

commit fdaf1c65cdcba2d9b83e02cc0d08fb6dbbd80a80
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Wed Jul 13 21:27:34 2011 +0200

    Add a new function, bool rc_getfile(const char *, char **, size_t *)
    
    <snip>
    Read the entire @file into the buffer and set @len to the
    size of the buffer when finished. For C strings, this will
    be strlen(buffer) + 1.
    Don't forget to free the buffer afterwards!
    </snip>
    
    We also fix bug 374899 by adding this new function.
    
    X-Gentoo-Bug: 374899
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/374899

commit ef22868f3668fe833cdf297e619afe5b721f7716
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sat Jul 9 23:05:11 2011 +0200

    Do not skip similar config options
    
    OpenRC goes through the config and checks each option for duplicates.
    Lets say we're on "rc_logger" currently and its the last option in the config
    file and we previously defined rc_logger_path.
    
    It now goes through all previous config options and compares those against the
    current one "rc_logger" *but* it compares only the first N bytes, in this
    case strlen("rc_logger"). So it strips the _path from "rc_logger_path" which
    ends up into "rc_logger" and it compares that against the current one (also
                    "rc_logger"), it would then simply override the previous definition.
    
    This patch fixes this behaviour to always compare the full option / variable
    names.

commit 0c7032840b746bc5f1e5f6cb90ad50b5da0a4fce
Author: Kirill Elagin <kirelagin@gmail.com>
Date:   Thu Jul 7 11:51:39 2011 -0500

    save and restore IFS correctly
    
    X-Gentoo-Bug: 371141
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=371141

commit fe6cd232870e2b9b0784b09a29d088ad7454454d
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Jul 6 18:38:52 2011 -0500

    rc_log_path should be quoted

commit 05e325146777f60aeb4e347c8e7399b0b3154445
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Wed Jul 6 21:15:48 2011 +0200

    Rename rc_logger_path to rc_log_path

commit 9a068c2500b3d8d473900dfaaf7d3fb5d593862d
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Jul 6 09:53:05 2011 -0500

    The is_net_fs function should use extra_net_fs_list
    
    This was pointed out to me by Morse on #gentoo-base, so I would like to
    thank him for the patch.

commit e8e86b96dc8abbdfb7069a267873ef2950eb84cb
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Jul 5 14:33:21 2011 -0500

    fix issue with extra_net_fs_list
    
    The extra_net_fs_list variable was not being included as it should have
    been for the net file systems because it was being expanded before it
    was set by the user.
    
    X-Gentoo-Bug: 374133
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=374133

commit 48dcc55b65c6e62d32b9c6a5ec69e67081e939ae
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Wed Jul 6 00:47:15 2011 +0200

    Document the new rc_logger_path option

commit 44dc7db4f89382fe198d1115a20d30ceb10cce02
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Tue Jul 5 23:37:07 2011 +0200

    Improve logging
    
    Add "e" (O_CLOEXEC) to all fopen() calls.
    Remove system() call and replace it by fopen() and friends.
    This also fixes bug 368933
    
    X-Gentoo-Bug: 368933
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/368933

commit 003d4ba15be5f43eb868cf89e8c8c7db46e9dc94
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Tue Jul 5 00:51:29 2011 +0200

    Don't write into optarg, this also fixes a compiler warning.

commit 49f1a8702b49e4f1bf121bf22d4196e7199bacfa
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Jul 4 18:27:00 2011 -0400

    eat trailing whitespace
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit be990b308ae2e7a725852f22f285267dcfeeaa2a
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jul 4 07:48:51 2011 +0000

    Bug 373808: init.d/modules skipped certain variable combinations
    
    The version iteration code missed certain combinations:
    KV=1.2.3.4
    skips: 1.2.3, 1
    KV=1.2.3
    skips: 1
    
    Simplify the code to use a loop and build the list of versions directly
    instead of unique variables per version component.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 9076baa573a6e7a0ad7fb0de1919b051c8b3b012
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Jul 2 23:33:23 2011 -0500

    slight formatting change
    
    Add a new line after "rc_runlevel()" for consistency.

commit 70a3a3cf39f5cf0efa888cf3a2a377ef08fd6f50
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Thu Jun 30 20:13:39 2011 +0200

    Add --startas/-a back to the optstring
    
    X-Gentoo-Bug: 373609
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/373609

commit d0bc4f20adfe4392639ddda6721850fdc74ea123
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Wed Jun 29 19:46:31 2011 -0400

    drop useless "All rights reserved" notice
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit b6766c25442bf75a4cf8e65b53a252831c356022
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Tue Jun 28 18:45:39 2011 +0200

    Use RC_CONF instead of the hardcoded /etc/rc.conf

commit c427d3c1fec89f6a9281dccdc123bad73af80804
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Jun 28 00:02:11 2011 -0400

    net: ccwgroup: smooth up/down process
    
    We need to bring the link up ourselves after we've properly configured
    the device.  The common code tries to bring the link up itself, but it
    does so before things are configured, and so it ends up failing.
    
    When shutting down, we need to wait for the kernel to finish destroying
    the interface.  Otherwise, when doing a restart, openrc is quick enough
    to tell the kernel to destroy things, but then start trying to bring it
    back up before the kernel has finished.
    
    X-Gentoo-Bug: 367467
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/367467
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 24ba7955634dd571a4c34dd712dc8a592eea4d73
Author: Joe Harvell <jharvell@dogpad.net>
Date:   Mon Jun 27 23:20:47 2011 +0200

    Only print the deprecation warning for --chuid/-c when using it
    
    The deprecation warning has been printed when using the replecement functions as
    well, bug 373243.

commit e8413733c1716b62b9c139a640e1901fe316d8a9
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Jun 27 12:11:01 2011 -0500

    Revert "remove functions.sh symbolic link in init.d"
    
    This reverts commit f4407ac83d84e52c951b4a07640cdcad458010ea.

commit f4407ac83d84e52c951b4a07640cdcad458010ea
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Jun 27 11:56:12 2011 -0500

    remove functions.sh symbolic link in init.d

commit 512c69a1067a17b3616aba17925f077ada68d271
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Jun 24 12:47:04 2011 -0500

    update bug reporting information in README

commit 2050e67911ee21651da43c578b93d49cee379201
Author: Kirill Elagin <kirelagin@gmail.com>
Date:   Fri Jun 24 11:59:14 2011 -0500

    localmount: make OIFS and CIFS local in stop function
    
    X-Gentoo-Bug: 371141
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=371141

commit 013e7fb9fc08acd33e944659ff8e7a18aee2b69f
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Jun 23 21:52:44 2011 -0500

    allow options to be passed to killall5
    
    This allows options to be passed to killall5 by the killprocs script.
    This was added so that certain processes will not be killed during
    shutdown.
    
    x-Gentoo-Bug: 371625
    x-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=371625

commit e152199860b5b9932e727b20eeefa34d870cc93a
Author: William Hubbs <williamh@gentoo.org>
Date:   Sun Jun 19 21:37:55 2011 -0500

    release openrc-0.8.3

commit d4bdd328970e4c82d699d8b95a6fa3854627627b
Author: William Hubbs <williamh@gentoo.org>
Date:   Sun Jun 19 18:39:12 2011 -0500

    fix comment in conf.d/consolefont
    
    X-Gentoo-Bug: 368277
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=368277

commit 8947c00204e771a669433708de7aa740dca9d16c
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Jun 17 23:13:14 2011 -0400

    sysctl: do not make unknown keys fatal
    
    If unknown keys are found, currently sysctl would add all of its valid
    settings, but then leave itself marked as "stopped".  Since this is not
    really what we want, make unknown keys a non-fatal error.
    
    Reported-by: Christian Ruppert <idl0r@gentoo.org>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 4eb37f67cf1edbece52b5617cb763bbd899ab385
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Sun Jun 5 16:49:12 2011 +0200

    Warn if deprecated commandline options are used for start-stop-daemon

commit 7ca74d7636b2fcd0c307ec2b972230f25457c786
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Jun 3 20:41:43 2011 -0400

    fix underquoting of wrapped color stubs of exit status
    
    X-Gentoo-Bug: 369911
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/369911
    Reported-by: Steve Dibb <beandog@gentoo.org>
    Reported-by: Christian Ruppert <idl0r@gentoo.org>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit e49da2af9165337265cb8a91293ba50c97ec1652
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Jun 3 17:07:22 2011 -0400

    clean up gitignore files
    
    Rather than listing explicit object files, ignore all of them in
    the whole tree.
    
    Also ignore patch/gdb related files throughout.
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit a2c8e5ce50ca88a8d73f828453ca67f00fff1081
Author: Diego Elio PettenÃ² <flameeyes@gmail.com>
Date:   Thu Jun 2 16:06:27 2011 +0200

    Don't set hostname on containers.
    
    LXC already provides a means to set the utsname/hostname of the system, so
    avoid overriding the user's configuration through hostname here.
    
    Signed-off-by: Diego Elio PettenÃ² <flameeyes@gmail.com>

commit 11d8b70d74b339777c7849dc3688244e85587501
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat May 28 12:11:37 2011 -0400

    rc-update: sort "show" output
    
    X-Gentoo-Bug: 367305
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/367305
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 227f83163908a1e2bfb783a7500263f5c204cb36
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat May 28 12:00:34 2011 -0400

    cc.mk: move debug.mk out of end Makefiles
    
    Since we always want debug.mk whenever we include cc.mk, move the include
    out of the Makefiles and into cc.mk itself.  This also fixes an include
    order bug in rc/Makefile where debug.mk is included before cc.mk and
    breaks the default CFLAGS setup in cc.mk.
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 98d3b407fefeba04a143c53d4f5faf48acd0f665
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat May 28 12:00:13 2011 -0400

    cc.mk: enable -g by default
    
    Can do no harm!
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit fe18c7bb632671457c3c261d36dece3fd09a4f69
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat May 28 11:53:29 2011 -0400

    librc: tweak style: foo () -> foo()
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit f8ff4a86a3f24ea49f278c14a9ce5c0dbc8223e2
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat May 28 11:42:49 2011 -0400

    rc: delete now unused local "i" variable
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit d59e245bc7edc05e5d7a77df25717029b0710c55
Author: Christian Ruppert <idl0r@gentoo.org>
Date:   Mon May 23 20:15:15 2011 +0200

    Fix dirname calls in runscript
    
    runscript will try to get the dir and basename of a file/link in case it
    contains at least one slash. This patch gives a temporary copy of the path to
    the dirname() function since dirname() can modify its argument.

commit 74c8667497425746b3d2eaaf88cae1ac2bdf34f5
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue May 17 13:06:55 2011 -0500

    fix keymaps config file to show the correct variable name
    
    X-Gentoo-Bug: 367283
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=367283

commit 3d56124ed1ec127ae091391dc05581197eb29eac
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon May 16 18:49:21 2011 -0400

    only warn about /run if it exists
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit bb34ea886a872a7fcc07f1b6f8972a20718800e5
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon May 16 18:00:18 2011 -0400

    drop rc_sys funcs from removal schedule
    
    The automagic detection isn't really problematic, and we allow people to
    easily override this when detection isn't possible.  On the other hand,
    if people haven't configured rc_sys in their rc.conf, the lack of auto
    detection can easily lead to an unbootable system.
    
    Further, we're attempting to have a stable shared library ABI, which
    dropping funcs from is not feasible.
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit fd48bc09fff09083b04b8cccad44092cceee9884
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon May 16 14:56:50 2011 -0500

    net:bonding small style change for readability

commit db1daa585737a03690d4d8e4040705b9c9c9c5ef
Author: Kfir Lavi <lavi.kfir@gmail.com>
Date:   Mon May 16 09:21:18 2011 -0400

    Do not add slaves to bond interface if they are already added
    
    X-Gentoo-Bug: 366653
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=366653
    Signed-off-by: Anthony G. Basile <blueness@gentoo.org>

commit 2493a1f32e7ae95f0f3d3c63cb4af7abdc34959b
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon May 16 01:21:20 2011 -0400

    net: ccwgroup: forward port changes from baselayout-1
    
    Quite a bit of work happened in baselayout-1 on the ccwgroup module, but
    seems it didn't make it into openrc.  So forward port all the existing
    code so we can work with more than just qeth and layer2 options.
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 40341fcd7e66b8a72e0407bb509d149305aa529a
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Apr 22 07:30:10 2011 -0500

    do not run services if openrc did not boot the system
    
    X-Gentoo-Bug: 364159
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=364159

commit 8fcaba9a22ac0deda7dc6a8d5f270d1df08f9966
Author: James Le Cuirot <chewi@aura-online.co.uk>
Date:   Wed Apr 20 11:55:06 2011 +0100

    fix rc_service_extra_commands return value
    
    If there were no extra commands, rc_service_extra_commands returned a
    list containing a single empty string. This changes that to return an
    empty list, which is more consistent with what you would expect.
    
    X-Gentoo-Bug: 360013
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=360013

commit 04e256e3b82ed36f61c375d83f8631a7b58bf28c
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Apr 27 14:46:59 2011 -0500

    fix list returned by rc_service_extra_commands
    
    This function was returning the setting of the variable $opts, which is
    not correct. $opts was used in baselayout-1, but it is replaced by
    $extra_commands and $extra_started_commands in openrc.
    
    This does not appear to break backward compatibility since this function
    does not appear to be used anywhere in the openrc code.
    
    Thanks to James Le Cuirot for the original patch.
    
    X-Gentoo-Bug: 360013
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=360013

commit b712a9161f3d51566f44d48909776649d70116d0
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Apr 26 11:05:19 2011 -0500

    change udhcpc support to busybox udhcpc
    
    This updates the udhcpc support to use busybox's udhcpc instead of the
    stand alone version.
    
    I would like to thank jackieku <kjackie@gmail.com> for assisting with
    this update.
    
    X-Gentoo-Bug: 205286
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=205286

commit 8202e7dce4065b79c272dc11941b371a9c4f99fc
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Apr 21 13:02:49 2011 -0500

    add back the eend command in start/stop for local service
    
    This was added back due to a user request. It will always be on a line
    of its ownbecause I'm considering adding more verbose info messages to
    local that show when each service is run if local is run with the -v
    option.
    
    X-Gentoo-Bug: 363343
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=363343

commit 2d197357ef9b92c6a237b438723c2969b51a802d
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Tue Apr 19 17:17:53 2011 +0000

    [oldnet] Bug #363959: Improve plug_timeout ifplugd/netplugd code.
    
    - Add support for a global plug_timeout setting to match the
      documentation.
    - Update the documentation to also show per-interface configuration.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit b6409feaac9922e5761ed7beef93bdf0fdf2faf7
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Apr 19 10:56:14 2011 -0500

    fix permissions for /run/lock
    
    If /run/lock is a directory, set the ownership and permissions for it,
    whether or not we created the directory.

commit ede4d1cd60ca7ce283095833b3ad545a6364e178
Author: Lars Wendler <polynomial-c@gentoo.org>
Date:   Mon Apr 18 10:28:47 2011 -0500

    Don't unmount /run on shutdown
    
    This is needed so that udev will stop properly on shutdown.
    
    X-Gentoo-Bug: 363971
    X-Gentoo-Bug-Url: http://bugs.gentoo.org/show_bug.cgi?id=363971

commit 64ef51ab09943ec28ddd4cb01647c982970cad9c
Author: Amadeusz Å»oÅnowski <aidecoe@aidecoe.name>
Date:   Sun Apr 17 22:29:12 2011 +0200

    Add support for /run directory
    
    This is a new directory for storing volatile runtime data.
    See https://lwn.net/Articles/436012
    
    X-Gentoo-Bug: 363971
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=363971

commit 372bae32132ef4866cdff878f5457ec4361c9ddd
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Apr 18 14:42:02 2011 -0500

    make rc_sys system specific
    
    This rearranges the configuration files so it is more clear that the
    rc_sys setting is system specific.
    
    X-Gentoo-Bug: 363957
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=363957

commit ac56ab7f6df616a7a40878b59f647b8042108def
Author: Anthony G. Basile <blueness@gentoo.org>
Date:   Sun Apr 17 09:12:20 2011 -0400

    Check for /sys/module/usbcore before modprobe usbcore
    
    The use of /proc/bus/usb to mount usbfs has been deprecated, but
    the option is still available in the kernel.  The new approach is
    to use /sys.  We should not modprobe usbcore if either /proc/bus/usb
    or /sys/module/usbcore exist.
    
    X-Gentoo-Bug: 363551
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=363551
    Signed-off-by: Anthony G. Basile <blueness@gentoo.org>

commit ad8f455726c5d66cea191b652053440118b89705
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Apr 15 19:48:30 2011 -0500

    release openrc-0.8.2

commit de0ded4ed05f1d52f92b22386fe7d5321ebf7e8e
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Apr 15 19:21:20 2011 -0500

    revert changes for bug #292894
    
    This is being done because these dependency changes caused a regression.
    We will need to revisit the previously mentioned bug.
    
    X-Gentoo-Bug: 363693
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=363693

commit 75722dac4ed11ea90f4eeda2095ed75293ec3586
Author: Sebastian Thorarensen <indigo176@blinkenshell.org>
Date:   Thu Apr 14 15:21:02 2011 -0500

    termencoding should run after bootmisc
    
    This change is necessary so that the unicode flag is not erased by
    bootmisc.
    
    X-Gentoo-Bug: 363611
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=363611

commit 2d14b172fa377d9633f30cb7d6956469373ce6ae
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Apr 12 08:47:03 2011 -0500

    release openrc 0.8.1

commit 03cd55aa19c53801ee5ab2ff816a8abf088fff52
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Apr 11 15:33:41 2011 -0500

    start loopback interface before mtab
    
    X-Gentoo-Bug: 292894
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=292894

commit 85827d474c23d47202384b4b3e430bf24d72c5d8
Author: William Hubbs <williamh@gentoo.org>
Date:   Sun Apr 10 17:24:44 2011 -0500

    remove "after bootmisc" dependency from loopback interface

commit 8e925368b7a07df23bc168ce4f50dc826181411b
Author: William Hubbs <williamh@gentoo.org>
Date:   Sun Apr 10 16:10:47 2011 -0500

    bring up the loopback interface earlier
    
    For most situations, the loopback interface can depend on root instead
    of localmount, so this patch makes that happen. It also adds comments to
    the net.example files explaining when a user might want to change this
    and giving an example.
    
    I would like to thank Robin Johnson for the original patch and suggested
    examples.
    
    X-Gentoo-Bug: 292894
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=292894
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 15660dbbfcbf8eace589a3284130036b481c1cdf
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Apr 9 13:54:01 2011 -0500

    add fallback_routes support to network scripts
    
    Add support for optional fallback_routes_* variables in the network scripts.
    This is similar to the fallback_route_* support in baselayout-1.
    However, if you do not have fallback_routes set for an interface but you
    do have routes set, that setting will be used, so you do not need this
    variable unless you want the fallback routes to be different from the
    primary routes.
    
    X-Gentoo-Bug: 250978
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=250978

commit 07db27d2201a1462e36bb34f37b9c1d4e8b048a3
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Apr 9 13:00:44 2011 -0500

    typo fix
    
    X-Gentoo-Bug: 217999
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=217999

commit 16f7e90c6c4a9198261f9ac8c5d07fc37674b39c
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Apr 8 14:08:29 2011 -0500

    clarify documentation for -timeout keyword

commit c7c278dfd4765e0ad7935a9bbd0a130a2c9f1320
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Apr 8 14:01:13 2011 -0500

    do not timeout waiting for bootmisc to complete
    
    It is possible for bootmisc to take longer than 60 seconds to complete
    and services should not time out waiting for it.
    
    X-Gentoo-Bug: 360405
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=360405

commit 73c862b7920c7d514209d77c584829da28bdd79d
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Apr 7 07:48:56 2011 -0500

    fix typo in ethtool.sh
    
    This was causing the ethtool interface to not work.
    
    X-Gentoo-Bug: 360481
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=360481

commit 46e67badd2d5edd4a6907f896aafecdafcc11211
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Apr 7 07:19:53 2011 -0500

    fix typo in staticroute
    
    X-Gentoo-Bug: 362205
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=362205

commit 67640d2d97623cb3ddc6753a719eadd790c4fec9
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Apr 1 17:32:12 2011 -0500

    remove hard coded directory paths from link flags
    
    Currently, we do not see a reason for these, and it causes an issue for
    cross compilation.
    
    X-Gentoo-Bug: 361465
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=361465

commit 8a45d5e24e1c5ee40486d0baaf946edd92913ae4
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Tue Mar 29 07:54:48 2011 +0000

    Bug #360963: Improve interface naming/set_name_type documentation on new vlan code.
    
    This is primarily for users with set_name_type settings from previous
    sysadmins can easily see what changes to make.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 6e1239795fcc18710398380bd32ec78aa16cd8a0
Author: Marc Joliet <marcec@gmx.de>
Date:   Sun Mar 27 15:45:45 2011 -0500

    remove bashism from ethtool module
    
    X-Gentoo-Bug: 360367
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=360367

commit 7c1a2defb6fdec4190a2256bd023857e30ecb7a7
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Wed Mar 23 14:42:42 2011 -0400

    bootmisc: clean up tmpdir cleaning
    
    Make sure that the `cd` into the $dir actually happened.  This we don't
    have to worry about relative paths deleting stuff it shouldn't.  This
    step shouldn't fail, but who knows, and better to be sane than to wipe
    out someone's valuables.
    
    When wiping, automatically fall back to a dedicated `find` if the initial
    `rm` failed on us.  This should help with the speed issues related to the
    later `find`.
    
    Have the later find only search the top level allowing `rm` to walk the
    directory contents.  This means that -xdev no longer applies, but since
    the earlier `rm` wasn't doing -xdev either and no one has complained thus
    far, let's assume it isn't an issue.  Also convert to the -exec...+ form
    so that we don't have to worry about long argument lists, and add -- to
    the `rm` that was previously missing.  In practice, this shouldn't matter
    as we've already deleted all those files, but better safe than sorry.
    
    When cleaning, since we've already done a `cd` into the $dir, no point in
    prefixing all the paths with $dir too.  Go with the relative loving.
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    X-Gentoo-Bug: 359831
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=359831

commit 1d63e85794ad850752eec95fa077e5895295f3b7
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Mar 24 18:27:35 2011 -0500

    rework test for mounted /proc
    
    The previous test assumed that we could always rely on the minor fault
    counter to change between reads of /proc/self/stat, but we found that
    this is not the case.
    
    The new test compares two reads of /proc/self/environ for which we have
    set the same environment variable to two different values.
    If the comparison shows the two reads have the same contents, we know
    that /proc is not working.
    
    I would like to thank Robin Johnson and Mike Frysinger for their input
    for this patch.
    
    X-Gentoo-Bug: 348416
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=348416

commit 25049d3e80aeb17d4d62a653cfa8223fae56ddd0
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Mar 23 22:41:03 2011 -0500

    termencoding needs root  to be mounted read/write
    
    X-Gentoo-Bug: 360215
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/360215

commit b875abd1a58ef4a10928921007321d5b04fc1f04
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Mar 22 00:46:24 2011 -0500

    release openrc-0.8.0

commit c020454c846c3831e2299cf30c4d87286d4655da
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Mar 22 00:34:50 2011 -0500

    update documentation for windowkeys variable
    
    The documentation makes a recommendation for the setting but does not
    state the purpose of the variable.
    
    X-Gentoo-Bug: 357869
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=357869

commit 60d8d4f5bbdfc3e91ed4adce0ee1315e1bdf47b6
Author: Ed Wildgoose <gentoo@wildgooses.com>
Date:   Mon Mar 21 23:49:40 2011 -0500

    do not delete addresses when stopping a ppp interface.
    
    This is important in situations where ppp is being used in a demand
    dialing setup.
    
    X-Gentoo-Bug: 359069
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=359069

commit c9912942f0f4c2c150d81ed212a700b3508f0ab0
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Mar 11 16:11:10 2011 -0600

    update documentation for rc_sys
    
    Originally the plan was to deprecate this code, but this will not be
    happening. There are some subsystems which can still be autodetected, so
    we are keeping this code and allowing users to override the automatic
    detection with this variable as well as set it to other subtypes we
    cannot autodetect.
    
    X-Gentoo-Bug: 357247
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=357247

commit 9f5eb03e5ef30f4357d05e004f38ea6ca0d21346
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Mar 18 14:24:18 2011 -0400

    net: bonding: avoid using bash string replace
    
    X-Gentoo-Bug: 359311
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/359311
    Reported-by: Raffaello D. Di Napoli <fastijum@gmail.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit d7e48fe643bc82ae6280193dc42f5fef7265abac
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Thu Mar 10 20:24:28 2011 -0500

    rc_sys: let default behavior be automagic
    
    The default rc_sys behavior was changed to always require manual
    intervention by users.  This pretty much breaks all of the diff
    system variants out there if people don't explicitly edit their
    rc.conf file ahead of time.  We should have things work "out of
    the box" as much as possible and reasonable.
    
    X-Gentoo-Bug: 357247
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/357247
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 87302487d20bda52735031bf8f53fa57c2e33a03
Author: William Hubbs <williamh@gentoo.org>
Date:   Sun Mar 6 11:50:06 2011 -0600

    savecache should not fail if we are shutting down
    
    Since mount-ro needs to run unconditionally, we need to have savecache
    report that it ran successfully when the system is shutting down.
    
    X-Gentoo-Bug: 356393
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=356393

commit 0f3d6a01c7136edf1a7cecb764473ddc7f2cfe61
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Mar 5 00:11:24 2011 -0600

    remove references to the migration guide
    
    The openrc code base is not gentoo specific, so I feel that we should
    not refer to the migration guide in the comments inside the configuration
    files.

commit 3fca6bd0278bc2a21fdd72c3bf20220e81b2eab5
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Mar 4 19:08:08 2011 -0600

    allow default rc_sys value to be set at build time
    
    This allows the default value of rc_sys to be set when openrc is
    compiled. This will allow openrc to be installed, e.g. on vserver guests
    and will allow them to be rebooted without the need to edit rc.conf.
    
    This patch is a combined effort between myself and Robin Johnson.
    
    X-Gentoo-Bug: 357247
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=357247

commit 202fa20cbca2895f29f533e7b908544bcc0248f3
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Mar 3 15:06:39 2011 -0600

    fix typo

commit dfd42d139357b23fb7629bea3bc39918a660cd4c
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Tue Feb 22 02:54:26 2011 +0000

    net/ethtool: official interface for changing ethtool params (bug #195479)
    
    Implement a consistent interface for changing ethtool parameters, as
    suggested in bug 195479. All variable names are based on the long option
    to ethtool to set each group of parameters. Multiple entries seperated
    by newlines are permitted for variable values.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>
    X-Gentoo-Bug: 195479

commit 22918ccf514a3c10459842f917bf742d7620f031
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Tue Feb 22 01:27:10 2011 +0000

    Update README.net to note that it represents newnet only.

commit 20480048cae39d6c3c8bb4fdb7bfc5cc842c61ca
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Feb 21 09:53:51 2011 +0000

    net/iproute2: Pass required explicit -6 for IPv6 tunnels (#347657)
    
    Tunnel modes ipip6 and ip6ip6 require an explicit family selection for
    the ip tunnel call.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>
    X-Gentoo-Bug: 347657

commit 683a21b0a0e52ad756366a9527f509761214e971
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Feb 21 09:41:48 2011 +0000

    net/vlan: update to use modern iproute2 interface
    
    This replaces the vlan setup code that previously used the old vconfig
    binary with a new implementation using the iproute2 interface.
    
    vconfig does not handle many of the newer setups. No automatic migration
    path is provided, as altering the configuration is non-trivial.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>
    Written-by: Guillaume Castagnino <casta@xwing.info>
    X-Gentoo-Bug: 346365

commit b512d0db98b73bfe2bbeac84c19db039dc256c4f
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Feb 15 08:50:44 2011 -0600

    new implementation of applet option
    
    This reworks the implementation of the --applet option so that it is
    processed in run_applets() and does not require two calls to the
    getopts_long() function. It is based on code by Robin Johnson and Chris
    Richards.
    
    X-Gentoo-Bug: 351712
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=351712

commit 73d1a8698e101b1dcf589b27b35ac9b09ea6d02c
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Feb 12 19:15:29 2011 -0600

    make version option common
    
    This reworks the code for the version option so that it is part of the
    parser loop and is a common option to all applets.

commit bae0a693a9271b3ed0f723fdafc22efe5f07b70e
Author: Sebastian Thorarensen <indigo176@blinkenshell.org>
Date:   Mon Feb 14 18:51:15 2011 -0500

    Set unicode mode immediately at boot without consolefont
    
    X-Gentoo-Bug: 354793
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/354793
    Signed-off-by: Anthony G. Basile <blueness@gentoo.org>

commit 35d38c3561fa5e16c6d2e00e033e48dc200ae42c
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sun Feb 6 17:24:52 2011 -0500

    local: quote script names to handle spaces
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit c0aa27ef328190646116e23fe82b64a606ae39fa
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sun Feb 6 14:04:33 2011 -0500

    tests: filter valid parisc relocs
    
    Parisc generates a few relocs against internal symbols which are OK.
    
    X-Gentoo-Bug: 258913
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/258913
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 11fcb0217e952fc9597ddfdb3d6ea110c3b37fcc
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sun Feb 6 13:23:53 2011 -0500

    hwclock: fix typo from an earlier style commit
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit c8b5078660f2b94b3c64f0a71ea6cde7df76678e
Author: Anthony G. Basile <basile@opensource.dyc.edu>
Date:   Mon Feb 14 04:41:08 2011 -0500

    Fix bug #354805

commit 7bc920ab563411fa3c9f8223eb4679581d9678f4
Author: Christian Wetzig <gentoo@wetzig.de>
Date:   Sat Feb 12 13:34:46 2011 -0600

    fix typo in iproute2 module
    
    X-Gentoo-Bug: 354511
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=354511

commit ebd79394a31d40c72d7f96a1cb832d1130777537
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Feb 7 10:29:38 2011 -0600

    set timezone if RC_HCTOSYS is not set
    
    We need to set the timezone for the system clock even when we allow the
    kernel to set the time.
    
    X-Gentoo-Bug: 248131
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=248131

commit 04379b2de9cf447e793294c4fe3f0d9b70194ffe
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Mon Feb 7 02:25:00 2011 -0600

    fix symlink target
    
    The target for the symlinks in ${SBINDIR} (the same directory as the rc
    binary) was "rc". This is not correct; the target should be
    ${SBINDIR}/rc instead.

commit 43678fd2c44ec35acdcf0316c8ff3b07ee1e5f57
Author: Christian <christian@ch-sc.de>
Date:   Sat Feb 5 07:24:11 2011 -0600

    bridge.sh: use correct POSIX test, = not ==
    
    X-Gentoo-Bug: 353124
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=353124

commit db6d680765b4b9a4d404f6b2e6d5644b2fe3418d
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Wed Feb 2 18:18:55 2011 -0600

    rework pam, ncurses and termcap include files
    
    This allows error checking inside the included files instead of either
    including the appropriate file or a blank file.
    
    Also the blank file named .mk gets removed by this change.

commit a2e9cde737ede93502a80fe50e62b0aea50643dc
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Feb 2 16:42:17 2011 -0600

    remove BSD make code to handle including .depend

commit aaaea44d224016bccfd008d0b904961f788d8189
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Feb 2 14:57:10 2011 -0600

    use make conditional for -cstd flag
    
    cc.mk was using ashell call to determine the value of the cstd variable.
    This reworks that code so it uses a make conditional.

commit 19037cbd83ee46f2c3510925c83cc89d27d16ac6
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Feb 2 12:10:58 2011 -0600

    remove unnecessary shell calls
    
    The main makefile, init.d/Makefile and src/librc/Makefile all contain
    several shell calls which can be handled as make conditionals. This
    switches them to conditionals.

commit 21c5a022af22f9baddc14953ca5ac39715a9a649
Author: Chris Richards <gizmo@giz-works.com>
Date:   Sun Jan 30 16:20:07 2011 -0600

    selinux: replace symlinks with wrapper scripts
    
    This needs to be done on selinux systems so the proper context can be
    set for each rc applet.
    
    X-Gentoo-Bug: 351712
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=351712

commit cca7e9f7e1143f3405bc90ff8e2176d82ab491ef
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Jan 29 17:32:38 2011 -0600

    use immediate evaluation for shell calls
    
    This reworks the shell calls in the makefiles to use immediate
    evaluation and should improve parallel building.
    
    X-Gentoo-Bug: 289264
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=289264

commit c2529c1ed61816799dd56bb46699b2b8cf5acb39
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Jan 31 11:19:16 2011 -0600

    only support building with GNU Make
    
    Update the documentation to state that openrc only works with gnu make.
    This needs to be done in order to address the parallel build issue.
    
    X-Gentoo-Bug: 289264
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=289264

commit fa1fefb2bc1be8fe81fedf1bb69d8a6b79b3518c
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Jan 24 21:37:51 2011 -0600

    add option to disable setting the system clock on boot for linux systems
    
    This commit adds the clock_hctosys option which is used to skip setting
    the system clock on boot and can be used with a modern linux kernel
    which has the CONFIG_RTC_HCTOSYS option set to y.
    I would like to thank Dimitris Mandalidis for the report and for the
    patch to baselayout-1 on which my changes to openrc are based.
    
    X-Gentoo-Bug: 248131
    X-Gentoo-Bug-URL: http://bugs.gentoo.org/show_bug.cgi?id=248131

commit 10ce67886d214850feaf60d6945fe2568da6ef84
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Jan 6 12:13:33 2011 -0600

    change local to run programs
    
    This changes the local service so that it will run programs located in
    @sysconfdir@/local.d instead of the local_start and local_stop functions
    from @sysconfdir@/conf.d/local.
    
    The advantage for the user is that these programs are not part
    of the openrc package, so the user does not have to worry about them
    being overwritten when openrc is upgraded.
    
    X-Gentoo-Bug: 351465
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=351465

commit eebb2d1b9cf0da22ed654ca7ac97a0ae845802ba
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Tue Jan 18 01:49:22 2011 +0000

    test: You need to run "make" before "make check" will work.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit e39178de28dc62b79e7b02fd4bf527d20e8b9179
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Tue Jan 18 01:48:53 2011 +0000

    docs: make check does not catch textfile trailing whitespace.

commit 9c5aa8a3f7f8a1bdb0f8a4682dccf2e5ef9cf1f5
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Tue Jan 18 01:41:29 2011 +0000

    Document all deprecated code for future removal.

commit 80853f5dbc3a42419ac359ee035ebc76de86d3b3
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Tue Jan 18 01:26:34 2011 +0000

    sh/init: Detect a mounted /proc without sleeping
    
    Previously we checked if /proc was alive by reading /proc/uptime twice
    with a 1 second sleep between calls, so that it had time to update.
    This got a complaint of an entire 1 second delay, so we improve the
    check to be much faster without sleep. We cannot continue to use
    /proc/uptime as it only has a 10ms resolution.
    
    X-Gentoo-Bug: 348416
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=348416
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 9ce957c3e722e3851a191b901bb377c13a1bbec1
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Jan 17 20:05:13 2011 -0500

    librc: delete trailing newlines
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit c825a74dd1181b12ac1531e2bd6b125de268a296
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Jan 17 20:04:53 2011 -0500

    tests: check for trailing blank newlines
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 69abe1b2e8db4947e4530b81a6b24aefe099b9f5
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jan 17 22:31:11 2011 +0000

    Add removal schedule document for code trimming/deprecation.

commit 164b8e4e04ae9169b8280d96d5dcc9015758e00e
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jan 17 22:30:40 2011 +0000

    Document that rc_sys_v{1,2} should not be used outside of OpenRC.

commit de8b4855d30c4102f5cf52b7802383d845e4c380
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jan 17 19:36:51 2011 +0000

    Bug #351570: Fix hidden functions visibility for rc_deptree_load_file.

commit f3f55f1f6db125f9dd9901439c1ccfbb6526a53c
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jan 17 19:34:09 2011 +0000

    Build cleanup: librc.funcs.hidden.list is generated by testsuite.

commit 2b7c2b8cf1248c5cea7c56ad1a3141973a34fe0a
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jan 17 19:22:53 2011 +0000

    Bug #351570: Hidden function fixes: rc_conf_value.
    
    Refactor rc_conf_value into librc for use in library context.
    Also requires moving:
    - rc_conf internal static
    - Defines: PROFILE_ENV, SYS_WHITELIST, USR_WHITELIST, RC_PATH_PREFIX
      moved to rc.h with new RC_ prefix added.
    - Defines: RC_CONF, RC_CONF_OLD moved to rc.h.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 6e876bca1313d0cc2ef576da15124a9082f404db
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Jan 17 04:49:35 2011 -0500

    tests: check for common style issues
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit faa2df11597cf496205d3d629e3b3147b569afc8
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Jan 17 04:49:07 2011 -0500

    more whitespace cleanup
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 711713d6642eff155bfede8a2dd213824016b76c
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Jan 17 04:48:13 2011 -0500

    start-stop-daemon: use termios.h rather than sys/termios.h
    
    POSIX specifies termios.h, not sys/termios.h.
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 8b5e391afbc5befa47cf62a925defd5a9b5b31e8
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Jan 17 04:23:09 2011 -0500

    start a STYLE file
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 1e73fd4b1ec3e09a880a7e00527952c647c19fc6
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Jan 17 04:07:24 2011 -0500

    tests: setup env before reading local files
    
    The local files we source might use local binaries (like eval_ecolors),
    so setup the env first.
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit f796269a1d1bab63a6a9a6d60a27b03591e2fdef
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Jan 17 04:03:25 2011 -0500

    dist.mk: add a standard "distcheck" target
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit b2d0656814c2afe9a05b3e130f0289b225a371ec
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jan 17 08:46:41 2011 +0000

    Style fix: "char *foo" not "char* foo".

commit c0a3e25d482d52102c04765767ed82d81407e7e8
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jan 17 08:43:40 2011 +0000

    Style fix: /* */ comments not // comments.

commit 0c93f4df3237a1ef5be0580386d4a4c68e3d8a51
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jan 17 08:42:28 2011 +0000

    Style fix: "while (" not "while(".

commit b1fcf4ce9ce1a70c302ad97f9905b966674e7590
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jan 17 08:41:02 2011 +0000

    Style fix: "if (" not "if(".

commit 6804edfc85c96fbda043ef9dd5d90122165bd32a
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jan 17 08:39:44 2011 +0000

    Better error checking of argc for --applet call.

commit bfb87f2d5138f6494d7ff5f92fca34ed6040ac84
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jan 17 08:34:03 2011 +0000

    Use xstrdup for style.

commit e6fc30da61f72aa4266dea8f131c0ca7c4a79f4d
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jan 17 08:28:43 2011 +0000

    Clean up all trailing whitespace in src/.

commit 49339525a98b5f472c902144706a663f8a9903d1
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jan 17 07:37:38 2011 +0000

    Bug #351712: Implement --applet selection mode for SELinux wrappers.
    
    In addition to detecting what multicall applet we want via argv[0],
    provide an explicit override mode with a --applet initial argument.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 1f578cdbad61ebb7e8a6d389022a8d1915f62259
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jan 17 06:59:37 2011 +0000

    Add TODO item.

commit b00ad439a6ea075c625492070688ce7ff8a60060
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jan 17 06:48:26 2011 +0000

    Add new option -F to rc-depend tool, so that we can debug user deptree files easily.

commit 0e90ae266af658c2a8e405c1ce81819e8437ade9
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Jan 17 06:32:46 2011 +0000

    Factor out new function rc_deptree_load_file to aid in debugging deptree files from users. Loads from a given filename instead of the hardcoded RC_DEPTREE_CACHE define.

commit b113ad49e9bf99e78bac9b6529c22355c62cea94
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Sun Jan 16 22:48:10 2011 +0000

    Bug #351783: more documentation for rc_sys. But really see the OpenRC migration guide where this is covered.

commit a534b623b95ea8ee1cb788e60810a7efcc8dd5fb
Author: Nathan Phillip Brink <ohnobinki@ohnopublishing.net>
Date:   Thu Jan 13 21:47:54 2011 -0500

    bug #351622: Use CFLAGS during linking.
    
    Fix compilation on portage-multilib.

commit 882a4b7d69d4a7baecba4b8620f36df2ef5445ba
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Jan 13 10:37:23 2011 -0600

    bug 351523: fix deprecation date for rc_sys
    
    The deprecation notice for automatic detection of the system type stated
    that the automatic detection will be removed no later than 2010/03/01,
    but it should state 2011/03/01.

commit ac8b4be7c240684fa2bc7d80e95b8f0c603063be
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Jan 12 20:14:17 2011 -0600

    release openrc-0.7.0

commit 66abbefd6c389642aedd32f89285de32223b3da6
Author: Eray Aslan <eras@gentoo.org>
Date:   Wed Jan 12 19:46:11 2011 -0600

    bug 351160: make openrc exit codes LSB compliant
    
    * status on a stopped service now has a return code of 3 (was 1)
    * starting an already started service now has a return code of 0 (was 1)
    * stopping an already stopped service now has a return code of 0 (was 1)

commit 84eda608c8ef98dc685289d2df595ea8866abf37
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Jan 8 14:25:32 2011 -0600

    bug 328675: add error checking to runscript.sh
    
    runscript.sh needs to abort if the . command used to load
    conf.d files and the service script does not execute successfully.
    I would like to thank Mike Frysinger for his input wrt style on this
    patch.

commit e3905ed7bbc2ddcbf1084aed9d3937a04eda2038
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Jan 8 18:35:08 2011 -0500

    update bug reporting information
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 92b6262ac73c2ded011b0de1e78b4eca90584685
Author: Chris Richards <gizmo@giz-works.com>
Date:   Thu Jan 6 18:20:53 2011 -0600

    Bug 349571 - SELinux fixes for bootmisc
    
    - delete the contents of the $RC_LIBEXECDIR/console directory but not
      the directory itself.
      - direct error output from the chmod call for /tmp to /dev/null.

commit 647df8cfe70a667f011b38a058244528c4a22a40
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Wed Jan 5 22:33:03 2011 -0800

    Make sure old rc_sys code never runs if the rc_sys variable exists.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 6a0812645a5460435beb8f65c7a71660db6e4be9
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Wed Jan 5 22:18:55 2011 -0800

    Update manpage for mention of rc_sys purpose.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 3d4d1ab14bb6500c9811e574b1717bb57c6095f8
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Wed Jan 5 22:06:42 2011 -0800

    Remove broken automatic LXC subsystem detection.
    
    Any system using cgroups was being detected as an LXC system. This was
    triggering on OpenVZ under RHEL6 as well as the "automated per tty task
    groups" as discussed on the LKML.
    
    All LXC users should now switch to the new rc_sys variable introduced in
    the previous patch.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 09f990a7c835d75f67cfe696a35e8c46e67c612f
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Wed Jan 5 22:03:43 2011 -0800

    Implement explicit selection of subsystem types.
    
    - Fixes bugs #347583, #349389, both of which were triggered by cgroups
      being detected as the LXC subsystem type.
    - Makes it much easier to select "prefix" type.
    - "rc -S" will now print a warning if you have not configured rc_sys in
      /etc/rc.conf
    - All other semantics of rc_sys are unchanged in this patch.
    
    Signed-off-by: Robin H. Johnson <robbat2@gentoo.org>

commit 6df531d33d0f3c3cad8edcafdcd62525ca30fc1f
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Thu Dec 23 01:19:52 2010 +0000

    Document the order of the services within rc-status output.

commit b2e9b91852ad4f405842032a6cc1396bffcafac0
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Dec 28 13:54:19 2010 -0600

    bug #349443: remove -openvz keyword from sysctl service
    
    Openvz supports sysctl settings which are different from the host
    settings, so allow the sysctl service to run for openvz systems.

commit f84d997d4ce910554744f63eb50b2617e4dd59ef
Author: Robin H. Johnson <robbat2@orbis-terrarum.net>
Date:   Wed Dec 15 13:02:04 2010 -0800

    Move the ip rule extra output to verbose mode only, and support verbose output on addresses and routes.

commit 346148ceb8c67fb2eb26c9bf5484e6c49a138a49
Author: Robin H. Johnson <robbat2@orbis-terrarum.net>
Date:   Wed Dec 15 12:40:21 2010 -0800

    Fix pointopoint->peer for iproute.

commit 12a91636f43276c984487daef5b39e6d64603165
Author: Robin H. Johnson <robbat2@orbis-terrarum.net>
Date:   Wed Dec 15 12:37:50 2010 -0800

    Fix pointopoint typo in old ifconfig setup.

commit 7f7baa6c3ce6f22e919f4465d05187c8e2245bcb
Author: Robin H. Johnson <robbat2@orbis-terrarum.net>
Date:   Sat Dec 11 18:29:34 2010 -0800

    Bug #266659: we really need to allow peer, pointtopoint in parsing config lines.

commit 400b45d590b883050e171a34daec3fe40b58b76e
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Sun Dec 12 00:43:05 2010 +0000

    Final documentation cleanup for updated bridge code.
    
    Specifically document how to handle the case of explicitly starting a
    bridge and then dynamically adding interfaces to it.
    
    brctl_br0=''
    bridge_add_eth0='br0'

commit e431599d0882d04e8e85e6f72649987e8f2bc4a1
Author: Robin H. Johnson <robbat2@orbis-terrarum.net>
Date:   Sat Dec 11 14:25:46 2010 -0800

    Add "after lvm modules" as Flameeyes reports that LVM is starting too late on his system in some cases.

commit e07f0ef41707863dac2a371e631a2594c276eb45
Author: Robin H. Johnson <robbat2@orbis-terrarum.net>
Date:   Sat Dec 11 13:43:52 2010 -0800

    Merge support for Routing Policy Database (RPDB)
    
    This can be used for multi-homed connections and other advanced routing
    in Linux. See the documentation links for more information about doing
    this in linux.
    
    The code was a originally pure addon into the conf.d/net files, written
    in mid-2004 for doing multi-homing between two internet connections. I
    have finally cleaned this up and integrated it. Thanks to Jonathan Kwan
    for giving me the original impetus to develop this for Gentoo (it was
    his dual internet connections...).
    
    In the intervening years, it was a example of postup/postdown in the
    net.example file, however that suffered from a few corner case issues.
    
    If you were using the code from net.example, please see the updated
    section 'Advanced Routing' on syntax, and drop your old function blocks.
    Additionally, note that the rules added are now directly saved for
    removal when the interface is taken down.

commit dbb5af2023910c43b4780852fada099cb94cae96
Author: Robin H. Johnson <robbat2@orbis-terrarum.net>
Date:   Sat Dec 11 12:26:31 2010 -0800

    Revamp of bridging code.
    
    - Use sysfs to read bridge information from the system instead of
      parsing the brctl outputs.
    - Allow setting of all bridge configuration parameters using new sysfs
      methods, modelled after bonding configuration. Also works for per-port
      bridge interface parameters.
    - Document pre-starting an empty bridge for dynamic add.
    - Check for interface existence before adding to bridge.
    - Should fix bug #293046, #309185.

commit 900d54b0fcb3510dfa8fe63eb496e2a198c5c6b9
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Dec 7 22:32:44 2010 -0600

    release openrc-0.6.8

commit 84750f5722e668423dbd33f20bb7325240f0b535
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Dec 7 11:54:03 2010 -0600

    bug 232347: fix netmount to respect _netdev option
    
    The _netdev option in fstab on linux systems indicates
    that a filesystem should only be mounted if the network is available.
    
    This commit fixes netmount to support this.

commit f8f03bdbbff14db0c79dfe1eb907e14a27ce0e73
Author: Robin H. Johnson <robbat2@gentoo.org>
Date:   Mon Dec 6 02:54:21 2010 +0000

    Bug #345281: If wpa_supplicant is built w/ USE=dbus, we need to start after DBus is up.

commit 80d5f7d27b5da8617d1058e2b5251a0a9076e507
Author: Robin Johnson <robbat2@gentoo.org>
Date:   Fri Dec 3 23:49:34 2010 -0600

    fix selinux context for rc-svcdir (bug #347503)

commit 449080e145548f5db66687ae81709012f0494e72
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Dec 3 14:51:30 2010 -0600

    release openrc-0.6.7

commit 062223a5df25a3b6f4d6c99580851e7daef70e8a
Author: Thomas Pfaff <tpfaff@gmx.net>
Date:   Fri Dec 3 14:01:28 2010 -0600

    Avoid race condition in runscript (bug #319865)
    
    Under normal conditions, runscript creates one child and waits for its
    termination, which is signaled by a pipe write from the SIGCHLD
    sighandler.
    
    When running killprocs however more than one SIGHCLD signal is generated, at
    least on all of my amd64 boxes running on real hardware and in vmware.
    
    When the first SIGCHLD occurs svc_exec leaves the loop and closes the pipe.
    Subsequent SIGCHLDs during the close can lead to a race condition and create an
    EBADF error in the pipe write (pipe is closed but the file handle is still !=
    -1).
    
    We avoid this by blocking SIGHCHLD during the pipe close.

commit 18064e19f6286595b81ef456dd23f453ff50dd5e
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Nov 30 16:04:17 2010 -0600

    release openrc-0.6.6

commit cdf07b597098704251515ae63f687ac561a61c21
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Nov 30 15:40:44 2010 -0600

    localmount should only use the -O option for linux systems
    
    This fixes bug #347307.

commit 82b265016aadb8827b19319561f5c4cbd2807ff5
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Nov 26 14:54:30 2010 -0600

    send error output from chattr command to /dev/null
    
    This is for bug #346659.

commit bdfab242b7fd0bbd82eb0c8b5db197f8ad9a4b7d
Author: William Hubbs <williamh@gentoo.org>
Date:   Sun Nov 21 11:08:53 2010 -0600

    release openrc-0.6.5

commit 4ca32808dd6a9e73c12ec46b28d93b7d9db04fc7
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Nov 18 15:06:42 2010 -0600

    Revert "allow ifplugd to work on wireless interfaces"
    
    This reverts commit 4ea75dd1d6c1e475f103f027fd05861d237add4d.
    This caused a regression, see bug #345795.
    
    Ifplugd is only designed to support wireless interfaces that use the
    older wireless extentions.

commit 9e5b9abf407549e514d914e0f9d86df98d66fdf2
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Nov 16 10:02:28 2010 -0600

    remove "use hostname" from sysctl for bsd systems

commit ac37dc276432348e7e389e271b79bdafb0f18c83
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Nov 15 12:01:48 2010 -0600

    do not mount local file systems with the _netdev option in fstab
    
    This fixes #344947.

commit 9285cb3392e99eb34a1cfd7f427403c8d483916a
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Nov 15 10:17:17 2010 -0600

    release openrc-0.6.4

commit 6d9137d6c4a83f7a4a0c156895b443bfd6c050c4
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Nov 10 10:55:28 2010 -0600

    remove support for local.start and local.stop for bug #343709
    
    The openrc ebuild now migrates these files to /etc/conf.d/local, so we
    do not need to support them.

commit 2fa6bb0d48d44584043fe6a95e94bdbf06b6677d
Author: William Hubbs <williamh@gentoo.org>
Date:   Fri Nov 5 13:42:33 2010 -0500

    add warnings about local.start and local.stop for bug #343709
    
    We need to warn users that they should be using /etc/conf.d/local
    instead of /etc/conf.d/local.start and /etc/conf.d/local.stop. This adds
    those warnings.

commit 39776d6fb72468fd3b2c11fc411894341a2db8aa
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Nov 1 13:57:22 2010 -0500

    update documentation for rc_interactive
    
    rc_interactive is automatically disabled if rc_parallel is set to YES.
    Update the documentation in rc.conf to reflect this.
    This fixes bug #327305.

commit 68c021c424bde935fca8f81f16811995de6ae448
Author: Jory A. Pratt <anarchy@gentoo.org>
Date:   Sun Oct 31 16:40:54 2010 -0500

    ensure bonding interface is down before we attempt to configure, also
    mode has to be configure before any other arguements are passed. Thanks
    Ed Wildgoose <gentoo@wildgooses.com> for patch.

commit 09bed967bf610ee9e52a7eab772fa6f9c7b3e00b
Author: Diego Elio PettenÃ² <flameeyes@gmail.com>
Date:   Sun Oct 31 19:39:41 2010 +0100

    Allow cleaning up of pam_mktemp-based temporary directories.
    
    This was blacklisted before, so the .private directories never had their
    content cleaned up, even if WIPE_TMP was set to yes.

commit 060b19e3e3afdd9af511d295ea944eb55dfec70b
Author: Jory A. Pratt <anarchy@gentoo.org>
Date:   Thu Oct 28 20:34:34 2010 -0500

    correction for unmounting volumes with weird characters, thanks Brant
    Gurganus <brant@gurganus.name>

commit d8a76d1bf660aa376547f80f406240c67e938487
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Oct 27 09:00:02 2010 -0500

    allow net_fs_list to be extended but not replaced
    
    This fixes bug #342825.

commit 7653ef89b88615874607848ad335e9a28db294fb
Author: Jory A. Pratt <anarchy@gentoo.org>
Date:   Sat Oct 23 23:52:43 2010 -0500

    remove 'use hostname' bug 340991, Thanks Diego

commit be6c0716eec2e66d59ed9b5bce6219184f85351c
Author: Jory A. Pratt <anarchy@gentoo.org>
Date:   Thu Sep 30 07:33:52 2010 -0500

    surpress output of loadkeys, fix setfont path check

commit 4ea75dd1d6c1e475f103f027fd05861d237add4d
Author: William Hubbs <williamh@gentoo.org>
Date:   Tue Sep 14 19:37:52 2010 -0500

    allow ifplugd to work on wireless interfaces
    
    this fixes bug #335494.

commit b70885278431cf3cb82824e7de6152ae60044bf3
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Sep 2 10:15:17 2010 -0500

    release openrc-0.6.3

commit f700243016dd789616acb681a05d90fe033c6061
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Sep 2 09:42:11 2010 -0500

    Revert "fix bug 266395"
    
    This reverts commit 1a188f8f725186b2c2d6d7c67e79c2ff5ea9d05e.
    
    This revert fixes bug #334663.

commit b232e529f191369207ddf03570a4267950cc1ce7
Author: Jory A. Pratt <anarchy@gentoo.org>
Date:   Sun Aug 22 15:05:11 2010 -0500

    Fix for make-3.82 breakage.

commit ae3186834f6fd24460995f7ca9af200e35146b24
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Aug 19 17:00:38 2010 -0500

    release openrc-0.6.2

commit 23546e27d92b1ebee5b7b75e299dc24e941bd56d
Author: William Hubbs <williamh@gentoo.org>
Date:   Thu Aug 19 16:17:38 2010 -0500

    fix detection of renamed vlan interfaces
    
    This fixes bug 327059, thanks to Jonathan for reporting this and for the patch.

commit 1a188f8f725186b2c2d6d7c67e79c2ff5ea9d05e
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Aug 18 12:22:15 2010 -0500

    fix bug 266395
    
    Do not stop wpa_supplicant or wpa_cli if they are in the background.
    Thanks to Slava Gorbunov for the patch.

commit 89829f6d7c13fa43fc81dc1f2174bce40fc50389
Author: Anthony G. Basile <basile@opensource.dyc.edu>
Date:   Fri Aug 13 17:42:23 2010 -0400

    Fixes bug #332383.  Thanks Lutz Heermann.

commit 6e3b3bfc5371d72c1bc436f7bc7c12cb2d1a81b1
Author: Anthony G. Basile <basile@opensource.dyc.edu>
Date:   Fri Aug 13 17:32:31 2010 -0400

    Fix bug #332181.  Thanks Lutz Heermann.

commit 14c95ae9a60f2518aeb3bb47e482af3256dee98e
Author: Jory A. Pratt <anarchy@gentoo.org>
Date:   Tue Aug 10 08:21:08 2010 -0500

    update consolefont/keymap to include -lxc in keywords

commit d3ccbdb5a94e61e84bdc2d82d450ee8a5e4a22f4
Author: William Hubbs <williamh@gentoo.org>
Date:   Mon Aug 9 20:01:15 2010 -0500

    allow ip to be in /sbin or /bin
    
    This makes it possible for the "ip" program in iproute2 to be installed
    in /sbin or /bin.

commit 1cdf85e1cebffd067d21bb66512dc82016a2da69
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Jul 28 13:18:33 2010 -0500

    fix bug #330173
    
    This fixes a typo in the comments in net.example.

commit 2982cfab704e88cb5b081bae4fe43631bca609ca
Author: Jory A. Pratt <anarchy@gentoo.org>
Date:   Mon Jul 12 22:45:40 2010 -0500

    Fix bug #301237, update example to list proper package for mii-tool

commit 761fe99fe2161224f93a75d7079f78111c3c7d6e
Author: Jory A. Pratt <anarchy@gentoo.org>
Date:   Mon Jul 12 22:19:56 2010 -0500

    on_ac_power needs to exit not return bug #322037

commit 6f24d1cbd8771f0f0522a237b348f64c1d33cba4
Author: William Hubbs <williamh@gentoo.org>
Date:   Sat Jul 10 15:31:16 2010 -0500

    fix typo
    
    I made a typo while manually transferring over Roy's last commit.  This
    fixes that typo.

commit 898552dcc376d40c9033c65e8c3a7b2ec3b8b92d
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Jul 7 19:55:37 2010 -0500

    fix metric
    
    This change was also taken from Roy Marples' git.

commit 6850566be0bfb948f1e4d5f222fa8d0fc88a8ce9
Author: William Hubbs <williamh@gentoo.org>
Date:   Wed Jul 7 19:42:56 2010 -0500

    remove extra route
    
    This was taken from Roy Marples' git repository.

commit 3036b447987cd9bead284dba2bd8ded5ea5dd340
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Dec 21 09:02:35 2009 -0500

    restore init.d pause option

commit acc0edb040056e25635ba22cd5d2f4dd89988b3c
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Mar 24 01:48:19 2008 -0400

    restore old e* func output
    
    Gentoo has always used the sytle:
     * moo ...                [ ok ]
    Latest openrc now does:
    * moo...                    [ok]
    
    Realistically, 4 spaces out of 80 on reduced terminals doesn't make any
    sort of realistic difference and it's been just fine for the last 10
    years, so keep the default behavior.

commit 316a316d9b8e8fb8ea7f05b5b70367dde15cb5d5
Author: Seth Robertson <in-gentoo@baka.org>
Date:   Tue Mar 30 09:21:54 2010 +0100

    Allow dhclient per $IFACE arguments.

commit 20b4076b12c47a79a5a8c8dc39f43116d376bc88
Author: Michal Gorny <gentoo@mgorny.alt.pl>
Date:   Sat Mar 27 08:53:04 2010 +0000

    Support sysfs.
    Fixes #214

commit 4d86d346354543f27058923587dd25f8c460363c
Author: Roy Marples <roy@marples.name>
Date:   Fri Mar 26 22:10:03 2010 +0000

    Fix -s and -S.

commit ae7a92ae7b54fd832a211546edeb290f854fdad2
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 24 20:41:18 2010 +0000

    Try and describe bonding errors a bit more.

commit 67b538fd262c72198e1b293f6bea314051034656
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 24 20:25:42 2010 +0000

    Fix tentative ip addresses

commit 0276c4f5164f053346dd585639161995ac0e6e75
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 22 20:02:12 2010 +0000

    Release openrc-0.6.1

commit 7271449a0cab6aab8df23736e862e838d03df86e
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 17 20:37:47 2010 +0000

    Fix two leaks.

commit 4b333eaf366b6168fbe3e0e2cbf05022499c79aa
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 16 21:34:48 2010 +0000

    Send SIGKILL after 2 failed SIGTERM when unmounting.

commit 59b08643f1eb833ff54b62af782d5e72d83d61b4
Author: Juan RP <xtraeme@gmail.com>
Date:   Fri Feb 26 09:34:43 2010 +0000

    Mount xenfs early so OpenRC can detect it.

commit 5c52e5beb588d87b1e267d0485b56a2609b5481f
Author: Roy Marples <roy@marples.name>
Date:   Sat Feb 20 21:48:06 2010 +0000

    Fix rc_${rc_svcname}_need.
    Display config depends in service depend function also.

commit c0f5f2122c28aa16a45fada0f95743d795be5d53
Author: Trevor Summers Smith <trevorsummerssmith@gmail.com>
Date:   Tue Feb 9 17:10:04 2010 +0000

    Allow bridge interfaces to be called bridge.

commit ecf9ef49a724f6b95039bd760893f51a920f017b
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Jan 8 03:39:25 2010 -0500

    random spelling fixes
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit bb45f0eabc8e768296cdf678ff8552a28342080a
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 8 00:22:04 2010 +0000

    Fix BSD compile.

commit f434c902a521deb3e6d057c3ffa4c11f9875a81b
Author: Daniel Mierswa <impulze@impulze.org>
Date:   Wed Dec 30 21:02:08 2009 +0100

    Use IFACE variable instead of iface.
    
    Signed-off-by: Daniel Mierswa <impulze@impulze.org>

commit 5ec2efaff29a02d624d84439dd47d30a3babf5c1
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 21 15:30:17 2009 +0000

    Release openrc-0.6.0

commit 9ca65be42eda6b940100f8559db04848411818aa
Author: Christopher Head <chead@telus.net>
Date:   Mon Dec 21 09:45:03 2009 +0000

    Fix comments.

commit a704b97fd2aef87d6607cfc972594b83174a04a4
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 21 09:18:00 2009 +0000

    Remove non working bash sequence expansion examples.

commit 2c0a71172d06a9d1e737c775fc40c3989e959902
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Dec 19 08:03:35 2009 +0000

    default route commands on Linux now require gw or via (iproute2).

commit cbafcd078df7a9f48abba949f312625e0d68fb43
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sat Dec 19 07:56:39 2009 +0000

    add example for defaultiproute6

commit a165fbe384ed4851ea42d7fa2d2d74daa0c02f1c
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 14 19:31:18 2009 +0000

    Support inet6 routes.

commit 02c12c1caced4c2393e2ca15efdaca56d5f0d452
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 14 19:01:03 2009 +0000

    Allow "dev eth0" to work for a default route.

commit 084f5e12eb6d42560c28076c349afd780eab125b
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 14 14:21:30 2009 +0000

    Fix restart with iproute2

commit 3b9eaea8ec0d069c20850e597e66bb68cddb877f
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 14 10:14:39 2009 +0000

    Don't add broadcast addresss to ipv6

commit dc3ccd8101f81803c7a46d4e239911f7d97bed1b
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 14 08:47:48 2009 +0000

    start-stop-daemon can now set process IO scheduling.

commit 9476a2e7218a218d231076b04a8a647f357e5c98
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 11 09:26:43 2009 +0000

    Typo

commit 1d174cc60ca640146efd73948ff0e81ae0148f3d
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 10 22:30:56 2009 +0000

    Move on_ac_power to a shell script.
    Fixes #204

commit 12af86395ff3726789f72e96aa1367e2e428b972
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Thu Dec 10 22:08:51 2009 +0000

    Allow ip to add the default route.
    Fixes #211.

commit 5b3e5edda2d3cf114e298d8eb6eeb40f3b94b623
Author: Olivier Huber <oli.huber@gmail.com>
Date:   Thu Dec 10 22:00:14 2009 +0000

    Typo

commit 775d56b877876dacca8939706445ce5ab3920f7d
Author: Roy Marples <roy@marples.name>
Date:   Sat Dec 5 21:23:39 2009 +0000

    Document multiple routes, fixes #210.

commit 22e2a4f0a156c566f0c460c2229a19dbff4e0553
Author: Roy Marples <roy@marples.name>
Date:   Sat Dec 5 20:05:43 2009 +0000

    Add support for iproute2 in staticroute.
    Fixes #208.

commit ca752a5a2dcd097410e8d5e8df05545751b2c989
Author: Alon Bar-Lev <alon.barlev@gmail.com>
Date:   Sat Dec 5 19:25:39 2009 +0000

    Support phy80211, fixes #209.

commit 93cecab1ed20f23d556599ae61b8b9c1720c698f
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 4 01:38:33 2009 +0000

    Comment out static routes

commit baf3b2dd45c03b405128bbbd59a5dc4ca522ad31
Author: Roy Marples <roy@marples.name>
Date:   Wed Dec 2 19:12:26 2009 +0000

    Correct homepage.

commit e9e37ad798bf44d1e482b02f7c97c73b8b1ce27f
Author: Roy Marples <roy@marples.name>
Date:   Wed Dec 2 19:08:02 2009 +0000

    Release openrc-0.5.3

commit 4df8770a90049267475dac78b4217d1970c200e6
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 25 02:07:22 2009 +0000

    Only add metric to dhcpcd if not given.
    Fixes Gentoo #294312

commit ec38bbbddab5e3fc23f2b53161f42ce8551bce80
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 20 00:03:49 2009 +0000

    If mounting tmpfs fails, try ramfs.
    This is because buggy kernels always report tmpfs even when not present.

commit 509e34d425d28998ca8f6f230cadc05bc89d2731
Author: Roy Marples <roy@marples.name>
Date:   Sat Nov 14 08:37:05 2009 +0000

    Only allow one service to be provided by default.
    Fixes Gentoo #293139.

commit 0de1d18d41950dc36a0c38ff5bf0ef0fc5c73801
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 13 22:29:01 2009 +0000

    Fix logic

commit 89a2d76772ae889068316c8a47df4ee13bac09f1
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 13 22:21:04 2009 +0000

    Rework around new kbd-1.15.1, Gentoo #289265.

commit 80d4ce3a11e28394724cff32073302265933c06d
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 13 21:31:09 2009 +0000

    Add a --warn option to just warn when reference file does not exist.
    Fixes Gentoo #291894.

commit d21177e5c786b5684365c4a323c1ec904c2e0a6e
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 11 00:31:32 2009 +0000

    Ensure we have a valid broadcast address.

commit d29daf395299fc97b8e13676bc282800a8bddae8
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 10 22:50:48 2009 +0000

    fsck only checks battery when requested, which is not by default.
    This fixes having JFS as the root partition on battery power.
    For most modern FS's this is a non op, or a very small op by default
    so it should be fine.
    Fixes Gentoo #291654.

commit 1d9ce8e9a1ece0fd108b2b50b45bc4a0da0cf3fc
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 10 22:40:35 2009 +0000

    Allow sysctl to read confs from /etc/sysctl.d
    Fixes #203.

commit bb96dc4e01db2ba47c4be98dfe0f5e208df9ec2e
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Tue Nov 10 21:19:17 2009 +0000

    Fix iproute2 support.
    Fixes Gentoo #289762.

commit ebb49805fca3d53b02c3eaa992e4bed49eca365c
Author: Jan Psota <jasiu@belsznica.pl>
Date:   Tue Nov 10 20:09:03 2009 +0000

    Don't punt /var/log/wtmp if it exists, just create if it does not.
    Fixes Gentoo #289849.

commit 4a892a23ba440a90d8a55f6d19d686917fd3e76e
Author: Nao Nakashima <nao.nakashima@gmail.com>
Date:   Wed Nov 4 19:40:52 2009 +0000

    Fix ppp options ordering.
    Fixes #205.

commit 95ee39ab1c9ce313725098999cf1d05b42f9c126
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 4 19:21:24 2009 +0000

    Add support for Linux Containers, fixes #202.
    Patch by bug reporter.

commit 3c8ea5896a8c7a6f7cc97cff1bd7b3c8a5739a61
Author: Roy Marples <roy@marples.name>
Date:   Sun Oct 25 00:03:20 2009 +0100

    Fix default domain

commit 7c5047acfce4efdc55ea1741df9193e7e3ac6510
Author: Roy Marples <roy@marples.name>
Date:   Sat Oct 17 00:32:40 2009 +0100

    Release OpenRC-0.5.2

commit f2f7d0ae6d4181e2be59824672e1b73f3e1f8d4a
Author: Roy Marples <roy@marples.name>
Date:   Sat Oct 17 00:17:31 2009 +0100

    Add README.net to describe the networking goals for OpenRC.

commit d27655c908b908e959687cbe31342c675ab6c043
Author: Roy Marples <roy@marples.name>
Date:   Fri Oct 16 12:04:20 2009 +0100

    Add domainname to the network script

commit 9f4a7afd83a313a8c69dd49fd44105cba7628e9a
Author: Roy Marples <roy@marples.name>
Date:   Fri Oct 16 09:25:08 2009 +0100

    Add staticroute to the boot runlevel

commit ac6808a73ef51e78080c7eae509831b00a4d8f7b
Author: Roy Marples <roy@marples.name>
Date:   Fri Oct 16 08:13:34 2009 +0100

    Regenerate version.h if necessary

commit baeb59cd2e7bc68e95c8fb3f94ecb0c7d6e54589
Author: Roy Marples <roy@marples.name>
Date:   Fri Oct 16 08:08:22 2009 +0100

    Add a new staticroute init script so that .... static routes can be configured!
    Fixes Gentoo #288421.

commit a4b03ead790c5b02e99c2cd5005a508bf8540150
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 15 23:48:40 2009 +0100

    Add lustre

commit c96a0157424f8f7829a1c1b2f4f365f436159636
Author: William Hubbs <w.d.hubbs@gmail.com>
Date:   Sun Oct 11 13:22:46 2009 -0500

    fix wait time for gentoo bug 288495
    
    The wait time was in seconds.  This patch converts it to milliseconds.

commit fdca530d4fe159e086ca0ac1d6e4f188ddcc3fad
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 15 20:20:36 2009 +0100

    Address iproute2 mtu.

commit da08e3822fda548e39473b6ad4e5c18c55ca7bc0
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 15 20:17:51 2009 +0100

    Ensure ip brings interface up when adding addresses.
    Fixes Gentoo #288889

commit ac7af858131cd496c14f591fff9cd52b82a8ed76
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 13 21:06:35 2009 +0100

    Provide clock

commit a8f6a9b6540ca301af625b4767df53860511a6dc
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 13 08:03:45 2009 +0100

    Add new utility and init script swclock that sets the system time based on
    the mtime of a file. It saves the shutdown time to this file also.
    This is handy for systems without a working RTC chip.
    Based on an idea by Michael A. Smith <michael@smith-li.com>.
    Fixes Gentoo #272073.

commit aaa0498bf86baa065656b6a5c37cff82c032eb6d
Author: Semen Maryasin <marsoft@ya.ru>
Date:   Mon Oct 12 08:21:50 2009 +0100

    EeePC 901 has /proc/acpi/ac_adapter/AC0, so check all AC entries.

commit 0ffe5caf18c44f32232b688d4826e3837bda18f3
Author: Roy Marples <roy@marples.name>
Date:   Sun Oct 11 08:18:35 2009 +0100

    Add more net fs's, Gentoo #284327.

commit 5e8e38b9cf58f45f22704b84287cf0fe7a3e7ad5
Author: Roy Marples <roy@marples.name>
Date:   Sun Oct 11 08:15:10 2009 +0100

    Improve comments, Gentoo #282243.

commit 454bd460c491fd24ff03f686eb91bee7d37bd80f
Author: Roy Marples <roy@marples.name>
Date:   Sun Oct 11 08:03:30 2009 +0100

    Multihomed rules show not be applied to the interface, Gentoo #273303.

commit a7fabeef95604cd5dd4bbd0f7e9f3e958f624cac
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 8 21:27:30 2009 +0100

    Release OpenRC-0.5.1

commit 07f9be7b1c92fbb64c4a08dffb4db30da8764d66
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 8 00:19:18 2009 +0100

    Add pkg-config support, fixes #187.

commit 42ca23b878cc43a710b1a2bf0899864bc671663b
Author: Roy Marples <roy@marples.name>
Date:   Mon Sep 21 19:05:47 2009 +0100

    Don't quote opts

commit 3dc712e22244b5286782957255de42d00f37cd4d
Author: Roy Marples <roy@marples.name>
Date:   Fri Sep 4 16:00:08 2009 +0100

    Allow init scripts to show their dependencies easier

commit 44585fea46c81791e15d33b7f8ad939ebbc2cb6c
Author: Roy Marples <roy@marples.name>
Date:   Fri Sep 4 15:41:08 2009 +0100

    Add -P to start-stop-daemon to display a . for each second elapsed.
    Fixes #197.

commit 6e485bde39dcb41e6e6b0874cc3a83027cf2b94e
Author: Roy Marples <roy@marples.name>
Date:   Fri Sep 4 13:32:59 2009 +0100

    Really fix --signal 0

commit 2ea1df634e356a580c5cf98df5e4e57da39dacbe
Author: Roy Marples <roy@marples.name>
Date:   Fri Sep 4 13:24:26 2009 +0100

    Fix signed error.

commit 807e5d725086832b899ba03a2203824ecf296d8b
Author: Roy Marples <roy@marples.name>
Date:   Fri Sep 4 13:23:35 2009 +0100

    Timeout for ipv6 addresses being tentative.

commit 70126303021ddc3910b06801e83222bf6a4f9104
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 1 13:57:45 2009 +0100

    Allow any valid numeric signal and not just what we define.

commit 51907c7368164906742027a13e4f292840a7475b
Author: Roy Marples <roy@uberserver.marples.name>
Date:   Wed Aug 19 16:49:35 2009 +0100

    If there is an error setting the font, abort instead of trying to set
    the font for subsequent consoles.

commit 8da7a49d024adf773ea677d65843fdc08a36c340
Author: Roy Marples <roy@marples.name>
Date:   Mon Aug 17 21:45:11 2009 +0100

    Fix example

commit 29949a549609100bbc659054e5381c94386ac561
Author: Roy Marples <roy@marples.name>
Date:   Mon Jul 20 19:47:08 2009 +0100

    If mtab is write only and a symlink then assume it's linked to /proc/mounts
    and don't try and update it. Fixes #185.

commit 7fbb6ad42742ebc5e6ec244eedc85e9ac0a6236d
Author: Roy Marples <roy@marples.name>
Date:   Mon Jul 20 19:42:15 2009 +0100

    Don't provide ourself, fixes #190

commit 08b566466899a4de872912ab6684fb7cd1eb5c95
Author: Roy Marples <roy@marples.name>
Date:   Thu Jul 9 13:32:27 2009 +0100

    Only delete /etc/nologin if we can write to it

commit 7962218dd85dcb4ebbd1f6fa01b565d129a258e2
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 8 22:38:48 2009 +0100

    Apply MTU and txqueuelen after creating the tunnel.

commit 889b317ac6c12ec14ccfb43a7ef9156470cfa8e3
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 1 00:24:08 2009 +0100

    Fix wpa_supplicant to find wireless interfaces on newer kernels.
    Fixes #176.

commit 9907c905524cadc025e78a0400a157d417af0087
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 1 00:13:25 2009 +0100

    Host should configure urandom.
    Fixes #179.

commit b4104957b198b38aba609ed3889e7fa605012d19
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 1 00:07:32 2009 +0100

    We should use -feature instead of nofeature.
    This matches the ifconfig and Gentoo USE flag syntax and is hopefully
    easier to read.
    Fixes #178.

commit 6abeec74301d8406ebbbd653b9fe9a0e234c09bf
Author: Roy Marples <roy@marples.name>
Date:   Sun Jun 21 12:20:53 2009 +0100

    Use rc_getline instead of assuming a fixed kernel cmdline length.
    This is now requires as COMMAND_LINE_SIZE isn't exposed by kernel
    headers anymore.
    Fixes #177.

commit fbb78022f973361a60861cf4b99dda91ccfc1aa5
Author: Roy Marples <roy@marples.name>
Date:   Sat Jun 13 21:12:50 2009 +0100

    Ensure that tmp dirs are +rw as well as +t.

commit 79b24f5b7978c6ccc00189c261901cf2c416bd94
Author: Natanael Copa <natanael.copa@gmail.com>
Date:   Fri Jun 12 23:11:16 2009 +0100

    hwclock now sends help to stderr.

commit fc6cdefedb0aa507bba3820b4853451baeba5bbb
Author: Roy Marples <roy@marples.name>
Date:   Mon Jun 8 22:18:39 2009 +0100

    Linux FHS requires /var/lib/misc
    Stop fuser from being chatty

commit 43f6c2196eaa1600f1816e1081e35fd588806047
Author: Roy Marples <roy@marples.name>
Date:   Fri Jun 5 09:18:47 2009 +0100

    Release openrc-0.5.0

commit c568baf8c8bef3ae7bea80dc6c309862da76871d
Author: Roy Marples <roy@marples.name>
Date:   Fri Jun 5 09:17:18 2009 +0100

    Ignore more foo

commit aaced3face1b7d600c5395d8d099365d4db463a1
Author: Roy Marples <roy@marples.name>
Date:   Fri Jun 5 09:15:55 2009 +0100

    Update copyright

commit c3e9a7ec14b1120ecae7b9e4a2125dda01eec9b7
Author: Roy Marples <roy@marples.name>
Date:   Mon Jun 1 20:10:42 2009 +0100

    Warn about going inactive correctly.

commit efec0b5012efd7af5a882348c62e28f3e62c58fc
Author: Roy Marples <roy@marples.name>
Date:   Mon Jun 1 20:06:56 2009 +0100

    nexthop routes don't use metrics

commit 278e65b24a7cbb2a61c1d4e562e78d17d13bb8d3
Author: Roy Marples <roy@marples.name>
Date:   Fri May 29 22:09:39 2009 +0100

    Ignore termencoding

commit 1b3a4136731dfdc33b18f239de266728b1dbfef2
Author: Roy Marples <roy@marples.name>
Date:   Fri May 29 22:08:47 2009 +0100

    Skip sysctl errors

commit a685e4db0aa08097ea729071ef6fee2543c3f671
Author: Roy Marples <roy@uberlaptop.marples.name>
Date:   Fri May 29 21:33:44 2009 +0100

    Add FreeBSD support for AC power.

commit e689f17933a5b235c5863b3c2c385b8ebf727395
Author: Roy Marples <roy@marples.name>
Date:   Fri May 29 21:19:31 2009 +0100

    Support NetBSD envstat for working out if on AC power.

commit fa9e482a31719d5fd647a183f1f844e596db6acf
Author: Roy Marples <roy@marples.name>
Date:   Fri May 29 21:06:59 2009 +0100

    If not running on AC power don't run fsck to preserve battery life.

commit 60134ddec5fe19bc14bf0fa10d963e5f1812d586
Author: Roy Marples <roy@marples.name>
Date:   Fri May 29 15:23:23 2009 +0100

    Only delete addresses for interfaces that exist.

commit 83e82c452e89bf27de2a7b01bc2356c9050b2a18
Merge: 9c5faf23 a518d345
Author: Roy Marples <roy@marples.name>
Date:   Fri May 29 14:15:12 2009 +0100

    Merge branch 'master' of ssh://roy.marples.name/var/git/openrc

commit a518d34549fd80268e9c70d2300808b63c54825c
Author: Roy Marples <roy@marples.name>
Date:   Thu May 28 20:16:35 2009 +0100

    Ignore more foo

commit 5acf0e94640c987e1a0a8dbafdb06adbecafed0d
Author: Roy Marples <roy@marples.name>
Date:   Tue May 26 22:36:53 2009 +0100

    We need to use eval so we can pass "*" as an argument.

commit c0fd1b49e49cec28c1f5a3a76f9db11c62e550dc
Author: Roy Marples <roy@marples.name>
Date:   Sat May 23 20:38:12 2009 +0100

    Move non compiled libraries from /lib/rc to /libexec/rc
    OpenRC version is now stored as plaintext in /libexec/rc/version
    
    Plugins (cursplash, splashutils) will have to be re-compiled to pickup
    the new directories. State data needs to be moved from /lib/rc/init.d
    to /libexec/rc/init.d as well.

commit 5294abe6171610a1aa0eb093774bed9bb965c9cf
Author: Roy Marples <roy@marples.name>
Date:   Sun May 17 12:29:46 2009 +0100

    If already started or stopped, abort.

commit 9c5faf231ccf50695270034ab63f747fa2bef1d7
Author: Charlie <root@uberlaptop.development.ltl>
Date:   Mon May 11 15:31:52 2009 +0100

    procfs should use modules.

commit 701813b5ff76f4630376263a94d610462aa99c3b
Author: Roy Marples <roy@marples.name>
Date:   Mon May 11 15:31:52 2009 +0100

    procfs should use modules.

commit b2eb9f8a83b1a04dc19b63767b6d95ae022343ab
Author: Roy Marples <roy@marples.name>
Date:   Thu May 7 12:20:59 2009 +0100

    Unset PAM environment variables if not set

commit cc5e43922e0686c6c2bea661e1f2d20cfec887fd
Author: Roy Marples <roy@marples.name>
Date:   Thu May 7 10:44:50 2009 +0100

    Supply a working default inittab

commit 0aabe323755553cacd318944dbd495c5adebde12
Author: Roy Marples <roy@marples.name>
Date:   Wed May 6 16:47:37 2009 +0100

    Enable wpa_supplicant for >1 wireless interface if found.

commit 7c81f74b60b9d15ed472f1ca63cab0a105a84c08
Author: Roy Marples <roy@marples.name>
Date:   Tue May 5 16:39:59 2009 +0100

    Fix compile on NetBSD

commit d441bf15854b585a0e53019f12f581ddb90dee55
Author: Roy Marples <roy@marples.name>
Date:   Tue May 5 10:29:52 2009 +0100

    Ignore more foo for the BSDs

commit 43063ae7c2faab221c877defc1957364321a8fa2
Author: Roy Marples <roy@marples.name>
Date:   Tue May 5 10:24:21 2009 +0100

    Fix compile on NetBSD and FreeBSD

commit e575b33047d501d96bb42679dcd709b9c3bee265
Author: Roy Marples <roy@marples.name>
Date:   Sat May 2 18:29:00 2009 +0100

    We shouldn't use -L/lib

commit c09e6b3e6dd39a76abd14688e295507f4e3d1f87
Author: Roy Marples <roy@marples.name>
Date:   Sat May 2 12:31:13 2009 +0100

    Typo

commit 6615eb4b689d7aa1d047bd9ed75eca80beac9767
Author: Roy Marples <roy@marples.name>
Date:   Sat May 2 12:26:45 2009 +0100

    Add runlevel stacking, #88
    This implementation has the limitation that you cannot have a stacked
    runlevel and service of the same name in a runlevel.

commit e040bd77e983e609fea5a87549b58e81b96e4276
Author: Roy Marples <roy@marples.name>
Date:   Sat May 2 12:18:34 2009 +0100

    Ignore test results

commit 658a22063820b6f3ebbae13e54bd98df529a6eef
Author: Roy Marples <roy@marples.name>
Date:   Fri May 1 15:11:40 2009 +0100

    Add (c) to Copyright

commit b32c9c1139340980692bb7a1a7a79bb7f93e61d7
Author: Roy Marples <roy@marples.name>
Date:   Fri May 1 09:37:51 2009 +0100

    Ensure that rc.d services are not started twice if PKG_DIR is blank.
    Fixes #170

commit fb051bf81ac698d0618b611abc7120c32da467c3
Author: Roy Marples <roy@marples.name>
Date:   Fri May 1 08:38:57 2009 +0100

    Add -i, --ifexists so that we can do this
      rc-sercice -i foo -- restart
    instead of this
      rc-service -e foo && rc-service foo -- restart

commit caf29a6480e56399d1fa18c5d7bfe32f47f1c1f4
Author: Roy Marples <roy@marples.name>
Date:   Fri May 1 00:15:20 2009 +0100

    Fix git versioning

commit f689187966ff4339e1868094c0636b969b4eff26
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 30 23:42:01 2009 +0100

    Add -Z, --dry-run option to show which services we would start/stop
    without actually doing so.
    Fixes #151.

commit 3d0e5175d845c2386295cf454f9ee1939265fe59
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 30 19:56:43 2009 +0100

    Avoid more gcc warning about not checking return values ...

commit 21e45e895ce3ca586e0c5fd89a68b84c01d270de
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 30 19:16:31 2009 +0100

    Brand with git version instead of svn

commit a1e40e9beb621dbe342515ee0380c67837112a61
Author: Juan RP <xtraeme@gmail.com>
Date:   Thu Apr 30 16:45:18 2009 +0100

    Fix parens

commit b70501ef452e896b1164290e3575ef7d89926f07
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 30 15:05:39 2009 +0100

    Go back to git

commit e0f0fc8046bed6d21a92d0ef6f708d3ce5ef5c1c
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 28 08:29:02 2009 +0000

    Don't start services when their need dependency is broken

commit 48f477f851d6ac0a1867ff6b405bbdfae401b0d2
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 27 13:58:26 2009 +0000

    Fix a brain fart

commit 3d43fb6f227729bb6837ffeea3d6e2e44b6486e2
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 27 13:33:37 2009 +0000

    Although the noshutdown keyword is nice, we shouldn't use it for network or dhcpcd. Instead fake network shutdown so it comes back up correctly at boot and KILL dhcpcd to preserve network.

commit 824bb3aee3940c1b0b36effaf8a8434039fdc44b
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 27 13:32:13 2009 +0000

    Allow templates to define a stop signal

commit 0f70279f89b55477205725252178f1bcdc72be01
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 27 12:12:42 2009 +0000

    Set correct prefix

commit 71062f479ada8e714d821295fdc6a5ae3a19b95c
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 27 12:06:54 2009 +0000

    Add noshutdown to dhcpcd and wpa_supplicant. Tweak for style.

commit 94b3057571eed817e8aa0dd1b016ec7988328132
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 27 12:04:33 2009 +0000

    Add the noshutdown keyword to special case the shutdown.

commit 338c93733d238f78cbad4b9d96f8592edf86af13
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 27 09:06:30 2009 +0000

    Fix the nstop keyword.

commit e70a1429564a8fce5036c351b010a47dbb6c28b7
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 27 07:51:18 2009 +0000

    Style.

commit eaa32c75c9bba7af0ec842d82f56a6862bbc83db
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 26 21:16:05 2009 +0000

    Add the nostop keyword so that we don't stop the network init script by default.

commit 2b866f264fa2ea9cda891018234414c4f4942eb8
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 26 21:13:26 2009 +0000

    Stop using needless {} in vars

commit 59574780da461ea08af57a0bb322268369f89abc
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 26 18:53:24 2009 +0000

    Document tap interface creation.

commit 77c8f8abbb4034e409be2e71a22c1caaf1ce5f03
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 26 17:57:06 2009 +0000

    Use /bin/bash or user shell in /etc/passwd if none set before /bin/sh.

commit 1d4818364641c84d0e53fda90a356772299dee8e
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 26 11:19:22 2009 +0000

    Try and set a keymap as early as possible, #169

commit 0feddbd815b16a23240f45dbdc38b36e3f1559e0
Author: Roy Marples <roy@marples.name>
Date:   Sat Apr 25 20:44:13 2009 +0000

    Use kill for the pid check as it's fast.

commit bd6bb932dfbc6829f44dca3fc19366d8751ab06d
Author: Roy Marples <roy@marples.name>
Date:   Sat Apr 25 18:02:28 2009 +0000

    Don't report final eends for interfaces as they make no sense.

commit f51d8d0b7d8ee124b09445826059f20a7f3951be
Author: Roy Marples <roy@marples.name>
Date:   Sat Apr 25 13:44:41 2009 +0000

    Document interfaces variable useage a bit better.

commit 42580d67b835027c67741adae966847f2a93ef89
Author: Roy Marples <roy@marples.name>
Date:   Sat Apr 25 11:39:18 2009 +0000

    Verbosely report vars correctly.

commit c07b384d82f78959adc96fbbbef72cae5bf3c272
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 24 11:49:55 2009 +0000

    Don't drop to sulogin by default, but make this configurable.

commit bd211d534bb654bdef9b8c072be0c0d4f24fbf7c
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 24 11:45:48 2009 +0000

    We should match the full variable name.

commit b0ac71fe2aea81ef37a35016630198f38af2d662
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 24 10:23:49 2009 +0000

    Add missing show levels switch.

commit 9966a902ab375128e128edc4ca85676656b759db
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 24 10:17:53 2009 +0000

    rc-status -c now lists services that have crashed.
    It returns 0 if there are crashed services, otherwise 1.
    This it easy to restart crashed services automatically.
    More for #120.

commit e2629b0a3b8f4e3df12878fb865b6a244d8a54a8
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 24 08:33:11 2009 +0000

    Remove .depend before creating it.

commit 5276b13926801e36d2bab02d2a922af67437f1e0
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 24 08:32:44 2009 +0000

    Cast to int

commit e7b35a8f150a64499d9974e40787e5f830e78585
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 24 07:03:08 2009 +0000

    Allow rc to start (optionally stop) crashed services, #120

commit e643a7fdd5726644a5d195e91ba23e9687a4407d
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 24 06:37:29 2009 +0000

    Describe interval units

commit ade85d4bd81d7257f5a7e2e4ed40b9cbbbe23651
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 23 21:31:22 2009 +0000

    Improve style for KNF

commit 69534746553adb52d3ede38a4cf8cd3630c97091
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 23 20:53:24 2009 +0000

    Style

commit d231a2f0d95e3ba7d2228fad4d5cda612ef755a9
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 23 20:44:17 2009 +0000

    Fix logic, thanks to Maryasin Semen

commit 7086df56640b095669e6fcd72ca902cc497d6e17
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 23 20:27:40 2009 +0000

    Don't include hotplugged services in manual.

commit 7dc9c39503ded408c34ba6cd96ebdab352fbb6a6
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 23 20:20:17 2009 +0000

    Improve the service timeout code and reduce the timeout to 60 seconds.
    Don't process any dependencies when changing runlevels and called
    outside of RC otherwise we can deadlock.

commit 953b0b74357d28a1ec28ca13fbdeaa126fa2bbaa
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 22 10:49:07 2009 +0000

    Document -i, --interpreted flag.

commit f326f688f6a9d49936f4e5e6e6b9db67957c6797
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 22 10:45:01 2009 +0000

    Add the -i, --interpreted option.
    This enables the code to include the daemons interpreter when matching
    process name which fixes bug #164.
    Existing init scripts that rely on the old behaviour will need to be
    fixed.

commit 588c9da0abd52b88e95898e6801799c980d14494
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 19 21:45:09 2009 +0000

    Document DHCP and iwconfig.

commit 7e9cdbd16efae84169bf93d115d02fe36289781c
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 19 21:35:26 2009 +0000

    Document \$int and how to create bridge and vlan interfaces.

commit a2856fe1922df9ae066bdf6074fbbb06c5401459
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 19 21:10:06 2009 +0000

    Use shell_var for shell variables.

commit 8e5a601087d19c65ae569277991bcbb5b8fbb4c4
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 19 21:02:31 2009 +0000

    Style

commit a01f9be6f265effd70abe98a26251b8e9b71b532
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 19 20:59:46 2009 +0000

    We should use $int for compat with NetBSD

commit 371506be4854d7470cc251c3d9b00d26545ce41a
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 19 20:54:11 2009 +0000

    Default to not building the old net scripts.

commit 4febf00c06a027a96b00ae12e1bc077792738985
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 19 20:05:40 2009 +0000

    Allow family on routes, #152

commit 73f6d1c39e88b16de87b76836ecf8ba72d75131e
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 19 18:36:06 2009 +0000

    Document defaultroute

commit ee53e6ad29d246c76b636cda72ad4834929ada43
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 19 18:20:49 2009 +0000

    -w, --wait seconds
    New option so you can set the number of seconds to wait for and
    check the daemon is still running.
    The old code that periodically polled wasn't that reliable - in this
    case simpler == better.
    Fixes #160

commit e2942e34af370f6710661597aee5f750e2562f3c
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 19 16:47:09 2009 +0000

    Use a bashism for a minor speedup in gendepends.sh

commit bbd810425b819318fda48f390fec818c20bbff39
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 19 11:15:37 2009 +0000

    Move special umount of tmpfs to the swap init script where it belongs, #149.

commit bb6614f4e19e77f527e72f4f5c5e130f189adfc0
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 19 10:25:38 2009 +0000

    Document rc_nostop, #118

commit 170547010f78a0b195157b60f3c7cae4a3380a86
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 19 08:52:00 2009 +0000

    Pull /etc/ifconfig.eth0 into interfaces
    Reverse list of interfaces when stopping
    Improve build for conf.d/network

commit 3579663173be18becb5f4ddadf859e5984eab660
Author: Roy Marples <roy@marples.name>
Date:   Sat Apr 18 19:54:04 2009 +0000

    Don't leak the lock fd.

commit 802fe9709ec9e2e5887e87e1047c15d90020472f
Author: Roy Marples <roy@marples.name>
Date:   Sat Apr 18 10:39:53 2009 +0000

    Allow user to provide custom status function and still hook into the system one

commit 657cb3a6eb084d15121772ec13e9692a319c6fde
Author: Roy Marples <roy@marples.name>
Date:   Sat Apr 18 00:57:17 2009 +0000

    Fix compile on FreeBSD.

commit 9225c6cefbc5c7f211bcc7ffefb63637d1fab29f
Author: Roy Marples <roy@marples.name>
Date:   Sat Apr 18 00:56:48 2009 +0000

    Not all systems have the utmp group

commit 1a2d81751d144889bfd5e1e38c13d2c3c5fad237
Author: Roy Marples <roy@marples.name>
Date:   Sat Apr 18 00:56:26 2009 +0000

    Support BSDs

commit c9e24a0494dc499728e5131d15a8a16d3fd97c5d
Author: Roy Marples <roy@marples.name>
Date:   Sat Apr 18 00:09:03 2009 +0000

    Move status to runscript.sh so init scripts can override it, #159
    Return 32 if crashed, #163

commit d4c71415a9514c3d478e6ed110cba72a0d80a378
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 17 23:23:31 2009 +0000

    Add MKOLDNET=yes/no toggle

commit ee54bb937261b17c6767868607e95b2c560bd4b1
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 17 22:55:11 2009 +0000

    Using fifos for locking can be error prone.
    flocks are safer, as we only use tmpfs for our lock files.
    
    I don't know how this works for inactive just yet though ...

commit 7138c1532c6546a6939ec8f7fa37da708edc0ac6
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 17 09:48:34 2009 +0000

    Typo, thanks to Matthias Schwarzott, #166.

commit 6027b0ed7d1791a363004ec5b77ec7e866fc8bc9
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 16 23:47:23 2009 +0000

    Add a new init script - network
    This simply assigns static addresses and an optional default route.
    It's possible to add external commands as well, so to create a bonded interface.
    
    Hopefully we can add a few examples to satisfy most of the old net.lo, which
    is no longer installed into boot by default.

commit 95d954e7b58e55534f393a1249db2becf74ee9f9
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 16 23:39:37 2009 +0000

    Improve utmp handling

commit 744a8bbb4a2e2d58a2118f7796528b593905fc50
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 16 23:34:38 2009 +0000

    Don't unmount /bin,/sbin,/lib,/libexec in the very silly cases where they are not on /

commit ace0b9653b44582fdf24381acd23bc23ccbb3f93
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 16 23:23:21 2009 +0000

    Avoid needless forking, #165
    Thanks to Natanael Copa.

commit 966ecb24da9cce156a68bf0edda9e00aeaa4b58c
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 16 21:02:46 2009 +0000

    Add net dependency

commit cba9f1271510656a27b60402593dc3be2645acae
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 12 12:59:00 2009 +0000

    Simplfy rm matching pattern, thanks to cypherpunks@mailinator.com

commit dea9e11a693527925ecaf007056ae7653d935dfd
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 2 23:55:19 2009 +0000

    When logging, stdout isn't always a tty, which is the case for VPS
    systems, Thanks to mwrobel - fixes #106.

commit 0b12faed7ff0b699565539bf1146b1977a4b9b67
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 16 21:41:23 2009 +0000

    We should abort boot on some errors.

commit 34fbf3db2f4ad0c01dbf20303c7f0face063625e
Author: Roy Marples <roy@marples.name>
Date:   Thu Mar 5 20:41:07 2009 +0000

    Add scripts for dhcpcd and wpa_supplicant.

commit 132dfd7b1e7e18ea4e91ee89be65851dc2a7c2a8
Author: Roy Marples <roy@marples.name>
Date:   Thu Mar 5 00:41:44 2009 +0000

    Typo, thanks to Polynomial-C

commit 077b2d3ba8516edee7dcc225179fda2bf1c937cd
Author: Roy Marples <roy@marples.name>
Date:   Sat Feb 28 14:12:19 2009 +0000

    Report if service is not executable.

commit 907ca8a89f47c8982249dd93d1f1d6f9e567f01c
Author: Roy Marples <roy@marples.name>
Date:   Sat Feb 28 14:12:03 2009 +0000

    Set errno when service does not exist better.

commit f38ef0093915724421052abcf1f4013fe5738d32
Author: Roy Marples <roy@marples.name>
Date:   Mon Feb 23 10:43:24 2009 +0000

    Fix unit test.

commit 66cd081301a0b2e72c8ac348c2f1361261caae82
Author: Roy Marples <roy@marples.name>
Date:   Mon Feb 23 09:36:48 2009 +0000

    Change wipe_tmp_dirs to clean_tmp_dirs so user understands meaning better, #153

commit 749938d4399c2fdd338670b5a1010474f85ecee6
Author: Roy Marples <roy@marples.name>
Date:   Mon Feb 23 09:35:57 2009 +0000

    Style.

commit 70d8c5bedae21c91187b2b416ca18dff67f42cb1
Author: Roy Marples <roy@marples.name>
Date:   Fri Feb 13 12:52:29 2009 +0000

    Typo, #150
    Thanks to betelgeuse

commit b60f437b527d755a288785beaf769a13cc6d4b0a
Author: Roy Marples <roy@marples.name>
Date:   Fri Feb 13 12:24:32 2009 +0000

    Fix the number of terminals to operate on.
    Thanks to Dimitrios Christidis <chrjim@gmail.com>

commit d6d2635c518b196961873a1a1a2112ac3c46bc76
Author: Roy Marples <roy@marples.name>
Date:   Thu Feb 12 18:12:57 2009 +0000

    root should respect inittab, #148.

commit 6cc68e21cf83bfac927531ab989dc7381ab6797f
Author: Roy Marples <roy@marples.name>
Date:   Thu Feb 12 10:43:30 2009 +0000

    Fix return value for tests.

commit 9f3cf59818c9801e6e66189529bdff86fc391391
Author: Roy Marples <roy@marples.name>
Date:   Wed Feb 11 17:42:14 2009 +0000

    hostid does not need root to run

commit 7a628e1db7f558ec26e21b79c7f52b58f33c677f
Author: Roy Marples <roy@marples.name>
Date:   Wed Feb 11 06:54:58 2009 +0000

    Release 0.4.3

commit 069590d97f0db855022cb0a6fa2cee8e410bdccd
Author: Roy Marples <roy@marples.name>
Date:   Tue Feb 10 23:11:17 2009 +0000

    Fix unmask option, thanks to douglas@openplans.org, #146

commit 3fc17f59662316d23a4a102a8686e4e549426df7
Author: Roy Marples <roy@marples.name>
Date:   Tue Feb 10 15:25:28 2009 +0000

    Store the file skewed against.

commit 522ab21fbf92a53a5faeb6667209aa6995799532
Author: Roy Marples <roy@marples.name>
Date:   Tue Feb 10 15:16:25 2009 +0000

    Only create the reboot file if rebooting.

commit 3d7b56f2e20e28aa22b1c09e4318ae0420485071
Author: Roy Marples <roy@marples.name>
Date:   Tue Feb 10 15:06:48 2009 +0000

    Create /reboot if running inside OpenVZ, #138.
    This should be fine as vpsreboot should only restart a stopped container.

commit 6bb44be2a3af33512a6ce066246dfa71edc53fd9
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 29 13:38:15 2009 +0000

    We should always mount $RC_SVCDIR unless in a vserver or it's already mounted.

commit 415fe87d8c3a53314b662c9b0018b8205027f446
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 29 13:29:04 2009 +0000

    Clean up some compiler warnings.

commit 4f163f9b9ae66bb4caeb192d463510c3b1434fa3
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 21 09:25:34 2009 +0000

    Allow wpa_cli_$IFACE to too send args to wpa_cli.

commit 417a817d252f354b75b84e6ae9df5f1d79cac11c
Author: Roy Marples <roy@marples.name>
Date:   Sun Jan 18 20:02:50 2009 +0000

    noinit makes more sense than noinitd

commit 30a7a3a9bfd411a58e63bed2f5c784e174690560
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 14 14:32:56 2009 +0000

    Fix locale with svnversion, #140 thanks to Matthias Schwarzott.

commit 5208a1de29a465b6d1a3491408b02232380bf8ef
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 13 11:04:37 2009 +0000

    yes should be YES

commit abcc4c5c72147a16b8710392112e4a07c3ed4b55
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 13 11:02:00 2009 +0000

    Don't allow SYSVINIT parameters through anymore.
    RC_REBOOT is now yes when rebooting.
    Document the special reboot runlevel.

commit fcf1cce549542bc6948c8b808becbd5933f15bf4
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 13 09:11:31 2009 +0000

    rc_newer/older_than only report file if time_t is a pointer, so it
    should take precedence in the argument list.

commit 3d37005a3d0c9a90578fcb249b823f08a6c58f49
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 12 23:53:13 2009 +0000

    We now warn about clock skews
    rc-update -u will force a regen of the dep tree
    rc_newer_than and rc_olderthan now take another two parameters for newest/oldest file and mtime

commit 2243c013900f1d3d850acf066dde2e83f41b3ed9
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 12 23:12:06 2009 +0000

    Add snapshot and snap targets

commit a52472c3c3dda0a24a5eed66eb9c3974c09f7192
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 12 10:24:47 2009 +0000

    Fix ordering, #139 thanks to Matthias.

commit f23822e082c730837ead287dd2450117d926cbe1
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 12 10:24:00 2009 +0000

    Copyright

commit 8a9a2d5fe9bbb80381f54da16460f1578f367be5
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 12 08:31:03 2009 +0000

    Use snprintf instead of strlcpy to save on size if not available.

commit a33554ab18a58a59628d777b7a5268882869b35c
Author: Roy Marples <roy@marples.name>
Date:   Sun Jan 11 17:17:04 2009 +0000

    Copyright

commit baf0ce64f5fca218c0bfc3526db61153d6dacc42
Author: Roy Marples <roy@marples.name>
Date:   Sun Jan 11 17:09:13 2009 +0000

    Ensure that $HOME and $USER are always set, #139

commit 26f70a5277e67d0db458f96e3525bb7ddf993a48
Author: Roy Marples <roy@marples.name>
Date:   Sat Jan 10 12:18:00 2009 +0000

    Style

commit 36c53e75519fede26e9647d2063134f467843402
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 6 16:25:33 2009 +0000

    Keyword novserver, #137.

commit 5ca33455345921bb10c9353030574c65036cd759
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 5 20:16:50 2009 +0000

    Release openrc-0.4.2

commit 0298e4ffa079db7d3685281cd3aff44f2362eadd
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 5 09:37:38 2009 +0000

    Remove leading and trailing space on the ctrl_interface line.

commit a063035b370abed7ed5f44365053bcc6dfb4f318
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 2 22:51:47 2009 +0000

    Make _SVNVER_SH more readable.

commit 213cef1739298175138483a343a70bb60f0100fe
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 2 16:48:42 2009 +0000

    Fix version for releases.

commit 386ee57432afc6228c5339030e604f03ab2065e6
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 2 15:11:15 2009 +0000

    Fix compile, #136

commit 631acff7aa589958245e88a2a285e1de0f0b42e3
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 1 14:32:09 2009 +0000

    Document the --chuid option.

commit 877a3281794e15ce157113943c2e95d0d9f4938c
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 1 14:27:29 2009 +0000

    dmesg and sysfs won't work in a vserver, #137 thanks to Hollow.

commit 1efa64cae838d2624f9142b9419425df05ad46e6
Author: Roy Marples <roy@marples.name>
Date:   Tue Dec 30 19:08:51 2008 +0000

    Typo.

commit 22959c3963eced6d9f35acf8c5b68dd37b000399
Author: Roy Marples <roy@marples.name>
Date:   Tue Dec 30 00:05:17 2008 +0000

    Fix working on zsh

commit 2464f9e93baf71f9c8dbc9d998aee77c5d2eed89
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 29 23:06:22 2008 +0000

    Add parens, #134 thanks to  Matthias Schwarzott.

commit d91201cb94d951c11f7972ea007b7ee45a7ae081
Author: Roy Marples <roy@marples.name>
Date:   Sun Dec 28 15:25:40 2008 +0000

    Skip all forcefsck checking when stopping, #134.

commit 1c5ec9d16147c43c48f1d5b07fc58a07e5be1739
Author: Roy Marples <roy@marples.name>
Date:   Sun Dec 28 14:49:07 2008 +0000

    Fake get_bootparam function so that we don't check for kernel options forcefsck when doing an fsck on shutdown.

commit f4b836694227824754f8e556680b49bfd70c49d9
Author: Roy Marples <roy@marples.name>
Date:   Sun Dec 28 14:05:33 2008 +0000

    Parse retry schedule correctly, #129. Thanks to vaeth.

commit 438665357b434b3d271ce2712fb1c5122c330d0f
Author: Roy Marples <roy@marples.name>
Date:   Tue Dec 23 10:45:16 2008 +0000

    Release 0.4.1

commit 7ad40abf64c54e8983427d8b66d8e5ebb480e64a
Author: Roy Marples <roy@marples.name>
Date:   Tue Dec 23 10:42:25 2008 +0000

    Our error messages don't have full stops at the end

commit 7e12abe03586b7c641acc361cfce098b3b5384f5
Author: Roy Marples <roy@marples.name>
Date:   Tue Dec 23 10:41:33 2008 +0000

    Typo.

commit 4dba5b1ff1c50ab7b40111f529ee8a5179ffb9ee
Author: Roy Marples <roy@marples.name>
Date:   Tue Dec 23 10:40:27 2008 +0000

    Disallow hotplug to run during sysinit, but allow elsewhere. Fixes #131.

commit 1ff289e3055206fd0d93e2a697a93f701e367f5d
Author: Roy Marples <roy@marples.name>
Date:   Tue Dec 23 10:39:45 2008 +0000

    Whitespace.

commit 53e2bec3850aa8a3f625392316c0e02f395c02bd
Author: Roy Marples <roy@marples.name>
Date:   Tue Dec 23 10:15:41 2008 +0000

    We should match on the correct args for stopping daemons when pidfiles
    are not being used.

commit 9d9f17aa523f2e5df6067c6a1d6ee9808fb2479f
Author: Roy Marples <roy@marples.name>
Date:   Tue Dec 23 10:13:58 2008 +0000

    Allow working with the new ctrl_iface=DIR=foo directive.

commit 803dbbf0c808cf8d24b44bf3e944175366ff92a6
Author: Roy Marples <roy@marples.name>
Date:   Sun Dec 21 01:15:02 2008 +0000

    Allow rc_runlevel/softlevel to set runlevel from kernel commandline.

commit 9e5e60f2574e1bef168b763e55a3bd5e8ae8d11c
Author: Roy Marples <roy@marples.name>
Date:   Sat Dec 13 22:20:21 2008 +0000

    Store interactive mode after sysinit, #128 thanks to Matthias Schwarzott.

commit 6bf0289f332564c65bac9dc37fa81518220926ef
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 11 14:50:58 2008 +0000

    Warn about stopping sysinit services, thanks to Matthias Schwarzott. Fixes #126.

commit bdb3485b49fe9fe43900cd80809ffc534e91db11
Author: Roy Marples <roy@marples.name>
Date:   Sun Dec 7 08:38:16 2008 +0000

    Punt redundant dirs from git mirgation.

commit eb6daeca436ab9b9aa05a4203d0784780dc9968a
Author: Roy Marples <roy@marples.name>
Date:   Sun Dec 7 07:51:40 2008 +0000

    Fix dist for svn

commit 10e88090f6f50a307162ed661d18b1f754df11c7
Author: Roy Marples <roy@marples.name>
Date:   Sun Dec 7 07:49:24 2008 +0000

    Release 0.4.0

commit 8cce75925f26cdc748e2bd9b4f07b256e95015db
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 5 09:24:49 2008 +0000

    Ignore FreeBSD targets.

commit e72aeebbcd0f46dec9da255b07184ed24ed1b4ef
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 4 19:21:47 2008 +0000

    make ignore now updates svn:ignore as different OS's have different targets.

commit dc712a109e26201309fe918268d4af270b929553
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 4 17:30:26 2008 +0000

    runlevel override works correctly again.

commit 1acbfcf5ca32243304e6720f507ab57391f80200
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 4 17:17:09 2008 +0000

    Report invalid runlevels.

commit f8210050e52ba2f48db881bb56ddaa873ceca395
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 4 13:12:46 2008 +0000

    If we're building from subversion, brand the binary as such.

commit 38e6c9ba5c584dfbf20f98eace464595405e1c88
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 4 12:38:23 2008 +0000

    make ignore now configures the sv:ignore property.

commit 2c98c5326aabddbc9e97b97d93f3c906eabe1189
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 4 12:12:09 2008 +0000

    Punt .gitignore files.

commit 57f90a42ba8c0222ca2f74bbf1f7d13e2ea71b15
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 1 08:46:50 2008 +0000

    Include hotplugged services in our start list.

commit bde35d03ed53c9d8999cd45f5cd70a4ace3e9ea4
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 1 08:46:25 2008 +0000

    Actally show hotplugged services.

commit 8b76e1d2e07874f75cd4df357986b0d3c543d5dc
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 28 10:48:01 2008 +0000

    Ignore interupts when waiting for processes to finish. Also, style fixes.

commit b859710cc8f7c4b6074c02fda7156d3c6d5fdfa6
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 28 10:47:17 2008 +0000

    Style.

commit c064393f08f63a7f0cddcd04ed5d3d15b49fe145
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 28 10:46:58 2008 +0000

    Save screen space.

commit e84f71596eca5da7c15e496a67ae70fae4129890
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 27 21:14:52 2008 +0000

    Not needed.

commit 23e73957a067b775b0e2d5283417df2241746d50
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 27 21:14:43 2008 +0000

    Switch from select to poll and improve the no prefixing of eend calls.

commit 2537a07e1094d10e3a34b6dece2c4428779ccf7d
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 27 21:05:39 2008 +0000

    Switch from select to poll and improve the no prefixing of eend calls.

commit 5403e703131fcf6f254d62c40efcbc224e3acc5a
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 26 10:46:33 2008 +0000

    Save more screen space by removing the space befor the * for einfo and friends. Also remove the leading space before ... for ebegin.

commit fe12134a5b8c37ae6e1b7316dd320830d71b2e57
Author: Roy Marples <roy@marples.name>
Date:   Sun Nov 23 18:40:43 2008 +0000

    Don't warn about waiting for services marked as notimeout, Gentoo #247306.

commit 1deaa0fae0f5c26f75140fc77963e74091bdd63a
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 13 09:35:00 2008 +0000

    Fix lib.

commit 0cca768b82a3225f82747863e674cae68ab790e1
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 12 19:19:56 2008 +0000

    Mark the addon code as deprecated.

commit df22978de96c979c81feff80a54ef8d21b5fdeab
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 12 16:28:07 2008 +0000

    Punt halt init script. sysvinit should install it. See Gentoo bug #246502 on how to handle this.

commit fe509db6607ded1812f0e2ada4e138eeff458c20
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 12 10:55:42 2008 +0000

    Save a needless malloc when re-creating PATH.

commit 937b1b2abf173a75788a88a0d9357958917f4a76
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 11 19:47:30 2008 +0000

    Don't set user info unless stated.

commit eafbed0366c9cda0c7c2597541b44f3f99b43ec1
Author: Roy Marples <roy@marples.name>
Date:   Mon Nov 10 20:57:03 2008 +0000

    Fix stopping with a faulty pidfile.

commit 07861410268960e2ba432bf56f4fc6369e83f593
Author: Roy Marples <roy@marples.name>
Date:   Mon Nov 10 12:31:20 2008 +0000

    Restore interface_exists, interface_up and interface_exists, #123.

commit 90d175ae278c9b27fec954abacbb5ddbb8c5fcc7
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 4 17:08:35 2008 +0000

    Remove deprecated use of modprobe -l. If we need this functionaltiy back, we need to use something else, like say find.

commit a178fd0f32f61ba95a7e9abe49db836381665600
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 4 17:07:32 2008 +0000

    We should not update mtab here.

commit 03e8e0cb6817d7a0063b8c6b3738bb08a2db5121
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 4 14:28:51 2008 +0000

    More Typos.

commit a3d266e7411397cd42569c41442c4437b1b7bd63
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 4 11:32:07 2008 +0000

    Use mount-ro

commit 42e6a95b1d691b2fcdb49cd57f8ae94acbe27a2c
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 4 11:30:15 2008 +0000

    Move romount to mount-ro and use the umount -r option as it's more reliable for / --bind mounts, Gentoo #239922. Thanks to Duncan.

commit 45044c9239ef5eb06a3cc9e5110131cd0d8210ef
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 4 11:28:24 2008 +0000

    Typo

commit 5fc6f21169268b4ac3111a2f978faaaee3182e3e
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 4 11:05:30 2008 +0000

    Typo

commit 2cf24fe7934f329d23282ad66f2d448689e58b2e
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 4 09:32:21 2008 +0000

    Ignore after dependencies for shutdown when not in the runlevel.

commit cc14b5541401dee18064417e82eab765410da95b
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 4 07:45:05 2008 +0000

    Now the linx fsck man page has return codes, I find them different from the BSD's so adjust accordingly.

commit 33d4fba5be98a617ecc90fb32ae533148bce7c97
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 4 00:21:30 2008 +0000

    We start off in sysinit correctly.

commit 32e17af92f607a50b126973ea2a05f90ecbae9dc
Author: Roy Marples <roy@marples.name>
Date:   Mon Nov 3 23:13:36 2008 +0000

    No need for NULL here.

commit 77d56f548913d2957cd837f9ebc31491aa07239e
Author: Roy Marples <roy@marples.name>
Date:   Mon Nov 3 23:13:12 2008 +0000

    Avoid depends not in the runlevel for sysinit and shutdown.

commit c520d4a23a2694427f31371c19889329155841d3
Author: Roy Marples <roy@marples.name>
Date:   Mon Nov 3 21:11:29 2008 +0000

    --nice is -N, not -n. Also, correct default timeout.

commit 8a76c273253180a5872ce909ae63d79fafc1d8ca
Author: Roy Marples <roy@marples.name>
Date:   Mon Nov 3 21:06:45 2008 +0000

    Fix sending signals, #121.

commit 7467440a294077af40b40dff49144ffc66cd614a
Author: Roy Marples <roy@marples.name>
Date:   Mon Nov 3 18:00:55 2008 +0000

    Fix fstabinfo for mounting /dev/shm, Gentoo #245367.

commit 282ad4bae69eb946aba2bf9021573994ed757e30
Author: Roy Marples <roy@marples.name>
Date:   Mon Nov 3 16:16:12 2008 +0000

    Add descriptions.

commit 1e5a6f40e5c24c77bfcc7ac82c42053fd6931132
Author: Roy Marples <roy@marples.name>
Date:   Mon Nov 3 16:11:29 2008 +0000

    We shouldn't run halt.sh anymore.

commit 0af7d5bc204cd6b7d03f22aacf4072c5f526c0ee
Author: Roy Marples <roy@marples.name>
Date:   Mon Nov 3 15:31:01 2008 +0000

    Add a new shutdown runlevel, Gentoo #224537.
    Split halt.sh into halt, killprocs, romount and savecache services.
    The reboot runlevel is removed but mapped to shutdown.
    The halt script should be moved to the sysvinit package.

commit 895c4f41492199d6aee75bb6c5a935134d67c29e
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 30 17:57:58 2008 +0000

    Plug a leak and expand exec also.

commit 20380d314421c25bec7076335eb34360bdc38719
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 30 17:40:48 2008 +0000

    Allow ~ and ~user to expand for chdir and chroot.

commit e1341e372bac3352035892a2931458faf98c38a0
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 30 16:26:05 2008 +0000

    Fix --name when stopping, Gentoo #243088.

commit 1c73f2967ca802c442824672eb3e31c19826fc4e
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 30 15:03:12 2008 +0000

    We no longer hotplug by default.

commit 2ff0838abb427181ca7cd21abf0cbf4340c3ccae
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 30 14:59:14 2008 +0000

    We should show hotplugged services, needed services and manually started services in rc-status.

commit 53ddd6ca96a26e08b37b76bc4ec7477c83d8752e
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 29 21:35:45 2008 +0000

    Properly set PAM enviornment variables after opening session.
    
    Without this change, modules like pam_mktemp or pam_env and similar
    will be unable to change users' environments, like they are supposed
    to.

commit 9ec6ff02bbb47f7ee03dc4b3d3cdf5c91052809c
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 28 15:43:36 2008 +0000

    Style and typo.

commit aa991a3c99ee087a4a0cae6da522b13d43b853e3
Author: Roy Marples <roy@marples.name>
Date:   Mon Oct 27 18:38:56 2008 +0000

    Style.

commit 0d98d56188527109da1e334b19b4cc2e92499246
Author: Roy Marples <roy@marples.name>
Date:   Mon Oct 27 18:01:03 2008 +0000

    Remove sysvinit specific code.
    The runlevels shutdown, reboot, sysinit and single should be called by
    init(8) and shutdown(8) and not manually.
    sysvinit users will have to add sulogin to their inittab to secure the
    console.

commit ae692e294e3b1679c1eb0f7aedddc6fe943963da
Author: Roy Marples <roy@marples.name>
Date:   Sun Oct 26 19:58:57 2008 +0000

    Don't quote $tunnel, Gentoo #218123.

commit f6e3c167aedad8c40cfab94e4bf0371a3ce04878
Author: Roy Marples <roy@marples.name>
Date:   Sun Oct 26 19:19:19 2008 +0000

    Remove bash localisation feature, Gentoo #244444 thanks to Andrey Grozin.

commit 1d96620b84fe61dd231494c9cc8e4aa26a2df369
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sun Oct 26 07:09:02 2008 +0000

    hwclock: skip rtc checks if kernel lacks module support
    
    Since we only use the result of the device scan to load modules, there is
    no point in doing the scan if the kernel doesn't support modules in the
    first place.
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit d12bb5cf3c69d083b2829d0d66f31b0c3becdd64
Author: Roy Marples <roy@marples.name>
Date:   Mon Oct 20 16:47:56 2008 +0000

    Really fix .depend

commit 9c76b077d681914d462c1fe1fb53ef23eb4eb449
Author: Roy Marples <roy@marples.name>
Date:   Mon Oct 20 12:09:14 2008 +0000

    Enable use of .depend on gmake. Also, generate extra dependencies for our shared libraries.

commit 0a39145a5e80274599c4d42ab2901c3b6ec0c979
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 16 17:04:44 2008 +0000

    Include sysinit services even in single user.

commit 734e60608a2ef97b239616c00904a4da86042352
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 16 09:41:14 2008 +0000

    Ignore new scripts.

commit 66ae6e38a7f90c8230bcd6d7927a5c30eb450996
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 15 09:02:27 2008 +0000

    Compile with FreeBSD 6.x make

commit 8d47d6c0220720b8a0a4a9c46ceb612cef0e2e65
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 15 08:35:21 2008 +0000

    Fix fuser on BSD platforms.

commit c18c74e816501b5eb41fc0e8ac92d4801454b861
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 14 15:27:52 2008 +0000

    Fix adding just the default route, #119 thanks to pva.

commit da94fad3f517c3b95c4eb1f3ee55bfe48b3f4783
Author: Roy Marples <roy@marples.name>
Date:   Fri Oct 10 14:53:50 2008 +0000

    Re-evaluate sys after running initsh.

commit 10cb4c18df698f0e79688f7d86e388f5d4822d2a
Author: Roy Marples <roy@marples.name>
Date:   Fri Oct 10 09:35:13 2008 +0000

    Remove hardedcoded foo here.

commit 50b8aba8d9cd5042f395ed7478400742dd3457f5
Author: Roy Marples <roy@marples.name>
Date:   Fri Oct 10 09:08:59 2008 +0000

    Remove coldplug and just have hotplug which is a list of allowed/disallowed services. Makes things much easier.

commit 72dcac8c55e9994c48739f908d49889d880d8468
Author: Roy Marples <roy@marples.name>
Date:   Fri Oct 10 09:03:59 2008 +0000

    Shorten common messages for prefixed output.

commit d6da8e8c48feb8faf9287fc86fbbf0890c37a87c
Author: Roy Marples <roy@marples.name>
Date:   Fri Oct 10 08:37:21 2008 +0000

    sysinit is now a real runlevel that handles things like udev, dmesg and
    mounting various bits in /dev and /sys.
    init.sh JUST mounts /lib/rc/init.d (and /proc for Linux systems)
    To make development of this easier we now return an empty RC_STRINGLIST
    instead of a NULL for empty things.
    
    If you don't have a udev init script installed, don't reboot your box OR
    roll back to an older OpenRC version.

commit 247766695cd7c5e8d83dff72f7eb7e6578bf57b8
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 9 16:36:42 2008 +0000

    Fix umounting reporting exit status, Gentoo #239922.

commit 1a88a43aa50fc80d141b4ea5e654fce6b78c7665
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 9 16:34:21 2008 +0000

    Warn about sulogin timeout and then continue as normal, Gentoo #240383

commit c4e673edbc2b2a804e3d8374e3f87a30f87041b8
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 8 21:07:04 2008 +0000

    Add a better, but incomplete tgoto implementation to make gcc happy.

commit a872fe5590e8f49695d7ce5a6449af4200c953f9
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 8 18:32:39 2008 +0000

    Fix status check, #239922

commit 8c8751fa60b529d190ca85857096cf741b0436de
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 8 15:56:47 2008 +0000

    Clean up warnings regarding printf.

commit 5cdc4895733ce3a723a5a58686a4d92a3c69c953
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 8 13:58:17 2008 +0000

    Fix utmp permissions, Gentoo #240437.

commit 4d74e94c3912a4e767becf72283b858b98ba37c0
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 7 12:18:22 2008 +0000

    Merge branch 'master' of git@git.overlays.gentoo.org:proj/openrc

commit d117b2d644d0a884ff75ae190a984bb9d431ee94
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 7 12:14:53 2008 +0000

    Fix tests, #Gentoo 240350.

commit cb44b0a46c9b1c72a84cf65e6b4d6ae735c0e413
Author: Roy Marples <roy@marples.name>
Date:   Mon Oct 6 15:02:32 2008 +0000

    #ifdef atexit cleanups calling free as the OS should do this for us, but valgrind debuggers need it.

commit 4e4c4a5bf4d5c463b79b5648e614b3b780efdbec
Author: Roy Marples <roy@marples.name>
Date:   Fri Oct 3 17:50:30 2008 +0000

    kenv is not always available.

commit 09a1a5ecd4561b6120aee56a5db057d46b054b36
Author: Roy Marples <roy@marples.name>
Date:   Fri Oct 3 17:50:10 2008 +0000

    Fix a segfault when profile.env does not exist.

commit 84f6bf4bff51cc2ed77054298d6953f5a6e60d1b
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 2 16:14:13 2008 +0000

    Release 0.3

commit 5f76c1121a7e93b11da5dbe9dfc8a643a39035c3
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 1 21:12:54 2008 +0000

    Clean stale sockets.

commit 41c1e170d6cfb63980111e70931ab61f1a6af76b
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 1 08:46:53 2008 +0000

    Add an env var so plugins know when leaving single means the end, or start the default level.

commit f53197818b663ae2178b1c31a4b1c6844a208617
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 1 06:10:34 2008 +0000

    Correcly call the right runlevel for plugins when shutting down.

commit bb41d2cc80927ba86fd49f98320bcce0d0d22edf
Author: Roy Marples <roy@marples.name>
Date:   Sat Sep 27 18:50:21 2008 +0000

    Use flock to lock PREFIX_LOCK so that multiple processes can cleanly write to the same tty.

commit 4291b9140e2d5a63ee8d41ca612fd81a8cbe3dd8
Author: Roy Marples <roy@marples.name>
Date:   Sat Sep 27 17:17:15 2008 +0000

    Warn when waiting for a service every few seconds.

commit 28d7fb9430401d1d2947cd75672f03562582bb08
Author: Roy Marples <roy@marples.name>
Date:   Sat Sep 27 16:56:03 2008 +0000

    When stopping services, check the newlevel if given otherwise the current runlevel. Fixes #100.

commit abe94bec6f1300838212cf70b4afe08a943539da
Author: Roy Marples <roy@marples.name>
Date:   Sat Sep 27 06:48:21 2008 +0000

    Load rtc-cmos if needed, Gentoo #235647 thanks to Robin Johnson.

commit c3e192a8348fd4731ed9806ab046f5d2e1201625
Author: Roy Marples <roy@marples.name>
Date:   Fri Sep 26 23:58:57 2008 +0000

    Stop ssd from waiting by default - most daemons are good now.

commit 13d88731b78cef5bb8b88faa9d3e16068f37598f
Author: Roy Marples <roy@marples.name>
Date:   Mon Sep 22 20:07:14 2008 +0000

    We don't check exec when starting, so don't when testing for crashed.

commit ffc79a50c2ae09658211d2a22484b67212d4617d
Author: Roy Marples <roy@marples.name>
Date:   Mon Sep 22 19:49:16 2008 +0000

    Style

commit 6748c0e04e30ba5a9b09b48373df32a747f0fbdc
Author: Roy Marples <roy@marples.name>
Date:   Mon Sep 22 12:32:35 2008 +0000

    Allow forcefsck instead of gentoo=forcefsck on the kernel command line.

commit 27805de20aae4618c77042761aaf87054f5671e8
Author: Roy Marples <roy@marples.name>
Date:   Mon Sep 22 12:32:11 2008 +0000

    Allow forcefsck on the kernel command line, Gentoo #218431

commit 53693367dfb533cc515ea9751899c3612febc30d
Author: Roy Marples <roy@marples.name>
Date:   Mon Sep 22 12:14:47 2008 +0000

    Our match arguments could be different from the exec arguments, as only the kernel should set script arguments.

commit 554d2fea19274c2c4c7483b2b93d78b6ae9cbde9
Author: Roy Marples <roy@marples.name>
Date:   Mon Sep 22 10:45:01 2008 +0000

    Allow interpreted daemons to detect interperter options.

commit a63303971a8909550b1895f273a04b682baef3ae
Author: Roy Marples <roy@marples.name>
Date:   Mon Sep 22 09:37:28 2008 +0000

    Document the --verbose option.

commit 5610c8560c40bd31b27f342b81227d8a1b4b1594
Author: Roy Marples <roy@marples.name>
Date:   Mon Sep 22 09:34:51 2008 +0000

    s-s-d now handles interpreted daemons more easily.

commit 2c62d095c810015332c1982521f557bb31ed4bac
Author: Roy Marples <roy@marples.name>
Date:   Sun Sep 21 09:53:48 2008 +0000

    Typo.

commit a72dc1194acf5519f6a9d7750fa435916e532585
Author: Roy Marples <roy@marples.name>
Date:   Fri Sep 19 11:34:35 2008 +0000

    Style.

commit dcc4aa131cc278a830f922cdfed7999abd5d05f5
Author: Roy Marples <roy@marples.name>
Date:   Fri Sep 19 11:32:24 2008 +0000

    Document the limitation of symlinking services outside of the service directory, Gentoo #237263.

commit 6b3d8cf598f6bfcdc44dc8fede1827f469b72ead
Author: Roy Marples <roy@marples.name>
Date:   Fri Sep 19 11:24:21 2008 +0000

    Fix stopping wpa_supplicant incorrectly, #107

commit 600d1f62fbda7e66e6ba988cd6ecdd97c076e521
Author: Roy Marples <roy@marples.name>
Date:   Fri Sep 19 09:32:24 2008 +0000

    Allow configuration of bond via extra sysfs entries, #105.

commit 2de401bca120f445d803f996e883d2e4da5d379d
Author: Roy Marples <roy@marples.name>
Date:   Thu Sep 18 22:24:58 2008 +0000

    Enable bonding via sysfs, #104 thanks to Wolfram Schlich

commit e368a4b4f89648713a5ff587b4c2eef3f32df05b
Author: Roy Marples <roy@marples.name>
Date:   Thu Sep 18 19:46:10 2008 +0000

    Add missing profile bits to env, #72.

commit 354fb96ee95ca30412bf53211aca7b9bd62fb771
Author: Roy Marples <roy@marples.name>
Date:   Thu Sep 18 15:36:22 2008 +0000

    Use the new rc_stringlist_find function.

commit 312d6f3e57aa578fb82b7d954f588a8cae35f5ef
Author: Roy Marples <roy@marples.name>
Date:   Thu Sep 18 15:32:57 2008 +0000

    Work with NULL lists.

commit 39ea0cb84dd2eded881e1c77e758505dd08beb99
Author: Roy Marples <roy@marples.name>
Date:   Thu Sep 18 15:28:20 2008 +0000

    Use the new rc_stringlist_find function.

commit 17bf78a53948a5e90c5b1f5d346cda1825d9a52e
Author: Roy Marples <roy@marples.name>
Date:   Thu Sep 18 15:20:57 2008 +0000

    Use the new rc_stringlist_find function.

commit 072328ff60dc56d6943b78fec8f17810424d67e2
Author: Roy Marples <roy@marples.name>
Date:   Thu Sep 18 15:13:53 2008 +0000

    rc_nostop now lists services we should not stop on shutdown.

commit e0dfa472d1d32268d08a91cc37606bd0ec803a11
Author: Roy Marples <roy@marples.name>
Date:   Thu Sep 18 15:12:43 2008 +0000

    Add new functions, rc_stringlist_find and rc_stringlist_split.

commit ccc24d1086ec4a5110739e3b352bb1dc2967a9ff
Author: Roy Marples <roy@marples.name>
Date:   Thu Sep 18 14:25:23 2008 +0000

    Add a config file for ipfw, #110

commit c4c024fc9d907706e3c8e0f31130a516955ba8ec
Author: Roy Marples <roy@marples.name>
Date:   Thu Sep 18 14:13:33 2008 +0000

    Allow an empty bridge with no options, Gentoo #237485.

commit 223015920cb1c947d3dd13f4f0336d9c5fc8e607
Author: Roy Marples <roy@marples.name>
Date:   Thu Sep 18 13:59:05 2008 +0000

    Warn about parallel still locking the system.

commit aa02a5516af31db92db8db665c401f06c929637f
Author: Roy Marples <roy@marples.name>
Date:   Thu Sep 18 13:49:58 2008 +0000

    Use better CFLAGS - some new warnings will need to be fixed.

commit 80a17eb5966a2b2c1dff3206621a338b45cbdf7d
Author: Roy Marples <roy@marples.name>
Date:   Thu Sep 18 13:09:51 2008 +0000

    Clean up some compile warnings.

commit 39304745d4eb49460d2aab307b85a8ff218bfc45
Author: Roy Marples <roy@marples.name>
Date:   Wed Sep 17 16:56:23 2008 +0000

    Allow interpreted daemons to use s-s-d a little easier.

commit 93a3b2dd02a7d74667f559f483407df7c5460328
Author: Roy Marples <roy@marples.name>
Date:   Thu Sep 4 14:54:56 2008 +0000

    Fix iwconfig parsing on Linux, #111 thanks to Andrew Gaffney.

commit 00d010fbe06c68577f860e7e9abc747beea1b209
Author: Roy Marples <roy@marples.name>
Date:   Fri Aug 29 06:43:54 2008 +0000

    Work without IP6 kernels, #108

commit 01de348edeee1c673e6a2ea4077a579e5b257b55
Author: Roy Marples <roy@marples.name>
Date:   Wed Aug 27 16:06:01 2008 +0000

    Add rpc.lockd to netmount.in for BSD

commit fabee4dc2dcd4960c9da2c820eda443ff9d3ef4f
Author: Roy Marples <roy@marples.name>
Date:   Wed Aug 20 10:19:03 2008 +0000

    Actually set the umask.

commit 1ab1e9328a6313ae7d77957168484ce4b52fdf5d
Author: Roy Marples <roy@marples.name>
Date:   Wed Aug 20 10:02:11 2008 +0000

    Add -k,--umask option, Gentoo #232455.

commit a9f7d2d5e5df184fd2eae38422605333e483c4d0
Author: Roy Marples <roy@marples.name>
Date:   Tue Aug 19 22:30:59 2008 +0000

    Allow dhcpcd to use global dhcpcd variable for commandline options.

commit a3c87066181282717ac0db2da904b7d5e127ff72
Author: Roy Marples <roy@marples.name>
Date:   Tue Aug 19 15:27:15 2008 +0000

    Allow OpenVZ to mount /sys and device managers, #102

commit 1f227d62bf079e96771ee49ba499281da326f4e9
Author: Roy Marples <roy@marples.name>
Date:   Tue Aug 19 15:25:06 2008 +0000

    Allow renaming of modules, #103 thanks to Sven.

commit cdace755394f8f07db6140b5e58891161c37a9a2
Author: Roy Marples <roy@marples.name>
Date:   Tue Aug 19 06:44:47 2008 +0000

    OpenVZ can mount NFS shares.

commit 15678263d5285b912d9a5d4ff3d4ff9dd4b94734
Author: Roy Marples <roy@marples.name>
Date:   Tue Aug 19 06:36:43 2008 +0000

    Add new OpenVZ detection code

commit cea206014d80e61e16f53a6c61577d063a7b75b8
Author: Roy Marples <roy@marples.name>
Date:   Sun Jul 27 11:30:49 2008 +0000

    Attempt to make s-s-d simpler by not enforcing the need for a full path and maybe working better with interpreted scripts.

commit 46a74f244e60e30b90f2869b586a27a4405c91cc
Author: Roy Marples <roy@marples.name>
Date:   Thu Jul 24 19:02:28 2008 +0000

    Typo

commit c67233f15cfc0cc246111775d48c99eaa78e6c0f
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 9 18:28:45 2008 +0000

    Don't set silly defaults that may brake users.

commit b15c4758f8cebb444df3ef05a9d1b5c4c8e81cd1
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 9 18:28:14 2008 +0000

    We should unmount / here.

commit 289889ebf0045d603ce857467ed0156d65c8f50b
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 9 17:05:10 2008 +0000

    Fix unmounting some more.

commit 7183cb1b18957f05026e27036f7d70da1571f619
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 9 16:20:48 2008 +0000

    Fix last commit

commit b83108cd2e44bd20840295d595160c6354ed4256
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 9 16:08:38 2008 +0000

    Add a knob to avoid the unmounting of some points.

commit 1ca63447c9a65e595534cafb7a4d497edf7fa92b
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 9 15:22:15 2008 +0000

    Hide mkdir error's

commit c2781c209ec01a863b11f50a0df2d09c6702cbc9
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 9 15:12:56 2008 +0000

    Really test if we can write to RC_LIBDIR or not.

commit 5983add0f21fdacded88836aae8b8e392599060c
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 9 14:24:48 2008 +0000

    No point in re-mounting ro filesystems that are already ro.

commit a566493eb8a1b81260f2c51870148de84f03c3e7
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 9 14:04:40 2008 +0000

    Ignore core files

commit bdd8b150cdd71e17996abc18889440b78592090e
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 9 13:36:37 2008 +0000

    Fix return display.

commit 53401cd35f16066bbfae5f626ccc74f87cc4274e
Author: Roy Marples <roy@marples.name>
Date:   Tue Jul 8 10:48:21 2008 +0000

    STAILQ -> TAILQ

commit 7a6112d3b085d5989503ffe3840ab4530e993cc3
Author: Roy Marples <roy@marples.name>
Date:   Mon Jul 7 14:16:46 2008 +0000

    Punt STAILQ and just use TAILQ so we're a bit more portable.

commit 157db50df72c1bcb71689312ea1760668124d9b2
Author: Roy Marples <roy@marples.name>
Date:   Thu Jul 3 13:30:17 2008 +0000

    Fix is_older_than a little better, and make is_newer_than correct.

commit a88a177f991527e545e75588013afd16c647e656
Author: Roy Marples <roy@marples.name>
Date:   Thu Jul 3 13:11:47 2008 +0000

    Add older_than function to complement newer_than function. Also make the userland instance reversed to be compatable with current baselayout, which truely does suck.

commit d61f8318962346b3b2a3f13e7b489d2c0c397b94
Author: Roy Marples <roy@marples.name>
Date:   Thu Jul 3 13:09:24 2008 +0000

    More unit fixes.

commit 28a65393ca08cb1a27672305fe6e6210ee2f0a9e
Author: Roy Marples <roy@marples.name>
Date:   Thu Jul 3 13:09:10 2008 +0000

    More unit fixes.

commit aa57dd1ff61c41457cf4e87c71b4822cbb789c42
Author: Roy Marples <roy@marples.name>
Date:   Thu Jul 3 12:33:42 2008 +0000

    More unit fixes.

commit e0968a1c2e7feda0e6146c1efdc0ec99027ca608
Author: Roy Marples <roy@marples.name>
Date:   Thu Jul 3 12:20:32 2008 +0000

    Fix test.

commit 2f5d2855ba5497106a3b3ca02c242fb490bb425b
Author: Roy Marples <roy@marples.name>
Date:   Thu Jul 3 12:07:46 2008 +0000

    Add an is_older_than unit test, thanks to zzam

commit db9bf1858777abe21f9d91cbd25b79fd9054bd6c
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 2 23:20:04 2008 +0000

    Fix compile with pcc.

commit feac5ea1d548ba845baf889428d90b15a27a44d6
Author: Roy Marples <roy@marples.name>
Date:   Mon Jun 30 13:36:59 2008 +0000

    Ignore ewaitfile.

commit 64dbae7f6109913dc9292b60fdc34a288bf8b7e5
Author: Roy Marples <roy@marples.name>
Date:   Mon Jun 30 13:33:42 2008 +0000

    If filtering fstab, only match additional mounts asked for.

commit 11e4059b055c56fac0305bddd1f34476b832c832
Author: Roy Marples <roy@marples.name>
Date:   Sat Jun 21 15:31:04 2008 +0000

    Set the default RC_SVCDIR higher up.

commit 5510451bac77cbd490599e506619aa09d9b2607b
Author: Roy Marples <roy@marples.name>
Date:   Sat Jun 21 14:10:59 2008 +0000

    We need to replace @LIB@ here.

commit 11acce3c7d516578f91931f6613cb181f78c27d0
Author: Roy Marples <roy@marples.name>
Date:   Thu Jun 19 23:12:00 2008 +0000

    Use CPPFLAGS so we work with -combine in CFLAGS.

commit 4f2bb5ceafbc09d0c2dea4ee91ddf7d6052e65b3
Author: Roy Marples <roy@marples.name>
Date:   Tue Jun 17 15:14:33 2008 +0000

    open should use 3 args when using O_CREAT.

commit bf8f0da92154f3295c7a84227294e776d179a2ad
Author: Roy Marples <roy@marples.name>
Date:   Tue Jun 10 15:19:46 2008 +0000

    fuzzy dependency ordering should be started, starting, stopped whilst checking runlevel, bootlevel, any at each stage.

commit 9b1cb4e24690fd08f6eac1579fa2f90c7dea5d33
Author: Roy Marples <roy@marples.name>
Date:   Tue Jun 10 15:04:29 2008 +0000

    When we have dependant scheduled services, don't error if a need is stopped.

commit 2adc99a8f5919c7266ab1d4f1c33f969f330c6e5
Author: Roy Marples <roy@marples.name>
Date:   Thu Jun 5 12:26:53 2008 +0000

    No need to include this.

commit fc747f9894d6568c57a824ecb79e1a6379ee6163
Author: Roy Marples <roy@marples.name>
Date:   Thu Jun 5 12:19:49 2008 +0000

    Remove the macro ;)

commit 76063daee519b59045bc5bded6ff87060b2cd1f3
Author: Roy Marples <roy@marples.name>
Date:   Thu Jun 5 12:17:41 2008 +0000

    Update style to more BSDish and replace the big macro with a function.

commit dc891b0647e97cd436242bb73edaa3a4b5792c76
Author: Roy Marples <roy@marples.name>
Date:   Thu Jun 5 10:14:11 2008 +0000

    Remove broken before dependencies, Gentoo #224171.

commit 3525e602d6bd32fe1ee11d03ce644fe6d250a290
Author: Roy Marples <roy@marples.name>
Date:   Wed Jun 4 19:07:09 2008 +0000

    Use addu instead of another loop.

commit 79ebd89d19c2bece426e16cfddf79d642854aeb5
Author: Roy Marples <roy@marples.name>
Date:   Wed Jun 4 19:00:46 2008 +0000

    Only add a backreference if it doesn't already exist.

commit ba8008fb0548a010e9ad760c3d9f34e789a51abe
Author: Roy Marples <roy@marples.name>
Date:   Wed Jun 4 14:09:25 2008 +0000

    Include time headers for ewaitfile.

commit 5e2c3fb5fe6457157d861cd44f2962bcbf0c3856
Author: Roy Marples <roy@marples.name>
Date:   Wed Jun 4 12:58:05 2008 +0000

    Merge branch 'master' of git@git.overlays.gentoo.org:proj/openrc

commit e6aed12328231e3945bffc4ed07475d559ae45f4
Author: Roy Marples <roy@marples.name>
Date:   Wed Jun 4 12:47:06 2008 +0000

    No need to check type twice like this.

commit 83ade5b701eaff9b777649ffad8cb2562cd643ce
Author: Roy Marples <roy@marples.name>
Date:   Wed Jun 4 12:44:45 2008 +0000

    Style.

commit 587051ec679229632d107b24f61d01191f58bc73
Author: Roy Marples <roy@marples.name>
Date:   Tue Jun 3 11:57:15 2008 +0000

    Add the ewaitfile function so init scripts can wait until sockts are created, Gentoo #175783.

commit f2ea7ca51443f2fec41a6a3cbcf468fa84be2a90
Author: Roy Marples <roy@marples.name>
Date:   Tue Jun 3 11:51:36 2008 +0000

    Let ifdown control all interfaces.

commit b41c864fc34803cc9bd0e37395fa878f0a383547
Author: Roy Marples <roy@marples.name>
Date:   Wed May 28 13:39:52 2008 +0000

    openrc-0.2.5

commit c409dd0570ec66946446f4c9a33e29589174afc4
Author: Roy Marples <roy@marples.name>
Date:   Wed May 28 13:38:58 2008 +0000

    Some ifconfig's output weird inet6 loopback addresses

commit aaaa0b50d88d0fd3d2d971b76076e79ccef46b97
Author: Roy Marples <roy@marples.name>
Date:   Tue May 27 16:48:47 2008 +0000

    Be quiet when checking at start.

commit ca6f289c80110c9767bd9ae67ea7017976576837
Author: Roy Marples <roy@marples.name>
Date:   Tue May 27 16:42:28 2008 +0000

    When stopping with a pidfile, only read the pid once incase it vanishes but the process still hangs around.

commit f640ecaebb7b72a43501519944c70eef89b4455c
Author: Roy Marples <roy@marples.name>
Date:   Tue May 27 16:41:53 2008 +0000

    Only check tentative when we have a carrier, Gentoo #223061

commit 75eff5a86b9aa15e584274a7555d13c4aeeef7e4
Author: Roy Marples <roy@marples.name>
Date:   Tue May 27 13:08:14 2008 +0000

    Merge branch 'master' of git@git.overlays.gentoo.org:proj/openrc

commit eeadc618fb7e7c62924c8240c7d6c57c9c9d6007
Author: Roy Marples <roy@marples.name>
Date:   Tue May 27 13:07:18 2008 +0000

    Work with madwifi craptastic drivers. Hopefuly prism54 still works.

commit bb069e161838f9bb343f140a38a80414b62c41c3
Author: Roy Marples <roy@marples.name>
Date:   Tue May 27 10:46:27 2008 +0000

    Use iwconfig defaults and config if available.

commit 3a592fa31b2f51062d496378153e7e446f8246fc
Author: Roy Marples <roy@marples.name>
Date:   Tue May 27 10:25:29 2008 +0000

    Trap fsck for SIGINT as well, so user can ctrl-C to abort fsck and continue, Gentoo #223473.

commit 6b77cc624fcdd920375f7305ae8197a6b8369815
Author: Roy Marples <roy@marples.name>
Date:   Tue May 27 10:05:15 2008 +0000

    Merge branch 'master' of git@git.overlays.gentoo.org:proj/openrc

commit 328215e8416d199263e47e4bbacbb1b265626806
Author: Roy Marples <roy@marples.name>
Date:   Sun May 25 22:57:44 2008 +0000

    Work with new beta5 options to skip hoof files.

commit b03282b901db41f91c442b9d66a9c3b6fc209f83
Author: Roy Marples <roy@marples.name>
Date:   Sun May 25 22:34:05 2008 +0000

    Fix tunnel, #80. Someone should fix iproute2 documentation and help files also :P

commit 08081f7ef4d9d91093cafa4f61b6f4f7b97e200a
Author: Roy Marples <roy@marples.name>
Date:   Sun May 25 22:30:31 2008 +0000

    Fix passno and IFS, #77 and #85, thanks to Nahor

commit 8ca8e00a89733603abba83fe8eb8c5aa428535c8
Author: Roy Marples <roy@marples.name>
Date:   Sun May 25 22:25:29 2008 +0000

    Merge branch 'master' of git@git.overlays.gentoo.org:proj/openrc

commit 1df3ab05b55222b8de176132b87baca1fc2a72d7
Author: Roy Marples <roy@marples.name>
Date:   Mon May 19 13:41:16 2008 +0000

    realloc -> xrealloc

commit 775df18a70cacb4857be43335c13d2c7a8013d6a
Author: Roy Marples <roy@marples.name>
Date:   Mon May 19 13:16:53 2008 +0000

    Fix a potential segfault, thanks to Fernando J. Pereda.

commit 148caecc7e96f54245269c10bfe0536220602540
Author: Roy Marples <roy@marples.name>
Date:   Tue May 13 08:41:54 2008 +0000

    Merge branch 'master' of git@git.overlays.gentoo.org:proj/openrc

commit d0f7a63487f854db42e6026052446c0e01586e34
Author: Roy Marples <roy@marples.name>
Date:   Tue May 13 08:18:07 2008 +0000

    Merge branch 'master' of git@git.overlays.gentoo.org:proj/openrc

commit b7e598ad91517abdd43f7fbce0fb10b22810ef12
Author: Roy Marples <roy@marples.name>
Date:   Tue May 13 00:03:10 2008 +0000

    Install symlinks correctly, thanks to zlin.

commit 5c114d9430acb39e219bfedf2a6426f05339f68a
Author: Roy Marples <roy@marples.name>
Date:   Mon May 12 23:45:17 2008 +0000

    When testing services to stop, we should trace it. More for #79.

commit f13ea774917a45476fed63a3f9c129897da20b6b
Author: Roy Marples <roy@marples.name>
Date:   Mon May 12 23:33:40 2008 +0000

    The real fix for the last commit is to uncomment some code - d'oh.

commit a89171ee9b20ec7062f77dc651fa873690fb50d5
Author: Roy Marples <roy@marples.name>
Date:   Mon May 12 23:17:45 2008 +0000

    When stopping, stop services that need our provide as well, #79.

commit 6d5d655b5212672319780e7c25a4da955eebcf75
Author: Roy Marples <roy@marples.name>
Date:   Mon May 12 23:00:05 2008 +0000

    Style.

commit 0f51f3e8632553e769766ab559dcc6de6cf5abc5
Author: Roy Marples <roy@marples.name>
Date:   Mon May 12 15:13:35 2008 +0000

    We should add devdb to boot.

commit be8f8d0ac0f75dbfb5b804dfb3725cf842654cae
Author: Roy Marples <roy@marples.name>
Date:   Mon May 12 15:11:04 2008 +0000

    Add the devdb init script.

commit d667da8e5c4b3de1f73dd288f88ea8783799735b
Author: Roy Marples <roy@marples.name>
Date:   Mon May 12 13:20:35 2008 +0000

    Check we have a deptree before using it, Gentoo #220579

commit 98946697423c10d5ec0f68cd4f69ec44264b3cde
Author: Roy Marples <roy@marples.name>
Date:   Mon May 12 08:34:42 2008 +0000

    Fix help text, #75.

commit b732df31efa47244a88a0faf8d503e96da1b0777
Author: Roy Marples <roy@marples.name>
Date:   Mon May 12 08:32:19 2008 +0000

    Don't report fstab passno of 0 when using greater or less than, #76.

commit 762dc3d197c9383f746547dde2ad81543861166f
Author: Roy Marples <roy@marples.name>
Date:   Sat May 10 12:29:49 2008 +0000

    Work with dhcpcd-4 style options.

commit 30fe99dead7d2234607df6eb476fec6e03b3a559
Author: Roy Marples <roy@marples.name>
Date:   Sat May 10 12:01:17 2008 +0000

    openrc-0.2.4

commit 2d75eb7976a93085a333f01fa57d89e5438911ff
Author: Roy Marples <roy@marples.name>
Date:   Sat May 10 11:09:52 2008 +0000

    netmount may use openvpn.

commit 3663cf1e2a9b8ac73e76f1ac18dffc8274b1fe65
Author: Roy Marples <roy@marples.name>
Date:   Sat May 10 10:04:34 2008 +0000

    Only launch single user when RUNLEVEL == S, #74.

commit 766ec96e3d6e1b8d7a73bbc46817b763d77d9b2a
Author: Roy Marples <roy@marples.name>
Date:   Fri May 9 10:29:06 2008 +0000

    Add ifdown_eth0=NO so that the interface stays up for WakeOnLan, Gentoo #220875

commit a854fe6d61257ff3dc6f4d2bc24baa42d80a9067
Author: Roy Marples <roy@marples.name>
Date:   Wed May 7 09:47:07 2008 +0000

    Simplify the wait code.

commit 619b0b4f37dbf05f8e30e15b839ed17ab1a21f5b
Author: Roy Marples <roy@marples.name>
Date:   Tue May 6 21:53:21 2008 +0000

    Fix the EINTR check for waitpid, Gentoo #219929.

commit c8248d05a03209511f62c346d6c57ece38a87c6e
Author: Roy Marples <roy@marples.name>
Date:   Tue May 6 19:52:30 2008 +0000

    Ensure that make dep ordering is correct for install.

commit 5ae702339e6e2e6a4921aad4dd923f5d20492a53
Author: Roy Marples <roy@marples.name>
Date:   Tue May 6 16:21:16 2008 +0000

    We don't need to handle SIGWINCH in sysinit, so this should fix loading a framebuffer module in init.sh (Gentoo #219929. Ideally someone should tell me why this is happening and if there is a better fix.

commit d384502e57ba25f5c97e5badd8113d92447f1d8f
Author: Roy Marples <roy@marples.name>
Date:   Thu May 1 15:18:34 2008 +0000

    There could be a space between #! and /sbin/runscript, Gentoo #218001.

commit bdaca0baf5a87eb816cfc6de568839cfaf5db48b
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 30 16:44:29 2008 +0000

    Busybox find now works with -exec correctly, so remove our nasty hack.

commit 5188fd25927598ee63e46d7ff15e67571b13dacb
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 30 16:33:54 2008 +0000

    Wups, test compiles before commiting :)

commit 5b800030f11b78a73e65e06e858d22756f98d60f
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 30 16:26:05 2008 +0000

    Remove redundant checking of /proc/pid/exe

commit 208443fa0ecb600ce5c4122b32d9af2f2667a226
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 30 15:26:29 2008 +0000

    Save a few bytes and make it easier to read.

commit a818eebf7b1064ed2c42eb37c23ecd73ee39d327
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 30 12:26:38 2008 +0000

    No need to init this.

commit 10910876d1a9e53bae464864b735e99642cbc26e
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 30 10:55:42 2008 +0000

    Make the function a little smaller.

commit 35b4978152b8591926dbe7e67e7ff6ede184f34e
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 30 10:31:06 2008 +0000

    Style

commit cedd81801a46b6c0750f97bfc89e08626f4442c1
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 30 09:18:20 2008 +0000

    We should use correct iproute2 commands and fix busybox as it's iproute2 implementation is a little broken.

commit e273b4e08ee0ebc1a001d60e2a5b65a9553a8a8a
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 29 11:08:02 2008 +0000

    Fix another leak.

commit 50cff8ebc8dd531452e54ca8c411a0c6649e1f8e
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 29 10:49:50 2008 +0000

    Tweak the last commit and fix a valgrind error.

commit aec83494d6c960906f4e9bcbee39d36224328075
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 29 10:26:17 2008 +0000

    Merge branch 'master' of git@git.overlays.gentoo.org:proj/openrc

commit 5ba6f0a62817f6031936b8880a15c404840924bb
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 29 10:25:45 2008 +0000

    We need to ensure that the init script started is correct, translating symlinks. This has a new rule - multiplexed services must exist in the same dir as the master sript. So we need to ensuret that net.lo(0) is the real script and not a symlink itself. This fixes Gentoo #219526.

commit 5a59542629084aee819576ba41af28bd525e856f
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 29 08:00:50 2008 +0000

    Fix syscons for setting the font correctly.

commit 52711bdca7310a9fd3cea641bafae09dab33da51
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 28 18:39:51 2008 +0000

    Release openrc-0.2.3

commit 53902cefb8a62601fd43e33ba91965b19a239ac0
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 28 16:04:16 2008 +0000

    Add rc_program function which uses fork and signal masking to try and resolve the waitpid issue, Gentoo #219179.

commit 75f991068d9bc5830a973817c0eb5ef4b978ff14
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 28 12:48:20 2008 +0000

    Fix multi platform a little.

commit e499e58310e1bab0543f705e38435608909de3ca
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 27 21:04:37 2008 +0000

    Don't re-start or re-stop failed services if runlevel is changing.

commit b08b6cd91b5d7e5f3ad14f5096ae6b551fe2dc67
Author: Roy Marples <roy@marples.name>
Date:   Sat Apr 26 19:32:28 2008 +0000

    Always define template start/stop functions so that the real script name isn't hidden when errors are in the real start/stop functions, Gentoo #219179

commit 3c2b93fc9c607b3cd9965d0c84db5e32caaa46c4
Author: Roy Marples <roy@marples.name>
Date:   Sat Apr 26 14:59:07 2008 +0000

    Check we have a list before running depends.

commit b5d829789f6f4fabb02b7e995267f6e906b002ef
Author: Roy Marples <roy@marples.name>
Date:   Sat Apr 26 14:57:39 2008 +0000

    Check we have a list before running depends.

commit 1e3442f95d2acd290e417f9b26e908c98c4a2c36
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 23 13:17:13 2008 +0000

    Work with aliases on NetBSD.

commit 2bda1871a19faf6c7d05b2f925a82f2eb0f323b0
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 22 13:46:53 2008 +0000

    When fsck_passno is set, show this so output is clearer when fsck is multiplexed, Gentoo #218141.

commit d3b111bd5831bc1153a7a42f553d92355495e2c3
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 22 08:12:26 2008 +0000

    Our init scripts normally output context in [ .. ]

commit dbea63b76d4c2770bc41456094a451e1186b0315
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 21 21:34:52 2008 +0000

    Fix logic for templates.

commit 6a5287dbb560a94018faaa8eaaff0fb69452c77c
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 21 19:26:56 2008 +0000

    Typo

commit df8eeba2fb5b0dc460b5f6aac5dafc380e17242e
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 21 17:32:17 2008 +0000

    Punt is_function in favour of POSIX shell builtin command, thanks to Harald van Dijk for the idea.

commit 54fce42c6f1ef8f834f5878b35e9dcab0cfe0b08
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 21 13:07:04 2008 +0000

    Merge branch 'master' of git@git.overlays.gentoo.org:proj/openrc

commit 54d7aa39dd54ceaf7b7e509b3792bace9f34bad0
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 21 10:56:28 2008 +0000

    If we don't have permission to inspect the pidfile, don't report crashed. Gentoo #218028.

commit dc5d63aa9709f542e3a9cb7846f7a99cf60af0f6
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 21 10:29:29 2008 +0000

    Add RC_TMPDIR so that there's a writeable location during boot.

commit bab5d7767ddde165f1c79e8d5ee9b748e4dae21d
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 21 10:26:40 2008 +0000

    Merge branch 'master' of git@git.overlays.gentoo.org:proj/openrc

commit 799686e40df455b136dfe41e805cd04a2813cc00
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 20 14:24:35 2008 +0000

    Fix force_preferred, #60.

commit d83ae59ccabcde6cf1bee735c794cea2069c0a34
Author: Roy Marples <roy@marples.name>
Date:   Sat Apr 19 17:19:59 2008 +0000

    Add help for mountargs, #63

commit 18b41087551da7346cb419ed2135674277c2507a
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Apr 19 07:22:30 2008 +0000

    add support for parsing newer ifconfig output
    
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit e96347523f7bfa7da55c34c34af6dcdedd939ba9
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 18 23:00:43 2008 +0000

    We should check type output to ensure that we're really calling a shell function and not some badly named binary like stop from boinc, Gentoo #218063.

commit f0aacec02eb04f1843cc5c729fd5510c2342660c
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 17 10:19:58 2008 +0000

    Cast to unsigned char for ctype calls.

commit 57e1dd7389229718b170d5c6fe52b0b051729801
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 17 00:25:08 2008 +0000

    Fix rc-status some more.

commit c89b3763fb9b940e43c61b2dba1653a0d5229b91
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 17 00:09:34 2008 +0000

    Respect shutdown -F on Linux to force fsck, #59

commit 425abe40c5b511e684efe508972b9036462a2358
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 16 19:47:19 2008 +0000

    Only report unassigned services when there are any, Gentoo #218005.

commit 725b9dc89c59248c4503f27e62dcd1333001c082
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 16 15:23:57 2008 +0000

    Use qlen instead of txqueuelen so we work with busybox iproute2, Gentoo #217948

commit 22d650c4503f34fcd808e55546be7ed110cf81e3
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 16 15:02:19 2008 +0000

    Merge branch 'master' of git@git.overlays.gentoo.org:proj/openrc

commit 809ac86c6935a1fcc5e400b57f7112bc618ee3f0
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 16 15:01:52 2008 +0000

    We should only check dependencies in files.

commit b3310e8e10482a9d209e21676f0cf81ee4ec94a0
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 15 21:50:08 2008 +0000

    Fix rebooting for OpenVZ systems.

commit 29369c44c16e2cc4b162476022e400a913549758
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 15 16:16:59 2008 +0000

    Add help text for rc-service --resole.

commit 292fe3a5683342184d0b4905e02b06f8527d8691
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 15 16:09:02 2008 +0000

    Release 0.2.2

commit 99d5046a56a0679fe430c465034cefc8b476ea46
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 10 08:49:05 2008 +0000

    Don't assume that we have a list returned.

commit 0e38dcc4d2e9c6f56bf02ff660f63526a942027d
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 9 22:56:32 2008 +0000

    By default, rc-status now shows the statuses of the services in the current runlevel and any unassigned non stopped services, #52.

commit 9176b77c2383f3a70f842b82dbdd4ab59f7c9bd3
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 9 19:02:41 2008 +0000

    Merge branch 'master' of git@git.overlays.gentoo.org:proj/openrc

commit fad61a7c4b2ca404c09c705d8de41133ae14ec5b
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 9 12:24:34 2008 +0000

    Fix windowkeys.

commit 0e114abf5d81089787600f4028402f38198c5baa
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 9 00:21:49 2008 +0000

    Respect shutdown's fastboot.

commit bc369085c75ebca4d5c7aa803d98fef6b92c2622
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 9 00:06:50 2008 +0000

    More ltsp fixes.

commit 6d8b36e09db079a4ea65acc3f90d26c0633412db
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 8 23:25:48 2008 +0000

    Fix netmout for nfs

commit 87597357116dffd4e1136c16aab431844877a247
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 8 22:57:42 2008 +0000

    Give an error when running zap as a generic user.

commit 034b9b7a12228bfa9171aae2b578c649ff1de54e
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 8 16:01:40 2008 +0000

    Add a silly rc_runlevel function to appease SpanKY :)

commit e82435c2f42955d9e78bbf307b2700636d6abcd7
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 8 15:59:56 2008 +0000

    rc_runlevel is now the preferred kernel commandline option for choosing default runlevel.

commit 71dd28065663fcd56a8160ecb1be262235a648b8
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 7 11:48:32 2008 +0000

    Fix rc-service --help output.

commit 594d98eddca016ef6f74f0a1d07ea4a8c70d193d
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 7 09:37:14 2008 +0000

    Tests now work on NetBSD.

commit dcdfdb442f436cd1f1bdfdc46622f5d6f48f8061
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 6 20:06:07 2008 +0000

    Some systems are only detectable after /proc is mounted, so re-test if unknown.

commit 143239e143d57c550e949fb3fcc4540de7c8d354
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 6 13:24:10 2008 +0000

    Increase pidstr size to 10 chars.

commit 5d38d4d6e9e1e758395546e38af8e8c738043fd1
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 6 13:21:42 2008 +0000

    p could be null here.

commit c18c4fc4ccfb298cf6eed8f0b1c16cf30ec5b724
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 4 16:31:56 2008 +0000

    Check list existance before iterating, Gentoo #216091.

commit 5ebe7f1349d8d32744be44c03a79a3aba0a76b81
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 2 16:35:28 2008 +0000

    Push out 0.2.1 to solve a few issues.

commit 6a227d0c45f18e79aacf3fbf97936ba0a94e3b14
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 2 16:35:02 2008 +0000

    Merge branch 'master' of git@git.overlays.gentoo.org:proj/openrc

commit 403abe73decb57a7f2110b6f965f81570cfbb2bf
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 1 21:34:31 2008 +0000

    Fix vlans, #49.

commit be82e950d70d7568eabbdad78dfc5c7faf6d22b1
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 31 16:31:43 2008 +0000

    Merge branch 'master' of git@git.overlays.gentoo.org:proj/openrc

commit 3ca8387966443a9fc4291f6484cf9b653204691b
Author: Roy Marples <roy@marples.name>
Date:   Sat Mar 29 09:37:59 2008 +0000

    Document SSD_NICELEVEL.

commit f5a9b42215562bdda61ca3a9724e30bd03bbe9f5
Author: Roy Marples <roy@marples.name>
Date:   Fri Mar 28 19:05:26 2008 +0000

    Restore noserver and noopenvz to sysctl.

commit d370918f0c85d26ef709faa3a4712c15ebf272a1
Author: Roy Marples <roy@marples.name>
Date:   Fri Mar 28 16:21:59 2008 +0000

    Merge branch 'master' of git@git.overlays.gentoo.org:proj/openrc

commit e995404e3bd4a415193ee57e97f5d69ac45ca73d
Author: Roy Marples <roy@marples.name>
Date:   Fri Mar 28 16:10:31 2008 +0000

    Add XEN support to NetBSD.

commit caa4704ce64ef74b2a8c7e511646b6975990d800
Author: Roy Marples <roy@marples.name>
Date:   Fri Mar 28 16:05:11 2008 +0000

    Merge branch 'master' of git@git.overlays.gentoo.org:proj/openrc

commit 17d28fde42923741715df961b5986325c628b193
Author: Roy Marples <roy@marples.name>
Date:   Fri Mar 28 16:04:48 2008 +0000

    Support XEN on NetBSD

commit b418f2e471f743b9655847970b13e37b30423c6e
Author: Roy Marples <roy@marples.name>
Date:   Fri Mar 28 11:06:47 2008 +0000

    Allow our headers to be included by C++ programs easily.

commit ee4e861796ad9b19acb45c576ed181ce2fdfebf5
Author: Roy Marples <roy@marples.name>
Date:   Fri Mar 28 10:46:12 2008 +0000

    Put some dir locations in rc.h so that 3rd party apps can become awware of them.

commit 11e33e81c855395cbd931e99f7452ed6b3fef357
Author: Roy Marples <roy@marples.name>
Date:   Fri Mar 28 08:42:05 2008 +0000

    Remove rc_service_start/stop from librc as they block and unmask signals. The application may not wish this behaviour and should fork/exec the service itself.

commit 5e8ed2aecabf48895e6d3d090591ffb59fc7588b
Author: Roy Marples <roy@marples.name>
Date:   Thu Mar 27 19:55:03 2008 +0000

    Tweak install of runlevels.

commit 742310744d61a2bc2553f8c34aededf30fea3f18
Author: Roy Marples <roy@marples.name>
Date:   Thu Mar 27 18:34:12 2008 +0000

    We would sanitize $RC_LIBDIR/sbin as well. If it's really needed then rc-functions.sh will add it back.

commit 4e9b58b07da4d95e5303db1372772f3b9ab216f0
Author: Roy Marples <roy@marples.name>
Date:   Thu Mar 27 17:09:18 2008 +0000

    Sanitize the write rc dir.

commit c564043f86d50e20b8787272932cb12ddd93a915
Author: Roy Marples <roy@marples.name>
Date:   Thu Mar 27 16:59:33 2008 +0000

    No need for the extra rc.

commit b3d1182a2f233d49e07de35eeab9506fa5892c05
Author: Roy Marples <roy@marples.name>
Date:   Thu Mar 27 16:53:22 2008 +0000

    Fix mulitlib issues.

commit f6cb321f9f01cd0d6380c931f7b2f379dd4c9d82
Author: Roy Marples <roy@marples.name>
Date:   Thu Mar 27 14:56:50 2008 +0000

    NetBSD doesn't work with this powerd.

commit f85c6ca84c1d4768e8ca889e64542b97f4048cd9
Author: Roy Marples <roy@marples.name>
Date:   Thu Mar 27 14:03:37 2008 +0000

    Make our messages similar

commit d09f9f47eb92e85afd52b83da6a287369b280f71
Author: Roy Marples <roy@marples.name>
Date:   Thu Mar 27 13:49:49 2008 +0000

    Split terminal encoding out.

commit b271ac5af525e494e55c41ae8ce285420f5ce9a4
Author: Roy Marples <roy@marples.name>
Date:   Thu Mar 27 09:33:20 2008 +0000

    Fix install of rc and rc.shutdown on the BSD's.

commit fccff6a4ed64e746aec83778474c48ee0d503242
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 26 22:39:27 2008 +0000

    Allow multiple ntp_servers without error, #47

commit a1d555bdc4fbbc7de2589ff3a9a16c84468a3638
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 26 19:58:43 2008 +0000

    Release 0.2

commit ecba32d1caf8a2f642f09e9843176f59b75f0743
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 26 19:39:43 2008 +0000

    Install ifwatchd for NetBSD.

commit a718975e080b04163b181775a8b5fa5f47f0c048
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 26 17:55:35 2008 +0000

    Add license blurb to a few files and append my email to my name.

commit 15d34d0a160a00d400413c7639b27ac737b97f49
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 26 17:53:37 2008 +0000

    Add license blurb to a few files and append my email to my name.

commit 864e17fabc492bc9b004792f465ef840204aaeb1
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 26 17:34:23 2008 +0000

    Ignore more files.

commit cee3ccc4c10e8ba0d1635dd95d8e491435d130bc
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 26 15:10:26 2008 +0000

    Fix a segfault if rc.conf does not exist, Gentoo #214887

commit f90f2914b927d303d219fb2862f0dbf868be17a3
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 26 14:41:47 2008 +0000

    Add mising net files back.

commit ac834ddc5672e9d35122787123e5c02d0d39cc4b
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 26 14:39:13 2008 +0000

    Fix linux compile.

commit 8e71c034951d2772c5f1ba672a888a13da0bdfde
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 26 14:29:27 2008 +0000

    No more need for SUBOS

commit 833903fc78743ded22abcc49fba285ff9ddb8e8a
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 26 14:27:46 2008 +0000

    use $CP and $SED instead of cp and sed

commit ccf238f852fd0463e68d33b91f0dd55000c325e3
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 26 14:18:01 2008 +0000

    Merge net.OS into net

commit 55858eca2ec678fce14b21df33d08f5aaac94bcf
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 26 14:02:59 2008 +0000

    .sh.BSD.in is a better extension.

commit ac037241a72cdf830397a3b02d8873da3604fe4f
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 26 13:59:06 2008 +0000

    Merge doc dirs.

commit 6af2b20297afb9cca88eb4843997c87eb48a5429
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 26 09:36:34 2008 +0000

    Split sysctl into  Linux and BSD specific files.

commit 1b40379a79cb96d9ca8fb0d268a73fe7426fbf5c
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 26 08:43:05 2008 +0000

    We should sort using LC_ALL=C to avoid locale issues.

commit be1f9b0a93ac3af0899fc7cf70ed7604dbc598a4
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 26 08:08:47 2008 +0000

    Add --exists and --resolve to rc-service.

commit e30ea10e6cb3d3eca370fdb22d479834ec3f86a4
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 26 05:08:56 2008 +0000

    Fix some more prefix stuff.

commit 3f37d4771b7b88a9c17f8c4b677551ade486416f
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 26 05:08:38 2008 +0000

    If we have coldplugged services, but no start_services, we need to create a new list for start_services.

commit 4f4b74e110cf124e6d992a48e5b499bced53bd46
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 26 04:48:39 2008 +0000

    Check the right dir for installed scripts.

commit f06e186d435142779c8d743b63e250e577580dca
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 25 20:39:31 2008 +0000

    Fix mandir install.

commit 5866d829bb4c3352056e2c6775efe71f299ee120
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 25 18:33:45 2008 +0000

    Try and fix more prefix stuff.

commit 068c90c82b07343b5f54fe5ac836fe3efc66f51f
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 25 18:20:23 2008 +0000

    Fix exclusive removal.

commit 59b27ad7eb40d81225d5adc96d97f7e6250b5b79
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 25 17:37:54 2008 +0000

    Fix man install.

commit 85b480a6f2bddff033c95b4e711a3c2b9d8cd74c
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 25 17:32:19 2008 +0000

    Tweak man install.

commit ae9ce044687fa3b94035a16bec1b54ed23eb9a9c
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 25 17:24:54 2008 +0000

    Allow MANPREFIX to work.

commit c807b3a815c3ed4be25248410830722e3c2767ab
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 25 17:19:41 2008 +0000

    INITDIR should already be prefixed.

commit 4d6b84290ac874a378a60dc76b0a074b839cc443
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 25 17:17:15 2008 +0000

    These now need to be prefixed.

commit 08791ec4a2cbec688a81d6e4bcac1e34fae9c83a
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 25 17:11:44 2008 +0000

    INITDIR should already be prefixed.

commit a99b8d349c1c8223ace445abbba37815ef4748e5
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 25 17:09:56 2008 +0000

    SYSCONFDIR should already be prefixed.

commit 74bff8a931f85ade7b20f2ff3708d5d01081b672
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 25 16:59:26 2008 +0000

    DIR should be prefixed already.

commit a2a7f0740e78e5ff1012752254827ee54700b299
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 25 16:40:49 2008 +0000

    Install swap-blk on NetBSD.

commit 9b2f7bce99255ad9ea81d93e93ec2f4fe044a4ef
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 25 16:25:12 2008 +0000

    Fix FreeBSD makefile.

commit 3d0fc150dcb3a26be482037bfa0d84f706e2ce1c
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 25 14:35:52 2008 +0000

    Fix sysctl on Linux and BSD.

commit fc7e6a3ada77ac047e166987e4c463b4b37804a6
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 25 14:35:36 2008 +0000

    Fix module args per kernel version.

commit 748ddf28ede50168bf3150073c3de9072d428207
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 25 14:15:54 2008 +0000

    Include Os Makefile.

commit 55eb3794fb4ad563102d5ab30c1d5337a599b2e5
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 25 14:06:05 2008 +0000

    Rework our folder structure so that we don't have OS specific dirs, making it easier to share init and conf files per OS.

commit 08aff6ef44ac5dc438d916b53aa61385f6d299f3
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 25 08:31:48 2008 +0000

    Allow per kernel version module arguments.

commit 0347f01345459a506d606002e6a0da29d8bcb77a
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 24 13:30:24 2008 +0000

    Fix segfault when no coldplugged services, thanks to Daijo.

commit 5a80daaf4318fedf38af2e2a0df1f5a67e3670b0
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 24 13:09:42 2008 +0000

    Fix coldplug disabling.

commit 64332a367555b501a46031403cefeb3ea3a01414
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 24 11:52:01 2008 +0000

    Add debug.mk

commit 821166fbfd4bd81716fc0b5f87259bf6caf7b7b1
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 24 11:43:03 2008 +0000

    Fix debug support to work without gmake and bundle -ggdb in properly.

commit 79719b538693c10cf8881da4357dd16a1117af34
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 24 10:13:49 2008 +0000

    Fix adding services to the boot runlevel, #43

commit 486d5176749922bf0eb1ffc7d99a4b1b62740be3
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Mar 24 07:17:05 2008 +0000

    setup a bit of a test framework

commit 1c9c2f9fcffdc5d66af6e4b3dbf506985ebe438a
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Mar 24 06:30:21 2008 +0000

    fixup testing

commit 7b08276fa822a895ef5e4eaa1b0a38183476b84c
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Mar 24 06:24:46 2008 +0000

    add missing rc_stringlist_new/rc_sys hidden defs

commit 58caa0864fe5dcd0c1036c9352ed945ae6ccd44a
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Mar 24 06:18:51 2008 +0000

    ignore generated files

commit 9ed5d28d157f95f665f95b0a4fa8b4028d16d1bf
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Mar 24 06:10:40 2008 +0000

    add check/test rules

commit 02e7e1b9884f3f835e8ffd1f5ce804df5fc6b17b
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Mar 24 05:54:18 2008 +0000

    dont leak the _e var

commit a1b97682434237d84b0aa4a477d001029a7dc019
Author: Roy Marples <roy@marples.name>
Date:   Sun Mar 23 22:58:25 2008 +0000

    Fix returning a service descriptions.

commit 06635dedbc59ec84e1bcf2c443c54b9301204396
Author: Roy Marples <roy@marples.name>
Date:   Sun Mar 23 22:57:56 2008 +0000

    We don't change service here.

commit 2715981ff967386a070d52cf9c00ef71983a085b
Author: Roy Marples <roy@marples.name>
Date:   Sun Mar 23 20:04:18 2008 +0000

    Revert commit 48fc097e39ec9b3edd9a8929fe9faf8f302451ec and add a comment about making it a runtime config option if it needs to change.

commit ce644e17353b8c29fad129db98a6f4d971561560
Author: Roy Marples <roy@marples.name>
Date:   Sun Mar 23 19:51:41 2008 +0000

    Report mounts in reverse order, Gentoo #214150.

commit ec4721dd7f91af650b3d385522b3fcd53a55b00e
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sun Mar 23 12:49:40 2008 +0000

    fix spacing in the trailing [ msg ]

commit e1b09daaac1dd337fe9a2ae58f42d3a593284855
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sun Mar 23 12:24:15 2008 +0000

    fix broken whitespace -- no functional changes

commit bd34df63613a368698dca3465a2f05273e120c5f
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Mar 22 23:02:30 2008 +0000

    add support for automatic gdb launching when RC_DEBUG is defined to 1 to ease bug reporting / information gathering

commit 7beafe361a7f9f06a620a05770821f5650c2c4b0
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Mar 22 23:01:06 2008 +0000

    ignore gdb files

commit 5dcdfcdf7a5a4df6196ad87741f7a0a9e270926d
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Mar 22 23:00:32 2008 +0000

    add local rpaths if in the git tree

commit a4f9eb699b915c90ac93a4a9af4de5456085c26c
Author: Roy Marples <roy@marples.name>
Date:   Fri Mar 21 20:02:10 2008 +0000

    Fix some crashers in a prefix with few services.

commit f7f3b6ae093106e0f86556d1424af30e2122192a
Author: Roy Marples <roy@marples.name>
Date:   Fri Mar 21 17:41:01 2008 +0000

    euid 0 should always be able to find pids too.

commit f6b47568ad9a103c5c84d9e9005a51be87273026
Author: Roy Marples <roy@marples.name>
Date:   Fri Mar 21 13:04:57 2008 +0000

    Merge branch 'master' of git@git.overlays.gentoo.org:proj/openrc

commit 85a6addd235e1c13d2e67e5e9b6d4c963b47140d
Author: Roy Marples <roy@marples.name>
Date:   Fri Mar 21 13:04:29 2008 +0000

    Only test crashed services if we can see pid 1.

commit 4079b4d65d6f8f8b9f8b29bfdce2abc773cdabad
Author: Roy Marples <roy@marples.name>
Date:   Fri Mar 21 11:20:03 2008 +0000

    Clean up error display.

commit eca292e5d9a2ae753257633ab9113c225f11a10b
Author: Roy Marples <roy@marples.name>
Date:   Fri Mar 21 11:02:02 2008 +0000

    Some OS's block on umount -f, so don't use it.

commit fe90a548b547fd87643e3dc1ab87fbb45dc94456
Author: Roy Marples <roy@marples.name>
Date:   Fri Mar 21 10:34:09 2008 +0000

    ksoftlevel -> krunlevel

commit 494fb0a5f6df3c8da636f4db057fbb3994c1ad6c
Author: Roy Marples <roy@marples.name>
Date:   Fri Mar 21 09:10:59 2008 +0000

    Add --list to rc-service to list all available services.

commit e505e6ea4131224d4f11e87d8b086c9e35b448a2
Author: Roy Marples <roy@marples.name>
Date:   Fri Mar 21 08:31:04 2008 +0000

    We should only free the buffer when done reading the dir.

commit e47661449a7fe3c52ff0b5766bfa54699e1030bd
Author: Roy Marples <roy@marples.name>
Date:   Fri Mar 21 00:30:22 2008 +0000

    More pathing fixes.

commit 04b0acb0106acf4fadd51b8dce1fcd3ea736ce6f
Author: Roy Marples <roy@marples.name>
Date:   Thu Mar 20 19:57:31 2008 +0000

    Fix pathing again.

commit e598b7d2cdca96468a6511ccb0a0e895d3750d86
Author: Roy Marples <roy@marples.name>
Date:   Thu Mar 20 17:52:07 2008 +0000

    Tweak install.

commit ec2d39d024b6efcf4c20ad27f664af9289230292
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 19 22:26:45 2008 +0000

    Just warn about the incorrect service. Let the right service be more explanitory about missing options.

commit 3b888b385aa9d34859d09b29e0738a60c97010d4
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 19 22:17:10 2008 +0000

    gitignore

commit eea30772d4543f409692cb716dc53076b912cff4
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 19 22:11:22 2008 +0000

    Fix last commit.

commit d948e65d60911fe499b9ffa43bce531ae396118f
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 19 20:04:48 2008 +0000

    Give a better error message when no service specified.

commit 97abd915772777b7bfe56c7d8574394eb9bc7058
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 19 20:01:48 2008 +0000

    Report wrong service correctly.

commit 5f091395c7b92211c0d875ee9e4bd49d2efc35b3
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 19 19:59:50 2008 +0000

    Typo.

commit 6159a32f39afc60d88602cc796cef6a395bb78bf
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 19 19:57:24 2008 +0000

    SVCNAME -> RC_SVCNAME, but export SVCNAME still for compat.

commit 6d2e1f7addcf5ff6594d381845708229086d8d96
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 19 19:43:08 2008 +0000

    Fix building on Linux.

commit d9ec62b22a8ccfebda4af34d8319b33a8a5e3bbb
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 19 17:11:50 2008 +0000

    Add rc-service and update all softlevel refs to runlevel.

commit 089caec283e1e1b39767abf9cb355f47ee6daca6
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 19 15:38:05 2008 +0000

    Add missing .mks

commit 64853c4916945ad760f06c27c363a201c1643271
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 19 15:22:20 2008 +0000

    Rejig the build system a little so we have per ok defs per system. Probably easier in the long run.

commit 0e6eb0f7640a5994755e93ea65e630d6ab917eaa
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 19 15:21:42 2008 +0000

    Ensure that our path includes packages and local

commit f69013adbe26b982bc1d0f49fd73e071ec85c79a
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 19 15:15:09 2008 +0000

    Fix define name

commit 1443fee901afd4f5fc9ea5b57f0f41369ce93532
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 19 12:26:47 2008 +0000

    Fix errors when reporting who we are scheduled by.

commit cdd3881c1b301f3cd1035ca1eedf2bfcc37e4403
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 19 12:26:09 2008 +0000

    Return scheduled services correctly.

commit 773d50dabbc3ce5c4b2553388813eaea90247b51
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 18 23:06:02 2008 +0000

    Get going_down and parallel the right away round.

commit 7b8215bbd3124117b1c5618cea05b6d6d29fce09
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 18 08:19:29 2008 +0000

    Support pam_mktemp.

commit 51c825ceee9f86deb1afc20f4406c2c8dbb3d705
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 17 21:27:37 2008 +0000

    Make rc_getline private and save it's buffer so it's sort of like getline from glibc.

commit b9eb450696eec614acc983648e2ab04f3fd44463
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 17 17:57:07 2008 +0000

    Fix some tests on FreeBSD.

commit c74cfabe2e066a1bbf7fb8e6dfe652fe012c70bf
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 17 16:42:31 2008 +0000

    init some vars.

commit 5d77c0db6b8641b39a27b0824fc3a7e075d38ff5
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 17 14:42:10 2008 +0000

    This should be a fixed buffer.

commit b2f7606b2366bd4c7196f3ce786375353e942e80
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 17 14:31:44 2008 +0000

    We should check for NULL here.

commit 4c1466642351ddb01cc7353601153a79326f18f7
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 17 13:25:56 2008 +0000

    Punt the rc_strcatpaths function and use snprintf instead to save on expensive malloc calls.

commit 50a7697bf207e4919ce893bfc1604fd3a9d807de
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 17 09:59:52 2008 +0000

    rc_find_pids now returns RC_PIDLIST instead of a NULL terminated array.

commit 40930d7d0a613aaf6fa124a5963afcae0c30ce7a
Author: Roy Marples <roy@marples.name>
Date:   Sun Mar 16 17:27:13 2008 +0000

    Use correct TAILQ_CONCAT macro when not defined.

commit 1fd1472ddeb4a9e248bd20a378091ffe6f1132b6
Author: Roy Marples <roy@marples.name>
Date:   Sun Mar 16 17:01:35 2008 +0000

    Add new stringlist files.

commit cb9da6a262b60255cd037f20b4cde3ab2c8a1e6a
Author: Roy Marples <roy@marples.name>
Date:   Sun Mar 16 17:00:56 2008 +0000

    Remove null terminated char ** lists in favour of RC_STRINGLIST, using TAILQ from queue(3). Refactor code style around the BSD KNF.

commit 40e12f6ba026af9c24d5c3d8e36512719ed5faee
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 11 15:00:16 2008 +0000

    RC_SERVICE now points to the service file, so daemons can recall us directly.

commit 568ec5f343912f4b63a2db769da68e842a239ae5
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 11 13:55:39 2008 +0000

    Don't state the fstype we're using as fstab could be totally different.

commit 6f68c44a77c37efc2a4f773e9c4e483ea7139125
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 11 13:51:06 2008 +0000

    mount may not be in /sbin

commit b7c0d8b43cf29418ccb00e80352c15499972c0b8
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 11 13:45:58 2008 +0000

    Remove debug LDFLAGS

commit 52a3cc162ba7b18b568c091eff5ec35700847eb6
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 11 13:39:20 2008 +0000

    Add a --mount command to fstabinfo so it can mount specific mount points, as mount can get confused with binded mounts, bug #36.

commit 0fa512c2b53fa6452078a8e0cd6279e56e271e3b
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 11 11:03:34 2008 +0000

    Coldplug net devices on the BSD's as found by getifaddrs.

commit 656b79b51e0f0a0c26e73b8b7c61e7cca8cbb600
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 11 00:04:49 2008 +0000

    Fix getting MAC address on NetBSD.

commit 8b23aaecff11723184bc4761bef68ed98a3ad7af
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 10 21:34:46 2008 +0000

    Add ifwatchd.sh to power the NetBSD ifwatchd program. Let wpa_supplicant work with it.

commit f20099bc337eee3238911b48981d82c0e63603ef
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 10 11:33:39 2008 +0000

    Fix the old RC_USE names.

commit a276050a547776511c2ff13193a4bf94133eb566
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 10 08:56:28 2008 +0000

    Use correct shell_var function, Gentoo bug #212877

commit c4a54605e0429d7195aae2f3c39f2d371f13c992
Author: Roy Marples <roy@marples.name>
Date:   Sat Mar 8 15:22:29 2008 +0000

    Support baselayout-2 uppercase RC_NEED vars, #38.

commit df1377601b14ed7d9375f646ed58d6a4ad76e278
Author: Roy Marples <roy@marples.name>
Date:   Sat Mar 8 15:18:53 2008 +0000

    We don't mount /lib/rc/init.d when / is rw at boot.

commit 4742e1ec696efad9f786d1b46f0fa9e787622539
Author: Roy Marples <roy@marples.name>
Date:   Sat Mar 8 13:06:29 2008 +0000

    d_type is not portable across filesystems.

commit 072eca42991db8947173ee9aadbf46cbb7398e90
Author: Roy Marples <roy@marples.name>
Date:   Sat Mar 8 11:22:02 2008 +0000

    Remove old config var

commit 2f22f9dfeb3b741cf059f25b85d1e3bff78fd0a0
Author: Roy Marples <roy@marples.name>
Date:   Thu Mar 6 11:39:05 2008 +0000

    Test access instead of euid.

commit 39dd08c5390bdfd6703ea502e723e0236a632fda
Author: Roy Marples <roy@marples.name>
Date:   Thu Mar 6 11:34:38 2008 +0000

    Test access instead of euid.

commit 19bad914bc8e822e11c716b1444656edaa0ea608
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 5 17:31:19 2008 +0000

    Show version similar to gcc.

commit 8f1cb8798102d78fcf2833564bde4a57e3f7ff6e
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 5 13:55:05 2008 +0000

    Typo

commit a689b66023ad7b3da179b02c9e473cbc49f295e6
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 5 12:27:11 2008 +0000

    Add tunable SYSCONFDIR

commit 7aa231de2e784b00267cb618b728cf0f754c9573
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 5 10:03:36 2008 +0000

    Style.

commit fba18b3a48e9bce03147fde7473d729b6e38ad81
Author: Roy Marples <roy@marples.name>
Date:   Wed Mar 5 08:40:17 2008 +0000

    localmount uses lvm

commit c5d174af172c00dc8f5cf6988cca788067195e15
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 4 22:52:48 2008 +0000

    When stopping localmount, set LC_ALL=C so bash doesn't lock /usr.

commit 8d66fe00564203a92dede4b0a7de46c29d66df11
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 4 22:04:00 2008 +0000

    ignore

commit ff162b39ace915ed9803ff7d091157855cf6d48c
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 4 22:03:41 2008 +0000

    Don't rely on fuser being present

commit 0e147427837fbb7e3d15f19507f64bed3ea5d83c
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 4 20:44:39 2008 +0000

    Fix multilib.

commit 5ebefb7794a35cb577271575af67363f150d7c7d
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 4 20:42:55 2008 +0000

    Update ignore.

commit 4ae5aebe81c57fa3e03a48d84d1f091b6f92a027
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 4 20:41:25 2008 +0000

    Inform plugins when we exit if on signal.

commit fb85a0833f7c7406fd93e96e197d0ac79c0eef22
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 4 16:58:26 2008 +0000

    Fix fsck progress bar.

commit 6a2cce536e5dbddd81b5935a6fb49b80454d2d51
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 4 10:40:31 2008 +0000

    Document the negation of keywords.

commit 6baff6cd1d1c39c9abe02263c582512743907aa5
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 4 10:36:20 2008 +0000

    Don't store empty services.

commit 6caea225d8d04c813055020c94e0d7ddd6eb7522
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 4 00:41:05 2008 +0000

    mixer doesn't work on all platforms.

commit 9f0d99020a9a4df9389ddb40979fad54598c3e28
Author: Roy Marples <roy@marples.name>
Date:   Tue Mar 4 00:29:43 2008 +0000

    swapctl -t doesn't work on fbsd.

commit 9a1f3768a5a2453b71092cab169a6bf47b065f63
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 3 22:09:39 2008 +0000

    Not all fbsd systems support powerd.

commit 54afc10aa481fbb50ec8968b317e5d4d2db0d23f
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 3 19:55:29 2008 +0000

    Sanitise the BSD defines a little.

commit 6ca5e8e0dc82391edce42e35a408fb2c1ca54fac
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 3 19:12:53 2008 +0000

    Use swapctl for NetBSD.

commit e55cb5dd5b9e222aecc28961f6459e0c370c5796
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 3 17:22:01 2008 +0000

    Fix compile on Linux.

commit 15cf41e7131cebbb74241180f36f59384c7a0477
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 3 17:19:56 2008 +0000

    Split VPS into VSERVER and OPENVZ

commit f3e90dddbfcf838b653846cce7fd2be479c68900
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 3 15:57:36 2008 +0000

    rc single and rc sysinit don't check sysvinit env vars in prefix.

commit 43f3c5480b66d354e32b483c95efba1e1adc017e
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 3 15:57:09 2008 +0000

    Don't disable devd in prefix.

commit 08e78bd15f3eff3f7f12e960990be02f33fc0c8a
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 3 15:56:28 2008 +0000

    Don't run mixer or powerd in prefix.

commit dab044a5d24cc5f56b2da1b774e383a3124be67c
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 3 13:46:16 2008 +0000

    Install bridge.sh

commit b614477948cfe21185f2a07f7b0d2b994371e876
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 3 13:31:25 2008 +0000

    Fix ignore files some more.

commit 35929e23bb0c471c49d3403604d61cd1cba4da46
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 3 13:18:35 2008 +0000

    keyword noprefix

commit f35c879bb8b703bd15805b19c55018bd9e9a4e6a
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 3 13:14:54 2008 +0000

    Ignore fixes.

commit 7a8e9d4ddbe121bf2cafb095e9ecf262bc074133
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 3 13:04:08 2008 +0000

    Add a gitignore make target.

commit 61c476e72d7da6866ea9e3ba6a8d1e7bb295b7aa
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 3 12:34:51 2008 +0000

    Use exlicit make targets, not directory contents.

commit 0aedc0286040b595119b4523d38ffd35b0018d6c
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 3 10:33:42 2008 +0000

    Introduce LOCAL_PREFIX for a user maintained script location.

commit 5971d14afd7e67b088307cd589f84491e99625ed
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 3 09:57:48 2008 +0000

    Ensure that normal users can use s-s-d on NetBSD.

commit dca4034bd5724d9f568687ba7266f327f198dded
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 3 08:47:37 2008 +0000

    Fix prefixed net.sh

commit c67c283b2adfa5930ca669c7232e2199692d3220
Author: Roy Marples <roy@marples.name>
Date:   Mon Mar 3 08:06:53 2008 +0000

    Fix prefix test.

commit 67c5fd6bb8f1d489f7dd012a63a370f20fbe02da
Author: Roy Marples <roy@marples.name>
Date:   Sun Mar 2 21:14:01 2008 +0000

    Ensure that our scripts call prefixed runscript.

commit a12dbdc6c93a7d63591610378e3e570b7c7d2143
Author: Roy Marples <roy@marples.name>
Date:   Sun Mar 2 21:13:21 2008 +0000

    Don't check for root in prefix.

commit 7c092fbc7904be18510eed08c72cbad974db8adc
Author: Roy Marples <roy@marples.name>
Date:   Sun Mar 2 10:40:08 2008 +0000

    If build in a prefix, define the system as prefix.

commit a135d0d93b6ff1aebd0064b4b2afbc7e0313b1fd
Author: Roy Marples <roy@marples.name>
Date:   Sat Mar 1 22:12:33 2008 +0000

    Fix installing into PREFIX.

commit 924ae8cadd589230b876c14d25dc8970b5842336
Author: Roy Marples <roy@marples.name>
Date:   Sat Mar 1 11:52:27 2008 +0000

    Don't display title coming back from single user.

commit 36846d4bbbb87a5d4105071b781453e7074e2505
Author: Roy Marples <roy@marples.name>
Date:   Sat Mar 1 10:39:36 2008 +0000

    BSD's now mount swap block devices early incase fsck needs it.

commit 2f3ffd053f9a8f2cce20aceae70e27b2df142c74
Author: Roy Marples <roy@marples.name>
Date:   Sat Mar 1 10:38:47 2008 +0000

    We should use shutdown to goto single user mode.

commit baf217acc7bd7a8f3212270fb8a3169946a62914
Author: Roy Marples <roy@marples.name>
Date:   Sat Mar 1 09:27:29 2008 +0000

    Fix unused var.

commit fa993d771126922474efaab5e3ceee0244e0a096
Author: Roy Marples <roy@marples.name>
Date:   Thu Feb 28 21:50:18 2008 +0000

    ignore more stuff

commit 0a0961f3f474801214bbad61d72e34f9815eb569
Author: Roy Marples <roy@marples.name>
Date:   Thu Feb 28 21:49:52 2008 +0000

    ignore more stuff

commit fcf27783176389af0ee1ca89d2a2495d4e1bfe62
Author: Roy Marples <roy@marples.name>
Date:   Thu Feb 28 21:47:45 2008 +0000

    Don't leak fd's.

commit 391d8de6222c87d423622265d02a224ea9d353ef
Author: Roy Marples <roy@marples.name>
Date:   Thu Feb 28 21:26:53 2008 +0000

    close fd doesn't seem good enough - whereas fcntl does the job.

commit 15fd2f3accbdfe06cf970aed15effc4992725054
Author: Roy Marples <roy@marples.name>
Date:   Thu Feb 28 21:14:59 2008 +0000

    Remove ;;

commit 988289d98dc1c9c96ed3c5af6d645f940b17b12f
Author: Roy Marples <roy@marples.name>
Date:   Thu Feb 28 21:04:28 2008 +0000

    Typo

commit b9f81365d2730f2965c22cf42a322f16c8dc3385
Author: Roy Marples <roy@marples.name>
Date:   Thu Feb 28 19:13:36 2008 +0000

    Only reboot when starting in the boot runlevel.

commit 063563bd4e670622f0a747eeb6cb887487a3d73c
Author: Roy Marples <roy@marples.name>
Date:   Thu Feb 28 18:43:47 2008 +0000

    Don't abort fsck at shutdown.

commit f092045650faad778d25d000d80b3128664d2e2a
Author: Roy Marples <roy@marples.name>
Date:   Thu Feb 28 11:08:49 2008 +0000

    Support the use of PREFIX and PKG_PREFIX.

commit aabf3976db5ffb41f8f8bbd47f5015b4158e095a
Author: Roy Marples <roy@marples.name>
Date:   Wed Feb 27 21:19:14 2008 +0000

    Fix help for rc-update.

commit c2648ca5f539c450b27d35c7c0a3d41c6e193d8f
Author: Roy Marples <roy@marples.name>
Date:   Wed Feb 27 20:29:32 2008 +0000

    Makefile SH variable now tweaks the default shell used by our scripts.

commit 143570689bc93c68fa83c3eb56d622b707ec0e18
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Feb 26 00:04:55 2008 +0000

    give mount points nice descriptive names rather than "none"

commit bf2cebf2d8ab82789e5e087871a6e0dbca6289b9
Author: Roy Marples <roy@marples.name>
Date:   Mon Feb 25 10:51:05 2008 +0000

    With --quiet, we should quiet the daemon we're starting too.

commit d1f7f0a3044b87f9693d43ece70b88a7d2f0dffa
Author: Roy Marples <roy@marples.name>
Date:   Sun Feb 24 23:09:15 2008 +0000

    Force the specification of a pidfile or process name if daemon is a script. Alternatively, document the use of starting the script interpreter and passing the daemon as an option.

commit 8b4b958678c52893ab1901c15dec123c99d56927
Author: Roy Marples <roy@marples.name>
Date:   Sat Feb 23 00:26:11 2008 +0000

    Now that s-s-d accepts >1 argument for stopping a daemon on match we need to store all arguments used incase a service started the same daemon more than once with different paramters.

commit 00aa221b9877e3c6d868adf6e7d17dde0763c50a
Author: Roy Marples <roy@marples.name>
Date:   Fri Feb 22 12:35:58 2008 +0000

    Welcome to 2008.

commit ad780077d2184c27a00635b39aceafa02df6ef2a
Author: Roy Marples <roy@marples.name>
Date:   Fri Feb 22 12:07:34 2008 +0000

    Welcome to 2008.

commit a9fcbf3e30952809381a62143248517c0f0c2c6d
Author: Roy Marples <roy@marples.name>
Date:   Fri Feb 22 11:44:10 2008 +0000

    More PCC fixes.

commit 5bb09b65871362f60b7facd6193638caeba31a49
Author: Roy Marples <roy@marples.name>
Date:   Thu Feb 21 10:08:35 2008 +0000

    ewarn now goes to stderr to match portage behaviour.

commit 405cea1f19eb4de00805eeb6bddd36184e51b400
Author: Roy Marples <roy@marples.name>
Date:   Wed Feb 20 18:06:01 2008 +0000

    Support the PCC compiler.

commit d3d22914fc4bede8b022da0c8d08c1eaf05225e6
Author: Roy Marples <roy@marples.name>
Date:   Wed Feb 20 15:48:09 2008 +0000

    Fix -o

commit 5e523ff33e97ee3866bc87ae675d73700dcd81a0
Author: Roy Marples <roy@marples.name>
Date:   Wed Feb 20 14:30:23 2008 +0000

    Move logfile without a visible error, bug #28

commit 95a7985ea3acb886ea0b9861bf88abc5627a3cfd
Author: Roy Marples <roy@marples.name>
Date:   Wed Feb 20 14:04:30 2008 +0000

    Simply our code - only set env vars when needed.

commit 2456a265ee26592df655ffe294158c49b15a0341
Author: Roy Marples <roy@marples.name>
Date:   Wed Feb 20 10:52:57 2008 +0000

    Allow rc-depend to order as if runlevel was starting or stopping.

commit fabce3a51bd503f4275337e48c3f9ba275d31d6b
Author: Roy Marples <roy@marples.name>
Date:   Wed Feb 20 10:34:11 2008 +0000

    Sanify the default cc flags.

commit 26b8d108672c7fbc84d6cd2c6f8d22695f3449a3
Author: Roy Marples <roy@marples.name>
Date:   Wed Feb 20 10:29:21 2008 +0000

    Merge branch 'master' of git@git.overlays.gentoo.org:proj/openrc

commit 5ddd32c06c6bd43aaf701193822d678f742c5e5a
Author: Roy Marples <roy@marples.name>
Date:   Wed Feb 20 00:33:38 2008 +0000

    Allow fsck to be multiplexed.

commit 7dec6f40250dfa9196e9139173e8ecb8387b85d5
Author: Roy Marples <roy@marples.name>
Date:   Tue Feb 19 22:04:24 2008 +0000

    Don't warn about removed services through use of the nosys keyword.

commit f35f78818727f982da7f8d59c99ad07135ab113a
Author: Roy Marples <roy@marples.name>
Date:   Tue Feb 19 21:45:27 2008 +0000

    Fix verbose without --exec.

commit 9e39a934b822adf811cab4f63712e487f1d9779a
Author: Roy Marples <roy@marples.name>
Date:   Tue Feb 19 21:45:01 2008 +0000

    Fix an off-by-one error.

commit d7129163ce6561f786e7722d70cb99c3f96891fa
Author: Roy Marples <roy@marples.name>
Date:   Tue Feb 19 19:43:31 2008 +0000

    Fix compile warning, and free removed depinfo's

commit 7406537363ee8f1eac505b7f915bf33666a0d0be
Author: Roy Marples <roy@marples.name>
Date:   Tue Feb 19 19:05:18 2008 +0000

    Fix compile warnings.

commit 8d61a07f5e31a3377c4a7551909705195a2bda3b
Author: Roy Marples <roy@marples.name>
Date:   Tue Feb 19 17:51:20 2008 +0000

    Fix CSTD.

commit 42dd9965ccfbbdd93a1edb996d5bf8b77e3dc940
Author: Roy Marples <roy@marples.name>
Date:   Tue Feb 19 16:49:28 2008 +0000

    Default to using C99 standard.

commit 916a4463ce64d3dbf54a98d17947379e72d907e8
Author: Roy Marples <roy@marples.name>
Date:   Tue Feb 19 16:05:42 2008 +0000

    Fix some warnings.

commit 79d40707dbadaf83b12078c8183824c6ba88a6eb
Author: Roy Marples <roy@marples.name>
Date:   Tue Feb 19 15:51:59 2008 +0000

    Fix compile on Linux.

commit e1e36b2872c1f87d3d0b5308561884af3cd013ac
Author: Roy Marples <roy@marples.name>
Date:   Tue Feb 19 14:36:22 2008 +0000

    keywords -> keyword

commit 42bfd7b6dc6d1ebc49c1c6b24e21772df4f6967b
Author: Roy Marples <roy@marples.name>
Date:   Tue Feb 19 14:29:20 2008 +0000

    Move the shell code to check for RC_SYS to the keywords dependency.

commit 0364bb2c84bff631e0f765254fc6bf3353950128
Author: Roy Marples <roy@marples.name>
Date:   Tue Feb 19 14:15:53 2008 +0000

    Add the nojail keyword which excludes services marked as such from the dependency tree when in a jail, #bug 22

commit f95e0b2c3e0192b44d6ac792f40a61a34f8c8b13
Author: Roy Marples <roy@marples.name>
Date:   Tue Feb 19 10:18:26 2008 +0000

    We should remove stale pidfiles and service daemon info if we didn't find anything to stop, bug #25.

commit eedf63906dea4f6c139382495a67aeded1c51fe2
Author: Roy Marples <roy@marples.name>
Date:   Mon Feb 18 16:26:49 2008 +0000

    Fix compile on FreeBSD.

commit b0442b31935caf87f0dc2d6679b4e106414513ed
Author: Roy Marples <roy@marples.name>
Date:   Mon Feb 18 16:01:04 2008 +0000

    We need to check for contents of argv too.

commit d904acf448ed12b8ae0f3423e7ee4f4a146a3710
Author: Roy Marples <roy@marples.name>
Date:   Mon Feb 18 13:37:58 2008 +0000

    Fix a signed error.

commit 27f97f210658ad566ca6428fecc0aa205b225421
Author: Roy Marples <roy@marples.name>
Date:   Sun Feb 17 15:12:00 2008 +0000

    We need to be able to locate pids by argv, instead of just argv0.

commit fbdc85f3b3abc06eda9fd4d2a1fd0fc754699d28
Author: Roy Marples <roy@marples.name>
Date:   Sun Feb 17 11:17:48 2008 +0000

    Restore the --env option.

commit 9854f9e3ee5c1ef8d61171b6a1a38dacc6f67720
Author: Roy Marples <roy@marples.name>
Date:   Wed Feb 13 23:44:17 2008 +0000

    Use _PATH_DEVNULL on FreeBSD when using kvm_openfiles so we work in a jail, bug #21.

commit 096ac08fe356169f82c43fbf1d02aae4c8e2a360
Author: Roy Marples <roy@marples.name>
Date:   Tue Feb 12 20:15:58 2008 +0000

    Some BSD's init don't send an action to rc.shutdown, so assume shutdown

commit 567f8e33f2f7d951237996b6b2dd60189515754d
Author: Roy Marples <roy@marples.name>
Date:   Mon Feb 11 20:14:09 2008 +0000

    Just use the extern applet var.

commit 5e470afb5251fdd51188999e23a7d9c2bbfe657c
Author: Roy Marples <roy@marples.name>
Date:   Mon Feb 11 20:04:15 2008 +0000

    Ignore resolvconf error messages if the interface does not exist.

commit 3198d81a1fa00b93716078504f8b681fe0c7d2ff
Author: Roy Marples <roy@marples.name>
Date:   Sun Feb 10 23:13:09 2008 +0000

    Remove unsed vars

commit 3620e0476934bfc14c496790eb67880efad4ce02
Author: Roy Marples <roy@marples.name>
Date:   Sat Feb 9 18:16:53 2008 +0000

    Fix an off by one error when parsing PATH

commit 09ff8eeecd3e4c3819f3c3783c9a56d398cd8ec3
Author: Roy Marples <roy@marples.name>
Date:   Fri Feb 8 21:11:44 2008 +0000

    rc-status -r now shows the current runlevel name.

commit 04b1a62c4b3d4269b357c1d12bbd8c68389f1ad4
Author: Roy Marples <roy@marples.name>
Date:   Thu Feb 7 23:24:09 2008 +0000

    Only use hilite if stdout is a tty

commit 483a19a0e3c9f2f2bffb1efe1dd75c36d800b898
Author: Roy Marples <roy@marples.name>
Date:   Mon Feb 4 22:19:40 2008 +0000

    exiting to shell should block signals first, to avoid the child getting them. Also, sulogin seems to work without specifying the terminal now.

commit b1771be2d13fba7b7eca5be3cead98eb9f4efeba
Author: Roy Marples <roy@marples.name>
Date:   Mon Feb 4 22:10:41 2008 +0000

    eoutdent should set the correct env var.

commit 4c6a66c3e93edfd9ca3b409020cc9281b650cf45
Author: Roy Marples <roy@marples.name>
Date:   Mon Feb 4 21:48:05 2008 +0000

    Just restore the old set.

commit 08a5bdbcb3462ea6ba5d97e86ce44d1d26b627e0
Author: Roy Marples <roy@marples.name>
Date:   Sun Feb 3 23:27:16 2008 +0000

    RC_DEP_START/STOP should only be used for ordering services, and not the actual dependencies ofthe services themselves. This allows coldplugged services to satisfy the net dependency for rc ordering them correctly but not for services that require net and strict is on.

commit 93e310172575b0fe061d4ea4da912019c00bab6c
Author: Roy Marples <roy@marples.name>
Date:   Sun Feb 3 23:02:02 2008 +0000

    Allow non root users to use start-stop-daemon when linked with pam, Gentoo bug #207836.

commit 1b2ad9e871a9ef7cd0eaf188033a34b4eceff680
Author: Roy Marples <roy@marples.name>
Date:   Sun Feb 3 17:21:11 2008 +0000

    Remove the massive udev compat shim as it's now in udev-118-r2

commit 5014968e83adc2449aadda04b8f80a6a6dc78c0b
Author: Roy Marples <roy@marples.name>
Date:   Sat Feb 2 22:17:44 2008 +0000

    Fix fork error message.

commit 7b27a12f6c4d6056f6f3da0a5a2aa7f5508a6f46
Author: Roy Marples <roy@marples.name>
Date:   Sat Feb 2 14:22:37 2008 +0000

    OK, we have to use fork with sigprocmask as not all systems provide a working and sane kernel call to bypass libc.

commit 8830b5063618a11b19aadd7b61042dfb62066ee9
Author: Roy Marples <roy@marples.name>
Date:   Sat Feb 2 13:00:22 2008 +0000

    Fix compile on systems that do not expose SYS_sigaction.

commit 110a083ad294840a7bbc3d2b4fefa6a85f2e013b
Author: Roy Marples <roy@marples.name>
Date:   Sat Feb 2 13:00:01 2008 +0000

    Fix compile against old lib.s

commit 534691a2a5d01c21835a532bcd38ce52fc8f677d
Author: Roy Marples <roy@marples.name>
Date:   Sat Feb 2 00:44:04 2008 +0000

    Fix compile on BSD.

commit e2919519d77836132dca6140d8d23a24a7631a18
Author: Roy Marples <roy@marples.name>
Date:   Sat Feb 2 00:38:06 2008 +0000

    Using syscall in a vfork is safe for sigaction and sigprogmask.

commit ad045176238549c3267fff3e8c0014dd5e9ffbdf
Author: Roy Marples <roy@marples.name>
Date:   Sat Feb 2 00:17:35 2008 +0000

    Block signals to avoid fork /signal races.

commit fef5d0af591c6c8a91f69bba5e62c99df1a732c9
Author: Roy Marples <roy@marples.name>
Date:   Fri Feb 1 19:54:46 2008 +0000

    Constantise as much as possible so that it reduces COW usage.

commit f12f3e0641430b9011e21e2ba7781035d545b4ed
Author: Roy Marples <roy@marples.name>
Date:   Fri Feb 1 15:09:59 2008 +0000

    Factor out the str attribute in the ecolors array to its own array. This way ecolors can be marked const.

commit 62096f542ff767d41bb237bcf43e972c9690523a
Author: Roy Marples <roy@marples.name>
Date:   Fri Feb 1 13:24:09 2008 +0000

    Use DOCDIR

commit f2ce40d90b92f6049745f6f06191bd43b6b931dd
Author: Roy Marples <roy@marples.name>
Date:   Fri Feb 1 13:20:19 2008 +0000

    Use sigaction over signal.

commit 01e148d29d643af342a67bfa2f70928d6a6e0b75
Author: Roy Marples <roy@marples.name>
Date:   Fri Feb 1 12:07:19 2008 +0000

    Style

commit c1b3aa77a9aed69005d386d2ce44d6b224a142e3
Author: Roy Marples <roy@marples.name>
Date:   Fri Feb 1 10:48:21 2008 +0000

    fsck should ignore SIGQUIT. Some implementation exit code 3 for a reboot. Reboot on Linux requires the -f flag.

commit 148739ed995876402301e37b512d79c6cb3a2fbe
Author: Roy Marples <roy@marples.name>
Date:   Fri Feb 1 09:29:26 2008 +0000

    Swap may need local mounts

commit ec912fa7174b8984cb8c8b3dd19a163686b1f8c1
Author: Roy Marples <roy@marples.name>
Date:   Fri Feb 1 00:32:50 2008 +0000

    Fix compile on BSD

commit e2484e7f243c0afab883d3106fa1d3ecb74ab9c0
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 31 18:15:04 2008 +0000

    Fix default preen option.

commit 1e9be161b9cdca4734d891f1ea3cc58af03c9d21
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 31 18:01:20 2008 +0000

    Fix up deps for new scripts.

commit cf567c844fa0fcef5f190ce21a805db9b9ed7ffb
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 31 17:18:39 2008 +0000

    Remove rc_force_auto as users can now specify -y in fsck_args.

commit 492a8f87cfa405e9c880b3539e44f24204ffd7fb
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 31 17:12:54 2008 +0000

    Enable fsck_shutdown again.

commit e687cc1e79f95c3fb69ed895e5666e434c1a3519
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 31 16:10:18 2008 +0000

    Remove the over-engineered checkfs and checkroot scripts and replace with simple fsck, root and mtab scripts. Update dependencies accordingly.

commit b6b88d3a07a921de7450a529769a02f0b86cb7db
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 31 13:19:04 2008 +0000

    fsck -A isn't all that portable, so just use one codepath.

commit 9300fa240d40b563034752f34860e418f044e738
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 31 09:48:58 2008 +0000

    Tidy up some code and remove the redundant single_user function as we now use exit codes.

commit 0ce909e12b29cbe52e8161bc50b72ec40acaaf19
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 30 22:53:40 2008 +0000

    addons should check things, not us.

commit 05e5865bdccd90c803eaa18a04d07ed6730b5f8e
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 30 16:36:18 2008 +0000

    Cleanup keymaps a little.

commit 67f792ce4ca0179f1b34de2e2ed5235623d0e89b
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 30 16:12:19 2008 +0000

    Fix openvpn detection.

commit ee44b907957f02f2d5b5f25da663ee90df6c41b3
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 30 15:57:01 2008 +0000

    Add a timeout for creating tun/tap interfaces.

commit 84ad9a40a647b97551bc8bc35f082bd82e8b8c92
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 30 15:01:37 2008 +0000

    Use the variable instead of type for sizeof.

commit 3506cb2dc737bbe5bdeaf0bcd9d239db98be1819
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 30 15:00:58 2008 +0000

    Ensure that we use our default CFLAGS if none set.

commit 3f0381e3e6e0b441eca450dc8cd769b519d910e2
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 30 14:46:08 2008 +0000

    Use the variable instead of type for sizeof.

commit 61e36be6944ae3add01f09bf84d555664cfa4281
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 30 14:34:55 2008 +0000

    Add xzalloc function to reduce size.

commit b49f779779525fb7256e266fdd27e52c42f827c3
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 30 14:07:45 2008 +0000

    Document how to remove dependencies in configuration files.

commit 51a9c647b9a1c209d57472fcd356368a00846a80
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 30 13:37:20 2008 +0000

    Allow !net to remove the net provision from dependencies.

commit 0c75e888fcc71599f3a695ae54a7a0b1beb16f0f
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 30 13:20:47 2008 +0000

    Allow rc_need to work with net scripts, and allow for loopback also.

commit 4bdfccc2c2b2fa67d52f62e62775fc00cb5c0599
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 30 12:50:44 2008 +0000

    Fix adding net scripts to the boot runlevel.

commit c1d18354c6a5061490f9ca892b7872d5f11e153f
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 30 11:58:21 2008 +0000

    Fix unmounting shared and bind mounts, Gentoo bug #207611.

commit e675b2e00579618c54064c4ac80e221c7531f280
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 30 10:26:52 2008 +0000

    Allow openvpn options to be specified. If options exist then for tunctl then we prefer that to openvpn, unless openvpn options exist.

commit ee9476223da866694f1b6532744dd879b9dfc5fb
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 30 10:04:15 2008 +0000

    Typo

commit 2be93c3e0e9195df748a7be4e3636db7799b1a72
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 30 10:02:53 2008 +0000

    Specify install modes for all our files.

commit 4f6e778758a03ceec5a9b1caf09a4d1e7d171fb4
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 29 15:41:10 2008 +0000

    Only allow .sh files to be used as net modules.

commit 2bd31e8d033ec4488edb775cdac73d247207637a
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 29 15:34:17 2008 +0000

    Attempt to fix tun/tap issue on first boot.

commit 39d88dc809e130e16f2e9141bbb487eb937e402f
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 29 14:55:35 2008 +0000

    Fix branding.

commit 9112bd58ca0be548c100a7e9ffb6a62233412ae7
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 29 13:52:54 2008 +0000

    Do our coldplug at the end of sysinit as there's no guarantee that the boot runlevel will be called before the default runlevel.

commit d8240a1aea33d2c5956cf460f5674aadd9da62e6
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 29 10:03:45 2008 +0000

    If we don't have any branding, then add some uname info at startup.

commit 9ce3086bf5658caf4f1d97ed489e2f96ff7b6282
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 28 13:16:33 2008 +0000

    Fix service_started_daemon, bug #11

commit ae6929fa3080bf3f784cf8683d5b5f19cad79d40
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Jan 26 20:38:57 2008 +0000

    initial TODO list

commit 3e5743426b32b8191f78e78f0ecc1c455b711952
Author: Roy Marples <roy@marples.name>
Date:   Sat Jan 26 16:46:53 2008 +0000

    Fix restart --nodeps again.

commit 829f4d281cd7a3ee36cdb6a75d1347aacf478669
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 25 12:33:53 2008 +0000

    Hack around busybox find / rm not handling -- correctly.

commit 8793fb8d4c1f134a2e341cc921d5f8e17869483b
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 23 12:17:50 2008 +0000

    No need to specify SVCNAME anymore.

commit 2fa0b9184d1829c79c7b5e81dd9487f907e5f7cd
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 23 12:08:52 2008 +0000

    openvpn needs localmount

commit f0db8eec018432a58059c33ae812578ab56e7be5
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 23 10:08:43 2008 +0000

    udev uses lowercase values

commit 5fae9060aa22f141cea1a93347b4d478079bacaa
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 23 10:08:27 2008 +0000

    procfs uses getent which requires localmount

commit 34a675f4d925862f5c666265d58d56e4e785e1ec
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 23 07:07:53 2008 +0000

    NetBSD-4.0 default install has issues with loading the pf module, so omit this stage.

commit a16428da20e4acc60bba7ace8e81a669a2b9c7b0
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 22 20:48:24 2008 +0000

    We need to shift here.

commit 5338b568cafa1d9382464cb0b45e957775f3af09
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 22 19:39:03 2008 +0000

    Allow stop start to work when stop is not defined.

commit 649a71055294e9fa275ebb406361cf46c843cade
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 22 11:07:39 2008 +0000

    Quiet some more lint warnings.

commit b4bff9ce5efce83a7265a42d4372d367ca32f696
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 22 10:29:15 2008 +0000

    Quiet some lint warnings.

commit e5baa6ad378a6cf7ddc7689163adfd8719d9946f
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 22 10:10:09 2008 +0000

    Quiet some lint warnings.

commit cbe5648158b8243348de84cf8fb04c0be4f2ac11
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 22 09:35:42 2008 +0000

    Define our x* functions as unused rather than inline for a massive space saving.

commit 2007ed4b95183f5ca70d7981e497b6471757f160
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 21 16:10:38 2008 +0000

    Prefer for (;;) over while (1)

commit 07728abbc1eb1aa91d21318f3a3d64b15c2800fe
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 21 15:30:40 2008 +0000

    Checking first char for null is more efficient than strlen.

commit 847ccac13c8afc04d1105cc483c8ec7e9baa53a6
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 21 15:20:05 2008 +0000

    Testing the first character for NULL is more efficient than checking a strlen of 0.

commit 28618c81743d9a55fcde2dc19cdcaec8b16fdd45
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 21 14:31:21 2008 +0000

     should not produce a red star

commit a597686ded5ec521cd87545375ccf799959efe55
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 18 14:17:58 2008 +0000

    Document yesno, is_older_than and is_newer_than.

commit 773c2b9ca6c41626bf39ba1af914b5622d520fb8
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 18 14:01:48 2008 +0000

    We should never change the list passed to rc_config_value.

commit 87f785cc31da9e30cc0fb631b035e3fd25161e89
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 18 13:30:12 2008 +0000

    Style.

commit b6be36e5ea31b39834f24645f16b763fd6cee825
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 18 11:27:49 2008 +0000

    Don't enforce a C99 compiler.

commit 1d21c6b77441ccb05a49ece70f6711e53c2e7a41
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 18 11:26:23 2008 +0000

    Fix pmake requiring some output here.

commit 862e07c8fd020a446f92c544184c16bf9f465d1b
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 18 10:04:21 2008 +0000

    rc_coldplug=no really stops all coldplug events

commit c6774d1c74baaf62827e82967ff62bb843854477
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 15 19:47:48 2008 +0000

    If adding to the boot runlevel, ensure that the realpath of the resolved service points to /etc/init.d/$service

commit 0b5d44af8db2f20a5278e04af6ae6e9ad629c4df
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 15 19:35:33 2008 +0000

    pf now works on NetBSD

commit aa0399e22b1c3e8eebdd05a5339039496123aa61
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 15 14:18:26 2008 +0000

    Add a pf init script.

commit 18da799040f6d736208065ee53f4d88eaf23733d
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 15 12:13:42 2008 +0000

    Allow things after the /32 for host routes.

commit 38f8eee495494a4c08adb64faa5b2c37d059765c
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 15 09:50:14 2008 +0000

    We should not use options for rc-update, as add, delete and such are commands.

commit a1783d552d4867ff93d1b5e1d91110b229048dad
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 15 09:26:29 2008 +0000

    Typo, thanks to dberkholz.

commit 3e0f49b846924a54df9115c038cf0a559a567db2
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 15 09:24:50 2008 +0000

    rc_newer_than no longer tests if souce has data, making it a more logical function. As such, we add the existss function to check for existance and size when checking to see if the deptree needs an update.

commit b29c4aa9267592472cc591be88de6a854d24dd66
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 15 00:49:53 2008 +0000

    Fix newsyslog on NetBSD.

commit 7fe30026b371eb9abee5c2b07c50fde2630920d3
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 14 19:53:56 2008 +0000

    Fix rc changing runlevels after splitting out the applets.

commit 46294cba02a2ab318cdf9bfa8e3e05d6e50671e1
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 14 16:17:03 2008 +0000

    Fix shell_var as reported by lamusic.

commit 62d793f7ff4c6f5c9f79ca0b47bce338dc4b5214
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 14 14:41:02 2008 +0000

    Fix is_older_than.

commit e0687578100379053afba8f7f69dc41c77d092c8
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 14 14:24:20 2008 +0000

    Put the applets into rc-applet.c so that rc.c is easier to manage.

commit 6e1251b92524fded49c4772b629e448b3d0ba306
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 14 14:03:46 2008 +0000

    Ignore functions.sh and rc-functions.sh as these are now created by make.

commit cd6f8150366e17eda7090d8cd5b8abd949f62f77
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 14 10:57:48 2008 +0000

    Don't special case innd.pid and handle files in run that start with -

commit d810e597dc20333eaf7276213883996d60064ea2
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Jan 14 10:18:52 2008 +0000

    partial revert of previous commit -- the rpath stuff was meant to be kept local only

commit 5bfcea47295bba96ada29eb6020806920c2666d6
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 14 10:04:45 2008 +0000

    Add a section about reporting bugs.

commit d6954071142c7c16d070621e247d8ef9f20a7c90
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 14 08:12:37 2008 +0000

    Add support for is_newer_than and is_older_than. is_older_than currently doesn't work as expected, but is_newer_than works fine.

commit e49e5b147c7a670b9e3df69ef2cfaf787bbbe3ee
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Jan 14 05:48:31 2008 +0000

    tweak help since this works for dirs and files

commit 357d3ecf84c8a3094f8a0edd8136ff5d7383e328
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Jan 14 05:39:01 2008 +0000

    fix --mode parsing by checking the proper function parameter

commit 0b815cc67ff02673a61bead2002bc21d5187d1a7
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Jan 14 05:32:47 2008 +0000

    add missing "-d" option

commit 09b958b99d1303cfd8c37047a7decc1a4312a9f2
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Jan 14 05:32:39 2008 +0000

    add shortcuts for generating symlinks

commit 6aab712cb4220c5a8471ba581c06676af19fae07
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Jan 14 05:05:22 2008 +0000

    strip trailing newlines

commit b054a7251b91e2b95290dfd3760f942186c2d864
Author: Roy Marples <roy@marples.name>
Date:   Sun Jan 13 17:49:29 2008 +0000

    INSTALLAFTER needs to be defined before we include our mk's to work.

commit 87e4e4410cb542f3b56989d02e088c5efdfaf157
Author: Roy Marples <roy@marples.name>
Date:   Sun Jan 13 17:47:23 2008 +0000

    Remove rc_service_plugable function and make it private as it needs to read from our config file.

commit abc7a79755c82ed5b6737901d71f8f7f15e1d992
Author: Roy Marples <roy@marples.name>
Date:   Sun Jan 13 14:14:47 2008 +0000

    script install should build objects

commit f7551870209efce978493991f723d839803534f0
Author: Roy Marples <roy@marples.name>
Date:   Sun Jan 13 13:55:23 2008 +0000

    Change lib name during make, not install.

commit 98b865bbc70b4646bb3a2bcdee3322dbce3766d1
Author: Roy Marples <roy@marples.name>
Date:   Sun Jan 13 10:50:52 2008 +0000

    Set default term to wsvt25 for NetBSD

commit 7f9ea7c7c4205912dba730209a5878301f5ef492
Author: Roy Marples <roy@marples.name>
Date:   Sun Jan 13 10:21:22 2008 +0000

    Fix PAM install

commit 5bf95bd3f357a75c52305e8c30c53ce4fc134e44
Author: Roy Marples <roy@marples.name>
Date:   Sat Jan 12 20:38:57 2008 +0000

    Use MKTERMCAP and MKPAM so we don't use env vars TERMCAP or PAM inadvertently.

commit 9c5300d4aef487ff4ca52c21cac295c80951204b
Author: Roy Marples <roy@marples.name>
Date:   Sat Jan 12 20:38:26 2008 +0000

    Many termcap db's don't have ch or RI even though they do work

commit 6b4e645c2ca73342a67a7974bd9d3b4ab760de44
Author: Roy Marples <roy@marples.name>
Date:   Sat Jan 12 12:01:23 2008 +0000

    /var/empty isn't a fixed requirement for sshd

commit fa363ecaf7fcd6a7ee43fe5ec046dc5ea7e94686
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 11 23:49:40 2008 +0000

    Don't use bins in global if we can help it.

commit d4404ea9c7a5f37e148d22dbe05d804f2df93b11
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 11 23:40:22 2008 +0000

    Ensure we link against libraries in /lib instead of anywhere else and always use the linker in /libexec instead of anywhere else.

commit 0ec43dfe47c462fdf268635d30627d80c8b0b5de
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 11 22:29:12 2008 +0000

    These are FreeBSD specific

commit e4e18d21ed67f045b147fe13d80e148b0cc2a0dc
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 11 21:54:33 2008 +0000

    Fix some syslogd pidfile and installing support scripts.

commit bcbdb0ed1371ee359bc3da948690c2a2d6f597db
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 11 19:19:33 2008 +0000

    Add wscons script. We still need to convert this to a conf.d format.

commit 99ef2748485ff8ef67a0595b62912f176a7a593c
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 11 18:55:46 2008 +0000

    Fix rpathness on NetBSD again.

commit f0c0391088f295de03bd99c68f68fbaca0a15fef
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 11 18:33:23 2008 +0000

    Remove non standard -R option.

commit 0334b0be2e6dfa5e7c7d1f68eaa8dd482be04817
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 11 18:29:47 2008 +0000

    Add sys.mk

commit 8ef2bf78f74d170104e137554882ecabcaa77609
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 11 17:41:19 2008 +0000

    Don't print an extra eend on failure.

commit ed144d4252c752e0ef64a42acacc2d07b3bbcc76
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 11 17:35:39 2008 +0000

    NetBSD-4 doesn't support scanning via ifconfig, so mark it FreeBSD only for now.

commit cd685410bd7d8f1893a9f585c784e43878e13913
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 11 17:21:21 2008 +0000

    NetBSD doesn't include /lib in its link path, so we need to add it as an RPATH.

commit 28afeac09e15c9983021d7afb7af523f8f62c5fa
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 11 16:03:38 2008 +0000

    Add sys.mk to define system locations.

commit abde759d5bf6028135667779297d30491f1f4688
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 11 15:51:40 2008 +0000

    Re-indent to a standard tw of 8.

commit fec312d4482e17328394f3e87b4ad28b1f062b7f
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 11 15:31:10 2008 +0000

    Update copyrights, my email and license.

commit 5de53f176c8c650017052722bd61368d08023f82
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 11 15:08:57 2008 +0000

    Adopt a more C style for scripts and remove vim settings.

commit 6b41b6500842b2b6bd7f78b4f2ccda579ee1a108
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 11 12:18:05 2008 +0000

    Remove vim settings.

commit 3bf49a9bd19d5bbcf6976dd42b4f87f1b173e287
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 11 12:13:46 2008 +0000

    Adopt a more C style for scripts and remove vim settings.

commit 1f4422c72f968405a0b8bf56d4f9c3b619b1b80d
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 11 11:45:59 2008 +0000

    Remove full license text from shell cripts.

commit 590167e316a03944f2399b62ad7a876f09e00b82
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 11 11:27:30 2008 +0000

    Ditto for rc.shutdown

commit cbc174bbbf0121d325b428c1b681ad0fa1970cc8
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 11 11:25:40 2008 +0000

    Use a specific default terminal for rc

commit 13c552c3ece84b0d4e3b8e24eaa6b7196019b957
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 11 10:55:36 2008 +0000

    Allow OS to define default package locations.

commit 349f4a81e64d8c29d87490b73a65ad10c8e506e2
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 11 09:42:28 2008 +0000

    No point in having runlevel rules in a seperate .mk now

commit 2bd7f97b7269da6deee02d3d5ddc9114ef938dc2
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 11 09:32:06 2008 +0000

    Just have the one runlevels folder with OS includes.

commit 50d73fa22374f5113eea3157c1357f44dfe06b92
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 10 23:51:58 2008 +0000

    Add /usr/pkg to the PATH for NetBSD packages.

commit de6e4d3f50822c64ce14d61991fdda148be442e9
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 10 23:48:53 2008 +0000

    More NetBSD tweaks.

commit acbaacb2c1dd96d7e084c1b8bd90ea730a422e6e
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 10 23:23:39 2008 +0000

    dhcpcd could be anywhere, so allow this.

commit 2d95c9a756c4c7b9301e04c274c3b139e0d1aef4
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 10 23:22:46 2008 +0000

    Loads of NetBSD tweaks here.

commit 5aea880f8158945d2cc9390891de6af8ca0a9b28
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 10 20:17:55 2008 +0000

    Move FreeBSD specific files to the new FreeBSD folders.

commit 22b7a12b6e1f55f536b9004dd78ab67e88deaf6a
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 10 19:50:01 2008 +0000

    Fix SUBOS_SH

commit 6244bcbe84aad1e1f62c063bfc47c76c6ebb66b4
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 10 18:11:02 2008 +0000

    massage netmask to cidr for buggy shells.

commit 6ca21b4c6a129ae563b39e6fa60ba005b5dd9aa6
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 10 16:57:05 2008 +0000

    More make fixes

commit 13f64ccc9480bf583558fae4fce64813d7f5dd50
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 10 16:50:32 2008 +0000

    Need INSTALL here

commit 023270f76aca2a6bbf1ad1521b77259c68134587
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 10 16:48:02 2008 +0000

    Don't go into SUBOS if same as OS.

commit 2857fb49d1b19b1677c58c2a34910699cfe5ebbb
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 10 16:42:14 2008 +0000

    Fix SUBOS

commit 7cdffe5e13ac0a6281b97f75ec5d9ba9389e8cf9
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 10 16:40:41 2008 +0000

    Fix SUBOS

commit 3016c4efd4686a8c719d234ad518fd01f3bb5256
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 10 16:37:42 2008 +0000

    Add missing mk's

commit 43147845209873b0776bd75d363913fe25611f49
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 10 16:35:59 2008 +0000

    Allow for OS and SUBOS folders so we can introduce NetBSD scripts whilst keeping BSD for all BSD's.

commit 2643f2e605f102d2c2fa098d0cf5400d3795ed4a
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 10 08:29:41 2008 +0000

    Fix installing libs.

commit f8d15a5f7b4b91b7e041ee277d36bfa2271d1d26
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 9 23:56:07 2008 +0000

    Fix a little breakage with last commit.

commit 5b30c5154d8f641737d7c669612d06f2b0d7fe49
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 9 23:47:15 2008 +0000

    install correctly on NetBSD.

commit ddf25cbcb76bccbfe28d15f1e73c637becaa54e7
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 9 23:22:04 2008 +0000

    Compile without warnings on NetBSD

commit 06634f6309f07613cd6a086a6b383daad65192c0
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 9 11:44:43 2008 +0000

    Style updates.

commit 666be0faa0f94a7337662d6c00e3c0d78dd58df4
Author: Roy Marples <roy@marples.name>
Date:   Tue Jan 8 14:58:56 2008 +0000

    Add _hwclock which ensures that hwclock returns 1 on error, simplifying our code

commit 2e35d2a73c8b44b5f719c9fd62b892f09297e53c
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 7 19:12:58 2008 +0000

    Avoid valgrind errors with getline.

commit 81b8e5450e2aee2a35a1913e3e051e4c4cd22ece
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 7 15:27:26 2008 +0000

    Really fix off by one error.

commit fa898af7916ca05235bbd086a938952952d525ae
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 7 14:59:17 2008 +0000

    Fix an off by one error.

commit d22fc0dd931e43be5f20526e8e43a303d054ca21
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 7 14:20:13 2008 +0000

    Allow depend creation again. This doesn't work on GNU make, but does on all others.

commit c25651057038c6ef4f8cbd6819aa0b5ed892087a
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 7 12:39:27 2008 +0000

    add rc_getline to the man page

commit 43d0f3fc76542d0859c9b84402c0483a22e02b68
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 7 12:29:30 2008 +0000

    rc_getline keeps expanding it's malloced buffer until it has read a whole line or EOF. All functions which read into static buffers have been changed to use fhis function to avoid any potential overflows and to ensure we really do read a long long config line.

commit 74e0e58b899accd2bd72a7d7303331e47089959f
Author: Roy Marples <roy@marples.name>
Date:   Mon Jan 7 09:39:44 2008 +0000

    Stop using CPPFLAGS

commit 18adcb1ee8d9c09b0788d899be421e0f5ef1068a
Author: Roy Marples <roy@marples.name>
Date:   Sun Jan 6 23:58:12 2008 +0000

    We may as well use echo here as we recreate mtab fully if successfull.

commit 789bd6ab0908fc0b21a4f82bf2a67dbbc5232cc3
Author: Roy Marples <roy@marples.name>
Date:   Sun Jan 6 23:30:20 2008 +0000

    Install the static archive in /usr/lib

commit 4a4a3409677d22a7d1cbb64664da4ea31f1bf54c
Author: Roy Marples <roy@marples.name>
Date:   Sun Jan 6 23:00:26 2008 +0000

    Fix userland einfo when passed with no arguments

commit 816d566440b23b2fb7a0dcab7fa437786936df18
Author: Roy Marples <roy@marples.name>
Date:   Sun Jan 6 21:56:13 2008 +0000

    No need for basename.

commit 956a867a71d7f5157bcd85491373cdcf7e9e2c22
Author: Roy Marples <roy@marples.name>
Date:   Sun Jan 6 21:51:30 2008 +0000

    No need for basename here

commit 26f5eeece1cc476a71bc16c66ead721c86e9cda2
Author: Roy Marples <roy@marples.name>
Date:   Sun Jan 6 21:44:26 2008 +0000

    Fix branding

commit 16a2c82bd194a41cab45021799b4251cf926a051
Author: Roy Marples <roy@marples.name>
Date:   Sun Jan 6 21:06:47 2008 +0000

    We should check we resolved a service before stating it's existance.

commit b1540cba5b88a1ef625b66990af66fbb6aa15e62
Author: Roy Marples <roy@marples.name>
Date:   Sun Jan 6 19:52:43 2008 +0000

    Use a dynamically expanding buffer for reading config files.

commit 8afb86a5deb7187e87f35a62959e3944348eb0d9
Author: Roy Marples <roy@marples.name>
Date:   Sun Jan 6 13:47:39 2008 +0000

    Set include paths in Makefile instead of .c files

commit da4217fec805602616de7da6fffff158857ded83
Author: Roy Marples <roy@marples.name>
Date:   Sun Jan 6 13:06:56 2008 +0000

    Add net config's to have their own depend function per interface.

commit 6ccc00a050e02c6380c68e62509801d8b3ade658
Author: Roy Marples <roy@marples.name>
Date:   Sun Jan 6 12:49:41 2008 +0000

    Fix sysctl init script, OpenRC bug #1

commit 62ef80e7f87e206ac3532a0c893f3b80d7736ecc
Author: Roy Marples <roy@marples.name>
Date:   Sun Jan 6 11:38:37 2008 +0000

    Add our version maps back

commit 2b54426bd3a2ed10a9de27098bfa0727537853bd
Author: Roy Marples <roy@marples.name>
Date:   Sun Jan 6 00:50:19 2008 +0000

    librc needs kvm on bsd.

commit ddb3ab47046dcedd88ffbf84a44a0a42438bc9e3
Author: Roy Marples <roy@marples.name>
Date:   Sat Jan 5 21:05:19 2008 +0000

    Use LIBNAME for multilib so as not to conflict with LIB

commit 75815abd6ca9c6562c354eca7f314a1618678ad9
Author: Roy Marples <roy@marples.name>
Date:   Sat Jan 5 20:54:34 2008 +0000

    Fix installing pam files

commit 44d63fdec6e27d02c704192c76ee4cb76bc372ae
Author: Roy Marples <roy@marples.name>
Date:   Sat Jan 5 20:53:28 2008 +0000

    Fix installing links

commit 20b50e57b9a92b50f99f57023fa03aed4041ad7c
Author: Roy Marples <roy@marples.name>
Date:   Sat Jan 5 20:49:48 2008 +0000

    Add missing Makefile

commit e6c9bdf2a30d84e35b783146ebe36314b4269ffb
Author: Roy Marples <roy@marples.name>
Date:   Sat Jan 5 20:43:32 2008 +0000

    Add the missing changes from the recent Makefile updates

commit c92be49041a7b56f651a93e71e15e94bc8727489
Author: Roy Marples <roy@marples.name>
Date:   Sat Jan 5 20:43:08 2008 +0000

    Move the env whitelists to an rc var and build in the system whitelist.

commit ac21d75300dabe83578e4373fcfd09d67c3a083b
Author: Roy Marples <roy@marples.name>
Date:   Sat Jan 5 19:25:55 2008 +0000

    Add some .mk stubs to impersonate bsk .mk files to make writing our Makefiles easier. libeinfo, librc and rc now have their own seperate directories. More work is needed to tidy this up though.

commit 112fbde453d55c49b7999d2e35496a8758aaa7b5
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Jan 4 15:57:31 2008 +0000

    use implicit rules for many things rather than hardcoding our own

commit f5fb796619c719d4e3d1aa908dd25e8f4496bed4
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 4 15:47:34 2008 +0000

    We use -W in the loop vars, no don't duplicate in the test.

commit 339efeb347720c65cf949f339934b15140dab84d
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 4 15:46:52 2008 +0000

    pmake does not support -C dir :/

commit 09cf3342d5629c2417f61482e6d3291f00966a18
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Jan 4 15:36:56 2008 +0000

    do not hardcode ar or ranlib

commit 8c4e35e4ab50b2656230aea4da7b16b6921b86b6
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Jan 4 15:27:46 2008 +0000

    fix exit status usage -- one $ means make expands it, $$ means shell expands it

commit 3d163f4548774c222ccf2dead8e2811ffeccc824
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 4 15:19:04 2008 +0000

    Remove support for static and pam combined - too problematic.

commit aa1129a71d44e55f6cf533dfd9256ade6fe53132
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 4 14:46:45 2008 +0000

    More static building fixes.

commit 633297a6ca01df281c293cb484d3f377d90af1b3
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 4 14:01:24 2008 +0000

    Support static building against a non static PAM.

commit 3be23bc02d30bc415e5ae3f1bc167280d9fde26e
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 4 12:50:04 2008 +0000

    Instead of mirroring correct output, state that we're not running because of RC_SYS.

commit 455a9105a87bb69c103e06f290e1ba92b32bb6e6
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 4 12:39:47 2008 +0000

    Fix clock for XENU.

commit c13471f91fbc02af5ebaf98404a4250ac091ff86
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 4 12:39:06 2008 +0000

    Fix detection of Xen dom0 vs domU can use the right variable in init scripts.

commit d7961bef66619849e14fe8be38f1880d0473a2a7
Author: Roy Marples <roy@marples.name>
Date:   Fri Jan 4 11:06:58 2008 +0000

    Add BIN_LDFLAGS so that we can build static bins without affecting our shared libraries.

commit d8019881dd588cef273f506411ec23a888c646e5
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 3 20:19:32 2008 +0000

    Don't check kernel version for features, check feature existance.

commit b349409f7bca19a6cc5f109c62288dde6eac5d8c
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 3 20:02:27 2008 +0000

    br2684ctl can also exist in /usr/sbin, Gentoo bug #204186

commit 5ce37e1cef27059193ad75c35d752af85d1288e3
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 3 17:23:42 2008 +0000

    Ensure that copyright is unique for rc, librc and libeinfo. Also, fix branding a little.

commit f56929ea7da4a726f96bc7d91e953da6ea22d70d
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 3 17:05:29 2008 +0000

    Put branding in version.h

commit b7171535495d4e05953fc3f54cb50a985a2e9b49
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 3 16:08:45 2008 +0000

    Move inittab to the support directorry as the sysvinit package normally owns it, not OpenRC.

commit cc96c0933d3fc82e6a7f687bf18705bae62e550a
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 3 15:48:33 2008 +0000

    Juggle the Makefiles so that sh knows about NET_LO

commit 0176ee89ed256559616fd215f0eda849fbb8f0bd
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 3 15:35:10 2008 +0000

    rc.conf, not rc

commit 19765f289c109658252f67b31b869c64b015e454
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 3 14:49:34 2008 +0000

    Move the linking of files in /etc/init.d into the sh/Makefile so that install -jN works.

commit 3a1cc82a8dbdfd73426d4120c84c7121118af546
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 3 13:02:03 2008 +0000

    Allow a BRANDING define to be used.

commit b6228a987e93356d1e9361399a63d2033eec6d63
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 3 13:01:43 2008 +0000

    Allow building without std=c99 defined

commit 555fe1165603869e9595085d155ccf58e6169f18
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 3 10:12:45 2008 +0000

    If we fail to make, send the error back to parent make.

commit 079e5e820c76cf0f0d0afeda5d7d4ac933b665d0
Author: Roy Marples <roy@marples.name>
Date:   Thu Jan 3 09:24:22 2008 +0000

    Don't specify a blank DESTDIR so we inherit from the env

commit 301c378ffeb4f1d227656973d341044048963ad1
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 2 17:28:35 2008 +0000

    Make depend a global target

commit 6cee86071ec2771f48156831dc667ecb0fd52d76
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 2 17:28:19 2008 +0000

    Add + for parallel make to work.

commit b204eb57dcd8dba92f00c317f2c462e6282b914c
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 2 17:07:44 2008 +0000

    Really dd depend target

commit 0855e685bd4fa3ad00f6486fdcef411088158412
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 2 17:02:33 2008 +0000

    Add depend target

commit 28d7a19201d52e61112c90beee1511f09c036bd8
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 2 15:42:52 2008 +0000

    Allow rc_$service_$deptype in rc.conf

commit fadee8e656807f466cdf39a9a9c0c113613bc36d
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 2 15:38:37 2008 +0000

    Move _shell_var shell function to shell_var C applet

commit e5933843e81b213786f78bb267f84fa78f663b61
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 2 10:28:27 2008 +0000

    _opts -> _args to match other scripts

commit ca55270ab0eb2d217eaa8b8ff147187079fe3bd8
Author: Roy Marples <roy@marples.name>
Date:   Wed Jan 2 09:42:15 2008 +0000

    Merge branch 'master' of git@git.overlays.gentoo.org:proj/openrc

commit 6ed064504d21460f8643ee413c1ce73ee4e0c8be
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Jan 1 18:11:45 2008 +0000

    the reason we need portmap/rpcbind is so we can communicate with rpc.statd, so make sure we depend on it for nfs mounts

commit 1dcfacfbc202b04ca12517c4c9603298185e36e7
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 31 09:56:32 2007 +0000

    Merge branch 'master' of git@git.overlays.gentoo.org:proj/openrc

commit a273f8df559bcb8faaf0770587f54735463c5ef0
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 31 09:28:53 2007 +0000

    Fix the adding of default routes

commit b6aa56ce14cab6c6a1c4c88a1d0ec15976e5b25e
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 31 09:28:34 2007 +0000

    Fix metric_$IFVAR

commit 0a28d694134254b02760b7ca52a303eddbcaa2da
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 31 09:26:53 2007 +0000

    iproute2 uses via, not gw

commit 409e73bc29e31f9498aa76998b3763e219943c01
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sun Dec 30 17:55:44 2007 +0000

    dont pollute namespace with our own local restrict keyword

commit b6fcfd115766c04f5ed490637c709b33b11a241e
Author: Roy Marples <roy@marples.name>
Date:   Sun Dec 30 16:59:56 2007 +0000

    We should export SVCNAME so service_* functions work in depend

commit f97a5cd9cb2ee9b79ac389c169b8e3c312ad024a
Author: Roy Marples <roy@marples.name>
Date:   Sat Dec 29 18:59:48 2007 +0000

    Merge branch 'master' of git@git.overlays.gentoo.org:proj/openrc

commit 3bf35803daebfaff9eeb084e1e7bca89912f06b5
Author: Roy Marples <roy@marples.name>
Date:   Sat Dec 29 18:59:24 2007 +0000

    Clean the failed dir when we start and end rc so that failed services can be re-attempted outside of rc

commit 0ddc38960c41bd36e0f455201466b696f810c04e
Author: Roy Marples <roy@marples.name>
Date:   Sat Dec 29 17:25:00 2007 +0000

    Move net.example to /usr/share/doc/openrc

commit 4af969587ea2af23cb7c4cbe6e5f362c5bc7baa5
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 28 23:56:37 2007 +0000

    Install the modules config file

commit 75a8f1ff198ecd6dbf9518676d3481a5b1bf4247
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 28 22:41:19 2007 +0000

    modules init script now uses it's own config file instead of random foo in /etc

commit c36c5d0471e3dde4b80f2d20c43408577c5a548a
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 28 15:35:23 2007 +0000

    Add whitespace as conf is appended

commit 634a64129eb036f883e2a51448e77eeb3633200b
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 28 15:23:43 2007 +0000

    Prefer ifplugd over netplugd

commit b768255ee42530e489e9aaddf9d699f230b28feb
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 28 15:21:59 2007 +0000

    Don't install relative symlinks

commit 0c47c56cead35375cb786a7657cbbb0ab0eb4aaa
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 28 15:07:28 2007 +0000

    Although OpenRC requires C99, linking to us should not.

commit aa719aa2959b0b95884d5768c47c1f9ff0706211
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 28 12:05:03 2007 +0000

    Relative links seem to cause an issue, so don't use them.

commit d5684c26f9f51f2db3f5d586989cfb40f0b0318b
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 28 11:59:42 2007 +0000

    runlevel links are not relavtive, so don't install defaults as such.

commit 69fe6844ebeb2f16657af34dd4547c60b5e48329
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 28 09:38:31 2007 +0000

    net modules should always be installed

commit e658ac6c8fa096045a8c05ad20a90afce2d66015
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 27 20:41:08 2007 +0000

    Add a license and do more quoting

commit dd69fb66b92a88f8a9340fbd9c504e878932c12e
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 27 17:17:37 2007 +0000

    Fix RC_COLDPLUG shim for real.

commit 68a42629d75f4a58b29b703f997e05d63c09a9a7
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 27 16:54:10 2007 +0000

    Add a misc var section and add unicode to it.

commit 6d23d11a902434aa1c1bc3885258e4baee6ff975
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 27 16:53:40 2007 +0000

    We no longer install rmnologin

commit 40c93d624837f36ae75f1b0093549ab30ccd5a8c
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 27 16:53:14 2007 +0000

    Supply a default $INSTALL for GNU make.

commit 4b6a27fdf9df85363b46ad09d273e369bd6e18c1
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 27 16:52:35 2007 +0000

    Don't allow RPATH of . to escape to a tarball.

commit 3f079ce495ece183e6ab48167e05ba99678474a3
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 27 16:51:31 2007 +0000

    Fix display

commit 11c3b5ed6c010476091422e6bf51c34fa88830fe
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 24 22:37:44 2007 +0000

    whitespace

commit 3e8695f6f0c30c0d97cea77ec2a43d3f02b5e7e5
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 24 22:34:22 2007 +0000

    Automagically link our man pages.

commit c8768538592572773396883192ceb2af9ea2d736
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 24 22:34:08 2007 +0000

    add comma

commit 5741ad634d778df45d802aa3ee1de5bee178f138
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 24 22:03:27 2007 +0000

    Add man pages for all librc functions.

commit 7de72229a55300a7a22bfe4a4da43207f3fe475f
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 24 13:55:40 2007 +0000

    Remove forces spaces from ebracket and ensure ok matches eend output.

commit 5ee9dfff6d71304015ed95c2a998b925c849db48
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 24 13:54:24 2007 +0000

    rc-update show not default to show

commit 28a74e21255e798e52940f2f56eceb9690559c89
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 24 12:06:45 2007 +0000

    Add document ebracket

commit fcb7ab641cc974d26b419658bf740dbc1168f935
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 24 11:48:33 2007 +0000

    Add a man page for einfo.3

commit 851cf1098625c10235ac60d2f15159df53abfd58
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 20 18:49:44 2007 +0000

    Don't mix code and decs

commit cbea91cae5ab8ff97f4d534181c0b0ea7c743d38
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 20 17:39:13 2007 +0000

    Remove rc-help.sh and replace with a man page for runscript 8.

commit e4575849bee50b0cd7bb6a18bc41071b1b05138a
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 20 15:54:19 2007 +0000

    Add a manpage for rc.8

commit f1d1281c0438003c65056c1235d28b34f786fb82
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 20 15:44:38 2007 +0000

    Let service_started_daemon work off SVCNAME

commit 0560b64fcb5965551da212e667ab3964511e8f86
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 20 15:15:53 2007 +0000

    Add restrict keyword to einfo

commit c474b810af3a04659be23a745535d612d9f6db4d
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 20 15:02:04 2007 +0000

    Constant data and pointers

commit 6b37d16a2250e80808ec0b6efa9aa4afeb46a6c3
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 20 13:18:46 2007 +0000

    Fix service_*_value

commit f02d9b6f6f2dc2f860f32ca625dbd3f73f3a411b
Author: Roy Marples <roy@marples.name>
Date:   Wed Dec 19 14:46:38 2007 +0000

    checkown -> checkpath

commit ed620aec61752b35914aec8841a2576ceb69a277
Author: Roy Marples <roy@marples.name>
Date:   Wed Dec 19 14:28:38 2007 +0000

    get_options -> service_get_value and save_options -> service_set_value

commit bc9cc3dfb5c27d30964dc497d7559c134f3893ef
Author: Roy Marples <roy@marples.name>
Date:   Wed Dec 19 14:08:33 2007 +0000

    No need for that include

commit 4022522a81852d845ec8479d229b915d293c97d6
Author: Roy Marples <roy@marples.name>
Date:   Wed Dec 19 13:53:52 2007 +0000

    cbasename -> basename_c

commit b3df16a03e169741e6e6fefa0d7d52c1482be599
Author: Roy Marples <roy@marples.name>
Date:   Wed Dec 19 12:46:45 2007 +0000

    syslogd uses net

commit cd45e5435762d8c6cd13287df7df16b97755176e
Author: Roy Marples <roy@marples.name>
Date:   Wed Dec 19 12:46:08 2007 +0000

    Introduce cbasename so we don't have to strdup(basename) and free all the time.

commit 2f7218c9849e667ba20d76e4dfe46b4bb195063a
Author: Roy Marples <roy@marples.name>
Date:   Wed Dec 19 10:49:03 2007 +0000

    Make checkown --user --group behave more like chown

commit 47887ac7c340639c9c6b7bf4379a1940f3e01b6c
Author: Roy Marples <roy@marples.name>
Date:   Tue Dec 18 18:01:05 2007 +0000

    usage now requires a global applet var instead of a define, don't prefix describe output and use generic usage for runscript.

commit 437363a3449423173bc94746a122fbf3b4cf254c
Author: Roy Marples <roy@marples.name>
Date:   Tue Dec 18 17:59:29 2007 +0000

    We no longer need SVCNAME here

commit c556731ad317a4a1d02e6ded366ccb0dd2d15806
Author: Roy Marples <roy@marples.name>
Date:   Tue Dec 18 16:51:59 2007 +0000

    Allow service_* functions to work off SVCNAME if no arguments passed

commit 05a9d0e25e343a2bb574a0c94f00fee19eec0622
Author: Roy Marples <roy@marples.name>
Date:   Tue Dec 18 16:48:56 2007 +0000

    Allow service_* functions to work off SVCNAME if no arguments passed

commit e4b73c506b85727e1a77f6c0feffe3aa8c17a099
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 17 14:29:19 2007 +0000

    Describe extra_started_commands also.

commit 4a4f808a0f92b9415e8ded69fe8b3203197bb687
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 17 10:14:54 2007 +0000

    Rework the manpages into mdoc format for easier maintainence

commit 33dac46299b75f6f8042125b9c6d9fc38ebe7e29
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 14 23:11:54 2007 +0000

    savecore happens before swap, so don't depend on it.

commit 6f41b4de6056e6c232470918a997ffb8525136cd
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 14 23:11:33 2007 +0000

    savecore happens before swap, so don't depend on it.

commit e41249b450ccca2d2b8284858996b88a58c0e9cb
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 14 23:10:58 2007 +0000

    savecore happens before swap, so don't depend on it.

commit d2e3fcae3c8df601206970c3787f4bf1581e1025
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 14 23:01:28 2007 +0000

    Our tools should not inherit EINFO_QUIET from the curret environmet, Gentoo bug #201352

commit 10edca8e0e16c3a5e927e80c4cfd1a06c0b76e76
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 14 23:00:29 2007 +0000

    Only assume the current runlevel if none specified

commit afdcf1fa158e9833c163068f77e88d21ba0e3225
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 14 20:09:53 2007 +0000

    udev requires try function and the modules-update program should take care of any 2.4 vs 2.6 kernel issues. Also add vim instructions to a few files.

commit 584cea1f8e0d2aa21f75c273159608d9ee35cda5
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 14 15:49:25 2007 +0000

    Add some avahi scripts

commit a010d0bb69fbdda086c265d7cab650c485c3e6f3
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 14 14:19:03 2007 +0000

    Remove the try and check_statedir functions

commit 9f2403dffae514dca431828014a2dc9c9de4e61f
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 14 14:12:38 2007 +0000

    Remove Gentoo copyright from all files that I know I have written

commit a3db3bac6242ff29871161620d0449125b3262aa
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 14 12:24:16 2007 +0000

    Allow services to be in /usr/local/etc/init.d, but disallow them being added to the boot runlevel.

commit b73bd04cf3f19b47480c85dd58e63eef5900fa3c
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 14 12:23:13 2007 +0000

    If we need to regenrate the deptree in the boot runlevel, remove it afterwards as the dependencies may need programs brought up by localmount. The dependencies will be regenerated correctly in the next runlevel.

commit f8db842dd2e93c37a5287beefeb425ae98dcdb4a
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 14 12:17:57 2007 +0000

    Default to correct init dir and preserve depconfig

commit 5541d3e3856ba2ef7071a480b49dbef3321c64a5
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 14 12:16:05 2007 +0000

    We should only do colours if fd1 is a terminal by default

commit 7a18054fbed634616c925135b03536f1b9492e6e
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 10 16:25:29 2007 +0000

    Only configure SSID if we are running on a wireless interface.

commit 159fc8b4adf4afa56bd6e0483817903923f6a64e
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 10 16:19:04 2007 +0000

    Fix wpa_supplicant configuring per ssid

commit 39b7394d93be88f1694f46f6e0f4c5205eeff96d
Author: Roy Marples <roy@marples.name>
Date:   Sun Dec 9 13:52:03 2007 +0000

    uppercase values

commit f71beafa166d7bc80d6440bf3fa70d6faac9bda1
Author: Roy Marples <roy@marples.name>
Date:   Sun Dec 9 13:50:41 2007 +0000

    uppercase values

commit 62bbbf7f31f61d58ce81cb2b2d323fbafd8c06ce
Author: Roy Marples <roy@marples.name>
Date:   Sun Dec 9 13:49:43 2007 +0000

    normalise var name

commit 0df6d640f73b9c800566474568717ad679d7d328
Author: Roy Marples <roy@marples.name>
Date:   Sun Dec 9 13:49:20 2007 +0000

    Use yesno more

commit 2c3c27e251231264b0eb37c968d36f0b4fd3c54b
Author: Roy Marples <roy@marples.name>
Date:   Sat Dec 8 12:10:45 2007 +0000

    Mirror the action of rc-update in baselayout-1, with the exception of adding to the currnet runlevel if no runlevel specified.

commit 9a6cfc0a9b455d463ce469fc59beb880ecce5294
Author: Roy Marples <roy@marples.name>
Date:   Sat Dec 8 02:50:35 2007 +0000

    Add termcap support.

commit 04515763746ed1622ee43f36a7d6cb5af8a9dbf6
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 7 14:33:37 2007 +0000

    whitespace

commit 2b107a992bdbab1695645ea07a66ce5c4bbca8e2
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 7 14:32:57 2007 +0000

    Ensure that hostid starts early

commit b1569127b40aa89cb8a2693cad868b1e187a2dee
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 7 14:32:28 2007 +0000

    Just check that ecolor returns a string > 0

commit acf425e82212179a27686ebc6a42e6021ea71e5c
Author: Roy Marples <roy@marples.name>
Date:   Fri Dec 7 14:31:51 2007 +0000

    Include time.h on linux

commit 17585a3c044f942e838eb928c24511eaea5c25ba
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 6 11:16:27 2007 +0000

    Don't be spammy or interactive when we don't output

commit d3436344eeed79fcb9b0d59d3d9231bad31b310a
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 6 10:49:11 2007 +0000

    Don't exit in functions.

commit a178d532020aa159b27fa0fa5e9bb7490c5c35e6
Author: Roy Marples <roy@marples.name>
Date:   Thu Dec 6 10:48:00 2007 +0000

    Move RC_ to EINFO_ for all env vars related to einfo.

commit a31c7cc61e4ef7e03e9d2986e09bb849de2c292f
Author: Roy Marples <roy@marples.name>
Date:   Wed Dec 5 17:49:53 2007 +0000

    These don't need to be exec

commit 0490a9290a6af4a4923cc79fd380bc00a0a702e3
Author: Roy Marples <roy@marples.name>
Date:   Wed Dec 5 17:48:07 2007 +0000

    Remove rc_service_wait as runscript.c should do the waiting. rc_deptree_depend now returns the exact depends as listed. This is so we can support a new 'keywords' directive. We can add whatever here, like 'notimeout' which means that an init script doesn't timeout. This removes the hardcoded check on checkfs and checkroot.

commit f40f7528be64269af7a5401af95dd37d398a5b31
Author: Roy Marples <roy@marples.name>
Date:   Wed Dec 5 16:41:54 2007 +0000

    Add a nscd init script

commit 27067e55e52c770a89bb23a141dc1791c907a755
Author: Roy Marples <roy@marples.name>
Date:   Wed Dec 5 16:31:23 2007 +0000

    Add a newsyslog init script

commit 0f7cb3293a4b24ee00ac30803a834bd8534cae5b
Author: Roy Marples <roy@marples.name>
Date:   Wed Dec 5 16:22:20 2007 +0000

    Add a mixer init script

commit 43174080279226ba243602aeedd0f5c8b966d2f8
Author: Roy Marples <roy@marples.name>
Date:   Wed Dec 5 16:03:05 2007 +0000

    Add hostid to the boot runlevel

commit fa19e8ec4affd102a95e65d7bfdfc5d74e4056bd
Author: Roy Marples <roy@marples.name>
Date:   Wed Dec 5 15:57:26 2007 +0000

    Change file perms

commit b258e0eb52dcb5ff87a847637f532a19d1fbb4aa
Author: Roy Marples <roy@marples.name>
Date:   Wed Dec 5 15:57:17 2007 +0000

    Add hostid init script, based on the FreeBSD one.

commit 07e3d69c52c44fd4953db1c7ef3431b053e3f775
Author: Roy Marples <roy@marples.name>
Date:   Tue Dec 4 16:15:32 2007 +0000

    Our default start command should correctly recover on failed re-entrant services

commit 09f949de5e6990786a01acf5b3e1262e8ac846eb
Author: Roy Marples <roy@marples.name>
Date:   Tue Dec 4 14:19:47 2007 +0000

    Remove our reliance on sed and grep

commit ba3248e6d23f80f03bed9093891fdfdaf736b2b8
Author: Roy Marples <roy@marples.name>
Date:   Tue Dec 4 14:18:41 2007 +0000

    Preserve IFS correctly

commit bb2b8f383feb1d1c7d919009f575a6fa0036587d
Author: Roy Marples <roy@marples.name>
Date:   Tue Dec 4 12:25:12 2007 +0000

    Allow moused to have configs per port

commit 8cfb8f13338cf2ea7846a6bad15138683648cc4a
Author: Roy Marples <roy@marples.name>
Date:   Tue Dec 4 09:55:59 2007 +0000

    Always show the 'Waiting for IPv6 addresses' message if we need to wait, and fixup inet6 addresses on FreeBSD-7

commit 6ce3bf096bb3e397371e38ee2625092d2470a5e8
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 3 18:02:57 2007 +0000

    Wait for IPv6 addresses to complete, Gentoo bug #169442.

commit bf8d8a9be7e45120e11fb68c493f61b58e87a537
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 3 16:16:48 2007 +0000

    rc-help.sh should use standard ecolours vs its internal ideas

commit 52b6cd1c9be5b7c4c0ed16c69239ae2c6839fba0
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 3 16:16:08 2007 +0000

    As ecolor does not take a tty, try and guess a valid one.

commit 82f7dae3e81a4054464bee42b49f1d872c7ca63d
Author: Roy Marples <roy@marples.name>
Date:   Mon Dec 3 13:38:23 2007 +0000

    Warn about pidfiles not being created.

commit 7683c5056a74ce4074940c3f96ad2db1bcf624ed
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 30 09:59:10 2007 +0000

    fix last stupid error

commit a6d8b76876ac744e019aa7b172ffee3e75b93d1c
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 30 09:38:01 2007 +0000

    Ensure that lo0 gets 127.0.0.1/8 with a space separated config

commit 16ad975b2de79f0fa9ae27940598658247bd3c5e
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 29 16:23:59 2007 +0000

    Allow services to define which extra commands require the service to be started

commit 82df7e4584282896a0618f14cca2dd3f3d23e8a2
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 29 11:23:06 2007 +0000

    Use shorthand for loops

commit 50161bef0e27ca235d876b888ae5abcafbec2ac7
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 29 11:17:50 2007 +0000

    Allow space separated configs to work for CIDR address styles

commit f0aa06b58626626729f8d7af6f6a9edf08c807f4
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 29 09:45:57 2007 +0000

    Fix whitespace in configs

commit abc627e4a27662282a4f9cb221bf4e7174ad789e
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 29 09:38:19 2007 +0000

    typo

commit 44fe71306206f579d2246b761d9e32c6eb137b72
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 28 17:02:02 2007 +0000

    RC_DEPEND_STRICT -> rc_depend_strict

commit f796ad463d86a0969821d58a9aa1b02307917b91
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 28 16:12:45 2007 +0000

    Load the tun/tap modules on BSD

commit 9252492d2f67dce7ed4400dd660999db8467156d
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 28 15:50:18 2007 +0000

    We don't care about update-rc

commit ac9279cc0d5a00bc17908b2914941186020cd3ce
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 28 15:45:03 2007 +0000

    Massive whitespace cleanup

commit 444f23e2d158389b22d40537fc9b027d9f575229
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 28 14:32:24 2007 +0000

    resolvconf may not be in /sbin

commit f434007b982bf49029641d1238d929507abb4235
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 28 13:44:30 2007 +0000

    Add OpenVPN support files

commit d651155b61a6f9ca3fe53e60718f3b43e04b23c8
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 28 13:40:15 2007 +0000

    Sanitize our PATH a bit better, and terminate it correctly in start-stop-daemon.

commit 8ea741d6994c66df1c2a3851ea1a806e8c87e249
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 28 13:08:25 2007 +0000

    Support required_dirs and required_files. Allow services to mark inactive if using templates and fake commands if in background.

commit 8df5860848485426bb1d08021d562049350bafeb
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 28 10:06:31 2007 +0000

    Use a more generic BSD define.

commit 97f707db0d42e816b90bcd0a3dee25a197ae5ac0
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 28 10:06:13 2007 +0000

    FreeBSD-7 and NetBSD support tmpfs, so try and use this first.

commit 8a328b7408e888a88c5e81ac89c10e9d267709f7
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 28 10:04:15 2007 +0000

    Allow whitespace in routing commands, Gentoo bug #200458.

commit f6033cfb26825322345a9dd6bbd03fb22e0424d5
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 27 16:13:42 2007 +0000

    git clean before dist, and add some ignore files

commit 49edf58fc15c8d8aeccffe1dd4b579a5b44dcaeb
Author: Roy Marples <roy@marples.name>
Date:   Mon Nov 26 09:56:22 2007 +0000

    Don't rely on sed being available when calculating deps

commit 7921d9f3d09db8d5ee211b6f40cf4e50ff3bef89
Author: Roy Marples <roy@marples.name>
Date:   Mon Nov 26 09:36:40 2007 +0000

    Change to hilite and space a little more

commit 8fd73f8109af75f0574a6db7daec08790422c881
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 23 22:45:22 2007 +0000

    Fix default

commit a618935584d1a5b9c55363f17e2c491febd46d5f
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 23 22:43:45 2007 +0000

    Try and work out multilib

commit 85fe5ae12d82690ad0e3479533cbddb7387528f4
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 23 22:29:18 2007 +0000

    lowercase clock vars

commit 206f7096e0b4c155b77a64b91990a5d8c91c9764
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 23 22:23:20 2007 +0000

    Fix var names

commit 168fa73a49553a90009b9077607593e9a5a77565
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 23 22:22:50 2007 +0000

    Use shell expansion instead of basename

commit 6bc37fd203298f8467d70da4d7bbc37a2e2192bb
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 23 22:22:18 2007 +0000

    this is still an env var

commit 5f120db647e59eada6b434243d796bd31792bdad
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 23 14:42:19 2007 +0000

    Fix install permissions a little

commit 33852baf525800e9745ccc666db24a7a01a1d892
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 23 14:25:35 2007 +0000

    Fix version and depend on ntpdate too

commit d7ea2987d6ba92206202f389e3e157407d6bb5a4
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 23 13:52:15 2007 +0000

    grep isn't always in /bin

commit 9583df9c28827ab503ecd3bfc0c69e230c25933f
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 23 13:11:40 2007 +0000

    Move syslogd to the boot runlevel

commit 173825d658ad2c0d9a07e3ae619cdcf8b3862395
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 23 12:46:03 2007 +0000

    Add polkitd init script

commit 2c5d32d334fe10d8b718193db869bffeb0727960
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 23 12:40:52 2007 +0000

    Add hald init script

commit a9b33949ed82e94282e7dae81bc8b68c51e015f7
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 23 12:37:11 2007 +0000

    Add dbus init script

commit c647e2588d11bfcfe49c4b8aaeb0819104854a7a
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 23 12:30:45 2007 +0000

    Add sshd init script

commit d1090165f8cf273584a293d71a44c6e5eaa8378d
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 23 12:16:12 2007 +0000

    Add devd and hooks

commit cd0cd1167e7d59218f5bfe3088c3c63e0ce4abf5
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 23 12:15:57 2007 +0000

    Use yesno

commit bbd25ccc00808dbadcc2dde57d3292b1be1be6bb
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 23 12:12:38 2007 +0000

    Add devd and hooks

commit 81d508b0b548134aa76282e8a4fd1b1b7be2d79c
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 23 12:08:25 2007 +0000

    Add dnsmasq init script

commit d81def80b00a3dbcb4f8980f4503c4d659b48a2a
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 23 12:04:11 2007 +0000

    Move /etc/conf.d/rc to /etc/rc.conf.
    Lowercase all configurable variables, non configurations remain uppercase.
    Replace rc_env_bool with rc_yesno.
    Split localmount info procfs (Linux) and dumpon, savecore (BSD)

commit f077f179edaeb746b267421baa29ec751c38b713
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 22 21:46:51 2007 +0000

    touch ups

commit 6aadda49659330230abb80e10c0c7ff865137d5f
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 22 18:53:54 2007 +0000

    We no longer need this hack for FreeBSD-7

commit a1b9dabf4e89b9f4bb7f0c318ff87bb4d0be2168
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 22 13:37:24 2007 +0000

    Use yesno for more robustness

commit 5f37abddde55ee5ec2afb4e2b565326261bbc976
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 22 13:31:19 2007 +0000

    Use yesno for more robustness

commit 09c5e5d415d5813f49d871dc0712212a92a695ed
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 22 13:28:14 2007 +0000

    Use yesno for more robustness

commit e31e930825b2e1d122460b42d1a52d1aa8c13f5f
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 22 13:25:20 2007 +0000

    Support FreeBSD ifconfig_foo

commit ee61f4630920d576d7c875e72547c98e227e7c66
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 22 12:20:40 2007 +0000

    Use yesno

commit 4b28587704ea31788f91f27d71b9aa96a45afc9c
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 22 12:18:24 2007 +0000

    Add a yesno function to check the boolean value of a variable

commit 7cf049cb35b03ff3d4e3da6b863c0d17ad3496db
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 22 12:09:46 2007 +0000

    Fix execing a for argument list too long

commit c2aa772687ec20acfe1e31dd2e39cf41d271613f
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 22 11:57:30 2007 +0000

    issue.devfix is Gentoo specific, as such it belongs in a separate init script.

commit 46bb4b8f8bfb4006fb28967c50c32bf7ebf3644d
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 22 11:25:08 2007 +0000

    Allow 'after *; before local;' to work

commit 640f3152707e88cf5802774d0277a84fc8ba1b8d
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 21 15:49:05 2007 +0000

    describe setting the mode a little more

commit 41c00eda37298bbc88ae79dd701eaa444659f995
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 21 15:46:56 2007 +0000

    misc BSD fixes

commit 872a31b2158ee65ad07e6ba04e366624af2d0fa5
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 21 15:44:01 2007 +0000

    Don't warn about timezone, it's not for us to do so

commit 2238faff286733f67160c95ecbf15ba2b5b8a727
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 21 15:43:17 2007 +0000

    Add to the boot runlevel correctly

commit 38dd90b17aceff8904358ed427fa8cae22c3349d
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 21 15:42:43 2007 +0000

    We should create init.d and tmp dirs

commit b321c6891e0be599ef70bc369422ba89a6701544
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 21 15:41:45 2007 +0000

    The BSD's don't need to umount cleanly when shuttind down, as they have a special kernel service to handle this. As sch, don't error if we don't have fuser

commit 95f8344874b09d3b2c52b58ba32ad45c529bd9b3
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 21 15:40:42 2007 +0000

    We should include local paths

commit 2b1a864bc42cff3a9daae42418608d2b5b69dad0
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 21 15:39:43 2007 +0000

    BSD shouldn't need to use wpa_cli to manage link events

commit 58bea85f922549b88efb8fc163ad8c82de4fdfd1
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 21 15:39:19 2007 +0000

    dhcpcd may not always be in /sbin

commit 0c52821cba79a0c649450c0a1519bbfb21a4f975
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 21 15:38:07 2007 +0000

    We cannot use realpath to resolv services as some are symlinks.

commit a76f2c20e410a1414b0922b22b00d1bc7c6cc35d
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 20 18:19:48 2007 +0000

    opts -> extra_commands. This is much more descriptive.

commit 6a6ef66d15f37b771924b4c3504f173cb9dbc3f0
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 20 17:45:00 2007 +0000

    local.rc -> rc-enable and ensure that we start all defined services, including system ones

commit 7048837e3fca76a804d41fbfe4f0dc9495248399
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 20 17:44:39 2007 +0000

    local.rc -> rc-enable and ensure that we start all defined services, including system ones

commit 9635b455c7ba6d5a7e196ac8776fc28c6f1e03e4
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 20 17:37:15 2007 +0000

    Introduce CONTENTS variable into Makefiles to list the contents of the directory, excluding the Makefile for to Make life easier

commit 18acf0803c49e5921cac4b065d5962a51df89231
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 20 17:11:55 2007 +0000

    Install the rarpd init script

commit a00f9ed6313a679d97fd54fe75f8b5e85b66c524
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 20 17:11:19 2007 +0000

    powerd does not provide logger

commit 42b057edbe7608712446700df3a72da4c208fc78
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 20 17:10:35 2007 +0000

    Add a rarpd init script and allow templates to add start-stop-daemon arguments

commit a12da90fb324fa5d88e4cc753ffcf680b70251b3
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 20 16:53:45 2007 +0000

    Add an ipfw init script

commit 739d51c349c3e046e1f895edd5f0784c1789ce21
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 20 15:49:04 2007 +0000

    Document syscons MODE and allow to run on all terminals

commit 588466058266ec2b17976d599232b928c0eb08be
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 20 15:48:57 2007 +0000

    Add rpcbind init script

commit 78fc5aac348bc5ebae6a546365d7a91600e3e863
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 20 15:32:32 2007 +0000

    misc fixes

commit 2ae90aa765603bca4a6644774f3b9bcb32fce861
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 20 15:20:51 2007 +0000

    Add a powerd init script

commit 3ec2cc50261f37b76e0eba80735319272d3f3062
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 20 15:11:18 2007 +0000

    Add a syslogd init script

commit bd85c4a5e757f4b9025c3ee2733a1ada01c27519
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 20 15:00:45 2007 +0000

    Add a syscons init script

commit 4a99001a0fad4fd855030d57835ab1643c709f42
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 20 14:44:43 2007 +0000

    Add a moused init script

commit c94bfb2f9b05a09146a906135006c23352151ccb
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 20 13:44:03 2007 +0000

    Open RC -> OpenRC

commit c91de275e9a618be49b3b65dfac07a116f35d47e
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 20 13:42:35 2007 +0000

    Fix local.rc for the correct order

commit 11a745ab0c3842e20251e58073ef0587ae68123b
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 20 12:55:56 2007 +0000

    We no longer support pam_console directly. Also, we cannot use chgrp due to silly LDAP issues.

commit a8fcb36d72da61ebc00fb61e720d2f66e0999556
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 20 12:20:50 2007 +0000

    We don't use /var/lock anymore

commit 91db53cef3536a45ab245d6f182fbd1c141583cf
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 20 12:10:32 2007 +0000

    Move sysctl into it's own init script

commit d063cda7e1afd959dea908bf8bb892ce7db7fe40
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 20 11:59:44 2007 +0000

    Move the runlevel foo to it's own Makefile for ease of maintainance

commit ed0074cb4492daac3c9b1a43cc4ef78c48044d3e
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 20 10:32:47 2007 +0000

    start -> stop

commit df523ccfeed0945926cd7adf9f4a8f4bc9aa5eec
Author: Roy Marples <roy@marples.name>
Date:   Tue Nov 20 10:24:40 2007 +0000

    runscript.sh now provides default start/stop functions if command and pidfile variables are set. We also run $cmd_pre and $cmd_post commands and return accordingly.

commit 46f25b2a72f05b314b523508a22b66d564a0d0c9
Author: Roy Marples <roy@marples.name>
Date:   Mon Nov 19 20:27:36 2007 +0000

    No easy way of getting git status, so remove fancy checks.

commit 008d801a505a18fd8dc935e7d535d4f16795da8f
Author: Roy Marples <roy@marples.name>
Date:   Mon Nov 19 18:55:32 2007 +0000

    Punt the STYLE doc - prospective coders should always match upstream style.

commit 6be2c2934b46e23f0ac2c06e8e72692f85076ece
Author: Roy Marples <roy@marples.name>
Date:   Mon Nov 19 18:36:10 2007 +0000

    rc.c needs version.h

commit 619c9dba3808c917dce01ea4b50c325da25ae453
Author: Roy Marples <roy@marples.name>
Date:   Mon Nov 19 18:31:40 2007 +0000

    Add a sample inittab

commit 88ccccc22a3f8938bcd43ffbe86d3b9c3c814ad3
Author: Roy Marples <roy@marples.name>
Date:   Mon Nov 19 16:42:28 2007 +0000

    Move runlevel and lib logic to the sub Makefiles

commit 81715c31594ac2f02b1d73dc9df0a7e9a19ca9a7
Author: Roy Marples <roy@marples.name>
Date:   Mon Nov 19 16:41:36 2007 +0000

    Display version on start and allow --version to work

commit eb20d7d786fe13aecec80772c7d84d90c5d92560
Author: Roy Marples <roy@marples.name>
Date:   Mon Nov 19 16:10:33 2007 +0000

    Add a README with some installation instructions and a bit of history

commit 5ffb62f75b2c13c352cf78b0d23c72f37848a31e
Author: Roy Marples <roy@marples.name>
Date:   Mon Nov 19 14:01:28 2007 +0000

    A few comments about PREFIX

commit 5f8cf73b22b259658d92397f3e6478ef80ed5691
Author: Roy Marples <roy@marples.name>
Date:   Mon Nov 19 13:48:43 2007 +0000

    Our build chain now works with GNU and BSD make implementations

commit 2ef9c5c5208d6d911c3826d94ac72c2bd9813c2c
Author: Roy Marples <roy@marples.name>
Date:   Mon Nov 19 13:46:09 2007 +0000

    Only start plugins once we have made an exclusive file

commit da153631e70b7335bd657255856fa56ad9c0caad
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 16 11:58:41 2007 +0000

    Run the hook_out if set

commit 505f6951c404ddf96c6bbf7b9d768f589502b90f
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 16 11:55:08 2007 +0000

    If starting and started or stopping and stopped, just warn and continue. Fixes Gentoo bug #176452 again.

commit 959219f2361038f3b4faa0c7fd04a8a9dd33b7eb
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 15 15:25:51 2007 +0000

    Vanilla FreeBSD make is now supported for src

commit 0c25b359de8d4e0900f3ab4bd098736ed97b412d
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 14 18:23:59 2007 +0000

    Allow bash arrays to be flattened to make some configs easier.

commit a21512847558e2b46c21e970499b5ff75a920cb3
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 14 16:42:56 2007 +0000

    Install our .so links to /usr/lib

commit ed20354fdbcf8e34f8346728390decc4cff302b1
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 14 16:39:07 2007 +0000

    add etc back for BSD installing rc and rc.shutdown

commit 4888f3c97d8e239005e3ccc6a4da46ab2f354564
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 14 16:25:47 2007 +0000

    wpa_supplicant also works on wired interfaces, Gentoo #198722.

commit 69a040bf85e59043dbc6dbb9f67260ed91a93cd5
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 14 16:19:56 2007 +0000

    Show help if we don't have any args, Gentoo #198380.

commit a8f4032d292afb80ec1dddde3c61845c2c298ad3
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 14 15:32:01 2007 +0000

    We don't define a version yet.

commit d3b7a917969752900920337c0235a2890dd880a6
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 14 15:29:25 2007 +0000

    Use realpath to resolve our service.

commit 75f5b5fe1d8ce62c80bc7033d717d700e0f81dbd
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 14 15:23:20 2007 +0000

    These files belong in baselayout

commit 39227ede1d1571192e12ac2f957951d79f36cfa5
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 14 15:22:04 2007 +0000

    relicense as 2-clause BSD, with the kind permission of Gentoo

commit 28d9d86dd54c530c19141de3adf139e200f4da01
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 14 14:04:34 2007 +0000

    We should always give eend a message.

commit f8ad30fc6e35c171bf62e880aa2e4249e64d1d9f
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 14 13:46:21 2007 +0000

    Really remove env-update

commit e31b9ab08892058eea5461eec13b87e1489ac405
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 14 13:45:20 2007 +0000

    If we have specified a pidfile then we only stop the pid listed,
    regardless of other arguments.

commit ccf79ceb475d94236acca378e079625ef511eda2
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 14 13:39:34 2007 +0000

    Control of system defined env vars should not be done by us.

commit b439703b4d3198f0d1c2568b3f97576d39ed914f
Author: Roy Marples <roy@marples.name>
Date:   Wed Nov 14 13:34:42 2007 +0000

    These files belong with baselayout

commit 0874acb08c6ab7502bf1e50d8d8cc9adc17b1f10
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Wed Nov 14 08:06:11 2007 +0000

    set homedir of uucp to /var/spool/uucp

commit be1d1dd4c36786be124a0eec4ea13c24919b800c
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Wed Nov 14 07:58:02 2007 +0000

    Move mail user/group and postmaster user to the mailbase package.

commit 954c09f6da9bf7108788d285382c75184974d30e
Author: Ned Ludd <solar@gentoo.org>
Date:   Sun Nov 4 10:13:48 2007 +0000

    initialize s

commit 388f3ab9c5cecd23bd40a6527ffcae7bb11e4e36
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 2 17:03:29 2007 +0000

    Fix up display for tab delimited foo

commit 3f657432647da6a58c4637d8460524042a7e0d39
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 2 15:24:45 2007 +0000

    Fix example

commit 7003483a9146353872b0d9a3cea0f8b272bd5b62
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 2 11:02:07 2007 +0000

    Fix ppp config, #197775.

commit 220f6f8fdba09d8e19b61a060d29d3d3bd6e13aa
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 2 10:07:10 2007 +0000

    Fix an ifconfig calculation for shells that don't support the newer POSIX shell math expansion, #197856.

commit 54a8d559267290f2e1f7e4be210ee511fc0bbb56
Author: Roy Marples <roy@marples.name>
Date:   Fri Nov 2 07:26:51 2007 +0000

    Fixor IP comment and logic thanks to vapier

commit 80124a050c626584f19fbac917276946224bcde7
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 1 22:25:53 2007 +0000

    Work cleanly with bridges on kernels without TCP, #197791.

commit a1f80bc7a74b5b3b899eadeb63ccfbdec6d860d0
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 1 18:30:14 2007 +0000

    Fix rmnlogin for parallel startup

commit be13c0018b7fa7ca7909abf05fb3305f109b539c
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 1 18:15:30 2007 +0000

    Fix fallback, #197788.

commit 02f47103e3549df9831409bd9a3984257b48885c
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 1 15:53:52 2007 +0000

    Fix some more, #180888.

commit c3690f2d1be67b032a29aa9b4aedf64558e040f9
Author: Roy Marples <roy@marples.name>
Date:   Thu Nov 1 12:08:27 2007 +0000

    Document mdev

commit cef90a05a7eec449d023dd1301da2c966e2b5000
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 31 22:56:53 2007 +0000

    Release rc6

commit c8de77fbbee099f9e21e4363b049cd36453588ea
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 31 22:34:26 2007 +0000

    Fix starting state and clean some whitespace

commit 9fa717fb1d51356a4fb3a6908048a142fe4a8b9a
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 31 22:12:39 2007 +0000

    whitespace

commit 7cd70aee4d62015283a1191b354c9c91dc343bbf
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 31 15:46:56 2007 +0000

    You can now log baselayout-2 again, through the RC_LOGGER conf.d/rc
    setting. The log is temp stored in /lib/rc/init.d/rc.log and appended
    to /var/log/rc.log if it's writeable. sysinit cannot be logged in Linux
    as we rely on sysinit to bring the system up to a point where we can log.
    single user cannot be logged on FreeBSD due to waitpid(0,0,0) incorrectly
    waiting for the log daemon in another process group.

commit feed4b4c90e92996a19e7d8da70909c6e38f2124
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 30 13:17:27 2007 +0000

    Use default IFS here

commit 9d1c1b66e53eb086a22ce8b922efba19c17d7644
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 30 13:08:29 2007 +0000

    Fix vconfig and remove debug

commit 6ffd3b5289a07a8995832da9f5bdfefa265b1e5d
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 30 11:39:19 2007 +0000

    You can now spoof the source address for arping as the third parameter in gateways_eth0 if you have arping2 installed, #180888.

commit 1152e2677c1827744d633da02976cc78cf918da8
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 30 11:38:46 2007 +0000

    Embed newlines in __IFS to save our identing

commit 05f119a78eb803937413cd84f8ec1deb93355586
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 30 11:38:23 2007 +0000

    Embed newlines in __IFS to save our identing

commit 7d2c240c2584c4cefaebcff86441d31b927293ed
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 30 11:37:49 2007 +0000

    Embed newlines in __IFS to save our identing

commit c9fe3ade4c2d736a708d335bcace3b0cd3bee168
Author: Roy Marples <roy@marples.name>
Date:   Mon Oct 29 16:02:18 2007 +0000

    rc --override foo will override the runlevel to load after boot or single user runlevels to avoid rc recursion, #196338

commit 8c85fa399fa1ed6ac3e402ef557fcd44d1787859
Author: Roy Marples <roy@marples.name>
Date:   Mon Oct 29 13:58:40 2007 +0000

    Do an exact match on tmpfs

commit e2ba92f77362097621c977e0e46d4c3e6a509c37
Author: Roy Marples <roy@marples.name>
Date:   Mon Oct 29 13:53:21 2007 +0000

    /etc/mtab is now a true reflection on /proc/mounts. The only exception is that we punt any / on tmpfs entry, #194615.

commit e372729b8cc489af7b1b2305d6fd9c1895b9c8d4
Author: Roy Marples <roy@marples.name>
Date:   Mon Oct 29 09:45:49 2007 +0000

    Network config arrays are now split by embedded new lines instead of being evaled into space separated values. This makes it easier to read, maintain and document as discussed on gentoo-dev.

commit 42c231d7609447cb96d98cbebdc12a197324fb99
Author: Roy Marples <roy@marples.name>
Date:   Sat Oct 27 09:53:56 2007 +0000

    Indent fixes

commit c02cc42b1d88b2b1fb861202ec005756fc6c71b7
Author: Roy Marples <roy@marples.name>
Date:   Fri Oct 26 12:22:26 2007 +0000

    Fix the restarting of services depending on the script you're restarting

commit a825e6f30fa7ec5cac0e34dceb6fdec116120092
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 25 09:11:18 2007 +0000

    Format the script correctly, and fix ssids with spaces in hopefully once and for all

commit 795408632b8a47bc61980b9518252555443c84b1
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 25 06:41:29 2007 +0000

    Fix BSD wireless script

commit 1a673aa11726041a1e5f33364fa893a29c83b313
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 24 08:50:14 2007 +0000

    Advise not syncing time when running ntp daemons

commit 9bb59a93f2c544b58c1ee3575c50f17d3a27cfc1
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 24 07:26:05 2007 +0000

    Simply the clock script even more. This makes us very similar to Debians now

commit 663f21199a75b0cf354aff37bf08840da1fcc924
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 23 22:49:21 2007 +0000

    clock init script now works with busybox.

commit f8842233889aa21a96f965298e5c7f91afc6c922
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 23 20:48:06 2007 +0000

    Use -D_BSD_SOURCE -D_XOPEN_SOURCE=500 in place of -D_GNU_SOURCE

commit 0764a6cb460b5bc63f7037988013d86208fca6b4
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 23 20:43:45 2007 +0000

    Stop using asprintf

commit bf0cc2dac43bde5249ad2a918006e560382f86d0
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 23 20:00:08 2007 +0000

    clock init script now handles /etc/adjtime correctly. CLOCK_ADJTIME hinted that it could change the location of /etc/adjtime. This is not the case.

commit dc3bce5dae6daf7a9d3c2996fdc581241549d165
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 23 15:23:10 2007 +0000

    interupt -> interrupt

commit af510fb316cca1daef93da84a4396732982b3736
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 23 10:06:15 2007 +0000

    We can still update deptree if needed services are missing

commit 85648ee5cda8471d48f2481c09b62424f713a06b
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 23 10:05:47 2007 +0000

    Fix tmp cleaning

commit c30b64a63a2a4b22d1f51111e8fd2d82850d7985
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 23 09:05:19 2007 +0000

    Allow half a second for a working pidfile to be created and a tenth of a second for a daemon to bail.

commit 2d7f57d462d90ff33e4e0a4e36290fc5f90fc9d6
Author: Roy Marples <roy@marples.name>
Date:   Mon Oct 22 20:24:00 2007 +0000

    Fix init.sh for shm again

commit 9dddb43eb49d07d8c1b87e11c8d259fd41a34ae4
Author: Roy Marples <roy@marples.name>
Date:   Mon Oct 22 19:33:42 2007 +0000

    Wait for plugins to finish before moving on.

commit 6b0c28039d051af85f009cb2cbc4c77a3d93bdb0
Author: Roy Marples <roy@marples.name>
Date:   Mon Oct 22 16:28:38 2007 +0000

    When getting an ecolor, we should check that stdout is a tty

commit 33aa2a07450c90f15df0e13851b32a6c370fc5fa
Author: Roy Marples <roy@marples.name>
Date:   Mon Oct 22 16:19:12 2007 +0000

    whitespace

commit 0d9eaafe9adbda53ab3617ec732900612634ca87
Author: Roy Marples <roy@marples.name>
Date:   Fri Oct 19 06:57:41 2007 +0000

    Mount /dev/shm for Linux systems, even not when in /etc/fstab, #196345.

commit 59c9e0e1ee3990870aabcc82b138280f8b08780c
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 18 12:44:40 2007 +0000

    Punt the voumns config file

commit 2113001e39f8aed1bb1480489cf9057b81347e6e
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 17 21:33:23 2007 +0000

    Fix old examples

commit a28dd2d4ef7e55b0f6ddfbc80a371c6967c99a2b
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 16 13:49:00 2007 +0000

    We now build and optionally work with static libraries.

commit 068b4798c2af45260a1720158ba647fbab2e94e0
Author: Roy Marples <roy@marples.name>
Date:   Mon Oct 15 16:17:33 2007 +0000

    Update dependencies if we're allowed too

commit a6ae4a6cde87984313211a508b6ef540d6990b66
Author: Roy Marples <roy@marples.name>
Date:   Mon Oct 15 16:03:49 2007 +0000

    This is probably better

commit 5d215f9d63b718eefff69ad20648fb3d66b15c25
Author: Roy Marples <roy@marples.name>
Date:   Mon Oct 15 14:40:53 2007 +0000

    const correctness

commit c7f679e97e83de461c8f2de320b6b120bdecc50a
Author: Roy Marples <roy@marples.name>
Date:   Mon Oct 15 11:20:27 2007 +0000

    Add trace to depopts

commit f95e75f0e9fece41b8b15c0d810f3ce7561937b8
Author: Roy Marples <roy@marples.name>
Date:   Mon Oct 15 11:17:57 2007 +0000

    rc-status now orders services in start order, #195630

commit 8ec450eff77a20a66c027d6f9763262614593d64
Author: Roy Marples <roy@marples.name>
Date:   Fri Oct 12 10:09:04 2007 +0000

    Add link-local

commit 20a149b2c7bfd7e53d24d0665281c083d7362c67
Author: Roy Marples <roy@marples.name>
Date:   Fri Oct 12 00:01:33 2007 +0000

    malloc over fatty buffers

commit e3bc6666d6d5bd8922ca10652a2d04577357fa71
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 11 23:17:53 2007 +0000

    malloc data size, not pointer size

commit 14287ddd80b3c2d7eb44b3bee77caab4c4d6eca2
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 11 19:24:53 2007 +0000

    net.eth0 and net.eth1 makes no sense, thanks to Marc Blumentritt

commit 79736a48d411af96446cd26c66052be6d6641bb5
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 11 15:39:08 2007 +0000

    Release rc5

commit 0f266074995bacc3c9776501e289046d21a47307
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 11 15:14:55 2007 +0000

    Only update mtab if /proc/mounts exists

commit 77205862e33aa34cc2886f314c026da87f182a7a
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 11 15:05:02 2007 +0000

    Bump librc and libeinfo to .so.1

commit 5261b5ed3a74ae5fc47a2c8fff77abec0f793638
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 11 15:04:07 2007 +0000

    Fix checkroot and give info about mtab

commit d2813aff861a791fef8f896c327b7731db34c385
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 11 14:00:56 2007 +0000

    Yoiks, that comma shouldn't be there.

commit e00bf235180a91e1a9d258a943d034d52e9250f3
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 11 13:56:38 2007 +0000

    No need for that include

commit ebcfd49e9c17cca34d7a8146ae73fe626dde622e
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 11 10:11:12 2007 +0000

    Fix deleting items from string lists.

commit 64d1dd9da0c80691a562dad932dbca37bcfd6195
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 11 09:49:54 2007 +0000

    If / block device as in /etc/fstab does not exist, use /dev/root if it's available in checkroot, #171593.

commit 07c8f8cfde375df0601020ecd656dc825571f17b
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 10 13:49:52 2007 +0000

    Fix rc.map

commit 4bdf9ab63ed8bb661367bc8330e8c1598dd4bbee
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 10 13:11:35 2007 +0000

    rc_deptree_order_services -> rc_deptree_order

commit e744a6ba24529025aac28e7a134efcb10823f512
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 10 11:55:55 2007 +0000

    Give more time to daemons

commit 25091eb4f49c68f8733387449b95bbd2a0ea8439
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 10 06:24:08 2007 +0000

    Don't run the done hook twice

commit 183b7464d32266352c1e70df3c9b10bb6fa0bfcf
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 9 21:20:10 2007 +0000

    We should only have one block of code that restores state

commit 2613316686a95986f88d5b8521ef82baa7617088
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 9 21:13:08 2007 +0000

    Fix failed services a little, and make timeout more sane

commit 31c6cacb0a92d4fc8d024ca51eb83058398bb6b5
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 9 21:10:53 2007 +0000

    Always remount root rw if it's not

commit d4685722060c23b625164beccacab6b476fcd5cd
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 9 17:41:53 2007 +0000

    Improve applet help a little. Also, if mountinfo as any mounts given, work explictly with --netdev/--nonetdev

commit db468457dc4c1b15f62b09d70a43d418343020b8
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 9 15:47:25 2007 +0000

    Foo, should be a mask

commit 537ef36350e6e7ceb8fb51641e65387c9d6232c3
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 9 15:44:22 2007 +0000

    Ensure that runscript returns 0 when service is started

commit dc0ba7ebf3109b2bbdd73c5f0a411ba6129c2daf
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 9 15:33:05 2007 +0000

    netmount, localmount, halt.sh and net scripts now check OS specific flags to see if a mount is network mounted (linux = fstab, *bsd = "local" in mount options) or not, #192772.

commit e89805e0c06792c58c19e47f99ab6379d69a2149
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 9 12:52:09 2007 +0000

    Quiet some compile time warnings on uclibc

commit 3ac49bd6b3ad681a98fb1c19c379c5ac68c8cc3f
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 9 10:18:13 2007 +0000

    Fix help

commit 393d07cb6fb321182185c95088a646fcb9a7be04
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 9 09:56:45 2007 +0000

    txqueuelen_eth0= now works, #190538.

commit ee1b7d01414b9913f518c333509cceecc16cec38
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 9 09:25:32 2007 +0000

    Tidy up

commit 3da29223584b1a336be6ba6c257f748196146a9d
Author: Roy Marples <roy@marples.name>
Date:   Mon Oct 8 12:46:14 2007 +0000

    Don't stop reading dir contents on errors

commit cd4bce7e8da691b8be0a88292eee13852b826b7e
Author: Roy Marples <roy@marples.name>
Date:   Mon Oct 8 11:16:22 2007 +0000

    Wups, should be xstrdup

commit a89ceb7e2c994e2a3907d9c906d99021a6e15788
Author: Roy Marples <roy@marples.name>
Date:   Mon Oct 8 11:11:21 2007 +0000

    Punt rc_ from xstrdup, xalloc, xrealloc and exists as they're not in librc anymore

commit e7dab9bb91344476603cc01a9db95c891e01085d
Author: Roy Marples <roy@marples.name>
Date:   Mon Oct 8 11:07:39 2007 +0000

    Move rc_env_filter and rc_env_config out of librc and into rc

commit 9d18c195d7c40fb1027f83edd7dbd1a16f2a9698
Author: Roy Marples <roy@marples.name>
Date:   Fri Oct 5 14:15:06 2007 +0000

    Don't unmount stuff in /dev or /sys

commit 93684b646e107bba71a286b2a7b14c22c50b4bfd
Author: Roy Marples <roy@marples.name>
Date:   Fri Oct 5 13:37:57 2007 +0000

    Don't umount anything in /sys like we do for /proc and /dev

commit 2691f95a3a2ae4b27b3c625f2d79f2a2f6e80ef8
Author: Roy Marples <roy@marples.name>
Date:   Fri Oct 5 12:04:19 2007 +0000

    rc doesn't and shouldn't use libkvm

commit cf53fe51b1fe109c413777139fabea5934816b6a
Author: Roy Marples <roy@marples.name>
Date:   Fri Oct 5 12:00:18 2007 +0000

    Don't bother holding the old errno

commit 632bd4d1f03cd0d4b6bf397b0768063f6713c12d
Author: Roy Marples <roy@marples.name>
Date:   Fri Oct 5 11:31:17 2007 +0000

    Fix a few errors with the last few commits

commit 9ff89f8027fa904737f15d59e2c3b26950391933
Author: Roy Marples <roy@marples.name>
Date:   Fri Oct 5 11:04:49 2007 +0000

    Punt rc_waitpid

commit 3bfba57f5b2d89a5022fac932e46ca467a4b9f26
Author: Roy Marples <roy@marples.name>
Date:   Fri Oct 5 10:36:53 2007 +0000

    Punt rc_rm_dir

commit 05b8eff319536ade894d07705bc74abaf425788e
Author: Roy Marples <roy@marples.name>
Date:   Fri Oct 5 10:16:14 2007 +0000

    Punt rc_ls_dir

commit efe6e76cc14fb92c2784ef29d40ef42860078d74
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 4 19:49:12 2007 +0000

    rc_service_daemon_set now returns bool

commit 7319c64cffca2c14ad1c7afe329d59389f60ff83
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 4 19:43:01 2007 +0000

    rc_service_schedule_clear returns a bool on error now

commit a6f2713002db20cd65618c1140ed7d3fbbbb9292
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 4 17:26:57 2007 +0000

    inline rc_xmalloc, rc_xrealloc and rc_xstrdup so that the library doesn't expose them.

commit af5525f6342c6ceda5913d2f6675d72ea8501ef3
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 4 17:02:44 2007 +0000

    LS_DIRS -> LS_DIR

commit 15fde9a796a45999b2fdebebbe8862f33cf4965b
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 4 17:00:56 2007 +0000

    Punt rc_exists from public interface, move to private static inline

commit 87ea3e9e3bfa8e96b31d682f29fc7959bdd1b39e
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 4 16:54:29 2007 +0000

    Punt rc_is_dir

commit e2e40afddef5253d5d669002b9afbea6bf3d6c66
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 4 16:26:44 2007 +0000

    punt rc_is_exec

commit d65c484f3a1b210048045613c524c29fdfcb470c
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 4 16:21:53 2007 +0000

    punt rc_is_link

commit bb9ad38de2dab93c5cdb0745b055c3346b6684c9
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 4 16:16:06 2007 +0000

    Punt rc_is_file

commit bd83448633f7e3a2d9d37120090bf3e0460c059a
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 4 14:57:51 2007 +0000

    Document help and status

commit 24e0790e388ae76fb2dde5fbd719ba3dc6b0325b
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 4 14:44:13 2007 +0000

    Fix rc-help regarding per runlevel config files

commit 53176d12ad69757a303609f8e4be5ef8d589546e
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 4 14:15:49 2007 +0000

    document rc_deptree_depends

commit 8b874c9a0f437654ce9dd98c240b5f9cc3989a1e
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 4 14:11:45 2007 +0000

    Revert making function private

commit 48cfeba8b23fa13fbaf63a27df74d385c6cbbace
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 4 13:55:37 2007 +0000

    Remove debug

commit daf868394fb65a6501472a99f0ec9e03a891558f
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 4 13:51:57 2007 +0000

    __rc_service_daemon_set is now a private function

commit 379b66936cb2366ce46d5d6a351bd89db6906812
Author: Roy Marples <roy@marples.name>
Date:   Thu Oct 4 13:38:47 2007 +0000

    depinfo and deptype are now internal use only. rc-depend cuddles up to getopt.

commit 422ac82ef9ff77aa61b51acf7b1ee1ee4c9d4ccb
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 3 15:46:02 2007 +0000

    librc.so and libeinfo.so now have symbol versions.

commit 6d5ac5716b96c42dc95a21a4d246377f906d365e
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 3 14:48:50 2007 +0000

    rc_make_env -> rc_env_config, rc_filter_env -> rc_env_filter

commit a47070071017722d921ff3e8aa357d36f4f7a446
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 3 14:43:05 2007 +0000

    Rename config funcs

commit fc3980b2e2434defbafe981ebb9c943daa96645c
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 3 14:31:16 2007 +0000

    reorg our header a little

commit 4b7efeafa6a8db4e137dc9e34fce20590cb447c2
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 3 14:22:45 2007 +0000

    rc_service_option_set -> rc_service_value_set, rc_service_option_get -> rc_service_value_get

commit 563c6f46c0439eeb3fcc90105264ae1043b7298f
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 3 14:18:52 2007 +0000

    rc_schedule_clear -> rc_service_schedule_clear, rc_schedule_start_service -> rc_service_schedule_start

commit 4c3bf59c5bc6b1ff10b61263bf9347e3cf918f4a
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 3 14:14:44 2007 +0000

    reorder header a little

commit 260318f24fb806be93122b1704ad4e0ea80a748f
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 3 14:11:55 2007 +0000

    rc_get_runlevels -> rc_runlevel_list

commit 0ccf248afde8159ece027af1491daed97c761420
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 3 13:35:39 2007 +0000

    Default to tunctl so we can create the device as a specific user, #194588 thanks to Jaco Kroon.

commit 8abd6ebb111a4a3e4bc4eb5ce440632577c06878
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 3 12:55:27 2007 +0000

    hide eprefix

commit 034a18c54819532b309e631eb9dfafc9fc11966d
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 3 12:45:57 2007 +0000

    Align correctly when passing output to grep.

commit 76d3ee58e11e3355156c6c9887308bb4ad1649b1
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 3 12:43:50 2007 +0000

    Don't use colour when not a tty - like say when we're redirected to a file.

commit ab38e54fed14be6b888d915a2a165d10c4474caa
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 3 11:53:20 2007 +0000

    Fix output for no colour

commit 932a4576ce371ae9bdf290f24e76240ec71fb482
Author: Roy Marples <roy@marples.name>
Date:   Wed Oct 3 11:49:08 2007 +0000

    Respect COLUMNS

commit b675ca477932acda8d306e4bc3b5cb3c05cd8f44
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 2 14:37:30 2007 +0000

    Compile fix

commit 69ebf0c73888203968d6737773a6a2c41636f551
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 2 09:57:23 2007 +0000

    rc_allow_plug -> rc_service_plugable

commit 4e9e8d075cddb6f9d1e9c7baba976b99e9366304
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 2 09:04:10 2007 +0000

    rc_set_service_daemon -> rc_service_daemon_set

commit cef0ad32157562efd93c7ce154a11c0abfd1a7b2
Author: Roy Marples <roy@marples.name>
Date:   Tue Oct 2 09:02:08 2007 +0000

    rc_set_service_option -> rc_service_option_set, rc_get_service_option -> rc_service_option_get

commit 52f33e2815c830094c851d7b6620c41470188433
Author: Roy Marples <roy@marples.name>
Date:   Mon Oct 1 08:42:27 2007 +0000

    Compile on fbsd.

commit 1a6912d7ebfe23a4e8a47c0c286f8e699f171aef
Author: Roy Marples <roy@marples.name>
Date:   Sun Sep 30 14:35:41 2007 +0000

    Fix dns timeout comment, #19405 thanks to Patrik Wenger.

commit d3d0fd2d9ccb53b0cb132bedf5d4e5a4a8409d3c
Author: Roy Marples <roy@marples.name>
Date:   Sun Sep 30 14:35:12 2007 +0000

    Fix dns timeout comment, #19405 thanks to Patrik Wenger.

commit 0fae5deeb16690ea22345ed7f8ea38a716ac5d3a
Author: Roy Marples <roy@marples.name>
Date:   Sat Sep 29 17:20:52 2007 +0000

    Plug a leak

commit 7d5c82cf63a6cbd2088fb6277b79a2d807710868
Author: Roy Marples <roy@marples.name>
Date:   Sat Sep 29 17:03:38 2007 +0000

    rc_wait_service -> rc_service_wait

commit f795cd20f86fc27cdbcfaf405eb6e572c10dc353
Author: Roy Marples <roy@marples.name>
Date:   Sat Sep 29 17:03:21 2007 +0000

    librc doesn't use libeinfo

commit b19e646575876ad9722bf5db33eb67dd280eba1b
Author: Roy Marples <roy@marples.name>
Date:   Sat Sep 29 16:54:58 2007 +0000

    Rationalise more functions into rc_service_

commit 837f43e163b31e40b3ea554d6d031f25789590ac
Author: Roy Marples <roy@marples.name>
Date:   Sat Sep 29 16:42:08 2007 +0000

    librc no longer uses libeinfo. deptree function names are now all under rc_deptree_

commit b153f67fe3e0df84a02bfc9cae6f2469ca793615
Author: Roy Marples <roy@marples.name>
Date:   Sat Sep 29 10:17:28 2007 +0000

    Ensure reading the console still works in parallel startup

commit 162887c364a9352f8147e415236445d964db1493
Author: Roy Marples <roy@marples.name>
Date:   Fri Sep 28 19:29:59 2007 +0000

    -C should force no colour as well

commit fc1bfe4234714cdcc6b158ec04cb3f92c7c8caa7
Author: Roy Marples <roy@marples.name>
Date:   Fri Sep 28 15:04:15 2007 +0000

    Crashed is not a baselayout state as such

commit 7274301be24a70c094e8c91a36f3e8b6156f53ba
Author: Roy Marples <roy@marples.name>
Date:   Fri Sep 28 14:53:38 2007 +0000

    rc_service_state now returns the state as a mask, which means that we can do things with just the one call making is more efficient.

commit befddaf2418cf4a732a46aecfb79cb9cf64b3a40
Author: Roy Marples <roy@marples.name>
Date:   Fri Sep 28 12:54:48 2007 +0000

    keymaps now sets unicode keyboard on all defined ttys, #192442
    thanks to Pacho Ramos.

commit b894cdb7383a35d63f16c59bc31c5c619e64db0d
Author: Roy Marples <roy@marples.name>
Date:   Fri Sep 28 12:46:59 2007 +0000

    net.sh now checks to see if root is net mounted if no predown function
    exists, #194074.

commit 6f7f447978025c9d49a0d2a0a5a6a29384ba80c8
Author: Roy Marples <roy@marples.name>
Date:   Fri Sep 28 12:29:23 2007 +0000

    enums are now fixed to specific values and are in UPPER CASE.

commit e89c2c5d60ad97f60e6dfecabc39acef8bc03525
Author: Roy Marples <roy@marples.name>
Date:   Thu Sep 27 23:16:40 2007 +0000

    The rc_depinfo_t and rc_deptype_t structures are not for public consumption.

commit 8c402e53ee1aecbe52ea79f5ab596790d29eba21
Author: Roy Marples <roy@marples.name>
Date:   Thu Sep 27 22:14:23 2007 +0000

    Clean makefile for duplicate rules

commit 1d0b234e942bbd5572585abf2b156e9991057cd4
Author: Roy Marples <roy@marples.name>
Date:   Wed Sep 26 10:46:44 2007 +0000

    Fix Makefile for pmake, document s-s-d options and increase usage gap

commit 46af0c7ddbf5e346e2895494796262c915917028
Author: Roy Marples <roy@marples.name>
Date:   Wed Sep 26 10:09:27 2007 +0000

    If it's in fstab, let mount work everything out instead of us.

commit 675d0a94c725e60afa25f7da372148cceedb4d60
Author: Roy Marples <roy@marples.name>
Date:   Wed Sep 26 09:16:41 2007 +0000

    No need for bash here

commit 5f5302ef64b5248302053937db36ef65d0366707
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Wed Sep 26 09:08:07 2007 +0000

    use __ prefixes so we dont have to worry about user #defines causing havoc in the normal namespace

commit 5b57534ce7c479b049068bd779eab20bb3eec2db
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Wed Sep 26 09:07:31 2007 +0000

    mark usage() as no return

commit 727a2d90ee9fae3a9186c03a0049bdd990cae78e
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Wed Sep 26 08:44:39 2007 +0000

    add some tests to make sure our exported symbols are sane

commit 9f315994b5b6a4696a25c4836c47248508ab0d88
Author: Roy Marples <roy@marples.name>
Date:   Wed Sep 26 08:43:32 2007 +0000

    Duh, wrong way around

commit f0c7e8e02fd0b14b9f620257d1d459e7389a9ba2
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Wed Sep 26 08:39:16 2007 +0000

    add hidden definition for rc_waitpid()

commit 3d484acec358f98461a25f2de5889d0ce060c89c
Author: Roy Marples <roy@marples.name>
Date:   Wed Sep 26 08:05:49 2007 +0000

    passno needs an argument

commit ef0df587614fc98b35d882c793d515d6a7bbfcb2
Author: Roy Marples <roy@marples.name>
Date:   Wed Sep 26 07:52:48 2007 +0000

    Fix rc_env_bool

commit e24d808fc50cba4f6da3ead3936e7960f38f60a3
Author: Roy Marples <roy@marples.name>
Date:   Wed Sep 26 07:30:00 2007 +0000

    Handle fstab with spaces

commit 8a7b58a73d0ef5a9a7f583bf73b1dc917f2a29de
Author: Roy Marples <roy@marples.name>
Date:   Wed Sep 26 07:05:33 2007 +0000

    rc_is_env is now rc_env_bool and just works with boolean values.

commit ab0edd43b9c6df2946e8a514b12e04db23f13c65
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Sep 25 23:17:25 2007 +0000

    unify verbose/quiet handling

commit 7d9acd968f7a0537b258f23edaca2c85a0774b47
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Sep 25 22:57:32 2007 +0000

    display whether an option takes an argument in the usage output

commit 8ce7911f106bbfa97f8f23d033b3aa22c45c5665
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 25 22:50:27 2007 +0000

    Fix short opts

commit cc3c5ad11108c357a526845d4231a1e22aa5e8c2
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 25 22:45:57 2007 +0000

    fstabinto now behaves more like mountinfo with respect to --quiet

commit da471b7deba436339bf8b3d9436212b9ef384257
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 25 22:21:28 2007 +0000

    Rework fstabinfo so it makes more sense

commit 15b703c6e41466e2202ef9af916e3e35fb385bb0
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 25 19:18:09 2007 +0000

    No need for that sed anymore

commit 6a14825e74c9abdbc024202543fd5fea0ca4a3de
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 25 17:32:12 2007 +0000

    Use bools

commit c6c7df47a00a8a974eb026f31e94bfc07984ac13
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 25 17:30:07 2007 +0000

    Revert last patch

commit 1a6451654fe365c1981b18f35cb6e453166d1b32
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 25 17:19:02 2007 +0000

    We no longer use bool in our public headers, using int instead.

commit b24e87794849f38611f0b9644c1e30222d8369a6
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Sep 25 17:03:19 2007 +0000

    Retain behavior where `rc-update del` warns if nothing changed.

commit 6fc541a9b8bce4f106ebd8ea5893272a2b8f99fa
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Sep 25 16:42:59 2007 +0000

    Retain behavior where `rc-update del foo` deletes foo from all runlevels.

commit 284286004e024dd240cc08d84ebd8b6748d311c8
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Sep 25 16:21:38 2007 +0000

    Add support for describing the options in the C programs.

commit 17f430c0b911ef243599b0dc7388b166d5365539
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Sep 25 15:55:47 2007 +0000

    Skip consolefont setup when RC_TTY_NUMBER is set to 0.

commit 1e4e8ed27ae95096255283e92a75738bc7e296e5
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 25 15:38:21 2007 +0000

    Initial doxygen documentation for rc.h and einfo.h. Plus some header clean ups.

commit a2e5c4513e2955bc0a77c401ea12cc210eab305b
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 25 12:22:48 2007 +0000

    Use -t for -fstype to match mount to make vapier happy

commit 9d9880feac8cddee37d3cb1066cc4387f6aafdef
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 25 12:20:25 2007 +0000

    outdent properly

commit bbac5bbf8a6beaa0b8d7a8cf73394002e5b17b71
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 25 12:20:00 2007 +0000

    Work with wpa_supplicant in /usr

commit f383365493060b3dc429b4b79ef06cfa5e5494d9
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Sep 25 02:29:56 2007 +0000

    Do not require portmap in netmount when nolock option is used with nfs mounts and fixup the test so that it actually works.

commit 450cc13a5c3d080668d46ea16d865459cc9fcec3
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Sep 25 01:47:02 2007 +0000

    dump a useful error message if nothing happened

commit 5e2806692955b728f70705f9a71f41781db7fd74
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Sep 25 01:42:24 2007 +0000

    split links out into a sep target so implicit rules dont cause problems

commit cb2959ef76ec8bae2fb1eb2511ac8581f2ca448d
Author: Roy Marples <roy@marples.name>
Date:   Mon Sep 24 15:28:48 2007 +0000

    Use mkdir to test.

commit ccfbb4ad457a16357221ac7f7594717bbf3d05ee
Author: Roy Marples <roy@marples.name>
Date:   Mon Sep 24 15:27:06 2007 +0000

    Use mkdir to test. Also, quote for robustness

commit da90cc630ee7ea777485c1da01686f1e44e6fa36
Author: Roy Marples <roy@marples.name>
Date:   Mon Sep 24 12:11:50 2007 +0000

    Remove debug lines

commit e95cea3d862f1bd41d74213ff2b4bbcd5f97afd0
Author: Roy Marples <roy@marples.name>
Date:   Mon Sep 24 12:09:43 2007 +0000

    Split our rc commands out into general use vs service commands

commit 71e0d9e37184a5993c8cc406f230c176f14e08fc
Author: Roy Marples <roy@marples.name>
Date:   Mon Sep 24 11:29:05 2007 +0000

    Default timezone to Factory

commit 3e3b54ceed2ca19cb4487e4e0d3c4351e7e1fb75
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Sep 24 10:13:20 2007 +0000

    eat leading newline as the common clock has a proper trailing newline

commit 495690ea5e01c1375a8bd8106ba5fbaea634444c
Author: Roy Marples <roy@marples.name>
Date:   Mon Sep 24 09:07:00 2007 +0000

    Plug some leaks

commit 7a2507c52fcef007636701b947d0106c5b968272
Author: Roy Marples <roy@marples.name>
Date:   Mon Sep 24 06:57:40 2007 +0000

    Fix pppd metric, #193574 thanks to Martin VÃ¤th.

commit e0d06f556ea52ee7e7d2044f116bd94187448577
Author: Roy Marples <roy@marples.name>
Date:   Fri Sep 21 11:52:37 2007 +0000

    Add extraopts to our usage

commit faa555efe24bd77f751c65c76596034ad7d2fe90
Author: Roy Marples <roy@marples.name>
Date:   Fri Sep 21 08:54:36 2007 +0000

    No need for this convulted sed now our prefixed output is on a direct terminal again :)

commit 45bd125dccdc7aef32af99cc6624a74dd2e24371
Author: Roy Marples <roy@marples.name>
Date:   Fri Sep 21 08:49:43 2007 +0000

    Use a pty for prefixed output instead of pipes for stdout/stderr. This
    is so that programs can get information about the controlling terminal.
    This change was triggered by bug #188506 where it's possible that
    stdin, stdout and stderr didn't point to a terminal but ended up on one
    via our pipes. Using a pty means that stdout and stderr always point to
    a terminal, but we lose the ability to tell them apart.
    If there is not a pty available then we use un-prefixed output as normal.
    This change has also introduced the need for a signal pipe so that
    SIGCHLD can exit the loop cleanly.

commit ca58877ed06b259ce37a6240746c733d47b0a179
Author: Roy Marples <roy@marples.name>
Date:   Thu Sep 20 22:45:16 2007 +0000

    Harden startup and shutdown

commit 963229dce839c4b144c1819f60cfeef788b35160
Author: Roy Marples <roy@marples.name>
Date:   Thu Sep 20 11:53:10 2007 +0000

    whitespace

commit ccced38428aac90cfda37b5570011dae10389d7c
Author: Roy Marples <roy@marples.name>
Date:   Thu Sep 20 11:47:04 2007 +0000

    libeinfo now works out the number of columns from stdout rather than stdin, #188506.

commit c1cd1da59567d4f489d000cfdbc4faba31baf83b
Author: Roy Marples <roy@marples.name>
Date:   Wed Sep 19 17:18:43 2007 +0000

    Warn if file/directory mismatch

commit 50ea72ef4b7ab71823cd8421cc8fbaa63a4407e5
Author: Roy Marples <roy@marples.name>
Date:   Wed Sep 19 17:08:25 2007 +0000

    Allow checkown to create files too.

commit 40a1beabe0e1e913a0d58b6a8fd3c6deb0a971fc
Author: Roy Marples <roy@marples.name>
Date:   Wed Sep 19 16:54:23 2007 +0000

    Move the error messages to the option parsing

commit b6aa1c857c9cf4c2d54681875761fa5107433771
Author: Roy Marples <roy@marples.name>
Date:   Wed Sep 19 16:27:37 2007 +0000

    Added the checkown applet based on the work by Renato Caldas, #192682
    checkdir ensures that the specified files (or directories) are owned
    by the current user/group or as specified on the command line. You can
    optionally check permissions too.

commit a74dd430d5c513f1e4d8ed13d7865eb24ccc5494
Author: Roy Marples <roy@marples.name>
Date:   Wed Sep 19 13:55:01 2007 +0000

    Punt rc_xcalloc as nothing uses it

commit 77f9015f0bf09c5ef3c51009e21d8e687006c3e4
Author: Roy Marples <roy@marples.name>
Date:   Wed Sep 19 13:53:40 2007 +0000

    /lib/rcscripts -> /lib/rc

commit 987c72f12f41b8108447810fe84fd9f16e6d29d7
Author: Roy Marples <roy@marples.name>
Date:   Wed Sep 19 11:53:35 2007 +0000

    --opts to --options

commit 5248fb52fa428f2a966a10d0db8991ef26c96b02
Author: Roy Marples <roy@marples.name>
Date:   Wed Sep 19 09:00:43 2007 +0000

    plugin hook function is now rc_plugin_hook instead of a name based
    on the name of the plugin.

commit 726e754fff24d810d39806f7d75504c4d1ca222a
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 18 17:37:35 2007 +0000

    var no longer used

commit 1996a1e032970beeea690dff8480f8007539b968
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 18 16:57:39 2007 +0000

    Hide errors caused by old splash plugin for the time being

commit 5ba4ad52e20de57509917494d22e7f43fb7b324b
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 18 15:45:15 2007 +0000

    Only mount /sys if it's not mounted, #192436.

commit 81c009e47d3a0779cee32e2a90e5a479bbaa790e
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 18 15:43:19 2007 +0000

    Don't be an ass - don't free the 2nd list. Instead just empty it.

commit 9587d71df3c50b26e8e09a74c6d884a965dafafa
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 18 14:18:22 2007 +0000

    Clarify strlist_join behaviour

commit 90c2291cac93f156f14877ac4d63d20e6b939ae0
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 18 14:13:16 2007 +0000

    Whitespace

commit 75b5fdff29d00508dc62ff848e63561bd9fe06a7
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 18 14:08:56 2007 +0000

    Match the recent api change to rc_strlist_join also. We now free the 2nd list for ease of use.

commit c8b03c96b7da55de503c8e3cdab8d49d7358dd17
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 18 12:20:55 2007 +0000

    API change! rc_config_env is renamed to rc_make_env and takes no argument.

commit 807e4afbed9f2802b02f35b738661126e0295bc9
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 18 12:08:04 2007 +0000

    Don't space separate the options

commit 936dc943512289a2692aa12ff666f6dd06b00d86
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 18 12:04:51 2007 +0000

    API change! rc_ls_dir, rc_get_config and rc_get_list no longer take
    a starting list as a first argument. Instead, use rc_strlist_join
    to append or prepend the new list to an existing list.

commit f1bba128929778c21168e84b8970f6623611dc6e
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 18 11:36:55 2007 +0000

    API change! rc_strlist_add and friends now take char *** instead of
    char ** and return a pointer to the item added instead of the new
    list head. This is so we can easily tell if the item was successfully
    added or not instead of iterating through the list looking for it.
    
    list = rc_strlist_add (list, item);
    becomes
    rc_strlist_add (&list, item);

commit 99eabdc3ba537194432a11c5793ca4117296227b
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 18 09:20:30 2007 +0000

    Re-work mountinfo so that we have a lot less OS specific code

commit 47f21d06a07f7c1225886e50a05a06475daeedf2
Author: Roy Marples <roy@marples.name>
Date:   Mon Sep 17 21:38:58 2007 +0000

    Fix fallback configurations

commit fac4de2b4694fb933e7b9e7aa6efdc111d427b4e
Author: Roy Marples <roy@marples.name>
Date:   Mon Sep 17 20:59:55 2007 +0000

    Portability

commit cc7df1d1f8605cc06f45180615d4a135383098a6
Author: Roy Marples <roy@marples.name>
Date:   Mon Sep 17 17:44:10 2007 +0000

    Document the preferance of wpa_supplicant, #192828.

commit bcb85a016def25097ed21fcd702affd3e4203919
Author: Roy Marples <roy@marples.name>
Date:   Wed Sep 12 14:32:18 2007 +0000

    BSD will need a fixed gcc for --as-needed

commit a5585487aa5c85fac1ffabc194063f46add90d69
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 11 22:06:27 2007 +0000

    More --as-needed foo

commit 607f2b37b118d83d63990f8b37da63e3ca0bcd08
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 11 21:45:26 2007 +0000

    Work better with --as-needed

commit bc6b031f2e4bfe7a424f1dae241e4eb77b0992f8
Author: Roy Marples <roy@marples.name>
Date:   Mon Sep 10 21:26:13 2007 +0000

    librc should link against libeinfo too

commit 2aac9fa4644215a6c0612c0f4ac5a0ba862fe729
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sun Sep 9 16:49:40 2007 +0000

    revert EARLY_MOUNTS since everything in the boot runlevel depends on localmount already and anything that runs before it does not rely on things like /tmp or /var/run (and because i confused localmount with checkroot)

commit 5420f22a146e4978204daa58a3fae81dc0ecc4b8
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sun Sep 9 16:12:53 2007 +0000

    add BSD SPECIFIC OPTIONS marking

commit 869da3c68587499e7e1a47bc8fb511b2f1d6ac0d
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sun Sep 9 16:08:32 2007 +0000

    only do the X lock stuff in /tmp so people can overload WIPE_TMP_DIRS for a general "wipe this directory" option.  also force +t on /tmp and /var/tmp.

commit 230421384a6be1239b390fc12f73b0b223705609
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sun Sep 9 16:04:40 2007 +0000

    Allow people to specify a list of early mount points which will be mounted at the end of localmount so they can do tmpfs on things like /tmp #181527.

commit 06ae2e5593fe6b3dac1b2d18e244a08b54da14e1
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sun Sep 9 15:52:05 2007 +0000

    Allow people to specify a list of temp dirs to clean in bootmisc #191807.

commit ba4b5d5b7fab28557e0dda9b5a2191d110118857
Author: Roy Marples <roy@marples.name>
Date:   Thu Sep 6 13:00:03 2007 +0000

    Makefile in src now supports pmake as used on the BSDs.

commit d095d4d8f508276e924e433c8fa7f6ec02e0a92b
Author: Roy Marples <roy@marples.name>
Date:   Thu Sep 6 08:59:35 2007 +0000

    strdup -> rc_xstrdup

commit eb5b1c4c4145d17f0daf06d80445cd7981b0b650
Author: Roy Marples <roy@marples.name>
Date:   Tue Sep 4 09:32:36 2007 +0000

    start-stop-daemon now works with userids correctly when a pidfile
    is not specified, #191206.

commit 52f7df0d0c36be3d92c67f46a0f9433b0150ccf4
Author: Roy Marples <roy@marples.name>
Date:   Mon Sep 3 14:02:15 2007 +0000

    Add --quiet to mountinfo

commit a16695853725ea55b68732071f1d2d54c4ef51cf
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Sep 3 03:10:42 2007 +0000

    Always attempt to mount /dev/pts when devpts is available as it may appear in some 2.4 setups.

commit 2a1e0c1d8d890a09be8b1864c5a3744ae12b09e6
Author: Roy Marples <roy@marples.name>
Date:   Sun Sep 2 13:12:24 2007 +0000

    Release rc4

commit 09374583acba796879a13635242fdee0ac20c61c
Author: Roy Marples <roy@marples.name>
Date:   Sun Sep 2 13:09:34 2007 +0000

    RC_TTY_NUMBER now defaults to 12, #190996 thanks to Pacho Ramos.

commit 2d39857170b1e85d39fa5f6b1bbf81c584b3af20
Author: Roy Marples <roy@marples.name>
Date:   Sun Sep 2 12:55:18 2007 +0000

    Don't use local here

commit c04af92cb48c3751d551bc5248bec41d0713603d
Author: Roy Marples <roy@marples.name>
Date:   Sat Sep 1 00:51:41 2007 +0000

    We may not always add to the array, so re-count it afterwards

commit a9ebc7a2afe7db48e4dee6cbb694d6c956413472
Author: Roy Marples <roy@marples.name>
Date:   Fri Aug 31 16:21:19 2007 +0000

    Only generate dependencies for Gentoo scripts, #190547.

commit 6cf208548802127658bdb8e774fe189aeb798be2
Author: Roy Marples <roy@marples.name>
Date:   Fri Aug 31 11:06:49 2007 +0000

    Don't add multiple entries to ld.so.conf

commit d3bd76486adfcace8153f53fe192a393ded64d0a
Author: Roy Marples <roy@marples.name>
Date:   Tue Aug 28 16:28:33 2007 +0000

    More path fixes thanks to Thomas Pani

commit f7583144f378b90d264da8c7fdd8245798944053
Author: Roy Marples <roy@marples.name>
Date:   Tue Aug 28 13:10:07 2007 +0000

    Use correct defines

commit 144d9653e11918390f2d2ae73b11e07cf312d2fa
Author: Roy Marples <roy@marples.name>
Date:   Tue Aug 28 13:06:44 2007 +0000

    Undocument pause action, fix --nodeps and --ifstarted, #190045.

commit 849b983c3fb6abec364d5e9e2519ef4ba1ea5df9
Author: Roy Marples <roy@marples.name>
Date:   Tue Aug 28 09:17:04 2007 +0000

    #define shutdown

commit d6acd7d83e2693e0afb12a8a6400e491bb1dda65
Author: Roy Marples <roy@marples.name>
Date:   Tue Aug 28 09:13:46 2007 +0000

    Move more stuff to #defines

commit 36118e7dbd7b1ffb7326aa5e0a57ec61af6703d9
Author: Roy Marples <roy@marples.name>
Date:   Tue Aug 28 08:50:04 2007 +0000

    Fix ksoftlevel handling, #190420.

commit 2845610fa6f7dde614b3771e8b811941ec61444a
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sun Aug 26 15:57:00 2007 +0000

    Add /etc/gentoo-release to CONFIG_PROTECT_MASK.

commit 0d031e5481ba650fc46ddaaa39c19d0c8dfad2b2
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Aug 25 18:47:45 2007 +0000

    Punt PAGER and EDITOR.  People need to set this themselves now.

commit 4a23e42be85333dccc39cca6555b96a065ff3855
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Aug 25 18:17:05 2007 +0000

    Make sure we list all config files in rc help output.

commit 9cf4628aaa780eb8173c7184d5ccf4f0f3b1abb1
Author: Roy Marples <roy@marples.name>
Date:   Thu Aug 23 10:25:09 2007 +0000

    Setup wtmp for BSD too

commit 1ef8a7f04160675e414027f4e9fd382875edafa3
Author: Roy Marples <roy@marples.name>
Date:   Wed Aug 22 14:10:46 2007 +0000

    Only open /proc/cmdline if it exists, #189686 thanks to Christian Affolter

commit 25d46c0e963a273e6f2cf097a05a2c24e63251ff
Author: Roy Marples <roy@marples.name>
Date:   Tue Aug 21 08:21:40 2007 +0000

    Fix pppd getting the interface metric.

commit dc5e26e056d5c08450cdcad6d935c6fe4042bf88
Author: Roy Marples <roy@marples.name>
Date:   Mon Aug 20 13:32:31 2007 +0000

    rc3

commit 4a8feebc1b359a64b2128d5c3ffc676c86678238
Author: Roy Marples <roy@marples.name>
Date:   Mon Aug 20 09:10:24 2007 +0000

    As discussed on the -dev ml, RC_DEPEND_STRICT now defaults to yes.

commit 9ea8afb2002d59acc792189c4992541e04686215
Author: Roy Marples <roy@marples.name>
Date:   Mon Aug 20 09:08:06 2007 +0000

    No point in having to lots of get the user code.

commit 0963e067664119c6ae352167698e1fc8fc8f02d5
Author: Roy Marples <roy@marples.name>
Date:   Fri Aug 17 13:23:43 2007 +0000

    Mark the right service as failed and only output a new line if we outputted anything at all for /etc/init.d/foo needsme

commit 7aaa601aad6c88176ec1c5f214153b358c54b379
Author: Roy Marples <roy@marples.name>
Date:   Fri Aug 17 13:23:02 2007 +0000

    needsme should always be valid too

commit b10bd4b9d7d4fea7957201561a34fa3f6303f279
Author: Roy Marples <roy@marples.name>
Date:   Fri Aug 17 12:14:04 2007 +0000

    Stop un-needed services when changing runlevels, #189050.

commit adbe0393851b13ecb8f979cd5b8b53c92be761b0
Author: Roy Marples <roy@marples.name>
Date:   Fri Aug 17 11:31:36 2007 +0000

    When shutting down, stop the service even if dependants failed.

commit bc90e41b76b3cfd44da55e4f4da8bbe9d82f5969
Author: Roy Marples <roy@marples.name>
Date:   Fri Aug 17 11:01:18 2007 +0000

    Intergrate our standard options

commit d1a1e3a3c9ddbb8cb1528747c68581ecd582d49f
Author: Roy Marples <roy@marples.name>
Date:   Fri Aug 17 10:54:04 2007 +0000

    Allow --user and --group to also mean --chuid and --chgrp

commit e0a29e41a2c8d07a4613fa0e9b52d4f81b53e282
Author: Roy Marples <roy@marples.name>
Date:   Fri Aug 17 09:46:01 2007 +0000

    Allow 'del' to work as a command

commit eba9b8ac144aaf86d6e5a80e48ccd70ae9515962
Author: Roy Marples <roy@marples.name>
Date:   Thu Aug 16 17:09:57 2007 +0000

    Fully move esyslog into rc

commit 6e5c8f8e5a02f624f2f8dd7d0b639d54e2993498
Author: Roy Marples <roy@marples.name>
Date:   Thu Aug 16 16:53:20 2007 +0000

    Add esyslog support

commit b8b1352b3890e7a4500e424d53f5de1ea0601c44
Author: Roy Marples <roy@marples.name>
Date:   Wed Aug 15 17:47:25 2007 +0000

    whitespace

commit 2ad4a5ba4a0adb5f018f00e892832b0fe1e73f49
Author: Roy Marples <roy@marples.name>
Date:   Wed Aug 15 16:58:51 2007 +0000

    Add config to rc-help.sh

commit 3950eb6eba585492a9ca31d47d9a59a6e1789a5c
Author: Roy Marples <roy@marples.name>
Date:   Wed Aug 15 14:49:41 2007 +0000

    `config /etc/fstab' can now be used in depend() functions to show that
    the deptree should be regenerated if /etc/fstab has changed.

commit 7d68200f2443fc37809698d612fe6278a8f18016
Author: Roy Marples <roy@marples.name>
Date:   Wed Aug 15 11:20:08 2007 +0000

    Add bzr port 4155 to /etc/services, #188970 thanks to Andrew Cowie.

commit a85a66348ba81f26f2d2378d738c6378e759c44e
Author: Roy Marples <roy@marples.name>
Date:   Fri Aug 10 10:34:50 2007 +0000

    Need to specify table for busybox.

commit 0084bc41ef5db968cac0f64ae9d0b31dc7621818
Author: Roy Marples <roy@marples.name>
Date:   Thu Aug 9 14:33:20 2007 +0000

    Don't link to rt anymore as it makes dlopen leak - we now use nanosleeps to achieve the same goal (a loop + timeout). No longer put / at the end of directories, instead prefix like so RC_LIBDIR "/foo" to ensure more robust code.

commit 9072ce748ff67e74756adf6883dfb4b12894d9b8
Author: Roy Marples <roy@marples.name>
Date:   Thu Aug 9 09:53:47 2007 +0000

    getoptify and simply the code even more.

commit 874bee1338118a05dce7f173d4f20204a3ea3bda
Author: Roy Marples <roy@marples.name>
Date:   Wed Aug 8 22:46:27 2007 +0000

    whitespace

commit f8c1ee736c7f3bd1ead5e416a328b839cb917183
Author: Roy Marples <roy@marples.name>
Date:   Wed Aug 8 22:35:32 2007 +0000

    Add help to rc-update #188170 and tidy up the code a fair bit.

commit 06902f5ff3b8f9f6970e815d5074c6b8b55dd7b9
Author: Roy Marples <roy@marples.name>
Date:   Wed Aug 8 12:39:05 2007 +0000

    Use the right dir from fstab

commit 94c6ff7bb70b8bf3af0b69cf490b36eb98a34be7
Author: Roy Marples <roy@marples.name>
Date:   Wed Aug 8 03:07:42 2007 +0000

    Plug a leek for non selinux linux systems

commit 30853d7473a502248c87f0a743090df8d7d6a81f
Author: Roy Marples <roy@marples.name>
Date:   Wed Aug 8 03:07:09 2007 +0000

    If given a pidfile, just match on that for seeing if we have crashed
    or not, #186159.

commit ce12aa56d4988dbcb31636d6124f3ad0fc27ba8c
Author: Roy Marples <roy@marples.name>
Date:   Tue Aug 7 21:04:27 2007 +0000

    Return the next available ifindex for BSD too

commit 2fdff9d8d6ada5cf75c45d56872c6cbdc0d18e59
Author: Roy Marples <roy@marples.name>
Date:   Tue Aug 7 21:01:16 2007 +0000

    Always give ppp a defaultmetric

commit 3295a9c0e0dc04ca291c5d6f930768d7345dbe01
Author: Roy Marples <roy@marples.name>
Date:   Tue Aug 7 20:51:08 2007 +0000

    Add a defaultmetric to ppp if we have metric_$IFACE

commit 01ea7e3186fa0169ad4606ed2be87c6f5eedcf2b
Author: Roy Marples <roy@marples.name>
Date:   Tue Aug 7 20:23:38 2007 +0000

    More pppd fixes

commit d50a46a7a5d44008847ef545c67b9f86826a0d4e
Author: Roy Marples <roy@marples.name>
Date:   Tue Aug 7 12:56:07 2007 +0000

    Fix chat connects for pppd

commit 8d0f3f2b16de19532483f71cb4496d5065bd6c4c
Author: Roy Marples <roy@marples.name>
Date:   Tue Aug 7 07:25:24 2007 +0000

    Try and hide the terminal escape codes when they fail.

commit 1e4357ad01ad7d0f97aa760ebb0ad4d281bc7eda
Author: Roy Marples <roy@marples.name>
Date:   Sat Aug 4 20:35:05 2007 +0000

    Boot properly when we cannot set an early font, #187628.

commit 3e5526fd764a2701575e73e88293933c4e7bbd45
Author: Roy Marples <roy@marples.name>
Date:   Sat Aug 4 15:05:12 2007 +0000

    Fix rc-update, #187487 and release rc2.

commit 9169c51d39ed17b98f6617f89fdf9d01723bff52
Author: Roy Marples <roy@marples.name>
Date:   Fri Aug 3 13:54:46 2007 +0000

    Fix adding multiple IP addresses, #187526.

commit 65a9e4618baadff217dd36216b5c64f2ad66dfc6
Author: Roy Marples <roy@marples.name>
Date:   Fri Aug 3 13:53:20 2007 +0000

    Fix static IPv6 routes, #187514.

commit a3aff5d83cc3cbe2db1515e4a9ae7c7bd66d55c6
Author: Roy Marples <roy@marples.name>
Date:   Fri Aug 3 10:14:38 2007 +0000

    Wups, these definitions need to be in rc.h really

commit 534b4300e71af305b98fe4eb46983ec4917d9d4c
Author: Roy Marples <roy@marples.name>
Date:   Thu Aug 2 11:09:09 2007 +0000

    rc1

commit 9174c25aab38ce0b943b6b0fbee451e9ae833057
Author: Roy Marples <roy@marples.name>
Date:   Thu Aug 2 08:41:31 2007 +0000

    Ensure that /var/log exists too

commit 67b04947b38d661da413a4224561acaf1aa85373
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Wed Aug 1 13:20:05 2007 +0000

    Punt /dev/shm from default /etc/fstab as we handle it and add a helpful hint about the RC_USE_FSTAB option.

commit ed249bad885f4cdd6e12e047562e2a89952b8c75
Author: Roy Marples <roy@marples.name>
Date:   Wed Aug 1 11:33:07 2007 +0000

    Fix up einfo output a little

commit db7b95346037aa3ab517851c0cdf28244d686a71
Author: Roy Marples <roy@marples.name>
Date:   Tue Jul 31 18:23:56 2007 +0000

    Remove baselayout-1 stuff

commit c22ccdf577a7de09e21401667b8b5025fa532148
Author: Roy Marples <roy@marples.name>
Date:   Tue Jul 31 16:59:02 2007 +0000

    Wups, don't force those CFLAGS

commit a4e7e802ac2b88154a1fde08fb472fbbfcab0dd6
Author: Roy Marples <roy@marples.name>
Date:   Tue Jul 31 16:57:16 2007 +0000

    Force some stuff

commit 90f0ea65cbe2958de6a08e8f909000df46c9b817
Author: Roy Marples <roy@marples.name>
Date:   Tue Jul 31 16:40:32 2007 +0000

    Fix building on uclibc thanks to Solar

commit cb172722a985dcd3d7ec4bb69622daf84ff4793d
Author: Roy Marples <roy@marples.name>
Date:   Tue Jul 31 16:35:24 2007 +0000

    Fix building on Linux

commit b6b849bfd75495987be74a7679c7964dbb159bf5
Author: Roy Marples <roy@marples.name>
Date:   Tue Jul 31 16:16:18 2007 +0000

    Link the right objects against rc

commit e6ec76ac40757d51de8d9016b5214014c5c500ae
Author: Roy Marples <roy@marples.name>
Date:   Tue Jul 31 16:06:21 2007 +0000

    All our binaries are now mulicalls into rc, which makes our on disk size
    a lot smaller.

commit c674026f9e5cf9538101ebc5c19d4da973731ad1
Author: Roy Marples <roy@marples.name>
Date:   Tue Jul 31 16:05:56 2007 +0000

    All our binaries are now mulicalls into rc, which makes our on disk size
    a lot smaller.

commit 02fcdeede4d2a14c10a8efcf8edc212b9a085708
Author: Roy Marples <roy@marples.name>
Date:   Mon Jul 30 11:31:29 2007 +0000

    Create needed dirs in bootmisc if they do not exist

commit 380b7f917d80249632bbae99391ef375261d829d
Author: Roy Marples <roy@marples.name>
Date:   Fri Jul 27 06:22:05 2007 +0000

    Duh, test it

commit f678660f04a5e82358ee4d756bb3de141ccaedb1
Author: Roy Marples <roy@marples.name>
Date:   Thu Jul 26 16:30:05 2007 +0000

    Fix bootmisc stopping for pam_console and write halt record correctly.

commit 075e80b358b3ea10c9a66caf6dd38c4ddc89f82c
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 25 20:58:23 2007 +0000

    Merge some of reb's OpenBSD fixes in

commit af2d9995d78c0ac019f047e235eba71e421b83cf
Author: Roy Marples <roy@marples.name>
Date:   Mon Jul 23 11:36:12 2007 +0000

    appending noinitd=xdm will skip the xdm service when first booting, #181858.

commit f1f5b0c367e79cd04d3b52babcb384976b1cd6a4
Author: Roy Marples <roy@marples.name>
Date:   Sun Jul 22 11:28:38 2007 +0000

    whitespace

commit 6c54d47341f14b2cf0152aec2d1b9fe2a16ddf40
Author: Roy Marples <roy@marples.name>
Date:   Sun Jul 22 11:27:26 2007 +0000

    Had a brain fart - just echo to fd3

commit 52664d77f9913ba13b3365adc5da2293549cf36e
Author: Roy Marples <roy@marples.name>
Date:   Sun Jul 22 11:23:56 2007 +0000

    Cater for einfo calls inside the depend function

commit b67f71ca5dd4b21b1e342ce8f27a565093f25e44
Author: Roy Marples <roy@marples.name>
Date:   Sun Jul 22 10:45:56 2007 +0000

    Harden gendepends.sh some more so we only capture the stdout we want from
    the depend function, #186072.

commit 9211d8b3dba78e03e09ee56d839e392fc13bf1c0
Author: Roy Marples <roy@marples.name>
Date:   Sat Jul 21 22:35:34 2007 +0000

    Work around a bash evaluation error

commit 6343b488938a9ba4d53252c9021905ead5bf189a
Author: Roy Marples <roy@marples.name>
Date:   Sat Jul 21 12:49:51 2007 +0000

    RC_DEPEND_STRICT now controls dependency strictness.
    If yes then we only use services in the boot and default runlevels,
    regradless of service state.
    If no then we take into account coldplugged services and the state
    of currently running services.
    Fixes #185640.

commit 76f2391ecea775b6d84299620bd1ac18d22b2564
Author: Roy Marples <roy@marples.name>
Date:   Thu Jul 19 21:44:55 2007 +0000

    Skip some files in env-update like portage env-update for more robustness

commit 26d11b33cf4dc9d15688c734632ea850c6d2e3d3
Author: Roy Marples <roy@marples.name>
Date:   Mon Jul 16 17:07:15 2007 +0000

    Use printf so we don't put blank lines at the top of new files and fix mountinfo for nfs roots

commit 42a5cb043b2280e8b667577c79fe6ed7a741b467
Author: Roy Marples <roy@marples.name>
Date:   Mon Jul 16 16:22:37 2007 +0000

    Allow zsh to work as our shell

commit e983dd0ac64422bbf069b8dad3ce06d2cbbb3ac6
Author: Roy Marples <roy@marples.name>
Date:   Mon Jul 16 14:09:29 2007 +0000

    Yikes, removed that old bash gettextism

commit 4cc1c3054ad0cc48c5219d17898d88593aaa10d2
Author: Roy Marples <roy@marples.name>
Date:   Mon Jul 16 12:22:53 2007 +0000

    Fix compile on FreeBSD

commit 5154d19238be8d2c17ee83d8bd05dbc06c689603
Author: Roy Marples <roy@marples.name>
Date:   Mon Jul 16 07:19:32 2007 +0000

    env-update --fork-ldconfig really forks ldconfig and works now

commit 56e51080ce251af470513f12f818ddd839e107fa
Author: Roy Marples <roy@marples.name>
Date:   Sun Jul 15 23:39:07 2007 +0000

    Remove hardcoded reference to iwi0

commit 7545a44dded6b2618da1d29893c0bee431f91a11
Author: Roy Marples <roy@marples.name>
Date:   Sun Jul 15 19:23:11 2007 +0000

    adsl module now finds the correct exe, #185276 thanks to Marcello LaganÃ .

commit f1aa7ef2bc77da499afd92608af5ebeb99dd7b90
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Jul 14 17:36:31 2007 +0000

    Add --remove-destination to example /dev recover command #40987.

commit 44e575845f55386af7d8cf9feab947344b39c439
Author: Roy Marples <roy@marples.name>
Date:   Fri Jul 13 14:30:33 2007 +0000

    Don't use 'this' as a variable name as it confuses c++

commit cffbaa6c4e90835cf50be79ac304cccf27605b39
Author: Roy Marples <roy@marples.name>
Date:   Fri Jul 13 00:04:20 2007 +0000

    Use echo instead of touch - saves on forking

commit 639024a04a34dea5e32812ce7c1e9e6f0b5f7e5c
Author: Roy Marples <roy@marples.name>
Date:   Thu Jul 12 14:13:30 2007 +0000

    Document how to detect if docked or not in example preup, #167742

commit 06e687598d76fc2470c19d10f182e8edd8cc9845
Author: Roy Marples <roy@marples.name>
Date:   Thu Jul 12 09:48:44 2007 +0000

    Punt the RC_TTY variable

commit 685aa53dce51485f871fa13ddd47d03f5ff17701
Author: Roy Marples <roy@marples.name>
Date:   Thu Jul 12 08:34:48 2007 +0000

    alpha4

commit 5257ba51b9524b101533308024862e4344c8b6f6
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 11 17:27:46 2007 +0000

    Don't unmount network filesystems in localmount or halt.sh, #175602.

commit e778dcbfb0ef9cb8101ac7e51c88c322f7ccbd22
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 11 14:28:54 2007 +0000

    Fix restarting services with plugins

commit 74d52e749d08d4666b3a08d80ad3a08956ba0c6d
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 11 13:02:05 2007 +0000

    Don't do interactive when changing init, #174141.

commit 356c41f77cb43eb274fea4fce6987ffcc6c03680
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 11 12:06:37 2007 +0000

    Punt the dodgy ebuffer code. We now force prefixing for parallel starts which also reduces our variable pollution.

commit 35d860710a383767012b516d1eef5346dc49e6d9
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 11 12:05:25 2007 +0000

    Add the users group

commit b4af22eddab0fedc65be1f2cc5c4ed2869ff8149
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 11 10:39:01 2007 +0000

    Only mount stuff if not already mounted

commit 2aa7ebfe0d05bb94708e890268ab2c0701312f71
Author: Roy Marples <roy@marples.name>
Date:   Tue Jul 10 20:11:42 2007 +0000

    Allow non root users to describe

commit 023d66578b051fda123df4d2c07ae8492a71da93
Author: Roy Marples <roy@marples.name>
Date:   Tue Jul 10 19:14:37 2007 +0000

    Rename variable

commit 05201b514b99d636af8067e442b2c6ab04e6d530
Author: Roy Marples <roy@marples.name>
Date:   Tue Jul 10 19:09:41 2007 +0000

    init scripts and their extra options can now have descriptions, #184327.

commit 445918685e559babf219cbfc775b9c582b52a2fc
Author: Roy Marples <roy@marples.name>
Date:   Tue Jul 10 15:26:49 2007 +0000

    Support /etc/init.d/foo ineed and friends again.

commit 3fc53d197996d4eb711ce8a1a70b40bcc21dc152
Author: Roy Marples <roy@marples.name>
Date:   Tue Jul 10 15:07:18 2007 +0000

    Fix ifconfig using some iproute2 commands.

commit 7bb24d8058d02e0ad89dc083562c8a6ff086cea2
Author: Roy Marples <roy@marples.name>
Date:   Tue Jul 10 13:15:07 2007 +0000

    Remove a debug line

commit 1cda2a2036bce068a01b6724d89c63c7f51cb7a8
Author: Roy Marples <roy@marples.name>
Date:   Tue Jul 10 11:42:56 2007 +0000

    We no longer care about numerical runlevels, #184733.

commit ae160bf293959088adb874c1585567ac04ea90b9
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Jul 10 08:43:51 2007 +0000

    document qemu hacking

commit 6802e045b3742228a61e07eee49f6af5a9a3ba28
Author: Roy Marples <roy@marples.name>
Date:   Mon Jul 9 10:39:35 2007 +0000

    Take no chances with PATH, use our env-update

commit 53d17a1be2f9a47cec9e663905fbe1ee3637e050
Author: Roy Marples <roy@marples.name>
Date:   Mon Jul 9 10:26:02 2007 +0000

    Add an option to fork ldconfig in env-update, #182794. Also, preserve the entire line in /etc/env.d/foo if it begins with $

commit e03844fd26cf5b6f01949e1c3ded14e5b4d812ec
Author: Roy Marples <roy@marples.name>
Date:   Mon Jul 9 09:14:19 2007 +0000

    Fix iproute handling of -host and improve iwconfig scanning

commit 87d1a3be19e0cbba1510ca7b3d4d8e7e347d5cd1
Author: Roy Marples <roy@marples.name>
Date:   Sun Jul 8 12:59:58 2007 +0000

    Fix netmount - thanks to Hollow

commit 69c459578e3b10f7caa2b82a304e728e31969ca5
Author: Roy Marples <roy@marples.name>
Date:   Fri Jul 6 18:03:17 2007 +0000

    Add and delete IPv6 addresses and routes correctly on FreeBSD, #184430
    thanks to Friedrich Oslage.

commit 913b3b1f6baf1fefed9a0d2c5d1cdefa2c8cef8f
Author: Roy Marples <roy@marples.name>
Date:   Fri Jul 6 17:07:29 2007 +0000

    Of course, glibc does not have strlcpy

commit 809b5286b65b5f74c9968925546f11857e6dc36a
Author: Roy Marples <roy@marples.name>
Date:   Fri Jul 6 15:50:40 2007 +0000

    Make the prefix length dynamic

commit 090090328ac149766f5ffe49bd21a1f8d92a4c6d
Author: Roy Marples <roy@marples.name>
Date:   Thu Jul 5 16:57:04 2007 +0000

    Add the audio group for the BSD's

commit 7de9a73841419d0c36f9cf3b69f64de47babf61f
Author: Roy Marples <roy@marples.name>
Date:   Thu Jul 5 08:39:32 2007 +0000

    Don't trust the plugin

commit 31a9682c98005b4c8f37c37fb7bd50fad21b7115
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 4 18:11:01 2007 +0000

    Allow syncing of hwlock for BSD and make our config files look fairly similar.

commit 710a67138f7efc4c3442fbbc1a37e1d7191f6a24
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 4 16:06:40 2007 +0000

    Flush the ebuffer before and after running a plugin.

commit f28763d4928a5ffb2c288388299ccf69ee26f26e
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 4 16:02:01 2007 +0000

    As we're running each plugin in a fork, we need to call our cleanup code so we don't leak memory. To this extent, we now have the global boolean rc_in_plugin and the cleanup code can act accordingly.

commit 46156cc8cdfcdcc676d5d5d0a1a753978e412018
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 4 14:56:59 2007 +0000

    We need the full path to the service before chdir /

commit 0234605bf48da701295efc421a3bf4cf95dae347
Author: Roy Marples <roy@marples.name>
Date:   Wed Jul 4 14:21:24 2007 +0000

    Up the interface after preup incase preup brings it down

commit 9c7bbdd7748109e8043e061e95a794dc15e8e41c
Author: Roy Marples <roy@marples.name>
Date:   Tue Jul 3 08:38:27 2007 +0000

    We still need to wait for services we need/use

commit f23b6d0e95346a93db3fbf8dbec300f8e6a7b12a
Author: Roy Marples <roy@marples.name>
Date:   Mon Jul 2 22:07:58 2007 +0000

    Don't wait for services that were inactive, #183667 thanks to Daniel Drake

commit 3a9375c7df490156276ab3e59a27dd7b13902040
Author: Roy Marples <roy@marples.name>
Date:   Mon Jul 2 22:05:38 2007 +0000

    Make the provided code a little more readable and fix a bug when calculating provided services changing from single to default runlevel

commit d6c72cc87c1134dbd16ebafc1f63f712a08b89e1
Author: Roy Marples <roy@marples.name>
Date:   Mon Jul 2 19:57:18 2007 +0000

    Fix error and only let root run init commands except for status and help

commit 53097aedc57aafb174e32cbeb8f6527d150e2a66
Author: Roy Marples <roy@marples.name>
Date:   Sun Jul 1 08:45:23 2007 +0000

    Don't set an early font if consolefont isn't in a runlevel, #183773.

commit afaa27fd652fbc3555faa92f3e1e16957bafd751
Author: Roy Marples <roy@marples.name>
Date:   Thu Jun 28 15:44:38 2007 +0000

    Add --nocolor to more programs

commit 0fdc53d54db27853e87b2d85b8255ebc2d562263
Author: Roy Marples <roy@marples.name>
Date:   Thu Jun 28 15:44:14 2007 +0000

    Add --nocolor to more programs

commit 10c3592147d284da4b634dcaa9204ac227143590
Author: Roy Marples <roy@marples.name>
Date:   Wed Jun 27 12:35:43 2007 +0000

    Add --no-ldconfig option to env-update to match portage.

commit f9220d3e289b66c5c82c5a556e718fe43e21f3f9
Author: Roy Marples <roy@marples.name>
Date:   Tue Jun 26 09:20:42 2007 +0000

    Change pwd to / for all init scripts, #181224.

commit 0575c15993403532d96920ae443655a2deb5393e
Author: Roy Marples <roy@marples.name>
Date:   Tue Jun 26 08:47:46 2007 +0000

    Change pwd to / for all init scripts, #181224.

commit 75f776732bdab9d8f76fc6a47dd5008ed7e0fd50
Author: Roy Marples <roy@marples.name>
Date:   Tue Jun 26 08:39:02 2007 +0000

    --nocolor works again, #181011 thanks to Daniel Drake.

commit 5876968f2e427b1b906550158c01513ead51625e
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Jun 22 02:59:29 2007 +0000

    calc the files to install dynamically

commit 6e8f3dabf7b84f6048a915ff5986a018e985ca80
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Jun 22 02:57:40 2007 +0000

    Allow urandom location to be customized #134489.

commit 1bf11dcfb61fba06ef3d4f696a3c302a21dfc2ed
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Jun 22 02:50:34 2007 +0000

    add missing ChangeLog entry

commit 45d2bcdb9f24ec3a9f65e94683c2ee2e67effa49
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Jun 2 12:23:43 2007 +0000

    Use -q option with modprobe rather than sending to /dev/null.

commit 804de005b85fc603a0836a739d4a82d3d1520777
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Jun 2 12:22:07 2007 +0000

    Fix from comio for /proc/filesystems typo in localmount #180621.

commit 230e3f2afe9470980e42e211af9192645d1cd088
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Thu May 31 05:51:00 2007 +0000

    Don't warn about Factory clock when booting off of livecd.

commit 27344f7f27efc2ffa010f97377da7adc39e396c6
Author: Roy Marples <roy@marples.name>
Date:   Wed May 30 22:30:54 2007 +0000

    Use killall5 again so we can cleanly remount / readonly, #168977
    and #177689.

commit 1c1b0b0a4c1800e77caf531c11e2c11a88d69abf
Author: Roy Marples <roy@marples.name>
Date:   Wed May 30 15:47:54 2007 +0000

    Don't use -f with mount

commit e81ab8ecf83f877680280827eb049e6e7d88bebb
Author: Roy Marples <roy@marples.name>
Date:   Wed May 30 15:24:21 2007 +0000

    Call umount with LC_ALL=C so that we can umount /usr

commit ece3f4e6663ec0a0ed3f0b4d014b3a0fc925fede
Author: Roy Marples <roy@marples.name>
Date:   Wed May 30 12:17:35 2007 +0000

    Only call systohw in clock when we don't have adjfile or we aren't UTC.

commit 8bcc145c98cc16b149a06d7aca04f22804989c5e
Author: Roy Marples <roy@marples.name>
Date:   Wed May 30 11:26:53 2007 +0000

    Always update mtab

commit dd332f377c014b2011100e3ab93caa9258a14bdf
Author: Roy Marples <roy@marples.name>
Date:   Sun May 27 16:02:25 2007 +0000

    Improve spelling

commit d94d68767aab2b05d369092111338e25ba69e027
Author: Roy Marples <roy@marples.name>
Date:   Wed May 23 14:12:06 2007 +0000

    Harden testing of /proc being valid

commit f754cfd2a936d8ccc13839f9ecdefc663bf746f6
Author: Roy Marples <roy@marples.name>
Date:   Wed May 23 12:30:34 2007 +0000

    RC_SYS should now set XEN0 correctly

commit 64e6dcfc9f46d4e352a908104718a0ca225efaea
Author: Roy Marples <roy@marples.name>
Date:   Tue May 22 12:25:43 2007 +0000

    Create a function for running init.sh and init-early.sh which saves on code and removes a gcc-4.2 warning

commit 49347d6f77532f4a03849f650d2d915d7805948f
Author: Roy Marples <roy@marples.name>
Date:   Fri May 18 20:09:10 2007 +0000

    Be more resilient when the nettree is invalid

commit 237a66b05cf1e33bf680802d9032cf0eb0981df8
Author: Roy Marples <roy@marples.name>
Date:   Wed May 16 18:45:16 2007 +0000

    Default eend to SUCCESS if no options given

commit eb7a0a6285ac1a57b69bbcdf7c5db69d4e8b6b84
Author: Roy Marples <roy@marples.name>
Date:   Wed May 16 14:53:47 2007 +0000

    busybox sysctl does not support -q

commit 49b36c5f2e3c6cf01e63fdd0dd8570d3300a7c4b
Author: Roy Marples <roy@marples.name>
Date:   Wed May 16 11:28:45 2007 +0000

    Remove debug line

commit 1ac8d86ebef97cae4ef2ccdfa8d84885f5e28597
Author: Roy Marples <roy@marples.name>
Date:   Wed May 16 11:05:42 2007 +0000

    Stop using getimeofday for timeouts incase the clock changes.

commit 66d71507503e17f7fee02b56d229c3910f43c22c
Author: Roy Marples <roy@marples.name>
Date:   Wed May 16 06:33:25 2007 +0000

    Allow more modes to work.

commit fc597a87219dc0de006f02081bfb9cbc6ddfe14b
Author: Roy Marples <roy@marples.name>
Date:   Tue May 15 15:56:35 2007 +0000

    /etc/conf.d/rc.$runlevel now works, #177869.

commit b20d600e49afc7a72d9ac7735b8a2bc591a80e70
Author: Roy Marples <roy@marples.name>
Date:   Tue May 15 14:43:44 2007 +0000

    Don't enable syn cookies by default as support for them isn't enabled in the default kernel.

commit f3888d76138c9f347e118e3942d5a1dd49b351ff
Author: Roy Marples <roy@marples.name>
Date:   Mon May 14 19:50:13 2007 +0000

    Implement FreeBSD's dlfunc function to avoid ISO warnings on dlsym - thanks to drizztbsd for find public domain code :)

commit d0308aaecd1cb2f1c620a742f2fbaee00cb03c04
Author: Roy Marples <roy@marples.name>
Date:   Mon May 14 17:05:55 2007 +0000

    Use correct function casts. Use dlfunc where available to remove ISO warnings :)

commit b2e832418485f177804b42ff02c115db0bdbd50f
Author: Roy Marples <roy@marples.name>
Date:   Mon May 14 15:05:56 2007 +0000

    Release alpha3

commit 08aec3c4122eb299b6ab56865826a946ae07896e
Author: Roy Marples <roy@marples.name>
Date:   Mon May 14 14:47:07 2007 +0000

    Should fix this bug too

commit 14c59d4071530492a0cf385db026a5152b3502d1
Author: Roy Marples <roy@marples.name>
Date:   Mon May 14 12:48:37 2007 +0000

    RC_INTERACTIVE now works, #178331.

commit bbfb7bc409bc07b6362bb975d4853df2b7896401
Author: Roy Marples <roy@marples.name>
Date:   Mon May 14 12:37:13 2007 +0000

    Add --startas back to s-s-d, #175980, #175981.

commit 0942916b729e375df32dae5874c74aaf4f5743a1
Author: Roy Marples <roy@marples.name>
Date:   Mon May 14 12:24:18 2007 +0000

    Allow time for pidfiles to be created, #178274.
    Use int instead of char for getopt, #178084 thanks to drizztbsd.

commit 86c7d44d66a64d923294cf5d830b8fd3bf0e3db1
Author: Roy Marples <roy@marples.name>
Date:   Sat May 12 21:37:59 2007 +0000

    Fix forcing preferred APS

commit 3ae655caa3b940c8c5c17b082050fa8c0782ba22
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat May 12 11:07:04 2007 +0000

    mount nfsd on /proc/fs/nfs automatically

commit 81ccc674462dea1609664f0b887c5729dac9ba6d
Author: Roy Marples <roy@marples.name>
Date:   Fri May 11 10:33:49 2007 +0000

    Store the defined random pool size, #177722 thanks to Yaroslav Isakov.

commit 56148d60ddc1838afe9dafd90f18dd7aca758420
Author: Roy Marples <roy@marples.name>
Date:   Fri May 11 08:58:58 2007 +0000

    Use auto for /mnt/cdrom, #177990.

commit 46cd245ee3b6bfc7e6a34de6d43e5930274bd37a
Author: Roy Marples <roy@marples.name>
Date:   Fri May 11 08:58:19 2007 +0000

    Use clock MONOTONIC to timeout, not localtime, #177514

commit 7cdd8d4a0e2a5ef44df37e7879cb726aac45826d
Author: Roy Marples <roy@marples.name>
Date:   Fri May 11 08:57:47 2007 +0000

    Only mount ro on Linux

commit 0888f74f473f3e4b83de5f04b0b4cbb4b8dbc7f9
Author: Roy Marples <roy@marples.name>
Date:   Tue May 8 16:52:26 2007 +0000

    When we don't have an address return 1, #176577.

commit ea28d7e78d5155b46bf76b3e95109666db0ef0ba
Author: Roy Marples <roy@marples.name>
Date:   Sat May 5 21:22:46 2007 +0000

    Better fix

commit 2ad5c3eb33b926d49014aa8cc2ac596506f570e6
Author: Roy Marples <roy@marples.name>
Date:   Sat May 5 20:27:50 2007 +0000

    Fix KV_to_int working with funky kernel versions, #177197.

commit 35487d931314011e8e3b0f43c2b1605efcda5460
Author: Roy Marples <roy@marples.name>
Date:   Sat May 5 11:15:07 2007 +0000

    Remove reference to dm-crypt

commit fdf07f69a1642983dae79ac0f6744df52395ad26
Author: Roy Marples <roy@marples.name>
Date:   Fri May 4 15:15:11 2007 +0000

    Fix unicode keymaps, #173528.
    Some fonts show the currency symbol instead of the Euro when doing
    AltGr-E, so we provide an easy setting to fix this. Release alpha2

commit 2fd8225c6ae47e13956deb7b0aa8c838be243a86
Author: Roy Marples <roy@marples.name>
Date:   Thu May 3 13:46:38 2007 +0000

    Always pass ttyname to sulogin

commit 33832218347d4ad533fdd599499560b6cdd70131
Author: Roy Marples <roy@marples.name>
Date:   Thu May 3 12:19:18 2007 +0000

    Only use any when >1 interface

commit da7f6e7b11f5198addce3056d1073ef7dfe53cea
Author: Roy Marples <roy@marples.name>
Date:   Thu May 3 11:43:16 2007 +0000

    Allow ip6to4 tunnels to use any derived address, #170290.

commit e5a82d5fe658d8c607e10604536ba67bb347b2ae
Author: Roy Marples <roy@marples.name>
Date:   Thu May 3 11:21:26 2007 +0000

    dns_sortlist and dns_options now work as documented, #175367.

commit b4a3796b018d44ff9beecb8903ed1996a4f4a9f5
Author: Roy Marples <roy@marples.name>
Date:   Thu May 3 08:08:59 2007 +0000

    Load the config file before the init script to stop badly coded init scripts from erroring, #176548

commit 5227cb203aad97ebef57c8867147008298fdc3b6
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Thu May 3 08:01:26 2007 +0000

    enable ecn cookies by default and disable ip forwarding

commit e18377accad411d21f28cbd11e014a047c9946cc
Author: Roy Marples <roy@marples.name>
Date:   Wed May 2 15:17:03 2007 +0000

    Don't timeout waiting for checkfs and checkroot. Do a better fix later.

commit 9ced77155ba7d143fa18c3645dc84b55b97c7b04
Author: Roy Marples <roy@marples.name>
Date:   Wed May 2 13:07:00 2007 +0000

    We don't have console, so default to no for fsck

commit c3608471cd4f6808ed90d4185eda9424cf25e6ab
Author: Roy Marples <roy@marples.name>
Date:   Wed May 2 12:33:56 2007 +0000

    SSD_NICELEVEL can now affect the nicelevel for daemons started
    by start-stop-daemon, #175397.

commit d599a406801139eab7baffdd6c6c785da787d58c
Author: Roy Marples <roy@marples.name>
Date:   Wed May 2 11:04:52 2007 +0000

    Correct tabs

commit 82361c0feb7350cd47f9b101f7315805ac122b38
Author: Roy Marples <roy@marples.name>
Date:   Wed May 2 10:59:34 2007 +0000

    Don't delete addresses for PPP interfaces, #176764.

commit 700bdb4f1dce01eeacaf07937a6386563dd84ddb
Author: Roy Marples <roy@marples.name>
Date:   Wed May 2 10:43:43 2007 +0000

    Stop blindly assuming that a blank TERM is cons25. For cons25 terms we drop one column so we don't get an extra newline.

commit b2d024b7f46883ed4c7c85a6d0912079c8b7ffb8
Author: Roy Marples <roy@marples.name>
Date:   Tue May 1 09:37:14 2007 +0000

    s-s-d with dhcpcd still has some issues, revert until a fix for dhcpcd is made

commit d2c112ef4f70fb64b8a7f666c4e07b2dcba46c30
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Apr 30 16:22:19 2007 +0000

    debugfs support

commit c3d899714c6e68ea13cb15a75829ba16ea6cf217
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 30 13:19:26 2007 +0000

    Stop using the [ -z "$@" ] test, use [ $# = 0 ] instead, #176554.

commit 0380d98d7dd8d0880764a2d0878df56d4e858b45
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 30 13:18:42 2007 +0000

    restart/schedule stopped services when the trigger service goes inactive on a restart

commit d658c2dc6d0c5dc13b051d2a31cb762a585e4600
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 30 13:17:28 2007 +0000

    Fix carrier_timeout

commit 3a5f03911a3f5c4c9528569fccc73d24f547d534
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 30 09:23:17 2007 +0000

    Fix style

commit 4d283afe316aefcd003e6f870d3cf08ef1372790
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 30 09:06:17 2007 +0000

    /etc/init.d/foo start and stop no longer exit when service is fully
    started or stopped, #176452.

commit abfd181ddecbe1ecc67acbcd36a885cc6bd2a06d
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 27 11:24:05 2007 +0000

    env-update now respects COLON_SEPARATED and SPACE_SEPARATED env.d values, #176198.

commit e6a610fbc7139130e4523965a167288da3b2d27f
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 26 14:29:15 2007 +0000

    Don't dmesg for VPS systems

commit 33052124b52e012b7620e79bc9e17537e271e50a
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 26 14:22:54 2007 +0000

    Don't dmesg for VPS systems

commit 67bfa29457eb06b80eb9e1c41075e0fed3d26f74
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 26 14:17:15 2007 +0000

    Don't sysctl for VPS systems

commit 54c6ff1b0a8e50ee0246ca4f82a7713a182e328d
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 26 13:08:34 2007 +0000

    File to configure our font as early as possible in init

commit ea2158fe9417015978fb91304ced04810afa9afd
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 26 13:07:57 2007 +0000

    checkroot and checkfs now use more friendly generic options, #116016

commit cf9aa106c615211abc642fc596c98a39d072dd5b
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 26 11:24:07 2007 +0000

    Set fonts in init-early.sh, don't stop services twice when shutting down and lock prefixed output.

commit 431e8cc84fe960ec91c3463493ce94df65ef41f2
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 26 08:02:21 2007 +0000

    Fix early setting of font

commit c1d6bfc721eff57798317036004b0d87ce85a068
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 25 18:12:49 2007 +0000

    Don't abort select when on signals

commit 8e7868d80f4f45bd360765fc32780293231db831
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 25 15:48:54 2007 +0000

    Don't pass $CONSOLE to sulogin and split rc_environ_fd on NULLs

commit 6ba6f0403f953d14653e69b5528b2ffe68e2c30e
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 25 15:42:30 2007 +0000

    Fix vservers

commit b1d9fd4f6fb8a74c0f49e6cc14f641a94b8be6cb
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 25 12:39:31 2007 +0000

    Now that dhcpcd-3 is stable on all arches, use it with start-stop-daemon.

commit 00d596fb439d9c3aff6c6d06448b194681333d46
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 25 12:32:47 2007 +0000

    Fix Makefile to clean and remove .svn when making dist. rc-mount no longer appends -f for linux mount and uses -i instead to ignore helpers

commit dfc208bd25288dd09d531f3e0665274bb9cf2998
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 25 12:30:24 2007 +0000

    We now have an alternative to buffering stdout and stderr.
    RC_PREFIX="yes" will put the service name as a prefix to all output
    made by the service. Thanks to Ciaran McCreesh for the idea.

commit ae32cbdd4b863fbe707981f85c19e04b1faecf6c
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 25 08:46:41 2007 +0000

    quiet clip

commit a44abb9577a3ccb9202b84765d4b4c1746e6963d
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 24 11:29:19 2007 +0000

    We now buffer stdout and stderr to a file and flush that when running in parallel. RC_PARALLEL_STARTUP has been renamed to RC_PARALLEL.

commit c965f74f46b266987ed635e65fafc9562a7ccff5
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 23 20:20:40 2007 +0000

    Harden unicode settings

commit c5ada996eef237db468a2dac28289c1f856d29ca
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 23 17:19:43 2007 +0000

    Fix udhcpc for releasing

commit 45325648294e97373cf295bf842ff1c542218865
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 23 16:43:52 2007 +0000

    Remove debug stuff

commit 7766f7e987dcaad281a66b8046145a3711278fae
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 23 16:41:32 2007 +0000

    Fix dhclient

commit b0e3880bd41fcfc6cfaca51c71b85a7275a17a47
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 23 07:54:07 2007 +0000

    Attempt to fix clip

commit 52c28add455949dfa052a79b67cea7ec2052268b
Author: Roy Marples <roy@marples.name>
Date:   Sat Apr 21 09:23:37 2007 +0000

    error then unlink

commit 81c595b3fe54767eb27db79406b4ffc4c99a7d77
Author: Roy Marples <roy@marples.name>
Date:   Sat Apr 21 08:34:16 2007 +0000

    Don't free in vfork

commit 3979a1712de6868e15382bfbc9b3051f906ff677
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 20 19:03:56 2007 +0000

    Style fixes

commit 35ee67f446277f5777a5b9f7feff3e37b315d9d0
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 20 18:58:42 2007 +0000

    Re-work the starting and stopping of services so we always know the pid so we can kill our children without the need for process groups which we cannot use as keyboard will not work in init.

commit a5ba34ec151e4e18d7b732dac1517d21a1df3710
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 20 15:02:13 2007 +0000

    Fix rc-abort to notify the plugins we are aborting

commit 7590e7b258d34124f070b4cd01fa6cc7caa29920
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 20 13:22:27 2007 +0000

    exec rc-abort

commit c52f2164502544c17811e47fc3236fe87aa7fc5b
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 20 13:12:21 2007 +0000

    Added the rc-abort command, #175106 thanks to Daniel Drake.

commit a316a1fa7222ea845c546c02cefb71632616d862
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Apr 20 10:47:24 2007 +0000

    Automatically mount selinuxfs on /selinux in localmount.

commit f269f1961b0b4adc094093301f712294a45dccc8
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 20 09:39:47 2007 +0000

    Plugins now run in a forked process for extra resliance.

commit 49b8b30ab7e35d8ad3cbe295eba3a93ba21a3509
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 19 15:31:01 2007 +0000

    Fix fstabinfo -p /

commit 2569e85579bc5c7d676865b386398119f04a5912
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 19 14:54:35 2007 +0000

    strdup -> rc_xstrdup

commit 3ed60d52026c484dce2d1856ea3bb893b8ee7d92
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 19 14:41:10 2007 +0000

    Use RTLD_NOW instead of RTLD_LAZY

commit 026926fc4f4ce686305762da6f84daae5692a33c
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 19 13:05:07 2007 +0000

    Revert commit as we now remove the dhcp default for ppp links

commit 4768bd45f2a9135b23dd8a00543758888a707fab
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 19 13:00:59 2007 +0000

    Remove default config for ppp

commit 247dec818b881fcb40087846c46055bd2229db04
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 19 12:55:35 2007 +0000

    document config_ppp0=null

commit b9f75802b06b4dae605fc238f31b7552f8163f7d
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 19 12:24:10 2007 +0000

    duh, idiot uber

commit 768a8cf86c5d95affcaa313ca19c74ae2f277107
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 19 12:09:19 2007 +0000

    no need for the sed using printf

commit d3b28724b551e5eae7b050d6b5e1bec9d64941d8
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 19 12:05:25 2007 +0000

    use printf %s

commit c2407df288a5a602e0daea0c349889d265dd615d
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 19 10:52:37 2007 +0000

    As pppd is mainly a link controller, move it's startup to pppd_pre_start and have pppd_start as a dummy function for old configs.

commit 2fc28414fa72eaebfebf8665437537a9d81b3817
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 19 07:37:59 2007 +0000

    printf is more portable than echo -n

commit f05ac25185ddcd4f84b35ff3ffdcc54a36bc6bd7
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 19 06:46:29 2007 +0000

    Fix bridge some more, remove superflous warning from vewarn and error when no interface correctly

commit fb2f0495a6e25a304675412d9f635e73884e7c44
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 18 14:42:40 2007 +0000

    more pppd fixes

commit 6617d946ec2915a198926c62b7a42785ff3e0a4b
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 18 14:23:50 2007 +0000

    get pppoa the right way around

commit 35dc4e3424e6cdebfdef21a5d29d4a916dfaa048
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 18 14:21:25 2007 +0000

    Try and fix pppd, thanks to zzam for the patch

commit cc62b67b7f7a00dd89cc3d9f0b103b336d7f2dc7
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 17 20:07:24 2007 +0000

    Duh, quote eval properly

commit e2af00046384cedc50f2c8e05c499f3b6e97b57b
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Apr 17 13:00:05 2007 +0000

    remove APPLET check so we can create .depend

commit 9d50d4cb258ad0e63ca85467817bccf9765d8326
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Apr 17 12:44:32 2007 +0000

    start unifying help handling

commit f5e65274f0f150d6db9f53f87e87eb6d984f8e94
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Apr 17 12:21:15 2007 +0000

    fix #if handling in get_term_columns

commit e635e1646466d632250ac2ed9e0d3d3b86dfb4cf
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 17 11:27:47 2007 +0000

    Fix bridge, vlan and bonding modules to work together, #174792.

commit f657d87b997f5b599d74a8f2eb6fef8dd6381550
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 17 09:32:18 2007 +0000

    Rationalise our colour usage a little.

commit 0f92b5e7df4ead366984b5624de12446bd968478
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 17 07:11:27 2007 +0000

    Allow user vars for colours in our shell scripts too

commit 54d297725e54cfde2548f888583b3ea5db039bc4
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 17 07:06:04 2007 +0000

    env vars EINFO_GOOD and friends now override our hardcoded builtins.

commit 2266255ac58158272ca7393e6abbffee89018005
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Apr 17 00:07:09 2007 +0000

    Allow addons to pass up their exit status in import_addon.  Simplify /dev handling in init.sh and add mdev as an option.

commit c688523fcc88470906c8dd0357783c9918fafeda
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 16 13:05:33 2007 +0000

    Punted the volumes init script. Volume handling will be handled by
    init script that can be run at any point, even before checkroot.

commit 757b8bcc968fa285e3d78435e30b6c47abc048dc
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 16 12:56:43 2007 +0000

    Don't search for a space after interface names in /proc/net, #174792 thanks to Mike Auty.

commit 74527291b51ac81a87c579aeb655fdc91faa40ab
Author: Roy Marples <roy@marples.name>
Date:   Sat Apr 14 09:27:29 2007 +0000

    ramfs has no special options

commit 6ff4a83d591c77acc268db8a5b8c0b2011adbf31
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 13 16:00:25 2007 +0000

    More basename compliance.

commit 271426304062de4825060b2c2acb5061910d1016
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 13 15:23:46 2007 +0000

    Punt .depend

commit 36e16cef478a9cf4de96e5aea013c624de224e03
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 13 15:23:03 2007 +0000

    Ignore and clean .depend

commit 876bd89f4b99f0149b526d88bb03f91847f0c33d
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 13 15:20:10 2007 +0000

    hug getopt_long some more

commit 6dde29a0c940a16b2228233fc5d2336eca2f6d2f
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Apr 13 15:09:37 2007 +0000

    add basic --help

commit bc91e51d435b118a05ee23e80b227aca88f55125
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 13 14:59:51 2007 +0000

    ls -l ftw!

commit c49d4c65767f1b7853c69f19b449197d0ce1ea4a
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Apr 13 14:41:46 2007 +0000

    expand dist into "normal" (clean svn), "working" (dirty svn, but export clean svn), and "testing" (export dirty svn)

commit a775480627b118679e678cff34f9973a28e45b1a
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Apr 13 14:36:30 2007 +0000

    make distforce a little more robust

commit 8a6bd8e3120393ac2991e2937499ebbf532cc7e5
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Apr 13 14:33:22 2007 +0000

    use `svn export`

commit 1c82d532474798a1b07f85c5a925a2ad27ac2c27
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Apr 13 14:18:38 2007 +0000

    add hidden visibility support to libeinfo as well

commit a822d2d11872c10925e7f2bfa65b27e30a9700a5
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Apr 13 14:08:16 2007 +0000

    kill off internal relocations for librc.so

commit fc0606395810db622c0eb4256997117d4baf67d9
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 13 13:54:53 2007 +0000

    Use basename properly

commit cb20c5da98d6e4f8e95c6c4264a5d8faa0234ff7
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Apr 13 13:21:27 2007 +0000

    make sure .depend gets regenerated automatically

commit 2ea37cdae3ccd57d85f8ca597a5286b90e58dd6e
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Apr 13 13:20:26 2007 +0000

    add .depend / .PHONY support

commit 2348f115c0a4cf70e3b1eec5520fa0f47634ef8c
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Apr 13 13:06:53 2007 +0000

    use CPPFLAGS rather than CFLAGS where appropriate and make LDFLAGS/-rpath dynamic by only enabling when in .svn repo

commit 5ee5f0c661b285ae211e2d776ff1a5b961e72fd6
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Apr 13 12:59:12 2007 +0000

    revert previous commit

commit e3440c8ba39faf427fdcbead686f9a95027d1a86
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Apr 13 12:55:43 2007 +0000

    dont create .so links as they arent needed for runtime

commit 51f43d5a53a4dd2d983fd2abac20199f0a0e7631
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Apr 13 12:39:14 2007 +0000

    use ln -sf rather than ln -s incase target exists

commit 21902ef882efcd34c8d7b469d3e26b0253e992e2
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Apr 13 12:38:00 2007 +0000

    add a symlink for update-rc -> rc-update

commit eabcb48f717c566832d93c79e04fe3bab1f381b1
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 13 10:30:57 2007 +0000

    netmask -> CIDR is worked out correctly #174341.

commit a07be0513af5181f3e2a57f9e313f4a08740c3f4
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 13 09:21:16 2007 +0000

    s-s-d now allows --signal to be used without --stop and --oknodo. man page updated accordingly

commit 824e9577e76df03c2572853d6ac15b10a27c9ace
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 13 06:43:00 2007 +0000

    Fix module loading, #174360. s-s-d now changes group when changing user, #174362.

commit 1f7770af7bae7d04824752ad055e274e66de53f8
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 12 15:47:26 2007 +0000

    Include old file conf.d/wireless and warn the user

commit daa9c99010494439b41c6cdbce3a2625514c12ce
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 12 15:44:05 2007 +0000

    merge wireless.example into net.example, #174282

commit 67c5d8e940ecd0d856b35b2aa4541fbc5831c085
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 12 13:18:52 2007 +0000

    Style updates

commit 000f2395349552a9c1a08f634f1c5d1ed5417b1f
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 12 10:40:51 2007 +0000

    Fix getopt a little

commit 2728cef0e1b7f91fe1f23b3f85a50820743b75f2
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 12 10:08:42 2007 +0000

    Hug getopt_long even though it's not POSIX. start-stop-daemon has always required this and all our supported platforms have it.

commit 33d303f1844d98490bb24071e612bf5845c5eebb
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 11 15:00:22 2007 +0000

    Fix the modules init script

commit aff7b02dcebd268539cd440d608c6d8e51e62263
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 11 14:52:13 2007 +0000

    Fix hotplugging of network cards

commit e6674b2caee26d2421215d29977cb91d5731ec8a
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 11 12:44:47 2007 +0000

    Cuddle up to LKML C style

commit 55884f7959e1c80e573eb7cc3c8749197c11c4c9
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 11 10:47:35 2007 +0000

    Correct version

commit 2948663767ec665e37f392f9c02186ed6e55d147
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 11 10:46:56 2007 +0000

    Release alpha1 of baselayout-2

commit 64c4d3875d610191658fb05d9317086fdb72257c
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 11 10:40:53 2007 +0000

    Move carrier detection back into net.sh. Reserve a new hook numbers

commit f754c661f57225b92ab72ce8867607341efa0c53
Author: Roy Marples <roy@marples.name>
Date:   Wed Apr 11 07:15:02 2007 +0000

    Add new service hooks, remove pmake stuff from our Makefile and fix rc_services_in_state for scheduled.

commit ffc96d8d892cf5b5433eadb5a305d64ab23b274d
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 10 16:11:20 2007 +0000

    Change veinfo and friends to einfov. Rationale - we may need veinfo to support va_list in the future.

commit 240399534c9b329437209dcac0efe86556f232c3
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 10 14:03:37 2007 +0000

    int -> time_t

commit 6f93566fc7e7c5b08120d4f82628e9ee8b554791
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 10 12:41:38 2007 +0000

    Fix scanning and clear wepkeys when we start

commit d3db9e9910ef0a472feb27cf4a9ace78e431ddd9
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 10 11:24:58 2007 +0000

    Fix indentation

commit 662e308d86d63750fc1d939e68c2b5ee88fea593
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 10 10:50:07 2007 +0000

    Apply sysctl if we don't have an init script

commit 0c98067d57606c59866e9ff35f2a6aedaaedaf76
Author: Roy Marples <roy@marples.name>
Date:   Tue Apr 10 10:33:44 2007 +0000

    Misc network fixes so we work on my stable server. Splash plugin removed as splashtuils-1.4 now ships with its own.

commit c5ddc6ef74460f72ea56350c6ff002c9630f6552
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 9 18:57:57 2007 +0000

    duh

commit 5076114aa70b102ffabdb5023ccae4b299be82df
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 9 18:56:26 2007 +0000

    routes_SSID now works, as does iwconfig.sh for BSD

commit 89ac4eee26d07f9e62dcc518d386551e8eef40ad
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 9 17:11:18 2007 +0000

    rc does not need SIGCHLD handler. Also, always return 0 in /etc/rc as non zero for default may freeze system.

commit 3c7c1736b7d6b6d086e9c5b54b963f8e244e3418
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 9 16:53:21 2007 +0000

    Use names instead of numbers for reporting signals and trap signals in rc

commit 3a20ea36cc7f1ed89186bdfa46ea0dd2c72742ec
Author: Roy Marples <roy@marples.name>
Date:   Mon Apr 9 09:59:09 2007 +0000

    Ensure fbsd sets up $RUNLEVEL correctly when init changes

commit 049948eb099fcdba631a54ff3b30aa7312e942e1
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 8 17:39:59 2007 +0000

    Only use some gcc flags if gcc actually supports them.

commit 6e2ef07dd32af0a672266401bad550a072ff0443
Author: Roy Marples <roy@marples.name>
Date:   Sun Apr 8 16:03:48 2007 +0000

    LIBDIR -> LIB. When interuppted, ensure service state is restored correctly. When stopping, don't uncoldplug too early.

commit a66136655e918ae02ccf2561dc62d4884ff39f5a
Author: Roy Marples <roy@marples.name>
Date:   Sat Apr 7 10:38:40 2007 +0000

    Move env-update back to /sbin as everything non baselayout expects it in $PATH, including our documentation

commit 2efe075803275d8bf9ab98ad29a68f63f01d342a
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Apr 7 09:28:00 2007 +0000

    modules-update -> update-modules

commit 6c299663646985f396b01a34edfc390f27d0a0c0
Author: Roy Marples <roy@marples.name>
Date:   Sat Apr 7 08:46:42 2007 +0000

    We don't use err.h

commit 4e64558cbfc3f581956b31ec09cd15a8b7a363f2
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 6 23:04:38 2007 +0000

    Remove this until we can make it work properly - ie not hangup when cable goes in/out

commit 25d219a086a7e6939569204d1ad048dd24169227
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 6 19:38:23 2007 +0000

    Use character classes in sed

commit ab62a84790950cbc321b9251197b332461f480c6
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 6 08:37:15 2007 +0000

    snprintf is better

commit 9cd5742bec56aa43267fabf4346b0f061dd3d151
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 6 08:24:48 2007 +0000

    strcpy is bad

commit 0762d88d843bb369ae98e5083dc19807e7e57df5
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 6 01:07:10 2007 +0000

    Punt the rc-depend man page as it's been moved out of /usr/local/bin:/usr/bin:/bin:/opt/bin:/usr/x86_64-pc-linux-gnu/gcc-bin/4.1.2:/usr/kde/3.5/bin:/usr/qt/3/bin:/usr/games/bin

commit 657be653400bdb9fc8ab13037e51ecfbc1af9d40
Author: Roy Marples <roy@marples.name>
Date:   Fri Apr 6 01:04:07 2007 +0000

    Misc fixes, plugged a memory leak in runscript.c and use va_copy to avoid nasty segfaults

commit 308042c87bd920d787265f1854bf1695bdbab8e4
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 5 15:01:09 2007 +0000

    We now compile on OpenBSD (no idea if it works or not yet)

commit 6fb700e52c1684637dcc77a89ea2fc7a1b2050b1
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 5 11:42:21 2007 +0000

    Superfluous CFLAGS

commit 5af58b45146ab5253ca964738f4e45287bf963d4
Author: Roy Marples <roy@marples.name>
Date:   Thu Apr 5 11:18:42 2007 +0000

    Rewrite the core parts in C. We now provide librc so other programs can
    query runlevels, services and state without using bash. We also provide
    libeinfo so other programs can easily use our informational functions.
    
    As such, we have dropped the requirement of using bash as the init script
    shell. We now use /bin/sh and have strived to make the scripts as portable
    as possible. Shells that work are bash and dash. busybox works provided
    you disable s-s-d. If you have WIPE_TMP set to yes in conf.d/bootmisc you
    should disable find too.
    zsh and ksh do not work at this time.
    
    Networking support is currently being re-vamped also as it was heavily bash
    array based. As such, a new config format is available like so
    config_eth0="1.2.3.4/24 5.6.7.8/16"
    or like so
    config_eth0="'1.2.3.4 netmask 255.255.255.0' '5.6.7.8 netmask 255.255.0.0'"
    
    We will still support the old bash array format provided that /bin/sh IS
    a link it bash.
    
    ChangeLog for baselayout-1 can be found in our SVN repo.
