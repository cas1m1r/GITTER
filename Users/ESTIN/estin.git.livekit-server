======================: FILES :======================
======================: BRANCHES :======================
======================: LOGINFO :======================
commit 082b651b0b5cc15624a005a51c8dba1609758267
Author: Evgeniy Tatarkin <tatarkin.evg@gmail.com>
Date:   Tue Mar 1 12:25:41 2022 +0300

    chat demo

commit 913ef3a6467d98e36d6ee3854fea115c70fa18d7
Author: cnderrauber <zengjie9004@gmail.com>
Date:   Tue Mar 1 15:48:20 2022 +0800

    Datatrack for data channel (#476)
    
    * data track

commit 13e21e7c45add06398cc6e15d89ce451d1f4030e
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Mar 1 09:55:13 2022 +0530

    Callback queue for a couple of modules (#468)
    
    * callback queue for stream tracker
    
    * Ops queue for down track
    
    * fix test

commit a1bef5b18d43d2d5b994d27698efcfc02d460bde
Author: David Colburn <xero73@gmail.com>
Date:   Mon Feb 28 14:48:19 2022 -0800

    deadlock CI (#475)
    
    * deadlock CI
    
    * make sure the test fails
    
    * remove fail check

commit c3a3fb569d3220785954e6fa8c28c0120b49e82c
Author: shishirng <shishir@livekit.io>
Date:   Mon Feb 28 13:48:02 2022 -0500

    add track publisher info in track subscribed event (#473)
    
    * add track publisher info in track subscribed event
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * update protocol ver
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 2706dc130f979e406fbc000e0a3a6865925f5424
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Feb 28 09:57:17 2022 +0530

    Replace sync/atomic usage with uber/atomic (#471)

commit 933b41e42a0a4cd07170a3db97db273edbc06d2e
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 27 16:55:48 2022 -0800

    v0.15.5

commit 433a5cd8d17650ce7519e76d2f9c6ca3c2500d8d
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 27 16:54:39 2022 -0800

    Disable default node limits (#472)
    
    * Disable default node limits
    
    * removed unused vars

commit c2d3e6e33e73948065aa78235c3d52ff810eeeb5
Author: cnderrauber <zengjie9004@gmail.com>
Date:   Fri Feb 25 18:32:02 2022 +0800

    create data channel from sync state (#469)
    
    * create data channel from sync state
    
    * fix fake type

commit 130decbf1db85467fd9586b3ca601cf005c0daf9
Author: David Zhao <david@davidzhao.com>
Date:   Thu Feb 24 23:07:15 2022 -0800

    CI step for static check (#467)
    
    * CI step for static check
    
    * fix staticcheck

commit 778d1aa141ab909083265a6a0a26b2401297ed53
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 25 12:19:49 2022 +0530

    `utils.AtomicFlag` -> `atomic.Bool` (#466)
    
    * Replacing hand rolled ion-sfu atomic with uber/atomic
    
    * Remove another hand rolled atomic
    
    * utils.AtomicFlag -> atomic.Bool

commit 0170cc1cb6c27c9e0dde62dcb7cc94c511703762
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 25 12:04:08 2022 +0530

    Staticcheck (#464)
    
    Using `go get -u honnef.co/go/tools/cmd/staticcheck`
    Uneaarthed a couple of real bugs

commit 5a4181b581804ffa68dec8b5694352ccf7b003e4
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 25 11:57:09 2022 +0530

    Replacing hand rolled ion-sfu atomic with uber/atomic (#465)
    
    * Replacing hand rolled ion-sfu atomic with uber/atomic
    
    * Remove another hand rolled atomic

commit 2959eebca80296f6afcbc7245538b2e401ed9efc
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 25 11:56:26 2022 +0530

    Introducing OpsQueue (#463)
    
    * Introducing OpsQueue
    
    Creating a PR to get feedback on standardizing on this concept.
    
    Can be used for callbacks.
    Already a couple of places use this construct. Wondering if we
    should standardize on this across the board.
    Just changing one place to use the new struct. Another place
    that I know of which uses this pattern is the telemetry package.
    
    * atomic flag -> bool

commit 6d88154402d82fcc27195dc597c8a1e916628384
Author: David Zhao <david@davidzhao.com>
Date:   Thu Feb 24 15:09:34 2022 -0800

    Reduce lock scope, avoid callbacks under lock (#462)

commit 20f21cce2b9e672407605b38e90273889e4a3ded
Author: David Colburn <xero73@gmail.com>
Date:   Thu Feb 24 14:57:14 2022 -0800

    Egress (#455)
    
    * egress updates
    
    * pass egressInfo to delete
    
    * update typefakes
    
    * export StartEgress
    
    * update protocol
    
    * new rpc, rename stores
    
    * add json tag
    
    * update tests
    
    * update protocol

commit b7aac6cb6b7dc36911d01a46a8ec99d10c25b332
Author: shishirng <shishir@livekit.io>
Date:   Thu Feb 24 12:45:07 2022 -0500

    Set track_type to VIDEO for max subscriber video quality change explcitly (#461)
    
    its defaulting to 0 -> AUDIO
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 5a9459d0d5a276c2225e02f4d260c5b7ffd39e41
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Feb 24 17:51:02 2022 +0530

    Use the same wrap logic as bucket as it is more robust (#460)
    
    Also rename n -> s for golang convention

commit eed241cf7ff7a03164c14c1dc12c80e1bfa0ef26
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Feb 24 13:43:12 2022 +0530

    Refactor Bucket a little bit (#459)

commit 7eb2fecadde55149d3e42b457ef3e116b3457ba2
Author: David Zhao <david@davidzhao.com>
Date:   Tue Feb 22 17:43:25 2022 -0800

    Close websocket connection upon join failure (#458)
    
    * Close websocket connection on join failure to avoid hang
    
    * fix auto creation bug

commit 3e7fae96eae2cd5f291fc5c633cd6bb6f758ff8f
Author: shishirng <shishir@livekit.io>
Date:   Tue Feb 22 19:08:49 2022 -0500

    Add telemetry method to capture max video_quality (#457)
    
    * Add telemetry method to capture max video_quality
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Telemetry fakes
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Update go mod dep
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 870190624e1689594263ca38ee35b446b5470f9f
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Feb 23 00:04:18 2022 +0530

    Fix no-video with adaptive streaming (#456)
    
    * Fix no-video with adaptive streaming
    
    With a recent change to initialize max quality for subscriber
    synchronously, a subsequent update at the same quality was
    getting ignored. So, there was no message back to publisher
    to start up video layers. Reproducible every time the subscriber
    joined after all the layers of publishers was turned off.
    
    While not pretty, for now, disable the check for quality match
    on subscriber update. That disabling itself is fine as there is
    another check for consolidated quality match before sending
    a message to the publisher, but in general this area has shown
    some shakiness and needs some work.
    
    * Use notify function to set initial quality also

commit a48cb6d0c40a7075b426f62840aa608d77bde665
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 20 21:14:57 2022 -0800

    Avoid deadlock during room close (#451)
    
    * avoid deadlock during room closse
    
    * better fix

commit 3f381721393ef9996f58011cc2c23d690c641900
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Feb 21 08:52:11 2022 +0530

    Types for ConnectionID, NodeID, ParticipantKey (#450)
    
    * Types for ConnectionID, NodeID, ParticipantKey
    
    * latest protocol version

commit f209e9319aa226ba30b728c8c3cff79b2e7ebdff
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sun Feb 20 20:52:17 2022 +0530

    Reset channel observer in resetState (#449)
    
    * Reset channel observer in resetState
    
    * Spelling fix

commit 1e459e91ccc0c986b5fb38e9e31663b85c48bfbc
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sat Feb 19 13:17:55 2022 +0530

    Stream priority (#448)

commit c20fb237d531797b24c5f8a938f0928a44482afb
Author: David Zhao <david@davidzhao.com>
Date:   Fri Feb 18 09:21:24 2022 -0800

    Initialize subscriber quality to default layer (#444)

commit dd4cec7724a18e38c9b93753589568bbdb9e226f
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 18 21:10:52 2022 +0530

    Deleting unused code in stream allocator (#447)

commit 92d47ec421dc4e4d7d5682413c9453831a448f9b
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 18 16:26:27 2022 +0530

    Resync uses SSRC change. Reset to 0 when a resync is needed. (#446)

commit 517312fb87d94672be7155444e87ac53180e2464
Author: cnderrauber <zengjie9004@gmail.com>
Date:   Fri Feb 18 17:45:14 2022 +0800

    update to turn@v2.0.8 (#445)

commit babbfb37aafaa73d06b6ce0a5ea169915253faec
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 18 14:21:30 2022 +0530

    Include NACK ratio in congestion control (#443)
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * Clean up
    
    * Remove debug
    
    * Remove unneeded change
    
    * fix test
    
    * Remove incorrect comment
    
    * WIP commit
    
    * Reset probe after estimate trends down
    
    * WIP commit
    
    * variable name change
    
    * WIP commit
    
    * WIP commit
    
    * out-of-order test
    
    * WIP commit
    
    * Clean up
    
    * more strict probe NACKs

commit 7fcb887eb83aa537c72aa605aaf94918d37291a0
Author: shishirng <shishir@livekit.io>
Date:   Thu Feb 17 15:15:10 2022 -0500

    use delta bytes in window to identify max layer (#442)
    
    total_bytes is aggregate, when we switch from higher layer to lower
    layer, it takes time for lower layers total_bytes to catch up to
    stopped higher layers
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit d04f4d12d1ba0345439d4281f19ef0e07018e833
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Feb 17 13:33:44 2022 +0530

    Throttle RTX under certain conditions to prevent RTX storm (#440)
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * Clean up
    
    * Remove debug
    
    * Remove unneeded change
    
    * fix test
    
    * Remove incorrect comment
    
    * WIP commit
    
    * Reset probe after estimate trends down
    
    * WIP commit
    
    * variable name change
    
    * Clean up
    
    * Remove debug logs
    
    * gofmt

commit 0bbed7f0bd71d53144bee36f741667a21a900611
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Feb 17 11:03:23 2022 +0530

    Use padding for probing (#434)
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * Clean up
    
    * Remove debug
    
    * Remove unneeded change
    
    * fix test
    
    * Remove incorrect comment
    
    * Reset probe after estimate trends down

commit c534099e3a3abae2b645d4b2f03faaeb156a519c
Author: shishirng <shishir@livekit.io>
Date:   Wed Feb 16 19:31:59 2022 -0500

    fix connection_scores not being sent to telemetry during delta calc (#439)
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 7b086ecf4c7ed772868ccfa6cf938982dc1dc4b0
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Feb 16 18:57:43 2022 +0530

    Do not send RTCP if receiver is closed (#438)

commit d69ee146968ba5be9974bad039aef14e47c28dcc
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Feb 16 18:28:41 2022 +0530

    Make stream tracker very forgiving for layer 0. (#437)
    
    With screen sharing in Chrome 97, static content sends one packet
    a second. Layer 0 stream tracker was configured to expect 2 per second.
    Make it very relaxed so that one packet in two seconds declares layer 0
    active.

commit 32d8af6da0ac85c99da15bcbfda5f1cfbf7d8529
Author: cnderrauber <zengjie9004@gmail.com>
Date:   Wed Feb 16 19:57:55 2022 +0800

    repeat request pli until first keyframe received (#436)

commit c9cfb0d362d56e83c72064e5313f102bd2548de0
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 11 14:04:47 2022 +0530

    Need to return delta the new provisional layer takes. (#433)

commit f3a6f580065cea199a1339a19e5d08454497a8a7
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 11 12:09:48 2022 +0530

    Use correct publisher id in stream state update (#432)

commit a6338992e83e86ad3fe6860dbbd9402c4a582ddf
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 11 09:17:53 2022 +0530

    Stop forwarding on congestion (#429)
    
    * WIP commit
    
    * comment out debug stuff

commit 8680f6fd232cf1161a35c1766eca4992f039a2fa
Author: shishirng <shishir@livekit.io>
Date:   Thu Feb 10 16:48:16 2022 -0500

    Send trackInfo object in TRACK_SUBSCRIBED event (#431)
    
    Need track details in subscribed events
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit e96e8e7f97450975b79ff5ac45d9162d231ab94d
Author: shishirng <shishir@livekit.io>
Date:   Thu Feb 10 11:21:17 2022 -0500

    Clean up closed tracks stats and handle -ve packet_lost (#430)
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit f3572d2654dd5d1c276c9ab20e4b7bbd2184992e
Author: cnderrauber <zengjie9004@gmail.com>
Date:   Thu Feb 10 16:39:59 2022 +0800

    tune speaker detector more sensitive (#427)
    
    * tune speaker detector more sensitive

commit aadfc97b0bccbf5edbdac8aa84fc5fda05c0b805
Author: David Zhao <david@davidzhao.com>
Date:   Thu Feb 10 00:31:09 2022 -0800

    Minor cleanup, updated docs to reflect Swift (#428)

commit 6f7e6c45568a34f116e99895bfed90992f7d7a78
Author: shishirng <shishir@livekit.io>
Date:   Wed Feb 9 20:45:53 2022 -0500

    Compute delta stats to send downstream (#426)
    
    * Compute delta stats to send downstream
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Update tests: total_packets should be diff between 2 packets
    
    First packet was 1, second was 4. diff should be 3
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * If there are no videoLayers, do not sent in Stats
    
    For audio and Downstream tracks, we do not  get layers
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Use prev Max layer for current delta and update layer info for next round

commit 837f64643f25c62d8fd20be80137601735898af2
Author: David Zhao <david@davidzhao.com>
Date:   Wed Feb 9 12:08:56 2022 -0800

    v0.15.4

commit aff25afb7050257e1e563ee3f70056432643a48d
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Feb 9 19:00:03 2022 +0530

    NACKs with min/max intervals and exponential backoff retries (#425)
    
    * NACKs with min/max intervals and exponential backoff retries
    
    * simplify

commit f4f9df375f2feddb0e941cbe7c2ca4d8447c3cd7
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Feb 9 14:08:07 2022 +0530

    Ignore 0 RTT for nacker (#424)
    
    - Propagate when a track is added
    - Reduce scope of lock

commit 222b02aa73951770c93a46f376f8be62fc64ecff
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Feb 9 09:34:40 2022 +0530

    RTT (#420)
    
    * Consolidating PLI throttle
    
    Use the throttler in `sfu.WebRTCReceiver`.
    
    Does change shape of config object.
    
    * Move PLIThrottleConfig to sfu.WebRTCReceiver
    
    * fix test compile
    
    * Cleaning up unused stuff
    
    * improve readability
    
    * RTT
    
    - Calculate down track RTT using RTCP Receiver report
    - Surface it back to the participant
    - Participant updates all its published trackes
      (throttled to limit update to once in 5 seconds)
    - That propagates to all the upstream sfu.Buffer and the nacker.
      So, we will have RTT throttled NACKs.
    
    * rtt callback

commit 562546829b9a90d5a214b00a9a9dc2658a23896f
Author: shishirng <shishir@livekit.io>
Date:   Tue Feb 8 16:13:55 2022 -0500

    handle remote ip address in case of forwarding (#421)
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 3117547d60ff0de6a1ed48e242fe3afd3082c093
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Feb 8 22:50:43 2022 +0530

    Consolidating PLI throttle (#419)
    
    * Consolidating PLI throttle
    
    Use the throttler in `sfu.WebRTCReceiver`.
    
    Does change shape of config object.
    
    * Move PLIThrottleConfig to sfu.WebRTCReceiver
    
    * fix test compile
    
    * Cleaning up unused stuff
    
    * readability improvement

commit fee300985362ad324df92c6e5e09cea6bcef9e81
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Feb 8 17:19:59 2022 +0530

    Use buffer channel for all RTCP messages (#418)
    
    RTCP messages are going through two channel hops now.
    Maybe we don't need that anymore now that the original
    problem is diagnosed. But, pushing all RTCP via
    the callbackOps channel for now to make it consistent.

commit e948ecb3a81d68e2708b376c224448adb78be337
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Feb 8 16:32:49 2022 +0530

    Duplicate packets should not update packet loss counter (#417)

commit d3ca4a37a8f77f15601c7e124295a7849f343263
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Feb 8 15:54:45 2022 +0530

    Proper context for down track logger (#416)
    
    It was having two participants (both publisher and subscriber).
    Fix it by getting logger from susbcriber and adding track context.

commit bce3a9b10a96846b410119e64689829729449597
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Feb 8 13:51:44 2022 +0530

    Tigether scoping on connection stats lock. (#415)

commit 00b2a216c78ee1c01e8c62c07a7e6b083fc41bde
Author: cnderrauber <zengjie9004@gmail.com>
Date:   Tue Feb 8 16:00:56 2022 +0800

    fix deadlock cause underlying buffer full (#413)
    
    * fix deadlock cause underlying buffer full

commit 941cac8dfc35f3fb15be9aee4f13c58c64ef2640
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Feb 8 13:13:41 2022 +0530

    set DTLS retransmit interval to 100 ms (#414)

commit 36289bbca7858044c39853d3d400ba76b1a8632a
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Feb 8 12:53:14 2022 +0530

    FPS (#410)
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * Clean up
    
    * Clean up
    
    * Store RTT in stats
    
    * spelling mistake
    
    * Make tests compile
    
    * Fix test compilation error
    
    * fix tests
    
    * clone
    
    * latest protocol

commit a6eb4290d3f86ba90dc0945658de6ac56d05f38b
Author: David Zhao <david@davidzhao.com>
Date:   Mon Feb 7 23:15:24 2022 -0800

    Generate telemetry stubs (#412)

commit 32b56e0fd6da896a25f16b07de80a08f3e156104
Author: shishirng <shishir@livekit.io>
Date:   Mon Feb 7 17:23:39 2022 -0500

    Add ParticipantActive telemetry method (#411)
    
    * Add ParticipantActive telemetry method
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * fix test
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Update go mod
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 81521f80db827e71b62a4943820507693221fcbe
Author: David Zhao <david@davidzhao.com>
Date:   Sat Feb 5 23:15:58 2022 -0800

    Support for custom TURN servers (#409)
    
    Closes #271

commit e6c236357a6930176914136493c8f6376fbbc620
Author: David Zhao <david@davidzhao.com>
Date:   Sat Feb 5 22:57:47 2022 -0800

    Option to disable ICE-Lite to improve compatibility (#408)

commit 4a9b84478188277cf186a855b60ebf9b7d97519a
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sat Feb 5 23:25:53 2022 +0530

    Process RTX packets for TWCC (#406)
    
    The SRTP replay detection was disabled recently.
    But, they were effectively getting dropped in `sfu.bucket`.
    
    Doing two things with RTX packets in this PR
    1. Update stats - add to packet count and bytes
    2. Process header extension - to process TWCC

commit 7f2a5ae036174b6663722ec2b1f2f5e211561e18
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sat Feb 5 13:14:06 2022 +0530

    latest DTLS to fix long delay connections (#405)

commit 9c3794144e01014c64cab7ef356fa9d9f13d7922
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 4 23:11:27 2022 +0530

    Force DTLS role client for the simulated client side peer connection (#403)
    
    * Force DTLE role client for the simulated client side peer connection
    during migration.
    
    Without that, with remote side being ice-lite (i. e. server offer
    is subscriber peer connection), pion chooses the server DTLS role
    and both side end up being servers.
    
    * pion/webrtc -> 3.1.21
    
    * remove local reference
    
    * Use setup from previous answer
    
    * more comments

commit 4388a68b7ecfd13437e78513e74e6f04c00d1c6f
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 4 14:18:25 2022 +0530

    Breaking up `calc` for easier reading. (#402)
    
    * WIP commit
    
    * fix test
    
    * More clean up
    
    * cast to right size
    
    * use local variable
    
    * set a default RTT
    
    * Do not log RTX, although need to figure out source of RTX
    
    * fix test

commit 05c8a6b2fdf8342f306d10d91f233a33c18e99b1
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 4 08:43:32 2022 +0530

    Cleaning/simplifying some buffer bits (#398)
    
    * Cleaning/simplifying some buffer bits
    
    1. NACKs are always inserted in order. So, get rid of
    bunch of out-of-order handling in there and simplify.
    2. For now, removing triggering a key frame from NACKs.
    Let subs drive it.
    3. Move to 16-bit sequence numbers except for receiver
    report handling. Simplify bits about unwrapping sequence
    number on all packets.
    4. Remove unused code.
    
    * remove unused field

commit 6f6d55345b438ee3df8ffde3df2983d3cefdf9a6
Author: David Zhao <david@davidzhao.com>
Date:   Thu Feb 3 17:10:52 2022 -0800

    Use ParticipantInfo version to ensure consistency (#399)
    
    * Use ParticipantInfo version to ensure consistency
    
    Deprecating time.Time and avoid locking unnecessarily
    
    * properly adjust ulimit. update protocol
    
    * Save initial version from params
    
    * get rid of metadata field, use grants copy
    
    * fix test

commit 7bbd2381884a5d2a6725b4097ef9994faed50fbd
Author: David Colburn <xero73@gmail.com>
Date:   Thu Feb 3 14:20:19 2022 -0700

    clean up logs and imports (#400)

commit 7297a57f3d784048d4928b4e379315eadb102f4e
Author: David Zhao <david@davidzhao.com>
Date:   Wed Feb 2 21:29:45 2022 -0800

    Improve TestMultiNodeRefreshToken reliability

commit a8d43aab67f0ce331484d079efa3181f57e35c05
Author: David Zhao <david@davidzhao.com>
Date:   Wed Feb 2 21:16:08 2022 -0800

    Uses IceLite only for protocol 6 clients (#397)
    
    * Update to Pion v3.1.20, with fixes DTLS role ambiguity
    
    * Gate ice-lite on protocol version
    
    Co-authored-by: boks1971 <raja.gobi@tutanota.com>

commit ede39fe87f03cd7a900566b441a627d58eb93193
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Feb 2 16:31:07 2022 +0530

    Disable SRTP replay protection (#396)

commit e22f47b41649c508afff751045cac0f9ab4c769c
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Feb 1 13:24:42 2022 +0530

    Split out stream tracker manager (#394)
    
    * Random clean up
    
    * Split out StreamTrackerManager for re-use
    
    * Reset the correct tracker
    
    * use generation counter to exit coroutine
    
    * start only for video and when enabled
    
    * Add RemoveAllTrackers method

commit 247807b2cc092ed8b58aa39992a13fea705eda99
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Feb 1 12:41:37 2022 +0530

    Use an atomic flag to stop stream allocator (#395)
    
    * Use an atomic flag to stop stream allocator
    
    * use a mutex for event channel
    
    * RLock while posting event
    
    * lock isStopped flag to prevent posting to closed channel

commit 0574803be84b104518335e5b9828cc2ccf67baa9
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Feb 1 08:57:34 2022 +0530

    Random clean up (#392)

commit 9db2bd22dfb608acce3fe29cad026c09e1f79cae
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Feb 1 08:57:09 2022 +0530

    LK logger with context in SFU (#391)
    
    * LK logger with context in SFU
    
    * Move buff.SetLogger into sfu.WebRTCReceiver

commit 3d132730f96c0b243ef9d75114bac54e9c0c6cf5
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jan 31 17:09:36 2022 -0700

    replace entire nodeStats object (#393)

commit 745939ec24c32562c7c40dfcbbb9fb53625edab8
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Jan 31 07:47:24 2022 +0530

    Smoother dynacast transition (#390)

commit a1f88faed1ad2be90b0632de38af8ff6c1c3e4bd
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sun Jan 30 10:59:47 2022 +0530

    Add a resync API to sfu.DownTrack (#389)
    
    * Add a resync API to sfu.DownTrack
    
    Also passing in logger with context into sfu package. More to do here
    with proper logging context in all modules, but this is a start
    
    * Remove debug code
    
    * fix tests

commit 7ac3631b6c3fec73118553ed42e6440733259a30
Author: shishirng <shishir@livekit.io>
Date:   Sat Jan 29 10:51:21 2022 -0500

    Get clients remote address from request (#385)
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 3bfdb2523eaf22de702cce1b7fc6e8ed694efe96
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sat Jan 29 20:14:36 2022 +0530

    Catch some instances of traversing map outside lock (#388)
    
    * one more place, do not range over map outside lock
    
    * Catch one more location
    
    * Catching a couple of more places

commit 3430650d3e75ba9f7785513a2ce9df0d5766d69e
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jan 29 00:52:06 2022 -0800

    Server-side parsing of UserAgent (#387)

commit f9cb274521e4a304149f4f0e4ee5e7f241312857
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 28 21:59:51 2022 -0800

    v0.15.3

commit a5d779a8b22fc6035e3aac2bbf9f73a6dea32477
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 28 21:43:40 2022 -0800

    Increase test client timeout

commit 6af6eefb8c0c0a3dc1ea335481d029d4d8236eb1
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 28 21:34:21 2022 -0800

    Improve readability of test failures (#386)

commit 5b57522c05ecc468cb8535c825f5e0dc77814e2a
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sat Jan 29 00:55:00 2022 +0530

    Refactoring connection stats (#384)

commit 9747243ce2ca84d7c520bbf822b891dbd844f6b5
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 28 09:55:10 2022 -0800

    Honor autoSubscribe when subscription permissions are granted later (#381)
    
    * Ensure autosubscribe is honored when subscription permissions were granted later
    
    * negotiate even if no media has been added
    
    * don't double-negotiate

commit 30c175e9a7f2b42793a9ae19b9e205bc087bcebb
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Fri Jan 28 23:03:03 2022 +0800

    change vp8 blank frame to 8x8 (#382)
    
    * change vp8 blank frame to 8x8
    
    * rename

commit f962fef2c8fe9f08e1206901bbf4aa216b496ade
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Jan 28 08:34:13 2022 +0530

    Apply subscribed track settsings on add (#379)

commit 1e156025b4b72ff1e9ae2427fcb345e33d4d43d4
Author: shishirng <shishir@livekit.io>
Date:   Thu Jan 27 15:44:03 2022 -0500

    Store client meta on participant join (#380)
    
    * Store client meta on participant join
    
    capture region, time_to_connect, ip, node
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Update proto dep
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 26eea78b54239194bed88444ef5a5ff2e73e063c
Author: shishirng <shishir@livekit.io>
Date:   Thu Jan 27 11:24:54 2022 -0500

    Telemetry connection scores (#377)
    
    * octets - total bytes needs to be uint64
    
    uint32 wraps at 4GB
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Cleanup stats handler to use connectionQuality stats
    
    remove per packet rtcp handlers, buffer stats
    
    * cleanup connection stats
    
    * Update mediatrack to store rtcp stats in connection stats
    
    * Update downstream handling of connection stats and telemetry
    
    * Update telemetry tests
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Misc fixes
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Minor fix to avoid accessing buffer before its allocated
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * start updateStats worker in AddReciever()
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Use previous score to calculate avg scores
    
    * Restructure connectionStats
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 32825d2666ef243fa61b7bf980096ac97e2c98fb
Author: David Colburn <xero73@gmail.com>
Date:   Wed Jan 26 19:12:39 2022 -0700

    clean up WriteRoomRTC (#378)
    
    * clean up WriteRoomRTC
    
    * regenerate

commit 69116a57fcf1ca7f4f67536be97985415b6afbe9
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jan 26 00:26:42 2022 -0800

    Correctly use writeParticipantMessage for APIs (#376)

commit 45b07e2b3ffd7cefd8a054eb59a6c78a00fe33c1
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Jan 26 13:23:38 2022 +0530

    Add trackID to logger context (#375)

commit 44afa8bae16bd27b11d1031a43e0980eb8c969f4
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Jan 26 13:22:39 2022 +0530

    Delete down track on close (#374)
    
    Note that it is called from Unbind also (previous behaviour). It should
    be fine as long as there is no new down track for the same peer added
    between close calling it and unbind calling it.

commit c92e0e38d5760567fc3ec9e1360a13cc416ed36f
Author: David Colburn <xero73@gmail.com>
Date:   Tue Jan 25 08:23:22 2022 -0800

    Room closed fix (#370)
    
    * Room closed fix
    
    * switch to uber/atomic
    
    * release after err check

commit bb2610909651a5d1bc48c5d1742d64094ec55e7e
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Jan 25 18:08:41 2022 +0530

    Add a method to clear receiver. (#372)
    
    With remote media track receiver starting/stopping/restarting possibly,
    receiver should be cleared when stopped and will be re-initialized when
    it is restarted.

commit b2cb93d9a441364f22dbf071851383149ae208bd
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Tue Jan 25 16:13:52 2022 +0800

    fix concurrency problem (#369)

commit e7e3fcac43c6d685ba1fd4f230385f50f17bfbb9
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jan 24 20:51:57 2022 -0700

    remove duplicate IsRecorder

commit 627a93298e16ffccf4a7836c1342b18ad37030db
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jan 24 17:22:10 2022 -0800

    IsRecorder (#368)
    
    * IsRecorder
    
    * regenerate fakes

commit 56ebd521f99649d5332173ffbe21e71fe10956db
Author: shishirng <shishir@livekit.io>
Date:   Mon Jan 24 14:38:04 2022 -0500

    Telemetry capture published track updates (#367)
    
    * Telemetry capture published track updates
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Updated OnVideoLayerUpdate to take slice of layers
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Update proto dep
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 90b97137c9f36da2136291f738d83146f3faaf66
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Mon Jan 24 17:03:24 2022 +0800

    fix migrate state of subscribe only client (#366)

commit 52fc53d3257b8efff5ab1081029cfb3bd2af1d1f
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 23 23:15:49 2022 -0800

    Issue updated tokens to clients. (#365)
    
    This ensures client reconnect attempts would be successful for long running rooms. It also fixes inaccurate permissions that were set incorrectly when full reconnections take place.

commit 6a4695887099c9572c6d95c2cd09ab58b006dad2
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sun Jan 23 08:22:39 2022 +0530

    Some receiver clean up (#364)

commit d1848ab21841aae0af105176a5706b7439f880ef
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sat Jan 22 12:16:15 2022 +0530

    Rename `UpdateSubscriptionPermissions` -> `SubscriptionPermission` and other renaming (#363)
    
    * Store subscription permission in DB
    
    * Comment out subscription permission to DB
    
    * WIP commit
    
    * Clean up
    
    * clean up
    
    * Latest protocol

commit 4ebfc2eef619a93ac2ae753cba31529e05c3a163
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 21 15:13:44 2022 -0800

    Fix missing docker prefix

commit c3dec005109f4845bda29503674bb2598bf0255d
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 21 14:28:03 2022 -0800

    Deprecation notice for old deployment scripts
    
    Fixed #355.

commit f9a1dd97c2677b7f08b805e1d3a65154c6d8f669
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 21 11:00:33 2022 -0800

    Ensure RoomService operation is complete prior to returning (#362)
    
    * Ensure service doesn't return before operation is complete
    
    * added integration tests for RoomService

commit 126bb8867b7cdac039907d869c41e1f432aafe61
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 21 09:57:36 2022 -0800

    Ability to disable auto-create (#361)
    
    * setting to disable autocreate
    
    * improve test reliability
    
    * update comment
    
    * update to address feedback

commit 7f4ead9b25bdfff6cd939ad80c0d17178b5a3b3d
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Jan 21 11:16:54 2022 +0530

    Fire onNoSubscribers callback in only one place. (#360)
    
    While reworking some cloud code, this is getting fired multiple times
    (in RemoveAllSubscriber and in the callback). So, it causes some
    errors in the logs. Fire it only from one place.

commit b906f379373d16fc87460fe27ff2d6aec3ee6ee1
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jan 20 20:57:37 2022 -0800

    Quickstart edits in README

commit 2886ab1e3947c95677e44acf311560c5d6dc992f
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Fri Jan 21 12:32:26 2022 +0800

    RemoveSubscriber through pariticipant (#359)

commit 3d56b7c7f3483b85b717d0c050b47adea542f8f5
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Jan 21 09:43:59 2022 +0530

    Adjustments to allow permissions migration. (#356)
    
    * Adjustments to allow permissions migration.
    
    * Fix tests

commit 829e183863b5e66214490a957a36029a77ff33d4
Author: shishirng <shishir@livekit.io>
Date:   Thu Jan 20 15:29:34 2022 -0500

    pass client info object in participant joined request (#358)
    
    * pass client info object in participant joined request
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Update tests
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 4e4ad102f7de558106cb381cabf1b055857b061d
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Jan 21 00:50:48 2022 +0530

    move stop timer in mediatracksubscriptions module where it belongs (#357)
    
    * move stop timer in mediatracksubscriptions module where it belongs
    
    * Correct my screw up

commit 31a0275c0bc69f89281a934c5847b27ca2aebe8f
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jan 19 22:12:14 2022 -0800

    Included link to connection tester

commit e4e292d988ee52e3dcaccbfac515aafaacb55d59
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Jan 19 23:18:55 2022 +0530

    Do not send connection quality when participant is not active. (#354)
    
    * Do not send connection quality when participant is not active.
    
    Some times when the connection takes a while (in a long delay network
    on Safari for example), connection quality arrives before connectivity.
    
    * Do not calculate connection quality of unconnected participants

commit 0178a004dd701c0d17e0ad8db0286fb7adc0add1
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Jan 19 22:36:41 2022 +0530

    Compile in send-side bandwidth estimation. (#351)
    
    Still not using it. But, now that Pion has merged the initial
    version of GCC (Google Congestion Control) for send side bandwidth
    estimation, we can integrate it.
    
    We will enable once we have tested and feel comfortable.

commit 0acb0a9d662b4268518534d9e557cc42a89a3fc4
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Wed Jan 19 18:14:38 2022 +0800

    don't send black screen when Track be resumed (#352)
    
    * don't send black screen when Track be resumed
    
    * default flush

commit 5bea9debb7a52d6b45755888002e7cef60cd6b9f
Author: David Colburn <xero73@gmail.com>
Date:   Wed Jan 19 02:13:06 2022 -0800

    Code cleanup (#353)

commit 6400de1c101258278cc9847db0c5121eaacbb713
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 18 23:33:02 2022 -0800

    Readme update - simpler getting started (#350)
    
    * simpler setup instructions
    
    * access tokens link

commit 10714b3f6dcae9ecab47177e1b76d32a0726f3ad
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Jan 19 10:28:55 2022 +0530

    Adjust interfaces to better work with cloud (#349)
    
    * Adjust interfaces to better work with cloud
    
    * force argument to quality update

commit 8a5f26b0648609054e72c03a5af053d7637c4ebf
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Wed Jan 19 10:24:29 2022 +0800

    refine reuse transceiver (#348)

commit 76b2442f4035bc9fff5f3eb8e750c950ab048f06
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 18 17:21:17 2022 -0800

    Link to Ruby SDK

commit 88cad8f093015c8fd64e9570ee636e0fc14eec55
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 17 23:54:04 2022 -0800

    Generate cleaner configs (#347)
    
    Also upgrade to v1.17 for docker builds

commit 0e74ce89c5b3e58e457c501080741f577675fb0c
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Jan 18 11:26:57 2022 +0530

    Update pion/webrtc (#346)
    
    Also use DTLSRoleServer in publisher peer connection to get around
    potentially a Chrome browser issue in long latency links.

commit f662119ca4559d9c9ad1579c92aecf13f630ee6b
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Jan 17 16:36:10 2022 +0530

    Add roomID to logger util (#345)

commit 629dae0f8401e7dcbb8b16ba288340b2a9332ca4
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Mon Jan 17 12:04:01 2022 +0800

    fix close on nil sink (#344)

commit c122c98e4d32af34cf7efe17c97e22bfb8975344
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jan 15 10:28:03 2022 -0800

    Improved logging configuration (#342)

commit d45435ed3d0fbbd58d43f6a3e11d67cf7bd6a7e0
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sat Jan 15 23:25:48 2022 +0530

    Fix null dereference (#343)

commit 416ca80a8b344c7b37e1e6a6507022ed14b79654
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Fri Jan 14 17:49:45 2022 -0800

    get all local ip addresses (#340)

commit f2f776931f89474d5bbb404113e0c80b3169989c
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 14 17:44:28 2022 -0800

    Integrated logging with Pion (#341)
    
    * Integrated logging with Pion
    
    * handle nil logger

commit cd9c1254148222b765d87d81e97a05c96f9b7e8a
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 14 10:13:11 2022 -0800

    Also allow headers with CORS (#339)

commit cf830191e30cb62cb828b87b592ea73a5612e139
Author: shishirng <shishir@livekit.io>
Date:   Thu Jan 13 17:45:21 2022 -0500

    Add client info to participant_joined event (#337)
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit f9b2af0cf9a215ac1dcafdd74f1c4453dd2ee840
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jan 13 09:29:48 2022 -0800

    Use CORS middleware to allow RoomService use (#335)

commit 29eb8d9dbf02756ec09868f3921e63a1ce421a94
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jan 13 08:40:29 2022 -0800

    Parse additional info parameters clients could send (#336)

commit 017ed1333842316935abe945a06e40288d8cce7a
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Jan 12 23:19:56 2022 +0530

    Prevent multiple resume notifications on track (#334)
    
    * Prevent multiple resume notifications on track
    
    When returning previous allocation as is, reset change to none.
    Ideally, would like to have change as a separate return and not in last
    allocation. But, also prefer to have last allocation state. For now,
    resetting change.
    
    * log bandwidth estimate only on decrease

commit 5cdea4e15d0695ca43a501f75f89d9c482b5b40a
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Wed Jan 12 10:23:55 2022 +0100

    Avoid per packet operation (#332)

commit b05d154d120500ea5c8700ba3591de18a776af2e
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 11 23:34:27 2022 -0800

    Handle simulated leave (#333)

commit e67db84b3bc796af4f7b71611b37ed9ddaaa97af
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Jan 12 00:11:48 2022 +0530

    Remove stubs (#331)
    
    * WIP commit
    
    * Use LocalParticipant interface
    
    * Remove no-op local participant
    
    * Remove localparticipant
    
    * Remove no-op stubs
    
    * Consolidate PublishedTrack into MediaTrack

commit c2ba26eee61aacee39996fdd42373bb1104cdbe7
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 11 00:37:24 2022 -0800

    Handle SimulateScenario requests (#330)
    
    * Handle SimulateScenario requests
    
    * actually use sendLeave
    
    * fix local test failures due to filehandle limit

commit e82b8ea0a0d1638f6341fadc2985c0162ad2112f
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Jan 10 19:17:58 2022 +0530

    No op implementation to remove stubs in remote (#327)
    
    * No op implementation to remove stubs in remote
    
    * Place interface first

commit d6deb6cfa4ab9284c4b382dfe0a8395f9ef00fe9
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Jan 10 19:07:21 2022 +0530

    Move UpdateTrackInfo into MediaTrackReceiver (#329)

commit 02eb21c2cededd787d9910f1553849464c4f39ce
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Jan 10 18:34:54 2022 +0530

    Move MediaTrack ToProto out of media track receiver as remote needs a (#328)
    
    different implementation.

commit ad5267705cc8094cf70d9cf9633ca5ee235b5967
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Mon Jan 10 17:27:24 2022 +0800

    add code lost during refactor (#326)
    
    Co-authored-by: cnderrauber <zengjie9004@gmail.com>

commit f3d14f9b04bc7208fd5de92b4188c00dcd3d8fac
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Jan 10 13:31:12 2022 +0530

    Rename state for consistency (#325)

commit 4989539aaa769a41ae2afa58f31e65ae3d31d07e
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Mon Jan 10 15:17:22 2022 +0800

    move VideoQualityToRID to mediatrackreceiver (#324)
    
    Co-authored-by: cnderrauber <zengjie9004@gmail.com>

commit 1bc28240f8567a797518e5227c30d6ff61f6a0dc
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Jan 10 12:15:03 2022 +0530

    Lock adding to pending subscription (#323)

commit 54e13d20bb431559d55e73618aeb5cf5360c964a
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Mon Jan 10 12:58:10 2022 +0800

    sfu node always pick ice controlled role(lite) (#322)
    
    * sfu node always pick ice controlled role(lite)
    
    * fix test case
    
    Co-authored-by: cnderrauber <zengjie9004@gmail.com>

commit 9d74d99fed8876b935ef4e7f045d174ac0c9e36f
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sun Jan 9 11:01:42 2022 +0530

    Clean up unused config param (#320)

commit a9e0598210eaa99a5921d2cd55cb30ca0a90fc04
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sun Jan 9 10:45:49 2022 +0530

    uptrackmanager reuse (#318)
    
    * WIP commit
    
    * Remove the double lock
    
    * Remove unused variable
    
    * WIP commit
    
    * Fix test
    
    * WIP commit
    
    * Split out MediaTrackReceiver
    
    * Address comments from David

commit 8582ca4c9b8a3a9ae871d31ddfff174e62e099ad
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Sat Jan 8 18:54:23 2022 +0800

    Session migration (#319)
    
    * migrate between nodes
    
    * session migration
    
    * bug fix
    
    * use version instead of query parameter
    
    * clean code
    
    * clean
    
    * merge master
    
    * solve comments
    
    * solve comment
    
    * update go.mod
    
    Co-authored-by: cnderrauber <zengjie9004@gmail.com>

commit ecf9590d565cc147d80dc9dc22b6bc8b3a1ab82e
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Jan 7 01:46:15 2022 +0530

    More abstractions (#316)

commit dd612f966d8c0e42e85e1003dbabe04b96ed4705
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jan 5 23:02:00 2022 -0800

    Documentation around congestion control config option

commit 5064f35c29f0b339106dc8d5f3bdd20bea60f46b
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Jan 6 09:02:11 2022 +0530

    Refactor media track subscriptions (#314)
    
    * Refactor media track subscriptions
    
    - To enable re-use of common bits
    - Add max quality from other nodes
    
    * Lock close handlers slice
    
    * Reverting multiple on close handlers of downtrack, unclear if it is needed yet
    
    * Make Logger a pointer
    
    * audio level in MediaTrack like remote media track
    
    * Cleanup
    
    * Add a no subscribers callback
    
    * Add method to update subscribed quality from another node
    
    * loss proxying from remote node
    
    * Address comments from David
    
    * create subscriber node quality map

commit b020584170f68aa2472c4e4ee88d445a5002e22c
Author: David Colburn <xero73@gmail.com>
Date:   Wed Jan 5 17:56:00 2022 -0800

    v0.15.2

commit 46446ef04710728b72d71cc63954f65c455a963a
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Jan 4 22:37:13 2022 +0530

    Send speaker update with inactive speaker when participant (#315)
    
    * Send speaker update with inactive speaker when participant
    leaves/unsubscribes
    
    * Check that protocol version supports speaker updates

commit 973420faf5b597c3262be9b873901963f176e90b
Author: boks1971 <raja.gobi@tutanota.com>
Date:   Tue Jan 4 16:57:49 2022 +0530

    Revert "Refactor media track subscriptions"
    
    This reverts commit 9ca85454ed595219477ecee7d2ef76559789843d.

commit 9ca85454ed595219477ecee7d2ef76559789843d
Author: boks1971 <raja.gobi@tutanota.com>
Date:   Tue Jan 4 16:40:47 2022 +0530

    Refactor media track subscriptions
    
    - To enable re-use of common bits
    - Add max quality from other nodes

commit 995c1e86766ac10c62db5a888781d0a02c017483
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Jan 3 12:43:58 2022 +0530

    type aliases -> type definitions (#312)
    
    * type alias -> type definition
    
    * participantSid -> participantID in a comment
    
    * Update protocol

commit d5c955d11fd9660e3d2ba116f6bd0669758add60
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 2 22:38:52 2022 -0800

    bump version v0.15.2-SNAPSHOT

commit 3a9009ae1251110ac06d4e778a310c4b498585b3
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sun Jan 2 16:49:16 2022 +0530

    type definition of room name (#311)
    
    * WIP commit
    
    * update protocol
    
    * Fixing a test and catching one place where casting was missed
    
    * Fix one more spot which need conversion from livekit.RoomName -> string
    
    * do not covert list

commit 66a1ffe414ff42c32e1fa051d241257401a40801
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sat Jan 1 13:43:34 2022 +0530

    Allow cooperative allocation (#309)

commit d7d3ffdd13dde18d655ca85d9dedfafc992614d3
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 31 23:54:41 2021 -0800

    Fix missed update when subscribers are subscribing to the same layer (#310)

commit 8d0fb179a0286918ff4eb0914a937441999ed845
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Dec 31 14:04:22 2021 +0530

    Layer 0 and non-simulacst tracks also can be fully unsubscribed. (#308)

commit fc95757c7de44273396bc652eeeb35c36c22408f
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Dec 31 09:58:13 2021 +0530

    Do not pause if pause is not allowed (#307)

commit 007177d095f052384805e65a5d569c8b7c659ce1
Author: shishirng <shishir@livekit.io>
Date:   Thu Dec 30 15:26:14 2021 -0500

    room_sid to room_id update in analytics proto (#306)
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 98586c2490e85cc803ba79e0111922a4f1a10694
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Dec 31 00:26:29 2021 +0530

    A simple configuration for congestion control. (#305)

commit 107e7bbb39852c5bdb6bf97959e39107f7291438
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Dec 30 20:09:03 2021 +0530

    Configurable bandwidth estimation side (#298)
    
    * Fix tests
    
    Add back adding track to publishedTracks for testing purposes.
    
    * WIP branch
    
    * Don't know why merge from `master` did not catch this change.
    
    * WIP commit
    
    * Hook up all the bits for TWCC to work
    
    * Fix typo
    
    * WIP commit
    
    * Catch up to latest API
    
    * Move RTP/RTCP info config
    
    * Instantiate GCC/TWCC interceptor only when in use
    
    * comment SSBWE parts
    
    * RTCP feedback in publisher config

commit 6f84b36ccf9f6e1adf93b85fc16be50e0908ba56
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Thu Dec 30 13:13:40 2021 +0100

    Use RTT field in analytics stats (#304)
    
    * Update protocol to v0.11.7
    
    * Use RTT field in analytics stats
    
    Instead of Delay

commit 07db1ba726cdc4d50a0a4736eed8ff79c2d82251
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Dec 30 16:43:20 2021 +0530

    Some more files with types (#302)

commit 1b66fe1e2391a6c7461fa99f7317a964e08a9e27
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Thu Dec 30 11:06:00 2021 +0100

    Fix handling of PacketLost (#296)
    
    They come accumulated already.

commit 2d8106c3d7e45e98a55680f6d8fd8b93a3e460b6
Author: David Zhao <david@davidzhao.com>
Date:   Wed Dec 29 22:04:46 2021 -0800

    go mod tidy

commit 03000f88cb35cc2a4a79e544b83b815f35e1a3f0
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Dec 30 09:50:53 2021 +0530

    Adaptive publishing improvements (#295)
    
    * Adaptive publishing improvements
    
    * fix tests
    
    * proper comment sentence
    
    * Address comments from David
    
    * proper locking
    
    * fix crash
    
    * Do not start quality timer if not video

commit 7b0db1f3446c7bfa13ed7080d5a5b7435ad58110
Author: David Colburn <xero73@gmail.com>
Date:   Wed Dec 29 17:46:34 2021 -0800

    fix recording URL requests

commit 1fa194297f3396bbb92367e9b25285896e34243f
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Wed Dec 29 19:58:41 2021 +0100

    Implement calculating of RTT for down tracks (#300)
    
    * Implement calculating of RTT for down tracks
    * Fix code style issues

commit b744a9c2bac8f34b5c0d228b84b5260da45d69ad
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Wed Dec 29 19:51:12 2021 +0100

    Implement event loop for telemetry service (#297)
    
    It allows all actions/events to run in the same go routine.
    Therefore no synchronization primitives are needed inside
    telemetry service implementation.

commit 828d49075524af0c1e2ecff81a94ea174d597e67
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Wed Dec 29 19:29:24 2021 +0100

    Imlement analytics per track statistics (#281)
    
    New tests for telemetry + implementation of per track statistics

commit 9d78619ca3f6197af5dbcc957070af6b035831e7
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Dec 29 23:51:06 2021 +0530

    Catching a few more files with types (#299)
    
    * Use types in mediatrack.go
    
    * A bunch more files get types
    
    * One more file

commit fe06b46e94b16fe2f0cac61402e460ce833a58c0
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Dec 29 22:07:35 2021 +0530

    Include self in speaker updates (#301)

commit dc385f5d244bfd19ccaa672d79377e5193c81b37
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Dec 29 14:46:32 2021 +0530

    Beginnings of typing for various ids. (#287)
    
    * Beginnings of typing for various ids.
    
    * trackSid/TrackSid -> trackID/TrackID
    
    * update protocol
    
    * Initial livekit.ParticipantID use

commit 2209edce204a4abc9399144a5e276fa158ea3a55
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Tue Dec 28 12:54:56 2021 +0100

    Make TelemetryService testable (#276)
    
    * Make TelemetryService testable
    
    Timer is extracted for better testability of telemetryservice.
    
    Divided TelemetryService to internal part that:
    - contains business logic
    - does not contain timer
    - and therefore testable
    
    and external part that:
    - does not contain business logic
    - contains timer to send analytics every 10 seconds for all participants.
    - does not need tests
    
    * Add Test_AnalyticsSentWhenParticipantLeaves
    
    * Fix test

commit 3108ef22ad350e94bea0bc220f75d011817786f1
Author: David Zhao <david@davidzhao.com>
Date:   Tue Dec 28 00:12:04 2021 -0800

    Ability to set name on Participant (#293)

commit b747cdb8222e6fe01c7d050a333a21823dc044d8
Author: David Zhao <david@davidzhao.com>
Date:   Mon Dec 27 23:43:30 2021 -0800

    Pass along mime type with TrackInfo (#292)

commit 87a799bae2d361bf2c3b4e8858c71e2fb2b60dc5
Author: David Zhao <david@davidzhao.com>
Date:   Mon Dec 27 23:33:06 2021 -0800

    Include unique id and timestamp with webhook events (#291)
    
    Resolves #230

commit 15cd98be222ef1a1db4b0dfa53816287ab823eca
Author: David Zhao <david@davidzhao.com>
Date:   Mon Dec 27 23:32:29 2021 -0800

    Enable Room.List to filter by specific names (#290)

commit 472f51cdbaea5c39d7842597a62517a908a64ed9
Author: David Zhao <david@davidzhao.com>
Date:   Mon Dec 27 16:43:13 2021 -0800

    Fail IP lookup with STUN failure (#289)
    
    Resolves #226

commit 554baa54f6da1b7eb24aa9c0704c37184d72cc22
Author: David Zhao <david@davidzhao.com>
Date:   Mon Dec 27 13:35:30 2021 -0800

    Avoid locking while waiting for receiver read (#288)
    
    A deadlock was observed in this section, when Read was waiting for data.

commit a47153e50c2512eb6f209eb9a29ce3870478bb80
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Dec 27 14:17:06 2021 +0530

    Defer RTCP channel close till published tracks are closed (#286)
    
    * Defer RTCP channel close till published tracks are closed
    
    * Check for Close called before closing RTCP channel

commit ee99a323d29c94baa57eee58d0d8e90de83f7ecd
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Dec 24 14:14:40 2021 +0530

    Publisher controlled flex permissions (#284)
    
    * WIP commit
    
    * Add some tests
    
    * allowedSubscribers uses participant sid
    
    * correct variable name
    
    * correct another variable name
    
    * Add ParticipantSid to SubscriptionPermissionUpdate message
    
    * protocol v0.11.2
    
    * WIP commit
    
    * WIP commit
    
    * fix tests
    
    * Remove unused code
    
    * Close uptrack manager
    
    * Remove duplicate close
    
    * move comment to the correct line where the loop could be long
    
    * Fix disallowed list revocation, thank you Jie
    
    * Remove unneeded interface method
    
    * RemoveSubscriber in Participant
    
    * Clean up disallowed subscriptions and handle permissions on new track addition
    
    * add test for track addition after permission set
    
    * Remove unnecessary check

commit eae6eff6a3e41cf6c49bc8bcfd959b1c79f2fd69
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Dec 23 09:18:32 2021 +0530

    Include `participant_sid` in `UpdateSubscription`. (#279)
    
    * Include `participant_sid` in `UpdateSubscription`.
    
    Prevents all publisher tracks to find a match.
    
    * generate
    
    * Update protocol version

commit 42a9b6657d68c0fe9e6bbd9edd7ddfcd338ccbe7
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Dec 23 09:13:49 2021 +0530

    Scoped speaker update (#280)
    
    * Scoped speaker update
    
    Include only participants a participant is subscribed to.
    
    NOTE: Not doing this for active speaker changes for Protocol < 3.
    
    * correct comment spelling

commit 857ff7fae7dc5a21b5aa3b8fb8b91092b8fea479
Author: David Zhao <david@davidzhao.com>
Date:   Wed Dec 22 15:00:25 2021 -0800

    Update pion/turn to fix TURN TLS termination with external LB
    
    version v0.15.1

commit 7a54a810c9ccf119294c96972d5d84afaf45e3dd
Author: David Zhao <david@davidzhao.com>
Date:   Wed Dec 22 14:56:18 2021 -0800

    Update pion/turn to fix TURN TLS termination with external LB

commit e626ad3eaaa73105b1c32347835f84a4856d5589
Author: David Zhao <david@davidzhao.com>
Date:   Wed Dec 22 13:07:09 2021 -0800

    version v0.15.0

commit c49abf9f28fa8ecb17a4ca2d811f4158a099ea5e
Author: David Zhao <david@davidzhao.com>
Date:   Wed Dec 22 13:05:43 2021 -0800

    Increased layer tolerance to improve rendering quality (#283)

commit e6543f3b9e1614aa986526075d2e351363333307
Author: shishirng <shishir@livekit.io>
Date:   Wed Dec 22 12:37:45 2021 -0500

    Convert jitter from MicroSecs to MilliSecs (#282)
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 33a7df59bd10479f44cf1addd81d1e38b44bdd60
Author: David Zhao <david@davidzhao.com>
Date:   Tue Dec 21 14:38:16 2021 -0800

    Moved ConnectionQuality to `PublishedTrack` interface.
    
    it wasn't needed for other MediaTrack implementations

commit 2e4ccd25779f24c86876a315b2e40b9e9c1a02ae
Author: shishirng <shishir@livekit.io>
Date:   Tue Dec 21 15:35:27 2021 -0500

    Send client sdk type when participant joins in telemetry (#275)
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 8f283648427549216f034f6f34a0f197ddfe6ba1
Author: David Colburn <xero73@gmail.com>
Date:   Mon Dec 20 16:00:37 2021 -0800

    remove WriteNodeRTC from interface

commit ab73911c4930312c5f6f8fd616009962af65f657
Author: shishirng <shishir@livekit.io>
Date:   Mon Dec 20 17:34:53 2021 -0500

    subtrack should check if track was muted by publisher (#273)
    
    * subtrack should check if track was muted by publisher
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * If all tracks are muted sub/pub then send excellent connection quality
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit b32ab0e54fc9e842c78f1badc67b890c183980e6
Author: David Zhao <david@davidzhao.com>
Date:   Mon Dec 20 14:02:33 2021 -0800

    Fix incorrect order of parameters passed to NewSubscribedTrack (#272)
    
    * Fix incorrect order of parameters passed to NewSubscribedTrack
    
    Switched to explicit values via a params struct

commit 0f728b0b723da0ca9f556c68849a305f978a4d68
Author: shishirng <shishir@livekit.io>
Date:   Mon Dec 20 07:54:14 2021 -0500

    Connection quality v1 (#260)
    
    * audio connection quality mos for publisher stats
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Update tests
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Change ratings range, increase default rtt to 80
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Use stats worker to get total packets to find %lost in window
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Update go dep
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Increase interval of score cal to 5 seconds
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * use lastSequenceNumber in reports to find total packets
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Account for delay while calculating scores
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Fix minor typo
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Add connection stats/score to subscribed audio tracks
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Cleanup
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Ignore duplicate LastSequenceNumbers in rtcp reports
    
    Ignore if sequence number is less than what was recieved
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Move video track score calc to media/downtracks
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Deprecate SubscribeLossPercentage() as score calc is now handled downstream
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Initialize connection  score to excellent
    
    score is calc at 5sec interval. Client fetches score before first
    score is computed
    
    * Update test cases for connection quality
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit b0454b00a207fce0ad6cbb3540a5be759ab6f3bb
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Mon Dec 20 12:04:50 2021 +0100

    Count padding bytes in telemetry (#264)
    
    Count padding bytes in telemetry outgoing total bytes

commit 1dcc62b56904f5545179653728ea10ada352a617
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sun Dec 19 12:41:40 2021 +0530

    SubscribedQualityUpdate message (#270)
    
    * WIP commit
    
    * SubscribedQualityUpdate message to send list of currently subscribed
    qualities for a simulcast video publisher
    
    * Correct subscriberID
    
    * goimports
    
    * Do quality update on add/remove of subscribed track
    
    * do not update quality when admin mute is active
    
    * update quality on admin unmute
    
    * Update protocol version
    
    * Simplify max subscribed quality loop per David's suggestion

commit 0b71a46239788269710b91e27f1d38569a9c1821
Author: David Colburn <xero73@gmail.com>
Date:   Fri Dec 17 13:25:41 2021 -0800

    missed some typos

commit faa870de3dcdf2bd5b75ce341db14fc342559493
Author: David Colburn <xero73@gmail.com>
Date:   Fri Dec 17 15:19:23 2021 -0600

    Move callbacks out of messageRouter (#269)
    
    * move callbacks out of messageRouter
    
    * OCD
    
    * more OCD
    
    * fix forwarder test
    
    * even more OCD
    
    * maximum OCD
    
    * package name collision, copy lock by value

commit a06edd885e17f4e8d596b25c496ac127670c1f62
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Fri Dec 17 23:51:06 2021 +0800

    fix panic in forwarder (#268)
    
    Co-authored-by: cnderrauber <zengjie9004@gmail.com>

commit 502c57d78740d2392f282e0d45aa14498cf925f0
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Dec 17 15:45:04 2021 +0530

    Fix forwarding status deduction (#267)
    
    * Fix forwarding status deduction
    
    - When muted OR when there are no available layers, declare optimal
    - When target layer is the maximum it can achieve taking available
      layers into account even if they are not the maximum subscribed layer,
      it is still optimal as there is nothing better available.
    
    * Fix and add more tests for forwarding status

commit a8fe06e083f8cfcc5cabb5ea67efa43099fd525d
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Dec 17 13:16:55 2021 +0530

    Delete unused method (#266)

commit 62feed3983d589515abc681fd3b1819130b59f66
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Dec 17 13:00:44 2021 +0530

    Clean up down track type as it is not used (#265)

commit e504b6678c7db9e5d4e3287509a64c7e6bdbd704
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Dec 16 10:58:34 2021 +0530

    Deficient state handling when a track needs a change (#261)
    
    * WIP commit
    
    * deficient handling
    
    * Add missing ProvisionalAllocatePrepare
    
    * adjust state on track removal
    
    * Increase test timeout
    
    * - Add comments about cooperative routines
    - Take down transition if available in cooperative scheme
    - Use layer comparison when taking down transition. Because of when the
      bitrate is measured, it is not always guaranteed bandwidthDelta is -ve
      when moving down.
    - Do not add track to stream allocator till bind.
    
    * make comment better
    
    * a bit more clear comments
    
    * Use OnBind on subscribed track

commit c08d1e9d72bb24f472752344bc5e1ca00d123388
Author: David Zhao <david@davidzhao.com>
Date:   Tue Dec 14 17:15:08 2021 -0800

    Improve test CI (#262)
    
    * minimal change
    
    * Better test format for GH CI
    
    * Give server a bit longer to startup, to improve GH test

commit 0d0a2751019ada65852ce443ff5675df7d083647
Author: lukasIO <lukas.seiler@neesh.de>
Date:   Tue Dec 14 22:36:02 2021 +0100

    Turn with external tls termination (#168)
    
    * add TURN TCP port for plain tcp listener
    
    * use externalTLS turn config option
    
    * remove unused TCPPort config option

commit 0d229388ec462c3f98dc0d326d3f1a26c6f3b1a4
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Tue Dec 14 14:13:21 2021 +0100

    Telemetry test (#258)
    
    * Add first test for telemetry
    
    - First test for telemetry package that tests totalBytes field in downstream stats.
    - Add fake_analytics_service

commit c7d728aded7a95272169aea2fe82067c9366c805
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Tue Dec 14 09:47:51 2021 +0100

    Rename files to match interfaces inside files (#256)
    
    * Rename analytics.go to analyticsservice.go
    * Rename service to telemetryservice
    * Rename events.go to telemetryserviceevents.go

commit e54ce4f674d30e990fd4fd43b25562f0e6ec6896
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Dec 14 12:48:09 2021 +0530

    Stream Allocator Try 3 (#257)
    
    * Stream Allocator Try 3
    
    Making an intermediate PR to do
    - Special treatment for screen share tracks
    - When allocating all tracks,
      o try to stream all tracks by starting with the lowest layer
      o multi-pass across tracks to get a more even distribution
    
    Not yet done:
    -------------
    In deficient state,
    o Allocate a specific track on a change
    o Steal from other tracks
    
    * Correct sense of managed track
    
    * have to range to copy
    
    * generate
    
    * fix VideoLayers compare
    
    * Use t.simulcasted

commit 1be3a3986d925c3398b42311b02917b42aca9817
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sat Dec 11 23:36:04 2021 +0530

    Recover VP8 MBit properly when unpacking from packetMeta (#255)
    
    * Recover VP8 MBit properly when unpacking from packetMeta
    
    * one liner for itob

commit 8abd734d1672104caaa1de2f46d50c5ef126d230
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 10 15:51:05 2021 -0800

    Use participant and room specific loggers (#252)

commit bd42a39117659e48f708c11b4fa53cf35e69357b
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Fri Dec 10 15:49:14 2021 -0800

    Include node ID with Prometheus metrics (#251)
    
    * include node id in prometheus metrics
    
    * static prom init and nodeID
    
    * update protocol dep

commit d342335d09cc6644e265e2b70fa11b0b00fa4973
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 10 13:12:45 2021 -0800

    Split out SignalHandler to simplify testing (#250)

commit 882f3bdde535251bc512a5201efb2a999934a88d
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 10 11:51:03 2021 -0800

    Allow subscription requests made from server APIs (#249)

commit e7b50a79fe7364cc12c8c25cb94b3d957c960b59
Author: shishirng <shishir@livekit.io>
Date:   Fri Dec 10 14:11:13 2021 -0500

    Send room info in events by default (#248)
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 8c774f144eb56f2986dedfa38dcd472c61f19761
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Dec 10 19:30:27 2021 +0530

    Tightening up stats and also counting primary/rtx/padding separately (#247)
    
    * Tightening up stats and also counting primary/rtx/padding separately
    
    * Fix tests
    
    * annotate type stored in atomic.Value

commit bda2e9cc590ff61d631f7a0118096132d50da41f
Author: David Zhao <david@davidzhao.com>
Date:   Wed Dec 8 13:59:55 2021 -0800

    Update protocol to v0.11.0

commit 2d93ccd6687112035e4679ed55eea057361c03f3
Author: David Zhao <david@davidzhao.com>
Date:   Wed Dec 8 13:58:38 2021 -0800

    Updated protocol from protocol/proto -> protocol/livekit (#242)
    
    * Updated protocol from protocol/proto -> protocol/livekit
    
    * separate MediaTrack from PublishedTrack

commit 7948fabce00579a0f6a0d0b4901ca46539a518e4
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Dec 8 21:56:07 2021 +0530

    StreamAllocator tweaks (#240)
    
    * WIP commit
    
    * test padding only with a gap scenario
    
    * Debug
    
    * Fix video corruption, need buffer to include payload and translated header size
    
    * Revert incorrect change
    
    * Fix VP8 translation to return buffer with proper length
    
    * Restore 7-bit mode
    
    * WIP commit
    
    * Clean up
    
    * More clean up and tests compiling again
    
    * Fix tests

commit 461f29c0976b7c6c12b2070f8543f14bccf33d6a
Author: shishirng <shishir@livekit.io>
Date:   Tue Dec 7 16:23:16 2021 -0500

    Allow participants to create new connection for publishing new tracks (#224)
    
    * Allow participants to create new connection for publishing new tracks
    
    new param 'publish=<name>' enables publishing new connection with publish
    only grants. Also, identity is appended with '#<name>'
    
    * Add integration test to duplicate publish only connection
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Reuse token in test and set subscribeGrant to false on publish param
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * create auth token with grants
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Signal ice on negotiate in test client
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Update pkg/service/rtcservice.go
    
    Co-authored-by: David Zhao <david@davidzhao.com>
    
    Co-authored-by: David Zhao <david@davidzhao.com>

commit 5dc0a43b2932a53d089ef2cd65d123dcd08936a5
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Dec 7 02:51:08 2021 +0530

    Unit tests for sfu.Forwarder (#239)

commit 318bee4f1e2b7baae58f544fb9a719fa9e2eb36b
Author: David Zhao <david@davidzhao.com>
Date:   Mon Dec 6 12:12:08 2021 -0800

    Improve video quality selection by using publisher feedback (#238)

commit ff390820e192748e8b98db0115824cf3bf98ad81
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sun Dec 5 10:01:35 2021 +0530

    Make VP8 packet translation thread-safe. (#237)
    
    * Make VP8 packet translation thread-safe.
    
    Was using one packet from pool for all VP8 translation which was not thread safe.
    Grab packets from the pool when needed for VP8 translation and return to pool after done.
    Do not grab packet from pool if the header size between incoming and translated matches.
    That also saves copying the packet payload.
    
    * Keep Get/Put in the same function.

commit 45690bc3018852b54bdd05596682e30f545bdc8e
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sat Dec 4 11:57:23 2021 +0530

    Use StreamStateChange with a single list (#235)
    
    * Use StreamStateChange with a single list
    
    Use enum for state change indication on associated track.
    
    * update protocol version

commit c41384cd09d45de3707531414b6cd5bdd5018a85
Author: David Colburn <xero73@gmail.com>
Date:   Fri Dec 3 21:40:53 2021 -0800

    ActiveRecording (#234)
    
    * ActiveRecording
    
    * regenerate
    
    * update to 0.10.3
    
    * 1.17

commit c00d799ac6ebcfbdf32b48c886801f968a4e62c6
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 3 14:27:13 2021 -0800

    Fixed permission handling with room deletion (#233)

commit edafb0a118d188972ba3d42253cdc78dbb699667
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Dec 3 21:57:49 2021 +0530

    VP8Munger tests (#229)
    
    A bit of clean up of unused bits.

commit 6141567aeff69b338d4c75090e4807fd7240ffc9
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Dec 3 15:37:49 2021 +0530

    Unit tests for VP8 pack/unpack in packetMeta. (#228)
    
    Deleting unused code.

commit ac650cd21df0974c4fa13c73f2b3e5c6bd6a5eed
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Dec 3 14:47:00 2021 +0530

    RTPMunger unit tests (#227)

commit 5eb58bcb41f327c6ffe8b72f5d679cc542811f60
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Dec 2 14:43:56 2021 +0530

    Fixing a couple of bugs in StreamAllocator (#225)
    
    * Debug
    
    * More debug
    
    * break -> return
    
    * comment
    
    * Clean up
    
    * spelling fixed

commit 6510692f23294b2053e4573e1fe23eb812b876d4
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Thu Dec 2 13:57:22 2021 +0800

    export structures for cloud (#220)
    
    * export structures for cloud
    
    
    Co-authored-by: cnderrauber <zengjie9004@gmail.com>

commit e37afdca6faa5373d5504937bc14de3d3a239887
Author: Eng Zer Jun <engzerjun@gmail.com>
Date:   Thu Dec 2 06:39:21 2021 +0800

    build: upgrade `go` directive in `go.mod` to 1.17 (#223)
    
    * build: upgrade `go` directive in `go.mod` to 1.17
    
    This commit enables support for module graph pruning and lazy module
    loading for projects that are at Go 1.17 or higher.
    
    Reference: https://go.dev/ref/mod#go-mod-file-go
    Reference: https://go.dev/ref/mod#graph-pruning
    Reference: https://go.dev/ref/mod#lazy-loading
    Signed-off-by: Eng Zer Jun <engzerjun@gmail.com>
    
    * ci: update GitHub Actions to use Go 1.17
    
    Signed-off-by: Eng Zer Jun <engzerjun@gmail.com>

commit c0e06027162934498d6de2b798b8dd64e9ae167d
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Wed Dec 1 15:40:56 2021 +0100

    Improve readme (#222)
    
    Make it clear what keys are LIVEKIT_KEYS

commit 96a3f3e9a715c8416c6d2ed1dfa8137450e22ba4
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Dec 1 19:15:06 2021 +0530

    Minor clean up (#221)

commit 50469b33a9542e7d77645c294b0dcc89ec12c69f
Author: David Zhao <david@davidzhao.com>
Date:   Tue Nov 30 21:22:16 2021 -0800

    Fixed incorrect simulcast information (#218)

commit 57ee033d678d83a0ccbbb613baad545bd1606e6a
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Dec 1 01:26:55 2021 +0530

    Split `Forwarder` into its own file to make `sfu.DownTrack` smaller. (#217)

commit 5e7f93c954ba25d8c6d85dbc6fd43cdd39d8ba82
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Dec 1 01:05:19 2021 +0530

    Stream allocator - v0.2 (#216)
    
    * Use protocol friendly StreamedTracksUpdate
    
    * WIP commit
    
    * Stream allocator update
    
    * subtract the requested bandwidth as delta from Allocate could be adding to bandwidth
    
    * Calculate delta correctly
    
    * correct comment
    
    * Simplify eventCh per David's suggestion

commit a799069392b92332108a7b661cca2ec29aa22d61
Author: David Zhao <david@davidzhao.com>
Date:   Tue Nov 30 08:57:44 2021 -0800

    Add note about node-ip being public IP

commit c47ad5e32311ce41328549101fd3158f854e4a3d
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Tue Nov 30 14:08:32 2021 +0800

    export structure & functions for relay (#214)
    
    * export structure & functions for relay
    
    Co-authored-by: jie.zeng <zengjie9004@gmail.com>

commit 6cf662cbe9088b75e590015c79cdecab2ef65538
Author: David Colburn <xero73@gmail.com>
Date:   Mon Nov 29 16:41:55 2021 -0800

    send roomID with all events

commit 27a80aa801162d5284f6850ddb6462824536d50e
Author: David Colburn <xero73@gmail.com>
Date:   Mon Nov 29 16:24:29 2021 -0800

    fix stats worker

commit 1652fd5dc947d76722ed15c1cc7ac4bea212d6bc
Author: David Zhao <david@davidzhao.com>
Date:   Sun Nov 28 11:02:03 2021 -0800

    remove go fmt watcher

commit 1ffa572739461dbb6fad5dfa7f4ec501aa9dc919
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Sat Nov 27 23:52:24 2021 -0800

    Grafana Dashboard (#188)
    
    * grafana dashboard
    
    * update for sharing externally

commit e996c185cee4a0a9ff654c5b71c364de3cd856e7
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sun Nov 28 09:15:36 2021 +0530

    Simplifying (hopefully) sfu.DownTrack (#213)
    
    * Simplifying (hopefully) sfu.DownTrack
    
    * Remove unnecessary check as pdding only packets are dropped before that check
    
    * Temporal filtering max layer
    
    * - Split out forwarder bits into a separate structure
    - Address comments from Jie and David
    
    * Remove debug and unneeded stuff
    
    * Fix test
    
    * Remove unneeded default initialization

commit 092789a08fc546cbbe376fbd2e417f536df46476
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sat Nov 27 09:22:39 2021 +0530

    Stream allocator fixes (#212)
    
    * Stream allocator fixes
    
    - Treat simple track like simulcast track with one layer to make
    it stream allocator friendly.
    
    * Address David's comments

commit dc60e274130f9fab0b74bc408eb7d5baabe1e11f
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Fri Nov 26 15:40:10 2021 +0800

    create TrackSender & TrackReceiver (#211)
    
    * create TrackSender & TrackReceiver
    
    change WebRtcReceiver & DownTrack to use corresponding interface

commit 98695cdd2239b70f6111263963098889523544c0
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Nov 26 09:11:04 2021 +0530

    downstream allocator (#155)
    
    * WIP branch to hash out down stream allocator.
    
    * Plug more bits of stream allocator
    
    * update protocol
    
    * remove SignalRequest_Simulcast (#154)
    
    * Plug more bits of stream allocator
    
    * Handle simulcast track available layers change
    
    * WIP branch to hash out down stream allocator.
    
    * Plug more bits of stream allocator
    
    * Handle simulcast track available layers change
    
    * Adopt signature of call to AdjustAllocation
    
    * Move StreamAllocator to PCTransport and allocate only for subscriber.
    
    * Move streamallocator to ion-sfu
    
    * Start/Stop of streamallocator
    
    * Use StreamAllocator for subscriber bandwidth management.
    
    * Do not allocate in ADD_TRACK
    
    * Set payload in constructor
    
    * - Add some logging
    - Protocol message to notify clients of paused/resumed streams
    
    * named return
    
    * oops correct sense of isPausing
    
    * Update pkg/sfu/streamallocator.go
    
    Committing David's suggestion.
    
    Co-authored-by: David Zhao <david@davidzhao.com>
    
    * - Log estimate changes/commits.
    - Catch more than epsilon change oscillating for long time.
    
    Co-authored-by: David Colburn <xero73@gmail.com>
    Co-authored-by: David Zhao <david@davidzhao.com>

commit 9aff9af6906271014c45d02c9b5d79337eaae625
Author: David Colburn <xero73@gmail.com>
Date:   Wed Nov 24 18:43:26 2021 -0800

    back to MessageRouter interface

commit 991c334d2dd2aa691fa8f6da37c61aa6a282525b
Author: David Colburn <xero73@gmail.com>
Date:   Wed Nov 24 17:58:04 2021 -0800

    telemetry interfaces (#210)
    
    * telemetry interfaces
    
    * move AddUptrack under stats
    
    * regenerate
    
    * a space
    
    * consistency
    
    * fix test

commit f4c96449aeb1845d7c78f8326f170e6adbc942cc
Author: David Colburn <xero73@gmail.com>
Date:   Wed Nov 24 15:57:07 2021 -0800

    fix protocol reference

commit e3c91de59474ca31a8e5cf143196c29676b21b72
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Tue Nov 23 15:48:07 2021 -0800

    Configurable limit for number of tracks (#197)
    
    * configurable node track limit
    
    * sample config
    
    * todos
    
    * end of file new line
    
    * default max num tracks
    
    * bandwidth limit
    
    * client message for limit exceeded node
    
    * 10 Gbps default network limit

commit 5cdb1c4848e9342cc562cea22df9a7d69e501248
Author: shishirng <shishir@livekit.io>
Date:   Tue Nov 23 15:51:16 2021 -0500

    Send room name along in stat message (#205)
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit a554da26dc1bdd579839ad0473f26ab73ed1e47b
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Nov 22 23:45:38 2021 +0530

    Let down track do the layer filtering (#203)

commit 2f35128ac25d54bf0c9b151ce71b9f79cd331d52
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Nov 22 23:21:26 2021 +0530

    Prioritize down tracks based on max layer(s) (#202)
    
    Use max layer subscription of down tracks to
    prioritize bandwidth allocation. The ordering is
    - Highest spatial layer
    - Highest temporal layer, if spatial layer matches
    - Down track id if both layers match (this is to
      prevent unnecessary re-ordering)
    
    Testing:
    --------
    (Really need to make a DownTrack interface so that
    we can mock it and use it in tests)
    For now, just a sanity check.

commit 391e2f8b318765b1bcb96d876e9be0444414328f
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Nov 22 14:01:25 2021 +0530

    Separate out max layer setting (#201)
    
    Small step on the way to making StreamAllocator prioritization of tracks.
    With the new callback into StreamAllocator, the idea is to use the
    max layer information to do track prioritization.
    
    Testing:
    --------
    Sanity check that sample app works

commit d9219a2a6722fdf1d0f74081878c9159316dc90a
Author: lukasIO <lukas.seiler@neesh.de>
Date:   Sun Nov 21 21:15:22 2021 +0100

    track numParticipants in room (#199)
    
    * track numParticipants in room
    
    * only track participant if not a hidden participant
    
    * adjust coding style to use ++
    
    * fix typo
    
    * fix missing nil check
    
    * update roomstore with new numParticipants on participantChanged
    
    * only update roomstore if participant is not hidden
    
    * call StoreRoom directly after StoreParticipant when joining/leaving

commit a0b623914a21537da3d6569bcdc0243cdb116bd0
Author: David Colburn <xero73@gmail.com>
Date:   Sun Nov 21 11:41:16 2021 -0800

    store participant before webhook (#200)
    
    * store participant before webhook
    
    * delete participant before participant left event

commit 6dcb29c5591d5eab49194ee3c36429a48b32b211
Author: David Zhao <david@davidzhao.com>
Date:   Sat Nov 20 22:28:36 2021 -0800

    Use publisher PC as default with publish-only connections (#198)

commit 79cfc0d76abb1590e99613af7b85c9b73177c70a
Author: David Zhao <david@davidzhao.com>
Date:   Fri Nov 19 21:25:08 2021 -1000

    update protocol & pion versions

commit 202cabbb108a54b915164d16f5850d9f2e26b65d
Author: David Zhao <david@davidzhao.com>
Date:   Fri Nov 19 07:28:19 2021 -1000

    v0.14.2

commit b7f32dfffd98a2ea85c268868a25942a127877d8
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Wed Nov 17 21:18:43 2021 +0800

    Handle multiple codecs in renegotiation (#191)
    
    * Handle multiple codecs in renegotiation
    
    update pion to v3.1.9 for answer same order of codec as publisher.
    register enable codecs in subscriber peerconnectin created.
    
    add codec parameter to buffer.bind
    buffer should use the codec of TrackRemote as it's codec mime.
    
    sent h264blankframe when DownTrack closing

commit c4c93eaad6a7626eb44069da24930841df092272
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Tue Nov 16 21:59:15 2021 +0800

    Fix issue #159 (#195)
    
    * Fix issue #159
    
    use timestamp for AudeioLevel observer
    change smoothinterval default to 2 for more sensitive

commit 95e29d3766a098aaa3c6be3ead75fc57b64133e4
Author: David Colburn <xero73@gmail.com>
Date:   Mon Nov 15 13:25:50 2021 -0800

    Interface updates (#194)
    
    * update interfaces, a bit of cleaning
    
    * regenerate
    
    * return interface for RoomService
    
    * export packetBufferSize
    
    * update router interface
    
    * move participant key into router
    
    * change locks back
    
    * read only room store
    
    * fix server rm locks
    
    * update SendJoinResponse
    
    * clean up imports
    
    * update room messaging
    
    * regenerate

commit ffb2c50a70597685b96cb0a32b6cbe4435455439
Author: David Zhao <david@davidzhao.com>
Date:   Sun Nov 14 11:18:01 2021 -0800

    Fixed room API breakage (#190)

commit ceae58ac203488b176423c7bbfbec3eaa221104d
Author: David Zhao <david@davidzhao.com>
Date:   Sat Nov 13 22:59:53 2021 -0800

    Fixed deadlocks occurring in Receiver writeRTP (#189)
    
    When we RLock during write cycles, the mutex spends the majority of its time
    staying locked. As new participants join, they have to acquire the WLock
    before downtracks could be add it.
    
    In load test scenarios (25 participants joining together), it's common to see
    goroutine dump showing MediaTrack.AddSubscriber -> DownTrack.storeDownTrack trying to acquire mutex, and never able to acquire it.

commit 4e16e4275c139041cb67c83a01e1dcd314e0c037
Author: David Colburn <xero73@gmail.com>
Date:   Fri Nov 12 20:21:54 2021 -0800

    move NewStatsInterceptorFactory

commit 92838d75a8c703b88d40d88499401e8531c81f1c
Author: David Colburn <xero73@gmail.com>
Date:   Fri Nov 12 14:36:10 2021 -0800

    Analytics events + stats (#187)
    
    * events
    
    * bump
    
    * update incoming stats
    
    * publisher stats
    
    * outgoing rtcp
    
    * stats
    
    * remove unnecessary struct
    
    * merge mediaTrack
    
    * put comment back

commit 6500ce262dce4cfc9ca7713e773dd90f5d9cecf3
Author: David Zhao <david@davidzhao.com>
Date:   Thu Nov 11 23:29:54 2021 -0800

    Fix publisher loss reporting (#186)

commit 5a057f3d197c0463f5e93a12ced75511e0d782e7
Author: David Zhao <david@davidzhao.com>
Date:   Thu Nov 11 23:16:21 2021 -0800

    Handle nil when buffer pair doesn't exist

commit 0a20acdf689b4dd29c6d847a4a13cca2ecdfbbfa
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Nov 12 10:09:25 2021 +0530

    Do not parse padding only retransmit packets as VP8 payload. (#185)

commit 1e2e53a575d95eeb42071bb714ec98ade71d2704
Author: David Zhao <david@davidzhao.com>
Date:   Thu Nov 11 13:29:39 2021 -0800

    v0.14.1

commit 90f3c43dc583f5dbd244842bd3df6143e74deac7
Author: David Zhao <david@davidzhao.com>
Date:   Thu Nov 11 13:25:08 2021 -0800

    Fixed deadlock in pion with SRTP and DataChannel

commit 2ec5f2bd3d42beeebcb42f369a0f5e041d11eb27
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Nov 11 19:03:33 2021 +0530

    Fixing edge cases in picture id munging. (#180)
    
    * Fixing edge cases in picture id munging.
    
    Changes
    
    1. Check the RTP sequence number order before VP8 temporal layer
       filtering and use that ordering result while doing temporal
       layer filtering.
    
        In a sequence like below
           o Packet 10 -> Picture ID 10
           o Packet 11 -> missing
           o Packet 12 -> Picture ID 11
         it is not known if packet 11 will belong to Picture ID 10 or
         Picture ID 11. The problem becomes a lot more tricky if there
         is a burst loss and there is a larger hole in the picture id
         space also as a result.
    
         So, in the event of a packet loss, forward even if the current
         packet belongs to a layer that can be dropped. More comments
         in code.
    
    2. Use result of sequence number ordering check while doing VP8 picture id munging.
    
    3. When adding to missing picture id cache, have to include picture ids including
       both ends. As a picture can span multiple packets and it is not known which
       picture the packet belongs to, have to include both ends also in missing
       picture id cache in the event of a gap.
    
    4. As a picture can span multiple packets, it is not possible to have a simple
       map of missing picture ids as an entry cannot be deleted if an out-of-order
       picture id is received. There may be more missing packets belonging to that
       picture id that is yet to be received.
    
       So, have to use an ordered map and truncate the map if it grows too large.
    
       Picked this for ordered map - https://github.com/elliotchance/orderedmap.
       Has a simple API, had the highest number of stars of all the ones I checked.
       And there are benchmarks.
       The author also wrote a medium post at https://medium.com/swlh/an-ordered-map-in-go-436634692381
    
       Another one which I looked at is - https://github.com/wk8/go-ordered-map.
       The author of that wrote at https://morioh.com/p/990229f32171 and has a
       bunch of other options at the end of that post (but does not include the
       one I picked above). None of those have that many stars.
    
    Testing:
    --------
    - Set max temporal layers to 0 so that temporal filtering happens and run for
    an hour on sample app.
    
    * do not let padding packets through VP8
    
    * Correct comment
    
    * fix comment
    
    * Review comments from Jie
    
    * golang naming convention

commit fc52b18776a2f3a62319d83af426caa702dd9d95
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Nov 11 14:38:38 2021 +0530

    Try sending small key frames to clear decoded buffer (#179)
    
    * Try sending small key frames to clear decoded buffer
    
    Problem:
    --------
    With transceiver re-use, client disables/enables tracks.
    With video, this retains the last picture and when a new track
    starts, there is a brief moment when the old stream is displayed
    till there is data from new stream to decode and display.
    
    Fix:
    ---
    Send small key frames before closing DownTrack to try and clear
    the decoder display buffer.
    
    Testing:
    --------
    Tried with Chrome/Safari/Firefox and they worked. But, very rarely,
    the last frames do not seem to show up. In fact, 6 frames are sent
    and webrtc internals (in Firefox) reports anywhere from 1 - 6 frames
    at the small resolution. Unclear as to why it does not get all the
    frames or why it reports less than 6. A not so small percentage of
    times (maybe 1 in 15 - 20), have seen no small frame reported at all.
    
    TODO:
    ----
    - Have to support more video codecs
    - Would this be an issue for audio also? Should we send something to handle that?
      Probably not necessary as video is more jarring.
    
    * Make VP8 Key Frame a const
    
    * Need a packet factory buffer for simple tracks too
    as we are using the VP8 munger for simple tracks too because
    of the need to send blank frames at the end.
    
    Also, making the writeBlankFrameRTP a private function.
    And adding a check to not send blank frames if nothing has been sent
    on that DownTrack.

commit 0a769662aabe866da273979953f393aa6739781d
Author: David Zhao <david@davidzhao.com>
Date:   Wed Nov 10 15:07:49 2021 -0800

    Fixed multi-platform builds (#178)

commit 3ff3e91165979309cffa800763a1e2983fbf095b
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Nov 11 03:42:14 2021 +0530

    Update pion/rtp and pion/webrtc to the latest (#182)
    
    * Update pion/rtp and pion/webrtc to the latest
    
    * introduce additional delay to fix test reliability
    
    Co-authored-by: David Zhao <david@davidzhao.com>

commit 9336a0dab515ed7295f1bad8287334967af54460
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Wed Nov 10 14:11:44 2021 -0800

    health check depends on updated stats (#183)

commit fbc0d43f4fa03d14202a2583b0a1a09329c6de86
Author: David Zhao <david@davidzhao.com>
Date:   Tue Nov 9 21:51:59 2021 -0800

    Remove unused replace in go.mod

commit 94aec3b98d2c2bbba55393c011675d3811cc0fa2
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Tue Nov 9 17:19:46 2021 -0800

    Node updates stats with KeepAlive message to self (#177)
    
    * node sends KeepAlive message to self
    
    * use WriteRTCNodeMessage instead of participants[0]

commit 01cf22f2c4149bb73886d87bae0fe6e2d6fcaf64
Author: David Colburn <xero73@gmail.com>
Date:   Tue Nov 9 09:33:21 2021 -0800

    remove error message

commit 8b7a776af66289d1163c2d7f4b0b59f4c5191656
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Tue Nov 9 17:15:14 2021 +0800

    Remove unused files (#174)
    
    * remove unsed files from ion-sfu
    
    * remove comment code
    
    * go mod tidy

commit bf46e998b236f2b04090292187b9bf041855c700
Author: David Colburn <xero73@gmail.com>
Date:   Tue Nov 9 00:06:07 2021 -0800

    Sfu/buffer stats for telemetry (#173)
    
    * more buffer stats for analytics
    
    * update names
    
    * fix jitter and lost rate
    
    * don't return on participantLeft if they never published

commit c5830f9060d6b66ceeee36a5e3e067e0fc300053
Author: David Zhao <david@davidzhao.com>
Date:   Mon Nov 8 20:56:53 2021 -0800

    add ion-sfu NOTICE

commit 749446274f3bf6cbb27393dba0ad1f81397ab5fe
Author: David Zhao <david@davidzhao.com>
Date:   Mon Nov 8 20:47:41 2021 -0800

    Use time.Unix instead of UnixMilli (for Go 1.15 compat)

commit 1e1aaeb86bcfd6b3ebaf84a49968dfd0a4754d0a
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Tue Nov 9 12:03:16 2021 +0800

    Separate from ion-sfu (#171)
    
    * Separate from ion-sfu
    
    changes:
    1. extract pkg/buffer, twcc, sfu, relay, stats, logger
    
    2. to solve cycle import, move ion-sfu/pkg/logger to pkg/sfu/logger
    
    3. replace pion/ion-sfu => ./
    reason: will change import pion/ion-sfu/pkg/* to livekit-server/pkg/*
    after this pr merged. Just not change any code in this pr, because it
    will confused with the separate code from ion-sfu in review.
    
    * Move code from ion-sfu to pkg/sfu
    
    * fix build error for resovle conflict
    
    Co-authored-by: cnderrauber <zengjie9004@gmail.com>

commit 289ebd32ff41577f5480e69acd5f1b2303009e85
Author: David Colburn <xero73@gmail.com>
Date:   Mon Nov 8 18:00:34 2021 -0800

    Telemetry refactor (#172)
    
    * telemetry refactor
    
    * fix imports
    
    * update protocol

commit 834446662981ae3154de335d6461c05e31302d7f
Author: David Zhao <david@davidzhao.com>
Date:   Sun Nov 7 21:10:40 2021 -0800

    Delete unused code

commit ac004e7fb0d19af0d3294de14145a937756ffec0
Author: David Zhao <david@davidzhao.com>
Date:   Thu Nov 4 22:30:57 2021 -0700

    v0.14.0

commit 6a80beedfca6e7f96c1bef8b28406714f7942f82
Author: David Zhao <david@davidzhao.com>
Date:   Wed Nov 3 23:09:25 2021 -0700

    Only send connection quality updates for protocol 5+

commit aa9534b7fb288bd7fdde260d9ff5fd06ae4ecc69
Author: David Zhao <david@davidzhao.com>
Date:   Wed Nov 3 21:05:20 2021 -0700

    Server-driven connection quality detection (#167)

commit 862a212b931a2f6f88966a7cbe3c47c081436c34
Author: David Colburn <xero73@gmail.com>
Date:   Wed Nov 3 13:11:44 2021 -0700

    idOrName -> name (#169)

commit 45aeafd3afaad0b52f391a32c034a2f2e31ff319
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Tue Nov 2 14:05:52 2021 -0700

    more room logging

commit 05c4df4e23596f60e6ad20216a3d7acef7dedc68
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Tue Nov 2 14:02:45 2021 -0700

    Room logger with room name (#165)
    
    * room with logger
    
    * participant with room logger
    
    * transport with room logger
    
    * simplify room logger usage
    
    * simplify logger
    
    * update protocol
    
    * more room logging, test fix

commit 5e0833a2509f253f0c1529ba65eb0038b6c2b6d4
Author: David Zhao <david@davidzhao.com>
Date:   Mon Nov 1 12:14:11 2021 -0700

    v0.13.7

commit 7442551ae5bab8f40e1c33990cc70a6d21abfe26
Author: David Zhao <david@davidzhao.com>
Date:   Sun Oct 31 15:20:46 2021 -0700

    Fix missing participant updates race (#163)
    
    * Fix faulty participant update buffering.
    
    * Fix bug with broadcasting out of order
    
    * dedicated participant update worker, without locks
    
    * use tracker to drop duplicate/out of date messages
    
    * additional lock around filter logic

commit f3e916e2fe90f8ab3443374a880184908b35045f
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Thu Oct 28 21:02:17 2021 -0700

    Room Allocator Interface (#161)
    
    * room allocator interface
    
    * remove wire bind
    
    * fix test

commit 0898c17e8ada385da467044bc047f97248aa9428
Author: David Zhao <david@davidzhao.com>
Date:   Thu Oct 28 21:01:05 2021 -0700

    Select video quality using provided dimensions (#158)

commit e49ae5d02d7a37c67c757e0d4b2bcc3d9ce95b24
Author: David Colburn <xero73@gmail.com>
Date:   Tue Oct 26 14:41:56 2021 -0700

    bump version

commit 6d2f75fab692868d015a4efc3e4842a1f2fdb7af
Author: David Colburn <xero73@gmail.com>
Date:   Tue Oct 26 14:31:39 2021 -0700

    update protocol

commit 4789ae4c7d6d98771f80f245dc06cf99ab264ff6
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Oct 25 21:25:46 2021 +0530

    Fix interface duplicate definition. (#157)
    
    Got the following error on a fresh install
    ```
    wire: /root/ws/livekit-server/pkg/service/interfaces.go:35:2: DeleteRoom redeclared
    wire: /root/ws/livekit-server/pkg/service/interfaces.go:38:2:   other declaration of DeleteRoom
    wire: generate failed
    Error: exit status 1
    ```
    Probably something from the latest `wire` version.
    
    After consulting David, removing the duplicate.
    
    Testing:
    --------
    - Server builds and runs. Client is able to connect.

commit 1f643dc96bca9ee7c941634962fbc887326ceeff
Author: David Colburn <xero73@gmail.com>
Date:   Thu Oct 21 15:11:43 2021 -0700

    remove SignalRequest_Simulcast (#154)

commit c680c2465d797f2c26bd21607afec666015bfd42
Author: David Colburn <xero73@gmail.com>
Date:   Thu Oct 21 14:36:53 2021 -0700

    update protocol

commit e0e46e079d1111fe2472ca63aa9b2aa939199479
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Oct 21 12:50:07 2021 +0530

    Prevent missing entry in pending tracks (#152)
    
    * Prevent missing entry in pending tracks
    
    Problem:
    --------
    A track received via signalling request `AddTrack` is stored
    in `pendingTracks` of participant. A MediaTrack is created
    when `onTrack` fires after `SetRemoteDescription`. At that
    time, pending tracks are searched to find a matching track
    and look up an already published MediaTrack.
    
    This is because `onTrack` fires once for every layer of
    Simulcast and MediaTrack abstraction is for a media track and
    not one for every layer of Simulcast track.
    
    To accomplish that, pending tracks are cleaned up 5 seconds
    after the MediaTrack is created. The theory there is that
    `onTrack` will fire on all layers within 5 seconds. But, have
    observed several instances on my slow machine of that firing
    after 5 seconds which results in the search failing and we end
    up creating a new MediaTrack.
    
    The above is probably the reason (I am guessing though) for
    subscriber PC having an extra m-line some times.
    
    Considered fix:
    ---------------
    One possible option is to increase that 5 seconds timeout to a
    very large value. But, it has another issue.
    
    `getPendingTrack` is given the track id which comes in the SDP.
    
    Entries are added to the pending tracks using track id received
    via the `AddTrack` signalling message.
    
    And those two need not be the same. Especially Firefox has different ids
    every time. Not sure if that is something we do on client side which
    causes that, but it does look like a real possibility.
    
    To handle that case, `getPendingTrack` looks up tracks by media kind
    (audio/video) if the look up by SDP client id fails.
    
    Here, it is possible that there are two pending tracks of type video
    (think camera and screen sharing as an example) and looking up by kind
    might end up picking the wrong one.
    
    Fix:
    ----
    Store the signalled client id and SDP client id in the MediaTrack and
    look up the published tracks by SDP client id for a track match.
    
    If there is no match, create a new MediaTrack and add it to publishedTracks
    and delete the corresponding pending track all within the lock (yeah not
    great to have a lot of code within the lock, but this is probably worth
    it to have the correctness).
    
    This does solve the issue of deferred pending track removal causing issues.
    
    However, note that kind based look up may do some switching. In a scenario
    where there are two pending tracks of kind video and the look up has to
    rely on kind, it is possible that signalCid and sdpCid get cross matched
    (i. e. client might have sent a signalCid for a Simulcast track, but during
    kind based look up it gets assigned to a non-simulcast track). I think
    that is okay as there is no strong correlation between the two.
    
    Testing:
    --------
    - Connect from Chrome, Firefox (both orders, Chrome joining first, Firefox joining first) and ensure that media subscriptions and publishing are correct
    - Ensure that DTX munging works properly too.
    
    * Fix tests
    
    Add back adding track to publishedTracks for testing purposes.
    
    * Add a test to check case of `AddTrack` rejecting already published track
    
    * Remove debug.
    
    * Address PR comments - do not need to return SDP cid from `getPendingTracks`.

commit 3f0d1ff0ce464e9924d60180d29351c18e07552e
Author: David Zhao <david@davidzhao.com>
Date:   Tue Oct 19 23:22:55 2021 -0700

    v0.13.5

commit 86d7fe82410fdd1e52a23da90d44b8a468ded053
Author: David Colburn <xero73@gmail.com>
Date:   Tue Oct 19 17:56:34 2021 -0700

    take iceServers out of room (#151)

commit 833e497f3738f7b6d725a9b946589b7595646b7f
Author: David Zhao <david@davidzhao.com>
Date:   Tue Oct 19 17:27:32 2021 -0700

    Pass TrackInfo entirely to ensure fields aren't missing (#150)

commit 2d76c672e3559cdfe7ca8a29646f2bad02a85e4c
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Oct 19 23:46:04 2021 +0530

    Use `abs-send-time` RTP header extension for video downstream (#149)
    
    - Update ion-sfu to v1.20.14
    - Enable `abs-send-time` for video tracks
    
    Reference: ion-sfu PR - https://github.com/livekit/ion-sfu/pull/12
    
    Testing:
    --------
    - Look at SDP offer in subscriber PC and ensure that abs-send-time is negotiated.
    - Ensure that downstream packets have `abs-send-time` extension for video packets.
    
    TODO:
    -----
    - Not yet setting this for audio tracks. Eventually we want to move
    to TWCC. This is just a step along the way.

commit 0c8fe361b2c7213974d9aa042a344ff479c4b562
Author: David Colburn <xero73@gmail.com>
Date:   Mon Oct 18 19:49:16 2021 -0700

    Small refactor (#148)
    
    * small refactor
    
    * extra line
    
    * fix room allocator test
    
    * selector fakes not used
    
    * keep decisions out of router
    
    * put nodeId logic back
    
    * fix room allocator test

commit 1d626ba0533f8c81a7b1f4809f24ddd42abec56b
Author: David Colburn <xero73@gmail.com>
Date:   Mon Oct 18 14:14:27 2021 -0700

    Update turn (#147)
    
    * more generic turn server
    
    * public turn realm name
    
    * support turn cert itself in config
    
    * remove cert/key from config
    
    * double auth handler
    
    * generate
    
    Co-authored-by: Mathew Kamkar <578302+matkam@users.noreply.github.com>

commit 43079866a289bd8ca52cc26225958363e74ee711
Author: David Zhao <david@davidzhao.com>
Date:   Fri Oct 15 09:35:01 2021 -0700

    Update to Pion v3.1.5, fixed simulcast / non-simulcast mixing

commit 182c19e8e2ea102bdf7a292fe039595ccd39cdcf
Author: David Zhao <david@davidzhao.com>
Date:   Fri Oct 15 00:32:57 2021 -0700

    version v0.13.4

commit 81712f950212dfe02d740ef054e7b9508694716f
Author: David Zhao <david@davidzhao.com>
Date:   Fri Oct 15 00:31:57 2021 -0700

    revert to pion v3.1.0-beta.3
    
    mixing of simulcast and non-simulcast tracks is broken

commit eba0c23375a93d66263ff6d7fc7c77ca900a0d4a
Author: David Zhao <david@davidzhao.com>
Date:   Thu Oct 14 13:10:57 2021 -0700

    Handle TrackInfo.Source attribute (#146)
    
    * Support passing along Source attribute

commit d08646f17e82c342d614487b5c299b04f6afcbf8
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Oct 14 11:57:59 2021 +0530

    Reuse transceivers (#145)
    
    * WIP - Re-use transceiver
    
    * Support both old and new methods for adding transceiver

commit ac4db4575fd4103a02a8bdf1ced9650ae33f50ed
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Oct 13 11:22:33 2021 +0530

    LK-105 (Opus DTX) (#140)
    
    * LK-105 (Opus DTX)
    
    https://linear.app/livekit/issue/LK-105/allow-enabling-of-opus-dtx
    
    Enable/Disable Opus DTX using SDP answer based on setting in
    `AddTrack` request.
    
    Testing:
    --------
    Chrome and Firefox work. Having audio problems with Safari
    (maybe the Safari 15 issue as I am not getting media)
    
    * Check that receiver has no tracks
    
    * Skip non-audio transceivers
    
    * A small clean up to not use pendin track outside lock and also append with spread
    
    * Address comments from review by David
    
    * Update pkg/rtc/participant.go
    
    Co-authored-by: David Zhao <david@davidzhao.com>
    
    * Pull in tagged version of webrtc and lk protocol
    
    Co-authored-by: David Zhao <david@davidzhao.com>

commit 84ab0f82afb1b1efe7670a99fe114e32a6962ec9
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Tue Oct 12 15:22:17 2021 -0700

    Prometheus counters for RTC connection steps (#143)
    
    * signal ws connection, participant join, ice connection
    
    * must register
    
    * offer negotiation
    
    * dz review: offer and offer_response
    
    * dz review: answer

commit 4149c4a3141f3f56b37bbd88c23d73e536494073
Author: David Zhao <david@davidzhao.com>
Date:   Sun Oct 10 22:52:51 2021 -0700

    removed duplicate region log

commit 03342efe4fd31c1ad32efd228521968ddc6f0e0f
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Mon Oct 11 07:37:31 2021 +0200

    Test improvements (#136)
    
    * Fix "ineffectual assignment" linter warning
    
    * Simplify TestClientCouldConnect
    
    * Simplify range expression

commit 575b99840aeb3e6be0aaeeb6e22ccd5eafc804e0
Author: David Zhao <david@davidzhao.com>
Date:   Sun Oct 10 22:25:29 2021 -0700

    Fixed handling of multiple nodes in region-aware routing

commit 822f8c3944da0fa34804798aed818c612d4a1998
Author: Brint E. Kriebel <github@bekit.net>
Date:   Sun Oct 10 22:21:37 2021 -0700

    Region Aware node selection fixes and enhancements (#141)
    
    * cli: Allow setting the current node region with flag or env variable
    
    Also add region to "starting LiveKit server" log.
    
    * routing: Add region to node registration
    
    Register the node's region on the selected router so it can be used for
    region aware node selection.
    
    Also add the region to the list-nodes output.
    
    * regionaware: Set minDist to zero for the current node
    
    If you don't set the minDist when leaving the loop early for a node that
    matches the current region, the minDist value with still be at max. This
    causes the the wrong node to be selected if the current node is the
    first one the loop passes through.
    
    Add a test that validates this change. The new test fails if this new
    change is not in place.

commit 8ff18e0326ff15e6643ee2896e051ea2ce41d372
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Mon Oct 11 12:56:13 2021 +0800

    forward fraction lost from subscriber to publisher (#142)
    
    Co-authored-by: cnderrauber <zengjie9004@gmail.com>

commit 72bd39410658fa79be1f5cf336afc8f4c924fee8
Author: David Colburn <xero73@gmail.com>
Date:   Sun Oct 10 13:27:37 2021 -0700

    v0.13.2

commit 3013139fa079a4e60a1f49561f997bf668f2baf9
Author: David Zhao <david@davidzhao.com>
Date:   Fri Oct 8 23:02:52 2021 -0700

    update link to deployment docs

commit b212fb9a9efe86eb268ee8108d0f5f26accb16fb
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Fri Oct 8 12:02:08 2021 -0700

    Prometheus counter for Signal/RTC messages (#139)

commit 2c9ef2f6bbdffe63a02406fbda4730bca25466e5
Author: David Colburn <xero73@gmail.com>
Date:   Fri Oct 8 11:44:41 2021 -0700

    Update recording service (#137)
    
    * update recording service
    
    * return empty for EndRecording
    
    * update protocol

commit f6f5602bc45310140678d8c00eb3b1acc66d29b3
Author: Russ d'Sa <russelldsa@gmail.com>
Date:   Thu Oct 7 15:50:18 2021 -0700

    consolidate on api key and api secret to describe our key pairs (#138)
    
    * consolidate on api key and api secret to describe our key pairs
    
    * tweak error message for the keys flag

commit 52e10ea31569df5f2e27b8ea4987da464cb74ac6
Author: David Zhao <david@davidzhao.com>
Date:   Wed Oct 6 22:24:09 2021 -0700

    handle nil MessageChannel

commit c745f0a31836180ca88d5704c7beaaa927c4f7e3
Author: David Zhao <david@davidzhao.com>
Date:   Wed Oct 6 21:40:04 2021 -0700

    Region aware routing (#135)
    
    * Region aware routing
    
    * update config, fix spacing on commented out lines

commit b0eca12ee87989a5aafa6a6e624c88ec59879818
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Tue Oct 5 10:47:55 2021 -0700

    Simple deployment to EC2 (#134)
    
    * aws ami
    
    * cloud-init from base ami
    
    * rename
    
    * readme and ubuntu cloud-init
    
    * nginx ssl termination
    
    * small readme fixes
    
    * nginx on ubuntu cloud-init
    
    * better default config, nginx websocket config
    
    * small change to readme
    
    * packer does not need to start services
    
    * standardize nginx config
    
    * path fixes
    
    * small fixes
    
    * end line return
    
    * move readme to docs repo
    
    * remove lk-image cloud-init and bake into ami

commit 4915692f7ce05385e248562c44c6e8073e7ea7f8
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Tue Oct 5 02:20:47 2021 +0200

    Refactor getConfigString (#133)
    
    * Add test for getConfigString
    
    * Refactor getConfigString
    
    * Increase connect timeout in tests

commit fb91dce30e5404f725bd6e159b90c7f8138e6e7c
Author: David Zhao <david@davidzhao.com>
Date:   Mon Oct 4 17:17:29 2021 -0700

    version bump v0.13.1

commit 797d2607c45e6986a74ef23c98ab26183687aa6a
Author: David Zhao <david@davidzhao.com>
Date:   Mon Oct 4 16:59:36 2021 -0700

    Fix NACK handling in simulcast (fixed in ion-sfu)

commit 1c122729275686d0cd568e358bec004b51a90d04
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Mon Oct 4 22:07:38 2021 +0200

    Refactor singlenode_test.go (#131)
    
    * Fix typo
    
    * test: move client creation to where it is used
    
    * Refactor TestAutoSubDisabled

commit 939ed10ca6be1d9852cb6ef7ef13136920b6929a
Author: Tho Monnom <theo.monnom@outlook.com>
Date:   Sun Oct 3 07:08:29 2021 +0200

    Room Metadata Implementation (#126)

commit cdb04248fb0af7c167d7c168142597d5d831d524
Author: David Zhao <david@davidzhao.com>
Date:   Fri Sep 24 14:12:35 2021 -0700

    Fixed reconnection for single node
    
    It does not yet support resuming the session.

commit d83b7b543d28e6a98d1737be8a7318346779c8fc
Author: David Colburn <xero73@gmail.com>
Date:   Wed Sep 22 13:48:37 2021 -0700

    update protocol

commit 4fe3c07bb0078c04ca5c906adfb6b82e9c8715e6
Author: David Zhao <david@davidzhao.com>
Date:   Tue Sep 21 23:26:22 2021 -0700

    version bump 0.13.0

commit 347bf0345a572f64e1ddd38b6a7f94072f275672
Author: David Colburn <xero73@gmail.com>
Date:   Tue Sep 21 21:46:25 2021 -0700

    Recording webhooks (#125)
    
    * dump
    
    * update protocol
    
    * const
    
    * regenerate wire
    
    * message bus nil check
    
    * nil message bus if no redis
    
    * start and stop rec service

commit 3ed3afad2cf0ce1d2ae02adcffdcac688536a905
Author: David Zhao <david@davidzhao.com>
Date:   Fri Sep 17 16:25:47 2021 -0700

    Recognize Go client in parsing

commit c4c14785bec6e89ea91331a128f241036978a992
Author: David Colburn <xero73@gmail.com>
Date:   Fri Sep 17 11:57:06 2021 -0700

    let the room manager delete from router and store (#121)

commit ff473018204e1f51d8d419eef72efefc657bad74
Author: David Zhao <david@davidzhao.com>
Date:   Fri Sep 17 11:47:13 2021 -0700

    Implements protocol 3 speaker updates (#120)
    
    * Disallow AddTrack from participants that don't have the permission
    
    * Support protocol 3 speaker updates, client info
    
    * update protocol
    
    * Disallow AddTrack from participants that don't have the permission
    
    * increase wait time for GH to pass

commit abde72a907f4f5598086af7934cd91501d60fc31
Author: David Colburn <xero73@gmail.com>
Date:   Thu Sep 16 23:29:29 2021 -0700

    Remove room manager from room service (#119)
    
    * start splitting
    
    * room allocator
    
    * remove room manager
    
    * Update pkg/service/roomallocator.go
    
    Co-authored-by: David Zhao <david@davidzhao.com>
    
    Co-authored-by: David Zhao <david@davidzhao.com>

commit 700a879c0b5568a1687a89d9aa5f9f960f4cb320
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Wed Sep 15 13:07:44 2021 -0700

    Redis Router graceful stop (#116)
    
    * prestop and hasparticipants in interface
    
    * add prestop function to existing routers
    
    * fakerouter prestop
    
    * update protocol version
    
    * read lock
    
    * redis router graceful stop
    
    * test fix
    
    * force stop

commit 20d0c0ca43bea50d61ec5805dcdd43843ab9bdd7
Author: David Zhao <david@davidzhao.com>
Date:   Tue Sep 14 15:50:34 2021 -0700

    Fix mute of simulcasted video tracks with < 3 encodings (#114)

commit 95a5e3ca85de1fb5a6a8a333412c6eca64ac9396
Author: David Zhao <david@davidzhao.com>
Date:   Sun Sep 12 00:25:36 2021 -0700

    Fix data publish test (#113)

commit 66997b37f9fb70dd4c65976be0b97801bbccb693
Author: David Zhao <david@davidzhao.com>
Date:   Sat Sep 11 23:33:35 2021 -0700

    improve reliability of data publish test

commit 976e61f10c9c8a7c52bcb4de47e34ba9a4c5d723
Author: David Zhao <david@davidzhao.com>
Date:   Sat Sep 11 23:18:20 2021 -0700

    more generous sleep workaround in test client, better logging

commit ceea024fdbf8bf5a1caa04f1b9b878c35696f0bf
Author: David Zhao <david@davidzhao.com>
Date:   Sat Sep 11 22:50:00 2021 -0700

    fix tests

commit e99ec0b339283f348f98e16f04e1b8fafdda9740
Author: David Zhao <david@davidzhao.com>
Date:   Sat Sep 11 22:27:17 2021 -0700

    Add tests to data publishing with protocol 3

commit 1bcaf9d0ea2681aadb6f60bfe42062f252903a42
Author: David Zhao <david@davidzhao.com>
Date:   Fri Sep 10 20:58:33 2021 -0700

    update test client to use protocol 3

commit 2d215f80b3436a091207123ddc444c77ed5b7238
Author: hn8 <10730886+hn8@users.noreply.github.com>
Date:   Sat Sep 11 04:34:46 2021 +0800

    Restore SetLogger (#111)
    
    - Fix buffer.NewBufferFactory: logger.GetLogger() has extra depth. Passing empty logger will use default logger set by serverlogger.SetLogger()

commit 614ede2edcf5f35ac3502766c63d62ce31a9ed06
Author: David Zhao <david@davidzhao.com>
Date:   Thu Sep 9 00:53:15 2021 -0700

    Supports client protocol 3 - subscriber as primary (#110)
    
    * use subscriber connection as primary whenever possible
    
    * backwards compat for data messages
    
    * bump protocol version

commit 2a3fb5f0e7c39592af52ef6cee5abb2e1f58d159
Author: David Colburn <xero73@gmail.com>
Date:   Thu Sep 9 00:45:42 2021 -0700

    move logging to protocol (#109)

commit 63bd531cc81062b8a970cffc43d814057afd197e
Author: David Zhao <david@davidzhao.com>
Date:   Sun Sep 5 15:05:21 2021 -1000

    version bump 0.12.5

commit e9ffbefa7030c66f5081f04df1d9c8683f61e983
Author: David Colburn <xero73@gmail.com>
Date:   Thu Sep 2 17:06:48 2021 -0500

    move recorder to msg bus (#108)

commit e82d50d717f074386af79260f18091e317a12bf1
Author: David Zhao <david@davidzhao.com>
Date:   Wed Sep 1 21:50:02 2021 -0700

    Send explicit message to clients for mute/unmute. (#107)
    
    * Send explicit message to clients for mute/unmute.
    
    * documentation in config

commit 4044c314b8a1fdf0ad6722249f68baf68f938139
Author: David Colburn <xero73@gmail.com>
Date:   Tue Aug 31 16:14:06 2021 -0500

    participant key (#106)
    
    * participant key
    
    * update fake router
    
    * WriteRTCMessage
    
    * move sink closing
    
    * unused code

commit eb6e763e8d8f892c4a2dbc228c72bc1192771aea
Author: David Colburn <xero73@gmail.com>
Date:   Mon Aug 30 23:27:04 2021 -0700

    use request context in rtc service

commit d8825424916232f8622e097840983989c18d6257
Author: David Zhao <david@davidzhao.com>
Date:   Mon Aug 30 22:56:15 2021 -0700

    links to Flutter SDK

commit 1f1eea383fa210b74dc73bffca464f3e963adc4c
Author: David Colburn <xero73@gmail.com>
Date:   Mon Aug 30 20:31:24 2021 -0500

    add ctx to interfaces (#105)
    
    * add ctx to interfaces
    
    * use existing context

commit 1e10d440c89072ac864bd976e73923e0f5038b36
Author: David Colburn <xero73@gmail.com>
Date:   Mon Aug 30 17:03:39 2021 -0700

    export error

commit 2fd61531d2007363f02fe1b30dfed9efe1def787
Author: David Colburn <xero73@gmail.com>
Date:   Mon Aug 30 18:22:11 2021 -0500

    small refactor (#104)

commit 0bfd05c3b818f0b51721a1f35ef19561599b72fc
Author: David Colburn <xero73@gmail.com>
Date:   Mon Aug 30 17:18:18 2021 -0500

    move router room manager link (#103)

commit 397c5607a930f2e67919de8274c69bf215bec58a
Author: David Colburn <xero73@gmail.com>
Date:   Mon Aug 30 14:40:22 2021 -0700

    update sfu

commit 6a88bcc2d747584746c6173027b8e9e3ccfdc5ac
Author: hn8 <10730886+hn8@users.noreply.github.com>
Date:   Tue Aug 31 02:36:49 2021 +0800

    feat: support windows dev env (#101)
    
    Works in Git Bash and PowerShell in Windows 10

commit 32daa257bb51a279ce9b288ca1b8bdf8a3a61cb4
Author: hn8 <10730886+hn8@users.noreply.github.com>
Date:   Tue Aug 31 02:35:03 2021 +0800

    cleanup protoc (#100)
    
    https://github.com/livekit/livekit-server/pull/95

commit 69c1d4c2958eec4dcfa667be8a19a4c7a3270abc
Author: David Colburn <xero73@gmail.com>
Date:   Sat Aug 28 18:28:08 2021 -0500

    Interfaces (#97)
    
    * create interface
    
    * move room manager to interface
    
    * interfaces
    
    * updates
    
    * fix loop
    
    * fix fakes
    
    * remove node types

commit 455369563131a9faf9632ff5dda5542737264a12
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Fri Aug 27 13:15:02 2021 -0700

    get system stats from /proc only on linux (#96)

commit 7c30dbe97097292face49fba76d87c85bd6f864f
Author: David Colburn <xero73@gmail.com>
Date:   Fri Aug 27 11:17:41 2021 -0700

    remove docker copy proto

commit 8a44fad307202afe7f870569364205824f708615
Author: David Colburn <xero73@gmail.com>
Date:   Fri Aug 27 13:16:33 2021 -0500

    protocol 0.8 (#95)
    
    * protocol 0.8
    
    * merge new selector

commit c437152e2be70beff95d67e261876bd12af33285
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Thu Aug 26 15:24:39 2021 -0700

    NodeSelector using system load metric (#94)
    
    * use load when selecting nodes
    
    * Apply suggestions from code review
    
    Co-authored-by: David Zhao <david@davidzhao.com>
    
    * sysload selector test
    
    * wire nodeSelectorFromConfig
    
    * fix tests
    
    * Update pkg/routing/selectorsystemload_test.go
    
    Co-authored-by: David Zhao <david@davidzhao.com>
    
    * dz review: nits
    
    Co-authored-by: David Zhao <david@davidzhao.com>

commit 0a9d12bc352ddd3abf06ec42a4b55e318ed9f5d1
Author: David Colburn <xero73@gmail.com>
Date:   Wed Aug 25 13:49:34 2021 -0700

    v0.12.2

commit 22a5d4ec745e7eb95c870d460f52ae479d94f4ae
Author: David Colburn <xero73@gmail.com>
Date:   Wed Aug 25 13:48:41 2021 -0700

    update sfu

commit b95701c7da76682b5c806e8c7cacd7aa05f704a6
Author: David Colburn <xero73@gmail.com>
Date:   Wed Aug 25 13:42:02 2021 -0700

    update protocol

commit f9590afe1a44ba75b70e1b7740f1b6ee143afc8f
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Wed Aug 25 12:04:28 2021 -0700

    include packet and system info with node stats (#92)
    
    * include packet and system info with node stats
    
    * add more packet and system stats
    
    * revert magefile, clean up system stats error handling
    
    * update procol version
    
    * dz review: error return

commit f5466c74e64e5fd9abf7e6ac674a7282b809886a
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Tue Aug 24 10:14:39 2021 -0700

    list-nodes command action (#87)
    
    * list-nodes command action
    
    * refactor stats into a package
    
    * store existing stats in redis, more refactoring
    
    * dz review: atomic load

commit a8b0125e42bb88cbf7e449ffaf495418b06d150b
Author: PJC <qkrwncks593@gmail.com>
Date:   Tue Aug 24 03:41:29 2021 +0900

    support go 1.17 version when use bootstrap.sh (#91)
    
    * check go version with install
    
    * fix GO_TARGET_VERSION to 1.17
    
    * fix: version check error

commit 9016da1936dfb07d8cb3dc3d52d2880af7dc322b
Author: PJC <qkrwncks593@gmail.com>
Date:   Tue Aug 24 02:49:16 2021 +0900

    check turn domain and port range (#90)
    
    * check negative turn port
    
    * check turn domain
    
    * domain check test code

commit bcf6e15e070f28bbfdeeacaf61f66a077927473e
Author: David Zhao <david@davidzhao.com>
Date:   Thu Aug 19 18:11:48 2021 -0700

    SendData API & publishData permission (#88)
    
    * SendData Server API
    
    * SendData Server-API adjustments based on suggestions
    
    * Update proto version
    
    * enforce publishData permission
    
    * go mod tidy
    
    * fix go.mod
    
    * go mod tidy
    
    Co-authored-by: ChesterMing <89124853+ChesterMing@users.noreply.github.com>

commit 2ab37d8fccfba0b1946ecb71b48569dd2d5aca25
Author: David Zhao <david@davidzhao.com>
Date:   Mon Aug 16 14:14:19 2021 -0700

    v0.12.1

commit 29edf4e8d91d95ed8ce30447ac09f0f99f64d28a
Author: David Zhao <david@davidzhao.com>
Date:   Fri Aug 13 15:49:25 2021 -0700

    Improve dynamic simulcast, properly cleanup after pendingTracks (#84)

commit 5713731363d2cfad39a312d9b990ba25a7716b7f
Author: David Zhao <david@davidzhao.com>
Date:   Tue Aug 10 21:09:23 2021 -0700

    allow user to mute before track is fully published (#82)
    
    fixes https://github.com/livekit/client-sdk-js/issues/28

commit 896b28d45db1bb71b6351eec2323984c7b345d27
Author: David Zhao <david@davidzhao.com>
Date:   Mon Aug 9 23:58:44 2021 -0700

    v0.12.0

commit 6fe0d4bafcaa875f724d745709e22e7e50a93d89
Author: David Zhao <david@davidzhao.com>
Date:   Mon Aug 9 23:37:01 2021 -0700

    webhook type -> event

commit 9495646f1a99fbade8b33eee1de71a9dd8ddca3c
Author: David Zhao <david@davidzhao.com>
Date:   Mon Aug 9 09:57:37 2021 -0700

    webhooks support (#81)

commit 1f4288744c37da2ddf59c7fa9fb1c2afa2d1a5f5
Author: David Colburn <xero73@gmail.com>
Date:   Fri Aug 6 16:02:49 2021 -0700

    upgrade protocol

commit 6111b2d4f83dbab86d1ab4c0ad5391dede1c9963
Author: David Colburn <xero73@gmail.com>
Date:   Wed Aug 4 22:44:06 2021 -0500

    Recording apis (#78)
    
    * apis with auth
    
    * recording service
    
    * record permission
    
    * protocol 0.6.5
    
    * bump version

commit a53deecb826f00ac5bdf665d46ccdec4758ebaff
Author: David Colburn <xero73@gmail.com>
Date:   Tue Aug 3 00:19:19 2021 -0700

    revert recording apis

commit 24494e96fd02bcb0f86c888383d18ed6d77727eb
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jul 30 23:03:36 2021 -0700

    v0.11.4

commit b8e1cbe4f57ebbae6676d3c744f0ae0e3eb64965
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jul 30 21:29:19 2021 -0700

    fix: avoid placing user in a layer that's not published

commit c57e2860caa3c9aaf622800a15202273b1367bc7
Author: hn8 <10730886+hn8@users.noreply.github.com>
Date:   Fri Jul 30 01:19:40 2021 +0800

    fix: work around logr 1.0 WithCallDepth bug (#73)
    
    https://github.com/go-logr/logr/pull/58

commit a9c48511137f75ef4d54e33ca5fb53c5e8a379f7
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jul 28 21:33:34 2021 -0700

    Fix external IP discovery. fix LeaveRequest during server disconnect (#72)

commit 6fca5647fdd87a1f380ddb77db1bc92805dc3eb0
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jul 26 23:43:57 2021 -0700

    update protocol

commit 7f66ca0d64e358cc7e1d41151990aad6f755770e
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jul 26 22:41:51 2021 -0700

    v0.11.2

commit b00d5a02cb64826fd7e74e98e0a02c5ad244fb9c
Author: David Colburn <xero73@gmail.com>
Date:   Tue Jul 27 00:39:48 2021 -0500

    RoomRecorder (#70)

commit f8782fae3f471cfd6694b153351b3b4a05541e50
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jul 26 15:43:26 2021 -0700

    Send stun servers to clients (#69)
    
    * Send stun servers to clients
    
    * use TURN/UDP as STUN servers

commit d49d541a9ee1d80aa6060f9d787ee11f59b70405
Author: David Colburn <xero73@gmail.com>
Date:   Sat Jul 24 19:56:55 2021 -0500

    Add redis db to config sample

commit c682982af2551aab683d49fc3a4a47a0aed2bf2a
Author: hn8 <10730886+hn8@users.noreply.github.com>
Date:   Sat Jul 24 06:11:11 2021 +0800

    Update TLS port default as rfc5766 (#68)

commit 77ed742d502e629bb70b26587034a69226295776
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jul 23 12:43:14 2021 -0700

    update pion + ice

commit 47f4f514b95546f5847354cff12eee8e5c8cbe5d
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jul 22 22:03:58 2021 -0700

    version bump 0.11.1

commit 8e872881c152db6f06353d738eca44778cd06246
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jul 22 21:52:56 2021 -0700

    use receiver lb threshold option

commit f3a17a151f8641fe00851c2d047776f72d67677e
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jul 22 16:43:29 2021 -0700

    update ion-sfu

commit 834dce543b8216991c93680f3ecc3785493b4f66
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jul 22 11:06:23 2021 -0700

    fix participant APIs when using LocalRouter (#67)

commit d7be9096c652a223d879d4a15b3be515539e93dc
Author: David Colburn <xero73@gmail.com>
Date:   Tue Jul 20 17:23:06 2021 -0700

    persist hidden field to startSession

commit 4bab395ac970576e6bfa04affef8182a1d55c5eb
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jul 19 18:33:28 2021 -0500

    Hidden participants (#65)
    
    Enables hidden recording and/or forwarding participants

commit 87dfb2b117639550ee99c491088ecc92a4ac77c3
Author: hn8 <10730886+hn8@users.noreply.github.com>
Date:   Tue Jul 20 01:28:51 2021 +0800

    log: consistent log key (#60)

commit 06c44ca8f67a140e4a7fc045389af578abecedc0
Author: hn8 <10730886+hn8@users.noreply.github.com>
Date:   Tue Jul 20 00:21:59 2021 +0800

    feat: support UDP in TURN (#61)
    
    1. Add UDP option to TURN
    2. GetLocalIPAddress default to IPv4

commit c493022f0f71d80aa0fa46846ff497e5c12c01f7
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jul 19 09:16:01 2021 -0700

    fix force_tcp flag: don't set UDPMux when enabled (#62)

commit 99e9997d0afe87e3ee63cd7f70476e02e92bf6b6
Author: hn8 <10730886+hn8@users.noreply.github.com>
Date:   Mon Jul 19 12:28:09 2021 +0800

    feat: support SetLogger & SetLoggerFactory (#57)
    
    * upgrade logr to stable release v1.0.0
    
    * feat: support SetLogger & SetLoggerFactory

commit 7b05e2fb308bd54d6f2c32dd4dcf1cfda4ec0de0
Author: Andy Lindeman <andy@lindeman.io>
Date:   Sat Jul 17 13:14:52 2021 -0400

    Propagate err2 if not nil (#56)

commit 807b808c8eabf152669106bc9a86235f1d72f4d8
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jul 16 14:27:35 2021 -0700

    v0.11.0

commit 55eb654a1b394075a2f66476770adb469b801551
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jul 16 14:24:00 2021 -0700

    When adaptive-simulcast is used, allow subscribers to switch to the next available layer (#55)

commit e3fc3397ce2fbd0876f33a76f67bf82b110c84a6
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jul 15 18:36:54 2021 -0500

    move cors to middleware (#54)
    
    * move cors to middleware
    
    * check for nil url
    
    * remove snapshot

commit 53bc65285c9ba4130db2f058356721a2dbe00115
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jul 15 14:23:17 2021 -0700

    connection validation

commit 1ae7488fe3ccbe7916e202903a857bea58220959
Author: hn8 <10730886+hn8@users.noreply.github.com>
Date:   Fri Jul 16 03:33:48 2021 +0800

    feat: customize logger config (#53)

commit 4ce29799cfd4fc4e39d96b3dda62f1f547d3892f
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jul 13 22:32:38 2021 -0700

    remove H.264 profile 42001f. Safari (14.1.1) does not playback tracks offered in this profile

commit 53b52a67cad04a84b6a822d37da801d9c2617d6d
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jul 13 22:28:34 2021 -0700

    use protobuf for clients with protocol > 1 (#52)

commit 850fecf931c81ef044c5e6d8e8de8563245d7d43
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jul 13 21:35:08 2021 -0700

    Allow publishers to set layer availability (#51)
    
    * support client message to update active layers
    
    * update to match new protocol

commit a3cfebec687d859198514613631eb606b827714e
Author: David Colburn <xero73@gmail.com>
Date:   Tue Jul 13 13:48:22 2021 -0700

    remove old deploy script

commit 6fd5ce0d3e2da179aeccdec3b47894fa157444fc
Author: David Colburn <xero73@gmail.com>
Date:   Tue Jul 13 12:39:25 2021 -0700

    bump version

commit 5fdb6361cdbc48439cfb363a67bb8be5c88330bb
Author: David Colburn <xero73@gmail.com>
Date:   Tue Jul 13 14:05:25 2021 -0500

    Dev debug info (#50)

commit 0cf6efdae962cab71272f113b6d5a8684c1178cb
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jul 12 16:13:41 2021 -0700

    Remove ECS terraform from repo, updated README (#49)

commit d38fc43b895d4b7c714748c65ebc06a9e157d96b
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jul 12 14:50:14 2021 -0700

    Lock room creation to ensure atomic creation & node assignment (#46)
    
    * Lock room creation to ensure atomic creation & node assignment
    
    * more tests

commit c0bff83a36030aad6e9f1639c2d053a7480985bd
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jul 11 08:42:43 2021 -0700

    v0.10.5

commit a80e8cf69fdab4b4c52cbda63c02d7144d924739
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jul 11 08:42:11 2021 -0700

    Enable passing in local IP, refactored IP detection (#48)
    
    * Enable passing in local IP, refactored IP detection
    
    * update docker server instructions

commit 4c54234954181625fdc483dbde24d4efdac017db
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jul 9 15:51:09 2021 -0700

    Update docker instruction to forward ports

commit 50538db21facae385601cc36bd9e4b6a9e29978d
Author: David Colburn <xero73@gmail.com>
Date:   Fri Jul 9 10:49:21 2021 -0700

    update log keys

commit dcfe7eaf4f7f0961eb057d9ebb3c242ae41224f9
Author: hn8 <10730886+hn8@users.noreply.github.com>
Date:   Sat Jul 10 00:46:24 2021 +0800

    Enhancement: audio speakers (#44)
    
    * refactor: active speakers
    
    1. Observe the loudest adjusted with active ratio instead of linear average of decibel values
    2. Follow RFC6465 to convert audio level from decibel to linear value.
    3. Quantize audio level for stable slice comparison
    4. Switch moving average algorithm from MMA to EMA to have the same center of mass with SMA
    5. Minor: remove seenSids map allocation
    6. Minor: minimize division arithmetic
    
    * Update pkg/rtc/audiolevel.go
    
    Co-authored-by: David Zhao <david@davidzhao.com>

commit 1fd858a16bc407f8b95a6a11b0cadd6c9d9c7f70
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jul 7 23:40:58 2021 -0700

    fix layer-switch glitch with H.264 simulcast

commit 145f058eaa9a311c4958f6a35477e22e747d6a34
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jul 8 01:37:21 2021 -0500

    send leave when client reconnects on server restart (#43)

commit ec2d7a49cd6d97fd9c1d2423b4866fd63aaf3a93
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jul 7 15:08:00 2021 -0700

    v0.10.4

commit 76efe14c6d2d40a9c7d830850e3559ba63ba2fc5
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jul 6 21:43:03 2021 -0700

    ensure keys are not empty

commit 3eba7fe25cd49a1b31886e7663d05a4b2187d35a
Author: David Colburn <xero73@gmail.com>
Date:   Tue Jul 6 19:30:06 2021 -0700

    update twirp and pb

commit 4ec2959950c586cfe8a1dfd58af3df0d93008acf
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jul 6 15:08:46 2021 -0700

    Use discreet ports by default due to write bottleneck (#40)

commit 08e8827d5305d94d84967d461a25d18a4d27192c
Author: David Colburn <xero73@gmail.com>
Date:   Tue Jul 6 15:03:25 2021 -0700

    0.10.3

commit a17eb92ed74eb2f10f51ad7603274936c4d13154
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jul 5 16:06:12 2021 -0700

    update ion-sfu

commit 9e7ee342eec0416856be7a2a6fcb421405476ccc
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jul 5 14:51:26 2021 -0700

    updated readme with playground links

commit a3e96ea4e7fed70efae3060d05db63e3133161fa
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jul 5 11:59:41 2021 -0700

    update to upstream pion 3.0.30

commit 0625c7cc7249e44f0b877a56b4505c6c6884efda
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jul 5 11:01:24 2021 -0700

    update version to 0.10.1

commit d47a784dd1b5b38cbba072f1e49ef5772ed731c4
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jul 3 12:50:53 2021 -0700

    Fix broken links in readme

commit a694c825815679992e5d53b1dcdba0e8cf614765
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jul 3 12:46:56 2021 -0700

    publish to docker automatically on tag (#35)

commit 1ced03d72fb756fd3a115534a8e37be88faf312d
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jul 2 17:04:22 2021 -0700

    fixed failing tests

commit 42f4c773fbae5ac1c46d13e5cb9c59b7b5e78bae
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jul 2 16:55:26 2021 -0700

    v0.10.1

commit 67513611877c6a9763f56bc946f56d32756e87b7
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jul 2 16:54:54 2021 -0700

    Feature: codec restrictions.
    
    In order to ensure clients are publishing with compatible codecs, the server can enforce codec restrictions.

commit af310df2332792c387342879a2473421afc00bcc
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jul 1 19:02:18 2021 -0700

    0.10.0

commit 86c5460ed84441cfa685ff8dc18e40e083511afb
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jul 1 18:51:20 2021 -0700

    update docs link

commit d3822880a9e7471f882cafd4a6fbddd68fff2b07
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jul 1 18:26:24 2021 -0700

    rename livekit-sdk-go

commit a3c936c76cee8b49e91a6eb427a4df79510fe272
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jul 1 18:11:01 2021 -0700

    rename server-api-js

commit e543aaa98ac5003b604fef1b8d963f88ddde00df
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jul 1 17:00:49 2021 -0500

    turn server tls (#38)
    
    * tls
    
    * acm
    
    * use cert/key files
    
    * turn -> turns
    
    * turn cert config
    
    * updates
    
    * move panic
    
    * tidy
    
    * final updates

commit 4e6eafa63ca73ae22524a3ff5b1f5f00143f6934
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 30 15:14:58 2021 -0700

    for test environments, allow use of internal IP if external IP isn't available

commit cc30d2e0255dc6447b6b7599fd8f996874a0e06e
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 30 10:57:54 2021 -0700

    log error when creating new node (test)

commit fb7a6cf5679651f1438fdec4a081d52d5c6a9f41
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 30 10:49:47 2021 -0700

    Updated README with link to react, contributing info

commit 6d25bd0e9acca1002ae86e491e530da9a70065f6
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 30 10:32:29 2021 -0700

    Update issue templates

commit b05da63fc3c28e513fea3753023e6edd23929e28
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jun 28 16:22:51 2021 -0700

    send update on reconnect

commit 083e7cc86046019d1d3a97981b8b3ded216fbc65
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jun 28 15:49:17 2021 -0700

    Reduce default PLI throttle values, ion-sfu resync fix

commit 343aec98a00f4b992e3bde97b74eaf75f769a357
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jun 28 12:47:16 2021 -0700

    Remove STUN candidates, disconnect clients on ICE failed

commit 815fd5066d4c60494959cf7774c460c49639da02
Author: David Colburn <xero73@gmail.com>
Date:   Sat Jun 26 18:38:44 2021 -0700

    remove unconnected participants after 1m

commit c0c38f2e1dd3cc857797c904e9cb18915dd0d6fb
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jun 25 12:57:07 2021 -0700

    Fixed deadlocks with updated simulcast logic

commit 871ecd0366e1dae0f5efb51df4502a0f2a01924c
Author: David Colburn <xero73@gmail.com>
Date:   Wed Jun 23 22:01:23 2021 -0700

    best quality if < 10 subs

commit d8b96ac2c8c0c1b0d96386a43f5798be89281833
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 23 14:12:51 2021 -0700

    Room API to support selective subscriptions

commit 0c75924c73cb05eea366b579eb3c1efeec7db557
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 23 12:44:25 2021 -0700

    increase subscription debounce interval

commit eda5cfbfd5c14486e036f3c9c9c09fe4dd291bc7
Author: David Colburn <xero73@gmail.com>
Date:   Wed Jun 23 12:00:18 2021 -0700

    better pli throttling

commit 0ffb8a97e40eaf3beffba15306a6693ed5e0543c
Author: David Colburn <xero73@gmail.com>
Date:   Tue Jun 22 15:00:27 2021 -0700

    rtcpThrottle -> pliThrottle

commit 6b67ba4af0bbd2746ad5210e9b7e5fbe2e1290c1
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jun 22 14:41:38 2021 -0700

    docs around audio sample smoothing

commit 3b2b3a4929db7ceb28aaab25ea5e129fa2dc22ef
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jun 22 14:13:24 2021 -0700

    debounce track settings API to match client usage pattern

commit bc8becaff68f3221d17111f16002d84e5bbbb184
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jun 22 00:35:33 2021 -0700

    fixed logic error in speaker updates

commit f0d8b1c7eea5e51f4cd222bdb27661e7bbf2cda5
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jun 21 22:18:18 2021 -0700

    fixed bug in smoothing algorithm, fixed tests

commit d69e9f451ecffa4fd65ca578a98c36b7de3a95a3
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jun 21 18:14:20 2021 -0700

    Smooth audio levels by averaging over samples.

commit 5d2fb3c09abaf1e81e2542cd186c57024af313f6
Merge: 6161df3 eebc2f5
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jun 21 19:38:11 2021 -0500

    Merge pull request #37 from livekit/rtcp-throttling
    
    Rtcp throttling

commit eebc2f5acd3c316dd6dddd34a655f5f628d74f0e
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jun 21 17:13:58 2021 -0700

    add throttle config

commit 46ad247927b39d5b766d815255d3e7ae0fa4d8c0
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jun 21 16:16:13 2021 -0700

    fix addTrack

commit 31b4148052df70c70284e488d2ad3b7b18f29c03
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jun 21 15:54:42 2021 -0700

    don't send empty pkts

commit fee6f426bbaab21d6f340b53c4d414cc92d20fed
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jun 21 15:30:18 2021 -0700

    close rtcpThrottle

commit e4a460f30bda42c76a711cd4d6e1cf1dc6a4b5f2
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jun 21 15:08:49 2021 -0700

    nil checks

commit b17731506eff4bde82084a6226c4c0933672220b
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jun 21 15:06:58 2021 -0700

    add dep

commit 3748b6862e58908f2e7dc816c87b86911225b0a1
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jun 21 14:59:46 2021 -0700

    0.9.15-snapshot

commit ce3199b8b1249f4475b6b35f708b07ba018f9f83
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jun 21 14:57:26 2021 -0700

    throttle

commit 6161df344c6c68c54244c26da590379644e6baaa
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jun 20 21:27:39 2021 -0700

    0.9.14-snapshot

commit b12dc97a0c811b8b239ccaa1317aa204fc694f81
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jun 20 21:27:11 2021 -0700

    v0.9.13

commit 69290c535b254864790300bf5424db8b09b480b5
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jun 19 00:14:40 2021 -0700

    Send full update after joining when there are missed updates

commit 38c81e5645e41172673bad600c05d870a85c69fe
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jun 18 21:05:56 2021 -0700

    Support for video dimensions in publications (#36)
    
    * send back video dimensions
    
    * Store video dimensions in MediaTrack and forward in TrackInfo
    
    * use committed protocol

commit 515b1f0f7e2ce5c7bdf13eb4c080c638bd8bd158
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 17 23:31:17 2021 -0700

    exit downtrackRTCPWorker after disconnection

commit 6c5abde7d95770eeaecd82435e1cb496358e7ca4
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 17 23:14:05 2021 -0700

    snapshot version

commit 65d150328541a52fdd2a249087e98dc476c8ef2b
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 17 23:10:55 2021 -0700

    v0.9.12

commit b2201a7b3462f20992213fea74cf8ad785e69278
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 17 20:43:28 2021 -0700

    don't set PeerConnection callbacks, ignore the responses instead

commit e527a660968d2c4361f8d93defd8761bc05b09c0
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 17 16:17:08 2021 -0700

    endpoint to dump stacktraces

commit 089d1d366d61e1037773809426a0084922dc4606
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jun 17 22:33:26 2021 -0700

    move createOffer to goroutine

commit 6d6423c29dde0dee3b9466ea5794a26b9fd4ec2e
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 17 21:20:40 2021 -0700

    switch to forked version of pion

commit a914505cfb6b5ec6d68b6093f78bf02a1b4c35dd
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 16 13:41:43 2021 -0700

    snapshot version

commit 92d4f811745232707de9a5d2a8992252003b28ef
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 16 13:40:29 2021 -0700

    version 0.9.11

commit 3fad61b365c8604ebd9248c55cc8e64c5fe041b3
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 16 13:39:04 2021 -0700

    Fix "missing tracks" - always send participant updates

commit f30fe90d985fc66c281242930b6766bcf14766ce
Author: David Colburn <xero73@gmail.com>
Date:   Tue Jun 15 11:44:09 2021 -0700

    remove buffer close

commit 4f56d55d867b9bfe20982017a13c43afa8c21c45
Author: David Colburn <xero73@gmail.com>
Date:   Tue Jun 15 00:50:33 2021 -0700

    close rtp buffers

commit 2cecbad29d623b86e4745e81442089a44cb50431
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jun 14 22:53:29 2021 -0700

    fix: memory leaks with BufferFactory being held

commit 48a9971b3af3cd895d3f70d6fa8a115d2888a28b
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jun 11 14:43:20 2021 -0700

    generate protobufs before all else

commit 44488f078cdecf776f45a97f381a1aefb8c7ddc4
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jun 11 14:06:01 2021 -0700

    update docs link

commit 0cecd81906bdc5897e8b2efa83cf5eb55fb15817
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 9 17:50:12 2021 -0700

    fix negotiation timing issue, potential deadlock in ICE restart

commit b3e6bd10cfbe981a5800b0d018caf396c7ef785d
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 9 16:06:10 2021 -0700

    fixed potentially skipping offer in PCTransport
    
    this could explain the "missing" track problem when the server fails to send some tracks to some of the subscribers

commit b10d903d3e29530783a94bc50f5fc66809ccf2e7
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 9 14:16:48 2021 -0700

    fix: avoid deadlocks when participant closing, adapt to ion-sfu changes

commit db7d5fff52b21e19e45f385ca2c96797fe9fccd6
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 9 13:54:52 2021 -0700

    Test reliability - give time for HTTP server to start

commit 6278673b4667d93bd60e4c4e0c08699f854a7b2d
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 9 13:17:13 2021 -0700

    Fix test

commit 0098d61eff7f79092658dccbb6fc5de1c612d707
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 9 13:11:58 2021 -0700

    allow test to run on dispatch

commit abedc05ce595affa07d52ec517c3e963e8021cb5
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 9 12:31:29 2021 -0700

    Improve logging, hook up ion with zap logger

commit 321ebab99b3a50baf72b40d51ae5a4fcf590e116
Author: Tho Monnom <theo.monnom@outlook.com>
Date:   Wed Jun 9 21:14:14 2021 +0200

    Add the ability to send data to specific participants (#34)
    
    * UserPacket destination filter
    
    * Updated protocol to v0.5.2
    
    * Added DataChannel tests

commit bbf7f83784e376bafb3ac77ce22d5e0377629dbc
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 9 09:51:44 2021 -0700

    Improve integration test reliability, wait for RedisRouter to start

commit f6bafc4a01ae154f669357dea33b3a80fd24d11b
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 9 09:38:26 2021 -0700

    Fix deployment guide URL

commit 7173dcc1d193f565ca0a8ce684bf5ecfda7d6639
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jun 8 15:28:18 2021 -0700

    release read lock on AddSubscriber earlier

commit d2cadac2b3a1e3dac9438779298851d2fc79ec5c
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jun 7 22:35:00 2021 -0700

    deploy script

commit e77c819d1aba3eb47353db740c6c6ed90757cfbf
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jun 7 21:22:42 2021 -0700

    also increase send buffer size, 0.9.8

commit fc41e14bf3c8bd50aae0ebc4c74b239cd6a979ce
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jun 7 16:11:48 2021 -0700

    detect UDP buffer size w/o using original conn.
    
    if we get FD on the mux connection, the connection will be set to blocking mode and then hang when stopping

commit d949eaa99f77af4f43c9a0780d633eca79231168
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jun 7 14:59:30 2021 -0700

    set UDP read buffer size and info/warn during startup

commit 3765739c7f60f8ac962c39b2520892c999b80bf9
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jun 7 13:11:13 2021 -0700

    stats: Do not count incoming Nack/PLI as outgoing

commit 6fd0b8e0da0fa911e7bff70fec34b8a08d209a47
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jun 4 21:04:58 2021 -0700

    Updated access token doc link

commit 5e81982eb6a595a0d57eafab23635457235bbadf
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jun 4 20:50:11 2021 -0700

    version bump to 0.9.7

commit a3228c2ae96b90c1e694e6c513f18103bdb1df67
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jun 4 14:57:55 2021 -0700

    resolve data race conditions, code quality

commit 5baf97e99bc739a55acd88595b801d32fa463f60
Author: David Colburn <xero73@gmail.com>
Date:   Fri Jun 4 14:30:10 2021 -0500

    imports/inspections

commit c510ea2e1aa798fa2000c0b7fe00a114d042cb0f
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jun 4 12:26:23 2021 -0700

    Fix race condition with Transport negotiations

commit bf281b19943c9f335c70139ee89bde1124e47a88
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jun 4 11:19:23 2021 -0700

    Simplify test helpers, cleanup redis between tests

commit f3006d397bad3ad522323343a087da974a95a527
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 3 23:22:19 2021 -0700

    update license & readme

commit 1aca86393a4064669684d90abb9449575dafba1b
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 3 23:15:32 2021 -0700

    version bump to 0.9.6

commit 59a27d20c3259bfaf27f43c5d10521bfe52ab914
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 3 23:04:19 2021 -0700

    improve test reliability, fully close rooms during server shutdown

commit 9b39349aeba0664b6f49e63298035786f069bbf4
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 3 22:40:20 2021 -0700

    increase timeout for GH CI

commit 24919d8ccb76127285ef98f57fa9c5f5ff331eaa
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 3 22:31:31 2021 -0700

    working CI test workflow, more reliable transport_test

commit 8f46e0f4da77830bc7c5df891e9fa33f195a696e
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 3 20:50:31 2021 -0700

    set up CI

commit 0416299e02f8790806ae936a56600a27a46f8afc
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 3 15:46:41 2021 -0700

    fix sender report batching to not exceed MTU

commit 855217bd1cade58b996ecbeddd41ff544fa6cbf8
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 3 11:38:45 2021 -0700

    Seed random number generator

commit 474d7d7a5497633150ccb086aa83a9cf903f50cb
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 3 09:36:41 2021 -0700

    also include protoc-gen-go in tools, locking version during bootstrap

commit 69b94e1142e3e59470bbad0f25e73fa54a972520
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jun 3 01:57:43 2021 -0500

    error logging

commit 5d85257577d27fc75f679a8194f21b26c74ec82d
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 2 22:56:58 2021 -0700

    install/update proto-gen tools in bootstrap

commit f7339ac4e3524a2b21d0cb853221fd80ee373781
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 2 22:19:02 2021 -0700

    version bump 0.9.5

commit 684691e1cd6b66f29912d727fb8b1c45fc7b9e73
Author: David Colburn <xero73@gmail.com>
Date:   Wed Jun 2 23:46:38 2021 -0500

    first commit

commit 9ca662f06e8710df8b053c31fdc7028b812c5d3d
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 2 16:43:43 2021 -0700

    fix deadlocks in track subscription

commit b769faaec5f7bbf7e0891fef73a95bb4ad58abcb
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 2 10:20:11 2021 -0700

    minor: better EOF detection

commit 0900054c245f5866e5cb854b8a8983f9e09d5c4c
Author: David Zhao <david@davidzhao.com>
Date:   Sat May 22 22:54:47 2021 -0700

    ability to disable auto subscribe per participant

commit 55d801d30b83b3a844a300346da936236dbf29bf
Author: David Zhao <david@davidzhao.com>
Date:   Fri May 21 12:18:55 2021 -0700

    update to ion-sfu v1.10.3

commit 79e4151f8dd3d1b881e028899d4faf1ebac04bc1
Author: David Zhao <david@davidzhao.com>
Date:   Mon May 17 12:59:00 2021 -0700

    include protoc requirement in bootstrap & readme

commit ce0ebd72f17cea8d10dc59fad3a4bff5bb300602
Author: Feeps <feepsmail@gmail.com>
Date:   Mon May 17 20:44:23 2021 +0200

    Use bash in boostrap.sh to make pushd/popd work

commit 19e6909cbb2a40343efc7cb960cc8450e7b2a330
Author: David Zhao <david@davidzhao.com>
Date:   Mon May 17 11:00:34 2021 -0700

    fix restarting ICE log

commit 442b819af9a6e0cf470816192d657423b7bf79e0
Author: David Zhao <david@davidzhao.com>
Date:   Mon May 17 00:27:22 2021 -0700

    remove specific version from readme

commit e3854eaff4e9a8f645d125c0dc57103666393d25
Author: David Zhao <david@davidzhao.com>
Date:   Sat May 15 17:31:48 2021 -0700

    handle ICE restart and candidate gathering race

commit 6a99146c21136b5d0b056e93890c61483d9ade84
Author: David Zhao <david@davidzhao.com>
Date:   Fri May 14 22:50:45 2021 -0700

    skip ICE restart if subscriber not connected

commit 3a302e2b09285f8346ed18002c6afc922bb5f038
Author: David Zhao <david@davidzhao.com>
Date:   Fri May 14 22:04:09 2021 -0700

    version bump v0.9.2

commit ccb322c9c27e60b1f38bd7fc424235996830258e
Author: David Zhao <david@davidzhao.com>
Date:   Fri May 14 22:03:08 2021 -0700

    more reliable handling of ICE restart

commit c76cdf11c287e48be89daf153e6c625ab22e5901
Author: David Zhao <david@davidzhao.com>
Date:   Wed May 12 23:52:41 2021 -0700

    add tests to ensure subscriber cleanup

commit bbadd4ccb6ad418fb60dc9355d411ca6ffd3400a
Author: David Zhao <david@davidzhao.com>
Date:   Wed May 12 23:40:41 2021 -0700

    properly cleanup downtracks on subscriber disconnect

commit 447f2d589bf5564c247b108f3f8491a5a74cc534
Author: David Zhao <david@davidzhao.com>
Date:   Wed May 12 09:04:46 2021 -0700

    correctly subtract subscribed tracks

commit 681010072c29de333d104926f028167dbfb9b776
Author: David Zhao <david@davidzhao.com>
Date:   Tue May 11 22:04:59 2021 -0700

    support for exposing stats via prometheus

commit a8eba51c3304a9f4b5e2ef0c3684eb203ee38a59
Author: David Zhao <david@davidzhao.com>
Date:   Tue May 11 12:46:40 2021 -0700

    moved protocol to docs repo

commit 9616149a88a451a71ee411b078b4d914aff0eec9
Author: David Zhao <david@davidzhao.com>
Date:   Tue May 11 00:31:18 2021 -0700

    collect inbound and outbound packet stats

commit 23238898ed987764e013cdb2469cc3f9fc06dce9
Author: David Zhao <david@davidzhao.com>
Date:   Mon May 10 15:06:39 2021 -0700

    update dependencies

commit f01fee03c3dda9ab6025257b8a786f624d329a94
Author: David Zhao <david@davidzhao.com>
Date:   Mon May 10 13:49:10 2021 -0700

    default to not map external IP.

commit 642e696456fdc5414e3fd69bab2fb26454d8337f
Author: David Zhao <david@davidzhao.com>
Date:   Fri May 7 13:56:28 2021 -0700

    updated readme

commit d399a57a7b1dbac3d06ac0aac6e4da68402a3f4d
Author: David Zhao <david@davidzhao.com>
Date:   Fri May 7 01:16:33 2021 -0700

    Removed cli, mux cleanup, docs update

commit 933bdb9a2fd04b5ce6f02f0a6e88025b7ae15410
Author: David Zhao <david@davidzhao.com>
Date:   Thu May 6 12:39:14 2021 -0700

    removed generated protos from repo, utilize gomod dependency

commit f60b35680744cbedf96a3129fd5a5a3b4682f86a
Author: David Zhao <david@davidzhao.com>
Date:   Thu May 6 00:10:23 2021 -0700

    don't hide trickle decode errors

commit 0eb29cc651967285fe8a9bb104bffa38000bcd1a
Author: David Zhao <david@davidzhao.com>
Date:   Tue May 4 15:39:06 2021 -0700

    also checksum go.mod

commit 7877bc6ecd259ca9b5803ad9938a1fe4adbc2301
Author: David Zhao <david@davidzhao.com>
Date:   Fri Apr 30 15:03:41 2021 -0700

    support for redis db

commit e1f23e6dbeece9b82e00392349e520ebb1666a34
Author: David Zhao <david@davidzhao.com>
Date:   Wed Apr 28 12:39:07 2021 -0700

    remove logs about sending lossy packet

commit 6b63cd5b311876784db45904ec4c2a51064eeb52
Author: David Zhao <david@davidzhao.com>
Date:   Tue Apr 27 22:02:59 2021 -0700

    Revamp data channels (#32)
    
    * support for built-in data channels. active speaker updates via data channel
    
    * fixed tests
    
    * update to Pion 3.0.27

commit 84ac0a718d95809f730b86236f71994499d404fc
Author: David Zhao <david@davidzhao.com>
Date:   Sun Apr 25 14:13:35 2021 -0700

    single port mode connectivity improvements, ICE v2.1.6

commit 342adee606c7106183d88e0741b651f5ebe6d11d
Author: David Zhao <david@davidzhao.com>
Date:   Thu Apr 22 11:28:57 2021 -0700

    udp instead of udp4

commit 2530fc9082d0e671b723c56e16e1a956a1f431cc
Author: David Zhao <david@davidzhao.com>
Date:   Wed Apr 21 22:38:35 2021 -0700

    version bump to 0.8.4

commit 0dddc3c0be6c1f45535b4c1fcd884b7c28756d27
Author: David Zhao <david@davidzhao.com>
Date:   Wed Apr 21 22:30:29 2021 -0700

    DeleteRoom now removes all participants in the room

commit 4725872884425fafe6d8e055a4c38864b15c6244
Author: David Zhao <david@davidzhao.com>
Date:   Wed Apr 21 22:05:16 2021 -0700

    Disconnect immediately when server initiated close

commit 92b92ad3de298e30ed6b1a3238c31ee98e1b3208
Author: David Zhao <david@davidzhao.com>
Date:   Wed Apr 21 21:52:56 2021 -0700

    Updated protocol protobufs

commit d6c155e060e722fbba7ed062fdd4168ef2a4870b
Author: David Zhao <david@davidzhao.com>
Date:   Wed Apr 21 21:52:31 2021 -0700

    set joinedAt when participant is created

commit 07e4ab0c2a31fc1a4ffea1aafa01db4c86697549
Author: David Zhao <david@davidzhao.com>
Date:   Wed Apr 21 21:30:16 2021 -0700

    Update to official single port in WebRTC

commit 99e6cae8dd433acfc8215686b74d45479b9357cc
Author: David Zhao <david@davidzhao.com>
Date:   Mon Apr 19 17:01:30 2021 -0700

    Update to UDPMux performance & race condition fix

commit 3b236f0d72000c7862f9a4ac282de497e27aa0a0
Author: David Zhao <david@davidzhao.com>
Date:   Mon Apr 19 16:51:20 2021 -0700

    handle client reconnect with ICE restarts

commit b8c9d05d3e33748a03e1801bb340c924e5935f19
Author: David Zhao <david@davidzhao.com>
Date:   Sat Apr 17 00:42:52 2021 -0700

    rollback ion-sfu 1.9.7, seeing a crash with simulcast participants

commit 1ef2fb8f4a5d6c755c3a63691f22cc51f6470037
Author: David Zhao <david@davidzhao.com>
Date:   Fri Apr 16 16:57:57 2021 -0700

    better startup logging

commit 53480b161121eee76f56603ba4aa4c87448301c6
Author: David Zhao <david@davidzhao.com>
Date:   Fri Apr 16 15:12:18 2021 -0700

    updated config documentation

commit 0fc0745c4c96dd1376d156352164170cbb2d1c34
Author: David Zhao <david@davidzhao.com>
Date:   Fri Apr 16 13:59:30 2021 -0700

    update dependencies, version 0.8.1

commit 93d10b26408c9e2f3e8e7be21babf9bc6460e60d
Author: David Zhao <david@davidzhao.com>
Date:   Fri Apr 16 00:56:25 2021 -0700

    Manual negotiation and plan-b support

commit 04f6b61ae15793ca71403f6a2814f2b783025680
Author: David Zhao <david@davidzhao.com>
Date:   Fri Apr 16 00:43:55 2021 -0700

    fix potential timing issue with order sequencing

commit 540d1c2e8c8a71fa2401f006efd81c8a1ae15342
Author: David Zhao <david@davidzhao.com>
Date:   Fri Apr 16 00:39:22 2021 -0700

    always allow ICE candidates, even before offer

commit e4238890ffbfa1cf7d368c1d96efbff8340a06c0
Author: David Zhao <david@davidzhao.com>
Date:   Thu Apr 15 17:03:22 2021 -0700

    Refactor/cleanup of negotiation path

commit 6c5bd4ce42c0ed2d7149a44f072e6f1da223dcf6
Author: David Zhao <david@davidzhao.com>
Date:   Mon Apr 12 22:46:29 2021 -0700

    ECS scripts to deploy single port mode

commit c2777cd5563c8cc2264c7231e84d896aec804a87
Author: David Zhao <david@davidzhao.com>
Date:   Mon Apr 12 22:25:13 2021 -0700

    single-port mode (beta)

commit 9a5188d6208a2bbd2a406fe75e92d3ba14454bb4
Author: David Zhao <david@davidzhao.com>
Date:   Sun Apr 11 00:01:06 2021 -0700

    update ECS deploy to turn on ICE TCP

commit 46f98896a144c0e933eef58f225281a238793243
Author: David Zhao <david@davidzhao.com>
Date:   Sat Apr 10 22:03:09 2021 -0700

    version 0.7.5

commit 54584d6e2e43f9b5903815eb4892e737339765b2
Author: David Zhao <david@davidzhao.com>
Date:   Sat Apr 10 21:57:35 2021 -0700

    support for Redis ACL with username/password pairs

commit 3bba717eb5ae4151becfbb4df56fac50ac3294ca
Author: David Zhao <david@davidzhao.com>
Date:   Sat Apr 10 21:53:50 2021 -0700

    Support for TCP-ICE, updated config documentation

commit e47754179cf632e7363719808bdd75d3936d939d
Author: David Zhao <david@davidzhao.com>
Date:   Sat Apr 10 10:58:12 2021 -0700

    disconnect participant when ICE connection fails

commit 90792586bb75902ffcdcbf72189755aeb5ce9088
Author: David Zhao <david@davidzhao.com>
Date:   Thu Apr 8 22:07:03 2021 -0700

    v0.7.4

commit 9aa6fc29f54059abafe4210f7fdbddfad490706d
Author: David Zhao <david@davidzhao.com>
Date:   Thu Apr 8 21:56:53 2021 -0700

    support immediate disconnect via Leave

commit b0b28e4499c940f214517d3ebfffb29d69a06cbf
Author: David Zhao <david@davidzhao.com>
Date:   Thu Apr 8 17:35:48 2021 -0700

    upgrade to pion v3.0.21, fixes to race condition adding/removing tracks that causes panic

commit b29bde4b87395fb3eeda67270f1b90a80cdb0d5c
Author: David Zhao <david@davidzhao.com>
Date:   Wed Apr 7 14:11:47 2021 -0700

    fixed RLock typo

commit 144351a89a262c5633b88d90e608b92a8075cfb3
Author: David Zhao <david@davidzhao.com>
Date:   Tue Apr 6 17:16:55 2021 -0700

    use RWMutex for router channel lookup

commit e940c5d8ab0c35c6cdd7aa0e9aba85e5c06ded64
Author: David Zhao <david@davidzhao.com>
Date:   Sun Mar 28 21:06:19 2021 -0700

    update to protocol v0.3.2

commit b90f851be53697f874f02a8444f5d07c7608a469
Author: David Zhao <david@davidzhao.com>
Date:   Sun Mar 28 21:05:20 2021 -0700

    return participant connected timestamps

commit 8da7b17b9549683109afecb8d53998b40cd3b5f6
Author: David Zhao <david@davidzhao.com>
Date:   Sat Mar 27 22:00:31 2021 -0700

    version 0.7.1

commit 75d7cb7a56f395099c835e374b14ea693a98bf52
Author: David Zhao <david@davidzhao.com>
Date:   Sat Mar 27 22:00:07 2021 -0700

    upgrade to pion 3.0.19

commit ef00a4d33cb59cb4d6a50786bcfc892101c9d1fc
Author: David Zhao <david@davidzhao.com>
Date:   Sat Mar 27 21:59:00 2021 -0700

    fixed tests

commit dfac44d59e59b86877d539d4345cc600a617aa78
Author: David Zhao <david@davidzhao.com>
Date:   Sat Mar 27 21:54:46 2021 -0700

    reduce reliance of funk, fixed bug getting subscribed tracks

commit cb963f1637e2100cf674120ede94fe4054a175e4
Author: David Zhao <david@davidzhao.com>
Date:   Tue Mar 23 18:07:04 2021 -0700

    logging port range on start

commit f337b777b4419e8b68bac15628a5c9d842ae07de
Author: David Zhao <david@davidzhao.com>
Date:   Sat Mar 20 22:31:59 2021 -0700

    version 0.7.0

commit fa5b32d3097a020c10b3c92d8bbc34bdb77439e1
Author: David Zhao <david@davidzhao.com>
Date:   Sat Mar 20 22:31:16 2021 -0700

    update to pion v3.0.17

commit 537edda4c3c679a3bc27da44f7ce9e2ff08d2c6f
Author: David Zhao <david@davidzhao.com>
Date:   Sat Mar 20 22:27:47 2021 -0700

    handle new UpdateParticipant API, enable permission updates

commit 6aee50b397b61873872160d2d4aafae22ba55d03
Author: David Zhao <david@davidzhao.com>
Date:   Fri Mar 19 23:27:22 2021 -0700

    fixed protobuf path reference

commit cbff51860769759bd73e8ce7cbbec2ebe9f9b946
Author: David Zhao <david@davidzhao.com>
Date:   Tue Mar 16 23:43:27 2021 -0700

    updated to ion-sfu 1.9.6

commit 0de53f9a336a456d80c9434d1d3a463c09101904
Author: David Zhao <david@davidzhao.com>
Date:   Tue Mar 16 22:31:09 2021 -0700

    updated tests for participant update

commit f7ed2cee60e4897f1df76e158fa8355086cbf800
Author: David Zhao <david@davidzhao.com>
Date:   Tue Mar 16 01:22:21 2021 -0700

    RoomService.updateParticipantMetadata, participant permissions

commit e04eaeb480a13aa7d1d05082563fde53569659fd
Author: David Zhao <david@davidzhao.com>
Date:   Mon Mar 15 18:35:26 2021 -0700

    cleaned up go.mod

commit 093d99b0107d8a199a26a03c83e1656cbf15cdf5
Author: David Zhao <david@davidzhao.com>
Date:   Mon Mar 15 11:42:57 2021 -0700

    update dependencies, minor fixes

commit 98013ac20f9753360b08bf50a3c8a7f0d25fc2fa
Author: David Zhao <david@davidzhao.com>
Date:   Mon Mar 15 11:06:26 2021 -0700

    /rtc responds to only websocket requests. Fixes #25

commit 9b2c2f351c44c2bbfcdefad82f3c7dd5f2fb0e54
Author: David Zhao <david@davidzhao.com>
Date:   Mon Mar 15 10:57:15 2021 -0700

    support clients that use binary protocol, 0.6.1

commit 7d02c01fd86142118117d81b8e55982c6cc70d8e
Author: David Zhao <david@davidzhao.com>
Date:   Sat Mar 13 22:01:51 2021 -0800

    refactor - moved common code to livekit/protocol

commit e20c831c1405dc5e6c0fe34a6dea0483782fb9a4
Author: David Zhao <david@davidzhao.com>
Date:   Sun Mar 7 23:30:21 2021 -0800

    automatic configuration of TURN, with per-room credentials. version 0.6.0

commit 048cdf9751626e55ce5718cde76d7ada06413987
Author: David Zhao <david@davidzhao.com>
Date:   Sat Mar 6 23:15:16 2021 -0800

    ignore generated file from git

commit fa2ffa46e7e6503174ed0dacbf6d28e78072385d
Author: David Zhao <david@davidzhao.com>
Date:   Sat Mar 6 22:47:48 2021 -0800

    Embedded TURN server

commit 2008a2e1e1382d60f581970634a270072ff51674
Author: David Zhao <david@davidzhao.com>
Date:   Thu Mar 4 09:25:12 2021 -0800

    update to pion 3.0.13, with codec matching fixes

commit 6f522276dd970cab45a0cf4798445af49fe0f3b2
Author: David Zhao <david@davidzhao.com>
Date:   Tue Mar 2 20:41:48 2021 -0800

    version 0.5.7, updated to ion-sfu 1.9.3 for receiver NACK fixes

commit efc55b04c3f2fd59ba7061e2fb89a5d495adb066
Author: David Zhao <david@davidzhao.com>
Date:   Tue Mar 2 01:37:01 2021 -0800

    updated to correct pion fork

commit 458eff1922f93404183d44b849ac45b666fe4909
Author: David Zhao <david@davidzhao.com>
Date:   Tue Mar 2 01:11:42 2021 -0800

    version 0.5.6

commit ddfddfff53eaee340cce00f99983f9d42c015cb4
Author: David Zhao <david@davidzhao.com>
Date:   Tue Mar 2 01:10:34 2021 -0800

    fixed mismatched codec type in pion, increase message chan buffer to avoid overflow during message handling

commit 5612c0783f955b812e9b20cd56889e140f0fd2c2
Author: David Zhao <david@davidzhao.com>
Date:   Mon Mar 1 18:09:00 2021 -0800

    go back to pion 3.0.11, 3.0.12 causes crash with iOS trickle ICE

commit 7327c4af72f3998149c33b070fce3f078d4af214
Author: David Zhao <david@davidzhao.com>
Date:   Mon Mar 1 14:50:54 2021 -0800

    version 0.5.5

commit 03d0a8c04707a07856fae277ec7c8f9ebe4c3fb7
Author: David Zhao <david@davidzhao.com>
Date:   Mon Mar 1 14:49:46 2021 -0800

    updated to ion-sfu v1.9.1, removed package bufferFactory

commit e8d270193727124e990b4be9c7fefa405d5026a7
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 28 22:54:50 2021 -0800

    release :latest docker images

commit 4e2ccc4e98cf961169adbdc73409026cec43c649
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 28 22:27:18 2021 -0800

    version 0.5.4

commit 0a5808c73e3ac2685a093cddcb96d001450639c9
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 28 22:26:02 2021 -0800

    use nack fix in ion-sfu, fixes #26

commit f7af7607b98831957930b34a3a8676c993a410a0
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 28 22:28:17 2021 -0800

    terraform deploy on ECS (#27)

commit 7b93e661f0f9fb48ea26c4fa3b980e3bd1785d62
Author: David Zhao <david@davidzhao.com>
Date:   Sat Feb 20 21:12:26 2021 -0800

    updated upstream dependencies, v0.5.3

commit a010b618afe2d5066e98d9e6c066854e03da97fe
Author: David Zhao <david@davidzhao.com>
Date:   Sat Feb 20 21:09:04 2021 -0800

    re-assign node for room if existing node for room is no longer available

commit 1ce27be1b37d737fc5ed1dd50cc5e38dba72fa53
Author: David Zhao <david@davidzhao.com>
Date:   Thu Feb 18 23:22:59 2021 -0800

    update dependencies

commit e89226626ad8e9440ec4572126cde014062a0562
Author: David Zhao <david@davidzhao.com>
Date:   Wed Feb 17 18:12:42 2021 -0800

    fix to golang 1.16 as builder

commit 95539a3cdd3358eab6a5cbac8203670a779de785
Author: David Zhao <david@davidzhao.com>
Date:   Wed Feb 17 18:07:14 2021 -0800

    fix tests

commit ebaf12f4c5f23aa9423a36a639a95455a3e8a8ed
Author: David Zhao <david@davidzhao.com>
Date:   Wed Feb 17 17:52:14 2021 -0800

    version 0.5.1

commit b52354623c5887464dbd2c87fe0ed798211f0c5a
Author: David Zhao <david@davidzhao.com>
Date:   Wed Feb 17 17:51:54 2021 -0800

    use hostname instead of MAC address to work with docker environments

commit 0eb973411123b6ba72f91977df24c2ae9bcb8c7d
Author: David Zhao <david@davidzhao.com>
Date:   Tue Feb 16 22:47:10 2021 -0800

    ignore another closure message

commit 1534eb4f2a9e71a47327ace0a7c1a52a51995b89
Author: David Zhao <david@davidzhao.com>
Date:   Tue Feb 16 16:46:47 2021 -0800

    version 0.5.0

commit 6be0c99fcca3232b7be41e3a53d1b14f93f654be
Author: David Zhao <david@davidzhao.com>
Date:   Tue Feb 16 16:02:19 2021 -0800

    tune audio level sensitivity

commit e402d0d0afb6f9cfbc25e4b94040ffc6585171dd
Author: David Zhao <david@davidzhao.com>
Date:   Tue Feb 16 13:52:50 2021 -0800

    subscriber control of tracks (unsubscribe/mute/quality), support simulcast (#23)
    
    * subscription control & simulcast RTC APIs
    
    * don't remove tracks for simulcast

commit cd5cac6c5e8a51ff971f0c9a8c5c6c757681fb6d
Author: David Zhao <david@davidzhao.com>
Date:   Mon Feb 15 17:57:32 2021 -0800

    version 0.4.3

commit 99baeb38e451364eab4a3632cdd93e9c30b34562
Author: David Zhao <david@davidzhao.com>
Date:   Mon Feb 15 17:57:01 2021 -0800

    fix bugs with websocket reconnection, don't re-use redis sinks (#22)

commit 9466bc01ed22c7087447c436fe784ce6ba7ee979
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 14 14:30:55 2021 -0800

    version 0.4.2

commit a96069969d1c39d759cac25c7999fa84c2a3032e
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 14 14:30:23 2021 -0800

    support audio level extension & active speaker detection (#20)
    
    * send active speaker updates with audio level
    
    * add test on loudness sorting
    
    * use a float to represent audio level

commit 7ddf96b6d42c702be17c00b7fc73e2185dc19ba0
Author: David Zhao <david@davidzhao.com>
Date:   Fri Feb 12 23:54:27 2021 -0800

    version 0.4.1

commit e342ea215593444711d7035d327b1cc790f1fc3e
Author: David Zhao <david@davidzhao.com>
Date:   Fri Feb 12 23:53:46 2021 -0800

    Fixed #16 explicit passing of participant id

commit 090f8d0664690f7273f7937dd658d83249748e80
Author: David Zhao <david@davidzhao.com>
Date:   Fri Feb 12 22:30:31 2021 -0800

    use dedicated PeerConnections for sending and receiving (#19)
    
    * protobuf updates to support new protocol
    
    * use dedicated publish & subscribe peerconnections
    
    * update client to work with dedicated PCs
    
    * fix Go client negotiation, reduced length of UUID

commit fe497a3cc1fdd0c851e64e026e44684662376271
Author: David Zhao <david@davidzhao.com>
Date:   Wed Feb 10 23:14:33 2021 -0800

    version 0.3.4

commit 538461d5dccdbe230be4c574512bb14d8771bbe4
Author: David Zhao <david@davidzhao.com>
Date:   Wed Feb 10 23:13:36 2021 -0800

    pass client defined metadata from JWT to participant (#17)

commit 38140debdf2762898830859e9c023d32bae0290a
Author: David Zhao <david@davidzhao.com>
Date:   Wed Feb 10 00:06:32 2021 -0800

    Admin APIs for participant management (#13)
    
    * stubs for room admin APIs
    
    * room store APIs to persist participants
    
    * participant persistence
    
    * updated protobufs
    
    * implemented APIs to mute/remove/etc
    
    * fixed mute handling

commit 61b9569e388cf98c3815c4fd7c3a23cf08716ce0
Author: David Zhao <david@davidzhao.com>
Date:   Mon Feb 8 16:35:14 2021 -0800

    fix: use track SID instead of source ID

commit bc8cd33dfc6b385fa1a544332da693fe4cb79587
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 7 23:07:09 2021 -0800

    version bump to 0.3.3

commit f1f5b8dafead8d5031416c6c2d6e206f0b857ac3
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 7 23:06:16 2021 -0800

    use proper fix for using shared bufferFactory, remove resync hack

commit e30c9f706c3b79bcbed2a64083d9de0b02dd85c5
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 7 22:44:25 2021 -0800

    cleaner resync

commit d13a962afd8400e08c4cd56dd8b19a6c7398e2ed
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 7 21:58:20 2021 -0800

    fixed message channel deadlock

commit 33787fd4f20c90d8b5dd6e165cfa594a422ba443
Merge: 5578b74 fa9d2af
Author: David Zhao <david@davidzhao.com>
Date:   Sat Feb 6 23:21:51 2021 -0800

    use ion-sfu receiver/downtrack instead of our own.

commit fa9d2af4951c328c7cbcbf0697a3e7e70ca1a914
Author: David Zhao <david@davidzhao.com>
Date:   Sat Feb 6 23:18:21 2021 -0800

    use ion-sfu commit

commit f35f42649140aee25714ad1c8b634dfc1cfea15c
Author: David Zhao <david@davidzhao.com>
Date:   Sat Feb 6 23:16:48 2021 -0800

    use ion sfu

commit 290e100d0d8215a67f6ade1d0e2311afd1dce35c
Author: David Zhao <david@davidzhao.com>
Date:   Sat Feb 6 23:15:30 2021 -0800

    fix generation

commit ae203c27e3556ec962e330d5b7c54fdd29ad6ab0
Author: David Zhao <david@davidzhao.com>
Date:   Sat Feb 6 23:02:21 2021 -0800

    send resync to ensure keyframes have been requested

commit 74cf6b226d02c4b4ebe61a8f774e0e354ec4b7a9
Author: David Zhao <david@davidzhao.com>
Date:   Fri Feb 5 17:48:12 2021 -0800

    fix mute

commit c012c742bd0ba496dd4243ee6866493b5e136a15
Author: David Zhao <david@davidzhao.com>
Date:   Fri Feb 5 17:46:52 2021 -0800

    fix allowing client negotiations prematurely.

commit c978a9cb1fa34a0b7b10778f1748a544343b0870
Author: David Zhao <david@davidzhao.com>
Date:   Thu Feb 4 21:57:40 2021 -0800

    move to ion-SFU's receiver and downtrack

commit c015e267b0767a457b2f7c5ad8f7dbffb4e28408
Author: David Zhao <david@davidzhao.com>
Date:   Thu Feb 4 00:25:09 2021 -0800

    switch to a single redis subscriber, close properly

commit 5dec5b1ae27e015f29fdbb1003f950eb3b8be9a8
Author: David Zhao <david@davidzhao.com>
Date:   Tue Feb 2 23:25:29 2021 -0800

    update

commit 5578b747982c301897e3582bfdbb8d60938b8fa9
Author: David Zhao <david@davidzhao.com>
Date:   Wed Feb 3 00:12:03 2021 -0800

    version bump to 0.3.2

commit 0cb09ee9457cb2e492ed7698fdc752a3b762a9b3
Author: David Zhao <david@davidzhao.com>
Date:   Tue Feb 2 23:55:56 2021 -0800

    handle cid changes between publish intent and onTrack

commit d117cce37b8cf13b773dbdd8538b3e73d4b7aca1
Author: David Zhao <david@davidzhao.com>
Date:   Tue Feb 2 22:53:48 2021 -0800

    integration test around receive before publish

commit 88e247d95a00eae7598171e3d723a19242043695
Author: David Zhao <david@davidzhao.com>
Date:   Tue Feb 2 22:47:36 2021 -0800

    use SendRecv transceiver instead of Sendonly

commit a4266478c533b9634276216596f96234fdeb1951
Author: David Zhao <david@davidzhao.com>
Date:   Tue Feb 2 01:16:13 2021 -0800

    better logging around negotiations

commit 70574deaf71d5d0d96f9d08e6ec18cbc21dd66da
Author: David Zhao <david@davidzhao.com>
Date:   Tue Feb 2 00:40:55 2021 -0800

    better debug logs around negotiations

commit 712d0da6cc2e2169949608b802387daaec9a09ba
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 31 23:06:48 2021 -0800

    use synchronized GetParticipants to ensure eliminate timing issues upon participant join

commit 014610bb05ad425cf9244f82fca812771313864d
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 31 14:20:07 2021 -0800

    version 0.3.1

commit 76b0dc62a73cc1d7adbd7d94727f341cc90742c6
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 31 14:19:16 2021 -0800

    close rooms after delay instead of immediately after participant departure, to allow reconnects

commit 084ec378f0d4d771cd744314e6f3ba07565f5477
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jan 30 23:17:03 2021 -0800

    version bump to 0.3.0

commit 320a6c35bf0bcaa22f4c7d03880708549681af62
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jan 30 23:16:11 2021 -0800

    enable explicit reconnect to distinguish between WS disconnect vs PeerConnection disconnect

commit 2cf2c448be0c8b5ef9ed4cd309a8f46bf3bd1593
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jan 30 22:24:08 2021 -0800

    rework multi-node routing, cleaner design for reconnection

commit 28e73bd109da98ce591f7cfee64128d4e884295f
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jan 30 14:00:37 2021 -0800

    rename Participant.name to Participant.identity

commit 1a8e26031fe49647439cc165b83a0543ca1df587
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jan 30 13:29:31 2021 -0800

    always use multi-node when Redis is provided, removed config

commit 5ce52b6a302b2119b2bf8cf1e86eaa46fbd66eb9
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jan 30 13:20:39 2021 -0800

    fixed keys parsing from ENV/cli

commit 65078f5ef81061ff1ca148a496459c8dc3ba4cb8
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 29 01:03:20 2021 -0800

    skip track updates when client has disconnected

commit 421664c27994d753555882eb006461493e020b9e
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 29 01:00:00 2021 -0800

    version bump to 0.2.4

commit 57a13f9930409f345452f44b1fc725c732b3d3f7
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 29 00:49:32 2021 -0800

    fix synchronization issues, use AtomicFlag/atomic.Value for shared fields

commit dd8a1a50551fed5f8b72981d7c67114501d87add
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jan 28 23:40:30 2021 -0800

    use atomic.Load to ensure atomicity

commit fe83baa662d1ac149db5163ad3f334725a61ae26
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jan 28 01:14:06 2021 -0800

    reuse the same Participant ID within the same room/session

commit 0e48711e4b51506d960848939451a7739bd6b5e9
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jan 28 01:00:48 2021 -0800

    don't send participant updates to closed participants (typo fix)

commit 0813a556170d93eaaf0a2164a6d670d0b3f8b3e4
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jan 27 09:42:02 2021 -0800

    ignore duplicate tracks being published

commit 08f5957d651b254e7bebfa31a0ff04886d15676d
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jan 27 09:08:23 2021 -0800

    log version number on startup

commit 5b20068f6caf9f91044ed0621797984268c03f46
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jan 27 01:17:08 2021 -0800

    version bump to 0.2.3

commit 25d476b8ac13557db69c80310b68d294c1f18d7c
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jan 27 01:16:08 2021 -0800

    fixed multi-node routing, correctly set rtc and signal nodes

commit 61db4f5b667d95660584e5dc82c48a034494afbf
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 26 23:52:55 2021 -0800

    fixed multi-node so signal node can start sessions

commit 940b96168ddbe311a98a040114c159d6e91650c9
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 26 23:52:04 2021 -0800

    fix client publishing protocol

commit ed0b9db65547a032218fd73a8407db06dd731e05
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 26 21:45:00 2021 -0800

    avoid sending to closed channels

commit a065a015925690a78074b166ebb9c0e3461d5385
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 26 17:38:47 2021 -0800

    fixed panic when client connected abruptly

commit b96028b4d6a077293f4b2b32446ad6dd5ae4d3dd
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 26 10:39:10 2021 -0800

    version bump to 0.2.2

commit b7acdfeec174a782fb6b8e487aee790b8c105d02
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 25 21:37:36 2021 -0800

    fixed syntax error in test

commit 8ee19247fc36e3188042eb243e899d044c94152b
Merge: 10f7dfc c4dfd3c
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 26 10:38:06 2021 -0800

    Merge pull request #2 from livekit/furqanrydhan-patch-1
    
    switch from scratch to alpine

commit c4dfd3c9874c3209b5207cac12adb6affea5a832
Author: Furqan Rydhan <furqan.rydhan@gmail.com>
Date:   Tue Jan 26 10:32:21 2021 -0800

    switch from scratch to alpine
    
    fixes some aws build issues

commit 10f7dfc0d5a49c325149444c01273724b1623947
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 25 21:34:43 2021 -0800

    version bump to 0.2.1

commit bd81b073d1d7b964382eeedb7cc8a556967d91a1
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 25 21:34:16 2021 -0800

    allow keys to be passed in from env (again), cli to use LIVEKIT prefix

commit 1f8bb57c92a8499566ae2c4170833dc18341e669
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 25 00:03:39 2021 -0800

    handle when RTCP comes in after track is closed

commit b5f1ab3b58111d6978886c3d0b939550299825c5
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 24 23:48:23 2021 -0800

    version bump to 0.2.0

commit f004aa29529063d2259d42a268063f8f4916c9b3
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 24 23:47:24 2021 -0800

    auto-create rooms upon creation

commit b7a00a8a562f90dc3c5660e175d2221583b6c66e
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 24 22:14:42 2021 -0800

    increase default token ttl to 6h

commit 01d62edafa2a4140fef71e4057b8e4af65b900c7
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 24 15:18:34 2021 -0800

    doc updates

commit c4fb1b38083c6c3b74b31d21212acb6ea5519921
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 24 12:52:40 2021 -0800

    fixed localrouter timeout, updated VideoGrant fields

commit 18264e7a8bee8c3cd3503f5a5c00d866c6e32b72
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 19 22:09:11 2021 -0800

    builds docker image

commit f2e31ebdac732611a3f1eb9d4b50926b0ca0c348
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 19 20:43:22 2021 -0800

    update ion-sfu to 1.7.8

commit c04fd86f9c2c143bbb377257680f85657f803118
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 19 20:34:11 2021 -0800

    multi-node integration tests

commit 0b00b26d056f14bc600b8c2c8b68d28fe1ce279e
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 19 16:18:03 2021 -0800

    terminate RTC sessions properly

commit 71b4673a0ac2e3f53cc4fb38f20f6a61c307424f
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 18 23:44:59 2021 -0800

    cleanup room state, proper participant termination

commit d83a1b1af302871a067963fca6920a6bff3fc371
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 18 17:56:48 2021 -0800

    automatically cleanup participant redis data

commit 834a4747acd4af19db7210544ed0f0b96b8f7bea
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 18 13:27:01 2021 -0800

    refactor bearer token on the client side

commit 513b40c4ce3c33f415942476c63bac42398e4ea5
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 18 11:55:47 2021 -0800

    document protocol, added .idea

commit 623f80f2ea002a5d62b3aa8d33ae30be28b756d3
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 18 10:45:50 2021 -0800

    update to webrtc v3.0.4

commit efc1511edbea513e58547e8c608c353a299deba0
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 18 10:43:28 2021 -0800

    documenting negotiation protocol

commit 6552d5ebc8bd552755ccb9eb541304411ac2caed
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 18 10:35:17 2021 -0800

    fixed key-file parsing

commit 458241d1f1a64f3cb5aa520bcaa793595f158940
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 17 17:06:50 2021 -0800

    config rework to handle distributed setup, fixed redis bugs

commit 30e99e8c6bae368070da9338dbb93e2c78c49df9
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 17 00:12:05 2021 -0800

    redis based router & roomstore

commit 9064f6ade10b43350f6ff40fad3bca2d117ec623
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jan 16 00:25:13 2021 -0800

    decouple websocket and RTC nodes, prep for distributed

commit 9a10a57b30cea6d16f38fb82baea3309af0dbffc
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jan 13 17:38:40 2021 -0800

    single publisher integration test

commit 233306d83af26396e3ffd2ce83aa1bb6dfe0c9fb
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jan 13 13:41:34 2021 -0800

    basic integration test

commit 09e5a37c75a60294d92210bd1554bf22ae21555d
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jan 13 00:04:36 2021 -0800

    refactoring to prep for integration tests

commit 381ec5805065dcc219e61fb6a59c556e5ce9c5f2
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 12 18:03:08 2021 -0800

    some tests

commit bd885b1de98bc626e6647a70c6c76d2b512ebc7d
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 12 17:07:01 2021 -0800

    handle unpublish track

commit 7c3b0c5202f2b508580deb49f2c0b913fed223db
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 11 23:16:56 2021 -0800

    added ability to profile memory/cpu

commit 21ac2413a22fe17f560da2879dce0a8f79807451
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 11 00:07:11 2021 -0800

    catch panics to ensure reliability

commit 6464ae3cd6881091047fce2a79883b3f2c4c5d3a
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 10 22:34:02 2021 -0800

    send downtrack binding reports
    
    fixed tests

commit 456df0fb91b1253534f8350f052325fec20dbf21
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 10 22:09:36 2021 -0800

    use IsReady instead of checking for multiple statuses

commit 7dcb88343aa427f55c90b5f615bb6c9b5d0051c8
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 10 16:18:58 2021 -0800

    binding to buffer and correctly forwarding

commit 258f5add2d1b8e7c92d796e79820c42d048fbe9c
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jan 9 23:40:29 2021 -0800

    protocol update: explicit AddTrack to move negotiation initiation to server side.
    
    In order to avoid race conditions with WebRTC, where either side could initiate an offer when tracks have changes, we'll always initiate them from the SFU side.

commit 0336e9d92f1b180c037ef806d2fcba6819ab12e8
Author: David Zhao <david@davidzhao.com>
Date:   Thu Dec 31 23:24:45 2020 -0800

    tests for MediaTrack, moving interfaces to new package

commit 313236e3d30e20dd443cb7b52b4ff71b3a07250c
Author: David Zhao <david@davidzhao.com>
Date:   Thu Dec 31 14:21:19 2020 -0800

    server to support mutes

commit be6086ce95214d4cadd44fbb4d1f00a62514621d
Author: David Zhao <david@davidzhao.com>
Date:   Mon Dec 28 11:38:52 2020 -0800

    updated docs

commit 46b5942a953715fe5fbc691ed7a5460b12086beb
Author: David Zhao <david@davidzhao.com>
Date:   Mon Dec 28 10:25:27 2020 -0800

    allow cross origin requests

commit b32fee24c8ab141e979476d03ed0a8295347573c
Author: David Zhao <david@davidzhao.com>
Date:   Sun Dec 27 23:11:28 2020 -0800

    require 0600 on keyfile for security

commit 60f2596983911bab780d2c2134b66650cc6e6157
Author: David Zhao <david@davidzhao.com>
Date:   Sun Dec 27 23:04:20 2020 -0800

    support access token via query params

commit 3fb606236e0bc10f0ddb4fa605054361d00ff0de
Author: David Zhao <david@davidzhao.com>
Date:   Sun Dec 27 22:38:13 2020 -0800

    sends roominfo on join

commit 94e2c782ee45bd1f6aecb43659477f61ea2f7e1b
Author: David Zhao <david@davidzhao.com>
Date:   Sun Dec 27 22:21:04 2020 -0800

    cli to generate token

commit 43a6db8a3ac6a0ed8f56b54887b07a47267cbe80
Author: David Zhao <david@davidzhao.com>
Date:   Sun Dec 27 22:02:19 2020 -0800

    cli to support token based auth

commit 46dadc25c23093e87882a1e3c81446434eba1700
Author: David Zhao <david@davidzhao.com>
Date:   Sun Dec 27 20:53:07 2020 -0800

    simplify token issuer/verifier interface

commit 353f35443a95f238c2534adf0fec18472e3fe24d
Author: David Zhao <david@davidzhao.com>
Date:   Sun Dec 27 00:01:19 2020 -0800

    API key generator, using YAML format instead of hand rolled parser

commit c489ca570b339e1e0b99d5c6426889ff571de6a7
Author: Russell Dsa <russelldsa@gmail.com>
Date:   Sat Dec 26 14:03:33 2020 -0800

    fix path in bootstrap script

commit ba8545954e00ee850be875f5e6689241a068dbaa
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 25 22:59:00 2020 -0800

    removed channeltype, never used

commit 9897412473e08c795e469dcc38f7e8314addf158
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 25 22:54:58 2020 -0800

    roommanager tests

commit 28690b6b0864969bd0634eb00d02fc0e3b357e8f
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 25 22:35:53 2020 -0800

    fixed client create-room

commit 804b7cb33295315b9a373a2ec7e25f8cb659b343
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 25 22:31:11 2020 -0800

    JWT token based auth

commit 8f34bd608684bb85edaf3ae6f395ec1faa905a88
Author: David Zhao <david@davidzhao.com>
Date:   Tue Dec 22 23:11:24 2020 -0800

    cleaned up some deps

commit 026c8725a3fe54271ff2f03b76525379e4a33a33
Author: David Zhao <david@davidzhao.com>
Date:   Tue Dec 22 20:59:39 2020 -0800

    finished room test

commit 351843578381ff93f52839e6853338c4cc3bc1f0
Author: David Zhao <david@davidzhao.com>
Date:   Tue Dec 22 17:26:26 2020 -0800

    using counterfeiter instead of gomocks, much simpler

commit 1b396d20004f6d405248f5153c7483e1aeaa44c5
Author: David Zhao <david@davidzhao.com>
Date:   Tue Dec 22 14:42:08 2020 -0800

    mage test

commit 202979d346039262fa03ed233f100fe8e9a85608
Author: David Zhao <david@davidzhao.com>
Date:   Tue Dec 22 14:37:45 2020 -0800

    move to mage for build

commit ed472c85694d66c2664dc3b84a8c4897407f7957
Author: David Zhao <david@davidzhao.com>
Date:   Mon Dec 21 23:23:57 2020 -0800

    progress with a bit of tests

commit 2a79bdb678460bd032f6ca59211098719d17fab0
Author: David Zhao <david@davidzhao.com>
Date:   Mon Dec 21 23:00:48 2020 -0800

    switch participant to interface

commit c4cb29a3bbe744e04f24c8f8977d093456bc7f9e
Author: David Zhao <david@davidzhao.com>
Date:   Sun Dec 20 22:57:06 2020 -0800

    use PeerConnection interface to make it easier to mock

commit 684099d653cf654a09bbcb7746d6fa48818c3bc3
Author: David Zhao <david@davidzhao.com>
Date:   Sun Dec 20 16:13:12 2020 -0800

    slight refactoring, WS sends periodic ping

commit 72d853589cfc6aa08a9cc1d6c18eb99d0cde3369
Author: David Zhao <david@davidzhao.com>
Date:   Sun Dec 20 13:43:16 2020 -0800

    buffer messages

commit 51092dce53061a6abcd0500d10b7ecb2c7623aad
Author: David Zhao <david@davidzhao.com>
Date:   Sat Dec 19 23:16:55 2020 -0800

    don't error on EOF

commit e9fdd5d2fd20008693075b9e4464e5945b0cdd10
Author: David Zhao <david@davidzhao.com>
Date:   Sat Dec 19 16:18:58 2020 -0800

    ignore placeholder data channel

commit f75317230804c1e11a8245c6fd52200ffb9fe71c
Author: David Zhao <david@davidzhao.com>
Date:   Sat Dec 19 16:13:56 2020 -0800

    datatrack implementation

commit fb3c3b056570a4af3b2dbc4871e8d4b3d3bf191f
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 18 23:14:36 2020 -0800

    just use src

commit 050da05000586e5d844739aca3f12da686880b9f
Author: David Zhao <david@davidzhao.com>
Date:   Thu Dec 17 22:28:03 2020 -0800

    Send PLI when target client doesn't have keyframes

commit 2111513fde83936f9771f27c3b8da200b848e013
Author: David Zhao <david@davidzhao.com>
Date:   Thu Dec 17 21:48:48 2020 -0800

    track published response, to allow client to assign sid to published tracks

commit 2665026830957949a4eab6af2d6060f7771a5350
Author: David Zhao <david@davidzhao.com>
Date:   Wed Dec 16 00:13:43 2020 -0800

    use context to detect when channel is properly closed

commit ac83bf4c7876f756456eea3aa9d74af9652ddb5b
Author: David Zhao <david@davidzhao.com>
Date:   Sun Dec 13 23:08:20 2020 -0800

    subscribe new participant after JOINED, to ensure negotiate requests aren't missed

commit af0c9dfdf089b246aa6c4fdec6909c0f7fe08f2e
Author: David Zhao <david@davidzhao.com>
Date:   Sat Dec 12 23:05:53 2020 -0800

    server back to working, tho only works when client joins first

commit 4c9623bb49ba03dd97a16ed563d7e8e5467310d5
Author: David Zhao <david@davidzhao.com>
Date:   Sat Dec 12 22:07:06 2020 -0800

    updated cli to v3

commit 7d7787590c9ee5799d1d581b6947bc1941f12aef
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 11 20:15:04 2020 -0800

    updated server to webrtc v3 (untested)

commit d4f30c126f3110490adbb6e8b38e3cc3bc0e6875
Author: David Zhao <david@davidzhao.com>
Date:   Sat Dec 5 23:36:45 2020 -0800

    Fix node IP discovery, force to ipv4

commit 2b9fee45c4aba1816de438bd533b1572e40431be
Author: David Zhao <david@davidzhao.com>
Date:   Sat Dec 5 22:20:13 2020 -0800

    fixed deadlock when client disconnecting

commit 71a7914eecbe323e19f6df7c2ccdff80a7f59eaa
Author: David Zhao <david@davidzhao.com>
Date:   Sat Dec 5 17:53:33 2020 -0800

    send event when participant disconnects

commit abd17af4d4de2af878da0b441063f3207b589630
Author: David Zhao <david@davidzhao.com>
Date:   Sat Dec 5 00:03:26 2020 -0800

    protocol to synchronize published tracks

commit 0dcfffb9d8c0117004f632c1cb8500b9fc2a6405
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 4 23:28:50 2020 -0800

    remove all forwarders when source track is closed

commit c401a6fdab35a826a71bad7c575df3b9eee4acc7
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 4 23:04:24 2020 -0800

    ID -> SID

commit 64b427a38800fe7fc578d6d5c7a3af0101a86935
Author: David Zhao <david@davidzhao.com>
Date:   Thu Dec 3 23:22:59 2020 -0800

    don't remove tracks if client is closed

commit 04dcdc3772c8bc5775f2314578af5cba060fa3a1
Author: David Zhao <david@davidzhao.com>
Date:   Thu Dec 3 22:13:30 2020 -0800

    subscribe the right target participant

commit c64ecc4603ec56d33561ac5ab62ae6f75a92aebb
Author: David Zhao <david@davidzhao.com>
Date:   Thu Dec 3 21:58:25 2020 -0800

    use full candidateInit, update encoding

commit bca8090b41c5a325c3fbf49611fec76fbdfd0cdc
Author: David Zhao <david@davidzhao.com>
Date:   Wed Dec 2 00:53:16 2020 -0800

    correctly send participant updates

commit a6c4db2cb3cae2bd99fcfc9c37b2d15c2d561df3
Author: David Zhao <david@davidzhao.com>
Date:   Tue Dec 1 23:32:15 2020 -0800

    refactoring, enabling sending out room updates

commit 0c99163253e615aa75b3f4603c9973e09e251880
Author: David Zhao <david@davidzhao.com>
Date:   Sat Nov 28 15:17:14 2020 -0800

    using shared proto types for participant state

commit 1c821853f38ad68348e59d280bea3f43c78a437d
Author: David Zhao <david@davidzhao.com>
Date:   Sat Nov 28 15:08:41 2020 -0800

    client sends offer after getting room info

commit 4fe98723ae6acd59888c0678446bde1bb8af31ec
Author: David Zhao <david@davidzhao.com>
Date:   Sat Nov 28 12:33:10 2020 -0800

    server sends join response

commit bea1a87cb81b7e719f7a9eaf77715c8c289b1d3a
Author: David Zhao <david@davidzhao.com>
Date:   Sat Nov 28 00:18:34 2020 -0800

    updated flow, room & participant id created by server

commit bd667cfe39b9b739ddb72d1742731932d48f9a5a
Author: David Zhao <david@davidzhao.com>
Date:   Sun Nov 15 22:38:31 2020 -1000

    updated readme with CLI instructions

commit dc69dfc0e74c424e1bd6c54691f0b78f5ed60069
Author: David Zhao <david@davidzhao.com>
Date:   Sun Nov 15 22:22:52 2020 -1000

    port over existing test cases

commit e611020824a113a31b711a9140424133efc9c213
Author: David Zhao <david@davidzhao.com>
Date:   Sun Nov 15 22:11:52 2020 -1000

    make reception report public

commit 606e1ec70cacee556338dcb2c58169c0b41434b9
Author: David Zhao <david@davidzhao.com>
Date:   Fri Nov 13 12:52:20 2020 -0800

    client to handle publishing tracks on connection

commit c618f8c42f36dc177abc1be16dce8fb4234798a6
Author: David Zhao <david@davidzhao.com>
Date:   Fri Nov 13 12:31:01 2020 -0800

    client consumes provided track

commit 256328c4ff9f0d04f98716b306c9e3aee6da1ea5
Author: David Zhao <david@davidzhao.com>
Date:   Wed Nov 11 00:02:37 2020 -0800

    fixed server initiated negotiation

commit 40be24bf607fc53b8a6cd83869c152e249027093
Author: David Zhao <david@davidzhao.com>
Date:   Tue Nov 10 00:35:04 2020 -0800

    fixed server not starting receiver

commit 408ea3fe22079568026e28c21fc5993d567418a7
Author: David Zhao <david@davidzhao.com>
Date:   Mon Nov 9 23:38:05 2020 -0800

    trackwriter, progress with tester client

commit cba27d164bebe1769207b6778f6d6f927b908bdb
Author: David Zhao <david@davidzhao.com>
Date:   Fri Nov 6 23:57:03 2020 -0800

    client and server establishing connections

commit 218b9a02772b7f27153f826d412f949912b36731
Author: David Zhao <david@davidzhao.com>
Date:   Wed Nov 4 23:29:46 2020 -0800

    CLI framing, creates rooms

commit 9ebfebe2ddc41460c1fdac8fbf4b438b39a72efd
Author: David Zhao <david@davidzhao.com>
Date:   Tue Nov 3 22:01:54 2020 -0800

    simple cli with room APIs

commit 925d1c653ece54df86d9cab20a4f921d79f1a6e2
Author: David Zhao <david@davidzhao.com>
Date:   Tue Nov 3 00:20:46 2020 -0800

    switch to websockets, remove grpc dependency

commit a2efaccddec1cfab3177806242a12264ef5ee749
Author: David Zhao <david@davidzhao.com>
Date:   Sun Nov 1 23:01:24 2020 -0800

    fixed forwarder's RTCP target

commit 312a4f1def0e3949e36870d0011ebe65604c5d7e
Author: David Zhao <david@davidzhao.com>
Date:   Sun Nov 1 20:44:33 2020 -0800

    filled in subscriber logic

commit d350a7a132e12e45734bfc8379756d2ef498876d
Author: David Zhao <david@davidzhao.com>
Date:   Sun Nov 1 00:07:15 2020 -0700

    handle peer subscription

commit 9a36a41800b5adf4505370886805ac1719d32841
Author: David Zhao <david@davidzhao.com>
Date:   Sat Oct 31 00:36:35 2020 -0700

    implement trickle and negotiate paths

commit 54b59f00e23d11d331738a644df0a5efe5384f88
Author: David Zhao <david@davidzhao.com>
Date:   Sat Oct 31 00:09:46 2020 -0700

    handles RTC join

commit 36dd195ca3078e0a0574bc1941bb6f002d2283d1
Author: David Zhao <david@davidzhao.com>
Date:   Thu Oct 29 01:02:31 2020 -0700

    Converted RTC back to GRPC for server push capability

commit 71d6feedbb94347dccb71a22775e4da719a53c7f
Author: David Zhao <david@davidzhao.com>
Date:   Tue Oct 27 23:41:37 2020 -0700

    peer interfaces and callbacks

commit 1ed8ba3ae6f924581884767ecb482bb755e5fe8b
Author: David Zhao <david@davidzhao.com>
Date:   Tue Oct 27 00:17:30 2020 -0700

    progress with forwarder and peer

commit 6c039bc64f2b638728c5c447f7327fe368afe3ff
Author: David Zhao <david@davidzhao.com>
Date:   Fri Oct 23 23:01:35 2020 -0700

    receiver class, imported relevant SFU helpers

commit 71d3a470f5cb26953e9eb78fa497571fb2f8623d
Author: David Zhao <david@davidzhao.com>
Date:   Fri Oct 23 00:12:33 2020 -0700

    checkpoint

commit 40c7d902d848bb27c4a887fdc1c0ed19e69a1ba0
Author: David Zhao <david@davidzhao.com>
Date:   Thu Oct 15 00:04:16 2020 -0700

    refactored config and room setup

commit 32af882b9930b620028cdf79b2f3bf01a8c14f7d
Author: David Zhao <david@davidzhao.com>
Date:   Thu Oct 8 00:12:57 2020 -0700

    support multiple STUN servers

commit 0a4ce6e742aab41f9f46b5d906568eac73196f6b
Author: David Zhao <david@davidzhao.com>
Date:   Thu Oct 8 00:03:27 2020 -0700

    moved stun server to configuration

commit 6752c4a91d1cb05a05d5ac606d5917bb74b236b7
Author: David Zhao <david@davidzhao.com>
Date:   Wed Oct 7 23:54:44 2020 -0700

    separated join from creation, room options & token

commit 37984bd16720db19e947cb743aa4a585fd0323b7
Author: David Zhao <david@davidzhao.com>
Date:   Wed Oct 7 01:11:58 2020 -0700

    improved dir structure

commit 38cc5454dafb715934160729da09ec756464d21c
Author: David Zhao <david@davidzhao.com>
Date:   Tue Oct 6 23:37:22 2020 -0700

    switch to twirp errors, correct RTC port

commit 0d6c0adbdd607cec93ec6850564d3efb9aa8a3ed
Author: David Zhao <david@davidzhao.com>
Date:   Tue Oct 6 23:20:44 2020 -0700

    switched to Twirp for RPC, server skaffold

commit 5117b8bf8065e63bf217316d9d1a1335071b263c
Author: David Zhao <david@davidzhao.com>
Date:   Mon Oct 5 20:32:39 2020 -0700

    updated package reference

commit 1de35caf7a4786cba125df0b2527551e60d01611
Author: David Zhao <david@davidzhao.com>
Date:   Mon Oct 5 20:31:29 2020 -0700

    checkpoint

commit 3ec7a28625dec916716df8122e7136d65198755a
Author: David Zhao <david@davidzhao.com>
Date:   Sat Oct 3 22:51:12 2020 -0700

    go mod files

commit f0b1eb63df9383e3307078a4d2425b7a82b22d56
Author: David Zhao <david@davidzhao.com>
Date:   Sat Oct 3 22:51:01 2020 -0700

    initial commit

commit b5a30ab6e1253500982ca574d7eb87a4224a3e4a
Author: David Zhao <david@davidzhao.com>
Date:   Tue Sep 29 23:49:48 2020 -0700

    Initial commit
======================: FILES :======================
======================: BRANCHES :======================
======================: LOGINFO :======================
commit 082b651b0b5cc15624a005a51c8dba1609758267
Author: Evgeniy Tatarkin <tatarkin.evg@gmail.com>
Date:   Tue Mar 1 12:25:41 2022 +0300

    chat demo

commit 913ef3a6467d98e36d6ee3854fea115c70fa18d7
Author: cnderrauber <zengjie9004@gmail.com>
Date:   Tue Mar 1 15:48:20 2022 +0800

    Datatrack for data channel (#476)
    
    * data track

commit 13e21e7c45add06398cc6e15d89ce451d1f4030e
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Mar 1 09:55:13 2022 +0530

    Callback queue for a couple of modules (#468)
    
    * callback queue for stream tracker
    
    * Ops queue for down track
    
    * fix test

commit a1bef5b18d43d2d5b994d27698efcfc02d460bde
Author: David Colburn <xero73@gmail.com>
Date:   Mon Feb 28 14:48:19 2022 -0800

    deadlock CI (#475)
    
    * deadlock CI
    
    * make sure the test fails
    
    * remove fail check

commit c3a3fb569d3220785954e6fa8c28c0120b49e82c
Author: shishirng <shishir@livekit.io>
Date:   Mon Feb 28 13:48:02 2022 -0500

    add track publisher info in track subscribed event (#473)
    
    * add track publisher info in track subscribed event
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * update protocol ver
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 2706dc130f979e406fbc000e0a3a6865925f5424
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Feb 28 09:57:17 2022 +0530

    Replace sync/atomic usage with uber/atomic (#471)

commit 933b41e42a0a4cd07170a3db97db273edbc06d2e
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 27 16:55:48 2022 -0800

    v0.15.5

commit 433a5cd8d17650ce7519e76d2f9c6ca3c2500d8d
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 27 16:54:39 2022 -0800

    Disable default node limits (#472)
    
    * Disable default node limits
    
    * removed unused vars

commit c2d3e6e33e73948065aa78235c3d52ff810eeeb5
Author: cnderrauber <zengjie9004@gmail.com>
Date:   Fri Feb 25 18:32:02 2022 +0800

    create data channel from sync state (#469)
    
    * create data channel from sync state
    
    * fix fake type

commit 130decbf1db85467fd9586b3ca601cf005c0daf9
Author: David Zhao <david@davidzhao.com>
Date:   Thu Feb 24 23:07:15 2022 -0800

    CI step for static check (#467)
    
    * CI step for static check
    
    * fix staticcheck

commit 778d1aa141ab909083265a6a0a26b2401297ed53
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 25 12:19:49 2022 +0530

    `utils.AtomicFlag` -> `atomic.Bool` (#466)
    
    * Replacing hand rolled ion-sfu atomic with uber/atomic
    
    * Remove another hand rolled atomic
    
    * utils.AtomicFlag -> atomic.Bool

commit 0170cc1cb6c27c9e0dde62dcb7cc94c511703762
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 25 12:04:08 2022 +0530

    Staticcheck (#464)
    
    Using `go get -u honnef.co/go/tools/cmd/staticcheck`
    Uneaarthed a couple of real bugs

commit 5a4181b581804ffa68dec8b5694352ccf7b003e4
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 25 11:57:09 2022 +0530

    Replacing hand rolled ion-sfu atomic with uber/atomic (#465)
    
    * Replacing hand rolled ion-sfu atomic with uber/atomic
    
    * Remove another hand rolled atomic

commit 2959eebca80296f6afcbc7245538b2e401ed9efc
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 25 11:56:26 2022 +0530

    Introducing OpsQueue (#463)
    
    * Introducing OpsQueue
    
    Creating a PR to get feedback on standardizing on this concept.
    
    Can be used for callbacks.
    Already a couple of places use this construct. Wondering if we
    should standardize on this across the board.
    Just changing one place to use the new struct. Another place
    that I know of which uses this pattern is the telemetry package.
    
    * atomic flag -> bool

commit 6d88154402d82fcc27195dc597c8a1e916628384
Author: David Zhao <david@davidzhao.com>
Date:   Thu Feb 24 15:09:34 2022 -0800

    Reduce lock scope, avoid callbacks under lock (#462)

commit 20f21cce2b9e672407605b38e90273889e4a3ded
Author: David Colburn <xero73@gmail.com>
Date:   Thu Feb 24 14:57:14 2022 -0800

    Egress (#455)
    
    * egress updates
    
    * pass egressInfo to delete
    
    * update typefakes
    
    * export StartEgress
    
    * update protocol
    
    * new rpc, rename stores
    
    * add json tag
    
    * update tests
    
    * update protocol

commit b7aac6cb6b7dc36911d01a46a8ec99d10c25b332
Author: shishirng <shishir@livekit.io>
Date:   Thu Feb 24 12:45:07 2022 -0500

    Set track_type to VIDEO for max subscriber video quality change explcitly (#461)
    
    its defaulting to 0 -> AUDIO
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 5a9459d0d5a276c2225e02f4d260c5b7ffd39e41
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Feb 24 17:51:02 2022 +0530

    Use the same wrap logic as bucket as it is more robust (#460)
    
    Also rename n -> s for golang convention

commit eed241cf7ff7a03164c14c1dc12c80e1bfa0ef26
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Feb 24 13:43:12 2022 +0530

    Refactor Bucket a little bit (#459)

commit 7eb2fecadde55149d3e42b457ef3e116b3457ba2
Author: David Zhao <david@davidzhao.com>
Date:   Tue Feb 22 17:43:25 2022 -0800

    Close websocket connection upon join failure (#458)
    
    * Close websocket connection on join failure to avoid hang
    
    * fix auto creation bug

commit 3e7fae96eae2cd5f291fc5c633cd6bb6f758ff8f
Author: shishirng <shishir@livekit.io>
Date:   Tue Feb 22 19:08:49 2022 -0500

    Add telemetry method to capture max video_quality (#457)
    
    * Add telemetry method to capture max video_quality
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Telemetry fakes
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Update go mod dep
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 870190624e1689594263ca38ee35b446b5470f9f
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Feb 23 00:04:18 2022 +0530

    Fix no-video with adaptive streaming (#456)
    
    * Fix no-video with adaptive streaming
    
    With a recent change to initialize max quality for subscriber
    synchronously, a subsequent update at the same quality was
    getting ignored. So, there was no message back to publisher
    to start up video layers. Reproducible every time the subscriber
    joined after all the layers of publishers was turned off.
    
    While not pretty, for now, disable the check for quality match
    on subscriber update. That disabling itself is fine as there is
    another check for consolidated quality match before sending
    a message to the publisher, but in general this area has shown
    some shakiness and needs some work.
    
    * Use notify function to set initial quality also

commit a48cb6d0c40a7075b426f62840aa608d77bde665
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 20 21:14:57 2022 -0800

    Avoid deadlock during room close (#451)
    
    * avoid deadlock during room closse
    
    * better fix

commit 3f381721393ef9996f58011cc2c23d690c641900
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Feb 21 08:52:11 2022 +0530

    Types for ConnectionID, NodeID, ParticipantKey (#450)
    
    * Types for ConnectionID, NodeID, ParticipantKey
    
    * latest protocol version

commit f209e9319aa226ba30b728c8c3cff79b2e7ebdff
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sun Feb 20 20:52:17 2022 +0530

    Reset channel observer in resetState (#449)
    
    * Reset channel observer in resetState
    
    * Spelling fix

commit 1e459e91ccc0c986b5fb38e9e31663b85c48bfbc
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sat Feb 19 13:17:55 2022 +0530

    Stream priority (#448)

commit c20fb237d531797b24c5f8a938f0928a44482afb
Author: David Zhao <david@davidzhao.com>
Date:   Fri Feb 18 09:21:24 2022 -0800

    Initialize subscriber quality to default layer (#444)

commit dd4cec7724a18e38c9b93753589568bbdb9e226f
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 18 21:10:52 2022 +0530

    Deleting unused code in stream allocator (#447)

commit 92d47ec421dc4e4d7d5682413c9453831a448f9b
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 18 16:26:27 2022 +0530

    Resync uses SSRC change. Reset to 0 when a resync is needed. (#446)

commit 517312fb87d94672be7155444e87ac53180e2464
Author: cnderrauber <zengjie9004@gmail.com>
Date:   Fri Feb 18 17:45:14 2022 +0800

    update to turn@v2.0.8 (#445)

commit babbfb37aafaa73d06b6ce0a5ea169915253faec
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 18 14:21:30 2022 +0530

    Include NACK ratio in congestion control (#443)
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * Clean up
    
    * Remove debug
    
    * Remove unneeded change
    
    * fix test
    
    * Remove incorrect comment
    
    * WIP commit
    
    * Reset probe after estimate trends down
    
    * WIP commit
    
    * variable name change
    
    * WIP commit
    
    * WIP commit
    
    * out-of-order test
    
    * WIP commit
    
    * Clean up
    
    * more strict probe NACKs

commit 7fcb887eb83aa537c72aa605aaf94918d37291a0
Author: shishirng <shishir@livekit.io>
Date:   Thu Feb 17 15:15:10 2022 -0500

    use delta bytes in window to identify max layer (#442)
    
    total_bytes is aggregate, when we switch from higher layer to lower
    layer, it takes time for lower layers total_bytes to catch up to
    stopped higher layers
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit d04f4d12d1ba0345439d4281f19ef0e07018e833
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Feb 17 13:33:44 2022 +0530

    Throttle RTX under certain conditions to prevent RTX storm (#440)
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * Clean up
    
    * Remove debug
    
    * Remove unneeded change
    
    * fix test
    
    * Remove incorrect comment
    
    * WIP commit
    
    * Reset probe after estimate trends down
    
    * WIP commit
    
    * variable name change
    
    * Clean up
    
    * Remove debug logs
    
    * gofmt

commit 0bbed7f0bd71d53144bee36f741667a21a900611
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Feb 17 11:03:23 2022 +0530

    Use padding for probing (#434)
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * Clean up
    
    * Remove debug
    
    * Remove unneeded change
    
    * fix test
    
    * Remove incorrect comment
    
    * Reset probe after estimate trends down

commit c534099e3a3abae2b645d4b2f03faaeb156a519c
Author: shishirng <shishir@livekit.io>
Date:   Wed Feb 16 19:31:59 2022 -0500

    fix connection_scores not being sent to telemetry during delta calc (#439)
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 7b086ecf4c7ed772868ccfa6cf938982dc1dc4b0
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Feb 16 18:57:43 2022 +0530

    Do not send RTCP if receiver is closed (#438)

commit d69ee146968ba5be9974bad039aef14e47c28dcc
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Feb 16 18:28:41 2022 +0530

    Make stream tracker very forgiving for layer 0. (#437)
    
    With screen sharing in Chrome 97, static content sends one packet
    a second. Layer 0 stream tracker was configured to expect 2 per second.
    Make it very relaxed so that one packet in two seconds declares layer 0
    active.

commit 32d8af6da0ac85c99da15bcbfda5f1cfbf7d8529
Author: cnderrauber <zengjie9004@gmail.com>
Date:   Wed Feb 16 19:57:55 2022 +0800

    repeat request pli until first keyframe received (#436)

commit c9cfb0d362d56e83c72064e5313f102bd2548de0
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 11 14:04:47 2022 +0530

    Need to return delta the new provisional layer takes. (#433)

commit f3a6f580065cea199a1339a19e5d08454497a8a7
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 11 12:09:48 2022 +0530

    Use correct publisher id in stream state update (#432)

commit a6338992e83e86ad3fe6860dbbd9402c4a582ddf
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 11 09:17:53 2022 +0530

    Stop forwarding on congestion (#429)
    
    * WIP commit
    
    * comment out debug stuff

commit 8680f6fd232cf1161a35c1766eca4992f039a2fa
Author: shishirng <shishir@livekit.io>
Date:   Thu Feb 10 16:48:16 2022 -0500

    Send trackInfo object in TRACK_SUBSCRIBED event (#431)
    
    Need track details in subscribed events
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit e96e8e7f97450975b79ff5ac45d9162d231ab94d
Author: shishirng <shishir@livekit.io>
Date:   Thu Feb 10 11:21:17 2022 -0500

    Clean up closed tracks stats and handle -ve packet_lost (#430)
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit f3572d2654dd5d1c276c9ab20e4b7bbd2184992e
Author: cnderrauber <zengjie9004@gmail.com>
Date:   Thu Feb 10 16:39:59 2022 +0800

    tune speaker detector more sensitive (#427)
    
    * tune speaker detector more sensitive

commit aadfc97b0bccbf5edbdac8aa84fc5fda05c0b805
Author: David Zhao <david@davidzhao.com>
Date:   Thu Feb 10 00:31:09 2022 -0800

    Minor cleanup, updated docs to reflect Swift (#428)

commit 6f7e6c45568a34f116e99895bfed90992f7d7a78
Author: shishirng <shishir@livekit.io>
Date:   Wed Feb 9 20:45:53 2022 -0500

    Compute delta stats to send downstream (#426)
    
    * Compute delta stats to send downstream
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Update tests: total_packets should be diff between 2 packets
    
    First packet was 1, second was 4. diff should be 3
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * If there are no videoLayers, do not sent in Stats
    
    For audio and Downstream tracks, we do not  get layers
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Use prev Max layer for current delta and update layer info for next round

commit 837f64643f25c62d8fd20be80137601735898af2
Author: David Zhao <david@davidzhao.com>
Date:   Wed Feb 9 12:08:56 2022 -0800

    v0.15.4

commit aff25afb7050257e1e563ee3f70056432643a48d
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Feb 9 19:00:03 2022 +0530

    NACKs with min/max intervals and exponential backoff retries (#425)
    
    * NACKs with min/max intervals and exponential backoff retries
    
    * simplify

commit f4f9df375f2feddb0e941cbe7c2ca4d8447c3cd7
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Feb 9 14:08:07 2022 +0530

    Ignore 0 RTT for nacker (#424)
    
    - Propagate when a track is added
    - Reduce scope of lock

commit 222b02aa73951770c93a46f376f8be62fc64ecff
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Feb 9 09:34:40 2022 +0530

    RTT (#420)
    
    * Consolidating PLI throttle
    
    Use the throttler in `sfu.WebRTCReceiver`.
    
    Does change shape of config object.
    
    * Move PLIThrottleConfig to sfu.WebRTCReceiver
    
    * fix test compile
    
    * Cleaning up unused stuff
    
    * improve readability
    
    * RTT
    
    - Calculate down track RTT using RTCP Receiver report
    - Surface it back to the participant
    - Participant updates all its published trackes
      (throttled to limit update to once in 5 seconds)
    - That propagates to all the upstream sfu.Buffer and the nacker.
      So, we will have RTT throttled NACKs.
    
    * rtt callback

commit 562546829b9a90d5a214b00a9a9dc2658a23896f
Author: shishirng <shishir@livekit.io>
Date:   Tue Feb 8 16:13:55 2022 -0500

    handle remote ip address in case of forwarding (#421)
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 3117547d60ff0de6a1ed48e242fe3afd3082c093
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Feb 8 22:50:43 2022 +0530

    Consolidating PLI throttle (#419)
    
    * Consolidating PLI throttle
    
    Use the throttler in `sfu.WebRTCReceiver`.
    
    Does change shape of config object.
    
    * Move PLIThrottleConfig to sfu.WebRTCReceiver
    
    * fix test compile
    
    * Cleaning up unused stuff
    
    * readability improvement

commit fee300985362ad324df92c6e5e09cea6bcef9e81
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Feb 8 17:19:59 2022 +0530

    Use buffer channel for all RTCP messages (#418)
    
    RTCP messages are going through two channel hops now.
    Maybe we don't need that anymore now that the original
    problem is diagnosed. But, pushing all RTCP via
    the callbackOps channel for now to make it consistent.

commit e948ecb3a81d68e2708b376c224448adb78be337
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Feb 8 16:32:49 2022 +0530

    Duplicate packets should not update packet loss counter (#417)

commit d3ca4a37a8f77f15601c7e124295a7849f343263
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Feb 8 15:54:45 2022 +0530

    Proper context for down track logger (#416)
    
    It was having two participants (both publisher and subscriber).
    Fix it by getting logger from susbcriber and adding track context.

commit bce3a9b10a96846b410119e64689829729449597
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Feb 8 13:51:44 2022 +0530

    Tigether scoping on connection stats lock. (#415)

commit 00b2a216c78ee1c01e8c62c07a7e6b083fc41bde
Author: cnderrauber <zengjie9004@gmail.com>
Date:   Tue Feb 8 16:00:56 2022 +0800

    fix deadlock cause underlying buffer full (#413)
    
    * fix deadlock cause underlying buffer full

commit 941cac8dfc35f3fb15be9aee4f13c58c64ef2640
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Feb 8 13:13:41 2022 +0530

    set DTLS retransmit interval to 100 ms (#414)

commit 36289bbca7858044c39853d3d400ba76b1a8632a
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Feb 8 12:53:14 2022 +0530

    FPS (#410)
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * WIP commit
    
    * Clean up
    
    * Clean up
    
    * Store RTT in stats
    
    * spelling mistake
    
    * Make tests compile
    
    * Fix test compilation error
    
    * fix tests
    
    * clone
    
    * latest protocol

commit a6eb4290d3f86ba90dc0945658de6ac56d05f38b
Author: David Zhao <david@davidzhao.com>
Date:   Mon Feb 7 23:15:24 2022 -0800

    Generate telemetry stubs (#412)

commit 32b56e0fd6da896a25f16b07de80a08f3e156104
Author: shishirng <shishir@livekit.io>
Date:   Mon Feb 7 17:23:39 2022 -0500

    Add ParticipantActive telemetry method (#411)
    
    * Add ParticipantActive telemetry method
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * fix test
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Update go mod
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 81521f80db827e71b62a4943820507693221fcbe
Author: David Zhao <david@davidzhao.com>
Date:   Sat Feb 5 23:15:58 2022 -0800

    Support for custom TURN servers (#409)
    
    Closes #271

commit e6c236357a6930176914136493c8f6376fbbc620
Author: David Zhao <david@davidzhao.com>
Date:   Sat Feb 5 22:57:47 2022 -0800

    Option to disable ICE-Lite to improve compatibility (#408)

commit 4a9b84478188277cf186a855b60ebf9b7d97519a
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sat Feb 5 23:25:53 2022 +0530

    Process RTX packets for TWCC (#406)
    
    The SRTP replay detection was disabled recently.
    But, they were effectively getting dropped in `sfu.bucket`.
    
    Doing two things with RTX packets in this PR
    1. Update stats - add to packet count and bytes
    2. Process header extension - to process TWCC

commit 7f2a5ae036174b6663722ec2b1f2f5e211561e18
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sat Feb 5 13:14:06 2022 +0530

    latest DTLS to fix long delay connections (#405)

commit 9c3794144e01014c64cab7ef356fa9d9f13d7922
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 4 23:11:27 2022 +0530

    Force DTLS role client for the simulated client side peer connection (#403)
    
    * Force DTLE role client for the simulated client side peer connection
    during migration.
    
    Without that, with remote side being ice-lite (i. e. server offer
    is subscriber peer connection), pion chooses the server DTLS role
    and both side end up being servers.
    
    * pion/webrtc -> 3.1.21
    
    * remove local reference
    
    * Use setup from previous answer
    
    * more comments

commit 4388a68b7ecfd13437e78513e74e6f04c00d1c6f
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 4 14:18:25 2022 +0530

    Breaking up `calc` for easier reading. (#402)
    
    * WIP commit
    
    * fix test
    
    * More clean up
    
    * cast to right size
    
    * use local variable
    
    * set a default RTT
    
    * Do not log RTX, although need to figure out source of RTX
    
    * fix test

commit 05c8a6b2fdf8342f306d10d91f233a33c18e99b1
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Feb 4 08:43:32 2022 +0530

    Cleaning/simplifying some buffer bits (#398)
    
    * Cleaning/simplifying some buffer bits
    
    1. NACKs are always inserted in order. So, get rid of
    bunch of out-of-order handling in there and simplify.
    2. For now, removing triggering a key frame from NACKs.
    Let subs drive it.
    3. Move to 16-bit sequence numbers except for receiver
    report handling. Simplify bits about unwrapping sequence
    number on all packets.
    4. Remove unused code.
    
    * remove unused field

commit 6f6d55345b438ee3df8ffde3df2983d3cefdf9a6
Author: David Zhao <david@davidzhao.com>
Date:   Thu Feb 3 17:10:52 2022 -0800

    Use ParticipantInfo version to ensure consistency (#399)
    
    * Use ParticipantInfo version to ensure consistency
    
    Deprecating time.Time and avoid locking unnecessarily
    
    * properly adjust ulimit. update protocol
    
    * Save initial version from params
    
    * get rid of metadata field, use grants copy
    
    * fix test

commit 7bbd2381884a5d2a6725b4097ef9994faed50fbd
Author: David Colburn <xero73@gmail.com>
Date:   Thu Feb 3 14:20:19 2022 -0700

    clean up logs and imports (#400)

commit 7297a57f3d784048d4928b4e379315eadb102f4e
Author: David Zhao <david@davidzhao.com>
Date:   Wed Feb 2 21:29:45 2022 -0800

    Improve TestMultiNodeRefreshToken reliability

commit a8d43aab67f0ce331484d079efa3181f57e35c05
Author: David Zhao <david@davidzhao.com>
Date:   Wed Feb 2 21:16:08 2022 -0800

    Uses IceLite only for protocol 6 clients (#397)
    
    * Update to Pion v3.1.20, with fixes DTLS role ambiguity
    
    * Gate ice-lite on protocol version
    
    Co-authored-by: boks1971 <raja.gobi@tutanota.com>

commit ede39fe87f03cd7a900566b441a627d58eb93193
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Feb 2 16:31:07 2022 +0530

    Disable SRTP replay protection (#396)

commit e22f47b41649c508afff751045cac0f9ab4c769c
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Feb 1 13:24:42 2022 +0530

    Split out stream tracker manager (#394)
    
    * Random clean up
    
    * Split out StreamTrackerManager for re-use
    
    * Reset the correct tracker
    
    * use generation counter to exit coroutine
    
    * start only for video and when enabled
    
    * Add RemoveAllTrackers method

commit 247807b2cc092ed8b58aa39992a13fea705eda99
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Feb 1 12:41:37 2022 +0530

    Use an atomic flag to stop stream allocator (#395)
    
    * Use an atomic flag to stop stream allocator
    
    * use a mutex for event channel
    
    * RLock while posting event
    
    * lock isStopped flag to prevent posting to closed channel

commit 0574803be84b104518335e5b9828cc2ccf67baa9
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Feb 1 08:57:34 2022 +0530

    Random clean up (#392)

commit 9db2bd22dfb608acce3fe29cad026c09e1f79cae
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Feb 1 08:57:09 2022 +0530

    LK logger with context in SFU (#391)
    
    * LK logger with context in SFU
    
    * Move buff.SetLogger into sfu.WebRTCReceiver

commit 3d132730f96c0b243ef9d75114bac54e9c0c6cf5
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jan 31 17:09:36 2022 -0700

    replace entire nodeStats object (#393)

commit 745939ec24c32562c7c40dfcbbb9fb53625edab8
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Jan 31 07:47:24 2022 +0530

    Smoother dynacast transition (#390)

commit a1f88faed1ad2be90b0632de38af8ff6c1c3e4bd
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sun Jan 30 10:59:47 2022 +0530

    Add a resync API to sfu.DownTrack (#389)
    
    * Add a resync API to sfu.DownTrack
    
    Also passing in logger with context into sfu package. More to do here
    with proper logging context in all modules, but this is a start
    
    * Remove debug code
    
    * fix tests

commit 7ac3631b6c3fec73118553ed42e6440733259a30
Author: shishirng <shishir@livekit.io>
Date:   Sat Jan 29 10:51:21 2022 -0500

    Get clients remote address from request (#385)
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 3bfdb2523eaf22de702cce1b7fc6e8ed694efe96
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sat Jan 29 20:14:36 2022 +0530

    Catch some instances of traversing map outside lock (#388)
    
    * one more place, do not range over map outside lock
    
    * Catch one more location
    
    * Catching a couple of more places

commit 3430650d3e75ba9f7785513a2ce9df0d5766d69e
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jan 29 00:52:06 2022 -0800

    Server-side parsing of UserAgent (#387)

commit f9cb274521e4a304149f4f0e4ee5e7f241312857
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 28 21:59:51 2022 -0800

    v0.15.3

commit a5d779a8b22fc6035e3aac2bbf9f73a6dea32477
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 28 21:43:40 2022 -0800

    Increase test client timeout

commit 6af6eefb8c0c0a3dc1ea335481d029d4d8236eb1
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 28 21:34:21 2022 -0800

    Improve readability of test failures (#386)

commit 5b57522c05ecc468cb8535c825f5e0dc77814e2a
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sat Jan 29 00:55:00 2022 +0530

    Refactoring connection stats (#384)

commit 9747243ce2ca84d7c520bbf822b891dbd844f6b5
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 28 09:55:10 2022 -0800

    Honor autoSubscribe when subscription permissions are granted later (#381)
    
    * Ensure autosubscribe is honored when subscription permissions were granted later
    
    * negotiate even if no media has been added
    
    * don't double-negotiate

commit 30c175e9a7f2b42793a9ae19b9e205bc087bcebb
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Fri Jan 28 23:03:03 2022 +0800

    change vp8 blank frame to 8x8 (#382)
    
    * change vp8 blank frame to 8x8
    
    * rename

commit f962fef2c8fe9f08e1206901bbf4aa216b496ade
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Jan 28 08:34:13 2022 +0530

    Apply subscribed track settsings on add (#379)

commit 1e156025b4b72ff1e9ae2427fcb345e33d4d43d4
Author: shishirng <shishir@livekit.io>
Date:   Thu Jan 27 15:44:03 2022 -0500

    Store client meta on participant join (#380)
    
    * Store client meta on participant join
    
    capture region, time_to_connect, ip, node
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Update proto dep
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 26eea78b54239194bed88444ef5a5ff2e73e063c
Author: shishirng <shishir@livekit.io>
Date:   Thu Jan 27 11:24:54 2022 -0500

    Telemetry connection scores (#377)
    
    * octets - total bytes needs to be uint64
    
    uint32 wraps at 4GB
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Cleanup stats handler to use connectionQuality stats
    
    remove per packet rtcp handlers, buffer stats
    
    * cleanup connection stats
    
    * Update mediatrack to store rtcp stats in connection stats
    
    * Update downstream handling of connection stats and telemetry
    
    * Update telemetry tests
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Misc fixes
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Minor fix to avoid accessing buffer before its allocated
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * start updateStats worker in AddReciever()
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Use previous score to calculate avg scores
    
    * Restructure connectionStats
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 32825d2666ef243fa61b7bf980096ac97e2c98fb
Author: David Colburn <xero73@gmail.com>
Date:   Wed Jan 26 19:12:39 2022 -0700

    clean up WriteRoomRTC (#378)
    
    * clean up WriteRoomRTC
    
    * regenerate

commit 69116a57fcf1ca7f4f67536be97985415b6afbe9
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jan 26 00:26:42 2022 -0800

    Correctly use writeParticipantMessage for APIs (#376)

commit 45b07e2b3ffd7cefd8a054eb59a6c78a00fe33c1
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Jan 26 13:23:38 2022 +0530

    Add trackID to logger context (#375)

commit 44afa8bae16bd27b11d1031a43e0980eb8c969f4
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Jan 26 13:22:39 2022 +0530

    Delete down track on close (#374)
    
    Note that it is called from Unbind also (previous behaviour). It should
    be fine as long as there is no new down track for the same peer added
    between close calling it and unbind calling it.

commit c92e0e38d5760567fc3ec9e1360a13cc416ed36f
Author: David Colburn <xero73@gmail.com>
Date:   Tue Jan 25 08:23:22 2022 -0800

    Room closed fix (#370)
    
    * Room closed fix
    
    * switch to uber/atomic
    
    * release after err check

commit bb2610909651a5d1bc48c5d1742d64094ec55e7e
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Jan 25 18:08:41 2022 +0530

    Add a method to clear receiver. (#372)
    
    With remote media track receiver starting/stopping/restarting possibly,
    receiver should be cleared when stopped and will be re-initialized when
    it is restarted.

commit b2cb93d9a441364f22dbf071851383149ae208bd
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Tue Jan 25 16:13:52 2022 +0800

    fix concurrency problem (#369)

commit e7e3fcac43c6d685ba1fd4f230385f50f17bfbb9
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jan 24 20:51:57 2022 -0700

    remove duplicate IsRecorder

commit 627a93298e16ffccf4a7836c1342b18ad37030db
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jan 24 17:22:10 2022 -0800

    IsRecorder (#368)
    
    * IsRecorder
    
    * regenerate fakes

commit 56ebd521f99649d5332173ffbe21e71fe10956db
Author: shishirng <shishir@livekit.io>
Date:   Mon Jan 24 14:38:04 2022 -0500

    Telemetry capture published track updates (#367)
    
    * Telemetry capture published track updates
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Updated OnVideoLayerUpdate to take slice of layers
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Update proto dep
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 90b97137c9f36da2136291f738d83146f3faaf66
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Mon Jan 24 17:03:24 2022 +0800

    fix migrate state of subscribe only client (#366)

commit 52fc53d3257b8efff5ab1081029cfb3bd2af1d1f
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 23 23:15:49 2022 -0800

    Issue updated tokens to clients. (#365)
    
    This ensures client reconnect attempts would be successful for long running rooms. It also fixes inaccurate permissions that were set incorrectly when full reconnections take place.

commit 6a4695887099c9572c6d95c2cd09ab58b006dad2
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sun Jan 23 08:22:39 2022 +0530

    Some receiver clean up (#364)

commit d1848ab21841aae0af105176a5706b7439f880ef
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sat Jan 22 12:16:15 2022 +0530

    Rename `UpdateSubscriptionPermissions` -> `SubscriptionPermission` and other renaming (#363)
    
    * Store subscription permission in DB
    
    * Comment out subscription permission to DB
    
    * WIP commit
    
    * Clean up
    
    * clean up
    
    * Latest protocol

commit 4ebfc2eef619a93ac2ae753cba31529e05c3a163
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 21 15:13:44 2022 -0800

    Fix missing docker prefix

commit c3dec005109f4845bda29503674bb2598bf0255d
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 21 14:28:03 2022 -0800

    Deprecation notice for old deployment scripts
    
    Fixed #355.

commit f9a1dd97c2677b7f08b805e1d3a65154c6d8f669
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 21 11:00:33 2022 -0800

    Ensure RoomService operation is complete prior to returning (#362)
    
    * Ensure service doesn't return before operation is complete
    
    * added integration tests for RoomService

commit 126bb8867b7cdac039907d869c41e1f432aafe61
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 21 09:57:36 2022 -0800

    Ability to disable auto-create (#361)
    
    * setting to disable autocreate
    
    * improve test reliability
    
    * update comment
    
    * update to address feedback

commit 7f4ead9b25bdfff6cd939ad80c0d17178b5a3b3d
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Jan 21 11:16:54 2022 +0530

    Fire onNoSubscribers callback in only one place. (#360)
    
    While reworking some cloud code, this is getting fired multiple times
    (in RemoveAllSubscriber and in the callback). So, it causes some
    errors in the logs. Fire it only from one place.

commit b906f379373d16fc87460fe27ff2d6aec3ee6ee1
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jan 20 20:57:37 2022 -0800

    Quickstart edits in README

commit 2886ab1e3947c95677e44acf311560c5d6dc992f
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Fri Jan 21 12:32:26 2022 +0800

    RemoveSubscriber through pariticipant (#359)

commit 3d56b7c7f3483b85b717d0c050b47adea542f8f5
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Jan 21 09:43:59 2022 +0530

    Adjustments to allow permissions migration. (#356)
    
    * Adjustments to allow permissions migration.
    
    * Fix tests

commit 829e183863b5e66214490a957a36029a77ff33d4
Author: shishirng <shishir@livekit.io>
Date:   Thu Jan 20 15:29:34 2022 -0500

    pass client info object in participant joined request (#358)
    
    * pass client info object in participant joined request
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Update tests
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 4e4ad102f7de558106cb381cabf1b055857b061d
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Jan 21 00:50:48 2022 +0530

    move stop timer in mediatracksubscriptions module where it belongs (#357)
    
    * move stop timer in mediatracksubscriptions module where it belongs
    
    * Correct my screw up

commit 31a0275c0bc69f89281a934c5847b27ca2aebe8f
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jan 19 22:12:14 2022 -0800

    Included link to connection tester

commit e4e292d988ee52e3dcaccbfac515aafaacb55d59
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Jan 19 23:18:55 2022 +0530

    Do not send connection quality when participant is not active. (#354)
    
    * Do not send connection quality when participant is not active.
    
    Some times when the connection takes a while (in a long delay network
    on Safari for example), connection quality arrives before connectivity.
    
    * Do not calculate connection quality of unconnected participants

commit 0178a004dd701c0d17e0ad8db0286fb7adc0add1
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Jan 19 22:36:41 2022 +0530

    Compile in send-side bandwidth estimation. (#351)
    
    Still not using it. But, now that Pion has merged the initial
    version of GCC (Google Congestion Control) for send side bandwidth
    estimation, we can integrate it.
    
    We will enable once we have tested and feel comfortable.

commit 0acb0a9d662b4268518534d9e557cc42a89a3fc4
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Wed Jan 19 18:14:38 2022 +0800

    don't send black screen when Track be resumed (#352)
    
    * don't send black screen when Track be resumed
    
    * default flush

commit 5bea9debb7a52d6b45755888002e7cef60cd6b9f
Author: David Colburn <xero73@gmail.com>
Date:   Wed Jan 19 02:13:06 2022 -0800

    Code cleanup (#353)

commit 6400de1c101258278cc9847db0c5121eaacbb713
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 18 23:33:02 2022 -0800

    Readme update - simpler getting started (#350)
    
    * simpler setup instructions
    
    * access tokens link

commit 10714b3f6dcae9ecab47177e1b76d32a0726f3ad
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Jan 19 10:28:55 2022 +0530

    Adjust interfaces to better work with cloud (#349)
    
    * Adjust interfaces to better work with cloud
    
    * force argument to quality update

commit 8a5f26b0648609054e72c03a5af053d7637c4ebf
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Wed Jan 19 10:24:29 2022 +0800

    refine reuse transceiver (#348)

commit 76b2442f4035bc9fff5f3eb8e750c950ab048f06
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 18 17:21:17 2022 -0800

    Link to Ruby SDK

commit 88cad8f093015c8fd64e9570ee636e0fc14eec55
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 17 23:54:04 2022 -0800

    Generate cleaner configs (#347)
    
    Also upgrade to v1.17 for docker builds

commit 0e74ce89c5b3e58e457c501080741f577675fb0c
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Jan 18 11:26:57 2022 +0530

    Update pion/webrtc (#346)
    
    Also use DTLSRoleServer in publisher peer connection to get around
    potentially a Chrome browser issue in long latency links.

commit f662119ca4559d9c9ad1579c92aecf13f630ee6b
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Jan 17 16:36:10 2022 +0530

    Add roomID to logger util (#345)

commit 629dae0f8401e7dcbb8b16ba288340b2a9332ca4
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Mon Jan 17 12:04:01 2022 +0800

    fix close on nil sink (#344)

commit c122c98e4d32af34cf7efe17c97e22bfb8975344
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jan 15 10:28:03 2022 -0800

    Improved logging configuration (#342)

commit d45435ed3d0fbbd58d43f6a3e11d67cf7bd6a7e0
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sat Jan 15 23:25:48 2022 +0530

    Fix null dereference (#343)

commit 416ca80a8b344c7b37e1e6a6507022ed14b79654
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Fri Jan 14 17:49:45 2022 -0800

    get all local ip addresses (#340)

commit f2f776931f89474d5bbb404113e0c80b3169989c
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 14 17:44:28 2022 -0800

    Integrated logging with Pion (#341)
    
    * Integrated logging with Pion
    
    * handle nil logger

commit cd9c1254148222b765d87d81e97a05c96f9b7e8a
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 14 10:13:11 2022 -0800

    Also allow headers with CORS (#339)

commit cf830191e30cb62cb828b87b592ea73a5612e139
Author: shishirng <shishir@livekit.io>
Date:   Thu Jan 13 17:45:21 2022 -0500

    Add client info to participant_joined event (#337)
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit f9b2af0cf9a215ac1dcafdd74f1c4453dd2ee840
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jan 13 09:29:48 2022 -0800

    Use CORS middleware to allow RoomService use (#335)

commit 29eb8d9dbf02756ec09868f3921e63a1ce421a94
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jan 13 08:40:29 2022 -0800

    Parse additional info parameters clients could send (#336)

commit 017ed1333842316935abe945a06e40288d8cce7a
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Jan 12 23:19:56 2022 +0530

    Prevent multiple resume notifications on track (#334)
    
    * Prevent multiple resume notifications on track
    
    When returning previous allocation as is, reset change to none.
    Ideally, would like to have change as a separate return and not in last
    allocation. But, also prefer to have last allocation state. For now,
    resetting change.
    
    * log bandwidth estimate only on decrease

commit 5cdea4e15d0695ca43a501f75f89d9c482b5b40a
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Wed Jan 12 10:23:55 2022 +0100

    Avoid per packet operation (#332)

commit b05d154d120500ea5c8700ba3591de18a776af2e
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 11 23:34:27 2022 -0800

    Handle simulated leave (#333)

commit e67db84b3bc796af4f7b71611b37ed9ddaaa97af
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Jan 12 00:11:48 2022 +0530

    Remove stubs (#331)
    
    * WIP commit
    
    * Use LocalParticipant interface
    
    * Remove no-op local participant
    
    * Remove localparticipant
    
    * Remove no-op stubs
    
    * Consolidate PublishedTrack into MediaTrack

commit c2ba26eee61aacee39996fdd42373bb1104cdbe7
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 11 00:37:24 2022 -0800

    Handle SimulateScenario requests (#330)
    
    * Handle SimulateScenario requests
    
    * actually use sendLeave
    
    * fix local test failures due to filehandle limit

commit e82b8ea0a0d1638f6341fadc2985c0162ad2112f
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Jan 10 19:17:58 2022 +0530

    No op implementation to remove stubs in remote (#327)
    
    * No op implementation to remove stubs in remote
    
    * Place interface first

commit d6deb6cfa4ab9284c4b382dfe0a8395f9ef00fe9
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Jan 10 19:07:21 2022 +0530

    Move UpdateTrackInfo into MediaTrackReceiver (#329)

commit 02eb21c2cededd787d9910f1553849464c4f39ce
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Jan 10 18:34:54 2022 +0530

    Move MediaTrack ToProto out of media track receiver as remote needs a (#328)
    
    different implementation.

commit ad5267705cc8094cf70d9cf9633ca5ee235b5967
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Mon Jan 10 17:27:24 2022 +0800

    add code lost during refactor (#326)
    
    Co-authored-by: cnderrauber <zengjie9004@gmail.com>

commit f3d14f9b04bc7208fd5de92b4188c00dcd3d8fac
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Jan 10 13:31:12 2022 +0530

    Rename state for consistency (#325)

commit 4989539aaa769a41ae2afa58f31e65ae3d31d07e
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Mon Jan 10 15:17:22 2022 +0800

    move VideoQualityToRID to mediatrackreceiver (#324)
    
    Co-authored-by: cnderrauber <zengjie9004@gmail.com>

commit 1bc28240f8567a797518e5227c30d6ff61f6a0dc
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Jan 10 12:15:03 2022 +0530

    Lock adding to pending subscription (#323)

commit 54e13d20bb431559d55e73618aeb5cf5360c964a
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Mon Jan 10 12:58:10 2022 +0800

    sfu node always pick ice controlled role(lite) (#322)
    
    * sfu node always pick ice controlled role(lite)
    
    * fix test case
    
    Co-authored-by: cnderrauber <zengjie9004@gmail.com>

commit 9d74d99fed8876b935ef4e7f045d174ac0c9e36f
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sun Jan 9 11:01:42 2022 +0530

    Clean up unused config param (#320)

commit a9e0598210eaa99a5921d2cd55cb30ca0a90fc04
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sun Jan 9 10:45:49 2022 +0530

    uptrackmanager reuse (#318)
    
    * WIP commit
    
    * Remove the double lock
    
    * Remove unused variable
    
    * WIP commit
    
    * Fix test
    
    * WIP commit
    
    * Split out MediaTrackReceiver
    
    * Address comments from David

commit 8582ca4c9b8a3a9ae871d31ddfff174e62e099ad
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Sat Jan 8 18:54:23 2022 +0800

    Session migration (#319)
    
    * migrate between nodes
    
    * session migration
    
    * bug fix
    
    * use version instead of query parameter
    
    * clean code
    
    * clean
    
    * merge master
    
    * solve comments
    
    * solve comment
    
    * update go.mod
    
    Co-authored-by: cnderrauber <zengjie9004@gmail.com>

commit ecf9590d565cc147d80dc9dc22b6bc8b3a1ab82e
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Jan 7 01:46:15 2022 +0530

    More abstractions (#316)

commit dd612f966d8c0e42e85e1003dbabe04b96ed4705
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jan 5 23:02:00 2022 -0800

    Documentation around congestion control config option

commit 5064f35c29f0b339106dc8d5f3bdd20bea60f46b
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Jan 6 09:02:11 2022 +0530

    Refactor media track subscriptions (#314)
    
    * Refactor media track subscriptions
    
    - To enable re-use of common bits
    - Add max quality from other nodes
    
    * Lock close handlers slice
    
    * Reverting multiple on close handlers of downtrack, unclear if it is needed yet
    
    * Make Logger a pointer
    
    * audio level in MediaTrack like remote media track
    
    * Cleanup
    
    * Add a no subscribers callback
    
    * Add method to update subscribed quality from another node
    
    * loss proxying from remote node
    
    * Address comments from David
    
    * create subscriber node quality map

commit b020584170f68aa2472c4e4ee88d445a5002e22c
Author: David Colburn <xero73@gmail.com>
Date:   Wed Jan 5 17:56:00 2022 -0800

    v0.15.2

commit 46446ef04710728b72d71cc63954f65c455a963a
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Jan 4 22:37:13 2022 +0530

    Send speaker update with inactive speaker when participant (#315)
    
    * Send speaker update with inactive speaker when participant
    leaves/unsubscribes
    
    * Check that protocol version supports speaker updates

commit 973420faf5b597c3262be9b873901963f176e90b
Author: boks1971 <raja.gobi@tutanota.com>
Date:   Tue Jan 4 16:57:49 2022 +0530

    Revert "Refactor media track subscriptions"
    
    This reverts commit 9ca85454ed595219477ecee7d2ef76559789843d.

commit 9ca85454ed595219477ecee7d2ef76559789843d
Author: boks1971 <raja.gobi@tutanota.com>
Date:   Tue Jan 4 16:40:47 2022 +0530

    Refactor media track subscriptions
    
    - To enable re-use of common bits
    - Add max quality from other nodes

commit 995c1e86766ac10c62db5a888781d0a02c017483
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Jan 3 12:43:58 2022 +0530

    type aliases -> type definitions (#312)
    
    * type alias -> type definition
    
    * participantSid -> participantID in a comment
    
    * Update protocol

commit d5c955d11fd9660e3d2ba116f6bd0669758add60
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 2 22:38:52 2022 -0800

    bump version v0.15.2-SNAPSHOT

commit 3a9009ae1251110ac06d4e778a310c4b498585b3
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sun Jan 2 16:49:16 2022 +0530

    type definition of room name (#311)
    
    * WIP commit
    
    * update protocol
    
    * Fixing a test and catching one place where casting was missed
    
    * Fix one more spot which need conversion from livekit.RoomName -> string
    
    * do not covert list

commit 66a1ffe414ff42c32e1fa051d241257401a40801
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sat Jan 1 13:43:34 2022 +0530

    Allow cooperative allocation (#309)

commit d7d3ffdd13dde18d655ca85d9dedfafc992614d3
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 31 23:54:41 2021 -0800

    Fix missed update when subscribers are subscribing to the same layer (#310)

commit 8d0fb179a0286918ff4eb0914a937441999ed845
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Dec 31 14:04:22 2021 +0530

    Layer 0 and non-simulacst tracks also can be fully unsubscribed. (#308)

commit fc95757c7de44273396bc652eeeb35c36c22408f
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Dec 31 09:58:13 2021 +0530

    Do not pause if pause is not allowed (#307)

commit 007177d095f052384805e65a5d569c8b7c659ce1
Author: shishirng <shishir@livekit.io>
Date:   Thu Dec 30 15:26:14 2021 -0500

    room_sid to room_id update in analytics proto (#306)
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 98586c2490e85cc803ba79e0111922a4f1a10694
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Dec 31 00:26:29 2021 +0530

    A simple configuration for congestion control. (#305)

commit 107e7bbb39852c5bdb6bf97959e39107f7291438
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Dec 30 20:09:03 2021 +0530

    Configurable bandwidth estimation side (#298)
    
    * Fix tests
    
    Add back adding track to publishedTracks for testing purposes.
    
    * WIP branch
    
    * Don't know why merge from `master` did not catch this change.
    
    * WIP commit
    
    * Hook up all the bits for TWCC to work
    
    * Fix typo
    
    * WIP commit
    
    * Catch up to latest API
    
    * Move RTP/RTCP info config
    
    * Instantiate GCC/TWCC interceptor only when in use
    
    * comment SSBWE parts
    
    * RTCP feedback in publisher config

commit 6f84b36ccf9f6e1adf93b85fc16be50e0908ba56
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Thu Dec 30 13:13:40 2021 +0100

    Use RTT field in analytics stats (#304)
    
    * Update protocol to v0.11.7
    
    * Use RTT field in analytics stats
    
    Instead of Delay

commit 07db1ba726cdc4d50a0a4736eed8ff79c2d82251
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Dec 30 16:43:20 2021 +0530

    Some more files with types (#302)

commit 1b66fe1e2391a6c7461fa99f7317a964e08a9e27
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Thu Dec 30 11:06:00 2021 +0100

    Fix handling of PacketLost (#296)
    
    They come accumulated already.

commit 2d8106c3d7e45e98a55680f6d8fd8b93a3e460b6
Author: David Zhao <david@davidzhao.com>
Date:   Wed Dec 29 22:04:46 2021 -0800

    go mod tidy

commit 03000f88cb35cc2a4a79e544b83b815f35e1a3f0
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Dec 30 09:50:53 2021 +0530

    Adaptive publishing improvements (#295)
    
    * Adaptive publishing improvements
    
    * fix tests
    
    * proper comment sentence
    
    * Address comments from David
    
    * proper locking
    
    * fix crash
    
    * Do not start quality timer if not video

commit 7b0db1f3446c7bfa13ed7080d5a5b7435ad58110
Author: David Colburn <xero73@gmail.com>
Date:   Wed Dec 29 17:46:34 2021 -0800

    fix recording URL requests

commit 1fa194297f3396bbb92367e9b25285896e34243f
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Wed Dec 29 19:58:41 2021 +0100

    Implement calculating of RTT for down tracks (#300)
    
    * Implement calculating of RTT for down tracks
    * Fix code style issues

commit b744a9c2bac8f34b5c0d228b84b5260da45d69ad
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Wed Dec 29 19:51:12 2021 +0100

    Implement event loop for telemetry service (#297)
    
    It allows all actions/events to run in the same go routine.
    Therefore no synchronization primitives are needed inside
    telemetry service implementation.

commit 828d49075524af0c1e2ecff81a94ea174d597e67
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Wed Dec 29 19:29:24 2021 +0100

    Imlement analytics per track statistics (#281)
    
    New tests for telemetry + implementation of per track statistics

commit 9d78619ca3f6197af5dbcc957070af6b035831e7
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Dec 29 23:51:06 2021 +0530

    Catching a few more files with types (#299)
    
    * Use types in mediatrack.go
    
    * A bunch more files get types
    
    * One more file

commit fe06b46e94b16fe2f0cac61402e460ce833a58c0
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Dec 29 22:07:35 2021 +0530

    Include self in speaker updates (#301)

commit dc385f5d244bfd19ccaa672d79377e5193c81b37
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Dec 29 14:46:32 2021 +0530

    Beginnings of typing for various ids. (#287)
    
    * Beginnings of typing for various ids.
    
    * trackSid/TrackSid -> trackID/TrackID
    
    * update protocol
    
    * Initial livekit.ParticipantID use

commit 2209edce204a4abc9399144a5e276fa158ea3a55
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Tue Dec 28 12:54:56 2021 +0100

    Make TelemetryService testable (#276)
    
    * Make TelemetryService testable
    
    Timer is extracted for better testability of telemetryservice.
    
    Divided TelemetryService to internal part that:
    - contains business logic
    - does not contain timer
    - and therefore testable
    
    and external part that:
    - does not contain business logic
    - contains timer to send analytics every 10 seconds for all participants.
    - does not need tests
    
    * Add Test_AnalyticsSentWhenParticipantLeaves
    
    * Fix test

commit 3108ef22ad350e94bea0bc220f75d011817786f1
Author: David Zhao <david@davidzhao.com>
Date:   Tue Dec 28 00:12:04 2021 -0800

    Ability to set name on Participant (#293)

commit b747cdb8222e6fe01c7d050a333a21823dc044d8
Author: David Zhao <david@davidzhao.com>
Date:   Mon Dec 27 23:43:30 2021 -0800

    Pass along mime type with TrackInfo (#292)

commit 87a799bae2d361bf2c3b4e8858c71e2fb2b60dc5
Author: David Zhao <david@davidzhao.com>
Date:   Mon Dec 27 23:33:06 2021 -0800

    Include unique id and timestamp with webhook events (#291)
    
    Resolves #230

commit 15cd98be222ef1a1db4b0dfa53816287ab823eca
Author: David Zhao <david@davidzhao.com>
Date:   Mon Dec 27 23:32:29 2021 -0800

    Enable Room.List to filter by specific names (#290)

commit 472f51cdbaea5c39d7842597a62517a908a64ed9
Author: David Zhao <david@davidzhao.com>
Date:   Mon Dec 27 16:43:13 2021 -0800

    Fail IP lookup with STUN failure (#289)
    
    Resolves #226

commit 554baa54f6da1b7eb24aa9c0704c37184d72cc22
Author: David Zhao <david@davidzhao.com>
Date:   Mon Dec 27 13:35:30 2021 -0800

    Avoid locking while waiting for receiver read (#288)
    
    A deadlock was observed in this section, when Read was waiting for data.

commit a47153e50c2512eb6f209eb9a29ce3870478bb80
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Dec 27 14:17:06 2021 +0530

    Defer RTCP channel close till published tracks are closed (#286)
    
    * Defer RTCP channel close till published tracks are closed
    
    * Check for Close called before closing RTCP channel

commit ee99a323d29c94baa57eee58d0d8e90de83f7ecd
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Dec 24 14:14:40 2021 +0530

    Publisher controlled flex permissions (#284)
    
    * WIP commit
    
    * Add some tests
    
    * allowedSubscribers uses participant sid
    
    * correct variable name
    
    * correct another variable name
    
    * Add ParticipantSid to SubscriptionPermissionUpdate message
    
    * protocol v0.11.2
    
    * WIP commit
    
    * WIP commit
    
    * fix tests
    
    * Remove unused code
    
    * Close uptrack manager
    
    * Remove duplicate close
    
    * move comment to the correct line where the loop could be long
    
    * Fix disallowed list revocation, thank you Jie
    
    * Remove unneeded interface method
    
    * RemoveSubscriber in Participant
    
    * Clean up disallowed subscriptions and handle permissions on new track addition
    
    * add test for track addition after permission set
    
    * Remove unnecessary check

commit eae6eff6a3e41cf6c49bc8bcfd959b1c79f2fd69
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Dec 23 09:18:32 2021 +0530

    Include `participant_sid` in `UpdateSubscription`. (#279)
    
    * Include `participant_sid` in `UpdateSubscription`.
    
    Prevents all publisher tracks to find a match.
    
    * generate
    
    * Update protocol version

commit 42a9b6657d68c0fe9e6bbd9edd7ddfcd338ccbe7
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Dec 23 09:13:49 2021 +0530

    Scoped speaker update (#280)
    
    * Scoped speaker update
    
    Include only participants a participant is subscribed to.
    
    NOTE: Not doing this for active speaker changes for Protocol < 3.
    
    * correct comment spelling

commit 857ff7fae7dc5a21b5aa3b8fb8b91092b8fea479
Author: David Zhao <david@davidzhao.com>
Date:   Wed Dec 22 15:00:25 2021 -0800

    Update pion/turn to fix TURN TLS termination with external LB
    
    version v0.15.1

commit 7a54a810c9ccf119294c96972d5d84afaf45e3dd
Author: David Zhao <david@davidzhao.com>
Date:   Wed Dec 22 14:56:18 2021 -0800

    Update pion/turn to fix TURN TLS termination with external LB

commit e626ad3eaaa73105b1c32347835f84a4856d5589
Author: David Zhao <david@davidzhao.com>
Date:   Wed Dec 22 13:07:09 2021 -0800

    version v0.15.0

commit c49abf9f28fa8ecb17a4ca2d811f4158a099ea5e
Author: David Zhao <david@davidzhao.com>
Date:   Wed Dec 22 13:05:43 2021 -0800

    Increased layer tolerance to improve rendering quality (#283)

commit e6543f3b9e1614aa986526075d2e351363333307
Author: shishirng <shishir@livekit.io>
Date:   Wed Dec 22 12:37:45 2021 -0500

    Convert jitter from MicroSecs to MilliSecs (#282)
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 33a7df59bd10479f44cf1addd81d1e38b44bdd60
Author: David Zhao <david@davidzhao.com>
Date:   Tue Dec 21 14:38:16 2021 -0800

    Moved ConnectionQuality to `PublishedTrack` interface.
    
    it wasn't needed for other MediaTrack implementations

commit 2e4ccd25779f24c86876a315b2e40b9e9c1a02ae
Author: shishirng <shishir@livekit.io>
Date:   Tue Dec 21 15:35:27 2021 -0500

    Send client sdk type when participant joins in telemetry (#275)
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 8f283648427549216f034f6f34a0f197ddfe6ba1
Author: David Colburn <xero73@gmail.com>
Date:   Mon Dec 20 16:00:37 2021 -0800

    remove WriteNodeRTC from interface

commit ab73911c4930312c5f6f8fd616009962af65f657
Author: shishirng <shishir@livekit.io>
Date:   Mon Dec 20 17:34:53 2021 -0500

    subtrack should check if track was muted by publisher (#273)
    
    * subtrack should check if track was muted by publisher
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * If all tracks are muted sub/pub then send excellent connection quality
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit b32ab0e54fc9e842c78f1badc67b890c183980e6
Author: David Zhao <david@davidzhao.com>
Date:   Mon Dec 20 14:02:33 2021 -0800

    Fix incorrect order of parameters passed to NewSubscribedTrack (#272)
    
    * Fix incorrect order of parameters passed to NewSubscribedTrack
    
    Switched to explicit values via a params struct

commit 0f728b0b723da0ca9f556c68849a305f978a4d68
Author: shishirng <shishir@livekit.io>
Date:   Mon Dec 20 07:54:14 2021 -0500

    Connection quality v1 (#260)
    
    * audio connection quality mos for publisher stats
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Update tests
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Change ratings range, increase default rtt to 80
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Use stats worker to get total packets to find %lost in window
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Update go dep
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Increase interval of score cal to 5 seconds
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * use lastSequenceNumber in reports to find total packets
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Account for delay while calculating scores
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Fix minor typo
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Add connection stats/score to subscribed audio tracks
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Cleanup
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Ignore duplicate LastSequenceNumbers in rtcp reports
    
    Ignore if sequence number is less than what was recieved
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Move video track score calc to media/downtracks
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Deprecate SubscribeLossPercentage() as score calc is now handled downstream
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Initialize connection  score to excellent
    
    score is calc at 5sec interval. Client fetches score before first
    score is computed
    
    * Update test cases for connection quality
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit b0454b00a207fce0ad6cbb3540a5be759ab6f3bb
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Mon Dec 20 12:04:50 2021 +0100

    Count padding bytes in telemetry (#264)
    
    Count padding bytes in telemetry outgoing total bytes

commit 1dcc62b56904f5545179653728ea10ada352a617
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sun Dec 19 12:41:40 2021 +0530

    SubscribedQualityUpdate message (#270)
    
    * WIP commit
    
    * SubscribedQualityUpdate message to send list of currently subscribed
    qualities for a simulcast video publisher
    
    * Correct subscriberID
    
    * goimports
    
    * Do quality update on add/remove of subscribed track
    
    * do not update quality when admin mute is active
    
    * update quality on admin unmute
    
    * Update protocol version
    
    * Simplify max subscribed quality loop per David's suggestion

commit 0b71a46239788269710b91e27f1d38569a9c1821
Author: David Colburn <xero73@gmail.com>
Date:   Fri Dec 17 13:25:41 2021 -0800

    missed some typos

commit faa870de3dcdf2bd5b75ce341db14fc342559493
Author: David Colburn <xero73@gmail.com>
Date:   Fri Dec 17 15:19:23 2021 -0600

    Move callbacks out of messageRouter (#269)
    
    * move callbacks out of messageRouter
    
    * OCD
    
    * more OCD
    
    * fix forwarder test
    
    * even more OCD
    
    * maximum OCD
    
    * package name collision, copy lock by value

commit a06edd885e17f4e8d596b25c496ac127670c1f62
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Fri Dec 17 23:51:06 2021 +0800

    fix panic in forwarder (#268)
    
    Co-authored-by: cnderrauber <zengjie9004@gmail.com>

commit 502c57d78740d2392f282e0d45aa14498cf925f0
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Dec 17 15:45:04 2021 +0530

    Fix forwarding status deduction (#267)
    
    * Fix forwarding status deduction
    
    - When muted OR when there are no available layers, declare optimal
    - When target layer is the maximum it can achieve taking available
      layers into account even if they are not the maximum subscribed layer,
      it is still optimal as there is nothing better available.
    
    * Fix and add more tests for forwarding status

commit a8fe06e083f8cfcc5cabb5ea67efa43099fd525d
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Dec 17 13:16:55 2021 +0530

    Delete unused method (#266)

commit 62feed3983d589515abc681fd3b1819130b59f66
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Dec 17 13:00:44 2021 +0530

    Clean up down track type as it is not used (#265)

commit e504b6678c7db9e5d4e3287509a64c7e6bdbd704
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Dec 16 10:58:34 2021 +0530

    Deficient state handling when a track needs a change (#261)
    
    * WIP commit
    
    * deficient handling
    
    * Add missing ProvisionalAllocatePrepare
    
    * adjust state on track removal
    
    * Increase test timeout
    
    * - Add comments about cooperative routines
    - Take down transition if available in cooperative scheme
    - Use layer comparison when taking down transition. Because of when the
      bitrate is measured, it is not always guaranteed bandwidthDelta is -ve
      when moving down.
    - Do not add track to stream allocator till bind.
    
    * make comment better
    
    * a bit more clear comments
    
    * Use OnBind on subscribed track

commit c08d1e9d72bb24f472752344bc5e1ca00d123388
Author: David Zhao <david@davidzhao.com>
Date:   Tue Dec 14 17:15:08 2021 -0800

    Improve test CI (#262)
    
    * minimal change
    
    * Better test format for GH CI
    
    * Give server a bit longer to startup, to improve GH test

commit 0d0a2751019ada65852ce443ff5675df7d083647
Author: lukasIO <lukas.seiler@neesh.de>
Date:   Tue Dec 14 22:36:02 2021 +0100

    Turn with external tls termination (#168)
    
    * add TURN TCP port for plain tcp listener
    
    * use externalTLS turn config option
    
    * remove unused TCPPort config option

commit 0d229388ec462c3f98dc0d326d3f1a26c6f3b1a4
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Tue Dec 14 14:13:21 2021 +0100

    Telemetry test (#258)
    
    * Add first test for telemetry
    
    - First test for telemetry package that tests totalBytes field in downstream stats.
    - Add fake_analytics_service

commit c7d728aded7a95272169aea2fe82067c9366c805
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Tue Dec 14 09:47:51 2021 +0100

    Rename files to match interfaces inside files (#256)
    
    * Rename analytics.go to analyticsservice.go
    * Rename service to telemetryservice
    * Rename events.go to telemetryserviceevents.go

commit e54ce4f674d30e990fd4fd43b25562f0e6ec6896
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Dec 14 12:48:09 2021 +0530

    Stream Allocator Try 3 (#257)
    
    * Stream Allocator Try 3
    
    Making an intermediate PR to do
    - Special treatment for screen share tracks
    - When allocating all tracks,
      o try to stream all tracks by starting with the lowest layer
      o multi-pass across tracks to get a more even distribution
    
    Not yet done:
    -------------
    In deficient state,
    o Allocate a specific track on a change
    o Steal from other tracks
    
    * Correct sense of managed track
    
    * have to range to copy
    
    * generate
    
    * fix VideoLayers compare
    
    * Use t.simulcasted

commit 1be3a3986d925c3398b42311b02917b42aca9817
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sat Dec 11 23:36:04 2021 +0530

    Recover VP8 MBit properly when unpacking from packetMeta (#255)
    
    * Recover VP8 MBit properly when unpacking from packetMeta
    
    * one liner for itob

commit 8abd734d1672104caaa1de2f46d50c5ef126d230
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 10 15:51:05 2021 -0800

    Use participant and room specific loggers (#252)

commit bd42a39117659e48f708c11b4fa53cf35e69357b
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Fri Dec 10 15:49:14 2021 -0800

    Include node ID with Prometheus metrics (#251)
    
    * include node id in prometheus metrics
    
    * static prom init and nodeID
    
    * update protocol dep

commit d342335d09cc6644e265e2b70fa11b0b00fa4973
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 10 13:12:45 2021 -0800

    Split out SignalHandler to simplify testing (#250)

commit 882f3bdde535251bc512a5201efb2a999934a88d
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 10 11:51:03 2021 -0800

    Allow subscription requests made from server APIs (#249)

commit e7b50a79fe7364cc12c8c25cb94b3d957c960b59
Author: shishirng <shishir@livekit.io>
Date:   Fri Dec 10 14:11:13 2021 -0500

    Send room info in events by default (#248)
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit 8c774f144eb56f2986dedfa38dcd472c61f19761
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Dec 10 19:30:27 2021 +0530

    Tightening up stats and also counting primary/rtx/padding separately (#247)
    
    * Tightening up stats and also counting primary/rtx/padding separately
    
    * Fix tests
    
    * annotate type stored in atomic.Value

commit bda2e9cc590ff61d631f7a0118096132d50da41f
Author: David Zhao <david@davidzhao.com>
Date:   Wed Dec 8 13:59:55 2021 -0800

    Update protocol to v0.11.0

commit 2d93ccd6687112035e4679ed55eea057361c03f3
Author: David Zhao <david@davidzhao.com>
Date:   Wed Dec 8 13:58:38 2021 -0800

    Updated protocol from protocol/proto -> protocol/livekit (#242)
    
    * Updated protocol from protocol/proto -> protocol/livekit
    
    * separate MediaTrack from PublishedTrack

commit 7948fabce00579a0f6a0d0b4901ca46539a518e4
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Dec 8 21:56:07 2021 +0530

    StreamAllocator tweaks (#240)
    
    * WIP commit
    
    * test padding only with a gap scenario
    
    * Debug
    
    * Fix video corruption, need buffer to include payload and translated header size
    
    * Revert incorrect change
    
    * Fix VP8 translation to return buffer with proper length
    
    * Restore 7-bit mode
    
    * WIP commit
    
    * Clean up
    
    * More clean up and tests compiling again
    
    * Fix tests

commit 461f29c0976b7c6c12b2070f8543f14bccf33d6a
Author: shishirng <shishir@livekit.io>
Date:   Tue Dec 7 16:23:16 2021 -0500

    Allow participants to create new connection for publishing new tracks (#224)
    
    * Allow participants to create new connection for publishing new tracks
    
    new param 'publish=<name>' enables publishing new connection with publish
    only grants. Also, identity is appended with '#<name>'
    
    * Add integration test to duplicate publish only connection
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Reuse token in test and set subscribeGrant to false on publish param
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * create auth token with grants
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Signal ice on negotiate in test client
    
    Signed-off-by: shishir gowda <shishir@livekit.io>
    
    * Update pkg/service/rtcservice.go
    
    Co-authored-by: David Zhao <david@davidzhao.com>
    
    Co-authored-by: David Zhao <david@davidzhao.com>

commit 5dc0a43b2932a53d089ef2cd65d123dcd08936a5
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Dec 7 02:51:08 2021 +0530

    Unit tests for sfu.Forwarder (#239)

commit 318bee4f1e2b7baae58f544fb9a719fa9e2eb36b
Author: David Zhao <david@davidzhao.com>
Date:   Mon Dec 6 12:12:08 2021 -0800

    Improve video quality selection by using publisher feedback (#238)

commit ff390820e192748e8b98db0115824cf3bf98ad81
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sun Dec 5 10:01:35 2021 +0530

    Make VP8 packet translation thread-safe. (#237)
    
    * Make VP8 packet translation thread-safe.
    
    Was using one packet from pool for all VP8 translation which was not thread safe.
    Grab packets from the pool when needed for VP8 translation and return to pool after done.
    Do not grab packet from pool if the header size between incoming and translated matches.
    That also saves copying the packet payload.
    
    * Keep Get/Put in the same function.

commit 45690bc3018852b54bdd05596682e30f545bdc8e
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sat Dec 4 11:57:23 2021 +0530

    Use StreamStateChange with a single list (#235)
    
    * Use StreamStateChange with a single list
    
    Use enum for state change indication on associated track.
    
    * update protocol version

commit c41384cd09d45de3707531414b6cd5bdd5018a85
Author: David Colburn <xero73@gmail.com>
Date:   Fri Dec 3 21:40:53 2021 -0800

    ActiveRecording (#234)
    
    * ActiveRecording
    
    * regenerate
    
    * update to 0.10.3
    
    * 1.17

commit c00d799ac6ebcfbdf32b48c886801f968a4e62c6
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 3 14:27:13 2021 -0800

    Fixed permission handling with room deletion (#233)

commit edafb0a118d188972ba3d42253cdc78dbb699667
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Dec 3 21:57:49 2021 +0530

    VP8Munger tests (#229)
    
    A bit of clean up of unused bits.

commit 6141567aeff69b338d4c75090e4807fd7240ffc9
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Dec 3 15:37:49 2021 +0530

    Unit tests for VP8 pack/unpack in packetMeta. (#228)
    
    Deleting unused code.

commit ac650cd21df0974c4fa13c73f2b3e5c6bd6a5eed
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Dec 3 14:47:00 2021 +0530

    RTPMunger unit tests (#227)

commit 5eb58bcb41f327c6ffe8b72f5d679cc542811f60
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Dec 2 14:43:56 2021 +0530

    Fixing a couple of bugs in StreamAllocator (#225)
    
    * Debug
    
    * More debug
    
    * break -> return
    
    * comment
    
    * Clean up
    
    * spelling fixed

commit 6510692f23294b2053e4573e1fe23eb812b876d4
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Thu Dec 2 13:57:22 2021 +0800

    export structures for cloud (#220)
    
    * export structures for cloud
    
    
    Co-authored-by: cnderrauber <zengjie9004@gmail.com>

commit e37afdca6faa5373d5504937bc14de3d3a239887
Author: Eng Zer Jun <engzerjun@gmail.com>
Date:   Thu Dec 2 06:39:21 2021 +0800

    build: upgrade `go` directive in `go.mod` to 1.17 (#223)
    
    * build: upgrade `go` directive in `go.mod` to 1.17
    
    This commit enables support for module graph pruning and lazy module
    loading for projects that are at Go 1.17 or higher.
    
    Reference: https://go.dev/ref/mod#go-mod-file-go
    Reference: https://go.dev/ref/mod#graph-pruning
    Reference: https://go.dev/ref/mod#lazy-loading
    Signed-off-by: Eng Zer Jun <engzerjun@gmail.com>
    
    * ci: update GitHub Actions to use Go 1.17
    
    Signed-off-by: Eng Zer Jun <engzerjun@gmail.com>

commit c0e06027162934498d6de2b798b8dd64e9ae167d
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Wed Dec 1 15:40:56 2021 +0100

    Improve readme (#222)
    
    Make it clear what keys are LIVEKIT_KEYS

commit 96a3f3e9a715c8416c6d2ed1dfa8137450e22ba4
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Dec 1 19:15:06 2021 +0530

    Minor clean up (#221)

commit 50469b33a9542e7d77645c294b0dcc89ec12c69f
Author: David Zhao <david@davidzhao.com>
Date:   Tue Nov 30 21:22:16 2021 -0800

    Fixed incorrect simulcast information (#218)

commit 57ee033d678d83a0ccbbb613baad545bd1606e6a
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Dec 1 01:26:55 2021 +0530

    Split `Forwarder` into its own file to make `sfu.DownTrack` smaller. (#217)

commit 5e7f93c954ba25d8c6d85dbc6fd43cdd39d8ba82
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Dec 1 01:05:19 2021 +0530

    Stream allocator - v0.2 (#216)
    
    * Use protocol friendly StreamedTracksUpdate
    
    * WIP commit
    
    * Stream allocator update
    
    * subtract the requested bandwidth as delta from Allocate could be adding to bandwidth
    
    * Calculate delta correctly
    
    * correct comment
    
    * Simplify eventCh per David's suggestion

commit a799069392b92332108a7b661cca2ec29aa22d61
Author: David Zhao <david@davidzhao.com>
Date:   Tue Nov 30 08:57:44 2021 -0800

    Add note about node-ip being public IP

commit c47ad5e32311ce41328549101fd3158f854e4a3d
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Tue Nov 30 14:08:32 2021 +0800

    export structure & functions for relay (#214)
    
    * export structure & functions for relay
    
    Co-authored-by: jie.zeng <zengjie9004@gmail.com>

commit 6cf662cbe9088b75e590015c79cdecab2ef65538
Author: David Colburn <xero73@gmail.com>
Date:   Mon Nov 29 16:41:55 2021 -0800

    send roomID with all events

commit 27a80aa801162d5284f6850ddb6462824536d50e
Author: David Colburn <xero73@gmail.com>
Date:   Mon Nov 29 16:24:29 2021 -0800

    fix stats worker

commit 1652fd5dc947d76722ed15c1cc7ac4bea212d6bc
Author: David Zhao <david@davidzhao.com>
Date:   Sun Nov 28 11:02:03 2021 -0800

    remove go fmt watcher

commit 1ffa572739461dbb6fad5dfa7f4ec501aa9dc919
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Sat Nov 27 23:52:24 2021 -0800

    Grafana Dashboard (#188)
    
    * grafana dashboard
    
    * update for sharing externally

commit e996c185cee4a0a9ff654c5b71c364de3cd856e7
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sun Nov 28 09:15:36 2021 +0530

    Simplifying (hopefully) sfu.DownTrack (#213)
    
    * Simplifying (hopefully) sfu.DownTrack
    
    * Remove unnecessary check as pdding only packets are dropped before that check
    
    * Temporal filtering max layer
    
    * - Split out forwarder bits into a separate structure
    - Address comments from Jie and David
    
    * Remove debug and unneeded stuff
    
    * Fix test
    
    * Remove unneeded default initialization

commit 092789a08fc546cbbe376fbd2e417f536df46476
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Sat Nov 27 09:22:39 2021 +0530

    Stream allocator fixes (#212)
    
    * Stream allocator fixes
    
    - Treat simple track like simulcast track with one layer to make
    it stream allocator friendly.
    
    * Address David's comments

commit dc60e274130f9fab0b74bc408eb7d5baabe1e11f
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Fri Nov 26 15:40:10 2021 +0800

    create TrackSender & TrackReceiver (#211)
    
    * create TrackSender & TrackReceiver
    
    change WebRtcReceiver & DownTrack to use corresponding interface

commit 98695cdd2239b70f6111263963098889523544c0
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Nov 26 09:11:04 2021 +0530

    downstream allocator (#155)
    
    * WIP branch to hash out down stream allocator.
    
    * Plug more bits of stream allocator
    
    * update protocol
    
    * remove SignalRequest_Simulcast (#154)
    
    * Plug more bits of stream allocator
    
    * Handle simulcast track available layers change
    
    * WIP branch to hash out down stream allocator.
    
    * Plug more bits of stream allocator
    
    * Handle simulcast track available layers change
    
    * Adopt signature of call to AdjustAllocation
    
    * Move StreamAllocator to PCTransport and allocate only for subscriber.
    
    * Move streamallocator to ion-sfu
    
    * Start/Stop of streamallocator
    
    * Use StreamAllocator for subscriber bandwidth management.
    
    * Do not allocate in ADD_TRACK
    
    * Set payload in constructor
    
    * - Add some logging
    - Protocol message to notify clients of paused/resumed streams
    
    * named return
    
    * oops correct sense of isPausing
    
    * Update pkg/sfu/streamallocator.go
    
    Committing David's suggestion.
    
    Co-authored-by: David Zhao <david@davidzhao.com>
    
    * - Log estimate changes/commits.
    - Catch more than epsilon change oscillating for long time.
    
    Co-authored-by: David Colburn <xero73@gmail.com>
    Co-authored-by: David Zhao <david@davidzhao.com>

commit 9aff9af6906271014c45d02c9b5d79337eaae625
Author: David Colburn <xero73@gmail.com>
Date:   Wed Nov 24 18:43:26 2021 -0800

    back to MessageRouter interface

commit 991c334d2dd2aa691fa8f6da37c61aa6a282525b
Author: David Colburn <xero73@gmail.com>
Date:   Wed Nov 24 17:58:04 2021 -0800

    telemetry interfaces (#210)
    
    * telemetry interfaces
    
    * move AddUptrack under stats
    
    * regenerate
    
    * a space
    
    * consistency
    
    * fix test

commit f4c96449aeb1845d7c78f8326f170e6adbc942cc
Author: David Colburn <xero73@gmail.com>
Date:   Wed Nov 24 15:57:07 2021 -0800

    fix protocol reference

commit e3c91de59474ca31a8e5cf143196c29676b21b72
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Tue Nov 23 15:48:07 2021 -0800

    Configurable limit for number of tracks (#197)
    
    * configurable node track limit
    
    * sample config
    
    * todos
    
    * end of file new line
    
    * default max num tracks
    
    * bandwidth limit
    
    * client message for limit exceeded node
    
    * 10 Gbps default network limit

commit 5cdb1c4848e9342cc562cea22df9a7d69e501248
Author: shishirng <shishir@livekit.io>
Date:   Tue Nov 23 15:51:16 2021 -0500

    Send room name along in stat message (#205)
    
    Signed-off-by: shishir gowda <shishir@livekit.io>

commit a554da26dc1bdd579839ad0473f26ab73ed1e47b
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Nov 22 23:45:38 2021 +0530

    Let down track do the layer filtering (#203)

commit 2f35128ac25d54bf0c9b151ce71b9f79cd331d52
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Nov 22 23:21:26 2021 +0530

    Prioritize down tracks based on max layer(s) (#202)
    
    Use max layer subscription of down tracks to
    prioritize bandwidth allocation. The ordering is
    - Highest spatial layer
    - Highest temporal layer, if spatial layer matches
    - Down track id if both layers match (this is to
      prevent unnecessary re-ordering)
    
    Testing:
    --------
    (Really need to make a DownTrack interface so that
    we can mock it and use it in tests)
    For now, just a sanity check.

commit 391e2f8b318765b1bcb96d876e9be0444414328f
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Nov 22 14:01:25 2021 +0530

    Separate out max layer setting (#201)
    
    Small step on the way to making StreamAllocator prioritization of tracks.
    With the new callback into StreamAllocator, the idea is to use the
    max layer information to do track prioritization.
    
    Testing:
    --------
    Sanity check that sample app works

commit d9219a2a6722fdf1d0f74081878c9159316dc90a
Author: lukasIO <lukas.seiler@neesh.de>
Date:   Sun Nov 21 21:15:22 2021 +0100

    track numParticipants in room (#199)
    
    * track numParticipants in room
    
    * only track participant if not a hidden participant
    
    * adjust coding style to use ++
    
    * fix typo
    
    * fix missing nil check
    
    * update roomstore with new numParticipants on participantChanged
    
    * only update roomstore if participant is not hidden
    
    * call StoreRoom directly after StoreParticipant when joining/leaving

commit a0b623914a21537da3d6569bcdc0243cdb116bd0
Author: David Colburn <xero73@gmail.com>
Date:   Sun Nov 21 11:41:16 2021 -0800

    store participant before webhook (#200)
    
    * store participant before webhook
    
    * delete participant before participant left event

commit 6dcb29c5591d5eab49194ee3c36429a48b32b211
Author: David Zhao <david@davidzhao.com>
Date:   Sat Nov 20 22:28:36 2021 -0800

    Use publisher PC as default with publish-only connections (#198)

commit 79cfc0d76abb1590e99613af7b85c9b73177c70a
Author: David Zhao <david@davidzhao.com>
Date:   Fri Nov 19 21:25:08 2021 -1000

    update protocol & pion versions

commit 202cabbb108a54b915164d16f5850d9f2e26b65d
Author: David Zhao <david@davidzhao.com>
Date:   Fri Nov 19 07:28:19 2021 -1000

    v0.14.2

commit b7f32dfffd98a2ea85c268868a25942a127877d8
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Wed Nov 17 21:18:43 2021 +0800

    Handle multiple codecs in renegotiation (#191)
    
    * Handle multiple codecs in renegotiation
    
    update pion to v3.1.9 for answer same order of codec as publisher.
    register enable codecs in subscriber peerconnectin created.
    
    add codec parameter to buffer.bind
    buffer should use the codec of TrackRemote as it's codec mime.
    
    sent h264blankframe when DownTrack closing

commit c4c93eaad6a7626eb44069da24930841df092272
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Tue Nov 16 21:59:15 2021 +0800

    Fix issue #159 (#195)
    
    * Fix issue #159
    
    use timestamp for AudeioLevel observer
    change smoothinterval default to 2 for more sensitive

commit 95e29d3766a098aaa3c6be3ead75fc57b64133e4
Author: David Colburn <xero73@gmail.com>
Date:   Mon Nov 15 13:25:50 2021 -0800

    Interface updates (#194)
    
    * update interfaces, a bit of cleaning
    
    * regenerate
    
    * return interface for RoomService
    
    * export packetBufferSize
    
    * update router interface
    
    * move participant key into router
    
    * change locks back
    
    * read only room store
    
    * fix server rm locks
    
    * update SendJoinResponse
    
    * clean up imports
    
    * update room messaging
    
    * regenerate

commit ffb2c50a70597685b96cb0a32b6cbe4435455439
Author: David Zhao <david@davidzhao.com>
Date:   Sun Nov 14 11:18:01 2021 -0800

    Fixed room API breakage (#190)

commit ceae58ac203488b176423c7bbfbec3eaa221104d
Author: David Zhao <david@davidzhao.com>
Date:   Sat Nov 13 22:59:53 2021 -0800

    Fixed deadlocks occurring in Receiver writeRTP (#189)
    
    When we RLock during write cycles, the mutex spends the majority of its time
    staying locked. As new participants join, they have to acquire the WLock
    before downtracks could be add it.
    
    In load test scenarios (25 participants joining together), it's common to see
    goroutine dump showing MediaTrack.AddSubscriber -> DownTrack.storeDownTrack trying to acquire mutex, and never able to acquire it.

commit 4e16e4275c139041cb67c83a01e1dcd314e0c037
Author: David Colburn <xero73@gmail.com>
Date:   Fri Nov 12 20:21:54 2021 -0800

    move NewStatsInterceptorFactory

commit 92838d75a8c703b88d40d88499401e8531c81f1c
Author: David Colburn <xero73@gmail.com>
Date:   Fri Nov 12 14:36:10 2021 -0800

    Analytics events + stats (#187)
    
    * events
    
    * bump
    
    * update incoming stats
    
    * publisher stats
    
    * outgoing rtcp
    
    * stats
    
    * remove unnecessary struct
    
    * merge mediaTrack
    
    * put comment back

commit 6500ce262dce4cfc9ca7713e773dd90f5d9cecf3
Author: David Zhao <david@davidzhao.com>
Date:   Thu Nov 11 23:29:54 2021 -0800

    Fix publisher loss reporting (#186)

commit 5a057f3d197c0463f5e93a12ced75511e0d782e7
Author: David Zhao <david@davidzhao.com>
Date:   Thu Nov 11 23:16:21 2021 -0800

    Handle nil when buffer pair doesn't exist

commit 0a20acdf689b4dd29c6d847a4a13cca2ecdfbbfa
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Fri Nov 12 10:09:25 2021 +0530

    Do not parse padding only retransmit packets as VP8 payload. (#185)

commit 1e2e53a575d95eeb42071bb714ec98ade71d2704
Author: David Zhao <david@davidzhao.com>
Date:   Thu Nov 11 13:29:39 2021 -0800

    v0.14.1

commit 90f3c43dc583f5dbd244842bd3df6143e74deac7
Author: David Zhao <david@davidzhao.com>
Date:   Thu Nov 11 13:25:08 2021 -0800

    Fixed deadlock in pion with SRTP and DataChannel

commit 2ec5f2bd3d42beeebcb42f369a0f5e041d11eb27
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Nov 11 19:03:33 2021 +0530

    Fixing edge cases in picture id munging. (#180)
    
    * Fixing edge cases in picture id munging.
    
    Changes
    
    1. Check the RTP sequence number order before VP8 temporal layer
       filtering and use that ordering result while doing temporal
       layer filtering.
    
        In a sequence like below
           o Packet 10 -> Picture ID 10
           o Packet 11 -> missing
           o Packet 12 -> Picture ID 11
         it is not known if packet 11 will belong to Picture ID 10 or
         Picture ID 11. The problem becomes a lot more tricky if there
         is a burst loss and there is a larger hole in the picture id
         space also as a result.
    
         So, in the event of a packet loss, forward even if the current
         packet belongs to a layer that can be dropped. More comments
         in code.
    
    2. Use result of sequence number ordering check while doing VP8 picture id munging.
    
    3. When adding to missing picture id cache, have to include picture ids including
       both ends. As a picture can span multiple packets and it is not known which
       picture the packet belongs to, have to include both ends also in missing
       picture id cache in the event of a gap.
    
    4. As a picture can span multiple packets, it is not possible to have a simple
       map of missing picture ids as an entry cannot be deleted if an out-of-order
       picture id is received. There may be more missing packets belonging to that
       picture id that is yet to be received.
    
       So, have to use an ordered map and truncate the map if it grows too large.
    
       Picked this for ordered map - https://github.com/elliotchance/orderedmap.
       Has a simple API, had the highest number of stars of all the ones I checked.
       And there are benchmarks.
       The author also wrote a medium post at https://medium.com/swlh/an-ordered-map-in-go-436634692381
    
       Another one which I looked at is - https://github.com/wk8/go-ordered-map.
       The author of that wrote at https://morioh.com/p/990229f32171 and has a
       bunch of other options at the end of that post (but does not include the
       one I picked above). None of those have that many stars.
    
    Testing:
    --------
    - Set max temporal layers to 0 so that temporal filtering happens and run for
    an hour on sample app.
    
    * do not let padding packets through VP8
    
    * Correct comment
    
    * fix comment
    
    * Review comments from Jie
    
    * golang naming convention

commit fc52b18776a2f3a62319d83af426caa702dd9d95
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Nov 11 14:38:38 2021 +0530

    Try sending small key frames to clear decoded buffer (#179)
    
    * Try sending small key frames to clear decoded buffer
    
    Problem:
    --------
    With transceiver re-use, client disables/enables tracks.
    With video, this retains the last picture and when a new track
    starts, there is a brief moment when the old stream is displayed
    till there is data from new stream to decode and display.
    
    Fix:
    ---
    Send small key frames before closing DownTrack to try and clear
    the decoder display buffer.
    
    Testing:
    --------
    Tried with Chrome/Safari/Firefox and they worked. But, very rarely,
    the last frames do not seem to show up. In fact, 6 frames are sent
    and webrtc internals (in Firefox) reports anywhere from 1 - 6 frames
    at the small resolution. Unclear as to why it does not get all the
    frames or why it reports less than 6. A not so small percentage of
    times (maybe 1 in 15 - 20), have seen no small frame reported at all.
    
    TODO:
    ----
    - Have to support more video codecs
    - Would this be an issue for audio also? Should we send something to handle that?
      Probably not necessary as video is more jarring.
    
    * Make VP8 Key Frame a const
    
    * Need a packet factory buffer for simple tracks too
    as we are using the VP8 munger for simple tracks too because
    of the need to send blank frames at the end.
    
    Also, making the writeBlankFrameRTP a private function.
    And adding a check to not send blank frames if nothing has been sent
    on that DownTrack.

commit 0a769662aabe866da273979953f393aa6739781d
Author: David Zhao <david@davidzhao.com>
Date:   Wed Nov 10 15:07:49 2021 -0800

    Fixed multi-platform builds (#178)

commit 3ff3e91165979309cffa800763a1e2983fbf095b
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Nov 11 03:42:14 2021 +0530

    Update pion/rtp and pion/webrtc to the latest (#182)
    
    * Update pion/rtp and pion/webrtc to the latest
    
    * introduce additional delay to fix test reliability
    
    Co-authored-by: David Zhao <david@davidzhao.com>

commit 9336a0dab515ed7295f1bad8287334967af54460
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Wed Nov 10 14:11:44 2021 -0800

    health check depends on updated stats (#183)

commit fbc0d43f4fa03d14202a2583b0a1a09329c6de86
Author: David Zhao <david@davidzhao.com>
Date:   Tue Nov 9 21:51:59 2021 -0800

    Remove unused replace in go.mod

commit 94aec3b98d2c2bbba55393c011675d3811cc0fa2
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Tue Nov 9 17:19:46 2021 -0800

    Node updates stats with KeepAlive message to self (#177)
    
    * node sends KeepAlive message to self
    
    * use WriteRTCNodeMessage instead of participants[0]

commit 01cf22f2c4149bb73886d87bae0fe6e2d6fcaf64
Author: David Colburn <xero73@gmail.com>
Date:   Tue Nov 9 09:33:21 2021 -0800

    remove error message

commit 8b7a776af66289d1163c2d7f4b0b59f4c5191656
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Tue Nov 9 17:15:14 2021 +0800

    Remove unused files (#174)
    
    * remove unsed files from ion-sfu
    
    * remove comment code
    
    * go mod tidy

commit bf46e998b236f2b04090292187b9bf041855c700
Author: David Colburn <xero73@gmail.com>
Date:   Tue Nov 9 00:06:07 2021 -0800

    Sfu/buffer stats for telemetry (#173)
    
    * more buffer stats for analytics
    
    * update names
    
    * fix jitter and lost rate
    
    * don't return on participantLeft if they never published

commit c5830f9060d6b66ceeee36a5e3e067e0fc300053
Author: David Zhao <david@davidzhao.com>
Date:   Mon Nov 8 20:56:53 2021 -0800

    add ion-sfu NOTICE

commit 749446274f3bf6cbb27393dba0ad1f81397ab5fe
Author: David Zhao <david@davidzhao.com>
Date:   Mon Nov 8 20:47:41 2021 -0800

    Use time.Unix instead of UnixMilli (for Go 1.15 compat)

commit 1e1aaeb86bcfd6b3ebaf84a49968dfd0a4754d0a
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Tue Nov 9 12:03:16 2021 +0800

    Separate from ion-sfu (#171)
    
    * Separate from ion-sfu
    
    changes:
    1. extract pkg/buffer, twcc, sfu, relay, stats, logger
    
    2. to solve cycle import, move ion-sfu/pkg/logger to pkg/sfu/logger
    
    3. replace pion/ion-sfu => ./
    reason: will change import pion/ion-sfu/pkg/* to livekit-server/pkg/*
    after this pr merged. Just not change any code in this pr, because it
    will confused with the separate code from ion-sfu in review.
    
    * Move code from ion-sfu to pkg/sfu
    
    * fix build error for resovle conflict
    
    Co-authored-by: cnderrauber <zengjie9004@gmail.com>

commit 289ebd32ff41577f5480e69acd5f1b2303009e85
Author: David Colburn <xero73@gmail.com>
Date:   Mon Nov 8 18:00:34 2021 -0800

    Telemetry refactor (#172)
    
    * telemetry refactor
    
    * fix imports
    
    * update protocol

commit 834446662981ae3154de335d6461c05e31302d7f
Author: David Zhao <david@davidzhao.com>
Date:   Sun Nov 7 21:10:40 2021 -0800

    Delete unused code

commit ac004e7fb0d19af0d3294de14145a937756ffec0
Author: David Zhao <david@davidzhao.com>
Date:   Thu Nov 4 22:30:57 2021 -0700

    v0.14.0

commit 6a80beedfca6e7f96c1bef8b28406714f7942f82
Author: David Zhao <david@davidzhao.com>
Date:   Wed Nov 3 23:09:25 2021 -0700

    Only send connection quality updates for protocol 5+

commit aa9534b7fb288bd7fdde260d9ff5fd06ae4ecc69
Author: David Zhao <david@davidzhao.com>
Date:   Wed Nov 3 21:05:20 2021 -0700

    Server-driven connection quality detection (#167)

commit 862a212b931a2f6f88966a7cbe3c47c081436c34
Author: David Colburn <xero73@gmail.com>
Date:   Wed Nov 3 13:11:44 2021 -0700

    idOrName -> name (#169)

commit 45aeafd3afaad0b52f391a32c034a2f2e31ff319
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Tue Nov 2 14:05:52 2021 -0700

    more room logging

commit 05c4df4e23596f60e6ad20216a3d7acef7dedc68
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Tue Nov 2 14:02:45 2021 -0700

    Room logger with room name (#165)
    
    * room with logger
    
    * participant with room logger
    
    * transport with room logger
    
    * simplify room logger usage
    
    * simplify logger
    
    * update protocol
    
    * more room logging, test fix

commit 5e0833a2509f253f0c1529ba65eb0038b6c2b6d4
Author: David Zhao <david@davidzhao.com>
Date:   Mon Nov 1 12:14:11 2021 -0700

    v0.13.7

commit 7442551ae5bab8f40e1c33990cc70a6d21abfe26
Author: David Zhao <david@davidzhao.com>
Date:   Sun Oct 31 15:20:46 2021 -0700

    Fix missing participant updates race (#163)
    
    * Fix faulty participant update buffering.
    
    * Fix bug with broadcasting out of order
    
    * dedicated participant update worker, without locks
    
    * use tracker to drop duplicate/out of date messages
    
    * additional lock around filter logic

commit f3e916e2fe90f8ab3443374a880184908b35045f
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Thu Oct 28 21:02:17 2021 -0700

    Room Allocator Interface (#161)
    
    * room allocator interface
    
    * remove wire bind
    
    * fix test

commit 0898c17e8ada385da467044bc047f97248aa9428
Author: David Zhao <david@davidzhao.com>
Date:   Thu Oct 28 21:01:05 2021 -0700

    Select video quality using provided dimensions (#158)

commit e49ae5d02d7a37c67c757e0d4b2bcc3d9ce95b24
Author: David Colburn <xero73@gmail.com>
Date:   Tue Oct 26 14:41:56 2021 -0700

    bump version

commit 6d2f75fab692868d015a4efc3e4842a1f2fdb7af
Author: David Colburn <xero73@gmail.com>
Date:   Tue Oct 26 14:31:39 2021 -0700

    update protocol

commit 4789ae4c7d6d98771f80f245dc06cf99ab264ff6
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Mon Oct 25 21:25:46 2021 +0530

    Fix interface duplicate definition. (#157)
    
    Got the following error on a fresh install
    ```
    wire: /root/ws/livekit-server/pkg/service/interfaces.go:35:2: DeleteRoom redeclared
    wire: /root/ws/livekit-server/pkg/service/interfaces.go:38:2:   other declaration of DeleteRoom
    wire: generate failed
    Error: exit status 1
    ```
    Probably something from the latest `wire` version.
    
    After consulting David, removing the duplicate.
    
    Testing:
    --------
    - Server builds and runs. Client is able to connect.

commit 1f643dc96bca9ee7c941634962fbc887326ceeff
Author: David Colburn <xero73@gmail.com>
Date:   Thu Oct 21 15:11:43 2021 -0700

    remove SignalRequest_Simulcast (#154)

commit c680c2465d797f2c26bd21607afec666015bfd42
Author: David Colburn <xero73@gmail.com>
Date:   Thu Oct 21 14:36:53 2021 -0700

    update protocol

commit e0e46e079d1111fe2472ca63aa9b2aa939199479
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Oct 21 12:50:07 2021 +0530

    Prevent missing entry in pending tracks (#152)
    
    * Prevent missing entry in pending tracks
    
    Problem:
    --------
    A track received via signalling request `AddTrack` is stored
    in `pendingTracks` of participant. A MediaTrack is created
    when `onTrack` fires after `SetRemoteDescription`. At that
    time, pending tracks are searched to find a matching track
    and look up an already published MediaTrack.
    
    This is because `onTrack` fires once for every layer of
    Simulcast and MediaTrack abstraction is for a media track and
    not one for every layer of Simulcast track.
    
    To accomplish that, pending tracks are cleaned up 5 seconds
    after the MediaTrack is created. The theory there is that
    `onTrack` will fire on all layers within 5 seconds. But, have
    observed several instances on my slow machine of that firing
    after 5 seconds which results in the search failing and we end
    up creating a new MediaTrack.
    
    The above is probably the reason (I am guessing though) for
    subscriber PC having an extra m-line some times.
    
    Considered fix:
    ---------------
    One possible option is to increase that 5 seconds timeout to a
    very large value. But, it has another issue.
    
    `getPendingTrack` is given the track id which comes in the SDP.
    
    Entries are added to the pending tracks using track id received
    via the `AddTrack` signalling message.
    
    And those two need not be the same. Especially Firefox has different ids
    every time. Not sure if that is something we do on client side which
    causes that, but it does look like a real possibility.
    
    To handle that case, `getPendingTrack` looks up tracks by media kind
    (audio/video) if the look up by SDP client id fails.
    
    Here, it is possible that there are two pending tracks of type video
    (think camera and screen sharing as an example) and looking up by kind
    might end up picking the wrong one.
    
    Fix:
    ----
    Store the signalled client id and SDP client id in the MediaTrack and
    look up the published tracks by SDP client id for a track match.
    
    If there is no match, create a new MediaTrack and add it to publishedTracks
    and delete the corresponding pending track all within the lock (yeah not
    great to have a lot of code within the lock, but this is probably worth
    it to have the correctness).
    
    This does solve the issue of deferred pending track removal causing issues.
    
    However, note that kind based look up may do some switching. In a scenario
    where there are two pending tracks of kind video and the look up has to
    rely on kind, it is possible that signalCid and sdpCid get cross matched
    (i. e. client might have sent a signalCid for a Simulcast track, but during
    kind based look up it gets assigned to a non-simulcast track). I think
    that is okay as there is no strong correlation between the two.
    
    Testing:
    --------
    - Connect from Chrome, Firefox (both orders, Chrome joining first, Firefox joining first) and ensure that media subscriptions and publishing are correct
    - Ensure that DTX munging works properly too.
    
    * Fix tests
    
    Add back adding track to publishedTracks for testing purposes.
    
    * Add a test to check case of `AddTrack` rejecting already published track
    
    * Remove debug.
    
    * Address PR comments - do not need to return SDP cid from `getPendingTracks`.

commit 3f0d1ff0ce464e9924d60180d29351c18e07552e
Author: David Zhao <david@davidzhao.com>
Date:   Tue Oct 19 23:22:55 2021 -0700

    v0.13.5

commit 86d7fe82410fdd1e52a23da90d44b8a468ded053
Author: David Colburn <xero73@gmail.com>
Date:   Tue Oct 19 17:56:34 2021 -0700

    take iceServers out of room (#151)

commit 833e497f3738f7b6d725a9b946589b7595646b7f
Author: David Zhao <david@davidzhao.com>
Date:   Tue Oct 19 17:27:32 2021 -0700

    Pass TrackInfo entirely to ensure fields aren't missing (#150)

commit 2d76c672e3559cdfe7ca8a29646f2bad02a85e4c
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Tue Oct 19 23:46:04 2021 +0530

    Use `abs-send-time` RTP header extension for video downstream (#149)
    
    - Update ion-sfu to v1.20.14
    - Enable `abs-send-time` for video tracks
    
    Reference: ion-sfu PR - https://github.com/livekit/ion-sfu/pull/12
    
    Testing:
    --------
    - Look at SDP offer in subscriber PC and ensure that abs-send-time is negotiated.
    - Ensure that downstream packets have `abs-send-time` extension for video packets.
    
    TODO:
    -----
    - Not yet setting this for audio tracks. Eventually we want to move
    to TWCC. This is just a step along the way.

commit 0c8fe361b2c7213974d9aa042a344ff479c4b562
Author: David Colburn <xero73@gmail.com>
Date:   Mon Oct 18 19:49:16 2021 -0700

    Small refactor (#148)
    
    * small refactor
    
    * extra line
    
    * fix room allocator test
    
    * selector fakes not used
    
    * keep decisions out of router
    
    * put nodeId logic back
    
    * fix room allocator test

commit 1d626ba0533f8c81a7b1f4809f24ddd42abec56b
Author: David Colburn <xero73@gmail.com>
Date:   Mon Oct 18 14:14:27 2021 -0700

    Update turn (#147)
    
    * more generic turn server
    
    * public turn realm name
    
    * support turn cert itself in config
    
    * remove cert/key from config
    
    * double auth handler
    
    * generate
    
    Co-authored-by: Mathew Kamkar <578302+matkam@users.noreply.github.com>

commit 43079866a289bd8ca52cc26225958363e74ee711
Author: David Zhao <david@davidzhao.com>
Date:   Fri Oct 15 09:35:01 2021 -0700

    Update to Pion v3.1.5, fixed simulcast / non-simulcast mixing

commit 182c19e8e2ea102bdf7a292fe039595ccd39cdcf
Author: David Zhao <david@davidzhao.com>
Date:   Fri Oct 15 00:32:57 2021 -0700

    version v0.13.4

commit 81712f950212dfe02d740ef054e7b9508694716f
Author: David Zhao <david@davidzhao.com>
Date:   Fri Oct 15 00:31:57 2021 -0700

    revert to pion v3.1.0-beta.3
    
    mixing of simulcast and non-simulcast tracks is broken

commit eba0c23375a93d66263ff6d7fc7c77ca900a0d4a
Author: David Zhao <david@davidzhao.com>
Date:   Thu Oct 14 13:10:57 2021 -0700

    Handle TrackInfo.Source attribute (#146)
    
    * Support passing along Source attribute

commit d08646f17e82c342d614487b5c299b04f6afcbf8
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Thu Oct 14 11:57:59 2021 +0530

    Reuse transceivers (#145)
    
    * WIP - Re-use transceiver
    
    * Support both old and new methods for adding transceiver

commit ac4db4575fd4103a02a8bdf1ced9650ae33f50ed
Author: Raja Subramanian <raja.gobi@tutanota.com>
Date:   Wed Oct 13 11:22:33 2021 +0530

    LK-105 (Opus DTX) (#140)
    
    * LK-105 (Opus DTX)
    
    https://linear.app/livekit/issue/LK-105/allow-enabling-of-opus-dtx
    
    Enable/Disable Opus DTX using SDP answer based on setting in
    `AddTrack` request.
    
    Testing:
    --------
    Chrome and Firefox work. Having audio problems with Safari
    (maybe the Safari 15 issue as I am not getting media)
    
    * Check that receiver has no tracks
    
    * Skip non-audio transceivers
    
    * A small clean up to not use pendin track outside lock and also append with spread
    
    * Address comments from review by David
    
    * Update pkg/rtc/participant.go
    
    Co-authored-by: David Zhao <david@davidzhao.com>
    
    * Pull in tagged version of webrtc and lk protocol
    
    Co-authored-by: David Zhao <david@davidzhao.com>

commit 84ab0f82afb1b1efe7670a99fe114e32a6962ec9
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Tue Oct 12 15:22:17 2021 -0700

    Prometheus counters for RTC connection steps (#143)
    
    * signal ws connection, participant join, ice connection
    
    * must register
    
    * offer negotiation
    
    * dz review: offer and offer_response
    
    * dz review: answer

commit 4149c4a3141f3f56b37bbd88c23d73e536494073
Author: David Zhao <david@davidzhao.com>
Date:   Sun Oct 10 22:52:51 2021 -0700

    removed duplicate region log

commit 03342efe4fd31c1ad32efd228521968ddc6f0e0f
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Mon Oct 11 07:37:31 2021 +0200

    Test improvements (#136)
    
    * Fix "ineffectual assignment" linter warning
    
    * Simplify TestClientCouldConnect
    
    * Simplify range expression

commit 575b99840aeb3e6be0aaeeb6e22ccd5eafc804e0
Author: David Zhao <david@davidzhao.com>
Date:   Sun Oct 10 22:25:29 2021 -0700

    Fixed handling of multiple nodes in region-aware routing

commit 822f8c3944da0fa34804798aed818c612d4a1998
Author: Brint E. Kriebel <github@bekit.net>
Date:   Sun Oct 10 22:21:37 2021 -0700

    Region Aware node selection fixes and enhancements (#141)
    
    * cli: Allow setting the current node region with flag or env variable
    
    Also add region to "starting LiveKit server" log.
    
    * routing: Add region to node registration
    
    Register the node's region on the selected router so it can be used for
    region aware node selection.
    
    Also add the region to the list-nodes output.
    
    * regionaware: Set minDist to zero for the current node
    
    If you don't set the minDist when leaving the loop early for a node that
    matches the current region, the minDist value with still be at max. This
    causes the the wrong node to be selected if the current node is the
    first one the loop passes through.
    
    Add a test that validates this change. The new test fails if this new
    change is not in place.

commit 8ff18e0326ff15e6643ee2896e051ea2ce41d372
Author: cnderrauber <zengjiestc@gmail.com>
Date:   Mon Oct 11 12:56:13 2021 +0800

    forward fraction lost from subscriber to publisher (#142)
    
    Co-authored-by: cnderrauber <zengjie9004@gmail.com>

commit 72bd39410658fa79be1f5cf336afc8f4c924fee8
Author: David Colburn <xero73@gmail.com>
Date:   Sun Oct 10 13:27:37 2021 -0700

    v0.13.2

commit 3013139fa079a4e60a1f49561f997bf668f2baf9
Author: David Zhao <david@davidzhao.com>
Date:   Fri Oct 8 23:02:52 2021 -0700

    update link to deployment docs

commit b212fb9a9efe86eb268ee8108d0f5f26accb16fb
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Fri Oct 8 12:02:08 2021 -0700

    Prometheus counter for Signal/RTC messages (#139)

commit 2c9ef2f6bbdffe63a02406fbda4730bca25466e5
Author: David Colburn <xero73@gmail.com>
Date:   Fri Oct 8 11:44:41 2021 -0700

    Update recording service (#137)
    
    * update recording service
    
    * return empty for EndRecording
    
    * update protocol

commit f6f5602bc45310140678d8c00eb3b1acc66d29b3
Author: Russ d'Sa <russelldsa@gmail.com>
Date:   Thu Oct 7 15:50:18 2021 -0700

    consolidate on api key and api secret to describe our key pairs (#138)
    
    * consolidate on api key and api secret to describe our key pairs
    
    * tweak error message for the keys flag

commit 52e10ea31569df5f2e27b8ea4987da464cb74ac6
Author: David Zhao <david@davidzhao.com>
Date:   Wed Oct 6 22:24:09 2021 -0700

    handle nil MessageChannel

commit c745f0a31836180ca88d5704c7beaaa927c4f7e3
Author: David Zhao <david@davidzhao.com>
Date:   Wed Oct 6 21:40:04 2021 -0700

    Region aware routing (#135)
    
    * Region aware routing
    
    * update config, fix spacing on commented out lines

commit b0eca12ee87989a5aafa6a6e624c88ec59879818
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Tue Oct 5 10:47:55 2021 -0700

    Simple deployment to EC2 (#134)
    
    * aws ami
    
    * cloud-init from base ami
    
    * rename
    
    * readme and ubuntu cloud-init
    
    * nginx ssl termination
    
    * small readme fixes
    
    * nginx on ubuntu cloud-init
    
    * better default config, nginx websocket config
    
    * small change to readme
    
    * packer does not need to start services
    
    * standardize nginx config
    
    * path fixes
    
    * small fixes
    
    * end line return
    
    * move readme to docs repo
    
    * remove lk-image cloud-init and bake into ami

commit 4915692f7ce05385e248562c44c6e8073e7ea7f8
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Tue Oct 5 02:20:47 2021 +0200

    Refactor getConfigString (#133)
    
    * Add test for getConfigString
    
    * Refactor getConfigString
    
    * Increase connect timeout in tests

commit fb91dce30e5404f725bd6e159b90c7f8138e6e7c
Author: David Zhao <david@davidzhao.com>
Date:   Mon Oct 4 17:17:29 2021 -0700

    version bump v0.13.1

commit 797d2607c45e6986a74ef23c98ab26183687aa6a
Author: David Zhao <david@davidzhao.com>
Date:   Mon Oct 4 16:59:36 2021 -0700

    Fix NACK handling in simulcast (fixed in ion-sfu)

commit 1c122729275686d0cd568e358bec004b51a90d04
Author: Artur Shellunts <shellunts.artur@gmail.com>
Date:   Mon Oct 4 22:07:38 2021 +0200

    Refactor singlenode_test.go (#131)
    
    * Fix typo
    
    * test: move client creation to where it is used
    
    * Refactor TestAutoSubDisabled

commit 939ed10ca6be1d9852cb6ef7ef13136920b6929a
Author: Tho Monnom <theo.monnom@outlook.com>
Date:   Sun Oct 3 07:08:29 2021 +0200

    Room Metadata Implementation (#126)

commit cdb04248fb0af7c167d7c168142597d5d831d524
Author: David Zhao <david@davidzhao.com>
Date:   Fri Sep 24 14:12:35 2021 -0700

    Fixed reconnection for single node
    
    It does not yet support resuming the session.

commit d83b7b543d28e6a98d1737be8a7318346779c8fc
Author: David Colburn <xero73@gmail.com>
Date:   Wed Sep 22 13:48:37 2021 -0700

    update protocol

commit 4fe3c07bb0078c04ca5c906adfb6b82e9c8715e6
Author: David Zhao <david@davidzhao.com>
Date:   Tue Sep 21 23:26:22 2021 -0700

    version bump 0.13.0

commit 347bf0345a572f64e1ddd38b6a7f94072f275672
Author: David Colburn <xero73@gmail.com>
Date:   Tue Sep 21 21:46:25 2021 -0700

    Recording webhooks (#125)
    
    * dump
    
    * update protocol
    
    * const
    
    * regenerate wire
    
    * message bus nil check
    
    * nil message bus if no redis
    
    * start and stop rec service

commit 3ed3afad2cf0ce1d2ae02adcffdcac688536a905
Author: David Zhao <david@davidzhao.com>
Date:   Fri Sep 17 16:25:47 2021 -0700

    Recognize Go client in parsing

commit c4c14785bec6e89ea91331a128f241036978a992
Author: David Colburn <xero73@gmail.com>
Date:   Fri Sep 17 11:57:06 2021 -0700

    let the room manager delete from router and store (#121)

commit ff473018204e1f51d8d419eef72efefc657bad74
Author: David Zhao <david@davidzhao.com>
Date:   Fri Sep 17 11:47:13 2021 -0700

    Implements protocol 3 speaker updates (#120)
    
    * Disallow AddTrack from participants that don't have the permission
    
    * Support protocol 3 speaker updates, client info
    
    * update protocol
    
    * Disallow AddTrack from participants that don't have the permission
    
    * increase wait time for GH to pass

commit abde72a907f4f5598086af7934cd91501d60fc31
Author: David Colburn <xero73@gmail.com>
Date:   Thu Sep 16 23:29:29 2021 -0700

    Remove room manager from room service (#119)
    
    * start splitting
    
    * room allocator
    
    * remove room manager
    
    * Update pkg/service/roomallocator.go
    
    Co-authored-by: David Zhao <david@davidzhao.com>
    
    Co-authored-by: David Zhao <david@davidzhao.com>

commit 700a879c0b5568a1687a89d9aa5f9f960f4cb320
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Wed Sep 15 13:07:44 2021 -0700

    Redis Router graceful stop (#116)
    
    * prestop and hasparticipants in interface
    
    * add prestop function to existing routers
    
    * fakerouter prestop
    
    * update protocol version
    
    * read lock
    
    * redis router graceful stop
    
    * test fix
    
    * force stop

commit 20d0c0ca43bea50d61ec5805dcdd43843ab9bdd7
Author: David Zhao <david@davidzhao.com>
Date:   Tue Sep 14 15:50:34 2021 -0700

    Fix mute of simulcasted video tracks with < 3 encodings (#114)

commit 95a5e3ca85de1fb5a6a8a333412c6eca64ac9396
Author: David Zhao <david@davidzhao.com>
Date:   Sun Sep 12 00:25:36 2021 -0700

    Fix data publish test (#113)

commit 66997b37f9fb70dd4c65976be0b97801bbccb693
Author: David Zhao <david@davidzhao.com>
Date:   Sat Sep 11 23:33:35 2021 -0700

    improve reliability of data publish test

commit 976e61f10c9c8a7c52bcb4de47e34ba9a4c5d723
Author: David Zhao <david@davidzhao.com>
Date:   Sat Sep 11 23:18:20 2021 -0700

    more generous sleep workaround in test client, better logging

commit ceea024fdbf8bf5a1caa04f1b9b878c35696f0bf
Author: David Zhao <david@davidzhao.com>
Date:   Sat Sep 11 22:50:00 2021 -0700

    fix tests

commit e99ec0b339283f348f98e16f04e1b8fafdda9740
Author: David Zhao <david@davidzhao.com>
Date:   Sat Sep 11 22:27:17 2021 -0700

    Add tests to data publishing with protocol 3

commit 1bcaf9d0ea2681aadb6f60bfe42062f252903a42
Author: David Zhao <david@davidzhao.com>
Date:   Fri Sep 10 20:58:33 2021 -0700

    update test client to use protocol 3

commit 2d215f80b3436a091207123ddc444c77ed5b7238
Author: hn8 <10730886+hn8@users.noreply.github.com>
Date:   Sat Sep 11 04:34:46 2021 +0800

    Restore SetLogger (#111)
    
    - Fix buffer.NewBufferFactory: logger.GetLogger() has extra depth. Passing empty logger will use default logger set by serverlogger.SetLogger()

commit 614ede2edcf5f35ac3502766c63d62ce31a9ed06
Author: David Zhao <david@davidzhao.com>
Date:   Thu Sep 9 00:53:15 2021 -0700

    Supports client protocol 3 - subscriber as primary (#110)
    
    * use subscriber connection as primary whenever possible
    
    * backwards compat for data messages
    
    * bump protocol version

commit 2a3fb5f0e7c39592af52ef6cee5abb2e1f58d159
Author: David Colburn <xero73@gmail.com>
Date:   Thu Sep 9 00:45:42 2021 -0700

    move logging to protocol (#109)

commit 63bd531cc81062b8a970cffc43d814057afd197e
Author: David Zhao <david@davidzhao.com>
Date:   Sun Sep 5 15:05:21 2021 -1000

    version bump 0.12.5

commit e9ffbefa7030c66f5081f04df1d9c8683f61e983
Author: David Colburn <xero73@gmail.com>
Date:   Thu Sep 2 17:06:48 2021 -0500

    move recorder to msg bus (#108)

commit e82d50d717f074386af79260f18091e317a12bf1
Author: David Zhao <david@davidzhao.com>
Date:   Wed Sep 1 21:50:02 2021 -0700

    Send explicit message to clients for mute/unmute. (#107)
    
    * Send explicit message to clients for mute/unmute.
    
    * documentation in config

commit 4044c314b8a1fdf0ad6722249f68baf68f938139
Author: David Colburn <xero73@gmail.com>
Date:   Tue Aug 31 16:14:06 2021 -0500

    participant key (#106)
    
    * participant key
    
    * update fake router
    
    * WriteRTCMessage
    
    * move sink closing
    
    * unused code

commit eb6e763e8d8f892c4a2dbc228c72bc1192771aea
Author: David Colburn <xero73@gmail.com>
Date:   Mon Aug 30 23:27:04 2021 -0700

    use request context in rtc service

commit d8825424916232f8622e097840983989c18d6257
Author: David Zhao <david@davidzhao.com>
Date:   Mon Aug 30 22:56:15 2021 -0700

    links to Flutter SDK

commit 1f1eea383fa210b74dc73bffca464f3e963adc4c
Author: David Colburn <xero73@gmail.com>
Date:   Mon Aug 30 20:31:24 2021 -0500

    add ctx to interfaces (#105)
    
    * add ctx to interfaces
    
    * use existing context

commit 1e10d440c89072ac864bd976e73923e0f5038b36
Author: David Colburn <xero73@gmail.com>
Date:   Mon Aug 30 17:03:39 2021 -0700

    export error

commit 2fd61531d2007363f02fe1b30dfed9efe1def787
Author: David Colburn <xero73@gmail.com>
Date:   Mon Aug 30 18:22:11 2021 -0500

    small refactor (#104)

commit 0bfd05c3b818f0b51721a1f35ef19561599b72fc
Author: David Colburn <xero73@gmail.com>
Date:   Mon Aug 30 17:18:18 2021 -0500

    move router room manager link (#103)

commit 397c5607a930f2e67919de8274c69bf215bec58a
Author: David Colburn <xero73@gmail.com>
Date:   Mon Aug 30 14:40:22 2021 -0700

    update sfu

commit 6a88bcc2d747584746c6173027b8e9e3ccfdc5ac
Author: hn8 <10730886+hn8@users.noreply.github.com>
Date:   Tue Aug 31 02:36:49 2021 +0800

    feat: support windows dev env (#101)
    
    Works in Git Bash and PowerShell in Windows 10

commit 32daa257bb51a279ce9b288ca1b8bdf8a3a61cb4
Author: hn8 <10730886+hn8@users.noreply.github.com>
Date:   Tue Aug 31 02:35:03 2021 +0800

    cleanup protoc (#100)
    
    https://github.com/livekit/livekit-server/pull/95

commit 69c1d4c2958eec4dcfa667be8a19a4c7a3270abc
Author: David Colburn <xero73@gmail.com>
Date:   Sat Aug 28 18:28:08 2021 -0500

    Interfaces (#97)
    
    * create interface
    
    * move room manager to interface
    
    * interfaces
    
    * updates
    
    * fix loop
    
    * fix fakes
    
    * remove node types

commit 455369563131a9faf9632ff5dda5542737264a12
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Fri Aug 27 13:15:02 2021 -0700

    get system stats from /proc only on linux (#96)

commit 7c30dbe97097292face49fba76d87c85bd6f864f
Author: David Colburn <xero73@gmail.com>
Date:   Fri Aug 27 11:17:41 2021 -0700

    remove docker copy proto

commit 8a44fad307202afe7f870569364205824f708615
Author: David Colburn <xero73@gmail.com>
Date:   Fri Aug 27 13:16:33 2021 -0500

    protocol 0.8 (#95)
    
    * protocol 0.8
    
    * merge new selector

commit c437152e2be70beff95d67e261876bd12af33285
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Thu Aug 26 15:24:39 2021 -0700

    NodeSelector using system load metric (#94)
    
    * use load when selecting nodes
    
    * Apply suggestions from code review
    
    Co-authored-by: David Zhao <david@davidzhao.com>
    
    * sysload selector test
    
    * wire nodeSelectorFromConfig
    
    * fix tests
    
    * Update pkg/routing/selectorsystemload_test.go
    
    Co-authored-by: David Zhao <david@davidzhao.com>
    
    * dz review: nits
    
    Co-authored-by: David Zhao <david@davidzhao.com>

commit 0a9d12bc352ddd3abf06ec42a4b55e318ed9f5d1
Author: David Colburn <xero73@gmail.com>
Date:   Wed Aug 25 13:49:34 2021 -0700

    v0.12.2

commit 22a5d4ec745e7eb95c870d460f52ae479d94f4ae
Author: David Colburn <xero73@gmail.com>
Date:   Wed Aug 25 13:48:41 2021 -0700

    update sfu

commit b95701c7da76682b5c806e8c7cacd7aa05f704a6
Author: David Colburn <xero73@gmail.com>
Date:   Wed Aug 25 13:42:02 2021 -0700

    update protocol

commit f9590afe1a44ba75b70e1b7740f1b6ee143afc8f
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Wed Aug 25 12:04:28 2021 -0700

    include packet and system info with node stats (#92)
    
    * include packet and system info with node stats
    
    * add more packet and system stats
    
    * revert magefile, clean up system stats error handling
    
    * update procol version
    
    * dz review: error return

commit f5466c74e64e5fd9abf7e6ac674a7282b809886a
Author: Mathew Kamkar <578302+matkam@users.noreply.github.com>
Date:   Tue Aug 24 10:14:39 2021 -0700

    list-nodes command action (#87)
    
    * list-nodes command action
    
    * refactor stats into a package
    
    * store existing stats in redis, more refactoring
    
    * dz review: atomic load

commit a8b0125e42bb88cbf7e449ffaf495418b06d150b
Author: PJC <qkrwncks593@gmail.com>
Date:   Tue Aug 24 03:41:29 2021 +0900

    support go 1.17 version when use bootstrap.sh (#91)
    
    * check go version with install
    
    * fix GO_TARGET_VERSION to 1.17
    
    * fix: version check error

commit 9016da1936dfb07d8cb3dc3d52d2880af7dc322b
Author: PJC <qkrwncks593@gmail.com>
Date:   Tue Aug 24 02:49:16 2021 +0900

    check turn domain and port range (#90)
    
    * check negative turn port
    
    * check turn domain
    
    * domain check test code

commit bcf6e15e070f28bbfdeeacaf61f66a077927473e
Author: David Zhao <david@davidzhao.com>
Date:   Thu Aug 19 18:11:48 2021 -0700

    SendData API & publishData permission (#88)
    
    * SendData Server API
    
    * SendData Server-API adjustments based on suggestions
    
    * Update proto version
    
    * enforce publishData permission
    
    * go mod tidy
    
    * fix go.mod
    
    * go mod tidy
    
    Co-authored-by: ChesterMing <89124853+ChesterMing@users.noreply.github.com>

commit 2ab37d8fccfba0b1946ecb71b48569dd2d5aca25
Author: David Zhao <david@davidzhao.com>
Date:   Mon Aug 16 14:14:19 2021 -0700

    v0.12.1

commit 29edf4e8d91d95ed8ce30447ac09f0f99f64d28a
Author: David Zhao <david@davidzhao.com>
Date:   Fri Aug 13 15:49:25 2021 -0700

    Improve dynamic simulcast, properly cleanup after pendingTracks (#84)

commit 5713731363d2cfad39a312d9b990ba25a7716b7f
Author: David Zhao <david@davidzhao.com>
Date:   Tue Aug 10 21:09:23 2021 -0700

    allow user to mute before track is fully published (#82)
    
    fixes https://github.com/livekit/client-sdk-js/issues/28

commit 896b28d45db1bb71b6351eec2323984c7b345d27
Author: David Zhao <david@davidzhao.com>
Date:   Mon Aug 9 23:58:44 2021 -0700

    v0.12.0

commit 6fe0d4bafcaa875f724d745709e22e7e50a93d89
Author: David Zhao <david@davidzhao.com>
Date:   Mon Aug 9 23:37:01 2021 -0700

    webhook type -> event

commit 9495646f1a99fbade8b33eee1de71a9dd8ddca3c
Author: David Zhao <david@davidzhao.com>
Date:   Mon Aug 9 09:57:37 2021 -0700

    webhooks support (#81)

commit 1f4288744c37da2ddf59c7fa9fb1c2afa2d1a5f5
Author: David Colburn <xero73@gmail.com>
Date:   Fri Aug 6 16:02:49 2021 -0700

    upgrade protocol

commit 6111b2d4f83dbab86d1ab4c0ad5391dede1c9963
Author: David Colburn <xero73@gmail.com>
Date:   Wed Aug 4 22:44:06 2021 -0500

    Recording apis (#78)
    
    * apis with auth
    
    * recording service
    
    * record permission
    
    * protocol 0.6.5
    
    * bump version

commit a53deecb826f00ac5bdf665d46ccdec4758ebaff
Author: David Colburn <xero73@gmail.com>
Date:   Tue Aug 3 00:19:19 2021 -0700

    revert recording apis

commit 24494e96fd02bcb0f86c888383d18ed6d77727eb
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jul 30 23:03:36 2021 -0700

    v0.11.4

commit b8e1cbe4f57ebbae6676d3c744f0ae0e3eb64965
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jul 30 21:29:19 2021 -0700

    fix: avoid placing user in a layer that's not published

commit c57e2860caa3c9aaf622800a15202273b1367bc7
Author: hn8 <10730886+hn8@users.noreply.github.com>
Date:   Fri Jul 30 01:19:40 2021 +0800

    fix: work around logr 1.0 WithCallDepth bug (#73)
    
    https://github.com/go-logr/logr/pull/58

commit a9c48511137f75ef4d54e33ca5fb53c5e8a379f7
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jul 28 21:33:34 2021 -0700

    Fix external IP discovery. fix LeaveRequest during server disconnect (#72)

commit 6fca5647fdd87a1f380ddb77db1bc92805dc3eb0
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jul 26 23:43:57 2021 -0700

    update protocol

commit 7f66ca0d64e358cc7e1d41151990aad6f755770e
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jul 26 22:41:51 2021 -0700

    v0.11.2

commit b00d5a02cb64826fd7e74e98e0a02c5ad244fb9c
Author: David Colburn <xero73@gmail.com>
Date:   Tue Jul 27 00:39:48 2021 -0500

    RoomRecorder (#70)

commit f8782fae3f471cfd6694b153351b3b4a05541e50
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jul 26 15:43:26 2021 -0700

    Send stun servers to clients (#69)
    
    * Send stun servers to clients
    
    * use TURN/UDP as STUN servers

commit d49d541a9ee1d80aa6060f9d787ee11f59b70405
Author: David Colburn <xero73@gmail.com>
Date:   Sat Jul 24 19:56:55 2021 -0500

    Add redis db to config sample

commit c682982af2551aab683d49fc3a4a47a0aed2bf2a
Author: hn8 <10730886+hn8@users.noreply.github.com>
Date:   Sat Jul 24 06:11:11 2021 +0800

    Update TLS port default as rfc5766 (#68)

commit 77ed742d502e629bb70b26587034a69226295776
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jul 23 12:43:14 2021 -0700

    update pion + ice

commit 47f4f514b95546f5847354cff12eee8e5c8cbe5d
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jul 22 22:03:58 2021 -0700

    version bump 0.11.1

commit 8e872881c152db6f06353d738eca44778cd06246
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jul 22 21:52:56 2021 -0700

    use receiver lb threshold option

commit f3a17a151f8641fe00851c2d047776f72d67677e
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jul 22 16:43:29 2021 -0700

    update ion-sfu

commit 834dce543b8216991c93680f3ecc3785493b4f66
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jul 22 11:06:23 2021 -0700

    fix participant APIs when using LocalRouter (#67)

commit d7be9096c652a223d879d4a15b3be515539e93dc
Author: David Colburn <xero73@gmail.com>
Date:   Tue Jul 20 17:23:06 2021 -0700

    persist hidden field to startSession

commit 4bab395ac970576e6bfa04affef8182a1d55c5eb
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jul 19 18:33:28 2021 -0500

    Hidden participants (#65)
    
    Enables hidden recording and/or forwarding participants

commit 87dfb2b117639550ee99c491088ecc92a4ac77c3
Author: hn8 <10730886+hn8@users.noreply.github.com>
Date:   Tue Jul 20 01:28:51 2021 +0800

    log: consistent log key (#60)

commit 06c44ca8f67a140e4a7fc045389af578abecedc0
Author: hn8 <10730886+hn8@users.noreply.github.com>
Date:   Tue Jul 20 00:21:59 2021 +0800

    feat: support UDP in TURN (#61)
    
    1. Add UDP option to TURN
    2. GetLocalIPAddress default to IPv4

commit c493022f0f71d80aa0fa46846ff497e5c12c01f7
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jul 19 09:16:01 2021 -0700

    fix force_tcp flag: don't set UDPMux when enabled (#62)

commit 99e9997d0afe87e3ee63cd7f70476e02e92bf6b6
Author: hn8 <10730886+hn8@users.noreply.github.com>
Date:   Mon Jul 19 12:28:09 2021 +0800

    feat: support SetLogger & SetLoggerFactory (#57)
    
    * upgrade logr to stable release v1.0.0
    
    * feat: support SetLogger & SetLoggerFactory

commit 7b05e2fb308bd54d6f2c32dd4dcf1cfda4ec0de0
Author: Andy Lindeman <andy@lindeman.io>
Date:   Sat Jul 17 13:14:52 2021 -0400

    Propagate err2 if not nil (#56)

commit 807b808c8eabf152669106bc9a86235f1d72f4d8
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jul 16 14:27:35 2021 -0700

    v0.11.0

commit 55eb654a1b394075a2f66476770adb469b801551
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jul 16 14:24:00 2021 -0700

    When adaptive-simulcast is used, allow subscribers to switch to the next available layer (#55)

commit e3fc3397ce2fbd0876f33a76f67bf82b110c84a6
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jul 15 18:36:54 2021 -0500

    move cors to middleware (#54)
    
    * move cors to middleware
    
    * check for nil url
    
    * remove snapshot

commit 53bc65285c9ba4130db2f058356721a2dbe00115
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jul 15 14:23:17 2021 -0700

    connection validation

commit 1ae7488fe3ccbe7916e202903a857bea58220959
Author: hn8 <10730886+hn8@users.noreply.github.com>
Date:   Fri Jul 16 03:33:48 2021 +0800

    feat: customize logger config (#53)

commit 4ce29799cfd4fc4e39d96b3dda62f1f547d3892f
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jul 13 22:32:38 2021 -0700

    remove H.264 profile 42001f. Safari (14.1.1) does not playback tracks offered in this profile

commit 53b52a67cad04a84b6a822d37da801d9c2617d6d
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jul 13 22:28:34 2021 -0700

    use protobuf for clients with protocol > 1 (#52)

commit 850fecf931c81ef044c5e6d8e8de8563245d7d43
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jul 13 21:35:08 2021 -0700

    Allow publishers to set layer availability (#51)
    
    * support client message to update active layers
    
    * update to match new protocol

commit a3cfebec687d859198514613631eb606b827714e
Author: David Colburn <xero73@gmail.com>
Date:   Tue Jul 13 13:48:22 2021 -0700

    remove old deploy script

commit 6fd5ce0d3e2da179aeccdec3b47894fa157444fc
Author: David Colburn <xero73@gmail.com>
Date:   Tue Jul 13 12:39:25 2021 -0700

    bump version

commit 5fdb6361cdbc48439cfb363a67bb8be5c88330bb
Author: David Colburn <xero73@gmail.com>
Date:   Tue Jul 13 14:05:25 2021 -0500

    Dev debug info (#50)

commit 0cf6efdae962cab71272f113b6d5a8684c1178cb
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jul 12 16:13:41 2021 -0700

    Remove ECS terraform from repo, updated README (#49)

commit d38fc43b895d4b7c714748c65ebc06a9e157d96b
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jul 12 14:50:14 2021 -0700

    Lock room creation to ensure atomic creation & node assignment (#46)
    
    * Lock room creation to ensure atomic creation & node assignment
    
    * more tests

commit c0bff83a36030aad6e9f1639c2d053a7480985bd
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jul 11 08:42:43 2021 -0700

    v0.10.5

commit a80e8cf69fdab4b4c52cbda63c02d7144d924739
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jul 11 08:42:11 2021 -0700

    Enable passing in local IP, refactored IP detection (#48)
    
    * Enable passing in local IP, refactored IP detection
    
    * update docker server instructions

commit 4c54234954181625fdc483dbde24d4efdac017db
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jul 9 15:51:09 2021 -0700

    Update docker instruction to forward ports

commit 50538db21facae385601cc36bd9e4b6a9e29978d
Author: David Colburn <xero73@gmail.com>
Date:   Fri Jul 9 10:49:21 2021 -0700

    update log keys

commit dcfe7eaf4f7f0961eb057d9ebb3c242ae41224f9
Author: hn8 <10730886+hn8@users.noreply.github.com>
Date:   Sat Jul 10 00:46:24 2021 +0800

    Enhancement: audio speakers (#44)
    
    * refactor: active speakers
    
    1. Observe the loudest adjusted with active ratio instead of linear average of decibel values
    2. Follow RFC6465 to convert audio level from decibel to linear value.
    3. Quantize audio level for stable slice comparison
    4. Switch moving average algorithm from MMA to EMA to have the same center of mass with SMA
    5. Minor: remove seenSids map allocation
    6. Minor: minimize division arithmetic
    
    * Update pkg/rtc/audiolevel.go
    
    Co-authored-by: David Zhao <david@davidzhao.com>

commit 1fd858a16bc407f8b95a6a11b0cadd6c9d9c7f70
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jul 7 23:40:58 2021 -0700

    fix layer-switch glitch with H.264 simulcast

commit 145f058eaa9a311c4958f6a35477e22e747d6a34
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jul 8 01:37:21 2021 -0500

    send leave when client reconnects on server restart (#43)

commit ec2d7a49cd6d97fd9c1d2423b4866fd63aaf3a93
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jul 7 15:08:00 2021 -0700

    v0.10.4

commit 76efe14c6d2d40a9c7d830850e3559ba63ba2fc5
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jul 6 21:43:03 2021 -0700

    ensure keys are not empty

commit 3eba7fe25cd49a1b31886e7663d05a4b2187d35a
Author: David Colburn <xero73@gmail.com>
Date:   Tue Jul 6 19:30:06 2021 -0700

    update twirp and pb

commit 4ec2959950c586cfe8a1dfd58af3df0d93008acf
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jul 6 15:08:46 2021 -0700

    Use discreet ports by default due to write bottleneck (#40)

commit 08e8827d5305d94d84967d461a25d18a4d27192c
Author: David Colburn <xero73@gmail.com>
Date:   Tue Jul 6 15:03:25 2021 -0700

    0.10.3

commit a17eb92ed74eb2f10f51ad7603274936c4d13154
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jul 5 16:06:12 2021 -0700

    update ion-sfu

commit 9e7ee342eec0416856be7a2a6fcb421405476ccc
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jul 5 14:51:26 2021 -0700

    updated readme with playground links

commit a3e96ea4e7fed70efae3060d05db63e3133161fa
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jul 5 11:59:41 2021 -0700

    update to upstream pion 3.0.30

commit 0625c7cc7249e44f0b877a56b4505c6c6884efda
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jul 5 11:01:24 2021 -0700

    update version to 0.10.1

commit d47a784dd1b5b38cbba072f1e49ef5772ed731c4
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jul 3 12:50:53 2021 -0700

    Fix broken links in readme

commit a694c825815679992e5d53b1dcdba0e8cf614765
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jul 3 12:46:56 2021 -0700

    publish to docker automatically on tag (#35)

commit 1ced03d72fb756fd3a115534a8e37be88faf312d
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jul 2 17:04:22 2021 -0700

    fixed failing tests

commit 42f4c773fbae5ac1c46d13e5cb9c59b7b5e78bae
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jul 2 16:55:26 2021 -0700

    v0.10.1

commit 67513611877c6a9763f56bc946f56d32756e87b7
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jul 2 16:54:54 2021 -0700

    Feature: codec restrictions.
    
    In order to ensure clients are publishing with compatible codecs, the server can enforce codec restrictions.

commit af310df2332792c387342879a2473421afc00bcc
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jul 1 19:02:18 2021 -0700

    0.10.0

commit 86c5460ed84441cfa685ff8dc18e40e083511afb
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jul 1 18:51:20 2021 -0700

    update docs link

commit d3822880a9e7471f882cafd4a6fbddd68fff2b07
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jul 1 18:26:24 2021 -0700

    rename livekit-sdk-go

commit a3c936c76cee8b49e91a6eb427a4df79510fe272
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jul 1 18:11:01 2021 -0700

    rename server-api-js

commit e543aaa98ac5003b604fef1b8d963f88ddde00df
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jul 1 17:00:49 2021 -0500

    turn server tls (#38)
    
    * tls
    
    * acm
    
    * use cert/key files
    
    * turn -> turns
    
    * turn cert config
    
    * updates
    
    * move panic
    
    * tidy
    
    * final updates

commit 4e6eafa63ca73ae22524a3ff5b1f5f00143f6934
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 30 15:14:58 2021 -0700

    for test environments, allow use of internal IP if external IP isn't available

commit cc30d2e0255dc6447b6b7599fd8f996874a0e06e
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 30 10:57:54 2021 -0700

    log error when creating new node (test)

commit fb7a6cf5679651f1438fdec4a081d52d5c6a9f41
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 30 10:49:47 2021 -0700

    Updated README with link to react, contributing info

commit 6d25bd0e9acca1002ae86e491e530da9a70065f6
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 30 10:32:29 2021 -0700

    Update issue templates

commit b05da63fc3c28e513fea3753023e6edd23929e28
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jun 28 16:22:51 2021 -0700

    send update on reconnect

commit 083e7cc86046019d1d3a97981b8b3ded216fbc65
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jun 28 15:49:17 2021 -0700

    Reduce default PLI throttle values, ion-sfu resync fix

commit 343aec98a00f4b992e3bde97b74eaf75f769a357
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jun 28 12:47:16 2021 -0700

    Remove STUN candidates, disconnect clients on ICE failed

commit 815fd5066d4c60494959cf7774c460c49639da02
Author: David Colburn <xero73@gmail.com>
Date:   Sat Jun 26 18:38:44 2021 -0700

    remove unconnected participants after 1m

commit c0c38f2e1dd3cc857797c904e9cb18915dd0d6fb
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jun 25 12:57:07 2021 -0700

    Fixed deadlocks with updated simulcast logic

commit 871ecd0366e1dae0f5efb51df4502a0f2a01924c
Author: David Colburn <xero73@gmail.com>
Date:   Wed Jun 23 22:01:23 2021 -0700

    best quality if < 10 subs

commit d8b96ac2c8c0c1b0d96386a43f5798be89281833
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 23 14:12:51 2021 -0700

    Room API to support selective subscriptions

commit 0c75924c73cb05eea366b579eb3c1efeec7db557
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 23 12:44:25 2021 -0700

    increase subscription debounce interval

commit eda5cfbfd5c14486e036f3c9c9c09fe4dd291bc7
Author: David Colburn <xero73@gmail.com>
Date:   Wed Jun 23 12:00:18 2021 -0700

    better pli throttling

commit 0ffb8a97e40eaf3beffba15306a6693ed5e0543c
Author: David Colburn <xero73@gmail.com>
Date:   Tue Jun 22 15:00:27 2021 -0700

    rtcpThrottle -> pliThrottle

commit 6b67ba4af0bbd2746ad5210e9b7e5fbe2e1290c1
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jun 22 14:41:38 2021 -0700

    docs around audio sample smoothing

commit 3b2b3a4929db7ceb28aaab25ea5e129fa2dc22ef
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jun 22 14:13:24 2021 -0700

    debounce track settings API to match client usage pattern

commit bc8becaff68f3221d17111f16002d84e5bbbb184
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jun 22 00:35:33 2021 -0700

    fixed logic error in speaker updates

commit f0d8b1c7eea5e51f4cd222bdb27661e7bbf2cda5
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jun 21 22:18:18 2021 -0700

    fixed bug in smoothing algorithm, fixed tests

commit d69e9f451ecffa4fd65ca578a98c36b7de3a95a3
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jun 21 18:14:20 2021 -0700

    Smooth audio levels by averaging over samples.

commit 5d2fb3c09abaf1e81e2542cd186c57024af313f6
Merge: 6161df3 eebc2f5
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jun 21 19:38:11 2021 -0500

    Merge pull request #37 from livekit/rtcp-throttling
    
    Rtcp throttling

commit eebc2f5acd3c316dd6dddd34a655f5f628d74f0e
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jun 21 17:13:58 2021 -0700

    add throttle config

commit 46ad247927b39d5b766d815255d3e7ae0fa4d8c0
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jun 21 16:16:13 2021 -0700

    fix addTrack

commit 31b4148052df70c70284e488d2ad3b7b18f29c03
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jun 21 15:54:42 2021 -0700

    don't send empty pkts

commit fee6f426bbaab21d6f340b53c4d414cc92d20fed
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jun 21 15:30:18 2021 -0700

    close rtcpThrottle

commit e4a460f30bda42c76a711cd4d6e1cf1dc6a4b5f2
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jun 21 15:08:49 2021 -0700

    nil checks

commit b17731506eff4bde82084a6226c4c0933672220b
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jun 21 15:06:58 2021 -0700

    add dep

commit 3748b6862e58908f2e7dc816c87b86911225b0a1
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jun 21 14:59:46 2021 -0700

    0.9.15-snapshot

commit ce3199b8b1249f4475b6b35f708b07ba018f9f83
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jun 21 14:57:26 2021 -0700

    throttle

commit 6161df344c6c68c54244c26da590379644e6baaa
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jun 20 21:27:39 2021 -0700

    0.9.14-snapshot

commit b12dc97a0c811b8b239ccaa1317aa204fc694f81
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jun 20 21:27:11 2021 -0700

    v0.9.13

commit 69290c535b254864790300bf5424db8b09b480b5
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jun 19 00:14:40 2021 -0700

    Send full update after joining when there are missed updates

commit 38c81e5645e41172673bad600c05d870a85c69fe
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jun 18 21:05:56 2021 -0700

    Support for video dimensions in publications (#36)
    
    * send back video dimensions
    
    * Store video dimensions in MediaTrack and forward in TrackInfo
    
    * use committed protocol

commit 515b1f0f7e2ce5c7bdf13eb4c080c638bd8bd158
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 17 23:31:17 2021 -0700

    exit downtrackRTCPWorker after disconnection

commit 6c5abde7d95770eeaecd82435e1cb496358e7ca4
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 17 23:14:05 2021 -0700

    snapshot version

commit 65d150328541a52fdd2a249087e98dc476c8ef2b
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 17 23:10:55 2021 -0700

    v0.9.12

commit b2201a7b3462f20992213fea74cf8ad785e69278
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 17 20:43:28 2021 -0700

    don't set PeerConnection callbacks, ignore the responses instead

commit e527a660968d2c4361f8d93defd8761bc05b09c0
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 17 16:17:08 2021 -0700

    endpoint to dump stacktraces

commit 089d1d366d61e1037773809426a0084922dc4606
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jun 17 22:33:26 2021 -0700

    move createOffer to goroutine

commit 6d6423c29dde0dee3b9466ea5794a26b9fd4ec2e
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 17 21:20:40 2021 -0700

    switch to forked version of pion

commit a914505cfb6b5ec6d68b6093f78bf02a1b4c35dd
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 16 13:41:43 2021 -0700

    snapshot version

commit 92d4f811745232707de9a5d2a8992252003b28ef
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 16 13:40:29 2021 -0700

    version 0.9.11

commit 3fad61b365c8604ebd9248c55cc8e64c5fe041b3
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 16 13:39:04 2021 -0700

    Fix "missing tracks" - always send participant updates

commit f30fe90d985fc66c281242930b6766bcf14766ce
Author: David Colburn <xero73@gmail.com>
Date:   Tue Jun 15 11:44:09 2021 -0700

    remove buffer close

commit 4f56d55d867b9bfe20982017a13c43afa8c21c45
Author: David Colburn <xero73@gmail.com>
Date:   Tue Jun 15 00:50:33 2021 -0700

    close rtp buffers

commit 2cecbad29d623b86e4745e81442089a44cb50431
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jun 14 22:53:29 2021 -0700

    fix: memory leaks with BufferFactory being held

commit 48a9971b3af3cd895d3f70d6fa8a115d2888a28b
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jun 11 14:43:20 2021 -0700

    generate protobufs before all else

commit 44488f078cdecf776f45a97f381a1aefb8c7ddc4
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jun 11 14:06:01 2021 -0700

    update docs link

commit 0cecd81906bdc5897e8b2efa83cf5eb55fb15817
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 9 17:50:12 2021 -0700

    fix negotiation timing issue, potential deadlock in ICE restart

commit b3e6bd10cfbe981a5800b0d018caf396c7ef785d
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 9 16:06:10 2021 -0700

    fixed potentially skipping offer in PCTransport
    
    this could explain the "missing" track problem when the server fails to send some tracks to some of the subscribers

commit b10d903d3e29530783a94bc50f5fc66809ccf2e7
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 9 14:16:48 2021 -0700

    fix: avoid deadlocks when participant closing, adapt to ion-sfu changes

commit db7d5fff52b21e19e45f385ca2c96797fe9fccd6
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 9 13:54:52 2021 -0700

    Test reliability - give time for HTTP server to start

commit 6278673b4667d93bd60e4c4e0c08699f854a7b2d
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 9 13:17:13 2021 -0700

    Fix test

commit 0098d61eff7f79092658dccbb6fc5de1c612d707
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 9 13:11:58 2021 -0700

    allow test to run on dispatch

commit abedc05ce595affa07d52ec517c3e963e8021cb5
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 9 12:31:29 2021 -0700

    Improve logging, hook up ion with zap logger

commit 321ebab99b3a50baf72b40d51ae5a4fcf590e116
Author: Tho Monnom <theo.monnom@outlook.com>
Date:   Wed Jun 9 21:14:14 2021 +0200

    Add the ability to send data to specific participants (#34)
    
    * UserPacket destination filter
    
    * Updated protocol to v0.5.2
    
    * Added DataChannel tests

commit bbf7f83784e376bafb3ac77ce22d5e0377629dbc
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 9 09:51:44 2021 -0700

    Improve integration test reliability, wait for RedisRouter to start

commit f6bafc4a01ae154f669357dea33b3a80fd24d11b
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 9 09:38:26 2021 -0700

    Fix deployment guide URL

commit 7173dcc1d193f565ca0a8ce684bf5ecfda7d6639
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jun 8 15:28:18 2021 -0700

    release read lock on AddSubscriber earlier

commit d2cadac2b3a1e3dac9438779298851d2fc79ec5c
Author: David Colburn <xero73@gmail.com>
Date:   Mon Jun 7 22:35:00 2021 -0700

    deploy script

commit e77c819d1aba3eb47353db740c6c6ed90757cfbf
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jun 7 21:22:42 2021 -0700

    also increase send buffer size, 0.9.8

commit fc41e14bf3c8bd50aae0ebc4c74b239cd6a979ce
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jun 7 16:11:48 2021 -0700

    detect UDP buffer size w/o using original conn.
    
    if we get FD on the mux connection, the connection will be set to blocking mode and then hang when stopping

commit d949eaa99f77af4f43c9a0780d633eca79231168
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jun 7 14:59:30 2021 -0700

    set UDP read buffer size and info/warn during startup

commit 3765739c7f60f8ac962c39b2520892c999b80bf9
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jun 7 13:11:13 2021 -0700

    stats: Do not count incoming Nack/PLI as outgoing

commit 6fd0b8e0da0fa911e7bff70fec34b8a08d209a47
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jun 4 21:04:58 2021 -0700

    Updated access token doc link

commit 5e81982eb6a595a0d57eafab23635457235bbadf
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jun 4 20:50:11 2021 -0700

    version bump to 0.9.7

commit a3228c2ae96b90c1e694e6c513f18103bdb1df67
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jun 4 14:57:55 2021 -0700

    resolve data race conditions, code quality

commit 5baf97e99bc739a55acd88595b801d32fa463f60
Author: David Colburn <xero73@gmail.com>
Date:   Fri Jun 4 14:30:10 2021 -0500

    imports/inspections

commit c510ea2e1aa798fa2000c0b7fe00a114d042cb0f
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jun 4 12:26:23 2021 -0700

    Fix race condition with Transport negotiations

commit bf281b19943c9f335c70139ee89bde1124e47a88
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jun 4 11:19:23 2021 -0700

    Simplify test helpers, cleanup redis between tests

commit f3006d397bad3ad522323343a087da974a95a527
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 3 23:22:19 2021 -0700

    update license & readme

commit 1aca86393a4064669684d90abb9449575dafba1b
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 3 23:15:32 2021 -0700

    version bump to 0.9.6

commit 59a27d20c3259bfaf27f43c5d10521bfe52ab914
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 3 23:04:19 2021 -0700

    improve test reliability, fully close rooms during server shutdown

commit 9b39349aeba0664b6f49e63298035786f069bbf4
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 3 22:40:20 2021 -0700

    increase timeout for GH CI

commit 24919d8ccb76127285ef98f57fa9c5f5ff331eaa
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 3 22:31:31 2021 -0700

    working CI test workflow, more reliable transport_test

commit 8f46e0f4da77830bc7c5df891e9fa33f195a696e
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 3 20:50:31 2021 -0700

    set up CI

commit 0416299e02f8790806ae936a56600a27a46f8afc
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 3 15:46:41 2021 -0700

    fix sender report batching to not exceed MTU

commit 855217bd1cade58b996ecbeddd41ff544fa6cbf8
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 3 11:38:45 2021 -0700

    Seed random number generator

commit 474d7d7a5497633150ccb086aa83a9cf903f50cb
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jun 3 09:36:41 2021 -0700

    also include protoc-gen-go in tools, locking version during bootstrap

commit 69b94e1142e3e59470bbad0f25e73fa54a972520
Author: David Colburn <xero73@gmail.com>
Date:   Thu Jun 3 01:57:43 2021 -0500

    error logging

commit 5d85257577d27fc75f679a8194f21b26c74ec82d
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 2 22:56:58 2021 -0700

    install/update proto-gen tools in bootstrap

commit f7339ac4e3524a2b21d0cb853221fd80ee373781
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 2 22:19:02 2021 -0700

    version bump 0.9.5

commit 684691e1cd6b66f29912d727fb8b1c45fc7b9e73
Author: David Colburn <xero73@gmail.com>
Date:   Wed Jun 2 23:46:38 2021 -0500

    first commit

commit 9ca662f06e8710df8b053c31fdc7028b812c5d3d
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 2 16:43:43 2021 -0700

    fix deadlocks in track subscription

commit b769faaec5f7bbf7e0891fef73a95bb4ad58abcb
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jun 2 10:20:11 2021 -0700

    minor: better EOF detection

commit 0900054c245f5866e5cb854b8a8983f9e09d5c4c
Author: David Zhao <david@davidzhao.com>
Date:   Sat May 22 22:54:47 2021 -0700

    ability to disable auto subscribe per participant

commit 55d801d30b83b3a844a300346da936236dbf29bf
Author: David Zhao <david@davidzhao.com>
Date:   Fri May 21 12:18:55 2021 -0700

    update to ion-sfu v1.10.3

commit 79e4151f8dd3d1b881e028899d4faf1ebac04bc1
Author: David Zhao <david@davidzhao.com>
Date:   Mon May 17 12:59:00 2021 -0700

    include protoc requirement in bootstrap & readme

commit ce0ebd72f17cea8d10dc59fad3a4bff5bb300602
Author: Feeps <feepsmail@gmail.com>
Date:   Mon May 17 20:44:23 2021 +0200

    Use bash in boostrap.sh to make pushd/popd work

commit 19e6909cbb2a40343efc7cb960cc8450e7b2a330
Author: David Zhao <david@davidzhao.com>
Date:   Mon May 17 11:00:34 2021 -0700

    fix restarting ICE log

commit 442b819af9a6e0cf470816192d657423b7bf79e0
Author: David Zhao <david@davidzhao.com>
Date:   Mon May 17 00:27:22 2021 -0700

    remove specific version from readme

commit e3854eaff4e9a8f645d125c0dc57103666393d25
Author: David Zhao <david@davidzhao.com>
Date:   Sat May 15 17:31:48 2021 -0700

    handle ICE restart and candidate gathering race

commit 6a99146c21136b5d0b056e93890c61483d9ade84
Author: David Zhao <david@davidzhao.com>
Date:   Fri May 14 22:50:45 2021 -0700

    skip ICE restart if subscriber not connected

commit 3a302e2b09285f8346ed18002c6afc922bb5f038
Author: David Zhao <david@davidzhao.com>
Date:   Fri May 14 22:04:09 2021 -0700

    version bump v0.9.2

commit ccb322c9c27e60b1f38bd7fc424235996830258e
Author: David Zhao <david@davidzhao.com>
Date:   Fri May 14 22:03:08 2021 -0700

    more reliable handling of ICE restart

commit c76cdf11c287e48be89daf153e6c625ab22e5901
Author: David Zhao <david@davidzhao.com>
Date:   Wed May 12 23:52:41 2021 -0700

    add tests to ensure subscriber cleanup

commit bbadd4ccb6ad418fb60dc9355d411ca6ffd3400a
Author: David Zhao <david@davidzhao.com>
Date:   Wed May 12 23:40:41 2021 -0700

    properly cleanup downtracks on subscriber disconnect

commit 447f2d589bf5564c247b108f3f8491a5a74cc534
Author: David Zhao <david@davidzhao.com>
Date:   Wed May 12 09:04:46 2021 -0700

    correctly subtract subscribed tracks

commit 681010072c29de333d104926f028167dbfb9b776
Author: David Zhao <david@davidzhao.com>
Date:   Tue May 11 22:04:59 2021 -0700

    support for exposing stats via prometheus

commit a8eba51c3304a9f4b5e2ef0c3684eb203ee38a59
Author: David Zhao <david@davidzhao.com>
Date:   Tue May 11 12:46:40 2021 -0700

    moved protocol to docs repo

commit 9616149a88a451a71ee411b078b4d914aff0eec9
Author: David Zhao <david@davidzhao.com>
Date:   Tue May 11 00:31:18 2021 -0700

    collect inbound and outbound packet stats

commit 23238898ed987764e013cdb2469cc3f9fc06dce9
Author: David Zhao <david@davidzhao.com>
Date:   Mon May 10 15:06:39 2021 -0700

    update dependencies

commit f01fee03c3dda9ab6025257b8a786f624d329a94
Author: David Zhao <david@davidzhao.com>
Date:   Mon May 10 13:49:10 2021 -0700

    default to not map external IP.

commit 642e696456fdc5414e3fd69bab2fb26454d8337f
Author: David Zhao <david@davidzhao.com>
Date:   Fri May 7 13:56:28 2021 -0700

    updated readme

commit d399a57a7b1dbac3d06ac0aac6e4da68402a3f4d
Author: David Zhao <david@davidzhao.com>
Date:   Fri May 7 01:16:33 2021 -0700

    Removed cli, mux cleanup, docs update

commit 933bdb9a2fd04b5ce6f02f0a6e88025b7ae15410
Author: David Zhao <david@davidzhao.com>
Date:   Thu May 6 12:39:14 2021 -0700

    removed generated protos from repo, utilize gomod dependency

commit f60b35680744cbedf96a3129fd5a5a3b4682f86a
Author: David Zhao <david@davidzhao.com>
Date:   Thu May 6 00:10:23 2021 -0700

    don't hide trickle decode errors

commit 0eb29cc651967285fe8a9bb104bffa38000bcd1a
Author: David Zhao <david@davidzhao.com>
Date:   Tue May 4 15:39:06 2021 -0700

    also checksum go.mod

commit 7877bc6ecd259ca9b5803ad9938a1fe4adbc2301
Author: David Zhao <david@davidzhao.com>
Date:   Fri Apr 30 15:03:41 2021 -0700

    support for redis db

commit e1f23e6dbeece9b82e00392349e520ebb1666a34
Author: David Zhao <david@davidzhao.com>
Date:   Wed Apr 28 12:39:07 2021 -0700

    remove logs about sending lossy packet

commit 6b63cd5b311876784db45904ec4c2a51064eeb52
Author: David Zhao <david@davidzhao.com>
Date:   Tue Apr 27 22:02:59 2021 -0700

    Revamp data channels (#32)
    
    * support for built-in data channels. active speaker updates via data channel
    
    * fixed tests
    
    * update to Pion 3.0.27

commit 84ac0a718d95809f730b86236f71994499d404fc
Author: David Zhao <david@davidzhao.com>
Date:   Sun Apr 25 14:13:35 2021 -0700

    single port mode connectivity improvements, ICE v2.1.6

commit 342adee606c7106183d88e0741b651f5ebe6d11d
Author: David Zhao <david@davidzhao.com>
Date:   Thu Apr 22 11:28:57 2021 -0700

    udp instead of udp4

commit 2530fc9082d0e671b723c56e16e1a956a1f431cc
Author: David Zhao <david@davidzhao.com>
Date:   Wed Apr 21 22:38:35 2021 -0700

    version bump to 0.8.4

commit 0dddc3c0be6c1f45535b4c1fcd884b7c28756d27
Author: David Zhao <david@davidzhao.com>
Date:   Wed Apr 21 22:30:29 2021 -0700

    DeleteRoom now removes all participants in the room

commit 4725872884425fafe6d8e055a4c38864b15c6244
Author: David Zhao <david@davidzhao.com>
Date:   Wed Apr 21 22:05:16 2021 -0700

    Disconnect immediately when server initiated close

commit 92b92ad3de298e30ed6b1a3238c31ee98e1b3208
Author: David Zhao <david@davidzhao.com>
Date:   Wed Apr 21 21:52:56 2021 -0700

    Updated protocol protobufs

commit d6c155e060e722fbba7ed062fdd4168ef2a4870b
Author: David Zhao <david@davidzhao.com>
Date:   Wed Apr 21 21:52:31 2021 -0700

    set joinedAt when participant is created

commit 07e4ab0c2a31fc1a4ffea1aafa01db4c86697549
Author: David Zhao <david@davidzhao.com>
Date:   Wed Apr 21 21:30:16 2021 -0700

    Update to official single port in WebRTC

commit 99e6cae8dd433acfc8215686b74d45479b9357cc
Author: David Zhao <david@davidzhao.com>
Date:   Mon Apr 19 17:01:30 2021 -0700

    Update to UDPMux performance & race condition fix

commit 3b236f0d72000c7862f9a4ac282de497e27aa0a0
Author: David Zhao <david@davidzhao.com>
Date:   Mon Apr 19 16:51:20 2021 -0700

    handle client reconnect with ICE restarts

commit b8c9d05d3e33748a03e1801bb340c924e5935f19
Author: David Zhao <david@davidzhao.com>
Date:   Sat Apr 17 00:42:52 2021 -0700

    rollback ion-sfu 1.9.7, seeing a crash with simulcast participants

commit 1ef2fb8f4a5d6c755c3a63691f22cc51f6470037
Author: David Zhao <david@davidzhao.com>
Date:   Fri Apr 16 16:57:57 2021 -0700

    better startup logging

commit 53480b161121eee76f56603ba4aa4c87448301c6
Author: David Zhao <david@davidzhao.com>
Date:   Fri Apr 16 15:12:18 2021 -0700

    updated config documentation

commit 0fc0745c4c96dd1376d156352164170cbb2d1c34
Author: David Zhao <david@davidzhao.com>
Date:   Fri Apr 16 13:59:30 2021 -0700

    update dependencies, version 0.8.1

commit 93d10b26408c9e2f3e8e7be21babf9bc6460e60d
Author: David Zhao <david@davidzhao.com>
Date:   Fri Apr 16 00:56:25 2021 -0700

    Manual negotiation and plan-b support

commit 04f6b61ae15793ca71403f6a2814f2b783025680
Author: David Zhao <david@davidzhao.com>
Date:   Fri Apr 16 00:43:55 2021 -0700

    fix potential timing issue with order sequencing

commit 540d1c2e8c8a71fa2401f006efd81c8a1ae15342
Author: David Zhao <david@davidzhao.com>
Date:   Fri Apr 16 00:39:22 2021 -0700

    always allow ICE candidates, even before offer

commit e4238890ffbfa1cf7d368c1d96efbff8340a06c0
Author: David Zhao <david@davidzhao.com>
Date:   Thu Apr 15 17:03:22 2021 -0700

    Refactor/cleanup of negotiation path

commit 6c5bd4ce42c0ed2d7149a44f072e6f1da223dcf6
Author: David Zhao <david@davidzhao.com>
Date:   Mon Apr 12 22:46:29 2021 -0700

    ECS scripts to deploy single port mode

commit c2777cd5563c8cc2264c7231e84d896aec804a87
Author: David Zhao <david@davidzhao.com>
Date:   Mon Apr 12 22:25:13 2021 -0700

    single-port mode (beta)

commit 9a5188d6208a2bbd2a406fe75e92d3ba14454bb4
Author: David Zhao <david@davidzhao.com>
Date:   Sun Apr 11 00:01:06 2021 -0700

    update ECS deploy to turn on ICE TCP

commit 46f98896a144c0e933eef58f225281a238793243
Author: David Zhao <david@davidzhao.com>
Date:   Sat Apr 10 22:03:09 2021 -0700

    version 0.7.5

commit 54584d6e2e43f9b5903815eb4892e737339765b2
Author: David Zhao <david@davidzhao.com>
Date:   Sat Apr 10 21:57:35 2021 -0700

    support for Redis ACL with username/password pairs

commit 3bba717eb5ae4151becfbb4df56fac50ac3294ca
Author: David Zhao <david@davidzhao.com>
Date:   Sat Apr 10 21:53:50 2021 -0700

    Support for TCP-ICE, updated config documentation

commit e47754179cf632e7363719808bdd75d3936d939d
Author: David Zhao <david@davidzhao.com>
Date:   Sat Apr 10 10:58:12 2021 -0700

    disconnect participant when ICE connection fails

commit 90792586bb75902ffcdcbf72189755aeb5ce9088
Author: David Zhao <david@davidzhao.com>
Date:   Thu Apr 8 22:07:03 2021 -0700

    v0.7.4

commit 9aa6fc29f54059abafe4210f7fdbddfad490706d
Author: David Zhao <david@davidzhao.com>
Date:   Thu Apr 8 21:56:53 2021 -0700

    support immediate disconnect via Leave

commit b0b28e4499c940f214517d3ebfffb29d69a06cbf
Author: David Zhao <david@davidzhao.com>
Date:   Thu Apr 8 17:35:48 2021 -0700

    upgrade to pion v3.0.21, fixes to race condition adding/removing tracks that causes panic

commit b29bde4b87395fb3eeda67270f1b90a80cdb0d5c
Author: David Zhao <david@davidzhao.com>
Date:   Wed Apr 7 14:11:47 2021 -0700

    fixed RLock typo

commit 144351a89a262c5633b88d90e608b92a8075cfb3
Author: David Zhao <david@davidzhao.com>
Date:   Tue Apr 6 17:16:55 2021 -0700

    use RWMutex for router channel lookup

commit e940c5d8ab0c35c6cdd7aa0e9aba85e5c06ded64
Author: David Zhao <david@davidzhao.com>
Date:   Sun Mar 28 21:06:19 2021 -0700

    update to protocol v0.3.2

commit b90f851be53697f874f02a8444f5d07c7608a469
Author: David Zhao <david@davidzhao.com>
Date:   Sun Mar 28 21:05:20 2021 -0700

    return participant connected timestamps

commit 8da7b17b9549683109afecb8d53998b40cd3b5f6
Author: David Zhao <david@davidzhao.com>
Date:   Sat Mar 27 22:00:31 2021 -0700

    version 0.7.1

commit 75d7cb7a56f395099c835e374b14ea693a98bf52
Author: David Zhao <david@davidzhao.com>
Date:   Sat Mar 27 22:00:07 2021 -0700

    upgrade to pion 3.0.19

commit ef00a4d33cb59cb4d6a50786bcfc892101c9d1fc
Author: David Zhao <david@davidzhao.com>
Date:   Sat Mar 27 21:59:00 2021 -0700

    fixed tests

commit dfac44d59e59b86877d539d4345cc600a617aa78
Author: David Zhao <david@davidzhao.com>
Date:   Sat Mar 27 21:54:46 2021 -0700

    reduce reliance of funk, fixed bug getting subscribed tracks

commit cb963f1637e2100cf674120ede94fe4054a175e4
Author: David Zhao <david@davidzhao.com>
Date:   Tue Mar 23 18:07:04 2021 -0700

    logging port range on start

commit f337b777b4419e8b68bac15628a5c9d842ae07de
Author: David Zhao <david@davidzhao.com>
Date:   Sat Mar 20 22:31:59 2021 -0700

    version 0.7.0

commit fa5b32d3097a020c10b3c92d8bbc34bdb77439e1
Author: David Zhao <david@davidzhao.com>
Date:   Sat Mar 20 22:31:16 2021 -0700

    update to pion v3.0.17

commit 537edda4c3c679a3bc27da44f7ce9e2ff08d2c6f
Author: David Zhao <david@davidzhao.com>
Date:   Sat Mar 20 22:27:47 2021 -0700

    handle new UpdateParticipant API, enable permission updates

commit 6aee50b397b61873872160d2d4aafae22ba55d03
Author: David Zhao <david@davidzhao.com>
Date:   Fri Mar 19 23:27:22 2021 -0700

    fixed protobuf path reference

commit cbff51860769759bd73e8ce7cbbec2ebe9f9b946
Author: David Zhao <david@davidzhao.com>
Date:   Tue Mar 16 23:43:27 2021 -0700

    updated to ion-sfu 1.9.6

commit 0de53f9a336a456d80c9434d1d3a463c09101904
Author: David Zhao <david@davidzhao.com>
Date:   Tue Mar 16 22:31:09 2021 -0700

    updated tests for participant update

commit f7ed2cee60e4897f1df76e158fa8355086cbf800
Author: David Zhao <david@davidzhao.com>
Date:   Tue Mar 16 01:22:21 2021 -0700

    RoomService.updateParticipantMetadata, participant permissions

commit e04eaeb480a13aa7d1d05082563fde53569659fd
Author: David Zhao <david@davidzhao.com>
Date:   Mon Mar 15 18:35:26 2021 -0700

    cleaned up go.mod

commit 093d99b0107d8a199a26a03c83e1656cbf15cdf5
Author: David Zhao <david@davidzhao.com>
Date:   Mon Mar 15 11:42:57 2021 -0700

    update dependencies, minor fixes

commit 98013ac20f9753360b08bf50a3c8a7f0d25fc2fa
Author: David Zhao <david@davidzhao.com>
Date:   Mon Mar 15 11:06:26 2021 -0700

    /rtc responds to only websocket requests. Fixes #25

commit 9b2c2f351c44c2bbfcdefad82f3c7dd5f2fb0e54
Author: David Zhao <david@davidzhao.com>
Date:   Mon Mar 15 10:57:15 2021 -0700

    support clients that use binary protocol, 0.6.1

commit 7d02c01fd86142118117d81b8e55982c6cc70d8e
Author: David Zhao <david@davidzhao.com>
Date:   Sat Mar 13 22:01:51 2021 -0800

    refactor - moved common code to livekit/protocol

commit e20c831c1405dc5e6c0fe34a6dea0483782fb9a4
Author: David Zhao <david@davidzhao.com>
Date:   Sun Mar 7 23:30:21 2021 -0800

    automatic configuration of TURN, with per-room credentials. version 0.6.0

commit 048cdf9751626e55ce5718cde76d7ada06413987
Author: David Zhao <david@davidzhao.com>
Date:   Sat Mar 6 23:15:16 2021 -0800

    ignore generated file from git

commit fa2ffa46e7e6503174ed0dacbf6d28e78072385d
Author: David Zhao <david@davidzhao.com>
Date:   Sat Mar 6 22:47:48 2021 -0800

    Embedded TURN server

commit 2008a2e1e1382d60f581970634a270072ff51674
Author: David Zhao <david@davidzhao.com>
Date:   Thu Mar 4 09:25:12 2021 -0800

    update to pion 3.0.13, with codec matching fixes

commit 6f522276dd970cab45a0cf4798445af49fe0f3b2
Author: David Zhao <david@davidzhao.com>
Date:   Tue Mar 2 20:41:48 2021 -0800

    version 0.5.7, updated to ion-sfu 1.9.3 for receiver NACK fixes

commit efc55b04c3f2fd59ba7061e2fb89a5d495adb066
Author: David Zhao <david@davidzhao.com>
Date:   Tue Mar 2 01:37:01 2021 -0800

    updated to correct pion fork

commit 458eff1922f93404183d44b849ac45b666fe4909
Author: David Zhao <david@davidzhao.com>
Date:   Tue Mar 2 01:11:42 2021 -0800

    version 0.5.6

commit ddfddfff53eaee340cce00f99983f9d42c015cb4
Author: David Zhao <david@davidzhao.com>
Date:   Tue Mar 2 01:10:34 2021 -0800

    fixed mismatched codec type in pion, increase message chan buffer to avoid overflow during message handling

commit 5612c0783f955b812e9b20cd56889e140f0fd2c2
Author: David Zhao <david@davidzhao.com>
Date:   Mon Mar 1 18:09:00 2021 -0800

    go back to pion 3.0.11, 3.0.12 causes crash with iOS trickle ICE

commit 7327c4af72f3998149c33b070fce3f078d4af214
Author: David Zhao <david@davidzhao.com>
Date:   Mon Mar 1 14:50:54 2021 -0800

    version 0.5.5

commit 03d0a8c04707a07856fae277ec7c8f9ebe4c3fb7
Author: David Zhao <david@davidzhao.com>
Date:   Mon Mar 1 14:49:46 2021 -0800

    updated to ion-sfu v1.9.1, removed package bufferFactory

commit e8d270193727124e990b4be9c7fefa405d5026a7
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 28 22:54:50 2021 -0800

    release :latest docker images

commit 4e2ccc4e98cf961169adbdc73409026cec43c649
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 28 22:27:18 2021 -0800

    version 0.5.4

commit 0a5808c73e3ac2685a093cddcb96d001450639c9
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 28 22:26:02 2021 -0800

    use nack fix in ion-sfu, fixes #26

commit f7af7607b98831957930b34a3a8676c993a410a0
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 28 22:28:17 2021 -0800

    terraform deploy on ECS (#27)

commit 7b93e661f0f9fb48ea26c4fa3b980e3bd1785d62
Author: David Zhao <david@davidzhao.com>
Date:   Sat Feb 20 21:12:26 2021 -0800

    updated upstream dependencies, v0.5.3

commit a010b618afe2d5066e98d9e6c066854e03da97fe
Author: David Zhao <david@davidzhao.com>
Date:   Sat Feb 20 21:09:04 2021 -0800

    re-assign node for room if existing node for room is no longer available

commit 1ce27be1b37d737fc5ed1dd50cc5e38dba72fa53
Author: David Zhao <david@davidzhao.com>
Date:   Thu Feb 18 23:22:59 2021 -0800

    update dependencies

commit e89226626ad8e9440ec4572126cde014062a0562
Author: David Zhao <david@davidzhao.com>
Date:   Wed Feb 17 18:12:42 2021 -0800

    fix to golang 1.16 as builder

commit 95539a3cdd3358eab6a5cbac8203670a779de785
Author: David Zhao <david@davidzhao.com>
Date:   Wed Feb 17 18:07:14 2021 -0800

    fix tests

commit ebaf12f4c5f23aa9423a36a639a95455a3e8a8ed
Author: David Zhao <david@davidzhao.com>
Date:   Wed Feb 17 17:52:14 2021 -0800

    version 0.5.1

commit b52354623c5887464dbd2c87fe0ed798211f0c5a
Author: David Zhao <david@davidzhao.com>
Date:   Wed Feb 17 17:51:54 2021 -0800

    use hostname instead of MAC address to work with docker environments

commit 0eb973411123b6ba72f91977df24c2ae9bcb8c7d
Author: David Zhao <david@davidzhao.com>
Date:   Tue Feb 16 22:47:10 2021 -0800

    ignore another closure message

commit 1534eb4f2a9e71a47327ace0a7c1a52a51995b89
Author: David Zhao <david@davidzhao.com>
Date:   Tue Feb 16 16:46:47 2021 -0800

    version 0.5.0

commit 6be0c99fcca3232b7be41e3a53d1b14f93f654be
Author: David Zhao <david@davidzhao.com>
Date:   Tue Feb 16 16:02:19 2021 -0800

    tune audio level sensitivity

commit e402d0d0afb6f9cfbc25e4b94040ffc6585171dd
Author: David Zhao <david@davidzhao.com>
Date:   Tue Feb 16 13:52:50 2021 -0800

    subscriber control of tracks (unsubscribe/mute/quality), support simulcast (#23)
    
    * subscription control & simulcast RTC APIs
    
    * don't remove tracks for simulcast

commit cd5cac6c5e8a51ff971f0c9a8c5c6c757681fb6d
Author: David Zhao <david@davidzhao.com>
Date:   Mon Feb 15 17:57:32 2021 -0800

    version 0.4.3

commit 99baeb38e451364eab4a3632cdd93e9c30b34562
Author: David Zhao <david@davidzhao.com>
Date:   Mon Feb 15 17:57:01 2021 -0800

    fix bugs with websocket reconnection, don't re-use redis sinks (#22)

commit 9466bc01ed22c7087447c436fe784ce6ba7ee979
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 14 14:30:55 2021 -0800

    version 0.4.2

commit a96069969d1c39d759cac25c7999fa84c2a3032e
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 14 14:30:23 2021 -0800

    support audio level extension & active speaker detection (#20)
    
    * send active speaker updates with audio level
    
    * add test on loudness sorting
    
    * use a float to represent audio level

commit 7ddf96b6d42c702be17c00b7fc73e2185dc19ba0
Author: David Zhao <david@davidzhao.com>
Date:   Fri Feb 12 23:54:27 2021 -0800

    version 0.4.1

commit e342ea215593444711d7035d327b1cc790f1fc3e
Author: David Zhao <david@davidzhao.com>
Date:   Fri Feb 12 23:53:46 2021 -0800

    Fixed #16 explicit passing of participant id

commit 090f8d0664690f7273f7937dd658d83249748e80
Author: David Zhao <david@davidzhao.com>
Date:   Fri Feb 12 22:30:31 2021 -0800

    use dedicated PeerConnections for sending and receiving (#19)
    
    * protobuf updates to support new protocol
    
    * use dedicated publish & subscribe peerconnections
    
    * update client to work with dedicated PCs
    
    * fix Go client negotiation, reduced length of UUID

commit fe497a3cc1fdd0c851e64e026e44684662376271
Author: David Zhao <david@davidzhao.com>
Date:   Wed Feb 10 23:14:33 2021 -0800

    version 0.3.4

commit 538461d5dccdbe230be4c574512bb14d8771bbe4
Author: David Zhao <david@davidzhao.com>
Date:   Wed Feb 10 23:13:36 2021 -0800

    pass client defined metadata from JWT to participant (#17)

commit 38140debdf2762898830859e9c023d32bae0290a
Author: David Zhao <david@davidzhao.com>
Date:   Wed Feb 10 00:06:32 2021 -0800

    Admin APIs for participant management (#13)
    
    * stubs for room admin APIs
    
    * room store APIs to persist participants
    
    * participant persistence
    
    * updated protobufs
    
    * implemented APIs to mute/remove/etc
    
    * fixed mute handling

commit 61b9569e388cf98c3815c4fd7c3a23cf08716ce0
Author: David Zhao <david@davidzhao.com>
Date:   Mon Feb 8 16:35:14 2021 -0800

    fix: use track SID instead of source ID

commit bc8cd33dfc6b385fa1a544332da693fe4cb79587
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 7 23:07:09 2021 -0800

    version bump to 0.3.3

commit f1f5b8dafead8d5031416c6c2d6e206f0b857ac3
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 7 23:06:16 2021 -0800

    use proper fix for using shared bufferFactory, remove resync hack

commit e30c9f706c3b79bcbed2a64083d9de0b02dd85c5
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 7 22:44:25 2021 -0800

    cleaner resync

commit d13a962afd8400e08c4cd56dd8b19a6c7398e2ed
Author: David Zhao <david@davidzhao.com>
Date:   Sun Feb 7 21:58:20 2021 -0800

    fixed message channel deadlock

commit 33787fd4f20c90d8b5dd6e165cfa594a422ba443
Merge: 5578b74 fa9d2af
Author: David Zhao <david@davidzhao.com>
Date:   Sat Feb 6 23:21:51 2021 -0800

    use ion-sfu receiver/downtrack instead of our own.

commit fa9d2af4951c328c7cbcbf0697a3e7e70ca1a914
Author: David Zhao <david@davidzhao.com>
Date:   Sat Feb 6 23:18:21 2021 -0800

    use ion-sfu commit

commit f35f42649140aee25714ad1c8b634dfc1cfea15c
Author: David Zhao <david@davidzhao.com>
Date:   Sat Feb 6 23:16:48 2021 -0800

    use ion sfu

commit 290e100d0d8215a67f6ade1d0e2311afd1dce35c
Author: David Zhao <david@davidzhao.com>
Date:   Sat Feb 6 23:15:30 2021 -0800

    fix generation

commit ae203c27e3556ec962e330d5b7c54fdd29ad6ab0
Author: David Zhao <david@davidzhao.com>
Date:   Sat Feb 6 23:02:21 2021 -0800

    send resync to ensure keyframes have been requested

commit 74cf6b226d02c4b4ebe61a8f774e0e354ec4b7a9
Author: David Zhao <david@davidzhao.com>
Date:   Fri Feb 5 17:48:12 2021 -0800

    fix mute

commit c012c742bd0ba496dd4243ee6866493b5e136a15
Author: David Zhao <david@davidzhao.com>
Date:   Fri Feb 5 17:46:52 2021 -0800

    fix allowing client negotiations prematurely.

commit c978a9cb1fa34a0b7b10778f1748a544343b0870
Author: David Zhao <david@davidzhao.com>
Date:   Thu Feb 4 21:57:40 2021 -0800

    move to ion-SFU's receiver and downtrack

commit c015e267b0767a457b2f7c5ad8f7dbffb4e28408
Author: David Zhao <david@davidzhao.com>
Date:   Thu Feb 4 00:25:09 2021 -0800

    switch to a single redis subscriber, close properly

commit 5dec5b1ae27e015f29fdbb1003f950eb3b8be9a8
Author: David Zhao <david@davidzhao.com>
Date:   Tue Feb 2 23:25:29 2021 -0800

    update

commit 5578b747982c301897e3582bfdbb8d60938b8fa9
Author: David Zhao <david@davidzhao.com>
Date:   Wed Feb 3 00:12:03 2021 -0800

    version bump to 0.3.2

commit 0cb09ee9457cb2e492ed7698fdc752a3b762a9b3
Author: David Zhao <david@davidzhao.com>
Date:   Tue Feb 2 23:55:56 2021 -0800

    handle cid changes between publish intent and onTrack

commit d117cce37b8cf13b773dbdd8538b3e73d4b7aca1
Author: David Zhao <david@davidzhao.com>
Date:   Tue Feb 2 22:53:48 2021 -0800

    integration test around receive before publish

commit 88e247d95a00eae7598171e3d723a19242043695
Author: David Zhao <david@davidzhao.com>
Date:   Tue Feb 2 22:47:36 2021 -0800

    use SendRecv transceiver instead of Sendonly

commit a4266478c533b9634276216596f96234fdeb1951
Author: David Zhao <david@davidzhao.com>
Date:   Tue Feb 2 01:16:13 2021 -0800

    better logging around negotiations

commit 70574deaf71d5d0d96f9d08e6ec18cbc21dd66da
Author: David Zhao <david@davidzhao.com>
Date:   Tue Feb 2 00:40:55 2021 -0800

    better debug logs around negotiations

commit 712d0da6cc2e2169949608b802387daaec9a09ba
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 31 23:06:48 2021 -0800

    use synchronized GetParticipants to ensure eliminate timing issues upon participant join

commit 014610bb05ad425cf9244f82fca812771313864d
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 31 14:20:07 2021 -0800

    version 0.3.1

commit 76b0dc62a73cc1d7adbd7d94727f341cc90742c6
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 31 14:19:16 2021 -0800

    close rooms after delay instead of immediately after participant departure, to allow reconnects

commit 084ec378f0d4d771cd744314e6f3ba07565f5477
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jan 30 23:17:03 2021 -0800

    version bump to 0.3.0

commit 320a6c35bf0bcaa22f4c7d03880708549681af62
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jan 30 23:16:11 2021 -0800

    enable explicit reconnect to distinguish between WS disconnect vs PeerConnection disconnect

commit 2cf2c448be0c8b5ef9ed4cd309a8f46bf3bd1593
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jan 30 22:24:08 2021 -0800

    rework multi-node routing, cleaner design for reconnection

commit 28e73bd109da98ce591f7cfee64128d4e884295f
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jan 30 14:00:37 2021 -0800

    rename Participant.name to Participant.identity

commit 1a8e26031fe49647439cc165b83a0543ca1df587
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jan 30 13:29:31 2021 -0800

    always use multi-node when Redis is provided, removed config

commit 5ce52b6a302b2119b2bf8cf1e86eaa46fbd66eb9
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jan 30 13:20:39 2021 -0800

    fixed keys parsing from ENV/cli

commit 65078f5ef81061ff1ca148a496459c8dc3ba4cb8
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 29 01:03:20 2021 -0800

    skip track updates when client has disconnected

commit 421664c27994d753555882eb006461493e020b9e
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 29 01:00:00 2021 -0800

    version bump to 0.2.4

commit 57a13f9930409f345452f44b1fc725c732b3d3f7
Author: David Zhao <david@davidzhao.com>
Date:   Fri Jan 29 00:49:32 2021 -0800

    fix synchronization issues, use AtomicFlag/atomic.Value for shared fields

commit dd8a1a50551fed5f8b72981d7c67114501d87add
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jan 28 23:40:30 2021 -0800

    use atomic.Load to ensure atomicity

commit fe83baa662d1ac149db5163ad3f334725a61ae26
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jan 28 01:14:06 2021 -0800

    reuse the same Participant ID within the same room/session

commit 0e48711e4b51506d960848939451a7739bd6b5e9
Author: David Zhao <david@davidzhao.com>
Date:   Thu Jan 28 01:00:48 2021 -0800

    don't send participant updates to closed participants (typo fix)

commit 0813a556170d93eaaf0a2164a6d670d0b3f8b3e4
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jan 27 09:42:02 2021 -0800

    ignore duplicate tracks being published

commit 08f5957d651b254e7bebfa31a0ff04886d15676d
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jan 27 09:08:23 2021 -0800

    log version number on startup

commit 5b20068f6caf9f91044ed0621797984268c03f46
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jan 27 01:17:08 2021 -0800

    version bump to 0.2.3

commit 25d476b8ac13557db69c80310b68d294c1f18d7c
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jan 27 01:16:08 2021 -0800

    fixed multi-node routing, correctly set rtc and signal nodes

commit 61db4f5b667d95660584e5dc82c48a034494afbf
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 26 23:52:55 2021 -0800

    fixed multi-node so signal node can start sessions

commit 940b96168ddbe311a98a040114c159d6e91650c9
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 26 23:52:04 2021 -0800

    fix client publishing protocol

commit ed0b9db65547a032218fd73a8407db06dd731e05
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 26 21:45:00 2021 -0800

    avoid sending to closed channels

commit a065a015925690a78074b166ebb9c0e3461d5385
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 26 17:38:47 2021 -0800

    fixed panic when client connected abruptly

commit b96028b4d6a077293f4b2b32446ad6dd5ae4d3dd
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 26 10:39:10 2021 -0800

    version bump to 0.2.2

commit b7acdfeec174a782fb6b8e487aee790b8c105d02
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 25 21:37:36 2021 -0800

    fixed syntax error in test

commit 8ee19247fc36e3188042eb243e899d044c94152b
Merge: 10f7dfc c4dfd3c
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 26 10:38:06 2021 -0800

    Merge pull request #2 from livekit/furqanrydhan-patch-1
    
    switch from scratch to alpine

commit c4dfd3c9874c3209b5207cac12adb6affea5a832
Author: Furqan Rydhan <furqan.rydhan@gmail.com>
Date:   Tue Jan 26 10:32:21 2021 -0800

    switch from scratch to alpine
    
    fixes some aws build issues

commit 10f7dfc0d5a49c325149444c01273724b1623947
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 25 21:34:43 2021 -0800

    version bump to 0.2.1

commit bd81b073d1d7b964382eeedb7cc8a556967d91a1
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 25 21:34:16 2021 -0800

    allow keys to be passed in from env (again), cli to use LIVEKIT prefix

commit 1f8bb57c92a8499566ae2c4170833dc18341e669
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 25 00:03:39 2021 -0800

    handle when RTCP comes in after track is closed

commit b5f1ab3b58111d6978886c3d0b939550299825c5
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 24 23:48:23 2021 -0800

    version bump to 0.2.0

commit f004aa29529063d2259d42a268063f8f4916c9b3
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 24 23:47:24 2021 -0800

    auto-create rooms upon creation

commit b7a00a8a562f90dc3c5660e175d2221583b6c66e
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 24 22:14:42 2021 -0800

    increase default token ttl to 6h

commit 01d62edafa2a4140fef71e4057b8e4af65b900c7
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 24 15:18:34 2021 -0800

    doc updates

commit c4fb1b38083c6c3b74b31d21212acb6ea5519921
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 24 12:52:40 2021 -0800

    fixed localrouter timeout, updated VideoGrant fields

commit 18264e7a8bee8c3cd3503f5a5c00d866c6e32b72
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 19 22:09:11 2021 -0800

    builds docker image

commit f2e31ebdac732611a3f1eb9d4b50926b0ca0c348
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 19 20:43:22 2021 -0800

    update ion-sfu to 1.7.8

commit c04fd86f9c2c143bbb377257680f85657f803118
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 19 20:34:11 2021 -0800

    multi-node integration tests

commit 0b00b26d056f14bc600b8c2c8b68d28fe1ce279e
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 19 16:18:03 2021 -0800

    terminate RTC sessions properly

commit 71b4673a0ac2e3f53cc4fb38f20f6a61c307424f
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 18 23:44:59 2021 -0800

    cleanup room state, proper participant termination

commit d83a1b1af302871a067963fca6920a6bff3fc371
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 18 17:56:48 2021 -0800

    automatically cleanup participant redis data

commit 834a4747acd4af19db7210544ed0f0b96b8f7bea
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 18 13:27:01 2021 -0800

    refactor bearer token on the client side

commit 513b40c4ce3c33f415942476c63bac42398e4ea5
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 18 11:55:47 2021 -0800

    document protocol, added .idea

commit 623f80f2ea002a5d62b3aa8d33ae30be28b756d3
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 18 10:45:50 2021 -0800

    update to webrtc v3.0.4

commit efc1511edbea513e58547e8c608c353a299deba0
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 18 10:43:28 2021 -0800

    documenting negotiation protocol

commit 6552d5ebc8bd552755ccb9eb541304411ac2caed
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 18 10:35:17 2021 -0800

    fixed key-file parsing

commit 458241d1f1a64f3cb5aa520bcaa793595f158940
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 17 17:06:50 2021 -0800

    config rework to handle distributed setup, fixed redis bugs

commit 30e99e8c6bae368070da9338dbb93e2c78c49df9
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 17 00:12:05 2021 -0800

    redis based router & roomstore

commit 9064f6ade10b43350f6ff40fad3bca2d117ec623
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jan 16 00:25:13 2021 -0800

    decouple websocket and RTC nodes, prep for distributed

commit 9a10a57b30cea6d16f38fb82baea3309af0dbffc
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jan 13 17:38:40 2021 -0800

    single publisher integration test

commit 233306d83af26396e3ffd2ce83aa1bb6dfe0c9fb
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jan 13 13:41:34 2021 -0800

    basic integration test

commit 09e5a37c75a60294d92210bd1554bf22ae21555d
Author: David Zhao <david@davidzhao.com>
Date:   Wed Jan 13 00:04:36 2021 -0800

    refactoring to prep for integration tests

commit 381ec5805065dcc219e61fb6a59c556e5ce9c5f2
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 12 18:03:08 2021 -0800

    some tests

commit bd885b1de98bc626e6647a70c6c76d2b512ebc7d
Author: David Zhao <david@davidzhao.com>
Date:   Tue Jan 12 17:07:01 2021 -0800

    handle unpublish track

commit 7c3b0c5202f2b508580deb49f2c0b913fed223db
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 11 23:16:56 2021 -0800

    added ability to profile memory/cpu

commit 21ac2413a22fe17f560da2879dce0a8f79807451
Author: David Zhao <david@davidzhao.com>
Date:   Mon Jan 11 00:07:11 2021 -0800

    catch panics to ensure reliability

commit 6464ae3cd6881091047fce2a79883b3f2c4c5d3a
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 10 22:34:02 2021 -0800

    send downtrack binding reports
    
    fixed tests

commit 456df0fb91b1253534f8350f052325fec20dbf21
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 10 22:09:36 2021 -0800

    use IsReady instead of checking for multiple statuses

commit 7dcb88343aa427f55c90b5f615bb6c9b5d0051c8
Author: David Zhao <david@davidzhao.com>
Date:   Sun Jan 10 16:18:58 2021 -0800

    binding to buffer and correctly forwarding

commit 258f5add2d1b8e7c92d796e79820c42d048fbe9c
Author: David Zhao <david@davidzhao.com>
Date:   Sat Jan 9 23:40:29 2021 -0800

    protocol update: explicit AddTrack to move negotiation initiation to server side.
    
    In order to avoid race conditions with WebRTC, where either side could initiate an offer when tracks have changes, we'll always initiate them from the SFU side.

commit 0336e9d92f1b180c037ef806d2fcba6819ab12e8
Author: David Zhao <david@davidzhao.com>
Date:   Thu Dec 31 23:24:45 2020 -0800

    tests for MediaTrack, moving interfaces to new package

commit 313236e3d30e20dd443cb7b52b4ff71b3a07250c
Author: David Zhao <david@davidzhao.com>
Date:   Thu Dec 31 14:21:19 2020 -0800

    server to support mutes

commit be6086ce95214d4cadd44fbb4d1f00a62514621d
Author: David Zhao <david@davidzhao.com>
Date:   Mon Dec 28 11:38:52 2020 -0800

    updated docs

commit 46b5942a953715fe5fbc691ed7a5460b12086beb
Author: David Zhao <david@davidzhao.com>
Date:   Mon Dec 28 10:25:27 2020 -0800

    allow cross origin requests

commit b32fee24c8ab141e979476d03ed0a8295347573c
Author: David Zhao <david@davidzhao.com>
Date:   Sun Dec 27 23:11:28 2020 -0800

    require 0600 on keyfile for security

commit 60f2596983911bab780d2c2134b66650cc6e6157
Author: David Zhao <david@davidzhao.com>
Date:   Sun Dec 27 23:04:20 2020 -0800

    support access token via query params

commit 3fb606236e0bc10f0ddb4fa605054361d00ff0de
Author: David Zhao <david@davidzhao.com>
Date:   Sun Dec 27 22:38:13 2020 -0800

    sends roominfo on join

commit 94e2c782ee45bd1f6aecb43659477f61ea2f7e1b
Author: David Zhao <david@davidzhao.com>
Date:   Sun Dec 27 22:21:04 2020 -0800

    cli to generate token

commit 43a6db8a3ac6a0ed8f56b54887b07a47267cbe80
Author: David Zhao <david@davidzhao.com>
Date:   Sun Dec 27 22:02:19 2020 -0800

    cli to support token based auth

commit 46dadc25c23093e87882a1e3c81446434eba1700
Author: David Zhao <david@davidzhao.com>
Date:   Sun Dec 27 20:53:07 2020 -0800

    simplify token issuer/verifier interface

commit 353f35443a95f238c2534adf0fec18472e3fe24d
Author: David Zhao <david@davidzhao.com>
Date:   Sun Dec 27 00:01:19 2020 -0800

    API key generator, using YAML format instead of hand rolled parser

commit c489ca570b339e1e0b99d5c6426889ff571de6a7
Author: Russell Dsa <russelldsa@gmail.com>
Date:   Sat Dec 26 14:03:33 2020 -0800

    fix path in bootstrap script

commit ba8545954e00ee850be875f5e6689241a068dbaa
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 25 22:59:00 2020 -0800

    removed channeltype, never used

commit 9897412473e08c795e469dcc38f7e8314addf158
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 25 22:54:58 2020 -0800

    roommanager tests

commit 28690b6b0864969bd0634eb00d02fc0e3b357e8f
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 25 22:35:53 2020 -0800

    fixed client create-room

commit 804b7cb33295315b9a373a2ec7e25f8cb659b343
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 25 22:31:11 2020 -0800

    JWT token based auth

commit 8f34bd608684bb85edaf3ae6f395ec1faa905a88
Author: David Zhao <david@davidzhao.com>
Date:   Tue Dec 22 23:11:24 2020 -0800

    cleaned up some deps

commit 026c8725a3fe54271ff2f03b76525379e4a33a33
Author: David Zhao <david@davidzhao.com>
Date:   Tue Dec 22 20:59:39 2020 -0800

    finished room test

commit 351843578381ff93f52839e6853338c4cc3bc1f0
Author: David Zhao <david@davidzhao.com>
Date:   Tue Dec 22 17:26:26 2020 -0800

    using counterfeiter instead of gomocks, much simpler

commit 1b396d20004f6d405248f5153c7483e1aeaa44c5
Author: David Zhao <david@davidzhao.com>
Date:   Tue Dec 22 14:42:08 2020 -0800

    mage test

commit 202979d346039262fa03ed233f100fe8e9a85608
Author: David Zhao <david@davidzhao.com>
Date:   Tue Dec 22 14:37:45 2020 -0800

    move to mage for build

commit ed472c85694d66c2664dc3b84a8c4897407f7957
Author: David Zhao <david@davidzhao.com>
Date:   Mon Dec 21 23:23:57 2020 -0800

    progress with a bit of tests

commit 2a79bdb678460bd032f6ca59211098719d17fab0
Author: David Zhao <david@davidzhao.com>
Date:   Mon Dec 21 23:00:48 2020 -0800

    switch participant to interface

commit c4cb29a3bbe744e04f24c8f8977d093456bc7f9e
Author: David Zhao <david@davidzhao.com>
Date:   Sun Dec 20 22:57:06 2020 -0800

    use PeerConnection interface to make it easier to mock

commit 684099d653cf654a09bbcb7746d6fa48818c3bc3
Author: David Zhao <david@davidzhao.com>
Date:   Sun Dec 20 16:13:12 2020 -0800

    slight refactoring, WS sends periodic ping

commit 72d853589cfc6aa08a9cc1d6c18eb99d0cde3369
Author: David Zhao <david@davidzhao.com>
Date:   Sun Dec 20 13:43:16 2020 -0800

    buffer messages

commit 51092dce53061a6abcd0500d10b7ecb2c7623aad
Author: David Zhao <david@davidzhao.com>
Date:   Sat Dec 19 23:16:55 2020 -0800

    don't error on EOF

commit e9fdd5d2fd20008693075b9e4464e5945b0cdd10
Author: David Zhao <david@davidzhao.com>
Date:   Sat Dec 19 16:18:58 2020 -0800

    ignore placeholder data channel

commit f75317230804c1e11a8245c6fd52200ffb9fe71c
Author: David Zhao <david@davidzhao.com>
Date:   Sat Dec 19 16:13:56 2020 -0800

    datatrack implementation

commit fb3c3b056570a4af3b2dbc4871e8d4b3d3bf191f
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 18 23:14:36 2020 -0800

    just use src

commit 050da05000586e5d844739aca3f12da686880b9f
Author: David Zhao <david@davidzhao.com>
Date:   Thu Dec 17 22:28:03 2020 -0800

    Send PLI when target client doesn't have keyframes

commit 2111513fde83936f9771f27c3b8da200b848e013
Author: David Zhao <david@davidzhao.com>
Date:   Thu Dec 17 21:48:48 2020 -0800

    track published response, to allow client to assign sid to published tracks

commit 2665026830957949a4eab6af2d6060f7771a5350
Author: David Zhao <david@davidzhao.com>
Date:   Wed Dec 16 00:13:43 2020 -0800

    use context to detect when channel is properly closed

commit ac83bf4c7876f756456eea3aa9d74af9652ddb5b
Author: David Zhao <david@davidzhao.com>
Date:   Sun Dec 13 23:08:20 2020 -0800

    subscribe new participant after JOINED, to ensure negotiate requests aren't missed

commit af0c9dfdf089b246aa6c4fdec6909c0f7fe08f2e
Author: David Zhao <david@davidzhao.com>
Date:   Sat Dec 12 23:05:53 2020 -0800

    server back to working, tho only works when client joins first

commit 4c9623bb49ba03dd97a16ed563d7e8e5467310d5
Author: David Zhao <david@davidzhao.com>
Date:   Sat Dec 12 22:07:06 2020 -0800

    updated cli to v3

commit 7d7787590c9ee5799d1d581b6947bc1941f12aef
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 11 20:15:04 2020 -0800

    updated server to webrtc v3 (untested)

commit d4f30c126f3110490adbb6e8b38e3cc3bc0e6875
Author: David Zhao <david@davidzhao.com>
Date:   Sat Dec 5 23:36:45 2020 -0800

    Fix node IP discovery, force to ipv4

commit 2b9fee45c4aba1816de438bd533b1572e40431be
Author: David Zhao <david@davidzhao.com>
Date:   Sat Dec 5 22:20:13 2020 -0800

    fixed deadlock when client disconnecting

commit 71a7914eecbe323e19f6df7c2ccdff80a7f59eaa
Author: David Zhao <david@davidzhao.com>
Date:   Sat Dec 5 17:53:33 2020 -0800

    send event when participant disconnects

commit abd17af4d4de2af878da0b441063f3207b589630
Author: David Zhao <david@davidzhao.com>
Date:   Sat Dec 5 00:03:26 2020 -0800

    protocol to synchronize published tracks

commit 0dcfffb9d8c0117004f632c1cb8500b9fc2a6405
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 4 23:28:50 2020 -0800

    remove all forwarders when source track is closed

commit c401a6fdab35a826a71bad7c575df3b9eee4acc7
Author: David Zhao <david@davidzhao.com>
Date:   Fri Dec 4 23:04:24 2020 -0800

    ID -> SID

commit 64b427a38800fe7fc578d6d5c7a3af0101a86935
Author: David Zhao <david@davidzhao.com>
Date:   Thu Dec 3 23:22:59 2020 -0800

    don't remove tracks if client is closed

commit 04dcdc3772c8bc5775f2314578af5cba060fa3a1
Author: David Zhao <david@davidzhao.com>
Date:   Thu Dec 3 22:13:30 2020 -0800

    subscribe the right target participant

commit c64ecc4603ec56d33561ac5ab62ae6f75a92aebb
Author: David Zhao <david@davidzhao.com>
Date:   Thu Dec 3 21:58:25 2020 -0800

    use full candidateInit, update encoding

commit bca8090b41c5a325c3fbf49611fec76fbdfd0cdc
Author: David Zhao <david@davidzhao.com>
Date:   Wed Dec 2 00:53:16 2020 -0800

    correctly send participant updates

commit a6c4db2cb3cae2bd99fcfc9c37b2d15c2d561df3
Author: David Zhao <david@davidzhao.com>
Date:   Tue Dec 1 23:32:15 2020 -0800

    refactoring, enabling sending out room updates

commit 0c99163253e615aa75b3f4603c9973e09e251880
Author: David Zhao <david@davidzhao.com>
Date:   Sat Nov 28 15:17:14 2020 -0800

    using shared proto types for participant state

commit 1c821853f38ad68348e59d280bea3f43c78a437d
Author: David Zhao <david@davidzhao.com>
Date:   Sat Nov 28 15:08:41 2020 -0800

    client sends offer after getting room info

commit 4fe98723ae6acd59888c0678446bde1bb8af31ec
Author: David Zhao <david@davidzhao.com>
Date:   Sat Nov 28 12:33:10 2020 -0800

    server sends join response

commit bea1a87cb81b7e719f7a9eaf77715c8c289b1d3a
Author: David Zhao <david@davidzhao.com>
Date:   Sat Nov 28 00:18:34 2020 -0800

    updated flow, room & participant id created by server

commit bd667cfe39b9b739ddb72d1742731932d48f9a5a
Author: David Zhao <david@davidzhao.com>
Date:   Sun Nov 15 22:38:31 2020 -1000

    updated readme with CLI instructions

commit dc69dfc0e74c424e1bd6c54691f0b78f5ed60069
Author: David Zhao <david@davidzhao.com>
Date:   Sun Nov 15 22:22:52 2020 -1000

    port over existing test cases

commit e611020824a113a31b711a9140424133efc9c213
Author: David Zhao <david@davidzhao.com>
Date:   Sun Nov 15 22:11:52 2020 -1000

    make reception report public

commit 606e1ec70cacee556338dcb2c58169c0b41434b9
Author: David Zhao <david@davidzhao.com>
Date:   Fri Nov 13 12:52:20 2020 -0800

    client to handle publishing tracks on connection

commit c618f8c42f36dc177abc1be16dce8fb4234798a6
Author: David Zhao <david@davidzhao.com>
Date:   Fri Nov 13 12:31:01 2020 -0800

    client consumes provided track

commit 256328c4ff9f0d04f98716b306c9e3aee6da1ea5
Author: David Zhao <david@davidzhao.com>
Date:   Wed Nov 11 00:02:37 2020 -0800

    fixed server initiated negotiation

commit 40be24bf607fc53b8a6cd83869c152e249027093
Author: David Zhao <david@davidzhao.com>
Date:   Tue Nov 10 00:35:04 2020 -0800

    fixed server not starting receiver

commit 408ea3fe22079568026e28c21fc5993d567418a7
Author: David Zhao <david@davidzhao.com>
Date:   Mon Nov 9 23:38:05 2020 -0800

    trackwriter, progress with tester client

commit cba27d164bebe1769207b6778f6d6f927b908bdb
Author: David Zhao <david@davidzhao.com>
Date:   Fri Nov 6 23:57:03 2020 -0800

    client and server establishing connections

commit 218b9a02772b7f27153f826d412f949912b36731
Author: David Zhao <david@davidzhao.com>
Date:   Wed Nov 4 23:29:46 2020 -0800

    CLI framing, creates rooms

commit 9ebfebe2ddc41460c1fdac8fbf4b438b39a72efd
Author: David Zhao <david@davidzhao.com>
Date:   Tue Nov 3 22:01:54 2020 -0800

    simple cli with room APIs

commit 925d1c653ece54df86d9cab20a4f921d79f1a6e2
Author: David Zhao <david@davidzhao.com>
Date:   Tue Nov 3 00:20:46 2020 -0800

    switch to websockets, remove grpc dependency

commit a2efaccddec1cfab3177806242a12264ef5ee749
Author: David Zhao <david@davidzhao.com>
Date:   Sun Nov 1 23:01:24 2020 -0800

    fixed forwarder's RTCP target

commit 312a4f1def0e3949e36870d0011ebe65604c5d7e
Author: David Zhao <david@davidzhao.com>
Date:   Sun Nov 1 20:44:33 2020 -0800

    filled in subscriber logic

commit d350a7a132e12e45734bfc8379756d2ef498876d
Author: David Zhao <david@davidzhao.com>
Date:   Sun Nov 1 00:07:15 2020 -0700

    handle peer subscription

commit 9a36a41800b5adf4505370886805ac1719d32841
Author: David Zhao <david@davidzhao.com>
Date:   Sat Oct 31 00:36:35 2020 -0700

    implement trickle and negotiate paths

commit 54b59f00e23d11d331738a644df0a5efe5384f88
Author: David Zhao <david@davidzhao.com>
Date:   Sat Oct 31 00:09:46 2020 -0700

    handles RTC join

commit 36dd195ca3078e0a0574bc1941bb6f002d2283d1
Author: David Zhao <david@davidzhao.com>
Date:   Thu Oct 29 01:02:31 2020 -0700

    Converted RTC back to GRPC for server push capability

commit 71d6feedbb94347dccb71a22775e4da719a53c7f
Author: David Zhao <david@davidzhao.com>
Date:   Tue Oct 27 23:41:37 2020 -0700

    peer interfaces and callbacks

commit 1ed8ba3ae6f924581884767ecb482bb755e5fe8b
Author: David Zhao <david@davidzhao.com>
Date:   Tue Oct 27 00:17:30 2020 -0700

    progress with forwarder and peer

commit 6c039bc64f2b638728c5c447f7327fe368afe3ff
Author: David Zhao <david@davidzhao.com>
Date:   Fri Oct 23 23:01:35 2020 -0700

    receiver class, imported relevant SFU helpers

commit 71d3a470f5cb26953e9eb78fa497571fb2f8623d
Author: David Zhao <david@davidzhao.com>
Date:   Fri Oct 23 00:12:33 2020 -0700

    checkpoint

commit 40c7d902d848bb27c4a887fdc1c0ed19e69a1ba0
Author: David Zhao <david@davidzhao.com>
Date:   Thu Oct 15 00:04:16 2020 -0700

    refactored config and room setup

commit 32af882b9930b620028cdf79b2f3bf01a8c14f7d
Author: David Zhao <david@davidzhao.com>
Date:   Thu Oct 8 00:12:57 2020 -0700

    support multiple STUN servers

commit 0a4ce6e742aab41f9f46b5d906568eac73196f6b
Author: David Zhao <david@davidzhao.com>
Date:   Thu Oct 8 00:03:27 2020 -0700

    moved stun server to configuration

commit 6752c4a91d1cb05a05d5ac606d5917bb74b236b7
Author: David Zhao <david@davidzhao.com>
Date:   Wed Oct 7 23:54:44 2020 -0700

    separated join from creation, room options & token

commit 37984bd16720db19e947cb743aa4a585fd0323b7
Author: David Zhao <david@davidzhao.com>
Date:   Wed Oct 7 01:11:58 2020 -0700

    improved dir structure

commit 38cc5454dafb715934160729da09ec756464d21c
Author: David Zhao <david@davidzhao.com>
Date:   Tue Oct 6 23:37:22 2020 -0700

    switch to twirp errors, correct RTC port

commit 0d6c0adbdd607cec93ec6850564d3efb9aa8a3ed
Author: David Zhao <david@davidzhao.com>
Date:   Tue Oct 6 23:20:44 2020 -0700

    switched to Twirp for RPC, server skaffold

commit 5117b8bf8065e63bf217316d9d1a1335071b263c
Author: David Zhao <david@davidzhao.com>
Date:   Mon Oct 5 20:32:39 2020 -0700

    updated package reference

commit 1de35caf7a4786cba125df0b2527551e60d01611
Author: David Zhao <david@davidzhao.com>
Date:   Mon Oct 5 20:31:29 2020 -0700

    checkpoint

commit 3ec7a28625dec916716df8122e7136d65198755a
Author: David Zhao <david@davidzhao.com>
Date:   Sat Oct 3 22:51:12 2020 -0700

    go mod files

commit f0b1eb63df9383e3307078a4d2425b7a82b22d56
Author: David Zhao <david@davidzhao.com>
Date:   Sat Oct 3 22:51:01 2020 -0700

    initial commit

commit b5a30ab6e1253500982ca574d7eb87a4224a3e4a
Author: David Zhao <david@davidzhao.com>
Date:   Tue Sep 29 23:49:48 2020 -0700

    Initial commit
