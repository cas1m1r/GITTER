======================: FILES :======================
======================: BRANCHES :======================
======================: LOGINFO :======================
commit 002a5093c43365a16ac5b839473110436b721af2
Merge: aa907b91 0451f7e1
Author: harlo <harlo.holmes@gmail.com>
Date:   Tue Jun 23 14:52:58 2015 -0400

    Merge branch 'develop' of github.com:freedomofpress/securedrop into develop

commit 0451f7e111ed44bc6b4a4b825cb911710b85e21f
Merge: 71defa9c 0870cf97
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Jun 22 10:06:47 2015 -0400

    Merge pull request #1043 from freedomofpress/tails-compatible-printer
    
    Table of airgap-safe, Tails-compatible printers

commit 0870cf97ccff69df06e8d98d2f6c120acfd9d77e
Author: Harlo Holmes <harlo@freedom.press>
Date:   Mon Jun 15 17:57:45 2015 -0700

    Tails printer guide

commit 8542f4004aa77326a8967694f3800dd9deb690ec
Author: Harlo Holmes <harlo@freedom.press>
Date:   Mon Jun 15 17:53:59 2015 -0700

    Misc. clarification of install docs

commit aa907b910e3d06ec57bbf31c81c95b60a6b5e7b4
Author: harlo <harlo.holmes@gmail.com>
Date:   Mon Jun 15 11:30:25 2015 -0400

    removed .orig files oops

commit 7cc5937a7e58e3a8fd1fc46db463b9a5e97ee5ff
Merge: 5679434b 16dcf7e3
Author: harlo <harlo.holmes@gmail.com>
Date:   Mon Jun 15 11:27:29 2015 -0400

    Merge branch 'fpf-develop' into develop

commit 16dcf7e3fee4059d986e9532a821a11343bd2df5
Merge: 5679434b 71defa9c
Author: harlo <harlo.holmes@gmail.com>
Date:   Mon Jun 15 11:27:13 2015 -0400

    merged

commit fe496443f43be9a842aef3ccf4f5274a3832b7c3
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jun 9 12:10:56 2015 -0700

    Table of airgap-safe, Tails-compatible printers
    
    This is a partial list of airgap-safe and Tails-compatible printers
    compiled from our initial round of testing.

commit 71defa9c4222d2f343017a3b5e9594866cdfefc4
Merge: 6a58c842 5109de22
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Jun 9 11:17:40 2015 -0700

    Merge pull request #1042 from freedomofpress/reporting-security-issues
    
    Reporting security issues

commit 5109de22804c6ee5419a95d5bcebc477227dc5e7
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jun 9 09:50:10 2015 -0700

    Add instructions for responsibly reporting issues

commit 6a58c8423f413ec53fe53ba7a6a51eba22ff4133
Merge: 22271eec 64256db7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Jun 3 15:30:36 2015 -0700

    Merge pull request #1034 from ageis/doc-changes
    
    Tweak language re -aths files

commit 64256db726fcc449b6c524cf0da12dcba5af193f
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Thu May 28 16:52:16 2015 -0700

    Clarify Tor ATHS setup is automatic not manual
    
    Our installation documentation, when referencing the -aths files output by
    Ansible, previously suggested that the user would have to add these values
    to their torrc. This commit is intended to be clearer that those steps
    are automatic and handled by tails_files. Addresses issue #1030.

commit 22271eecaa8711e30809c9c95f6c71b690fd873e
Merge: addc7d68 ba8d678b
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Jun 3 15:07:34 2015 -0700

    Merge pull request #1026 from ageis/ansible-version
    
    Recommend installing an older Ansible version until upstream issue is resolved.

commit ba8d678bc7edff84d81ea9067f3ea49c394f5d33
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Wed May 13 17:05:28 2015 -0700

    Temporarily use older Ansible version
    
    Due to an upstream issue that breaks our playbooks, we need to temporarily
    recommend using an old version of Ansible in the documentation.

commit addc7d68a574d473e84f793236038ce40b421f85
Merge: 6e82f773 514c86df
Author: Conor <conor.schaefer@gmail.com>
Date:   Thu May 28 17:00:41 2015 -0700

    Merge pull request #1033 from ageis/fix-gauth-doc
    
    Make clear that 2FA is for both servers

commit 514c86df1eafd0a595d155c4410bb795904d062f
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Thu May 28 16:37:23 2015 -0700

    Apply 2fa to both servers

commit 5679434b0dd98aa66fb3646ab5d03402b07328d6
Author: harlo <harlo.holmes@gmail.com>
Date:   Fri May 15 14:10:44 2015 -0700

    doc edits for clarification, and confusing comments about file paths removed from the ansible yaml template

commit 6e82f773678626b7b310dcc18baf8dadf5d074dc
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue May 5 18:20:34 2015 -0700

    Forbid sudo in 0.3 upgrade script
    
    This commit cherry picks *both* commits from #1020 into one commit due
    to difficulty in rebasing #1020 on develop.

commit 63daac0f70c64e1f28099a9ec99eed0a84f5de1f
Author: James <james@freedom.press>
Date:   Mon May 4 10:49:34 2015 -0700

    Clarify paths in install doc
    
    * Changed the direction in the install doc to reflect that the same
      Terminal is used for multiple steps.
    * Change `cd` paths based on this clarification

commit cd8e58cb28f2ecf8a421ed6596b26760c3ce0934
Merge: 811a31ea 9387d55b
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon May 4 10:36:21 2015 -0700

    Merge pull request #1010 from freedomofpress/check-migration-scripts-for-0.3
    
    Migration scripts for 0.3

commit 811a31ea929c2b4f72ec72ef7962d159ba4f6536
Merge: 7c3d2ebc 4123848c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri May 1 07:55:39 2015 -0700

    Merge pull request #1016 from freedomofpress/manage-py-run
    
    `./manage.py run` for development

commit 4123848cf036d98bd1415da7f98ce5975a5cd6c1
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Apr 30 23:09:37 2015 -0700

    Import run directly from management

commit 008adcb3dd2e797ca6c601218a01b00edc4e9faf
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Apr 30 19:22:04 2015 -0700

    Refactor run command into new management module
    
    The new `run` defined a couple of supporting classes and was a fairly
    long function. To keep `./manage.py` readable, this commit factors the
    `run` function and supporting code into a new `management` module. This
    keeps the `./manage.py` lightweight and easy to read, and better
    encapsulates the code specific to the `run` function.

commit c2171cca13c269b3a62cb906a74a00786b4d1f78
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Apr 30 18:56:52 2015 -0700

    Use DevServerProcesses directly with select
    
    By implementing fileno() for DevServerProcess, we can pass them to
    `select.select` directly, instead of maintaining a separate list of
    streams to `select` over. This simplifies the code and allows us to
    avoid the hacky `_get_proc_by_stream`, which is removed in this commit.

commit 9387d55b8db907b7605b8b10b3c27f2a2a5b0f08
Merge: f7137e66 7189c404
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Apr 30 18:26:25 2015 -0700

    Merge pull request #1012 from conorsch/check-migration-scripts-for-0.3-continued
    
    Modifications to 0.3pre upgrade script

commit 31f634381dfe722628733804a8fe680f1299e5a0
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Apr 30 15:13:21 2015 -0700

    `./manage.py run` for development
    
    This commit replaces `./manage.py {start,stop,restart}` with a single
    command, `./manage.py run`. This command runs *both* of the interfaces
    with Flask development servers, which provide useful debugging and
    auto-reloading features. The logging output from both interfaces is
    aggregated into a single stream, labeled for clarity, and sent to stdout
    for the developer to read.
    
    The `run` command carefully handles the case where a change to a
    monitored file cannot be interpreted (e.g. if it introduces a
    SyntaxError), which causes the auto-reloader to exit. This case would
    break `./manage.py start` because one of the processes it had spawned
    had died behind its back. This made it difficult (especially for new
    developers) to understand and recover from a somewhat common error
    condition. `run` does not break when this happens, but prints out a
    clear message and exits both servers to avoid confusion.
    
    Updates development documentation to recommend using `run`, and removes
    references to the removed `{start,stop,restart}` commands.

commit 7189c40435a2a60e832106bd5e900f3c4eebb21e
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 16:02:52 2015 -0700

    removes "set -u" option
    
    This option won't work in the migration script in its present form
    due to the vars '$2' and '$monitor_ip', both of which are defined
    via YAML parsing, and therefore not explicitly declared within
    this script. The goal of adding "set -u" was to catch
    undefined (or typo'd) variables prior to running commands with
    them interpolated, but the script ran successfully during testing
    just now.
    
    At a later date, we can refactor this bash script to be more
    resilient if need be.

commit 097fa718d6edb1b8124817ba10ce56afa1408d78
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 15:10:46 2015 -0700

    skip 'backup' role during upgrade playbook run
    
    The rationale here is that if the Document Interface is not
    regularly purged, then a complete backup over Tor would
    cause the upgrade to fail. Updated docs and and comments
    to upgrade script to explain this, and provide an example
    command to run the backup manually if necessary.
    
    The backup role is still enabled by default in the Ansible playbook.

commit b8d6c9e63d5bc6857afb5ffc5809f9b2d5fb7d89
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 15:08:16 2015 -0700

    removes unnecessary username from ssh commands

commit 66bea3c4b2610be74f8a12ebc4e54c6c415f2de1
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 14:52:10 2015 -0700

    removes backticks

commit 0b656a5d6430fb59f3af49925effd4a35eab6857
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 14:51:23 2015 -0700

    use ANSIBLE_BASE constant where applicable

commit 78cd72624e08e1ba5f20f68d5ceb4023fab172ca
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 14:49:43 2015 -0700

    use HOMEDIR constant where applicable

commit 749c7b9729a028a92af9c538d20b13665c76246c
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 14:40:17 2015 -0700

    adds "set -u" to script to catch undeclared or typoed vars
    
    Having this option set previously would have caught the
    typo addressed in ad2e36f, and saved some time debugging.

commit 98d457b43e08c8d95a462c1356300b5b1171351b
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 14:37:33 2015 -0700

    uses [[ / ]] keywords for conditionals throughout (except cmds)

commit 6d5dee62f3a1fecbb54f87da5242b09d9f409025
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 13:36:50 2015 -0700

    renames non-constant variables to lowercase

commit 0feee0e516c36a96e7b1614fcca9cc041c2e70ba
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 13:33:38 2015 -0700

    renames ANSIBLE constant -> ANSIBLE_BASE for clarity

commit 90b777a11875e631843d9cd2ea05506a6fc22aad
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 13:32:39 2015 -0700

    removes PERSISTENT constant (it was only used once)

commit 207c309e623fcc8bd60bd9520c10cd78e71ee3b6
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 13:29:53 2015 -0700

    removes TAILSCFG constant (it was only used once)

commit f796bcb19ed0da5c030ba178b820aeb153cc9b9b
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 13:27:15 2015 -0700

    makes IP address checks quiet
    
    Without the -q flag, script echos IP addresses needlessly.

commit 4d9bfaa6ada2a9741bb34dcee8b9416434245769
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 13:25:43 2015 -0700

    adds echo statements to notify admin about package installation
    
    By providing context for sudo calls, privilege escalation
    requests become less alarming for admins.

commit 457e2558509a8be11871c01a8a5c42897e871a3d
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 13:20:34 2015 -0700

    removes requirement for root privileges to run script
    
    Previously, the script forced invocation as root (UID 0).
    Elevated privileges are only necessary for two actions:
    
      apt-get install git
      apt-get install ansible
    
    The vast majority of tasks in this script can and should be
    run as the default user "amnesia", so running the script
    as root complicated the logic by requiring the normal user
    environment to be recreated, e.g. in SSH connections.

commit c5c5d08af11f4bbf0dc41e2f49f0196816c821d5
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 13:10:16 2015 -0700

    removes ProxyCommand from SSH connections
    
    ProxyCommand option not relevant in Tails instance,
    and in fact causes the SSH connections to fail.

commit ad2e36fe7984138c3e4371a8cae884e5a365cb92
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 13:06:04 2015 -0700

    fixes typo in "ssh_users" variable

commit 79fdd3cc567afc02bd586c94264253de4a48cfe6
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 13:05:38 2015 -0700

    removes "set -x" (leftover from debugging)

commit 2af95de073b2dc015eea238c82ae4a85246e23eb
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 13:04:57 2015 -0700

    chmod +x on 0.3 upgrade script

commit f7137e66c1bae6da6151c34bfb81d52c352047f6
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Apr 29 12:32:23 2015 -0700

    Make 0.3pre upgrade script idempotent for Ansible
    
    Sometimes when the Ansible upgrade role is run, the upgrade script
    completes successfully, but then something goes wrong later in the
    role. For example, network connectivity issues may cause one of the
    later package upgrades to fail. In this situation, we need to be able to
    re-run the playbook. This means the `0.3pre_upgrade.py` script needs to
    be idempotent.
    
    The script performs a full SecureDrop backup to `/tmp` before continuing
    on both the app and monitor servers. Since it would be complex to verify
    whether the backups were idempotent, we simply make a backup every time
    the script is run. The backup filenames are timestamped, so there is no
    concern about accidentally overwriting them. Since the files are stored
    in `/tmp`, they will automatically be cleaned up after the next reboot.
    
    On the app server, the upgrade script also migrates the app database. To
    make this idempotent, we check for the last change made as part of the
    database migration. If that change is present, we take it as evidence
    that the database has already been migrated and skip the migration. This
    makes the database migration idempotent.
    
    This commit also does some formatting cleanup, adds docstrings, and
    encapsulates getting the database connection into a function to make the
    script more DRY.

commit 7c3d2ebcb613a6c43cd8b393e523249e89016525
Merge: 8f53d4e6 f210796f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Apr 28 15:14:33 2015 -0700

    Merge pull request #1009 from dolanjs/ansible-playbook-doc-fix
    
    update playbook name in directions

commit a185a5d9bfd5e0d41c9e24390c175c7773413a21
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Apr 27 17:17:47 2015 -0700

    Fix incorrect argument to git stash

commit 2eccc1369706b350bd1ef5d5b1a1042d78794908
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Apr 27 16:11:50 2015 -0700

    Synchronize upgrade docs in repo with draft in Hackpad
    
    Upgrade docs draft:
    https://securedrop.hackpad.com/Upgrade-to-0.3.3-jis3fmQ3AnE
    
    I added a new `upgrade.md` to serve as a central place for all upgrade
    information. It explains how the upgrades work at a high level
    (incorporating text that was previously unused from the Hackpad draft)
    before linking to the specific docs for upgrading to a specific version,
    depending on the version you are upgrading from.

commit b8701cf1cab61383b152832a3e58470b1a998c80
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Apr 27 15:40:54 2015 -0700

    Improve Markdown in migration docs

commit b4a444f9d4995e7a830f29a6be4d2840f136a4a9
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Apr 27 15:28:50 2015 -0700

    Fix migration script directories after merge
    
    In `check-migration-scripts-for-0.3`, I had made the change to standardize
    the directory names in `migration_scripts` to correspond to the version
    one is migrating *from*. This change was not made in
    `upgrade-helper-script`, so this commit makes all of the naming
    consistent.
    
    This commit deletes the old README.md because it has been subsumed by
    `0.3-pre-upgrade-to-0.3.3.md`.

commit 039b687f7b7c8e6f43b83313a58f3cfba385368e
Merge: 4db37084 f683827e
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Apr 27 15:25:31 2015 -0700

    Merge branch 'upgrade-helper-script' into check-migration-scripts-for-0.3

commit f210796f84781838b201bbbe3d53e085c9af10cb
Author: James <james@freedom.press>
Date:   Mon Apr 27 14:55:09 2015 -0700

    changed playbook name
    
    The install.md directions is still using 'site.yml'. Until @conor does the ansible re-org we should just change the directions to point to the `securedrop-prod.yml` playbook.

commit f683827e186005697be1f7463557e52ef256f6d9
Merge: d359c138 57666606
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Apr 27 14:48:20 2015 -0700

    Merge pull request #1003 from dolanjs/upgrade-to-0-3-3-docs
    
    added docs for upgrading 0.2.1 and 0.3-pre versions

commit 57666606180ab0355b2d86ee8dc9921b899db9e0
Author: James <james@freedom.press>
Date:   Mon Apr 27 14:09:03 2015 -0700

    fixes from the @conor and @garrett's comments

commit 4db37084174795acea8502d186575977dc4b2e19
Merge: ac081524 8f53d4e6
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Apr 27 10:45:36 2015 -0700

    Merge branch 'develop' into check-migration-scripts-for-0.3

commit ac08152472407cd8efce9964ebab0d2a748c9faa
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Apr 27 10:43:59 2015 -0700

    Fix minor mistakes in 0.2.1 collect script

commit 8f53d4e6b87e4a6a2abe02e8a5f21f88001cfa9f
Merge: 269d72ee 07e62455
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Apr 24 16:52:22 2015 -0700

    Merge pull request #998 from ageis/strip-codename
    
    Strip leading + trailing whitespaces from codename

commit 07e624554cf8ae62bb9196c2ffddae06c4d6e736
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Fri Apr 24 16:44:18 2015 -0700

    Update unit test based on comments

commit 269d72ee23d94ad0a4557fa15275bdb397e7b6e0
Merge: 64a87191 213d4a1d
Author: Conor <conor.schaefer@gmail.com>
Date:   Fri Apr 24 15:27:38 2015 -0700

    Merge pull request #1007 from conorsch/ansible-multiline-format
    
    converts ansible tasks to multiline format, for readability and more informative diffs

commit 213d4a1d967cb4a9f1364d24e0c95daa2f73a91f
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 24 14:59:33 2015 -0700

    adds explicit comments and TODOs for bash additions

commit cc6e2d09700ba34e113e2fb0dfb2baf6d6010ab5
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 24 14:37:05 2015 -0700

    more verbose comment about setting `sudo: false`

commit 92bc9e62417cef183508fe77c150b22581351bae
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 24 14:30:40 2015 -0700

    removes comment about cert generation for ossec authd
    
    no longer relevant, see discussion in comment threads for #818 and #1007

commit 64a8719194b459622573d9a6b836f6ef010715d8
Merge: 31d5f34f 17877af0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Apr 24 11:43:38 2015 -0700

    Merge pull request #1005 from ageis/update-fingerprint
    
    Update smtp.gmail.com fingerprint in yml files

commit 31d5f34f486e72c87f670d71c0da189772ca1d17
Merge: 83cbcecd 186faaef
Author: Conor <conor.schaefer@gmail.com>
Date:   Thu Apr 23 15:51:17 2015 -0700

    Merge pull request #1002 from conorsch/serverspec-tests
    
    adds a full suite of serverspec tests for tracking changes in the ansible config

commit 34c26eb3e65f0dc85b314c32d342527145c61044
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:43:34 2015 -0700

    removes unnecessary quotes from command: task

commit 5c0074491b0fbefb51a2f02ccc0931466d72c7bf
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:43:19 2015 -0700

    converts 'command:' task to multiline format via YAML folded scalar '>'

commit 156602224068dedd9e0cc28f5fadc9ef001150a2
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:41:43 2015 -0700

    converts 'command:' task to multiline format via YAML folded scalar '>'

commit c063a8b6d8aadb1a7069e8aa5cd1849df6a2f753
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:40:20 2015 -0700

    removes unnecessary quotes from filepaths for file->dest:

commit a4c953dd8160095b37c5e179cf07fffed7407d5d
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:39:45 2015 -0700

    removes unnecessary quotes from stat path

commit 784463a63a6c4a350d5cf7dc7ddcd66c864d972b
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:37:50 2015 -0700

    removes unnecessary quotes from update-rc.d command

commit ffc9d901cae75775f745e6f98a70518dce301592
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:37:24 2015 -0700

    removes unnecessary quotes from aa-complain command

commit 92bec75fefa5c9c305627320a9f20ae0dc99c017
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:22:29 2015 -0700

    roll back file perms to octal format without special bit
    
    issue #1006 will tackle standardizing format for file permissions,
    this commit merely preserves the original functionality prior
    to converting to multiline format.

commit 4c15d3ff9200432b3530cd5b0b8abb5f399a546a
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:13:02 2015 -0700

    fixes apache files perms by stringifying mode: parameter

commit 2be8fbaa9ff729c588286450a1b1da3c8b29ce92
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 14:58:46 2015 -0700

    converts restrict access mon fetch tasks to use multiline format
    
    the `local_action: lineinfile` block still has kwargs format
    due to ansible syntax quirks. this commit does make it
    multiline, though, so diffs will still be improved.

commit eaefdca2d36bd66c61d811d15eed4d9e9da897a4
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 14:54:53 2015 -0700

    updates restrict access mon iptables config to use multiline format

commit 353583ec5044f432c6d177857fe85c4e9d4d6120
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 14:54:19 2015 -0700

    updates restrict access mon tasks ssh config to use multiline format

commit 44a395ba411af6590f95494fc5551e62938b0f51
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 14:53:59 2015 -0700

    updates restrict access mon handlers to use multiline format

commit 93ac161a8cb59f3ebd4f499f6c06ffac08983c9c
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 14:24:49 2015 -0700

    reverts ossec file permissions to decimal format
    
    This is to preserve the original functionality of these
    tasks, ensuring only formatting changes are made
    for the time being. A separate issue, #1006, is
    tracking fixing these.

commit 35e0a64d36c7caad1c22ce675fefc9840c697419
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 13:55:45 2015 -0700

    fixes wsgi config files perms (stringifies file mode)

commit 1eaba46ab03b7e48281207671abb0b27a5c2d4af
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 13:52:49 2015 -0700

    fixes permissions in xvfb config (stringifies modes)

commit 062766c0aff6bc7891a699733c441cb71288b4b8
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 12:25:56 2015 -0700

    adds quotes to file mode to preserve original setting

commit e4c54e876a9dc063e0c07b28124b7f62f4237a1b
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 16:10:37 2015 -0700

    updates restrict access app role with multiline format

commit 679972874630b51cf821a903ec1c636d5d9fdfd9
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 16:04:47 2015 -0700

    updates remove_authd_exemptions role to use multiline format

commit 05863d7d743a5f33497fabc025fbf69b3d56bbd1
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 16:00:29 2015 -0700

    updates ossec_server role to use multiline format

commit 9101df48e81bf0a6142a120131b7c06ddfcf695b
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 15:55:39 2015 -0700

    updates ossec_agent role to use multiline format

commit 063461a9fb0671bd7210b301995df6235b6380e3
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 15:52:26 2015 -0700

    updates install_local_pkgs role to use multiline format

commit 5e372e0da4511dd47b8233bfd25b8f25f0e912f0
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 15:51:27 2015 -0700

    updates fpf repo config to use multiline format

commit 17877af03a8e93e00172410e7bce7e81bc105959
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Wed Apr 22 15:42:05 2015 -0700

    Update smtp.gmail.com fingerprint

commit f451be432989e768b9ed3cd9f388813bb382a174
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:46:40 2015 -0700

    updates development tasks to use multiline format

commit 3046fda07d14aafae955e2e4f01632de519db100
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:45:31 2015 -0700

    updates common-mon tor tasks to use multiline format

commit 0ec59cb4211ea199c94989dfc97c713eeebbd780
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:43:29 2015 -0700

    updates common-app tor tasks to use multiline format

commit 434872dd269857661fbf57273f6570963ec0b102
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:40:56 2015 -0700

    removes unused/empty handlers file from common role

commit 9bd39db76dd2df5fcce48c8f053a700bcdb3876d
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:40:25 2015 -0700

    adds TODO for sudo setup

commit a15108507f7b824a2b62653e2b8399f9f963c909
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:37:05 2015 -0700

    updates general sysctl flags tasks with multiline format

commit d3298cd16497f40e545e4c59e94d2c25b5fcea42
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:32:16 2015 -0700

    updates user creation tasks to use multiline format

commit 6a529bbb2cee6d2e28a9cfb865772d7b180761fd
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:29:32 2015 -0700

    updates grsec install tasks to use multiline format

commit cc5c4de1eb2b80d6aad378c76745c8333c7c8e14
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:21:46 2015 -0700

    adds multiline format and comments to grsec tasks

commit e48b1a2de72276c97f7430287d368f7bb9dff664
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:10:10 2015 -0700

    updates kernel module config to use multiline format

commit ef13a563c4a302c01d371a3c61c3408cfe38d7fd
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:08:02 2015 -0700

    updates cron-apt tasks to use multiline format

commit 6c94c62c4dbc56b74f46cfd59730a1baaa493ce6
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 13:43:19 2015 -0700

    updates build tasks to use multiline format

commit 67ab656cec6723615b549bb7a9026db31499787f
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 12:29:16 2015 -0700

    adds multiline format and comments to backup role
    
    There are two Ansible "gotchas" here:
      - file modes should be passed as strings
      - chdir doesn't work with async
    
    Links to corresponding documentation are included
    in the comments.

commit e2555df445a67acd1041f88ada417a9232620ec2
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 11:28:21 2015 -0700

    updates app-test tasks to multiline format

commit 40ff10af237207d4706d3a6676cebc7cee79a062
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 11:22:33 2015 -0700

    adds TODO comment

commit 2ca4c1a28ea9d078bbf83c90519d3071584ebdc3
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 11:22:25 2015 -0700

    fixes dict-style quoting in apache task

commit 5946bbc4ca672f1814a65f6ce905e4c77046f158
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 11:21:00 2015 -0700

    updates handlers to multiline format

commit f45794a94b9a4a0c5b1f6f375a1e6566259c0f38
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 11:20:51 2015 -0700

    updates fpf apt install tasks with multiline format

commit a0a979081af6e30dfe8160ddde4d6b0a5a60a34c
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 11:18:23 2015 -0700

    changes app tasks for apache to multiline format

commit 40163e20770ccc0b60d74270b6983ac6e8a26e98
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 11:16:50 2015 -0700

    updates app role initialization tasks to multiline format

commit 96a959ef82ccbce9fd12247706b59400ca037b02
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 10:54:44 2015 -0700

    updates allow_direct_access tasks to multiline format

commit 83cbcecd42535d6091734a66b474f983546d388a
Merge: e980e78a c7868520
Author: Conor <conor.schaefer@gmail.com>
Date:   Wed Apr 22 10:50:21 2015 -0700

    Merge pull request #1004 from conorsch/add-ansible-tags
    
    adds ansible tags throughout playbooks and roles

commit c786852006ba13b3728c149a8741f918de1c7d11
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 16:36:29 2015 -0700

    adds tags to role inclusions in production playbook

commit ae1bd5fe9b16268694956b248bfcbfee41a9e003
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 16:18:07 2015 -0700

    adds tags to role inclusions in travis playbook

commit 518519a6161d035518526e9cf8cda4cfe892d7e3
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 16:03:53 2015 -0700

    adds tags "validate" and "debug" to validate role tasks

commit f5277f073587569dc42d1e21e9746e24deb6de87
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 16:02:42 2015 -0700

    adds "reboot" tag to reboot role

commit 5dcf5d8a3e2bfe1d07a325d8cce9c0d28e6f440f
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 16:01:47 2015 -0700

    adds tags "build", "pip", "apt", and "cleanup" to build-securedrop role tasks

commit 01251bbf4c646747e2507ea2a6aaff70868d451d
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:58:31 2015 -0700

    adds "apt" and "build" tags to build-securedrop role playbook

commit 54b410cfa4278a144b9fd7f182d9363fc096f8c7
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:57:41 2015 -0700

    adds "build" and "script" tags to build-generic-pkg role

commit 8d47bf9349343be05420d1554c9cfea2ff8e7240
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:41:50 2015 -0700

    adds tags "collect", "script", "fetch", "restore", "srm", and "permissions" to backup tasks

commit 2aec5c2ca9ffa4fda7f164b98e0e63fe6bd56df6
Author: James <james@freedom.press>
Date:   Tue Apr 21 15:28:44 2015 -0700

    added initial docs for upgrading 0.2.1 and 0.3-pre versions

commit e6ca66356a60189a91ea8c92437237dd7f96f880
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:37:23 2015 -0700

    adds tags "ssh" and "iptables" to allow direct access tasks

commit 440513cb91180e8700670732c26e4c2d7bc9f12d
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:35:04 2015 -0700

    adds tags "iptables", "ossec_auth", and "authd" to exemption removal tasks

commit 6c0884f82d27b868ea29d8cee6d60d07434370e0
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:33:25 2015 -0700

    adds tags "iptables" and "permissions" to iptables config for mon-staging

commit 8fce5aedafcd863601575544bc55706d67f65936
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:32:28 2015 -0700

    adds tags "apt", "2fa", "ssh", "pam", and "permissions" to ssh config for mon-staging

commit f1a773418d0d8f892b86be97917cf4c82b1c05ef
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:30:46 2015 -0700

    adds tags "tor", "fetch", and "admin" to fetching tasks for mon-staging

commit d93f3819a27272ba14f59a384916dec7ee64f235
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:29:19 2015 -0700

    adds tags "iptables" and "permissions" to iptables config tasks

commit 784bee148c4cbd06b1214b6ba287edba4184ecc1
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:26:40 2015 -0700

    adds tags "apt", "2fa", "ssh", "pam", and "permissions" to ssh config tasks

commit aa0b0bd93eafa4bff10cfaed863bcfaf2a742b95
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:24:20 2015 -0700

    adds tags "tor", "fetch", and "admin" to tor aths/ths fetching

commit 064ac1c6658d319ba588d0018f21a402236aeeef
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:19:59 2015 -0700

    adds "ossec_auth" and "iptables" tags to ossec_server tasks

commit c065f9c14da6d08cb80c15911ab77b8d7afaf317
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:18:44 2015 -0700

    adds tags "apt", "postfix", "permissions", and "hardening" to postfix setup tasks

commit 7efb807392e6fca1db61b459ed0540da5ffdd4c7
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:17:15 2015 -0700

    adds tags "apt", "procmail", "gpg", "permissions", and "logging" to ossec_server setup tasks

commit f256feb39702f83bbb64ea76c0de6604677fb8ed
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:14:46 2015 -0700

    adds tags "apt", "ossec_auth", and "iptables" to ossec_agent tasks

commit c2e8201bbf7ca3a19ca5205582445bb1b9efbf8b
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:10:13 2015 -0700

    adds tags "pip", "apt", "xvfb", "permissions", and "environment" to xvfb config tasks

commit af23a4d86dfe6b20b327562454f38342a260cb2d
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:06:56 2015 -0700

    adds tags "aa-complain" and "non-development" to apparmor config tasks

commit eb9d765b7f9c52f559386bac3d8a049efde03a55
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:05:57 2015 -0700

    adds tags "apache" and "non-development" to wsgi config tasks

commit 2fc62a61893e9c373540b9b6a705b984c13dc630
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:04:43 2015 -0700

    adds tags "haveged" and "hardening" to haveged config tasks

commit 16a4463a78246da2c3c040bdba34e959814dfb6b
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:04:12 2015 -0700

    adds tag "cron" to cronjob config

commit 947a9714a721505343216dfb3285079fc843dc2c
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:03:52 2015 -0700

    adds tags "supervisor", "permissions", and "logging" to worker config

commit 480041b9444d005c6201872a7b60c90d48fa229c
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:01:59 2015 -0700

    adds tags "apt", "apache", and "hardening" to apache config tasks

commit f34bb7fdfbd50836ea30b00bc5a12cae451e96ed
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:58:22 2015 -0700

    adds tags "apt", "securedrop_config", "gpg", and "database" to app config tasks

commit f0d8b0fb07b5b0c8344f8d47853ca9a8d5d4f7b3
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:53:30 2015 -0700

    adds tag "apt" to fpf install task for app role

commit ae361cc757b63d21027dc330c64be5cc895580dd
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:53:20 2015 -0700

    adds tags "apache" and "permissions" to dir checks in app role

commit f21baf91e6ddbd5a04b950cfaa14cfbe73cc0747
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:49:11 2015 -0700

    adds tag "install_local_pkgs" to role tasks

commit d5262c75c4869fd66cd112b72de0056f1484cba2
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:35:26 2015 -0700

    adds tag "tor" to tor config tasks (for app-staging)

commit 07f432501ff082569ea48251e87262b918704891
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:34:53 2015 -0700

    adds tags "apt" and "tor" to tor install tasks (for app-staging)

commit 9d1da8d8b129afbc20350c2ca6c5021de34b9b01
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:26:47 2015 -0700

    adds tags "host_aliases" and "static-hosts" to /etc/hosts config (for app-staging)

commit 4ba7b80fd666981b6f1af055914eea30e6622053
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:24:38 2015 -0700

    adds tag "tor" to install config tasks

commit 5c4bb8f98719dd7db4ddd08e27308c55d69fea06
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:21:57 2015 -0700

    adds tags "apt" and "tor" to tor install tasks

commit f31746c753c884a6e314b1aaa603677b3ab7bb2b
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:20:30 2015 -0700

    adds tags "host_aliases" and "static-hosts" to /etc/hosts tasks

commit 6adb0357b57cfbc3046dfd35828471ca84ae1c46
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:15:11 2015 -0700

    adds tag "swapspace" to disable swap space task

commit 08b424c2e93bf5a0823bb9c53c02710be1d065f2
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:13:46 2015 -0700

    adds tags "grsec", "reboot", "hardening", and "sysctl" to grsec lock tasks

commit a8403d3557fcab8a98eac71f2db212017bd38feb
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:11:57 2015 -0700

    adds tags "sysctl" and "hardening" to sysctl tasks

commit 7511e98198f81f05a0b3f31d15cfc0a52b8f0131
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:11:20 2015 -0700

    adds tags "apt", "cron-apt", and "reboot" to cron-apt tasks

commit ae6e435fd6920ae2c39894272f2c98f178a17cbb
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:06:55 2015 -0700

    adds tags "apt", "kernel", "hardening", and "grsec" to fpf grsec tasks

commit 8bee0728b126ee491edbcd4e9bac01446592d78a
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 13:42:25 2015 -0700

    adds "apt" and "ntp" tags to ntp install task

commit eb1b05b85b0ea2d9b203d5cccd5c36e2c4e13c17
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 13:41:11 2015 -0700

    adds tags "kernel" and "hardening" to kernel module blacklisting

commit 230db5fbbe76b5ac78e87af690cafe4b5264ada7
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 13:35:20 2015 -0700

    adds tags for dns tasks

commit d60ddc87351d9cd481097998127a99a862588913
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 13:35:06 2015 -0700

    adds tags "users" and "environment" to create_users tasks

commit af62d8058663f59d87d59d2259886c873831e770
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 13:31:54 2015 -0700

    adds tags to fpf repo tasks

commit a016eb404a52588b788fce93fbbca0b3a560dcab
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 13:12:32 2015 -0700

    adds more tags to role includes in staging playbook

commit a37dc718e1c3cc935dd0fc93e9077a41fca9faa9
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 13:05:21 2015 -0700

    adds tags to role includes in development playbook

commit 1d2ea2420fc71f5de72954178131d602c9f5a268
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 13:04:37 2015 -0700

    adds tags to tasks in development role

commit 186faaefcc7fa638819aa13ae7025204dc8d4ca8
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 10:44:05 2015 -0700

    fixes gpg check for ossec server key
    
    previous test had unintended side-effects, since it
    ran the --import command. new test merely lists keys and
    validates output

commit 010f510656375e9d574ec9919bc6e9342dd4367b
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 10:39:47 2015 -0700

    fixes gpg check for test app key
    
    previous test had unintended side-effects, since it
    ran the --import command. new test merely lists keys and
    validates output.

commit 60603dca1cf0562f8d967d1749f2ae15563e36a9
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 10:28:39 2015 -0700

    require 'spec_helper' in all spectests via .rspec

commit eea536e4deb30b8b71d4e1f1f5e45b670c17bd52
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 20:00:37 2015 -0700

    removes duplicate default html dir test from app-staging

commit 710ea19bfd9cfa0585d6eafff525c772a1142dae
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Mon Apr 20 17:34:01 2015 -0700

    Add unit test

commit dfed4b522f0780d5be5dea14e5c14f0a9dfc9133
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 15:28:56 2015 -0700

    updates selenium version in spectests for development
    
    see cb6897eae7673dcf48cdbc556627f4ba21e40c74 for related change
    only development sees the newest pip requirements file; the
    app-staging role still grabs the reqs from the .deb file,
    so these versions are different.

commit e980e78aa9ba03a846ee84ab6baa93fb6c63ea00
Merge: ff1170ac a9cd93d3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Apr 20 14:50:30 2015 -0700

    Merge pull request #989 from JMPorup/develop
    
    update %s notation to new .format syntax

commit d359c1383c93a5139b9e7a33b3b19690463a6727
Merge: e38f58af 60a96dbd
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Apr 20 14:39:18 2015 -0700

    Merge pull request #996 from dolanjs/upgrade-helper-script-fixes
    
    Upgrade helper script fixes

commit c860cd85e3e89ff2470f7d9f334be17075680f53
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 13:54:16 2015 -0700

    makes digitalocean plugin optional
    
    vagrant-digitalocean is needed only in snap-ci (for now),
    so don't require normal contributors to have it installed locally.

commit 2e7bb71fa583d1b57c23a8c5316cbf47d9ac09f8
Merge: 87b81305 ff1170ac
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 13:35:40 2015 -0700

    Merge branch 'develop' into serverspec-tests

commit 87b8130556b2eb7772c4a9e0b8a7fd6f52ddf8a0
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 13:31:35 2015 -0700

    adds section on spectest layout to docs

commit 1137ba23405be168aa0e3374c822d592607001a4
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 13:08:58 2015 -0700

    adds link to spec_tests doc in develop.md

commit 60a96dbddb9b5794a16c6192716bc3778d1c7c97
Author: James <james@freedom.press>
Date:   Mon Apr 20 13:04:08 2015 -0700

    git branch and tag checks
    
    The admin should verify the branch prior to running the script so checking the branch and the tag is not needed in the script.

commit 58a86d595ab0666d9c67de6b80ef8e46d5ce7514
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 12:49:49 2015 -0700

    adds TODO for spectests

commit 72831a51cae55c090978f72bf4d97c34aaf0c496
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 12:48:35 2015 -0700

    adds info on updating/adding tests to spectest docs

commit 5b75b14a3dad89648b7226263414e116af5a53fd
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 11:52:59 2015 -0700

    adds urls to serverspec docs

commit 78fda5f2c1b0c429e4aebbaa4265f0710cd6a418
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 11:38:13 2015 -0700

    adds example of serverspec test isolation to docs

commit 1cf41ff1926250663f27b634cc60137e04020522
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 11:35:20 2015 -0700

    adds docs on running tests and creating vms

commit 93010eb0804f576112da04f8e7055306b39342e0
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 11:28:52 2015 -0700

    updates docs for running spectests

commit f9206aa84b1c549c975f4954b3e5ea131164014b
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 11:11:45 2015 -0700

    custom def for reading vars files

commit 796e7f7c8a745a4a7bf658784cd6005d8009147a
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 11:06:22 2015 -0700

    more readable spectest output

commit 2108f6f0b11e759e9e275afd6428c6a0eaab79bb
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 11:04:35 2015 -0700

    move app worker config tests to common

commit 98211f07d59e757ba38b1b77d3ba4a7f5596d9d3
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 11:01:15 2015 -0700

    adds dev-specific logo check

commit fffdd3346e6aedea912367e46242a1268e502c00
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 11:00:59 2015 -0700

    moves app config tests to common

commit fa98914a0a37167335013b1300a598b6b573121b
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 10:43:51 2015 -0700

    separates cron-apt checks for app-staging and development, since ansible role has var hard-coded

commit 07fb8954ab25465b41c33b75a16413613a9ca85e
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 10:40:08 2015 -0700

    removes duplicate haveged checks

commit c0eea989b9e974d14f9e1c0f911ff3b06bcc03cb
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 10:35:15 2015 -0700

    moves cron-apt config tests into common

commit b2907a142a29e1279cb1d9e19477721db2badc37
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 10:31:54 2015 -0700

    moves haveged tests to common

commit 431f17623430ed695ad915e639ef07822901c98b
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 10:28:59 2015 -0700

    dynamic vars for dev dirs

commit 6d67d3137ea3b5f8b28b17cabfa3d9d42ba6c298
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 10:28:42 2015 -0700

    removes duplicate checks from app-staging

commit d47b621bf1b6902d10d452ed89ee845fc0b1c29f
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 10:28:16 2015 -0700

    adds common app-spec

commit 5d1ce515a800fad2d5149a36e0787bbe3d24ad23
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 10:14:57 2015 -0700

    more dynamic vars for app-staging

commit e23cdbb29632919c872de41adec56af5be6fe4c1
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 10:10:58 2015 -0700

    adds dynamic vars for app-staging dir tests

commit 79dc21998f466d01a85130bee40ca9d360304f38
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 10:07:33 2015 -0700

    adds dynamic-var-based testing for dev-only

commit a79d724a8d7e7b55c6f399280fbae5df94f98aa1
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 10:02:18 2015 -0700

    starts adding dev-only checks of app spec

commit 216051aabe406674c1b604ce61684e0e7dba2bfd
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 09:55:31 2015 -0700

    ensures apache2 is not installed in development

commit 04e39261942c8c4f0afe7feb29eab1d719e3e46a
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 16:47:15 2015 -0700

    updates development and app-staging spec driver to include common-development dir

commit 9be6bab53517fa9326ed63957b7a2ad01b2b511c
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 16:46:57 2015 -0700

    moves xvfb spectests into a shared dir

commit fff660028c9278b7bf5888d75d187c3b57426e2e
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 16:35:15 2015 -0700

    ports remainder of apache spec for app-staging to use test-vars for securedrop-code

commit 620d2793251db27b0be0e84112ba1078cc2c97c3
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 16:34:02 2015 -0700

    ports most of apache spec for app-staging to use test-vars for securedrop_code

commit fd35fb743c3a333f8afdf2bb1d3c0e5cd3bdb06e
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 16:29:41 2015 -0700

    updates app-staging app tests to use test vars

commit b3b3cc4a44cf1146db472f44877920f57a644d56
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 16:25:24 2015 -0700

    adds import of test vars for app-staging

commit 8d75164f194718c8bd82fb9c1de6ece8745ae94e
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 15:45:32 2015 -0700

    load vars for development role

commit 750ef8e27a3a00fe13b32869ab7beabed5f423c9
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 15:23:22 2015 -0700

    adds development-specific vars file

commit 34dc053076c493baf95f3cbe9afdbd9390bf5818
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 14:38:55 2015 -0700

    removes serverspec references from vagrantfile

commit 1808deff217199ca9ad04a09088b05ae1668b4f5
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 14:29:47 2015 -0700

    updates gitignore with spectests gems dir

commit 0ee7a35150bac2b358fbb03e6d043c3854d4051a
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 14:26:12 2015 -0700

    adds comments to Rakefile

commit d0466ec1ceadadfe352c8893073cb440779e65f3
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 14:18:36 2015 -0700

    fix case statement in roles def to append roles properly

commit 816f7820603fcda54d975ba801f1d44280b9802b
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 14:14:44 2015 -0700

    use role-based pragma for determining which spectests to run

commit 647c706abfd7dcbe7ab0e4d54c7adc092b2635fc
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 14:07:05 2015 -0700

    move role() def to top of file

commit 99469b7234f54dfbf4f9c6980bf24f6b79cc73b5
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 14:01:34 2015 -0700

    fixes host array declaration in Rakefile

commit a6f7c1a7892d5ec5a974d170cfae2490b53d66c1
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:55:10 2015 -0700

    adds function for associating roles with hosts

commit 25f1423b1470af6f1bb4e5824a9c7129f5101da6
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:54:02 2015 -0700

    explicitly declare hosts array

commit d139a6ac489c291f6161aa3502982101a8a307f8
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:47:30 2015 -0700

    adds spec_helper requirement to common-staging spectests

commit 9a37a4097f8df01a5edc2cc0791b8ff8b66b54a7
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:34:29 2015 -0700

    adds spec_helper requirement to mon-staging tests

commit 2e96da90e1d9657bee1ddf31ac7ca9a4a015e58e
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:31:10 2015 -0700

    adds spec_helper requirement to app-staging tests

commit 697d43e722f8ca98514054935c682e1d6f904346
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:28:33 2015 -0700

    generalize spec_helper for all hosts

commit 26c2950be4859fa5a4ba0dcf2bf9d8dbbd89bf25
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:27:19 2015 -0700

    adds spec_helper to build spectests

commit 7702f504c5d7ce59f8bbab5d9c64527ae8fa2b4b
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:26:58 2015 -0700

    adds .rspec file with colorized output

commit 463ddec61b45f00a1c12e8c3e1b21318c9499bd6
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:20:26 2015 -0700

    adds spec_helper requirement to development spectests

commit 39a5d141401b69fa2ec964921708033734d64f22
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:19:41 2015 -0700

    ports spec_helper to serverspec v2 format
    
    this file was automatically generated via the new serverspec-init

commit 3423cce247a8d5e51035377840839bfa413f649d
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:19:23 2015 -0700

    isolate development vm for spectests

commit 27e56ab7677461f02fcef503f644404a49053deb
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:18:06 2015 -0700

    moves old Rakefile and spec_helper back to old location

commit 4e5b8b748b25bb81e95a8d6bc8e6ba20521c95c5
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 12:08:01 2015 -0700

    move old Rakefile and spec_helper.rb aside

commit 30e8d3da1ba1514556197e1baa573855aec3c79a
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 10:37:52 2015 -0700

    adds check for SECUREDROP_ENV var

commit 787a53df46c73416e852e3d14db593d740b96388
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 10:14:07 2015 -0700

    adds tests for pip dependencies

commit d5aa140318f16f6ebdcfcaaf71f4218951321bf7
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 10:08:12 2015 -0700

    starts spectests for development role

commit 25f25c27ef5986445959d2ea376bc22c0d3095fb
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 09:55:07 2015 -0700

    adds a bit of superficial validation for package control fields

commit 011f4a0b1489b6ddb737e3f1c00ee6c2ad83f6f9
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 09:36:28 2015 -0700

    adds check for package name in dpkg dry-run

commit 65ab4940290625ec3bebcfb5416716a01bc8b143
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 09:35:03 2015 -0700

    adds some regexes to cut up filenames

commit 4ec6be9780fc218fce9ce462c92acc34891b3526
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 09:32:23 2015 -0700

    adds test for appcode deb presence

commit 7a70299f2b22f2906039e442a76e4a3483c283ec
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 09:30:56 2015 -0700

    adjusts dirs  being tested

commit 3609cedeb6722f8e7086930fa689c8b6a92129be
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Thu Apr 16 18:27:26 2015 -0700

    Strip leading + trailing whitespaces from codename

commit eda897454a302f0a9c94dfde17fb423baa658eff
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 17:19:35 2015 -0700

    adds dir/deb tests for build vm

commit 94b2a8ba19036c38d45a9906e5088a8810a628c4
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 16:57:28 2015 -0700

    adds check for pip wheelhouse for build vm

commit ffd99280a2bfdec7ba2e077de1da9584dbbae458
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 16:53:34 2015 -0700

    starts spectests for build vm

commit 87ae89f3021054a17956804d999f7e914c9aae88
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 16:48:51 2015 -0700

    adds check to ensure authd is NOT running

commit e7fce915e23af028f524a3c990f3bd01e0b48220
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 16:47:28 2015 -0700

    adds a different format for unwanted iptables rules for mon-staging

commit 6cdf0bc7131a231f50d2c745ce4612683d21da19
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 14:28:37 2015 -0700

    more readable iptables spec for app-staging

commit 061219addd971c93ef9e9d0e0a7e7991c757b643
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 14:17:45 2015 -0700

    more readable iptables spec for mon-staging

commit c71bcf8d210e26387ed001e77bb93735db846ce9
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 13:54:03 2015 -0700

    removes duplicate iptables checks for mon-staging

commit b2c023396afa158b6a4c47b4fe85a5ef01191e75
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 13:50:24 2015 -0700

    fix ip address for mon-staging

commit c1aecd69c9c4e831a5100fe936ebb547d43d2224
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 13:46:46 2015 -0700

    removes duplicate iptables checks from app-staging

commit 7470d5e0f00f29fce3cf038b9182a60cb30f6e8e
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 13:20:49 2015 -0700

    adds checks for xvfb service, also TODOs

commit a04c4ea83aaf7da0ab4566bb9878d9a1b4ca5ce5
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 12:28:38 2015 -0700

    adds tests for xvfb config

commit cdeccf16450e94e9f356b71678d4e4b282e10efc
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 12:15:41 2015 -0700

    adds test for xvfb init script presence

commit 45df7713ffc8a591084de68162f3f42522784586
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 12:08:23 2015 -0700

    adds spectests for apt package dependencies for testing

commit 3495ffa6c9fa03dc702889ea6a3d91d3eb6beb6d
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 12:05:50 2015 -0700

    adds check for app-test pip dependencies

commit 01fe5ae9475a9b3b37798299ec1a3100f27e57da
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 12:01:08 2015 -0700

    begins spectests for app-test role

commit 73a2a1796c6e0f3401df1f4507f82cb12e843bee
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Apr 16 11:35:44 2015 -0700

    Update README for 0.3pre upgrade
    
    * Add TODO note for documenting how to perform the upgrade with Ansible

commit bfdaf01f4e4246199eda4b26983c0ceeeab7bcaf
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Apr 16 11:32:54 2015 -0700

    Check 0.3 migration script, minor fixes
    
    * Rename crypto_util.py to old_crypto_util.py to avoid confusion with
      the current version of crypto_util.py. This did not cause problems
      because we add the current SecureDrop code root,
      `/var/www/securedrop`, to the path *after* importing the old crypto
      util code, but if that order were reversed it would break the
      script. Being explicit here helps avoid potential bugs that could be
      caused by future refactoring.
    * Add a comment for why we require a journalist to exist before running
      the migration.

commit 7e9dbed28b1da585321a1e1b171a79e9498d16d3
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 11:29:54 2015 -0700

    adds checks for haveged service config

commit 607b05402741fbd8a867d37c4e95d08e412e5c3d
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 11:28:34 2015 -0700

    adds check for tmp cleanup cronjob

commit 46bbf3db6eb2d82de3f3f4b0c683b43e50dcdf30
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 11:23:16 2015 -0700

    adds test for worker config

commit 13d14e7150764cd047858263cc22448275a0622b
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 11:03:00 2015 -0700

    touch up comments

commit 972ec3500a6e20e5661fd3402e1e5f1d715f8e4c
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 11:00:25 2015 -0700

    more readable checks for apache modules

commit 91301a34c3a4919ba775acd134a245ce615f00b5
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 10:52:31 2015 -0700

    adds check for common apache directory declarations

commit f1eb0d33314f63a30ec1f771e6d5412081a8b14f
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Apr 15 18:00:45 2015 -0700

    Name migration script directory for the version it migrates *from*
    
    When you do a migration, you're starting with an existing system with a
    known version; therefore, it makes more sense to group migration scripts
    by the version they are migrating *from* rather than the version they
    are migration *to*. This is also better because it is conceivable for
    multiple base versions (e.g. 0.2.1 *and* 0.3pre) to need migration
    support to a single version (e.g. 0.3).
    
    This creates a consistent naming scheme for all of the directories in
    `migration_scripts`, because 0.3pre was already the set of scripts used
    to migration 0.3pre installations to 0.3.

commit e1b9fe4b1416bccda9d64cf608f8898b363ab4bc
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Apr 15 17:59:09 2015 -0700

    Refactor 0.2.1_collect.py and add better logging

commit be9ff14c84225112fb7eb5a603fef9a076825a9d
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Apr 15 17:55:45 2015 -0700

    README formatting

commit 0f67009c640f819a02cd74a8ede2aa6ceb55cba6
Merge: 13d3e5b0 ff1170ac
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Apr 15 17:29:19 2015 -0700

    Merge branch 'develop' into check-migration-scripts-for-0.3
    
    Fix conflicts in migration scripts caused by parallel editing in
    check-migration-scripts-for-0.3 and develop. Most of the edits from
    develop were stylistic (part of PEP8 PR's), whereas most of the edits
    from check-migration-scripts-for-0.3 were functional improvements or
    fixes.

commit 123b3126f2d8390652e4171cb225ebb5904cf851
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 17:10:15 2015 -0700

    adds config checks specific to document interface

commit e938cfe0a8f7f74e1cddc7d49369267b7e718911
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 17:07:27 2015 -0700

    adds config checks specific to source interface

commit 99326eaeaf554aa5b4c19dee7411e381b5d73cc0
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 16:57:57 2015 -0700

    adds explicit checking of common apache headers for source and document interfaces

commit ece381748e715c3bf803f5374b08ba37fe761eaf
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 16:52:13 2015 -0700

    adjusts apache header capitalization for consistency
    
    In the config for the document interface, the Apache header
    was listed as "X-download-Options", but in the source interface
    it was listed as "X-Download-Options". This commit updates
    the document interface to use the same capitalization schema
    as the source interface. (This makes serverspec testing cleaner.)

commit fbf4950a018850e85ff5d8aa9d2126c81b54db31
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 16:36:25 2015 -0700

    more explicit apache tests

commit 6ec31ea7a9915321f4c31c312ae1971d9f9306af
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 16:19:13 2015 -0700

    adds checks for app db and logo

commit 7f03e1cef66335a74834a775b24e6b855281f261
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 16:12:15 2015 -0700

    adds check for staging journalist pubkey in config.py

commit 483d8d979fdc5956997330ce95591d9fb65e6b1c
Author: James <james@freedom.press>
Date:   Wed Apr 15 15:49:47 2015 -0700

    Fixed verifing the current git tag
    In production this the end user will be checking out the tagged version of the release not the branch name

commit 790b27c9f6b3cda0326ab10ce6ff81a18d640f57
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 15:49:45 2015 -0700

    adds gpg key tests for app role

commit 1a76d43a6bfd83a321fba08027b45148b6a19d77
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 15:44:37 2015 -0700

    adds tests for package dependencies for app role

commit 267c68d1a734bc829096c7fbc660f3c560e4e43a
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 15:42:46 2015 -0700

    adds tests for application dir mode and perms

commit 6ecca360cc53b40f816da6ac5f7467a9d8e3fb4b
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 13:58:51 2015 -0700

    terser comments for app iptables tests

commit d96da4cf3c7d876878ed09afdfc735d9698d0679
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 12:00:45 2015 -0700

    adds tests for ossec-agent packages and keyfile

commit e407d2e979c7a7f356d8421997c4c464310fba68
Author: James <james@freedom.press>
Date:   Wed Apr 15 11:58:12 2015 -0700

    run the playbooks as correct user

commit 58e5bae0dcb82cd811e75c883c32a47d3cf3ae68
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 11:51:09 2015 -0700

    begins spectests for ossec-agent role

commit fa9a859a1568cb36e1e6e238603bbe1a070fb26e
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 11:47:13 2015 -0700

    renames ossec spectests for mon for clarity

commit 9d59f8e2097ebdbc51bf5f5a3207b0246d7213cb
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 11:45:46 2015 -0700

    adds tests for app-specific torrc settings

commit e48d44bcc19551d2284eec5fdfcd6a58d23a34b1
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 11:45:22 2015 -0700

    adds tests for common torrc settings

commit 23d978b1e902baedb9640dbfdab9692ae80a1d68
Author: James <james@freedom.press>
Date:   Wed Apr 15 11:42:56 2015 -0700

    added check that the correct branch is checked out
    moved the check for a valid signature.
    removed tasks that were only needed if the migration scripts are not part of a tagged release.

commit f44b810e93e9f67cfba2845882812dc72955c6ef
Author: James <james@freedom.press>
Date:   Wed Apr 15 11:31:45 2015 -0700

    added some todo's

commit 403764efef0b9da27618d6245c13aa3b4ffecb70
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 11:23:35 2015 -0700

    adds check for tor service to common

commit 984f0e788bcd82112c6d1ccb4a842c89cddf2818
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 11:19:17 2015 -0700

    terser comments in ossec-server iptables checks

commit fe4507fd99bffaa2bd5d5a0144f474d328896656
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 10:54:30 2015 -0700

    adds spectests for ossec-server procmailrc

commit 7a6634ff5c183ca2a8453961da0c7ce3fe6de2bb
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 10:49:44 2015 -0700

    adds TODO comments around file perms for ossec alerts

commit d491a4b5c0c2015df09de901c1624308c7df7c63
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 10:46:06 2015 -0700

    adds tests for gpg pubkeys for ossec-server

commit 259e0a90a02c21e911b75da2c8c9bd7ff891783b
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 10:30:00 2015 -0700

    ensure keyfiles exist for ossec-server

commit c7e2aaa5223503a5e4179dfee9a0562d4a37674f
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 10:10:36 2015 -0700

    ensure ossec-server sees app-staging host as available

commit 4c83dc8ffddc2ca50ab5a12e341172bf77f82e37
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 09:51:45 2015 -0700

    adds list of desired postfix settings for ossec-server role

commit 072571e3135e1bfc6b3826969dda46b3ffcc52b1
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 09:44:50 2015 -0700

    adds several ossec-server spectests

commit e38f58af84acd9bdb6070c13543f78c3de5c6d78
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Tue Apr 14 17:07:51 2015 -0700

    Rename tails_files/upgrade.sh to migration_scripts/0.3/upgrade.sh

commit f4574925a06875aef4c53c0877a37a2c1f3388b3
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 17:07:07 2015 -0700

    adds checks for tor services dir

commit ff13ec5a9b842985994f54b9abf684c3d397c9c6
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 16:52:51 2015 -0700

    adds spectests for tor repo to common

commit ec0f591955951933ebc5722cb5e0ee5227383249
Merge: ff1170ac cfefcf5e
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Tue Apr 14 16:51:35 2015 -0700

    Merge pull request #995 from ageis/upgrade-helper-script
    
    Upgrade validation pre-checks and helper script

commit 72a2f5ed114fdc1f33d2fe06794adfa152ec76f2
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 16:32:34 2015 -0700

    adds TODO for mon-staging ossec tests

commit 669a8ab7ad6e4f901de1024f6c33612515b34722
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 15:21:48 2015 -0700

    renames ossec spectest for mon-staging to confirm to _spec.rb format

commit 3a35048b49c704594f5e7f65753c8ec103fbbd59
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 15:20:59 2015 -0700

    adds ip checks for mon-staging in /etc/hosts

commit c5e649f3913db9a85b11329e6ff412345736a6f0
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 13:16:46 2015 -0700

    removes app-specific packages from common tests

commit bbb49dd3597109cedf9520155e6dda9b852a2b3f
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 13:07:41 2015 -0700

    add check for disabled swap space

commit d280572e7a703f935cf2bc006b7ab3a9c2f2cd0a
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 12:53:19 2015 -0700

    adds spec tests for sysctl flags to common

commit 54159ee507c14d4da3c45eda1a541f469e09baac
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 12:26:20 2015 -0700

    ensure safe-upgrade has been run

commit 224c62788179c3c7a5948d71c8d6bee9e19839d0
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 12:24:00 2015 -0700

    ensure cron-apt cronjobs in place

commit f289aea63572afd63b5cf3fa5966fc0b37ddf47d
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 11:55:19 2015 -0700

    adds a bunch of apt-related tests to common

commit 4858e3764ac9ce0d61dce4fb5995b09b97d9fa4e
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 11:27:45 2015 -0700

    moves cron-apt spec tests into common

commit 9a7cb9bf7b7683f9d6187bbd91651af92d8f1f84
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 11:23:44 2015 -0700

    adds a few tests for package cleanup

commit dd24b483b4c986d6af507bb52857681de47054f8
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 10:49:36 2015 -0700

    ensure old kernel images and headers are removed

commit 287a89dc6c3bd99c67de0ec812c0032ddfe64878
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 16:18:53 2015 -0700

    ensures some common kernel metapackages are absent

commit 63f9dbed6fb1bbbe9f5ec5c256f726e0572f0bf6
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 16:10:15 2015 -0700

    adds a few grsec tests

commit 37291fcbc29ebcea62ed5771573faa8efdd36c56
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 16:02:40 2015 -0700

    moves grsec spec tests into common

commit 991c277dabe2bc6afd6646280105549640a3b73c
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 15:58:18 2015 -0700

    adds ntp requirement

commit 2a357ba36226741cda36d890573d5f4483a9cb95
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 15:53:40 2015 -0700

    general server hardening spectests

commit 87d0cc13c09b4bf99b3f9e7def896ba5c34cf596
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 15:45:51 2015 -0700

    fixes a few user tests
    
    improves escaping special characters in regexes

commit b453d21808a1f7fcf283e9a3fd13145bcf3c48d7
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 15:30:24 2015 -0700

    adds user-checks

commit 04aea9e6199a2e23aafdca95679182c62d579ecb
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 15:21:50 2015 -0700

    starts common user setup spectests

commit 94d78a418854276367fff44fa4708344a36aea36
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 13:29:17 2015 -0700

    starts general spec tests shared between /staging/ hosts

commit 0efba1c6fe1c0727698d400d2597e540b385433a
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 12:32:51 2015 -0700

    fixes single-quote problem in iptables spec tests
    
    the string "don't" was causing false failures in spectests
    for iptables, even though the single quote was properly escaped.
    this commit modifies the iptables rules in ansible to remove the
    single quotes, and updates the tests in serverspec accordingly.

commit 44931400509d505134a92e47dba78844186421b1
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 12:30:37 2015 -0700

    test iptables for app-staging based on dump of iptables-save from host

commit ff1170ac25e2a4707f685aed81cddb769289e8e1
Merge: 2ea4e157 cb6897ea
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Apr 13 11:52:28 2015 -0700

    Merge pull request #991 from freedomofpress/fix-functional-tests-local
    
    Upgrade Selenium in testing dependencies

commit cb6897eae7673dcf48cdbc556627f4ba21e40c74
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Apr 13 11:27:35 2015 -0700

    Upgrade Selenium in testing dependencies
    
    Fixes #988.

commit 12dd6295c0f2d69526f96f14087b007b5fe8fe89
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 11:02:51 2015 -0700

    removes old localhost spec tests

commit 1e6a076d8ee9969a59a94cc260745ac6630ade37
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 09:37:27 2015 -0700

    removes duplicate/inaccurate iptables rules from mon-staging spectests

commit 6bb090fa492c4812928c7177c5e4fbbd87bc57af
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 10 15:02:40 2015 -0700

    explicitly check for disabled services in app-armor config

commit 1845c41e304b456919dddf5db56cc91fa840e38d
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 10 11:23:10 2015 -0700

    adds a few critical pkgs

commit 07d0006df2c065855040a50bbbeaecc4a39efb79
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 10 11:07:41 2015 -0700

    adds TODO regarding validating package configs

commit cc8982d1896a2344785bdf5ac964edfb80698b5d
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 10 11:03:37 2015 -0700

    starts tests for validating apt config

commit a133d4512249ba63d6fcb43668ba2844615b4bf9
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 10 09:53:16 2015 -0700

    adds iptables spectests for mon-staging

commit 1253a3af35bd235f4b2b02206051b918cc433cb8
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 9 17:48:11 2015 -0700

    ports tor tests to v2 format

commit e1db4e98d0528c3751192ede1a51f24ea79e17b7
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 9 17:44:58 2015 -0700

    moves tor spec tests into app-staging role

commit 75fbe16948c193f17460bd6c07a3af44dc505930
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 9 17:43:01 2015 -0700

    adjusts iptables tests for staging

commit f00e18e4889bc4881937bdef2ee231b8eb153ec3
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 9 17:40:37 2015 -0700

    moves iptables spectests from localhost to app-staging

commit 55b4b37ddce1d6b5c70ff6a6c92870516b8f3ce0
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 9 17:39:32 2015 -0700

    adds cranky TODO concerning aa-status output

commit e1bd7549fed68aadab88a65cb6f3e5c0e53f01d4
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 9 17:32:05 2015 -0700

    tweak apparmor spec tests for app-staging

commit 87f9f632e3b781d752a4590ea2c30c7fd67affc5
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 9 16:50:21 2015 -0700

    ports syntax for apparmor check to v2 format

commit d24b56eadec3ad611623a4d886c76addf99f4f88
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 9 16:32:58 2015 -0700

    moves app_armor spectest into app-staging role

commit feb69f86ac389aa1c97259617b8d245040d79ce9
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 9 16:29:50 2015 -0700

    adds (copies) grsec spectests to mon-staging

commit b0f67140a6c93ff29b68f9ac5939db05ef3fe1b3
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 9 16:28:02 2015 -0700

    ports grsec spectests to v2 format

commit ed26d81c6596e83c79060c28bff20ae7db484142
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 9 16:25:58 2015 -0700

    moves grsec spectests into app-staging

commit 3f20d7270f327aa55c696c4b326c8e400d2d5073
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 8 13:09:57 2015 -0700

    ports ossec-server tests for mon-staging

commit ad47c83faee7322fea5e1cc020e752e51ed657ae
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 18:03:21 2015 -0700

    more apache service checks

commit c764e5f57b5a1a73afc3cffe9643bad5cff3d61c
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 17:45:57 2015 -0700

    adds spec tests for enabled and disabled apache sites

commit d54e79b11914df2e61e7dfd06877f7acbe4aae14
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 17:41:44 2015 -0700

    rewrites check for disabled apache modules

commit a0ee88c1cdfa8f7e163528051b8c48ece04cd680
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 17:02:09 2015 -0700

    rewrites enabled apache modules check

commit b60079f5633337eb18dd04a9958d220aea894485
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 16:46:19 2015 -0700

    starts porting apache spectests

commit 5fe27ce602ed23094e4a2734e47e8617e2224253
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 14:22:19 2015 -0700

    passing app-staging test

commit d9926ab9881dc865a7e0f072e28598e465e52a5a
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 13:53:10 2015 -0700

    disable spec_helper require statement
    
    Conflicts:
            spec_tests/spec/localhost/apparmor_spec.rb
            spec_tests/spec/localhost/grsec_spec.rb
            spec_tests/spec/localhost/iptables_spec.rb

commit 0fe75cdc694d3827d1993cefc86fd263f340f63a
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 13:45:58 2015 -0700

    adds vagrant-serverspec provisioner to app-staging

commit 8bc1d395b782fe01d8d8a71aea5091bdbb9fe381
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 13:38:33 2015 -0700

    renames metadata[:example_group_block] -> metadata[:block]
    
    resolves deprecation warning:
    
    Deprecation Warnings:
    
    `metadata[:example_group_block]` is deprecated. Use `metadata[:block]` instead.
    Called from ./spec_tests/spec/spec_helper.rb:18:in `yield'.

commit 4aa63e93cd0bf7e7a73120054df58c09c911a125
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 13:38:04 2015 -0700

    new v2 backend config

commit 336367a9cd7adad037325dbc25fb303582923fd4
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 13:00:58 2015 -0700

    clobber old Rakefile with default

commit 15aa873624aab9687b672939208c6b435e01f45f
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 12:51:05 2015 -0700

    SpecInfra -> Specinfra rename for serverspec v2

commit a9cd93d3756c800b34a39af0ec5f1938bafeeab9
Author: J.M. Porup <jm@porup.com>
Date:   Sat Apr 11 19:04:12 2015 -0400

    update %s notation to new .format syntax

commit cfefcf5ed5128ecf60b3ef8a5d46eb1321b7219e
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Fri Apr 10 18:05:16 2015 -0700

    Upgrade validation pre-checks and helper script

commit 2ea4e1573185184cc81a6a58608ab39da0d2ad9f
Merge: 2b8effe8 32f6280e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Apr 10 17:10:36 2015 -0700

    Merge pull request #987 from freedomofpress/tests-for-download-unread
    
    Add tests for "download unread"

commit 13d3e5b01d4e422ccfccd117ace99c3d93e6bb44
Merge: 053998db 5fa80b89
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Apr 10 17:09:59 2015 -0700

    Merge pull request #985 from dolanjs/fix-apache-for-mon-server-task
    
    added check for apache before disabling apache.

commit 2b8effe8be935f19228c52447e9300766aa08f0b
Merge: 97b8cd54 02e209ed
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Apr 10 17:04:19 2015 -0700

    Merge pull request #970 from dolanjs/training-doc-update
    
    added some links to training doc

commit 32f6280e2866f9ba7790c962ad8532f588d6c92d
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Apr 10 16:52:35 2015 -0700

    Add tests for "download unread"

commit 97b8cd54f2987be35eccb008e5edd04d37b329d0
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Apr 10 15:31:38 2015 -0700

    Fix SQLAlchemy queries for unread submissions
    
    This regression was caused by the PEP8 fixes in cd6f4c3, which among
    other things changed instances of `x == False` to `x is False`. While
    this would not cause a functional change in normal Python, it does cause
    a functional change in the context of SQLAlchemy's `filter*`
    methods. These methods override `==` but do not appear to override `is`,
    so replacing `==` with `is` breaks the query.
    
    I have grep'ed the code and checked the diff of the breaking commit to
    make sure this commit fixes all instances of this error.
    
    Fixes #969

commit 5fa80b8994f1d072b827d26c52ad8d237c0fb55c
Author: James <james@freedom.press>
Date:   Thu Apr 9 13:47:20 2015 -0700

    added check for apache before disabling apache.
    
    This was causing problem for people who already ran the task once and apache wasn't installed anymore for the second run.

commit 053998db03a950166de322f917a0f13b5ab1c419
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Apr 8 13:04:01 2015 -0700

    Fix scope issues with c

commit 2eda379fc0f8f52417ab706d42afeb79f4ccc3e3
Merge: 9a4979ba 3db2e6ba
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Apr 8 13:00:15 2015 -0700

    Merge branch 'check-migration-scripts-for-0.3' of https://github.com/freedomofpress/securedrop into check-migration-scripts-for-0.3

commit 3db2e6bafe22a2b209c7a85f66f75c1872cc7bc6
Merge: 416cbade bf655ea2
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Wed Apr 8 11:28:20 2015 -0700

    Merge pull request #984 from dolanjs/migration-script
    
    Fix upgrade script for orgs trying to upgrade to 0.3.2 from 0.3pre.

commit bf655ea2923267a1bbbe2eca7383a25bc29e27b3
Author: James <james@freedom.press>
Date:   Tue Apr 7 15:34:33 2015 -0700

    moved setting vars
    
    Moved setting the vars for the upgrade script

commit 416cbade29737fb1b6cf1cec829dc08750d0f8dc
Merge: d6afc81b fcd83d28
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Tue Apr 7 10:51:14 2015 -0700

    Merge pull request #979 from dolanjs/fix-mon-upgrade-script
    
    This fixes the upgrade script when ran on the monitor server. This will not check for the presence of the app server specific files.

commit d6afc81bb9c58fcc664830e2f795cd914a5fdeac
Merge: e535b610 b66f5688
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Tue Apr 7 10:49:51 2015 -0700

    Merge pull request #977 from dolanjs/apache-status
    
    This fixes the format for the upgrade task to check the state of the apache service.

commit cd26cd7e45b14e5e6237e7a238e157394d2b82f2
Merge: e5e00490 21249bbb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Apr 6 11:04:54 2015 -0700

    Merge pull request #981 from jacksingleton/develop
    
    add tests for pages that require authentication in journalist.py

commit 21249bbb5080449d0239423f963dc780a322a827
Author: Jack Singleton <git@jacksingleton.com>
Date:   Fri Apr 3 19:45:32 2015 -0700

    add tests for pages that require authentication in journalist.py

commit fcd83d282aa614777a889c8ec606176cf067772f
Author: James <james@freedom.press>
Date:   Fri Apr 3 14:21:38 2015 -0700

    moved app specific asserts
    Moved asserting the app specific files to just the app def.

commit b66f5688e939b8af67716538337bddc664990eda
Author: James <james@freedom.press>
Date:   Fri Apr 3 08:43:22 2015 -0700

    changed the service role from old `status` format to `state` format for new versions of ansible.

commit e5e00490eb432f843d81348e2e7b5fbea4c8ea05
Merge: 7e7a0627 9a56ab16
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Apr 2 09:08:25 2015 -0700

    Merge pull request #975 from ageis/sd-diagram
    
    Include MS Visio SecureDrop visualization

commit 9a56ab1662f8cb9e9e90821c34b00b1a8b466d4a
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Wed Apr 1 21:14:54 2015 -0700

    Include MS Visio SecureDrop visualization

commit 7e7a06275ea432ed7c431ef3c03c64f1cfc05f86
Merge: 84e19a4d 3d2f09be
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Apr 1 18:31:07 2015 -0700

    Merge branch 'master' into develop

commit 3d2f09bea81b662ae26f123adcaea174b3ea7fe3
Merge: 718581cc 1a414022
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Apr 1 17:47:32 2015 -0700

    Merge pull request #974 from freedomofpress/fix-admin-required
    
    Add admin_required to admin_add_user

commit 1a4140228f46a3aa74b5ef7fc1d178f5196a6ed9
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Apr 1 16:43:12 2015 -0700

    Version 0.3.2

commit d83e45288923a20439951da54c2d9e6eeb17c46e
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Apr 1 14:17:18 2015 -0700

    Add admin_required to admin_add_user
    
    Access to the admin_add_user view should be restricted to administrators
    only. Unfortunately, I accidentally omitted the `@admin_required`
    decorator for this view. Since `@admin_required` encapsulates
    `@login_required`, this means that anybody with access to the Document
    Interface would be able to create a user accounts.
    
    This is a fix for the issue reported on Bugtraq:
    http://seclists.org/bugtraq/2015/Apr/8

commit 02e209edb1a06cb3c49b735e41c6a0fb06fea4d0
Author: James <james@freedom.press>
Date:   Wed Apr 1 11:21:04 2015 -0700

    used official FAQ link

commit 84e19a4d190a36ddd948196aa5222eeb894fb913
Merge: 6e5ad8b1 89b1e3f9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Apr 1 11:11:24 2015 -0700

    Merge pull request #965 from ageis/grub-fix
    
    Mark GRUB as manually installed (fixes #945)

commit a9ee5ee5b0a8081a546c36a306f8b9d16c29bd87
Author: James <james@freedom.press>
Date:   Wed Apr 1 10:43:19 2015 -0700

    added some links to training doc
    
    added link for SD FAQ page
    added link for vanity urls

commit 89b1e3f9c209b3614e038aff8dd4afd19ad6bc50
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Tue Mar 31 01:27:55 2015 -0700

    Mark GRUB as manually installed

commit 6e5ad8b1144b55ba4859491a72def88145f3648e
Merge: 4c07feb0 dbfeed96
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Mar 30 15:23:32 2015 -0700

    Merge pull request #961 from freedomofpress/tmux-default-shell
    
    Use tmux by default for SecureDrop admin's login shell

commit 9a4979baf7bcbc1b2fd32e45bbceb56466193f1d
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Mar 30 12:33:36 2015 -0700

    Fix some nits

commit 4c07feb0a44b1a39285b9281e5522f778a277440
Merge: 4c9993ef 5cbd11da
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Mar 30 11:52:13 2015 -0700

    Merge pull request #960 from freedomofpress/fix-css
    
    Fix css

commit dbfeed9620f4435509f1749724ce8afbaf4e3be3
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Mar 27 18:25:17 2015 -0700

    Use tmux by default for SecureDrop admin's login shell

commit 5cbd11da59057944a089e430bc949582bc122ef1
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Mar 30 10:35:01 2015 -0700

    Fix unmatched `*` in Markdown file
    
    This document refers to "your specific .onion address" as
    `*.onion`. Unfortunately, `*` is a reserved Markdown character that
    signals that start of an italicized block. This can cause problems
    depending on the Markdown renderer - for example, the document renders
    to HTML fine when viewed on Github, but when this document is displayed
    in a Github PR, all document text following that `*` is italicized,
    which is confusing and not the intent.
    
    The easy fix is to fence `*.onion` with backticks so it's treated as
    preformatted text/code.

commit 4c9993ef6e6a8bfa32c3214c9280822a6ef6e201
Merge: 53cfdbef b424c765
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Mar 27 18:56:59 2015 -0700

    Merge pull request #956 from ddworken/develop
    
    Even more PEP8 fixes

commit 53cfdbef24ce5cff99d9987ff98378545f945b5e
Merge: 56669c5d 4c4f1eb9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Mar 27 16:10:55 2015 -0700

    Merge pull request #959 from dolanjs/add-ssl-support-to-apparmor-profile
    
    add ssl support to apache apparmor profile

commit 1de020645b571cdaad47b882e100cd360df86338
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Mar 27 16:06:11 2015 -0700

    Document how to access the dev servers in Tor Browser

commit 5900209d4799f52c6badc24a1fa4c725c43cc5c5
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Mar 27 15:51:03 2015 -0700

    Center Source Interface home page

commit 03e637a2e5cc3d2ec2f3cfd4c94b56a09747ee5c
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Mar 27 15:19:48 2015 -0700

    Split css into separate files
    
    Previously, the Source Interface and the Document Interface both used
    the same CSS file (`/static/i/styles.css`). This sometimes created
    problems where changing styles on one interface would cause problems with
    the styles on another.
    
    I've also updated the links in the HTML templates for each interface to
    use the correct CSS file, depending on the interface.
    
    In the future, we should work to clean up and simplify these CSS files.
    I have not made an effort to remove code from `source.css` that was only
    ever used on the Document Interface, nor vice versa.

commit 5b90782d93913f27171da2b24b515f8f8d47e861
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Mar 27 15:08:54 2015 -0700

    Revert "Merge pull request #929 from ageis/text-fix"
    
    This reverts commit e9739b225764b0fded4014bfb3a8ce183819f9e2, reversing
    changes made to 2667110e4753b2f902f7dca70d8cc8a7ba897fb8.

commit 4c4f1eb916abb2760809d26bf36b91aee99177e5
Author: James <james@freedom.press>
Date:   Fri Mar 27 15:01:52 2015 -0700

    add ssl support to apache apparmor profile
    
    Some orgs are already using HTTPS for the source interface. This adds the required modules and default cert locations for apache to use ssl.
    
    This pr does not add ssl support to the ansible playbook. Just the apparmor support is being included now so that when unattended security updates for securedrop-app-code.deb package are applied it does not break the existing installs using ssl.

commit 56669c5dd775ba4c5c6e9615271ee51ce90459cf
Merge: f693105e bac74fa2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Mar 27 13:35:39 2015 -0700

    Merge pull request #936 from ageis/torsocks-fix
    
    Don't need ProxyCommand in SSH aliases. Fixes #933.

commit e535b6106879c02018bc7c66002ecbaf8c1f894f
Merge: 5260040d 58c0529a
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Mar 27 13:32:47 2015 -0700

    Merge pull request #944 from dolanjs/fix-pre0-3-upgrade-script

commit 58c0529aca26fb307b6e6e3d5eb774c82fdb3cd1
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Mar 27 13:29:57 2015 -0700

    Make detecting deleted sources explicit
    
    See https://github.com/freedomofpress/securedrop/pull/944#discussion_r27252564
    for context.

commit b424c76548082d42d55c4d76c5a3a6a26448912f
Author: David Dworken <david@daviddworken.com>
Date:   Thu Mar 26 21:28:08 2015 -0400

    Even more PEP8 fixes

commit 7e99cd3507f5767112492fe4fecf2967aa6dbbb1
Author: David Dworken <david@daviddworken.com>
Date:   Thu Mar 26 21:11:50 2015 -0400

    PEP8 Fixes

commit 15d1ba741e699657d9dcadc60115db7e42ce2609
Author: David Dworken <david@daviddworken.com>
Date:   Thu Mar 26 21:06:47 2015 -0400

    PEP8 Fixes

commit f693105ef9622e82e39480df20a44fa3385663cc
Merge: 4573ea5f 9a2f4be7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Mar 26 17:24:23 2015 -0700

    Merge pull request #953 from ageis/source-fadeout
    
    Fade out inactive source interface, closes #447

commit 9a2f4be7c0542f168cbb8634076a1b00e0b25e64
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Thu Mar 26 16:12:03 2015 -0700

    Add dimming CSS to index.html

commit 4573ea5f4ea906c45a3fd6fa4c037c03ebb27a2a
Merge: 8d85652c c34bc0da
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Mar 26 15:34:52 2015 -0700

    Merge pull request #939 from ageis/grsec-idempotent
    
    Make grsec reboot idempotent

commit 8d85652c6a744cf73a964cc93883c6fcba585c5a
Merge: 7bb11fb1 5bfa86ba
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Mar 26 14:50:09 2015 -0700

    Merge pull request #931 from ddworken/develop
    
    More PEP8 Fixes

commit 45cba9cddbeb5de294595257a1a95388580afba2
Author: James <james@freedom.press>
Date:   Thu Mar 26 13:12:11 2015 -0700

    removed uneeded continue

commit a76e87b696e12767c44365db71cbeecdd69f38d6
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Thu Mar 26 12:27:40 2015 -0700

    Fade out inactive source interface, implements #447

commit c34bc0da835937761515ecf95af2f391b754f2fe
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Thu Mar 26 11:43:53 2015 -0700

    Don't wait for reboot if already running grsec

commit afc0a9f8d29888bee35ecccba2aaf7aa186ab0bf
Author: James <james@freedom.press>
Date:   Tue Mar 24 16:19:47 2015 -0700

    fix pre0.3 to 0.3.1 upgrade script
    
    The pre0.3 SD version had an issue where deleting large submission would timeout, leaving the encrypted submission in place but removing it from the db. Added @garrett's fix for cleaning that up prior to running the db migration.
    
    Re-ordered the sequence of events so the backup task and the migration happen prior to removing the old deb packages. This ensures that a custom logo.png will get backuped before dpkg deletes it.

commit bac74fa24865fac2060247de956ecae50db31165
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Mon Mar 23 18:34:22 2015 -0700

    Don't need note about SOCKS5 password with torify

commit 5154c33ae646221f7ab8d29d95f41f09584a36ee
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Mon Mar 23 18:29:59 2015 -0700

    Fix to reboot if grsec is not running

commit 9ce3ca1848c83223b7ce4b768669b57f9ace8854
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Mon Mar 23 17:34:45 2015 -0700

    Consolidate tasks and make grsec reboot idempotent

commit 7bb11fb1bf5a3629af46be604ade7dbde63e24cb
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Mar 23 14:25:02 2015 -0700

    Switch default branch back to develop
    
    Rationale: https://github.com/freedomofpress/securedrop/pull/932#issuecomment-85204230

commit 63310d78b486ca8d9cb84a20a68b7cefd730d5e9
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Mon Mar 23 14:02:18 2015 -0700

    Fixes #933

commit 3fb990af83cf82f1da278ed0385275a813a2175d
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Mar 23 14:01:38 2015 -0700

    Add `-U` to pip install commands
    
    Follow up to https://github.com/freedomofpress/securedrop/pull/932#commitcomment-10353326

commit 306d8d56f8f4917c797d45aab80e7aee2eddc684
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Mar 23 13:23:39 2015 -0700

    Add warning about Vagrant package in Ubuntu
    
    Follow up to https://github.com/freedomofpress/securedrop/pull/932#issuecomment-85165231

commit 3e98a101d7b40e1482e110997a75cb3382ec6fa4
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Mar 23 13:20:33 2015 -0700

    Clean up development guide
    
    * Clarify the differences between virtual environments
    * Improve headings and TOC
    * Clean up formatting, extraneous new lines

commit d62968ca30c098e1f2e0eeed88b707328f0e9d69
Author: Conor Schaefer <conor.schaefer@gmail.com>
Date:   Mon Mar 23 14:36:10 2015 -0400

    updates recommended version numbers in develop.md

commit a9eeaa50e0fac91ea69793884f518ac8fec339f1
Merge: 16c512d4 718581cc
Author: Conor Schaefer <conor.schaefer@gmail.com>
Date:   Mon Mar 23 14:33:37 2015 -0400

    Merge branch 'develop' of https://github.com/freedomofpress/securedrop into support-vagrant-1.7+
    
    Conflicts:
            docs/develop.md

commit 5bfa86ba2d42b6ed043a1ed2625d4711a10c70ab
Author: David Dworken <david@daviddworken.com>
Date:   Mon Mar 23 09:47:37 2015 -0400

    More PEP8 Fixes

commit 718581cc48cfd900f267b5cb6cf933933571010e
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Mar 23 03:33:35 2015 -0700

    Fix broken automatic backups

commit 01dc738a9caf237044c94053190699ea19148df3
Merge: 1ecf9d77 2413b64b
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Mar 23 02:31:28 2015 -0700

    Merge branch 'master' into develop
    
    * Reuniting master and develop once again

commit 1ecf9d77b7ca1aff8693da7d793211b8715bd59c
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Mar 22 23:03:22 2015 -0700

    Version 0.3.1

commit e2ad1e114db69903654a4f5946c45e582af2c1dd
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Mar 22 23:27:06 2015 -0700

    Update smtp.gmail.com fingerprint
    
    Google rotated their cert recently - from looking at my OSSEC testing
    emails, it looks like it happened on or around 3/18.

commit 8aaeb37577f82e067e163d77d2afe443071c7e70
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Mar 22 23:01:58 2015 -0700

    Maintain custom header image across package upgrade

commit b5afdf7927b072dcc6345582ea1d607dc33de70e
Merge: 90f98236 fac77f35
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Mar 22 23:01:31 2015 -0700

    Merge pull request #930 from ageis/doc-improve
    
    Ran doctoc on install.md

commit fac77f35d302502305996d3ed83c40b8d79dc68a
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Sun Mar 22 23:00:32 2015 -0700

    Fix references to install section

commit 4e96f20f9ec971138bcfb80b9981536f63ce7166
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Sun Mar 22 22:54:42 2015 -0700

    Ran doctoc on install.md

commit 90f98236cd5c3f2bb35b1fa6b873c8abd8259411
Merge: e9739b22 61cfe825
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Mar 22 21:57:51 2015 -0700

    Merge pull request #927 from ageis/doc-improve
    
    Documentation improvements for 0.3

commit 61cfe8255e53389c73b8879026f4c5081654eeea
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Sun Mar 22 21:52:33 2015 -0700

    Fix trailing whitespaces

commit e9739b225764b0fded4014bfb3a8ce183819f9e2
Merge: 2667110e 64da4fc0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Mar 22 21:47:01 2015 -0700

    Merge pull request #929 from ageis/text-fix
    
    Fix text showing on top of button

commit 2667110e4753b2f902f7dca70d8cc8a7ba897fb8
Merge: 0b4d6bd9 a2a205eb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Mar 22 21:40:14 2015 -0700

    Merge pull request #926 from ddworken/develop
    
    Fixed PEP8 Errors

commit 905ccbda2c9ba0c7ace3b64da14ad59661afa9c6
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Sun Mar 22 21:04:31 2015 -0700

    Corrections and additions

commit 64da4fc07c1c27ee008150504d28352477aac14b
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Sun Mar 22 20:49:52 2015 -0700

    Fix text showing on top of button

commit b2850a8cbdc4eb2124c3fb0eccbc094c7b0bf394
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Sun Mar 22 15:55:29 2015 -0700

    URL fixes and clarifications

commit 8fd24959012bdadc7e7bafb59f6291257ef0da94
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Sun Mar 22 14:47:11 2015 -0700

    Rename to follow convention

commit 0d8990afd46b488cf47e2bd028d61429342500e4
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Sun Mar 22 05:50:24 2015 -0700

    Documentation improvements for 0.3

commit a2a205eb18b590c69d88a8fba0e951d96af2cf53
Author: root <root@daviddworken.com>
Date:   Sun Mar 22 02:30:25 2015 +0000

    Fixed PEP8 Encoding Errors

commit 16c512d469370ed45ed89e1423e876534331bf56
Author: Conor Schaefer <conor.schaefer@gmail.com>
Date:   Sat Mar 21 14:47:36 2015 -0400

    updates develop.md to recommend newest vagrant version
    
    reverts ee304e1e2262230e55db2d17f197be1b27edf4ec

commit 9b3a7aca742002738a2e3672c2662d2a9a67b325
Author: Conor Schaefer <conor.schaefer@gmail.com>
Date:   Sat Mar 21 14:17:31 2015 -0400

    disables dynamic SSH key insertion by vagrant

commit 0b4d6bd9e96d99ab929571fb9afc43140f0416da
Merge: 14c8761d d621d7cf
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Mar 21 10:23:13 2015 -0700

    Merge pull request #925 from ageis/sd-autostart
    
    Persistent torrc SecureDrop initialization without clicking launcher

commit d621d7cf78dd894b89879e56a5d5534e42c6f0df
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Fri Mar 20 18:23:45 2015 -0700

    Let's be fancy

commit 01fc1fbe719dca07765d860651211fe306cffcb6
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Fri Mar 20 17:22:41 2015 -0700

    Make torrc_additions clearer

commit 6c07c6bc1fea961786b71460478ebc0fb693ffba
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Fri Mar 20 13:52:04 2015 -0700

    Corresponding documentation update

commit 5706b46370739d9e6cf4f62b157b8ba922faf4c1
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Fri Mar 20 13:36:39 2015 -0700

    Persistent torrc SD init without clicking launcher

commit 14c8761de31311c471e7f0750bd6181432905c99
Author: James <james@freedom.press>
Date:   Tue Mar 17 10:36:08 2015 -0700

    Marked logo.png as conffile
    
    Renamed logo.png.example to logo.png and marked the file as a
    configuration file in the securedrop-app-code conffiles.
    
    Added the dpkg options to the cron-apt upgrade command in
    `/etc/cron-apt/action.d/5-security` to force keeping the old conffile if
    it was locally modifed while updating all other files that were not
    locally modified.
    
    For orgs that use a branded custom header image this will ensure that it
    doesn't get overwritten during security updates.
    
    Tested using a test apt repo with a 0.3.1 versioned securedrop-app-code
    that cron-apt update to.

commit 7bc680902a59977889b862fa93e0ca07892b28aa
Merge: 46802b9c 8505d8b0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Mar 19 15:09:37 2015 -0700

    Merge pull request #921 from dolanjs/deb-msg-wording
    
    Updated wording

commit 8505d8b0abe656dca63ef6313d583a00e515dd68
Author: James <james@freedom.press>
Date:   Thu Mar 19 14:52:08 2015 -0700

    Updated wording
    
    Updating the wording to reflect that the apparmor profiles are put in enforce mode by default when the deb package is installed. If the the ansible test role is ran, then ansible will put the profiles in complain mode.

commit 46802b9c18fac6f5589cb9f204b5738810db0ffc
Merge: 3fdffec9 ca3c2d6b
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Thu Mar 19 13:42:15 2015 -0700

    Merge pull request #920 from ageis/grsec-fix
    
    Fix to handle multiple grsec kernels

commit ca3c2d6b132c9950b73a89a0d176c93241c62ff4
Author: Kevin Gallagher <kevinmg@pressfreedomfoundation.org>
Date:   Thu Mar 19 11:41:28 2015 -0700

    Fix for multiple grsec kernels

commit 3fdffec9dfdcaada820e8aa901b0e5625c774097
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Wed Mar 18 16:25:20 2015 -0700

    Always boot into grsec kernel
    
    Fixes #913, closes #919 (rebased PR).

commit 7d93892e3397dadbd3c45279d47f2b6e89a1b210
Merge: 3b0f82d4 1319fad6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Mar 18 16:53:49 2015 -0700

    Merge pull request #918 from freedomofpress/no-empty-submissions
    
    Don't create empty submissions

commit 1319fad68bfbe8cdd82b4c143e5fb2efe20ac0b4
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Mar 18 16:27:19 2015 -0700

    Don't create empty submissions
    
    Prevents creating "empty" submissions (which are confusing and annoying
    to open due to the airgapped procedure), and instead flashes an error
    when the user attempts to click "Submit" without entering a message or
    choosing a file.
    
    Fixes #878.

commit 3b0f82d4f9a51da61c95a5c92962dc10c53e0923
Merge: 20d7af58 1a01c314
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Mar 18 16:13:17 2015 -0700

    Merge pull request #915 from dolanjs/remove-app-ip-from-alerts
    
    remove the app IP from ossec alerts

commit 20d7af58130e2c020cf974f64c8594810326740d
Merge: 3a0c7304 738a22db
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Mar 18 16:12:03 2015 -0700

    Merge pull request #916 from freedomofpress/cron-apt-autoremove
    
    Autoremove unused packages after upgrading

commit 1a01c314f3679c22db699a01ab079f2a796e283e
Author: James <james@freedom.press>
Date:   Wed Mar 18 15:44:34 2015 -0700

    added ?
    
    added ? so that it will match 0 or 1 spaces at end of generic IP address. Should provide better coverage for random emails sent to root@localhost

commit 3a0c7304bf11f4814b2aa88b386aa610f40a50d7
Merge: 04b4e3ec b6c0fd6e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Mar 18 15:15:59 2015 -0700

    Merge pull request #912 from dolanjs/move-grsec-sysctl-specific
    
    moved grsec specific sysctl flags

commit 738a22db6b501d23a998e657c7b5d7168dfe4ee1
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Mar 18 14:21:22 2015 -0700

    Autoremove unused packages after upgrading
    
    For SecureDrop, this is primarily useful because it avoids allowing too
    many kernels to be installed in `/boot`, which can lead to issues
    booting if the partition gets too full.
    
    Closes #914.

commit b5556353bf6bb4a6c43dee796ffad4b2b81ddd4c
Author: James <james@freedom.press>
Date:   Wed Mar 18 12:06:08 2015 -0700

    nit fix
    
    also removed the extra space that was after the IP address in the subject line.

commit a99a7611986cf1e76ec6465c9fda60f7059a6eeb
Author: James <james@freedom.press>
Date:   Wed Mar 18 10:58:24 2015 -0700

    changed to generic IP address matching
    
    changed the script that encrypts the alarms to strip out a generic match for an IP address.
    
    The following situations the subject line will still contain:
    
    Alert:
     * Agent Name
     * Alert Level
    
    Report:
     * Report Name
    
    Non-OSSEC mail sent to root@localhost:
     * The default minus whatever matches the generic IP address regex

commit b25cb5413363ca8187470d2c841839aa6194f209
Author: James <james@freedom.press>
Date:   Tue Mar 17 21:46:04 2015 -0700

    remove the app IP from ossec alerts
    
    The OSSEC alerts for the app server include the internal IP address (which is also published in our public install guide). This will strip out that specific IP address.

commit 04b4e3ec24204ccaced6702e5c6697bc10a3367d
Merge: 82aa5e7a 30f8ceca
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Mar 17 16:08:33 2015 -0700

    Merge pull request #910 from ageis/grsec-wait
    
    Increase grsec install timeout to 5min

commit b6c0fd6ea6ac2d7cae6fbe05362a202c1d781bf0
Author: James <james@freedom.press>
Date:   Tue Mar 17 13:09:45 2015 -0700

    moved grsec specific sysctl flags
    
    fixes issue #905.
    
    This moves the grsec specific sysctl flags to one role. This avoids an error if the grsec role is skipped. It also ensures that the grsec lock flag is the last flag set.

commit 30f8cecaf352fd49b579232a484e710f6d7db7c7
Author: Kevin Gallagher <kevinmg@pressfreedomfoundation.org>
Date:   Tue Mar 17 11:53:14 2015 -0700

    Increase grsec install timeout to 5min

commit 9f706820080db6eb5bd403224584b25e0134eea8
Merge: 5b40dd74 8fbf66d4
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Mar 17 11:05:29 2015 -0700

    Merge pull request #909 from dolanjs/move-upgrade-tasks-to-ansible
    
    Move upgrade tasks to ansible

commit 5b40dd743efc8627270193f9e309224e666d979e
Merge: 5260040d 9dc724a1
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Mar 17 11:05:05 2015 -0700

    Merge pull request #908 from dolanjs/deploy-0-3pre-upgrade-script
    
    added upgrade playbook.

commit 82aa5e7a77aac960dabd2c0140a1d12f1090caf4
Merge: 24707ef6 8a5f6396
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Mar 17 10:20:58 2015 -0700

    Merge pull request #907 from trevortimm/tails-doc-updates
    
    Bunch of documentation updates

commit 24707ef6f64ec56218a8ff96d45725eae763adc2
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Feb 27 12:55:50 2015 -0500

    Correctly format datetime attributes, fixes #882

commit 72f9ccd0de41c4e579c48c4bb9a275bf5160b9b9
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Feb 27 12:44:43 2015 -0500

    Set meta charset for all pages in base templates
    
    This is generally a good idea, even if we already set the default
    charset to utf-8 in the Apache configuration (`apache2.conf`).

commit 98cf49be9897e2b1bc223250ea8cd5087844598a
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Feb 27 12:43:52 2015 -0500

    Remove invalid autocomplete attributes, fixes #883

commit 049c9b4ddc731417a53067be8baf64c7f154ed11
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Feb 27 12:27:26 2015 -0500

    Remove unnecessary and invalid href attr on button. Fixes #884.

commit 8fbf66d4e35a20a6ec3de2f8e864514ac0240605
Author: James <james@freedom.press>
Date:   Mon Mar 16 19:37:07 2015 -0700

    moved tasks to ansible
    
    moved tasks related to deleting the old singing key and the old package names to ansible tasks. This has the advantage that ansible will handle most edge cases gracefully.
    
    The next time the playbook is run it will install the correct packages. This will help for sistuations in staging where someone is not running grsec.

commit 9dc724a14c8369789385f97afd4ea434100476f5
Author: James <james@freedom.press>
Date:   Mon Mar 16 18:10:44 2015 -0700

    added upgrade playbook.
    
    Added a playbook `upgrade.yml` that will perform all the tasks required to prep an install to for the next version of the release.
    
    To prep for an upgrade from a 0.3pre release to 0.3 run the following command
    
    'ansible-playbook -i inventory -u <username> --tags "0-3pre-upgrade" -K --sudo upgrade.yml

commit 8a5f6396bdf5c7365259a0311667d02cda23eca3
Author: Trevor Timm <trevor@freedom.press>
Date:   Mon Mar 16 17:30:04 2015 -0700

    clarified prod-specific.yml and SSH directions
    
    some of the SSH directions were unclear for someone not used to it, so I clarified a bit,
    
    Also changed some of the descriptions to make them more specific and match the OSSEC alerts page

commit 5ac93ba48a2a0f1e2ea81de1929ba1bb74781fa5
Author: Trevor Timm <trevor@freedom.press>
Date:   Mon Mar 16 13:02:49 2015 -0700

    more updates to Tails and SVS directions
    
    Added instructions for setting up persistent storage
    
    fixed some typos in the tails section
    
    on the SVS setup, clarified some of the language when creating the SVS keys
    
    added instructions for admin to connect to the Internet

commit 97f139ab5274e967e7930619d0f88364c07784ff
Author: Trevor Timm <trevor@freedom.press>
Date:   Mon Mar 16 13:01:05 2015 -0700

    fixed spacing

commit 2520e23b5f352b58598cf59347d81148a8ee33be
Author: Trevor Timm <trevor@freedom.press>
Date:   Mon Mar 16 13:00:05 2015 -0700

    cleared up some confusion in ubuntu directions
    
    spaced some things out, highlighted some things, and fixed a couple typos.

commit c1c7f7b0cb99e69eaa1b40effe73da3af288c2a9
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Mar 15 14:08:21 2015 -0700

    updated Tails section
    
    clarified you need four tails USBs, not three (one for long term offline storage)

commit 7d31d05f490de2a74fb0f5bfd982cf093af364f1
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Mar 15 13:59:48 2015 -0700

    clarifiying Tails shutdown
    
    James made the point that sometimes Tails doesn't re-boot when you click re-start so just made a note of that.

commit a0e4fdb107f5be846b2f28a5da460dce55cf7929
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Mar 15 13:51:58 2015 -0700

    save SSH password in password manager
    
    Put in  reminder to use KeePassX

commit 495395548f684af92714046ca03db72c3826c8bc
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Mar 15 13:49:40 2015 -0700

    save password in password manager
    
    Put in reminder to save Ubuntu password in admin password manager.

commit 004df6d278c2bf639a73cbfd0dbe4e958ba5a043
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Mar 15 13:46:30 2015 -0700

    updated terminology.md
    
    Broke this down into terminology and roles. Both of these things used to be on the front page but since that document was ridiculously long, I moved them here and people can read this before they begin. Also clarified what 'airgap' and 'sneakernet' mean, as suggested by @dolanjs

commit 3db8103428e9fb48ea917e79836c911cd7ecd774
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Mar 15 13:34:59 2015 -0700

    more nitpicks
    
    Changed the intro to make it a little more clear, also explained why we do all the HidServAuth stuff

commit a9ae4225de8ba775dad67d91d5962988737c245d
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Mar 15 13:26:54 2015 -0700

    clarifying language for Tails instructions
    
    I moved some of these instructions into the main install doc so that admins would not have to go back and forth and get confused.
    
    I added an intro so that it was clearer when and where in the process people should be reading this document. It can still use some improvement but this is better than it was.
    
    I also renamed it the install guide for admin and journalists and moved any SVS set up out of this documents to avoid critical errors.
    
    I also tried to clarify a few parts so that were unclear to a person who may not be familiar with Tails.

commit 3f202a3e469c9381b7d3e09f53a116b15b4acf24
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Mar 15 13:03:42 2015 -0700

    changed GPG language
    
    Previous version suggested the installer might have already created a GPG public key for securedrop when there was no opportunity to, so I clarified.

commit 8551e64358289ac7c9f733434c99f27e629c4b97
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Mar 15 12:52:26 2015 -0700

    more updates to Tails installer
    
    added a section about when to switch over to the admin Tails USB and setting up the password manger so that they are not switching back and forth between docs.

commit 1507e6d19b074b13d1d880d446384d8670843a7e
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Mar 15 12:39:16 2015 -0700

    more improvements to Tails part of the install docs and a bit more
    
    separated out some steps in creating tails USBs so it's easier to follow
    
    clarified some of the SSH directions so people don't get lost

commit 4448665491d317f94816d0a535b2997a67d9d88f
Author: Trevor Timm <trevor@freedom.press>
Date:   Fri Mar 13 18:10:44 2015 -0700

    bunch of updates to make tails guide flow easier and on same page
    
    changes can be seen on this trello card: https://trello.com/c/81bJkn49/80-improvements-to-sd-documentation

commit de77155d36f31067c7d407d4ea21dd63a555d000
Author: Trevor Timm <trevor@freedom.press>
Date:   Fri Mar 13 17:53:28 2015 -0700

    added more terms that used to be in install.md

commit 4507d2228100411f975045afcee7ce90b76a0e83
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Tue Mar 3 15:42:16 2015 -0800

    Clarify 2fa setup for the admin
    
    * Reminder to set up HidServAuth values in order to SSH.
    * Reminder to set up `google-authenticator` on *both* the App Server and
      the Monitor Server.
    
    Closes #900.

commit 02c196bf2148fd71667b0a306be64f1488437e1e
Author: Trevor Timm <trevor@freedom.press>
Date:   Fri Mar 13 17:32:46 2015 -0700

    put an anchor link at the end to return to the main guide

commit 5260040d7068d37600801501020b75998259152c
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Mar 13 15:08:57 2015 -0700

    Script to migrate 0.3pre -> 0.3 (tagged)
    
    See the README.md for more information. This script is intended to be
    used to migrate 0.3pre instances to the tagged version 0.3.
    
    This script may not yet be complete - there are still some issues with
    changes made by the Ansible playbooks between installs. I am not sure if
    this script is the best place to address those changes, or if we can use
    Ansible to do that.

commit 4de45007528aa58d2b291388b05d5266c0248a45
Author: Trevor Timm <trevor@freedom.press>
Date:   Fri Mar 13 14:57:09 2015 -0700

    create terminology.md
    
    Creating a separate file for the 'terminology' section so it's easier for people to access and refer back to instead of putting it at the front of install guide.

commit 854cc4c0838c58312640f2bcb53117f199de88df
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Mar 12 15:31:06 2015 -0700

    Update 0.2.1 -> 0.3 migration scripts
    
    This commit makes several improvements to the 0.2.1 migration scripts:
    
    * Sources that have no stored submissions or replies at the time of
      migration are not "forgotten". This was due to zip's inability to
      store empty directories, and necessitated the move to tar archives for
      the backup file format.
    * Better handle sources where we can't determine whether the source is
      pending or not. See comments in the code.
    * Move custom logo to the correct location for 0.3
    * Create database entries for replies (before, database entries for
      Submissions (!!) were being incorrectly created instead).
    * Simplify/clarify/clean up various sections of code

commit e8ac19845f755771c1f9984c92620cc7227507e3
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Mar 12 15:27:08 2015 -0700

    Fix documents count for migrated sources
    
    Prior to 0.3, documents were encrypted inside .zip files to maintain
    their original (albeit santizied) filenames, and also store them
    encrypted at rest on the server. This was changed to .gz files for
    technical reasons (the specific format is not important). Migrated
    sources have `doc.zip.gpg` suffixes for their document submissions prior
    to 0.3, and this code makes it so either documents submitted before 0.3
    or after 0.3 will be correctly counted.

commit ab00bc27e62e2fe1f6deaa4725fd4e9c1167cab0
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Mar 11 13:55:43 2015 -0700

    Remove redundant variable

commit 9d30f4e78db06a818ca1e85c4c63ad5efa2adc9b
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Mar 11 13:55:24 2015 -0700

    logo.png is used instead of securedrop.png in SecureDrop 0.3

commit 4121b996f4dea18787061e7e235a491235755c14
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Mar 11 13:54:45 2015 -0700

    Add newline between functions for PEP8

commit d094b333c0eaede0822b5437739c78d6d934448b
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Mar 10 19:09:00 2015 -0700

    Continue migration if optional Tor cert not found on 0.2.1 installation

commit 366c657b5f79b3dae510404ea5d6fed6adb0f6ca
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Tue Mar 3 16:55:20 2015 -0800

    Remove vulgar and possibly offensive words

commit cfca26ad081be3a810f15ea4fc5ea2405cf60f6e
Author: Kevin Gallagher <kevinmg@pressfreedomfoundation.org>
Date:   Wed Mar 4 21:58:35 2015 -0800

    SSL cert and security recommendations
    
    Closes #903.

commit c3a231214591a7d35f3fabc2aa8e4815fe12c3ab
Merge: 75051735 1df72bd2
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 25 19:05:12 2015 -0500

    Merge branch 'pr/891' into develop
    
    * pr/891:
      removed words from noun list

commit 1df72bd20d63c10cc5cab3372d0e7a96778280bf
Author: James <james@freedom.press>
Date:   Wed Feb 25 14:09:36 2015 -0800

    removed words from noun list
    
    removed some words that are or could be offensive by themselves or joined with a random adjective from noun list.

commit 7505173539c9ecefc92493c408637b53a7f2ccea
Merge: 50d33df7 eef396d5
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Feb 24 13:13:01 2015 -0500

    Merge branch 'pr-890' into develop
    
    * pr-890:
      add a pytest-pep8 configuration that currently does not produce pep8 failures
      fix lots of pep8 and other minor issues - only cosmetics, no functional change

commit eef396d57eec396b0e9eebee744732b3670563c9
Author: Thomas Waldmann <tw@waldmann-edv.de>
Date:   Tue Feb 24 18:04:36 2015 +0100

    add a pytest-pep8 configuration that currently does not produce pep8 failures
    
    the max line length value is rather high, it should be set to a lower value after agreeing on some.
    
    I personally think 80 is way to low (and outdated, we don't have vt80 terminals any more these days),
    but 160 is to high. I suggest to use 120 or 132.
    
    E402 is a matter of taste somehow, can be fixed or not IMHO.
    
    I didn't fix the migration scripts and install files yet, thus they are currently ignored so that they do not produce test failures.

commit cd6f4c3af6ca4a264b9cd192081af251b2b5db5f
Author: Thomas Waldmann <tw@waldmann-edv.de>
Date:   Tue Feb 24 18:00:16 2015 +0100

    fix lots of pep8 and other minor issues - only cosmetics, no functional change
    
    mostly whitespace related (indentation, too much/few whitespace)
    cases of x == False  ->  x is False
    not x == 0  ->  x != 0

commit 50d33df73c0311dc4ee58606189e587342686a26
Merge: 094d8634 d8f14825
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Feb 24 10:41:51 2015 -0500

    Merge branch 'pr-885' into develop
    
    * pr-885:
      html: use class center instead of inline style (which is forbidden)
      add mandatory alt attributes for images (fixes html5 validation errors)
      fix lots of typos, some in code
      fix typo in input element id (also fixes corresponding reference from label element)
      fix reference before assignment issues
      use triple double-quoted docstrings
      replace deprecated <center> tag
      remove superfluous semicolons
      fix html errors (typos, missing or superfluous closing tag)

commit d8f1482574756d73fac57c561a503fb4e620da2b
Author: Thomas Waldmann <tw@waldmann-edv.de>
Date:   Tue Feb 24 16:07:22 2015 +0100

    html: use class center instead of inline style (which is forbidden)

commit 094d86344fdd2831837e9078a7125479c273b4f9
Merge: 838e4aad 0d33ea0e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Feb 23 17:31:49 2015 -0500

    Merge pull request #881 from mapmeld/css_fixes
    
    Minor CSS and layout fixes. Fixes #875, fixes #876.

commit ad558e5a293445ec66f999c3ec06582982f73dd1
Author: Thomas Waldmann <tw@waldmann-edv.de>
Date:   Wed Feb 18 14:31:56 2015 +0100

    add mandatory alt attributes for images (fixes html5 validation errors)

commit c97a6638125e7b88bf79e830d7b17d6ff118f356
Author: Thomas Waldmann <tw@waldmann-edv.de>
Date:   Wed Feb 18 06:35:15 2015 +0100

    fix lots of typos, some in code

commit a71097d33b369187d2a6d0db8edab4b82ab3f090
Author: Thomas Waldmann <tw@waldmann-edv.de>
Date:   Wed Feb 18 05:47:23 2015 +0100

    fix typo in input element id (also fixes corresponding reference from label element)

commit 979cc45ecec242b8ebcae51f5cc15e4815c56e11
Author: Thomas Waldmann <tw@waldmann-edv.de>
Date:   Wed Feb 18 05:30:52 2015 +0100

    fix reference before assignment issues

commit 64839751b92c59dbae02c05a7389b688cb1601b5
Author: Thomas Waldmann <tw@waldmann-edv.de>
Date:   Wed Feb 18 05:15:10 2015 +0100

    use triple double-quoted docstrings

commit 1cc520b73156fb39fa214e9e4cb3a66e57ea65db
Author: Thomas Waldmann <tw@waldmann-edv.de>
Date:   Wed Feb 18 05:11:26 2015 +0100

    replace deprecated <center> tag

commit 1feb7763239680c20804c27984a29bb7afa5974d
Author: Thomas Waldmann <tw@waldmann-edv.de>
Date:   Wed Feb 18 05:08:50 2015 +0100

    remove superfluous semicolons

commit 793e8ba79483d448e3d977b2d74f734da2db8dbf
Author: Thomas Waldmann <tw@waldmann-edv.de>
Date:   Wed Feb 18 05:00:02 2015 +0100

    fix html errors (typos, missing or superfluous closing tag)

commit 0d33ea0e52709b9b498bf012bd1501e8fa1f11ab
Author: Nick Doiron <ndoiron@mapmeld.com>
Date:   Sat Feb 14 14:43:56 2015 +0000

    Contain codename generate button inside the codename div [Fixes #876]

commit c73ccf6a22810df8bd2086f6fb4c071d87d41107
Author: Nick Doiron <ndoiron@mapmeld.com>
Date:   Sat Feb 14 14:38:00 2015 +0000

    Match <div> and </div> in journalist index [Fixes #875]

commit 838e4aad21355251ccd2fb1c036e72f76d49c46f
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Feb 12 03:36:14 2015 +0000

    Upgrade deb package metadata for 0.3 release

commit ab73ee1d4c340b764dd7165aece439b381e10e52
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 11 19:35:03 2015 -0800

    Update changelog for 0.3

commit 08d7dfb297e92a5cc476286c1be63cfa6e9e3396
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 11 19:32:43 2015 -0800

    Final fix to avoid apparmor errors for `/var/www/.gnupg`
    
    Allow the top-level `/var/www/.gnupg` directory to be created, in
    addition to the subdirectories allowed by
    c6fee9c298c29692237243b25753c323053eaba4

commit c8a18fab162d04166fe1789f0ca8aebca68f5450
Merge: 3ae04404 fb392634
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Feb 11 19:28:48 2015 -0800

    Merge pull request #872 from ageis/ossec-iptables
    
    Add note about iptables outbound SMTP rule

commit 3ae044045234b96e2bc3640b3272b8170aeecc0f
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 11 17:56:30 2015 -0800

    Use the Freedom of the Press Foundation master signing key

commit b5ecb1e6407e6cbc42fd58d38d0367e90574804f
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 11 16:15:48 2015 -0800

    Fix bugs in Admin Interface Edit User page
    
    There were two bugs:
    
    1. No `user_id` was supplied for `url_for`, which led to a 500 on the
       redirect.
    2. The `is_admin` value for the user was extracted from the form, but
       was not updated on the user object. This meant that it was impossible
       to change a user's admin status via the "Edit User" form.

commit fc99f8f5a129bf812262ade6293f8ebb4b122c0f
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 11 16:13:32 2015 -0800

    Use already-extant CSS classes for some Admin Interface notifications
    
    There appear to have been some notification classes in the Admin
    Interface that were intended to be used to indicate specific error
    conditions, but these classes were never defined in CSS. Since all of
    the conditions are error conditions, it is fine to just use the
    exisiting "error" notification class for all of them.

commit c6fee9c298c29692237243b25753c323053eaba4
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 11 16:09:56 2015 -0800

    Prevent apparmor errors on `/var/www/.gnupg`
    
    It appears this issue was not completely fixed by
    439a05bf4bc8d0d3b28bc5bb95a39d024b4b6609, as I had hoped, although the
    incidence appears to have been reduced. We do not have time to
    investigate the cause of this error now, so I am whitelisting the
    directories that gpg-agent creates for now. Otherwise, this creates a
    lot of logging noise (every time there is a server restart or a
    submission).

commit d3124cbada87739aa7fb746acfa96b670a6872b0
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 11 16:06:11 2015 -0800

    Don't log grsec denying rwxmap
    
    This feature creates quite a lot of log noise. While it is worth
    investigating more in depth, it does not appear to cause any breakage.
    There are measures in grsec to deny these allocations and return a
    useful error code to the application, and no breakage has been observed.
    These messages are useful for auditing applications that make
    potentially risky memory allocations, but are not useful in the
    day-to-day operation of a production instance and create a lot of
    logging noise. These messages are surpressed via the kernel flag until
    we can investigate them further and see if there are any clear cases in
    which we would want to have this logging.
    
    Docs: https://en.wikibooks.org/wiki/Grsecurity/Appendix/Grsecurity_and_PaX_Configuration_Options#Denied_RWX_mmap.2Fmprotect_logging

commit 9083cb1d95e862d50801a26dd406f6c93e889f2a
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 11 13:08:03 2015 -0800

    Revert "Merge pull request #871 from dolanjs/ossec-whitelist"
    
    This reverts commit 9cdab36837b6ba045fb0bbed18c795c2644b87a3, reversing
    changes made to 4970ad4c3d7853c5b7d9812df1142d070148102c.

commit fb392634dad17e4ce4f36aa2e019c605991a36c3
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Wed Feb 11 11:44:28 2015 -0800

    Add note about iptables outbound SMTP rule

commit 3d97ff749f2f9ece577097cd25747808eaca7b89
Merge: 9cdab368 59102529
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Feb 10 19:13:03 2015 -0800

    Merge pull request #869 from freedomofpress/last-minute-tweaks
    
    Last minute tweaks

commit 9cdab36837b6ba045fb0bbed18c795c2644b87a3
Merge: 4970ad4c 7d37de87
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Feb 10 19:09:13 2015 -0800

    Merge pull request #871 from dolanjs/ossec-whitelist
    
    whitelisted grsec Denied RWX mmap

commit 5910252982bda43f5d8f1dba076ac7f701ef119f
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Feb 10 19:07:34 2015 -0800

    Add missing AppArmor rule for template

commit 7d37de87a4de14c6e201d1ab182144333651a183
Author: James <james@freedom.press>
Date:   Tue Feb 10 18:15:30 2015 -0800

    whitelisted grsec Denied RWX mmap
    
    Whitelisted the following grsec so it does not send an OSSEC email alert.
    
    ```
    Rule: 100101 fired (level 7) -> "grsec error was detected"
    Portion of the log(s):
    
    Feb 10 23:34:40 app-prod kernel: [  124.188641] grsec: denied RWX mmap of <anonymous mapping> by /usr/sbin/apache2[apache2:1328] uid/euid:33/33 gid/egid:33/33, parent /usr/sbin/apache2[apache2:1309] uid/euid:0/0 gid/egid:0/0
    ```
    
    It is generated by [ this ](https://en.wikibooks.org/wiki/Grsecurity/Appendix/Grsecurity_and_PaX_Configuration_Options#Denied_RWX_mmap.2Fmprotect_logging) grsec option.
    
    Talked about this with @garrett and figured it was better to know when it occured for reactive troubleshooting and just not alert on it rather than just disable the action from being logged in the grsec kernel.

commit 99ba25243bdb119dbcb8769c7d6d6c4099024e18
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Feb 10 17:48:32 2015 -0800

    Hack to get around python-gnupg falling over when `$HOME` is not set in a worker process

commit d51ccce75ec5f6e4a6c29fe69d94f09f2b88447f
Merge: 0e9c4647 4970ad4c
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Feb 10 15:04:01 2015 -0800

    Merge branch 'develop' into last-minute-tweaks

commit 4970ad4c3d7853c5b7d9812df1142d070148102c
Merge: 14f5cb41 f68e4df6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Feb 10 15:02:11 2015 -0800

    Merge pull request #870 from dolanjs/fix-prod-vm-names
    
    normalize VM names

commit f68e4df64e36ac2b963e4492de98575c407429c7
Author: James <james@freedom.press>
Date:   Tue Feb 10 14:52:05 2015 -0800

    normalize VM names
    
    The prod VM names defined in the Vagrantfile did not match the format of the other environements and did not match the hosts entries in the prod playbook.

commit 0e9c4647ed7a2381ba9ec1e6f9c217ebc05210ed
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Feb 10 11:52:06 2015 -0800

    Fix unit tests due to changes in reply storage

commit 83d2329b77eff5e05f24737cc8778cedc58fa560
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Feb 10 10:38:39 2015 -0800

    Fix lag in updating UI after deleting replies
    
    Since the changes in f9969001 simplified and reduced the number of steps
    in the submission deletion flow, it exposed a previously hidden problem
    with deleting replies. Submissions and replies are both securely deleted
    with `srm` to reduce the possibility of forensic recovery. `srm` is run
    asynchronously via a job queue, since it can take a long time to run
    (especially for large files).
    
    Since Submissions were recorded in the database, we used that to
    determine if they had been deleted. The files might still be on the
    disk, but they would be in the job queue either being deleted or waiting
    to be deleted. Replies never had a database table, so we previously
    tested for whether they'd been deleted by checking for their presence on
    the filesystem. This assumption is rendered invalid by the async job
    queue, and the problem was made readily visible by the reduced wasted
    time in the new and improved deletion UX flow. Now it is possible for a
    user to select multiple documents and delete them, only to see the
    replies still in the list upon being automatically redirected to the
    collection page. Waiting and then refreshing will cause the replies to
    disappear, showing that they had been scheduled for deletion but had not
    yet been deleted when the collection list was refreshed.
    
    The best solution to this problem was to add a similar table for Replies
    to the database. This has the benefit of simplifying a lot of code,
    which previously handled replies and submissions differently and can now
    handle it identically or at least similarly. It may also be beneficial
    in the future, as it is now easier to attach metadata to replies and
    build more sophisticated data relations between them and other entities
    in the system.

commit 0de7c2c086df19b8e9527342b219bf7b390c5754
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Feb 10 10:36:59 2015 -0800

    Remove unused return value
    
    `subprocess.check_call` will raise `CalledProcessException` if the
    subprocess exits with non-zero, so we do not need to return the value.
    It is also not used anywhere else in the code.

commit 7cdbf0c989109c089c758d28b68f5f1925ebf388
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Feb 10 10:36:23 2015 -0800

    Increase job timeout for securely deleting files

commit e2c5d05a28fb78b533cdcb0e8c4c9d250ce0a1c7
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Feb 10 10:35:06 2015 -0800

    Fix doc counts on index page

commit 977de38b1180e2d2ff8b8fa5ad5715215bed3395
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Feb 9 18:42:12 2015 -0800

    Better provisioning URI's for Google Authenticator

commit f9969001577e1eb878a42978854f432eaab5910c
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Feb 9 17:51:38 2015 -0800

    Improve submission deletion flow
    
    Since submission deletion is a destructive action, we want to confirm it before
    carrying it out. The original flow was cumbersome and required three
    separate steps for each set of documents deleted:
    
    1. Click delete
    2. Confirm that the files you selected are the ones you want to delete
       on `delete.html`
    3. See a confirmation on a separate page (!!) with a link that, when
       clicked, takes you back to the collection you started with.
    
    This commit adds a new Javascript-based flow that uses a pop-up alert to
    confirm deletion. The original flow, which did not use any
    Javascript, has been left in in case the journalist's browser has JS
    disabled, and has been improved by replace the 3rd step in the list
    above with a redirect back to the original collection accompanied by a
    flashed notification.
    
    Choosing between these flows is handled automatically in `journalist.js`
    (progressive enhancement).

commit 60b2fc935619482d91fb58ab43302309139ce083
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Feb 9 15:58:36 2015 -0800

    Increase CSRF token time limit to 24h
    
    The default timeout is 1h. Large uploads can take > 1h over Tor. It
    would be incredibly frustrating to wait 1h+ for a large upload to
    complete over Tor, only to have the upload rejected because the CSRF
    token had expired while the upload was in progress.
    
    24h was chosen arbitrarily, and may need to be tuned in the future based
    on further testing of large uploads over Tor.

commit d0f3737d010604e65c907217fa67aa500b4ef609
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Feb 9 13:47:35 2015 -0800

    Use journalist designation in reply filenames

commit a7a22d830c33cb5be32a9d17aa34a53e218c388d
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Feb 9 13:47:12 2015 -0800

    Source.journalist_filename is a perfect candidate for @property

commit e195f76e17fc703077289f9428d4a8d66fd8e8c9
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Feb 6 14:13:43 2015 -0800

    Replace reply confirmation page with flashed notification
    
    Previously, when a journalist submitted a reply to a source on the
    Document Interface, they would see a confirmation page that:
    
    1. Confirmed that the reply had been stored
    2. Explained that the reply:
       1. would show up in the list of documents
       2. might eventually be deleted by the source, which could be
          indicative that it was read (although that is a bit fuzzy).
    
    The journalist then had to click the "Return to the list of documents
    for foobar..." link to return to the list of documents.
    
    This extra step to the workflow quickly got annoying. I replaced the
    reply confirmation page with a flashed notification confirming that the
    reply was stored, and a redirect back to the page for the source that
    was replied to.
    
    Moved the explanation of reply/source interaction to the Journalist
    User Manual and deleted the screenshot of the removed `reply.html` page.

commit 14f5cb41dff70cf8419bb975fbc6ebcb1b3dac24
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Feb 9 13:24:51 2015 -0800

    Fix password field on admin interface Edit User page

commit ea2b1ff818130cfb2f42da5f6f6b56bc897de196
Merge: 6a14dda7 cfff1159
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Feb 9 13:14:03 2015 -0800

    Merge pull request #863 from dolanjs/apparmor-fixes
    
    apparmor updates

commit 6a14dda785abe90f91a32fffc78e6b7363eaa090
Merge: 177f86c4 2d885457
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Feb 8 17:58:21 2015 -0800

    Merge pull request #868 from freedomofpress/get-rid-of-useless-gpg-logging
    
    Get rid of useless gpg logging

commit 2d8854576bd93c20e9f10d6e43dbce70423bc240
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Feb 8 17:40:53 2015 -0800

    Hack to silence warnings about the deprecated --no-use-agent option

commit 439a05bf4bc8d0d3b28bc5bb95a39d024b4b6609
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Feb 8 17:27:04 2015 -0800

    Remove unnecessary check for gpg2 vs gpg
    
    Now that we use Ansible and control the package dependencies via Debian
    packaging, it's not possible to install SecureDrop without also
    installing gpg2. Therefore, this test is no longer needed.
    
    In addition, the response to not finding gpg2 was questionable (not sure
    how the WSGI/web server would react to the assertion). This is also a
    bad separation of concerns - dependency management should be separate
    from the application code as much as possible.
    
    Additionally, the initial call out to the gpg binary to check the
    version was temporarily creating a key directory in `/var/www/.gnupg`,
    which caused AppArmor errors. Since the version check isn't needed
    anyway, the easiest way to fix this error is just to remove the check.

commit cfff1159c6c2953062acd4dd7902123e88e2349b
Merge: 5fd7ffe9 177f86c4
Author: James <james@freedom.press>
Date:   Sun Feb 8 16:38:03 2015 -0800

    Merge branch 'develop' into apparmor-fixes

commit 177f86c411f76d3332783453c2befee99856f3fd
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Feb 8 16:29:58 2015 -0800

    Remove ossec-server Debian package
    
    This package has been moved to a dedicated git repository:
    https://github.com/freedomofpress/ossec

commit 90e42f60570fbcf88faad162eb26b23677cd61b4
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Feb 8 16:29:03 2015 -0800

    Remove obsolete reference to securedrop-grsec package

commit 674aad45ef9090275d085bfd1759aa625659c850
Merge: 0d9c06ac 7f7836c2
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Feb 8 16:28:25 2015 -0800

    Merge branch 'pkg-reorg' of https://github.com/dolanjs/securedrop into dolanjs-pkg-reorg
    
    Conflicts:
            build/build_generic_package.sh
            install_files/ansible-base/build-deb-pkgs.yml

commit 0d9c06ac78a465e9bc1c18d7933669a3b0241acf
Merge: 315a4bbb 3d5ae50c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Feb 8 16:13:13 2015 -0800

    Merge pull request #866 from freedomofpress/remove-securedrop-grsec
    
    Remove securedrop-grsec

commit 7f7836c2d53727adb0d2b53685e32369ebc7beee
Author: James <james@freedom.press>
Date:   Sun Feb 8 12:25:31 2015 -0800

    re-add var ossec_group
    
    re-added var ossec_group to securedrop group vars.
    
    It is used to set permission for the ossec gpg keyring used by procmail to encrypt the alerts.

commit 98ed11da7688096ef32e20039199ee2e2b3b70c4
Author: James <james@freedom.press>
Date:   Sun Feb 8 11:42:23 2015 -0800

    remove ossec-server and ossec-agent builds
    
    The ossec-server and ossec-agent deb package build process has been moved to https://github.com/freedomofpress/ossec
    
    Removing that role and playbook entries from this repo.

commit 1469b6116a6f9e244ad96d26a6a00c53816d2763
Merge: 1b55e4dd 315a4bbb
Author: James <james@freedom.press>
Date:   Sun Feb 8 11:32:42 2015 -0800

    Merge branch 'develop' into pkg-reorg

commit 3d5ae50c13de91fc4c4c68884c0bc48498bf5265
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sat Feb 7 18:06:22 2015 -0800

    Remove securedrop-grsec
    
    This commit removes everything related to building an Ubuntu kernel with
    grsecurity for SecureDrop and the build scripts for the securedrop-grsec
    kernel metapackage. This material has been moved to a separate,
    dedicated git repository: https://github.com/freedomofpress/grsec

commit 1b55e4dd4adfd31d2c6bd6ffdb0ded3b81a820bf
Author: James <james@freedom.press>
Date:   Sat Feb 7 11:46:00 2015 -0800

    cleanup securedrop-ossec-* pkgs
    
    still need to add the conffile to define the 3 new config files for both agent and server configs

commit 8cb74638f04933340007f8d9c13e2bc2cb35e8ba
Author: James <james@freedom.press>
Date:   Sat Feb 7 10:44:36 2015 -0800

    Package re-org
    
    Packages in SecureDrop Repo:
    Packages based on SD version:
      `securedrop-app-code` version: 0.3
    
    Packages tracking both SD and upstream:
      `securedrop-ossec-server` version: 2.8.1+0.3
      `securedrop-ossec-agent` version: 2.8.1+0.3
    
    Packages not in SecureDrop Repo:
    Grsec:
      `grsec-metapackage` version: CURRENT_GRSEC_VERSION
    
    OSSEC:
      `ossec-server` version: 2.8.1
      `ossec-agent`  version: 2.8.1
    
    The grsec metapackage build script was modified to build the grsec metapackage and the securedrop-ossec-server and securedrop-ossec-agent packages
    
    The securedrop-specific configs for the ossec-server and ossec-agent packages were removed from the build process since those are part of the respective securedrop-ossec-* packages

commit 5fd7ffe9398fa91dc6ce3c89499e1b30b6af1f35
Author: James <james@freedom.press>
Date:   Fri Feb 6 16:41:22 2015 -0800

    clean up
    
    removed un needed decoder
    
    re-arranged the parent rule for all of the ones based on the horrible default iptables decoder.
    
    restricted the whitelist for gpg warning events to match the no-use-agent obsolete warning.

commit 315a4bbb52a28269ea91d83b7d09d0129bc6df84
Merge: bb6995c9 eadce5a5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Feb 6 15:56:17 2015 -0800

    Merge pull request #865 from ageis/kexalgos
    
    Limit SSH key exchange algorithms to highly secure subset. Closes #857.

commit cd3a7a17b9be61ee2a37f2c0176b26235d6c41fe
Author: James <james@freedom.press>
Date:   Fri Feb 6 13:51:50 2015 -0800

    when I copied the ossec-* folders back over wrote the wrong files.
    
    added the correct `Replaces` back to the control files

commit fc7d4ca9768167ff9e21db612b169f49aec667e0
Author: James <james@freedom.press>
Date:   Fri Feb 6 13:46:49 2015 -0800

    updated correct version for securedrop specific packages

commit 9556d073f017d72d77cf50aebbe39f6c144b2648
Author: James <james@freedom.press>
Date:   Fri Feb 6 13:42:56 2015 -0800

    separate ossec-server and securedrop-ossec-server
    separate ossec-agent and securedrop-ossec-agent

commit bb6995c9a839b1450cdef746a1d8d3ce5aa42a97
Merge: 7ed392af cbfe7989
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Feb 6 13:07:44 2015 -0800

    Merge pull request #864 from ageis/remove-rc4
    
    Remove RC4 from deployment best practices

commit b8d18fd1d581323e45ffdb46958e5224ec3c1c17
Author: James <james@freedom.press>
Date:   Fri Feb 6 12:54:56 2015 -0800

    added comment
    
    per @garrett comment

commit 33900d7ed6746be465d170f7c45adab6b8042fbd
Merge: 0d132453 7ed392af
Author: James <james@freedom.press>
Date:   Fri Feb 6 12:03:50 2015 -0800

    Merge branch 'develop' into apparmor-fixes

commit 0d13245354a6510a7f4e9d18f37e96f54582e948
Author: James <james@freedom.press>
Date:   Fri Feb 6 12:00:46 2015 -0800

    apparmor entries for 862
    
    added the apparmor entries required for pr #862

commit eadce5a52ed7cdd6aaf1fcf0edc9fbb48f32ba76
Author: Kevin Gallagher <kevinmg@pressfreedomfoundation.org>
Date:   Fri Feb 6 11:59:58 2015 -0800

    Limit sshd key exchange algorithms

commit 7ed392affca522340df4a1c2d2dfb12c0eea9610
Merge: feabdb29 58e21cf4
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Feb 6 11:57:38 2015 -0800

    Merge pull request #862 from freedomofpress/request-that-secures-file-uploads
    
    Request that secures file uploads

commit cbfe7989040b455adbbd1732b1448be1f63bf4fc
Author: Kevin Gallagher <kevinmg@pressfreedomfoundation.org>
Date:   Fri Feb 6 11:46:50 2015 -0800

    Remove RC4 from deployment guide

commit 2745d4c120e7653f6606dbc286980fa392a49392
Author: James <james@freedom.press>
Date:   Fri Feb 6 10:46:29 2015 -0800

    grsec OSSEC events
    
    added a OSSEC decoder for grsec events
    
    all grsec events but whitelisted events will be alerted on.
    
    the grsec notification for time being sent is not alerted on.

commit 58e21cf40eb3df68b7b63ed2f0609345ee30cf3e
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 4 15:09:53 2015 -0800

    Use binary formatting for file sizes in Document Interface

commit f98a4903f3c75fa6c416376d651074df6243cfd0
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 4 18:04:45 2015 -0800

    Fix unit tests for change from .zip -> .gz

commit 88f6ea9b304232a2f55ac2ca09ae3b414660c73f
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 4 15:10:20 2015 -0800

    Use gzip instead of zipfile for uploaded files

commit aa0ebe55ae5804f4f324a83de64e0879228261bd
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 4 12:41:02 2015 -0800

    Use SecureTemporaryFile for Source Interface requests

commit aca449d9b4fc102f6d8cd532ec529db8ea0f2e3f
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Jan 30 16:13:14 2015 -0800

    Add SecureTemporaryFile class
    
    This class is intended to be used to safely buffer uploads (which may
    contain submission plaintext) to disk.

commit 4b195cb33e6027eaca5dcf953ac5a569ed1facb1
Author: James <james@freedom.press>
Date:   Thu Feb 5 13:41:14 2015 -0800

    added comments
    
    cleaned up decoder order and the required exemptions.

commit b6fcd8a51d3d77c85e9e939ad4eed8a8cce10537
Author: James <james@freedom.press>
Date:   Wed Feb 4 12:47:12 2015 -0800

    apparmor updates
    
    changed default mode for apparmor tor and apache2 profiles to enforce, but the ansible staging playbook will put the profiles in complain mode unless the skip tag `aa-complain` is skipped.
    
    added the needed entries for the document interface and other parts of the web application to function.
    
    added ossec decoders and rules to reduce alerts being sent for false positives.

commit feabdb29527a8d5b29ddbca6a8d07a13fd69fb6c
Merge: 3cccbda4 0ea48bca
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Jan 30 16:04:03 2015 -0800

    Merge pull request #855 from freedomofpress/test-securedrop-app-code-upgrades
    
    Test securedrop app code upgrades

commit 3cccbda467652a0bbf7125ea51fbe0d6ede988b2
Merge: 1f2650bb 3f062c94
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Jan 30 16:03:38 2015 -0800

    Merge pull request #859 from dolanjs/cron-apt-syslog
    
    changed cron-apt log to syslog format

commit 0ea48bcaf5a75ce81fda650973b61263c56df1c5
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Jan 30 14:15:34 2015 -0800

    Rearrange code related to `dch` for clarity

commit e88c8749d20f2976bbefb7ed00f32c34945a56a2
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Jan 30 14:14:08 2015 -0800

    Use $VENV consistently throughout

commit 3f062c9462696ab86df6cc83adc5a14c002c9796
Author: James <james@freedom.press>
Date:   Fri Jan 30 13:01:17 2015 -0800

    changed cron-apt log to syslog format
    
    changed the cron-apt log to log to the syslog log file in syslog log format
    
    ```
    Jan 30 20:54:42 mon-staging cron-apt: CRON-APT RUN [/etc/cron-apt/config]: Fri Jan 30 20:54:34 UTC 2015
    Jan 30 20:54:42 mon-staging cron-apt: CRON-APT ACTION: 0-update
    Jan 30 20:54:42 mon-staging cron-apt: CRON-APT LINE: /usr/bin/apt-get -o quiet=1 update -o quiet=2 -o Dir::Etc::SourceList=/etc/apt/security.list
    ```
    
    Cron-apt warnings have the following format with a `W:` while errors have a `E:`
    
    ```
    Jan 30 20:54:42 mon-staging cron-apt: W: Duplicate sources.list entry https://apt.freedom.press/ trusty/main amd64 Packages (/var/lib/apt/lists/apt.freedom.press_dists_trusty_main_binary-amd64_Packages)
    Jan 30 20:54:42 mon-staging cron-apt: W: Duplicate sources.list entry http://deb.torproject.org/torproject.org/ trusty/main amd64 Packages (/var/lib/apt/lists/deb.torproject.org_torproject.org_dists_trusty_main_binary-amd64_Packages)
    Jan 30 20:54:42 mon-staging cron-apt: W: You may want to run apt-get update to correct these problems
    ```
    
    An OSSEC decoder to look for `cron-apt` and then either a `E:` or `W:` respectively in `var/ossec/etc/local_decoder.xml`
    
    An OSSEC rule that sets the priority of the decoded warning or error events to a sevirity level 7, since that is the min for OSSEC to send an alert. The options to send these alerts without delay or not grouped in the ossec.conf was not choosen since one cron-apt run will generate multiple error or warning events per run.
    
    Spacing and an old ref to a chroot'd log files and the old cron-apt log file were fixed in the ossec.conf files.

commit 9868f3a7a3d39e63748ed8e4305bdf0a8d07918c
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Jan 28 17:26:50 2015 -0800

    Updated Python dependencies using pip_update.sh

commit 04ce3f0029b80ebf37854a01bc4d4eb39f7aa080
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Jan 28 16:52:40 2015 -0800

    Fix Python requirements upgrade script

commit eb9a4d95c1009527e06b68428d8dfe0629e33000
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Jan 28 12:53:15 2015 -0800

    Set distribution when editing the changelog
    
    The default distribution value, `UNRELEASED`, only makes sense if you
    are engaging with the mainline Debian packaging process. For our
    purposes, every time we run this script we are doing a release.
    
    It is set to trusty, which is currently the only distribution that we
    support.

commit f9e18c0d8c2028119e195c69a75c58c7cdfed68a
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Jan 28 12:52:37 2015 -0800

    Set default env vars for Changelog author metadata

commit db4cf69bb76ba2e14c522a4f2b4466c59abb4439
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Jan 28 12:52:14 2015 -0800

    Properly check for git in addition to dch

commit edc1208093d7b7463e2dcd2f587d2d28c890630e
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Jan 28 11:39:20 2015 -0800

    `sudo su` before compiling the kernel
    
    Since `make-kpkg` apparently requires root, we previously ran it with
    sudo. We also recommended setting the `CONCURRENCY_LEVEL` environment
    variable to use multiple cores in order to speed up the (very
    time-consuming) kernel build. However, sudo does not inherit environment
    variables by default (this is a security feature, see the man page), so
    following this documentation resulted in always building the kernel with
    a single core.
    
    This change recommends `sudo su`ing to root before setting the
    environment variable and building the kernel. When tested, this change
    led to the kernel build successfully utilizing all available cores.

commit 6730f5de14883696942f75ed0f706493bc80083b
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 27 12:05:33 2015 -0800

    Changed sed invocations for Debian/Ubuntu
    
    Now that we are running this script on Debian/Ubuntu, we need to change
    the syntax used with the -i flag from the previous "Mac OS X sed" syntax.

commit efbbefe7bc76dcfb7422d4b0fbae82d5f2d16905
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 27 12:04:16 2015 -0800

    Check for dch and git requirements
    
    Now that we are using dch to edit the Debian package configuration file,
    the implication is that `update_version.sh` must be run from a
    Debian/Ubuntu environment such as the build VM.
    
    This line checks for dch and, if it is not found, exits with an error
    message describing how to install the required dependencies.

commit 7ea78f652578b3ba923e99a23a06acb3a52fdf29
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 27 12:03:49 2015 -0800

    Edit Debian changelong with dch using -c flag

commit 948ef9a9c05961dde7db44f82749933a5ba29ed9
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 27 10:24:53 2015 -0800

    Script to automate much of updating securedrop-app-code

commit bc354b5448c6c5b6ef691ab0dbf31b7ec234051b
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 27 09:51:16 2015 -0800

    Add variable for securedrop-app-code package version

commit 1f2650bb44974a6c355e8110f46e90a296f645cb
Merge: b88120a0 f78ffcc6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Jan 28 14:53:28 2015 -0800

    Merge pull request #854 from freedomofpress/avoid-cron-apt-warning-about-duplicate-source-lists
    
    Avoid cron-apt warning about multiple source lists

commit f78ffcc66008465ba27989d4c16a4a7d15c0decb
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Jan 28 14:27:47 2015 -0800

    Avoid cron-apt warning about multiple source lists
    
    Make sure the *only* list that is being checked for updates is
    `security.list` by explictily telling cron-apt to ignore source lists in
    `/etc/apt/sources.list.d`, which is defined by the configuration
    variable `Dir::Etc::SourceParts`. See the man page for details.

commit b88120a02acd07e0691c35691dd083ad35718307
Merge: e577b281 f573cf5d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Jan 26 16:23:03 2015 -0800

    Merge pull request #850 from freedomofpress/apt-repo-url-variable
    
    Use a variable for the FPF package repo URL

commit f573cf5defcfc7e59beeb6a695efd8b11b337871
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Jan 26 16:12:45 2015 -0800

    Use a variable for the FPF package repo URL
    
    This makes it easier to change the URL for testing purposes.
    
    It is also DRY.

commit e577b2811c3157a8f29b53d872369333d23873bd
Merge: 7acf1a87 7f9407c8
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Jan 26 16:19:21 2015 -0800

    Merge pull request #849 from dolanjs/apt-get-fix-install
    
    add -y to apt-get install

commit 7f9407c881653f8619734ff6bdf6e87052cf2b63
Author: James <james@freedom.press>
Date:   Mon Jan 26 15:51:05 2015 -0800

    add -y to apt-get install
    
    add -y to the ansible shell command for `apt-get -f install`

commit 7acf1a8775481d656cb4e91921c68570b31c0cad
Merge: bd4daaab b31019c9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Jan 26 15:05:27 2015 -0800

    Merge pull request #847 from dolanjs/merge-app-mon-build-vm
    
    Merge app mon build vm, closes #843

commit b31019c98e32fec6528e44b052bf18e29b688208
Author: James <james@freedom.press>
Date:   Mon Jan 26 14:47:48 2015 -0800

    as a temp work around replaced using the ansible apt module to install the local deb packages, to using the shell module and dpkg -i and apt-get -f install to install the packages.

commit 79d369bd18d8c7c77fd74aee666bb948c7574035
Author: James <james@freedom.press>
Date:   Mon Jan 26 12:31:06 2015 -0800

    Commented out ossec agent deb pkg
    
    Commented out the ossec agent deb package in the app servers host vars `install_files/ansible-base/host_vars/app.yml` to avoid an error.
    
    When local_deb_packages is set to:
    
    `install_files/ansible-base/host_vars/app.yml`
    
    ```
    local_deb_packages:
      - securedrop-app-code-0.3-amd64.deb
      - securedrop-ossec-agent-2.8.1-amd64.deb
    ```
    
    `install_files/ansible-base/roles/install_local_pkgs/tasks/main.yml `
    
    ```
    - name: if defined install local deb packages
      apt: deb="/root/{{ item }}"
      with_items: local_deb_packages
    ```
    
    I get the following error:
    
    ```
    changed: [app-staging] => (item=securedrop-ossec-agent-2.8.1-amd64.deb) => {"changed": true, "dest": "/root/securedrop-ossec-agent-2.8.1-amd64.deb", "gid": 0, "group": "root", "item": "securedrop-ossec-agent-2.8.1-amd64.deb", "md5sum": "1cee8c780b4e37986ebb77d288a6e1fe", "mode": "0644", "owner": "root", "size": 446872, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1422303994.46-46385956698306/source", "state": "file", "uid": 0}
    
    TASK: [install_local_pkgs | if defined install local deb packages] ************
    <127.0.0.1> ESTABLISH CONNECTION FOR USER: vagrant
    <127.0.0.1> REMOTE_MODULE apt deb="/root/securedrop-app-code-0.3-amd64.deb,securedrop-ossec-agent-2.8.1-amd64.deb"
    <127.0.0.1> EXEC ['ssh', '-C', '-q', '-o', 'ControlMaster=auto', '-o', 'ControlPersist=600s', '-o', 'ConnectTimeout=60', '-o', 'ControlPath=/home/dolo/.ansible/cp/ansible-ssh-%h-%p-%r', '-o', 'StrictHostKeyChecking=no', '-o', 'Port=2200', '-o', 'IdentityFile="/home/dolo/.vagrant.d/insecure_private_key"', '-o', 'KbdInteractiveAuthentication=no', '-o', 'PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey', '-o', 'PasswordAuthentication=no', '-o', 'User=vagrant', '-o', 'ConnectTimeout=60', '127.0.0.1', u'/bin/sh -c \'sudo -k && sudo -H -S -p "[sudo via ansible, key=xzdzunzdobrwcaethcahjwyzsfetjubj] password: " -u root /bin/sh -c \'"\'"\'echo SUDO-SUCCESS-xzdzunzdobrwcaethcahjwyzsfetjubj; LANG=en_US.UTF-8 LC_CTYPE=en_US.UTF-8 /usr/bin/python\'"\'"\'\'']
    failed: [app-staging] => (item=securedrop-app-code-0.3-amd64.deb,securedrop-ossec-agent-2.8.1-amd64.deb) => {"failed": true, "item": "securedrop-app-code-0.3-amd64.deb,securedrop-ossec-agent-2.8.1-amd64.deb", "parsed": false}
    invalid output was: SUDO-SUCCESS-xzdzunzdobrwcaethcahjwyzsfetjubj
    Traceback (most recent call last):
      File "<stdin>", line 1907, in <module>
      File "<stdin>", line 523, in main
      File "<stdin>", line 299, in install_deb
      File "/usr/lib/python2.7/dist-packages/apt/debfile.py", line 61, in __init__
        self.open(filename)
      File "/usr/lib/python2.7/dist-packages/apt/debfile.py", line 70, in open
        self._debfile = apt_inst.DebFile(self.filename)
    SystemError: E:Could not open file securedrop-ossec-agent-2.8.1-amd64.deb - open (2: No such file or directory), E:Unable to determine file size for fd -1 - fstat (9: Bad file descriptor), E:Read error - read (9: Bad file descriptor)
    ```
    
    I only get the error when local_deb_packages is a list, when one package or the other is commented out it works fine

commit dcc367bf59ed0effed365020ffb48141925392ff
Author: James <james@freedom.press>
Date:   Fri Jan 23 19:00:48 2015 -0800

    merged app-build and mon-build to 1 VM build
    
    `vagrant up build` will now build securedrop-app-code, securedrop-ossec-server and securedrop-ossec-agent
    
    There are tags for ossec-server, ossec-agent, app-deb that can be used to skip build a deb package.

commit bd4daaabf4910113a07bd58228bfec639d612d63
Merge: ef16e574 0fbc2bcb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Jan 23 16:50:23 2015 -0800

    Merge pull request #846 from dolanjs/iptables-invalid-and-acks
    
    Iptables invalid and acks. resolves #828, follow-up in #845

commit 0fbc2bcbc7fcd7eba5d6a25b905681fc00ef57da
Author: James <james@freedom.press>
Date:   Fri Jan 23 11:10:06 2015 -0800

    updated the related github issue to #845 for more info about why the inbound invalid rule is dropped but not logged.

commit 79556aeaf6b6d8eb2c19025e5f6b716eeec1a2b3
Author: James <james@freedom.press>
Date:   Fri Jan 23 10:44:45 2015 -0800

    disable logging outbound host fw drops
    
    Modifed the iptable rule to not log outbound host fw drops to reduce the OSSEC spam
    
    Also not loggin inbound invalid state packets since this was generating excessive OSSEC alerts

commit d9e6d09fb424286ec4abc29ef53151ee114e78e9
Author: James <james@freedom.press>
Date:   Thu Jan 22 18:08:07 2015 -0800

    reduce ossec iptables spam
    
    had to modify the drop invalid rules and add a drop rule for the smtp outbound ACK traffic packet that is sent after the packet with invalid state.
    
    also changed the drop invalid state packet rules to not log the events to avoid OSSEC sending an alert for it.

commit ef16e5749c4c3ae0176a3206143698d986f1f431
Merge: 4d51d029 6cf08e2c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Jan 22 17:07:04 2015 -0800

    Merge pull request #842 from freedomofpress/package-build-automation
    
    Package build automation

commit 6cf08e2cf55fb286172b6e1ef359071a51b445bb
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Jan 22 16:43:26 2015 -0800

    fixes from @dolanjs review

commit 4d51d0293852fd4438414d4d788b2e14bb421525
Merge: 4dd3af40 39d3fb78
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Jan 22 15:47:05 2015 -0800

    Merge pull request #840 from freedomofpress/only-one-notification-after-initial-submission
    
    Limit notifications for initial submission

commit 7fd33a22f60da9b098519da1325bd644cf77a111
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Jan 22 15:27:19 2015 -0800

    Build grsec metapackage with Ansible build role

commit 986138ceb8a3ea875c92ad1bacee95887d31f9f9
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Jan 22 14:56:58 2015 -0800

    Move and rename grsec metapackage build script for clarity
    
    Also adds some whitespace to the script for readability.

commit b2678f6647ae05e47014bdfe1b0cfce8fb926bac
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Jan 22 14:39:45 2015 -0800

    Store .debs and build artifacts in new build directory
    
    This fixes two annoying problems with the way building packages used to
    work:
    
    1. The built .debs and files downloaded as part of the build process
    (e.g. the OSSEC .tar.gz) used to be stored in the top level directory of the
    repo, which was a lot of clutter. Now they are stored in their own
    dedicated directory, `build`.
    2. In order to be used in conjunction with the `install_local_pkgs`
    Ansible tag, the .debs used to have to be manually moved to
    `install_files/ansible-base`, which was an annoying step that was easy
    to forget. Now it looks in the build directory, which is where the debs
    are put automatically.

commit 6d74f40039d8cb5abfbc69a010b7f2d78f6079b1
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Jan 22 11:43:53 2015 -0800

    Fix conditional statement for OSSEC download

commit dafae03855af855ebd378f93cb4ad04a5eb21382
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Jan 22 11:40:56 2015 -0800

    Get rid of unused var non_default_securedrop_repo
    
    We need to define `securedrop_repo` for the `/build$/` roles. Some
    leftover/unfinished changes changed that to be
    `non_default_securedrop_repo` in `development-specific.yml`, which cased
    the OSSEC package build role to fail. Changing the variable back to
    `securedrop_repo` fixes the issue.

commit 4dd3af40a758119f5c8714f4efc1031571e58587
Merge: 674a6472 1551b8f9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Jan 21 16:44:26 2015 -0800

    Merge pull request #829 from dolanjs/ansible-backup-restore
    
    added a restore script

commit 39d3fb78fe5685123e3f8514f8f7b7b165019c47
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Jan 21 16:03:44 2015 -0800

    Limit notifications for initial submission
    
    We added a "first submission" reminder a while back as a friendly way to
    remind sources that they should remember to return to their account and
    check back for replies after making a submission. At the time, this
    notification was shown in addition to the standard message and/or file
    submission notifications. However, this resulted in a cluttered UI after
    the first submission. After some experimentation, I decided it feels
    natural to thank them for submitting something after the first
    submission, and to use the standard message and/or file submission
    notifications after that.
    
    This commit changes the initial notification behavior on the Source
    Interface and updates the tests accordingly.

commit 1551b8f987ffd54f26c8bca69fdb49194d53142b
Merge: 11049ed9 674a6472
Author: James <james@freedom.press>
Date:   Wed Jan 21 15:27:55 2015 -0800

    Merge remote-tracking branch 'upstream/develop' into ansible-backup-restore

commit 11049ed98a66604b55a27f244c70436a7b1593ff
Author: James <james@freedom.press>
Date:   Wed Jan 21 15:26:38 2015 -0800

    fixes from garretts comments
    
    moved chowning the extracted files subprocess call to the extract_file_path function per @garrettr recs in comments.

commit 674a6472ba900a5f8497d03a524f31feb91cf33f
Merge: 937fb6e8 cc815a27
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Jan 21 15:01:08 2015 -0800

    Merge pull request #831 from ageis/wordlist-refinements
    
    Remove less frequently used words. Closes #824.

commit 937fb6e8cfb77b3b5a629d1a52a24128c83f8ac3
Merge: ed5e7e4c f18f881e
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Jan 21 14:39:11 2015 -0800

    Merge branch 'invalid-state-iptables' of https://github.com/dolanjs/securedrop into dolanjs-invalid-state-iptables
    
    Conflicts:
            install_files/ansible-base/roles/restrict_direct_access_app/templates/app_rules_v4
            install_files/ansible-base/roles/restrict_direct_access_mon/templates/mon_rules_v4
    
    The new rules to handle invalid packets were added to a commit prior to
    the one where we removed the Tor destination ports restrictions.

commit ed5e7e4c6d96ec589349776bb913e5a6cde0904c
Merge: 1a153645 4c8b6720
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Jan 21 14:31:22 2015 -0800

    Merge pull request #830 from freedomofpress/fixes-from-test-install
    
    Network firewall rules and docs improvements

commit 4c8b67206db3e6ed28d10a4ce143af25f0ee502e
Merge: bde79a37 ded3d7f6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Jan 21 14:03:52 2015 -0800

    Merge pull request #839 from dolanjs/massage-pfsense-rules-to-iptables
    
    update iptable version of network fw rules

commit ded3d7f637875e8f96d99240faf7a5de5d5b5adb
Author: James <james@freedom.press>
Date:   Wed Jan 21 13:54:21 2015 -0800

    update iptable version of network fw rules
    
    updated the iptable version of the network pfsense fw rules to match the more restrictive pfsense rules for the .3 version

commit f18f881e65d40b0bec4c0191f9ae844496ba1ef7
Author: James <james@freedom.press>
Date:   Wed Jan 21 12:04:50 2015 -0800

    modified invalid drop rules
    
    changed the invalid drop rules for the monitor server to drop but not log invalid packets with a distant end port of 587. All other invalid state packets are logged and would be alerted on by OSSEC for the monitor server or app server.

commit 800a061b2838687e3b49420ed7b996e3b55cefbc
Author: James <james@freedom.press>
Date:   Wed Jan 21 10:14:44 2015 -0800

    drop invalid state packets
    
    Drop but do not log packets with invalid state. This situation was occuring around sending smtp alerts to google smtp servers. Where the connection would be removed from the iptables state table, but the mon server would then still try to send a FIN, RST packet but since it was no longer in the state table it lost the associated PID and UID. The distant end already closed the connection so this is not prevent the alerts from being sent but does cause a OSSEC spam loop. An OSSEC alert is sent causing a fw drop, that then generates another ossec alert.
    
    These packets are droped but not logged by jumping (-j DROP) directly to DROP chain instead of the LOGNDROP chain

commit 1a153645b43214ffbb6c004b14d4520f3abbb9fd
Merge: d4d0164c 26f6178c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Jan 20 21:11:37 2015 -0800

    Merge pull request #806 from runasand/develop
    
    Move threat model doc to GitHub

commit bde79a37444db0eb2180252b2e66f36a8775f1b5
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 20:31:49 2015 -0800

    Update headings and TOC

commit 870e1e995efb771d783ce5f97e6c6a478566e425
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 20:28:15 2015 -0800

    More detailed description of *ths files created by Ansible playbooks

commit fd0507190a2c8ddc2551c01a37ab36f0d0bcbec1
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 20:27:41 2015 -0800

    Tighten up and clarify install docs

commit 92e85c4c14c4d8de441d627b5fe0270e4196f66c
Merge: bd5dec61 d4d0164c
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 20:06:17 2015 -0800

    Merge branch 'develop' into fixes-from-test-install
    
    Conflicts:
            docs/install.md

commit bd5dec61d38e5077e27a33eba8a5bbc1231a8ec2
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 20:00:29 2015 -0800

    Document assigning a static IP to the admin workstation

commit 69f5f9a496ad6b259b84ea7eb4b7a7548cbbcbf5
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 19:58:53 2015 -0800

    Fix hard wrapped lines
    
    This doc was originally written with lines hard wrapped at around 80
    characters due to my editor's settings. I think this kind of file is
    better edited with a visual wrapping mode (like Emacs'
    `visual-line-mode`) to reduce unnecessary changes due to rewrapping.

commit a6cdf318de6f5e8236e51ad315e4495233a274b7
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 19:58:35 2015 -0800

    Fix list numbering

commit a89861bbaeacec09ca565bbd5e4a01716baf0ce8
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 19:11:59 2015 -0800

    Updated screenshots for new network firewall rules

commit 2098369b343c3c7996c7c56f37bea5c2e661b5bd
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 18:57:54 2015 -0800

    Encourage using KeePassX for network firewall admin password
    
    Based on review comment from @dolanjs:
    https://github.com/freedomofpress/securedrop/pull/830#discussion_r23106111

commit d4d0164c969105e992593040e4493385cdd45623
Merge: 6355e65d 69017416
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Jan 20 18:45:36 2015 -0800

    Merge pull request #833 from ageis/training-sched
    
    Superficial edits r=garrettr

commit 6901741605bc6bc1483dcfde2928d4a0bbe6b860
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Tue Jan 20 18:43:12 2015 -0800

    Fix references to keypass = KeePassX

commit c7e353cd55dd2ef325a14c0410f512cfbb8cc9fe
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Fri Jan 16 16:16:44 2015 -0800

    Edit training schedule, consistent caps

commit 6355e65dd9a6fbda57c398d6a36816a59e915549
Merge: 76f61216 11877c19
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Jan 20 18:28:15 2015 -0800

    Merge pull request #835 from pemulis/patch-3
    
    fix tails setup link

commit 76f61216bea11827b8fb6fd4e6171cf48344b183
Merge: 7cbf59a3 ac48a31a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Jan 20 17:33:41 2015 -0800

    Merge pull request #823 from yasyf/format-auth-token
    
    Ignore Whitespace in Auth Token r=garrettr

commit 74df00ac9607cd92beb89ebc5a3e97379e4acfd2
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 16:57:21 2015 -0800

    Workaround for checking SMTP server fingerprint in Tails

commit 0190d42bfa8d7deb60d3ac2132a4e48e5016196c
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 16:56:53 2015 -0800

    Another reminder that the custom header is optional

commit 08215f8f1d22f592c851fb8c6aba1dd5176acc47
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 14:32:55 2015 -0800

    Replace redundant info with link to OSSEC Alerts Guide

commit 58def673dc43836a733674a5dba9e2a794954773
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 14:31:55 2015 -0800

    Simpler way to check SSH connectivity
    
    Following the example of the earlier section where we check connectivity
    and authenticating with passwords after first connecting the Admin Workstation.

commit 913e8767b682ae295b2587762e91e0cd707d9adc
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 14:31:17 2015 -0800

    Connect Admin Workstation to switch
    
    Instructions in install.md reflected prior (wishful thinking) setup
    where we had a firewall with > 3 ports. Updated doc to reflect that we
    now recommend using a switch on the LAN port to handle the Admin
    Workstation.

commit c3b0edeb52f0696bc0adf01db7f5dad2b85f272a
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 14:26:31 2015 -0800

    Update Ubuntu Guide network info to match Network Firewall doc

commit da65a02eb2c747ba0cfede3d87cedc4b2afd8b4d
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 14:25:48 2015 -0800

    Update default inventory IPs to match docs

commit 40bb164cb82f447e558ff0bf90bfdaa27b6bf9ba
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 12:56:59 2015 -0800

    Format example network info as a list

commit f401303874360e20fcd3aa5d63c33dcf2a79a353
Author: James <james@freedom.press>
Date:   Tue Jan 20 12:14:57 2015 -0800

    fixes from comments
    
    fixed spelling from pr comments
    
    added the correct user when extracting the file

commit ac48a31a2283fa5709e0d55ac7df21772703e1f6
Author: Yasyf Mohamedali <yasyfm@gmail.com>
Date:   Sun Jan 18 06:43:29 2015 -0500

    Move _format_token to logical place in file

commit 11877c196b5c18ea427dedb41910eafe67eb467e
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Sat Jan 17 14:00:20 2015 -0800

    fix tails setup link

commit cc815a27eec68fa23e2a661774c7dcad13d07449
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Fri Jan 16 14:52:17 2015 -0800

    Remove less frequently used words

commit e9b8243bc58798194308795bfd3a8e3d552fc3ca
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Jan 15 19:31:15 2015 -0800

    Update network firewall rules and docs
    
    I updated the firewall rules slightly to match a working configuration
    that was tested today. There are several options for how to set up the
    rules to allow traffic from the Admin Workstation, and I was not sure
    how to best express them in the iptables format, so I just added a
    comment to the rules template. I also removed several lines of comments
    that are irrelevant after recent changes.
    
    I reworked the Network Firewall documentation completely. The primary
    change was in recommending that users *not* use the default subnet of
    192.168.1.1 for the LAN subnet, since it conflicts when connected to
    another router that uses that (very common) subnet. I also explained
    what is necessary to successfully configure the WAN in a both more
    detailed and more abstract way. I added much more detailed documentation
    for the initial configuration of the firewall. I edited the tips for
    setting up the firewall rules based on some recent changes.
    
    Finally, I added some screenshots from a working pfSense firewall
    configuration.

commit 8a7a43e22125bcde0c744b205033a1fe4dee3ff5
Author: James <james@freedom.press>
Date:   Thu Jan 15 11:42:09 2015 -0800

    added a restore script
    
    The 0.3_restore.py will restore the decrypted zip file created by the 0.3_collect.py script.
    
    This script is different than the 0.3_migrate.py which migrated the different db layout and dir structure for a 0.2.1 install to a 0.3 version
    
    This scripts restores the:
     securedrop config.py
     /var/lib/securedrop/store
     /var/lib/securedrop/keys
     /var/www/securedrop/static/i/logo.png
     torrc
     source interface tor certs
     document interface tor certs
    
    This script does not restore the ssh hidden service from the backup. Deleting the previous ssh ATHS and replacing it from with the one from the backup would break the ssh session that ansible was using to run the playbook.

commit 940ce3a9430c2d690f93a21d2cb26461bd54620b
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Jan 15 12:33:05 2015 -0800

    Clarify location of recommended changes
    
    Adds a link to the Tails documentation for manually installing Tails on
    a USB using a Mac, and specifically references the section in that
    documentation where we recommend changing the Tails instructions
    slightly in order to speed up copying the .iso to the USB.

commit 1640b61f75ec41c0f51b44bce9b7e0e971be7dfc
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Jan 15 12:06:15 2015 -0800

    Fix link to Tails Guide

commit 3768ad87f66d0817962a24f218276a3669213caf
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Jan 14 16:01:58 2015 -0800

    Allow any outgoing TCP connection for Tor
    
    The network firewall and iptables rules were previously allowing Tor
    only on a set of common Tor relay ports (see
    https://www.torproject.org/docs/faq.html.en#OutboundPorts). However, we
    removed that restriction from Tor's configuration in #735 since it
    appeared to cause problems during a recent install.
    
    Allowing Tor to use any port, but blocking traffic to those ports in
    both the server and network firewalls could cause connectivity
    issues. Additionally, the Tor documentation recommends using any
    advertised port to connect to relays if possible, in order to take
    advantage of the most diversity of relays (see previous FAQ link).
    
    Getting rid of these "multiport" restrictions allows us to simplify the
    firewall rules somewhat, since we must now allow outbound TCP on any
    port and don't need to open specific ports for TCP anymore. In the case
    of the network firewall rules, these rules were removed since currently
    those rules must be manually entered into the pfSense WebGUI which is
    quite annoying. We left most of the now-redundant rules in the iptables
    rules, since they are automatically set up during the install
    process. Leaving them in gives a clearer picture of the overall traffic
    flows to someone reading the rules, and could be helpful if we decide to
    reverse this decision in the future and restrict outbound TCP by port
    again.

commit d07f72d49736ed8d7c29261b4d3473a9a084f030
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 13 13:55:30 2015 -0800

    More tips for setting up the firewall rules

commit a2c388635ec6bcdfbe0e259668140e2e67ca0c8f
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 13 13:47:02 2015 -0800

    Simpler connectivity test: confirm the hostname for each IP

commit 560249dbe1e6df00f3b6d98ced7deb7e03c8926b
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 13 13:46:11 2015 -0800

    Formatting for install guide around network firewall instructions

commit 7cbf59a37bdfee94b3293fa89975490a656e7549
Merge: 0826c570 6ab8671e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Jan 13 11:41:48 2015 -0800

    Merge pull request #808 from freedomofpress/test-install-fixes
    
    Fixes from recent test install

commit 6ab8671ec06c74e1d489a7cc8154e868b89b7558
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Jan 2 17:15:15 2015 -0800

    Clarify language in Tails Guide

commit 5cac5962f19ceec9aafa9cdfce62becc3f4cd2a3
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Jan 2 17:14:53 2015 -0800

    Add note that Tails Installer is required to create Tails USBs that support persistence

commit 2b5c8f28a12a2b65c6d1e7140cd2d2ae99519709
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Jan 2 16:48:18 2015 -0800

    Remove trailing period for consistent appearance

commit c1f636561ad4a77f10be621447e477b6e8d4fae4
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Dec 16 02:06:27 2014 -0800

    firewall configuration tips for Tails, based on testing

commit 96ca16b87dc41121776d00ea4364fb734b6f0381
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Dec 16 02:05:39 2014 -0800

    Added whitespace for readability

commit 44f19a386af144ada9bf2463dac84287427f372c
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Dec 16 00:13:27 2014 -0800

    TOC for the Tails Guide

commit 3973a24b9cca7f14d031a1b853bd0d51b09397c0
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Dec 16 00:04:28 2014 -0800

    Clean up and consolidate Tails-related documentation

commit 6e26d584648ba14c7a897c8ba6afe3ea77875186
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Dec 15 21:12:37 2014 -0800

    Rearrange "how to" sections and formatting

commit e6897abb8e4679afd70510a5f8b529e8a68910f7
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Dec 15 21:12:09 2014 -0800

    Reference "Document Interface" for clarity

commit b20b665997767d132f38a742ddccc3b3264d319b
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Dec 15 21:08:23 2014 -0800

    Fixes to architecture component list in README
    
    * Remove outdated reference to DVD drive. We now usually recommend
      running Tails from a USB with persistence to improve usability of the
      authenticated Tor Hidden Service.
    * Introduce interface nomenclature instead of "first" and "second"
      hidden service
    * Add hyperlinks for authenticated Tor hidden services and OSSEC

commit 0826c5703965419363ca4c593bad1d0573bbfebd
Merge: 79167406 f07ded4f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Jan 13 09:44:01 2015 -0800

    Merge pull request #817 from ageis/less-offensive
    
    Cleanup wordlist a little

commit 4dc1292594697639491ef3425deefef4ab0cb7f9
Author: Yasyf Mohamedali <yasyfm@gmail.com>
Date:   Sun Jan 11 11:39:52 2015 +0000

    Fix grammar in docstring

commit 573e3d72e457fc56430b620fd7637f13afbfb62f
Author: Yasyf Mohamedali <yasyfm@gmail.com>
Date:   Sun Jan 11 11:39:52 2015 +0000

    Filter out whitepace from authentication token.
    
    Removes any whitespace from the user's authentication token before
    attempting to verify it. Closes #820.

commit f07ded4f6dc703b5a2effeaf2da493f984fe722e
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Sun Dec 21 18:52:57 2014 -0500

    Remove some more words

commit b9a9b051912d90828b6a5df268df32676ea18ba7
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Sun Dec 21 18:50:11 2014 -0500

    Remove some words

commit 26f6178cbb1c2320562c5cac3766404068d42f72
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Fri Dec 19 22:06:01 2014 -0500

    Change 'assumption' to 'assumptions'

commit 7916740603b12d4e95b6ee624c7313031706e757
Merge: 90e6a605 73dc64c7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 19 13:46:00 2014 -0800

    Merge pull request #815 from dolanjs/ossec-grsec-spam
    
    ossec grsec login spam

commit 73dc64c70ef2542443cc940513ec23e9d6f090a8
Author: James <james@freedom.press>
Date:   Fri Dec 19 13:45:34 2014 -0500

    ossec grsec login spam
    
    During logins the script that displays the system info generates a grsec error. Removed the pam motd module to resolve it

commit 90e6a605ddd852334998761736ad04340f8859c3
Merge: a59a3270 6fd7f88e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Dec 17 14:15:28 2014 -0800

    Merge pull request #811 from eviljoel/bad-ciphers
    
     Remove Insecure Ciphers and Suggested Replacements

commit 7d089124b45c271ca3b567959cb30165128983f3
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Dec 17 13:30:01 2014 -0500

    Updated with more feedback, added that this is a work in progress

commit 41a4ab728441ec63049f5c2cf0c2651ace348c9c
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Dec 17 11:09:31 2014 -0500

    Fix formatting, include suggested changes and previously missing info.

commit a59a327057334b486d00fb6c7b6f5e9336615da9
Merge: 5d7b48f6 c36ffca3
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Dec 17 02:10:49 2014 -0800

    Merge branch 'remove-ca-cert' of https://github.com/dolanjs/securedrop into dolanjs-remove-ca-cert
    
    Conflicts:
            install_files/ansible-base/development-specific.yml
            install_files/ansible-base/prod-specific.yml
            install_files/ansible-base/staging-specific.yml

commit 5d7b48f6fe7960709b2c688e16384494076da196
Merge: bd2c4010 64b9557f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Dec 17 01:53:42 2014 -0800

    Merge pull request #807 from ageis/ossec-alert-doc
    
    Elaborate on OSSEC alert instructions

commit 64b9557f4c6151f2b6e15d51078ae485012de93c
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Wed Dec 17 03:44:21 2014 -0600

    No active response, server-agent explanation

commit 34a1e130e3b3d0824cd53d6b7034c9284c23ca86
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Wed Dec 17 03:27:18 2014 -0600

    Updates per #807
    
    * Recommend Google 2-step verification
    * Update support e-mail address

commit bd2c40100c01ad061424af860ae94d2fa94471e6
Merge: 53ebe5dd 7193b761
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Dec 16 19:07:42 2014 -0800

    Merge pull request #801 from ageis/small-fixes
    
    Small fixes

commit 6fd7f88ebc8d7edf87f94b0a44ef1731d687feaf
Author: eviljoel <eviljoel@linux.com>
Date:   Tue Dec 16 21:05:09 2014 -0600

    Forgot to change the other configuration files.

commit 7193b761d866bd0784bcb5e893d7d8ca8fc5a813
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Tue Dec 16 20:51:09 2014 -0600

    Slight language adjustment

commit ee304e1e2262230e55db2d17f197be1b27edf4ec
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Tue Dec 16 20:49:43 2014 -0600

    Vagrant version update due to #802

commit 75ad2b694ead4e08a2b5e029e314659cd867fb7d
Author: eviljoel <eviljoel@linux.com>
Date:   Tue Dec 16 20:08:22 2014 -0600

    Remove Insecure Ciphers and Suggested Replacements
    
    According to the OpenSSH 6.7 release document (http://www.openssh.com/txt/release-6.7), the CBC ciphers are now considered "unsafe". Thus, I have removed the blowfish-cbc and aes256-cbc ciphers. Newer, secure ciphers are available in the version of OpenSSH that ships with Ubuntu 14.04 and I have suggested you add aes256-gcm@openssh.com and chacha20-poly1305@openssh.com.
    
    More information on chacha20-poly1305 is available here:
    https://www.imperialviolet.org/2013/10/07/chacha20.html
    https://vikingvpn.com/blogs/security/google-is-pushing-new-cipher-suites-all-about-chacha20-and-poly1305

commit c36ffca38dfb10e442f2ed2eeb8bccd7da016cc2
Author: James <james@freedom.press>
Date:   Tue Dec 16 20:55:20 2014 -0500

    removed ca_cert var.
    
    We currently enforce checking the smtp relay's fingerprint in the postfix config
    
    `securedrop/install_files/ansible-base/roles/ossec_server/templates/main.cf`
    
    `smtp_tls_security_level = fingerprint`
    
    One of the other options is to "verify" where it checks the certs ca chain. If verify is set the smtp_tls_CAfile option is required.
    Since we set smtp_tls_Security_level to fingerprint the chain of trust is not checked. If smtp_cafile option is specified in the config file then a file does need to be provided but it is not used providing no value.

commit 1dd0d8d782d7ba21a30c80b26328ee939118e87b
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Dec 16 17:27:34 2014 -0500

    Additional indentation fixes

commit 1248b62c5b8f84a8318f6b838dcd9c756eba5c10
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Dec 16 17:19:22 2014 -0500

    Fix indentation

commit 991f5f5005fa86e62ffaa7c3c5e86698c35ba8db
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Dec 16 17:12:15 2014 -0500

    Rewrite of the threat model document, now more detailed and specific.

commit 53ebe5ddcd91fddfc996283d30ba75e2ae715744
Merge: 6f4bc2fd 0f388013
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Dec 15 20:51:38 2014 -0800

    Merge pull request #804 from freedomofpress/pfsense-docs
    
    Pfsense docs

commit 6f4bc2fd40e4116548f2beddbea8de44f943536f
Merge: 93c10c9d 1dbab3c2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Dec 15 20:50:23 2014 -0800

    Merge pull request #805 from freedomofpress/minimize-plaintext-retention-with-reboot
    
    Reboot every 24 hours to periodically wipe memory

commit 93c10c9d8453b48b774309ff3a33c5bc8943f739
Merge: 2087c172 785fcddf
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Dec 15 13:29:17 2014 -0800

    Merge pull request #755 from freedomofpress/release-testing
    
    securedrop-grsec build scripts

commit 785fcddfcbfab09b2908513d8961c5aaf44a785d
Merge: 55f01388 2087c172
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Dec 15 13:12:33 2014 -0800

    Merge branch 'develop' into release-testing
    
    Conflicts:
            build_deb_packages.sh
    
    The conflict was due to changing the url of the apt repository from
    ".pressfreedomfoundation.org" to ".freedom.press". I decided to remove
    the chunk entirely (was previously commented out) since it was not used
    and I cannot think of how it would ever be used.

commit 239690fae8ab1f61673afbad7a4f06f527bb3220
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Mon Dec 15 15:32:41 2014 -0500

    Updated threat model document with minor changes.

commit 4b5c5490ef3e5da432acd259c5bdbf046a43a81e
Merge: 2a162960 2087c172
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Mon Dec 15 14:07:29 2014 -0500

    Merge branch 'develop' of https://github.com/freedomofpress/securedrop into develop

commit 1f31630c0501523cc4df692cca5df353e1f26ace
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Sat Dec 13 17:09:26 2014 -0500

    Edits to ossec_alerts.md
    
    * Addresses the individual comments on #807

commit fbb4ab80e3da812e8bed3c784f377b7e08f9775d
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Sat Dec 13 06:01:24 2014 -0500

    Formatting, refinements and additions
    * Gmail instructions
    * Analyzing alerts
    * Add table for problem/solution
    * Appropriate spacing
    * Fix heading

commit e874dda193f4fdfa486c08da5e334e436baac7ed
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Sat Dec 13 01:57:46 2014 -0500

    Create ossec_alerts.md
    
    * Copied information from install.md
    * Added more detailed instructions

commit 1dbab3c26f0c6a2275a28d24c287705694ca2108
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Dec 12 19:37:46 2014 -0800

    Reboot every 24 hours to periodically wipe memory
    
    This is a kludge, but a reasonably effective one. This change reboots
    the servers every day at 5am. Previously this reboot would only happen
    if required by the daily package upgrade (e.g. for a kernel upgrade),
    but now it happens every day regardless of whether it is needed.
    
    This ensures that the plaintext of submissions can reside in memory for
    at most 24 hours after submission. Resolves #99, although we can and
    should do better in a future release.

commit 2087c172bc25c1d22f622b6e0da0470400e09af8
Merge: cd0e4d19 a9ca6f1d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 12 15:20:01 2014 -0800

    Merge pull request #803 from freedomofpress/ignore-ansible-backups
    
    gitignore the automatic backups from the Ansible backuup role

commit 0f3880133fa842fc8797a457c0b1e3f4da889773
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Dec 12 15:17:03 2014 -0800

    update toc

commit b390c4b56873a2b25e86ab9131b9e45ab8723a7d
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Dec 12 15:15:54 2014 -0800

    Add network firewall doc to list of steps in install.md

commit c19bfb6bb74d04881e88d9c254b868e89e3789e7
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Dec 12 14:51:31 2014 -0800

    Tips for interpreting network firewall rules template for pfSense

commit 69700c0c95a5e445ed861ddd3139a7e9ce320467
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Dec 12 14:13:38 2014 -0800

    Basic guide for setting up the network firewall

commit cada01ce5baa8a6dd3a50e499ede90c627e84e95
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Dec 12 08:32:26 2014 -0800

    Add note about network switch to Hardware Guide

commit a9ca6f1d0d90591b6a8992a4eade0c7d740330b6
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Dec 11 11:14:25 2014 -0800

    gitignore the automatic backups from the Ansible backuup role

commit 2a1629601d13f22d5384aa00ba04b341c9d13ba9
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Dec 11 12:17:40 2014 -0500

    Minor nitpick

commit 9491ac92dd10e2501782ea84d22bad1dafe72286
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Dec 10 19:24:24 2014 -0500

    Initial commit where I move the threat model document from the Hackpad
    to GitHub. Resolves #249.

commit cd0e4d199d8a4acdf137b23f269a9ac36b88b64d
Merge: 49150872 efb0630c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Dec 11 01:20:58 2014 -0800

    Merge pull request #800 from dolanjs/remove-hostmanger-plugin
    
    Removed the vagrant-hostmanger plugin

commit acd2037a27c0ec1e16c1a73d3fe8a9a2cf42ac34
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Thu Dec 11 02:53:20 2014 -0500

    Grammar

commit 6d4386a80d156e1413244db2b8ca353d3a4640f2
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Thu Dec 11 02:49:48 2014 -0500

    Cleanup

commit c305e0f97a3662822167c7bccdaafb4fdce41129
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Thu Dec 11 02:36:05 2014 -0500

    Small fixes for develop.md and Ansible playbooks
    
    * Fixed typo in path in develop.md
    * Fixed ca_cert path in *-specific.yml (ca_cert is in ossec_server not mon role)
    * Capitalization and readability
    * Tested staging on newer Ansible and Vagrant (don't merge until confirm)

commit efb0630c3f0d34ff6b4a583b81807a24a22764c5
Author: James <james@freedom.press>
Date:   Wed Dec 10 19:21:09 2014 -0500

    removed the vagrant box add step
    
    running `vagrant up` will download the correct vagrant box if it is not already downloaded.
    
    From note in pr #797

commit 2451a1f8a46fc3bae6d1f0c31c20384a26bfbd6f
Author: James <james@freedom.press>
Date:   Wed Dec 10 19:15:48 2014 -0500

    removed refs to hostmanager and digital_ocean vagrant plugins

commit edb35421eb241804633ccca661e920909a35774a
Merge: f1d57508 49150872
Author: James <james@freedom.press>
Date:   Wed Dec 10 19:10:16 2014 -0500

    Merge remote-tracking branch 'upstream/develop' into remove-hostmanger-plugin
    
    Conflicts:
            docs/develop.md

commit 491508720eb7e7682522a7710c5a16c8906ad401
Merge: 6423253c 8d738d63
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Dec 10 16:03:32 2014 -0800

    Merge pull request #797 from micahflee/vagrant-instructions
    
    Updated HACKING.md to more closely resemble reality

commit f1d57508fb6d4082233f422c1388b24b1d681519
Author: James <james@freedom.press>
Date:   Wed Dec 10 18:31:55 2014 -0500

    Removed the the vagrant-hostmanger plugin
    
    This is not needed for virtualbox environment since we hardcode the IP address in the Vagrantfile for each VM.
    
    The hostmanger plugin is required when using digital ocean droplets instead of virtualbox.
    
    Digital ocean droplets are used in our snap-ci environment.
    
    When using digital ocean droplets the IP address of the VPS can change when you destroy and rebuild the vps. The hostmanger plugin was used with the ansible skip-tag `static-hosts` to configure the `/etc/hosts` entries

commit 6423253c4fa69be4ef09545e788649896ee75b10
Merge: 85f42d7e d054cbb5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Dec 10 15:24:23 2014 -0800

    Merge pull request #796 from freedomofpress/source-key-generation
    
    Improve source key generation

commit 85f42d7ef01d39511fb25521885139971e9a1bb9
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Wed Dec 10 17:13:14 2014 -0500

    Update deployment_practices.md

commit 8d738d63b81d8aa76b2b3a0d5fe2c48613d11498
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Dec 10 13:36:35 2014 -0800

    deleted HACKING.md, because it's outdated and new documentation is in doc/develop.md

commit 52328540001217ed875955efee2f015edc17a025
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Dec 10 13:35:58 2014 -0800

    Cleaning up develop.md formatting, add more manage.py examples, removed reference to vagrant-cachier version

commit f8d5221dc8f899678b7385ba0623c1e5cac09a01
Merge: 357d0c7d 5ea371b5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Dec 10 13:17:15 2014 -0800

    Merge pull request #799 from runasand/develop
    
    Add KeePassX password template as xml, remove template as binary blob,

commit 5ea371b526d1a6a7695dd97839c6ba0c7f63f420
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Dec 10 16:08:00 2014 -0500

    Add KeePassX password template as xml, remove template as binary blob,
    update instructions for using the template. Resolves #798.

commit 6642bcccfc5e70a83c16c8346146ef4f1aed4e20
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Dec 10 11:06:02 2014 -0800

    Typo in HACKING.md

commit 4df86a4a6a9471aac5d8ca5b89eb988a2fbcad4b
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Dec 10 11:03:16 2014 -0800

    Update HACKING.md to more closely resemble reality

commit 357d0c7dab8fafc0ad6f626e90b5fd73c46a0a75
Merge: 59ef1774 c6a25f67
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Dec 9 17:54:39 2014 -0800

    Merge pull request #794 from freedomofpress/remind-to-check-for-replies-after-first-submission
    
    Remind sources to check back for replies after first submission

commit d054cbb5de0cb6a969a648767dc06412edfe2209
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Dec 9 17:50:50 2014 -0800

    Update source when keys are generated, resolves #789

commit e4e6e31a6a22f629c2b8dfb63f0008ee4c96691e
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Dec 9 17:48:17 2014 -0800

    Always generate keys async to avoid delaying response

commit f56b4c4678ad7c78433af16327ba143ed0176c68
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Dec 9 17:22:15 2014 -0800

    Remove now-unused background.py

commit 0e3282790ee3e997877f2f6b4936f3252171a9b9
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Dec 9 17:18:11 2014 -0800

    Actually generate source keys asynchronously

commit 59ef177417b015d1260f4f744cc8d79bd91e563d
Merge: fc53298e cdac5bef
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Dec 8 12:10:42 2014 -0800

    Merge pull request #795 from freedomofpress/read-does-not-imply-deleted
    
    Clarify implication of a sent reply disappearing from the submission list

commit fc53298e37922f094e22a0d009b687927a6973dc
Merge: d4ba6f23 6f7ffd67
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Dec 8 12:04:23 2014 -0800

    Merge pull request #786 from freedomofpress/harden-document-interface-logins
    
    Harden document interface logins

commit d4ba6f233394236b6ce2a81f947f155a69bde8f0
Merge: 86fea60e 1b277295
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Dec 8 11:50:49 2014 -0800

    Merge pull request #793 from freedomofpress/clarify-source-codenames
    
    Clarify source codenames

commit cdac5bef0b745e63b14be8d8a0b37dd30c5a55f9
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Dec 8 11:48:27 2014 -0800

    Clarify implication of a sent reply disappearing from the submission list

commit c6a25f67e68a240c5e177c52c7d96d323507081e
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Dec 8 11:31:43 2014 -0800

    Remind sources to check back for replies after first submission
    
    Along with the existing notification from the "flag for reply" flow
    (mentioned in https://github.com/freedomofpress/securedrop/issues/683#issuecomment-65484457),
    this resolves #683.

commit 1b27729598321551dfbd4e31b0718fabb7ba0d70
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Dec 8 11:14:43 2014 -0800

    Fix unit test, broken due to wording change

commit 7600d56ea7aabb598a2d5274abb418490c5fa569
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Dec 8 10:58:26 2014 -0800

    Clarify best practices for storing codenames
    
    * Uses the language from
      https://github.com/freedomofpress/securedrop/issues/638#issuecomment-60285846
    * Re-orders the paragraphs to explain *why* the codename is
      important first, and then explain how to store it safely.

commit e4de91fe1366bc848c124110f2c2488cdf2981a4
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Dec 8 10:51:00 2014 -0800

    Emphasize why you need the codename when returning

commit 8ebe78e9c1bf04c6baadfedc9ce219fc1d36f55c
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Dec 8 10:37:39 2014 -0800

    Improve language on codename generation page
    
    * Standardize on "codename" (not "code")
    * Improve flow and phrasing in the "Important:" section

commit 86fea60ea79b4b550563f472750603f12cfbd74e
Merge: f2bbae84 e0022169
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Dec 8 09:36:17 2014 -0800

    Merge pull request #791 from runasand/develop
    
    Manually set the system time on the SVS before creating a GPG key,

commit f2bbae8481e0802ad73e723cefe7860382d308e1
Merge: c0737024 046e7045
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Dec 8 09:34:43 2014 -0800

    Merge pull request #792 from ageis/deployment-guide
    
    Import landing page guide as Markdown

commit 046e7045369001d57aaa1a81327766d03c9b63b6
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Mon Dec 8 02:28:33 2014 -0500

    Create deployment_practices.md

commit c0737024ac8169b77e21b3070bc9bccf187deec4
Merge: 6cd881db c8a9c0b6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Dec 7 12:51:38 2014 -0800

    Merge pull request #790 from freedomofpress/remove-tests-from-additional-testing
    
    Don't recommend running tests after install

commit e002216930f7af604b73704dfc9370746f84f0a4
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Sat Dec 6 21:39:25 2014 -0500

    Manually set the system time on the SVS before creating a GPG key,
    resolves #783.

commit c8a9c0b6f18a3de450057d097cfad9a20d3628da
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sat Dec 6 11:18:51 2014 -0800

    Don't recommend running tests after install
    
    Also fixes some minor style issues in the area of the other changes.
    
    Resolves #787

commit 6cd881dbe6772a77320e52dd25a1d887d0e161f1
Merge: 6ff630f9 2695d1d4
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 5 16:07:19 2014 -0800

    Merge pull request #785 from dolanjs/fix-default-vars
    
    fix recursive default variables

commit 6ff630f9902936541bbb2adf026f0082d6ec418b
Merge: 866f7735 25b52925
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 5 16:06:10 2014 -0800

    Merge pull request #784 from dolanjs/fix-aths-format-tasks
    
    fix aths format tasks

commit 6f7ffd67457d74bb3a8ba44b314bf82bf1cb9356
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Dec 5 15:53:37 2014 -0800

    Throttle logins
    
    Throttles login attempts on the document interface. Keeps a record of
    each user's history of login attempts, and will throttle their attempts
    if they make too many in a given time period (currently, more than 5
    attempts in the last minute).
    
    Also adds a flag for *all* login hardening so we can turn it off in the
    tests, since the login hardening affects the tests unpredictiably and we
    don't have time to rewrite the tests right now.

commit 25b529251d7d19adc427733599a97203f1d8493d
Author: James <james@freedom.press>
Date:   Fri Dec 5 15:45:03 2014 -0800

    fix aths format tasks
    
    changed the aths format tasks to run as a local action and not as sudo.

commit 2695d1d4b7efdfd24f36f78bdd8ba9be3d2a9303
Author: James <james@freedom.press>
Date:   Fri Dec 5 15:41:28 2014 -0800

    Only the travis and development version use non-default values for securedrop_code and securedrop_user.
    
    Instead of defining a default value ever location that securedrop_code or securedrop_user added two variables non_default_securedrop_code and non_default_securedrop_user. If these variables are defined (in travis-specific.yml and development-specific.yml) then those values will be used for securedrop_code and securedrop_user respectively.

commit ec0c1acfdbbc7cff156f53dc7a0804a4e4e76147
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Dec 5 13:46:50 2014 -0800

    Better logging for attempted logins with invalid usernames

commit 8513cba313aa9613bd0128e4d494aca32e1a2b88
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Dec 5 13:35:20 2014 -0800

    Single-use TOTP tokens
    
    This is a hardening measure adapted from the google-authenticator PAM
    module. By only allowing TOTP tokens to be used once, we can prevent or
    detect MITM attacks.
    
    There is a usability downside, as if you mistype your password you now
    have to wait for the next TOTP token before attempting to log in again.
    This is clearly explained in the flashed notification for TOTP users.
    
    Improves the logging for journalist logins.

commit 866f7735832545b2859f60548a1cce3b936667e5
Merge: f8e5150c 9cdbde6a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 5 13:01:51 2014 -0800

    Merge pull request #782 from dolanjs/training-docs
    
    added the onsite training schedule doc

commit 9cdbde6addf174871eb64e624b0095eafce4fe31
Author: James <james@freedom.press>
Date:   Fri Dec 5 10:44:41 2014 -0800

    added the onsite training schedule doc

commit f8e5150cdb2f788ccb57ab2bb4976a1d42cab34e
Merge: 4803ae71 16acc41d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 5 09:51:41 2014 -0800

    Merge pull request #773 from runasand/develop
    
    Additional documentation updates

commit 4803ae71df6bd7a145575d8dac83f0b8e8a1388e
Merge: f57143a0 cd260cd8
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 5 09:50:14 2014 -0800

    Merge pull request #772 from ageis/develop
    
    Prepend HidServAuth to copies of ATHS hostname files

commit f57143a04df8445dfcef7c039aa9b5fafb01b61e
Merge: 39f1cc95 3f3c8aa8
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Dec 4 22:32:50 2014 -0800

    Merge pull request #781 from ageis/install-testing-updates
    
    Improved documentation for post-installation testing, with fixes from comments in #769

commit 39f1cc95f3bd4837e6a1a8cb9e22bcd4b4c08114
Merge: 0933b0fd 763d8cdd
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Dec 4 22:28:00 2014 -0800

    Merge pull request #779 from ageis/doc-port80
    
    Move Document Interface to port 80, resolves #777

commit 3f3c8aa8c7399d3a9c9ca39bea0585c910180c03
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Fri Dec 5 00:59:41 2014 -0500

    Add note for admins ATHS

commit ec16ae802091abb5f3b121b98e3e76225baa2c2f
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Thu Dec 4 23:40:32 2014 -0500

    Testing instructions

commit 763d8cdd52d97273ead309258584ff08b48bdafc
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Thu Dec 4 23:20:16 2014 -0500

    Move Document Interface to port 80

commit 0933b0fd6a91f52e03e33d8a8aaf9398f00943ed
Merge: a342d1a2 2513eb4d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Dec 4 19:46:08 2014 -0800

    Merge pull request #775 from dolanjs/env-specific-variables-cleanup
    
    Env specific variables cleanup

commit 16acc41d5c69d5b9174c95064c3ff63c05b68e97
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Dec 4 19:36:08 2014 -0500

    Remove entries for two-factor auth codes from the keepassx template

commit 7e20bb2baa55857ee456726eb32b32519003e75e
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Dec 4 19:30:23 2014 -0500

    Updated the keepassx template to include an entry for SASL credentials.

commit bad87be27394b7059bc5ce0ea0e884fa4ac68b7c
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Dec 4 17:18:03 2014 -0500

    Include instructions for using the keepassx template db and note that
    the user need to change the default password to something stronger

commit 2513eb4d438301728c05266554d0b1b6742a9465
Author: James <james@freedom.press>
Date:   Thu Dec 4 13:53:08 2014 -0800

    normalized layout of staging-specific and prod-specific config files.

commit 1f22266d92391f0bb91ed5d3c717432fa22276b1
Author: James <james@freedom.press>
Date:   Thu Dec 4 13:48:50 2014 -0800

    set default values for variables that only travis or development use non default values.

commit e6a502d468aa21922609e3c6acc5ad1b014a8d91
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Dec 4 13:48:32 2014 -0800

    Increase valid TOTP window to 1:30s to compensate for potential clock skew

commit dea0df4464c4b2cd153ae964c1e4b28f6cdc67e8
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Dec 4 16:45:30 2014 -0500

    Update the journalist user manual with new screenshots and instructions,
    resolves #719.

commit d4b29ac339ac50ed2d99901cb7172b632e94fa66
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Dec 4 16:35:08 2014 -0500

    Updated screenshots and instructions for the source user manual.

commit 12b17848c08b974194f4892a5f4fde012f4939d7
Author: James <james@freedom.press>
Date:   Thu Dec 4 13:19:12 2014 -0800

    moved the apache testing values to the staging-specific.yml variable file since that is the only environment that needs those.

commit f559c666686a15ed5e542d519284ab3163aade85
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Dec 4 13:47:22 2014 -0500

    Template keepassx database with entries for the admin, the journalist,
    and the secure viewing station for use with SecureDrop, resolves #763.

commit 6c2b0d69b64869d72502f1529ed1090da122d5d9
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Dec 4 12:34:09 2014 -0500

    Describe what happens when a source and a journalist communicates,
    including the alternative flow that kicks in if the server is overloaded
    with submissions.

commit e371c7086512fe8bddda23669e4e9058a869f0f2
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Dec 4 12:21:15 2014 -0500

    Describe what happens when a source and a journalist communicates,
    including the alternative flow that kicks in if the server is overloaded
    with submissions.

commit a7cfa68ac4e79c6d5e60ea1b737b6e9c87dfb0a7
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Dec 4 10:15:02 2014 -0500

    Add a section about OSSEC alert information, resolves #745.

commit cd260cd8b671960195a4cec383170cf9e8680770
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Wed Dec 3 19:26:09 2014 -0500

    Prepend HidServAuth to copies of ATHS hostname files

commit a342d1a29ec96d21bbda09294a6ce088dbc76f78
Merge: 686cdf88 745b5e4e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Dec 3 13:01:25 2014 -0800

    Merge pull request #766 from dolanjs/ansible-backup-task
    
    Anisble backup task

commit 745b5e4ed20b6e64a5602ffcd4a32c9b882f2c29
Author: James <james@freedom.press>
Date:   Wed Dec 3 12:00:19 2014 -0800

    updated comments with notes from @garrettr and removed the TODOs that were resolved.

commit 78b61343c80013e22627ec802431f2d6817e6351
Author: James <james@freedom.press>
Date:   Wed Dec 3 11:51:59 2014 -0800

    added function to encrypt the backup file in the collect.py script.
    
    modified the backup ansible tasks to fetch the encrypted zip file and secure-delete the zip and encrypted zip off the app server

commit 686cdf88aa74da264c5017898b36f8b51fb5f8a7
Merge: 54bbb7fe cccc6f86
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Dec 3 11:34:26 2014 -0800

    Merge pull request #770 from runasand/develop
    
    Documentation updates

commit cccc6f8628ce7f77689d3c149058e4088dc777e0
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Dec 3 13:57:18 2014 -0500

    Add a note about migration scripts for those upgrading from 0.2.1,
    resolves #259.

commit 9308eb887a22c98e49a9d528d08a1d3d00412df3
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Dec 3 13:27:45 2014 -0500

    Update guides to specifically check the fingerprint of a GPG key after
    importing it.

commit 938b24ed29bd4fa219041d0d0b12223fc2742506
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Dec 3 11:47:45 2014 -0500

    Define format of public keys and fingerprints, resolves #750.

commit 68160a69c45c60fd3dcaa7c5a9c2bda7e8222437
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Dec 3 11:24:40 2014 -0500

    Updated to use "we" instead of "I", resolves #748.

commit 716125d77925a689c9da4e4cdbd1d891266542ca
Author: James <james@freedom.press>
Date:   Wed Dec 3 09:39:34 2014 -0800

    made the recommended changes from @garrettr

commit 83eef0f327a4f2761b66bb6a94f8d8bb5e94ad5d
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Dec 3 10:37:08 2014 -0500

    Get the FPF master signing key from a keyserver, closes #742.

commit 54bbb7fecc796d3cf01b2e039dc4f8fd21dff965
Merge: 1869d6fd 80300c51
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Nov 26 14:11:37 2014 -0800

    Merge pull request #768 from dolanjs/hardware-fixes
    
    install and hardware doc updates

commit 80300c5186de8c61b28f81d57ae38e19c13746c0
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Wed Nov 26 13:08:25 2014 -0800

    text updates
    
    for the app and monitor servers hardware updated the memory recs to be the size linked to (4GB) instead of 8/16GB.

commit 348526cab7789bf1daef377d34b9908bb01d7a16
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Wed Nov 26 12:44:37 2014 -0800

    offline backup device
    
    Removed reference the external hard drive and replaced with using a second offline USB tails device as the offline backup

commit 1869d6fde20ac7eb110d423962cedd5df88e0284
Merge: 69eeee9a c6774575
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Nov 26 09:36:46 2014 -0800

    Merge pull request #767 from runasand/develop
    
    Additional updates for install.md

commit c377f25974e986ac968842a8bf89224b9f865c29
Author: James <james@freedom.press>
Date:   Tue Nov 25 15:43:54 2014 -0800

    This adds a modified copy of the 0.2.1_collect.py script as 0.3_collect.py.
    
    An ansible role `backup` was added to run the script and fetch the output back to the admin's host machine in the ansible_base directory

commit 69eeee9a3da89803d58151eee7aeafa161914e68
Merge: 36d26492 479112fa
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Nov 24 17:27:15 2014 -0800

    Merge pull request #764 from pemulis/patch-2
    
    Fix Ubuntu Install Guide link

commit 36d26492d7d80407049b98b8f3b4fc645c5ad789
Merge: eaba8b10 39644cf3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Nov 24 17:26:33 2014 -0800

    Merge pull request #765 from ageis/develop
    
    Change ntp install to common role

commit 39644cf355ee218fc13c8b673ce5261a3bc5ebca
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Mon Nov 24 18:22:20 2014 -0500

    Change ntp install to common role

commit c6774575037ee7ec46e13a896ebf6a15e04e11fa
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Mon Nov 24 16:38:22 2014 -0500

    Attempt to list the information required by prod-specific.yml for a
    SecureDrop install. Solves #745.

commit 479112faec7277d59a6580d4dfc2b9a4a3e4c6be
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Mon Nov 24 13:37:41 2014 -0800

    Fix Ubuntu Install Guide link

commit 8d45d23bf525b5a18c434b5d46c8d825575937e5
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Mon Nov 24 15:46:31 2014 -0500

    Explain the purpose of the passphrases section in install.md. Ideally,
    we should provide a template database for the admin and journalist to
    use, but clarifying that the list is a checklist one can use during the
    installation process is better than nothing. Solves #762.

commit d4bd843745e791e1cd435f70728e3708fd3923cb
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Mon Nov 24 10:48:33 2014 -0500

    Correct the path to the directory we want the admin to be in when
    installing SecureDrop

commit a0849966de4fe7f96f0e9bd2b43fe506bda1057f
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Mon Nov 24 09:19:48 2014 -0500

    Be a bit more specific about where the private key and public key should
    be stored when generating a new GPG key for a journalist.

commit eaba8b10d270cccbde64dfd8d84b59c0f406ae31
Merge: 370e0153 2b95e19f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Nov 21 11:57:18 2014 -0800

    Merge pull request #758 from runasand/develop
    
    Admin USB section should link to official Tails documentation

commit 2b95e19f8899861c0658154238b7312f7e6652d5
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Fri Nov 21 14:21:28 2014 -0500

    Fix a link in install.md to point to the right user manual, and update
    the guide that talks about configuring Tails for use with SecureDrop to
    clarify that you need to append :8080 to the .onion address to hit the
    Document Interface.

commit f801ec8faa3471be5e9696d1d7cf8d1939480cfe
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Fri Nov 21 12:15:54 2014 -0500

    Remove the line that referred to "Micah's Tails_files program" because
    this has been documented in the guide that talks about setting up the
    workstation for the admin and journalist. This line also does not make
    any sense to a reader who does not know who Micah is or what this
    program does.

commit 727ad03c57f64b0c011366a416fd725cfeced290
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Fri Nov 21 12:12:50 2014 -0500

    Move the google auth instructions to the correct place in install.md,
    that is after running the playbook.

commit 26a9c766a88540144848df8e55bb2008715f0eb7
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Fri Nov 21 12:10:27 2014 -0500

    Nitpick on @ageis' edits to the google_authenticator doc.

commit 4f74ca348a64ab2f329fbd034894452eddfd7228
Merge: b0c3538f d234cff6
Author: Runa A. Sandvik <runasand@users.noreply.github.com>
Date:   Fri Nov 21 16:51:52 2014 +0000

    Merge pull request #1 from ageis/develop
    
    Android barcode scanning instructions

commit d234cff6758e2864408edbef7a2516b5fa1ac034
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Fri Nov 21 11:50:23 2014 -0500

    Android barcode scanning instructions

commit b0c3538fd78070d6372db0aba92417da71939464
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Fri Nov 21 10:58:45 2014 -0500

    Updated with instructions for setting up google authenticator on iOS by
    scanning a barcode.

commit dc44c76f8764c24b25cac3f94534f0439c488d2d
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Fri Nov 21 10:39:21 2014 -0500

    Updated install.md to include a step where the admin also sets up
    two-factor authentication on Android or iOS for use with the App Server.

commit 4408eded7632567f119fde305fc68325403ce666
Merge: 84076f6d 370e0153
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Fri Nov 21 09:57:35 2014 -0500

    Merge branch 'develop' of https://github.com/freedomofpress/securedrop into develop

commit 84076f6dcbac9e7625347cae367c8ac36f8be59d
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Nov 20 14:29:39 2014 -0500

    Clarify which Tails device we're talking about and use the word
    "credential" instead of "passphrase" when talking about two-factor auth
    secrets.

commit a18110900c53c6b9662e37a72cad7754992b72fe
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Nov 20 10:27:26 2014 -0500

    Remember that the Document Interface runs on port 8080, if you forget to
    add this to the URL you will not be able to connect.

commit b9f10f0668932513feedec1be252a87e92b04f5a
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Nov 20 10:10:04 2014 -0500

    Move the section that talks about creating a GPG key for the journalist
    from tails_files/README.md to docs/journalist_user_manual.md, be
    consistent with headlines in docs/journalist_user_manual.md

commit c5c5290f6253b059194424b7c583a9332056810f
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Nov 20 10:02:36 2014 -0500

    Fixed the formatting in tails_files/README.md

commit 253efc27edec86ba9c28356a4afc9ed219364b4b
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Nov 20 09:59:23 2014 -0500

    Move journalist workstation setup out of docs/install.md and into
    tails_files/README.md, closes #747.

commit 7cfb9074c8f0bfeea160616b00c6ba95a4d06355
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Nov 20 09:18:02 2014 -0500

    This update documents the accounts, passphrases and two-factor secrets
    that will be provisioned during a SecureDrop installation. Closes #759.

commit 370e0153204e3c11bead783db90c4edfa220ed73
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Thu Nov 20 09:13:39 2014 -0500

    Plural pronouns and small edit

commit f25b43cde96e047b7f6e8b3a92ed68ff1d0686e8
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Nov 20 08:43:27 2014 -0500

    Indentation should be consistent with the rest of the docs

commit 099037d1ae2874cbd66b82a4c2db7f733e7a3a61
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Nov 19 13:47:23 2014 -0500

    As discussed in #744, it is OK to TOFU the SSH fingerprints for the
    Application Server and the Monitor Server. This commit removes the TODO
    item from the guide and resolves #744, it also adds consistency to the
    ssh-copy-id and ssh examples.

commit 98f9c1aaa0fffeea1ca4acb137e9f2c1d3265571
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Nov 19 12:16:39 2014 -0500

    Fix indentation

commit b9b945c389c0f5dc6565702f7f5cc43e157d5a79
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Nov 19 11:42:49 2014 -0500

    Added instructions for downlaoding and verifying the FPF master signing
    key. I need @ageis to update this document later on with the correct
    link to the key on the FPF website.

commit cb2076345cd088d7d81869acd419d347ad4b2b4d
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Nov 19 10:42:22 2014 -0500

    Decided to clean up the section about USBs, DVDs and CDs, also updated
    the section that talks about setting up the Admin USB with links to
    instructions on the Tails website. Closes #741.

commit 7b16be765eafb8542650645fdd829ea9f4f4e995
Merge: ca86ef63 97fefe45
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Nov 18 15:31:10 2014 -0800

    Merge pull request #757 from ageis/develop
    
    Update repository domain to freedom.press

commit 97fefe45f4240d36d4d2162d7844cfa05f70ca8a
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Tue Nov 18 17:06:58 2014 -0500

    Update repository domain to freedom.press

commit ca86ef63910bed1231433a2cf6dc8ce8802f75c3
Merge: 150ae238 45949798
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Nov 18 12:10:36 2014 -0800

    Merge pull request #756 from runasand/develop
    
    Remove Authy, as discussed in #752

commit 45949798f8ccd8bf1e1efa47861d30987b7ccaf9
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Nov 18 14:45:08 2014 -0500

    Remove Authy, as discussed in #752

commit 55f01388976e7cbb943b450c2eafa384abb7070b
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Nov 17 13:34:05 2014 -0800

    securedrop-grsec metapackage version should match grsec version
    
    Previously the `Version:` of the securedrop-grsec kernel metapackage was
    tracking the SecureDrop/securedrop-app-code version. Since the
    metapackage tracks the grsecurity upgrades, and is independent of the
    version of SecureDrop, it makes sense for the version of the metapackage
    to match the grsecurity version.
    
    Updated the deb builder (which we currently only use to build
    securedrop-grsec) to get the version for the filename from the Debian
    control file. This is important, since in my testing aptly refused to
    add two packages with the same filename to the same repo (even if their
    `Version:`s were different).
    
    Also makes `build_meta` slightly more generic, to fit its name and
    intended purpose. Also changed some variable names for clarity.

commit 5e7b1e4ba90a730d3e8949eec24d78b66c82d065
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Nov 17 13:07:25 2014 -0800

    Comment out FPF repo setup in deb builder script
    
    I did this for two reasons:
    
    1. We aren't using any packages from the repo to build the debs at the
    moment (if you think about it, that's kind of a catch-22), so commenting
    this has no impact on building debs. Also, running `apt-get update`,
    which is relativley slow, for no reason is a waste of time.
    
    2. During testing, this created a catch-22 where I wanted to build the
    debs so I could add them to the repo and publish the snapshot, but this
    deb builder script wouldn't run unless the repo already existed.
    
    We may be able to remove this code entirely, but I decided to leave it
    in for now in case it is useful for something that I didn't recognize.

commit 150ae238533371869b6725efab22deb63e3513a0
Merge: 54e005c5 d615f23c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Nov 17 12:31:47 2014 -0800

    Merge pull request #731 from runasand/develop
    
    Updated config with steps to verify and some other bits and pieces

commit 54e005c5b65adf570bef475890096cbe39af0fc2
Merge: ff2a0619 63ac0c31
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Nov 17 12:29:19 2014 -0800

    Merge pull request #754 from ageis/develop
    
    Install NTP on Monitor Server

commit d615f23ca7ef4ff165f83cbaf1d33a5a5e848bd6
Merge: a7942806 ff2a0619
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Mon Nov 17 15:16:21 2014 -0500

    Merge branch 'develop' of https://github.com/freedomofpress/securedrop into develop

commit a79428066b5380e09ed73553076eab93cab39836
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Mon Nov 17 15:12:37 2014 -0500

    Updated with suggested changes (thanks @garrettr!)

commit 63ac0c31dcf082b33bf8a77edd96df8dc552893a
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Mon Nov 17 15:02:33 2014 -0500

    Update install_ntp.yml

commit 79e7d544998697e831b24bd1f6c8731985ae6268
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Mon Nov 17 00:44:00 2014 -0500

    Install NTP on Monitor Server

commit ff2a0619732f8ddfeaad3df1c638493b780a7866
Merge: 5bd8600a a6fcad3b
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Nov 16 12:03:16 2014 -0800

    Merge pull request #740 from freedomofpress/packaging-fixes
    
    Packaging fixes

commit 5bd8600a43339f2d76f2e222736cbcb1862350ad
Merge: 7914aa22 30fd4e8a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Nov 16 12:02:51 2014 -0800

    Merge pull request #737 from freedomofpress/readme-fixes
    
    Merge install docs and update top-level README

commit 7914aa223f613ee08cea65474a8cf9135f6b50c1
Merge: 00d8553b 0beb8ec5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Nov 16 11:59:52 2014 -0800

    Merge pull request #735 from freedomofpress/reachable-addresses
    
    Remove ReachableAddresses from app and mon torrc

commit 00d8553ba3b117aaab908b29f520824426eaab76
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Fri Nov 14 21:23:20 2014 -0500

    Add ntpd to dependencies
    
    #739

commit 30fd4e8ad1083041dc27d987c7d81532651385f2
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Fri Nov 14 20:02:02 2014 -0500

    Minor corrections

commit 90dcc7837b21db4fa3bb066a06bf35efdf1097fb
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Fri Nov 14 19:10:21 2014 -0500

    Change pressfreedomfoundation.org to freedom.press

commit f5f0e8777722937ba5812bd5b5bcf7f971bd7493
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Fri Nov 14 19:08:37 2014 -0500

    Update FPF domain

commit 4dc47e3deb10f11cee057d0238e3658f34340f5c
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Fri Nov 14 19:08:17 2014 -0500

    Correct FPF domain

commit a6fcad3b41e0157d830e58fe03953cb9837f2631
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Nov 14 15:26:26 2014 -0800

    Get build_deb_packages.sh working
    
    * Update the path to the fpf-signing-key file, which was moved
      in a refactor.
    * Always create the build artifacts directory to avoid an error on first
      run

commit 1256a3189fe20c2d618e6bf8f74bdb3125040ddd
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Nov 14 15:25:23 2014 -0800

    Build OSSEC agent deb in app-build by default
    
    I had previously asked James to disable building the OSSEC debs in
    app-build because it was slowing down my debug cycle. However, I think
    in general this is the right thing to do.

commit 65a5413be71a21f14d486b3c9660ba66a71a278f
Merge: aed63e52 78600261
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Nov 14 14:21:08 2014 -0800

    Merge pull request #730 from dolanjs/env_diagram
    
    updated network diagram

commit 486c670e2180997c76456393d1ac7e458bb2b71c
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Fri Nov 14 00:22:30 2014 -0500

    Correct FPF domain

commit 282aedbe0b842de76d55258f9256adcfb00ad62e
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Fri Nov 14 00:20:45 2014 -0500

    Correct FPF site URL

commit 5c9dfd4467f643ce6196bd4da9b7cb7fd4bbe84e
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Nov 13 09:16:06 2014 -0800

    Add TOC to install document

commit 4ee4a7f8cbd35a420652952295becbdc4f99eab0
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Nov 13 09:12:47 2014 -0800

    Merge full_install.md into install.md
    
    Also splits the Google Authenticator instructions into a separate
    document.

commit c270f0e8cea2e98351058d97b70700a63667eb05
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 20:01:44 2014 -0800

    Try different image link on Github

commit 3763bf8985fc07c3ac1de8f22f0ddebe74151a61
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 19:26:48 2014 -0800

    Remove "before you begin" from README (should be in install docs)

commit 6af54c035aabe52f72960b56bbea7b9b126447f4
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 19:16:48 2014 -0800

    Better organization of howto sections

commit be5a2eb89037f6899ec7e4f52b86632b86809f51
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 19:08:26 2014 -0800

    Explanation and recommendations for possible choices of transfer device

commit 2ceacd0af323a59ea2a331b29adbaf7ff4604ed7
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 19:05:18 2014 -0800

    Recommend removing unneeded hardware from the SVS, and clarify

commit def1ea6a7aaf4f63e94869ae8a210222bb555ba1
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 19:04:35 2014 -0800

    Add acronym for Secure Viewing Station, grammar fixes

commit 50ebf5190a8f6c4b03e2fcb4824928a15eb5ddb6
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 19:02:18 2014 -0800

    Cleanup links and formatting for README's "how to" sections

commit 6be4cbb3bbbc9d7dd5cf11c634bce7bc4a813de8
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 19:01:35 2014 -0800

    Move contributors link below technical summary for better top to bottom flow

commit 04f791c2a5f813c3fc41498a24376ab881c78982
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 18:42:18 2014 -0800

    Fix broken link and update prereqs in install doc

commit 17df639a6de6f523172f8c8363948eae09d4ca95
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 18:38:26 2014 -0800

    Clarify and move instructions for contributors above the fold

commit f17fdcddf0c4105c2e81cc9f368c01e56dd2d690
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 18:36:47 2014 -0800

    Remove links to outdated demo instance

commit 0beb8ec5103584ea2aa2bd4a5f0475c6116e684b
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 13:53:57 2014 -0800

    Remove ReachableAddresses from app and mon torrc

commit 0ddef15926663575f7cad95d2fe5e0fbf4adc26a
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Nov 11 12:32:17 2014 -0500

    Remove extra whitespace

commit 22cacd114d7d60c3deae019b5b855c22816721e9
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Nov 11 12:28:26 2014 -0500

    Updated config with steps to verify and some other bits and pieces

commit 78600261eb5ac95490050fcc1c6b933fa3b048ca
Author: James <james@freedom.press>
Date:   Tue Nov 11 00:01:14 2014 -0500

    updated network diagram.
    
    Added a network/environment diagram. Protocols, dependencies and other information is displaced.

commit aed63e52e2a358480975b9dcbe792ba309e4e45d
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Nov 9 23:20:21 2014 -0800

    Ignore emacs autosave files

commit 22213620c3cd16e4af2853981a788ec0a5071171
Merge: 8571d5e5 54feaff2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Nov 9 16:23:03 2014 -0800

    Merge pull request #729 from ihmccreery/functional-test-admin-logout
    
    fix unecessary workaround in journalist logout functional tests

commit 8571d5e50f79421f0265daa040b1d1133dc0914a
Merge: 56036e24 7f13e0ea
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Nov 9 16:19:16 2014 -0800

    Merge branch 'patch-1' of https://github.com/mfauzy/securedrop into mfauzy-patch-1
    
    Conflicts:
            docs/develop.md

commit 56036e24860ff0d78c47e30f6ae7ecaa0a83bc83
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Nov 9 16:15:37 2014 -0800

    Additional advice for iTerm users who get messed up QR codes

commit 1fa7a9d65aa658118d01a12ebf0fe1acc1fce097
Merge: 90cb9d77 8117a68f
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Nov 9 16:09:46 2014 -0800

    Merge branch 'qr-font' of https://github.com/ihmccreery/securedrop into ihmccreery-qr-font

commit 90cb9d77df0b03a025cbe844c6949abe0c3617af
Merge: 129a8b1c 071cd48d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Nov 8 17:25:48 2014 -0800

    Merge pull request #723 from freedomofpress/feature/manage-restart
    
    Add manage.py restart command

commit 129a8b1c91fc668be303093bae8d816d7b9f5371
Merge: fb145022 3a7e77c1
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Nov 8 17:23:11 2014 -0800

    Merge pull request #720 from freedomofpress/fix/readme-hacking
    
    Add hacking instructions to README

commit 54feaff2a532bb2e4f3af3db71181384f441ee11
Author: Isaac Hollander McCreery <ihmccreery@gmail.com>
Date:   Sat Nov 8 17:18:15 2014 -0800

    fix unecessary workaround in journalist_navigation_steps.py functional tests

commit fb14502244068033994288d548c47213821802d0
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sat Nov 8 17:02:04 2014 -0800

    Update development directions to work on Debian too

commit d5c68913676585f52aaf06ec739b587e4a07f863
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sat Nov 8 16:49:20 2014 -0800

    Clean up develop docs
    
    Everything up through describing the development environment should be
    good. The sections on the staging and prod environments could use more
    work.
    
    The intial setup instructions could also use testing.

commit 7f13e0ea6a915d65628397fe8951cd305c8631a3
Author: Mike H. Fauzy <mfauzy@sonatype.com>
Date:   Sat Nov 8 16:43:57 2014 -0800

    Update to correct downloads location.
    
    Note that https://downloads.vagrantup.com/  was giving an SSL error.

commit 7e95b7382d6c099f93d749ecf2ca3dfdfcb04aba
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 31 19:03:32 2014 -0400

    Test out automatic TOC with doctoc

commit 77196deb4cb894a82f2a3f2877daa7ab4a16497a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 31 18:56:43 2014 -0400

    Add instructions for adding new users using Yubikey
    
    Some organizational and formatting tweaks and typo fixes as well.

commit 8117a68f4dc8cdbc8c8cc2d6733ed385042148d5
Author: Isaac Hollander McCreery <ihmccreery@gmail.com>
Date:   Sat Nov 8 16:03:33 2014 -0800

    add message below ascii QR code to alert users to change their font if necessary; closes #632

commit 071cd48d831aab66d81e9ccb921d45d0f93cfc80
Author: Yan Zhu <yan@mit.edu>
Date:   Sat Nov 8 14:36:19 2014 -0800

    Add manage.py restart command

commit 3a7e77c13301a041ce9a5f747cda2b5b3d41b15a
Author: Yan Zhu <yan@mit.edu>
Date:   Sat Nov 8 11:49:00 2014 -0800

    Add hacking instructions to README

commit ee1b94d73befdc8fdecb527588e1c8fdb67be957
Merge: bd45c495 a0c50aff
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Nov 3 13:54:16 2014 -0500

    Merge pull request #717 from dolanjs/cron-apt
    
    Cron apt

commit a0c50affa15fc4e6effa9ee2340bd5dc4cf0d463
Author: James <james@freedom.press>
Date:   Sun Nov 2 21:37:58 2014 -0800

    re-added disabling swap with `swapoff -a`

commit 176b57c9021654884f1143a3bceba6ca11d0dea0
Author: James <james@freedom.press>
Date:   Sun Nov 2 19:33:34 2014 -0800

    removed the unattended-upgrades that were replaced by the cron-apt

commit dd9137cf1a5aeb8f6186b326f0f519b4efe42b03
Author: James <james@freedom.press>
Date:   Sun Nov 2 18:59:42 2014 -0800

    replace unattened upgrades with cron-apt.
    
    The ubuntu security repos, fpf and tor repo are listed in `/etc/apt/security.list`
    
    Every night at 4am the apt-get update for the repos listed in `security.list`
    
    If a package requires a reboot it creates the /var/run/reboot-required file.
    
    Every night at 5 am if that file exists the system will reboot.

commit bd45c4956a6e88d1941200b1d0ce9cd84533f559
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 31 19:41:25 2014 -0400

    Make sure the database is owned by the securedrop user after migration

commit 4809a249526c4f0b691fd6ab7c485cf26c48a451
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 31 19:28:27 2014 -0400

    Update migration script to handle bug due to deleting sources with changed codenames

commit 77709aac1d45e56faf333dbe826c4e616886727a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 31 18:19:11 2014 -0400

    Init db for migrate script to ease repeat runs

commit eb907a1180e3c91a8a5333f42df3f4b191543a4a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 31 15:08:32 2014 -0400

    Properly migrate sources who have no submissions stored

commit fe95885c6017fe716ac8777dc17117507804087e
Merge: 7f1d97f7 90c9d53c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 31 12:16:59 2014 -0400

    Merge pull request #715 from freedomofpress/migration-scripts
    
    Migration scripts

commit 90c9d53c51fed16f1e366c06a88427ba46c31cef
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 31 12:08:07 2014 -0400

    Add directions for migrating a SecureDrop instance using these scripts

commit 490b5b72e758eab32860c1be4d562debf1f3bd90
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 31 12:07:35 2014 -0400

    Load files from absolute paths so this can be run from anywhere

commit 1747dd26bbbe5d5d75d4bc39bc667c4e9367d9f2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 31 06:39:53 2014 -0400

    Add script to migrate 0.2.1 to 0.3

commit c77817f0fc755744d847d4e14a7cd9e097731fd2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 31 03:38:57 2014 -0400

    Add usage message to collection script

commit f70596c2e12361632cbccfc4b3213b9904942d81
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 30 16:13:06 2014 -0400

    Use absolute paths for Tor file backups for consistency

commit e21736c4efe6d35bec54afcf12f01bf55697b140
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 30 15:50:17 2014 -0400

    Separate function for collecting db, for cross-script clarity

commit 87283d82180b080c66c9835d5377b8704b9d51a5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 29 13:34:12 2014 -0400

    Fixes to the 0.2.1 collect script after testing

commit 27da974ff474c4826d5cbf73b791f5f1b7537f91
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 29 11:22:28 2014 -0400

    Script to back up essential data from a 0.2.1 instance

commit 7f1d97f75a94745e9dcd2553f650d40f231f9efd
Merge: 00aab996 3c155a41
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 30 14:31:06 2014 -0400

    Merge pull request #714 from dolanjs/fix-ossec-dependency
    
    Fix ossec dependency

commit 3c155a41f4b11829900bd93871d7e934ab43427e
Author: James <james@freedom.press>
Date:   Thu Oct 30 10:45:47 2014 -0700

    removed the mon_install_fpf_deb_pkgs.yml file. It was not included in that roles main.yml so wasn't being used.

commit f97625bc1e1295112872002091518c26456f39c9
Merge: 50215346 00aab996
Author: James <james@freedom.press>
Date:   Wed Oct 29 19:29:42 2014 -0700

    Merge remote-tracking branch 'upstream/develop' into fix-ossec-dependency

commit 50215346ba467136fea199ecdc05acbe97daa8bb
Author: James <james@freedom.press>
Date:   Wed Oct 29 13:11:01 2014 -0700

    added back ossec dependency

commit 00aab99694d524cce11130bbce04f49c013720e3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 29 15:58:19 2014 -0400

    Echo confirmation message on success of tails files install

commit c971b045e63517ceab1c26ca49a6e1ec436d92a8
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 29 15:57:52 2014 -0400

    Fix path in tails_files C wrapper

commit 8f4c932d38cff49c9fd12155c6a57e86fc8ba3d5
Merge: b8ff0221 ad7fb87c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 29 15:52:50 2014 -0400

    Merge pull request #713 from dolanjs/add-tags-to-speed-staging
    
    Add tags to speed up staging provisioning

commit ad7fb87c5118eee5a2d2f8eac6ad72a02fd58e6a
Author: James <james@freedom.press>
Date:   Wed Oct 29 07:05:26 2014 -0700

    added tags so you can skip building the ossec packages when provisioning app-build

commit b8ff0221bb7bed3fcaddb6897dbac2fb7b945f98
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 29 11:51:24 2014 -0400

    Fix bug when un-starring a source that hasn't been starred

commit 45cdcad2e5220d76961d12e5d183ecf30888333d
Merge: 835b0d9e b6f97d3f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 29 11:25:32 2014 -0400

    Merge pull request #712 from dolanjs/apparmor-2
    
    updated apparmor profile and sorted the list.

commit b6f97d3f48864253c0d0ad80db318fed655bedf5
Author: James <james@freedom.press>
Date:   Wed Oct 29 07:06:56 2014 -0700

    updated apparmor profile and sorted the list.
    
    updated the securedrop-app-code deb package's postinst to put the apparmor profiles in enforce mode

commit a00c49860840bad90d4724c74a78af997957311c
Merge: 6869e1dc 835b0d9e
Author: James <james@freedom.press>
Date:   Wed Oct 29 05:15:28 2014 -0700

    Merge remote-tracking branch 'upstream/develop' into add-tags-to-speed-staging

commit 835b0d9e17583a6793ab8932b1535648006ac8a0
Merge: 8f436e7d b52cbc37
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 29 07:24:34 2014 -0400

    Merge pull request #711 from dolanjs/apparmor-profile
    
    updated apparmor profile for current functionality

commit b52cbc37141742d76f570a4f0c7a69f539379ca6
Author: James <james@freedom.press>
Date:   Wed Oct 29 03:54:03 2014 -0700

    updated apparmor profile for current functionality

commit 6869e1dc470975921a4818fb5a9caa490de4f82d
Merge: 1155ed73 8f436e7d
Author: James <james@freedom.press>
Date:   Tue Oct 28 23:52:40 2014 -0700

    Merge remote-tracking branch 'upstream/develop' into add-tags-to-speed-staging

commit 1155ed73ccda1bd4be1ff3ce266b0296c836ebae
Author: James <james@freedom.press>
Date:   Tue Oct 28 22:52:20 2014 -0700

    Tor is required to be installed prior the securedrop-app-code deb package is installed or the apparmor profile that is part of the securedrop-app-code deb package will error our for the tor abstractions not being present

commit 35c4cd23797e1cc14a306c6304bc45bf254b18a4
Author: James <james@freedom.press>
Date:   Tue Oct 28 22:01:46 2014 -0700

    removed the distribution_release to the built in ansible codename

commit ada9128f3812fa5e0336b6ef4c45d2c2d086b7c9
Author: James <james@freedom.press>
Date:   Tue Oct 28 21:58:37 2014 -0700

    moved install fpf repo to role
    
    the fpf repo is required for the app, ossec and agent tasks when not installing those packages locally.
    
    this will allow skipping the common role when testing the app.

commit 702800620531372efbbfa681cfca380fbfda87a0
Author: James <james@freedom.press>
Date:   Tue Oct 28 21:43:25 2014 -0700

    added a app-test role to skip when updating app-armor profiles

commit c2626b025cd7bd093d3739c1e07972fb47f47536
Author: James <james@freedom.press>
Date:   Tue Oct 28 21:42:43 2014 -0700

    added a common role that can be skipped only in the staging environment.

commit e4c3c4709c271eb574b3c263af4755f3b6b8f18c
Author: James <james@freedom.press>
Date:   Tue Oct 28 21:36:16 2014 -0700

    removed the ossec agent package from the being part of the app role. The ossec agent package already gets installed as part of the ossec_agent role.

commit a36f892934fdbd442e9a2da28381563204dbefb1
Author: James <james@freedom.press>
Date:   Tue Oct 28 21:20:04 2014 -0700

    add ossec tag
    
    added an ossec tag to the ossec agent tasks.

commit 8f436e7d9092835991b0b5116964e47752b56a69
Merge: dfb65533 32c7e234
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 22:24:38 2014 -0400

    Merge pull request #710 from freedomofpress/haveged-waterline
    
    Haveged waterline

commit dfb65533f276ff9cc6454ace36a5df4924eb04b8
Merge: af5e3a6d 90632909
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 22:23:53 2014 -0400

    Merge branch 'trevortimm-admin-documentation' into develop

commit 906329094369256e46c83594c9b55dec3ab9a54c
Merge: af5e3a6d d850c886
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 22:22:31 2014 -0400

    Merge branch 'admin-documentation' of https://github.com/trevortimm/securedrop into trevortimm-admin-documentation
    
    Conflicts:
            docs/user_manual.md
    
    There was a merge conflict in user_manual.md, but since it's been split
    into two separate guides (source_user_manual.md and
    journalist_user_manual.md), I decided it would be best to simply delete it.

commit 32c7e2340b726bedf1cef049144d064185d8f05a
Merge: 9d6bfb9c af5e3a6d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 22:16:12 2014 -0400

    Merge branch 'develop' into haveged-waterline
    
    Conflicts:
            install_files/ansible-base/roles/app/tasks/main.yml

commit af5e3a6d2e38210793db95de860d74e880e8ef62
Merge: 7a6806f0 05ab91ff
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 22:15:09 2014 -0400

    Merge pull request #709 from freedomofpress/fix-download-unread
    
    Fix download unread

commit 05ab91ff838a90d6a181917e940aca6ed18a0653
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 22:10:48 2014 -0400

    Create SecureDrop TEMP_DIR for tests

commit 9d6bfb9c2bc62ac109d627f02cf38551bb342cbf
Merge: c1894114 7a6806f0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 21:54:02 2014 -0400

    Merge branch 'develop' into haveged-waterline

commit ed6c89221dfd5c4b82db2000017239e094e31cd2
Merge: 4f8fc267 7a6806f0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 21:53:30 2014 -0400

    Merge branch 'develop' into fix-download-unread

commit 7a6806f095017ea998e49f62f61e946156df574e
Merge: 70bdf8f6 b274d468
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 21:52:47 2014 -0400

    Merge pull request #708 from dolanjs/redis-fw-rules
    
    added firewall rule for the redis worker.

commit 70bdf8f653ba60bb10803f7ec8685d94927d9c08
Merge: 211fb1c2 c4d11264
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 21:52:27 2014 -0400

    Merge pull request #707 from dolanjs/move-authd-exemptions-to-handler
    
    changed task for authd fw exemptions to a handler

commit 211fb1c2c1c431c11046a38970212b11d378809f
Merge: aea88392 ed709f40
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 21:52:03 2014 -0400

    Merge pull request #706 from freedomofpress/preload-js-warning-bubble
    
    Load the JS warning bubble in the initial HTML

commit c189411459ce48be2764985ae0017706001b6efe
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 21:51:05 2014 -0400

    Adjust haveged settings to minimize occurence of "flag for reply" flow

commit 4f8fc267c8a816f7dc7510579f0b60fdb50db051
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 20:52:09 2014 -0400

    Ansible task sets up daily cron job to clean up SecureDrop temp dir

commit c294500c959f8fe24de2202202fdda1e26afaecb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 20:17:12 2014 -0400

    Add manage.py command to clean out SecureDrop's temp dir
    
    This command is designed to be run as part of a regular cron job to
    prevent this directory from accumulating past downloads and eventually
    exhausting disk space. This command checks to see if a file is in use by
    a process before deleting it, so it will not delete files that are in
    the process of being downloaded.
    
    Tested that this command cleans the tmp dir and does not interrupt
    ongoing downloads on staging.

commit b274d468addb360bee69afa7e667e3811a636f09
Author: James <james@freedom.press>
Date:   Mon Oct 27 16:24:26 2014 -0700

    added firewall rule for the redis worker.
    rules has to be in place before the generic drop rule of all of the securedrop users traffic.
    
    added the complain flag to rest of the apparmor profile for testing

commit 713991e21be298fb47aa19020010064fd293744a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 27 22:46:44 2014 -0400

    Save bulk downloads to SecureDrop-specific tmp dir
    
    In order to serve bulk downloads with X-Send-File, we need to save them
    in a SecureDrop-specific temp directory to avoid allowing Apache to
    serve all of a default temp directory such as `/tmp`.
    
    This commit also adds timestamps to the bulk download .zip filenames to
    make them easier to work with.
    
    Tested successfully on staging.

commit ad42bdd004f9fb68a7bc4796bf00c67ecb8a12be
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 27 22:46:10 2014 -0400

    Fix typo in ossec package name

commit c4d112648f0a3ef5eeb4b261dce70a1d345790e3
Author: James <james@freedom.press>
Date:   Mon Oct 27 16:21:16 2014 -0700

    moved the add authd firewall exemptions from a task to handler to avoid matching multiple conditions.

commit d850c8862e4c65c8c5690825b57b1e463594e9f9
Author: Trevor Timm <trevor@freedom.press>
Date:   Mon Oct 27 13:50:15 2014 -0700

    update full_install.md
    
    fixed Garrett's complaints

commit 777af3e05f714012a4572ac697a1f4a9862586a4
Author: Trevor Timm <trevor@freedom.press>
Date:   Mon Oct 27 13:46:03 2014 -0700

    updates source_user_manual
    
    Slight changes up top to delineate this is now separate from the journalist user guide

commit ed709f4056e1a2847923e666ea6ce29101739a51
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 27 15:56:30 2014 -0400

    Load the JS warning bubble in the initial HTML
    
    Loading the JS warning bubble in the initial HTML (it is hidden at first
    by the CSS) triggers the loads for the icons right away. Previously, we
    were generating the bubble's HTML in JS and then appending it to body,
    which triggered the image loads once the element added (and thus,
    visible). This caused the bubble to load without the icons at first due
    to Tor's general sluggishness.
    
    Doing it this way means the icons will probably already be loaded by the
    time the user has read the JS warning and decided to click the link,
    which provides a better experience overall.

commit aea88392d7b197219f43df0d3a26a1621eb05c0c
Merge: 9fa8daa2 568d7633
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 27 15:28:59 2014 -0400

    Merge pull request #703 from freedomofpress/dont-armor-submissions
    
    Don't ASCII-armor submissions

commit 9fa8daa27b8151b6aedeb5d7fc8bee8e3bf4968b
Merge: 481e12fe 270e49ca
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 27 15:18:01 2014 -0400

    Merge pull request #704 from dolanjs/fix-local-install
    
    Fix local install

commit 270e49ca975f37567ec064103c260be76352c8c7
Author: James <james@freedom.press>
Date:   Mon Oct 27 09:12:48 2014 -0700

    removed creating the securedrop_data dirs in the debian package per @garrettr request.
    removed the line for restarting tor since that is purely an ansible role now

commit 54de94b731a196f35fae4da1264db7f47eaa3ee6
Author: Trevor Timm <trevor@freedom.press>
Date:   Mon Oct 27 09:21:37 2014 -0700

    update readme.md
    
    added links to source and journalist manual

commit 27edd8b8859392169fc7aba56137514dbdfa2081
Author: Trevor Timm <trevor@freedom.press>
Date:   Mon Oct 27 09:19:57 2014 -0700

    update journalist manual
    
    made clear journalists need to use tails, not just tor

commit c242947f3d6c54298eef3f3fedfeaf1f36ad772e
Author: James <james@freedom.press>
Date:   Mon Oct 27 09:11:32 2014 -0700

    changed the names of the virtualized prod like VMs to app-prod and mon-prod instead of app-demo and mon-demo

commit 4ed51dc8c96067cb0cf20864954ce12668356adc
Author: James <james@freedom.press>
Date:   Mon Oct 27 08:48:52 2014 -0700

    removed the tor dependencies from the securedrop-app-code debian control file.
    
    Tor is installed and configured by ansible now. Having tor listed as a dependency in the deb package required tor to be installed when testing.

commit 568d76337696a13690ad5629ff711666a06011df
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 27 08:46:40 2014 -0700

    Modify unit tests to not expect armored GPG

commit 1e3efdfc045d74350e28ed0267cf7f65d567fbef
Author: James <james@freedom.press>
Date:   Mon Oct 27 06:53:59 2014 -0700

    have the securedrop app package create all of it needed directory structure
    
    the current ansible create app dirs tasks should be needed for development env

commit e5f7b5551a3efbc3cde70b60879562dc3cc9e8f1
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 27 05:47:36 2014 -0700

    Don't ASCII-armor encrypted submissions
    
    There is no reason to ASCII-armor submissions, and it wastes a
    significant amount of space due to the encoding. This is a major
    usability cost for journalists, especially when downloading large
    submissions over Tor.

commit 481e12fefdf9b789b58e5077c862cbbdd9748c2d
Merge: 4aa0f4f2 07d10bc3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 27 05:43:31 2014 -0700

    Merge pull request #702 from freedomofpress/fix-deb-path
    
    Fix path for building grsecurity meta-package

commit a19e87d6a3ad6aae576d7e695632dc918541adf7
Author: James <james@freedom.press>
Date:   Sun Oct 26 22:01:41 2014 -0700

    switched VM to run the their specific playbook. Running the site.yml will run all the playbooks contained in it.

commit 899ddd76b053269f820316361667724608b8ae51
Merge: b8fd8449 21bca33e
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Oct 26 19:23:01 2014 -0700

    Merge pull request #3 from dolanjs/patch-1
    
    fix spelling typo

commit b8fd84495e03fafd91b5d07e72ea7dc8afcf2055
Merge: b8c7ce96 090a1468
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Oct 26 19:22:35 2014 -0700

    Merge pull request #5 from ageis/admin-documentation
    
    Update screenshots for 0.3

commit b8c7ce961b2b4c4681c359d2849b3203b4a5caaa
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Oct 26 19:20:50 2014 -0700

    update install.md
    
    made some minor clarifications to the generating key portion

commit 7273b96eff1c251cb678261646140316f144f792
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Oct 26 19:20:16 2014 -0700

    update full_install.md
    
    made it more dumb person proof. Got up the the point of the ansible playbook. still some TODOs in there

commit 090a1468f45be8807a1a4cad0d830135637c9d8b
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Sun Oct 26 21:57:37 2014 -0400

    Update screenshots for

commit 07d10bc3c44696369b776bf076ad8c7555cd7255
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Oct 26 18:57:34 2014 -0700

    Copy built grsec metapackage to the root dir

commit d22a9132ef9f71bb1c42904751038ed8e6761143
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Oct 26 18:51:25 2014 -0700

    Fix path for building grsecurity meta-package

commit 4aa0f4f2b0f47640147ef94f70c854a393e93755
Merge: c27af8cc a0791ffc
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Oct 26 15:08:05 2014 -0700

    Merge pull request #701 from dolanjs/build-env-fix
    
    Fixes for build env VMs and playbook

commit a0791ffca3eaf12aba8fda72cc3efdef2f0dfe0d
Author: James <james@freedom.press>
Date:   Sun Oct 26 14:56:21 2014 -0700

    Fixes for build env VMs and playbook
    
    changed the build deb pkgs playbook to use the development-specific.yml var file instead of staging.
    
    updated the virtualbox names of the /build$/ VMs.
    
    *** Changes to Vagrantfile warning ***
    You will want run `vagrant destroy /build$/ -f` prior to merging this change or will get vagrant errors later.

commit c27af8cc22dabdb07481cc241f631b841de51911
Merge: a0c683bd d00fa501
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Oct 26 14:28:45 2014 -0700

    Merge pull request #700 from dolanjs/grsec-meta-package
    
    Grsec meta package

commit d00fa501d759c797933e96cdf1dcd47120c5cf9e
Author: James <james@freedom.press>
Date:   Sun Oct 26 14:00:49 2014 -0700

    updated email address per @garrettr's note.
    
    updated script with correct build dir.
    
    Going to put the package in the repo and test before we should merge this pr.

commit 7657d18d6cf9d7a7abd7eb1f736aef90c09fd0ef
Author: James <james@freedom.press>
Date:   Sun Oct 26 13:37:23 2014 -0700

    Update the grsec package in ansible vars
    
    This changes the package that ansible installs from the the grsec patched kernel to the securedrop-meta package.
    
    The package name needs to match the package line in the grsec meta package DEBIAN/control file`Package: securedrop-grsec`

commit 42ebb6c0e7218296ed8b73c76bc0a2b524663fa0
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Oct 26 13:39:58 2014 -0700

    Updated ubuntu.config.md for dummies
    
    This was already in good shape, but made it a little clearer for know-nothings like myself. Probably could use a quick read through for typos, etc.

commit 17376bf0c7c5a8fcf8a62c7b8ea4d6d7c11e2a4e
Merge: 29ed7657 a0c683bd
Author: James <james@freedom.press>
Date:   Sun Oct 26 13:33:36 2014 -0700

    Merge remote-tracking branch 'upstream/develop' into grsec-meta-package

commit 29ed7657ca718d49a540f677542434603a3a6e4d
Author: James <james@freedom.press>
Date:   Sat Oct 25 20:21:01 2014 -0700

    Added a control file required to build the securedrop-grsec meta package.
    
    removed the ossec and securedrop app portions from the build script since they are different now.
    
    ```
    vagrant up mon-build --no-provision
    sudo su
    cd /vagrant/
    ./build_deb_packages.sh
    ```
    
    dpkg does not resolve dependencies so testing is a 3 part process:
    
    ```
    dpkg -i /tmp/build/securedrop-grsec-0.3-amd64.deb
    apt-get -fy install
    dpkg -i /tmp/build/securedrop-grsec-0.3-amd64.deb
    ```
    
    There are other tools that you can install and use that do handle package dependencies for local deb packages.

commit a0c683bd3be44e92e6a6239c7bebaec7de0a810a
Merge: 47316c11 e56cab27
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Oct 26 12:54:41 2014 -0700

    Merge pull request #699 from dolanjs/build-vm
    
    Temp solution for testing local deb packages

commit 47316c118ae14b9ff52dd43f781943ab62edfcd7
Merge: b71e58f5 9e97f7a6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Oct 26 12:54:28 2014 -0700

    Merge pull request #697 from dolanjs/boot_into_grsec_first
    
    Boot into grsec first

commit b71e58f53a4a612adda3031540d007891c97b308
Merge: 2eceeb2f 990bbd4c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Oct 26 12:54:11 2014 -0700

    Merge pull request #691 from runasand/develop
    
    Get and verify the latest tag, import the key for another Ubuntu dev

commit e56cab27936460720b1c7bfbbbe13eef004445f7
Author: James <james@freedom.press>
Date:   Sun Oct 26 10:01:09 2014 -0700

    gave the two build vm separate names to avoid issues with name conflicts.

commit 4759b44a4ed0b1ff09af62e416ecf0af0f92262e
Author: James <james@freedom.press>
Date:   Sun Oct 26 09:53:58 2014 -0700

    removed installing the built deb packages for in the build-* roles

commit 3cc88e4e50aaad32e72d7ccfc3fba104f6013e73
Author: James <james@freedom.press>
Date:   Sun Oct 26 09:38:52 2014 -0700

    added two vm's to Vagrantfile, mon-build that builds the ossec server deb package
    and app-build that builds the ossec agent and the seuredrop-app-code deb packages

commit 21bca33e11f527d0bc44c92f4bbe784657bdfbb1
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Sat Oct 25 22:19:08 2014 -0700

    fix spelling typo
    
    Think this was suppose to YubiKey https://www.yubico.com/

commit 9e97f7a60ad3ec34161c2c2931b5240deab54872
Author: James <james@freedom.press>
Date:   Sat Oct 25 21:22:35 2014 -0700

    spelling and wording for tasks name.
    This change does not affect running any playbooks

commit 6728b1a0d29c61374a75c07645be0631dd3dcb0f
Author: James <james@freedom.press>
Date:   Sat Oct 25 21:04:01 2014 -0700

    removed un needed meta flush handlers to ensure it doesn't cause an issue in the future.

commit 96aae3931c2461384954bca671db11830eab6004
Author: James <james@freedom.press>
Date:   Sat Oct 25 20:45:26 2014 -0700

    renamed from - to _ to keep it consistent with the rest of the roles

commit d4fc59a7be013220fad046ca8b624c2fa8f73374
Author: James <james@freedom.press>
Date:   Sat Oct 25 20:04:00 2014 -0700

    added a tag to the validate role, and added skipping that tag for the demo instances for the demo instances. This is needed since the validate role will error out if the user is vagrant. This tag does not affect production installs and admin should modify the anisble command listed in the full_instructions.

commit 4a5e878a770b0f2f883eee63b1c51cadb3332c75
Author: James <james@freedom.press>
Date:   Sat Oct 25 20:02:18 2014 -0700

    removed ssh notify that could cause users to be locked out in staging environment. This does not affect the production install. For production install the iptables rules and ssh config are not applied until the server reboots at the end of the playbook.

commit 5a398fe4672d6fb6677d6add5714b29a51ac392a
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sat Oct 25 19:15:50 2014 -0700

    Updated source manual with v0.3 screenshots

commit 2eceeb2f59a8571e38903ba545ffd17f9d23f064
Merge: a568d1b6 ebc42f04
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 18:45:43 2014 -0700

    Merge pull request #698 from freedomofpress/fix/unittests
    
    Fix manage.py test_unit to use worker

commit ebc42f04337fbf678ed221c581580ac4682f263a
Author: Yan Zhu <yan@mit.edu>
Date:   Sat Oct 25 18:30:36 2014 -0700

    Fix manage.py test_unit to use worker

commit ef6b5f9ddaaf2366b176b4ab0691459fcf67303e
Author: James <james@freedom.press>
Date:   Sat Oct 25 18:11:59 2014 -0700

    removed trace of merge conflict for ubuntu_grsec doc

commit 364688893dae3a2c679615e41c4572b944e31ea4
Author: James <james@freedom.press>
Date:   Sat Oct 25 18:08:47 2014 -0700

    removed the authd tag from the travis script since it does not exist in the securedrop-travis.yml playbook.

commit 505b39ce980a74b9ac304e275250b2fa982d2eba
Author: James <james@freedom.press>
Date:   Sat Oct 25 17:55:45 2014 -0700

    removed old unused 'authd' tag from development vm

commit aac642a873aee0c845ca5368fad83d0683efc659
Merge: ba97b63a dd3eb2ea
Author: thisisparker <parkerhiggins@gmail.com>
Date:   Sat Oct 25 17:47:19 2014 -0700

    Merge pull request #1 from trevortimm/admin-documentation-p
    
    Separated out journalist manual

commit a568d1b68f6011c926b43ed5d2c3d7150d0400b2
Merge: e2a02480 c65bcae5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 17:45:27 2014 -0700

    Merge branch 'develop' into code-cleanup

commit 00e9bf16ed5a52e2f5ff3798cbeca1b46929a881
Merge: a78f44ad c65bcae5
Author: James <james@freedom.press>
Date:   Sat Oct 25 17:41:11 2014 -0700

    Merge remote-tracking branch 'upstream/develop' into boot_into_grsec_first

commit dd3eb2ea155a71c9ab6fc4d233f48d73d7007387
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sat Oct 25 17:40:48 2014 -0700

    Separated out journalist manual

commit a78f44ad188b2b3b51e442fb1a39413a7da28b9e
Author: James <james@freedom.press>
Date:   Sat Oct 25 17:36:59 2014 -0700

    fixes from demo testing. removed notify handler to reload iptables cause it causes the playbook to hang even with ignore errors.
    
    added a reboot role that only runs for demo and prod servers this will ensure that the iptables rules are loaded on reboot. Once the prod servers reboot they will only be available over tor.

commit 46139e636cdef4548353ced9df88a0bff6fe1cfc
Author: James <james@freedom.press>
Date:   Sat Oct 25 17:07:49 2014 -0700

    fixed spacing

commit 21db8ceb74c8edb463ee749908fd197861f99e89
Author: James <james@freedom.press>
Date:   Sat Oct 25 16:59:13 2014 -0700

    changed to default to skip installing local packages for the staging environment. This will force the staging hosts to install the fpf packages from the fpf repo.
    If you disable this option in the Vagrantfile it will look for the fpf_packages defined in install_files/ansible-base/host_vars/ for that respective host.

commit b0926a6473903d37be4d4b8cbad8048e8247e60e
Author: James <james@freedom.press>
Date:   Sat Oct 25 16:48:30 2014 -0700

    changed the name of the reloading iptables handlers to ensure the correct one was being called for the environment.
    
    set the restrict direct access handlers to fire and forget to avoid issue with the ssh connection being broken when the rules are applied and a race condition to detect success.

commit 6cb0dc394a3d05c7ef15560ad45fb631f545458f
Author: James <james@freedom.press>
Date:   Sat Oct 25 16:31:48 2014 -0700

    removed check to apply grsec lock. In the current order of events it should be there prior to this stage and we would want it to error if it was not setting the lock

commit c65bcae56a7b0dbce0077c75d1b3c09231f9ce3c
Merge: 67556c1d fb4b2ca4
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 16:15:42 2014 -0700

    Merge pull request #695 from freedomofpress/display-max-submission-size
    
    Add note about maximum submission size to source interface

commit 67556c1d58d96489bc6c6497a1cf81680a002bb1
Merge: 2299ec9a 6a05ceee
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 16:14:10 2014 -0700

    Merge pull request #693 from freedomofpress/sort-replies-by-date
    
    Sort replies by date

commit 2299ec9a5f25daa191316e1c28acdcedf53b4d51
Merge: ea67184e 0bbd7f20
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 16:13:50 2014 -0700

    Merge pull request #692 from freedomofpress/normalize-on-gpg
    
    Normalize on gpg

commit ea67184ec55bb73d3d8343eec580f6b1b3172feb
Merge: 4376d912 ba97b63a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 16:09:14 2014 -0700

    Merge pull request #694 from trevortimm/admin-documentation
    
    Add admin documentation, still needs screenshots, which I will add soon

commit ba97b63af3831291da08272f2267c8be778586bd
Author: Trevor Timm <trevor@freedom.press>
Date:   Sat Oct 25 16:06:45 2014 -0700

    Add admin documentation and screenshots for adding users

commit fb4b2ca4bacaa5d77a2af3b75e0162a2178fa985
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 15:59:02 2014 -0700

    Add note about maximum submission size to source interface

commit 8e898bd7de53831e8252b6787d1fd5a350c32e25
Author: James <james@freedom.press>
Date:   Sat Oct 25 15:39:21 2014 -0700

    added back handlers to ossec_server

commit c8e82872f3ac448b56be9808a5f5623227b8226d
Author: James <james@freedom.press>
Date:   Sat Oct 25 15:35:35 2014 -0700

    moved fetching the tor hostname files until the end of the playbook to give the server a chance to create all the certs first that take awhile to do.
    
    added missing handler for tor

commit 6a05ceeebcf8e664795727fcc922d3ba8c8bd78f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 15:22:04 2014 -0700

    Remove some trailing whitespace

commit 45ca7a3cc0c6872119eaa53b6fc7b944f33bf60f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 15:21:50 2014 -0700

    Sort replies in source interface by date sent

commit d88bc21d00903c44605cea2c5b0c6576ce90a197
Author: James <james@freedom.press>
Date:   Sat Oct 25 14:55:31 2014 -0700

    split the restrict_direct_access roles to specific restrict_direct_access_mon and restrict_direct_access_app till the ssh and iptables tasks can be rewritten then they can be combined back to restrict_direcct_access
    
    moved the iptables task to the from mon/app roles to restrict_direct_access roles.

commit 0bbd7f20453c53a801d97f7b9a4f43df30829bf0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 15:00:33 2014 -0700

    Look and feel improvements for admin and logout links

commit 7ac84c24c2dc6995a0b4f4a340ba44e333fddc55
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 14:46:26 2014 -0700

    Use GPG consistently

commit 42e5f72ebebf0cd448f5e3de6990f0d4ec0f1b94
Author: James <james@freedom.press>
Date:   Sat Oct 25 14:08:38 2014 -0700

    added missing handler
    added missing tasks
    had to move the set /etc/hosts tasks to the common-mon/common-app till it is rewritten
    commented out the iptables task for now while testing.
    removed old role names from prod playbook.
    had to move the set_etc_hosts_for_prod_env to the common-mon/common-app role till it is rewritten

commit 4376d912d80bf6f2e2a7d3eb562d149818b64ce7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 14:38:15 2014 -0700

    Re-add mysteriously missing @property for shared_secret_qrcode

commit 360e468bb279d870057eb3e348227220db2ebc66
Author: James <james@freedom.press>
Date:   Sat Oct 25 14:07:44 2014 -0700

    moved the agent auth and ossec-agent tasks to its own role. Just like the ossec-server role these tasks will check if iptables is present first and only add them if needed

commit f6bdcbd5ae76144813ad1f752570dc505e245370
Author: James <james@freedom.press>
Date:   Sat Oct 25 13:51:31 2014 -0700

    renamed the remaining mon role ossec server.
    Since iptables wont be created when authd is first run but the firewall exemption may be needed on future runs added a check to see if the rules_v4 file exists and the agent is added yet before adding the exemptions

commit 16bcff22243cd1e60f200ba03c4f1accfdad6218
Author: James <james@freedom.press>
Date:   Sat Oct 25 13:42:00 2014 -0700

    in the staging playbook had to move the install_local_pkgs role to host specific section.

commit 07ec61799bc8e5ad5e44d335e0a975665bf0a02e
Author: James <james@freedom.press>
Date:   Sat Oct 25 13:38:41 2014 -0700

    mv the tor roles from app to common-app. Once these tasks are re-written they can moved to the common role

commit 225bba28638343fdba68208830c006ca9dacdaf7
Author: James <james@freedom.press>
Date:   Sat Oct 25 13:28:45 2014 -0700

    moved the tor tasks from the mon role to a common-mon role. Once the tor tasks are re-written the common-mon role can be merged into the common role

commit 1ea8543d961d8f7237feb5855e1f8e1880a4f92f
Author: James <james@freedom.press>
Date:   Sat Oct 25 13:17:56 2014 -0700

    created restrict_direct_acces role and moved the ssh tasks to that role.

commit ac090b43027553664a71cf0b5c202fde8a22c7ea
Author: James <james@freedom.press>
Date:   Sat Oct 25 12:25:49 2014 -0700

    added the handler for iptables that was missing from app and mon roles

commit a18a555eddc0a0624bbf99dbaa3a8fd0ce6368d7
Merge: d382fcc9 22f5a0fe
Author: James <james@freedom.press>
Date:   Sat Oct 25 11:53:33 2014 -0700

    Merge remote-tracking branch 'upstream/develop' into boot_into_grsec_first
    
    Conflicts:
            docs/ubuntu_grsec.md

commit 990bbd4cefc275d84e93ba477914b883753f9e92
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Sat Oct 25 14:52:13 2014 -0400

    Updated with minor fixes (thanks, @garrettr!)

commit 6643c11848dd3e3deceb01f6fc3ebf45c87c5e2c
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Sat Oct 25 14:30:44 2014 -0400

    Get and verify the latest tag, import the key for another Ubuntu dev

commit 22f5a0fe0d1dfd85577090e45e773785da079421
Merge: d39d6bf8 8eb8b9b3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 08:25:47 2014 -0700

    Merge pull request #680 from dolanjs/authd-tasks
    
    Authd tasks

commit d382fcc9e77a10b77fa7c0b210ad09854e4e1e32
Author: James <james@freedom.press>
Date:   Sat Oct 25 06:20:45 2014 -0700

    updated develop doc

commit 95c567f63bbfdb994e21953decbc8d6de7b41145
Author: James <james@freedom.press>
Date:   Sat Oct 25 05:45:50 2014 -0700

    changed the way the vagrant file was setup to allow for ansible parallelism.
    
    also changed the name of the vagrant app and mon vm so app-demo and mon-demo. Doing this you can no also vagrant up /demo$/
    
    I didn't want to say production and get people confused.

commit c7f8865625ae86cefece814665ea1d83b1406ffb
Author: James <james@freedom.press>
Date:   Sat Oct 25 05:43:37 2014 -0700

    instead of the pip module trying to read a file on the local system's shared mount point (/vagrant) use the file packaged with deb package.
    
    also removed task to install the dependencies that the deb package installs.

commit 17701b102041e9a003dc6439c2a00062e60f954b
Author: James <james@freedom.press>
Date:   Sat Oct 25 05:31:50 2014 -0700

    removed refs to the build-securedrop-app-code and securedrop-ossec roles since we are migrating to pbuilder and those roles will not be the real process.
    
    added a role to install local packages the variable to set what packages should be installed in this host_vars section

commit 1e26a71d7826791a07235c99dc8e46caf77821ad
Author: James <james@freedom.press>
Date:   Sat Oct 25 04:54:43 2014 -0700

    split the remove ossec exemptions into two roles so that could control the order that the ossec agent server were restarted.

commit 12a0f1d0e7d1ad2a3d64572abd74f441a63fd214
Author: James <james@freedom.press>
Date:   Sat Oct 25 04:34:17 2014 -0700

    moved the grsec lock and unattended upgrades tasks to the common role. This will cause the server to reboot if needed before applying any other hardening (ssh/iptables) that would affect being able to access the server

commit 0d67df5ee2ae56f2ae8940ce12bad85424539277
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 23 21:30:17 2014 -0700

    Harden setuid binary for Tails torrc helper

commit e26f179ec192590e86357b7c5fafb0033ce4b31f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 23 14:32:51 2014 -0700

    Tip for speeding up dd on Mac OS X

commit b6f629cb6ba690b0c07c1630ced13b5fe35ad0a8
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 23 13:56:18 2014 -0700

    Update grsec kernel build docs to latest built kernel
    
    * Updates the docs for Ubuntu Trusty (14.04.1) because we switched to it for SecureDrop 0.3
    * Updates versions of grsecurity patch and linux kernel to the versions used in the most recent successful build of the grsecurity kernel
    * Fixes some formatting and trailing whitespace issues

commit 23b841367fe3a30b3df53f6b988bb3fafa1d4960
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 23 13:32:56 2014 -0700

    Split and merge full_install.md into separate, related docs
    
    Also updates instructions, formatting, and cleans up whitespace.

commit 1830f471bf2ad714af71a7e22894fddd9df01597
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 14:42:06 2014 -0400

    Nitpick on javascript warning

commit 90ee0f577eb759ad8f36aef28a55e923c4661581
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 14:16:57 2014 -0400

    Journalists need username, password, 2fa to log in

commit 127385f2a71c7c3f44860a9db675c7921fdb8ba8
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 14:13:45 2014 -0400

    The JavaScript warning really is a popup, not a separate page

commit 688ba05971bfc533c472680cc78fb281a09db808
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 14:08:00 2014 -0400

    Updated with changes from @garrettr

commit a9210ccc6cf400e3eef3d388a31cc7c78e329aca
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 13:57:36 2014 -0400

    Updated user manual for 0.3 (todo: screenshots)

commit a39ccc3098d6f2e64aeac262d4f2aa1d1b555ce6
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Thu Oct 23 05:49:24 2014 -0400

    Add Google Authenticator instructions for Android

commit 6d47c23ef51d9bcac95d4efba0001df1c1342a2f
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 10:45:04 2014 -0400

    Include changes suggested by @ageis

commit d39d6bf8d87c73b1392353e040d03a32e59dcd91
Merge: f7a65f15 681c514e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 24 14:23:46 2014 -0700

    Merge pull request #689 from runasand/develop
    
    Verify the Ubuntu git repo (solves #5)

commit 681c514ec79c58b8bad2bfd2b3af28ee8bbaa932
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Fri Oct 24 15:52:50 2014 -0400

    Verify the Ubuntu git repo (solves #5)

commit 0b513c655c9408c7c59c5739377657bfe8739910
Author: James <james@freedom.press>
Date:   Fri Oct 24 12:31:04 2014 -0700

    updated ansible command in playbook

commit 86994f0e534caa0b9db6904d4ca2ef12e3728765
Author: James <james@freedom.press>
Date:   Fri Oct 24 12:08:17 2014 -0700

    for use with vagrant will need to disable host_key_checking. Production ansible.cfg is in install_files/ansible-base/ansible.cfg and does not disable this option

commit 76e705164b00175f662becfc3b27479615c9ac72
Author: James <james@freedom.press>
Date:   Thu Oct 23 23:28:05 2014 -0700

    Will split this up prior to submitting pr.
    But moved the tasks to install the fpf/tor repos and run apt-get update are still in the common role.
    The grsec kernel gets installed as part of the common role but it is not used until the server reboots.
    The servers are not set to reboot if needed until the last role run ubdate_boot_grsec.
    This role checks to see if the grsec sysctl lock is available if not it will reboot
    After the reboot if the grsec sysctl lock is not set it will set it.
    
    Still having an issue with the server somtimes not coming back up. I copied the production ansible.cfg to see if that would improve anything.
    I added aptitude as a dependency to use the built in ansible module to update the system instead of having unattended-upgrades via an ansible command module peform the action. Not sure if my issue were due to this.
    
    ansible_ssh_host is how the host checks to see if the server is up.
    ansible_ssh_host is the same variable we have in the example production inventory file. It is also the same variable used by vagrant.

commit f7a65f15c6cfadf3fd9d419f42c4aa71a1162fa5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 23 21:30:17 2014 -0700

    Harden setuid binary for Tails torrc helper

commit ed3a675191888b3c8bad49b6051cbc89ba21d0e6
Author: James <james@freedom.press>
Date:   Thu Oct 23 05:19:17 2014 -0700

    fixed hostnames in the securedrop-prod playbook

commit e75f97757a6c21fab04ce16018c94876e8640fa9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 23 14:32:51 2014 -0700

    Tip for speeding up dd on Mac OS X

commit 21d47adb98679c94e266c7db049370bb3a0f5579
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 23 13:56:18 2014 -0700

    Update grsec kernel build docs to latest built kernel
    
    * Updates the docs for Ubuntu Trusty (14.04.1) because we switched to it for SecureDrop 0.3
    * Updates versions of grsecurity patch and linux kernel to the versions used in the most recent successful build of the grsecurity kernel
    * Fixes some formatting and trailing whitespace issues

commit 3ee6cead583c1238ba0f4a08beb3818e4ac76616
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 23 13:32:56 2014 -0700

    Split and merge full_install.md into separate, related docs
    
    Also updates instructions, formatting, and cleans up whitespace.

commit aa4527b1b870234d8bd160d7feb4366373da4f6b
Merge: 7aac025d 8af4c0a7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 23 12:29:26 2014 -0700

    Merge pull request #687 from runasand/develop
    
    Updated user manual for 0.3 (todo: screenshots)

commit 8eb8b9b341f0ba815dc847bc538d82e644ad2647
Author: James <james@freedom.press>
Date:   Thu Oct 23 12:08:42 2014 -0700

    per @garrett's note left uncommented the validate role

commit 8af4c0a7086d0ba55a2990163f3a171a5ad988e7
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 14:42:06 2014 -0400

    Nitpick on javascript warning

commit 043263b74d1754716b4179a06336d51366122049
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 14:16:57 2014 -0400

    Journalists need username, password, 2fa to log in

commit 22a9d1abaf27b4b4a671e1c84f2eaff58b30ca2d
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 14:13:45 2014 -0400

    The JavaScript warning really is a popup, not a separate page

commit 71ed029b4f5ba1cba42d12a9bcd54381663f45c5
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 14:08:00 2014 -0400

    Updated with changes from @garrettr

commit 92e4740acb24d73632bf9611029a254dcaa690b4
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 13:57:36 2014 -0400

    Updated user manual for 0.3 (todo: screenshots)

commit 7aac025d85dd3ea6071fe04819cb50d911831236
Merge: 43501918 ebfdd65d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 23 09:18:40 2014 -0700

    Merge pull request #681 from runasand/develop
    
    Include changes suggested by @ageis

commit ebfdd65d56bc5f39e3d0e51f15156199379a92e4
Merge: 5bc3b36a 43501918
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 11:53:41 2014 -0400

    Merge branch 'develop' of https://github.com/freedomofpress/securedrop into develop

commit 4350191844ae91a244c6dd220f00fc23f808b8b4
Merge: 6dfb676b 37e351e3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 23 08:46:11 2014 -0700

    Merge pull request #679 from ageis/develop
    
    Add Google Authenticator instructions for Android

commit 5bc3b36a9aae0d9d0726dcb93acee9eb71a643a0
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 10:45:04 2014 -0400

    Include changes suggested by @ageis

commit 9df6d63bccb8f6b2592033e91078d200ccb141f4
Author: James <james@freedom.press>
Date:   Thu Oct 23 05:19:17 2014 -0700

    fixed hostnames in the securedrop-prod playbook

commit e2dfe94b244f60cdfb4db29691b834f53fe1bcfa
Author: James <james@freedom.press>
Date:   Thu Oct 23 05:13:16 2014 -0700

    moved the grsec lock sysctl task to a separate role.
    added tasks to check if the grsec lock option was available and if not boot into grsec kernel.
    this role can be skipped by adding the 'restart' or 'grsec' tag.

commit ba0a3a156b292c343d97ea9be4630800a3b658af
Author: James <james@freedom.press>
Date:   Thu Oct 23 03:59:05 2014 -0700

    added the authd ansible skip tags to development and travis environments

commit fc7babaa8aef8ed32cdef8c8e62099080ba8b6ce
Author: James <james@freedom.press>
Date:   Thu Oct 23 03:49:01 2014 -0700

    updated the master site.yml playbook to reflect changes in the staging and prod playbooks.
    updated the develop doc to reflect ansible-playbook command to use with vagrant to provision both servers at the same time

commit 78b16c62603bd5c649715db57cf25b5d7873d98f
Author: James <james@freedom.press>
Date:   Thu Oct 23 03:48:04 2014 -0700

    combined the prod app and mon playbooks the same way as the staging playbooks in the commit before

commit 0b8fa84f93a1c847a6ffda7e8e6cb78f9ee4b89d
Author: James <james@freedom.press>
Date:   Thu Oct 23 03:46:21 2014 -0700

    In the Vagrantfile have the app-staging and mon-staging vm skip running authd. This will ensure the playbook doesn't get hung if just one server is brought up.

commit 4f51b808646d3ae682975184118ebcefd1a9909e
Author: James <james@freedom.press>
Date:   Thu Oct 23 03:41:56 2014 -0700

    combined the securedrop-app-staging.yml and securedrop-mon-staging.yml into securedrop-staging.yml
    
    Organized calling the hosts and what roles to automate adding the ossec agents.
    Order of events:
    Monitor server is provisioned
    Monitor server starts authd
    App server is provisioned
    App server starts agent_auth
    App server removes ossec authd firwall exemptions
    App server's ossec agent is restarted
    Monitor server removes ossec authd firewall exemptions
    Monitor server's ossec server is restarted

commit c17f57c7668c9d47848fa192a1759cae37efe033
Author: James <james@freedom.press>
Date:   Thu Oct 23 03:39:08 2014 -0700

    after the OSSEC agent connects to the OSSEC server these tasks will ensure that the firewall rule exemptions and that authd is disabled.

commit 5bfc6c6bddb169d80e3ea8eb23fbc96a7c9b1514
Author: James <james@freedom.press>
Date:   Thu Oct 23 03:37:53 2014 -0700

    agent_auth is the agent side of the OSSEC process for automaticaly added an ossec agent to an ossec server.
    will need to add other tasks to remove the firewall exemptions

commit 52cfe6a98dc7e8da6834b6606c2aa8ab3f46a369
Author: James <james@freedom.press>
Date:   Thu Oct 23 03:34:39 2014 -0700

    authd is the server side process for OSSEC way of automating adding the agent to the server. Authd is configured to listen for *unauthenticated* connections from the app servers IP and then without verification exchange the agent's cleint.key
    will all different task to ensure that authd is not running after the agent connects.

commit f0c2de5a36d82690183f22c64803a8ea0aae66c0
Author: James <james@freedom.press>
Date:   Thu Oct 23 03:30:04 2014 -0700

    Disabled ssh host key file checking for development/staging ansible.cfg file. Production uses a different file. Disabling the check makes it easier to use the ansible-playbook command outside of vagrant which sets this by default.

commit 37e351e3bb5c9301d052db138a567d0b1dc9b87d
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Thu Oct 23 05:49:24 2014 -0400

    Add Google Authenticator instructions for Android

commit 6dfb676bf0abad70bb6ca59a813c79d982c16fa2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 19:39:29 2014 -0700

    Fix bug in validate role

commit 5775dcf33e565e3d68510dafdfef43883d9c21a9
Merge: d16cd13b 12a21918
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 20:09:13 2014 -0700

    Merge pull request #678 from dolanjs/reduce-spam-add-ossec-ignores
    
    reduce ossec spam

commit d16cd13bbe1432e2034afd4d57f49f7354196ce5
Merge: 20b6c0ec a8a4979e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 20:08:03 2014 -0700

    Merge pull request #677 from dolanjs/iptables_dns_denies
    
    iptables rule fixes for prod mon server

commit 20b6c0ec21270dca9db8f023ec394a9e41e45c76
Merge: e4d3f954 fea3c290
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 18:43:19 2014 -0700

    Merge pull request #676 from freedomofpress/default-codename-length
    
    Change default codename length to 7 words

commit e4d3f9540867efa64c5e2ae95105a54d83b9f551
Merge: e5cb08b1 f76aab30
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 18:42:23 2014 -0700

    Merge pull request #675 from freedomofpress/consolidate-pip-requirements
    
    Split pip requirements files into securedrop and test requirements

commit e5cb08b1c0d3e39d4a510094ae86fb2c6c11a3ba
Merge: 5aa5c96d 847daf49
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 18:42:06 2014 -0700

    Merge pull request #674 from dolanjs/doc_ip_info
    
    network firewall IP info update

commit 12a219189c982dbf2ccef89265bbec8560309f64
Author: James <james@freedom.press>
Date:   Wed Oct 22 18:31:55 2014 -0700

    add ignore statements to ossec server and agent configs.
    ignore /etc/blkid.tab and /etc/apparmor.d/cache/.features

commit a8a4979e42c94b8308823fa03ebff752980dcea3
Author: James <james@freedom.press>
Date:   Wed Oct 22 17:09:58 2014 -0700

    added dns specific rules for postfix on the monitor server
    added the uid to output rules for sending smtp
    changed the hard coded port in the mon iptables rules to use the smtp_port variable instead
    added IP addresses the the app and mon vm in the vagrant file
    moved defining the dns IP to the environment specific yml files and removed it from the global variable yml file

commit fea3c290d90b2607f223c02c084d3043432fa299
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 17:00:25 2014 -0700

    Update unit test for new codename default length

commit d819ed131a8605383016e9ed355772414d5000c6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 20 08:57:51 2014 -0700

    Change default codename length to 7 words

commit e2a024808de9564ca2363971050dca506a482c38
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 16:45:29 2014 -0700

    No longer need these scripts due to Ansible

commit 729d72ff0be3ed8916339ddbca76b9dbea2d39a1
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 16:40:02 2014 -0700

    dev_files is no longer used

commit 7c39fce0ed48647edd420297014eb9fa81f402fd
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 16:34:50 2014 -0700

    Removing setup_dev.sh because it has been replaced by Ansible

commit f76aab3079f25138f3125a57802ca918d03fb72f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 16:10:55 2014 -0700

    Split pip requirements files into securedrop and test requirements
    
    This is the most logical split for the pip requirements. Every
    environment needs the securedrop-requirements.txt, but only environments
    that need to run the tests locally (development and staging) need
    test-requirements.txt.
    
    Tested by running `vagrant up development && vagrant up /staging$/`.

commit 847daf4935838c6495ec1fc7422f5f7489b32ce4
Author: James <james@freedom.press>
Date:   Wed Oct 22 13:20:30 2014 -0700

    updated full install doc and corresponding inventory file with the IP info needed for a production install with a network firewall. With the network firewall the app server and monitor servers are on separate network segments.

commit 5aa5c96d62b79554eb549d2da0844023026610a8
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 13:12:02 2014 -0700

    Fix formatting of singular vs. plural seconds

commit 72b93157d13a6693ed6fca3bd62d85e5d66224bc
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 13:11:43 2014 -0700

    Filesystem timestamps should be UTC, regardless of system timezone

commit 497c89b5d52f3798ec67facece04e8fcf325ca6e
Merge: 84831dcd 32b74939
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Wed Oct 22 12:43:58 2014 -0700

    Merge pull request #673 from dolanjs/merge-max-rspec
    
    Update Max's rspec tests for current environment. Successfully passed the
    
    ```
    ~/git/securedrop/spec-tests$ rspec spec
    ...............................................................................
    Finished in 8.03 seconds
    79 examples, 0 failures
    ```
    ```
    spec-tests/spec/localhost/
     apache_spec.rb
     securedrop_app_spec.rb
     tor_spec.rb
    ```
    
    Will need to create new roles and move the respective tests to their roles. That way the tests will be split up for the monitor server compared to the app server.

commit 84831dcd6247165a98cf044bd217abac0d2d632e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 12:42:13 2014 -0700

    Update apt before installing packages in development

commit 4672fbfff651097058f57f274182c4daa8214cb7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 11:45:53 2014 -0700

    Add log file for iptables to cheat sheet

commit 00db2bce0464c7f722b84990e4743927d9a627a8
Merge: 48665e02 dd73b337
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 11:38:09 2014 -0700

    Merge pull request #672 from dolanjs/resolve-travis-config-py
    
    remove temp travis fix for config.py

commit 48665e02f8ae6283860503a0e2ae0e89c0c8f9d0
Merge: cdaaf553 0e63ea67
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 11:33:10 2014 -0700

    Merge pull request #671 from dolanjs/custom-header-image
    
    fix custom header image

commit cdaaf553b3931c345c75d97eec48a46b792bb67f
Merge: 0fc507ce 8faf67e7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 11:28:08 2014 -0700

    Merge pull request #670 from runasand/develop
    
    Add instructions for yubikey setup on Tails

commit dd73b337a37d22b56285aa345b8eb29d535476a8
Author: James <james@freedom.press>
Date:   Tue Oct 21 23:32:12 2014 -0700

    to get travis working when the config.py file was owned by root. Removed the commented out part in the ansible playbook and added changing the file ownership to the travus script.

commit 32b74939782d29a0cb6953d01b8867505b9d917d
Author: James <james@freedom.press>
Date:   Tue Oct 21 22:51:22 2014 -0700

    checkedout max's spec-test folder and modified them to work in current environment.

commit 0e63ea673abe4f1801e484bc6c18056ccd74dd09
Author: James <james@freedom.press>
Date:   Tue Oct 21 20:51:03 2014 -0700

    If a custom header image was defined ansible was overwriting the wrong image.
    
    also changed the way the header image tasks worked to just check if the variable equals None for it to work withtout the vagrant shared mount

commit 8faf67e7f5d0b4ab795f85b9b49dfc33bd741cf1
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Oct 21 20:48:40 2014 -0400

    Link to instructions for creating bootable ubuntu usb

commit 0a9e91ed2e3eeb4dfe3a39a97c6b532747f52ab0
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Oct 21 20:36:10 2014 -0400

    Add instructions for yubikey setup on Tails

commit 0fc507ce5632611a570bd3bcddd975e2e974ee3a
Merge: 2db46ecc 0983b4a2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 21 15:56:05 2014 -0700

    Merge branch 'full-install-docs' into develop

commit 2db46ecc05115d92356464d6b549e940aa29ba4d
Merge: 68f8888a 68516fa5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 21 15:52:03 2014 -0700

    Merge pull request #669 from dolanjs/validate-defaults-in-prod
    
    added a validate role that would only be run when running non-staging or...

commit 0983b4a2a29ea11ce7dab57f405580f5548a8204
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 21 15:50:03 2014 -0700

    Formatting and minor edits

commit 1c8206e55e79f9712d6fcfd0280bfd584c8079e5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 21 15:39:47 2014 -0700

    Rough documentation for full install of 0.3

commit 68f8888a96870aeaf831509917268e1df7b7519e
Merge: 158f10b9 41c74cf9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 21 14:28:53 2014 -0700

    Merge pull request #668 from dolanjs/remove-prod-grsec-skip
    
    removed ansible.skip_tags config line for app and mon vm

commit 68516fa53d3bf9294b7e9a472aed4abdb6f17b84
Author: James <james@freedom.press>
Date:   Tue Oct 21 13:12:22 2014 -0700

    added a validate role that would only be run when running non-staging or development playbooks.
    This role verifies that the test gpg fingerprints, ossec alert email address, and sasl credentials are not used for production

commit 41c74cf9aaf72bd1f27cb1f8358ffaaee1e4d5ad
Author: James <james@freedom.press>
Date:   Tue Oct 21 11:59:19 2014 -0700

    removed ansible.skip_tags config line from the Vagrantfile config.

commit 158f10b93447e4ce4d2ef8572081da8673195773
Merge: bb6362a5 3ce980cd
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 21 08:19:20 2014 -0700

    Merge pull request #667 from dolanjs/logging-locations
    
    Add cheat sheet for log file locations

commit bb6362a5a5d0e97b5779e72296a69864b6981a54
Merge: a6c51641 e1dadf68
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 21 08:18:55 2014 -0700

    Merge pull request #666 from dolanjs/paxctl-grub-setup
    
    Updated the grsec package name to current. a meta package will need to b...

commit a6c516413b02fb30502ba408a7cde3353ff4b396
Merge: 8a35f8a0 57a7f88f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 21 08:18:22 2014 -0700

    Merge pull request #660 from dolanjs/develop-mon-staging-doc
    
    added mon-staging to list of predefined VMs

commit 8a35f8a0315cbe2cf4335084bd158e55af8fa8a7
Merge: 4e256429 876ae7f9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 21 08:17:44 2014 -0700

    Merge pull request #659 from runasand/develop
    
    Yes, you will need a cable to hook the NUC up to a monitor

commit 4e256429f6ecb8da61c097b0041207f2128ef7ac
Merge: 8745bd81 be3cc5d7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 21 08:16:21 2014 -0700

    Merge pull request #658 from dolanjs/smtp-header-check
    
    re-added ansible handler to run postmap /etc/postfix/header_checks

commit 8745bd81972f0e71a93e038a43d7879efba7bd39
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 21 00:08:45 2014 -0700

    Temporarily disable vagrant-cachier
    
    This will slow down provisioning times, but fixes issues with apt that
    appear to be caused by vagrant-cachier. Should re-enable when
    https://github.com/fgrehm/vagrant-cachier/issues/128 is resolved.

commit 3ce980cdec61a348b69c13848874191e8e97d80f
Author: James <james@freedom.press>
Date:   Mon Oct 20 22:10:52 2014 -0700

    Add cheat sheet for log file locations

commit e1dadf68666f55ddca334f6979cc7fa04fd0e49c
Author: James <james@freedom.press>
Date:   Mon Oct 20 20:49:55 2014 -0700

    Updated the grsec package name to current. a meta package will need to be put in place so we don't need to hard code a specific version
    
    The grsec lock will not exist until the system is rebooted in the kernel.
    
    Removed extra pax changes that were required for 12.04

commit 57a7f88f50ce9c90b2bb3ac3ff4242a967f37112
Author: James <james@freedom.press>
Date:   Mon Oct 20 16:43:55 2014 -0700

    @kevinmg pointed out that the command to start the webserver for development VM was missing from the documentation.

commit 069d64341a3e565887875b25803d5af4e6e5ec18
Author: James <james@freedom.press>
Date:   Mon Oct 20 16:37:51 2014 -0700

    added ssh commands for mon-staging vm

commit 876ae7f9f0fa2ae3e30e203ac15f82110dba4ab6
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Mon Oct 20 19:32:09 2014 -0400

    Yes, you will need a cable to hook the NUC up to a monitor

commit be3cc5d7cc9614e0f831730ad01b745eaf86aaba
Author: James <james@freedom.press>
Date:   Mon Oct 20 16:27:26 2014 -0700

    re-added handler to postmap /etc/postfix/header_checks
    
    This needs to run before restart postfix for it to take affect.

commit ccdffa00a874e125eabcc1fba19f3c2e93144183
Merge: 478dd649 3bd0abbd
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 20 15:52:09 2014 -0700

    Merge pull request #657 from dolanjs/ansible-apparmor-complain
    
    Update apparmor profiles for ubntu 14.04

commit 478dd6495217c27970fe3404bf0b9d3e9c35219c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 20 15:41:05 2014 -0700

    More compact submission list

commit a7ddd00dd4c297445f194ce14464837b9eae6b87
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 20 15:35:20 2014 -0700

    Remove unnecessary verbiage from submission notifications

commit f98ac1eaf7506131470e7d785bbfe66f347e14dc
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 20 15:34:58 2014 -0700

    Formatting nit

commit d36be300aa83776cc88421c018843f2df8ff0c54
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 20 15:07:51 2014 -0700

    Fixes for "Disable JS" bubble
    
    1. Fix matching the TB user agent
    2. Fix position of bubble for new TB (NoScript icon moved in TB 4.0)
    3. Use correct icon for "Forbid scripts globally (advised)"
    4. Nicer design for bubble

commit 4bf174d0e61989b5874a3117467000efb91118f2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 20 15:06:47 2014 -0700

    Ignore .DS_Store
    
    Interestingly, these files were only created once I navigated into the
    directories using the Mac OS X Finder.

commit 3bd0abbdb694ce932d3b02e3ce9376f12c51d3ad
Author: James <james@freedom.press>
Date:   Mon Oct 20 14:11:23 2014 -0700

    Updated the bin path for both the apache and tor apparmor profiles.
    Updated the corresponding lines for the securedrop-app-code postinst.
    
    The securedrop-app-code currentyl only puts the profile in complain mode. This will need to be changed to `aa-enforce` when the apparmor profiles are flushed out

commit 91dd200edf897565bb1e32bca77b4199b8c90121
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 20 14:04:50 2014 -0700

    Remove starred/unstarred headings, replace with gap

commit 9a1a0efecdd9ad091f987410248f522a515bd699
Merge: 44ee4892 f71952ac
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 20 13:43:51 2014 -0700

    Merge pull request #656 from dolanjs/ssh-2fa
    
    Password + TOTP as a ssh authentication option

commit 44ee48926ba1ba2956d7d5fbc4437eda967fb2ad
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 20 12:27:30 2014 -0700

    unattended-upgrades regex should block all kernels except grsec
    
    grsec patches are periodically upgraded for LTS releases of the Linux
    kernel, while the kernel itself is upgraded more frequently by default
    in Ubuntu. We want to allow the installation and auto-upgrade of the
    grsec kernel that we provide, but do not want unattended-upgrades to
    clobber our grsec kernel with a newer (but not grsec-hardened) version
    of the Linux kernel provided by the default repos.
    
    This regular expression matches (therefore blacklists) any package name
    that begins with "linux-(image|headers)" unless the string "grsec"
    appears later in the string.

commit f71952ac49b5a2184e20871c3dcd972581beac6d
Author: James <james@freedom.press>
Date:   Mon Oct 20 10:45:16 2014 -0700

    This adds back the libpam-google-authenticator module for 2fa for ssh access.
    This does not configure the users 2fa code. The admin users will need to run `google-authenticator` on each server prior to trying to authenticate without the ssh-keyfile
    If a admin users 2fa secret file is not created and the user does not have the ssh-private key, they will just see a password prompt and will not be able to authenticate.
    
    There are different errors shown if the pasword failed or if it was the 2fa code.
    
    This does not disable ssh-key files. When you are authenticating via ssh-keyfile the 2fa pam module will not be used.

commit 9d57bb314d6c6ba6587754d6babd198a233c9d7d
Merge: cf996bc1 9b3b23cc
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Oct 19 12:02:04 2014 -0700

    Merge pull request #655 from freedomofpress/default-codename-length
    
    Remember user choice for codename length on subsequent requests

commit 9b3b23ccdcb2e106e33a0aa588e245c6fcc00b7c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Oct 19 11:18:52 2014 -0700

    Remember user choice for codename length on subsequent requests

commit cf996bc12887f6256d561ba430865442e3f11b28
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Oct 19 11:01:29 2014 -0700

    Check for duplicate usernames and prompt again

commit ca7ecd7e05926f9df70ba810a1ebf12764f066c3
Merge: 40842b32 dd30168c
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Sat Oct 18 12:31:01 2014 -0700

    Merge pull request #653 from dolanjs/staging-app-mem
    
     Up app-staging and app vm to 1GB

commit dd30168cbaac9a9524434bfb880d85fa535f84c7
Author: James <james@freedom.press>
Date:   Sat Oct 18 12:15:16 2014 -0700

    Changed the app-staging and app vm to also have 1GB of memory to avoid issues running the tests

commit 40842b329214bdb9ad7fed9b520bb2211ec2cc2e
Merge: a1f6c16d 6e913a66
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Fri Oct 17 16:16:27 2014 -0700

    Merge pull request #652 from dolanjs/temp-remove-ossec-build
    
    temp removing building ossec deb from staging roles

commit 6e913a666945f0ef5c672ea744ed5c58958b9b99
Author: James <james@freedom.press>
Date:   Fri Oct 17 16:07:51 2014 -0700

    building the ossec deb packages take awhile and it seems the ssh connection is timing out.
    
    Since the ossec deb packge does not change often and we are working on migrating to building with pbuilder commenting out that role in both staging playbooks.
    
    The app/mon roles already are configured to install ossec from the fpf repo if it wasn't already installed so this will not break anything.

commit a1f6c16d6ef609f0671c4880676d697f1122b0e7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 16 13:54:15 2014 -0700

    Wait for hidden service hostnames to be generated

commit 0c870155149bd4ab50f9f77755fa63aafd48a982
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 16 12:28:31 2014 -0700

    fetch should trigger failure if file not found

commit 933df2e19ff504b57a5e506cbd0ec8764aa83e0b
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 16 12:01:55 2014 -0700

    Check for each hidden service dir on monitor server

commit c18fb23a2e53aa8d3fe9f9e634faadc7183e7a10
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 16 11:49:55 2014 -0700

    ansible-playbook breaks if these files are +x

commit 9e8f28f35bd797c019d71ba8ccf79dfccbe5961f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 16 10:36:49 2014 -0700

    James's tweaks from debugging on hardware

commit 07b827dd95393c7dacbae63d814f6d183d542729
Merge: ec0df028 919239fb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 16 02:34:31 2014 -0700

    Merge pull request #650 from dolanjs/mon-torrc-fix
    
    updated the torrc-mon

commit ec0df028826c50d4020addd51af8f49e33dc9d21
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 16 02:19:26 2014 -0700

    Don't change owner of config.py

commit 919239fb965cd5a69078067e2a2484d6db3593b1
Author: James <james@freedom.press>
Date:   Thu Oct 16 01:23:36 2014 -0700

    commented out the task to configure google-authenticator pam module until we decide if that will be the authentication solution or if we will stick with ssh keyfiles

commit b07d561e42bd7cd2bec14fcdf93fc966efaea939
Author: James <james@freedom.press>
Date:   Thu Oct 16 01:19:31 2014 -0700

    updated the torrc-mon with the correct file locations and removed this THS for port 80 and 8080

commit c48594f47f59f5655771d876cbd8b7893fdac66d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 21:34:33 2014 -0700

    Update documentation

commit 4ec396c0a385ac9fc43e0e57b811bdd080dc1548
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 21:34:21 2014 -0700

    Fixes for staging build from local testing

commit 241e6609417085f643c1edd72847d8790cbb62da
Merge: cdc7ab20 f6f3b1a2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 19:47:00 2014 -0700

    Merge pull request #649 from freedomofpress/set-securedrop-env-for-development
    
    Set SECUREDROP_ENV for development environment

commit f6f3b1a2af63dd1c8ebd26921eb9f6a77f41d322
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 19:23:00 2014 -0700

    Set SECUREDROP_ENV for development environment
    
    This makes running certain tasks manually, such as the individual
    `source.py` or `journalist.py` applications, less error-prone. You need
    to set `SECUREDROP_ENV=dev` in order to have `FlaskConfig.DEBUG = True`,
    which is necessary for Flask to serve the static files.

commit cdc7ab206a152057ae4c062b429875600fb130c6
Merge: a9ba2c76 4a4c0efb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 19:38:42 2014 -0700

    Merge pull request #647 from freedomofpress/task-queue
    
    Task queue

commit a9ba2c762e065f16e728f36021f2b062b55615aa
Merge: 6d70a680 b313dd06
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 19:35:27 2014 -0700

    Merge branch 'fix-sending-ossec-alerts' of https://github.com/dolanjs/securedrop into dolanjs-fix-sending-ossec-alerts
    
    Conflicts:
            install_files/ansible-base/roles/mon/tasks/mon_configure_ossec_gpg_alerts.yml

commit 6d70a680deeb666217ff11c486d4823ea079a697
Merge: cb4622cd 55cfdcc6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 19:32:56 2014 -0700

    Merge pull request #646 from dolanjs/check-for-ossec-download
    
    Check for ossec download

commit cb4622cdc2dd0ff8634aa5f4a8bf121c209b6c30
Merge: f420b2b8 3ccc511f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 19:32:29 2014 -0700

    Merge pull request #645 from dolanjs/gpg-key-without-vagrant-fix
    
    Copy the app and ossec alert gpg key to remote host

commit b313dd06e54301e303c83502b27897e151614541
Author: James <james@freedom.press>
Date:   Wed Oct 15 19:19:45 2014 -0700

    changed all the tabs to spaces

commit 55cfdcc6ea179815f96af49051d10a841b28b304
Author: James <james@freedom.press>
Date:   Wed Oct 15 19:04:05 2014 -0700

    Ansibles stat module only supports checking the md5 sum of the file.
    But did and that verification to the check to see if the ossec archive already exists
    
    http://docs.ansible.com/stat_module.html

commit a29532a3bee5fea308e73df441b22fbe939ee7c2
Author: James <james@freedom.press>
Date:   Wed Oct 15 15:57:55 2014 -0700

    During one of the last merges I broke the procmail and the ossec sasl_password configuration. This fixes that.
    
    Removed the .procmail file from being packaged with the ossec-server deb package. This was causing ansible not to reload postaliases.
    
    Migrated the 'postalias /etc/aliases' and 'postmap /etc/postfix/sasl_passwd' task to a handler.
    
    Changed the way that ossec alert gpg keyring is created so that it doesn't cause issues on subsequent runs and removed the warning comments about it.
    
    Removed the unneeded backslash in the send_encrypted_alarm.sh.
    
    Added creating the .gnupg directory in the OSSEC server's deb package postinst to avoid permission issues.

commit 4a4c0efb62579fd0c4bb7c1acf35ee99128704a3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 15:34:11 2014 -0700

    Fix Travis builds
    
    For some reason, redis-server does not start automatically after it is
    installed on Travis. *shrug*

commit ff40faf6823dda91353d2fe0a5c9c78a4ff39f05
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 15:19:52 2014 -0700

    Increase memory allocation for development VM
    
    Functional tests have recently been failing due to "out of memory"
    errors. My theory is that this is due to the new release of Firefox,
    which came out two days ago (and usually takes a day or so to make it
    into the mainline repos) using more memory than the previous release.
    Timelines match up, although I haven't done any further testing to prove
    this.
    
    Nice side effect: increasing the amount of available memory makes
    Firefox run faster, which makes the functional tests run faster. Also
    appears to eliminate various intermittent errors from the functional
    tests, such as the "empty status line" error from Selenium and the
    TypeError from python-gnupg. This makes sense!

commit 5d722e1d94770def094a517b4b8365cd72ccce04
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 15:16:49 2014 -0700

    Use separate job queue for jobs from manage.py test
    
    Python-RQ is nice because it lets us schedule jobs that are arbitrary
    Python functions. The downside is that, due to our messy "config as a
    module with values derived from an environment variable" setup, there
    can be issues. For example, jobs sent from the tests will not run
    correctly on the default worker (started by supervisor), because they
    were started with different values for SECUREDROP_ENV and therefore have
    different SECUREDROP_ROOTs.
    
    Clearly this whole situation needs to be improved but this hack is
    reasonable and works well for now:
    
    1. Use a separate "test" queue for jobs triggered by the tests
    2. Start/stop a temporary "test"-queue-only rqworker for the tests

commit fef0f31044b82d145c11d1ed6276ec360c68ebf8
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 15:16:22 2014 -0700

    Ansible playbooks set up supervisor to run job queue worker

commit 6926ebfe684bff52d661a26f6f3518d4d3faef43
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 13:45:23 2014 -0700

    Add debugging for intermittent (very infrequent) scrypt error

commit 5572174a75e550b72f44df7c2c6651bd7dcb52d5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 13:42:36 2014 -0700

    Test that deleted files are actually removed from the filesystem
    
    The tests use a polling wait since deletion is handled by a polling
    worker, and secure deletion can be time consuming. At the moment, the
    test files are all very small, so they secure delete quickly. The added
    overhead is < 1 second.
    
    This increases test coverage as well - previously, we were not testing
    that deleted files were actually removed from the filesystem.

commit 49553e6471b9b7533a882610228d9d6610222f14
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 13:42:17 2014 -0700

    Enqueue potentially time-consuming secure unlinks

commit db1342556b03e776e10671d5f60074201edba998
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 13:41:46 2014 -0700

    Auto-start an rqworker for manage.py tasks that need one

commit 07f45c01488fc17798c96392333754a1c161a255
Author: James <james@freedom.press>
Date:   Wed Oct 15 12:19:32 2014 -0700

    moved defining the generic ossec variables from the app/mon host_vars to group_vars.

commit d87c3d39d267db1487d5a5515d10260b766f2935
Author: James <james@freedom.press>
Date:   Wed Oct 15 12:13:39 2014 -0700

    added a check to see if the OSSEC archive already exists and if it does exist then skip downloading it again.

commit 4107a41bb2f88481feeba40e95d3e22153259deb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 15:26:22 2014 -0700

    Add Python-RQ worker and make sure it's started when needed

commit f420b2b8cc278787ccc93da5481c8fe2237b4d55
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 09:44:56 2014 -0700

    Update develop.md to match current environment

commit f41c6e0e6b2384b33967f91e3682a06f3c45ef5f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 08:35:23 2014 -0700

    Fix formatting due to unmatched fenced code block

commit 3ccc511f13ca3921c84d489b0c095c3a69198f8d
Author: James <james@freedom.press>
Date:   Tue Oct 14 23:56:49 2014 -0700

    Added a unique test gpg keypair since in production these would also be two separate keypairs.
    
    The application's gpg private key is airgapped, while the admin's gpg private key is on their networked work machine so they are able to decrypt the emails.
    GPG is being used for the OSSEC alerts to protect them in the event that the organization email server is compromised.

commit 8bc39a37ace0c8e6e88e26e8976272f89b2f8ba1
Author: James <james@freedom.press>
Date:   Tue Oct 14 22:43:22 2014 -0700

    Added tasks to copy the app and ossec alert gpg key public keys to the remote host since production will not be using vagrant
    
    Removed the word 'path' from the the variable names for the app/ossec gpg key and the custom header image variables since it does not a path anymore.
    
    The custom header image, app gpg public key, ossec gpg public key and the smtp's CA cert need to be either in the install_files/ansible-base directory or the respective role's file directory

commit 1d4ff7f8dac25b3090d501a0a205642a8762862b
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 21:03:55 2014 -0700

    Fixes from code review

commit 0be6e3accd5ef51dd9e354c01b03297c53db1691
Merge: 6e14c099 7ad197bf
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 19:26:02 2014 -0700

    Merge branch 'vagrant-digital-ocean-for-snap' of https://github.com/dolanjs/securedrop into dolanjs-vagrant-digital-ocean-for-snap
    
    Conflicts:
            securedrop/static/js/journalist.js

commit 6e14c0994a1fc121fed011d22def21744b54d556
Merge: fcbf8c85 307aba85
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 19:11:17 2014 -0700

    Merge pull request #644 from freedomofpress/source-reply-ui
    
    Source reply ui

commit 307aba8556d4951a68637374b924d8fceb5dc41c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 19:06:14 2014 -0700

    Fix broken unit tests by removing unusued variable

commit d47266832384c6f84d53a5e5510044d762a6f2d0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 18:58:52 2014 -0700

    Nicer design for source reply area

commit 30bcdb65cc21506f00677a9def75ad89ec2750b2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 18:57:46 2014 -0700

    Nit: unnecessary period

commit befa8bb829abf406a6885dc999c696045aa86b29
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 18:57:35 2014 -0700

    Nit: return makes more sense than continue

commit 21036762d970c0ba88f05a251591a84d6e224eeb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 18:57:10 2014 -0700

    Fix accidental breakage of select and selected actions on /col pages

commit 7ad197bf2a66c0f7ac8b812af44e350364f70f0a
Author: James <james@freedom.press>
Date:   Tue Oct 14 18:25:55 2014 -0700

    Update the travis playbook to reflect new roles
    updated path for travis specific config and removed extra spaces from travis playbook

commit df9a8cb89a272f1f691bcea26f5c238ae784264c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 12:39:53 2014 -0700

    Only select and de-select visible checkboxes
    
    This avoids selecting checkboxes that are not visible due to filtering
    by journalist designation. There was a hack to avoid accidentally
    deleting collections that were selected, this fix replaces that with a
    much cleaner and simpler solution which also prevents confusion by
    seeing previously hidden items checked when clearing the filter text.

commit 7011110df9bfb5c12b47da6cc4952ff20f86176a
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Oct 14 12:23:36 2014 -0400

    Moved ubuntu grsec guide to the freedomofpress repo

commit 25588f23f9567bbcca0fcb7753ada9a322ef28d6
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Oct 14 10:13:12 2014 -0400

    Give the admin the option of FDE or not

commit 92b8f923716e416739ad5f35aab840bb32974a3d
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Oct 14 09:18:25 2014 -0400

    Got questions about the SVS? Email us.

commit 511371fd12b3db008427d2e26a71d5528c2d2a59
Author: James <james@freedom.press>
Date:   Tue Oct 14 18:19:29 2014 -0700

    updated travis config for correct tag to skip

commit e01707ce7b446faa83148eddd4e2224edd1e75d8
Author: James <james@freedom.press>
Date:   Tue Oct 14 18:03:06 2014 -0700

    moved duplicate tasks from the development role
    moved the creating the app directory structure from the building securedrop app code deb tasks to the app role.
    added the needed dependencies for test to run in app-test
    removed symlink the apparmor profiles for the app-test role since that is not allowed by apparmor
    removed typo in apparmor profile from cleanup that caused it not to load

commit 2533156d265c94340e83b86898825715427f7da4
Merge: fcbf8c85 bc86aafa
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 17:46:24 2014 -0700

    Merge branch 'improve-source-lookup-page' of https://github.com/DonnchaC/securedrop into source-reply-ui
    
    Conflicts:
            securedrop/source.py

commit 420b82370ac700472b0f10b37bd44b911f6e1e5d
Author: James <james@freedom.press>
Date:   Tue Oct 14 16:12:42 2014 -0700

    There are 3 layers of variable definations:
     group_vars/securedrop.yml
     host_vars/{app.yml mon.yml}
     (env)-specific.yml
    
    The master playbook 'site.yml' includes all of the playbooks except the travis playbook.
    This is because the travis playbook's host is 'localhost' which would mean that any host that runs the site.yml will run the travis playbook on their host sytem

commit 9dede9476abcf52bbe915fbf60d3a35f76534ac0
Author: James <james@freedom.press>
Date:   Tue Oct 14 14:57:47 2014 -0700

    removed refs to chroots in apparmor profiles. These still need to be updated for all the changes to the app code though

commit 93b8309ba52b117b818ccefca92126f0566f0417
Author: James <james@freedom.press>
Date:   Tue Oct 14 14:53:33 2014 -0700

    split the allow direct access tasks to its own role to reduce task duplication

commit 6a21b392f356da83fb2d18ebc819f6dd00baca7e
Author: James <james@freedom.press>
Date:   Tue Oct 14 14:38:57 2014 -0700

    now there is just one role to build the securedrop ossec server and ossec agent deb packages
    and there is a separate role to build the securedrop-app-code deb package
    
    This ensure that tasks are not duplicated across roles

commit 8a7342c9857cf20817ec6010189a962a61157a6a
Author: James <james@freedom.press>
Date:   Tue Oct 14 14:15:31 2014 -0700

    normalized building the ossec packages

commit ff13a38a7d72280e78a7c079c245ef83c1af17f2
Author: James <james@freedom.press>
Date:   Tue Oct 14 14:10:23 2014 -0700

    removed the old ansible-securedrop role

commit 772091c419d2f175e62c52f6374a6c1dd6cfd48d
Author: James <james@freedom.press>
Date:   Tue Oct 14 13:11:12 2014 -0700

    moved variables from securedrop-app-staging-conf.yml to host_vars/app.yml and the group_vars/securedrop.yml as needed
    split up the securedrop-app-code dev_dependencies and the test_dependencies

commit fcbf8c85212df24f31b1cf9707f228bf5735f1dd
Merge: 89e0b586 d99c5c55
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 12:55:19 2014 -0700

    Merge pull request #641 from freedomofpress/fix-select-and-filter-interaction
    
    Only select and de-select visible checkboxes

commit 89e0b5862a7c35dede28e87b96c063fee71b1143
Merge: 3f03a59d 6e6aaeaf
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 12:54:19 2014 -0700

    Merge pull request #640 from runasand/develop
    
    Give the admin the option of FDE or not

commit d99c5c556987c45a3fa786afd9a7146074ff8385
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 12:39:53 2014 -0700

    Only select and de-select visible checkboxes
    
    This avoids selecting checkboxes that are not visible due to filtering
    by journalist designation. There was a hack to avoid accidentally
    deleting collections that were selected, this fix replaces that with a
    much cleaner and simpler solution which also prevents confusion by
    seeing previously hidden items checked when clearing the filter text.

commit bf851fec69537f8dcf915e6bfde53275f6278338
Author: James <james@freedom.press>
Date:   Tue Oct 14 12:30:45 2014 -0700

    moved variables from securedrop-development-conf.yml to host_vars/development.yml
    and removed the old file from the development playbook

commit 0598cbce5f6c5396bc517e06024b0dce3263e901
Author: James <james@freedom.press>
Date:   Tue Oct 14 12:18:17 2014 -0700

    fixed typo regex to regexp

commit 446fa5dbcbc86496679b68c1efa5578e261f22be
Author: James <james@freedom.press>
Date:   Tue Oct 14 12:16:52 2014 -0700

    moved the common role's default/main.yml variables to the group_vars/securedrop.yml
    added group_vars/securedrop.yml and resepective host_var files to each playbook.

commit 5f34bef3dcfdc40b6f3e40dee32ae36d3006b9b1
Author: James <james@freedom.press>
Date:   Tue Oct 14 11:32:34 2014 -0700

    fixes for the allow direct access firewall rules for the snap environment and it also just looks cleaner

commit e97ea840a869f5beb107d11e9caa0093c118a502
Author: James <james@freedom.press>
Date:   Tue Oct 14 09:45:03 2014 -0700

    testing stuff for snap

commit 6e6aaeaf565feffaf00a628a6c7e30080b5f1788
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Oct 14 12:23:36 2014 -0400

    Moved ubuntu grsec guide to the freedomofpress repo

commit 6aaebd6a6454b97a07792d74a722de62fc7191f3
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Oct 14 10:13:12 2014 -0400

    Give the admin the option of FDE or not

commit 3f03a59d08c2309e65b71c8ad51ead5448d3add9
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Oct 14 09:18:25 2014 -0400

    Got questions about the SVS? Email us.

commit f512f2f57cf83b6d301c30fc566721b9e597f005
Author: James <james@freedom.press>
Date:   Mon Oct 13 20:55:19 2014 -0700

    testing firewall rule change for the snap-ci/digital ocean setup that has been putting single quotes around the exmeption firwall rulles

commit 9712a193c645c5f5a2358337020e64250b97a466
Merge: e0ba65cd 2aad348c
Author: James <james@freedom.press>
Date:   Mon Oct 13 20:05:33 2014 -0700

    Merge remote-tracking branch 'upstream/develop' into vagrant-digital-ocean-for-snap

commit e0ba65cd5249a805dab2441e9c243b067554c49e
Author: James <james@freedom.press>
Date:   Mon Oct 13 20:04:56 2014 -0700

    small stuff to sort out

commit 2aad348c73455162b9b0c12b8e053501210708da
Merge: d0a53bd6 d5475d29
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 18:18:33 2014 -0700

    Merge pull request #639 from freedomofpress/why-rename-source
    
    Add explanation for renaming sources to hover text

commit 55daee6b0daf27e13053b6ac6326bfd081b8a69f
Author: James <james@freedom.press>
Date:   Mon Oct 13 17:12:11 2014 -0700

    tested with removing the old deb files

commit d5475d29f294e1f0858b3860e193bf7bd5e147e0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 17:12:09 2014 -0700

    Add explanation for renaming sources to hover text

commit d0dcd511fe21fbd5259ab215b9f2be50412d58d2
Author: James <james@freedom.press>
Date:   Mon Oct 13 16:58:42 2014 -0700

    a lot of bs

commit d0a53bd62fa779e95e2700070a64c3479b81e8b5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 16:42:46 2014 -0700

    Fix unit test broken by ux tweaks

commit 3a326df46e741a59a20e77f6796386ca2effb501
Merge: cf661e30 519c8851
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 16:40:08 2014 -0700

    Merge branch 'ux-tweaks' into develop

commit 519c8851df3e376330b9de1a0b78eb4c6d9895a9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 16:38:37 2014 -0700

    Tighten up

commit 4a0a3e8fbed5dfefdc0876e80871126cecc8ece0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 16:38:21 2014 -0700

    Use smallest logo necessary for perf, and adjust layout accordingly

commit 2044519003be3481bbd0660d3c716226c643cd05
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 16:18:18 2014 -0700

    Formatting tweaks to journalist public key para

commit 26c03f37614cefdc34d9ffce307658865bf7f88a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 16:14:07 2014 -0700

    Polish on submission interface

commit 7dd496399868b869f231fa84666cab3b0c6588b1
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 15:50:17 2014 -0700

    fix missing colon

commit f0c6c729bcca47cb68b4ceb3f27bd5e7d84ac5d5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 15:50:04 2014 -0700

    Firefox 24 (current TBB) doesn't support unprefixed box-sizing

commit b6cf309d51192c189e7367e4d5d6b88fd9742889
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 15:49:14 2014 -0700

    Fix space between text and button on source index page

commit df6ca9897d4d53cb43d3c30ca822143728fbcaf3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 10:42:13 2014 -0700

    partial fixes from code review

commit d069ec4ccbe1d39d0f5f341bd6b783d4abc8775c
Author: James <james@freedom.press>
Date:   Mon Oct 13 09:10:01 2014 -0700

    tried to follow the ansible best practices for organization and layout

commit 97a7307969f951ade547ee5243af0c1d94b2c4e3
Author: James <james@freedom.press>
Date:   Mon Oct 13 02:58:54 2014 -0700

    The allow direct access exemptions are causing an error on digital ocean. It is inserting ' around the inserted lines.
    This does not happen in my virtualbox instance

commit 877a2da0b0193cb1b9bfd15b9f25accbef036159
Author: James <james@freedom.press>
Date:   Mon Oct 13 01:24:58 2014 -0700

    created snap-ci.md doc for tracking how CI is configured and the prebuilt images
    
    updated the develop doc to reflect updated vm functions and commands to start them

commit 339bd72d0ed33a4775ca2dc35f256e370e65228d
Author: James <james@freedom.press>
Date:   Mon Oct 13 01:19:06 2014 -0700

    added task for production to set the /etc/hosts entries for both servers

commit c7b4a0a007f9e138fcbb98f3ab91833fdf1d876c
Author: James <james@freedom.press>
Date:   Mon Oct 13 01:17:49 2014 -0700

    cleaned up the ossec variables
    moved the ossec dependencies to defaults/main.yml

commit cbedeb306c6bfa31df5585d615f74650790ffcf8
Author: James <james@freedom.press>
Date:   Mon Oct 13 01:13:39 2014 -0700

    added tasks to add exemptions for local web interface access and removed meta flushers that could cause production install to fail

commit ced11610da9394fa8eae1776650180f645b1aee6
Author: James <james@freedom.press>
Date:   Mon Oct 13 01:11:47 2014 -0700

    changed the variable to run manage.py

commit c38f933e528c0e8029e118f2f26f2262c40c7310
Author: James <james@freedom.press>
Date:   Mon Oct 13 01:08:29 2014 -0700

    removed unused config files (ossec.conf which are in the ossec-server and ossec-agent directories

commit 001d7745e8aafd6a575c077d4190e64eb22f4fc6
Author: James <james@freedom.press>
Date:   Mon Oct 13 01:00:12 2014 -0700

    removed last elements of the debhelper for the ossec-server and ossec-agent deb packages

commit 8da5194aa85f337d4404893c9dea98c19672c75e
Author: James <james@freedom.press>
Date:   Mon Oct 13 00:54:28 2014 -0700

    upadated the vagrant config to use the vagrant plugin vagrant-hostmanager. This was not an issue for production where we know what the IP address is but for the CI environment we do not know what the IP address will be.
    the IP tables rules only resolve the hostname when loaded.
    
    The ossec agent config also uses hostnames for it's configuration. But the ossec.conf is installed and managed by dpkg. If ansible overwrites a file managed by dpkg that file will not be upgraded with unattended-upgrades

commit 5fd464ada46de2b3eeafffaef750638354985c11
Author: James <james@freedom.press>
Date:   Mon Oct 13 00:43:19 2014 -0700

    added tasks to place the config file for postfix to remove unneeded smtp headers

commit 00234eec404fae130d92dda1414fce33b231d323
Author: James <james@freedom.press>
Date:   Mon Oct 13 00:41:34 2014 -0700

    removed the old deb packages for the monitor server

commit 88abc0931e4b58c7acc25e5a83cdadec68c5e8ac
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 18:43:22 2014 -0700

    remove unused div (used to be for metadata checkbox)

commit f5e7d7d3f59d2af85469030775a035a055e5e1d5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 18:43:02 2014 -0700

    Move document action buttons above list of documents

commit 6d4b925c28eeb8f8026e77c765ddca06c8663115
Merge: 1657ccb0 cf661e30
Author: James <james@freedom.press>
Date:   Sat Oct 11 16:58:39 2014 -0700

    Merge remote-tracking branch 'upstream/develop' into vagrant-digital-ocean-for-snap
    
    Conflicts:
            Vagrantfile

commit 1657ccb06ff45d55d93718b5af352f89357d9c87
Author: James <james@freedom.press>
Date:   Sat Oct 11 16:54:32 2014 -0700

    added snap.rb file which will contain the digital ocean api token for snap-ci
    
    started adding a doc for setting up snap-ci + vagrant + digital_ocean provider + ansible provisioner

commit 6b0bc422b3b46e6bfe4f548dae73a90056730193
Author: James <james@freedom.press>
Date:   Sat Oct 11 16:52:52 2014 -0700

    had to change the default directory for the monitor server back to the default /var/ossec directory.
    
    split up the debs tag to app-debs and mon-debs to only create the debs needed for that server.

commit 869134c8622add2b47d0c632f5b59616b6d65630
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 16:02:54 2014 -0700

    less wasted space around panel

commit 8a1d0d939383f8d171b0e2e659209faa25ff4af4
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 16:01:30 2014 -0700

    Remove unnecessary text from index page

commit 23fb797ab448a6232ac12b529f2997bbd786ce6e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 15:55:39 2014 -0700

    Nicer styles for list of collections

commit 66e4d4376914a5b57390aa204d30a02b822a2ec5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 15:52:36 2014 -0700

    better position and layout of select and action buttons

commit fa42ff2162c11ca231fb81ec70471c6c654e6bce
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 15:38:25 2014 -0700

    better UX for starred and un-starred sources

commit 4ec37c44ae50d8a37c79452045f549f8a01ce436
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 15:31:08 2014 -0700

    Nicer placement and UX for regenerate codename button

commit cf661e309f06e9d6e076f55b9005dbffbad1aa72
Merge: b592f205 994e6cb9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 14:47:49 2014 -0700

    Merge pull request #635 from freedomofpress/standardize-on-SecureDrop
    
    Securedrop => SecureDrop

commit 994e6cb979916d64b4fce67b4745ad34056a4cc6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 14:40:28 2014 -0700

    Securedrop => SecureDrop

commit b592f205145bfbe620f55731b2c11eadeada05f2
Merge: e2b49ed6 d1af083d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 14:35:24 2014 -0700

    Merge pull request #634 from freedomofpress/standardize-on-codename
    
    "code name" => "codename"

commit d1af083dd9fe17b69b3331867f774cac7ca25c60
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 14:28:17 2014 -0700

    "code name" => "codename"

commit e2b49ed6d7b15b1614fecef8fb90d41dc9e65bee
Merge: a2700b72 7394cbfd
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 14:22:06 2014 -0700

    Merge pull request #633 from freedomofpress/encrypt-replies-to-journalist-key
    
    Encrypt replies to journalist key

commit 7394cbfde9eed11deea07f7ecca94c532700dd3d
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Oct 11 14:00:47 2014 -0700

    (nit) use more appropriate assert method

commit 3890a551111d018cebc9501992e0d2e354ee956a
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Oct 11 14:00:20 2014 -0700

    test encrypting replies with journalist key

commit 18ad06e7e6734708e3d77e54b8b1b695fa234502
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Oct 11 13:59:57 2014 -0700

    encrypt replies with the journalist key as well as the reply key

commit 657dfa9f8034a5895f68a06e89d518347e3d6114
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Oct 10 11:32:41 2014 -0700

    refactor encrypt function and call sites for clarity

commit cf1ed1ec4d4c2fb37bdfa150d0a83dbdcadb2f47
Author: James <james@freedom.press>
Date:   Sat Oct 11 11:58:54 2014 -0700

    created new digital ocean that added passwordless sudo for the vagrant user

commit a2700b723f356701b809d0c103a85353f3ac65f7
Merge: 304d6aae 7df67a89
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 11:33:22 2014 -0700

    Merge pull request #631 from dolanjs/mon-server-and-re-org
    
    Mon server and re org

commit 003a5c691bc0c52af510bb5080bda48faefa94cd
Author: James <james@freedom.press>
Date:   Sat Oct 11 11:19:11 2014 -0700

    changed digital ocean image to custom image with Vagrant file.

commit f4cb71d8b0a313b99e4b74e269ca0340ea396f85
Author: James <james@freedom.press>
Date:   Fri Oct 10 21:18:01 2014 -0700

    fixed variable name and removed quotes

commit 7ed9930785d44b1c5a2955432d5b77df06e32046
Author: James <james@freedom.press>
Date:   Fri Oct 10 21:09:54 2014 -0700

    fixed the directory for vagrant ssh key

commit 77558563360be1d779b1039f1447fea4fcc02bf6
Author: James <james@freedom.press>
Date:   Fri Oct 10 21:07:54 2014 -0700

    not sure if the snap variable is working trying to hard code

commit ecb9b2c940f52bab4b3b50e8359d2f3d6ed40e03
Author: James <james@freedom.press>
Date:   Fri Oct 10 21:04:44 2014 -0700

    added the snap specific environment variable to the digital ocean api

commit 41a5f8d077b0efbf2a68c23faba61a08924d8fd2
Author: James <james@freedom.press>
Date:   Fri Oct 10 20:57:08 2014 -0700

    set variables correctly

commit 7df67a8980fd27d737a7576a5c439602889955d4
Author: James <james@freedom.press>
Date:   Fri Oct 10 20:45:09 2014 -0700

    fixes for @garrettr line notes for this pr.
    
    Vagrantfile
    
     - This name should be "mon-staging"
     - Is "compalin" a typo?
    
    build_securedrop_ossec_server.deb.yml
    
     - Why are these tasks commented out?
    
    tasks/main.yml
    
     - Nit: use only one #

commit dac04ae23f7ab1b24d12f5dc24d6c95cb305e01b
Author: James <james@freedom.press>
Date:   Fri Oct 10 19:57:29 2014 -0700

    changed the vagrant to look for snap.rb in the relative location

commit 0d6396fa3179f317885eee643860da7f7279b27b
Author: James <james@freedom.press>
Date:   Fri Oct 10 19:52:48 2014 -0700

    added git ignore for the snap.rb file that will contain the provisioners api token for snap

commit 1637a0a3025e03183a562d566e5e7b3dfd05e4e0
Author: James <james@freedom.press>
Date:   Fri Oct 10 19:44:45 2014 -0700

    added digital ocean provisioner and example external var file for vagrant

commit 3b73aa5030536b68c0e90a4549f5f57114a33f46
Merge: 2c69c5e8 304d6aae
Author: James <james@freedom.press>
Date:   Fri Oct 10 18:15:37 2014 -0700

    Merge remote-tracking branch 'upstream/develop' into mon-server-and-re-org
    Fixed the merge conflicts.
    
    Conflicts:
            install_files/ansible-base/roles/ansible-securedrop/defaults/main.yml
            install_files/ansible-base/roles/ansible-securedrop/handlers/main.yml
            install_files/ansible-base/roles/ansible-securedrop/tasks/main.yml
            install_files/ansible-base/roles/ansible-securedrop/templates/app_rules_v4
            install_files/ansible-base/roles/ansible-securedrop/templates/config.py
            install_files/ansible-base/securedrop-travis-conf.yml

commit 2c69c5e8bf427c5d2d851dc139112a922a1a5427
Author: James <james@freedom.press>
Date:   Fri Oct 10 18:05:23 2014 -0700

    fixed defined playbook for mon-staging in the Vagrantfile
    added the python-pip depends to before task to build the deb package. This should be moved to the default config

commit 304d6aae81f5b8ec51b50e98e831e672f7b8c469
Merge: c0d2ebdc 53f07f28
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 10 17:37:58 2014 -0700

    Merge pull request #630 from garrettr/fix-cookies-everywhere
    
    Fix session cookie naming in all environments

commit 12ace582e6ffdc7ef7025b83ac8c2abd8c7961f8
Author: James <james@freedom.press>
Date:   Thu Oct 9 01:22:02 2014 -0700

    added task file remove_kernel_modules which are tasks to blacklist iwlwifi and bluetooth kernel modules
    updated the monitor ossec server preloaded vars to build the ossec-server.deb
    
    modified the build_securedrop_ossec_server_debs.yml to match the ossec_agent tasks
    
    updated variable name from monitorIP to monitor_ip to keep it conistent
    
    Split staging to app-staging and mon-staging
    
    moved some variables to defaults/main.yml from that task files

commit f054e45210e00e035965fbd0e9db2f428394d703
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 18:36:48 2014 -0700

    Copy correct hostname for document ATHS

commit ccc56a2f80f229d15098c87b9a8008fce72e8588
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 17:18:27 2014 -0700

    Fix Ansible debs and staging

commit ac74038cbb2180e6176b169ea00ba332ad8352a4
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Oct 9 10:39:56 2014 -0700

    Update xsendfile path in apache conf

commit 9f752648d777e7b9edb9e8cacf9e5890a4c11182
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 15:49:15 2014 -0700

    Update ansible's copy of config.py
    
    Originally we had this symlinked to `securedrop/config.py.example`, but
    that caused issues on Travis. For now, I'm manually updating the copy.
    In the future, we should see if we can get Travis working with the
    symlink so we can avoid having to remember to manually sync changes to
    the application config.

commit 3fd64028ccc821b7e289398e6be51cf146c27dfa
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 14:03:11 2014 -0700

    Flask should use X-SendFile in prod

commit d6e2a7b65a852f832cab573b1e7ac3e29a25e2c8
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 10:13:10 2014 -0700

    Avoid broken pipe error by waiting for page reload
    
    The "broken pipe" error generally occurs when Flask (which runs in
    single-threaded mode in development and testing by default) gets a
    request while it is still processing the previous one. This was
    happening in the case of testing editing a user's password because:
    
    1. Make a POST request to /admin/edit to change a user's password
    2. scrypts the new password, which takes several hundred ms
    3. Calls _logout, which uses `self.driver.get` directly and does not
    wait for the page to reload.
    
    Therefore, we request the logout page while Flask is still rendering the
    "change user password" response to return. This is a race condition, and
    so could occur anywhere, but was occurring consistently here due to this
    code path using scrypt.
    
    Fixes #623.

commit a4531cccf2cbd796d81fbc407edae8b2d431b926
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 10:10:36 2014 -0700

    Fix intermittent failures in functional tests
    
    Selenium's implicitly_wait is unreliable in certain contexts (for
    example, when checking the current URL or examining the current page
    source). Adds an explicit polling wait function that takes an assertion.
    
    Fixes #622

commit d8009a4454f87e783e556d909f851cb3da482534
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Oct 6 11:45:08 2014 -0700

    Travis should run the test suite

commit bead270d0fa146c007ab2ef243378ce00c7b90f3
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Oct 6 11:19:58 2014 -0700

    Rename securedrop-requirements.txt so naming is consistent with Ansible

commit 5dbfef923d3d73f8089410a22ad163c0c9686c5c
Author: James <james@freedom.press>
Date:   Wed Oct 8 17:26:38 2014 -0700

    Added gmail cert to ansible files directory for staging environments to use. Should up date this to look in the repo instead.
    Updated the ossec server and ossec agent build task to avoid doing the same tasks twice

commit c0d2ebdc97fbc3d9b3970625f7746d9e23662787
Merge: badfb59d 20df31db
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 10 17:34:25 2014 -0700

    Merge pull request #629 from maxamg/develop
    
    explicitly code amd64 in sources.d

commit badfb59d8e3adecfce40ea23aa3f7437306af83a
Merge: 9e2d6fba 4f69c1b5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 10 17:34:16 2014 -0700

    Merge pull request #628 from freedomofpress/ansible-iptables-ssh-rules
    
    Allow direct SSH access on staging

commit db806a69af83daa402ca65d12fe938d5369fc52a
Author: James <james@freedom.press>
Date:   Tue Oct 7 17:14:13 2014 -0700

    Added mon playbook
    Renamed and modified ossec-server deb to work with ansible deployment
    Added creating the monitor ossec-server debs
    Added tasks to install ossec-server locally or from fpf repo depending on playbook tag
    Added tasks for postfix and procmail

commit 53f07f28287916a71082c2fd24d5cd8922af1ecb
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Oct 10 17:10:33 2014 -0700

    Remove now-unused config.py template

commit ed7e4aca45bfac23ee6c40617099e59d8ce0c325
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Oct 10 17:07:09 2014 -0700

    Always use different session cookie names for each interface
    
    Previously, we only did this if `SECUREDROP_ENV == dev`. In production,
    this doesn't cause problems because the interfaces are served to
    different .onion addresses, so there is no origin collision. In
    development, when both servers are running on localhost, cookies of the
    same name collide (and overwrite each other) because cookies do not
    consider port to be part of the origin.
    
    Now that we have a wider variety of deployment environments, it is no
    longer possible to say that we can get away with only changing the names
    for the development environment. staging, for example, also provides
    access to the web interfaces via localhost (port forwarded from
    Vagrant), and has the same problem with name collision.
    
    Since there is no downside to using unique names for each interface, we
    just do it for all environments from now on.

commit 52767ca05332700afc649e69057c1b5aad67468e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Oct 10 15:04:36 2014 -0700

    unit tests don't work on staging

commit 9e2d6fba734b1f996cba30dc6a71c861246109b5
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Oct 10 14:33:28 2014 -0700

    Add Mac setup instructions for Ansible-based development env

commit 20df31db7d8c97e031fa8c4c0caf21859874ad2c
Author: maxamg <maxamg@gmail.com>
Date:   Thu Oct 9 21:49:06 2014 -0700

    explicitly code amd64 in sources.d

commit 4f69c1b5f22b919440c69a4eb8c9ba447967ef50
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Oct 9 18:55:23 2014 -0700

    Allow direct SSH access to staging (for tests)
    
    Also fixes some path issues in the iptables tasks.

commit 29870faa943c62b33ecd8135182d8ae1480cd3da
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Oct 9 15:09:44 2014 -0700

    Improve readability of iptables rules

commit 36eac70f837c726ed7d8700c269d8c80724608fe
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Oct 9 12:27:25 2014 -0700

    use ansible pip module to install dev pip requirements
    
    This was complicated by initially not knowing the location of the
    `securedrop_repo` on Travis. Fortunately, Travis sets an environment
    variable that gives us the absolute path we need.

commit 5e827077da9619a3c45cb3b49918190ccb49eaec
Merge: a0e5bc09 af419278
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 9 11:58:01 2014 -0700

    Merge pull request #627 from freedomofpress/fix-debs-and-staging
    
    Fix debs and staging

commit a0e5bc09e216bbc005cf81fb018cd8e5a8a1e737
Merge: f3ba5260 4eb2b8a0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 9 11:42:16 2014 -0700

    Merge pull request #625 from freedomofpress/flask-use-xsendfile
    
    Flask should use X-SendFile in prod

commit af419278b8fb1cbde4cb0b2cb93cd29e9be47ecd
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 18:36:48 2014 -0700

    Copy correct hostname for document ATHS

commit cf91a6df2928035deee333a28740e3aa1905155a
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 17:18:27 2014 -0700

    Fix Ansible debs and staging

commit 4eb2b8a0a5bd37725e947db47d427bb24667ab0e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Oct 9 10:39:56 2014 -0700

    Update xsendfile path in apache conf

commit de3dd663d8ab3c12ade29e25bb6d924a345dbd6a
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 15:49:15 2014 -0700

    Update ansible's copy of config.py
    
    Originally we had this symlinked to `securedrop/config.py.example`, but
    that caused issues on Travis. For now, I'm manually updating the copy.
    In the future, we should see if we can get Travis working with the
    symlink so we can avoid having to remember to manually sync changes to
    the application config.

commit 7e31801d65d7176be8e7d3c50656f43eb38432bc
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 14:03:11 2014 -0700

    Flask should use X-SendFile in prod

commit f3ba526084754154b8ad0dd33c9ff837de594be8
Merge: c73018f0 ea87460c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 8 10:23:41 2014 -0700

    Merge pull request #624 from freedomofpress/fix-intermittent-functional-test-error
    
    Fix intermittent functional test errors

commit ea87460cd481bdcf44d182c7ad3347c15ec8f52f
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 10:13:10 2014 -0700

    Avoid broken pipe error by waiting for page reload
    
    The "broken pipe" error generally occurs when Flask (which runs in
    single-threaded mode in development and testing by default) gets a
    request while it is still processing the previous one. This was
    happening in the case of testing editing a user's password because:
    
    1. Make a POST request to /admin/edit to change a user's password
    2. scrypts the new password, which takes several hundred ms
    3. Calls _logout, which uses `self.driver.get` directly and does not
    wait for the page to reload.
    
    Therefore, we request the logout page while Flask is still rendering the
    "change user password" response to return. This is a race condition, and
    so could occur anywhere, but was occurring consistently here due to this
    code path using scrypt.
    
    Fixes #623.

commit 2b03d6a549258c4d8ddaef154f4b06364d6b477e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 10:10:36 2014 -0700

    Fix intermittent failures in functional tests
    
    Selenium's implicitly_wait is unreliable in certain contexts (for
    example, when checking the current URL or examining the current page
    source). Adds an explicit polling wait function that takes an assertion.
    
    Fixes #622

commit c73018f0a35a25bbf6ce47eba05e4c9f4f663be4
Merge: fc83a2a6 de0f455b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Tue Oct 7 11:53:54 2014 -0700

    Merge branch 'develop' into pr/621
    
    Conflicts:
            install_files/ansible-base/roles/ansible-securedrop/defaults/main.yml

commit de0f455b04571cc49845a6017426fd9e50b82ae5
Merge: ba4921b9 1fd480cb
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Tue Oct 7 10:01:12 2014 -0700

    Merge branch 'develop' into pr/620

commit 1fd480cbc4169e9d2773162d654b86b13cc2027e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Oct 6 11:45:08 2014 -0700

    Travis should run the test suite

commit 154fe5690d3e640f56b412b8d947fa2024f93838
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Oct 6 11:39:35 2014 -0700

    Template-ize sysctl settings

commit c6d10d33df685a7d9ec7ce5399cfb6ff6a799589
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Oct 6 11:19:58 2014 -0700

    Rename securedrop-requirements.txt so naming is consistent with Ansible

commit eaa1dc6eb63dba0a7d736680ac73f3fa45825eb5
Author: James <james@freedom.press>
Date:   Mon Oct 6 03:15:28 2014 -0700

    added tasks to remove bluetooth wireless kernel modules
    added dns ip to iptables rules
    ensure that the dns ip in the iptables rules is defined in the dns resolver
    default dns server is googles 8.8.8.8

commit ccfeea2968f2eeaeab969720a60851a23a985881
Author: James <james@freedom.press>
Date:   Mon Oct 6 02:33:08 2014 -0700

    broke up the iptables and display onions task files to be app and mon specific

commit fc83a2a64c0d1d6a7413a43dcb6ea499f42d9f63
Author: James <james@freedom.press>
Date:   Mon Oct 6 01:49:03 2014 -0700

    will need to change the name of the grsec package to ensure there wont be a conflict but in order to ensure the grsec kerenl doesn't get overwritten added the non grsec kernels to the unattended-upgrades blacklist. this will ensure that the grsec kernel is the highest priority and always booted.
    
    added grsec to skip task till rename the grsec package in the fpf repo to work with current config
    
    updated unattended upgrades to us OS variables instead of being an ansible template

commit dffc4f1cbc6efc256db7a564c08a7fc1cd1ed68c
Author: James <james@freedom.press>
Date:   Mon Oct 6 01:47:04 2014 -0700

    added tasks for installing grsec kernel from fpf repo

commit ba4921b973a3ebb4c922f3e3bcf2ecd6dec87343
Author: James <james@freedom.press>
Date:   Mon Oct 6 01:02:35 2014 -0700

    added tasks for creating the ossec-agent deb
    added tasks for installing local ossec-agent deb
    added tasks for install ossec-agent deb from fpf repo
    updated ossec-agent DEBIAN to for new install

commit 56d9b0f1a684e63bd02bf2fc3ec0a515771b407f
Author: James <james@freedom.press>
Date:   Sun Oct 5 20:01:11 2014 -0700

    removed the non-idempotent sysctl task that was replaced by using the internal module

commit beeb3d8b34c0b1694cc0b91e1eaa8956d52b00ab
Author: James <james@freedom.press>
Date:   Sun Oct 5 20:00:39 2014 -0700

    fixed display onions and updated gitignore and docs with correct name

commit 915ff8ea1a6dc6a75e50dec6a46706773f912e73
Author: James <james@freedom.press>
Date:   Sun Oct 5 18:56:49 2014 -0700

    changed variable name for sshUsers to ssh_users
    removed the global vars from the mon playbook since all of the global vars are in the securedrop-ansible/defaults/main.yml now

commit 0a8ba56a06735724e96db6e620668ecd13714db9
Author: James <james@freedom.press>
Date:   Sun Oct 5 19:09:59 2014 -0700

    simplified tor configuration.

commit 000623dfdf83348ec890155358cad1ade55e4f34
Author: James <james@freedom.press>
Date:   Sun Oct 5 19:08:06 2014 -0700

    renamed task files to be reflective of what they are now.
    
    changed the way config.py tasks were written to make them idempotent and not to overrite secret values every time.
    
    changed fetch file name to be consistent with other filenames

commit 8a09ed2107253a5fcdf941dd0787e9b2ad2c4286
Author: James <james@freedom.press>
Date:   Sun Oct 5 10:48:05 2014 -0700

    added playbook and conf file for travis
    don't think symlinking the config.py works for travis.
    removed all the hardcoded paths in the playbook tasks for development
    removed task tag for displaying the tor onion which doesn't exist in development

commit e2af18bc6dcc2ed8fecabf92498098de5a66b6d6
Author: James <james@freedom.press>
Date:   Sun Oct 5 10:39:31 2014 -0700

    checkout .travis.yml from fpf/travis-use-anisble
    modified it to reflect the new playbooks and config files

commit ce39ce8a05a573721e6a86308804616f798e3bc2
Author: James <james@freedom.press>
Date:   Sun Oct 5 13:57:47 2014 -0700

    removed the a2 commands and converted them to built in modules to make them idempotent
    added when conditionals for generating the config.py and added option to make a backup of it, if it gets clobbered.
    removed check for symlink in app code since symlinking was removed from the playbook

commit 8b919313276604a5cbfbe878bc58ac0c31466d8b
Author: James <james@freedom.press>
Date:   Sun Oct 5 13:55:48 2014 -0700

    made the sysctl task idempotent. This will also make adding the grsec part easier

commit 52c863912cda776fa83f9b76b0e8310fa1573124
Author: James <james@freedom.press>
Date:   Sun Oct 5 13:55:05 2014 -0700

    combined some of the tor tasks to make the tasks/main.yml more readable

commit 4a6c4c0acd9952a318f49bf47d35cb9cbddb974a
Author: James <james@freedom.press>
Date:   Sun Oct 5 13:53:01 2014 -0700

    moved variable definations to default/main.yml instead of having them in each playbook

commit 407875b6aa17140ab51ac82fcdc6ad16b548bda3
Author: James <james@freedom.press>
Date:   Sun Oct 5 13:50:28 2014 -0700

    removed debs config file and playbook since that role just uses the staging info with different tags

commit 8cbe876ea0dd688043e6a0b72d6a428833a45c90
Author: James <james@freedom.press>
Date:   Sun Oct 5 13:48:47 2014 -0700

    removed hardcoded paths in tasks files and updated config files for them

commit 30e7211face9bc1edd91a8ae04b276a0b3a7c4f1
Merge: 5b705bbe 8ec8e945
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 4 14:18:49 2014 -0700

    Merge pull request #615 from dolanjs/combine-roles
    
    Combine roles

commit 8ec8e9455208a21f7331786ff64a007aabbbb80f
Author: James Dolan <james@pressfreedomfoundation.org>
Date:   Sat Oct 4 16:56:39 2014 -0400

    @garrettr had combined the dependencies listed in test-requirements.txt into dev-requirements.txt
    removed the associated task and deleted test-requirements.txt from the repo
    a grep showed no other references to it.

commit 1da43d9713bf0733da1de5377a13b991903d3733
Author: James Dolan <james@pressfreedomfoundation.org>
Date:   Sat Oct 4 16:49:21 2014 -0400

    updated doc to show correct interface ports for staging server.
    sudo (and then any command) not working for me, so switched back to sudo su. Until have time to see why it doesn't work.
    replaced ??? with the actual future filename from david's pr

commit 5b705bbe049acebcf09f64fda65fcc192a12336b
Merge: 5f5424cc 0e7b9cbb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 4 11:36:02 2014 -0700

    Merge pull request #614 from runasand/develop
    
    Documentation related to the 0.3 release

commit 0e7b9cbb53fc03da383fb90ba9f6b0f8c4424315
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Fri Oct 3 12:57:57 2014 -0400

    Updated to also cover the Admin Workstation

commit d19b49097cf32bf0312ba30ef11680f2f2ea49ab
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Oct 2 19:00:52 2014 -0700

    updated doc to show when to use sudo

commit bd0584b33827583e6089c6d6caf0c0f9522329ee
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Oct 2 18:15:42 2014 -0700

    updated to doc
    added a tag for task that install the test and dev depends. This way they can be skipped when using staging to create apparmor profiles

commit 048f2a9b2824ce120b322d8b485ab7d56fd56d78
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Oct 2 16:04:04 2014 -0700

    updated permissions for unattended-upgrades

commit 100fd7d1c13d52f0d38df635be593d491f382f4e
Merge: 6ffc9dc9 5f5424cc
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Oct 2 16:02:43 2014 -0700

    Merge remote-tracking branch 'upstream/develop' into combine-roles

commit 6ffc9dc92558375ba61879dcfdfccb4cf75c92b1
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Oct 2 15:52:16 2014 -0700

    updated directions and added task so manage.py is run on the development branch

commit 5f5424cc0ffc153be2be697005891e6f05e14422
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Oct 2 09:25:20 2014 -0700

    Fix setup_dev.sh due to ansible changes

commit 76dc06395260aa0942b090e2775f1ccae42ca6f4
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Oct 2 15:06:26 2014 -0700

    Combined the 3 roles in one ansible-securedrop
    split the playbooks into one development, staging, app and mon (debs uses the staging playbook to avoid config issues)
    each playbook has it own inlcuded vars file securedrop-staging-conf.yml
    for the app and mon playbooks the admin will need to copy and fill out the example conf files

commit c5649208c3d40a3d86cc23c702a5542c18d9b1e3
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 2 16:01:43 2014 -0400

    No need for manual kernel patching

commit 8323e4da146464559ff45546ae9a98dd926541b1
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 2 11:47:54 2014 -0400

    Updated instructions screenshots for GPG key generation (#529)

commit d41966fd418d098da9992b69f7e105e8167bee31
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 2 10:55:43 2014 -0400

    Change referenes to 12.04 to 14.04.1

commit b794025ef9ad6106ccea5d84cf1343c950c426cb
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 2 10:47:15 2014 -0400

    Point to Tails website for creating and using encrypted volumes

commit 09e143e573698420bca035f40451f4ca00103651
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 2 09:06:20 2014 -0400

    nitpick

commit 7f191512dde8f562ab4bc67b4598fe57f62b11f9
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 2 09:04:18 2014 -0400

    Updated with 14.04 and removed some unnecessary bits

commit 649ee4ae0e67104c300a5a979241951b82acff19
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 21:47:18 2014 -0700

    fixes for deb and staging environment

commit 064b0364f98385a1b26dfee2ab1c5dfb7e7e0a64
Merge: 9c7d41a8 017ebad3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 20:15:39 2014 -0700

    Merge branch 'wsgi-file-dev-env' into ansible-tags

commit 017ebad36b71b8caf49f7129e84783472afcc3a9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 20:14:25 2014 -0700

    add missing dep from test-requirements to dev-requirements

commit d803c639181f966140d491c3ced2def6425a3546
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 20:14:02 2014 -0700

    symlink config.py.example to ansible template

commit cd83bcdcf29fff7f6a3674533e898a4935759624
Merge: f999f4e4 a4669825
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 19:40:15 2014 -0700

    Merge branch 'develop' into wsgi-file-dev-env
    
    Conflicts:
            securedrop/config.py.example

commit f999f4e45142e217d60049c5b0013eda8890dfe1
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 19:37:57 2014 -0700

    Fix spacing

commit 48860000ca03040cab01f7f079d8ecb21432541c
Merge: 1fa96c69 9b7cd38f
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 22:15:47 2014 -0400

    Merge pull request #9 from garrettr/staging-fixes
    
    Staging fixes

commit 9b7cd38f3d6cca840a0a304262e4e9dfbcafa897
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 19:12:04 2014 -0700

    Do setup to run the functional tests on staging
    
    This is not ideal, since the functional tests require dependencies that
    will now be present on the staging server but would not be present on a
    production server. For now, we'd like to be able to run all of the tests
    to generate the best possible AppArmor rules, but we should revisit
    this. Ideally, you would run the tests remotely, which should be fairly
    easy to do with the functional tests at least.

commit d46ad01121b05ba031f6a1cd9a6c3870d66ef470
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 19:11:32 2014 -0700

    No longer makes sense to set up AppArmor on development host

commit 1fa96c6914cbc2ae4dbaee059a97be190e5cc0f5
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 19:10:48 2014 -0700

    removed some of the extra stuff from upstream tor role

commit 45d07c64fc00b004ea352abe0911d2e424bfcdb0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 19:10:18 2014 -0700

    Use autostart flag to only provision and use the development VM by default

commit 2f0e600b28f448c7d993a57b33e99bc5a42fdce1
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 19:09:34 2014 -0700

    Fix incorrect port forwarding in Vagrantfile

commit 1461d5c784f1d8433f65ede247bb17ba5c0d87f1
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 19:08:59 2014 -0700

    Use consistent naming for development host and role

commit 9c7d41a87fd45cfd139219641dcc9d0ebbf96851
Author: David Stainton <dstainton415@gmail.com>
Date:   Thu Oct 2 01:16:57 2014 +0000

    Fix minor bugs with building the deb package

commit a4669825fd7ed3baef34d7d70da504014c3e4b70
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 18:07:37 2014 -0700

    Patch two-factor verification in the unit tests

commit 5559f76c92183f666e0b9b6bea48341884b7e09e
Merge: 0a690a03 b64619f4
Author: David Stainton <dstainton415@gmail.com>
Date:   Thu Oct 2 01:01:33 2014 +0000

    Merge remote-tracking branch 'dolanjs/wsgi-file-dev-env' into ansible-tags

commit b64619f4ffb3fc448086979b5c0c8b9627b480eb
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 18:00:16 2014 -0700

    removed micah's old chroot-dev script

commit 0a690a03c8e02b7ead955d0641a4987e45cc5120
Merge: 56921547 13839429
Author: David Stainton <dstainton415@gmail.com>
Date:   Thu Oct 2 00:59:04 2014 +0000

    Merge remote-tracking branch 'dolanjs/wsgi-file-dev-env' into ansible-tags

commit 56921547b93989f38d75d2043a1f90513ba3757b
Author: David Stainton <dstainton415@gmail.com>
Date:   Thu Oct 2 00:55:12 2014 +0000

    Adjust fetched filename

commit 138394292d6a99427ac25f54153bcf2933afab2d
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 17:54:47 2014 -0700

    removed app and app-hardening packages because they have been replaced by ansible

commit 9903caa8922c87b7fe95322aa60d94b79e50792d
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 17:52:38 2014 -0700

    added additional vm for building deb packages. Deb packages will be created in /tmp dirctory and then copied back to /vagrant directory for other vm to use

commit cf9a4da419336f615faadd59531d598567a0eb16
Merge: e5b5d917 e3eda951
Author: David Stainton <dstainton415@gmail.com>
Date:   Thu Oct 2 00:40:53 2014 +0000

    Merge remote-tracking branch 'dolanjs/wsgi-file-dev-env' into ansible-tags

commit e5b5d91799cb3281010e5791601cc2841ab00bde
Author: David Stainton <dstainton415@gmail.com>
Date:   Thu Oct 2 00:38:42 2014 +0000

    Fix some bugs with exporting hidden services info

commit e3eda951f317b0af264f231faede9cbb5a822c44
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 17:38:32 2014 -0700

    moved building the deb packages to a different task list that will not be run in the staging environmnet. Building the deb in the staging env was causing additional depends to be installed which were affecting the apparmor profiles. The deb will be built in a different vm with deb package saved to /vagrant so all the other VM's can access them

commit 56f14dfb2a9d1b08cd85dfe4b29a395e3c432fe9
Merge: 1c560898 a076f225
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 17:36:51 2014 -0700

    Merge pull request #613 from freedomofpress/admin-interface-tests
    
    Admin interface tests

commit 1c5608987ff17edce6a30a5e188fc65659a921a4
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 17:33:15 2014 -0700

    Add Slack token for Travis integration

commit a076f22546552f30f11519ac6e42801010a15b19
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 17:10:09 2014 -0700

    Patch two factor verification to avoid intermittent errors with TOTP

commit 97a2f26c4221307887a3f4fcad3852e4f3bfc8dd
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 17:09:42 2014 -0700

    Functional tests for the admin interface

commit 260d2f8eeef6984ba95e021fb91e5045c4953530
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 17:08:43 2014 -0700

    Better logging for exceptions during login

commit 99db11f0af63f7d5dfa416c72b72198fb6e8d14f
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 17:07:16 2014 -0700

    Trailing whitespace

commit f097fc0cd2f8f0f0e40b761b48a1588f4256bbbe
Merge: ebcdc2bb aa1d88fa
Author: David Stainton <dstainton415@gmail.com>
Date:   Wed Oct 1 23:30:21 2014 +0000

    Merge remote-tracking branch 'dolanjs/wsgi-file-dev-env' into ansible-tags

commit ebcdc2bbb594a2951f9252c9b2baea0feac9be72
Author: David Stainton <dstainton415@gmail.com>
Date:   Wed Oct 1 23:27:01 2014 +0000

    Minor corrections to playbook and conf files

commit aa1d88fa138501193572b33abcabc4e1cb61cbe6
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 16:25:15 2014 -0700

    working on building deb packages as part of staging env

commit 12ce61df0293e831d74ea139e494d67034fea5fb
Merge: 780ac6ff e59cab09
Author: David Stainton <dstainton415@gmail.com>
Date:   Wed Oct 1 22:41:53 2014 +0000

    Merge remote-tracking branch 'dolanjs/wsgi-file-dev-env' into ansible-tags

commit e59cab091532b08586bb44c5f9504cb934fd1571
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 15:39:30 2014 -0700

    updated tags in Vagrantfile to match tags in tasks/main.yml

commit 780ac6ff40a08a09661c3966217732f3eab723d1
Merge: 41a36e0f 7ec0ed19
Author: David Stainton <dstainton415@gmail.com>
Date:   Wed Oct 1 22:34:47 2014 +0000

    Merge remote-tracking branch 'dolanjs/wsgi-file-dev-env' into ansible-tags

commit 41a36e0f0ee7d2bffe23bda77ccaf49c06b9d46f
Author: David Stainton <dstainton415@gmail.com>
Date:   Wed Oct 1 22:32:59 2014 +0000

    Export all the Tor hidden services connection information
    
    This is a rough draft.. and untested.

commit 7ec0ed1943cdc192633becefcfd3257e2c7f0264
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 14:48:06 2014 -0700

    commented out removing admin users from ssh group if they are not listed in the secureDropConf.yml file

commit dfbb9022e4011d4d5c2fb75402a0e2a3d255cdf3
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 12:49:01 2014 -0700

    first attempt at having ansible create the deb packages for staging on the guest OS

commit 1ac853bf2e9044a88f1a5aac243809cac28f2e9f
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 12:41:29 2014 -0700

    where to find ATHS values
    
    Added where to find ATHS values for each environment

commit e6be9bc4924e14fac473b3621b3b93196e05cd69
Merge: 2a88c81e df7ce36b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 11:48:33 2014 -0700

    Merge branch 'pr/612' into develop

commit df7ce36bad1eadaf0b368e5487337e5e91cce5cf
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 11:48:11 2014 -0700

    DRY HOTP reset code and rename functions for clarity

commit d799e4033a6f8028cdd6f1518f52fe71e102a7dd
Merge: 3f6f43dc 8f4ec2f5
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 11:30:26 2014 -0700

    Merge remote-tracking branch 'origin/pr/612' into pr/612
    
    Conflicts:
            securedrop/db.py

commit 3f6f43dca21c7e9d9a2afa03cb8c080137961210
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 11:26:52 2014 -0700

    Document YubiKey setup

commit 505b2af977cf23b0eaaf0992c3af34ef5728028d
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 11:26:23 2014 -0700

    Nicer output formatting in manage.py

commit 96e0ba5cac43f3585a05e784f47ef5d17be21de3
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 11:24:49 2014 -0700

    Loop until something is entered for the HOTP secret
    
    If you choose "y" for "use HOTP", but then accidentally hit enter
    instead of entering something for the HOTP secret, the program would
    interpret the empty string as a "false-y" otp_secret value and revert to
    generating a TOTP secret and displaying the QR code. This change loops
    until something is entered for the HOTP secret to avoid this confusing
    situation.

commit be5a7248b9307ed4baed863146faa4e36a77f722
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 11:24:39 2014 -0700

    Remove spaces from HOTP secret key automatically

commit 8f4ec2f5140407ccdc816ea5366ac4d8e63f78ae
Author: William Budington <bill@eff.org>
Date:   Wed Oct 1 11:03:42 2014 -0700

    Reset counter when they reset user HOTP

commit 891fec8a52f33206c49a26c83e483d4f4450a460
Merge: 52a0f529 ae3eaef7
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 13:53:05 2014 -0400

    Merge pull request #8 from garrettr/remove-invalid-admin-users-ssh-access
    
    remove non-admin users from the ssh group

commit 5415c85f7eb751d333ce058863f8e81737c567d2
Author: William Budington <bill@eff.org>
Date:   Wed Oct 1 10:52:35 2014 -0700

    Spaces in otp secret are a-ok!

commit 2a88c81e5496c7090506297fea1be943fd649af2
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Oct 1 07:26:12 2014 -0400

    Added blurb about two-factor authentication devices (#597)

commit 270784ad1d8eb7a63de6d9c6b722079936ccc173
Author: William Budington <bill@eff.org>
Date:   Wed Oct 1 01:09:39 2014 -0700

    Separating out routes to reset otp_secret for HOTP and TOTP.  Adding template for editing HOTP

commit ce320d7d10fbb35082ec0196a3bc3a812b14b170
Author: William Budington <bill@eff.org>
Date:   Wed Oct 1 01:08:10 2014 -0700

    Adding method to manually set otp_secret on Journalist model

commit 422de1ccf8a7736b1c010a4135c02e30185183e7
Merge: 52751a7d b419b57f
Author: William Budington <bill@eff.org>
Date:   Tue Sep 30 23:12:03 2014 -0700

    Merging develop into journalist-login

commit 52751a7d794841f71e4fdce42d614044f027ee3a
Author: William Budington <bill@eff.org>
Date:   Tue Sep 30 22:12:07 2014 -0700

    Cleaning up unnecessary lines a bit

commit ae3eaef72a095926f52732c624b090099f8d40a2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Sep 30 20:33:52 2014 -0700

    remove non-admin users from the ssh group
    
    This change makes it easy to revise the sshUsers variable in the main
    conf file, and then re-provision the system to disable access for users
    who were admin users but are no longer.

commit b419b57fae56c4409dfd60f215ac3b9b9d109bb0
Merge: 546b124c ce335499
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Sep 30 19:03:40 2014 -0700

    Merge pull request #611 from freedomofpress/config-rename-roots
    
    Better names for dirs in config

commit ce335499ead7ea45f8820981e5682cd13bb34967
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Sep 28 09:08:23 2014 -0700

    Better names for dirs in config
    
    Previously, we used `SECUREDROP_ROOT` for the directory where all of the
    data (db, submissions, keyring) was stored. This caused confusion, as it
    sounds like it refers to the root of the web application
    (`/vagrant/securedrop` or `/var/www/securedrop`, depending on dev or
    prod).
    
    Changed `CODE_ROOT` => `SECUREDROP_ROOT`
    Changed `SECUREDROP_ROOT` => `SECUREDROP_DATA_ROOT`

commit 52a0f52905175c67f1ca31c6ed90fefe326fa936
Author: James <james@pressfreedomfoundation.org>
Date:   Tue Sep 30 12:29:24 2014 -0700

    updated develop doc to explain what files to symlink for differnt environments

commit 27980dece920cc85c01affadb95f8700d52717cb
Author: James <james@pressfreedomfoundation.org>
Date:   Tue Sep 30 12:19:05 2014 -0700

    added 8082 as the source interface on staging vagrant host
    and 8083 as the document interface for staging vagrant host
    staging environment doesn't symlink the /var/www/securedrop but installs a local deb package defined in external yml file

commit cc34ff2d412635abf2a90bebfbaf61339356e793
Author: James <james@pressfreedomfoundation.org>
Date:   Tue Sep 30 11:32:52 2014 -0700

    reverted staging external yml file to what it was previously.
    Need to change playbook from symlinking the /var/www/securedrop dir to installing local deb package for staging env

commit 0e10332254865ca234532ca52b52b5b981105339
Author: James <james@pressfreedomfoundation.org>
Date:   Tue Sep 30 11:18:15 2014 -0700

    changing the tags for updated environment names.
    Also broke out the differnet environments in Vagrantfile
    updated the doc to include symlinking the external yml file
    
    still need to fix some things from @garrettr pull request that broke some of the variable names for staging and app

commit 529a4af6dfad8924fc6278d318269f553711803d
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Tue Sep 30 10:17:32 2014 -0700

    spacing

commit c7e20523f2f69417d9d896a7bc1c33076652209e
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Tue Sep 30 13:02:53 2014 -0400

    typo

commit b254aeba6bff3b2f87f05f6b56ccd7caf82107f9
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Tue Sep 30 13:01:56 2014 -0400

    code block

commit 87d3b57d6fd45531c676bd79a80857a68787c583
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Tue Sep 30 13:00:36 2014 -0400

    spacing

commit fa5593b8fcf2334d0a1e567b19d1dc82c0df350f
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Tue Sep 30 12:59:55 2014 -0400

    update

commit 546b124c2344be123e9509bf2190dd9e1af8c912
Merge: 159f4cce c93d52ad
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Sep 30 09:54:52 2014 -0700

    Merge pull request #609 from freedomofpress/refactor/unit-tests
    
    Refactor unit tests

commit 85edb891a7a3460dfed5d075dcf06fa8a20b90ed
Author: James <james@pressfreedomfoundation.org>
Date:   Mon Sep 29 21:54:46 2014 -0700

    updated Vagrantfile (note all the tags don't exist yet) only dev will currently work.
    Need to update playbooks to changes to staging environment vagrantfile layout

commit 02e558020e0fa303d84278e1adba95665486198b
Merge: 73ca6dcf 0310380f
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Mon Sep 29 02:31:24 2014 -0400

    Merge pull request #7 from garrettr/dev-env-fixes
    
    Dev env fixes

commit 0310380f01a53208ab877e51b3d2a6d6b5e10366
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Sep 28 21:11:06 2014 -0700

    Finalize ansible dev environment
    
    These changes replicate the existing dev setup's functionality.

commit 32be4e4b958489a3e839b6f2f1a163049ed28abf
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Sep 28 16:32:47 2014 -0700

    Make Vagrant's forwarded ports match convention
    
    8080 => Source Interface
    8081 => Document Interface

commit c93d52adb2b24d6c103ee22cb83ee559b28db06c
Author: Yan Zhu <yan@mit.edu>
Date:   Sun Sep 28 15:28:49 2014 -0700

    Refactor test_unit.py into smaller tests

commit ce6e926ef2b02c571d016b6b9a08bc080d16b96f
Author: Yan Zhu <yan@mit.edu>
Date:   Sun Sep 28 14:50:19 2014 -0700

    Pull common unittest methods into common.py, remove unused modules

commit 43da3bb7654ec106a0ed0e5c7e7996a7716ad90d
Author: Yan Zhu <yan@mit.edu>
Date:   Sun Sep 28 14:05:21 2014 -0700

    Add manage.py command for running unit tests only

commit 73ca6dcfc186de9708ec98c6fc8d29d3d54cf438
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 13:19:08 2014 -0700

    commented out OSSEC till the package is in the fpf repo

commit 1abb9275d0544fc27a9c4687112eaa20613bbc28
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 10:17:12 2014 -0700

    added apparmor profiles to securedrop-app-code postinst in enforce mode

commit 1c31c35d74acf5a9ef851e63aa65b1f673846fa6
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 10:14:34 2014 -0700

    trying more apparmor stuff.... not tested yet

commit 60a09d1fc954729b93d36035d16abb0290edfef6
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 10:08:04 2014 -0700

    working on apparmor profiles.

commit 49a79e4876f0055ebcce1a8604ffc98c6a0ee9c3
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 09:20:59 2014 -0700

    added the aparmor profiles for the dev environment in complain mode, and then for staging put them in enforce mode.
    For profuction the securedrop-app-code package will deploy the apparmor profiles and put them in enforce mode.

commit c7ca99c4da2cb1813406d62bd22a39f2e93b8083
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 04:33:08 2014 -0700

    had to breakout creating the app directory structure prior to task with the symlink check for production or else it was generating an error.
    working for development. Need to ask @ageis to put the ossec-agent.deb in the fpf repo to fully test staging
    same for the updated securedrop-app-code deb

commit 8dcd836c25a0221a4a8f3c8199068d59f801447a
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 04:13:23 2014 -0700

    turned the apache ports.conf source.conf and document.conf into templates so we can remove the localhost and symlink protections for the development and staging environments
    added a apache2 handler to restart the service if the sites change.
    renamed secureDropConf.yml.example to secureDropConf.yml.production so it make more sense
    need to test in production

commit cd3c0bb0f5eb79606a7197b65582d4297b969ceb
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 03:13:49 2014 -0700

    changes from trial and error beacuse of @garrettr request

commit 167eece31b35e39f09a0bb856498fbdfc973eee9
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 03:10:02 2014 -0700

    added handler for restart apache after placing enabling the source and document site

commit 0c203ccda2d88f81bbde2e68491a7ec2b42f3f53
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 01:56:01 2014 -0700

    added dev deb dependency of python-pip
    use the apache_user variable instead of the www-data for wsgi app file ownership

commit 4d509b7a40a972b184f0d42193f9940a07338477
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 01:36:36 2014 -0700

    updated the path for apache to look for the wsgi files

commit 94f7aa91651bde933c8827097edc884d2a40e826
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 01:24:52 2014 -0700

    because @garrettr didn't want the wsgi files mixed with his app code in the github repo
    and for the dev environment /var/www/securedrop is just a symlink to /vagrant/securedrop have to move the wsgi files to /var/www/
    and reconfigure the rest of the apache configs for that

commit 1551de5863eb5b33f1eb9be89cf02425a4bc1bcf
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 00:55:12 2014 -0700

    Beacuse @garrettr didn't want the the wsgi config file mixed with his app code file in the github repo....
    re-organizing all of the apache config file so ansible will deploy the source.wsgi and document.wsgi files
    beacuse in the development environment the /var/www/securedrop is symling to /vagrant/securedrop these files will need to be located /var/www

commit e9cff9315648077647414bafd4f49070a819a20d
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 00:22:49 2014 -0700

    updated build_deb_pacakge script and directions
    made changes due to lintian output.
    moved the ossec task to on the last task to that it doesn't go crazy with file integrity alerts for the install

commit 1bbbb8447b47f94d80d816709cb4e5edd2d8d0bd
Author: James <james@pressfreedomfoundation.org>
Date:   Sat Sep 27 22:14:03 2014 -0700

    moved the monitorIP variable to the secureDripConf.yml files since it is an instance specific config
    and is a value we can also configure in the vagrantfile for the development/staging environments

commit 5b4ab481186e7f31fa968159be9fefe445720a4e
Author: James <james@pressfreedomfoundation.org>
Date:   Sat Sep 27 22:02:27 2014 -0700

    removed securedrop specific files from /etc/directory
    renamed the doc and lintain overrides with the correct package name

commit 091a1bf50b327a8014b4d3f62725cd7e7a95f202
Author: James <james@pressfreedomfoundation.org>
Date:   Sat Sep 27 21:53:29 2014 -0700

    moved securedrop specific agent config to ansible-securedropAppHardening role
    removed securedrop specific sections from postinst
    since this package was designed to be configured by ansible I removed the debconf question for the monitor ip

commit 509d13d53cb6a2f89c9ee0e36e385f3792e22165
Author: James <james@pressfreedomfoundation.org>
Date:   Sat Sep 27 21:30:37 2014 -0700

    renamed ossec agent deb package since it will not be securedrop specific

commit f0c05ed442f0f1ed17e6ac0898befd1e2cbc7467
Author: James <james@pressfreedomfoundation.org>
Date:   Sat Sep 27 20:51:03 2014 -0700

    moved all tasks from the appHardening and appInterfaces main.yml to separate files.
    taged all include statements in the appHardening and appInterfaces main.yml files.
    added all environment tags to the tor role
    added a 4th tag called tor so developer could choose to skip it for the development environment to reduce provisioning times
    
    switching from staging to development environments does not currently work
    development environment is not functional yet

commit 159f4cce57cfd009a6fcd80c706d7ecca9009881
Merge: 293423fb 5c85e5df
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Sep 27 19:07:09 2014 -0700

    Merge pull request #522 from freedomofpress/journalist-login
    
    Journalist login

commit 5c85e5dfdeef2d3848e345fa07ecb28dc012b506
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Sep 27 19:03:04 2014 -0700

    Refactor and cleanup

commit 6c66a13108f9cd63bda4f881a32d9563c1701a1d
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Sep 27 18:01:43 2014 -0700

    Use UTC for all datetimes in the database

commit 0d840f0c9e840de304c1c10459cc1a5267483f5d
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Sep 27 17:42:36 2014 -0700

    Better formatting for the QR code URI

commit 2278d85b9dbb49521a6fdddcdc19f37bb453943f
Author: David Stainton <dstainton415@gmail.com>
Date:   Sun Sep 28 01:00:24 2014 +0000

    Teach vagrant to sync dir with proper ownership

commit cce44bb634bafd1b0d5a56afedfd79ada45eb46c
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 27 21:30:40 2014 +0000

    Remove obsolete apache directive

commit e578b9af28bd29600d51f7b4f7078eff820cac12
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 27 21:16:48 2014 +0000

    Force upgrade of tor if new one is available

commit 2b305bcc43df1a4d0da11b8eafedf51436932d0c
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 27 21:03:28 2014 +0000

    Add portforwarding for vagrant app

commit e60cb0ecbe94bc864cdb9c293b6086179598a4ea
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 27 20:50:39 2014 +0000

    Fix tags

commit 569e7f2b3046a21c3ff837bbb2ca15cbcebe8d2e
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 27 20:16:29 2014 +0000

    Add minimal ossec task list

commit 1d1ae2fbc2aba5d109dc1245f41729819d356048
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Sep 26 18:43:45 2014 -0700

    Update tests to work with journalist login flow
    
    Fixes tests that were broken by the new login flow. Also adds a
    functional test for logging in and some (not enough) unit tests for
    aspects of the admin interface.

commit f0f3e926bcf4fe310ccf35c8765b1644dc278c1e
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 27 00:58:05 2014 +0000

    Change sshUsers to a list instead of a dict

commit 94a9637ce2c8edfbd4b85be861e1bf67a164331f
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 27 00:28:30 2014 +0000

    Add ssh group to created users

commit ace91b073e1d7da0a548e1b86e10b5570c00cf7a
Author: James <james@pressfreedomfoundation.org>
Date:   Fri Sep 26 17:13:26 2014 -0700

    added copying and loading the sysctl.conf.

commit fa8e9f47c5fd8d2c4ef3813962639b31af0b3777
Merge: bddf5868 341d1069
Author: James <james@pressfreedomfoundation.org>
Date:   Fri Sep 26 17:05:52 2014 -0700

    Merge remote-tracking branch 'david/ansible-tags' into ansible-app-iptables-non-dev-env
    
    Conflicts:
            install_files/ansible-base/roles/ansible-secureDrop-AppHardening/tasks/main.yml

commit bddf5868bc4eb911d302df6821c08564a979de6e
Author: James <james@pressfreedomfoundation.org>
Date:   Fri Sep 26 17:01:00 2014 -0700

    added tags back to iptables

commit 341d106964f1b97c3769bfe4a5fc59f4d34128eb
Author: David Stainton <dstainton415@gmail.com>
Date:   Fri Sep 26 23:49:11 2014 +0000

    Teach ansible to create user account with ssh keys and sudo access

commit 015b21e01504aee55ce1caf6684c88946630dbf7
Author: James <james@pressfreedomfoundation.org>
Date:   Fri Sep 26 16:15:42 2014 -0700

    fixed typo

commit 053f8315264a9a2bc3d2f2ee4efceff23b1cd5c7
Author: James <james@pressfreedomfoundation.org>
Date:   Fri Sep 26 16:11:52 2014 -0700

    added iptables rules for app server and a if-network-up script to load the rules.
    Did not create a handler to load the iptable rules on purpose. Since in production this would lock kill the anisble/vagrant/admin-workstation ssh connection to the host before the install was finished

commit 028909379307200891079da9f48ae547b7046719
Author: David Stainton <dstainton415@gmail.com>
Date:   Fri Sep 26 22:08:12 2014 +0000

    Remove google auth code gen and add symlink check for workflow switch

commit f8e11356692ff241e0facb69f74d222c59fa72c4
Author: David Stainton <dstainton415@gmail.com>
Date:   Fri Sep 26 19:16:25 2014 +0000

    Teach Vagrant to skip "production" Ansible tags
    
    Here we mark various tasks with the following tags:
    - production
    - staging
    - development
    
    The point of this is to mark certain tasks that are specific to a particular work flow.
    Therefore this "development work flow" means that the Vagrantfile specifies that it
    wishes to skip tasks tagged with "production" tag.
    
    We can of course create the inversion of this scenario where we run *only* the tags
    we specify...

commit 6ebc178eec1511d2f513c7cb8232a4614e72922a
Author: James <james@pressfreedomfoundation.org>
Date:   Fri Sep 26 10:34:51 2014 -0700

    commented out the when env = prod or stag statements that didn't work

commit e6ea6a8ce2c022e3f19645c4740dfa400e948585
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 18:50:45 2014 -0700

    added option to external yml config to set the securedrop environment.
    If 'dev' is set, ssh configs, 2fa, tasks will not be run.

commit a106f56f06982252b4e78be91e06c4176dbe268c
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Sep 25 18:14:08 2014 -0700

    Rename test_setup.py to common.py
    
    The convention (followed by py.test and others) is to expect files with
    a test_* prefix to contain tests. test_setup.py contains common setup
    and teardown functions for SecureDrop, so I renamed it something less
    confusing.

commit 7f60fd5b7a1ee7e8c4a2d2368853ee7fee4e969f
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Sep 25 17:02:58 2014 -0700

    Remove useless test_submit_clean_file test
    
    This test is leftover from when we had MAT integrated to attempt to
    automatically remove file metadata. It doesn't add any additional
    coverage beyond what test_submit_file covers, so I'm removing it to get
    rid of clutter.

commit b07a41d79855f9a817d7033b7250088cdc9860f0
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Tue Sep 23 14:31:54 2014 -0700

    fix failure to pop uid on logout

commit 0379b82dae4a704230a421e704519282656cd0cc
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Tue Sep 23 14:30:33 2014 -0700

    Made admin user more like a normal user
    
    Based on feedback from James, the login flow for an admin user is now
    the same as a normal user. They login to the `index`, and clicking the
    SecureDrop logo takes them back to the `index`. They now have an "admin"
    link in the top right corner that takes them to the `admin_index`.

commit ef1edb34378d654daa6319b0fd118a75f4ddb071
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 16:35:13 2014 -0700

    Add option to reset a user's two factor credentials

commit ef7aba9a9ecd52ee37f6bb2ec139e1fe9906f720
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 15:55:30 2014 -0700

    Clarify two factor authentication setup for new users

commit 79d4337896aa5e875b465ff3230ddd5512eb6651
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 15:43:33 2014 -0700

    Nicer layout for "add new user" form

commit 649a970bbdebb969ebba10db7f53939e06076e05
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 15:42:55 2014 -0700

    Pass correct value for is_admin to ORM depending on form input

commit 503f2d6660235f1ea5546e9acb9cc528af40a9b4
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 15:30:11 2014 -0700

    Prevent deleted users from continuing to be able to log in

commit 40cc3d9b8c247d440cf3bd12f2e5c967b29f656b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 15:29:30 2014 -0700

    Header image should link to different index depending on type of user

commit 55651f482973f030478c899097d88866b457b3be
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 14:54:08 2014 -0700

    get rid of unnecessary padding in header

commit 533af6aac2facaae3aa5e5b06107ae245fdd1ebf
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 14:02:38 2014 -0700

    js confirmation before deleting user on admin page

commit a7d6fe01bbed2443d1549adf49fa357f7c3d1efe
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 14:02:12 2014 -0700

    Correctly handle initial case where new user has not logged in yet

commit e6d69e715ec98f94e8b1b57965dc446eae0b0ba2
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 13:36:43 2014 -0700

    Better user table on admin page

commit 260a755bfb30a7ed9bdc6d156c37488a0a042d4e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 13:35:55 2014 -0700

    fix handling of seconds in datetimeformat

commit 54834e22309e3c8dfaead2a07a650a9af87e7ca1
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 12:40:23 2014 -0700

    better "add user" button in admin interface

commit a361f79a6b2b9bd67eea72870e7a8a6318cc2ef2
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Sep 4 19:20:23 2014 -0500

    Add Flask-Testing back, since it provides some useful functions

commit a14caf7b21d198d635fa5de67f04a46ebd79a336
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 19:54:49 2014 -0700

    merge login pages

commit 31710f31e38ac84b16401161387b46209edeb75d
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 19:32:29 2014 -0700

    better provisioning uri for Google Authenticator

commit 188cdcab7bfb2b3feff378fd195fccc68a6192c6
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 19:26:37 2014 -0700

    check two factor code on login

commit 982dcdf288bc90df37bb6cfb7e72f629aafb3668
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 11:00:07 2014 -0700

    add deps for Google Authenticator
    
    * pyotp for computing two factor values
    * qrcode for generating easily scannable qr codes for shared secrets

commit a192e204bb75df7e44388bae6d1e528521864b37
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 10:59:33 2014 -0700

    print qrcode and shared secret after manage.py add_admin

commit fcdbd5fa27df850b64a99c494c7688bb82b68780
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 10:16:20 2014 -0700

    generate and show otp secret for new users

commit 60ba5b1c0c7e4988b2b40a16f9e2c386b5fb2f90
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 10:36:23 2014 -0700

    manage.py command to add new admin users

commit 64e584c4699f51748f6aaf780ec3c56721693132
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 01:47:22 2014 -0700

    process edit user form submission

commit 535c6659699f3b3b8d4444c40b7a6fbcf389fe72
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 01:44:19 2014 -0700

    function to set password for Journalists

commit 856a77aeba60f85f767d5f006c9a2aa702898c62
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 01:11:17 2014 -0700

    admin users automatically go to admin index

commit 4e81d3ddf4604f1c0e4a9a8f3d046d3df14cfc3a
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 01:08:45 2014 -0700

    Use exceptions for login error handling

commit eb2d46df06d7cc14536b4e57d1eab0cd091a44b2
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 01:01:37 2014 -0700

    add timing metadata to journalist users for auditing

commit 97245cd83e7edc819656c3abd32779d82903cda6
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Tue Jul 29 01:00:54 2014 -0700

    add users from admin interface

commit 2d542f4194f18f0c8192cc1608b771a43002adc0
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Jul 28 23:42:35 2014 -0700

    basic admin interface with crud for Journalists

commit 7908e390682a1e7b7b4550873888012441ef0450
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Jul 28 23:08:28 2014 -0700

    Add view decorator for admin-only pages
    
    * clarify similar code in login decorator
    * stash logged in user in `g`

commit 93bbeff375a7cfd306aafc811c909909233b3eb9
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Jul 28 23:06:16 2014 -0700

    Add "is admin" flag to Journalist

commit 26cfb6b5e29e1456a51005778abff13788641224
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Jul 23 19:27:19 2014 -0400

    basic journalist login with username/password

commit c8c46c085a90d77aeabe7ce769ae8873a823144e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Jul 23 19:18:37 2014 -0400

    Fixup log message so it's properly generic

commit 293423fbad230534909eb3fb9ac4e338584e6753
Merge: bc7b1ce5 9d97dd24
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Sep 25 16:57:04 2014 -0700

    Merge pull request #603 from DonnchaC/fix/journalist-delete-replies
    
    Fix deleting replies on journalist interface

commit 0581327d89d5855f2170e91ebb22b5c50d5f6344
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 16:22:39 2014 -0700

    minor fixes for google-auth

commit 9d97dd24af944dcc6d1f1e3570d7b3ab9133caea
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Fri Sep 26 00:26:39 2014 +0200

    Remove double test of reply sending

commit 71efb0d69cf8cae00fdcb856f26ae6602bf4856c
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 13:14:31 2014 -0700

    changed the ssh users and document users from a string to a yml list. And attempting to copy the ATHS and THS hostname from the guest to the host

commit 411bf99ed99f7a29f65d1e5f3e2f289be30a0137
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 12:33:38 2014 -0700

    removed unneded quotes

commit 592c4f09baeed8bd86f753a8651375572b2c481c
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 11:37:47 2014 -0700

    changed the name of securedrop-app to securedrop-app-code to avoid confusion with the old package

commit 0ab0e03614e2b60dfc9cbab3a334f1bfe7b47f61
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 10:59:50 2014 -0700

    added check for if build dir exists

commit ed72ef94eb850c2918c06c1df5bc5d85903fb79e
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 02:16:20 2014 -0700

    added handler for ssh
    added role and for it to use sudo to playbook

commit 9d66bb3879ff2d7ec16b59d8fda6833c777e2512
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 01:24:47 2014 -0700

    commented out the digital_ocean config so it doesn't cause error when running in virtualbox

commit 1b9d2840b252ddd67bbb03c03b7e314460627394
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 01:22:54 2014 -0700

    fixed spacing in config example

commit 0bec625abb9a0ba3db12653ea285a0670a477ec3
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 01:23:42 2014 -0400

    fixes the build_depends.

commit 91ce4267133daab07e37b2e3c9263125fa68655a
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 01:21:53 2014 -0400

    changed the host to work with vagrant config.
    Have to provide the full path to the application public key.

commit 358550d485549a67cde5e14880d6e9de22ab6e4a
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 00:52:23 2014 -0400

    option was not supported in current version

commit c567f095a1904e2c6a06d8f9a1fa305138cb68a9
Merge: ca4637ac acd709b5
Author: David Stainton <dstainton415@gmail.com>
Date:   Thu Sep 25 03:35:38 2014 +0000

    Merge remote-tracking branch 'dolanjs/tor-signing-key' into rspec-ansible

commit acd709b58fbb3df02e5c70a6289ad6be7f4f438f
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Sep 24 23:34:35 2014 -0400

    updated tor signing key

commit ca4637ac4d4ba79227cdff291d7612f48e3f31c1
Author: David Stainton <dstainton415@gmail.com>
Date:   Thu Sep 25 01:56:41 2014 +0000

    Add secureDrop hardening role

commit 4002dbdbc7de35e39884d81a4f21c853eb66ca63
Merge: e0fe22c2 25bcf0ef
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Sep 24 21:49:50 2014 -0400

    Merge remote-tracking branch 'david/rspec-ansible' into rspec-ansible

commit e0fe22c2e558d55a5875df98fe542d90bc8b061f
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Sep 24 21:47:21 2014 -0400

    working on vagrant deploying app server with ansible
    in the vagrantfile still need to generate a user for ansible to run as and fix the tor signing key

commit 25bcf0efda315c4a4e1741488aa8babe03ecddb6
Author: David Stainton <dstainton415@gmail.com>
Date:   Thu Sep 25 00:12:48 2014 +0000

    Fix minor problems and get all tests to pass
    
    Here we remove the network interface from a couple
    of the checks... so that it's compatible with the rspec-core version
    we are using. We may however resolve this by installing the correct beta
    version via bundler.io later...

commit 3293be27e36b953b1de2e51414050431426fb933
Author: David Stainton <dstainton415@gmail.com>
Date:   Thu Sep 25 00:12:07 2014 +0000

    Add some tests for the securedrop app deployment

commit 94d206bf1a9a680ca9578f89aadc14109cdeb712
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Sep 24 18:53:12 2014 -0400

    added a vagrant config for the dev app server and a section for the digital ocean provider.
    Using the digital ocean provider requires a separate file `secrets.rb` ex:
    
    ```
    module MyVars
      TOKEN = ""
    end
    ```
    
    The digital ocean vps can be provisioned by running
    
    ```
    vagrant up devapp --provider=digital_ocean
    ```

commit 85e80d167b0b8699a5dfc3141e03ffc3388dc37b
Merge: 6b877386 34a08141
Author: David Stainton <dstainton415@gmail.com>
Date:   Wed Sep 24 22:45:53 2014 +0000

    Merge remote-tracking branch 'dolanjs/rspec-apache' into rspec-ansible

commit 6b877386e99d7e69ee16dad7f66734f6170204aa
Author: David Stainton <dstainton415@gmail.com>
Date:   Wed Sep 24 21:51:23 2014 +0000

    Teach serverspec to parse ansible YAML config file
    
    Here we demonstrate how to parse the ansible external yaml configuration
    and use it to supply needed info for our test. In this case we check
    the torrc for the presence of authenticated tor hidden service user names
    for document and ssh users.

commit 34a081415655687ae37850b787c6d16bc4c5ea40
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Sep 24 15:11:27 2014 -0400

    fixed some errors in apache rspec tests

commit 8a32fb22031a98eda9c8719a92f47c03bc5c34c7
Author: James Dolan <james@pressfreedomfoundation.org>
Date:   Wed Sep 24 14:45:26 2014 -0400

    dded more to apache

commit 582d7e04797e8669cf36234c84aa92beb1b9b730
Merge: a241647c c99c5b7b
Author: James Dolan <james@pressfreedomfoundation.org>
Date:   Wed Sep 24 14:21:59 2014 -0400

    Merge remote-tracking branch 'david/rspec-ansible' into rspec-apache

commit c99c5b7b282ec1414cc6083a456b41f86608d8fe
Author: David Stainton <dstainton415@gmail.com>
Date:   Wed Sep 24 00:36:13 2014 +0000

    Improve tor spect test slightly

commit a241647cc44736a47b9406311be6383bcdb5d737
Merge: 20d52837 69436995
Author: James Dolan <james@pressfreedomfoundation.org>
Date:   Tue Sep 23 20:06:17 2014 -0400

    Merge remote-tracking branch 'david/rspec-ansible' into rspec-apache

commit 20d52837b3db32180d8140767f3377f16bc1cba1
Author: James Dolan <james@pressfreedomfoundation.org>
Date:   Tue Sep 23 19:59:00 2014 -0400

    first pass at apache rspec

commit 694369959185323fb327ee702ee625f67bf1c622
Author: David Stainton <dstainton415@gmail.com>
Date:   Tue Sep 23 19:22:39 2014 -0400

    Add rough draft dir hierarchy for rspec tests

commit 0c784bd33d892ce0735d34945cd2cb0bdd671dae
Merge: 9b839f34 03255f65
Author: David Stainton <dstainton415@gmail.com>
Date:   Tue Sep 23 21:27:28 2014 +0000

    Merge remote-tracking branch 'origin/ansible-deployment-better-config' into rspec-ansible

commit 03255f65e7500b1d5bc6102e71b9c4a522144d24
Merge: 544bf19c 6a3b4220
Author: David Stainton <dstainton415@gmail.com>
Date:   Tue Sep 23 21:24:35 2014 +0000

    Merge pull request #2 from dolanjs/securedrop_keyring-var-doesnt-work
    
    securedrop_keyring in defaults vs config.py

commit 9b839f346ff1ea186acae3063421495148835bcc
Author: David Stainton <dstainton415@gmail.com>
Date:   Tue Sep 23 21:19:25 2014 +0000

    Initial config for install specs using serverspec

commit bc86aafafbcf61f61db1b4357a6907303bbe1a4f
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Tue Sep 23 21:44:02 2014 +0200

    Quick and rough UI changes for source replies

commit 49c35a0367f7849399a73b306215215f36217dd4
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Tue Sep 23 20:44:05 2014 +0200

    Fix deleting replies on journalist interface

commit bc7b1ce51a099e63510a30929bc5cd570b93c1f4
Merge: 71367161 f42765e3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Sep 23 07:53:28 2014 -0700

    Merge pull request #601 from freedomofpress/remove-request-that-secures-file-uploads
    
    Remove request_that_secures_file_uploads

commit 7136716151258e538be64ecbb54e836664a02663
Merge: 51299bb8 2df8515c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Sep 23 07:53:06 2014 -0700

    Merge pull request #600 from freedomofpress/source-interface-logo-link
    
    Logo links to lookup view if source is logged in

commit f42765e3eeaddd8090102c7a3666af5e6c6db240
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 21:26:56 2014 -0700

    Remove request_that_secures_file_uploads
    
    This was an example integration for a proposed mitigation for the
    "plaintext remains in memory" issue (#99), from when we were trying to
    solve it by replacing the underlying stream class used by Flask for
    requests. Now that we have a better solution that doesn't require
    monkeypatching so much Python, this is no longer needed.

commit 2df8515c85aa01c9b868599658e3a04f80b7fc0e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 17:03:04 2014 -0700

    Logo links to lookup view if source is logged in
    
    Currently, the logo always links to the index. This is a little bit
    different from the standard web UX, where such a "home" link takes a
    logged in user to their user-specific home page. I'm concerned that the
    current behavior may lead to users being locked out of the account they
    just created if they accidentally click it without having memorized or
    recorded their codename.
    
    This change checks if the user is logged in, and if so, makes the logo
    link back to their lookup page, where they can make submissions and
    receive replies.

commit 51299bb8aae6d6fd6bbab66f9b2c18be64e6f896
Merge: 1a5f9195 106f25f3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 22 16:02:05 2014 -0700

    Merge pull request #581 from DonnchaC/rename-submission-designation-change
    
    Rename submitted files when a new codename is generated. Fixes #557.

commit 106f25f3f1e22ff4a2742ca527a448f05bb982ed
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Tue Sep 23 00:42:56 2014 +0200

    Improve error handling, and neaten rename functionality by using a regex.

commit 1a5f9195bbfc6a3a2a35223e0694069e647577c0
Merge: 34645955 a7b9bf4a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 22 15:13:27 2014 -0700

    Merge pull request #599 from freedomofpress/fix-journalist-js-typeerror
    
    Fix TypeError in journalist.js

commit a7b9bf4a939fb0b49ea3268a331d855bfcac8005
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 12:02:11 2014 -0700

    Fix TypeError in journalist.js
    
    The quick filter dialog box was being checked on document load, even if
    we were on pages (e.g. source collection pages) that don't have that
    dialog box. This caused a TypeError, when we tried to match against an
    undefined value from the non-existent dialog box.
    
    Fixed by checking that the dialog box exists before calling
    filter_codenames.

commit 346459554aef1a14340ee1d8fc94164c3ce18802
Merge: 6f84534d 63b647eb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 22 11:47:52 2014 -0700

    Merge pull request #593 from DonnchaC/user-directories-in-zips
    
    Add directory with source's codename to the zip files.

commit 63b647ebdf19065686511b5fd268b3f9e44e2218
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Mon Sep 22 20:28:03 2014 +0200

    Add test checking zipfile contains correct user directories

commit 6f84534d9622c02b1bb1dc593784622991825d3d
Merge: 45b97a8c 7540ff5f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 22 11:17:51 2014 -0700

    Merge pull request #594 from freedomofpress/better-config
    
    Better config

commit 45b97a8c7d005d42c12c61be2a1f8d60f4eb018c
Merge: f399d4b1 53faa7ed
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 22 11:10:41 2014 -0700

    Merge pull request #596 from runasand/develop
    
    Added note about updating BIOS on Intel NUCs

commit 4229fa79e1a729620cb2186478881b505ab6bbff
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Fri Sep 19 00:16:28 2014 +0200

    Name zip with journalist_filename() instead of journalist_designation
    
    Instead of naming the generated zip file with the journalist_designation
    which can contain spaces, it's probably better to use the output of
    journalist_filename() which removes spaces explicitly, and aims to be
    filesystem safe.

commit 9ef0111920b5d20b605440d1f8e0f95fcf86972e
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Fri Sep 19 00:15:20 2014 +0200

    Download files in codename directories

commit 6a3b4220397a5ef258227111f90e2c90df69d486
Author: James Dolan <james@pressfreedomfoundation.org>
Date:   Sun Sep 21 23:30:35 2014 -0400

    changed the gpg import use the securedrop_data/keys directory to be consistent with the rest of the locations it is used

commit 29e63fd6ada16b079681f4939b70414cddae90e0
Author: James Dolan <james@pressfreedomfoundation.org>
Date:   Sun Sep 21 23:20:04 2014 -0400

    The securedrop_keyring was only used to create the directory not in the securedrop/config.py file. Changing the value would of broken the install. In order to keep the config.py the same for the current dev environment just removed it. Think the store, keys and db should be configured the same way but don't think they need to be defined in the defaults. Changing the default value would also have required updating the apparmror profiles.

commit 7540ff5faa68ec1bcfc4a956eb8ce6b3ce44529b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Sep 21 19:06:00 2014 -0700

    debugging? we don't need no stinking debugging!

commit 544bf19c690a43c0a7bc16de530ccef574b4f3d3
Author: David Stainton <dstainton415@gmail.com>
Date:   Sun Sep 21 23:00:59 2014 +0000

    Add descriptive names to tasks

commit 0a5f05c48191d682fb0c053b715c2c0d3ef38c8e
Author: David Stainton <dstainton415@gmail.com>
Date:   Sun Sep 21 22:53:15 2014 +0000

    Remove "ignore_error" from sqlite db initialization

commit 53faa7ed4ae339001b4f26d23f5e4fcdda02bde2
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Sun Sep 21 18:31:52 2014 -0400

    Repurpose existing hardware for App and Monitor

commit 20aeb734cdb361879d23f014191e82735ab5a2f1
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Sun Sep 21 18:28:05 2014 -0400

    Added note about updating BIOS on Intel NUCs

commit f399d4b14826128cbfeba7b6fdb00a4fcfd9d724
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Sun Sep 21 16:40:36 2014 -0400

    Cleaned up the SecureDrop hardware list

commit eff40f71a7ee43e93f945b333d67201c2fba90e2
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 20 02:36:38 2014 +0000

    Fix various errors with the apache configuration

commit 80e01324130154075a176820584b05b679c08bc8
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 20 02:35:02 2014 +0000

    Fix args passed to Tor Ansible role

commit 344fc4a2ca6cb097b8a0a3d5975bff39522a5d3f
Merge: 21295fa2 0e26eeda
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 20 01:36:46 2014 +0000

    Merge pull request #1 from dolanjs/app-code-deb-for-ansible
    
    securedrop-app deb package for ansible deployment

commit 21295fa26cc15800d8d2638e19311d8b74d76249
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 20 01:35:33 2014 +0000

    Correction of minor errors; mostly variable names

commit 0e26eeda010262e6f62bfb31b37270990d67d610
Author: James <james@pressfreedomfoundation.org>
Date:   Fri Sep 19 21:35:14 2014 -0400

    combined source-requirements and document-requirements.txt since they are both running on same apache instance now.

commit 77dc3244282d5c32214f5011c5758efaf81ff849
Author: James <james@pressfreedomfoundation.org>
Date:   Fri Sep 19 21:07:31 2014 -0400

    created securedrop-app deb package that packages the app code, apparmor profiles and compiles and pakcages the python modules for deployment.
    modified the build_deb to just create the securedrop-app deb

commit 0c5f30f9a3398340d311198183b9ac17c0139f06
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Sep 19 18:05:36 2014 -0700

    Fix vagrant-specific chown so Travis will work too

commit 182a0eff9b744683d94c450e2df6ae564f517f05
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 20 00:55:35 2014 +0000

    Make appropriate Ansible variable name changes
    
    Here we include a proper config.py and name the templated
    variable correctly. This is an intermediate commit... and it
    is likely that some small section of Ansible may not have been
    corrected yet.

commit 4dce34ceec6a993a1b63e1855e0690c8e0b1f8a2
Merge: 7033838b 0a120e3d
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 20 00:41:19 2014 +0000

    Merge remote-tracking branch 'upstream/better-config' into ansible-deployment-better-config

commit 7033838b20f17f3add9a0d26c2372aa2b6173f11
Merge: 1924f236 b46dc8a1
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 20 00:40:55 2014 +0000

    Merge branch 'develop' into ansible-deployment

commit 1924f2366ad5e88c66082b53a2c606336217d912
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 20 00:31:16 2014 +0000

    Add customized Ansible deployment system
    
    This commit contains a Tor ansible role
    and a SecureDrop AppInterfaces ansible role.
    In addition to that... the SecureDrop deployment
    playbook and example "external config" file is included.
    
    This is a mostly working rough draft.

commit 0a120e3dbea973f4828419741b9ff8eae9e37a13
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Sep 19 17:30:57 2014 -0700

    Hack to get around same-origin cookie issue on development

commit 5aa8a4432949201893afbac0f506c60d93fa7483
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Sep 19 17:27:52 2014 -0700

    Consolidate configuration into a single config file
    
    Simplifies and consolidates configuration into a single file, which
    makes it easier to reason about for developers and work with for
    deployment. Updates other code accordingly.
    
    Changes secret keys so we now use a different SECRET_KEY (used by Flask
    for signing cookies) for the source and document interfaces. This
    exposes some interesting issues with cookies in development.

commit b46dc8a12402466260b2dac71c8178f214d0fede
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Sep 18 17:20:55 2014 -0700

    Use py.test to run test suite in manage.py
    
    py.test gives us better output. This also allowed me to greatly
    simply the code for `manage.py test`.

commit c5c94e761854a2d3c20e7575e79115812a76868a
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Sep 18 17:19:02 2014 -0700

    Get mocked tests to work with py.test
    
    Unlike our previous technique of creating a new unittest.TestRunner for
    each test file, py.test does not automatically reload modules for every
    new test file. Therefore, the assignments to variables in journalist in
    these tests replaced the real functions with mocks, which would break
    subsequent tests. By reloading the module when we finished the mocked
    tests, we can restore the module state for subsequent tests.
    
    Also cleaned up formatting a little bit.

commit 5f3a4a9d3322b9478db9a395072c35092af9899e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Sep 18 17:18:53 2014 -0700

    add pytest requirement

commit 0f44374b58386a2a72a9bf339ba0770e0c84c0b4
Merge: dd037c0c 118ba76e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Sep 18 12:50:27 2014 -0700

    Merge pull request #592 from dolanjs/ssh-hmac-tails
    
    Added the hmac-sha1 to the allowed server ssh configs.

commit 118ba76e9ec781de15919aca31b8099e50f05db4
Author: James Dolan <james@pressfreedomfoundation.org>
Date:   Thu Sep 18 15:08:40 2014 -0400

    Added the hmac-sha1 to the allowed server ssh configs. Tails ssh client doesn't support hmac-sha2-256 or hmac-sha2-512 yet.

commit dd037c0cc415adc4ff905efee6f83354797e7a71
Merge: d9287a08 989294fb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Sep 18 11:34:39 2014 -0700

    Merge pull request #575 from DonnchaC/fix/newlines-in-source-message
    
    Convert newlines to <br /> in messages to source's

commit d9287a08d5c0f29128cbdbe662ced57520b229bd
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Sep 17 16:25:01 2014 -0700

    Make sure test runner returns correct exit code
    
    Now that we are directly running tests via a unittest.TestRunner, we
    need to make sure to check the return values and set a corresponding
    return code for the test runner script. Otherwise, Travis will not
    detect that a test failed and will incorrectly say that all tests are
    passing.

commit 92270af5489f84d62875e436a413eac9091e728d
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Sep 17 16:21:10 2014 -0700

    Fix broken unit tests
    
    These tests were broken by #571. Unfortunately, this was not detected by
    Travis due to a bug in the test runner.

commit 55e3e646bdee1b76350e9543d4b22e713bad95a6
Merge: 4060d898 a48b4918
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Sep 17 15:27:11 2014 -0700

    Merge branch 'pr/417' into develop

commit a48b4918a26ace9c18b71a1c8221b4070cba6e88
Merge: 938b08cf d7c1f8b6
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Sep 17 15:21:14 2014 -0700

    Merge branch 'develop' into pr/417
    
    Conflicts:
            securedrop/source_templates/howto-disable-js.html
            securedrop/source_templates/index.html
    
    Also removed links and just put the text of the URLs in the body text in
    howto-disable-js.html, since we no longer have the redirect hack to
    avoid leaking the referrer for visited links.

commit 4060d8985b5d92ba1382784a9448071740e8a74b
Merge: ea633c25 d408f05e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Sep 17 15:04:54 2014 -0700

    Merge pull request #591 from freedomofpress/update-selenium
    
    Update Python requirements

commit d408f05ee9a704a666d0863305d0c866a2d94278
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Sep 17 14:32:02 2014 -0700

    Remove Firefox downgrade workaround now that Selenium 2.43 is released

commit 6c1c0542e70dcae52534327b7f43e4df839de994
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Sep 17 14:31:14 2014 -0700

    Update python requirements

commit ea633c25c99c62b63a429d07aa0e3298b4a5544b
Merge: a9f9cef8 7ed71164
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Sep 17 14:03:20 2014 -0700

    Merge pull request #589 from dolanjs/add-repo-14.04-fix
    
    changed hard coded distro id

commit a9f9cef8a531d06fb5cf25b314c9717aed05f515
Merge: d7c1f8b6 bdb7fb92
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Sep 17 14:02:45 2014 -0700

    Merge pull request #588 from dolanjs/post-install-pkg-detection
    
    Post install pkg detection

commit d7c1f8b6a331fa36e7f0c11d4ce255dd15fe7f8f
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Wed Sep 17 14:37:50 2014 -0400

    Modify apt transport to HTTPS
    
    Closes #565

commit cf9fbcfd64c3a152e403bd5d595af2945152778d
Merge: d42b8345 95dcf765
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Sep 16 17:38:26 2014 -0700

    Merge pull request #583 from dolanjs/ossec-2.8-prep
    
    Ossec 2.8 prep

commit 7ed71164642ea55f59b50b5351555eea4bf8b1aa
Author: James <james@pressfreedomfoundation.org>
Date:   Tue Sep 16 19:17:09 2014 -0400

    change hard coded dist id so the script will work with ubuntu 14.04 trusty

commit bdb7fb92c99486b3e77b147f3efbfe1612241672
Author: James <james@pressfreedomfoundation.org>
Date:   Tue Sep 16 19:00:00 2014 -0400

    changed the post-install script to check for the monitor hardening package instead of the meta securedrop-monitor package since securedrop-monitor-hardening can be installed without the meta package securedrop-monitor

commit c0c9e8fc9b2d23f5436d838ac47dd7ae7cf90faf
Author: James <james@pressfreedomfoundation.org>
Date:   Tue Sep 16 18:51:30 2014 -0400

    changed dpkg -l to dpkg -s for the post-install script so that it will detect the correct package when ran on the monitor server

commit 989294fb91fdfd21e379c6cb711d72f6eee60dd7
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Tue Sep 16 18:21:10 2014 +0200

    Change <br /> tag to <br>

commit 4a15b0be0a690d6be1435b8ef0382c1d5286f5ef
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Tue Sep 16 18:17:34 2014 +0200

    Rebase and move nl2br filter to template_filters.py

commit 5da8188680546eb75bf3df7e4aa90ad80a53360b
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Fri Sep 12 00:51:49 2014 +0200

    Convert newlines to <br /> in messages to source's

commit d42b83459fa221271b4976561d94636841f9676c
Merge: 9a4d7f02 d1c5098d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 15 23:49:52 2014 -0400

    Merge pull request #582 from DonnchaC/fix/prevent-downloading-incomplete-files
    
    Don't show partially uploaded files on the /col view.

commit 9a4d7f020afe5a3f3be41b8e80293946e575ffb1
Merge: 53988626 ce5f16d3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 15 23:24:43 2014 -0400

    Merge pull request #580 from DonnchaC/fix/resubmit-generate-page
    
    Redirect if source resubmits the /generate form with exisiting codename

commit 539886260b130ce9b5c6dcbb57106af1c85ec4f3
Merge: 39895fbc b4800c28
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 15 23:14:51 2014 -0400

    Merge pull request #578 from DonnchaC/icon-tooltips
    
    Tooltip for document/message icons

commit 39895fbca91f05e1533564af4bf1e58949738b4b
Merge: 9edb7172 547332ef
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 15 23:14:13 2014 -0400

    Merge pull request #576 from DonnchaC/fix/broken-logo-positioning
    
    Fix logo display breaking onto a newline

commit 9edb71729c70bd6111c5d0594c4985bd093b0ee2
Merge: 6dff2b1d 82260b2d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 15 22:59:44 2014 -0400

    Merge pull request #586 from freedomofpress/dont-sudo-chmod
    
    remove unnecessary sudo for chmod

commit 6dff2b1d15c12ff694c53088ef9d6840c4eeddc2
Merge: 9ba6e8da 8e6e18d2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 15 22:59:23 2014 -0400

    Merge pull request #574 from DonnchaC/fix/prevent-empty-downloads-deletions
    
    Catch attempts to download or delete without selecting any collections

commit 82260b2dbedc2347f17a4f18593fd77937ed7f2f
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 15 22:21:36 2014 -0400

    remove unnecessary sudo for chmod

commit 9ba6e8dae10a0ce193a6b9e6a9ed15fd36934989
Merge: 911f895e 686effb0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 15 22:17:13 2014 -0400

    Merge pull request #571 from DonnchaC/relative-time
    
    Display human readable relative times to users instead of dates. Closes #570.

commit 911f895e4a5492d440850e29dc1c40bc4fcf606c
Merge: f55e1872 ddc19387
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 15 22:12:01 2014 -0400

    Merge pull request #577 from freedomofpress/document-ubuntu-amd64
    
    Document ubuntu amd64 requirement

commit f55e1872e022d4dc08c1a72c11b7c30ab2535e64
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Mon Sep 15 03:10:24 2014 -0400

    Add read permission to GPG keystore

commit b5639ee24739f3af0b59353ab6c64b64639b21e5
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Mon Sep 15 02:08:40 2014 -0400

    Add source.js, fix jQuery version

commit ff5cf43065cfc53174599f6a9cd3dc70aac886c8
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Mon Sep 15 02:07:32 2014 -0400

    Add AppArmor rule to allow jQuery

commit a56529c6a7498a22663fb887fbe3594f32fe3492
Merge: 7dbbd9a7 0fda410d
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Sun Sep 14 23:10:13 2014 -0400

    Merge pull request #584 from dolanjs/apparmor-fixes-9-13
    
    updated apparmor profiles

commit 0fda410dab48bc2eec7cc256f26e3937899333a6
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Sep 14 19:35:48 2014 -0700

    updated apparmor profiles for develop branch as of 9/13

commit 7dbbd9a7d3490ad5d64486717fc2fe9dbbd99aca
Merge: e61ee1b4 77dedd42
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Sun Sep 14 19:46:30 2014 -0400

    Merge pull request #532 from dolanjs/apparmor-fix-mailing-list
    
    Reviewed and tested, good to merge

commit e61ee1b4efd51d3cb7aa2b4ce3f7508e04180898
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Sun Sep 14 19:40:14 2014 -0400

    Fix iptables rules causing SSH to be inaccessible

commit 013df8e4bf8b7ec18aeee2cf0cc623d2e955fb23
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Sun Sep 14 19:39:06 2014 -0400

    Fix iptables rules causing SSH to be inaccessible

commit fe121d43e04d1f4cd164cb7e6166872b6ef7f507
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Sun Sep 14 18:07:03 2014 -0400

    Update Gmail's fingerprint

commit fd6e8f681942512cd40b1a664e69fcaf407f6239
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Sun Sep 14 17:40:19 2014 -0400

    Fix pgrep syntax
    
    per @dolanjs

commit 95dcf7658c9bef93c702305ce1b3819ac9f300ba
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 14 16:10:26 2014 -0400

    added brief instructions for gathering OSSEC files for creating deb packages

commit e51e4a22e8b3b2eca8085d60acb0ae5192bdfaa8
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 14 15:39:43 2014 -0400

    removed default ossec files that are not modified specifically for securedrop.

commit d1c5098d7bf83bef8f52b4ea12930ee0aab57ddf
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Sun Sep 14 20:44:31 2014 +0200

    Don't show partially uploaded files on the /col view.
    
    The local list of files is compared with the submissions list in
    the database to remove files which are currently being uploaded
    but which have not yet completed and added to the databases.

commit 2bb37d75b7616d31a9e585c9772d942a17e78c57
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Sun Sep 14 18:36:30 2014 +0200

    Rename submitted files when a new codename is generated

commit ce5f16d3c3ba942a4cad42bdfb1b04eb11c84474
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Sun Sep 14 16:20:57 2014 +0200

    Catch resubmission of /generat

commit b4800c28af3a2625cf4baa3ac2f5963bdbea26b9
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Sat Sep 13 23:10:46 2014 +0200

    Tooltip for document/message icons

commit 686effb0270f8185793bf82dd63ea5564bad2dc9
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Sat Sep 13 22:22:45 2014 +0200

    Refactor jinja filters to a separate file

commit 547332ef023047596c80f0aacb9016f879889a3b
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Sat Sep 13 20:17:55 2014 +0200

    Fix logo bug on refresh in Chrome by floating the header.

commit 8541ef3e20d3f72d3cfce0ba017a2ea004ee545f
Merge: 3c82050a 8eda7acb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Sep 12 16:52:57 2014 -0500

    Merge pull request #573 from DonnchaC/fix/reply-button-display
    
    Fix spacing bug on reply button

commit 3c82050ab2f4bf65903d35a18c60c14fbcb4ff61
Merge: a481e6a2 cccb88b6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Sep 12 16:34:15 2014 -0500

    Merge pull request #567 from charltonaustin/develop
    
    https://trello.com/c/oWN0SW17 removing jquery-2.0.3.min.js and localFora...

commit ddc193878506860f5ab54383797874d9984ab019
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Sep 12 11:01:27 2014 -0500

    refer users to the ubuntu guide in the install guide

commit 93379351f2bb7ae05f68913e6ed5bc46e68536c4
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Sep 12 11:01:00 2014 -0500

    clarify the use of 64-bit Ubuntu

commit 09be94aa52664d1d402dcaae40cebd02eb5b124a
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Fri Sep 12 01:30:14 2014 +0200

    Fix logo display breaking on newline

commit 8e6e18d2e64c38489e496575f24d2b5b61db3979
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Thu Sep 11 23:47:11 2014 +0200

    Catch attempts to download or delete without selecting any collections

commit 8eda7acb6e0f403b4125f9ef237797910d2e6aff
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Thu Sep 11 22:59:19 2014 +0200

    Fix spacing bug on reply button

commit d3149429d310a940b088cd3fa994180b6c3d5eb6
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Thu Sep 11 22:33:01 2014 +0200

    Format receint timestamps as human readable relative times.

commit a481e6a25f6e683bd70d06fc9bb8af60b4c282af
Merge: dad0f9de 921d3997
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Sep 11 12:56:23 2014 -0700

    Merge pull request #563 from DonnchaC/invalid_codename_handling
    
    Catch when a user's codename contains invalid characters. Fixes #548

commit dd14b74a2f6e80b16aa5d1f259f4e211d958e914
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Thu Sep 11 19:51:37 2014 +0200

    Use Jinja filter to format displayed time

commit 921d3997edd50a32d33bf3177d1c0a871e6f6acc
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Thu Sep 11 07:57:25 2014 +0200

    Standardise flash message about unknown codenames

commit dad0f9dee3d1a6c9baa4dbc792a9fa010b4db635
Author: William Budington <bill@eff.org>
Date:   Wed Sep 10 20:32:23 2014 -0700

    Changing version.py 0.2.1 to 0.3

commit cccb88b65ed25587748c10774a413666493ba8d4
Author: charltonaustin <charlton.austin@gmail.com>
Date:   Wed Sep 10 18:16:20 2014 -0700

    https://trello.com/c/oWN0SW17 removing jquery-2.0.3.min.js and localForage.js from AppArmor since we don't use them any more.

commit f6b2ae09bdb0e5d5b666f00bc571ad8008d397e1
Merge: 06221bfa df9c8368
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Sep 10 17:40:15 2014 -0700

    Merge pull request #566 from DonnchaC/readable-timestamp
    
    Format displayed timestamps in a more readable way. Fixes #559.

commit 06221bfadda20b24b33216222db563ea9c1fa517
Merge: c6d114b1 35e8880b
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Sep 10 17:39:16 2014 -0700

    Merge pull request #564 from DonnchaC/setup_script
    
    Download Firefox over HTTPS, check for /etc/debian_version

commit df9c8368ae57196e2ef33934592d52c70b3a2562
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Thu Sep 11 01:41:17 2014 +0200

    Format displayed timestamps in a more readable way.

commit e7a9c595456700c6f32016283c1f94a4bd6b2567
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Thu Sep 11 00:59:14 2014 +0200

    Catch when a users codename contains invalid characters

commit 35e8880b60b43986ec2a5e45a27551813ae0bff1
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Thu Sep 11 00:31:29 2014 +0200

    Download Firefox over HTTPS, check for /etc/debian_version
    
    The setup script was not running on my Debian Wheezy system as it
    did not have an /etc/lsb-release file, or a matching file with a
    DISTRIB_ID line.
    
    The firefox binary archive was being downloaded over http without
    any cryptographic verification.

commit c6d114b1a1e47685454a5aef5ea650038edaf6ce
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 8 17:21:20 2014 -0700

    Exit early if setup_dev.sh fails
    
    We don't want to show the "success" message at the end of setup_dev.sh if the
    tests fail.

commit 06b6b922e78c16a236ee3c7468c30ec97843d5f5
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 8 17:19:48 2014 -0700

    Don't show wget progress output when downloading Firefox
    
    Since the vagrant environment is not a tty, wget's download progress output is
    unhelpful and looks bad/confusing. Replaces it with a message to let you know
    what's happening, in place of interactive feedback.

commit 6cd2767b615941ebae7b610a77e8a0e893f11041
Merge: 801d2292 c94779a1
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Sep 6 16:43:55 2014 -0500

    Merge pull request #542 from asifrc/fix-chrome-refresh-generate-bug
    
    Bugfix: Page Content shifts downward after refreshing in Chrome

commit 801d2292c782ecd0c368eb2a55ece786577fbd28
Merge: 7956b12c 11462e48
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Sep 6 16:28:26 2014 -0500

    Merge pull request #535 from runasand/develop
    
    Cleaned up the documentation and added a few more steps

commit c94779a16bd422c88365e8c3762d826731dd3cd0
Author: Asif R Choudhury <choudhury.asif@gmail.com>
Date:   Sat Sep 6 15:58:16 2014 -0500

    Fixed UI issue in base template css when refreshing in Chrome

commit 7956b12c523ab4d018e5c00d7dedf3ca29a0fbde
Merge: f7074106 0b18cd15
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Sep 5 18:18:10 2014 -0500

    Merge pull request #540 from freedomofpress/travis-entropy
    
    rng-tools hack for low entropy causing tests to time out on Travis

commit 0b18cd15392e0000cda8bbe6dc4d10bffd81a276
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Sep 5 18:01:08 2014 -0500

    Implement rng-tools hack for low entropy causing tests to time out on Travis

commit f70741069e7afc8eef706e6837d9f943b76ace15
Merge: 4ba6d013 e96bbce2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Sep 5 01:02:30 2014 -0500

    Merge pull request #539 from freedomofpress/fix-selenium
    
    Fix selenium

commit e96bbce2784b9f701d658ab1767fbea5ba122de4
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Sep 5 00:21:39 2014 -0500

    Need to install then remove packaged Firefox (32) before linking to 30

commit 2182cd61988f107df259520a22a9a128a75b3cb7
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Sep 4 22:35:39 2014 -0500

    Use Firefox 30 instead of stable (32) with Selenium 2.42.1

commit 4ba6d013e6754cd3ac95bb7adb9f66e09f7e3ca4
Merge: 12ec69a6 f44e363e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Sep 4 22:12:24 2014 -0500

    Merge branch 'pr/499' into develop
    
    Note that there are now issues with the functional tests passing due to a bug
    in Selenium stable (2.42) which causes it to not work with Firefox 32, which
    became the stable release yesterday.

commit f44e363ec9700ede3a9d8f5f1c6163b1bc037af1
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Sep 4 20:37:04 2014 -0500

    ran pip_update.sh again since it's been a while

commit 5a75bda70515dcddad6a774b25adbc45925fabb5
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Sep 4 20:15:52 2014 -0500

    Remove MAT-specific code from pip_update.sh

commit 11462e481606ddd01a9fd34e9328c77a43195368
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Aug 28 20:17:06 2014 -0400

    Fixed typo in HidServAuth string

commit 85dc5533d540fd87438c70c931d6ed4ab98970bc
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Aug 28 20:16:43 2014 -0400

    Fixed typo in HidServAuth string

commit 12ec69a6db048672413fdf2f14ead4dd77e3f32b
Merge: 13350938 142dde24
Author: Runa A. Sandvik <runasand@users.noreply.github.com>
Date:   Tue Aug 26 23:44:07 2014 +0000

    Merge pull request #536 from antagonismorg/DOC-534
    
    Updated appropriate USB stick references to Transfer Device

commit 142dde24b97994e7514bb068c87f4ef9b25241f9
Author: Patrick R McDonald <marlowe@antagonism.org>
Date:   Tue Aug 26 17:47:05 2014 -0500

    Updated appropriate USB stick references to Transfer Device

commit 6a4ba9cc2016cede41f2a1ee9b86b7c2e6d6018c
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Aug 26 17:56:05 2014 -0400

    Cleaned up the documentation and added a few more steps

commit 13350938fdc0164ef43046b38f13a2ac430cbd51
Merge: 6954f26b 1c325b06
Author: Runa A. Sandvik <runasand@users.noreply.github.com>
Date:   Tue Aug 26 18:28:44 2014 +0000

    Merge pull request #531 from dolanjs/ossec-agent-directions
    
    added screenshots of adding an ossec agent

commit 1c325b061ff1a1e3237e6b154998ae5476a3c01c
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Aug 18 11:41:21 2014 -0700

    added screenshots of adding an ossec agent to app server. The IP addresses shown in the screenshots were for a test environment that has been tore down already so didn't feel the need to scrub them out.

commit 77dedd4210fc91b0f4df299b23fcdea4864003a4
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Aug 18 11:14:47 2014 -0700

    update apparmor profiles

commit 6954f26b6b908dd66b5aa4fc87313d667ea2788a
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Tue Aug 12 17:42:23 2014 -0400

    Slight corrections

commit c845837927e853de5d1496518d013b1af2051d84
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Tue Aug 12 13:09:18 2014 -0400

    Update license

commit 26c2103e1101cb420668bc4dc764601d68589118
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Tue Aug 12 13:07:48 2014 -0400

    Update license version

commit e505a5634e193950ef1474ae8948988eabb88321
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Aug 11 12:03:44 2014 -0700

    updated config files to match example config files for production.
    sqlite is still used in production currently though.

commit f070623b0fad2e36b3891afe0f1dd5ed61ae3a57
Author: William Budington <bill@eff.org>
Date:   Sun Aug 10 00:07:55 2014 -0700

    Use full key fingerprint when importing since keyid collisions are easy to generate, and specify keyserver

commit a0b537d4f5a2065db2ede23f242b6ba462dcdd46
Author: William Budington <bill@eff.org>
Date:   Sat Aug 9 22:50:11 2014 -0700

    Adding Yubikey to install docs

commit 11cad21fa76cc7d22a8fa2929cfaf7a81aee659c
Author: William Budington <bill@eff.org>
Date:   Sat Aug 9 22:41:52 2014 -0700

    Updating install docs to link to James' grsec guide

commit c7575816e73afe7b30be0150aa0f964bc8677d9f
Author: William Budington <bill@eff.org>
Date:   Thu Aug 7 21:25:26 2014 -0700

    Fix db insertion error when admin is on

commit 0726448340bf0389c15193e60bef03804e269ee5
Merge: a5a3ba3b 08dae4a2
Author: Bill Budington <bill@eff.org>
Date:   Thu Aug 7 20:57:05 2014 -0700

    Merge pull request #524 from pemulis/patch-1
    
    minor spelling, grammar, and punctuation fixes

commit 08dae4a24ad3596b1cafe69c1d49f4d64768d5a4
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Tue Aug 5 23:51:28 2014 -0700

    minor spelling, grammar, and punctuation fixes

commit bdeb8af52da35f71b19d926b16ef2206acd71eb0
Author: William Budington <bill@eff.org>
Date:   Tue Aug 5 00:26:34 2014 -0700

    Ability to authenticate with HOTP added to web ui

commit a7d6686433924591e3cae550b88c11f5b7584c9c
Author: William Budington <bill@eff.org>
Date:   Mon Aug 4 22:54:40 2014 -0700

    HOTP login for admins

commit b9757579c3e136303bcf34f563a651abbc5ba26a
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 19:54:49 2014 -0700

    merge login pages

commit 43a937002a4601c30d61b25d0fc8ba1ef20c8303
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 19:32:29 2014 -0700

    better provisioning uri for Google Authenticator

commit 2a7de4fcc3b261f35bc940d8d215848468003999
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 19:26:37 2014 -0700

    check two factor code on login

commit d215cc406b7a45680d4501e5cb25d84419bc79ee
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 11:00:07 2014 -0700

    add deps for Google Authenticator
    
    * pyotp for computing two factor values
    * qrcode for generating easily scannable qr codes for shared secrets

commit 17bde9a6583ab38dc048422832cdc59a978a006f
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 10:59:33 2014 -0700

    print qrcode and shared secret after manage.py add_admin

commit 62d2c498116b06ff6ec3e2ea2d01ace64608eab7
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 10:16:20 2014 -0700

    generate and show otp secret for new users

commit e0edd15107f6ada9a92524288a24878670d567a0
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 10:36:23 2014 -0700

    manage.py command to add new admin users

commit e4d995d4c7caf1243c584cddb9dfe11bb1b19f8d
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 01:47:22 2014 -0700

    process edit user form submission

commit 0792b175e86ef0380aa954b8dc806d8cbb9b5e07
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 01:44:19 2014 -0700

    function to set password for Journalists

commit bdea6d7676fefd85e1e540f2a4311120522f8e26
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 01:11:17 2014 -0700

    admin users automatically go to admin index

commit 15ef3b864c08bb5e7069de864aca85cbd833335c
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 01:08:45 2014 -0700

    Use exceptions for login error handling

commit 4aa507db8f631ea853545749d1712c2d12dfc6d5
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 01:01:37 2014 -0700

    add timing metadata to journalist users for auditing

commit a991354f3164a1a4b1fb5421bbb86600f00fc882
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Tue Jul 29 01:00:54 2014 -0700

    add users from admin interface

commit 98a99a19d3c7d56a20f6e842d7c6aabd3ca8c75d
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Jul 28 23:42:35 2014 -0700

    basic admin interface with crud for Journalists

commit e4f0601e88d0d2fbaf56f7a62ff63f0b1b6e4f13
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Jul 28 23:08:28 2014 -0700

    Add view decorator for admin-only pages
    
    * clarify similar code in login decorator
    * stash logged in user in `g`

commit 6f97c99e61c1224695533ff679a8422e239abeac
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Jul 28 23:06:16 2014 -0700

    Add "is admin" flag to Journalist

commit 5b699e9b0657806a785f86ad931d03d1f66fd0b7
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Jul 23 19:27:19 2014 -0400

    basic journalist login with username/password

commit feeb8d027adf300ddcf3d1ba44ec68d9eaf5a035
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Jul 23 19:18:37 2014 -0400

    Fixup log message so it's properly generic

commit c04c206a2ed1838efb39b3bc03b28ff1b34a2bf9
Merge: ed8d88c9 e57de4bc
Author: Yan Zhu <yan@mit.edu>
Date:   Sat Aug 2 17:32:56 2014 -0700

    Merge branch 'develop' into feature/pip-update
    
    Conflicts:
            securedrop/requirements/document-requirements.txt
            securedrop/requirements/source-requirements.txt

commit a5a3ba3bc39a57e9f655d6e24273043d906c3fb2
Merge: 83cb27de e57de4bc
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Aug 2 17:31:18 2014 -0700

    Merge branch 'develop' into pr/452

commit ed8d88c9a9b21a11cc76d7c0131ab6274cd22304
Author: Yan Zhu <yan@mit.edu>
Date:   Sat Aug 2 17:26:16 2014 -0700

    Re-remove MAT requirements

commit e57de4bc2e5d8b9ff0c61e8c031194026c063f94
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Aug 2 17:04:27 2014 -0700

    remove python-poppler (MAT dependency)

commit 225fac97f213798cca69cfdc4511b795facbd2f3
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Aug 2 17:03:21 2014 -0700

    remove line about metadata scrubbing feature from changelog

commit ccdb628a44ae0bad3bb95cfb791addf25b95cf94
Author: Yan Zhu <yan@mit.edu>
Date:   Sat Aug 2 16:10:36 2014 -0700

    Remove MAT and hachoir from apparmor rules

commit a710180e29027eddc5315f04eab0424f80fbc228
Author: Yan Zhu <yan@mit.edu>
Date:   Sat Aug 2 15:56:38 2014 -0700

    Revert "Merge pull request #326 from gnusosa/develop"
    
    This reverts commit 6735ffa700d394b18dddadd581a50b628e039464, reversing
    changes made to c59609dc2073686243f887f34bef4324d073144d.
    
    Conflicts:
            .travis.yml
            install_files/source-requirements.txt
            securedrop/requirements/source-requirements.txt
            securedrop/source.py
            securedrop/source_templates/lookup.html
            securedrop/static/css/securedrop.css
            securedrop/store.py
            securedrop/tests/test_unit.py
            setup_dev.sh

commit a2d07c9c31be2c693f9429638473e3e70da1dd1f
Author: Yan Zhu <yan@mit.edu>
Date:   Sat Aug 2 15:21:38 2014 -0700

    Revert "Merge pull request #426 from dolanjs/doc-mat-pip-depends"
    
    This reverts commit 0e6764add143b56450987792c42a1d7eb23fa0ef, reversing
    changes made to 1d62c311c1b0df9f4aa0d825d5234b9fd0a5a836.

commit d7ce95aecefb445ba9720952734fcb3b074f7ccc
Merge: 57f0abc2 5edff4da
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Aug 1 17:01:01 2014 -0700

    Merge pull request #518 from mtigas/fix_test_lookup
    
    fix test_lookup (tests.test_unit.TestSource) failure due to wording change

commit 5edff4da3d4967919531b51bd4d259dd8dd8df14
Author: Mike Tigas <mike@tig.as>
Date:   Fri Aug 1 14:55:21 2014 -0400

    fix testcase; #488 changed "journalist's public key" to "our public key" (since site uses first person plural)

commit 57f0abc21258fc77823f35c6d39bb24aadd9df2a
Merge: b9225654 fcc18022
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Aug 1 09:26:49 2014 -0700

    Merge pull request #517 from diracdeltas/fix/license
    
    Fix #515

commit b92256541711cdaf609e8661cc5204408d730004
Merge: b676cd12 7e6fffe5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Aug 1 09:20:05 2014 -0700

    Merge pull request #516 from diracdeltas/fix/issue-453
    
    Fix #453

commit fcc180228f1c0a928509af240eea64c3e2ae25cf
Author: Yan Zhu <yan@mit.edu>
Date:   Fri Aug 1 01:30:32 2014 -0700

    Update license from GPL2 to AGPL

commit 7e6fffe5d6f444e1817219ef3c1893f584fcfe81
Author: Yan Zhu <yan@mit.edu>
Date:   Fri Aug 1 01:02:10 2014 -0700

    Revert "Revert "remove direct links to external sites from source templates, fixes #195""
    
    This reverts commit 34b8205308d0b7795dcd5d24c642e10e2060aa42.

commit bb8d57f03efeb70b1bc84429166093e5e416c7d9
Author: Yan Zhu <yan@mit.edu>
Date:   Fri Aug 1 01:01:50 2014 -0700

    Revert "More external links"
    
    This reverts commit b5bbe3050034465e88d399602abed5151f94cb2c.

commit 90082fa5c956a155886c0a9dd94c9fedaa47b16b
Author: Yan Zhu <yan@mit.edu>
Date:   Fri Aug 1 01:01:20 2014 -0700

    Revert "Add custom redirector to clear referers"
    
    This reverts commit 0d6339c8a41af53bd21f8a7bf3e7e1114b53e2e4.

commit 3c78d6569a9246d33505b833e4bb6a053f3b72c2
Author: Yan Zhu <yan@mit.edu>
Date:   Fri Aug 1 01:00:57 2014 -0700

    Revert "Use custom redirector for external links"
    
    This reverts commit d1166330d7c94a5c1b5b32b628e1fb201443e054.

commit ac3f37c9d53b8acc2d3047f29f252e19572d8bc3
Author: Yan Zhu <yan@mit.edu>
Date:   Fri Aug 1 01:00:31 2014 -0700

    Revert "Avoid namespace pollution, add comments"
    
    This reverts commit 06912a2dcef639a0329e1151bbf083c6acb1ec62.

commit 9028031325914f59c254a6a271212020c1d37537
Merge: 5e61cb33 b676cd12
Author: Yan Zhu <yan@mit.edu>
Date:   Fri Aug 1 00:56:00 2014 -0700

    Merge branch 'develop' into feature/pip-update

commit b676cd12a0b5fd0e5c2a5f31588cef0ee98da168
Merge: c8abc816 e8dc8133
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Jul 31 21:29:15 2014 -0700

    Merge pull request #502 from runasand/develop
    
    Fix grammar.

commit c8abc816f5592175f5cc0fcf451d21f5adc3cd82
Merge: 1aee31b7 f15c97fe
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Jul 31 21:28:02 2014 -0700

    Merge pull request #501 from mtigas/494-codename-words-dropdown
    
    fix for #494: make codename length dropdown text ("7 words", "8 words"...) more consistent.

commit 1aee31b7e304e06553888d879ee6608756c4e2a1
Merge: a2a30f2a eedf11ce
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Jul 31 21:23:30 2014 -0700

    Merge branch 'develop' into pr/489

commit a2a30f2ae9a12932df043b6b0ea3682e89ed8a98
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Jul 31 21:21:00 2014 -0700

    use escape to compare HTML-escaped strings from templates

commit 83f265694898999a0900119cda6d9a95c4c94b6e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Jul 31 21:15:52 2014 -0700

    prefer .format to % (nit)

commit f8187ab5758711754114ffc85baa1846dd731c9c
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Jul 31 21:14:01 2014 -0700

    fix broken functional tests

commit eedf11ce5907d94a939ab022c545fab5ab27b0b3
Merge: 174f77a2 718600ef
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Jul 31 20:54:53 2014 -0700

    Merge pull request #488 from mtigas/copy-edits-a
    
    Explain "optionally GPG encrypt w/public key" better

commit 174f77a24bcfb1d5e3128e776057d47ab6420547
Merge: 51a5f063 d65b8fa7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Jul 31 20:37:09 2014 -0700

    Merge pull request #484 from Bachmann1234/highlight-requirements
    
    Consolidate requirements so they can be analyzed

commit e8dc8133b876368eade466f04d5b146dfacee852
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Jul 31 16:55:18 2014 -0400

    Include changes from @dolanjs

commit 227e789a0943f42821a8148920f480889cb9aa31
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Jul 31 10:54:12 2014 -0400

    Updated the guide for the 0.3 release

commit 718600efd49bbc0e1a46170e098cda5556af73a9
Author: Mike Tigas <mike@tig.as>
Date:   Tue Jul 29 16:16:51 2014 -0400

    be more explicit about when securedrop receive-end encryption happens. (after it's submitted/when it's received, rather than "when it is submitted"). #488

commit c11d519b3e08d74cd4320090fbf4f60a5732a6d2
Author: Mike Tigas <mike@tig.as>
Date:   Tue Jul 29 16:11:12 2014 -0400

    store shared strings in variables based on feedback from @diracdeltas; fix failing tests. re: #479 #489

commit 48c3768553914cc76044468721d9d8dae4b8c6b3
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Mon Jul 28 21:12:58 2014 -0400

    Need sudo to run add-journalists.sh and add-admin.sh.

commit 0ea0cc19f371b8ca485cd5cd608a75e0d046c419
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Mon Jul 28 19:54:22 2014 -0400

    Fix grammar.

commit f15c97fed5a8d76a941579869540cc4a51bc2caf
Author: Mike Tigas <mike@tig.as>
Date:   Mon Jul 28 16:27:49 2014 -0400

    make codname length dropdown ("7 words", "8 words"...) more consistent. #494

commit 5e61cb33641557a4f6d232610b06299c553deaad
Author: Yan Zhu <yan@mit.edu>
Date:   Mon Jul 28 03:25:56 2014 -0700

    Updated pip packages with pip-review

commit 5a2a262c0e6347c9fc71548e2c814c2575c9130e
Author: Yan Zhu <yan@mit.edu>
Date:   Mon Jul 28 03:25:02 2014 -0700

    Add pip_update.sh

commit 0426a2f537a40c02948902d500432528a99ba0a0
Author: Yan Zhu <yan@mit.edu>
Date:   Mon Jul 28 02:25:34 2014 -0700

    Add pip-tools to test dependencies

commit 88dea3b4936418cbd9306507c9b67f69ee5d0977
Author: Mike Tigas <mike@tig.as>
Date:   Thu Jul 24 15:43:21 2014 -0400

    Describe "logging back in" so users know what to expect, know why they should come back.
    
    1) we should make sure the user knows the codename is important (and why!)
    2) give them guidance that they should come back later once they have submitted
    
    I feel like this might be a bit too wordy, but I think this sets the expectations much better for a non-techy submitter.
    
    Re: #479

commit 5f7757cc9ca5ba35a2b1d3be7a89b1bca9177993
Author: Mike Tigas <mike@tig.as>
Date:   Thu Jul 24 15:35:44 2014 -0400

    Update "you can encrypt with our public key" bottom msg.
    
    The only people who should really do that are users already familiar w/PGP (as noted in the "why encrypt with key" page that we link to here). So let's make that explicit right off the bat so we don't scare people. Also mention that submissions become encrypted upon receipt.

commit f53562cb45d927fa093b30d0ba81ad889cd545c9
Author: Mike Tigas <mike@tig.as>
Date:   Thu Jul 24 15:23:41 2014 -0400

    Actually answer "why" on the "journalist public key" page. Also note that signing will at least let us know what keyid was used, so users needing anonymity probably shouldn't.

commit d65b8fa712e7fef89de3d38403029e17bca67bee
Author: bachmann <bachmann.matt@gmail.com>
Date:   Sat Jul 19 15:08:16 2014 -0400

    move requirements to folder so they can be picked up by a requirements analysis tool

commit 51a5f06365b1bd23da380ef31b1df9d7a8502aee
Merge: 16150605 ce6c230a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Jul 12 20:30:11 2014 +0200

    Merge pull request #476 from jacksingleton/submission-in-mem-test
    
    Test to check if the source submission is retained in memory

commit 16150605dd3a1957c5c2c8c10842a5ed9bdb0e8b
Merge: 523a50ad e8cfa2a3
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Jul 10 17:55:50 2014 -0700

    Merge branch 'develop' into pr/458
    
    Need to import config individually to get the PIDFILEs without messing up the
    test config. Added comment to fix in the future.
    
    Conflicts:
            securedrop/manage.py

commit ce6c230aa6e10676eff7ce8e3a2f0b9196f9e093
Author: Jack Singleton <git@jacksingleton.com>
Date:   Thu Jul 10 13:03:36 2014 +0100

    make tests fail with the number of occurences of the secret_message in memory

commit 7ee30c3d8ed5bd8b7e315b406f91f37bba81dad6
Author: Jack Singleton <git@jacksingleton.com>
Date:   Thu Jul 10 12:53:19 2014 +0100

    supressed gcore output in tests

commit e8cfa2a393087f37ac5b082ecd658f202fd3d7ff
Merge: c58be2f4 527638d5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Jul 9 20:53:57 2014 -0700

    Merge pull request #443 from dolanjs/last_things
    
    last things and fixes for some of the iSec reported issues

commit 0ba680b3e807a7a04f6982975212bb3804aa50cb
Author: Jack Singleton <git@jacksingleton.com>
Date:   Tue Jul 8 15:48:33 2014 +0100

    makes _source_submits_a_message function reusable

commit 91ee3352d84da0b6efcfdfc2d0b0dcafa60141be
Author: Jack Singleton <git@jacksingleton.com>
Date:   Tue Jul 8 13:45:27 2014 +0100

    adds gdb dependency to vagrant, needed by new memory test

commit 27a648470d492337bb23250c7804adfd4bc7eb96
Author: Jack Singleton <git@jacksingleton.com>
Date:   Tue Jul 8 13:37:35 2014 +0100

    adds test case for message submission not being retained in memory

commit 51e7636b10d9a1a60179b9b322a649806ecd562b
Author: Jack Singleton <git@jacksingleton.com>
Date:   Tue Jul 8 00:02:06 2014 +0100

    assert that a submitted secret message cannot be found in a memory dump of the source server

commit 7ecb2e5d9861171eca71389946064db412c732a0
Author: Jack Singleton <git@jacksingleton.com>
Date:   Tue Jul 8 00:00:57 2014 +0100

    allow reuse of _source_submits_a_file method in other functional tests

commit 527638d55752c3a036b8a94d235fd9bb97815125
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Jul 7 15:00:55 2014 -0700

    removes basic auth and apache module for 2fa due to sec bug in apache module

commit a14cac6977e64c1583762fb055e7970152107064
Merge: cc8a62c2 85ae38a2
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Jul 7 14:51:28 2014 -0700

    Merge pull request #6 from ageis/last_things
    
    Fix broken bash variable

commit cc8a62c214d06a560dc3556d8d33c0104e951dda
Author: James Dolan <dolanjs@gmail.com>
Date:   Mon Jul 7 14:38:16 2014 -0700

    added static image names to both interfaces' apparmor profiles
    added hachoir files for document interface's apparmor profile
    added xmlreader files for source interfaces's apparmor profile

commit 85ae38a2685963582006f05ed910b88cdb7f5dac
Author: Kevin Gallagher <kevinmg@pressfreedomfoundation.org>
Date:   Mon Jul 7 16:10:29 2014 -0400

    Fix broken bash variable

commit 5a19b650205de8a15819675ecc71eb6d27775c4d
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Jul 7 11:23:22 2014 -0700

    updated email address in control files

commit 066bf030c458eefe13a1d172cdb952d8e2367d5d
Author: James Dolan <dolanjs@gmail.com>
Date:   Mon Jul 7 10:36:23 2014 -0700

    added DEFAULT_ENV to base.py in interface specific postinst scripts

commit c531c7540c3b3927fda7b109fa2e6a3c4abd1fed
Author: James Dolan <dolanjs@gmail.com>
Date:   Mon Jul 7 10:09:13 2014 -0700

    removed conflicting facist firewall and added where the allowed ports came from

commit c58be2f410d1e871efe63a97faaa664d2e1076ff
Merge: 45cda167 337fbfe3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jul 6 22:43:42 2014 -0400

    Merge pull request #472 from ageis/develop
    
    Fixed spelling error

commit 45cda16779948e5d4c20ff19b767e561ec20a429
Merge: 8fa941ad 5cf0e595
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jul 6 22:41:03 2014 -0400

    Merge pull request #471 from runasand/develop
    
    Be consistent with naming the required Ubuntu release

commit 337fbfe3fe75bca06566a5367ef3ad819c98f470
Author: Kevin Gallagher <kevinmg@pressfreedomfoundation.org>
Date:   Wed Jul 2 19:05:35 2014 -0400

    fixed spelling error

commit 5cf0e595c4464993f1fe6f33546f2970f3b4bce6
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Jul 1 09:49:37 2014 -0400

    Be consistent with naming the required Ubuntu release

commit 8fa941ad8f6612b44f291c9dade8458d1847865b
Merge: e06862f2 449befaa
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Jun 26 19:17:25 2014 -0700

    Merge pull request #449 from freedomofpress/codename-collisions
    
    Generated codenames must be unique

commit e06862f29e77d7a40a4492a6d569b61a7279d0b4
Merge: 9fa9d2c0 2a549f56
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Jun 26 19:07:52 2014 -0700

    Merge pull request #461 from charltonaustin/develop
    
    Adding back in unit testsgit st

commit 2a549f56c0e206f23c7155584d96dc499c0e0307
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Jun 26 19:07:35 2014 -0700

    comment on the call to test.sh

commit 9fa9d2c0ea04b71f92b973f2b57fe1818d780f5c
Author: William Budington <bill@eff.org>
Date:   Sat Jun 21 16:19:07 2014 -0700

    Fixing indentation for journalist_templates/col.html and journalist_templates/index.html

commit 418998797965c76077383fb234e106c2a25dc583
Author: William Budington <bill@eff.org>
Date:   Sat Jun 21 15:58:19 2014 -0700

    Cleaning up naming for {starred, unstarred} sources

commit c44313cc4e378bae10df0802238942d5a65d563c
Author: Kyle Olivo <kyleolivo@gmail.com>
Date:   Thu Jun 19 19:45:04 2014 -0700

    Charlie and Kyle: Fixing tests in manage.py

commit 523a50ade1e18d8cfc575a4a68d658478245ff6e
Author: William Budington <bill@eff.org>
Date:   Tue Jun 17 17:54:33 2014 -0700

    Cleanup from rebase develop

commit 3f9b63def62be600afe51abe86123547f97e6b6e
Author: William Budington <bill@eff.org>
Date:   Tue Jun 17 11:50:50 2014 -0700

    Removing restart from commands

commit 472095e5567f250832e29905f1dbd8b7056cf011
Author: William Budington <bill@eff.org>
Date:   Sun Jun 15 22:28:00 2014 -0700

    Improving the start and stop process by getting return status from start-stop-daemon.

commit 470258c04165d3160e0caf875fe1185ac99b0550
Author: William Budington <bill@eff.org>
Date:   Sun Jun 15 19:12:26 2014 -0700

    Adding start/stop functionality in manage.py (#457).  source.py and journalist.py create a pidfile (the path of which is defined in config/base.py) and this is referenced for shutdown.

commit 886abf22e38fb301d9fee54b85ee47a20209bbd1
Author: charltonaustin <charlton.austin@gmail.com>
Date:   Mon Jun 16 22:23:24 2014 -0700

    Adding back in unit testsgit st

commit b9a5bd2abb649e7829f77a274773198a1f902cc1
Merge: c6713440 74bc1935
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Jun 16 07:59:25 2014 -0700

    Merge pull request #460 from Hainish/issues/459
    
    Moving imports of test suites into test function for manage.py (resolves...

commit 74bc19356aff032deb8b7a47be45422005f10364
Author: William Budington <bill@eff.org>
Date:   Sun Jun 15 23:54:44 2014 -0700

    Move config to top, remove test suite runners while retaining call to test.sh

commit d618502bfce19cc243acd92344bd32e0a96aabc1
Author: William Budington <bill@eff.org>
Date:   Sun Jun 15 20:39:38 2014 -0700

    Moving imports of test suites into test function for manage.py (resolves #459)

commit c6713440256ab3d5a3e2d4933944ba16f0029653
Merge: ed483464 6e90cf21
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 15 17:17:06 2014 -0700

    Merge pull request #454 from jacksingleton/file_upload_plaintext_hitting_disk
    
    File upload plaintext hitting disk

commit 83cb27de3ac7bf9007e8f7f8f0511f39eec0c04a
Author: Dan Auerbach <dan@eff.org>
Date:   Sun Jun 15 16:25:36 2014 -0700

    Fix duplicate import statements

commit 6e90cf21200816e7f6a8ad340922f8d2cb595fe8
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jun 15 16:23:14 2014 -0700

    extracted duplicate new_codename code and added to test_setup

commit 98e817879757fed042348f374548249e718332ff
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jun 15 16:07:53 2014 -0700

    overriding the default Flask Request with a RequestThatSecuresFileUploads. for now it just forces all file uploads to be buffered in memory

commit ed483464d0752a9aa1a8a8366c4d87e4cc452025
Merge: 7cc28ee4 b86bd2dc
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 15 15:55:22 2014 -0700

    Merge pull request #448 from freedomofpress/recommend-manage-py-in-setup-dev
    
    recommend using manage.py after successful setup

commit 449befaae8ec3b3a7fa453ce4045e4b81570cf0d
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jun 15 15:04:31 2014 -0700

    Generated codenames must be unique
    
    * Removes check and warning for duplicate source directories (since that can no
    longer happen)
    * Refactor logged_in key pop and comment it with TODO

commit b86bd2dc4f4cb97f110dfa25dc4d071380c21f91
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jun 15 14:44:59 2014 -0700

    recommend using manage.py after successful setup

commit 7cc28ee45f78b3d34eca7d707fa023bc5b4c2d46
Merge: decbe8dd dde7dfa5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 15 13:29:10 2014 -0700

    Merge pull request #446 from diracdeltas/feature/changelogs
    
    Update changelog for 0.1+ releases

commit decbe8dd9d93e8b55dfa36081c261663324e464e
Merge: 8f09ecf0 a42e4303
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 15 13:27:11 2014 -0700

    Merge pull request #434 from micahflee/tails-launcher
    
    Tails launcher

commit 8f09ecf0e58cbaae970dc669879dcef3186df9c2
Merge: 0270d018 515b2c82
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 15 13:22:03 2014 -0700

    Merge pull request #433 from Hainish/issues/432
    
    Adding DEFAULT_ENV to base.py and setting some reasonable defaults (#432...

commit dde7dfa5d569888b0861035e78b52df79b168d68
Author: Yan Zhu <yan@mit.edu>
Date:   Sun Jun 15 13:02:12 2014 -0700

    Update changelog for 0.1+ releases

commit 0270d0186906b8685713556fc9559ef21366dab9
Merge: 34c89268 1aa95883
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 15 12:59:09 2014 -0700

    Merge pull request #430 from charltonaustin/getting-rid-of-test-sh
    
    Getting rid of test sh

commit 34c89268974846a506fa2a1eaf2742f4443ee5cd
Merge: c1efa519 6a947411
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 15 12:55:11 2014 -0700

    Merge pull request #429 from charltonaustin/manage-py-upgrade
    
    Manage py upgrade

commit c1efa519b7ab3aad80faf0007468453390bb768b
Merge: 65b6945e b9966d44
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 15 12:45:03 2014 -0700

    Merge pull request #428 from charltonaustin/refactor-methods
    
    refactoring code to remove if else statements

commit b9966d442d011c9b9315204cff59479e75334515
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 15 12:38:39 2014 -0700

    Move getlist comment, misc. cleanup

commit 098b909a1ec10ca96ab277f113fddeea2d422043
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 15 12:35:59 2014 -0700

    Don't override form action with formaction

commit 8727213d1af251184defb433ee298ea51f38437f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 15 12:33:51 2014 -0700

    Remove now-unneeded data param

commit d4ad49b3c226eb549b397c42df3f7c1ab294758d
Author: James <dolanjs@gmail.com>
Date:   Fri Jun 13 16:41:31 2014 -0400

    added unattended-upgrade log file to be monitored by ossec

commit a42e43035a65a31129f53e585e6ec7d1bb2f8511
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Jun 11 19:23:06 2014 +0000

    added linebreak in tails notification, so it shows up right in Tails 1.1 wheezy

commit 338b75ac548cb46ca313fe443915d5c1dc4b6560
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Jun 11 19:05:09 2014 +0000

    made a nice gnome application launcher

commit 515b2c824b8744625839beacdf84c9fea0cff3be
Author: William Budington <bill@eff.org>
Date:   Tue Jun 10 23:45:28 2014 -0700

    Adding DEFAULT_ENV to base.py and setting some reasonable defaults (#432)

commit a6f2129c3a417a4bc47f651cfdefd49e32330a26
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 9 14:33:56 2014 -0400

    removed old non-existent directories from being ignored/monitored
    fixed directory path for source interface log files. Even though these log files are not enabled. Configured them to be logged just in case and admin accidently enables them somehow.
    Added specific ignore statements for /var/securedrop/{keys,db,store} outside of the jail even though /var/securedrop is not configured to be a monitored directory.
    Added ignore statement for the securedrop.log file for both interfaces just in case the securedrop.log file is used.
    added the ossec alert gpg keyrings random seed to ossec syscheck ignore list

commit fda8009e81281606c6012e18333650e7a8bc091e
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 9 09:16:36 2014 -0400

    added xSendFile module to document interface to fix issue with downloading large files

commit 2b437848e40b14e2a794ce87824d77687f838ed4
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 9 08:25:01 2014 -0400

    added example network firewall rules.

commit 54573ad036318221a2982da9c569b855cc25164b
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 9 07:34:20 2014 -0400

    Talked with @iSec about usability issues with the password part for the document interface's 2 factor authentication, but we all felt that having access restricted by something you know is worth the usability trade off.

commit 517cf7a11b2b67568ea0d2b12ad5835dfa49667e
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 9 06:49:30 2014 -0400

    added what ports tor is allowed to connect to so that we can restrict the destination port in the host/network firewall rules.
    The alternative would be removing the destination port restriction in the host/network firewall rules. Thanks @iSec for finding this

commit 1d06e6ee734288a2a78885a70ba1871c961586c5
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 9 06:38:15 2014 -0400

    added missing state section for ntp rules caught by @iSec

commit d8163489b1dc6adcfd0c789e8c6cd0bc657da766
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 9 06:33:50 2014 -0400

    fixed typo in unattended upgrades

commit fe05cafe02378570c622bfbe9871c2c5b4861afd
Author: James <dolanjs@gmail.com>
Date:   Tue Jun 3 08:42:43 2014 -0400

    removed debconf question for smtp server since this is not part of the package

commit 1aa95883f061d65b56ca74cbdeb027b27995d6ed
Author: Charlie Austin <charlie@loyal3.com>
Date:   Wed Jun 4 23:56:16 2014 -0700

    Adding in the manage.py to the setup_dev.sh

commit e68c3044ed9cf5461fe5d7e686023bfc159ac88b
Author: Charlie Austin <charlie@loyal3.com>
Date:   Wed Jun 4 23:37:55 2014 -0700

    Removing the killing process stuff.

commit f4e72ef46ac94e380caf6d56ce11d3d990a90ffa
Author: Charlie Austin <charlie@loyal3.com>
Date:   Wed Jun 4 23:36:19 2014 -0700

    Moving the unit tests to not use test.sh

commit 6a9474115daa21030bbf5a25219383df53af847c
Author: Charlie Austin <charlie@loyal3.com>
Date:   Tue Jun 3 20:45:53 2014 -0700

    Added an extra method.

commit 69695719d79af581ec5da8b0b725ab8b2967e256
Author: Charlie Austin <charlie@loyal3.com>
Date:   Tue Jun 3 20:42:19 2014 -0700

    Adding in abort 500

commit e39e2b9317afcfb8966e3601ee8853e6587a8852
Author: Charlie Austin <charlie@loyal3.com>
Date:   Tue Jun 3 20:39:24 2014 -0700

    Adding in something to remove the process before we start up the server.

commit 65b6945e4e4895cc67249773059d80785ddc7855
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Tue Jun 3 09:51:32 2014 -0700

    remove unused localForage dependency

commit 86f628b6ee472a5a0939dfeb658c5ed428573961
Author: Charlie Austin <charlie@loyal3.com>
Date:   Mon Jun 2 21:28:52 2014 -0700

    refactoring code to remove if else statements

commit e39d69bea6c77644669ad3f0ce6014ec3412e700
Merge: 0e6764ad f122128d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Jun 2 18:36:40 2014 -0700

    Merge pull request #427 from dolanjs/color-in-add-users
    
    minor tweeks to add-user scripts

commit f122128d133462851be580024fec0a707385037e
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 2 21:23:53 2014 -0400

    added color to ouput
    and changed add-journalist so it shows the correct name

commit 0e6764add143b56450987792c42a1d7eb23fa0ef
Merge: 1d62c311 3c1c4a6f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Jun 2 16:50:28 2014 -0700

    Merge pull request #426 from dolanjs/doc-mat-pip-depends
    
    added the additional MAT depends to the document-interface pip reqs

commit 3c1c4a6f2c12e07b29092ccb728c867bd2f54533
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 2 19:12:38 2014 -0400

    added the additional MAT depends to the document-interface pip requirements.
    the journalist.py imports store.py which imports MAT, MAT required the additional packages.

commit 1d62c311c1b0df9f4aa0d825d5234b9fd0a5a836
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Jun 2 13:49:56 2014 -0700

    cleanup from removing util
    
    * keeps datetime formatting in the template (w/ a custom template filter)
    * fixes import error for @dolanjs
    * should also fix Travis CI
    
    So, the reason I couldn't reproduce the issues on Travis was because after
    I git rm'ed util.py in a prior commit, util.pyc was left behind, which caused
    everything to work (incorrectly) for me. Note that this manifested as
    a "tests.test_unit not a module" error - looks like unittest swallows the
    actual issue.

commit 562bea2e7a63309b31cf503c1859f671af9010c3
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Jun 2 08:54:54 2014 -0700

    set SECUREDROP_ENV in manage.py since default env is now production, not development

commit ad18cf006061c9b838f4c632a27373b2d4a209c1
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Jun 2 08:35:31 2014 -0700

    fixup env variables and imports for testsuite

commit 9267fa1fe24c5043157deb231d7e8fc552bdb543
Merge: 72fecc5c 7de1b5fb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Jun 2 08:23:01 2014 -0700

    Merge pull request #424 from dolanjs/repo_packages
    
    Repo packages

commit 72fecc5c80ddf271fb35365aa33b55cb143fe360
Merge: dfc9f201 711a4b15
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Jun 2 08:20:13 2014 -0700

    Merge pull request #419 from charltonaustin/flag-sources-4
    
    Flag sources 4

commit dfc9f2013c09299b6de46f4593e6b34c3625a659
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Jun 2 08:19:31 2014 -0700

    fixup submission size regexps in tests

commit ed2f0cee73dd921be6d5e7fa156b1d636cf9e62a
Merge: e7779edc 1a71aa50
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Jun 2 08:07:06 2014 -0700

    Merge pull request #425 from freedomofpress/submission-size-formatting
    
    human-readable submissions sizes, with byte counts in tooltip for micahf...

commit 7de1b5fb571c07b1310393e337543c6a37674fa4
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 2 07:45:02 2014 -0400

    added check to see if securedrop-app init script was present

commit 0a79c9c9a70f20e16d426521e4fa478e70ec4ec7
Merge: 749eb8e7 e4a7304b
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 2 07:09:52 2014 -0400

    Merge branch 'repo_packages' of https://github.com/dolanjs/securedrop into repo_packages

commit 749eb8e702045c77ea5b5d1fc742526527155c54
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 2 06:49:34 2014 -0400

    the source interface does use sqlalchemy it is imported in source.py
    
    the document interface loads store.py which imports MAT
    re-adding MAT to document-requirements.txt

commit e4a7304b5df126c4bd19525d1babf5bb7771ff2b
Merge: 6ccd9186 e1468a31
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Jun 2 07:07:32 2014 -0400

    Merge pull request #5 from ageis/patch-1
    
    Torify and connect-proxy stuff

commit e1468a31e6088e20de051b8d7829ae610236b212
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Mon Jun 2 02:44:28 2014 -0400

    Torify and connect-proxy stuff

commit 711a4b15e44fee66fc27561aa8238f6bdf899c4b
Author: Charlie Austin <charlie@loyal3.com>
Date:   Sun Jun 1 22:44:08 2014 -0700

    Fixing styling and functional tests.

commit 1a71aa5011b8060228d79db887b3975d99f6172e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jun 1 22:38:26 2014 -0700

    human-readable submissions sizes, with byte counts in tooltip for micahflee

commit 6ccd918615d5c45bb4eb44ddd32892b1f7175206
Merge: 77448d62 4ef3d19f
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Jun 1 23:47:30 2014 -0400

    Merge pull request #3 from ageis/repo_packages
    
    Display the journalist's 2fa doc interface code

commit 4ef3d19fc72ea847140e591e307d2d88df9bfc46
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Sun Jun 1 23:33:07 2014 -0400

    Update Ubuntu version and URL

commit c681affefb461cac33d06c0000e1d95ddc4ffeac
Author: Charlie Austin <charlie@loyal3.com>
Date:   Sun Jun 1 20:29:18 2014 -0700

    Fixing some of the star

commit 77448d62ff7bf3107efe1bca3fc65a2b04f18816
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Jun 1 20:19:46 2014 -0700

    changed the default location to production
    maybe this can just be the deafult for the master branch

commit 85aea66ac9def6c9e71d7c148c405dd2111a4a1c
Merge: eb458011 4fd01c98
Author: Charlie Austin <charlie@loyal3.com>
Date:   Sun Jun 1 20:13:17 2014 -0700

    Merge branch 'develop' of https://github.com/freedomofpress/securedrop into flag-sources-4
    
    Conflicts:
            securedrop/journalist_templates/index.html
            securedrop/static/css/styles.css

commit e7779edc5ca4364e3741b9e274ed80ef90a3dfa5
Merge: 4fd01c98 0d1fb742
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 1 20:08:55 2014 -0700

    Merge pull request #422 from jacksingleton/functional-tests-logging
    
    Functional tests logging

commit 4fd01c98b7dc3f038bd9d92bc0f25f4508a46970
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jun 1 20:02:10 2014 -0700

    date formatting should be in the template

commit 92e35cb4cae2e4a440811ac53f25bd4ba714c437
Author: Kevin Gallagher <kevinmg@pressfreedomfoundation.org>
Date:   Sun Jun 1 22:58:04 2014 -0400

    Display the journalist's 2fa doc interface code

commit eb458011e73344c6bc98190f06a290a1e64e96a1
Author: Charlie Austin <charlie@loyal3.com>
Date:   Sun Jun 1 19:57:30 2014 -0700

    Removing the query to SourceStar

commit 0d1fb742c60705f762fb39bcb1b0ac42343520f1
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jun 1 19:44:12 2014 -0700

    added newlines

commit c7de0dd71761bc45e28d21168698b2b01c1504a3
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jun 1 19:40:23 2014 -0700

    added log line with date when functional tests start

commit f31afbfa13d25de75d96e47d8b1e416ff2ce967f
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jun 1 19:39:16 2014 -0700

    remove unnecessary margin below notification

commit ad537e4bb6aa301ff92d44e47fd635af4ed921ea
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Jun 1 19:35:24 2014 -0700

    added the create journolist and admin scripts
    and update the default location displayed in the post-install script

commit b709352e33e611f1da0aa32f5b02142be56edbae
Merge: 917043d9 9f657fcc
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jun 1 19:29:58 2014 -0700

    Merge branch 'beauty' of https://github.com/micahflee/securedrop into micahflee-beauty
    
    Conflicts:
            securedrop/static/css/styles.css

commit 917043d9a08b64b1c8c274fe97164824ec58c06f
Merge: 4421c99f 9e46b77a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 1 19:21:59 2014 -0700

    Merge pull request #423 from freedomofpress/fix-broken-popup
    
    Fix broken popup

commit 71a05e1d72e730edff121d5c12113e9057b1da74
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Jun 1 19:06:08 2014 -0700

    updated documentation to reflect installing from fpf repos.

commit 0fae97dcf29b76ef66dbb6220a7176a1bf279214
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Jun 1 18:55:47 2014 -0700

    based off fresh develop
    removed old install files
    added new deb packages files
    binaries for OSSEC server, agent and apache modules are excluded from the github repo
    to build deb packages locally you will need the binaries that are excluded from github.
    
    post-install script needs to be updated to display journalist and admins 2fa codes

commit 4421c99f2e3b200e86a6caeabb46f59cc3314cad
Merge: 0aa8881c 668aa1df
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 1 19:06:52 2014 -0700

    Merge pull request #421 from freedomofpress/vagrant-cache
    
    Vagrant cache

commit 9e46b77ab148d3c45a8085d4a44fdbcb6858e675
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jun 1 19:03:09 2014 -0700

    inline scripts are the devil

commit 7706192d20a4c78b3407c758cc726acfe65198b3
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jun 1 19:00:19 2014 -0700

    restore TBB-specific js warning

commit c54604c92fc28b18de7564ab7bd78afa223d5567
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Jun 1 18:52:47 2014 -0700

    gitignore was blocking needed directories in install_files dir
    removed var

commit 0e8b339e48cbe95f6f3e356eaf938a84364ad168
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jun 1 18:52:12 2014 -0700

    clean up and refactoring

commit a37065f0d564b9f66439d5bc5083e253eaac838d
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jun 1 18:38:13 2014 -0700

    added logging by default to functional tests

commit 0aa8881c4b640329b29c695bff725ea68e18366c
Merge: d5fac7a3 8a67d8df
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 1 17:42:04 2014 -0700

    Merge pull request #420 from jacksingleton/fix-fun-tests-after-vagrant-halt
    
    added xvfb to rc.d via update-rc.d

commit 668aa1df3a8b1dfea3ae135228e43c6417c86a36
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jun 1 17:33:22 2014 -0700

    instructions for speeding up provisioning with vagrant-cachier

commit 0af7087b74f8ce3ec6fcb041378bfc00e3caaaf8
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jun 1 17:32:58 2014 -0700

    configure vagrant-cachier

commit 8a67d8df995a66e909014ed68b2a60b18ca1c254
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jun 1 17:15:43 2014 -0700

    added xvfb to rc.d via update-rc.d

commit feb17abf3b2fbe655c15f7c22a5aadf74733103b
Author: Charlie Austin <charlie@loyal3.com>
Date:   Sun Jun 1 11:18:08 2014 -0700

    Adding in tests to the test runner script.

commit 13b192c1d9597613d081d87f33956ebf2c063990
Author: Charlie Austin <charlie@loyal3.com>
Date:   Sun Jun 1 11:11:45 2014 -0700

    Adding in new buttons to star and unstar source.

commit 9f657fcc193f33ee92466753e09526d3e86cd522
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Jun 1 02:37:03 2014 -0400

    fixed test_submit_file

commit 0f858aae6a514f27f289c7118209fa6ece5c2907
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Jun 1 02:22:38 2014 -0400

    fixes test_filenames and test_filenames_delete

commit 4d02d0cecb071371d2294228d24ef59c3304e879
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Jun 1 02:14:24 2014 -0400

    improved col page

commit 60bd6349c4deb9de1f6fb69ef9f68b03687076c3
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Jun 1 01:55:17 2014 -0400

    mdae quick filter box look better

commit 77ee670fc4c321cb248d9e87e2c8f619b4585bf2
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Jun 1 01:53:04 2014 -0400

    made source listing page look way better

commit 9ea7047867b5ac3574006cb3fe4b7b293526b5de
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Jun 1 01:26:25 2014 -0400

    updated font-awesome

commit 4fcbb200f77a7415b73bb42cc4b9b75878e61fb5
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Jun 1 00:53:39 2014 -0400

    added breadcrumbs to col

commit a9eea856c5a04d490b455e4b810a98433d1871c9
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Jun 1 00:15:48 2014 -0400

    minor css tweaks to source interface

commit 938b08cfde8ebd32e6cd835d29ec7d939380df08
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Jun 1 00:11:27 2014 -0400

    fixes #416

commit e2b4dfbd57c15b314086e3853da3a0098aeddb3f
Author: Micah Lee <micah@micahflee.com>
Date:   Sat May 31 23:26:43 2014 -0400

    improved global header and link styles, and reformatted css syntax to be consistent

commit 7e330030046b061711424cf8a162b0888701073f
Author: Micah Lee <micah@micahflee.com>
Date:   Sat May 31 23:10:29 2014 -0400

    the logo should default to logo.png, not securedrop.png

commit d5fac7a3a951a2e8ae5276f7fa44bbe52ce40a23
Merge: f71b17f4 a08ba020
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu May 29 11:12:05 2014 -0700

    Merge pull request #411 from freedomofpress/fix/leading-spaces
    
    hack to avoid added spaces when copying codename

commit a08ba020cf31af748a60e7c2ab365446589780b1
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu May 29 10:59:22 2014 -0700

    fix unit test due to modified html

commit ad31f38fb1d6f6b5acb45a9c4b20aa978ca9f79b
Merge: 26e94ed6 f71b17f4
Author: Charlie Austin <charlie@loyal3.com>
Date:   Thu May 29 08:33:03 2014 -0700

    Merge branch 'develop' of https://github.com/freedomofpress/securedrop into flag-source-3

commit f72ec543150f6bd15ca03de8402a8a23883ecdd4
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed May 28 20:46:27 2014 -0700

    hack to avoid added spaces when copying codename

commit f71b17f45eeed6face92ec90f6456bda95eeeddb
Merge: 85c987f4 8002aa85
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed May 28 16:34:30 2014 -0700

    Merge pull request #410 from Hainish/issues/401
    
    Deleting the p object removes defunct gpg processes, fixes #401

commit 8002aa85100121ce02ab0e22e571c9578bd2cb76
Author: William Budington <bill@eff.org>
Date:   Wed May 28 16:23:15 2014 -0700

    Deleting the p object removes defunct gpg processes #401

commit 85c987f4314fb296667413319f6a8fc6e6d30eaa
Merge: 7132b30b 893cc717
Author: Micah Lee <micah@micahflee.com>
Date:   Wed May 28 15:44:25 2014 -0700

    Merge pull request #409 from freedomofpress/feature/already-have-codename-link
    
    add login link to generate page

commit 893cc717747d838493b224cecdeb00c868f9da61
Merge: d0a6c26d 7132b30b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed May 28 09:39:01 2014 -0700

    Merge branch 'develop' into feature/already-have-codename-link

commit d0a6c26d10c11bd824d537165989070083d3fa12
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed May 28 08:58:00 2014 -0700

    add test for login link from generate page

commit 9ba06f729c499ecb209030ebb5b66373019c0501
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed May 28 08:43:25 2014 -0700

    add login link to generate page

commit 26e94ed69a9b6046f75c3198c9a582113f08c4ae
Merge: f530d261 7132b30b
Author: Charlie Austin <charlie@loyal3.com>
Date:   Wed May 28 08:35:47 2014 -0700

    Merge branch 'develop' of https://github.com/freedomofpress/securedrop into flag-source-3

commit f530d26173a1a8b68ff665787568527d90fe682b
Author: Charlie Austin <charlie@loyal3.com>
Date:   Wed May 28 08:35:02 2014 -0700

    Saving and removing stars

commit 7132b30bec123025a587ad14e5576ed2eabebedc
Merge: 22bf91c4 2bbeaa8f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed May 28 08:17:43 2014 -0700

    Merge pull request #407 from charltonaustin/flag-message-2
    
    Flag Sources 2

commit 22bf91c410d7f47c4ad311035915df1171494319
Merge: e9f061af 65a70719
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue May 27 09:19:47 2014 -0700

    Merge pull request #408 from freedomofpress/399/functional-test-assertion-error
    
    fix functional test by implicitly waiting for DOM element

commit 65a7071987e8f60dff25e0ca81a8ed37eaaeec77
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Tue May 27 08:57:04 2014 -0700

    fix functional test by implicitly waiting for DOM element

commit 2bbeaa8f70c00636beb426fe4a540b0f9025b639
Author: Charlie Austin <charlie@loyal3.com>
Date:   Mon May 26 21:30:28 2014 -0700

    Hiding the button since the feature isn't finished

commit 60d1f567c3d1a8bb166f532fab49b6fdbfc4640c
Merge: e72f8858 e9f061af
Author: Charlie Austin <charlie@loyal3.com>
Date:   Mon May 26 21:26:01 2014 -0700

    Merge branch 'develop' of https://github.com/freedomofpress/securedrop into flag-message-2

commit e72f8858fe43473477b8e0458f2f3dd33f543a45
Author: Charlie Austin <charlie@loyal3.com>
Date:   Mon May 26 21:06:15 2014 -0700

    Saving the source stars.

commit f0ff4f1b507b9a31b306d4cf78f1b774ad103fca
Author: Charlie Austin <charlie@loyal3.com>
Date:   Mon May 26 21:03:09 2014 -0700

    Adding stuff for ide.

commit e9f061aff86554ca60a0b41d8ecf26c54e665a99
Merge: 5caac375 74601e0c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon May 26 17:07:56 2014 -0700

    Merge pull request #405 from freedomofpress/387/manage-script
    
    387/manage script

commit 5caac375fe68eb6380154a237c7f3a7f2fd14587
Merge: bca46b37 127c3445
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon May 26 16:36:31 2014 -0700

    Merge pull request #406 from jacksingleton/fix-hanging-functional-tests
    
    Fixed hanging functional tests when starting vagrant

commit 127c344558b30eb6bf566d3b3d56303e047521d3
Author: Jack Singleton <git@jacksingleton.com>
Date:   Mon May 26 14:32:24 2014 -0700

    added -H option to sudo in Vagrantfile so that setup_dev.sh uses the correct home directory

commit 74601e0cb464f93f81d45983874f041c70f8e757
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon May 26 14:13:37 2014 -0700

    document manage.py

commit 83f73a4516146e69d10fcbc7ee6e461c80dd30dc
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon May 26 13:46:25 2014 -0700

    implement basic manage.py start

commit 6ed424b579ff1b269d17a02fada0ec94e57ce466
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon May 26 12:52:11 2014 -0700

    first pass of manage.py test

commit ff9b08345eb032bd8cb6026db8c90a94bbb62c4b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon May 26 12:40:06 2014 -0700

    implement manage.py reset

commit 0e3c79cb0e700637a863f1f171dde05a7a2554a7
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 17:06:41 2014 -0700

    utility script boilerplate

commit bca46b373bd9d6ca556dc45cfc14927d3b24390a
Merge: 536b3991 6a2636b9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat May 24 20:19:35 2014 -0700

    Merge pull request #396 from freedomofpress/386/hide-filter-box-if-no-js
    
    386/hide filter box if no js

commit 6a2636b9cfef5c6a3a51c01d37c8ed1c1516abd2
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 20:06:17 2014 -0700

    dyn add select boxes on source pages

commit 8b63b9d56eab622693f0279b491dc88581947102
Merge: 32e51b13 536b3991
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 20:05:30 2014 -0700

    Merge branch 'develop' into 386/hide-filter-box-if-no-js
    
    Conflicts:
            securedrop/journalist_templates/index.html

commit 536b39912a03bf79c6af21f7ce0674971376f4a7
Merge: 72924df6 fe4527a3
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 17:55:37 2014 -0700

    Merge branch 'flag-message' of https://github.com/charltonaustin/securedrop into charltonaustin-flag-message
    
    Conflicts:
            securedrop/journalist_templates/col.html

commit 72924df65925093d872a1b40648d94d9c46022d7
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 17:52:18 2014 -0700

    Fix broken branch in col_delete
    
    We were checking the length of a string, not the list of form values, in
    col_delete. This wasn't exposed because JS short-circuited the form submission
    if nothing was selected, but would have been a bug for any users who had JS
    disabled.

commit fe4527a3bc69e8e863674e3ab4a24091b3374461
Author: Charlie Austin <charlie@loyal3.com>
Date:   Sat May 24 17:25:23 2014 -0700

    Fixing some formatting issues.

commit 32e51b13c0ff744fafc530a3b0aaae180c12e837
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 17:12:02 2014 -0700

    remove unnecessary value for autofocus attribute

commit 0838cdffd31b226f957f469e452896a61da9cb1f
Merge: 17fc0b6b b7d8913f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat May 24 17:05:55 2014 -0700

    Merge pull request #397 from cwattrus/ui-updates
    
    Refactored the ui on journalist page. Fixing tests to work with new structure

commit f2c2f6bd1d3a189859f8679f3642a094398a7843
Author: Charlie Austin <charlie@loyal3.com>
Date:   Sat May 24 16:44:55 2014 -0700

    Adding in a new method to deal with staring a message.

commit 17fc0b6b0c73e0cfbf1623161a4e71e5d9d63d28
Merge: 88dd1ad5 52670e70
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat May 24 16:32:49 2014 -0700

    Merge pull request #395 from freedomofpress/393/flash-on-no-replies
    
    393/flash on no replies

commit b7d8913fdf1b00aa1dfb8d1b73dcffdf82e3a0e9
Author: Craig Wattrus <cwattrus@gmail.com>
Date:   Sat May 24 16:29:32 2014 -0700

    Refactored the ui on journalist page. Fixing tests to work with new structure.

commit e55f5f6ba04875483fa06c8c2ac88462ea194d71
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 16:28:12 2014 -0700

    dynamically add select all, none buttons

commit a5559f49c3b097c6bdb02a9673a44ddadc0a1ee1
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 16:21:45 2014 -0700

    dynamically add quick filter box

commit 60d094fe09150e6f4d6ec21fc4b93ff2bce35c79
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 16:21:55 2014 -0700

    trailing whitespace

commit 52670e704f6aa7902def27b82700ad580e340691
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 15:59:52 2014 -0700

    autofocus codename field on login page

commit d263b1944f491785e67f3a7d0e496688425f638f
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 15:58:44 2014 -0700

    flash a message after login if there are no replies yet

commit e7571eebb21653efec2d43caaf6caeadd3e7f4c1
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 15:58:08 2014 -0700

    more consistent naming

commit 13255acb16dea753cae6211cd0e0a2f9fb072a47
Author: Charlie Austin <charlie@loyal3.com>
Date:   Sat May 24 14:35:05 2014 -0700

    Revert "Updating the test.sh to run all as tests all files that have test in the name."
    
    This reverts commit c0c609880f3cd9231a6f0e834b4b5d20c2417884.

commit 88dd1ad5eb8a2bef2ca7c5c70a4de29d5b8790b6
Merge: bf0241cb 2bda1142
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat May 24 14:12:09 2014 -0700

    Merge pull request #392 from cwattrus/ui-updates
    
    Fixing up the message and attachment box for the source

commit 777dc0408db7a990c6a742a62e09f581b8276785
Merge: c0c60988 bf0241cb
Author: Charlie Austin <charlie@loyal3.com>
Date:   Sat May 24 13:52:02 2014 -0700

    Merge branch 'develop' of https://github.com/freedomofpress/securedrop into develop

commit c0c609880f3cd9231a6f0e834b4b5d20c2417884
Author: Charlie Austin <charlie@loyal3.com>
Date:   Sat May 24 13:43:25 2014 -0700

    Updating the test.sh to run all as tests all files that have test in the name.

commit 2bda11427940116f6edca8f8230e35bf55dcd500
Author: Craig Wattrus <cwattrus@gmail.com>
Date:   Sat May 24 13:15:58 2014 -0700

    Fixing up the message and attachment box for the source

commit bf0241cb5c2dc3abe32f27adcedc5b6b188fa7a1
Merge: 7c9e49ff ef474c1f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri May 23 20:38:27 2014 -0700

    Merge pull request #382 from micahflee/ui-refresh
    
    UI refresh

commit ef474c1f89845961ca90feb3849a793bd82062ec
Merge: 005bff0c 7c9e49ff
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 23:31:29 2014 -0400

    Merge branch 'develop' into ui-refresh
    
    Conflicts:
            securedrop/journalist.py
            securedrop/static/css/securedrop.css

commit 005bff0ca252543935fefcd95cd93acfaf3ebb4f
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 23:29:46 2014 -0400

    4-space indents instead of 2-space indents

commit fed9a41219ddbe15c1e68143ffc93c3e106a7881
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 23:29:11 2014 -0400

    changed selected="" to just selected (#382)

commit 7c9e49ffd17acba67d3300a46705f09b8e812afe
Merge: c7b3ae52 d8882304
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri May 23 20:28:01 2014 -0700

    Merge pull request #360 from micahflee/chroot
    
    chroot jail development environment option

commit b7025f305058a9039b05e4e0de8aebfc2783cd9c
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 23:27:47 2014 -0400

    added comment to describe what banner warning flash messages are

commit 662a32641daf4495c7a764ccce1cbfeacb5ca389
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 23:26:20 2014 -0400

    oops, should not have commited the TI logo

commit c7b3ae52ef79fb267761b7175a2545108ef32207
Merge: 4621960f 5949381f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri May 23 20:21:59 2014 -0700

    Merge pull request #389 from Hainish/issues/381
    
    Deleting submissions from db on bulk_delete (#381)

commit d88823041bf48fba97472bf0321122776c124c63
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 23:16:42 2014 -0400

    added schroot.conf and sources.list directly into chroot-dev (#360)

commit 5949381f86450479330f665e8f0a1bbac38ac931
Author: William Budington <bill@eff.org>
Date:   Fri May 23 19:56:41 2014 -0700

    Deleting submissions from db on bulk_delete (#381)

commit 4621960fc1fb7110c2772a5ea3eb0603e1bfd397
Merge: a36b2b1e 7a255fb2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri May 23 19:21:27 2014 -0700

    Merge pull request #384 from Hainish/issues/372
    
    Issues/372

commit 7fde4c5175065f8cf2499c0fa37abf577050d10d
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 22:14:06 2014 -0400

    minor journalist interface improvements

commit 7a255fb23137d4185aedd5a870245790b2854d62
Author: William Budington <bill@eff.org>
Date:   Fri May 23 19:13:30 2014 -0700

    fixed tests

commit 0510bdc75eae041908f98318746fe380672169bf
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 22:02:01 2014 -0400

    added back custom header support

commit b6007c0e254052dfc8738757a3205549718be857
Author: William Budington <bill@eff.org>
Date:   Fri May 23 18:48:08 2014 -0700

    Marking singular downloads as downloaded = True

commit 00fd6115aa205dd311e9c6201413ac690f3dd8d1
Author: William Budington <bill@eff.org>
Date:   Fri May 23 18:37:45 2014 -0700

    Changing bulk_download api per Garretts request

commit 3b8dd71d196871a59e78adfed67aa79c79ad38c6
Merge: 8c69415b a36b2b1e
Author: William Budington <bill@eff.org>
Date:   Fri May 23 18:14:33 2014 -0700

    Merging develop into issues/372

commit e07d5e2a9532fabf54228d8937a649b167e32dbe
Merge: 3dfdf31c 8942d109
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 20:22:30 2014 -0400

    Merge branch 'develop' into ui-refresh
    
    Conflicts:
            securedrop/journalist_templates/base.html
            securedrop/source_templates/index.html
            securedrop/static/css/securedrop.css

commit a36b2b1e780b08163db4a857384e78d44ce38db2
Merge: 8942d109 363b53e7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri May 23 17:11:30 2014 -0700

    Merge pull request #379 from Hainish/issues/371
    
    Resolves #371

commit 3dfdf31ccf8d7328a9972d8f080c8756343a4ec7
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 20:05:35 2014 -0400

    fix test_reply_normal test

commit 363b53e7657354702aabd4a30b7342e63faec270
Merge: 12d1484a 8942d109
Author: William Budington <bill@eff.org>
Date:   Fri May 23 17:02:23 2014 -0700

    Merging master into issues/371

commit 2662268e0a408e62360aa923d09d5adc0e6248a6
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 19:59:42 2014 -0400

    journalist replies look good now

commit ea58f9fceff02231cc4e27ec8205feb4db09a969
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 19:59:22 2014 -0400

    added util.py for formatting dates

commit 8942d1097a8d7e1205a13bcdea6d920996d57be2
Merge: 89fd19ce 04ec105c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri May 23 16:54:41 2014 -0700

    Merge pull request #376 from Hainish/issues/370
    
    Issues/370

commit 04ec105cf5bf4d622caa8829532edd47c056e965
Author: William Budington <bill@eff.org>
Date:   Fri May 23 16:48:32 2014 -0700

    Case insensitivity for filter codenames

commit 89fd19ce70cbbcd0c36e49bac18852b2b8a88897
Merge: f09e5144 704eda14
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri May 23 16:45:42 2014 -0700

    Merge pull request #378 from Hainish/issues/377
    
    Fixes issue #377, where a source cannot generate a new codename if their

commit 0ba94c7a27fda43b1dd7c3d6502c1e13ce3c7485
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 19:30:07 2014 -0400

    update notifications in journalist interface

commit d45ec2d20aa5fbfa7f03e9ecde0a18dbb81d94d6
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 19:16:45 2014 -0400

    deleted old, unused css file

commit f09e514406f925d6dfbdff9249df5ed5a5050857
Author: William Budington <bill@eff.org>
Date:   Fri May 23 16:11:30 2014 -0700

    selenium should be unversioned to get the latest selenium, since we're apt-get installing the latest firefox

commit a71ff1b3d8746c4787d1b13c62f4c02f46ada785
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 19:00:12 2014 -0400

    fixing up css for the journalist interface

commit d824caaf8cc7a6cad3b11472bd3da49352ab4a9c
Merge: 877ca2fb 70c2f187
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri May 23 15:51:38 2014 -0700

    Merge pull request #374 from Hainish/config-naming-clarity
    
    Changes for configs to be less confusing:

commit 057871d2d8ee42ae27a45249219f0cfe4da087e0
Merge: 9da00f84 3ab10614
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 18:39:26 2014 -0400

    Merge branch 'cwattrus-ui-refresh' into ui-refresh

commit 877ca2fb669d27174fdd0779ccfb799b9b825f68
Merge: a6b266bb 3c8e7d1b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri May 23 13:02:11 2014 -0700

    Merge branch 'fix/broken-travis-tests-2' into develop

commit 3c8e7d1ba572d46ffc99b8fb7c6ce076fadd19ed
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri May 23 12:25:26 2014 -0700

    set DISPLAY without breaking everything

commit 3ab10614664b4262ab46d9c72990ba08f0ce8da5
Author: Craig Wattrus <cwattrus@gmail.com>
Date:   Thu May 22 21:29:23 2014 -0700

    added changes to col.html that got deleted... somehow...

commit 7d5850352d5b859611e929f2510add8cc74e072c
Author: Craig Wattrus <cwattrus@gmail.com>
Date:   Thu May 22 21:05:57 2014 -0700

    added new styling to journalist interface

commit 8c69415b74055ae6c0bf02aee62517c17caae9a9
Author: William Budington <bill@eff.org>
Date:   Thu May 22 19:44:12 2014 -0700

    Swap out link with unread: 0 on download

commit 8f6f864adf58703c45d2739bd268cf8bc288846d
Author: William Budington <bill@eff.org>
Date:   Thu May 22 19:40:50 2014 -0700

    Add a link to download unread messages

commit 9da00f84690281768315cd981f4ee75be5556397
Author: Micah Lee <micah@micahflee.com>
Date:   Thu May 22 22:01:08 2014 -0400

    fixed source_navigation_steps tests

commit 338579c4c524376c1bb204a9e98d3beda075341c
Author: Micah Lee <micah@micahflee.com>
Date:   Thu May 22 21:50:04 2014 -0400

    fixed test_submit_and_retrieve_happy_path test (#329)

commit a6b266bba0e7ef63a1480b26b6de94e1906d33e5
Merge: de7cb2e3 002cc3b9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu May 22 17:14:24 2014 -0700

    Merge pull request #375 from Hainish/upgrade-jquery
    
    Upgrade jquery from 2.0.3 to 2.1.1

commit c8c18a308330995ed59a082c4a6d28e622bfc77d
Author: William Budington <bill@eff.org>
Date:   Mon May 19 23:48:54 2014 -0700

    Marking files as downloaded in the db when they are downloaded

commit adb61197d60df7920b6e0f4fad26c086ce0adac3
Author: William Budington <bill@eff.org>
Date:   Mon May 19 23:47:50 2014 -0700

    Adding downloaded column to submissions table

commit 70c2f187b26b541bb87c5b3af0f71d7aca90f3f3
Author: William Budington <bill@eff.org>
Date:   Mon May 19 22:21:54 2014 -0700

    Recommending use of base64 encoded random bits for scrypt peppers

commit de7cb2e3a36d89591538df6b9706b6ad766f37d5
Merge: e598ab49 985a652b
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon May 19 19:38:48 2014 -0700

    Merge pull request #373 from Hainish/vagrant-name-vbox
    
    Adding name to the VM in virtualbox

commit 12d1484a8efe34888fa0d811f21aa704bfe0bea5
Author: William Budington <bill@eff.org>
Date:   Sun May 18 22:42:08 2014 -0700

    Adding count of documents and messages in index for journalists

commit 704eda147b955feb036e6170ef0cebb7aba8194a
Author: William Budington <bill@eff.org>
Date:   Sun May 18 21:58:17 2014 -0700

    Redirect to the proper URL for endpoints which require login

commit 8713282134ae49120d68e065dde02157386ec039
Author: William Budington <bill@eff.org>
Date:   Sun May 18 21:51:36 2014 -0700

    Fixes issue #377, where a source cannot generate a new codename if their
    collection is deleted by the journalist while they are still logged in.

commit 02e0dbcd800c6037224f2ac3d439f4e32655a5f0
Author: William Budington <bill@eff.org>
Date:   Sun May 18 20:22:35 2014 -0700

    Do not delete invisible collections, even if they are checked!

commit 014444756a096975a2c7e815ef80213c032112b7
Author: William Budington <bill@eff.org>
Date:   Sun May 18 20:00:59 2014 -0700

    Simple filter for codenames on journalist interface

commit 002cc3b9778586643fb508906da80735069c7fb3
Author: William Budington <bill@eff.org>
Date:   Sun May 18 19:03:05 2014 -0700

    Upgrade jquery from 2.0.3 to 2.1.1

commit ea9aac48df9aec5c4fa2b45de87f6d7ab19e25aa
Author: William Budington <bill@eff.org>
Date:   Sun May 18 17:52:31 2014 -0700

    Changes for configs to be less confusing:
    
     - renaming flask_defaults example config
     - moving custom_theme_image.py into base.py
     - creating base.py.example

commit 985a652b0fdd14fe36dd57c9c05e23d3afa2f83e
Author: William Budington <bill@eff.org>
Date:   Sun May 18 16:38:21 2014 -0700

    Adding name to the VM in virtualbox

commit afeddb91e3ce78be2235cb801f686769982571cf
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 16 01:02:09 2014 -0400

    fixed test_generate
    redesigned /login
    made both notifications and errors look cool
    fixed test_login_and_logout (all part of #329)
    fixed tor2web warning issue (#342)

commit e598ab49fda727e4827a011a1b226841f43054f3
Merge: dad442f3 a58b0deb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu May 15 20:19:56 2014 -0700

    Merge pull request #364 from jacksingleton/traceback-sighandler
    
    adding signal handler functional tests to dump traceback

commit a58b0deb2ce3b47a299cdc08045b1c9e77daaec7
Author: Jack Singleton <git@jacksingleton.com>
Date:   Thu May 15 19:53:04 2014 -0700

    adding signal handler functional tests to dump traceback. should help debug when they freeze

commit dad442f3b630cc447c1d6f0647edec246290d18f
Merge: c10bf010 3ecbaf3c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu May 15 19:52:27 2014 -0700

    Merge pull request #349 from micahflee/better-filenames
    
    Better filenames

commit c10bf010776c44323b85ee2cd1b0df6648d6ee00
Merge: a7c7aa05 c48581c6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu May 15 19:43:43 2014 -0700

    Merge pull request #356 from posix4e/crypt_nits
    
    Crypt nits

commit 3ecbaf3c21c07e18d9b600d561a21aa1cfec9f3c
Author: Micah Lee <micah@micahflee.com>
Date:   Thu May 15 22:40:21 2014 -0400

    made comment more clear (#349)

commit 531192631088123abf5e05603d4f27d348da1775
Author: Micah Lee <micah@micahflee.com>
Date:   Thu May 15 21:53:29 2014 -0400

    fixed test_create (#329)

commit a7c7aa05e41a8d7acbccc6c56c15d57aadd2edaa
Merge: fc314d43 8499f9ce
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu May 15 18:01:48 2014 -0700

    Merge pull request #363 from tomrittervg/patch-1
    
    Typos and small rewordings

commit cbd7d3df5b47914b9660900406d1a2eee2c704bf
Author: Micah Lee <micah@micahflee.com>
Date:   Tue May 13 17:38:36 2014 -0400

    fixed some css after testing in tor browser (#329)

commit 8499f9ce042f22c0f83e4ca8be15c08802d53365
Author: Tom Ritter <tom@ritter.vg>
Date:   Mon May 12 09:56:49 2014 -0400

    Typos and small rewordings

commit 3715e8125e6a722d76e152cf17607e8dd34a65be
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 9 17:28:38 2014 -0400

    built UI for /lookup, and made notifications look modern (#329)

commit fc314d4364f6cfc9a0900b1482b09061485f3991
Merge: 0169c7e6 d9ad3583
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Apr 30 21:08:39 2014 -0700

    Merge pull request #359 from micahflee/tails-torrc-fix
    
    tails-torrc-fix

commit 0169c7e6ebb267e8916545b94d7db4d08fed5e99
Merge: 2aae7074 553e031c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Apr 30 19:05:06 2014 -0700

    Merge pull request #357 from jacksingleton/xvfb-firefox
    
    Using Firefox and Xvfb instead of PhantomJS and enabling submit_and_retrieve_file functional test

commit 0ff78b7551c924a4f117e6ef33e1b6c2eedfdf0f
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 20:55:28 2014 -0400

    remade source template's base.html, and updated UI for /generate (#329)

commit 270f66d680024de4868af3d23be4a929b972c74a
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 20:31:43 2014 -0400

    starting to implement new UI (#329). made new source homepage, and made javascript warning less obnoxious, and use less js dependencies.

commit 4702a667a22a8691dee2fa789e0f03df337c7504
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 17:09:47 2014 -0400

    DRYed up filename tests, and use raw strings for regex

commit 17a2a1265faed6d36488b79b683c0d3481916b8c
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 16:30:44 2014 -0400

    fancy python simplification of journalist_filename (#349)

commit 7029a4515149a0be4b6862ac6615799441e6cb0f
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 17:09:47 2014 -0400

    DRYed up filename tests, and use raw strings for regex

commit eaec284e734f3d6878bb68ca882c7552516d32f9
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 16:30:44 2014 -0400

    fancy python simplification of journalist_filename (#349)

commit cf8348152e3f71376fbaaa6c158c30e028142f40
Merge: 917a4ca6 584c5bd3
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 16:25:20 2014 -0400

    Merge branch 'chroot' into better-filenames-chroot

commit 584c5bd3f9c63361bebdf7f028bde9fc86cfde0e
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 16:25:05 2014 -0400

    chroot: added clean command

commit 917a4ca62cc37f9496ec10e4059765774addec18
Merge: d91464e6 cfd3afb2
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 16:09:45 2014 -0400

    Merge branch 'better-filenames' into better-filenames-chroot

commit d91464e6244d017b9fabcfebcf0a81641406b3e2
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 15:50:37 2014 -0400

    chroot: unmount filesystems better, and require chroot for most commands

commit d9ad358348234666065556093d64517e0d73acfe
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 15:38:24 2014 -0400

    in Tails, you can run securedrop_init twice without breaking anything. (fixes #355)

commit 217851c29ac20a4afc587669edfc244c1a006ba0
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 15:10:52 2014 -0400

    chroot: fixing permissions after setup_dev.sh, since tests are first run by root user

commit 0489f2744635172cc1c52d88e89a052cb67710f6
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 15:01:47 2014 -0400

    renamed chroot dir to dev_files

commit f687d45d5b7e9a100c05307e9fa7ff640dcc13b0
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 14:59:58 2014 -0400

    moved chroot instructions into HACKING.md

commit 747ffc0c661333d154f614c8ef842d2418a6111e
Merge: e843db85 eba4a4e7
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 14:45:51 2014 -0400

    Merge remote-tracking branch 'origin/hacking-updates' into chroot

commit e843db855bb6ace3af1e7094cc08e2df0ec6b822
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 14:41:47 2014 -0400

    make sure debootstrap and schroot are installed, fix test command

commit 1f549d2aae823655b9598cc915892b7c14f579c6
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 14:35:54 2014 -0400

    merged chroot scripts into a single bash script with commands. bundle ubuntu signing key to verify ubuntu packages in chroot jail.

commit 98857392d430b021cb6f7e9cf2b55fbaf1efeb79
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Apr 28 21:15:47 2014 -0400

    added chroot dev user, restart_servers.sh script uses those users instead of root

commit 131032effef330b7ac04a53422a0953d7162dcdd
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Apr 28 20:42:06 2014 -0400

    starting to build chroot-based dev environment

commit eba4a4e72124180f4ebb942308fe787a5c2749ec
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Apr 28 16:12:05 2014 -0700

    merging HACKING.mds

commit 553e031c5fe96e039e2120e8d64a27e15d89f5c6
Merge: c007f351 2aae7074
Author: Jack Singleton <git@jacksingleton.com>
Date:   Mon Apr 21 23:30:37 2014 -0700

    Merge remote-tracking branch 'origin/develop' into xvfb-firefox

commit c007f351f106e9237012d1f0697acfce592d2a37
Author: Jack Singleton <git@jacksingleton.com>
Date:   Mon Apr 21 23:01:24 2014 -0700

    re-enabling functional test, should work with Firefox WebDriver

commit c48581c61e06834de275058dcf3361ac3b152057
Author: Alex Newman <posix4e@apache.org>
Date:   Sun Apr 20 14:18:01 2014 -0700

    Add a pylintrc to keep the nits at bay

commit 605dd6b48aa2018e10fc6942583f9aea9f0fb68d
Author: Alex Newman <posix4e@apache.org>
Date:   Sun Apr 20 14:18:15 2014 -0700

    Clean up some confusing and unused method parameters in decrypt

commit 58b3fa6119edd1be701edd52130826f20b9f5c51
Author: Jack Singleton <git@jacksingleton.com>
Date:   Wed Apr 16 21:42:56 2014 -0700

    sourcing /etc/profile immediatly in case travis is running everything in one shell

commit 0981da04a321c1d0b31d9577b62dd15086b65c64
Author: Jack Singleton <git@jacksingleton.com>
Date:   Wed Apr 16 21:35:36 2014 -0700

    using xvfb and firefox to run functional tests

commit 2aae707481e62ff8a2134d5aff49f1bad99c1287
Merge: 3e794a70 ea4b33b3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Apr 16 21:09:44 2014 -0700

    Merge pull request #354 from bwillis/develop
    
    Fixes #353: When the session identifier is changed, logout the user

commit ea4b33b3cbd7e71365ee6b86dd5c741ea2fa0ee0
Author: Ben Willis <bwillis@manilla.com>
Date:   Wed Apr 16 20:52:47 2014 -0700

    When the session identifier is changed, logout the user
    
    When on the source generate page, the codename is regenerated on each
    request. If the user had a previous session codename is it overwritten,
    but they are still considered logged in. If they attempt to hit that
    page again the session will be looked up because they are logged in.
    
    This approach ensures that the user is logged out when regenerating the
    codename by destroying the logged_in flag in the session.

commit 3e794a7052225bcb9bde0f498bd4797b475a40e0
Merge: 13fcd94c 24c101d1
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Apr 11 18:18:04 2014 -0700

    Merge pull request #350 from micahflee/automatic-keygen
    
    Automatic keygen

commit 13fcd94cdbcb2ebbd820c3040ebaeea66f7e004b
Merge: 644b3d32 6f7216ba
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Apr 9 23:50:36 2014 -0700

    Merge pull request #346 from micahflee/tails-torrc
    
    Tails torrc

commit 6f7216ba09ec29e2219b8aaae040f1006b93e463
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Apr 7 10:50:29 2014 -0700

    small tails-torrc bugs

commit b91d6362c185f2f344b5f133ba9b340a946277cf
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Apr 7 10:30:58 2014 -0700

    minor tails-torrc install script tweaks

commit 24c101d1ac70870a0191fa0bd033fdc2c887b083
Author: Micah Lee <micah@micahflee.com>
Date:   Fri Apr 4 20:47:09 2014 -0700

    fixes #303

commit cfd3afb2fb5d39024a444da94a1445cc16c43949
Author: Micah Lee <micah@micahflee.com>
Date:   Fri Apr 4 20:06:59 2014 -0700

    wrote tests for pretty, sequential filenames (#320)

commit f554c47d78ca100f9277f858dc42f05550713d0f
Author: Micah Lee <micah@micahflee.com>
Date:   Fri Apr 4 18:59:40 2014 -0700

    filenames are much nicer (#320)

commit eb758ba3c0d5bfb1f407f4886138f7e3cc58fbb9
Author: Micah Lee <micah@micahflee.com>
Date:   Fri Apr 4 17:18:21 2014 -0700

    rewrote the tails-torrc stuff in python, using a c setuid wrapper (#346)

commit ec6e2423a945a944a872d13f65fe7f1d3f244e83
Author: Micah Lee <micah@micahflee.com>
Date:   Fri Apr 4 16:38:42 2014 -0700

    removed update_torrc binary, and include compiling in the install script (#346)

commit 644b3d32eaebb5234f245cf8abb2351dacbb0951
Merge: 3e5ce6ae 06aec4d3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Apr 3 14:47:29 2014 -0700

    Merge pull request #343 from micahflee/pending-source
    
    Pending sources

commit 06aec4d328d573e792dcd6ad641a99689b886446
Author: Micah Lee <micah@micahflee.com>
Date:   Thu Apr 3 14:07:33 2014 -0700

    Made "delete collection" and "delete selected" tests submit a message after creating a codename. This way the sources aren't pending.

commit c2862890cf805bac3e63f25ea4a42525d861e022
Merge: 5b7565a4 3e5ce6ae
Author: Micah Lee <micah@micahflee.com>
Date:   Thu Apr 3 14:01:59 2014 -0700

    Merge branch 'develop' of https://github.com/freedomofpress/securedrop into pending-source

commit 3e5ce6ae0e65ff537be51edee24775a91643f54c
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Apr 3 11:38:00 2014 -0700

    Temporarily disable file upload test per #345

commit 0e4f59c536174c3226b4e523f7edb0abd263a732
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Apr 3 10:47:07 2014 -0700

    Fix incorrect setup of SECUREDROP_ROOT

commit e24e1d1e78a331664204b27c34dfb1e077d6d17c
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Apr 2 13:31:19 2014 -0700

    fixed typos in install docs

commit de596e16e18aa9fc312a9fe4a657ba9a3d6150c3
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Apr 2 13:26:12 2014 -0700

    Typo in Tails config docs

commit 6099270b55f4ab3dad2b7a256a1ff688cd499bb4
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Apr 2 13:25:21 2014 -0700

    Renamed tails_config.me to .md

commit d107bff44c6d83f317064756552fbba58b01f036
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Apr 2 13:20:36 2014 -0700

    Updated installation documentation to include much simpler instructions for using Tails to access the Document Interface. Also split the instructions for setting up Tails USB sticks onto a separate page, and made it rely more heavily on docs from the Tails website. Change the GPG key generation instructions to make a passphrase-less key (setting a passphrase in this case offers negligible security).

commit fedd2401d05941764eceb2ab67d93a43df6159ac
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Apr 2 12:21:16 2014 -0700

    made tails-torrc instructions simpler

commit 3a0c92d6acf42c99b9f8a324ec0b35c5a2105705
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Apr 2 12:16:59 2014 -0700

    new update_torrc binary, slightly modified source code

commit 3924e3f7c004d5a35d96723bc630b6bc2829df5f
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Apr 2 12:16:40 2014 -0700

    updated tails-torrc readme

commit 528d2220641c17be0f8304c14711d69d2f2a0ed1
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Apr 2 11:10:14 2014 -0700

    updated tails-torrc readme

commit 82275e01ca010870cb47e2b40d101010703aa381
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Apr 2 11:09:55 2014 -0700

    wrote tails-torrc install script

commit 1d98f8945c994e99cb08e1f2a9814597eba46d6c
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Apr 2 09:24:17 2014 -0700

    making torrc.additions file hidden

commit 6033190352266402b6d30d289f8ced43600be99a
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Apr 2 08:55:16 2014 -0700

    added micahflee/securedrop-torrc files into repo (#282)

commit 5b7565a4464d40b46c5401398279d71e675d092e
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 1 14:47:10 2014 -0700

    added comment to explain what pending is

commit 44579f448aafdcc287af79667ed0884b352c20dd
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 1 14:42:03 2014 -0700

    sources that don't submit documents are 'pending' and don't get displayed by default. fixes #302

commit d3e9f754dc9fcdfa13a410d7ac31263f54e16c23
Merge: aa4626a9 c4df68f9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Mar 24 21:16:20 2014 -0700

    Merge pull request #336 from garrettr/feature/remove-after-request
    
    Don't set "no cache" headers in Flask

commit c4df68f9a26dc28c0f54a7bd3dc2b375498f7060
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Mar 19 22:16:24 2014 -0700

    Don't set "no cache" headers in Flask
    
    These headers are set by Apache, according to the {source,document}.site
    configuration files, in production. They are unnecessary in development.
    Therefore, setting these headers in Flask is redundant (and could potentially
    cause conflicts with the Apache configuration, especially if they diverge in
    the future).

commit aa4626a9ee50d1fe3a55ccc36347c8e4c457087d
Merge: 80d7b8db 38cc6235
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Mar 19 21:30:17 2014 -0700

    Merge pull request #331 from LordLandon/develop
    
    Simplifying config files

commit 38cc62352bcae3b48cf971e1a04cb821f439628b
Author: Lord Landon "Warbles" Agahnim <lordlandon@gmail.com>
Date:   Wed Mar 19 20:38:40 2014 -0700

    Updating travis.yml to use setup_dev.sh

commit e85f9a0ed7d3b46c5d8ce0a743ece5e0c0833a09
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sun Jan 26 22:58:55 2014 -0800

    refactoring the creation of the test server configurations into setup_dev.sh

commit e58b5d2bf67c6ab7b963ce15d733cfed48418177
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sun Jan 26 22:22:12 2014 -0800

    removing custom theme image configuration from automated setup process

commit 231fbad9698ee557cbc877969204ad78381766ff
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sun Jan 26 22:17:43 2014 -0800

    refactoring creation of development environment configurations into the setup_ubuntu.sh file

commit b52c0b66803651d39577547c43d14679f4cd9c91
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sun Jan 26 22:10:35 2014 -0800

    renaming mysql_root to mysql_root_password and adding some formatting

commit e47c571b3c60708f474db018cdd53fed9427347d
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sun Jan 26 17:28:22 2014 -0800

    encapsulating base configuration creation into setup_ubuntu.sh

commit 073818d726112cfccddf7b4b91196a622c13d7f7
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sun Jan 26 16:14:03 2014 -0800

    removed BaseFlaskConfig inheritance and created defaults for all environments

commit 80d7b8dbc444e93befaf3ee9c2a75fb547c7e723
Merge: 3546c88c 573742cf
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Mar 14 20:02:24 2014 -0700

    Merge pull request #335 from garrettr/feature/normalize-timestamps
    
    Feature/normalize timestamps

commit 573742cf2ae85a18b9a585e6125d728700f74c02
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Mar 14 13:06:41 2014 -0700

    Fix metadata tests to handle timestamp sanitization
    
    The file metadata tests were finding the most recent submission by sorting the
    submissions in th source directory. Of course, normalizing the timestamps
    breaks this. This sorting only needed, however, because the submission POST
    unnecessarily included a message along with the file. Removing this allows us
    to use the sole submission.
    
    Also removes some unnecessary code.

commit 21a43a5626b9b928d3a22055e1c0051137a00d54
Merge: ea6b1d12 3546c88c
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Mar 14 12:33:12 2014 -0700

    Merge branch 'develop' into feature/normalize-timestamps

commit ea6b1d1221cf8d5f2db7b817fdc2c1d08c8d7915
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Mar 14 01:10:47 2014 -0700

    normalize submission timestamps

commit 3546c88c6a1aee99bf2e3d3673923a1a5d8ce48b
Merge: dd59bfe6 a62c9a33
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Mar 14 12:16:29 2014 -0700

    Merge pull request #334 from garrettr/db-submissions
    
    Db submissions

commit dd59bfe6b8f30ebf0bef429e943a616fb5e7e993
Merge: 574aeb00 5f753689
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Mar 14 10:31:47 2014 -0700

    Merge pull request #333 from jacksingleton/second-functional-test
    
    Source submits a file functional test

commit a62c9a333666c02fd2829003cb3135c06090c5a7
Merge: 31a05a4d 574aeb00
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Mar 14 00:46:52 2014 -0700

    Merge branch 'develop' into feature/star-source

commit 31a05a4d8bfd0eb72d0e354931e04b8c33d77b7b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Mar 14 00:44:47 2014 -0700

    represent Submissions in the db

commit 5f7536890f852bc3a8941a9c1a6e91ce1ad32190
Author: Jack Singleton <git@jacksingleton.com>
Date:   Wed Mar 12 21:02:12 2014 -0700

    moved functional tests into seperate folder and added submit_and_retrieve_file

commit 19f08ee46014485ad0921d604e44564b1a6aa08d
Author: Jack Singleton <git@jacksingleton.com>
Date:   Thu Feb 20 20:46:33 2014 -0800

    started functional test reorg to share code between multiple tests

commit 574aeb00c5fd017e234a2875883b55eec850a4fd
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Mar 12 19:56:52 2014 -0700

    enable accidentally disabled functional tests

commit 1c325aeff5803eafc9b35cff805219d07de7a8bc
Merge: 6735ffa7 ced1ecb5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Mar 9 22:10:04 2014 -0700

    Merge pull request #330 from garrettr/db-rewrite
    
    db rewrite

commit ced1ecb52cc4129d042af780fb549363e0a0c94e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Mar 7 11:14:18 2014 -0800

    Fix MAT dependencies in .travis.yml

commit 9f74e646645233e2619ab76084ee44a3fe9244a4
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Mar 7 10:14:27 2014 -0800

    Fix broken metadata unit tests
    
    These tests were unnecessarily calling _new_codename twice, and there appears
    to have been a bad interaction between that and the new "get source" logic in
    setup_g. Possibly related to the "back button"/session clearing bug (#294).

commit e5bb5b96746a35b56eeca3c8d0f204f5ea880398
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Mar 7 10:08:41 2014 -0800

    s/db.create_tables/db.init_db

commit 68881e789ad31b20f1a6001a4ff4722e4591d011
Merge: 43e58524 6735ffa7
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Mar 7 09:32:38 2014 -0800

    Merge branch 'develop' into db-rewrite
    
    Conflicts:
            securedrop/tests/unit_tests.py

commit 6735ffa700d394b18dddadd581a50b628e039464
Merge: c59609dc cf6914bc
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Mar 6 20:29:19 2014 -0800

    Merge pull request #326 from gnusosa/develop
    
    Added MAT to store.py as a metadata purge option.

commit 43e58524bb5c6544622c9811a3f15cb3c4c715ec
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Mar 6 12:49:59 2014 -0800

    DRY out common "get sid, then source" pattern with g

commit 979b1d78b69b66937c88f37a65eb95bf33cfdc0f
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Mar 6 12:42:42 2014 -0800

    encapsulate source lookup and error handling

commit 08c58360a5c198584042d1b74a55d059f953fc10
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Mar 6 01:02:16 2014 -0800

    flag sources in the db

commit 52ab611a0e343dd42c0de00cf51aecd5d609277c
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Mar 5 23:12:33 2014 -0800

    Use declarative ORM instead of using the engine directly
    
    This makes the code easier to read, understand, and extend, and reduces the
    requisite boilerplate.
    
    Also moves the handling of the session into the request methods, which is
    recommended [0].
    
    [0] http://docs.sqlalchemy.org/en/rel_0_9/orm/session.html?highlight=scoped_session#when-do-i-construct-a-session-when-do-i-commit-it-and-when-do-i-close-it

commit 22e181cc26357c30d944d483de1e43ef5ac8a693
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Mar 5 23:10:20 2014 -0800

    replace unneccessary "bad prng" for display_id
    
    This was an artifact from the original codebase, which deterministically
    generated a journalist's codename for each source by seeding a PRNG (not
    CSPRNG) with the sid. We no longer need to do this because we associate sid's
    with the journalist interface codenames in the db.

commit cf6914bc111947ff52ae9443a24b3342c5cae974
Author: Carlos Sosa <gnusosa@gnusosa.net>
Date:   Sun Mar 2 23:54:52 2014 -0800

    Added MAT to source.py as a metadata purge option.
    
    - MAT consist of a python library that makes
    use of other metadata tools dedicated to specific
    file-formats.
    
    Always nice tidy and neat.
    
    Added checkbox for metadata purge.
    
    - Also added more validation on the
    file selection for the cleanup.
    
    Better validation on what file to write to.
    
    Added MAT to requirements.txt
    
    - Note: MAT is not available in
      PyPi, therefore, we clone it
      from the Tor repository.
    
    Added MAT to source-requirements.txt
    
    Added exiftool and poppler dependency to Debian/Ubuntu script.
    
    Added tests for binary file upload.
    
    Added test images for MAT
    
    Added MAT to source-requirements and setup_dev.sh
    
    Added intltool for MAT to travis.yml
    
    Added secure_unlink and sanitize_metadata function.

commit dee723c73ce8498bdcef0c370a2a81112c4cd7f2
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Feb 23 19:35:16 2014 -0800

    Remove Flask-Testing dependency
    
    In the unit tests, creates the self.app and self.client variables that were
    being automatically created by Flask-Testing's TestCase.
    
    Removes unnecessary (and inconsistently used) special status code asserts,
    replaces them with standard lookups on the response.

commit c59609dc2073686243f887f34bef4324d073144d
Merge: bab21063 4b52c1f9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Mar 2 20:38:45 2014 -0800

    Merge pull request #319 from freedomofpress/remove-flask-testing
    
    Remove Flask-Testing dependency

commit bab210630ded6095ba6862f332b9572a7e24e70c
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Feb 26 23:36:29 2014 -0800

    fix type of gpg key length parameter

commit 4b52c1f94cab54628a30c3a93b3b7e993a99a5d8
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Feb 23 19:35:16 2014 -0800

    Remove Flask-Testing dependency
    
    In the unit tests, creates the self.app and self.client variables that were
    being automatically created by Flask-Testing's TestCase.
    
    Removes unnecessary (and inconsistently used) special status code asserts,
    replaces them with standard lookups on the response.

commit 344a5fdbaee9765d811a1653b7a407e2d6f9d519
Merge: d81206d6 135f2f57
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Feb 23 11:21:49 2014 -0800

    Merge pull request #288 from Hainish/gnupg-security-fix
    
    Including gnupg-securedrop module, fixing security vulnerability with ol...

commit d81206d69e0971b780222f886d1d3c1a19c34c3c
Merge: 9bd6ab2d 37f8f5ed
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Feb 23 11:18:46 2014 -0800

    Merge pull request #318 from garrettr/unicode-replies
    
    Unicode replies. Fixes #311.

commit 2413b64b8734f4b20315b9e58d594e25fdf6f1ed
Merge: a5f2d3a6 aa2adcdc
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Feb 23 11:14:55 2014 -0800

    Merge pull request #310 from garrettr/logging-hotfix
    
    Logging hotfix. Fixes #261.

commit 9bd6ab2dc23876f0c35a5a0ffb42a707b4299d38
Merge: 483c4085 bd797b08
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Feb 22 16:35:12 2014 -0800

    Merge pull request #316 from garrettr/simplify-dev-setup
    
    Simplify dev setup

commit 37f8f5edbcf24be09de7791f9aba6b18eb0bab43
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Feb 22 16:01:54 2014 -0800

    add unicode reply test, remove invalid malformed reply test
    
    This test makes sure we handle Unicode replies from journalists correctly.
    I removed the Unicode encoding and test for it because encoding is handled
    transparently by Werkzeug.

commit bd867a9e944685c907ea2da6eec783d4f8d72148
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Feb 22 15:56:59 2014 -0800

    add missing logging for decoding errors
    
    refactors reply code for readability

commit ca0cde9e474dd61095fa0b8bc659370717e6e06c
Merge: 483c4085 a529e22e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Feb 21 16:49:48 2014 -0800

    Merge branch 'develop' of https://github.com/yozel/securedrop into yozel-develop

commit a5f2d3a634688b42d858685a383268c699b2b613
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Feb 21 16:23:59 2014 -0800

    Rip out (unused) mysql dependency
    
    MySQL-Python is breaking Travis builds. Since we don't use it, either in
    development or production, I'm removing it.
    
    I also edited setup_ubuntu.sh to remove mysql, but I haven't tested those
    changes (it might be broken).

commit aa2adcdc2cb75256e9f228dc192838f8415c0da6
Merge: 9db0c1bd 33710506
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Feb 21 16:18:58 2014 -0800

    Merge pull request #1 from dolanjs/os-apparmor-ossec
    
    OSSEC apparmor and install scripts fixes for logging change

commit f3c43b12b2e6033afeab0b2e8b2e452ad6554568
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Feb 21 16:15:49 2014 -0800

    fix travis.yml due to twill vs. pip
    
    adapted from 1f586ee

commit 4b41955bc2aa15f9a57b9cb5e744134158748cac
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Feb 21 16:04:26 2014 -0800

    tweak travis.yml to work on master
    
    master is still using a single config file instead of a module

commit 1655f659b5682b7455c597d0a3260b03ca0afaa1
Author: William Budington <bill@eff.org>
Date:   Sun Jan 12 00:10:33 2014 -0800

    adding a travis yaml file for ci

commit ab8d59a39b13f05edf71e5128d86eff4041e197e
Author: James <dolanjs@gmail.com>
Date:   Wed Feb 5 14:28:59 2014 -0800

    added write perm in apparmor profiles for error.log~ and access.log~

commit ef8b0057d2acfbdcd6c1cff3e9b90e957f373f5b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Feb 21 15:52:12 2014 -0800

    cherry-pick umask fixes from develop
    
    This is a slight modification of 1aaf8d58, I had to remove some changes related
    to using GPG for OSSEC email alerts (which are not hotfix).

commit bd797b08aab8fcf01f6b8bffce490db5a49295ab
Merge: 4c30357a 483c4085
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Feb 21 08:38:01 2014 -0800

    Merge branch 'develop' into simplify-dev-setup
    
    Conflicts:
            setup_dev.sh

commit 33710506d22994b708ebe76b88475df0e4e6c44a
Author: dolanjs <dolanjs@gmail.com>
Date:   Fri Feb 21 01:25:45 2014 -0800

    added securerop.log for both interfaces to ossec config
    added w permissions for securedrop.log in apparmor profile
    added logging config to source and document config.py used in production install

commit 483c4085e49c4b9a72bada4bb109def77cad9152
Merge: ec7ecf71 d481b208
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Feb 21 00:03:00 2014 -0800

    Merge pull request #312 from dolanjs/utf-8-encode-global
    
    added defaultcharset to apache global config

commit ec7ecf71d775cce8a704195774a49bf58996d502
Merge: 261598df ff3caef9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Feb 21 00:01:49 2014 -0800

    Merge pull request #305 from pamo/develop
    
    Updated vagrant success instructions to match HACKING.md

commit 261598dfdb60b3c82cf5ef2406e27de60345e0c1
Merge: e0f10c7e 0add4db9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Feb 20 22:44:50 2014 -0800

    Merge pull request #314 from jacksingleton/add-polling-to-functional-tests
    
    Add polling to functional tests

commit 4c30357aa0d383e479e92ff1694edb2d69c7ecf2
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Feb 20 21:24:10 2014 -0800

    don't use virtualenv for dev setup
    
    virtualenv doesn't mix well with Vagrant. By storing the virtualenv inside the
    shared folder, we were unintentionally "caching" the Python dependencies
    between cycles of vagrant destroy/up. This was accidentally good for
    performance, but is counter to the reproducible philosophy of Vagrant and
    sometimes lead to confusing problems.
    
    This also simplifies the development cycle because you no longer need to
    remember to activate the virtual environment.
    
    Now, setup_dev.sh installs the Python dependencies globally with `sudo pip
    install`.

commit 23db58af31d320bbdaeeba5608a6ad83229b9df9
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Feb 20 20:16:15 2014 -0800

    language tweaks, deprecate "the hard way" for devs

commit ed4f7a6fe184c88a227bd60d250ff62cad5a3f86
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Feb 20 20:15:03 2014 -0800

    fix wget progress bar in non-tty (Vagrant)
    
    add comment to explain why we're not using PhantomJS from the repos.

commit c74968d3c80efede69663a708edf7aa0e48ca6d9
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Feb 20 19:33:56 2014 -0800

    remove (unused) mysql dependency from dev setup

commit b1012d20d30cf73f85f1a4e7821d75db1259c9d1
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Feb 20 19:19:41 2014 -0800

    rename setup script for devs

commit 0add4db9ab7a26d6b613e3bb6ef2def8be219bcc
Merge: 1bc49d80 e0f10c7e
Author: Jack Singleton <git@jacksingleton.com>
Date:   Thu Feb 20 22:33:08 2014 -0800

    Merge branch 'develop' into add-polling-to-functional-tests

commit e0f10c7eb9db6bcb1e624ecd1859dca834529a51
Merge: 28d584e5 1f586ee9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Feb 20 22:30:44 2014 -0800

    Merge pull request #315 from jacksingleton/quickfix-for-twill-problems
    
    Quick fix for travis twill problems

commit 1f586ee90d83fa252f50d86474fd30895949328b
Author: Jack Singleton <git@jacksingleton.com>
Date:   Thu Feb 20 22:20:58 2014 -0800

    added --allow-external twill --allow-unverified twill to travis test-requirements pip install... will go away when we get rid of twill dep

commit 1bc49d80a952608160ee4da129994948e0083c45
Author: Jack Singleton <git@jacksingleton.com>
Date:   Thu Feb 20 21:50:41 2014 -0800

    cleaned up loop

commit 612f5663239d30a9c192d46466c57fe9f021fb60
Author: Jack Singleton <git@jacksingleton.com>
Date:   Thu Feb 20 21:42:38 2014 -0800

    added 10 second timeout to _wait_until_up

commit a7e5ef9d851889ead27851b6a2b2da07f2f88299
Author: Jack Singleton <git@jacksingleton.com>
Date:   Thu Feb 20 21:21:05 2014 -0800

    added polling to functional test to wait for servers to start

commit a529e22e6fa58a013b6262301254c5afe9ef0aeb
Author: yozel <iletisim@yasinozel.com.tr>
Date:   Fri Feb 21 03:22:40 2014 +0200

    charset problem when reply is solved

commit d481b208d0a1abc622d78f2a582f2e1ff67388be
Author: dolanjs <dolanjs@gmail.com>
Date:   Thu Feb 20 16:22:31 2014 -0800

    added defaultcharset to apache global config

commit 9db0c1bda9e7e9273539e15560d9babc2d990931
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Feb 20 02:19:43 2014 -0800

    remove unused store.py logger

commit ffa8b41265f7ad78efd6d8a0d3db2dc25f5b68c6
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Feb 20 02:19:29 2014 -0800

    add config helper to register handlers for a logger

commit c1ba355ebf069a1243f78d0bee3970bfff30374b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Feb 20 02:15:48 2014 -0800

    handle debug flag consistently
    
    use the environment variable for everything.
    
    gets rid of nagging message to make sure DEBUG isn't enabled in production (was
    never a concern anyway due to details of mod_wsgi).

commit 28d584e5ba1f5183bfeb7569224b3d1baf3619db
Author: William Budington <bill@eff.org>
Date:   Tue Feb 18 20:13:10 2014 -0800

    Updating MySQL-python dependency

commit 63fb6e98513f28d9dd03703e01e8a8f876a105a9
Author: William Budington <bill@eff.org>
Date:   Tue Feb 18 20:00:34 2014 -0800

    Removing twill from dependencies (causing travis to error out, not using it)

commit 135f2f57000f23a10f64bd0188761ba682e70737
Author: William Budington <bill@eff.org>
Date:   Tue Feb 18 19:47:22 2014 -0800

    Update requirements for fixes of gnupg-securedrop

commit ff3caef9a15293a05f45471c2a6e251583e69f99
Author: Pamela Ocampo <pamela.ocampo@gmail.com>
Date:   Tue Feb 18 18:58:26 2014 -0800

    Updated vagrant success instructions to match HACKING.md

commit 25ba321ca8738fadb6ccc1412bafe5b4ac85878e
Merge: 56e710e0 5dfb20dd
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Feb 11 23:05:21 2014 -0800

    Merge pull request #290 from jacksingleton/auto-dl-phantomjs
    
    Added phantomjs binary download to setup_ubuntu.sh

commit 56e710e0f68900c1b0ae7c778bce8e046f753476
Merge: f3725953 c1163624
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Feb 11 18:48:13 2014 -0800

    Merge pull request #300 from dolanjs/permission-fixes
    
    fixed permssions

commit c1163624d47f8fdc3a14c7cfc1f6d4c8932e6b7f
Author: James <dolanjs@gmail.com>
Date:   Wed Feb 5 14:28:59 2014 -0800

    added write perm in apparmor profiles for error.log~ and access.log~

commit 1aaf8d58aad11095a7dd1ce4e3e12d0d1fc630d8
Author: James <dolanjs@gmail.com>
Date:   Wed Feb 5 10:15:08 2014 -0800

    added umask settings
    removed older chmod that aren't needed
    fixed document apache log format for combined log
    changed ossec global config to use localhost as smtp relay so that it will work with procmail

commit 5dfb20dd28e7de022110d281a0799d8b0457e9ba
Author: Jack Singleton <git@jacksingleton.com>
Date:   Wed Jan 29 12:42:39 2014 -0800

    removed PHANTOMJS_BINARY_PATH from config/test.py.example

commit 39f6165bfcf6e7fab9bd5c5ae8223084331bb44a
Author: Jack Singleton <git@jacksingleton.com>
Date:   Wed Jan 29 12:41:04 2014 -0800

    updated vagrant warning in test.sh

commit 07600c3b976fb6190d837ec439d40e5970dd521f
Author: Jack Singleton <git@jacksingleton.com>
Date:   Wed Jan 29 12:35:31 2014 -0800

    Modified functional tests to use phantomjs binary on path, and changed setup_ubuntu.sh to install phantomjs in /usr/local/bin

commit f3725953ca45d2cf82d555bcb39964a41bab12d9
Merge: 916df137 2e6d8509
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Jan 28 16:24:11 2014 -0800

    Merge pull request #292 from ageis/patch-1
    
    Fix path of CONFIG_OPTIONS

commit 916df1379f41afc4c46fcb04ee82c7a1f0cb70fb
Merge: da9b21ab e53b65ad
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Jan 28 16:15:48 2014 -0800

    Merge pull request #296 from ageis/develop
    
    Make the Internal Server Error - 500 page prettier

commit da9b21abc76490c31b1ce3d657bd087de416eceb
Merge: 06235ae1 77a26892
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Jan 28 16:10:00 2014 -0800

    Merge pull request #291 from diracdeltas/fix/xss-typo
    
    Fix typo in x-xss-protection header

commit 6586e07e14d1b7b35946e187e3d3733c459bfb6e
Author: Yan <yan@mit.edu>
Date:   Mon Jan 27 18:02:48 2014 -0500

    Fix typo in x-xss-protection header

commit e53b65adcb2742fad436d7a78a5e37d89da9a0e5
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Tue Jan 28 17:50:28 2014 -0500

    Make the Internal Server Error - 500 page prettier

commit 06235ae148d53a600d9513c15c434b364160a28f
Merge: 56fe6c8a fb6b879d
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Tue Jan 28 11:56:10 2014 -0800

    Merge branch 'develop' of https://github.com/trevortimm/securedrop into trevortimm-develop
    
    Conflicts:
            docs/user_manual.md
    
    Also removes trailing whitespace.

commit fb6b879d1bdac1d390bf9fc195b160e1b6f407c7
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Tue Jan 28 10:50:25 2014 -0800

    Update user_manual.md WaPo
    
    fixed one more typo

commit 109f1ef071661b75c78d813c6d991e41f777492b
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Tue Jan 28 10:46:22 2014 -0800

    Update user_manual.md WaPo
    
    Just spent two hours running through the process with WaPo journalists and there were several updates I needed to make to the documentation, as the current version did not make any sense. Apologies if I fucked up the Github process. I promise to learn the right way next week!

commit 2e6d8509ced0beb5e4c22a5873b827b199b1a12f
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Tue Jan 28 01:38:42 2014 -0500

    Fix path of CONFIG_OPTIONS

commit 77a26892836a5afd7a021eb0226f2ce30fc9e4e3
Author: Yan <yan@mit.edu>
Date:   Mon Jan 27 18:02:48 2014 -0500

    Fix typo in x-xss-protection header

commit 7760578c3afb1c404a09fe606a5da9d91294e348
Merge: f0b775a3 56fe6c8a
Author: Jack Singleton <git@jacksingleton.com>
Date:   Mon Jan 27 09:21:09 2014 -0800

    Merge remote-tracking branch 'origin/develop' into auto-dl-phantomjs

commit 56fe6c8a4bbba3abdb5480d328ce43d6e037c1e2
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Mon Jan 27 01:18:41 2014 -0500

    Improved documenation in various places since journalists are now strongly recommended to connect to the document interface through Tails.

commit f0b775a34bfc1eafbb438799ae8bf08bf3d2fef5
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jan 26 19:38:34 2014 -0800

    updated HACKING.md and moved default phantomjs location to setup_ubuntu.sh

commit 0b5c63a7babfaac30926a9ba7b581a2f75ffe4fa
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jan 26 19:25:58 2014 -0800

    fixed phantomjs sed in .travis.yml

commit 7b6bc15fb16fe4c12dbe9c36237f77a37bf11107
Author: William Budington <bill@eff.org>
Date:   Sun Jan 26 22:25:47 2014 -0500

    Including gnupg-securedrop module, fixing security vulnerability with old python-gnupg module while preserving the methods that securedrop needs

commit 678bd22a71128626fc93a63361ce35514a13da66
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jan 26 19:20:46 2014 -0800

    modified .travis.yml to set the PHANTOMJS_BINARY_PATH to 'phantomjs', to use the version on PATH

commit 354da0d0d28bcb030c91cbeb3edfb5e2d2defc26
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jan 26 16:46:54 2014 -0800

    Added test instructions to HACKING.md

commit 6504f5e3f6b0b00897243f53c0ea82873019209e
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jan 26 16:44:09 2014 -0800

    Added code to download phantomjs in setup_ubuntu.sh. Modified functional tests to use downloaded binary. Added hint in test.sh to run tests from vagrant

commit ee9fbca0eee5e5f1719c1560498df8d7078f1960
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sun Jan 26 14:07:47 2014 -0800

    Update README.md
    
    added another Garrett suggestion

commit 687977b2e492e05e0a1e343707192b3d4848bb9a
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sun Jan 26 14:04:59 2014 -0800

    Update user_manual.md again
    
    Altered it per Garrett's suggestions

commit bd42349fdd7884cb2da034e3827af5a02683bddd
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sun Jan 26 14:01:19 2014 -0800

    update install.md again
    
    fixed a few typos caught by Garrett

commit 9f3cfadb21765ad89fe7aa0e1ff5fd0e1bc2fac3
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sun Jan 26 13:57:17 2014 -0800

    Update README.md
    
    fixed key -> keypair

commit 5720314877577bc1af219afc2be6b384dc401f19
Merge: db10801a 1048761f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jan 26 13:51:39 2014 -0800

    Merge pull request #286 from LordLandon/develop
    
    some fixes to setup_ubuntu

commit 1048761ffb17eb91d0f9f326b6491ba218737dc7
Author: Lord Landon "Warbles" Agahnim <lordlandon@gmail.com>
Date:   Sun Jan 26 12:52:52 2014 -0800

    test.py is now test.sh

commit 11fafa8c9199ec5da31839176601ea4c93315d34
Author: Lord Landon "Warbles" Agahnim <lordlandon@gmail.com>
Date:   Sun Jan 26 12:52:19 2014 -0800

    Fixing wrong bash syntax. Oops.

commit 70e33f6c23ff84a22fea6bb79cab8bd9780ac364
Author: Lord Landon "Warbles" Agahnim <lordlandon@gmail.com>
Date:   Sun Jan 26 12:50:32 2014 -0800

    Added .vagrant to gitignore

commit 160c66f722279e1936620379178a1319444d8c32
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sun Jan 26 12:09:05 2014 -0800

    Update README.md
    
    Fixed typo

commit 42db9cf30609b6e693418e402bfc9b34804e31fc
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sun Jan 26 11:56:59 2014 -0800

    Update user_manual.md
    
    This how now been updated to include instructions for a journalists accessing the document interface via Tails, which we are now strongly recommending. It requires several small, additional steps.

commit e82ff1d1bfff17ed6aef93c320aa06ffbc8af051
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sun Jan 26 11:45:59 2014 -0800

    Major update to install.md
    
    We have decided to recommend the journalist log-in to the document interface using Tails. This means changing the Torrc file gets a lot more complicated because Tails securely wipes every time. So we made directions to create a file that journalists can save in their persistence and double click to give themselves access every time they log-in to Tails.

commit 504300132cdd260bdb46541a4b1db7de9389b707
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sun Jan 26 08:06:21 2014 -0800

    Update README.md
    
    Updated to explain we recommend Tails for logging into the application server and put in the correct number of passwords the journalist will have to store/remember.

commit d9bd3955e6d2d977bdb2cc137d285b2921013db9
Merge: 4c7fd8de db10801a
Author: Trevor Timm <trevor@pressfreedomfoundation.org>
Date:   Sun Jan 26 07:46:19 2014 -0800

    Merge remote-tracking branch 'upstream/develop' into develop

commit db10801a3a0066efc2f6cc7f9e0f6398ccbd05ce
Merge: 67929a2e 4daa9b41
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jan 26 02:21:27 2014 -0800

    Merge pull request #264 from dolanjs/ntp-iptables-rule
    
    * closes #264
    * hotfix

commit 5633a5f9b4d0224c3910490590281d70747117d0
Merge: 9b30decf 4daa9b41
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jan 26 02:19:33 2014 -0800

    Merge pull request #264 from dolanjs/ntp-iptables-rule
    
    * closes #264
    * hotfix

commit 4daa9b41a8d0c45798d0595dce54f4e5e8a41ff7
Merge: 9b30decf 87115a2b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jan 26 02:16:35 2014 -0800

    Merge branch 'ntp-iptables-rule' of https://github.com/dolanjs/securedrop into dolanjs-ntp-iptables-rule

commit 67929a2ef80d30d615f6880a04d5ac11eaaaca5c
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jan 26 02:06:07 2014 -0800

    forgot quotes

commit 4cca4e0c4cbf7d9254816134c449efe5939340f8
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jan 26 01:42:21 2014 -0800

    fix busted random generation in travis manifest

commit 6144a496d007d1b73ecf66542167004ceb601224
Merge: 824dbad3 0113c72f
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Jan 25 19:16:42 2014 -0800

    Merge pull request #279 from rosatolen/vagrant
    
    Conflicts:
            .gitignore
    
    closes #279

commit 824dbad35546a1d113987c9da10222da7e5be5ea
Merge: 57fa2c34 dec5a225
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Jan 25 19:13:31 2014 -0800

    Merge pull request #270 from jacksingleton/functional-tests
    
    Functional tests

commit 57fa2c34ddc21683131760566c81aa16cca89b9e
Merge: 9250cb39 485cfe92
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Jan 25 18:42:04 2014 -0800

    Merge pull request #266 from dolanjs/dolanjs-ATHS-user-validation-fix
    
    * closes #266
    * hotfix

commit 9b30decf0260835e64036e96e519dd57eb35ba86
Merge: 645ab32b 485cfe92
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Jan 25 18:38:14 2014 -0800

    Merge pull request #266 from dolanjs/dolanjs-ATHS-user-validation-fix
    
    * closes #266
    * hotfix

commit 0113c72f751538f6901b8bcfe2ee29a4261ea0f8
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sat Jan 25 18:38:03 2014 -0800

    Added usage and unaided install flag for vagrant.

commit dec5a22577b951a816b32a991a7f90166d4d68e8
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Jan 25 18:36:46 2014 -0800

    Revert "reverted travis.yml to just run unit tests"
    
    This reverts commit 06e81b58e1b3c73ee9b61b3aeda6a8f5737baf07.

commit 06e81b58e1b3c73ee9b61b3aeda6a8f5737baf07
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Jan 25 18:35:29 2014 -0800

    reverted travis.yml to just run unit tests

commit 47a74b7841be7b174d8e34a1c98a883666a200a0
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Jan 25 18:27:35 2014 -0800

    made tests verbose

commit b2870ad04789039ad80fdc93791be20c8c065143
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Jan 25 18:20:57 2014 -0800

    added comment for webdriver send_keys function

commit b59dae81d061181f15350ab288ae0cb91cfb4592
Merge: 00df1d6a 9250cb39
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Jan 25 18:19:02 2014 -0800

    Merge branch 'develop' into functional-tests
    
    Conflicts:
            setup_ubuntu.sh

commit 00df1d6afac4a26f1026f63be0e156b4e9da251a
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Jan 25 18:15:33 2014 -0800

    updated travis to run new test.sh script

commit 2949d25c5bfad212b82c685d8fbd8baf546d5a01
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sat Jan 25 18:13:39 2014 -0800

    added virtualenv into document-requirements dependencies.

commit 94925e3052ee16e5e818876fe07620fd3c619e83
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Jan 25 18:11:19 2014 -0800

    moved all tests into a 'tests' folder, tests should now be ran using 'test.sh'

commit a4f24ffcf44e69968e57596f39797d525e012329
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sat Jan 25 17:30:46 2014 -0800

    changing config to match parameterized securedrop root location

commit 6ee4d3cf77866cee247fd9b7b9b19826b5c0f33c
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sat Jan 25 17:27:37 2014 -0800

    fixed random generation for passwords etc. to fix sed escaping issue

commit 1e23e57ed1a0d3955a73c1c1e3fc12d5e03d75ce
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sat Jan 25 15:00:13 2014 -0800

    adding vagrant instructions to the HACKING.md file

commit 7f316452bddbcece7b1af4d804506e7fc696b846
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sat Jan 25 14:03:22 2014 -0800

    Added Vagrantfile for running SD in a VM.

commit a67bfd75641f081893ba1bc616b2de84b312ee27
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sat Jan 25 13:22:21 2014 -0800

    do apt-get update before installing dependencies

commit aa9d38cf135023305b844f4a61a92eab2a32baee
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sat Jan 25 13:19:40 2014 -0800

    only use color when using tty

commit 11331b95781aeab01a5e02ec52ffed6ff767371f
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sat Jan 25 13:18:00 2014 -0800

    don't need to clone the repo script is contained in

commit e1ab9af8cad7c0cb232dd0089a618da68c617f3f
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sat Jan 25 13:12:38 2014 -0800

    Binding flask server to 0.0.0.0

commit 9250cb3923782179daec63908a96580666496017
Merge: 7000fa88 345f16b8
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Jan 25 16:30:57 2014 -0800

    Merge pull request #276 from ageis/develop
    
    Recommend encrypted LVM

commit 7000fa88e7b71026777e1c61304372b53698b5f1
Merge: 65293d78 7f27903b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Jan 25 16:24:52 2014 -0800

    Merge pull request #272 from kyleolivo/master
    
    Conflicts:
            securedrop/HACKING.md
    
    Manually merged into develop instead of master (submitter chose wrong target
    when submitting the pull request).
    
    * wrapped lines > 80 chars.
    * removed recommendation to create dirs in `SECUREDROP_ROOT` manually, this is
    now handled automatically in `config/base.py`

commit 345f16b8aa9d6958563842a5ea84f5c4a8e8f93c
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Sat Jan 25 19:16:21 2014 -0500

    Add warning about unattended-upgrades

commit 7f27903b0e6f9ce7114fb45d2531f5a6cab040d8
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Jan 25 16:15:03 2014 -0800

    wrap long lines

commit 65293d787c02a2b913041040dcdffc6ce94f7674
Merge: 99a915dd 81bb5c70
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Jan 25 16:02:46 2014 -0800

    Merge pull request #271 from ternus/ternus-setup-script
    
    Improve setup_ubuntu.sh

commit 279c4cd1ed0886bad7f2ef11d9581fd9963ce21a
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Jan 25 14:55:32 2014 -0800

    functional tests now run against the test environment

commit 7be802b46e507648993a46ec42b2e165daefac5d
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Jan 25 14:07:57 2014 -0800

    added phantomjs install to the setup_ubuntu.sh script, HACKING.md, and .travis.yml

commit 12a08af19506fdf1f6a5d07bb5532bf53902bae6
Merge: 379516b2 7b834c7d
Author: Jack Singleton <github@jacksingleton.com>
Date:   Sat Jan 25 13:16:11 2014 -0800

    Merge pull request #1 from Hainish/jacksingleton-functional-tests
    
    Jacksingleton functional tests

commit aefa651e6d138d1ed6672c7b16281fbb7f3ed61a
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Sat Jan 25 16:03:39 2014 -0500

    Recommend encrypted LVM

commit 7b834c7df3ae11e8836f176b350ed55eea443308
Author: William Budington <bill@eff.org>
Date:   Sat Jan 25 13:00:41 2014 -0800

    Adding test-requirement.txt to travis

commit ed8e52649623e0e1145ad9b6c7a685ec7ca225ed
Merge: 99a915dd 379516b2
Author: William Budington <bill@eff.org>
Date:   Sat Jan 25 12:42:05 2014 -0800

    Merge branch 'functional-tests' of https://github.com/jacksingleton/securedrop into jacksingleton-functional-tests

commit 99a915dd27c8f773166ed820fe417b713d639dc9
Author: Pablo Castellano <pablo@anche.no>
Date:   Sat Jan 25 20:53:48 2014 +0100

    Some improvements in documentation and fix image links

commit 4c7fd8decbba42a14e137abaa0f2f4a30040f541
Merge: 9872aceb 6f5c09d9
Author: Trevor Timm <trevor@pressfreedomfoundation.org>
Date:   Sat Jan 25 11:51:20 2014 -0800

    Merge remote-tracking branch 'upstream/develop' into develop

commit 9872aceb8b42f52089b102d1b7114e5a9cff2c0d
Merge: 6dae0a96 645ab32b
Author: Trevor Timm <trevor@pressfreedomfoundation.org>
Date:   Sat Jan 25 11:49:41 2014 -0800

    Merge remote-tracking branch 'upstream/master'
    
    Conflicts:
            README.md
            docs/user_manual.md

commit 64c7e1a5c323f7feaf2b3102321199e4cfb2bec5
Author: Kyle Olivo <kyleolivo@gmail.com>
Date:   Sat Jan 25 11:30:13 2014 -0800

    Modified installation instructions for securedrop development.
    
    Installation instructions were out of order and the wording was slightly confusing. Attempted to make the instructions sequential and more understandable. Notably, inlcuded instructions about creating the GPG key before the copying and modification of the config file.

commit 379516b266805f6e6c85b84240d19369de732223
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Jan 25 11:10:22 2014 -0800

    removed config files, oops

commit 81bb5c70f4b751b8eeeb7aa7f113c01551133b7c
Author: Christian Ternus <ternus@cternus.net>
Date:   Sat Jan 25 14:06:33 2014 -0500

    Set mysql password directly. Makes it possible to run setup_ubuntu.sh multiple times.

commit ac7764eaffd08f2030cd3d73441603ab9e949774
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Jan 25 11:05:55 2014 -0800

    added use_reloader=False to app.run calls to prevent the functional tests running themselves two extra times

commit fd7779d06aedcced6a7d7595272a9c525af60948
Author: Christian Ternus <ternus@cternus.net>
Date:   Sat Jan 25 14:05:35 2014 -0500

    Pull dependencies from install_files in setup_ubuntu.sh.

commit d57efd1f82f82143850b8e6611efc41655ab182d
Author: Christian Ternus <ternus@cternus.net>
Date:   Sat Jan 25 13:50:35 2014 -0500

    Update deb-package requirements to include libssl-dev and libffi-dev.
    
    libssl-dev is required for compiling the scrypt python module.
    libffi-dev is required for cffi, which is a requirement for bcrypt.

commit 6f5c09d9d138b8d52b8fa5067d27c3e5abf06485
Author: William Budington <bill@eff.org>
Date:   Sat Jan 25 10:28:02 2014 -0800

    Fixing issue with images not displaying on chrome when logged in

commit 87115a2b77d24ba53031ae6276cf4bf1b0c6fc7f
Author: James <dolanjs@gmail.com>
Date:   Sat Jan 25 10:02:43 2014 -0800

    added localhost to localhost udp iptables rules for monitor server

commit bf6aaebd9165927486e957457087831a5d8f5183
Author: Jack Singleton <git@jacksingleton.com>
Date:   Tue Jan 21 17:43:16 2014 -0800

    config

commit 0c52ce68e3fd7b65894c90efad6676072fac24fc
Merge: 6c99641e 3caaa8c4
Author: Jack Singleton <git@jacksingleton.com>
Date:   Mon Jan 20 15:58:37 2014 -0800

    Merge remote-tracking branch 'origin/develop' into functional-tests

commit 6c99641eb65df3fc65e412ee6343ee30f975935d
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jan 19 17:56:36 2014 -0800

    added test-requirements.txt to HACKING and setup_ubuntu. removed redundant test dependencies from source and document requirements

commit 4f101643fc423f093047bb6ca6215d2d36976171
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jan 19 17:07:15 2014 -0800

    added basic functional tests, refactored some common test logic into test_setup.py

commit 485cfe92be0a5c37fcb9f6ebdc71d227fdf3e443
Author: James <dolanjs@gmail.com>
Date:   Fri Jan 17 10:21:22 2014 -0800

    removes validation for authenticated tor hidden service users

commit 3caaa8c42cf08791017c42dce2cb18f4afbfb627
Author: William Budington <bill@eff.org>
Date:   Wed Jan 15 17:57:01 2014 -0800

    Removing specific reference to branch displays badge for whichever branch you're currently viewing

commit da611d82feebe11d1b262abf33262045a7168bfc
Merge: e2164af3 0cc9307f
Author: Bill Budington <bill@eff.org>
Date:   Wed Jan 15 17:54:55 2014 -0800

    Merge pull request #263 from moredip/add-travis-badge
    
    Add travis badge to README

commit 0cc9307f4113abcee4213be7528267702987fa47
Author: Pete Hodgson <github@thepete.net>
Date:   Wed Jan 15 15:34:49 2014 -0800

    Add travis build status badge to README

commit 549738cac675e63030a0d32c688a1f6794028615
Author: James <dolanjs@gmail.com>
Date:   Wed Jan 15 17:06:55 2014 -0800

    added iptables rule for ntp

commit e2164af3286c6e5c3a4dad20c9bc890f0a4278fe
Author: William Budington <bill@eff.org>
Date:   Sun Jan 12 12:57:29 2014 -0800

    Updating setup_ubuntu.sh to replace scrypt peppers in config files.  Removing replacement of old bcrypt salts.

commit 03f6915fd313fc219c6a50037256764a525f7406
Author: William Budington <bill@eff.org>
Date:   Sun Jan 12 12:49:43 2014 -0800

    Adding `mkdir` command back to HACKING.md

commit 51b0409b82c46904279f7b6691af7ed9f6c5cca4
Author: William Budington <bill@eff.org>
Date:   Sun Jan 12 00:10:33 2014 -0800

    adding a travis yaml file for ci

commit 6195cc130a288f4aa448bbcd505d80193a1d0cf5
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Jan 11 21:53:49 2014 -0800

    fix merge failures - all tests pass

commit b926227f78960b1e85a6f491af972e7d80b8568c
Merge: eae69403 645ab32b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Jan 11 21:41:57 2014 -0800

    Merge branch 'master' into develop
    
    Conflicts:
            securedrop/example_config.py
            securedrop/source_templates/howto-disable-js.html
            securedrop/source_templates/tor2web-warning.html
            securedrop/source_templates/why-journalist-key.html
            securedrop/test.py

commit 645ab32b4b96828137a270d36d3b19de032af32b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Jan 9 21:12:41 2014 -0800

    version bump to 0.2.1

commit 93c772147e4de09381bbf18b22775b514dcd152a
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Jan 9 21:10:37 2014 -0800

    fix unit test
    
    broken by form id change from my update to the "delete collections"
    confirmations. the form id change was done to better fit the rest of the style
    in journalist.js.

commit e6a982e8ec77d1bcbb65af768df38e19341207ad
Merge: 8ec0980b 1d587202
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Jan 9 21:09:00 2014 -0800

    Merge pull request #248 from dolanjs/scrypt_install_changes
    
    install script update for scrypt

commit 8ec0980b6d2b94588e2f42618ee4a0d2e86ba3ef
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Jan 9 21:04:43 2014 -0800

    replace inline event handlers
    
    they won't work with the CSP that we set by default in production (and are not
    best practice)
    
    more informative confirmation messages
    
    ignores nonsensical request to delete multiple collections if no collections
    are selected

commit 1a5de4a19541961b1b22ecbe381941e6152e5d54
Merge: 561c610c f4aa0ef3
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Jan 9 20:18:35 2014 -0800

    Merge branch 'feature/confirm-delete' of https://github.com/diracdeltas/securedrop into diracdeltas-feature/confirm-delete

commit 561c610c9a451c1f0fd20f39a3eacddf08173e71
Merge: 37e0e3c4 06912a2d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Jan 9 19:07:04 2014 -0800

    Merge pull request #246 from diracdeltas/feature/external-links
    
    Use meta-refresh to clear referer, add external links back

commit 1d5872029ef618b0d2f52c8f92078e71987fd8d4
Author: dolanjs <dolanjs@gmail.com>
Date:   Thu Jan 9 10:09:00 2014 -0800

    updated install script for scrypt
    apparmor update for scrypt

commit f4aa0ef3c9040b6aadfdb2d4a02dc5de0c9d071c
Author: Yan <yan@mit.edu>
Date:   Thu Jan 9 02:29:12 2014 -0800

    Confirm before bulk deletes too

commit 20f4c43054458815e2a73b236a0179747eaa3066
Author: Yan <yan@mit.edu>
Date:   Thu Jan 9 02:24:23 2014 -0800

    Confirm before deleting collection

commit 06912a2dcef639a0329e1151bbf083c6acb1ec62
Author: Yan <yan@mit.edu>
Date:   Thu Jan 9 02:01:29 2014 -0800

    Avoid namespace pollution, add comments

commit d1166330d7c94a5c1b5b32b628e1fb201443e054
Author: Yan <yan@mit.edu>
Date:   Thu Jan 9 01:51:51 2014 -0800

    Use custom redirector for external links

commit 0d6339c8a41af53bd21f8a7bf3e7e1114b53e2e4
Author: Yan <yan@mit.edu>
Date:   Thu Jan 9 01:35:45 2014 -0800

    Add custom redirector to clear referers
    
    We removed external links in #206 because Tor Hidden Services leak
    referers (https://trac.torproject.org/projects/tor/ticket/9623).
    Obviously this isn't ideal because of the usability tradeoff.
    
    One way to get around this without using Javascript is to replace all
    external links with a link to a blank SecureDrop page that does a meta
    refresh to the external link, since meta refreshes always clear referer.

commit b5bbe3050034465e88d399602abed5151f94cb2c
Author: Yan <yan@mit.edu>
Date:   Thu Jan 9 01:30:02 2014 -0800

    More external links

commit 34b8205308d0b7795dcd5d24c642e10e2060aa42
Author: Yan <yan@mit.edu>
Date:   Thu Jan 9 01:22:46 2014 -0800

    Revert "remove direct links to external sites from source templates, fixes #195"
    
    This reverts commit 44a04a22a32cd5df84476dd6afdc7aa74464f730.
    
    Conflicts:
    
            securedrop/source_templates/howto-disable-js.html

commit 37e0e3c4fe62b00afcfb5c4292a6d4cd42443e9c
Merge: b3dc92cf d8901f77
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Jan 8 15:18:57 2014 -0800

    Merge pull request #245 from garrettr/scrypt
    
    Scrypt

commit d8901f776b36e135ed15276b8fb20a951050e121
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Wed Jan 8 15:04:20 2014 -0800

    rename salt to pepper to clarify usage

commit 37f7ba59ef4eeb2eae2eb1179c73438d29680c9f
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Jan 5 19:28:35 2014 -0800

    remove bcrypt from, add scrypt to, pip requirements

commit b3dc92cf26b971ddd572bc64f00da7eddcba8dd2
Merge: 40a4bb01 a3a565cf
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jan 5 19:25:07 2014 -0800

    Merge pull request #243 from yozel/patch-1
    
    Fix wrong character in name of a variable

commit 40a4bb0194178797ba67a6bf53feaf33fb9514b2
Merge: 2a1067bb 1233b3ca
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jan 5 19:24:15 2014 -0800

    Merge pull request #244 from dolanjs/apparmor-delete-codename-fix
    
    updated apparmor profile for deleting the codename

commit 2a1067bb2a6705cca3009d8cc89b8fa90015577b
Merge: 41177090 05e92b32
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jan 5 19:23:56 2014 -0800

    Merge pull request #242 from yozel/master
    
    Fix SMTP validation error on App Server

commit 2f2f9014a7e11323e73dc0df4a8b78bc465eaa8d
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Jan 5 18:17:12 2014 -0800

    optimize scrypt cost parameters for tests

commit 8484eca00a32872c1305044933525b2ac14702aa
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Jan 5 18:01:30 2014 -0800

    reorganize module imports

commit 93be325ad879d493ebf2de40276b05c55e8c760c
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Jan 5 17:58:43 2014 -0800

    replace bcrypt with scrypt
    
    also rearranges some code in crypto_util.py for better readability (all code
    that executes at module level comes first), and removes some unused code.

commit eae69403f396420ef44957a64a413bc17c3b41dd
Author: William Budington <bill@eff.org>
Date:   Sun Jan 5 02:24:03 2014 -0500

    path for environment in config should be relative to the running instance, not to the imported module path

commit 1233b3caaa5d0711592df3c386abd05169721120
Author: dolanjs <dolanjs@gmail.com>
Date:   Fri Dec 27 15:40:42 2013 -0800

    updated apparmor profile for deleting the codename pull #230

commit 41177090718547f6aad35111cf8c4b03aef6cff3
Merge: 0b905aa8 e8e00d55
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 27 14:36:13 2013 -0800

    Merge pull request #230 from garrettr/feature/189/delete-codenames
    
    Feature/189/delete codenames

commit e8e00d55ef156e0138e6350b97decd86bfb4d7f4
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Dec 27 16:29:38 2013 -0500

    clarify delete collection warning

commit 9b03007413395b560d33a5bf5fa15e3b2748d4e5
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Mon Dec 23 09:43:01 2013 -0800

    add delete collection checkboxes to index

commit 5625bfad78b0995817b9851160e537b3764f6f28
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Dec 22 12:35:01 2013 -0800

    move delete buttons to collection pages

commit 00632b4c0c897b3bcdadb1a20539750cd7fa6c35
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Dec 17 19:15:53 2013 -0800

    unit test deleting a collection

commit 5aa5e02476f6e17a12648814e09290da77524242
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Mon Dec 16 00:31:55 2013 -0800

    add delete buttons to main collection list

commit 0b905aa89dbcb11df7e2de08beb503c76865ec7f
Merge: 46e079d1 59ba7aab
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 27 14:30:52 2013 -0800

    Merge pull request #239 from garrettr/feature/191/logging
    
    add logging using the standard library module

commit 46e079d1f327007c6a759658d252862c15b8a3e3
Merge: a1dafbab 955a31ee
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 27 14:30:30 2013 -0800

    Merge pull request #240 from garrettr/feature/190/why-disable-js
    
    add explanation for disabling javascript. closes #190

commit a1dafbabab9557b81432e600ec37a1232a9cb417
Merge: d14aec17 83cd416d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 27 12:42:48 2013 -0800

    Merge pull request #226 from ageis/patch-4
    
    Reference to server_setup.sh, step numbers is outdated

commit a3a565cf9b5f64eb053af81345ee004f5a86e173
Author: yozel <iletisim@yasinozel.com.tr>
Date:   Thu Dec 26 01:57:28 2013 +0200

    Fix wrong character in name of a variable

commit 05e92b32afe075ae433b415622dc23a23218d493
Author: Yasin Ozel <iletisim@yasinozel.com.tr>
Date:   Thu Dec 26 01:37:29 2013 +0200

    Fix SMTP validation error on App Server

commit d14aec1719c4ce11331c01a8cc4742c9f0dbc886
Merge: 9250c590 8cfdcd4f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Dec 24 16:23:27 2013 -0800

    Merge pull request #241 from dolanjs/fix-quotes
    
    fix quotes in apache config

commit 8cfdcd4f75eec8e8719ccedd78d16ac832ce5562
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Dec 24 10:35:08 2013 -0800

    fix quotes in apache config

commit 9250c590bf4255a7471b7fc87027c3fd40d959df
Merge: 6d2edc71 1a266ae8
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Dec 23 20:52:36 2013 -0800

    Merge pull request #238 from dolanjs/iptables-outbound
    
    Outbound Iptable rules and apparmor update. Fixes #193, fixes #203, fixes #224.

commit 955a31ee8033f7ded6efd1f82167977cb67407c7
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Mon Dec 23 20:49:02 2013 -0800

    add explanation for disabling javascript
    
    Improves the links in the warning popup so they go right to the intended
    content. Cleans up the styles on the info page.

commit 59ba7aab217ed6241ce32b0f0047f191e79157b8
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Mon Dec 23 12:49:43 2013 -0800

    add logging using the standard library module

commit 1a266ae8aad2f08f9ba9d8f73117069614b1add6
Author: dolanjs <dolanjs@gmail.com>
Date:   Fri Dec 20 13:15:22 2013 -0800

    broke base.rules_v4 into separate files for each server
    set uid and gid for users
    added outbound iptables rules for the source/document groups
    added missing tee -a build.log commands
    updated file permissions/ownership to reflect uid/gid
    took out the mysql database and replaced with sqlite
    updated apparmor profiles for sqlite

commit 6d2edc71c6017fcfa463bc23b5796e5d1d0fb4de
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Dec 20 14:21:52 2013 -0800

    fixes from code review for #220

commit 3f10a268b0deade138bd53517c1bb8945ec0b516
Author: Jack Singleton <git@jacksingleton.com>
Date:   Mon Dec 9 00:10:23 2013 -0800

    closes #197 - sanitize filename using werkzeug.secure_filename in source.py

commit a43e55b3c40d079ffa573e4f2dff2c283c84e52f
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Dec 8 23:05:58 2013 -0800

    moved file/message saving logic to store.py for easier testing

commit 5f358548b75cd7ee37e5bab00b7f91a9d8f5622d
Merge: 67c46c49 9b971909
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 20 14:01:33 2013 -0800

    Merge pull request #199 from dolanjs/apache-headers-fix
    
    Apache config headers and error page fixes. Closes #107, fixes #192

commit 67c46c498b236647ac6275b4a6815d9979361791
Merge: dddcc5fb 45d88946
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 20 13:57:57 2013 -0800

    Merge pull request #237 from garrettr/feature/194/fix-imprecise-store-verify
    
    Fixes #194

commit 45d88946fae7aad14294d70fd711f6f2ea9ae09d
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Dec 20 13:25:37 2013 -0800

    tighten scope in store.verify

commit f85dec321bbf6ed0a7b17cb06870b55bb4c14b93
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Dec 20 13:24:03 2013 -0800

    replace flawed commonprefix check with relpath
    
    Adds a test (same PoC described in the audit)

commit 9b971909a3c16433e895b8b9ed8b245756dc1ba5
Author: dolanjs <dolanjs@gmail.com>
Date:   Thu Dec 19 15:29:56 2013 -0800

    removed duplicate header
    added pacing and comment

commit 0355d359d2a5f967c168745f244845ebdffbdb10
Author: dolanjs <dolanjs@gmail.com>
Date:   Wed Dec 18 14:11:53 2013 -0800

    copied same comments from source.site to document.site

commit 0f2ca2cdea7fe6370ca1b31347bc17b1f19ac21c
Author: James <dolanjs@gmail.com>
Date:   Fri Dec 13 10:16:11 2013 -0800

    re-added x-xss-protection header
    grouped the headers together
    fixed caps
    
    fixed caps

commit 5ca9d9344b9ceb05e28bde5aa4dd60e042acfafb
Author: James <dolanjs@gmail.com>
Date:   Fri Dec 6 08:45:12 2013 -0800

    changed `no-sniff` to `nosniff` thanks @Taipo issue #107

commit 16f3ef24eabd46c20670a168beeb4505e6dcd96a
Author: James <dolanjs@gmail.com>
Date:   Tue Dec 3 22:04:13 2013 -0800

    Related it issue #107
    Adds custom error pages all pointing to the /notfound page so the defined headers are sent for error pages
    Adds Pragma, Expires, X-Content-Type, X-download, X-Content-Security policy, Content-Security-Policy to apache configs
    Removes X-XSS-Protection header from apache configs

commit dddcc5fb649a843840398850fd2279989ef35a5c
Merge: 98a20aba 675aaa43
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 20 12:19:45 2013 -0800

    Merge pull request #236 from dolanjs/fix-default-answer
    
    Changed default answer for question in install scripts

commit 675aaa4329493a942bd495fa43c8d1085e0f0863
Author: dolanjs <dolanjs@gmail.com>
Date:   Thu Dec 19 15:48:36 2013 -0800

    changed default answer for the wait for app server installation question in the ossec install script

commit 98a20aba469a197b917efbbe493354113e4f7f78
Merge: 9d53df6b b6a79406
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Dec 18 16:46:01 2013 -0800

    Merge pull request #232 from dolanjs/fix-workstation-names
    
    Fixed confusing code names, fixes #170

commit b6a794062e41d9521d57b5fbad99f852d3a722f3
Author: dolanjs <dolanjs@gmail.com>
Date:   Wed Dec 18 10:33:53 2013 -0800

    Changed refs to source/journalist website to source/document interface, and Source server to App server

commit 9d53df6b9fab8abb18dbd79e27e67bf51f842248
Merge: 15fe0a89 16152bce
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Dec 18 15:20:11 2013 -0800

    Merge pull request #234 from dolanjs/fix-google-auth-permissions
    
    Ensure .google_authenticator file permissions are set. Fixes #201

commit 15fe0a89f03f4e2e1119f9ebfe59950f4da1f60f
Merge: b3486e26 d3a7a09b
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Dec 18 15:19:48 2013 -0800

    Merge pull request #233 from dolanjs/fix-ubuntu-config-doc
    
    Remove obsolete documentation from ubuntu_config.md, fixes #216

commit 16152bcee6ba3f834bb2eef3d478c39eb7a9d1d8
Author: dolanjs <dolanjs@gmail.com>
Date:   Wed Dec 18 14:25:59 2013 -0800

    added line to ensure that .google_authenticator file permissions are set to 400

commit b3486e262f2a4bf7812606bcc01fe61649f068d5
Merge: 4096b33e 1c9722db
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Dec 18 14:05:50 2013 -0800

    Merge pull request #231 from dolanjs/file-upload-size
    
    Set the max request body size in the CONFIG_OPTIONS file. Fixes #223.

commit d3a7a09bcfb81383983a34b24df6a98ba35938d1
Author: dolanjs <dolanjs@gmail.com>
Date:   Wed Dec 18 12:10:25 2013 -0800

    removed ref to configuring resolve.conf which is not needed with current install

commit 1c9722db0af4e60fc9b8eda3659f11950e80899c
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Dec 16 11:33:14 2013 -0800

    Set the max request body size in the CONFIG_OPTIONS file

commit 7208878461a6b7782754846b9a79ba2529761fbb
Merge: 6e06f924 62dc57d3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Dec 17 19:24:25 2013 -0800

    Merge pull request #219 from Hainish/issue211
    
    Makes config a module, with different files for development / production / test

commit 62dc57d3437c618b911430b27006b5a812f0e518
Author: William Budington <bill@eff.org>
Date:   Sun Dec 15 17:29:01 2013 -0800

    Fixed unneeded create database for test in setup_ubuntu.sh

commit 395965f9a4b5ed370db431454ffd5d28ef996ab2
Author: William Budington <bill@eff.org>
Date:   Sun Dec 15 17:27:01 2013 -0800

    Removing line changing SECUREDROP_ROOT dir for test.py.example in setup_ubuntu.sh

commit a3247a0080314d144ba787bf4dcc11a8245dbecb
Author: William Budington <bill@eff.org>
Date:   Sun Dec 15 17:24:40 2013 -0800

    abspath should refer to securedrop/securedrop path

commit 83cd416d2ef686a89896b8b55602f40eb703ad16
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Sun Dec 15 15:42:01 2013 -0500

    Revert typo

commit 4096b33e5ba573b4b7d3302fb02d3069b3af4994
Merge: fbaaa4a3 b1004672
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Dec 14 20:23:06 2013 -0800

    Merge pull request #222 from ageis/patch-3
    
    Fix some typos/spelling/caps

commit fbaaa4a3a4fd94e732717ef7379ba03adda62e53
Merge: d18983d3 89c16915
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Dec 14 20:21:06 2013 -0800

    Merge pull request #221 from ageis/patch-2
    
    Fixed typos

commit d18983d3c993c5ac9a93eae8abc9713b6d894337
Merge: 23c24618 800489f6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Dec 14 19:59:35 2013 -0800

    Merge pull request #217 from ageis/patch-1
    
    Corrected some typos, capitalization and consistency

commit 23c24618e091718153b31e68b07a249bfff877b7
Merge: 92bd7647 fba20781
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Dec 14 19:30:11 2013 -0800

    Merge pull request #214 from dtauerbach/master
    
    Resolve issue #198

commit cc8a4372c39c676192ef70a33a9d688e6e32aebc
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Tue Dec 10 16:21:02 2013 -0500

    Word correction
    
    Grammar :P http://english.stackexchange.com/questions/35418/past-tense-of-to-output-output-or-outputted

commit fba2078134eb3af6842353f18ea93c31260b986e
Merge: f7d33e53 92bd7647
Author: Dan Auerbach <dan@eff.org>
Date:   Mon Dec 9 21:11:00 2013 -0800

    Merge main repo master into this pull request

commit 465d462d3944b28d883ed1d2b3b98ac1732160da
Author: William Budington <bill@eff.org>
Date:   Mon Dec 9 10:25:57 2013 -0800

    Update HACKING.md to reflect new config file locations

commit f88296924e28ca7c909b1f5079c141b5f199c4af
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Mon Dec 9 06:02:40 2013 -0500

    Reference to server_setup.sh, step numbers is outdated
    
    journalist's hidden service URL is now referred to as "Document Interface URL"

commit b10046724d3c95b75a4a6b9159fabdb2374e37b1
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Mon Dec 9 03:44:10 2013 -0500

    Fix some typos/spelling/caps

commit 89c16915ffb48246961a71c1c9c9204651c4067e
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Mon Dec 9 03:28:53 2013 -0500

    Fixed typos

commit 455786d8a7198e7bcddf1059b4cd86e7a7fedd59
Author: William Budington <bill@eff.org>
Date:   Sun Dec 8 22:55:32 2013 -0800

    MySQL credentials should be replaced with the actual created user in
    the setup_ubuntu.sh script for the development environment, not the
    test environment.

commit 800489f6264f12e706274aa226ed6b6f784e03ec
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Mon Dec 9 01:47:29 2013 -0500

    Corrected some typos, capitalization and consistency

commit 40c577cb19647ba6122635d1f4c9799ec753e547
Author: William Budington <bill@eff.org>
Date:   Sun Dec 8 20:47:44 2013 -0800

    Modifying setup_ubuntu.sh to modify config files in new location

commit 256874ee35aef7c5575844a83e215f92fe91263c
Author: William Budington <bill@eff.org>
Date:   Sun Dec 8 18:10:42 2013 -0800

    Moves the config file to a config submodule.  This allows us to easily
    separate out the configs for each environment, as well as the config
    vars that are shared.  This is also structured to retain the ease by
    which setup_ubuntu.sh replaces vars using sed, by having different
    environment configs being separated into different files.

commit 92bd7647c0295867ed178f3ea0dcc2f5bea4c23d
Merge: 027ed06e 03e594fe
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Dec 8 20:58:09 2013 -0800

    Merge pull request #188 from diracdeltas/fix/flag_keyerror
    
    Fixes #185 and modifies tests to clear sessions whenever a source/journalist will likely close their browser.

commit 03e594fe61da26648343e02f3581fbd0df4aae73
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Dec 8 20:46:05 2013 -0800

    Simpler solution to avoid KeyError

commit c114fa21c32da23a8b068bba954eb07aa3f048a5
Author: Yan <yan@mit.edu>
Date:   Sun Dec 8 19:35:45 2013 -0800

    Remove unnecessary path check, add reasoning for _logout

commit 1e3506339e2d5fb25fdba801b58a7c1daf4ff756
Merge: 9d0a4f51 027ed06e
Author: Yan <yan@mit.edu>
Date:   Sun Dec 8 19:04:52 2013 -0800

    Merge branch 'master' into fix/flag_keyerror

commit 027ed06e736a69b5ef730b16ab5af2ef89ccd33b
Merge: 69e3e1d1 44a04a22
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Dec 8 18:55:30 2013 -0800

    Merge pull request #206 from pemulis/master
    
    remove direct links to external sites from source templates, fixes #195

commit f7d33e53067c7515fdcb36967ec5589beff2c11a
Author: Dan Auerbach <dan@eff.org>
Date:   Sun Dec 8 18:55:04 2013 -0800

    Fix location of flashed messages

commit 446d9b49e4591a4ead402eaf2010dad866b03c40
Author: Dan Auerbach <dan@eff.org>
Date:   Sun Dec 8 18:45:05 2013 -0800

    Flash error to journalist if input is bad

commit 55299b7d72eb64bc8bc541252fe8ab8b0aedde23
Author: Dan Auerbach <dan@eff.org>
Date:   Sun Dec 8 18:44:37 2013 -0800

    Fix flashing for journalist base.html

commit cd2bfbadee5a9519827df4acba7e40c98b2d8db3
Author: Dan Auerbach <dan@eff.org>
Date:   Sun Dec 8 18:22:50 2013 -0800

    Add flashing to journalist base.html

commit dd7888dbfce81006e4a01f1d91f29e44a4d44207
Author: Dan Auerbach <dan@eff.org>
Date:   Sun Dec 8 18:19:24 2013 -0800

    Sanitize journalist reply; test still broken

commit 8caebb4a2df4637a0d5cc971b32b5615ec3b8635
Author: Dan Auerbach <dan@eff.org>
Date:   Sun Dec 8 17:57:46 2013 -0800

    Add validation on source side of journalist input

commit 6497dc72d794fe8cfa17f12bab6630b123d26b3e
Author: Dan Auerbach <dan@eff.org>
Date:   Sun Dec 8 17:37:51 2013 -0800

    Add failing test for issue 198

commit 6e06f9244b917b9719c4531a061455cf60990a36
Author: Dan Auerbach <dan@eff.org>
Date:   Sun Dec 8 13:49:05 2013 -0800

    Warn people that they cannot use Percona with setup_ubuntu.sh

commit 1141aaae56b3033e31298c7ce78f1efd491e3cdb
Author: Dan Auerbach <dan@eff.org>
Date:   Sun Dec 8 13:49:05 2013 -0800

    Warn people that they cannot use Percona with setup_ubuntu.sh

commit 18887e408b9b559bd3269cd65115a64a977b4944
Author: Yan <yan@mit.edu>
Date:   Tue Dec 3 04:22:08 2013 -0800

    Add session-clearing to all tests that need it
    
    Add test for logout (clearing a session) in the source
    unit tests. Also clear sessions in integration tests
    whenever a source/journalist is probably going to
    close their browser.

commit 3d87bea0021d80ddcadc5a6bff3a6a93596837b9
Author: Yan <yan@mit.edu>
Date:   Tue Dec 3 03:35:04 2013 -0800

    Simulate session logout in test_reply
    
    Realistically, clients will clear sessions between submitting
    docs / checking for replies, so we should simulate that.
    test.py will now fail before 195d0ef and pass after, as
    expected.

commit a4e38377a2c94105da7c29c4bf509e47b1f779f1
Author: Yan <yan@mit.edu>
Date:   Mon Dec 2 17:42:10 2013 -0800

    Quick fix for 'KeyError: "flagged"' on new session
    
    Fixes #185. We need to set the flagged variable on login, since
    most people will clear sessions between checking for replies.

commit 896401b110b45352514557fbc3c2d6da7ab3cb54
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Fri Dec 6 21:54:20 2013 -0800

    remove direct links to external sites from source templates, fixes #195

commit 69e3e1d1da2836d31de63cddc7732218f8724ce9
Author: William Budington <bill@eff.org>
Date:   Sat Dec 7 21:33:19 2013 -0800

    Fixing error introduced in e68561

commit 82e8c760a8154b1fb7ab87271f39a28414fbb8df
Author: David Reid <dreid@dreid.org>
Date:   Thu Dec 5 14:54:28 2013 -0800

    Fix some typos.

commit 7439c964a515845996d8caafbf46eac7d6271df1
Author: William Budington <bill@eff.org>
Date:   Sat Dec 7 18:50:07 2013 -0800

    Fix: when viewing the flag route on journalist interface, use the database designation for the source

commit e685619699f9119d99783b3f2d8a7b60e8d127ff
Author: William Budington <bill@eff.org>
Date:   Sat Dec 7 18:41:18 2013 -0800

    Fix: when downloading bulk documents on journalist interface, use the database designation for the source (closes #207)

commit 44a04a22a32cd5df84476dd6afdc7aa74464f730
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Fri Dec 6 21:54:20 2013 -0800

    remove direct links to external sites from source templates, fixes #195

commit f827e250a13916c1ef9f5272b0835464935c2cd1
Merge: d5d1a183 da12f3c5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Dec 3 18:16:47 2013 -0800

    Merge pull request #186 from diracdeltas/fix/setup-ubuntu
    
    Fix bugs in setup_ubuntu.sh

commit 9d0a4f5148d9a39ecdcb3f4ca192e9cd288816d8
Author: Yan <yan@mit.edu>
Date:   Tue Dec 3 04:22:08 2013 -0800

    Add session-clearing to all tests that need it
    
    Add test for logout (clearing a session) in the source
    unit tests. Also clear sessions in integration tests
    whenever a source/journalist is probably going to
    close their browser.

commit 3aab45591f93ac1a0fc0869c911ce0ded3d4ad30
Author: Yan <yan@mit.edu>
Date:   Tue Dec 3 03:35:04 2013 -0800

    Simulate session logout in test_reply
    
    Realistically, clients will clear sessions between submitting
    docs / checking for replies, so we should simulate that.
    test.py will now fail before 195d0ef and pass after, as
    expected.

commit 195d0ef3e78a07407aed0146d9c50ddb35d38671
Author: Yan <yan@mit.edu>
Date:   Mon Dec 2 17:42:10 2013 -0800

    Quick fix for 'KeyError: "flagged"' on new session
    
    Fixes #185. We need to set the flagged variable on login, since
    most people will clear sessions between checking for replies.

commit da12f3c561a807d2bec5086eaae4ef0d59234cdc
Author: Yan <yan@mit.edu>
Date:   Mon Dec 2 16:54:29 2013 -0800

    Fix bugs in setup_ubuntu.sh
    
    Reflects splitting of requirements.txt into source-requirements.txt
    and document-requirements.txt. Updates config before setting up
    db tables so runtime tests pass.

commit d5d1a1831a5ac79098c140670b76b7db65d1a66c
Merge: 72c37d5c 7fbc343e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Dec 2 08:45:00 2013 -0800

    Merge pull request #184 from dolanjs/interface-install-fix
    
    Interface install fix

commit 7fbc343eae5ed7484a9f241ccba4aba4f9a133ef
Author: James <dolanjs@gmail.com>
Date:   Mon Dec 2 04:00:22 2013 -0800

    changed ref to SOURCE_IP to APP_IP in the validation_CONFIG_OPTIONS

commit 33377c768fac8000bc8fa9687cd64bb8fe6d6d8a
Author: James <dolanjs@gmail.com>
Date:   Mon Dec 2 01:45:37 2013 -0800

    set ownership and permissions for application code

commit d6b97bef3b7ace736aee81a7ac14feaac7d42b84
Author: James <dolanjs@gmail.com>
Date:   Mon Dec 2 00:18:23 2013 -0800

    removed secret value from being in build.log

commit 0f3f21004e842af1801999c26f50707ed2094fb8
Author: James <dolanjs@gmail.com>
Date:   Mon Dec 2 00:13:30 2013 -0800

    fixed comment in document interface config.py

commit 72c37d5c8ce80d2ecfeddbb4de5174ef70ee7d42
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sun Dec 1 21:20:29 2013 -0800

    Update user_manual.md
    
    Had to update this page to conform with version 0.2 and the extra steps involved if the source needs to turn off Javascript and how the journalist has to flag the source for replying and wait before actually replying

commit 66a135a69958c1c1350b30aee0134d6d8d6752d7
Merge: 8b55821f 5a819661
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Dec 1 21:44:48 2013 -0800

    Merge pull request #178 from diracdeltas/feature/bcrypt-gpg-passphrase
    
    bcrypt hash gpg passphrases closes #171

commit 5a819661fd68f229eabd5566ad7395f31b3ba6ab
Author: Yan <yan@mit.edu>
Date:   Sun Dec 1 21:29:01 2013 -0800

    Do runtime tests on crypto_util import

commit 6dae0a96e2f6dedda1f1da166e8aad3aac5e3c0d
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sun Dec 1 21:20:29 2013 -0800

    Update user_manual.md
    
    Had to update this page to conform with version 0.2 and the extra steps involved if the source needs to turn off Javascript and how the journalist has to flag the source for replying and wait before actually replying

commit 2861f6181ac914c036fc07ef5e0065d28ba8f5f8
Merge: f29744e3 8b55821f
Author: Yan <yan@mit.edu>
Date:   Sun Dec 1 21:12:33 2013 -0800

    Merge branch 'master' into feature/bcrypt-gpg-passphrase
    
    Conflicts:
            install_files/document.config.py
            install_files/interface_install.sh

commit 8b55821f0a610972acce16805df67cc07c856170
Merge: 63cc754f 84f680b7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Dec 1 20:39:29 2013 -0800

    Merge pull request #182 from diracdeltas/fix/gpg_docs
    
    Fixes to documentation and install scripts

commit 84f680b74e07bdede7a43b363f0df3d21702c930
Author: Yan <yan@mit.edu>
Date:   Sun Dec 1 20:36:35 2013 -0800

    Remove obsolete DocREADME.md

commit 63cc754f30efa8e2759c8c64d4ea4943e6856d83
Author: Yan <yan@mit.edu>
Date:   Sun Dec 1 18:45:43 2013 -0800

    Add new screenshots for 0.2

commit 6a6426910e09a58877841540b2959481689dcaef
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sat Nov 30 14:12:37 2013 -0800

    Update README.md
    
    Updated readme to make clearer and to indicate 'source' and 'document' servers
    are now one server, now known as 'application server'.
    
    Misc. other changes.

commit 5b5ed89c15ff41900980abea779774b5a9427c3f
Merge: 0163bc62 ebf00606
Author: Yan <yan@mit.edu>
Date:   Sun Dec 1 19:35:59 2013 -0800

    Merge branch 'master' into fix/gpg_docs
    
    Conflicts:
            securedrop/DocREADME.md
            securedrop/example_config.py

commit 910de2ca9f310cfb1e35447127b06addbe1d0434
Author: Yan <yan@mit.edu>
Date:   Sun Dec 1 18:45:43 2013 -0800

    Add new screenshots for 0.2

commit a2c9308540cea76aa9dc65dd947d0a6d79f49b61
Merge: b93ed689 ebf00606
Author: Trevor Timm <trevor@pressfreedomfoundation.org>
Date:   Sun Dec 1 19:11:02 2013 -0800

    Merge remote-tracking branch 'upstream/master'

commit ebf006068026c87a7a073f526454cd7120afdb6d
Merge: 6914166b 3074b8f4
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Dec 1 22:01:39 2013 -0500

    Merge branch 'big-merge'

commit b93ed6891f50209f3331819c4aff1b6e02e6c1fb
Merge: 4d7db5e7 6914166b
Author: Trevor Timm <trevor@pressfreedomfoundation.org>
Date:   Sun Dec 1 18:54:52 2013 -0800

    Merge remote-tracking branch 'upstream/master'

commit 3074b8f40d8e41d42da5d17fdeee80d84db91c55
Merge: 81fb50eb 6e946534
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Dec 1 18:20:55 2013 -0800

    Merge pull request #163 from garrettr/feature/no-unsafe-codename-lengths
    
    remove option to use codenames with less than 7 words - closes #162

commit f29744e354cb05b7e5a5642d70954fe21f15cde3
Author: Yan <yan@mit.edu>
Date:   Sun Dec 1 17:47:22 2013 -0800

    Add runtime test BCRYPT_GPG_SALT != BCRYPT_ID_SALT
    
    If BCRYPT_GPG_SALT and BCRYPT_ID_SALT are the same, the source
    GPG passphrase is no longer secure. We should add tests to
    check for unlikely conditions like this one that might arise
    at runtime.

commit e1354eac4a9c524cfa397b9aa9bb008bbb08e6e2
Author: Yan <yan@mit.edu>
Date:   Sun Dec 1 16:23:03 2013 -0800

    bcrypt hash GPG passphrase for key stretching
    
    Implements https://github.com/freedomofpress/securedrop/issues/171.
    Minor change to setup_ubuntu.sh to it make it work when there are
    multiple keys in the journalist keyring (happens sometimes
    during testing).

commit 6914166b66dced11868ce1c058b2fe9e31df4ed4
Merge: 13a2f73d 079e6adb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Dec 1 15:52:19 2013 -0800

    Merge pull request #177 from garrettr/feature/142/journalist-pubkey
    
    Feature/142/journalist pubkey closes #142

commit 13a2f73dadbf136a690af6f231f708badb4072b0
Merge: 9ae809e3 919a63e2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Dec 1 15:39:03 2013 -0800

    Merge pull request #174 from garrettr/feature/64/internal-naming-to-securedrop
    
    Feature/64/internal naming to securedrop closes #64

commit 919a63e2926bc2aaba704f86668d0a13fa1068aa
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Dec 1 18:36:22 2013 -0500

    remove deaddrop reference from test/development keys
    
    The uid now references Securedrop and has a better warning message ("DO NOT USE
    IN PRODUCTION" instead of "DO NOT USE", which was kind of hypocritical). The
    fingerprint has not changed.

commit 9ae809e382f5709643b5f8a2942978e68244644b
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Dec 1 18:10:21 2013 -0500

    little fixes for custom header image merge
    
    * rename variables to be more descriptive
    * use getattr so you don't have to have CUSTOM_HEADER_IMAGE defined in
    config.py (so old config files will still work)
    * remove some trailing whitespace

commit 6ab8d8e1bd310cea2746d25a79a022030e49825d
Merge: c76d1273 eb92e835
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Dec 1 17:37:28 2013 -0500

    Merge branch 'theming' of https://github.com/micahflee/securedrop into micahflee-theming

commit 079e6adb6107ea6d3033cf9945623f5e8d02c709
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Dec 1 12:36:34 2013 -0500

    add "why?" page for downloading pubkey
    
    Quick explanation of why you might want to download the public key.
    
    Has some instructions for sources to encrypt their own submissions (linux/mac
    only, assumes you can use the command line).

commit 254ddf07dffda90775af37624540eed7c139301c
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Nov 29 22:20:35 2013 -0500

    add download link for journalist pubkey, started info page

commit 4a78afd71e5d25790c3ad2be573f298bef2fc0ab
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Dec 1 10:30:25 2013 -0500

    update application README

commit 8059ca9e34e1f0b23d1afaf7d5104b3a68dc9b18
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Nov 30 18:45:31 2013 -0500

    remove ref to deaddrop, and fake email from uid
    
    Since the reference to deaddrop was part of the fake email address, it made
    sense to remove them both since the fake email was not actually needed.
    I modified getkey so it should still work, even if used with reply keypairs
    generated with previous versions of securedrop (they'll still have the
    hashed codename in their uid).

commit 2876ca041d5f6c58872d5126176f886791b26ec6
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Nov 30 18:44:16 2013 -0500

    remove refs. to deaddrop, rewrite for newest config defaults, and reformat

commit b49ff8f78547749af20c8b5dde537382ef4e8964
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Nov 30 18:43:25 2013 -0500

    remove misc. refs to deaddrop

commit 58b5d6fda5ea0d72355f470b2d186408b98f42fa
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Nov 30 18:42:40 2013 -0500

    delete obsolete documentation files

commit eb92e835202f2a74096cbec957880d2a953c6bbc
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 19:10:53 2013 -0800

    add support for theming to journalist interface too (#67)

commit 97e4e2386c3a5064a06007feaec99eef640ad37c
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 19:05:55 2013 -0800

    added rudimentary support for theming. fixes #67
    
    Conflicts:
            securedrop/example_config.py

commit 4d7db5e7398169b061ef4f47cd33dee481bdad31
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sat Nov 30 18:47:20 2013 -0800

    Update README.md

commit c76d12734b07e8fa523175eb0fdc5c85acad9318
Author: William Budington <bill@eff.org>
Date:   Sat Nov 30 18:16:07 2013 -0800

    Changing HACKING.md to simplify and update

commit 0163bc62c134c794346b842eab8a0e932637dcca
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 18:14:01 2013 -0800

    installation instructions formatting

commit 19f0f212d07d453eb157167a09621799524822f8
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 18:10:05 2013 -0800

    python dep instructions have changed

commit d03956c6e97b5540a5596cd3567169caa76d14ab
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 17:47:08 2013 -0800

    more install documentation updates

commit f4eccd1b475808547de8fdb220df3f99c32c80fe
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 17:39:09 2013 -0800

    renamed validate_CONFIG_OPTIONS.sh to validate_CONFIG_OPTIONS

commit 5771d9f03450694b2f56494780a879e193ae0c4c
Merge: ecf8d7d0 8106ad2c
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 17:19:53 2013 -0800

    Merge branch 'install-script-hotfix' of https://github.com/dolanjs/securedrop into fix/gpg_docs

commit ecf8d7d0eba20a7c55794bbd07c46464fc477199
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 17:18:10 2013 -0800

    updated monitor server CONFIG_OPTIONS docs

commit 8106ad2c34576ae9c974718e6bd893f88f55baec
Author: James <dolanjs@gmail.com>
Date:   Sat Nov 30 17:16:43 2013 -0800

    defined the nouns.txt and adjectives.txt in the config.py file for the document interface
    and added the mysql portion to the document.config.py file

commit 4867e3745692bb1e911aaa33e062d756eab1bfd7
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 17:09:53 2013 -0800

    made CONFIG_OPTIONS more clear

commit 8b08c16055066396614b0329cb3376e9eec6536d
Merge: 3999cda1 8267321d
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 17:02:17 2013 -0800

    Merge branch 'install-script-hotfix' of https://github.com/dolanjs/securedrop into fix/gpg_docs
    
    Conflicts:
            CONFIG_OPTIONS
            install_files/ossec_install.sh

commit 3999cda1ebdb0bcc6004c9f34b7b8147ea68b75c
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 16:56:24 2013 -0800

    updating installation docs

commit 178d4133328eb618b0fa113d7a011d4c6fcb08a4
Merge: c90c83aa ad6f8184
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 16:25:37 2013 -0800

    Merge branch 'fix/gpg_docs' of https://github.com/diracdeltas/securedrop into fix/gpg_docs
    
    Conflicts:
            docs/install.md

commit ad6f818442e892f6bd49467bdb6b2878a63d7a8f
Author: Yan <yan@mit.edu>
Date:   Sat Nov 30 16:10:33 2013 -0800

    Fixes to install.md for v0.2 release.
    
    * Normalize server naming
    * Remove instructions about Tails on personal workstation
    * Add better instructions for GPG and Google Authenticator
    * Grammar and clarity fixes

commit 8267321d54f3b74099295634a2636145135c0217
Author: James <dolanjs@gmail.com>
Date:   Sat Nov 30 16:09:39 2013 -0800

    removed sudo command from mysql_install.sh

commit 46a17e12473f9c4eb177851d50a4edfe26d01fca
Author: Yan <yan@mit.edu>
Date:   Sat Nov 30 15:57:54 2013 -0800

    Rename SOURCE_IP to APP_IP

commit 2f437d2a71e8cf7eab7296792f37301f5608b3f2
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sat Nov 30 15:56:32 2013 -0800

    Update README.md

commit 673fb382bb9b53e1481f72f8c2bd8084a5413669
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sat Nov 30 15:54:00 2013 -0800

    Update README.md

commit e8cf847e5cca6af16d77fbf3b757cf50f9c0e65e
Author: James <dolanjs@gmail.com>
Date:   Sat Nov 30 15:32:47 2013 -0800

    took the mysql specific parts of setup_ubuntu and put it in its own script

commit d5df621466d75ddb9cb2487f514ceef71445f739
Author: James <dolanjs@gmail.com>
Date:   Sat Nov 30 14:29:53 2013 -0800

    added mysql req to document-requirements.txt

commit 56159ba6d63c631f70a5fd8e6b0f3eafad2ab87b
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sat Nov 30 14:25:28 2013 -0800

    Update README.md
    
    more updates

commit 50084823f88f8196ca010627847eebe065d0b795
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sat Nov 30 14:19:56 2013 -0800

    Update README.md

commit 512087ae6740a9d84645db405e5911efbf696c48
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sat Nov 30 14:12:37 2013 -0800

    Update README.md
    
    Updated readme to make clearer and to indicate 'source' and 'document' servers are now one server, now known as 'application server'

commit c1a386fd51c9e8346076453c04d642b86e56eff5
Merge: b5f0c506 0c64a887
Author: James <dolanjs@gmail.com>
Date:   Sat Nov 30 13:56:14 2013 -0800

    Merge branch 'master' into install-script-hotfix
    adding mysql functionality

commit c90c83aa66076971ef933c3dc66d599927c7553f
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 13:54:15 2013 -0800

    updated ubuntu install guide to use 2 servers

commit a69752355c4510d7c4452ff571fd0dc0c72b3385
Merge: a3a9fb48 0c64a887
Author: Yan <yan@mit.edu>
Date:   Sat Nov 30 12:27:32 2013 -0800

    Merge branch 'master' into fix/gpg_docs

commit 0c64a8876a808d068dcc74f00197a00f89f8fb3a
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Nov 29 15:44:12 2013 -0500

    fix test breakage from merging #172

commit 24c2920dbb03f87d46e6c22a619e0d5b9460447d
Merge: 9560c794 a0b63aed
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Nov 29 12:36:42 2013 -0800

    Merge pull request #172 from TheGlobalMail/instructions-text
    
    text changes to clear things up for newbies

commit 9560c794c9c97824487214d6cf89a53d5008ad99
Merge: 0795fe78 9f691848
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Nov 29 12:40:12 2013 -0500

    Merge branch 'flask-rewrite' of https://github.com/jacksingleton/securedrop into jacksingleton
    
    Conflicts:
            install_files/source.config.py
            securedrop/test.py
            setup_ubuntu.sh
    
    This merge rebases on top of master. It also fixes the use of
    NamedTemporaryFile, making it so deletion is handled automatically by the
    class, and adding a prefix to the temporary filenames to make debugging easier.
    Removed all references to TEMP_DIR throughout the codebase.

commit a0b63aed031f5764cface981e7ef9a271be79b88
Author: Nikhil <nikhil.sonnad@gmail.com>
Date:   Thu Nov 28 14:32:15 2013 +1100

    text changes to clear things up for newbies

commit 9f69184804044661805397de873a2cd67158d489
Author: Jack Singleton <git@jacksingleton.com>
Date:   Wed Nov 27 19:52:24 2013 -0500

    changed tempfile.mkstemp() call to tempfile.NamedTemporaryFile(delete=False)

commit 0795fe78c86cad19eb7772ab0e851e36b159a09e
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Nov 26 17:52:57 2013 -0500

    clean up dev setup script, config, and .gitignore

commit b5f0c5064f8e4bf907eb8bb0741e53a4d69c0e87
Author: James <dolanjs@gmail.com>
Date:   Tue Nov 26 11:33:59 2013 -0800

    fixed interface_install.sh so that it displays the correct port for each interface

commit a3a9fb48bc113acf0fb0feb9e088f04228ff74a4
Author: Yan <yan@mit.edu>
Date:   Tue Nov 26 10:35:31 2013 -0800

    Typo

commit 7b609024bef4bbe9a607becd8722bdce98242e52
Author: Yan <yan@mit.edu>
Date:   Tue Nov 26 10:33:19 2013 -0800

    Fix broken relative links

commit a72f8e460017c82d6c93d96f5b1d67a8527f867e
Author: Yan <yan@mit.edu>
Date:   Tue Nov 26 10:27:20 2013 -0800

    First pass at GPG instructions

commit 8430b96431c39114c3e8f814cb0fa0c7222bbaff
Author: Yan <yan@mit.edu>
Date:   Tue Nov 26 08:48:06 2013 -0800

    Add brief explanations/links to install guide intro

commit 06564b1eab958441e969702594399cd317137998
Author: James <dolanjs@gmail.com>
Date:   Tue Nov 26 02:36:47 2013 -0800

    added some simple validation for CONFIG_OPTIONS file options

commit 263181bf1a1cb1784110edfe12784ee1e0c149bc
Author: James <dolanjs@gmail.com>
Date:   Tue Nov 26 01:07:34 2013 -0800

    replace spaces with commas for JOURNALIST_USERS prior to placing in torrc file.

commit fcfa43cbb6ada7ac7914b493cf9f17324fa66777
Author: James <dolanjs@gmail.com>
Date:   Tue Nov 26 00:17:16 2013 -0800

    working defining journalist users in the documents authenticated hidden service and apache configs

commit 69412d7f8efdf3aaac8c48d78dc52780fd79b597
Author: James <dolanjs@gmail.com>
Date:   Mon Nov 25 21:43:47 2013 -0800

    added feature for to enter journalist names

commit e16b96006ad88b576e1029300a8fb33882915b61
Author: James <dolanjs@gmail.com>
Date:   Mon Nov 25 18:56:53 2013 -0800

    broke up interface_install.sh into sep scripts

commit ea47311d7e0f91f896f4ee95b7975b95317cfbb6
Author: James <dolanjs@gmail.com>
Date:   Mon Nov 25 17:20:42 2013 -0800

    more journalist to document changes

commit 46a6471f9dbd9bd1f624f73e6eaf17d1b86c04a3
Author: James <dolanjs@gmail.com>
Date:   Mon Nov 25 17:08:45 2013 -0800

    fixed document.apache2.conf

commit a51541f00acdac45996570aeb968df55c109e212
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Nov 25 14:57:17 2013 -0800

    need to replace onion addresses for $JAIL.site files

commit d9f4d1ef595d74d20becbbc44f7876f890c878b0
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 24 20:23:24 2013 -0800

    make sqlite the default database
    
    I lied in the previous merge commit's message. This commit actually makes
    sqlite the default database. This reduces the number of dependencies for the
    development environment because sqlite is included with Python.

commit d5dec77ab099f5121fe1099dcfd77d908f35d31c
Merge: 887f140d a8cfbb4b
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 24 18:11:38 2013 -0800

    Merge branch 'Hainish-feature/issue95'

commit a8cfbb4b9f29ab0f4a832f36eb9a4304ef32d6af
Merge: 81fb50eb c8f5d7aa
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 24 18:04:52 2013 -0800

    Merge branch 'feature/issue95' of https://github.com/Hainish/securedrop into Hainish-feature/issue95
    
    Conflicts:
            .gitignore
            securedrop/example_config.py
            setup_ubuntu.sh
    
    This merge changes the default database settings so mysql is not required for
    development (use the built-in sqlite instead). It also integrates the database
    with the tests, using a temporary sqlite database instead of re-using an
    existing databsae, which could cause problems.
    
    If you experience errors related to missing tables after updating, make sure
    you've updated your config with the database settings, then run `python -c
    "import db; db.create_tables()"`.

commit f14042cde189306dfa427ab5dff37d32d602b18c
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Nov 24 17:03:21 2013 -0800

    add tor2web page and image to the source's interface apparmor profile

commit 9bdba3a86c86bab01e36f0f05fce8dad75d29fa0
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Nov 24 16:48:18 2013 -0800

    fixed caps force doc/source interfaces

commit 9d338acc99bb89fe259f6588918e1ba354f2ecaf
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Nov 24 16:45:28 2013 -0800

    fixied display spacing

commit c9937dbbcf5c7f7b5f74a17b9744d633234f0539
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Nov 24 16:12:11 2013 -0800

    separated pip requirements.txt for each interface

commit 090a8ad856f8d5aeb6e326614de2f1c4fc2ee7b9
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Nov 24 15:29:06 2013 -0800

    added spacing between outputline at end of production installation.sh

commit a5fa77a086671f354dc0c78f035a989474735622
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Nov 24 15:14:47 2013 -0800

    changed config file names to reflect App Server, Document Interface, Source Interface

commit a78facf0c5b3e70fd50109bb8c995ba7b389d327
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Nov 24 14:38:41 2013 -0800

    updated production_installation with correct server and interface names
    updated the way the script display the onion addresses.

commit 9e0975e751cfe3621fd1d1bc2bafec007823bf3e
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Nov 24 14:25:16 2013 -0800

    Added warning to interface_install.sh about time
    Changed order and updated comments in CONFIG_OPTIONS

commit 0a192a37e5988562991be2b00a7a0d5de52d8ecf
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Nov 24 14:03:59 2013 -0800

    removed the parts for issue157 from the config.py files

commit b965b9d8d76a8aedce3b9de06b2e917d71648962
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Nov 24 13:42:54 2013 -0800

    fixed server and interfaces names in install scripts
    fixed tails port in use error
    changed location to look for addtional scripts in the interface config.py files

commit 887f140d212ff6110e0526156e2161de31e64fba
Merge: afcfc7e8 81fb50eb
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Nov 23 13:33:12 2013 -0800

    Merge branch 'big-merge'
    
    Conflicts:
            docs/install.md

commit 81fb50eb9317997ec22b9f852b9d11fbefde3182
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Nov 23 13:00:16 2013 -0800

    simplify definition/creation of data directories

commit 09e3d8e9fbf4fde18e58220b67fbb0ea48661454
Merge: 7975936e aa6c9054
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Nov 23 10:53:04 2013 -0800

    Merge pull request #165 from dolanjs/bm-install-scripts
    
    Updated (and tested) deployment scripts.

commit aa6c90540d325fbb3c40686cb469c3f59c711c2d
Author: dolanjs <dolanjs@gmail.com>
Date:   Fri Nov 22 19:03:40 2013 -0800

    added usage to production_install.sh

commit 0bcf29ab5f75ef09a043c3d17402d8de4f7a0c95
Author: dolanjs <dolanjs@gmail.com>
Date:   Fri Nov 22 17:03:33 2013 -0800

    updated install.md with new host names and install steps
    updated fixes in the install scripts

commit cdfa78e2cf00b5ab79db8245f5cf1b9d484e9b77
Author: dolanjs <dolanjs@gmail.com>
Date:   Wed Nov 20 15:22:38 2013 -0800

    added rights for javascript/tor2web warnings in apparmor profiles

commit 4f6ed88b4633ce752d15c92cc876ba4395a4956e
Author: dolanjs <dolanjs@gmail.com>
Date:   Wed Nov 20 12:34:02 2013 -0800

    added apache headers and rewrite rule need to test defense functionality
    updated apparmor profiles for interfaces

commit 9b16431265c10a8f1bc67b4e3466097c62b80a86
Author: Author dolanjs <dolanjs@gmail.com>
Date:   Wed Nov 20 07:02:02 2013 -0800

    added ossec and apparmor configs to repo and installation scripts

commit 2de22cfe9af5902959ee0590ee70e647a802da27
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Wed Nov 13 10:58:00 2013 -0800

    Making all markdown links relative

commit 6e94653490bcfe276c4ef24efe7ab39878e71c2a
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Nov 19 17:40:24 2013 -0800

    remove option to use codenames with less than 7 words - closes #162

commit 22ed0e0f4d3b0aed0046282b5a67e985d450663b
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Nov 17 22:56:36 2013 -0800

    test_bulk_download now tests that the response data is a valid zip file

commit 8586553a6c80f837472bc947d1a62032e32154c0
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Nov 17 16:01:24 2013 -0800

    removed references to TEMP_DIR from setup_ubuntu.sh

commit c2f318518d15903b7d2dbadb596b1d1f45cebc18
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Nov 17 15:55:02 2013 -0800

    removed reference to config.TEMP_DIR in test.py

commit c8f5d7aa47e9938d6d39225af8a1787ed6c74a2c
Author: William Budington <bill@eff.org>
Date:   Fri Nov 15 14:38:08 2013 -0800

    This does two things. Most notably, it adds MySQL to SecureDrop. This is
    necessary for the generation of source designations by the journalist.
    HACKING.md and setup_ubuntu.sh have both been modified to add this piece
    of infrustructure. setup_ubuntu requires no additional user input for
    this step, and modifies config.py accordingly.
    
    This adds an additional 2 pip dependencies:
    MySQL-python
    SQLAlchemy
    
    The db.py module uses SQLAlchemy to define the tables and perform
    database functions.
    
    We are storing the codenames in the database which can be queried with
    the sid.
    
    New codenames are generated with two new dictionaries, located in
    deaddrop/dictionaries, with an adjective and noun pair. This is
    memorable for the journalist. These dictionaries were generated with the
    python natural language toolkit, using the wordnik database.

commit 7975936e3b6e3828547ce54b76cc75a4d299a9af
Author: William Budington <bill@eff.org>
Date:   Sun Nov 17 03:20:29 2013 -0800

    Changing setup_ubuntu.sh to reflect changes in directory structure.
    Having setup_ubuntu.sh generate bcrypt salt and secure key and place
    those values in config.py.  This causes tests at end of setup script to
    pass.

commit d0a3f0d35ed869b1a3661eaef6e60dbff69c6c36
Author: William Budington <bill@eff.org>
Date:   Sun Nov 17 01:54:38 2013 -0800

    Upgrade distribute, then install requirements

commit e69939d7f4c82d122dca633744e7cc9d97bc1617
Merge: 9f97685e 158f0b67
Author: Bill Budington <bill@eff.org>
Date:   Sat Nov 16 23:41:55 2013 -0800

    Merge pull request #158 from Hainish/new-distribute
    
    This upgrades `distribute` to the latest of the 0.6 releases

commit 158f0b6775dd5736ca10378d9cc8b4aee0ef1a9f
Author: William Budington <bill@eff.org>
Date:   Sat Nov 16 23:33:25 2013 -0800

    This upgrades `distribute` to the latest of the 0.6 releases,
    currently 0.6.34.  This is useful because some packages need a newer
    version of distribute, and others some do not yet support setuptools.

commit b3ae86341d9c64ea341b8e4dc6257988f709633c
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Nov 16 23:06:12 2013 -0800

    get_bulk_archive now uses python tempfile and unlinks immediately to avoid using an explicit temp directory

commit 9f97685e19f3f2acd4cc5d61a13859ccea30c63a
Merge: fe747fbe cec4565a
Author: James <dolanjs@gmail.com>
Date:   Fri Nov 15 11:58:07 2013 -0800

    Merge branch 'big-merge' of https://github.com/freedomofpress/securedrop into big-merge

commit fe747fbe973100e4aa00f1abb454b7e12b458e4f
Author: James <dolanjs@gmail.com>
Date:   Fri Nov 15 11:55:45 2013 -0800

    updated ssh configs, easier breakdown of base_install.sh config files
    some apache hardening

commit cec4565a9265c6d1c3a9a6218f91a37e9372ab09
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Nov 15 10:22:04 2013 -0800

    pep8 all the things

commit 460684d243ad7c01c82d90dbce4114d2a0e1ed0d
Merge: ed95de29 26e2af0e
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Thu Nov 14 19:54:53 2013 -0800

    Merge branch 'install-scripts' into big-merge
    
    Conflicts:
            install_files/gen_bcrypt_salt.py
            install_files/journalist.ports.conf
            install_files/journalist.security
            securedrop/.gitignore
            securedrop/COPYING
            securedrop/DocREADME.md
            securedrop/HACKING.md
            securedrop/INSTALL.md
            securedrop/README.md
            securedrop/_genwordlist.py
            securedrop/background.py
            securedrop/crypto_util.py
            securedrop/journalist_templates/base.html
            securedrop/journalist_templates/reply.html
            securedrop/requirements.txt
            securedrop/source_templates/generate.html
            securedrop/static/css/securedrop.css
            securedrop/static/i/favicon.png
            securedrop/static/i/securedrop.png
            securedrop/static/i/tipbox/tipbox-hed-j-all.png
            securedrop/static/i/tipbox/tipbox-hed-j-single.png
            securedrop/static/i/tipbox/tipbox-hed-submit1.png
            securedrop/static/i/tipbox/tipbox-hed-submit3.png
            securedrop/static/i/tipbox/tipbox-hed-user.png
            securedrop/static/i/tipbox/tipbox-logo.png
            securedrop/test_journalist_key.pub
            securedrop/test_journalist_key.sec
            securedrop/version.py
            securedrop/wordlist

commit ed95de29e6a3162dd7890755cc4c7413b08987da
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Thu Nov 14 19:51:08 2013 -0800

    reorganize repo to prepare for merge
    
    Moved the deaddrop application to the top level of the repository and renamed
    it to securedrop. Removed the files that are also removed in the
    install-scripts branch to make the merge easy.

commit 900f87249f5a82f65ce0cf323bb660f021438cc8
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Thu Nov 14 19:19:46 2013 -0800

    improve flask configuration managament
    
    This fixes CSRFProtect so it works in deployment and also is correctly disabled
    when running tests locally.

commit 26e2af0ed2c7f068dfe08687d9015805825f3993
Merge: bdc13c44 6c3a5046
Author: dolanjs <dolanjs@gmail.com>
Date:   Thu Nov 14 18:04:52 2013 -0800

    Merge pull request #155 from dolanjs/install-scripts
    
    Install scripts

commit 6c3a5046658a1dded71d8ceca0719de97606ba50
Author: James <dolanjs@gmail.com>
Date:   Thu Nov 14 17:44:05 2013 -0800

    added directory structure to comments in interface-install.sh

commit 469e9ad4d7eea769735bdc88ac187f38ac11d5fc
Author: James <dolanjs@gmail.com>
Date:   Thu Nov 14 17:31:09 2013 -0800

    store cwd and parent dir in beginning of script

commit 2a1eda723d28754d2ec18abcea21c000e3764f4e
Author: James <dolanjs@gmail.com>
Date:   Thu Nov 14 17:07:13 2013 -0800

    closer

commit 61b2192bbb3565150047e5035c3a87ecf9e0573d
Author: James <dolanjs@gmail.com>
Date:   Thu Nov 14 12:27:39 2013 -0800

    moved order of copying files to avoid error

commit a313ef73006693f6e6e187aed7cb5909bdb19486
Author: James <dolanjs@gmail.com>
Date:   Wed Nov 13 21:17:24 2013 -0800

    moved more config files into install scripts directory

commit 50050314883c3b30c2d8662a856ab18d68d2c763
Author: James <dolanjs@gmail.com>
Date:   Wed Nov 13 20:44:56 2013 -0800

    moved config files into sep files

commit 2ed54a5ae07dfb1b66c45c0aacffe5e02f6588c1
Author: James <dolanjs@gmail.com>
Date:   Wed Nov 13 19:30:22 2013 -0800

    changed script to cp the source/journalist.wsgi file from the
    install-files dir

commit c16dbd978c62751b912a88fbbc2c58458cab4557
Author: James <dolanjs@gmail.com>
Date:   Wed Nov 13 18:45:03 2013 -0800

    added more error checking

commit 29febc722ceb84d8018b7ad4f4e784fe36054396
Author: James <dolanjs@gmail.com>
Date:   Wed Nov 13 17:47:34 2013 -0800

    uncommented pip install line

commit 0bc55c6f74507c641c8db88a5617419f507ce9e3
Author: James <dolanjs@gmail.com>
Date:   Wed Nov 13 17:16:04 2013 -0800

    added --no-updates options

commit e164e95581da67c55b2f05ac6a40a022d915c9ef
Merge: 2d9f46dd 883d334c
Author: dolanjs <dolanjs@gmail.com>
Date:   Wed Nov 13 14:33:26 2013 -0800

    Merge pull request #1 from david415/install-scripts
    
    Add --force-clean option to interface-install.sh
    thanks david

commit 883d334c08bd220ac95a5c8872896313943ffe1d
Author: David Stainton <dstainton415@gmail.com>
Date:   Wed Nov 13 13:22:38 2013 -0800

    Add --force-clean option to interface-install.sh

commit afcfc7e8ca718c49a5eea69b1a4ebcf154b799c7
Merge: 4e1d74b4 c6c95462
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Nov 13 11:03:03 2013 -0800

    Merge pull request #154 from micahflee/master
    
    Making all markdown links relative

commit c6c954625c5ce70619787a7971d78d8a41411069
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Wed Nov 13 10:58:00 2013 -0800

    Making all markdown links relative

commit 2d9f46ddd95207dc3584a418ed4a3d86a874f706
Merge: 44bc3ee2 2727456d
Author: James <dolanjs@gmail.com>
Date:   Wed Nov 13 00:39:17 2013 -0800

    Merge branch 'install-scripts' of https://github.com/dolanjs/securedrop into install-scripts

commit 44bc3ee210289d9a61a23cd64ec8d95ca30c3165
Author: James <dolanjs@gmail.com>
Date:   Wed Nov 13 00:38:05 2013 -0800

    backup tor keys before deleting directories

commit 2727456de57d1a4404d518448d9a8161aff4542f
Author: James Dolan <dolanjs@gmail.com>
Date:   Wed Nov 13 03:33:26 2013 -0500

    backing up the tor private key

commit 85bd867baeda5f235a0d2922f12bf1220d551fc8
Author: root <dolanjs@gmail.com>
Date:   Tue Nov 12 22:56:44 2013 -0800

    typos

commit cebcb2ad50e93273c3a1988a43c381f19a81fa35
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Nov 12 22:25:55 2013 -0800

    remove missed reference to crypto module
    
    This was still working on current installations because `crypto.pyc` was still
    lying around, but was breaking on new installations.

commit b8cee1462a3a1dc7926e0337a7d15f192d371920
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Nov 12 22:25:50 2013 -0800

    more fixes/improvements to ubuntu setup script

commit fa4ffce73fb2bb0bdcd2641beb32ca73b816b619
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Nov 12 21:38:47 2013 -0800

    fix nits in ubuntu dev setup script

commit 072b614fd22127f76bce3008d1dc2fae3d996018
Author: James <dolanjs@gmail.com>
Date:   Tue Nov 12 21:26:39 2013 -0800

    changed where to look for application files

commit 7b32dbd794c78b9ce11167689707a8503b43fae6
Merge: 07af1524 d2a5e0a4
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Nov 12 21:08:21 2013 -0800

    Merge branch 'setupScript' of https://github.com/wdoenlen/securedrop into wdoenlen-setupScript

commit 7482bd5d8061f01b05f6d2cafca2169bd82a1da9
Author: James <dolanjs@gmail.com>
Date:   Tue Nov 12 21:05:58 2013 -0800

    updated interface-install.sh and moved files to install_files dir

commit 9ad938b0ab523910b31b35497c05f335c4bcf1b0
Author: James <dolanjs@gmail.com>
Date:   Tue Nov 12 19:40:23 2013 -0800

    added source and journalist interface requirements

commit 6892455b9c2804114524d90ac4a379cf8fd106c4
Author: James <dolanjs@gmail.com>
Date:   Tue Nov 12 19:24:22 2013 -0800

    still have issue running interfaces

commit 07af152410d071526608c55e45ee1b3e4cf8402d
Merge: a296ccc0 0fd61041
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Nov 12 08:53:27 2013 -0800

    Merge branch 'feature/lazy-keygen' of https://github.com/diracdeltas/securedrop into diracdeltas-feature/lazy-keygen
    
    Conflicts:
            modules/deaddrop/files/deaddrop/journalist.py
            modules/deaddrop/files/deaddrop/test.py

commit a296ccc01cdc9b45f8ae7bea7d09d700be9b3d5b
Merge: f344eefc f2d4295e
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Mon Nov 11 23:25:15 2013 -0800

    Merge branch 'flask-rewrite' of https://github.com/jacksingleton/securedrop into jacksingleton-flask-rewrite
    
    Conflicts:
            modules/deaddrop/files/deaddrop/test.py
    
    This pull requests adds a "tmp" directory alongside "store" and "keys" to store
    zip files built for bulk downloads. I've added an entry to the example_config
    - existing users and developers will have to copy this to their config.py.

commit 0fd61041a3a912b7933e703d23892ad563e2d7a1
Merge: bf8d13e8 f344eefc
Author: Yan <yan@mit.edu>
Date:   Mon Nov 11 10:35:19 2013 -0800

    Merge remote-tracking branch 'upstream/flask-rewrite' into feature/lazy-keygen
    
    Conflicts:
            modules/deaddrop/files/deaddrop/journalist.py
            modules/deaddrop/files/deaddrop/source.py
            modules/deaddrop/files/deaddrop/test.py

commit d2a5e0a4d0506ee8410760c3119c3afc715ae9b8
Author: wdoenlen <wdoenlen@gmail.com>
Date:   Sun Nov 10 23:09:33 2013 -0800

    Check if Python unittest passes/fails, automatically modify journalist key in config.py, add some comments and colors

commit f344eefcc9000081f9216315bfdac1ac2de3c4fe
Author: William Budington <bill@eff.org>
Date:   Sun Nov 10 20:49:54 2013 -0800

    Fixing reversion on issue/80 - decrypted documents should retain filenames

commit bf8d13e89a1954a4ed74639f38d4a6a925f73062
Author: Yan <yan@mit.edu>
Date:   Sun Nov 10 18:42:15 2013 -0800

    Minor reply test improvements

commit 59a2e395564edbf86a1d2ef9b5f8d3d9d2bda2ea
Author: Yan <yan@mit.edu>
Date:   Sun Nov 10 18:10:46 2013 -0800

    Modify test_reply with new flagging feature

commit b038b2b2eb4d0a48fbe1c5b287570c7ecec1d404
Author: Jeremy Dunck <jdunck@gmail.com>
Date:   Sun Nov 10 18:00:15 2013 -0800

    Rename internal crypto module to crypto_util
    
    Mac file systems do case-folding, so that pycrypto's Crypto and securedrop's crypto collide.
    When running against a mac file system, deaddrop/crypto.py's attempt to import Crypto.Random failed,
    because Crypto folded to the deaddrop/crypto.py.  Renaming to crypto_util avoids the collision.

commit 896f2a290c22fccec09c0a959a2164fef2d89830
Author: wdoenlen <wdoenlen@gmail.com>
Date:   Sat Nov 9 23:07:35 2013 -0800

    First pass at a Debian/Ubuntu setup script
    
    Automatically modify config.py and .gitignore, add colorized output, fix some typos
    
    Fix path problem in writing config.py
    
    Add quick test to check operating system and distribution

commit dd52f223af4ef154ad514f5fbdbc3c99609a2a7f
Author: Yan <yan@mit.edu>
Date:   Sun Nov 10 17:30:13 2013 -0800

    Remove comment that is not true

commit 5f405703ba53764794d77bcbbffdc557d2dd57c1
Author: Yan <yan@mit.edu>
Date:   Sun Nov 10 17:14:34 2013 -0800

    Source-side flag checking

commit f2d4295e08889f60e5f696511f2c7215736b2161
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Nov 10 17:04:01 2013 -0800

    Added bulk download, closes #123

commit 89f6426e2516b14d69f20e572a9719c0de5d6c9e
Author: Yan <yan@mit.edu>
Date:   Sun Nov 10 16:34:38 2013 -0800

    UI improvements to flag

commit 9f7dcfa09f4fa4b4845da5da9bae9d114d903cec
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 10 16:33:56 2013 -0800

    remove ugly outline from js warning close button

commit 3907c63be8ef3f558dc996cf4e08dc827b88b645
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 10 16:29:03 2013 -0800

    list collections even if they contain no documents
    
    Now that the journalist can delete documents, it's confusing if they delete all
    documents. Then the source's collection "disappears" from the main list,
    leaving them with no way to reply to the source unless the source sends another
    submission.
    
    it would be better to display the number of documents in the main list, and
    allow journalists to sort the list of collections by the number of documents
    contained.

commit e9d50961ff72cd94667889f3293822a90c7813e9
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 10 16:28:16 2013 -0800

    consolidate to one version of jquery (2.0.4)

commit 9d4550d5ac7bada4f2cd68750ba4f326a56705b8
Author: Yan <yan@mit.edu>
Date:   Sun Nov 10 16:24:21 2013 -0800

    Don't show _FLAG files

commit a12084146a07d9244811f5f893d955d36ffce5a1
Author: Allen Riddell <abr@ariddell.org>
Date:   Sat Nov 9 16:47:27 2013 -0500

    Allow journalist to delete documents
    
    Securely delete (using `srm`) documents at journalist's request. Uses jquery
    to allow journalist to "select all". Nothing breaks if javascript is disabled.
    
    Closes #120

commit 45656a8216cc6ccc269b9f89d34983e62780b406
Author: Yan <yan@mit.edu>
Date:   Sun Nov 10 16:15:10 2013 -0800

    Start adding flags for journalist reply.
    
    See Issue #140. Journalists should flag sources that
    they want to reply to so we can generate keys for the
    source only when needed.

commit fd656ef6cd3ba17a560f2293955b2a7ef32a57b8
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 10 16:06:17 2013 -0800

    fix tor2web unit test

commit eb19f5f84f4c7573af699826670f857ab92acf52
Author: Yan <yan@mit.edu>
Date:   Sun Nov 10 14:19:52 2013 -0800

    Make tests more informative

commit 608777a86ee37c4f3daff84c73a3148f774677ee
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 10 14:16:43 2013 -0800

    fix leaving tor2web condition flipped from debugging

commit b40ec26ee2f262585b852e6a78e6f8ac98fca24d
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 10 13:32:53 2013 -0800

    tor2web warning banner
    
    This commit detects if Tor2Web is being used, and shows a warning message (with
    a link to a detailed page) if so.
    
    Closes #43

commit bdc13c445bcae7b2a21a6d030b20669c4930fff5
Author: James <dolanjs@gmail.com>
Date:   Sun Nov 10 10:50:09 2013 -0800

    a little bit closer

commit b0ef075843982a441ce5819ee2fe21636bc6f078
Author: James <dolanjs@gmail.com>
Date:   Sun Nov 10 04:42:24 2013 -0800

    added gen_secret.key.py

commit a9df073114538f51ba6e11130ea4bd49563d91eb
Author: James <dolanjs@gmail.com>
Date:   Sun Nov 10 00:59:04 2013 -0800

    fixed chroot jail path

commit feee21c001569e647cabf9e102d07e70674469a2
Author: James <dolanjs@gmail.com>
Date:   Sat Nov 9 23:40:21 2013 -0800

    put it in a for loop

commit 297e48073d9580e33f09b134166e4ec526cc7365
Author: root <dolanjs@gmail.com>
Date:   Sat Nov 9 21:20:28 2013 -0800

    installs the apache for the source interface in a chroot jail

commit b65d8de8276022c6b5d0d015d9482581244adf14
Author: William Budington <bill@eff.org>
Date:   Sat Nov 9 20:04:34 2013 -0800

    Using gritter in warning for javascript

commit 6ae80aee32f297359c8fa438c28bf3804f5f946a
Author: William Budington <bill@eff.org>
Date:   Sat Nov 9 20:03:32 2013 -0800

    Overriding gritter css

commit ed61d3caf597b379bf683fc151b93fde9baecbc1
Author: William Budington <bill@eff.org>
Date:   Sat Nov 9 20:03:13 2013 -0800

    Including gritter libraries and css on index page

commit 8b2cb11ded75f71227d378ef8668df5e08f33c0a
Author: William Budington <bill@eff.org>
Date:   Sat Nov 9 19:21:53 2013 -0800

    adding library: gritter

commit d6a8065228156aaac475ec1d58226687ff290613
Author: William Budington <bill@eff.org>
Date:   Sat Nov 9 19:20:17 2013 -0800

    Fixing some wording

commit 2b0cc495c95171a2c5cb9c7a538dda47177b4aae
Author: William Budington <bill@eff.org>
Date:   Sat Nov 9 18:51:57 2013 -0800

    Fixing indentation broadly.  Using two space javascript after
    re-investigating here
    http://atroche.org/post/30994290348/javascript-indentation

commit 099f44470978f7b8720d5c70d0ad09a055044caa
Author: Alex Papazoglou <papazoga@gmail.com>
Date:   Sat Nov 9 17:38:09 2013 -0800

    Advise users to disable javascript. Closes #101.

commit de0594bd3c5e0c061cd7d3e9016f3fed65ccb9ab
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Nov 9 12:05:54 2013 -0800

    detection of JS warning and docs

commit e594841797b1f4fa801b654284b1ee1a0df40391
Author: B.J. Rossiter <b.j.rossiter@gmail.com>
Date:   Fri Nov 1 14:58:12 2013 +1100

    Fix for issue #111
    
    Update Apparmor config on source server to allow GPG to lock the keyring.

commit eb1666e177a81beeab72d45e73b8569df4a97d53
Merge: 852dd8be 0006a8f2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Nov 9 17:19:54 2013 -0800

    Merge pull request #132 from liliakai/flask-rewrite
    
    Implement #121

commit 0006a8f20a0185f61f388aad735a04bc48e1cade
Author: lilia <liliakai@gmail.com>
Date:   Fri Nov 8 19:02:12 2013 -0800

    Implement #121

commit 852dd8be611ccd16af8fd2af1d2d3f4a09ee7f20
Merge: 8034f0f7 14cfd83a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Nov 9 16:58:26 2013 -0800

    Merge pull request #136 from zestyping/flask-rewrite
    
    Removes some words that don't look like real words from the wordlist.

commit 14cfd83aa31ae1c1afed5f7f6b86bbbece973fe9
Author: Ka-Ping Yee <ping@zesty.ca>
Date:   Sat Nov 9 16:31:17 2013 -0800

    Come on... those aren't real words. :)
    
    Note: entropy per word is reduced from 12.92 bits to 12.77 bits.
    Open to hearing your thoughts on this tradeoff.

commit 8034f0f79b8eecc561eb5abd27036b8c6de32af2
Merge: 0597bab9 9068c05d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Nov 9 16:30:13 2013 -0800

    Merge pull request #135 from pemulis/flask-rewrite
    
    gitignore vim temp files

commit 9068c05dfc334718cfaca71f170830fb3670b775
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Sat Nov 9 16:18:25 2013 -0800

    gitignore vim temp files

commit 0597bab94fe0ffbab7a98ba1d9a28ab4bf1484ab
Merge: 114c89af 97269a34
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Nov 9 15:18:29 2013 -0800

    Merge pull request #134 from zestyping/flask-rewrite
    
    Show a helpful message while the source's key is being generated.

commit 114c89af571695d79cab0c61050daa31a0fc2966
Merge: bbffc52c 98370a6a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Nov 9 15:12:18 2013 -0800

    Merge pull request #133 from fitzgen/normalize-in-verify
    
    store.verify should assert that the path it is verifying is normalized

commit 98370a6ac4dd82bbeda1a2407932f9fe87830741
Author: Nick Fitzgerald <fitzgen@gmail.com>
Date:   Sat Nov 9 14:14:19 2013 -0800

    Ensure that the path is normalized in store.verify.

commit 58de372a95e4d877022530b69b1543515caf6503
Author: James <dolanjs@gmail.com>
Date:   Sat Nov 9 15:06:41 2013 -0800

    added second chroot jail

commit 97269a34d5441a691f19f2affda7306215f87875
Author: Ka-Ping Yee <ping@zesty.ca>
Date:   Sat Nov 9 15:04:37 2013 -0800

    Show a helpful message while the source's key is being generated.

commit bbffc52ccd731ac65784b4f3bc14ac6dd1ad0cf8
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Nov 9 15:02:41 2013 -0800

    update requirements.txt (was missing flask-testing)

commit 533830b5730f281a9a5c55a780fd4a27fa2775aa
Author: James <dolanjs@gmail.com>
Date:   Sat Nov 9 13:33:37 2013 -0800

    start of interface-install.sh script to setup chroot jails

commit 4e1d74b480146586934a5b2b3f18db608899a85a
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Nov 9 13:07:07 2013 -0800

    fix order of instructions for installing dependencies

commit 048f9a3367ec542769d2bdbf2d6ebaa7006e7872
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Nov 9 13:03:03 2013 -0800

    update dev setup docs based on hackathon feedback

commit 525566309ef1600dce8c93ac56a14ff6307c7498
Author: James <dolanjs@gmail.com>
Date:   Sat Nov 9 10:49:48 2013 -0800

    removed puppet added base_install.sh script

commit 98e761e33e7f129117fe7cdb4e4358ceeb593ec1
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Nov 8 19:42:56 2013 -0800

    temporarily remove dangerous characters from wordlist
    
    Until we can audit the python-gnupg library for shell injection vectors
    (avoiding these was a key reason for isis lovecruft's fork), we are removing
    unsafe characters from the wordlist and safelist so they are never passed to
    the underlying gpg process.
    
    This very slightly reduces the length of the wordlist which in turn reduces
    codename entropy, but this tradeoff is worthwhile until further investigation
    can be done.

commit 0b6fb33abc4bf56247329a6b80c533abde44e817
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Nov 8 18:31:15 2013 -0800

    Update safe character list to include all possible characters from the wordlist

commit a783c9272fc4c45fab9c3e0ec9d3551e0ebe4ad3
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Nov 8 18:16:51 2013 -0800

    fix test race conditions (hacky)

commit 5dc8e7f73de90b4459ea8b5b2a6f0d1eb628305c
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Nov 8 18:16:06 2013 -0800

    Reduce bcrypt rounds in tests for perf

commit 30e3ab0ae2f255913a33b034c5ebf923d661550d
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Nov 8 12:22:12 2013 -0800

    fix link on 404 page

commit c5e04c204869164ed017d7f526ea2b5764db2bc7
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Nov 8 09:45:15 2013 -0800

    tests, and accompanying revisions

commit 8395ad9a74b4a39f922ff00e19f1d5e7f369164f
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Nov 5 08:29:37 2013 -0800

    add CSRF protection with flask-wtf

commit a04ca4bbd500952a324171cc7e2f24c0d6c84acb
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 3 15:35:49 2013 -0800

    Rewrite journalist.py with Flask

commit da5f68bb1b9d71a0621d7766e8c8251f4b702811
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 3 15:35:35 2013 -0800

    remove unused function and its web.py dependency

commit 96a77ed1c8c994f6c9e98c591e62ea8de21b0a08
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 3 15:35:01 2013 -0800

    re-enabled generating source keys on first submission

commit 4654fb75839214d3d6c631ce6759a367157731e9
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 3 13:36:47 2013 -0800

    Rewrite source.py with Flask
    
    Make sure you update your virtualenv!

commit 477fc19bef3be59a0ee65591be9dc43c859d019f
Merge: ab2ab377 447a4a53
Author: dolanjs <dolanjs@gmail.com>
Date:   Sat Nov 2 13:17:25 2013 -0700

    Merge pull request #117 from TheGlobalMail/issue111
    
    Fix for issue #111

commit 447a4a53fc22b0d26e737a0c2816b8314c589e9d
Author: B.J. Rossiter <b.j.rossiter@gmail.com>
Date:   Fri Nov 1 14:58:12 2013 +1100

    Fix for issue #111
    
    Update Apparmor config on source server to allow GPG to lock the keyring.

commit ab2ab3775a7400bf998055662549417b972cbf4d
Merge: 24c9ad82 0bd80601
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 31 18:08:07 2013 -0700

    Merge pull request #116 from Hainish/feature/issue80
    
    Fixes unit tests, which were broken by #113 to fix #80.

commit 24c9ad82eee8c96b5bd6f7eaec1c2597233f5b4e
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Thu Oct 31 17:27:01 2013 -0700

    Add top-level HACKING doc with contact info

commit 0bd80601142124d90f7a28870f45b6d4b3d988ff
Author: William Budington <bill@eff.org>
Date:   Thu Oct 31 15:51:15 2013 -0700

    fixing unit tests related to issue 80 fix

commit fb413041d5b24d86db6bea74c1b33f89d54362ef
Merge: 891c9915 da0bad12
Author: Micah Lee <micah@micahflee.com>
Date:   Thu Oct 31 10:40:40 2013 -0700

    Merge pull request #113 from Hainish/feature/issue80
    
    Feature/issue80

commit da0bad12ec72ef6646527d0ee708505868ceffaf
Author: William Budington <bill@eff.org>
Date:   Thu Oct 31 01:09:06 2013 -0700

    new filenames should be recognizable as valid and downloadable from defined endpoints

commit 94f8176537407919fdd48a75b15e6ad2ca0c4976
Author: William Budington <bill@eff.org>
Date:   Thu Oct 31 00:34:31 2013 -0700

    manually specifying filename in gpg flag no longer necessary

commit d9c6ad668156f1ecc88c24ed6b40b8076aa312cb
Author: William Budington <bill@eff.org>
Date:   Thu Oct 31 00:29:36 2013 -0700

    source document is now encrypting to zip file to perserve contained filename

commit 891c991543e27afd7e010cf0a792c08b7d779967
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Wed Oct 30 14:27:37 2013 -0700

    Remove unused gen_ajax function and url rule

commit 05f52ec89b8e112899a9a4b1e736ce017349b635
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Wed Oct 30 12:16:58 2013 -0700

    Only generate valid-length codewords
    
    This prevents potential DoS through requesting the server to generate enormous
    codewords, first reported here [0].
    
    [0] https://github.com/freedomofpress/securedrop/issues/4#issuecomment-27372878

commit a4b53eecc54efc32b03095cafd8716ea3b0c2337
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Oct 29 19:37:09 2013 -0700

    Upgrade PyCrypto to to 2.6.1
    
    PyCrypto 2.6.1 fixes a potentially serious issue in the CSPRNG [0].
    
    If you already have your dev environment set up, you can simply `pip install -U
    pycrypto`.
    
    [0] http://lists.dlitz.net/pipermail/pycrypto/2013q4/000702.html

commit 647a959fb387488a9b40aa2ba7fb150a4dc9d0b9
Author: Yan <yan@mit.edu>
Date:   Sun Oct 27 22:35:31 2013 -0700

    Replace userid with fingerprint in HACKING.md
    
    We remove spaces in the key identifier in crypto.py,
    so using the gpg userid as the key identifier instead of
    the fingerprint won't work. See
    https://github.com/freedomofpress/securedrop/issues/96.

commit fa18b54a3c4a99a9bc4db56f72b78d4bd6d9e83d
Merge: 54159261 5297d3a7
Author: Yan <yan@mit.edu>
Date:   Sun Oct 27 20:58:33 2013 -0700

    Merge branch 'feature-remove-javascript' of https://github.com/garrettr/securedrop

commit 54159261fae9d6899ad7a08c2a72992d3d3b42c7
Author: Yan <yan@mit.edu>
Date:   Sun Oct 27 20:47:20 2013 -0700

    Add links to live demo sites

commit 5297d3a77a65305c4a92121118a210076fb713af
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Oct 26 15:44:05 2013 -0700

    remove javascript
    
    unit test passes, so the "regenerate codeword" functionality is still intact.

commit 051d1802ea351b6d4bb413599cffb3088c8d01b4
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Oct 26 15:31:33 2013 -0700

    test for codename regeneration
    
    The single quotes in the "regenerate-form" form were changed to double quotes
    due to a bug in paste. While using single quotes is valid for values of HTML
    attributes, paste does not parse them correctly and as such cannot modify
    fields or submit the form.

commit 21ca77b29a0f8ac5a08e66cf275de5196f574068
Merge: 3e4612fe 9f84ddd1
Author: Micah Lee <micah@micahflee.com>
Date:   Thu Oct 24 11:24:55 2013 -0700

    Merge pull request #97 from msjoinder/help_mac_users
    
    improve Mac OSX instructions

commit 9f84ddd1f272d6670c743d0670dd8d2a4c3a4d86
Author: Msjoinder <msjoinder@gmail.com>
Date:   Wed Oct 23 23:35:15 2013 -0500

    improve Mac OSX instructions

commit 3e4612fe10677272daffa84057654db7aa95cd60
Merge: fab1d312 d163d7b1
Author: Micah Lee <micah@micahflee.com>
Date:   Thu Oct 17 16:18:34 2013 -0700

    Merge pull request #90 from garrettr/remove-hmac-secret
    
    Remove all instances of HMAC_SECRET

commit d163d7b163721fb8b1dde8c53c8b11c1625d3e8d
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Thu Oct 17 10:14:15 2013 -0700

    Remove all instances of HMAC_SECRET
    
    Unit tests continue to pass, which confirms this variable was not being used.

commit fab1d3124b993ac45afd70ef0eb6df61f47026f9
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Tue Oct 15 17:56:37 2013 -0700

    version bump to 0.2development

commit 7ebfb26eb372e7cd1c3ed6638e4fdb77d5803068
Merge: 7ceaae1a 117b77a4
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 09:04:36 2013 -0700

    Merge pull request #84 from dolanjs/master
    
    apparmor tweaks

commit 117b77a4beabeffba26caa043b7185bd6cf0b978
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 11:16:09 2013 +0000

    apparmor tweaks

commit fc1c06fba759741227154925170eb2c9795d3ef2
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 09:48:50 2013 +0000

    added --no-ri and no-rdoc to server_setup.sh

commit 14737c27a7bdf7f4364e9c60aa6fe360e4db95c8
Merge: 6cce9c12 7ceaae1a
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 09:47:26 2013 +0000

    Merge remote-tracking branch 'upstream/master'

commit 6cce9c123dff587eb49120e4c9a3cbb3e660544c
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 09:45:41 2013 +0000

    added pre-built apparmor profiles for apache2-mpm-worker

commit 848e14cb2800b29817f48d69206107fa764f3524
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 09:44:42 2013 +0000

    added apparmor profiles

commit 7ceaae1a51313fd311678240e6098bcae5fb8634
Merge: 443d0a4d b3ae4839
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Tue Oct 15 00:35:05 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit 443d0a4d1bad42f437bea3b599be6f2e6f2b9dae
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Tue Oct 15 00:34:59 2013 -0700

    added a changelog and version bump to 0.1

commit b3ae48398ba99f26d643528c7e68ead8916245c2
Merge: 229ec0c9 e5417081
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Oct 15 00:29:22 2013 -0700

    Merge pull request #83 from garrettr/tests
    
    Tests

commit e54170812bd7a4ab79a24bd2d3b03cefbd867169
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Oct 15 00:12:17 2013 -0700

    Add requirements.txt, with libraries for testing

commit a7a54ec4cc5a7e1415374b9c9e3f01627f001dab
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Oct 15 00:07:13 2013 -0700

    General coverage with unit/integration tests
    
    This covers the basic unit tests of accessing each site and clicking through
    the interface. It also integration tests submitting messages, files, both
    messages and files, and journalists replying to a source.

commit b616718e70b899cc32637f431fd58f280a751ec5
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Oct 15 00:07:06 2013 -0700

    Add Content-Type to downloads (needed for tests, helpful in browser)

commit 5fec0e6d00fa526710ee2364459ffe98704a5f7a
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Oct 15 00:06:08 2013 -0700

    Better exceptions for crypto.clean

commit 229ec0c940cf4322e4438e87f1bd91aea0e5976e
Merge: 6bd07ffb 7aaf7e97
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Oct 14 23:17:59 2013 -0700

    Merge pull request #82 from dolanjs/master
    
    added autoremove and removing /etc/puppet

commit 7aaf7e97c4d84c2a82b4947b11f2d669c4ab5451
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 06:16:23 2013 +0000

    added autoremove and removing /etc/puppet

commit 6bd07ffb26768c086fd2400caf145cdad86da320
Merge: 4036c0b4 b625a8a3
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Oct 14 23:06:49 2013 -0700

    Merge pull request #81 from dolanjs/master
    
    fixed tor error and added purging unneeded packages after install

commit b625a8a30dc8e5b8489e6a95eda734b9a95eaf14
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 06:04:17 2013 +0000

    added removing unneeded packages

commit 147d0916ba546c96b5b85a3cc1b57ce4980dc2d6
Merge: 831eaabf 4036c0b4
Author: root <root@domU-12-31-39-02-18-83.compute-1.internal>
Date:   Tue Oct 15 05:48:29 2013 +0000

    Merge remote-tracking branch 'upstream/master'

commit 831eaabf7f8c6c5aad0a74c5cce327ebcd59c807
Author: root <root@ip-10-238-222-94.ec2.internal>
Date:   Tue Oct 15 04:41:45 2013 +0000

    fixed tor error with the update to the puppetlabs apt module

commit 4036c0b4197cedef8e0f7e347fe555d125d04ee9
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Mon Oct 14 21:24:38 2013 -0700

    I changed the screenshot, so I need to change the code word (#57)

commit c42a55d44fb002cfea008bd3c99c6f13712227b8
Merge: 8be8c446 d832142f
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Mon Oct 14 21:18:27 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit 8be8c4461fecf1d6b18c1d3ecabace537245e303
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Mon Oct 14 21:18:21 2013 -0700

    wrote user manual (#57)

commit d832142fc5436154cebf75ea305e2fb741809c9a
Merge: b016382c 3f42befa
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Oct 14 20:41:39 2013 -0700

    Merge pull request #79 from dolanjs/master
    
    remove sshfs_fix and enable ossec authd

commit 3f42befaaaddd9c3e45794b3a6e15c30269d1b64
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 03:12:25 2013 +0000

    added package for deb.torproject.org-keyring

commit b016382c10c10e317d3e3cc7a0710101534c8ca5
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Oct 14 20:06:22 2013 -0700

    fixed image url
    
    fixed image url for journalist interface

commit 76ba016c16a1f08bb88180b97b3405d0dcd13079
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 02:52:33 2013 +0000

    Revert "added os.environ['USERNAME'] = 'www-data' to crypto.py"
    Micah already submitted
    This reverts commit 7fa47005f819d8ef20437ccd8a04177f48ce5e75.

commit 7fa47005f819d8ef20437ccd8a04177f48ce5e75
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 02:46:07 2013 +0000

    added os.environ['USERNAME'] = 'www-data' to crypto.py

commit 606027a39bbb7c5f5993eba61aaa7371d3e35316
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 02:43:59 2013 +0000

    error fixes

commit 07437aff8567ce4aa7b36b2911113e637fa1cfc4
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Mon Oct 14 19:15:55 2013 -0700

    fixes #78

commit 765fb4a2520e612c145362d9b201edb2dc3c389d
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Mon Oct 14 18:36:46 2013 -0700

    updated journalist workstation setup docs

commit 5bc5daca07514e4473f0ba85923680b3cb74c710
Merge: 4ea21126 1c67f531
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Oct 14 17:32:58 2013 -0700

    Merge pull request #77 from dolanjs/fix-setup-error
    
    Fix setup error

commit 1c67f531abe80ce4c5ff8e5bdb976528e0e69419
Author: root <root@domU-12-31-39-07-4A-6E.compute-1.internal>
Date:   Tue Oct 15 00:14:33 2013 +0000

    fixed type in fixsshfs

commit 28197b3d713236381424bbbc669d0430f25b2de9
Author: root <root@domU-12-31-39-07-4A-6E.compute-1.internal>
Date:   Mon Oct 14 23:53:04 2013 +0000

    removed unneeded ssh attempt

commit 4ea2112666152196b9e56732f81eee6fa80f124c
Merge: 3c973fdc 8799d390
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Oct 14 15:58:43 2013 -0700

    Merge pull request #75 from dolanjs/sshfs_fix
    
    Sshfs fix

commit 8799d390da1f2c0094bd5cee641b6c4af4a1a93a
Author: James <dolanjs@gmail.com>
Date:   Mon Oct 14 15:54:00 2013 -0700

    removed trailing white space

commit 7edad2aee848a16f201a777ab5b64ac141b446eb
Author: James <dolanjs@gmail.com>
Date:   Mon Oct 14 15:52:00 2013 -0700

    added sshfs fix function to server setup.sh

commit 3c973fdc939e94c62ff3762e6b4265c08356398c
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Mon Oct 14 14:57:04 2013 -0700

    unit test for file submission

commit ba75dcb5ef0749264bac3285b3a7233a3a366935
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Mon Oct 14 14:54:51 2013 -0700

    Improve file field detection
    
    Previous code was fragile and implicit. This code makes the failure case
    explicit, based on the default value of {} passed to web.store as well as notes
    from the Python CGI documentation, which is the source of the FieldStorage data
    structure. [1]
    
    [1] http://docs.python.org/2/library/cgi.html

commit 21035f500c15b9d2666f3c1b79fcb69eecf91855
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Mon Oct 14 08:14:10 2013 -0700

    Update codename regex to handle all possible characters

commit 55337a3e4a42ae88cf1e48d5afaf172d14955a43
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Mon Oct 14 07:57:06 2013 -0700

    Fix codename regex to match <p> instead of <span>

commit e862f7c8a689cb790ec1a169940983622930d89d
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Mon Oct 14 14:56:38 2013 -0700

    oops, shouldnt overwrite /etc/resolv.conf

commit 43f6fbd5e06d0d9a73ab24708a664e8199d89a72
Merge: 13c6d26f 9ddf47be
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Oct 14 14:40:02 2013 -0700

    Merge pull request #74 from dolanjs/issue69
    
    Issue69

commit 9ddf47bedbb972c99691008a7186c410e566d73f
Merge: fe44d2bc 9acbdc63
Author: James <dolanjs@gmail.com>
Date:   Mon Oct 14 14:33:52 2013 -0700

    Merge branch 'issue69' of https://github.com/dolanjs/securedrop into issue69

commit fe44d2bcc60d9431ce56a79ebad08ec744b061b8
Author: James <dolanjs@gmail.com>
Date:   Mon Oct 14 14:14:10 2013 -0700

    added steps for configuring the journalist workstations authenticated tor hidden service

commit 13c6d26fc38c03c4558fece8e24d728e5d0377e1
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Mon Oct 14 14:29:10 2013 -0700

    added /etc/resolv.conf, for #72

commit 9acbdc63299b8b219722708c4242861b2f15e63d
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Oct 14 14:24:44 2013 -0700

    corrected raw url

commit 652f163a140283016f1b0a8612cf3d4d2fe13366
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Oct 14 14:21:56 2013 -0700

    added screen shot
    
    added screen shot of journalist browser

commit 4527cbb18f35f42f3a7f02f8e0a15b736aeae3b6
Author: James <dolanjs@gmail.com>
Date:   Mon Oct 14 14:14:10 2013 -0700

    added screen shot of journalist_workstation1 shouw the journalist's unique url

commit 7f82614291fc1267cabf0dbbe45feed0a8cc0d2c
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Oct 14 14:04:34 2013 -0700

    wording

commit 04b5a60abd6c511a1b8863423a3c4ea5851b15ec
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Oct 14 13:55:36 2013 -0700

    added steps for adding the HidServAuth value to journalist

commit 259dcb80f052a13378dd74ff5defa0737e66d2dc
Author: root <root@securedrop-monitor.(none)>
Date:   Mon Oct 14 19:53:34 2013 +0000

    added hostnames back to nodes.pp and have server_setup.sh set intial /etc/hosts on remote hosts

commit 94407cb28c36629a892bbfc6466f30dcb517016d
Merge: d867375f bb2b7f98
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Oct 14 10:30:59 2013 -0700

    Merge pull request #73 from dolanjs/gpg-pub-key-name
    
    changed server_setup.sh so that it is not dependent on the default gpg k...

commit bb2b7f9879186b6bec8d76ecaf41821fdc1618a4
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Oct 14 17:04:41 2013 +0000

    changed server_setup.sh so that it is not dependent on the default gpg keyname

commit d867375fcaceee25410384acf82195dc25a80c7e
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Oct 13 23:15:56 2013 -0700

    Forgot to import os

commit e318b914be50cd5f920c97dfc39bdbee35f10e29
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Oct 13 22:20:17 2013 -0700

    Use small keys for unit tests
    
    Fixes previous accidental change to use small keys for everything.

commit ad1885481c16b2ae050146b8de209ad6f4409d81
Merge: 6e8d4d86 282e6f76
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 21:37:01 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit 6e8d4d86611530af8a458a706e245719b3175f0d
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 21:36:52 2013 -0700

    updating application PGP public key filename in server_setup.sh

commit 8a7da9246905c3c156bdaf6361e609e0c04c8c61
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 21:21:07 2013 -0700

    updating server installation docs

commit 282e6f76220e77d8f896cf65f295bdb38291ae8f
Merge: fdfcb4a2 bbc35ef8
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Oct 13 21:03:50 2013 -0700

    Merge pull request #70 from GabeIsman/master
    
    Add rails dependency back in to install script

commit 9ff3ef2685f6d33636ebba0eb3810a1518f6490f
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 20:54:50 2013 -0700

    fixed typos in install doc

commit fdfcb4a21aed8da07b5ef34f2728c635d9151727
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 20:49:49 2013 -0700

    rewrote viewing station docs, fixes #71

commit 75784a29bf0270abbc2f030a8b132bb1e93dba16
Merge: e4937d28 2b07440e
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 18:30:44 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit e4937d28770c22c8d981c1f9e3ee19894be086a0
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 18:30:39 2013 -0700

    updated UI, fixes #55

commit 2b07440e6f1dae5c53da9c0c116963ddcae3a057
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Oct 13 18:24:35 2013 -0700

    Start unit tests for source.py
    
    Adds ids to forms so they can be distinguished by the tests. Small fix to silly
    broken code for detecting if the upload form includes a file upload.
    
    The ValueError exception that occurs after the tests run is spurious. It is
    caused by a call out to generate a key for the source, which is async.
    Meanwhile the tests continue, and tearDownModule wipes out the test directory,
    so when gpg is done generating the key it has no keyring to write it to and
    exits with an extra-special error code.

commit bbc35ef8cc0e149f20cfcc9dd884364d12987c19
Author: Gabe Isman <gabe.isman@gmail.com>
Date:   Sun Oct 13 18:23:11 2013 -0700

    Whitespace cleanup

commit 51055697571ccdb8783ee79b3a44bad2e72733de
Author: Gabe Isman <gabe.isman@gmail.com>
Date:   Sun Oct 13 18:22:42 2013 -0700

    Revert "Remove installRails function and doc references"
    
    This reverts commit 511fd41976ede6631ce6e37064cd07834359a480.

commit 486494f5f867c361afe0eea4e0662b00d6a83adf
Author: Yan <yan@mit.edu>
Date:   Sun Oct 13 17:56:56 2013 -0700

    Update shash doctest

commit 38c19ee4402a791c12e16765769bfadf26f1f600
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 17:44:23 2013 -0700

    more user manual updates (#57)

commit afb4c668df88ef3818c63f54d8bda35a99438c13
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 17:43:03 2013 -0700

    made code name display in a block element instead of inline, because of weird firefox bug involving adding extra whitespace when copying from inline elements

commit f438cf83328eb8841172d3b885b5807310cbd323
Merge: a14db2c3 ac839669
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 17:34:13 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit ac83966921b95cd57d8842834fe2fcfe415f1f5a
Author: William Budington <bill@eff.org>
Date:   Sun Oct 13 17:28:55 2013 -0700

    changing the gnupg params

commit a14db2c3c291cfd2473b697731ca9e60e9aa4b14
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 17:24:49 2013 -0700

    changing dependency from gnupg to python-gnupg

commit c25ae62ee82e367fb6cf9655e98cb495e763165d
Author: William Budington <bill@eff.org>
Date:   Sun Oct 13 17:20:38 2013 -0700

    reverting to old python-gnupg lib

commit 6bb6bb715dd5d0ef7e1d49a8dc0e561aa9977764
Merge: 044af82f 606f0620
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Oct 13 17:02:54 2013 -0700

    Merge remote-tracking branch 'upstream/master'

commit 044af82fb51846ae82d12fbc58ae33e0c79b2ba4
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Oct 13 17:01:14 2013 -0700

    Switch back to python-gnupg for now
    
    Porting to gnupg ended up being non-trivial. We still want to do this
    eventually, but we found several bugs in gnupg and don't want to be blocked on
    it anymore.

commit 606f0620a0a5865dc291f4b48c69d06f89aec345
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 16:47:35 2013 -0700

    started to write source user manual (#57)

commit 022260cdb6412074c157d277e2bb365a5859f513
Merge: 0c30cd71 78af2e7a
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 16:37:24 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit 78af2e7a71ab658f8781e215d4005810a99aee51
Merge: 88b73c9b de9a046c
Author: Yan <yan@mit.edu>
Date:   Sun Oct 13 16:28:30 2013 -0700

    Merge branch 'master' of https://github.com/freedomofpress/deaddrop

commit 88b73c9bac8fd927beb4e77ba3351f3ba304d56b
Author: Yan <yan@mit.edu>
Date:   Sun Oct 13 16:28:11 2013 -0700

    GPG_KEY_LENGTH should be number, not string

commit 0c30cd71d98c078dddceaa9d65ac5aeb0c050ab6
Merge: 719f9b28 de9a046c
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 16:26:57 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit de9a046cd2cb8831beaa82d71def4ba56aa1e70c
Author: William Budington <bill@eff.org>
Date:   Sun Oct 13 16:25:37 2013 -0700

    crap

commit 1a8bef6cfb152aa1cb9c39fa3870b519945412cb
Author: William Budington <bill@eff.org>
Date:   Sun Oct 13 16:22:23 2013 -0700

    remove debug statement

commit 719f9b2888d13ee16b3b41f0346a382bb9edecbd
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 16:21:25 2013 -0700

    renamed ubuntuconfig.md to ubuntu_config.md

commit 1f45dca2b35eb1b9c395f79e6bf5f71261a9596f
Author: William Budington <bill@eff.org>
Date:   Sun Oct 13 16:21:00 2013 -0700

    whoops: shquote needed to wrap filename

commit 5609264f2409e026415e7716450bee50c37139ec
Merge: ceb4861c be1399a4
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 16:18:57 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit ceb4861cc2049dbceaa550ce46821f00bc3e94e0
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 16:18:46 2013 -0700

    removing our own GUI for file encryption (#27)

commit be1399a458c70b799ddbd5981e88daf1eb426a91
Author: William Budington <bill@eff.org>
Date:   Sun Oct 13 16:16:04 2013 -0700

    changing encrypt_file to encrypt, with fn as output

commit 91f6c818487652418d7a6799b6d53118585219c9
Merge: f25f62b8 5c18b2d5
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 16:07:58 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit f25f62b8f9bb76725a3965a3f058e614ae8d11ed
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 16:07:50 2013 -0700

    starting on document UI improvements (#55)

commit 2e21e5e8d13c3300063372897571252cea5b9300
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 16:05:28 2013 -0700

    displaying version on both source and document interfaces

commit ff90c423663209ea981242d42bd81ab1d1872bd1
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 15:56:32 2013 -0700

    improved source UI (#55)

commit 5c18b2d5bd3dfca19d3febe946ee4101144e8e91
Author: William Budington <bill@eff.org>
Date:   Sun Oct 13 15:13:32 2013 -0700

    changing from list to parameter to avoid gnupg lib error

commit aa844f5577390c552cb752b0606053ea1ccbe6b0
Author: William Budington <bill@eff.org>
Date:   Sun Oct 13 13:55:04 2013 -0700

    changing fp to fingerprint for clarity

commit 84a0b89b681e7e95ecd8bf2fccf24df3c340dca2
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 13:52:59 2013 -0700

    changed tabs to spaces in hacking.md, and added python-dev dep

commit 0d22dd16d09987e87e331f9b5c1d222043c19f20
Merge: 7d1468ae a16c19ed
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Oct 13 13:10:10 2013 -0700

    Merge remote-tracking branch 'upstream/master'

commit a16c19ed11223e267401b43c6e88e4384f66dbd4
Merge: d3c48604 511fd419
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Oct 13 13:09:01 2013 -0700

    Merge pull request #66 from GabeIsman/removerails
    
    Remove installRails function and doc references

commit 7d1468ae23252c16ed8afd5ba619e538024c58a5
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Wed Oct 9 20:04:53 2013 -0700

    Add JOURNALIST_KEY instructions for developers
    
    Some rearranging for a clearer set of instructions, minor style fixes.

commit a1f11a88c68aebcef749fcab172c029ae2ffabab
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Wed Oct 9 19:44:51 2013 -0700

    Don't version control config.py
    
    We should only keep the config template in git. Keeping config.py (even as
    a symlink) creates all kinds of problems:
    
    1. modifying it for your deploy shows up as local changes
    2. easy to accidentally `git commit -a` and push sensitive data
    3. doesn't correspond to the instructions in HACKING.md

commit 511fd41976ede6631ce6e37064cd07834359a480
Author: Gabe Isman <gabe.isman@gmail.com>
Date:   Sun Oct 13 13:05:06 2013 -0700

    Remove installRails function and doc references

commit d3c48604135f0270bef34dc698c467f75395f24c
Merge: 60ce0165 24f9d20c
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Oct 13 12:55:17 2013 -0700

    Merge pull request #65 from garrettr/tests
    
    Skeletal test harness

commit 60ce0165aa31ee7d84f5936509eebe1797dd5fd9
Author: William Budington <bill@eff.org>
Date:   Sat Oct 12 18:29:21 2013 -0700

    added an ajax regenerate control

commit 0d15589edbaa0b18beb39ea48f6262922a2b7d20
Author: William Budington <bill@eff.org>
Date:   Sat Oct 12 18:29:01 2013 -0700

    stylized regenerate form

commit a607e9f4c68a3253e486f056a0a7490858e3ee84
Author: William Budington <bill@eff.org>
Date:   Sat Oct 12 18:28:28 2013 -0700

    /generate/ is now a GET endpoint, which POST refers to when provided with # of words.  added endpoint /create/ to create docstore. added form to regenerate codes

commit bf38247c57e46bc595659da2d4fa7692badbfe3e
Author: William Budington <bill@eff.org>
Date:   Sun Oct 6 18:38:37 2013 -0700

    regenerate code link

commit 3cbda85b6cd7c8f640410bae8fb0c7673fca183a
Author: William Budington <bill@eff.org>
Date:   Sun Oct 6 18:18:21 2013 -0700

    fixing indentation for gen_ajax

commit 5cf57f27c437a69661fa6483ab96fc590a0560d5
Author: William Budington <bill@eff.org>
Date:   Sun Oct 6 16:20:47 2013 -0700

    adding ui.js

commit f92f646f3089eed0e852f193f366b8d2ce2fa70e
Author: William Budington <bill@eff.org>
Date:   Sun Oct 6 16:01:00 2013 -0700

    adding jquery

commit d9f969f8e111b998f8e1d20da05e3185a074636d
Author: William Budington <bill@eff.org>
Date:   Sun Oct 6 15:27:34 2013 -0700

    adding json password gen endpoint

commit 24f9d20c9680b8cc9ad030de0affd4d30cf174da
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Oct 12 12:46:17 2013 -0700

    Skeletal test harness
    
    To run, `./test.py`
    
    The test harness sets an environment variable before importing config.py, which
    tells config to use a "test environment" (store dir, key dir, and journalist
    key) instead of the production environment.
    
    I created a journalist keypair and included it in the repo for testing.
    Generating a GPG keypair can be very time-consuming, and we want to be able to
    run tests as fast as possible. The keypair is clearly marked so it is not used
    by anyone for anything besides testing this application.

commit a64fd2f40f4db8acc110fe23434dc029877325e1
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 23:48:33 2013 -0700

    started the user manual

commit 8ba05a81111935bfeeda50b37379d5cb12a57795
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 23:38:00 2013 -0700

    updating to isis's gnupg module

commit 6d092dbde7bcb120c8c6b6a5b133e7eaa3dfcbdd
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 23:15:45 2013 -0700

    improve server installation docs

commit 12b52b05c1a0fcb261600d64304464e8a1868093
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 23:15:26 2013 -0700

    add SMTP server requirement to readme

commit 4dab0ab79911c4867828b5c8876eb4555dbc6fbc
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 23:15:08 2013 -0700

    more server_setup.sh wording fixes

commit 2bd032eab005c03d5462ddc019c71ed444946d90
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 22:30:44 2013 -0700

    fixed lots of wording in step 2 of server_setup.sh

commit 4c601012764de685b8e194aa73a61d5dfaa27293
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 22:01:42 2013 -0700

    update ossec-binary url (#42), and make grsec step optional in server_setup.sh

commit 3de58cdbfed762a06b63707f245b21211eb46241
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 21:55:51 2013 -0700

    renamed PGP key to securedrop.asc, and updated user interface in server_setup.sh

commit c9a311d56538700eec6a92e495e1b71edaf66433
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 21:55:18 2013 -0700

    removed grsec instructions, they are too complicated for us to maintain

commit e398e69dcee6d87fa8822646189afc67cec7c6f2
Merge: b7a3d5f6 9dec8f99
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 21:29:47 2013 -0700

    Merge branch 'installScripts' of github.com:freedomofpress/securedrop-old
    
    Conflicts:
            viewing_setup.sh

commit b7a3d5f6ef2646da73ddd2bc7fe6ba42cb38338a
Merge: a4767b86 14e80a7c
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 20:59:57 2013 -0700

    Merge branch 'master' of github.com:micahflee/securedrop

commit a4767b8666cdf0565d90c3bd3db185f23100d4e5
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 20:59:26 2013 -0700

    updating viewing station instructions

commit 9dec8f99be896f60b40a69a0d7152a11bd17f96e
Author: dolanjs <dolanjs@gmail.com>
Date:   Sat Oct 12 03:47:57 2013 +0000

    changed file dir per micah

commit 14e80a7cd09388849457f8beba5e67bab48b1570
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Oct 12 03:46:13 2013 +0000

    save PGP public key to securedrop.asc instead of secure_drop.asc

commit 3a41bdc871b74292475fe56e225564435dbe8d0e
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Oct 12 03:40:56 2013 +0000

    viewing_setup.sh wasn't successfully saving secure_drop.asc

commit e786a6a827423580198fd4af5deb0391ccc99492
Author: dolanjs <dolanjs@gmail.com>
Date:   Sat Oct 12 03:34:57 2013 +0000

    uncommented puppet install and commented out authd until work out bugs

commit 2a968fd13e9c65a855cf77abd7a6db7916a06c2c
Merge: 6dc1de17 037ff69e
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Oct 12 03:29:34 2013 +0000

    Merge branch 'installScripts' of github.com:freedomofpress/securedrop-old

commit 037ff69e013a2562f75f947fc455d07bfda65d7c
Author: dolanjs <dolanjs@gmail.com>
Date:   Sat Oct 12 03:25:50 2013 +0000

    changed veiwing station script to use deafult gnupg dir and output secure_drop.asc to Persistent dir

commit 6dc1de1788664fdb186139014b26d2061bc83273
Merge: c51c70e7 8e42aae8
Author: Micah Lee <micah@micahflee.com>
Date:   Fri Oct 11 19:43:47 2013 -0700

    Merge branch 'installScripts' of github.com:freedomofpress/securedrop-old
    
    Conflicts:
            modules/deaddrop/files/deaddrop/journalist.py

commit c51c70e737d80f77c67f7f6b0c5c0e5cb26b14fb
Author: Micah Lee <micah@micahflee.com>
Date:   Fri Oct 11 19:40:31 2013 -0700

    beginning to update and fix installation instructions for viewing station

commit 8e42aae873264306f2fcacc136c0ad754b75f2f3
Author: dolanjs <dolanjs@gmail.com>
Date:   Sat Oct 12 01:42:11 2013 +0000

    regex fixes from securedrop that garrett submitted

commit 5b59e8c51f92563d2deb7a2597df3d91a43555cc
Author: dolanjs <dolanjs@gmail.com>
Date:   Sat Oct 12 01:31:09 2013 +0000

    switched back to pip install gnupg isis' lib

commit 3fa4723d765f1bf885d0ad1ebdaac7a00605c24a
Author: dolanjs <dolanjs@gmail.com>
Date:   Fri Oct 11 22:23:36 2013 +0000

    added python script to gen bcrypt salt

commit 79ae3d6729e3f53821d437a613485490b21f4fe3
Author: dolanjs <dolanjs@gmail.com>
Date:   Fri Oct 11 21:57:30 2013 +0000

    display tor urls at end of running puppet manifests

commit 1d0704c38062fb226e2092ad58c4078735fc926e
Author: dolanjs <dolanjs@gmail.com>
Date:   Fri Oct 11 14:22:51 2013 -0700

    Update crypto.py

commit bb5f0fc31df214be77153ce5ddce0033f4de8431
Author: root <root@ip-10-38-143-65.ec2.internal>
Date:   Fri Oct 11 20:21:51 2013 +0000

    removed ca_openssl.cnf since it is not needed anymore

commit 0205058e2aae3b4b3c3cd7edc1620dfd3761ffc3
Author: dolanjs <dolanjs@gmail.com>
Date:   Fri Oct 11 20:02:04 2013 +0000

    switch it back to python-gnupg as directed

commit 36983d162df89e3c9019e9b6399ac4faa47b8645
Author: root <root@ip-10-112-89-144.ec2.internal>
Date:   Fri Oct 11 19:43:56 2013 +0000

    removed old firewalls for document server and updated apache ports file on the doc server

commit ec7ecc45ba848f18e5113d311c7ee6a707f335c3
Author: root <root@ip-10-112-89-144.ec2.internal>
Date:   Fri Oct 11 19:14:03 2013 +0000

    changed install scripts directions to reflect new name for journalist server and the application gpg name to secure_drop.asc

commit ac49b63719320ae1fad132e0ef4cfbf6e9d5c508
Author: dolanjs <dolanjs@gmailc.om>
Date:   Fri Oct 11 17:43:59 2013 +0000

    removed unneeded apache ssl vhost config files and to non-ssl vhost template document server logging
    (for the source server logging is still set to /dev/null)

commit 4ee44bbf956123ad4f75ed2071d5e78c1b106b23
Author: dolanjs <dolanjs@gmailc.om>
Date:   Fri Oct 11 17:39:38 2013 +0000

    replaced document server puppet module to use tor hidden service config

commit d02bd95cec9af4c4348db799aab9fbda623a7029
Author: dolanjs <dolanjs@gmailc.om>
Date:   Fri Oct 11 17:26:19 2013 +0000

    changed torrc template so document server will use tor hidden service auth

commit 99bbb1467018ac128d0111778a873673a2132851
Merge: 3d20d825 78f85600
Author: Micah Lee <micah@micahflee.com>
Date:   Thu Oct 10 21:06:12 2013 -0700

    Merge branch 'old-installScripts'

commit 3d20d825cfb9e3a55b244203247b30c9fd2796ba
Author: Micah Lee <micah@micahflee.com>
Date:   Thu Oct 10 21:05:59 2013 -0700

    Revert "made filenames snakecase instead of camelcase"
    
    This reverts commit f85fbec9583f0cd1a22e73d99912e75a69ce2141.

commit 78f85600b99df619b6375c5787da5f17f7071b5c
Merge: 780ab447 84563e54
Author: dolanjs <dolanjs@gmailc.om>
Date:   Fri Oct 11 03:46:17 2013 +0000

    Merge branch 'installScripts' of https://github.com/freedomofpress/securedrop-old into installScripts

commit 780ab447eef3ad6830a92e3d501e4cad67bb6126
Author: dolanjs <dolanjs@gmailc.om>
Date:   Fri Oct 11 03:45:23 2013 +0000

    fixed file names removed opsec fail

commit 84563e54e4796b8aa132a0d494308a266a3398db
Author: root <root@ip-10-144-84-203.ec2.internal>
Date:   Fri Oct 11 03:41:00 2013 +0000

    fixed file names removed opsec fail

commit 5032d6212a25c9d05c7c005e1e718fa81155407f
Merge: f85fbec9 976e4bdb
Author: Micah Lee <micah@micahflee.com>
Date:   Thu Oct 10 20:36:29 2013 -0700

    Merge pull request #53 from garrettr/fix-journalist-submission-links-404
    
    Fix regexes for submissions and downloads

commit 976e4bdb97240eb6ea9516bb5760142f57bfacf9
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Thu Oct 10 19:01:33 2013 -0700

    Fix regexes for submissions and downloads
    
    Switching to b32 encoding (part of the bcrypt changes) broke these links, which
    expected b16.
    
    Fixes #52.

commit f85fbec9583f0cd1a22e73d99912e75a69ce2141
Author: Micah Lee <micah@micahflee.com>
Date:   Thu Oct 10 11:03:49 2013 -0700

    made filenames snakecase instead of camelcase

commit bc002751dac3c1060fce5c4ddc9bd906063c7a25
Merge: f7d8dd30 cd8e636f
Author: Micah Lee <micah@micahflee.com>
Date:   Thu Oct 10 10:29:55 2013 -0700

    Merge branch 'old-master'

commit f7d8dd30abe6716813b39967801f3c7eb12d91bc
Author: Micah Lee <micah@micahflee.com>
Date:   Thu Oct 10 09:12:46 2013 -0700

    removing non-license stuff from the license

commit e7e33e34b035a8bc95a5b53c10b8883acbcc5f62
Merge: de9f8f67 ea01efc9
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Oct 9 21:54:53 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit de9f8f6725020234ccbc92b1fa8c61027f1555fd
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Oct 9 21:54:44 2013 -0700

    give diceware attribution to satisfy CC-BY (fixes #49)

commit ea01efc9725b364b42b3c5a2d95b9ef865673f2b
Merge: 16fd62d3 e42709f7
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Oct 9 21:45:41 2013 -0700

    Merge pull request #50 from garrettr/show-version
    
    Add version info to footer of source pages

commit e42709f704668a9a9c8fec657b70af24f0d3fa92
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Wed Oct 9 20:35:53 2013 -0700

    Add version info to footer of source pages

commit 16fd62d3640041695e49da165314e8e7611452bc
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Oct 9 14:18:46 2013 -0700

    also need to update the verify filename

commit ea8669302a08a4156102d4150763751386af1579
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Oct 9 14:17:25 2013 -0700

    new grsec patch URLs

commit dd1bf6a012958e78885e963ef45d61eba433d387
Merge: 187803ed da8784fa
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Oct 9 11:44:12 2013 -0700

    Merge pull request #48 from garrettr/fix-python-gnupg-parameters
    
    Fix parameters to gnupg.GPG()

commit da8784fa1f962d88171d51aa7387cd092ef49e89
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Wed Oct 9 11:34:51 2013 -0700

    Fix parameters to gnupg.GPG()
    
    This code originally used the gnupg Python library [1]. The installation
    instructions were recently updated to recommned the use of the python-gnupg
    library [2] instead. This code was forked from gnupg, but has a slightly
    different interface, so the code was broken after the update.
    
    [1] https://pypi.python.org/pypi/gnupg/1.2.3
    [2] https://pypi.python.org/pypi/python-gnupg/0.3.5

commit 187803ed19bb6da8fd0121fb07da2efd329fc132
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Oct 9 10:54:42 2013 -0700

    added grsec docs

commit cd8e636fbb10617a1300ca76c4255be651182ea0
Author: dolanjs <dolanjs@gmail.com>
Date:   Wed Oct 9 10:35:51 2013 -0700

    Updated hackme to instruct people to use pip install gnupg
    
    Updated hackme to instruct people to use pip install gnupg instead of pip install python-gnupg

commit 38d0148967d7f8b242f4957cd24392abad7bb5ed
Author: dolanjs <dolanjs@gmail.com>
Date:   Wed Oct 9 13:32:37 2013 +0000

    bcrypt stuff

commit e83d81ba6af23b8cc034478e80f6c4745e1d859b
Author: dolanjs <dolanjs@gmail.com>
Date:   Wed Oct 9 12:30:38 2013 +0000

    change install script to install 'pip install gnupg' instead of 'pip install python-gnupg'

commit 43ac5afb6c46c5717ea72cc7c7d762996cdd1b7f
Author: dolanjs <dolanjs@gmail.com>
Date:   Wed Oct 9 12:17:45 2013 +0000

    adding bcrypt fix

commit 4c844a5ed2e08be706f691981dda6e72a22b143c
Author: root <root@ip-10-179-54-5.ec2.internal>
Date:   Wed Oct 9 11:52:52 2013 +0000

    alot

commit 1d9eaccdbf0cd850031eb78bce7be565e6b5dafa
Author: root <dolanjs@gmail.com>
Date:   Tue Oct 8 22:18:45 2013 -0700

    added displaying the gpg public key fingerprint

commit d7400a8bc2b7daf7b036d8fea0bfcc3c70cd8c53
Author: root <dolanjs@gmail.com>
Date:   Tue Oct 8 21:54:03 2013 -0700

    update comments in serverSetup.sh script

commit d49565d296481caa08f08f7407560d2d798a70b0
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Oct 8 21:24:00 2013 -0700

    linked readme to the install guide

commit c943ee4bc939791c6f3e98f1eeee7303530d1126
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Oct 8 21:14:26 2013 -0700

    fixed readme

commit e843653daf449c0e0162bdebfca1a964d79fb313
Merge: f9ef19dd 45a7860b
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 18:51:43 2013 -0700

    Merge branch 'journalist-interface' of https://github.com/freedomofpress/deaddrop into journalist-interface

commit f9ef19dda17c7f9099d54426392c967d5a7452ad
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 18:48:19 2013 -0700

    Move the svs interface into the module folder

commit 610cd09ff27c7206ef1e56e76e7d6d468a0a3add
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 18:46:20 2013 -0700

    Add better comments

commit e21be78442d8662804709c57d1c55d0ca5f8cb1f
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 18:42:11 2013 -0700

    Change basedir to be inside home

commit 009ceef2a5fb818ef3ea653279808b32051483ee
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 18:22:09 2013 -0700

    Remove non-error message popups

commit 35000975f7faaa3580b2708621d84f41fed81480
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 15:02:37 2013 -0700

    Put files in /tmp for now

commit 39fda8b591cccbe278458ed2bbb57f3989c63b53
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 14:51:33 2013 -0700

    Escape unsafe chars in GPG output

commit 77682a1d4a817a08d00fc41136f9d3d08be4eccc
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 14:12:17 2013 -0700

    GPG stderr is not valid markup

commit 9d87fe6443678e0d4918e9a2cff0a5701266b3f9
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 14:03:10 2013 -0700

    Add file chooser

commit 726bf5e5a60cff4c9e470acd0b9f4e8917163aa2
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 13:11:44 2013 -0700

    Add text entry dialogs

commit ecfcc41e46e89f81a75951adf4cb8b59462a40f3
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 12:53:25 2013 -0700

    Test and fix dialog boxes so they close

commit faf6aa2bce6c3c0a114480c869b24a91000d1166
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 12:29:46 2013 -0700

    Start switching from tkinter to pygtk

commit 53647b531625c6772902b87e18f71009c33ea773
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 12:34:23 2013 -0700

    Clean up, add comments

commit 9b265049999cffca755097ea6431780517ed6788
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 12:28:41 2013 -0700

    Add scrollbar

commit 910452b3edae4002f7e337c25f2bdee6b29e0694
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 12:16:58 2013 -0700

    Change subprocess.call to subprocess.Popen

commit 40baf351bb4a6e664bb6d944deb3043762920432
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 11:18:12 2013 -0700

    minor UI improvements

commit 2c37dd895b2e836625df5a495e3848a1758d10a8
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 11:12:58 2013 -0700

    improvements to text

commit 79dca8ac7fef2917540097df00558c706daca59a
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 10:31:46 2013 -0700

    Add dialog for getting recipients for encryption

commit 6b26ece284d65ee5c8a744ee71099744af499dd6
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 10:17:55 2013 -0700

    Avoid global namespace pollution

commit 2f08b8f65bfb0c128451e8f5dadc7683fed1d178
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 09:58:42 2013 -0700

    Typo

commit 5371813279e821488f5e5f7669144078041477c8
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 09:42:02 2013 -0700

    Fix bugs in directory naming

commit 04872cafb5c2145db4e43a38be6d3f0c7385e480
Author: Yan <yan@mit.edu>
Date:   Sun Oct 6 19:14:35 2013 -0700

    Add batch encrypt/decrypt methods (untested)

commit 7a901a8edd850dc5e2e75c89362444768722592c
Author: Yan <yan@mit.edu>
Date:   Sun Oct 6 18:05:19 2013 -0700

    Add method to encrypt files

commit cac279b3b26ff65d5672273f9050b1b79796be86
Author: Yan <yan@mit.edu>
Date:   Sun Oct 6 17:37:55 2013 -0700

    Start writing SVS interface for GPG operations

commit 45a7860b6dbe4787063b4c67accd1b1d5ae1523c
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 18:48:19 2013 -0700

    Move the svs interface into the module folder

commit ffdb7d8fbd55d20bd91f33ccc5c6105f0a44d57e
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 18:46:20 2013 -0700

    Add better comments

commit 47aa123f71b70c3693b85cc8d069085da1f93173
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 18:42:11 2013 -0700

    Change basedir to be inside home

commit 564161668dc8cc570c79e504de2c454dcc481087
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 18:22:09 2013 -0700

    Remove non-error message popups

commit beedda7b00a9dd31ef2df550339924a5a82e41cf
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 15:02:37 2013 -0700

    Put files in /tmp for now

commit bc81dba3e7893a55acee46742e8594234e014015
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 14:51:33 2013 -0700

    Escape unsafe chars in GPG output

commit 0805ef789288b49aab19fcf910baaade689550ca
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 14:12:17 2013 -0700

    GPG stderr is not valid markup

commit 63934a315d8a216a071d627c130c8c36b0999305
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 14:03:10 2013 -0700

    Add file chooser

commit 55d195fe7107ab3d1341801626ca03126951d2f0
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 13:11:44 2013 -0700

    Add text entry dialogs

commit fab491233bb1ddd45b1635aa3235adfcbd2cc75c
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 12:53:25 2013 -0700

    Test and fix dialog boxes so they close

commit 7f91a023687f230a597f0f0ba570ebba326dbf90
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 12:29:46 2013 -0700

    Start switching from tkinter to pygtk

commit bf037a0e35afce065307aafd47f4400b28c11252
Author: James <dolanjs@gmail.com>
Date:   Mon Oct 7 23:26:21 2013 -0700

    changed to serverInstall.sh and viewingInstall.sh to serverSetup.sh
    viewingSetup.sh

commit 14d6314c1836efc1c94358491b546ccf99948c2f
Author: root <dolanjs@gmail.com>
Date:   Mon Oct 7 23:15:27 2013 -0700

    added generating gpg keypair for the application

commit 2bde5a9258ee38e108e26908eac74d3524041d4c
Author: James <dolanjs@gmail.com>
Date:   Mon Oct 7 20:55:56 2013 -0700

    changed script names to reflect new host names

commit 237b5c9cc60ed88a31b4d99b350175663137e258
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Oct 7 18:36:33 2013 -0700

    added logo and announcement teaser

commit 3c2be99a01cb74ba6a5c0caabb8645172b4371d0
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Oct 7 18:35:23 2013 -0700

    updating image url in docs

commit ec0bc3c5b35acdf63025470c91a635ed1849ae87
Author: William Budington <bill@eff.org>
Date:   Mon Oct 7 14:02:46 2013 -0700

    reducing # of words from 10 to 8 by default - 129 to 103 bits of entropy, but more memorable

commit 238a70f48ff9454772078bb116ca836ffc53f0f6
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 12:34:23 2013 -0700

    Clean up, add comments

commit 2274ee185577321b185501086fd3359925e508ea
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 12:28:41 2013 -0700

    Add scrollbar

commit d315cf85fd23df8eba46331bb0e3f93cdc7b40af
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 12:16:58 2013 -0700

    Change subprocess.call to subprocess.Popen

commit bcc048ef5ec1b230bec5e8127cbbc300276b4273
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Mon Oct 7 11:27:19 2013 -0700

    added labels to USB drives

commit 2a04f2b606a07da64eb6b26622d7994b8af02601
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 11:18:12 2013 -0700

    minor UI improvements

commit 096fe3756e113ce1c33614c56bb3c38c9a1a4b9f
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 11:12:58 2013 -0700

    improvements to text

commit 084d610ce63b147c79d6f2b3dbd9561d2bcabb66
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 10:31:46 2013 -0700

    Add dialog for getting recipients for encryption

commit 6f919b03e2fd44c86246fe8e068de837c74e4d66
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 10:17:55 2013 -0700

    Avoid global namespace pollution

commit 4acb7bae8f6e356b5d9f23264c8a283a6a4f58b5
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 09:58:42 2013 -0700

    Typo

commit 00ec4db37116023126e4d9c7ad6b59f2a3232a7a
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 09:42:02 2013 -0700

    Fix bugs in directory naming

commit 7ffa2d65f1de05b12bbe18c73cdf58bf5f775344
Merge: d1405df2 8e97e7ca
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Mon Oct 7 00:09:31 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit d1405df2a25de74be890a35259ba9636c49cbde5
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Mon Oct 7 00:09:15 2013 -0700

    added ascii server diagram

commit 8e97e7ca29c188f6b4d6d2027c218818068dd823
Author: William Budington <bill@eff.org>
Date:   Sun Oct 6 20:03:31 2013 -0700

    fixup

commit ec584c8408b49b2d72f94671c06b125a6747d069
Author: William Budington <bill@eff.org>
Date:   Sun Oct 6 20:00:27 2013 -0700

    fixing indentation for css

commit ce5d528d1738298054f8a152eca186192c3b0369
Author: Yan <yan@mit.edu>
Date:   Sun Oct 6 19:14:35 2013 -0700

    Add batch encrypt/decrypt methods (untested)

commit e5380654b79e5912dcc6826a1a1fba94def0bef4
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sun Oct 6 18:39:17 2013 -0700

    changed heading

commit fc02367e1918f065fa53810d217b4ac07139296b
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sun Oct 6 18:37:47 2013 -0700

    rename Viewing Station, scripts

commit 47ab258ce90e702c58a8ad2d793b2d545a9fd8b0
Merge: 35e1c057 f984c429
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sun Oct 6 18:24:46 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit 35e1c0570a9f46adb3e17cfe36a08ba6b9e6e3f1
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sun Oct 6 18:24:37 2013 -0700

    lots of install updates

commit 7492133cbf46c2bfcf07b18d4d68de896c9eac69
Author: Yan <yan@mit.edu>
Date:   Sun Oct 6 18:05:19 2013 -0700

    Add method to encrypt files

commit f984c429c157745cafb6c92fcf5c55f402269b2d
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Oct 6 18:02:12 2013 -0700

    fixed image in ubuntu config

commit 4ba59c293bb02935e3a8e49ecaf4600101f01d90
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Oct 6 18:00:30 2013 -0700

    update ubuntu config, and testing relative image link

commit 9765ed77067008ce38771a41983d18d1110bb446
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Oct 6 17:53:50 2013 -0700

    add ubuntu server image

commit 2ce2c1bce563b5b3c41a6d6ac0674ce5e3d56c0d
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Oct 6 17:50:07 2013 -0700

    added back ubuntu config

commit aeec5d0e8da3ec77852685bc93edd7932fbfdad4
Merge: 70c2d6ab d9588839
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Oct 6 17:48:53 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop
    
    Conflicts:
            docs/grsec.md

commit 70c2d6abc214528d74552471a1ce712f2854b247
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Oct 6 17:47:05 2013 -0700

    wrote draft of ubuntu server config docs

commit f017dd14ae8db7b05f618856830f972af90a88d5
Author: Yan <yan@mit.edu>
Date:   Sun Oct 6 17:37:55 2013 -0700

    Start writing SVS interface for GPG operations

commit d9588839194fe2ab05f081993d3490f32f133e75
Author: William Budington <bill@eff.org>
Date:   Sun Oct 6 17:37:43 2013 -0700

    fixing indentation of generate.html

commit f043de97ad1454dacca22f369b918cd51f517818
Author: William Budington <bill@eff.org>
Date:   Sun Oct 6 17:03:09 2013 -0700

    fixing bug with directories introduced by moving to bcrypt

commit 1d5f9958208486b9dcef04eaf0410bf67715cb29
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Sun Oct 6 16:56:29 2013 -0700

    comment out a section

commit 5d7b89bde8905d181c6bbf12708f131f902e292a
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Sun Oct 6 16:51:45 2013 -0700

    add another subheader

commit 6f52f8d6bd11dbf7ea25ca3f4e9c8230e739f11e
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Sun Oct 6 16:36:54 2013 -0700

    set up skeleton of the documentation

commit 68d4d30a0d41c71c1934cdcdfcb4d9fa97675f59
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sun Oct 6 16:23:51 2013 -0700

    fixed em dashes

commit 33c6c04b911481651dbf17d32ba46dec0b606513
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sun Oct 6 16:22:17 2013 -0700

    moving install instructions to separate install doc

commit a81b2d1282aadc82f705937ce035e0ae6003d33d
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sun Oct 6 16:01:05 2013 -0700

    created initial grsec.md file

commit 78cc9e7d186358b28cc0c8d9efc24ab7bb871d32
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sun Oct 6 15:59:23 2013 -0700

    Created docs folder

commit 570706aa7931c2c6a707c1f34c5e49347205fced
Merge: 026283fa 8e0288a0
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sun Oct 6 15:49:51 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit 026283fab88c23eab9b143041ddd7765113d672e
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sun Oct 6 15:49:24 2013 -0700

    readme changes: adding 'before you begin' section, prepping grsec and server config for moving out

commit 8e0288a0f6e012837f4ebe284c808892de9d0c85
Author: William Budington <bill@eff.org>
Date:   Sun Oct 6 15:42:02 2013 -0700

    fixing indentation on html

commit 4da69f7e0ab6c77f5fb01a9f9eb6b4322232e1fc
Author: William Budington <bill@eff.org>
Date:   Sun Oct 6 15:34:15 2013 -0700

    fixing indentation on source.py

commit a5556d30d4cdd6a7b764987353dd7be8543c5a12
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Sun Oct 6 15:23:11 2013 -0700

    more typo fixes

commit cad9945753165e99ec5f626a0b6037c47894f990
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Sun Oct 6 15:02:14 2013 -0700

    tiny typo fix

commit 1f3b3b778b7c69c20572e139ad2c47273f65aeb1
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Sun Oct 6 13:56:56 2013 -0700

    typo fix

commit 2049554a659ad72517a7321ea0fb9b818a4a42aa
Author: cooperq <cooper@radicaldesigns.org>
Date:   Sun Oct 6 12:22:52 2013 -0700

    adding top level symlink to deaddrop module

commit 55c61e52c4ed056006cf8d599d48af846a787020
Author: cooperq <cooper@radicaldesigns.org>
Date:   Sun Oct 6 12:00:44 2013 -0700

    removing install directory that got re added again

commit cc768862a31616b69213c96b468259c38f877d7b
Author: William Budington <bill@eff.org>
Date:   Sat Oct 5 18:52:52 2013 -0700

    adding pycrypto requirement

commit 6e530942906e543b366dc550eddf401ca87f998d
Author: William Budington <bill@eff.org>
Date:   Sat Oct 5 18:42:47 2013 -0700

    adding back random library where it's okay to have deterministically generated id (journalist interface)

commit 64eec9b5dadbf479baf14e8a47080fedc3b9fed4
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sat Oct 5 18:35:26 2013 -0700

    reorder installation steps

commit 416f131dafa2ac37ed1150da43b905a78a46c26f
Merge: 8f475185 54cd5e49
Author: Micah Lee <micah@micahflee.com>
Date:   Sat Oct 5 18:31:58 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit 8f475185a760c621a805a30a4e39934d62592882
Author: Micah Lee <micah@micahflee.com>
Date:   Sat Oct 5 18:31:51 2013 -0700

    Finished draft of Viewing Station Installation instructions

commit 54cd5e49e56808c2b84ee32c94ad309fee1e1dc4
Author: William Budington <bill@eff.org>
Date:   Sat Oct 5 18:11:22 2013 -0700

    changing default words in id from 4 to 10, and changing wordlist from 128879 words to the diceware (7776 words).  this changes bits of entropy from 68 to 129. also replacing random with Crypto.random.random

commit 109b104f6f101a0eff6627b80635c579c9a9ebae
Merge: ab76664a 9280fc5a
Author: Yan <yan@mit.edu>
Date:   Sat Oct 5 17:58:53 2013 -0700

    Merge remote-tracking branch 'origin/master'

commit ab76664a97d8a84df37f96845a39103243422c11
Author: Yan <yan@mit.edu>
Date:   Sat Oct 5 17:58:02 2013 -0700

    Rewrite crypto tests so they pass

commit 9280fc5af71ee2ffd70fa7bf33cd700698be43be
Author: William Budington <bill@eff.org>
Date:   Sat Oct 5 17:41:53 2013 -0700

    changing arguments to gnupg for updated gnupg library

commit fb099d0270cc3e9858fe0ff296b61c260897c204
Merge: 87b659ad 96571dfa
Author: Yan <yan@mit.edu>
Date:   Sat Oct 5 17:25:57 2013 -0700

    Merge branch 'master' of https://github.com/freedomofpress/deaddrop

commit 87b659ad0fe4932161939ffc437f9e09549b302a
Author: Yan <yan@mit.edu>
Date:   Sat Oct 5 17:21:02 2013 -0700

    Update shash test after adding BCRYPT_SALT

commit d5ccca1b6285fd21bba8f69a4585f17b5f8f92cd
Author: Yan <yan@mit.edu>
Date:   Sat Oct 5 17:16:40 2013 -0700

    Add BCRYPT_SALT

commit 96571dfa05a7a034198294e803df239c7d69c01f
Author: William Budington <bill@eff.org>
Date:   Sat Oct 5 17:12:06 2013 -0700

    adding .swp to gitignore

commit 45774ad72cb346e7ed9a8f3e226bcde48bd39210
Author: Micah Lee <micah@micahflee.com>
Date:   Sat Oct 5 17:07:51 2013 -0700

    moved deaddropEnvironment files into deaddrop

commit 6b7ae97cf22209ad1c2a9fd222ba93d0560eaa19
Author: cooperq <cooper@radicaldesigns.org>
Date:   Sat Oct 5 16:38:47 2013 -0700

    removing test file

commit ded510a5093e7210bdf84eb25cbca66c8fc3a5d3
Merge: a25de97b 94951c44
Author: Yan <yan@mit.edu>
Date:   Sat Oct 5 16:31:31 2013 -0700

    Merge branch 'reorganize' of https://github.com/freedomofpress/deaddrop into reorganize

commit 94951c44766fbe0c5dcbb2aec8dd36be5430742f
Author: cooperq <cooper@radicaldesigns.org>
Date:   Sat Oct 5 16:30:40 2013 -0700

    switching hash function to bcrypt

commit a25de97b34d04048a4ba851f979fc28c3d0e308a
Author: Yan <yan@mit.edu>
Date:   Sat Oct 5 16:21:14 2013 -0700

    Add bcrypt dependency

commit e58040e47201600d75d5902218209ab056198d18
Author: cooperq <cooper@radicaldesigns.org>
Date:   Sat Oct 5 16:16:12 2013 -0700

    moving hacking file

commit 29aac3c1da67fa341c16db009e85adc6af205681
Author: cooperq <cooper@radicaldesigns.org>
Date:   Sat Oct 5 16:06:19 2013 -0700

    reorganizing files from messy import

commit 873bb13645778f1f0b9cf461e9ef3f80e97d3454
Author: cooperq <cooper@radicaldesigns.org>
Date:   Sat Oct 5 16:05:33 2013 -0700

    reorganizing files from messy import

commit 4e4be8ea699d0164484475541926c2c8d8d1b78f
Author: Yan <yan@mit.edu>
Date:   Sat Oct 5 15:40:03 2013 -0700

    Add gnupg2 dependency

commit 6ebd21c79889c560ef32b0eeec2860bd5af8ccb4
Author: Micah Lee <micah@micahflee.com>
Date:   Sat Oct 5 13:25:07 2013 -0700

    copied deaddrop installation environment into this repo

commit a5727a9afb35718ddfb7df0f37521795ccf973c9
Merge: 97593620 daedff21
Author: Kevin Poulsen <klp@hacknet.com>
Date:   Sun Jun 2 08:34:13 2013 -0700

    Merge pull request #24 from apetro/patch-1
    
    close Roswell example quote in README.md

commit daedff21c1ccf2094255ee65087e860416dcc5fe
Author: Andrew Petro <apetro@unicon.net>
Date:   Sun Jun 2 06:53:59 2013 -0700

    close Roswell example quote in README.md
    
    Trivial edit to close an example quotation of a hypothetical journalist communication to a StrongBox contact.

commit 975936205a8cf40c05eb6c464e4dfea9e5d8c1a8
Merge: d0a36c1d f271c71d
Author: bitsteak <anonymous@bitsteak.com>
Date:   Mon May 27 20:21:54 2013 -0700

    Merge pull request #23 from zeroday/genwordlist
    
    Changed to use EOWL, added usage information with unzip instructions and...

commit f271c71dbfc488f6a210975d39e5d6a7dbbf325f
Author: Oliver Day <oliver.day@gmail.com>
Date:   Mon May 27 20:06:36 2013 -0400

    Changed to use EOWL, added usage information with unzip instructions and removed function to strip out apostrophe s and removed the now unused web module

commit d0a36c1dd6d9808b98c2e4dd5aa6ba0c5d5e5a0c
Author: bitsteak <anonymous@bitsteak.com>
Date:   Sun May 19 20:11:44 2013 -0400

    Closes #21

commit 5e7a604c15fdd0c465985316d5f3857c8ffb92a7
Author: bitsteak <anonymous@bitsteak.com>
Date:   Sun May 19 19:35:46 2013 -0300

    Add README with text from deaddrop.github.io

commit 74b2dcff0c021cd66fba67efa93539e103b2f78c
Author: bitsteak <anonymous@bitsteak.com>
Date:   Thu May 16 18:07:44 2013 -0400

    fix for issue 17

commit e127cb10f0c831696cb3670794e483cef8ed60ed
Author: bitsteak <anonymous@bitsteak.com>
Date:   Thu May 16 22:41:31 2013 -0400

    fix string formatting bug

commit 8193e70589d68bb36bc7866ba1eb259f97093af1
Merge: 4b1ace98 e34ad2eb
Author: bitsteak <anonymous@bitsteak.com>
Date:   Thu May 16 03:58:35 2013 -0700

    Merge pull request #9 from bpowers/master
    
    doc: basic HACKING doc + gitignore + example_config.py

commit e34ad2ebb5ae8c4efde79addb90044a4c98d59ab
Author: Bobby Powers <bobbypowers@gmail.com>
Date:   Wed May 15 23:22:15 2013 -0400

    store: verify(): be more helpful if config.STORE_DIR isn't absolute

commit 0ac8a0672f6fe8c988ea3383b0b60186cfb9aee3
Author: Bobby Powers <bobbypowers@gmail.com>
Date:   Wed May 15 23:20:53 2013 -0400

    doc: update HACKING to explain that dirs need to exist + be absolute

commit 5c9b3010b3399dc3dc05f4e5531dc35a262081f6
Author: Bobby Powers <bobbypowers@gmail.com>
Date:   Wed May 15 23:05:46 2013 -0400

    doc: basic HACKING file describing dev environment setup
    
    This addresses some of #8.

commit 4b1ace98aa9c2689cf3853c49306229d8e67cfbb
Merge: fe809de4 ba040f10
Author: bitsteak <anonymous@bitsteak.com>
Date:   Wed May 15 08:32:52 2013 -0700

    Merge pull request #6 from tswicegood/make-install-markdown
    
    Make install markdown

commit ba040f107347dac111c127536367d0c182de5263
Author: Travis Swicegood <development@domain51.com>
Date:   Wed May 15 10:22:00 2013 -0500

    Update filename

commit 3bbfbb69dc6622241ffa3b63f95239dd65c5b1a4
Author: Travis Swicegood <development@domain51.com>
Date:   Wed May 15 10:21:19 2013 -0500

    Update to use Markdown so its a real link

commit fcc1497d92be2632bb6b0678606dd7a40e8dc309
Author: Travis Swicegood <development@domain51.com>
Date:   Wed May 15 10:09:33 2013 -0500

    Rename .md so GitHub renders it

commit fe809de47989a8f7378576cdbf88f0ad382fe3f3
Author: bitsteak <anonymous@bitsteak.com>
Date:   Wed May 15 00:21:10 2013 -0400

    increase words in list to 4

commit f4c0541f3330ca7eca6ce91e67f00aeada63e85d
Author: Anonymous <anonymous@bitsteak.com>
Date:   Wed May 15 00:07:56 2013 -0400

    switch to the English Open Word List

commit 8f3c6a788d10e7add370003450b6f939ad64240a
Author: bitsteak <anonymous@bitsteak.com>
Date:   Tue May 14 16:20:31 2013 -0400

    disable http caching of responses

commit 333a8fc1d7928baa228186ae60708fd0f331dbc1
Author: bitsteak <anonymous@bitsteak.com>
Date:   Tue May 14 16:09:55 2013 -0400

    disable autocomplete everywhere

commit 3b86b94197661a07388c7ff09e9b801e9b73ddcc
Author: bitsteak <anonymous@bitsteak.com>
Date:   Tue May 14 16:01:39 2013 -0400

    disable debug mode

commit 8c6f939af0f1d6bf8c3ead25b8177d78a9ce8e29
Author: bitsteak <anonymous@bitsteak.com>
Date:   Tue May 14 16:00:55 2013 -0400

    remove unmapped url handlers

commit 50ff0b582e5026a9424f606e1f53d6a2a0d0e233
Author: bitsteak <anonymous@bitsteak.com>
Date:   Tue May 14 15:59:16 2013 -0400

    verify filenames

commit b7b2ea6ff88bdb2a35c4610b883e3f2076b919d1
Author: bitsteak <anonymous@bitsteak.com>
Date:   Tue May 14 15:58:44 2013 -0400

    include reply- in valid filenames

commit 92bf1899ff2d38fae4f2686f1b1e1927c3e379be
Author: bitsteak <anonymous@bitsteak.com>
Date:   Tue May 14 15:44:02 2013 -0400

    more stringent filename validation

commit 979003832949e3cbab29e5441894cefd2c6f1526
Author: Kevin Poulsen <klp@hacknet.com>
Date:   Tue May 14 13:48:44 2013 -0600

    Update INSTALL
    
    Replace bare-bones INSTALL with a pointer to DeadDropDocs

commit b32e1a5f22ff0a999aa9a69b5ea0c1d8872b336a
Author: Aaron Swartz <me@aaronsw.com>
Date:   Tue Jul 3 14:51:39 2012 -0400

    fix error in seeing if store already exists (tx secteam)

commit a1289fa887772357af97b735d45a8d44e720b827
Merge: a145092a e624af8e
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sun Jun 17 08:50:23 2012 -0400

    Merge branch 'master' of github.com:deaddrop/deaddrop

commit a145092a9873a8e4b2338a2632f4e6073a6e3665
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sun Jun 17 08:49:56 2012 -0400

    had msg and doc reversed (tx Kev)

commit e624af8e67f032ad14feaec4ad24811612865cd6
Author: klpwired <klp@wired.com>
Date:   Wed Jun 13 12:28:23 2012 -0700

    remove '--version' from srm check

commit 42bc563ff9ddeb3543ea2dd0bf8b55d8fee4c1b6
Merge: bb90d19c 73da09cf
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 22:04:26 2012 -0400

    merge

commit bb90d19c627eabeedfda4d2c941275f3dc284705
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 22:01:09 2012 -0400

    use better version of crypto fix

commit be544eec5a6e276410a0389d8af807b1e1e5ba5e
Author: Aaron Swartz <me@aaronsw.com>
Date:   Tue Apr 3 19:17:55 2012 -0400

    allow spaces in secrets (fix regression)

commit c6188303ca75c9dff2787c1b6c7d42becd7b0be8
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 21:58:02 2012 -0400

    have 404 link back to lookup
    close div in 404

commit 265de5590620462273a59702873e2f9433422777
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 21:55:28 2012 -0400

    remove second submit button

commit be49f5c8669aa1030a03aec6a6d4fc94eec306f3
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 21:53:45 2012 -0400

    include filename headers when downloading

commit 83ceaf82d6e14b3f449a84c09a888705e8ace9c6
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 21:53:36 2012 -0400

    fix bug with downloading files

commit 7b3f08b52ccdedd12f37848b190fde543bd4fa09
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 21:48:01 2012 -0400

    remove some blank lines

commit 09c61118f7ab528bd1d567341953920a84cd5c73
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 21:42:09 2012 -0400

    use _doc or _msg suffixes
    fix bug with received

commit e178b01b68d34b51356b07eb18535b3dc3a5571e
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 21:30:10 2012 -0400

    Use xkcd names on the collection page
    Remove trailing zeroes from timestamps

commit 412889390289c88ac3a5e9bd8d355b035b78aada
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 21:26:41 2012 -0400

    finish changing .enc to .gpg

commit 73b626a17b44b596ba208b3b1e878a3496d6dd1e
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 21:22:03 2012 -0400

    Remove trailing zeroes from timestamps

commit 1cfad180aaaaf4bcd7022bae2bd18888d2a0296d
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 21:17:18 2012 -0400

    store filename with encrypted file
    display filename in response to submission
    change .enc suffix to .gpg

commit 645c085f9e12949493e6081e7e774410b4db81a8
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 21:16:32 2012 -0400

    fix crasher bug in crypto

commit 325175c5a91f6f1e8e6b6a7a41e89702d1f1deec
Author: Aaron Swartz <me@aaronsw.com>
Date:   Tue Apr 17 19:19:50 2012 -0400

    use codenames for journalists

commit 95508a4633fa05027e7e95028449902172653502
Author: Aaron Swartz <me@aaronsw.com>
Date:   Thu Mar 15 07:28:47 2012 -0400

    use 3 words, add a custom notfound

commit 73da09cfe5802c9e8b60f5f0ffcbf6654406748d
Author: James Dolan <dolanjs@gmail.com>
Date:   Mon Mar 12 21:56:31 2012 -0400

    bugfix mod-wsgi support add variables for wordlist file and source journalist templates

commit 2637db92645917269f0c8ba9f63158d6024700b1
Author: Aaron Swartz <me@aaronsw.com>
Date:   Fri Mar 2 15:52:13 2012 -0500

    add a readme

commit af649635d4937207557972d5515f5ca2779782c7
Author: Aaron Swartz <me@aaronsw.com>
Date:   Fri Mar 2 15:49:05 2012 -0500

    add license

commit afe4128c8b827e32f090505bb8bfa4d96495db33
Author: Aaron Swartz <me@aaronsw.com>
Date:   Wed Feb 15 14:25:35 2012 -0500

    add support for mod_wsgi

commit 7de5f6b2a13561bdcc653b6def2349073cad99a2
Author: Aaron Swartz <me@aaronsw.com>
Date:   Wed Feb 15 14:24:27 2012 -0500

    some versions of srm return nonzero on version

commit b6dd573e90176717e73fd0892c7cea19aafefa38
Author: Aaron Swartz <me@aaronsw.com>
Date:   Tue Feb 14 07:23:11 2012 -0500

    forgot to hit save

commit 76af29c943ccccd782643c5185c01aef11350cc3
Author: Aaron Swartz <me@aaronsw.com>
Date:   Fri Feb 10 08:25:11 2012 -0500

    fix various security issues identified by security team

commit 15b4f1cd9e851de3ee091fa4eacf88207709d142
Author: Aaron Swartz <me@aaronsw.com>
Date:   Fri Feb 10 07:30:12 2012 -0500

    forgot to add base templates

commit 7be151bece7afd837fb6e5a20634d18dc580d8d6
Author: Aaron Swartz <me@aaronsw.com>
Date:   Fri Feb 10 07:17:48 2012 -0500

    add styles for journalists

commit 79d38538d13a774f5a6b960001a3ea82a6cae81e
Author: Aaron Swartz <me@aaronsw.com>
Date:   Fri Feb 10 07:10:33 2012 -0500

    check in styles

commit 3e025f12394a668bbafb31da9df1f9b64d45689e
Author: Aaron Swartz <me@aaronsw.com>
Date:   Wed Jan 11 15:14:25 2012 -0500

    rename

commit eec95ded9299f8685b29afaed537d69986f4f6b9
Author: Aaron Swartz <me@aaronsw.com>
Date:   Wed Jan 11 15:13:29 2012 -0500

    always trust

commit 707a1bdf98a0e0ece5afe83897901643282401c4
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jan 7 11:59:38 2012 -0500

    switch to xkcd code names

commit 97c11489b6662d58f749d5547edc9459ebf04400
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jan 7 11:56:30 2012 -0500

    include wordlist

commit b5a25b63b6d417a3758c2ec0a4b65cfcbf7af895
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jan 7 10:55:39 2012 -0500

    rename 'secure id' to 'code name'

commit 5da46e0d3c6d04937d3b93d8544c596fa88af96b
Merge: 9f2a3676 269f55e9
Author: Aaron Swartz <me@aaronsw.com>
Date:   Mon Jul 25 17:58:04 2011 -0400

    merge

commit 269f55e9cfb2cfd32cba00099ead667848494b66
Author: Aaron Swartz <me@aaronsw.com>
Date:   Mon Jul 25 21:56:28 2011 +0000

    fix bugs with file uploads

commit 9f2a3676647fb7bad82f60b8ac3937f4ffa6f41c
Author: Aaron Swartz <me@aaronsw.com>
Date:   Mon Jul 18 16:37:57 2011 -0400

    allow msg and files at same time

commit 3566f893fd92c53f0f87f9311ec6f3481dbbfe0c
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jul 16 11:22:12 2011 -0400

    install instructions

commit 6e6b0d117b2250d465b7f6260b0df4bd028881c5
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jul 16 10:35:27 2011 -0400

    bug fixes

commit 547973f4a9bb808caeb4b280c438e2206e9b28fa
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jul 16 10:13:12 2011 -0400

    debugging

commit 8b1b3580137a57c76f27a9c90101926255da2b5b
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jul 16 10:02:50 2011 -0400

    journalist view, replies

commit 8787357a3787dbf88549ffa0872c339f22bdff25
Author: Aaron Swartz <me@aaronsw.com>
Date:   Wed Jun 29 17:19:39 2011 -0400

    first draft of upload mechanics

commit 62bbe590afd77a6af2dcaed46c93da6e0cf40951
Author: Aaron Swartz <me@aaronsw.com>
Date:   Wed Jun 29 16:23:37 2011 -0400

    build crypto functions
======================: FILES :======================
======================: BRANCHES :======================
======================: LOGINFO :======================
commit 002a5093c43365a16ac5b839473110436b721af2
Merge: aa907b91 0451f7e1
Author: harlo <harlo.holmes@gmail.com>
Date:   Tue Jun 23 14:52:58 2015 -0400

    Merge branch 'develop' of github.com:freedomofpress/securedrop into develop

commit 0451f7e111ed44bc6b4a4b825cb911710b85e21f
Merge: 71defa9c 0870cf97
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Jun 22 10:06:47 2015 -0400

    Merge pull request #1043 from freedomofpress/tails-compatible-printer
    
    Table of airgap-safe, Tails-compatible printers

commit 0870cf97ccff69df06e8d98d2f6c120acfd9d77e
Author: Harlo Holmes <harlo@freedom.press>
Date:   Mon Jun 15 17:57:45 2015 -0700

    Tails printer guide

commit 8542f4004aa77326a8967694f3800dd9deb690ec
Author: Harlo Holmes <harlo@freedom.press>
Date:   Mon Jun 15 17:53:59 2015 -0700

    Misc. clarification of install docs

commit aa907b910e3d06ec57bbf31c81c95b60a6b5e7b4
Author: harlo <harlo.holmes@gmail.com>
Date:   Mon Jun 15 11:30:25 2015 -0400

    removed .orig files oops

commit 7cc5937a7e58e3a8fd1fc46db463b9a5e97ee5ff
Merge: 5679434b 16dcf7e3
Author: harlo <harlo.holmes@gmail.com>
Date:   Mon Jun 15 11:27:29 2015 -0400

    Merge branch 'fpf-develop' into develop

commit 16dcf7e3fee4059d986e9532a821a11343bd2df5
Merge: 5679434b 71defa9c
Author: harlo <harlo.holmes@gmail.com>
Date:   Mon Jun 15 11:27:13 2015 -0400

    merged

commit fe496443f43be9a842aef3ccf4f5274a3832b7c3
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jun 9 12:10:56 2015 -0700

    Table of airgap-safe, Tails-compatible printers
    
    This is a partial list of airgap-safe and Tails-compatible printers
    compiled from our initial round of testing.

commit 71defa9c4222d2f343017a3b5e9594866cdfefc4
Merge: 6a58c842 5109de22
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Jun 9 11:17:40 2015 -0700

    Merge pull request #1042 from freedomofpress/reporting-security-issues
    
    Reporting security issues

commit 5109de22804c6ee5419a95d5bcebc477227dc5e7
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jun 9 09:50:10 2015 -0700

    Add instructions for responsibly reporting issues

commit 6a58c8423f413ec53fe53ba7a6a51eba22ff4133
Merge: 22271eec 64256db7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Jun 3 15:30:36 2015 -0700

    Merge pull request #1034 from ageis/doc-changes
    
    Tweak language re -aths files

commit 64256db726fcc449b6c524cf0da12dcba5af193f
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Thu May 28 16:52:16 2015 -0700

    Clarify Tor ATHS setup is automatic not manual
    
    Our installation documentation, when referencing the -aths files output by
    Ansible, previously suggested that the user would have to add these values
    to their torrc. This commit is intended to be clearer that those steps
    are automatic and handled by tails_files. Addresses issue #1030.

commit 22271eecaa8711e30809c9c95f6c71b690fd873e
Merge: addc7d68 ba8d678b
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Jun 3 15:07:34 2015 -0700

    Merge pull request #1026 from ageis/ansible-version
    
    Recommend installing an older Ansible version until upstream issue is resolved.

commit ba8d678bc7edff84d81ea9067f3ea49c394f5d33
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Wed May 13 17:05:28 2015 -0700

    Temporarily use older Ansible version
    
    Due to an upstream issue that breaks our playbooks, we need to temporarily
    recommend using an old version of Ansible in the documentation.

commit addc7d68a574d473e84f793236038ce40b421f85
Merge: 6e82f773 514c86df
Author: Conor <conor.schaefer@gmail.com>
Date:   Thu May 28 17:00:41 2015 -0700

    Merge pull request #1033 from ageis/fix-gauth-doc
    
    Make clear that 2FA is for both servers

commit 514c86df1eafd0a595d155c4410bb795904d062f
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Thu May 28 16:37:23 2015 -0700

    Apply 2fa to both servers

commit 5679434b0dd98aa66fb3646ab5d03402b07328d6
Author: harlo <harlo.holmes@gmail.com>
Date:   Fri May 15 14:10:44 2015 -0700

    doc edits for clarification, and confusing comments about file paths removed from the ansible yaml template

commit 6e82f773678626b7b310dcc18baf8dadf5d074dc
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue May 5 18:20:34 2015 -0700

    Forbid sudo in 0.3 upgrade script
    
    This commit cherry picks *both* commits from #1020 into one commit due
    to difficulty in rebasing #1020 on develop.

commit 63daac0f70c64e1f28099a9ec99eed0a84f5de1f
Author: James <james@freedom.press>
Date:   Mon May 4 10:49:34 2015 -0700

    Clarify paths in install doc
    
    * Changed the direction in the install doc to reflect that the same
      Terminal is used for multiple steps.
    * Change `cd` paths based on this clarification

commit cd8e58cb28f2ecf8a421ed6596b26760c3ce0934
Merge: 811a31ea 9387d55b
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon May 4 10:36:21 2015 -0700

    Merge pull request #1010 from freedomofpress/check-migration-scripts-for-0.3
    
    Migration scripts for 0.3

commit 811a31ea929c2b4f72ec72ef7962d159ba4f6536
Merge: 7c3d2ebc 4123848c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri May 1 07:55:39 2015 -0700

    Merge pull request #1016 from freedomofpress/manage-py-run
    
    `./manage.py run` for development

commit 4123848cf036d98bd1415da7f98ce5975a5cd6c1
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Apr 30 23:09:37 2015 -0700

    Import run directly from management

commit 008adcb3dd2e797ca6c601218a01b00edc4e9faf
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Apr 30 19:22:04 2015 -0700

    Refactor run command into new management module
    
    The new `run` defined a couple of supporting classes and was a fairly
    long function. To keep `./manage.py` readable, this commit factors the
    `run` function and supporting code into a new `management` module. This
    keeps the `./manage.py` lightweight and easy to read, and better
    encapsulates the code specific to the `run` function.

commit c2171cca13c269b3a62cb906a74a00786b4d1f78
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Apr 30 18:56:52 2015 -0700

    Use DevServerProcesses directly with select
    
    By implementing fileno() for DevServerProcess, we can pass them to
    `select.select` directly, instead of maintaining a separate list of
    streams to `select` over. This simplifies the code and allows us to
    avoid the hacky `_get_proc_by_stream`, which is removed in this commit.

commit 9387d55b8db907b7605b8b10b3c27f2a2a5b0f08
Merge: f7137e66 7189c404
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Apr 30 18:26:25 2015 -0700

    Merge pull request #1012 from conorsch/check-migration-scripts-for-0.3-continued
    
    Modifications to 0.3pre upgrade script

commit 31f634381dfe722628733804a8fe680f1299e5a0
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Apr 30 15:13:21 2015 -0700

    `./manage.py run` for development
    
    This commit replaces `./manage.py {start,stop,restart}` with a single
    command, `./manage.py run`. This command runs *both* of the interfaces
    with Flask development servers, which provide useful debugging and
    auto-reloading features. The logging output from both interfaces is
    aggregated into a single stream, labeled for clarity, and sent to stdout
    for the developer to read.
    
    The `run` command carefully handles the case where a change to a
    monitored file cannot be interpreted (e.g. if it introduces a
    SyntaxError), which causes the auto-reloader to exit. This case would
    break `./manage.py start` because one of the processes it had spawned
    had died behind its back. This made it difficult (especially for new
    developers) to understand and recover from a somewhat common error
    condition. `run` does not break when this happens, but prints out a
    clear message and exits both servers to avoid confusion.
    
    Updates development documentation to recommend using `run`, and removes
    references to the removed `{start,stop,restart}` commands.

commit 7189c40435a2a60e832106bd5e900f3c4eebb21e
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 16:02:52 2015 -0700

    removes "set -u" option
    
    This option won't work in the migration script in its present form
    due to the vars '$2' and '$monitor_ip', both of which are defined
    via YAML parsing, and therefore not explicitly declared within
    this script. The goal of adding "set -u" was to catch
    undefined (or typo'd) variables prior to running commands with
    them interpolated, but the script ran successfully during testing
    just now.
    
    At a later date, we can refactor this bash script to be more
    resilient if need be.

commit 097fa718d6edb1b8124817ba10ce56afa1408d78
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 15:10:46 2015 -0700

    skip 'backup' role during upgrade playbook run
    
    The rationale here is that if the Document Interface is not
    regularly purged, then a complete backup over Tor would
    cause the upgrade to fail. Updated docs and and comments
    to upgrade script to explain this, and provide an example
    command to run the backup manually if necessary.
    
    The backup role is still enabled by default in the Ansible playbook.

commit b8d6c9e63d5bc6857afb5ffc5809f9b2d5fb7d89
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 15:08:16 2015 -0700

    removes unnecessary username from ssh commands

commit 66bea3c4b2610be74f8a12ebc4e54c6c415f2de1
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 14:52:10 2015 -0700

    removes backticks

commit 0b656a5d6430fb59f3af49925effd4a35eab6857
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 14:51:23 2015 -0700

    use ANSIBLE_BASE constant where applicable

commit 78cd72624e08e1ba5f20f68d5ceb4023fab172ca
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 14:49:43 2015 -0700

    use HOMEDIR constant where applicable

commit 749c7b9729a028a92af9c538d20b13665c76246c
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 14:40:17 2015 -0700

    adds "set -u" to script to catch undeclared or typoed vars
    
    Having this option set previously would have caught the
    typo addressed in ad2e36f, and saved some time debugging.

commit 98d457b43e08c8d95a462c1356300b5b1171351b
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 14:37:33 2015 -0700

    uses [[ / ]] keywords for conditionals throughout (except cmds)

commit 6d5dee62f3a1fecbb54f87da5242b09d9f409025
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 13:36:50 2015 -0700

    renames non-constant variables to lowercase

commit 0feee0e516c36a96e7b1614fcca9cc041c2e70ba
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 13:33:38 2015 -0700

    renames ANSIBLE constant -> ANSIBLE_BASE for clarity

commit 90b777a11875e631843d9cd2ea05506a6fc22aad
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 13:32:39 2015 -0700

    removes PERSISTENT constant (it was only used once)

commit 207c309e623fcc8bd60bd9520c10cd78e71ee3b6
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 13:29:53 2015 -0700

    removes TAILSCFG constant (it was only used once)

commit f796bcb19ed0da5c030ba178b820aeb153cc9b9b
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 13:27:15 2015 -0700

    makes IP address checks quiet
    
    Without the -q flag, script echos IP addresses needlessly.

commit 4d9bfaa6ada2a9741bb34dcee8b9416434245769
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 13:25:43 2015 -0700

    adds echo statements to notify admin about package installation
    
    By providing context for sudo calls, privilege escalation
    requests become less alarming for admins.

commit 457e2558509a8be11871c01a8a5c42897e871a3d
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 13:20:34 2015 -0700

    removes requirement for root privileges to run script
    
    Previously, the script forced invocation as root (UID 0).
    Elevated privileges are only necessary for two actions:
    
      apt-get install git
      apt-get install ansible
    
    The vast majority of tasks in this script can and should be
    run as the default user "amnesia", so running the script
    as root complicated the logic by requiring the normal user
    environment to be recreated, e.g. in SSH connections.

commit c5c5d08af11f4bbf0dc41e2f49f0196816c821d5
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 13:10:16 2015 -0700

    removes ProxyCommand from SSH connections
    
    ProxyCommand option not relevant in Tails instance,
    and in fact causes the SSH connections to fail.

commit ad2e36fe7984138c3e4371a8cae884e5a365cb92
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 13:06:04 2015 -0700

    fixes typo in "ssh_users" variable

commit 79fdd3cc567afc02bd586c94264253de4a48cfe6
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 13:05:38 2015 -0700

    removes "set -x" (leftover from debugging)

commit 2af95de073b2dc015eea238c82ae4a85246e23eb
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 29 13:04:57 2015 -0700

    chmod +x on 0.3 upgrade script

commit f7137e66c1bae6da6151c34bfb81d52c352047f6
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Apr 29 12:32:23 2015 -0700

    Make 0.3pre upgrade script idempotent for Ansible
    
    Sometimes when the Ansible upgrade role is run, the upgrade script
    completes successfully, but then something goes wrong later in the
    role. For example, network connectivity issues may cause one of the
    later package upgrades to fail. In this situation, we need to be able to
    re-run the playbook. This means the `0.3pre_upgrade.py` script needs to
    be idempotent.
    
    The script performs a full SecureDrop backup to `/tmp` before continuing
    on both the app and monitor servers. Since it would be complex to verify
    whether the backups were idempotent, we simply make a backup every time
    the script is run. The backup filenames are timestamped, so there is no
    concern about accidentally overwriting them. Since the files are stored
    in `/tmp`, they will automatically be cleaned up after the next reboot.
    
    On the app server, the upgrade script also migrates the app database. To
    make this idempotent, we check for the last change made as part of the
    database migration. If that change is present, we take it as evidence
    that the database has already been migrated and skip the migration. This
    makes the database migration idempotent.
    
    This commit also does some formatting cleanup, adds docstrings, and
    encapsulates getting the database connection into a function to make the
    script more DRY.

commit 7c3d2ebcb613a6c43cd8b393e523249e89016525
Merge: 8f53d4e6 f210796f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Apr 28 15:14:33 2015 -0700

    Merge pull request #1009 from dolanjs/ansible-playbook-doc-fix
    
    update playbook name in directions

commit a185a5d9bfd5e0d41c9e24390c175c7773413a21
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Apr 27 17:17:47 2015 -0700

    Fix incorrect argument to git stash

commit 2eccc1369706b350bd1ef5d5b1a1042d78794908
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Apr 27 16:11:50 2015 -0700

    Synchronize upgrade docs in repo with draft in Hackpad
    
    Upgrade docs draft:
    https://securedrop.hackpad.com/Upgrade-to-0.3.3-jis3fmQ3AnE
    
    I added a new `upgrade.md` to serve as a central place for all upgrade
    information. It explains how the upgrades work at a high level
    (incorporating text that was previously unused from the Hackpad draft)
    before linking to the specific docs for upgrading to a specific version,
    depending on the version you are upgrading from.

commit b8701cf1cab61383b152832a3e58470b1a998c80
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Apr 27 15:40:54 2015 -0700

    Improve Markdown in migration docs

commit b4a444f9d4995e7a830f29a6be4d2840f136a4a9
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Apr 27 15:28:50 2015 -0700

    Fix migration script directories after merge
    
    In `check-migration-scripts-for-0.3`, I had made the change to standardize
    the directory names in `migration_scripts` to correspond to the version
    one is migrating *from*. This change was not made in
    `upgrade-helper-script`, so this commit makes all of the naming
    consistent.
    
    This commit deletes the old README.md because it has been subsumed by
    `0.3-pre-upgrade-to-0.3.3.md`.

commit 039b687f7b7c8e6f43b83313a58f3cfba385368e
Merge: 4db37084 f683827e
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Apr 27 15:25:31 2015 -0700

    Merge branch 'upgrade-helper-script' into check-migration-scripts-for-0.3

commit f210796f84781838b201bbbe3d53e085c9af10cb
Author: James <james@freedom.press>
Date:   Mon Apr 27 14:55:09 2015 -0700

    changed playbook name
    
    The install.md directions is still using 'site.yml'. Until @conor does the ansible re-org we should just change the directions to point to the `securedrop-prod.yml` playbook.

commit f683827e186005697be1f7463557e52ef256f6d9
Merge: d359c138 57666606
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Apr 27 14:48:20 2015 -0700

    Merge pull request #1003 from dolanjs/upgrade-to-0-3-3-docs
    
    added docs for upgrading 0.2.1 and 0.3-pre versions

commit 57666606180ab0355b2d86ee8dc9921b899db9e0
Author: James <james@freedom.press>
Date:   Mon Apr 27 14:09:03 2015 -0700

    fixes from the @conor and @garrett's comments

commit 4db37084174795acea8502d186575977dc4b2e19
Merge: ac081524 8f53d4e6
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Apr 27 10:45:36 2015 -0700

    Merge branch 'develop' into check-migration-scripts-for-0.3

commit ac08152472407cd8efce9964ebab0d2a748c9faa
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Apr 27 10:43:59 2015 -0700

    Fix minor mistakes in 0.2.1 collect script

commit 8f53d4e6b87e4a6a2abe02e8a5f21f88001cfa9f
Merge: 269d72ee 07e62455
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Apr 24 16:52:22 2015 -0700

    Merge pull request #998 from ageis/strip-codename
    
    Strip leading + trailing whitespaces from codename

commit 07e624554cf8ae62bb9196c2ffddae06c4d6e736
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Fri Apr 24 16:44:18 2015 -0700

    Update unit test based on comments

commit 269d72ee23d94ad0a4557fa15275bdb397e7b6e0
Merge: 64a87191 213d4a1d
Author: Conor <conor.schaefer@gmail.com>
Date:   Fri Apr 24 15:27:38 2015 -0700

    Merge pull request #1007 from conorsch/ansible-multiline-format
    
    converts ansible tasks to multiline format, for readability and more informative diffs

commit 213d4a1d967cb4a9f1364d24e0c95daa2f73a91f
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 24 14:59:33 2015 -0700

    adds explicit comments and TODOs for bash additions

commit cc6e2d09700ba34e113e2fb0dfb2baf6d6010ab5
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 24 14:37:05 2015 -0700

    more verbose comment about setting `sudo: false`

commit 92bc9e62417cef183508fe77c150b22581351bae
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 24 14:30:40 2015 -0700

    removes comment about cert generation for ossec authd
    
    no longer relevant, see discussion in comment threads for #818 and #1007

commit 64a8719194b459622573d9a6b836f6ef010715d8
Merge: 31d5f34f 17877af0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Apr 24 11:43:38 2015 -0700

    Merge pull request #1005 from ageis/update-fingerprint
    
    Update smtp.gmail.com fingerprint in yml files

commit 31d5f34f486e72c87f670d71c0da189772ca1d17
Merge: 83cbcecd 186faaef
Author: Conor <conor.schaefer@gmail.com>
Date:   Thu Apr 23 15:51:17 2015 -0700

    Merge pull request #1002 from conorsch/serverspec-tests
    
    adds a full suite of serverspec tests for tracking changes in the ansible config

commit 34c26eb3e65f0dc85b314c32d342527145c61044
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:43:34 2015 -0700

    removes unnecessary quotes from command: task

commit 5c0074491b0fbefb51a2f02ccc0931466d72c7bf
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:43:19 2015 -0700

    converts 'command:' task to multiline format via YAML folded scalar '>'

commit 156602224068dedd9e0cc28f5fadc9ef001150a2
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:41:43 2015 -0700

    converts 'command:' task to multiline format via YAML folded scalar '>'

commit c063a8b6d8aadb1a7069e8aa5cd1849df6a2f753
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:40:20 2015 -0700

    removes unnecessary quotes from filepaths for file->dest:

commit a4c953dd8160095b37c5e179cf07fffed7407d5d
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:39:45 2015 -0700

    removes unnecessary quotes from stat path

commit 784463a63a6c4a350d5cf7dc7ddcd66c864d972b
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:37:50 2015 -0700

    removes unnecessary quotes from update-rc.d command

commit ffc9d901cae75775f745e6f98a70518dce301592
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:37:24 2015 -0700

    removes unnecessary quotes from aa-complain command

commit 92bec75fefa5c9c305627320a9f20ae0dc99c017
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:22:29 2015 -0700

    roll back file perms to octal format without special bit
    
    issue #1006 will tackle standardizing format for file permissions,
    this commit merely preserves the original functionality prior
    to converting to multiline format.

commit 4c15d3ff9200432b3530cd5b0b8abb5f399a546a
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:13:02 2015 -0700

    fixes apache files perms by stringifying mode: parameter

commit 2be8fbaa9ff729c588286450a1b1da3c8b29ce92
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 14:58:46 2015 -0700

    converts restrict access mon fetch tasks to use multiline format
    
    the `local_action: lineinfile` block still has kwargs format
    due to ansible syntax quirks. this commit does make it
    multiline, though, so diffs will still be improved.

commit eaefdca2d36bd66c61d811d15eed4d9e9da897a4
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 14:54:53 2015 -0700

    updates restrict access mon iptables config to use multiline format

commit 353583ec5044f432c6d177857fe85c4e9d4d6120
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 14:54:19 2015 -0700

    updates restrict access mon tasks ssh config to use multiline format

commit 44a395ba411af6590f95494fc5551e62938b0f51
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 14:53:59 2015 -0700

    updates restrict access mon handlers to use multiline format

commit 93ac161a8cb59f3ebd4f499f6c06ffac08983c9c
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 14:24:49 2015 -0700

    reverts ossec file permissions to decimal format
    
    This is to preserve the original functionality of these
    tasks, ensuring only formatting changes are made
    for the time being. A separate issue, #1006, is
    tracking fixing these.

commit 35e0a64d36c7caad1c22ce675fefc9840c697419
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 13:55:45 2015 -0700

    fixes wsgi config files perms (stringifies file mode)

commit 1eaba46ab03b7e48281207671abb0b27a5c2d4af
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 13:52:49 2015 -0700

    fixes permissions in xvfb config (stringifies modes)

commit 062766c0aff6bc7891a699733c441cb71288b4b8
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 12:25:56 2015 -0700

    adds quotes to file mode to preserve original setting

commit e4c54e876a9dc063e0c07b28124b7f62f4237a1b
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 16:10:37 2015 -0700

    updates restrict access app role with multiline format

commit 679972874630b51cf821a903ec1c636d5d9fdfd9
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 16:04:47 2015 -0700

    updates remove_authd_exemptions role to use multiline format

commit 05863d7d743a5f33497fabc025fbf69b3d56bbd1
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 16:00:29 2015 -0700

    updates ossec_server role to use multiline format

commit 9101df48e81bf0a6142a120131b7c06ddfcf695b
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 15:55:39 2015 -0700

    updates ossec_agent role to use multiline format

commit 063461a9fb0671bd7210b301995df6235b6380e3
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 15:52:26 2015 -0700

    updates install_local_pkgs role to use multiline format

commit 5e372e0da4511dd47b8233bfd25b8f25f0e912f0
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 15:51:27 2015 -0700

    updates fpf repo config to use multiline format

commit 17877af03a8e93e00172410e7bce7e81bc105959
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Wed Apr 22 15:42:05 2015 -0700

    Update smtp.gmail.com fingerprint

commit f451be432989e768b9ed3cd9f388813bb382a174
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:46:40 2015 -0700

    updates development tasks to use multiline format

commit 3046fda07d14aafae955e2e4f01632de519db100
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:45:31 2015 -0700

    updates common-mon tor tasks to use multiline format

commit 0ec59cb4211ea199c94989dfc97c713eeebbd780
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:43:29 2015 -0700

    updates common-app tor tasks to use multiline format

commit 434872dd269857661fbf57273f6570963ec0b102
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:40:56 2015 -0700

    removes unused/empty handlers file from common role

commit 9bd39db76dd2df5fcce48c8f053a700bcdb3876d
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:40:25 2015 -0700

    adds TODO for sudo setup

commit a15108507f7b824a2b62653e2b8399f9f963c909
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:37:05 2015 -0700

    updates general sysctl flags tasks with multiline format

commit d3298cd16497f40e545e4c59e94d2c25b5fcea42
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:32:16 2015 -0700

    updates user creation tasks to use multiline format

commit 6a529bbb2cee6d2e28a9cfb865772d7b180761fd
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:29:32 2015 -0700

    updates grsec install tasks to use multiline format

commit cc5c4de1eb2b80d6aad378c76745c8333c7c8e14
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:21:46 2015 -0700

    adds multiline format and comments to grsec tasks

commit e48b1a2de72276c97f7430287d368f7bb9dff664
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:10:10 2015 -0700

    updates kernel module config to use multiline format

commit ef13a563c4a302c01d371a3c61c3408cfe38d7fd
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:08:02 2015 -0700

    updates cron-apt tasks to use multiline format

commit 6c94c62c4dbc56b74f46cfd59730a1baaa493ce6
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 13:43:19 2015 -0700

    updates build tasks to use multiline format

commit 67ab656cec6723615b549bb7a9026db31499787f
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 12:29:16 2015 -0700

    adds multiline format and comments to backup role
    
    There are two Ansible "gotchas" here:
      - file modes should be passed as strings
      - chdir doesn't work with async
    
    Links to corresponding documentation are included
    in the comments.

commit e2555df445a67acd1041f88ada417a9232620ec2
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 11:28:21 2015 -0700

    updates app-test tasks to multiline format

commit 40ff10af237207d4706d3a6676cebc7cee79a062
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 11:22:33 2015 -0700

    adds TODO comment

commit 2ca4c1a28ea9d078bbf83c90519d3071584ebdc3
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 11:22:25 2015 -0700

    fixes dict-style quoting in apache task

commit 5946bbc4ca672f1814a65f6ce905e4c77046f158
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 11:21:00 2015 -0700

    updates handlers to multiline format

commit f45794a94b9a4a0c5b1f6f375a1e6566259c0f38
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 11:20:51 2015 -0700

    updates fpf apt install tasks with multiline format

commit a0a979081af6e30dfe8160ddde4d6b0a5a60a34c
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 11:18:23 2015 -0700

    changes app tasks for apache to multiline format

commit 40163e20770ccc0b60d74270b6983ac6e8a26e98
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 11:16:50 2015 -0700

    updates app role initialization tasks to multiline format

commit 96a959ef82ccbce9fd12247706b59400ca037b02
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 10:54:44 2015 -0700

    updates allow_direct_access tasks to multiline format

commit 83cbcecd42535d6091734a66b474f983546d388a
Merge: e980e78a c7868520
Author: Conor <conor.schaefer@gmail.com>
Date:   Wed Apr 22 10:50:21 2015 -0700

    Merge pull request #1004 from conorsch/add-ansible-tags
    
    adds ansible tags throughout playbooks and roles

commit c786852006ba13b3728c149a8741f918de1c7d11
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 16:36:29 2015 -0700

    adds tags to role inclusions in production playbook

commit ae1bd5fe9b16268694956b248bfcbfee41a9e003
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 16:18:07 2015 -0700

    adds tags to role inclusions in travis playbook

commit 518519a6161d035518526e9cf8cda4cfe892d7e3
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 16:03:53 2015 -0700

    adds tags "validate" and "debug" to validate role tasks

commit f5277f073587569dc42d1e21e9746e24deb6de87
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 16:02:42 2015 -0700

    adds "reboot" tag to reboot role

commit 5dcf5d8a3e2bfe1d07a325d8cce9c0d28e6f440f
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 16:01:47 2015 -0700

    adds tags "build", "pip", "apt", and "cleanup" to build-securedrop role tasks

commit 01251bbf4c646747e2507ea2a6aaff70868d451d
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:58:31 2015 -0700

    adds "apt" and "build" tags to build-securedrop role playbook

commit 54b410cfa4278a144b9fd7f182d9363fc096f8c7
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:57:41 2015 -0700

    adds "build" and "script" tags to build-generic-pkg role

commit 8d47bf9349343be05420d1554c9cfea2ff8e7240
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:41:50 2015 -0700

    adds tags "collect", "script", "fetch", "restore", "srm", and "permissions" to backup tasks

commit 2aec5c2ca9ffa4fda7f164b98e0e63fe6bd56df6
Author: James <james@freedom.press>
Date:   Tue Apr 21 15:28:44 2015 -0700

    added initial docs for upgrading 0.2.1 and 0.3-pre versions

commit e6ca66356a60189a91ea8c92437237dd7f96f880
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:37:23 2015 -0700

    adds tags "ssh" and "iptables" to allow direct access tasks

commit 440513cb91180e8700670732c26e4c2d7bc9f12d
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:35:04 2015 -0700

    adds tags "iptables", "ossec_auth", and "authd" to exemption removal tasks

commit 6c0884f82d27b868ea29d8cee6d60d07434370e0
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:33:25 2015 -0700

    adds tags "iptables" and "permissions" to iptables config for mon-staging

commit 8fce5aedafcd863601575544bc55706d67f65936
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:32:28 2015 -0700

    adds tags "apt", "2fa", "ssh", "pam", and "permissions" to ssh config for mon-staging

commit f1a773418d0d8f892b86be97917cf4c82b1c05ef
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:30:46 2015 -0700

    adds tags "tor", "fetch", and "admin" to fetching tasks for mon-staging

commit d93f3819a27272ba14f59a384916dec7ee64f235
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:29:19 2015 -0700

    adds tags "iptables" and "permissions" to iptables config tasks

commit 784bee148c4cbd06b1214b6ba287edba4184ecc1
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:26:40 2015 -0700

    adds tags "apt", "2fa", "ssh", "pam", and "permissions" to ssh config tasks

commit aa0b0bd93eafa4bff10cfaed863bcfaf2a742b95
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:24:20 2015 -0700

    adds tags "tor", "fetch", and "admin" to tor aths/ths fetching

commit 064ac1c6658d319ba588d0018f21a402236aeeef
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:19:59 2015 -0700

    adds "ossec_auth" and "iptables" tags to ossec_server tasks

commit c065f9c14da6d08cb80c15911ab77b8d7afaf317
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:18:44 2015 -0700

    adds tags "apt", "postfix", "permissions", and "hardening" to postfix setup tasks

commit 7efb807392e6fca1db61b459ed0540da5ffdd4c7
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:17:15 2015 -0700

    adds tags "apt", "procmail", "gpg", "permissions", and "logging" to ossec_server setup tasks

commit f256feb39702f83bbb64ea76c0de6604677fb8ed
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:14:46 2015 -0700

    adds tags "apt", "ossec_auth", and "iptables" to ossec_agent tasks

commit c2e8201bbf7ca3a19ca5205582445bb1b9efbf8b
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:10:13 2015 -0700

    adds tags "pip", "apt", "xvfb", "permissions", and "environment" to xvfb config tasks

commit af23a4d86dfe6b20b327562454f38342a260cb2d
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:06:56 2015 -0700

    adds tags "aa-complain" and "non-development" to apparmor config tasks

commit eb9d765b7f9c52f559386bac3d8a049efde03a55
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:05:57 2015 -0700

    adds tags "apache" and "non-development" to wsgi config tasks

commit 2fc62a61893e9c373540b9b6a705b984c13dc630
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:04:43 2015 -0700

    adds tags "haveged" and "hardening" to haveged config tasks

commit 16a4463a78246da2c3c040bdba34e959814dfb6b
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:04:12 2015 -0700

    adds tag "cron" to cronjob config

commit 947a9714a721505343216dfb3285079fc843dc2c
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:03:52 2015 -0700

    adds tags "supervisor", "permissions", and "logging" to worker config

commit 480041b9444d005c6201872a7b60c90d48fa229c
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 15:01:59 2015 -0700

    adds tags "apt", "apache", and "hardening" to apache config tasks

commit f34bb7fdfbd50836ea30b00bc5a12cae451e96ed
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:58:22 2015 -0700

    adds tags "apt", "securedrop_config", "gpg", and "database" to app config tasks

commit f0d8b0fb07b5b0c8344f8d47853ca9a8d5d4f7b3
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:53:30 2015 -0700

    adds tag "apt" to fpf install task for app role

commit ae361cc757b63d21027dc330c64be5cc895580dd
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:53:20 2015 -0700

    adds tags "apache" and "permissions" to dir checks in app role

commit f21baf91e6ddbd5a04b950cfaa14cfbe73cc0747
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:49:11 2015 -0700

    adds tag "install_local_pkgs" to role tasks

commit d5262c75c4869fd66cd112b72de0056f1484cba2
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:35:26 2015 -0700

    adds tag "tor" to tor config tasks (for app-staging)

commit 07f432501ff082569ea48251e87262b918704891
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:34:53 2015 -0700

    adds tags "apt" and "tor" to tor install tasks (for app-staging)

commit 9d1da8d8b129afbc20350c2ca6c5021de34b9b01
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:26:47 2015 -0700

    adds tags "host_aliases" and "static-hosts" to /etc/hosts config (for app-staging)

commit 4ba7b80fd666981b6f1af055914eea30e6622053
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:24:38 2015 -0700

    adds tag "tor" to install config tasks

commit 5c4bb8f98719dd7db4ddd08e27308c55d69fea06
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:21:57 2015 -0700

    adds tags "apt" and "tor" to tor install tasks

commit f31746c753c884a6e314b1aaa603677b3ab7bb2b
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:20:30 2015 -0700

    adds tags "host_aliases" and "static-hosts" to /etc/hosts tasks

commit 6adb0357b57cfbc3046dfd35828471ca84ae1c46
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:15:11 2015 -0700

    adds tag "swapspace" to disable swap space task

commit 08b424c2e93bf5a0823bb9c53c02710be1d065f2
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:13:46 2015 -0700

    adds tags "grsec", "reboot", "hardening", and "sysctl" to grsec lock tasks

commit a8403d3557fcab8a98eac71f2db212017bd38feb
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:11:57 2015 -0700

    adds tags "sysctl" and "hardening" to sysctl tasks

commit 7511e98198f81f05a0b3f31d15cfc0a52b8f0131
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:11:20 2015 -0700

    adds tags "apt", "cron-apt", and "reboot" to cron-apt tasks

commit ae6e435fd6920ae2c39894272f2c98f178a17cbb
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 14:06:55 2015 -0700

    adds tags "apt", "kernel", "hardening", and "grsec" to fpf grsec tasks

commit 8bee0728b126ee491edbcd4e9bac01446592d78a
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 13:42:25 2015 -0700

    adds "apt" and "ntp" tags to ntp install task

commit eb1b05b85b0ea2d9b203d5cccd5c36e2c4e13c17
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 13:41:11 2015 -0700

    adds tags "kernel" and "hardening" to kernel module blacklisting

commit 230db5fbbe76b5ac78e87af690cafe4b5264ada7
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 13:35:20 2015 -0700

    adds tags for dns tasks

commit d60ddc87351d9cd481097998127a99a862588913
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 13:35:06 2015 -0700

    adds tags "users" and "environment" to create_users tasks

commit af62d8058663f59d87d59d2259886c873831e770
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 13:31:54 2015 -0700

    adds tags to fpf repo tasks

commit a016eb404a52588b788fce93fbbca0b3a560dcab
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 13:12:32 2015 -0700

    adds more tags to role includes in staging playbook

commit a37dc718e1c3cc935dd0fc93e9077a41fca9faa9
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 13:05:21 2015 -0700

    adds tags to role includes in development playbook

commit 1d2ea2420fc71f5de72954178131d602c9f5a268
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 13:04:37 2015 -0700

    adds tags to tasks in development role

commit 186faaefcc7fa638819aa13ae7025204dc8d4ca8
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 10:44:05 2015 -0700

    fixes gpg check for ossec server key
    
    previous test had unintended side-effects, since it
    ran the --import command. new test merely lists keys and
    validates output

commit 010f510656375e9d574ec9919bc6e9342dd4367b
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 10:39:47 2015 -0700

    fixes gpg check for test app key
    
    previous test had unintended side-effects, since it
    ran the --import command. new test merely lists keys and
    validates output.

commit 60603dca1cf0562f8d967d1749f2ae15563e36a9
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 21 10:28:39 2015 -0700

    require 'spec_helper' in all spectests via .rspec

commit eea536e4deb30b8b71d4e1f1f5e45b670c17bd52
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 20:00:37 2015 -0700

    removes duplicate default html dir test from app-staging

commit 710ea19bfd9cfa0585d6eafff525c772a1142dae
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Mon Apr 20 17:34:01 2015 -0700

    Add unit test

commit dfed4b522f0780d5be5dea14e5c14f0a9dfc9133
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 15:28:56 2015 -0700

    updates selenium version in spectests for development
    
    see cb6897eae7673dcf48cdbc556627f4ba21e40c74 for related change
    only development sees the newest pip requirements file; the
    app-staging role still grabs the reqs from the .deb file,
    so these versions are different.

commit e980e78aa9ba03a846ee84ab6baa93fb6c63ea00
Merge: ff1170ac a9cd93d3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Apr 20 14:50:30 2015 -0700

    Merge pull request #989 from JMPorup/develop
    
    update %s notation to new .format syntax

commit d359c1383c93a5139b9e7a33b3b19690463a6727
Merge: e38f58af 60a96dbd
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Apr 20 14:39:18 2015 -0700

    Merge pull request #996 from dolanjs/upgrade-helper-script-fixes
    
    Upgrade helper script fixes

commit c860cd85e3e89ff2470f7d9f334be17075680f53
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 13:54:16 2015 -0700

    makes digitalocean plugin optional
    
    vagrant-digitalocean is needed only in snap-ci (for now),
    so don't require normal contributors to have it installed locally.

commit 2e7bb71fa583d1b57c23a8c5316cbf47d9ac09f8
Merge: 87b81305 ff1170ac
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 13:35:40 2015 -0700

    Merge branch 'develop' into serverspec-tests

commit 87b8130556b2eb7772c4a9e0b8a7fd6f52ddf8a0
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 13:31:35 2015 -0700

    adds section on spectest layout to docs

commit 1137ba23405be168aa0e3374c822d592607001a4
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 13:08:58 2015 -0700

    adds link to spec_tests doc in develop.md

commit 60a96dbddb9b5794a16c6192716bc3778d1c7c97
Author: James <james@freedom.press>
Date:   Mon Apr 20 13:04:08 2015 -0700

    git branch and tag checks
    
    The admin should verify the branch prior to running the script so checking the branch and the tag is not needed in the script.

commit 58a86d595ab0666d9c67de6b80ef8e46d5ce7514
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 12:49:49 2015 -0700

    adds TODO for spectests

commit 72831a51cae55c090978f72bf4d97c34aaf0c496
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 12:48:35 2015 -0700

    adds info on updating/adding tests to spectest docs

commit 5b75b14a3dad89648b7226263414e116af5a53fd
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 11:52:59 2015 -0700

    adds urls to serverspec docs

commit 78fda5f2c1b0c429e4aebbaa4265f0710cd6a418
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 11:38:13 2015 -0700

    adds example of serverspec test isolation to docs

commit 1cf41ff1926250663f27b634cc60137e04020522
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 11:35:20 2015 -0700

    adds docs on running tests and creating vms

commit 93010eb0804f576112da04f8e7055306b39342e0
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 11:28:52 2015 -0700

    updates docs for running spectests

commit f9206aa84b1c549c975f4954b3e5ea131164014b
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 11:11:45 2015 -0700

    custom def for reading vars files

commit 796e7f7c8a745a4a7bf658784cd6005d8009147a
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 11:06:22 2015 -0700

    more readable spectest output

commit 2108f6f0b11e759e9e275afd6428c6a0eaab79bb
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 11:04:35 2015 -0700

    move app worker config tests to common

commit 98211f07d59e757ba38b1b77d3ba4a7f5596d9d3
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 11:01:15 2015 -0700

    adds dev-specific logo check

commit fffdd3346e6aedea912367e46242a1268e502c00
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 11:00:59 2015 -0700

    moves app config tests to common

commit fa98914a0a37167335013b1300a598b6b573121b
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 10:43:51 2015 -0700

    separates cron-apt checks for app-staging and development, since ansible role has var hard-coded

commit 07fb8954ab25465b41c33b75a16413613a9ca85e
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 10:40:08 2015 -0700

    removes duplicate haveged checks

commit c0eea989b9e974d14f9e1c0f911ff3b06bcc03cb
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 10:35:15 2015 -0700

    moves cron-apt config tests into common

commit b2907a142a29e1279cb1d9e19477721db2badc37
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 10:31:54 2015 -0700

    moves haveged tests to common

commit 431f17623430ed695ad915e639ef07822901c98b
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 10:28:59 2015 -0700

    dynamic vars for dev dirs

commit 6d67d3137ea3b5f8b28b17cabfa3d9d42ba6c298
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 10:28:42 2015 -0700

    removes duplicate checks from app-staging

commit d47b621bf1b6902d10d452ed89ee845fc0b1c29f
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 10:28:16 2015 -0700

    adds common app-spec

commit 5d1ce515a800fad2d5149a36e0787bbe3d24ad23
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 10:14:57 2015 -0700

    more dynamic vars for app-staging

commit e23cdbb29632919c872de41adec56af5be6fe4c1
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 10:10:58 2015 -0700

    adds dynamic vars for app-staging dir tests

commit 79dc21998f466d01a85130bee40ca9d360304f38
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 10:07:33 2015 -0700

    adds dynamic-var-based testing for dev-only

commit a79d724a8d7e7b55c6f399280fbae5df94f98aa1
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 10:02:18 2015 -0700

    starts adding dev-only checks of app spec

commit 216051aabe406674c1b604ce61684e0e7dba2bfd
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 20 09:55:31 2015 -0700

    ensures apache2 is not installed in development

commit 04e39261942c8c4f0afe7feb29eab1d719e3e46a
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 16:47:15 2015 -0700

    updates development and app-staging spec driver to include common-development dir

commit 9be6bab53517fa9326ed63957b7a2ad01b2b511c
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 16:46:57 2015 -0700

    moves xvfb spectests into a shared dir

commit fff660028c9278b7bf5888d75d187c3b57426e2e
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 16:35:15 2015 -0700

    ports remainder of apache spec for app-staging to use test-vars for securedrop-code

commit 620d2793251db27b0be0e84112ba1078cc2c97c3
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 16:34:02 2015 -0700

    ports most of apache spec for app-staging to use test-vars for securedrop_code

commit fd35fb743c3a333f8afdf2bb1d3c0e5cd3bdb06e
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 16:29:41 2015 -0700

    updates app-staging app tests to use test vars

commit b3b3cc4a44cf1146db472f44877920f57a644d56
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 16:25:24 2015 -0700

    adds import of test vars for app-staging

commit 8d75164f194718c8bd82fb9c1de6ece8745ae94e
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 15:45:32 2015 -0700

    load vars for development role

commit 750ef8e27a3a00fe13b32869ab7beabed5f423c9
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 15:23:22 2015 -0700

    adds development-specific vars file

commit 34dc053076c493baf95f3cbe9afdbd9390bf5818
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 14:38:55 2015 -0700

    removes serverspec references from vagrantfile

commit 1808deff217199ca9ad04a09088b05ae1668b4f5
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 14:29:47 2015 -0700

    updates gitignore with spectests gems dir

commit 0ee7a35150bac2b358fbb03e6d043c3854d4051a
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 14:26:12 2015 -0700

    adds comments to Rakefile

commit d0466ec1ceadadfe352c8893073cb440779e65f3
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 14:18:36 2015 -0700

    fix case statement in roles def to append roles properly

commit 816f7820603fcda54d975ba801f1d44280b9802b
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 14:14:44 2015 -0700

    use role-based pragma for determining which spectests to run

commit 647c706abfd7dcbe7ab0e4d54c7adc092b2635fc
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 14:07:05 2015 -0700

    move role() def to top of file

commit 99469b7234f54dfbf4f9c6980bf24f6b79cc73b5
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 14:01:34 2015 -0700

    fixes host array declaration in Rakefile

commit a6f7c1a7892d5ec5a974d170cfae2490b53d66c1
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:55:10 2015 -0700

    adds function for associating roles with hosts

commit 25f1423b1470af6f1bb4e5824a9c7129f5101da6
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:54:02 2015 -0700

    explicitly declare hosts array

commit d139a6ac489c291f6161aa3502982101a8a307f8
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:47:30 2015 -0700

    adds spec_helper requirement to common-staging spectests

commit 9a37a4097f8df01a5edc2cc0791b8ff8b66b54a7
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:34:29 2015 -0700

    adds spec_helper requirement to mon-staging tests

commit 2e96da90e1d9657bee1ddf31ac7ca9a4a015e58e
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:31:10 2015 -0700

    adds spec_helper requirement to app-staging tests

commit 697d43e722f8ca98514054935c682e1d6f904346
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:28:33 2015 -0700

    generalize spec_helper for all hosts

commit 26c2950be4859fa5a4ba0dcf2bf9d8dbbd89bf25
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:27:19 2015 -0700

    adds spec_helper to build spectests

commit 7702f504c5d7ce59f8bbab5d9c64527ae8fa2b4b
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:26:58 2015 -0700

    adds .rspec file with colorized output

commit 463ddec61b45f00a1c12e8c3e1b21318c9499bd6
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:20:26 2015 -0700

    adds spec_helper requirement to development spectests

commit 39a5d141401b69fa2ec964921708033734d64f22
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:19:41 2015 -0700

    ports spec_helper to serverspec v2 format
    
    this file was automatically generated via the new serverspec-init

commit 3423cce247a8d5e51035377840839bfa413f649d
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:19:23 2015 -0700

    isolate development vm for spectests

commit 27e56ab7677461f02fcef503f644404a49053deb
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 13:18:06 2015 -0700

    moves old Rakefile and spec_helper back to old location

commit 4e5b8b748b25bb81e95a8d6bc8e6ba20521c95c5
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 12:08:01 2015 -0700

    move old Rakefile and spec_helper.rb aside

commit 30e8d3da1ba1514556197e1baa573855aec3c79a
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 10:37:52 2015 -0700

    adds check for SECUREDROP_ENV var

commit 787a53df46c73416e852e3d14db593d740b96388
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 10:14:07 2015 -0700

    adds tests for pip dependencies

commit d5aa140318f16f6ebdcfcaaf71f4218951321bf7
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 10:08:12 2015 -0700

    starts spectests for development role

commit 25f25c27ef5986445959d2ea376bc22c0d3095fb
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 09:55:07 2015 -0700

    adds a bit of superficial validation for package control fields

commit 011f4a0b1489b6ddb737e3f1c00ee6c2ad83f6f9
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 09:36:28 2015 -0700

    adds check for package name in dpkg dry-run

commit 65ab4940290625ec3bebcfb5416716a01bc8b143
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 09:35:03 2015 -0700

    adds some regexes to cut up filenames

commit 4ec6be9780fc218fce9ce462c92acc34891b3526
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 09:32:23 2015 -0700

    adds test for appcode deb presence

commit 7a70299f2b22f2906039e442a76e4a3483c283ec
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 17 09:30:56 2015 -0700

    adjusts dirs  being tested

commit 3609cedeb6722f8e7086930fa689c8b6a92129be
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Thu Apr 16 18:27:26 2015 -0700

    Strip leading + trailing whitespaces from codename

commit eda897454a302f0a9c94dfde17fb423baa658eff
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 17:19:35 2015 -0700

    adds dir/deb tests for build vm

commit 94b2a8ba19036c38d45a9906e5088a8810a628c4
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 16:57:28 2015 -0700

    adds check for pip wheelhouse for build vm

commit ffd99280a2bfdec7ba2e077de1da9584dbbae458
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 16:53:34 2015 -0700

    starts spectests for build vm

commit 87ae89f3021054a17956804d999f7e914c9aae88
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 16:48:51 2015 -0700

    adds check to ensure authd is NOT running

commit e7fce915e23af028f524a3c990f3bd01e0b48220
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 16:47:28 2015 -0700

    adds a different format for unwanted iptables rules for mon-staging

commit 6cdf0bc7131a231f50d2c745ce4612683d21da19
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 14:28:37 2015 -0700

    more readable iptables spec for app-staging

commit 061219addd971c93ef9e9d0e0a7e7991c757b643
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 14:17:45 2015 -0700

    more readable iptables spec for mon-staging

commit c71bcf8d210e26387ed001e77bb93735db846ce9
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 13:54:03 2015 -0700

    removes duplicate iptables checks for mon-staging

commit b2c023396afa158b6a4c47b4fe85a5ef01191e75
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 13:50:24 2015 -0700

    fix ip address for mon-staging

commit c1aecd69c9c4e831a5100fe936ebb547d43d2224
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 13:46:46 2015 -0700

    removes duplicate iptables checks from app-staging

commit 7470d5e0f00f29fce3cf038b9182a60cb30f6e8e
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 13:20:49 2015 -0700

    adds checks for xvfb service, also TODOs

commit a04c4ea83aaf7da0ab4566bb9878d9a1b4ca5ce5
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 12:28:38 2015 -0700

    adds tests for xvfb config

commit cdeccf16450e94e9f356b71678d4e4b282e10efc
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 12:15:41 2015 -0700

    adds test for xvfb init script presence

commit 45df7713ffc8a591084de68162f3f42522784586
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 12:08:23 2015 -0700

    adds spectests for apt package dependencies for testing

commit 3495ffa6c9fa03dc702889ea6a3d91d3eb6beb6d
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 12:05:50 2015 -0700

    adds check for app-test pip dependencies

commit 01fe5ae9475a9b3b37798299ec1a3100f27e57da
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 12:01:08 2015 -0700

    begins spectests for app-test role

commit 73a2a1796c6e0f3401df1f4507f82cb12e843bee
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Apr 16 11:35:44 2015 -0700

    Update README for 0.3pre upgrade
    
    * Add TODO note for documenting how to perform the upgrade with Ansible

commit bfdaf01f4e4246199eda4b26983c0ceeeab7bcaf
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Apr 16 11:32:54 2015 -0700

    Check 0.3 migration script, minor fixes
    
    * Rename crypto_util.py to old_crypto_util.py to avoid confusion with
      the current version of crypto_util.py. This did not cause problems
      because we add the current SecureDrop code root,
      `/var/www/securedrop`, to the path *after* importing the old crypto
      util code, but if that order were reversed it would break the
      script. Being explicit here helps avoid potential bugs that could be
      caused by future refactoring.
    * Add a comment for why we require a journalist to exist before running
      the migration.

commit 7e9dbed28b1da585321a1e1b171a79e9498d16d3
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 11:29:54 2015 -0700

    adds checks for haveged service config

commit 607b05402741fbd8a867d37c4e95d08e412e5c3d
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 11:28:34 2015 -0700

    adds check for tmp cleanup cronjob

commit 46bbf3db6eb2d82de3f3f4b0c683b43e50dcdf30
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 11:23:16 2015 -0700

    adds test for worker config

commit 13d14e7150764cd047858263cc22448275a0622b
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 11:03:00 2015 -0700

    touch up comments

commit 972ec3500a6e20e5661fd3402e1e5f1d715f8e4c
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 11:00:25 2015 -0700

    more readable checks for apache modules

commit 91301a34c3a4919ba775acd134a245ce615f00b5
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 16 10:52:31 2015 -0700

    adds check for common apache directory declarations

commit f1eb0d33314f63a30ec1f771e6d5412081a8b14f
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Apr 15 18:00:45 2015 -0700

    Name migration script directory for the version it migrates *from*
    
    When you do a migration, you're starting with an existing system with a
    known version; therefore, it makes more sense to group migration scripts
    by the version they are migrating *from* rather than the version they
    are migration *to*. This is also better because it is conceivable for
    multiple base versions (e.g. 0.2.1 *and* 0.3pre) to need migration
    support to a single version (e.g. 0.3).
    
    This creates a consistent naming scheme for all of the directories in
    `migration_scripts`, because 0.3pre was already the set of scripts used
    to migration 0.3pre installations to 0.3.

commit e1b9fe4b1416bccda9d64cf608f8898b363ab4bc
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Apr 15 17:59:09 2015 -0700

    Refactor 0.2.1_collect.py and add better logging

commit be9ff14c84225112fb7eb5a603fef9a076825a9d
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Apr 15 17:55:45 2015 -0700

    README formatting

commit 0f67009c640f819a02cd74a8ede2aa6ceb55cba6
Merge: 13d3e5b0 ff1170ac
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Apr 15 17:29:19 2015 -0700

    Merge branch 'develop' into check-migration-scripts-for-0.3
    
    Fix conflicts in migration scripts caused by parallel editing in
    check-migration-scripts-for-0.3 and develop. Most of the edits from
    develop were stylistic (part of PEP8 PR's), whereas most of the edits
    from check-migration-scripts-for-0.3 were functional improvements or
    fixes.

commit 123b3126f2d8390652e4171cb225ebb5904cf851
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 17:10:15 2015 -0700

    adds config checks specific to document interface

commit e938cfe0a8f7f74e1cddc7d49369267b7e718911
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 17:07:27 2015 -0700

    adds config checks specific to source interface

commit 99326eaeaf554aa5b4c19dee7411e381b5d73cc0
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 16:57:57 2015 -0700

    adds explicit checking of common apache headers for source and document interfaces

commit ece381748e715c3bf803f5374b08ba37fe761eaf
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 16:52:13 2015 -0700

    adjusts apache header capitalization for consistency
    
    In the config for the document interface, the Apache header
    was listed as "X-download-Options", but in the source interface
    it was listed as "X-Download-Options". This commit updates
    the document interface to use the same capitalization schema
    as the source interface. (This makes serverspec testing cleaner.)

commit fbf4950a018850e85ff5d8aa9d2126c81b54db31
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 16:36:25 2015 -0700

    more explicit apache tests

commit 6ec31ea7a9915321f4c31c312ae1971d9f9306af
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 16:19:13 2015 -0700

    adds checks for app db and logo

commit 7f03e1cef66335a74834a775b24e6b855281f261
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 16:12:15 2015 -0700

    adds check for staging journalist pubkey in config.py

commit 483d8d979fdc5956997330ce95591d9fb65e6b1c
Author: James <james@freedom.press>
Date:   Wed Apr 15 15:49:47 2015 -0700

    Fixed verifing the current git tag
    In production this the end user will be checking out the tagged version of the release not the branch name

commit 790b27c9f6b3cda0326ab10ce6ff81a18d640f57
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 15:49:45 2015 -0700

    adds gpg key tests for app role

commit 1a76d43a6bfd83a321fba08027b45148b6a19d77
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 15:44:37 2015 -0700

    adds tests for package dependencies for app role

commit 267c68d1a734bc829096c7fbc660f3c560e4e43a
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 15:42:46 2015 -0700

    adds tests for application dir mode and perms

commit 6ecca360cc53b40f816da6ac5f7467a9d8e3fb4b
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 13:58:51 2015 -0700

    terser comments for app iptables tests

commit d96da4cf3c7d876878ed09afdfc735d9698d0679
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 12:00:45 2015 -0700

    adds tests for ossec-agent packages and keyfile

commit e407d2e979c7a7f356d8421997c4c464310fba68
Author: James <james@freedom.press>
Date:   Wed Apr 15 11:58:12 2015 -0700

    run the playbooks as correct user

commit 58e5bae0dcb82cd811e75c883c32a47d3cf3ae68
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 11:51:09 2015 -0700

    begins spectests for ossec-agent role

commit fa9a859a1568cb36e1e6e238603bbe1a070fb26e
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 11:47:13 2015 -0700

    renames ossec spectests for mon for clarity

commit 9d59f8e2097ebdbc51bf5f5a3207b0246d7213cb
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 11:45:46 2015 -0700

    adds tests for app-specific torrc settings

commit e48d44bcc19551d2284eec5fdfcd6a58d23a34b1
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 11:45:22 2015 -0700

    adds tests for common torrc settings

commit 23d978b1e902baedb9640dbfdab9692ae80a1d68
Author: James <james@freedom.press>
Date:   Wed Apr 15 11:42:56 2015 -0700

    added check that the correct branch is checked out
    moved the check for a valid signature.
    removed tasks that were only needed if the migration scripts are not part of a tagged release.

commit f44b810e93e9f67cfba2845882812dc72955c6ef
Author: James <james@freedom.press>
Date:   Wed Apr 15 11:31:45 2015 -0700

    added some todo's

commit 403764efef0b9da27618d6245c13aa3b4ffecb70
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 11:23:35 2015 -0700

    adds check for tor service to common

commit 984f0e788bcd82112c6d1ccb4a842c89cddf2818
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 11:19:17 2015 -0700

    terser comments in ossec-server iptables checks

commit fe4507fd99bffaa2bd5d5a0144f474d328896656
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 10:54:30 2015 -0700

    adds spectests for ossec-server procmailrc

commit 7a6634ff5c183ca2a8453961da0c7ce3fe6de2bb
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 10:49:44 2015 -0700

    adds TODO comments around file perms for ossec alerts

commit d491a4b5c0c2015df09de901c1624308c7df7c63
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 10:46:06 2015 -0700

    adds tests for gpg pubkeys for ossec-server

commit 259e0a90a02c21e911b75da2c8c9bd7ff891783b
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 10:30:00 2015 -0700

    ensure keyfiles exist for ossec-server

commit c7e2aaa5223503a5e4179dfee9a0562d4a37674f
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 10:10:36 2015 -0700

    ensure ossec-server sees app-staging host as available

commit 4c83dc8ffddc2ca50ab5a12e341172bf77f82e37
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 09:51:45 2015 -0700

    adds list of desired postfix settings for ossec-server role

commit 072571e3135e1bfc6b3826969dda46b3ffcc52b1
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 15 09:44:50 2015 -0700

    adds several ossec-server spectests

commit e38f58af84acd9bdb6070c13543f78c3de5c6d78
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Tue Apr 14 17:07:51 2015 -0700

    Rename tails_files/upgrade.sh to migration_scripts/0.3/upgrade.sh

commit f4574925a06875aef4c53c0877a37a2c1f3388b3
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 17:07:07 2015 -0700

    adds checks for tor services dir

commit ff13ec5a9b842985994f54b9abf684c3d397c9c6
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 16:52:51 2015 -0700

    adds spectests for tor repo to common

commit ec0f591955951933ebc5722cb5e0ee5227383249
Merge: ff1170ac cfefcf5e
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Tue Apr 14 16:51:35 2015 -0700

    Merge pull request #995 from ageis/upgrade-helper-script
    
    Upgrade validation pre-checks and helper script

commit 72a2f5ed114fdc1f33d2fe06794adfa152ec76f2
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 16:32:34 2015 -0700

    adds TODO for mon-staging ossec tests

commit 669a8ab7ad6e4f901de1024f6c33612515b34722
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 15:21:48 2015 -0700

    renames ossec spectest for mon-staging to confirm to _spec.rb format

commit 3a35048b49c704594f5e7f65753c8ec103fbbd59
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 15:20:59 2015 -0700

    adds ip checks for mon-staging in /etc/hosts

commit c5e649f3913db9a85b11329e6ff412345736a6f0
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 13:16:46 2015 -0700

    removes app-specific packages from common tests

commit bbb49dd3597109cedf9520155e6dda9b852a2b3f
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 13:07:41 2015 -0700

    add check for disabled swap space

commit d280572e7a703f935cf2bc006b7ab3a9c2f2cd0a
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 12:53:19 2015 -0700

    adds spec tests for sysctl flags to common

commit 54159ee507c14d4da3c45eda1a541f469e09baac
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 12:26:20 2015 -0700

    ensure safe-upgrade has been run

commit 224c62788179c3c7a5948d71c8d6bee9e19839d0
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 12:24:00 2015 -0700

    ensure cron-apt cronjobs in place

commit f289aea63572afd63b5cf3fa5966fc0b37ddf47d
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 11:55:19 2015 -0700

    adds a bunch of apt-related tests to common

commit 4858e3764ac9ce0d61dce4fb5995b09b97d9fa4e
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 11:27:45 2015 -0700

    moves cron-apt spec tests into common

commit 9a7cb9bf7b7683f9d6187bbd91651af92d8f1f84
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 11:23:44 2015 -0700

    adds a few tests for package cleanup

commit dd24b483b4c986d6af507bb52857681de47054f8
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 14 10:49:36 2015 -0700

    ensure old kernel images and headers are removed

commit 287a89dc6c3bd99c67de0ec812c0032ddfe64878
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 16:18:53 2015 -0700

    ensures some common kernel metapackages are absent

commit 63f9dbed6fb1bbbe9f5ec5c256f726e0572f0bf6
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 16:10:15 2015 -0700

    adds a few grsec tests

commit 37291fcbc29ebcea62ed5771573faa8efdd36c56
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 16:02:40 2015 -0700

    moves grsec spec tests into common

commit 991c277dabe2bc6afd6646280105549640a3b73c
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 15:58:18 2015 -0700

    adds ntp requirement

commit 2a357ba36226741cda36d890573d5f4483a9cb95
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 15:53:40 2015 -0700

    general server hardening spectests

commit 87d0cc13c09b4bf99b3f9e7def896ba5c34cf596
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 15:45:51 2015 -0700

    fixes a few user tests
    
    improves escaping special characters in regexes

commit b453d21808a1f7fcf283e9a3fd13145bcf3c48d7
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 15:30:24 2015 -0700

    adds user-checks

commit 04aea9e6199a2e23aafdca95679182c62d579ecb
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 15:21:50 2015 -0700

    starts common user setup spectests

commit 94d78a418854276367fff44fa4708344a36aea36
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 13:29:17 2015 -0700

    starts general spec tests shared between /staging/ hosts

commit 0efba1c6fe1c0727698d400d2597e540b385433a
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 12:32:51 2015 -0700

    fixes single-quote problem in iptables spec tests
    
    the string "don't" was causing false failures in spectests
    for iptables, even though the single quote was properly escaped.
    this commit modifies the iptables rules in ansible to remove the
    single quotes, and updates the tests in serverspec accordingly.

commit 44931400509d505134a92e47dba78844186421b1
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 12:30:37 2015 -0700

    test iptables for app-staging based on dump of iptables-save from host

commit ff1170ac25e2a4707f685aed81cddb769289e8e1
Merge: 2ea4e157 cb6897ea
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Apr 13 11:52:28 2015 -0700

    Merge pull request #991 from freedomofpress/fix-functional-tests-local
    
    Upgrade Selenium in testing dependencies

commit cb6897eae7673dcf48cdbc556627f4ba21e40c74
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Apr 13 11:27:35 2015 -0700

    Upgrade Selenium in testing dependencies
    
    Fixes #988.

commit 12dd6295c0f2d69526f96f14087b007b5fe8fe89
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 11:02:51 2015 -0700

    removes old localhost spec tests

commit 1e6a076d8ee9969a59a94cc260745ac6630ade37
Author: Conor Schaefer <conor@freedom.press>
Date:   Mon Apr 13 09:37:27 2015 -0700

    removes duplicate/inaccurate iptables rules from mon-staging spectests

commit 6bb090fa492c4812928c7177c5e4fbbd87bc57af
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 10 15:02:40 2015 -0700

    explicitly check for disabled services in app-armor config

commit 1845c41e304b456919dddf5db56cc91fa840e38d
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 10 11:23:10 2015 -0700

    adds a few critical pkgs

commit 07d0006df2c065855040a50bbbeaecc4a39efb79
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 10 11:07:41 2015 -0700

    adds TODO regarding validating package configs

commit cc8982d1896a2344785bdf5ac964edfb80698b5d
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 10 11:03:37 2015 -0700

    starts tests for validating apt config

commit a133d4512249ba63d6fcb43668ba2844615b4bf9
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 10 09:53:16 2015 -0700

    adds iptables spectests for mon-staging

commit 1253a3af35bd235f4b2b02206051b918cc433cb8
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 9 17:48:11 2015 -0700

    ports tor tests to v2 format

commit e1db4e98d0528c3751192ede1a51f24ea79e17b7
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 9 17:44:58 2015 -0700

    moves tor spec tests into app-staging role

commit 75fbe16948c193f17460bd6c07a3af44dc505930
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 9 17:43:01 2015 -0700

    adjusts iptables tests for staging

commit f00e18e4889bc4881937bdef2ee231b8eb153ec3
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 9 17:40:37 2015 -0700

    moves iptables spectests from localhost to app-staging

commit 55b4b37ddce1d6b5c70ff6a6c92870516b8f3ce0
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 9 17:39:32 2015 -0700

    adds cranky TODO concerning aa-status output

commit e1bd7549fed68aadab88a65cb6f3e5c0e53f01d4
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 9 17:32:05 2015 -0700

    tweak apparmor spec tests for app-staging

commit 87f9f632e3b781d752a4590ea2c30c7fd67affc5
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 9 16:50:21 2015 -0700

    ports syntax for apparmor check to v2 format

commit d24b56eadec3ad611623a4d886c76addf99f4f88
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 9 16:32:58 2015 -0700

    moves app_armor spectest into app-staging role

commit feb69f86ac389aa1c97259617b8d245040d79ce9
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 9 16:29:50 2015 -0700

    adds (copies) grsec spectests to mon-staging

commit b0f67140a6c93ff29b68f9ac5939db05ef3fe1b3
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 9 16:28:02 2015 -0700

    ports grsec spectests to v2 format

commit ed26d81c6596e83c79060c28bff20ae7db484142
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 9 16:25:58 2015 -0700

    moves grsec spectests into app-staging

commit 3f20d7270f327aa55c696c4b326c8e400d2d5073
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 8 13:09:57 2015 -0700

    ports ossec-server tests for mon-staging

commit ad47c83faee7322fea5e1cc020e752e51ed657ae
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 18:03:21 2015 -0700

    more apache service checks

commit c764e5f57b5a1a73afc3cffe9643bad5cff3d61c
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 17:45:57 2015 -0700

    adds spec tests for enabled and disabled apache sites

commit d54e79b11914df2e61e7dfd06877f7acbe4aae14
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 17:41:44 2015 -0700

    rewrites check for disabled apache modules

commit a0ee88c1cdfa8f7e163528051b8c48ece04cd680
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 17:02:09 2015 -0700

    rewrites enabled apache modules check

commit b60079f5633337eb18dd04a9958d220aea894485
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 16:46:19 2015 -0700

    starts porting apache spectests

commit 5fe27ce602ed23094e4a2734e47e8617e2224253
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 14:22:19 2015 -0700

    passing app-staging test

commit d9926ab9881dc865a7e0f072e28598e465e52a5a
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 13:53:10 2015 -0700

    disable spec_helper require statement
    
    Conflicts:
            spec_tests/spec/localhost/apparmor_spec.rb
            spec_tests/spec/localhost/grsec_spec.rb
            spec_tests/spec/localhost/iptables_spec.rb

commit 0fe75cdc694d3827d1993cefc86fd263f340f63a
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 13:45:58 2015 -0700

    adds vagrant-serverspec provisioner to app-staging

commit 8bc1d395b782fe01d8d8a71aea5091bdbb9fe381
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 13:38:33 2015 -0700

    renames metadata[:example_group_block] -> metadata[:block]
    
    resolves deprecation warning:
    
    Deprecation Warnings:
    
    `metadata[:example_group_block]` is deprecated. Use `metadata[:block]` instead.
    Called from ./spec_tests/spec/spec_helper.rb:18:in `yield'.

commit 4aa63e93cd0bf7e7a73120054df58c09c911a125
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 13:38:04 2015 -0700

    new v2 backend config

commit 336367a9cd7adad037325dbc25fb303582923fd4
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 13:00:58 2015 -0700

    clobber old Rakefile with default

commit 15aa873624aab9687b672939208c6b435e01f45f
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Apr 7 12:51:05 2015 -0700

    SpecInfra -> Specinfra rename for serverspec v2

commit a9cd93d3756c800b34a39af0ec5f1938bafeeab9
Author: J.M. Porup <jm@porup.com>
Date:   Sat Apr 11 19:04:12 2015 -0400

    update %s notation to new .format syntax

commit cfefcf5ed5128ecf60b3ef8a5d46eb1321b7219e
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Fri Apr 10 18:05:16 2015 -0700

    Upgrade validation pre-checks and helper script

commit 2ea4e1573185184cc81a6a58608ab39da0d2ad9f
Merge: 2b8effe8 32f6280e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Apr 10 17:10:36 2015 -0700

    Merge pull request #987 from freedomofpress/tests-for-download-unread
    
    Add tests for "download unread"

commit 13d3e5b01d4e422ccfccd117ace99c3d93e6bb44
Merge: 053998db 5fa80b89
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Apr 10 17:09:59 2015 -0700

    Merge pull request #985 from dolanjs/fix-apache-for-mon-server-task
    
    added check for apache before disabling apache.

commit 2b8effe8be935f19228c52447e9300766aa08f0b
Merge: 97b8cd54 02e209ed
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Apr 10 17:04:19 2015 -0700

    Merge pull request #970 from dolanjs/training-doc-update
    
    added some links to training doc

commit 32f6280e2866f9ba7790c962ad8532f588d6c92d
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Apr 10 16:52:35 2015 -0700

    Add tests for "download unread"

commit 97b8cd54f2987be35eccb008e5edd04d37b329d0
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Apr 10 15:31:38 2015 -0700

    Fix SQLAlchemy queries for unread submissions
    
    This regression was caused by the PEP8 fixes in cd6f4c3, which among
    other things changed instances of `x == False` to `x is False`. While
    this would not cause a functional change in normal Python, it does cause
    a functional change in the context of SQLAlchemy's `filter*`
    methods. These methods override `==` but do not appear to override `is`,
    so replacing `==` with `is` breaks the query.
    
    I have grep'ed the code and checked the diff of the breaking commit to
    make sure this commit fixes all instances of this error.
    
    Fixes #969

commit 5fa80b8994f1d072b827d26c52ad8d237c0fb55c
Author: James <james@freedom.press>
Date:   Thu Apr 9 13:47:20 2015 -0700

    added check for apache before disabling apache.
    
    This was causing problem for people who already ran the task once and apache wasn't installed anymore for the second run.

commit 053998db03a950166de322f917a0f13b5ab1c419
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Apr 8 13:04:01 2015 -0700

    Fix scope issues with c

commit 2eda379fc0f8f52417ab706d42afeb79f4ccc3e3
Merge: 9a4979ba 3db2e6ba
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Apr 8 13:00:15 2015 -0700

    Merge branch 'check-migration-scripts-for-0.3' of https://github.com/freedomofpress/securedrop into check-migration-scripts-for-0.3

commit 3db2e6bafe22a2b209c7a85f66f75c1872cc7bc6
Merge: 416cbade bf655ea2
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Wed Apr 8 11:28:20 2015 -0700

    Merge pull request #984 from dolanjs/migration-script
    
    Fix upgrade script for orgs trying to upgrade to 0.3.2 from 0.3pre.

commit bf655ea2923267a1bbbe2eca7383a25bc29e27b3
Author: James <james@freedom.press>
Date:   Tue Apr 7 15:34:33 2015 -0700

    moved setting vars
    
    Moved setting the vars for the upgrade script

commit 416cbade29737fb1b6cf1cec829dc08750d0f8dc
Merge: d6afc81b fcd83d28
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Tue Apr 7 10:51:14 2015 -0700

    Merge pull request #979 from dolanjs/fix-mon-upgrade-script
    
    This fixes the upgrade script when ran on the monitor server. This will not check for the presence of the app server specific files.

commit d6afc81bb9c58fcc664830e2f795cd914a5fdeac
Merge: e535b610 b66f5688
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Tue Apr 7 10:49:51 2015 -0700

    Merge pull request #977 from dolanjs/apache-status
    
    This fixes the format for the upgrade task to check the state of the apache service.

commit cd26cd7e45b14e5e6237e7a238e157394d2b82f2
Merge: e5e00490 21249bbb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Apr 6 11:04:54 2015 -0700

    Merge pull request #981 from jacksingleton/develop
    
    add tests for pages that require authentication in journalist.py

commit 21249bbb5080449d0239423f963dc780a322a827
Author: Jack Singleton <git@jacksingleton.com>
Date:   Fri Apr 3 19:45:32 2015 -0700

    add tests for pages that require authentication in journalist.py

commit fcd83d282aa614777a889c8ec606176cf067772f
Author: James <james@freedom.press>
Date:   Fri Apr 3 14:21:38 2015 -0700

    moved app specific asserts
    Moved asserting the app specific files to just the app def.

commit b66f5688e939b8af67716538337bddc664990eda
Author: James <james@freedom.press>
Date:   Fri Apr 3 08:43:22 2015 -0700

    changed the service role from old `status` format to `state` format for new versions of ansible.

commit e5e00490eb432f843d81348e2e7b5fbea4c8ea05
Merge: 7e7a0627 9a56ab16
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Apr 2 09:08:25 2015 -0700

    Merge pull request #975 from ageis/sd-diagram
    
    Include MS Visio SecureDrop visualization

commit 9a56ab1662f8cb9e9e90821c34b00b1a8b466d4a
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Wed Apr 1 21:14:54 2015 -0700

    Include MS Visio SecureDrop visualization

commit 7e7a06275ea432ed7c431ef3c03c64f1cfc05f86
Merge: 84e19a4d 3d2f09be
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Apr 1 18:31:07 2015 -0700

    Merge branch 'master' into develop

commit 3d2f09bea81b662ae26f123adcaea174b3ea7fe3
Merge: 718581cc 1a414022
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Apr 1 17:47:32 2015 -0700

    Merge pull request #974 from freedomofpress/fix-admin-required
    
    Add admin_required to admin_add_user

commit 1a4140228f46a3aa74b5ef7fc1d178f5196a6ed9
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Apr 1 16:43:12 2015 -0700

    Version 0.3.2

commit d83e45288923a20439951da54c2d9e6eeb17c46e
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Apr 1 14:17:18 2015 -0700

    Add admin_required to admin_add_user
    
    Access to the admin_add_user view should be restricted to administrators
    only. Unfortunately, I accidentally omitted the `@admin_required`
    decorator for this view. Since `@admin_required` encapsulates
    `@login_required`, this means that anybody with access to the Document
    Interface would be able to create a user accounts.
    
    This is a fix for the issue reported on Bugtraq:
    http://seclists.org/bugtraq/2015/Apr/8

commit 02e209edb1a06cb3c49b735e41c6a0fb06fea4d0
Author: James <james@freedom.press>
Date:   Wed Apr 1 11:21:04 2015 -0700

    used official FAQ link

commit 84e19a4d190a36ddd948196aa5222eeb894fb913
Merge: 6e5ad8b1 89b1e3f9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Apr 1 11:11:24 2015 -0700

    Merge pull request #965 from ageis/grub-fix
    
    Mark GRUB as manually installed (fixes #945)

commit a9ee5ee5b0a8081a546c36a306f8b9d16c29bd87
Author: James <james@freedom.press>
Date:   Wed Apr 1 10:43:19 2015 -0700

    added some links to training doc
    
    added link for SD FAQ page
    added link for vanity urls

commit 89b1e3f9c209b3614e038aff8dd4afd19ad6bc50
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Tue Mar 31 01:27:55 2015 -0700

    Mark GRUB as manually installed

commit 6e5ad8b1144b55ba4859491a72def88145f3648e
Merge: 4c07feb0 dbfeed96
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Mar 30 15:23:32 2015 -0700

    Merge pull request #961 from freedomofpress/tmux-default-shell
    
    Use tmux by default for SecureDrop admin's login shell

commit 9a4979baf7bcbc1b2fd32e45bbceb56466193f1d
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Mar 30 12:33:36 2015 -0700

    Fix some nits

commit 4c07feb0a44b1a39285b9281e5522f778a277440
Merge: 4c9993ef 5cbd11da
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Mar 30 11:52:13 2015 -0700

    Merge pull request #960 from freedomofpress/fix-css
    
    Fix css

commit dbfeed9620f4435509f1749724ce8afbaf4e3be3
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Mar 27 18:25:17 2015 -0700

    Use tmux by default for SecureDrop admin's login shell

commit 5cbd11da59057944a089e430bc949582bc122ef1
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Mar 30 10:35:01 2015 -0700

    Fix unmatched `*` in Markdown file
    
    This document refers to "your specific .onion address" as
    `*.onion`. Unfortunately, `*` is a reserved Markdown character that
    signals that start of an italicized block. This can cause problems
    depending on the Markdown renderer - for example, the document renders
    to HTML fine when viewed on Github, but when this document is displayed
    in a Github PR, all document text following that `*` is italicized,
    which is confusing and not the intent.
    
    The easy fix is to fence `*.onion` with backticks so it's treated as
    preformatted text/code.

commit 4c9993ef6e6a8bfa32c3214c9280822a6ef6e201
Merge: 53cfdbef b424c765
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Mar 27 18:56:59 2015 -0700

    Merge pull request #956 from ddworken/develop
    
    Even more PEP8 fixes

commit 53cfdbef24ce5cff99d9987ff98378545f945b5e
Merge: 56669c5d 4c4f1eb9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Mar 27 16:10:55 2015 -0700

    Merge pull request #959 from dolanjs/add-ssl-support-to-apparmor-profile
    
    add ssl support to apache apparmor profile

commit 1de020645b571cdaad47b882e100cd360df86338
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Mar 27 16:06:11 2015 -0700

    Document how to access the dev servers in Tor Browser

commit 5900209d4799f52c6badc24a1fa4c725c43cc5c5
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Mar 27 15:51:03 2015 -0700

    Center Source Interface home page

commit 03e637a2e5cc3d2ec2f3cfd4c94b56a09747ee5c
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Mar 27 15:19:48 2015 -0700

    Split css into separate files
    
    Previously, the Source Interface and the Document Interface both used
    the same CSS file (`/static/i/styles.css`). This sometimes created
    problems where changing styles on one interface would cause problems with
    the styles on another.
    
    I've also updated the links in the HTML templates for each interface to
    use the correct CSS file, depending on the interface.
    
    In the future, we should work to clean up and simplify these CSS files.
    I have not made an effort to remove code from `source.css` that was only
    ever used on the Document Interface, nor vice versa.

commit 5b90782d93913f27171da2b24b515f8f8d47e861
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Mar 27 15:08:54 2015 -0700

    Revert "Merge pull request #929 from ageis/text-fix"
    
    This reverts commit e9739b225764b0fded4014bfb3a8ce183819f9e2, reversing
    changes made to 2667110e4753b2f902f7dca70d8cc8a7ba897fb8.

commit 4c4f1eb916abb2760809d26bf36b91aee99177e5
Author: James <james@freedom.press>
Date:   Fri Mar 27 15:01:52 2015 -0700

    add ssl support to apache apparmor profile
    
    Some orgs are already using HTTPS for the source interface. This adds the required modules and default cert locations for apache to use ssl.
    
    This pr does not add ssl support to the ansible playbook. Just the apparmor support is being included now so that when unattended security updates for securedrop-app-code.deb package are applied it does not break the existing installs using ssl.

commit 56669c5dd775ba4c5c6e9615271ee51ce90459cf
Merge: f693105e bac74fa2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Mar 27 13:35:39 2015 -0700

    Merge pull request #936 from ageis/torsocks-fix
    
    Don't need ProxyCommand in SSH aliases. Fixes #933.

commit e535b6106879c02018bc7c66002ecbaf8c1f894f
Merge: 5260040d 58c0529a
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Mar 27 13:32:47 2015 -0700

    Merge pull request #944 from dolanjs/fix-pre0-3-upgrade-script

commit 58c0529aca26fb307b6e6e3d5eb774c82fdb3cd1
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Mar 27 13:29:57 2015 -0700

    Make detecting deleted sources explicit
    
    See https://github.com/freedomofpress/securedrop/pull/944#discussion_r27252564
    for context.

commit b424c76548082d42d55c4d76c5a3a6a26448912f
Author: David Dworken <david@daviddworken.com>
Date:   Thu Mar 26 21:28:08 2015 -0400

    Even more PEP8 fixes

commit 7e99cd3507f5767112492fe4fecf2967aa6dbbb1
Author: David Dworken <david@daviddworken.com>
Date:   Thu Mar 26 21:11:50 2015 -0400

    PEP8 Fixes

commit 15d1ba741e699657d9dcadc60115db7e42ce2609
Author: David Dworken <david@daviddworken.com>
Date:   Thu Mar 26 21:06:47 2015 -0400

    PEP8 Fixes

commit f693105ef9622e82e39480df20a44fa3385663cc
Merge: 4573ea5f 9a2f4be7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Mar 26 17:24:23 2015 -0700

    Merge pull request #953 from ageis/source-fadeout
    
    Fade out inactive source interface, closes #447

commit 9a2f4be7c0542f168cbb8634076a1b00e0b25e64
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Thu Mar 26 16:12:03 2015 -0700

    Add dimming CSS to index.html

commit 4573ea5f4ea906c45a3fd6fa4c037c03ebb27a2a
Merge: 8d85652c c34bc0da
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Mar 26 15:34:52 2015 -0700

    Merge pull request #939 from ageis/grsec-idempotent
    
    Make grsec reboot idempotent

commit 8d85652c6a744cf73a964cc93883c6fcba585c5a
Merge: 7bb11fb1 5bfa86ba
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Mar 26 14:50:09 2015 -0700

    Merge pull request #931 from ddworken/develop
    
    More PEP8 Fixes

commit 45cba9cddbeb5de294595257a1a95388580afba2
Author: James <james@freedom.press>
Date:   Thu Mar 26 13:12:11 2015 -0700

    removed uneeded continue

commit a76e87b696e12767c44365db71cbeecdd69f38d6
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Thu Mar 26 12:27:40 2015 -0700

    Fade out inactive source interface, implements #447

commit c34bc0da835937761515ecf95af2f391b754f2fe
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Thu Mar 26 11:43:53 2015 -0700

    Don't wait for reboot if already running grsec

commit afc0a9f8d29888bee35ecccba2aaf7aa186ab0bf
Author: James <james@freedom.press>
Date:   Tue Mar 24 16:19:47 2015 -0700

    fix pre0.3 to 0.3.1 upgrade script
    
    The pre0.3 SD version had an issue where deleting large submission would timeout, leaving the encrypted submission in place but removing it from the db. Added @garrett's fix for cleaning that up prior to running the db migration.
    
    Re-ordered the sequence of events so the backup task and the migration happen prior to removing the old deb packages. This ensures that a custom logo.png will get backuped before dpkg deletes it.

commit bac74fa24865fac2060247de956ecae50db31165
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Mon Mar 23 18:34:22 2015 -0700

    Don't need note about SOCKS5 password with torify

commit 5154c33ae646221f7ab8d29d95f41f09584a36ee
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Mon Mar 23 18:29:59 2015 -0700

    Fix to reboot if grsec is not running

commit 9ce3ca1848c83223b7ce4b768669b57f9ace8854
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Mon Mar 23 17:34:45 2015 -0700

    Consolidate tasks and make grsec reboot idempotent

commit 7bb11fb1bf5a3629af46be604ade7dbde63e24cb
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Mar 23 14:25:02 2015 -0700

    Switch default branch back to develop
    
    Rationale: https://github.com/freedomofpress/securedrop/pull/932#issuecomment-85204230

commit 63310d78b486ca8d9cb84a20a68b7cefd730d5e9
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Mon Mar 23 14:02:18 2015 -0700

    Fixes #933

commit 3fb990af83cf82f1da278ed0385275a813a2175d
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Mar 23 14:01:38 2015 -0700

    Add `-U` to pip install commands
    
    Follow up to https://github.com/freedomofpress/securedrop/pull/932#commitcomment-10353326

commit 306d8d56f8f4917c797d45aab80e7aee2eddc684
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Mar 23 13:23:39 2015 -0700

    Add warning about Vagrant package in Ubuntu
    
    Follow up to https://github.com/freedomofpress/securedrop/pull/932#issuecomment-85165231

commit 3e98a101d7b40e1482e110997a75cb3382ec6fa4
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Mar 23 13:20:33 2015 -0700

    Clean up development guide
    
    * Clarify the differences between virtual environments
    * Improve headings and TOC
    * Clean up formatting, extraneous new lines

commit d62968ca30c098e1f2e0eeed88b707328f0e9d69
Author: Conor Schaefer <conor.schaefer@gmail.com>
Date:   Mon Mar 23 14:36:10 2015 -0400

    updates recommended version numbers in develop.md

commit a9eeaa50e0fac91ea69793884f518ac8fec339f1
Merge: 16c512d4 718581cc
Author: Conor Schaefer <conor.schaefer@gmail.com>
Date:   Mon Mar 23 14:33:37 2015 -0400

    Merge branch 'develop' of https://github.com/freedomofpress/securedrop into support-vagrant-1.7+
    
    Conflicts:
            docs/develop.md

commit 5bfa86ba2d42b6ed043a1ed2625d4711a10c70ab
Author: David Dworken <david@daviddworken.com>
Date:   Mon Mar 23 09:47:37 2015 -0400

    More PEP8 Fixes

commit 718581cc48cfd900f267b5cb6cf933933571010e
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Mar 23 03:33:35 2015 -0700

    Fix broken automatic backups

commit 01dc738a9caf237044c94053190699ea19148df3
Merge: 1ecf9d77 2413b64b
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Mar 23 02:31:28 2015 -0700

    Merge branch 'master' into develop
    
    * Reuniting master and develop once again

commit 1ecf9d77b7ca1aff8693da7d793211b8715bd59c
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Mar 22 23:03:22 2015 -0700

    Version 0.3.1

commit e2ad1e114db69903654a4f5946c45e582af2c1dd
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Mar 22 23:27:06 2015 -0700

    Update smtp.gmail.com fingerprint
    
    Google rotated their cert recently - from looking at my OSSEC testing
    emails, it looks like it happened on or around 3/18.

commit 8aaeb37577f82e067e163d77d2afe443071c7e70
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Mar 22 23:01:58 2015 -0700

    Maintain custom header image across package upgrade

commit b5afdf7927b072dcc6345582ea1d607dc33de70e
Merge: 90f98236 fac77f35
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Mar 22 23:01:31 2015 -0700

    Merge pull request #930 from ageis/doc-improve
    
    Ran doctoc on install.md

commit fac77f35d302502305996d3ed83c40b8d79dc68a
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Sun Mar 22 23:00:32 2015 -0700

    Fix references to install section

commit 4e96f20f9ec971138bcfb80b9981536f63ce7166
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Sun Mar 22 22:54:42 2015 -0700

    Ran doctoc on install.md

commit 90f98236cd5c3f2bb35b1fa6b873c8abd8259411
Merge: e9739b22 61cfe825
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Mar 22 21:57:51 2015 -0700

    Merge pull request #927 from ageis/doc-improve
    
    Documentation improvements for 0.3

commit 61cfe8255e53389c73b8879026f4c5081654eeea
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Sun Mar 22 21:52:33 2015 -0700

    Fix trailing whitespaces

commit e9739b225764b0fded4014bfb3a8ce183819f9e2
Merge: 2667110e 64da4fc0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Mar 22 21:47:01 2015 -0700

    Merge pull request #929 from ageis/text-fix
    
    Fix text showing on top of button

commit 2667110e4753b2f902f7dca70d8cc8a7ba897fb8
Merge: 0b4d6bd9 a2a205eb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Mar 22 21:40:14 2015 -0700

    Merge pull request #926 from ddworken/develop
    
    Fixed PEP8 Errors

commit 905ccbda2c9ba0c7ace3b64da14ad59661afa9c6
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Sun Mar 22 21:04:31 2015 -0700

    Corrections and additions

commit 64da4fc07c1c27ee008150504d28352477aac14b
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Sun Mar 22 20:49:52 2015 -0700

    Fix text showing on top of button

commit b2850a8cbdc4eb2124c3fb0eccbc094c7b0bf394
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Sun Mar 22 15:55:29 2015 -0700

    URL fixes and clarifications

commit 8fd24959012bdadc7e7bafb59f6291257ef0da94
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Sun Mar 22 14:47:11 2015 -0700

    Rename to follow convention

commit 0d8990afd46b488cf47e2bd028d61429342500e4
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Sun Mar 22 05:50:24 2015 -0700

    Documentation improvements for 0.3

commit a2a205eb18b590c69d88a8fba0e951d96af2cf53
Author: root <root@daviddworken.com>
Date:   Sun Mar 22 02:30:25 2015 +0000

    Fixed PEP8 Encoding Errors

commit 16c512d469370ed45ed89e1423e876534331bf56
Author: Conor Schaefer <conor.schaefer@gmail.com>
Date:   Sat Mar 21 14:47:36 2015 -0400

    updates develop.md to recommend newest vagrant version
    
    reverts ee304e1e2262230e55db2d17f197be1b27edf4ec

commit 9b3a7aca742002738a2e3672c2662d2a9a67b325
Author: Conor Schaefer <conor.schaefer@gmail.com>
Date:   Sat Mar 21 14:17:31 2015 -0400

    disables dynamic SSH key insertion by vagrant

commit 0b4d6bd9e96d99ab929571fb9afc43140f0416da
Merge: 14c8761d d621d7cf
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Mar 21 10:23:13 2015 -0700

    Merge pull request #925 from ageis/sd-autostart
    
    Persistent torrc SecureDrop initialization without clicking launcher

commit d621d7cf78dd894b89879e56a5d5534e42c6f0df
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Fri Mar 20 18:23:45 2015 -0700

    Let's be fancy

commit 01fc1fbe719dca07765d860651211fe306cffcb6
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Fri Mar 20 17:22:41 2015 -0700

    Make torrc_additions clearer

commit 6c07c6bc1fea961786b71460478ebc0fb693ffba
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Fri Mar 20 13:52:04 2015 -0700

    Corresponding documentation update

commit 5706b46370739d9e6cf4f62b157b8ba922faf4c1
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Fri Mar 20 13:36:39 2015 -0700

    Persistent torrc SD init without clicking launcher

commit 14c8761de31311c471e7f0750bd6181432905c99
Author: James <james@freedom.press>
Date:   Tue Mar 17 10:36:08 2015 -0700

    Marked logo.png as conffile
    
    Renamed logo.png.example to logo.png and marked the file as a
    configuration file in the securedrop-app-code conffiles.
    
    Added the dpkg options to the cron-apt upgrade command in
    `/etc/cron-apt/action.d/5-security` to force keeping the old conffile if
    it was locally modifed while updating all other files that were not
    locally modified.
    
    For orgs that use a branded custom header image this will ensure that it
    doesn't get overwritten during security updates.
    
    Tested using a test apt repo with a 0.3.1 versioned securedrop-app-code
    that cron-apt update to.

commit 7bc680902a59977889b862fa93e0ca07892b28aa
Merge: 46802b9c 8505d8b0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Mar 19 15:09:37 2015 -0700

    Merge pull request #921 from dolanjs/deb-msg-wording
    
    Updated wording

commit 8505d8b0abe656dca63ef6313d583a00e515dd68
Author: James <james@freedom.press>
Date:   Thu Mar 19 14:52:08 2015 -0700

    Updated wording
    
    Updating the wording to reflect that the apparmor profiles are put in enforce mode by default when the deb package is installed. If the the ansible test role is ran, then ansible will put the profiles in complain mode.

commit 46802b9c18fac6f5589cb9f204b5738810db0ffc
Merge: 3fdffec9 ca3c2d6b
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Thu Mar 19 13:42:15 2015 -0700

    Merge pull request #920 from ageis/grsec-fix
    
    Fix to handle multiple grsec kernels

commit ca3c2d6b132c9950b73a89a0d176c93241c62ff4
Author: Kevin Gallagher <kevinmg@pressfreedomfoundation.org>
Date:   Thu Mar 19 11:41:28 2015 -0700

    Fix for multiple grsec kernels

commit 3fdffec9dfdcaada820e8aa901b0e5625c774097
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Wed Mar 18 16:25:20 2015 -0700

    Always boot into grsec kernel
    
    Fixes #913, closes #919 (rebased PR).

commit 7d93892e3397dadbd3c45279d47f2b6e89a1b210
Merge: 3b0f82d4 1319fad6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Mar 18 16:53:49 2015 -0700

    Merge pull request #918 from freedomofpress/no-empty-submissions
    
    Don't create empty submissions

commit 1319fad68bfbe8cdd82b4c143e5fb2efe20ac0b4
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Mar 18 16:27:19 2015 -0700

    Don't create empty submissions
    
    Prevents creating "empty" submissions (which are confusing and annoying
    to open due to the airgapped procedure), and instead flashes an error
    when the user attempts to click "Submit" without entering a message or
    choosing a file.
    
    Fixes #878.

commit 3b0f82d4f9a51da61c95a5c92962dc10c53e0923
Merge: 20d7af58 1a01c314
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Mar 18 16:13:17 2015 -0700

    Merge pull request #915 from dolanjs/remove-app-ip-from-alerts
    
    remove the app IP from ossec alerts

commit 20d7af58130e2c020cf974f64c8594810326740d
Merge: 3a0c7304 738a22db
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Mar 18 16:12:03 2015 -0700

    Merge pull request #916 from freedomofpress/cron-apt-autoremove
    
    Autoremove unused packages after upgrading

commit 1a01c314f3679c22db699a01ab079f2a796e283e
Author: James <james@freedom.press>
Date:   Wed Mar 18 15:44:34 2015 -0700

    added ?
    
    added ? so that it will match 0 or 1 spaces at end of generic IP address. Should provide better coverage for random emails sent to root@localhost

commit 3a0c7304bf11f4814b2aa88b386aa610f40a50d7
Merge: 04b4e3ec b6c0fd6e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Mar 18 15:15:59 2015 -0700

    Merge pull request #912 from dolanjs/move-grsec-sysctl-specific
    
    moved grsec specific sysctl flags

commit 738a22db6b501d23a998e657c7b5d7168dfe4ee1
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Mar 18 14:21:22 2015 -0700

    Autoremove unused packages after upgrading
    
    For SecureDrop, this is primarily useful because it avoids allowing too
    many kernels to be installed in `/boot`, which can lead to issues
    booting if the partition gets too full.
    
    Closes #914.

commit b5556353bf6bb4a6c43dee796ffad4b2b81ddd4c
Author: James <james@freedom.press>
Date:   Wed Mar 18 12:06:08 2015 -0700

    nit fix
    
    also removed the extra space that was after the IP address in the subject line.

commit a99a7611986cf1e76ec6465c9fda60f7059a6eeb
Author: James <james@freedom.press>
Date:   Wed Mar 18 10:58:24 2015 -0700

    changed to generic IP address matching
    
    changed the script that encrypts the alarms to strip out a generic match for an IP address.
    
    The following situations the subject line will still contain:
    
    Alert:
     * Agent Name
     * Alert Level
    
    Report:
     * Report Name
    
    Non-OSSEC mail sent to root@localhost:
     * The default minus whatever matches the generic IP address regex

commit b25cb5413363ca8187470d2c841839aa6194f209
Author: James <james@freedom.press>
Date:   Tue Mar 17 21:46:04 2015 -0700

    remove the app IP from ossec alerts
    
    The OSSEC alerts for the app server include the internal IP address (which is also published in our public install guide). This will strip out that specific IP address.

commit 04b4e3ec24204ccaced6702e5c6697bc10a3367d
Merge: 82aa5e7a 30f8ceca
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Mar 17 16:08:33 2015 -0700

    Merge pull request #910 from ageis/grsec-wait
    
    Increase grsec install timeout to 5min

commit b6c0fd6ea6ac2d7cae6fbe05362a202c1d781bf0
Author: James <james@freedom.press>
Date:   Tue Mar 17 13:09:45 2015 -0700

    moved grsec specific sysctl flags
    
    fixes issue #905.
    
    This moves the grsec specific sysctl flags to one role. This avoids an error if the grsec role is skipped. It also ensures that the grsec lock flag is the last flag set.

commit 30f8cecaf352fd49b579232a484e710f6d7db7c7
Author: Kevin Gallagher <kevinmg@pressfreedomfoundation.org>
Date:   Tue Mar 17 11:53:14 2015 -0700

    Increase grsec install timeout to 5min

commit 9f706820080db6eb5bd403224584b25e0134eea8
Merge: 5b40dd74 8fbf66d4
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Mar 17 11:05:29 2015 -0700

    Merge pull request #909 from dolanjs/move-upgrade-tasks-to-ansible
    
    Move upgrade tasks to ansible

commit 5b40dd743efc8627270193f9e309224e666d979e
Merge: 5260040d 9dc724a1
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Mar 17 11:05:05 2015 -0700

    Merge pull request #908 from dolanjs/deploy-0-3pre-upgrade-script
    
    added upgrade playbook.

commit 82aa5e7a77aac960dabd2c0140a1d12f1090caf4
Merge: 24707ef6 8a5f6396
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Mar 17 10:20:58 2015 -0700

    Merge pull request #907 from trevortimm/tails-doc-updates
    
    Bunch of documentation updates

commit 24707ef6f64ec56218a8ff96d45725eae763adc2
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Feb 27 12:55:50 2015 -0500

    Correctly format datetime attributes, fixes #882

commit 72f9ccd0de41c4e579c48c4bb9a275bf5160b9b9
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Feb 27 12:44:43 2015 -0500

    Set meta charset for all pages in base templates
    
    This is generally a good idea, even if we already set the default
    charset to utf-8 in the Apache configuration (`apache2.conf`).

commit 98cf49be9897e2b1bc223250ea8cd5087844598a
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Feb 27 12:43:52 2015 -0500

    Remove invalid autocomplete attributes, fixes #883

commit 049c9b4ddc731417a53067be8baf64c7f154ed11
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Feb 27 12:27:26 2015 -0500

    Remove unnecessary and invalid href attr on button. Fixes #884.

commit 8fbf66d4e35a20a6ec3de2f8e864514ac0240605
Author: James <james@freedom.press>
Date:   Mon Mar 16 19:37:07 2015 -0700

    moved tasks to ansible
    
    moved tasks related to deleting the old singing key and the old package names to ansible tasks. This has the advantage that ansible will handle most edge cases gracefully.
    
    The next time the playbook is run it will install the correct packages. This will help for sistuations in staging where someone is not running grsec.

commit 9dc724a14c8369789385f97afd4ea434100476f5
Author: James <james@freedom.press>
Date:   Mon Mar 16 18:10:44 2015 -0700

    added upgrade playbook.
    
    Added a playbook `upgrade.yml` that will perform all the tasks required to prep an install to for the next version of the release.
    
    To prep for an upgrade from a 0.3pre release to 0.3 run the following command
    
    'ansible-playbook -i inventory -u <username> --tags "0-3pre-upgrade" -K --sudo upgrade.yml

commit 8a5f6396bdf5c7365259a0311667d02cda23eca3
Author: Trevor Timm <trevor@freedom.press>
Date:   Mon Mar 16 17:30:04 2015 -0700

    clarified prod-specific.yml and SSH directions
    
    some of the SSH directions were unclear for someone not used to it, so I clarified a bit,
    
    Also changed some of the descriptions to make them more specific and match the OSSEC alerts page

commit 5ac93ba48a2a0f1e2ea81de1929ba1bb74781fa5
Author: Trevor Timm <trevor@freedom.press>
Date:   Mon Mar 16 13:02:49 2015 -0700

    more updates to Tails and SVS directions
    
    Added instructions for setting up persistent storage
    
    fixed some typos in the tails section
    
    on the SVS setup, clarified some of the language when creating the SVS keys
    
    added instructions for admin to connect to the Internet

commit 97f139ab5274e967e7930619d0f88364c07784ff
Author: Trevor Timm <trevor@freedom.press>
Date:   Mon Mar 16 13:01:05 2015 -0700

    fixed spacing

commit 2520e23b5f352b58598cf59347d81148a8ee33be
Author: Trevor Timm <trevor@freedom.press>
Date:   Mon Mar 16 13:00:05 2015 -0700

    cleared up some confusion in ubuntu directions
    
    spaced some things out, highlighted some things, and fixed a couple typos.

commit c1c7f7b0cb99e69eaa1b40effe73da3af288c2a9
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Mar 15 14:08:21 2015 -0700

    updated Tails section
    
    clarified you need four tails USBs, not three (one for long term offline storage)

commit 7d31d05f490de2a74fb0f5bfd982cf093af364f1
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Mar 15 13:59:48 2015 -0700

    clarifiying Tails shutdown
    
    James made the point that sometimes Tails doesn't re-boot when you click re-start so just made a note of that.

commit a0e4fdb107f5be846b2f28a5da460dce55cf7929
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Mar 15 13:51:58 2015 -0700

    save SSH password in password manager
    
    Put in  reminder to use KeePassX

commit 495395548f684af92714046ca03db72c3826c8bc
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Mar 15 13:49:40 2015 -0700

    save password in password manager
    
    Put in reminder to save Ubuntu password in admin password manager.

commit 004df6d278c2bf639a73cbfd0dbe4e958ba5a043
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Mar 15 13:46:30 2015 -0700

    updated terminology.md
    
    Broke this down into terminology and roles. Both of these things used to be on the front page but since that document was ridiculously long, I moved them here and people can read this before they begin. Also clarified what 'airgap' and 'sneakernet' mean, as suggested by @dolanjs

commit 3db8103428e9fb48ea917e79836c911cd7ecd774
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Mar 15 13:34:59 2015 -0700

    more nitpicks
    
    Changed the intro to make it a little more clear, also explained why we do all the HidServAuth stuff

commit a9ae4225de8ba775dad67d91d5962988737c245d
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Mar 15 13:26:54 2015 -0700

    clarifying language for Tails instructions
    
    I moved some of these instructions into the main install doc so that admins would not have to go back and forth and get confused.
    
    I added an intro so that it was clearer when and where in the process people should be reading this document. It can still use some improvement but this is better than it was.
    
    I also renamed it the install guide for admin and journalists and moved any SVS set up out of this documents to avoid critical errors.
    
    I also tried to clarify a few parts so that were unclear to a person who may not be familiar with Tails.

commit 3f202a3e469c9381b7d3e09f53a116b15b4acf24
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Mar 15 13:03:42 2015 -0700

    changed GPG language
    
    Previous version suggested the installer might have already created a GPG public key for securedrop when there was no opportunity to, so I clarified.

commit 8551e64358289ac7c9f733434c99f27e629c4b97
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Mar 15 12:52:26 2015 -0700

    more updates to Tails installer
    
    added a section about when to switch over to the admin Tails USB and setting up the password manger so that they are not switching back and forth between docs.

commit 1507e6d19b074b13d1d880d446384d8670843a7e
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Mar 15 12:39:16 2015 -0700

    more improvements to Tails part of the install docs and a bit more
    
    separated out some steps in creating tails USBs so it's easier to follow
    
    clarified some of the SSH directions so people don't get lost

commit 4448665491d317f94816d0a535b2997a67d9d88f
Author: Trevor Timm <trevor@freedom.press>
Date:   Fri Mar 13 18:10:44 2015 -0700

    bunch of updates to make tails guide flow easier and on same page
    
    changes can be seen on this trello card: https://trello.com/c/81bJkn49/80-improvements-to-sd-documentation

commit de77155d36f31067c7d407d4ea21dd63a555d000
Author: Trevor Timm <trevor@freedom.press>
Date:   Fri Mar 13 17:53:28 2015 -0700

    added more terms that used to be in install.md

commit 4507d2228100411f975045afcee7ce90b76a0e83
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Tue Mar 3 15:42:16 2015 -0800

    Clarify 2fa setup for the admin
    
    * Reminder to set up HidServAuth values in order to SSH.
    * Reminder to set up `google-authenticator` on *both* the App Server and
      the Monitor Server.
    
    Closes #900.

commit 02c196bf2148fd71667b0a306be64f1488437e1e
Author: Trevor Timm <trevor@freedom.press>
Date:   Fri Mar 13 17:32:46 2015 -0700

    put an anchor link at the end to return to the main guide

commit 5260040d7068d37600801501020b75998259152c
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Mar 13 15:08:57 2015 -0700

    Script to migrate 0.3pre -> 0.3 (tagged)
    
    See the README.md for more information. This script is intended to be
    used to migrate 0.3pre instances to the tagged version 0.3.
    
    This script may not yet be complete - there are still some issues with
    changes made by the Ansible playbooks between installs. I am not sure if
    this script is the best place to address those changes, or if we can use
    Ansible to do that.

commit 4de45007528aa58d2b291388b05d5266c0248a45
Author: Trevor Timm <trevor@freedom.press>
Date:   Fri Mar 13 14:57:09 2015 -0700

    create terminology.md
    
    Creating a separate file for the 'terminology' section so it's easier for people to access and refer back to instead of putting it at the front of install guide.

commit 854cc4c0838c58312640f2bcb53117f199de88df
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Mar 12 15:31:06 2015 -0700

    Update 0.2.1 -> 0.3 migration scripts
    
    This commit makes several improvements to the 0.2.1 migration scripts:
    
    * Sources that have no stored submissions or replies at the time of
      migration are not "forgotten". This was due to zip's inability to
      store empty directories, and necessitated the move to tar archives for
      the backup file format.
    * Better handle sources where we can't determine whether the source is
      pending or not. See comments in the code.
    * Move custom logo to the correct location for 0.3
    * Create database entries for replies (before, database entries for
      Submissions (!!) were being incorrectly created instead).
    * Simplify/clarify/clean up various sections of code

commit e8ac19845f755771c1f9984c92620cc7227507e3
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Mar 12 15:27:08 2015 -0700

    Fix documents count for migrated sources
    
    Prior to 0.3, documents were encrypted inside .zip files to maintain
    their original (albeit santizied) filenames, and also store them
    encrypted at rest on the server. This was changed to .gz files for
    technical reasons (the specific format is not important). Migrated
    sources have `doc.zip.gpg` suffixes for their document submissions prior
    to 0.3, and this code makes it so either documents submitted before 0.3
    or after 0.3 will be correctly counted.

commit ab00bc27e62e2fe1f6deaa4725fd4e9c1167cab0
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Mar 11 13:55:43 2015 -0700

    Remove redundant variable

commit 9d30f4e78db06a818ca1e85c4c63ad5efa2adc9b
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Mar 11 13:55:24 2015 -0700

    logo.png is used instead of securedrop.png in SecureDrop 0.3

commit 4121b996f4dea18787061e7e235a491235755c14
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Mar 11 13:54:45 2015 -0700

    Add newline between functions for PEP8

commit d094b333c0eaede0822b5437739c78d6d934448b
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Mar 10 19:09:00 2015 -0700

    Continue migration if optional Tor cert not found on 0.2.1 installation

commit 366c657b5f79b3dae510404ea5d6fed6adb0f6ca
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Tue Mar 3 16:55:20 2015 -0800

    Remove vulgar and possibly offensive words

commit cfca26ad081be3a810f15ea4fc5ea2405cf60f6e
Author: Kevin Gallagher <kevinmg@pressfreedomfoundation.org>
Date:   Wed Mar 4 21:58:35 2015 -0800

    SSL cert and security recommendations
    
    Closes #903.

commit c3a231214591a7d35f3fabc2aa8e4815fe12c3ab
Merge: 75051735 1df72bd2
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 25 19:05:12 2015 -0500

    Merge branch 'pr/891' into develop
    
    * pr/891:
      removed words from noun list

commit 1df72bd20d63c10cc5cab3372d0e7a96778280bf
Author: James <james@freedom.press>
Date:   Wed Feb 25 14:09:36 2015 -0800

    removed words from noun list
    
    removed some words that are or could be offensive by themselves or joined with a random adjective from noun list.

commit 7505173539c9ecefc92493c408637b53a7f2ccea
Merge: 50d33df7 eef396d5
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Feb 24 13:13:01 2015 -0500

    Merge branch 'pr-890' into develop
    
    * pr-890:
      add a pytest-pep8 configuration that currently does not produce pep8 failures
      fix lots of pep8 and other minor issues - only cosmetics, no functional change

commit eef396d57eec396b0e9eebee744732b3670563c9
Author: Thomas Waldmann <tw@waldmann-edv.de>
Date:   Tue Feb 24 18:04:36 2015 +0100

    add a pytest-pep8 configuration that currently does not produce pep8 failures
    
    the max line length value is rather high, it should be set to a lower value after agreeing on some.
    
    I personally think 80 is way to low (and outdated, we don't have vt80 terminals any more these days),
    but 160 is to high. I suggest to use 120 or 132.
    
    E402 is a matter of taste somehow, can be fixed or not IMHO.
    
    I didn't fix the migration scripts and install files yet, thus they are currently ignored so that they do not produce test failures.

commit cd6f4c3af6ca4a264b9cd192081af251b2b5db5f
Author: Thomas Waldmann <tw@waldmann-edv.de>
Date:   Tue Feb 24 18:00:16 2015 +0100

    fix lots of pep8 and other minor issues - only cosmetics, no functional change
    
    mostly whitespace related (indentation, too much/few whitespace)
    cases of x == False  ->  x is False
    not x == 0  ->  x != 0

commit 50d33df73c0311dc4ee58606189e587342686a26
Merge: 094d8634 d8f14825
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Feb 24 10:41:51 2015 -0500

    Merge branch 'pr-885' into develop
    
    * pr-885:
      html: use class center instead of inline style (which is forbidden)
      add mandatory alt attributes for images (fixes html5 validation errors)
      fix lots of typos, some in code
      fix typo in input element id (also fixes corresponding reference from label element)
      fix reference before assignment issues
      use triple double-quoted docstrings
      replace deprecated <center> tag
      remove superfluous semicolons
      fix html errors (typos, missing or superfluous closing tag)

commit d8f1482574756d73fac57c561a503fb4e620da2b
Author: Thomas Waldmann <tw@waldmann-edv.de>
Date:   Tue Feb 24 16:07:22 2015 +0100

    html: use class center instead of inline style (which is forbidden)

commit 094d86344fdd2831837e9078a7125479c273b4f9
Merge: 838e4aad 0d33ea0e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Feb 23 17:31:49 2015 -0500

    Merge pull request #881 from mapmeld/css_fixes
    
    Minor CSS and layout fixes. Fixes #875, fixes #876.

commit ad558e5a293445ec66f999c3ec06582982f73dd1
Author: Thomas Waldmann <tw@waldmann-edv.de>
Date:   Wed Feb 18 14:31:56 2015 +0100

    add mandatory alt attributes for images (fixes html5 validation errors)

commit c97a6638125e7b88bf79e830d7b17d6ff118f356
Author: Thomas Waldmann <tw@waldmann-edv.de>
Date:   Wed Feb 18 06:35:15 2015 +0100

    fix lots of typos, some in code

commit a71097d33b369187d2a6d0db8edab4b82ab3f090
Author: Thomas Waldmann <tw@waldmann-edv.de>
Date:   Wed Feb 18 05:47:23 2015 +0100

    fix typo in input element id (also fixes corresponding reference from label element)

commit 979cc45ecec242b8ebcae51f5cc15e4815c56e11
Author: Thomas Waldmann <tw@waldmann-edv.de>
Date:   Wed Feb 18 05:30:52 2015 +0100

    fix reference before assignment issues

commit 64839751b92c59dbae02c05a7389b688cb1601b5
Author: Thomas Waldmann <tw@waldmann-edv.de>
Date:   Wed Feb 18 05:15:10 2015 +0100

    use triple double-quoted docstrings

commit 1cc520b73156fb39fa214e9e4cb3a66e57ea65db
Author: Thomas Waldmann <tw@waldmann-edv.de>
Date:   Wed Feb 18 05:11:26 2015 +0100

    replace deprecated <center> tag

commit 1feb7763239680c20804c27984a29bb7afa5974d
Author: Thomas Waldmann <tw@waldmann-edv.de>
Date:   Wed Feb 18 05:08:50 2015 +0100

    remove superfluous semicolons

commit 793e8ba79483d448e3d977b2d74f734da2db8dbf
Author: Thomas Waldmann <tw@waldmann-edv.de>
Date:   Wed Feb 18 05:00:02 2015 +0100

    fix html errors (typos, missing or superfluous closing tag)

commit 0d33ea0e52709b9b498bf012bd1501e8fa1f11ab
Author: Nick Doiron <ndoiron@mapmeld.com>
Date:   Sat Feb 14 14:43:56 2015 +0000

    Contain codename generate button inside the codename div [Fixes #876]

commit c73ccf6a22810df8bd2086f6fb4c071d87d41107
Author: Nick Doiron <ndoiron@mapmeld.com>
Date:   Sat Feb 14 14:38:00 2015 +0000

    Match <div> and </div> in journalist index [Fixes #875]

commit 838e4aad21355251ccd2fb1c036e72f76d49c46f
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Feb 12 03:36:14 2015 +0000

    Upgrade deb package metadata for 0.3 release

commit ab73ee1d4c340b764dd7165aece439b381e10e52
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 11 19:35:03 2015 -0800

    Update changelog for 0.3

commit 08d7dfb297e92a5cc476286c1be63cfa6e9e3396
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 11 19:32:43 2015 -0800

    Final fix to avoid apparmor errors for `/var/www/.gnupg`
    
    Allow the top-level `/var/www/.gnupg` directory to be created, in
    addition to the subdirectories allowed by
    c6fee9c298c29692237243b25753c323053eaba4

commit c8a18fab162d04166fe1789f0ca8aebca68f5450
Merge: 3ae04404 fb392634
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Feb 11 19:28:48 2015 -0800

    Merge pull request #872 from ageis/ossec-iptables
    
    Add note about iptables outbound SMTP rule

commit 3ae044045234b96e2bc3640b3272b8170aeecc0f
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 11 17:56:30 2015 -0800

    Use the Freedom of the Press Foundation master signing key

commit b5ecb1e6407e6cbc42fd58d38d0367e90574804f
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 11 16:15:48 2015 -0800

    Fix bugs in Admin Interface Edit User page
    
    There were two bugs:
    
    1. No `user_id` was supplied for `url_for`, which led to a 500 on the
       redirect.
    2. The `is_admin` value for the user was extracted from the form, but
       was not updated on the user object. This meant that it was impossible
       to change a user's admin status via the "Edit User" form.

commit fc99f8f5a129bf812262ade6293f8ebb4b122c0f
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 11 16:13:32 2015 -0800

    Use already-extant CSS classes for some Admin Interface notifications
    
    There appear to have been some notification classes in the Admin
    Interface that were intended to be used to indicate specific error
    conditions, but these classes were never defined in CSS. Since all of
    the conditions are error conditions, it is fine to just use the
    exisiting "error" notification class for all of them.

commit c6fee9c298c29692237243b25753c323053eaba4
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 11 16:09:56 2015 -0800

    Prevent apparmor errors on `/var/www/.gnupg`
    
    It appears this issue was not completely fixed by
    439a05bf4bc8d0d3b28bc5bb95a39d024b4b6609, as I had hoped, although the
    incidence appears to have been reduced. We do not have time to
    investigate the cause of this error now, so I am whitelisting the
    directories that gpg-agent creates for now. Otherwise, this creates a
    lot of logging noise (every time there is a server restart or a
    submission).

commit d3124cbada87739aa7fb746acfa96b670a6872b0
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 11 16:06:11 2015 -0800

    Don't log grsec denying rwxmap
    
    This feature creates quite a lot of log noise. While it is worth
    investigating more in depth, it does not appear to cause any breakage.
    There are measures in grsec to deny these allocations and return a
    useful error code to the application, and no breakage has been observed.
    These messages are useful for auditing applications that make
    potentially risky memory allocations, but are not useful in the
    day-to-day operation of a production instance and create a lot of
    logging noise. These messages are surpressed via the kernel flag until
    we can investigate them further and see if there are any clear cases in
    which we would want to have this logging.
    
    Docs: https://en.wikibooks.org/wiki/Grsecurity/Appendix/Grsecurity_and_PaX_Configuration_Options#Denied_RWX_mmap.2Fmprotect_logging

commit 9083cb1d95e862d50801a26dd406f6c93e889f2a
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 11 13:08:03 2015 -0800

    Revert "Merge pull request #871 from dolanjs/ossec-whitelist"
    
    This reverts commit 9cdab36837b6ba045fb0bbed18c795c2644b87a3, reversing
    changes made to 4970ad4c3d7853c5b7d9812df1142d070148102c.

commit fb392634dad17e4ce4f36aa2e019c605991a36c3
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Wed Feb 11 11:44:28 2015 -0800

    Add note about iptables outbound SMTP rule

commit 3d97ff749f2f9ece577097cd25747808eaca7b89
Merge: 9cdab368 59102529
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Feb 10 19:13:03 2015 -0800

    Merge pull request #869 from freedomofpress/last-minute-tweaks
    
    Last minute tweaks

commit 9cdab36837b6ba045fb0bbed18c795c2644b87a3
Merge: 4970ad4c 7d37de87
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Feb 10 19:09:13 2015 -0800

    Merge pull request #871 from dolanjs/ossec-whitelist
    
    whitelisted grsec Denied RWX mmap

commit 5910252982bda43f5d8f1dba076ac7f701ef119f
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Feb 10 19:07:34 2015 -0800

    Add missing AppArmor rule for template

commit 7d37de87a4de14c6e201d1ab182144333651a183
Author: James <james@freedom.press>
Date:   Tue Feb 10 18:15:30 2015 -0800

    whitelisted grsec Denied RWX mmap
    
    Whitelisted the following grsec so it does not send an OSSEC email alert.
    
    ```
    Rule: 100101 fired (level 7) -> "grsec error was detected"
    Portion of the log(s):
    
    Feb 10 23:34:40 app-prod kernel: [  124.188641] grsec: denied RWX mmap of <anonymous mapping> by /usr/sbin/apache2[apache2:1328] uid/euid:33/33 gid/egid:33/33, parent /usr/sbin/apache2[apache2:1309] uid/euid:0/0 gid/egid:0/0
    ```
    
    It is generated by [ this ](https://en.wikibooks.org/wiki/Grsecurity/Appendix/Grsecurity_and_PaX_Configuration_Options#Denied_RWX_mmap.2Fmprotect_logging) grsec option.
    
    Talked about this with @garrett and figured it was better to know when it occured for reactive troubleshooting and just not alert on it rather than just disable the action from being logged in the grsec kernel.

commit 99ba25243bdb119dbcb8769c7d6d6c4099024e18
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Feb 10 17:48:32 2015 -0800

    Hack to get around python-gnupg falling over when `$HOME` is not set in a worker process

commit d51ccce75ec5f6e4a6c29fe69d94f09f2b88447f
Merge: 0e9c4647 4970ad4c
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Feb 10 15:04:01 2015 -0800

    Merge branch 'develop' into last-minute-tweaks

commit 4970ad4c3d7853c5b7d9812df1142d070148102c
Merge: 14f5cb41 f68e4df6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Feb 10 15:02:11 2015 -0800

    Merge pull request #870 from dolanjs/fix-prod-vm-names
    
    normalize VM names

commit f68e4df64e36ac2b963e4492de98575c407429c7
Author: James <james@freedom.press>
Date:   Tue Feb 10 14:52:05 2015 -0800

    normalize VM names
    
    The prod VM names defined in the Vagrantfile did not match the format of the other environements and did not match the hosts entries in the prod playbook.

commit 0e9c4647ed7a2381ba9ec1e6f9c217ebc05210ed
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Feb 10 11:52:06 2015 -0800

    Fix unit tests due to changes in reply storage

commit 83d2329b77eff5e05f24737cc8778cedc58fa560
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Feb 10 10:38:39 2015 -0800

    Fix lag in updating UI after deleting replies
    
    Since the changes in f9969001 simplified and reduced the number of steps
    in the submission deletion flow, it exposed a previously hidden problem
    with deleting replies. Submissions and replies are both securely deleted
    with `srm` to reduce the possibility of forensic recovery. `srm` is run
    asynchronously via a job queue, since it can take a long time to run
    (especially for large files).
    
    Since Submissions were recorded in the database, we used that to
    determine if they had been deleted. The files might still be on the
    disk, but they would be in the job queue either being deleted or waiting
    to be deleted. Replies never had a database table, so we previously
    tested for whether they'd been deleted by checking for their presence on
    the filesystem. This assumption is rendered invalid by the async job
    queue, and the problem was made readily visible by the reduced wasted
    time in the new and improved deletion UX flow. Now it is possible for a
    user to select multiple documents and delete them, only to see the
    replies still in the list upon being automatically redirected to the
    collection page. Waiting and then refreshing will cause the replies to
    disappear, showing that they had been scheduled for deletion but had not
    yet been deleted when the collection list was refreshed.
    
    The best solution to this problem was to add a similar table for Replies
    to the database. This has the benefit of simplifying a lot of code,
    which previously handled replies and submissions differently and can now
    handle it identically or at least similarly. It may also be beneficial
    in the future, as it is now easier to attach metadata to replies and
    build more sophisticated data relations between them and other entities
    in the system.

commit 0de7c2c086df19b8e9527342b219bf7b390c5754
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Feb 10 10:36:59 2015 -0800

    Remove unused return value
    
    `subprocess.check_call` will raise `CalledProcessException` if the
    subprocess exits with non-zero, so we do not need to return the value.
    It is also not used anywhere else in the code.

commit 7cdbf0c989109c089c758d28b68f5f1925ebf388
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Feb 10 10:36:23 2015 -0800

    Increase job timeout for securely deleting files

commit e2c5d05a28fb78b533cdcb0e8c4c9d250ce0a1c7
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Feb 10 10:35:06 2015 -0800

    Fix doc counts on index page

commit 977de38b1180e2d2ff8b8fa5ad5715215bed3395
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Feb 9 18:42:12 2015 -0800

    Better provisioning URI's for Google Authenticator

commit f9969001577e1eb878a42978854f432eaab5910c
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Feb 9 17:51:38 2015 -0800

    Improve submission deletion flow
    
    Since submission deletion is a destructive action, we want to confirm it before
    carrying it out. The original flow was cumbersome and required three
    separate steps for each set of documents deleted:
    
    1. Click delete
    2. Confirm that the files you selected are the ones you want to delete
       on `delete.html`
    3. See a confirmation on a separate page (!!) with a link that, when
       clicked, takes you back to the collection you started with.
    
    This commit adds a new Javascript-based flow that uses a pop-up alert to
    confirm deletion. The original flow, which did not use any
    Javascript, has been left in in case the journalist's browser has JS
    disabled, and has been improved by replace the 3rd step in the list
    above with a redirect back to the original collection accompanied by a
    flashed notification.
    
    Choosing between these flows is handled automatically in `journalist.js`
    (progressive enhancement).

commit 60b2fc935619482d91fb58ab43302309139ce083
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Feb 9 15:58:36 2015 -0800

    Increase CSRF token time limit to 24h
    
    The default timeout is 1h. Large uploads can take > 1h over Tor. It
    would be incredibly frustrating to wait 1h+ for a large upload to
    complete over Tor, only to have the upload rejected because the CSRF
    token had expired while the upload was in progress.
    
    24h was chosen arbitrarily, and may need to be tuned in the future based
    on further testing of large uploads over Tor.

commit d0f3737d010604e65c907217fa67aa500b4ef609
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Feb 9 13:47:35 2015 -0800

    Use journalist designation in reply filenames

commit a7a22d830c33cb5be32a9d17aa34a53e218c388d
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Feb 9 13:47:12 2015 -0800

    Source.journalist_filename is a perfect candidate for @property

commit e195f76e17fc703077289f9428d4a8d66fd8e8c9
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Feb 6 14:13:43 2015 -0800

    Replace reply confirmation page with flashed notification
    
    Previously, when a journalist submitted a reply to a source on the
    Document Interface, they would see a confirmation page that:
    
    1. Confirmed that the reply had been stored
    2. Explained that the reply:
       1. would show up in the list of documents
       2. might eventually be deleted by the source, which could be
          indicative that it was read (although that is a bit fuzzy).
    
    The journalist then had to click the "Return to the list of documents
    for foobar..." link to return to the list of documents.
    
    This extra step to the workflow quickly got annoying. I replaced the
    reply confirmation page with a flashed notification confirming that the
    reply was stored, and a redirect back to the page for the source that
    was replied to.
    
    Moved the explanation of reply/source interaction to the Journalist
    User Manual and deleted the screenshot of the removed `reply.html` page.

commit 14f5cb41dff70cf8419bb975fbc6ebcb1b3dac24
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Feb 9 13:24:51 2015 -0800

    Fix password field on admin interface Edit User page

commit ea2b1ff818130cfb2f42da5f6f6b56bc897de196
Merge: 6a14dda7 cfff1159
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Feb 9 13:14:03 2015 -0800

    Merge pull request #863 from dolanjs/apparmor-fixes
    
    apparmor updates

commit 6a14dda785abe90f91a32fffc78e6b7363eaa090
Merge: 177f86c4 2d885457
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Feb 8 17:58:21 2015 -0800

    Merge pull request #868 from freedomofpress/get-rid-of-useless-gpg-logging
    
    Get rid of useless gpg logging

commit 2d8854576bd93c20e9f10d6e43dbce70423bc240
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Feb 8 17:40:53 2015 -0800

    Hack to silence warnings about the deprecated --no-use-agent option

commit 439a05bf4bc8d0d3b28bc5bb95a39d024b4b6609
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Feb 8 17:27:04 2015 -0800

    Remove unnecessary check for gpg2 vs gpg
    
    Now that we use Ansible and control the package dependencies via Debian
    packaging, it's not possible to install SecureDrop without also
    installing gpg2. Therefore, this test is no longer needed.
    
    In addition, the response to not finding gpg2 was questionable (not sure
    how the WSGI/web server would react to the assertion). This is also a
    bad separation of concerns - dependency management should be separate
    from the application code as much as possible.
    
    Additionally, the initial call out to the gpg binary to check the
    version was temporarily creating a key directory in `/var/www/.gnupg`,
    which caused AppArmor errors. Since the version check isn't needed
    anyway, the easiest way to fix this error is just to remove the check.

commit cfff1159c6c2953062acd4dd7902123e88e2349b
Merge: 5fd7ffe9 177f86c4
Author: James <james@freedom.press>
Date:   Sun Feb 8 16:38:03 2015 -0800

    Merge branch 'develop' into apparmor-fixes

commit 177f86c411f76d3332783453c2befee99856f3fd
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Feb 8 16:29:58 2015 -0800

    Remove ossec-server Debian package
    
    This package has been moved to a dedicated git repository:
    https://github.com/freedomofpress/ossec

commit 90e42f60570fbcf88faad162eb26b23677cd61b4
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Feb 8 16:29:03 2015 -0800

    Remove obsolete reference to securedrop-grsec package

commit 674aad45ef9090275d085bfd1759aa625659c850
Merge: 0d9c06ac 7f7836c2
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Feb 8 16:28:25 2015 -0800

    Merge branch 'pkg-reorg' of https://github.com/dolanjs/securedrop into dolanjs-pkg-reorg
    
    Conflicts:
            build/build_generic_package.sh
            install_files/ansible-base/build-deb-pkgs.yml

commit 0d9c06ac78a465e9bc1c18d7933669a3b0241acf
Merge: 315a4bbb 3d5ae50c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Feb 8 16:13:13 2015 -0800

    Merge pull request #866 from freedomofpress/remove-securedrop-grsec
    
    Remove securedrop-grsec

commit 7f7836c2d53727adb0d2b53685e32369ebc7beee
Author: James <james@freedom.press>
Date:   Sun Feb 8 12:25:31 2015 -0800

    re-add var ossec_group
    
    re-added var ossec_group to securedrop group vars.
    
    It is used to set permission for the ossec gpg keyring used by procmail to encrypt the alerts.

commit 98ed11da7688096ef32e20039199ee2e2b3b70c4
Author: James <james@freedom.press>
Date:   Sun Feb 8 11:42:23 2015 -0800

    remove ossec-server and ossec-agent builds
    
    The ossec-server and ossec-agent deb package build process has been moved to https://github.com/freedomofpress/ossec
    
    Removing that role and playbook entries from this repo.

commit 1469b6116a6f9e244ad96d26a6a00c53816d2763
Merge: 1b55e4dd 315a4bbb
Author: James <james@freedom.press>
Date:   Sun Feb 8 11:32:42 2015 -0800

    Merge branch 'develop' into pkg-reorg

commit 3d5ae50c13de91fc4c4c68884c0bc48498bf5265
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sat Feb 7 18:06:22 2015 -0800

    Remove securedrop-grsec
    
    This commit removes everything related to building an Ubuntu kernel with
    grsecurity for SecureDrop and the build scripts for the securedrop-grsec
    kernel metapackage. This material has been moved to a separate,
    dedicated git repository: https://github.com/freedomofpress/grsec

commit 1b55e4dd4adfd31d2c6bd6ffdb0ded3b81a820bf
Author: James <james@freedom.press>
Date:   Sat Feb 7 11:46:00 2015 -0800

    cleanup securedrop-ossec-* pkgs
    
    still need to add the conffile to define the 3 new config files for both agent and server configs

commit 8cb74638f04933340007f8d9c13e2bc2cb35e8ba
Author: James <james@freedom.press>
Date:   Sat Feb 7 10:44:36 2015 -0800

    Package re-org
    
    Packages in SecureDrop Repo:
    Packages based on SD version:
      `securedrop-app-code` version: 0.3
    
    Packages tracking both SD and upstream:
      `securedrop-ossec-server` version: 2.8.1+0.3
      `securedrop-ossec-agent` version: 2.8.1+0.3
    
    Packages not in SecureDrop Repo:
    Grsec:
      `grsec-metapackage` version: CURRENT_GRSEC_VERSION
    
    OSSEC:
      `ossec-server` version: 2.8.1
      `ossec-agent`  version: 2.8.1
    
    The grsec metapackage build script was modified to build the grsec metapackage and the securedrop-ossec-server and securedrop-ossec-agent packages
    
    The securedrop-specific configs for the ossec-server and ossec-agent packages were removed from the build process since those are part of the respective securedrop-ossec-* packages

commit 5fd7ffe9398fa91dc6ce3c89499e1b30b6af1f35
Author: James <james@freedom.press>
Date:   Fri Feb 6 16:41:22 2015 -0800

    clean up
    
    removed un needed decoder
    
    re-arranged the parent rule for all of the ones based on the horrible default iptables decoder.
    
    restricted the whitelist for gpg warning events to match the no-use-agent obsolete warning.

commit 315a4bbb52a28269ea91d83b7d09d0129bc6df84
Merge: bb6995c9 eadce5a5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Feb 6 15:56:17 2015 -0800

    Merge pull request #865 from ageis/kexalgos
    
    Limit SSH key exchange algorithms to highly secure subset. Closes #857.

commit cd3a7a17b9be61ee2a37f2c0176b26235d6c41fe
Author: James <james@freedom.press>
Date:   Fri Feb 6 13:51:50 2015 -0800

    when I copied the ossec-* folders back over wrote the wrong files.
    
    added the correct `Replaces` back to the control files

commit fc7d4ca9768167ff9e21db612b169f49aec667e0
Author: James <james@freedom.press>
Date:   Fri Feb 6 13:46:49 2015 -0800

    updated correct version for securedrop specific packages

commit 9556d073f017d72d77cf50aebbe39f6c144b2648
Author: James <james@freedom.press>
Date:   Fri Feb 6 13:42:56 2015 -0800

    separate ossec-server and securedrop-ossec-server
    separate ossec-agent and securedrop-ossec-agent

commit bb6995c9a839b1450cdef746a1d8d3ce5aa42a97
Merge: 7ed392af cbfe7989
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Feb 6 13:07:44 2015 -0800

    Merge pull request #864 from ageis/remove-rc4
    
    Remove RC4 from deployment best practices

commit b8d18fd1d581323e45ffdb46958e5224ec3c1c17
Author: James <james@freedom.press>
Date:   Fri Feb 6 12:54:56 2015 -0800

    added comment
    
    per @garrett comment

commit 33900d7ed6746be465d170f7c45adab6b8042fbd
Merge: 0d132453 7ed392af
Author: James <james@freedom.press>
Date:   Fri Feb 6 12:03:50 2015 -0800

    Merge branch 'develop' into apparmor-fixes

commit 0d13245354a6510a7f4e9d18f37e96f54582e948
Author: James <james@freedom.press>
Date:   Fri Feb 6 12:00:46 2015 -0800

    apparmor entries for 862
    
    added the apparmor entries required for pr #862

commit eadce5a52ed7cdd6aaf1fcf0edc9fbb48f32ba76
Author: Kevin Gallagher <kevinmg@pressfreedomfoundation.org>
Date:   Fri Feb 6 11:59:58 2015 -0800

    Limit sshd key exchange algorithms

commit 7ed392affca522340df4a1c2d2dfb12c0eea9610
Merge: feabdb29 58e21cf4
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Feb 6 11:57:38 2015 -0800

    Merge pull request #862 from freedomofpress/request-that-secures-file-uploads
    
    Request that secures file uploads

commit cbfe7989040b455adbbd1732b1448be1f63bf4fc
Author: Kevin Gallagher <kevinmg@pressfreedomfoundation.org>
Date:   Fri Feb 6 11:46:50 2015 -0800

    Remove RC4 from deployment guide

commit 2745d4c120e7653f6606dbc286980fa392a49392
Author: James <james@freedom.press>
Date:   Fri Feb 6 10:46:29 2015 -0800

    grsec OSSEC events
    
    added a OSSEC decoder for grsec events
    
    all grsec events but whitelisted events will be alerted on.
    
    the grsec notification for time being sent is not alerted on.

commit 58e21cf40eb3df68b7b63ed2f0609345ee30cf3e
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 4 15:09:53 2015 -0800

    Use binary formatting for file sizes in Document Interface

commit f98a4903f3c75fa6c416376d651074df6243cfd0
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 4 18:04:45 2015 -0800

    Fix unit tests for change from .zip -> .gz

commit 88f6ea9b304232a2f55ac2ca09ae3b414660c73f
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 4 15:10:20 2015 -0800

    Use gzip instead of zipfile for uploaded files

commit aa0ebe55ae5804f4f324a83de64e0879228261bd
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Feb 4 12:41:02 2015 -0800

    Use SecureTemporaryFile for Source Interface requests

commit aca449d9b4fc102f6d8cd532ec529db8ea0f2e3f
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Jan 30 16:13:14 2015 -0800

    Add SecureTemporaryFile class
    
    This class is intended to be used to safely buffer uploads (which may
    contain submission plaintext) to disk.

commit 4b195cb33e6027eaca5dcf953ac5a569ed1facb1
Author: James <james@freedom.press>
Date:   Thu Feb 5 13:41:14 2015 -0800

    added comments
    
    cleaned up decoder order and the required exemptions.

commit b6fcd8a51d3d77c85e9e939ad4eed8a8cce10537
Author: James <james@freedom.press>
Date:   Wed Feb 4 12:47:12 2015 -0800

    apparmor updates
    
    changed default mode for apparmor tor and apache2 profiles to enforce, but the ansible staging playbook will put the profiles in complain mode unless the skip tag `aa-complain` is skipped.
    
    added the needed entries for the document interface and other parts of the web application to function.
    
    added ossec decoders and rules to reduce alerts being sent for false positives.

commit feabdb29527a8d5b29ddbca6a8d07a13fd69fb6c
Merge: 3cccbda4 0ea48bca
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Jan 30 16:04:03 2015 -0800

    Merge pull request #855 from freedomofpress/test-securedrop-app-code-upgrades
    
    Test securedrop app code upgrades

commit 3cccbda467652a0bbf7125ea51fbe0d6ede988b2
Merge: 1f2650bb 3f062c94
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Jan 30 16:03:38 2015 -0800

    Merge pull request #859 from dolanjs/cron-apt-syslog
    
    changed cron-apt log to syslog format

commit 0ea48bcaf5a75ce81fda650973b61263c56df1c5
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Jan 30 14:15:34 2015 -0800

    Rearrange code related to `dch` for clarity

commit e88c8749d20f2976bbefb7ed00f32c34945a56a2
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Jan 30 14:14:08 2015 -0800

    Use $VENV consistently throughout

commit 3f062c9462696ab86df6cc83adc5a14c002c9796
Author: James <james@freedom.press>
Date:   Fri Jan 30 13:01:17 2015 -0800

    changed cron-apt log to syslog format
    
    changed the cron-apt log to log to the syslog log file in syslog log format
    
    ```
    Jan 30 20:54:42 mon-staging cron-apt: CRON-APT RUN [/etc/cron-apt/config]: Fri Jan 30 20:54:34 UTC 2015
    Jan 30 20:54:42 mon-staging cron-apt: CRON-APT ACTION: 0-update
    Jan 30 20:54:42 mon-staging cron-apt: CRON-APT LINE: /usr/bin/apt-get -o quiet=1 update -o quiet=2 -o Dir::Etc::SourceList=/etc/apt/security.list
    ```
    
    Cron-apt warnings have the following format with a `W:` while errors have a `E:`
    
    ```
    Jan 30 20:54:42 mon-staging cron-apt: W: Duplicate sources.list entry https://apt.freedom.press/ trusty/main amd64 Packages (/var/lib/apt/lists/apt.freedom.press_dists_trusty_main_binary-amd64_Packages)
    Jan 30 20:54:42 mon-staging cron-apt: W: Duplicate sources.list entry http://deb.torproject.org/torproject.org/ trusty/main amd64 Packages (/var/lib/apt/lists/deb.torproject.org_torproject.org_dists_trusty_main_binary-amd64_Packages)
    Jan 30 20:54:42 mon-staging cron-apt: W: You may want to run apt-get update to correct these problems
    ```
    
    An OSSEC decoder to look for `cron-apt` and then either a `E:` or `W:` respectively in `var/ossec/etc/local_decoder.xml`
    
    An OSSEC rule that sets the priority of the decoded warning or error events to a sevirity level 7, since that is the min for OSSEC to send an alert. The options to send these alerts without delay or not grouped in the ossec.conf was not choosen since one cron-apt run will generate multiple error or warning events per run.
    
    Spacing and an old ref to a chroot'd log files and the old cron-apt log file were fixed in the ossec.conf files.

commit 9868f3a7a3d39e63748ed8e4305bdf0a8d07918c
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Jan 28 17:26:50 2015 -0800

    Updated Python dependencies using pip_update.sh

commit 04ce3f0029b80ebf37854a01bc4d4eb39f7aa080
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Jan 28 16:52:40 2015 -0800

    Fix Python requirements upgrade script

commit eb9a4d95c1009527e06b68428d8dfe0629e33000
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Jan 28 12:53:15 2015 -0800

    Set distribution when editing the changelog
    
    The default distribution value, `UNRELEASED`, only makes sense if you
    are engaging with the mainline Debian packaging process. For our
    purposes, every time we run this script we are doing a release.
    
    It is set to trusty, which is currently the only distribution that we
    support.

commit f9e18c0d8c2028119e195c69a75c58c7cdfed68a
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Jan 28 12:52:37 2015 -0800

    Set default env vars for Changelog author metadata

commit db4cf69bb76ba2e14c522a4f2b4466c59abb4439
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Jan 28 12:52:14 2015 -0800

    Properly check for git in addition to dch

commit edc1208093d7b7463e2dcd2f587d2d28c890630e
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Jan 28 11:39:20 2015 -0800

    `sudo su` before compiling the kernel
    
    Since `make-kpkg` apparently requires root, we previously ran it with
    sudo. We also recommended setting the `CONCURRENCY_LEVEL` environment
    variable to use multiple cores in order to speed up the (very
    time-consuming) kernel build. However, sudo does not inherit environment
    variables by default (this is a security feature, see the man page), so
    following this documentation resulted in always building the kernel with
    a single core.
    
    This change recommends `sudo su`ing to root before setting the
    environment variable and building the kernel. When tested, this change
    led to the kernel build successfully utilizing all available cores.

commit 6730f5de14883696942f75ed0f706493bc80083b
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 27 12:05:33 2015 -0800

    Changed sed invocations for Debian/Ubuntu
    
    Now that we are running this script on Debian/Ubuntu, we need to change
    the syntax used with the -i flag from the previous "Mac OS X sed" syntax.

commit efbbefe7bc76dcfb7422d4b0fbae82d5f2d16905
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 27 12:04:16 2015 -0800

    Check for dch and git requirements
    
    Now that we are using dch to edit the Debian package configuration file,
    the implication is that `update_version.sh` must be run from a
    Debian/Ubuntu environment such as the build VM.
    
    This line checks for dch and, if it is not found, exits with an error
    message describing how to install the required dependencies.

commit 7ea78f652578b3ba923e99a23a06acb3a52fdf29
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 27 12:03:49 2015 -0800

    Edit Debian changelong with dch using -c flag

commit 948ef9a9c05961dde7db44f82749933a5ba29ed9
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 27 10:24:53 2015 -0800

    Script to automate much of updating securedrop-app-code

commit bc354b5448c6c5b6ef691ab0dbf31b7ec234051b
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 27 09:51:16 2015 -0800

    Add variable for securedrop-app-code package version

commit 1f2650bb44974a6c355e8110f46e90a296f645cb
Merge: b88120a0 f78ffcc6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Jan 28 14:53:28 2015 -0800

    Merge pull request #854 from freedomofpress/avoid-cron-apt-warning-about-duplicate-source-lists
    
    Avoid cron-apt warning about multiple source lists

commit f78ffcc66008465ba27989d4c16a4a7d15c0decb
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Jan 28 14:27:47 2015 -0800

    Avoid cron-apt warning about multiple source lists
    
    Make sure the *only* list that is being checked for updates is
    `security.list` by explictily telling cron-apt to ignore source lists in
    `/etc/apt/sources.list.d`, which is defined by the configuration
    variable `Dir::Etc::SourceParts`. See the man page for details.

commit b88120a02acd07e0691c35691dd083ad35718307
Merge: e577b281 f573cf5d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Jan 26 16:23:03 2015 -0800

    Merge pull request #850 from freedomofpress/apt-repo-url-variable
    
    Use a variable for the FPF package repo URL

commit f573cf5defcfc7e59beeb6a695efd8b11b337871
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Jan 26 16:12:45 2015 -0800

    Use a variable for the FPF package repo URL
    
    This makes it easier to change the URL for testing purposes.
    
    It is also DRY.

commit e577b2811c3157a8f29b53d872369333d23873bd
Merge: 7acf1a87 7f9407c8
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Jan 26 16:19:21 2015 -0800

    Merge pull request #849 from dolanjs/apt-get-fix-install
    
    add -y to apt-get install

commit 7f9407c881653f8619734ff6bdf6e87052cf2b63
Author: James <james@freedom.press>
Date:   Mon Jan 26 15:51:05 2015 -0800

    add -y to apt-get install
    
    add -y to the ansible shell command for `apt-get -f install`

commit 7acf1a8775481d656cb4e91921c68570b31c0cad
Merge: bd4daaab b31019c9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Jan 26 15:05:27 2015 -0800

    Merge pull request #847 from dolanjs/merge-app-mon-build-vm
    
    Merge app mon build vm, closes #843

commit b31019c98e32fec6528e44b052bf18e29b688208
Author: James <james@freedom.press>
Date:   Mon Jan 26 14:47:48 2015 -0800

    as a temp work around replaced using the ansible apt module to install the local deb packages, to using the shell module and dpkg -i and apt-get -f install to install the packages.

commit 79d369bd18d8c7c77fd74aee666bb948c7574035
Author: James <james@freedom.press>
Date:   Mon Jan 26 12:31:06 2015 -0800

    Commented out ossec agent deb pkg
    
    Commented out the ossec agent deb package in the app servers host vars `install_files/ansible-base/host_vars/app.yml` to avoid an error.
    
    When local_deb_packages is set to:
    
    `install_files/ansible-base/host_vars/app.yml`
    
    ```
    local_deb_packages:
      - securedrop-app-code-0.3-amd64.deb
      - securedrop-ossec-agent-2.8.1-amd64.deb
    ```
    
    `install_files/ansible-base/roles/install_local_pkgs/tasks/main.yml `
    
    ```
    - name: if defined install local deb packages
      apt: deb="/root/{{ item }}"
      with_items: local_deb_packages
    ```
    
    I get the following error:
    
    ```
    changed: [app-staging] => (item=securedrop-ossec-agent-2.8.1-amd64.deb) => {"changed": true, "dest": "/root/securedrop-ossec-agent-2.8.1-amd64.deb", "gid": 0, "group": "root", "item": "securedrop-ossec-agent-2.8.1-amd64.deb", "md5sum": "1cee8c780b4e37986ebb77d288a6e1fe", "mode": "0644", "owner": "root", "size": 446872, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1422303994.46-46385956698306/source", "state": "file", "uid": 0}
    
    TASK: [install_local_pkgs | if defined install local deb packages] ************
    <127.0.0.1> ESTABLISH CONNECTION FOR USER: vagrant
    <127.0.0.1> REMOTE_MODULE apt deb="/root/securedrop-app-code-0.3-amd64.deb,securedrop-ossec-agent-2.8.1-amd64.deb"
    <127.0.0.1> EXEC ['ssh', '-C', '-q', '-o', 'ControlMaster=auto', '-o', 'ControlPersist=600s', '-o', 'ConnectTimeout=60', '-o', 'ControlPath=/home/dolo/.ansible/cp/ansible-ssh-%h-%p-%r', '-o', 'StrictHostKeyChecking=no', '-o', 'Port=2200', '-o', 'IdentityFile="/home/dolo/.vagrant.d/insecure_private_key"', '-o', 'KbdInteractiveAuthentication=no', '-o', 'PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey', '-o', 'PasswordAuthentication=no', '-o', 'User=vagrant', '-o', 'ConnectTimeout=60', '127.0.0.1', u'/bin/sh -c \'sudo -k && sudo -H -S -p "[sudo via ansible, key=xzdzunzdobrwcaethcahjwyzsfetjubj] password: " -u root /bin/sh -c \'"\'"\'echo SUDO-SUCCESS-xzdzunzdobrwcaethcahjwyzsfetjubj; LANG=en_US.UTF-8 LC_CTYPE=en_US.UTF-8 /usr/bin/python\'"\'"\'\'']
    failed: [app-staging] => (item=securedrop-app-code-0.3-amd64.deb,securedrop-ossec-agent-2.8.1-amd64.deb) => {"failed": true, "item": "securedrop-app-code-0.3-amd64.deb,securedrop-ossec-agent-2.8.1-amd64.deb", "parsed": false}
    invalid output was: SUDO-SUCCESS-xzdzunzdobrwcaethcahjwyzsfetjubj
    Traceback (most recent call last):
      File "<stdin>", line 1907, in <module>
      File "<stdin>", line 523, in main
      File "<stdin>", line 299, in install_deb
      File "/usr/lib/python2.7/dist-packages/apt/debfile.py", line 61, in __init__
        self.open(filename)
      File "/usr/lib/python2.7/dist-packages/apt/debfile.py", line 70, in open
        self._debfile = apt_inst.DebFile(self.filename)
    SystemError: E:Could not open file securedrop-ossec-agent-2.8.1-amd64.deb - open (2: No such file or directory), E:Unable to determine file size for fd -1 - fstat (9: Bad file descriptor), E:Read error - read (9: Bad file descriptor)
    ```
    
    I only get the error when local_deb_packages is a list, when one package or the other is commented out it works fine

commit dcc367bf59ed0effed365020ffb48141925392ff
Author: James <james@freedom.press>
Date:   Fri Jan 23 19:00:48 2015 -0800

    merged app-build and mon-build to 1 VM build
    
    `vagrant up build` will now build securedrop-app-code, securedrop-ossec-server and securedrop-ossec-agent
    
    There are tags for ossec-server, ossec-agent, app-deb that can be used to skip build a deb package.

commit bd4daaabf4910113a07bd58228bfec639d612d63
Merge: ef16e574 0fbc2bcb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Jan 23 16:50:23 2015 -0800

    Merge pull request #846 from dolanjs/iptables-invalid-and-acks
    
    Iptables invalid and acks. resolves #828, follow-up in #845

commit 0fbc2bcbc7fcd7eba5d6a25b905681fc00ef57da
Author: James <james@freedom.press>
Date:   Fri Jan 23 11:10:06 2015 -0800

    updated the related github issue to #845 for more info about why the inbound invalid rule is dropped but not logged.

commit 79556aeaf6b6d8eb2c19025e5f6b716eeec1a2b3
Author: James <james@freedom.press>
Date:   Fri Jan 23 10:44:45 2015 -0800

    disable logging outbound host fw drops
    
    Modifed the iptable rule to not log outbound host fw drops to reduce the OSSEC spam
    
    Also not loggin inbound invalid state packets since this was generating excessive OSSEC alerts

commit d9e6d09fb424286ec4abc29ef53151ee114e78e9
Author: James <james@freedom.press>
Date:   Thu Jan 22 18:08:07 2015 -0800

    reduce ossec iptables spam
    
    had to modify the drop invalid rules and add a drop rule for the smtp outbound ACK traffic packet that is sent after the packet with invalid state.
    
    also changed the drop invalid state packet rules to not log the events to avoid OSSEC sending an alert for it.

commit ef16e5749c4c3ae0176a3206143698d986f1f431
Merge: 4d51d029 6cf08e2c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Jan 22 17:07:04 2015 -0800

    Merge pull request #842 from freedomofpress/package-build-automation
    
    Package build automation

commit 6cf08e2cf55fb286172b6e1ef359071a51b445bb
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Jan 22 16:43:26 2015 -0800

    fixes from @dolanjs review

commit 4d51d0293852fd4438414d4d788b2e14bb421525
Merge: 4dd3af40 39d3fb78
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Jan 22 15:47:05 2015 -0800

    Merge pull request #840 from freedomofpress/only-one-notification-after-initial-submission
    
    Limit notifications for initial submission

commit 7fd33a22f60da9b098519da1325bd644cf77a111
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Jan 22 15:27:19 2015 -0800

    Build grsec metapackage with Ansible build role

commit 986138ceb8a3ea875c92ad1bacee95887d31f9f9
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Jan 22 14:56:58 2015 -0800

    Move and rename grsec metapackage build script for clarity
    
    Also adds some whitespace to the script for readability.

commit b2678f6647ae05e47014bdfe1b0cfce8fb926bac
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Jan 22 14:39:45 2015 -0800

    Store .debs and build artifacts in new build directory
    
    This fixes two annoying problems with the way building packages used to
    work:
    
    1. The built .debs and files downloaded as part of the build process
    (e.g. the OSSEC .tar.gz) used to be stored in the top level directory of the
    repo, which was a lot of clutter. Now they are stored in their own
    dedicated directory, `build`.
    2. In order to be used in conjunction with the `install_local_pkgs`
    Ansible tag, the .debs used to have to be manually moved to
    `install_files/ansible-base`, which was an annoying step that was easy
    to forget. Now it looks in the build directory, which is where the debs
    are put automatically.

commit 6d74f40039d8cb5abfbc69a010b7f2d78f6079b1
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Jan 22 11:43:53 2015 -0800

    Fix conditional statement for OSSEC download

commit dafae03855af855ebd378f93cb4ad04a5eb21382
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Jan 22 11:40:56 2015 -0800

    Get rid of unused var non_default_securedrop_repo
    
    We need to define `securedrop_repo` for the `/build$/` roles. Some
    leftover/unfinished changes changed that to be
    `non_default_securedrop_repo` in `development-specific.yml`, which cased
    the OSSEC package build role to fail. Changing the variable back to
    `securedrop_repo` fixes the issue.

commit 4dd3af40a758119f5c8714f4efc1031571e58587
Merge: 674a6472 1551b8f9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Jan 21 16:44:26 2015 -0800

    Merge pull request #829 from dolanjs/ansible-backup-restore
    
    added a restore script

commit 39d3fb78fe5685123e3f8514f8f7b7b165019c47
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Jan 21 16:03:44 2015 -0800

    Limit notifications for initial submission
    
    We added a "first submission" reminder a while back as a friendly way to
    remind sources that they should remember to return to their account and
    check back for replies after making a submission. At the time, this
    notification was shown in addition to the standard message and/or file
    submission notifications. However, this resulted in a cluttered UI after
    the first submission. After some experimentation, I decided it feels
    natural to thank them for submitting something after the first
    submission, and to use the standard message and/or file submission
    notifications after that.
    
    This commit changes the initial notification behavior on the Source
    Interface and updates the tests accordingly.

commit 1551b8f987ffd54f26c8bca69fdb49194d53142b
Merge: 11049ed9 674a6472
Author: James <james@freedom.press>
Date:   Wed Jan 21 15:27:55 2015 -0800

    Merge remote-tracking branch 'upstream/develop' into ansible-backup-restore

commit 11049ed98a66604b55a27f244c70436a7b1593ff
Author: James <james@freedom.press>
Date:   Wed Jan 21 15:26:38 2015 -0800

    fixes from garretts comments
    
    moved chowning the extracted files subprocess call to the extract_file_path function per @garrettr recs in comments.

commit 674a6472ba900a5f8497d03a524f31feb91cf33f
Merge: 937fb6e8 cc815a27
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Jan 21 15:01:08 2015 -0800

    Merge pull request #831 from ageis/wordlist-refinements
    
    Remove less frequently used words. Closes #824.

commit 937fb6e8cfb77b3b5a629d1a52a24128c83f8ac3
Merge: ed5e7e4c f18f881e
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Jan 21 14:39:11 2015 -0800

    Merge branch 'invalid-state-iptables' of https://github.com/dolanjs/securedrop into dolanjs-invalid-state-iptables
    
    Conflicts:
            install_files/ansible-base/roles/restrict_direct_access_app/templates/app_rules_v4
            install_files/ansible-base/roles/restrict_direct_access_mon/templates/mon_rules_v4
    
    The new rules to handle invalid packets were added to a commit prior to
    the one where we removed the Tor destination ports restrictions.

commit ed5e7e4c6d96ec589349776bb913e5a6cde0904c
Merge: 1a153645 4c8b6720
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Jan 21 14:31:22 2015 -0800

    Merge pull request #830 from freedomofpress/fixes-from-test-install
    
    Network firewall rules and docs improvements

commit 4c8b67206db3e6ed28d10a4ce143af25f0ee502e
Merge: bde79a37 ded3d7f6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Jan 21 14:03:52 2015 -0800

    Merge pull request #839 from dolanjs/massage-pfsense-rules-to-iptables
    
    update iptable version of network fw rules

commit ded3d7f637875e8f96d99240faf7a5de5d5b5adb
Author: James <james@freedom.press>
Date:   Wed Jan 21 13:54:21 2015 -0800

    update iptable version of network fw rules
    
    updated the iptable version of the network pfsense fw rules to match the more restrictive pfsense rules for the .3 version

commit f18f881e65d40b0bec4c0191f9ae844496ba1ef7
Author: James <james@freedom.press>
Date:   Wed Jan 21 12:04:50 2015 -0800

    modified invalid drop rules
    
    changed the invalid drop rules for the monitor server to drop but not log invalid packets with a distant end port of 587. All other invalid state packets are logged and would be alerted on by OSSEC for the monitor server or app server.

commit 800a061b2838687e3b49420ed7b996e3b55cefbc
Author: James <james@freedom.press>
Date:   Wed Jan 21 10:14:44 2015 -0800

    drop invalid state packets
    
    Drop but do not log packets with invalid state. This situation was occuring around sending smtp alerts to google smtp servers. Where the connection would be removed from the iptables state table, but the mon server would then still try to send a FIN, RST packet but since it was no longer in the state table it lost the associated PID and UID. The distant end already closed the connection so this is not prevent the alerts from being sent but does cause a OSSEC spam loop. An OSSEC alert is sent causing a fw drop, that then generates another ossec alert.
    
    These packets are droped but not logged by jumping (-j DROP) directly to DROP chain instead of the LOGNDROP chain

commit 1a153645b43214ffbb6c004b14d4520f3abbb9fd
Merge: d4d0164c 26f6178c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Jan 20 21:11:37 2015 -0800

    Merge pull request #806 from runasand/develop
    
    Move threat model doc to GitHub

commit bde79a37444db0eb2180252b2e66f36a8775f1b5
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 20:31:49 2015 -0800

    Update headings and TOC

commit 870e1e995efb771d783ce5f97e6c6a478566e425
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 20:28:15 2015 -0800

    More detailed description of *ths files created by Ansible playbooks

commit fd0507190a2c8ddc2551c01a37ab36f0d0bcbec1
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 20:27:41 2015 -0800

    Tighten up and clarify install docs

commit 92e85c4c14c4d8de441d627b5fe0270e4196f66c
Merge: bd5dec61 d4d0164c
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 20:06:17 2015 -0800

    Merge branch 'develop' into fixes-from-test-install
    
    Conflicts:
            docs/install.md

commit bd5dec61d38e5077e27a33eba8a5bbc1231a8ec2
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 20:00:29 2015 -0800

    Document assigning a static IP to the admin workstation

commit 69f5f9a496ad6b259b84ea7eb4b7a7548cbbcbf5
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 19:58:53 2015 -0800

    Fix hard wrapped lines
    
    This doc was originally written with lines hard wrapped at around 80
    characters due to my editor's settings. I think this kind of file is
    better edited with a visual wrapping mode (like Emacs'
    `visual-line-mode`) to reduce unnecessary changes due to rewrapping.

commit a6cdf318de6f5e8236e51ad315e4495233a274b7
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 19:58:35 2015 -0800

    Fix list numbering

commit a89861bbaeacec09ca565bbd5e4a01716baf0ce8
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 19:11:59 2015 -0800

    Updated screenshots for new network firewall rules

commit 2098369b343c3c7996c7c56f37bea5c2e661b5bd
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 18:57:54 2015 -0800

    Encourage using KeePassX for network firewall admin password
    
    Based on review comment from @dolanjs:
    https://github.com/freedomofpress/securedrop/pull/830#discussion_r23106111

commit d4d0164c969105e992593040e4493385cdd45623
Merge: 6355e65d 69017416
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Jan 20 18:45:36 2015 -0800

    Merge pull request #833 from ageis/training-sched
    
    Superficial edits r=garrettr

commit 6901741605bc6bc1483dcfde2928d4a0bbe6b860
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Tue Jan 20 18:43:12 2015 -0800

    Fix references to keypass = KeePassX

commit c7e353cd55dd2ef325a14c0410f512cfbb8cc9fe
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Fri Jan 16 16:16:44 2015 -0800

    Edit training schedule, consistent caps

commit 6355e65dd9a6fbda57c398d6a36816a59e915549
Merge: 76f61216 11877c19
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Jan 20 18:28:15 2015 -0800

    Merge pull request #835 from pemulis/patch-3
    
    fix tails setup link

commit 76f61216bea11827b8fb6fd4e6171cf48344b183
Merge: 7cbf59a3 ac48a31a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Jan 20 17:33:41 2015 -0800

    Merge pull request #823 from yasyf/format-auth-token
    
    Ignore Whitespace in Auth Token r=garrettr

commit 74df00ac9607cd92beb89ebc5a3e97379e4acfd2
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 16:57:21 2015 -0800

    Workaround for checking SMTP server fingerprint in Tails

commit 0190d42bfa8d7deb60d3ac2132a4e48e5016196c
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 16:56:53 2015 -0800

    Another reminder that the custom header is optional

commit 08215f8f1d22f592c851fb8c6aba1dd5176acc47
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 14:32:55 2015 -0800

    Replace redundant info with link to OSSEC Alerts Guide

commit 58def673dc43836a733674a5dba9e2a794954773
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 14:31:55 2015 -0800

    Simpler way to check SSH connectivity
    
    Following the example of the earlier section where we check connectivity
    and authenticating with passwords after first connecting the Admin Workstation.

commit 913e8767b682ae295b2587762e91e0cd707d9adc
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 14:31:17 2015 -0800

    Connect Admin Workstation to switch
    
    Instructions in install.md reflected prior (wishful thinking) setup
    where we had a firewall with > 3 ports. Updated doc to reflect that we
    now recommend using a switch on the LAN port to handle the Admin
    Workstation.

commit c3b0edeb52f0696bc0adf01db7f5dad2b85f272a
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 14:26:31 2015 -0800

    Update Ubuntu Guide network info to match Network Firewall doc

commit da65a02eb2c747ba0cfede3d87cedc4b2afd8b4d
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 14:25:48 2015 -0800

    Update default inventory IPs to match docs

commit 40bb164cb82f447e558ff0bf90bfdaa27b6bf9ba
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 20 12:56:59 2015 -0800

    Format example network info as a list

commit f401303874360e20fcd3aa5d63c33dcf2a79a353
Author: James <james@freedom.press>
Date:   Tue Jan 20 12:14:57 2015 -0800

    fixes from comments
    
    fixed spelling from pr comments
    
    added the correct user when extracting the file

commit ac48a31a2283fa5709e0d55ac7df21772703e1f6
Author: Yasyf Mohamedali <yasyfm@gmail.com>
Date:   Sun Jan 18 06:43:29 2015 -0500

    Move _format_token to logical place in file

commit 11877c196b5c18ea427dedb41910eafe67eb467e
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Sat Jan 17 14:00:20 2015 -0800

    fix tails setup link

commit cc815a27eec68fa23e2a661774c7dcad13d07449
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Fri Jan 16 14:52:17 2015 -0800

    Remove less frequently used words

commit e9b8243bc58798194308795bfd3a8e3d552fc3ca
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Jan 15 19:31:15 2015 -0800

    Update network firewall rules and docs
    
    I updated the firewall rules slightly to match a working configuration
    that was tested today. There are several options for how to set up the
    rules to allow traffic from the Admin Workstation, and I was not sure
    how to best express them in the iptables format, so I just added a
    comment to the rules template. I also removed several lines of comments
    that are irrelevant after recent changes.
    
    I reworked the Network Firewall documentation completely. The primary
    change was in recommending that users *not* use the default subnet of
    192.168.1.1 for the LAN subnet, since it conflicts when connected to
    another router that uses that (very common) subnet. I also explained
    what is necessary to successfully configure the WAN in a both more
    detailed and more abstract way. I added much more detailed documentation
    for the initial configuration of the firewall. I edited the tips for
    setting up the firewall rules based on some recent changes.
    
    Finally, I added some screenshots from a working pfSense firewall
    configuration.

commit 8a7a43e22125bcde0c744b205033a1fe4dee3ff5
Author: James <james@freedom.press>
Date:   Thu Jan 15 11:42:09 2015 -0800

    added a restore script
    
    The 0.3_restore.py will restore the decrypted zip file created by the 0.3_collect.py script.
    
    This script is different than the 0.3_migrate.py which migrated the different db layout and dir structure for a 0.2.1 install to a 0.3 version
    
    This scripts restores the:
     securedrop config.py
     /var/lib/securedrop/store
     /var/lib/securedrop/keys
     /var/www/securedrop/static/i/logo.png
     torrc
     source interface tor certs
     document interface tor certs
    
    This script does not restore the ssh hidden service from the backup. Deleting the previous ssh ATHS and replacing it from with the one from the backup would break the ssh session that ansible was using to run the playbook.

commit 940ce3a9430c2d690f93a21d2cb26461bd54620b
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Jan 15 12:33:05 2015 -0800

    Clarify location of recommended changes
    
    Adds a link to the Tails documentation for manually installing Tails on
    a USB using a Mac, and specifically references the section in that
    documentation where we recommend changing the Tails instructions
    slightly in order to speed up copying the .iso to the USB.

commit 1640b61f75ec41c0f51b44bce9b7e0e971be7dfc
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Jan 15 12:06:15 2015 -0800

    Fix link to Tails Guide

commit 3768ad87f66d0817962a24f218276a3669213caf
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Jan 14 16:01:58 2015 -0800

    Allow any outgoing TCP connection for Tor
    
    The network firewall and iptables rules were previously allowing Tor
    only on a set of common Tor relay ports (see
    https://www.torproject.org/docs/faq.html.en#OutboundPorts). However, we
    removed that restriction from Tor's configuration in #735 since it
    appeared to cause problems during a recent install.
    
    Allowing Tor to use any port, but blocking traffic to those ports in
    both the server and network firewalls could cause connectivity
    issues. Additionally, the Tor documentation recommends using any
    advertised port to connect to relays if possible, in order to take
    advantage of the most diversity of relays (see previous FAQ link).
    
    Getting rid of these "multiport" restrictions allows us to simplify the
    firewall rules somewhat, since we must now allow outbound TCP on any
    port and don't need to open specific ports for TCP anymore. In the case
    of the network firewall rules, these rules were removed since currently
    those rules must be manually entered into the pfSense WebGUI which is
    quite annoying. We left most of the now-redundant rules in the iptables
    rules, since they are automatically set up during the install
    process. Leaving them in gives a clearer picture of the overall traffic
    flows to someone reading the rules, and could be helpful if we decide to
    reverse this decision in the future and restrict outbound TCP by port
    again.

commit d07f72d49736ed8d7c29261b4d3473a9a084f030
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 13 13:55:30 2015 -0800

    More tips for setting up the firewall rules

commit a2c388635ec6bcdfbe0e259668140e2e67ca0c8f
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 13 13:47:02 2015 -0800

    Simpler connectivity test: confirm the hostname for each IP

commit 560249dbe1e6df00f3b6d98ced7deb7e03c8926b
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Jan 13 13:46:11 2015 -0800

    Formatting for install guide around network firewall instructions

commit 7cbf59a37bdfee94b3293fa89975490a656e7549
Merge: 0826c570 6ab8671e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Jan 13 11:41:48 2015 -0800

    Merge pull request #808 from freedomofpress/test-install-fixes
    
    Fixes from recent test install

commit 6ab8671ec06c74e1d489a7cc8154e868b89b7558
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Jan 2 17:15:15 2015 -0800

    Clarify language in Tails Guide

commit 5cac5962f19ceec9aafa9cdfce62becc3f4cd2a3
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Jan 2 17:14:53 2015 -0800

    Add note that Tails Installer is required to create Tails USBs that support persistence

commit 2b5c8f28a12a2b65c6d1e7140cd2d2ae99519709
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Jan 2 16:48:18 2015 -0800

    Remove trailing period for consistent appearance

commit c1f636561ad4a77f10be621447e477b6e8d4fae4
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Dec 16 02:06:27 2014 -0800

    firewall configuration tips for Tails, based on testing

commit 96ca16b87dc41121776d00ea4364fb734b6f0381
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Dec 16 02:05:39 2014 -0800

    Added whitespace for readability

commit 44f19a386af144ada9bf2463dac84287427f372c
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Dec 16 00:13:27 2014 -0800

    TOC for the Tails Guide

commit 3973a24b9cca7f14d031a1b853bd0d51b09397c0
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Dec 16 00:04:28 2014 -0800

    Clean up and consolidate Tails-related documentation

commit 6e26d584648ba14c7a897c8ba6afe3ea77875186
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Dec 15 21:12:37 2014 -0800

    Rearrange "how to" sections and formatting

commit e6897abb8e4679afd70510a5f8b529e8a68910f7
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Dec 15 21:12:09 2014 -0800

    Reference "Document Interface" for clarity

commit b20b665997767d132f38a742ddccc3b3264d319b
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Dec 15 21:08:23 2014 -0800

    Fixes to architecture component list in README
    
    * Remove outdated reference to DVD drive. We now usually recommend
      running Tails from a USB with persistence to improve usability of the
      authenticated Tor Hidden Service.
    * Introduce interface nomenclature instead of "first" and "second"
      hidden service
    * Add hyperlinks for authenticated Tor hidden services and OSSEC

commit 0826c5703965419363ca4c593bad1d0573bbfebd
Merge: 79167406 f07ded4f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Jan 13 09:44:01 2015 -0800

    Merge pull request #817 from ageis/less-offensive
    
    Cleanup wordlist a little

commit 4dc1292594697639491ef3425deefef4ab0cb7f9
Author: Yasyf Mohamedali <yasyfm@gmail.com>
Date:   Sun Jan 11 11:39:52 2015 +0000

    Fix grammar in docstring

commit 573e3d72e457fc56430b620fd7637f13afbfb62f
Author: Yasyf Mohamedali <yasyfm@gmail.com>
Date:   Sun Jan 11 11:39:52 2015 +0000

    Filter out whitepace from authentication token.
    
    Removes any whitespace from the user's authentication token before
    attempting to verify it. Closes #820.

commit f07ded4f6dc703b5a2effeaf2da493f984fe722e
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Sun Dec 21 18:52:57 2014 -0500

    Remove some more words

commit b9a9b051912d90828b6a5df268df32676ea18ba7
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Sun Dec 21 18:50:11 2014 -0500

    Remove some words

commit 26f6178cbb1c2320562c5cac3766404068d42f72
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Fri Dec 19 22:06:01 2014 -0500

    Change 'assumption' to 'assumptions'

commit 7916740603b12d4e95b6ee624c7313031706e757
Merge: 90e6a605 73dc64c7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 19 13:46:00 2014 -0800

    Merge pull request #815 from dolanjs/ossec-grsec-spam
    
    ossec grsec login spam

commit 73dc64c70ef2542443cc940513ec23e9d6f090a8
Author: James <james@freedom.press>
Date:   Fri Dec 19 13:45:34 2014 -0500

    ossec grsec login spam
    
    During logins the script that displays the system info generates a grsec error. Removed the pam motd module to resolve it

commit 90e6a605ddd852334998761736ad04340f8859c3
Merge: a59a3270 6fd7f88e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Dec 17 14:15:28 2014 -0800

    Merge pull request #811 from eviljoel/bad-ciphers
    
     Remove Insecure Ciphers and Suggested Replacements

commit 7d089124b45c271ca3b567959cb30165128983f3
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Dec 17 13:30:01 2014 -0500

    Updated with more feedback, added that this is a work in progress

commit 41a4ab728441ec63049f5c2cf0c2651ace348c9c
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Dec 17 11:09:31 2014 -0500

    Fix formatting, include suggested changes and previously missing info.

commit a59a327057334b486d00fb6c7b6f5e9336615da9
Merge: 5d7b48f6 c36ffca3
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Dec 17 02:10:49 2014 -0800

    Merge branch 'remove-ca-cert' of https://github.com/dolanjs/securedrop into dolanjs-remove-ca-cert
    
    Conflicts:
            install_files/ansible-base/development-specific.yml
            install_files/ansible-base/prod-specific.yml
            install_files/ansible-base/staging-specific.yml

commit 5d7b48f6fe7960709b2c688e16384494076da196
Merge: bd2c4010 64b9557f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Dec 17 01:53:42 2014 -0800

    Merge pull request #807 from ageis/ossec-alert-doc
    
    Elaborate on OSSEC alert instructions

commit 64b9557f4c6151f2b6e15d51078ae485012de93c
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Wed Dec 17 03:44:21 2014 -0600

    No active response, server-agent explanation

commit 34a1e130e3b3d0824cd53d6b7034c9284c23ca86
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Wed Dec 17 03:27:18 2014 -0600

    Updates per #807
    
    * Recommend Google 2-step verification
    * Update support e-mail address

commit bd2c40100c01ad061424af860ae94d2fa94471e6
Merge: 53ebe5dd 7193b761
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Dec 16 19:07:42 2014 -0800

    Merge pull request #801 from ageis/small-fixes
    
    Small fixes

commit 6fd7f88ebc8d7edf87f94b0a44ef1731d687feaf
Author: eviljoel <eviljoel@linux.com>
Date:   Tue Dec 16 21:05:09 2014 -0600

    Forgot to change the other configuration files.

commit 7193b761d866bd0784bcb5e893d7d8ca8fc5a813
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Tue Dec 16 20:51:09 2014 -0600

    Slight language adjustment

commit ee304e1e2262230e55db2d17f197be1b27edf4ec
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Tue Dec 16 20:49:43 2014 -0600

    Vagrant version update due to #802

commit 75ad2b694ead4e08a2b5e029e314659cd867fb7d
Author: eviljoel <eviljoel@linux.com>
Date:   Tue Dec 16 20:08:22 2014 -0600

    Remove Insecure Ciphers and Suggested Replacements
    
    According to the OpenSSH 6.7 release document (http://www.openssh.com/txt/release-6.7), the CBC ciphers are now considered "unsafe". Thus, I have removed the blowfish-cbc and aes256-cbc ciphers. Newer, secure ciphers are available in the version of OpenSSH that ships with Ubuntu 14.04 and I have suggested you add aes256-gcm@openssh.com and chacha20-poly1305@openssh.com.
    
    More information on chacha20-poly1305 is available here:
    https://www.imperialviolet.org/2013/10/07/chacha20.html
    https://vikingvpn.com/blogs/security/google-is-pushing-new-cipher-suites-all-about-chacha20-and-poly1305

commit c36ffca38dfb10e442f2ed2eeb8bccd7da016cc2
Author: James <james@freedom.press>
Date:   Tue Dec 16 20:55:20 2014 -0500

    removed ca_cert var.
    
    We currently enforce checking the smtp relay's fingerprint in the postfix config
    
    `securedrop/install_files/ansible-base/roles/ossec_server/templates/main.cf`
    
    `smtp_tls_security_level = fingerprint`
    
    One of the other options is to "verify" where it checks the certs ca chain. If verify is set the smtp_tls_CAfile option is required.
    Since we set smtp_tls_Security_level to fingerprint the chain of trust is not checked. If smtp_cafile option is specified in the config file then a file does need to be provided but it is not used providing no value.

commit 1dd0d8d782d7ba21a30c80b26328ee939118e87b
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Dec 16 17:27:34 2014 -0500

    Additional indentation fixes

commit 1248b62c5b8f84a8318f6b838dcd9c756eba5c10
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Dec 16 17:19:22 2014 -0500

    Fix indentation

commit 991f5f5005fa86e62ffaa7c3c5e86698c35ba8db
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Dec 16 17:12:15 2014 -0500

    Rewrite of the threat model document, now more detailed and specific.

commit 53ebe5ddcd91fddfc996283d30ba75e2ae715744
Merge: 6f4bc2fd 0f388013
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Dec 15 20:51:38 2014 -0800

    Merge pull request #804 from freedomofpress/pfsense-docs
    
    Pfsense docs

commit 6f4bc2fd40e4116548f2beddbea8de44f943536f
Merge: 93c10c9d 1dbab3c2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Dec 15 20:50:23 2014 -0800

    Merge pull request #805 from freedomofpress/minimize-plaintext-retention-with-reboot
    
    Reboot every 24 hours to periodically wipe memory

commit 93c10c9d8453b48b774309ff3a33c5bc8943f739
Merge: 2087c172 785fcddf
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Dec 15 13:29:17 2014 -0800

    Merge pull request #755 from freedomofpress/release-testing
    
    securedrop-grsec build scripts

commit 785fcddfcbfab09b2908513d8961c5aaf44a785d
Merge: 55f01388 2087c172
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Dec 15 13:12:33 2014 -0800

    Merge branch 'develop' into release-testing
    
    Conflicts:
            build_deb_packages.sh
    
    The conflict was due to changing the url of the apt repository from
    ".pressfreedomfoundation.org" to ".freedom.press". I decided to remove
    the chunk entirely (was previously commented out) since it was not used
    and I cannot think of how it would ever be used.

commit 239690fae8ab1f61673afbad7a4f06f527bb3220
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Mon Dec 15 15:32:41 2014 -0500

    Updated threat model document with minor changes.

commit 4b5c5490ef3e5da432acd259c5bdbf046a43a81e
Merge: 2a162960 2087c172
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Mon Dec 15 14:07:29 2014 -0500

    Merge branch 'develop' of https://github.com/freedomofpress/securedrop into develop

commit 1f31630c0501523cc4df692cca5df353e1f26ace
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Sat Dec 13 17:09:26 2014 -0500

    Edits to ossec_alerts.md
    
    * Addresses the individual comments on #807

commit fbb4ab80e3da812e8bed3c784f377b7e08f9775d
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Sat Dec 13 06:01:24 2014 -0500

    Formatting, refinements and additions
    * Gmail instructions
    * Analyzing alerts
    * Add table for problem/solution
    * Appropriate spacing
    * Fix heading

commit e874dda193f4fdfa486c08da5e334e436baac7ed
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Sat Dec 13 01:57:46 2014 -0500

    Create ossec_alerts.md
    
    * Copied information from install.md
    * Added more detailed instructions

commit 1dbab3c26f0c6a2275a28d24c287705694ca2108
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Dec 12 19:37:46 2014 -0800

    Reboot every 24 hours to periodically wipe memory
    
    This is a kludge, but a reasonably effective one. This change reboots
    the servers every day at 5am. Previously this reboot would only happen
    if required by the daily package upgrade (e.g. for a kernel upgrade),
    but now it happens every day regardless of whether it is needed.
    
    This ensures that the plaintext of submissions can reside in memory for
    at most 24 hours after submission. Resolves #99, although we can and
    should do better in a future release.

commit 2087c172bc25c1d22f622b6e0da0470400e09af8
Merge: cd0e4d19 a9ca6f1d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 12 15:20:01 2014 -0800

    Merge pull request #803 from freedomofpress/ignore-ansible-backups
    
    gitignore the automatic backups from the Ansible backuup role

commit 0f3880133fa842fc8797a457c0b1e3f4da889773
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Dec 12 15:17:03 2014 -0800

    update toc

commit b390c4b56873a2b25e86ab9131b9e45ab8723a7d
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Dec 12 15:15:54 2014 -0800

    Add network firewall doc to list of steps in install.md

commit c19bfb6bb74d04881e88d9c254b868e89e3789e7
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Dec 12 14:51:31 2014 -0800

    Tips for interpreting network firewall rules template for pfSense

commit 69700c0c95a5e445ed861ddd3139a7e9ce320467
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Dec 12 14:13:38 2014 -0800

    Basic guide for setting up the network firewall

commit cada01ce5baa8a6dd3a50e499ede90c627e84e95
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Dec 12 08:32:26 2014 -0800

    Add note about network switch to Hardware Guide

commit a9ca6f1d0d90591b6a8992a4eade0c7d740330b6
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Dec 11 11:14:25 2014 -0800

    gitignore the automatic backups from the Ansible backuup role

commit 2a1629601d13f22d5384aa00ba04b341c9d13ba9
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Dec 11 12:17:40 2014 -0500

    Minor nitpick

commit 9491ac92dd10e2501782ea84d22bad1dafe72286
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Dec 10 19:24:24 2014 -0500

    Initial commit where I move the threat model document from the Hackpad
    to GitHub. Resolves #249.

commit cd0e4d199d8a4acdf137b23f269a9ac36b88b64d
Merge: 49150872 efb0630c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Dec 11 01:20:58 2014 -0800

    Merge pull request #800 from dolanjs/remove-hostmanger-plugin
    
    Removed the vagrant-hostmanger plugin

commit acd2037a27c0ec1e16c1a73d3fe8a9a2cf42ac34
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Thu Dec 11 02:53:20 2014 -0500

    Grammar

commit 6d4386a80d156e1413244db2b8ca353d3a4640f2
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Thu Dec 11 02:49:48 2014 -0500

    Cleanup

commit c305e0f97a3662822167c7bccdaafb4fdce41129
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Thu Dec 11 02:36:05 2014 -0500

    Small fixes for develop.md and Ansible playbooks
    
    * Fixed typo in path in develop.md
    * Fixed ca_cert path in *-specific.yml (ca_cert is in ossec_server not mon role)
    * Capitalization and readability
    * Tested staging on newer Ansible and Vagrant (don't merge until confirm)

commit efb0630c3f0d34ff6b4a583b81807a24a22764c5
Author: James <james@freedom.press>
Date:   Wed Dec 10 19:21:09 2014 -0500

    removed the vagrant box add step
    
    running `vagrant up` will download the correct vagrant box if it is not already downloaded.
    
    From note in pr #797

commit 2451a1f8a46fc3bae6d1f0c31c20384a26bfbd6f
Author: James <james@freedom.press>
Date:   Wed Dec 10 19:15:48 2014 -0500

    removed refs to hostmanager and digital_ocean vagrant plugins

commit edb35421eb241804633ccca661e920909a35774a
Merge: f1d57508 49150872
Author: James <james@freedom.press>
Date:   Wed Dec 10 19:10:16 2014 -0500

    Merge remote-tracking branch 'upstream/develop' into remove-hostmanger-plugin
    
    Conflicts:
            docs/develop.md

commit 491508720eb7e7682522a7710c5a16c8906ad401
Merge: 6423253c 8d738d63
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Dec 10 16:03:32 2014 -0800

    Merge pull request #797 from micahflee/vagrant-instructions
    
    Updated HACKING.md to more closely resemble reality

commit f1d57508fb6d4082233f422c1388b24b1d681519
Author: James <james@freedom.press>
Date:   Wed Dec 10 18:31:55 2014 -0500

    Removed the the vagrant-hostmanger plugin
    
    This is not needed for virtualbox environment since we hardcode the IP address in the Vagrantfile for each VM.
    
    The hostmanger plugin is required when using digital ocean droplets instead of virtualbox.
    
    Digital ocean droplets are used in our snap-ci environment.
    
    When using digital ocean droplets the IP address of the VPS can change when you destroy and rebuild the vps. The hostmanger plugin was used with the ansible skip-tag `static-hosts` to configure the `/etc/hosts` entries

commit 6423253c4fa69be4ef09545e788649896ee75b10
Merge: 85f42d7e d054cbb5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Dec 10 15:24:23 2014 -0800

    Merge pull request #796 from freedomofpress/source-key-generation
    
    Improve source key generation

commit 85f42d7ef01d39511fb25521885139971e9a1bb9
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Wed Dec 10 17:13:14 2014 -0500

    Update deployment_practices.md

commit 8d738d63b81d8aa76b2b3a0d5fe2c48613d11498
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Dec 10 13:36:35 2014 -0800

    deleted HACKING.md, because it's outdated and new documentation is in doc/develop.md

commit 52328540001217ed875955efee2f015edc17a025
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Dec 10 13:35:58 2014 -0800

    Cleaning up develop.md formatting, add more manage.py examples, removed reference to vagrant-cachier version

commit f8d5221dc8f899678b7385ba0623c1e5cac09a01
Merge: 357d0c7d 5ea371b5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Dec 10 13:17:15 2014 -0800

    Merge pull request #799 from runasand/develop
    
    Add KeePassX password template as xml, remove template as binary blob,

commit 5ea371b526d1a6a7695dd97839c6ba0c7f63f420
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Dec 10 16:08:00 2014 -0500

    Add KeePassX password template as xml, remove template as binary blob,
    update instructions for using the template. Resolves #798.

commit 6642bcccfc5e70a83c16c8346146ef4f1aed4e20
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Dec 10 11:06:02 2014 -0800

    Typo in HACKING.md

commit 4df86a4a6a9471aac5d8ca5b89eb988a2fbcad4b
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Dec 10 11:03:16 2014 -0800

    Update HACKING.md to more closely resemble reality

commit 357d0c7dab8fafc0ad6f626e90b5fd73c46a0a75
Merge: 59ef1774 c6a25f67
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Dec 9 17:54:39 2014 -0800

    Merge pull request #794 from freedomofpress/remind-to-check-for-replies-after-first-submission
    
    Remind sources to check back for replies after first submission

commit d054cbb5de0cb6a969a648767dc06412edfe2209
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Dec 9 17:50:50 2014 -0800

    Update source when keys are generated, resolves #789

commit e4e6e31a6a22f629c2b8dfb63f0008ee4c96691e
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Dec 9 17:48:17 2014 -0800

    Always generate keys async to avoid delaying response

commit f56b4c4678ad7c78433af16327ba143ed0176c68
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Dec 9 17:22:15 2014 -0800

    Remove now-unused background.py

commit 0e3282790ee3e997877f2f6b4936f3252171a9b9
Author: Garrett Robinson <garrett@freedom.press>
Date:   Tue Dec 9 17:18:11 2014 -0800

    Actually generate source keys asynchronously

commit 59ef177417b015d1260f4f744cc8d79bd91e563d
Merge: fc53298e cdac5bef
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Dec 8 12:10:42 2014 -0800

    Merge pull request #795 from freedomofpress/read-does-not-imply-deleted
    
    Clarify implication of a sent reply disappearing from the submission list

commit fc53298e37922f094e22a0d009b687927a6973dc
Merge: d4ba6f23 6f7ffd67
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Dec 8 12:04:23 2014 -0800

    Merge pull request #786 from freedomofpress/harden-document-interface-logins
    
    Harden document interface logins

commit d4ba6f233394236b6ce2a81f947f155a69bde8f0
Merge: 86fea60e 1b277295
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Dec 8 11:50:49 2014 -0800

    Merge pull request #793 from freedomofpress/clarify-source-codenames
    
    Clarify source codenames

commit cdac5bef0b745e63b14be8d8a0b37dd30c5a55f9
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Dec 8 11:48:27 2014 -0800

    Clarify implication of a sent reply disappearing from the submission list

commit c6a25f67e68a240c5e177c52c7d96d323507081e
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Dec 8 11:31:43 2014 -0800

    Remind sources to check back for replies after first submission
    
    Along with the existing notification from the "flag for reply" flow
    (mentioned in https://github.com/freedomofpress/securedrop/issues/683#issuecomment-65484457),
    this resolves #683.

commit 1b27729598321551dfbd4e31b0718fabb7ba0d70
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Dec 8 11:14:43 2014 -0800

    Fix unit test, broken due to wording change

commit 7600d56ea7aabb598a2d5274abb418490c5fa569
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Dec 8 10:58:26 2014 -0800

    Clarify best practices for storing codenames
    
    * Uses the language from
      https://github.com/freedomofpress/securedrop/issues/638#issuecomment-60285846
    * Re-orders the paragraphs to explain *why* the codename is
      important first, and then explain how to store it safely.

commit e4de91fe1366bc848c124110f2c2488cdf2981a4
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Dec 8 10:51:00 2014 -0800

    Emphasize why you need the codename when returning

commit 8ebe78e9c1bf04c6baadfedc9ce219fc1d36f55c
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Dec 8 10:37:39 2014 -0800

    Improve language on codename generation page
    
    * Standardize on "codename" (not "code")
    * Improve flow and phrasing in the "Important:" section

commit 86fea60ea79b4b550563f472750603f12cfbd74e
Merge: f2bbae84 e0022169
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Dec 8 09:36:17 2014 -0800

    Merge pull request #791 from runasand/develop
    
    Manually set the system time on the SVS before creating a GPG key,

commit f2bbae8481e0802ad73e723cefe7860382d308e1
Merge: c0737024 046e7045
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Dec 8 09:34:43 2014 -0800

    Merge pull request #792 from ageis/deployment-guide
    
    Import landing page guide as Markdown

commit 046e7045369001d57aaa1a81327766d03c9b63b6
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Mon Dec 8 02:28:33 2014 -0500

    Create deployment_practices.md

commit c0737024ac8169b77e21b3070bc9bccf187deec4
Merge: 6cd881db c8a9c0b6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Dec 7 12:51:38 2014 -0800

    Merge pull request #790 from freedomofpress/remove-tests-from-additional-testing
    
    Don't recommend running tests after install

commit e002216930f7af604b73704dfc9370746f84f0a4
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Sat Dec 6 21:39:25 2014 -0500

    Manually set the system time on the SVS before creating a GPG key,
    resolves #783.

commit c8a9c0b6f18a3de450057d097cfad9a20d3628da
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sat Dec 6 11:18:51 2014 -0800

    Don't recommend running tests after install
    
    Also fixes some minor style issues in the area of the other changes.
    
    Resolves #787

commit 6cd881dbe6772a77320e52dd25a1d887d0e161f1
Merge: 6ff630f9 2695d1d4
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 5 16:07:19 2014 -0800

    Merge pull request #785 from dolanjs/fix-default-vars
    
    fix recursive default variables

commit 6ff630f9902936541bbb2adf026f0082d6ec418b
Merge: 866f7735 25b52925
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 5 16:06:10 2014 -0800

    Merge pull request #784 from dolanjs/fix-aths-format-tasks
    
    fix aths format tasks

commit 6f7ffd67457d74bb3a8ba44b314bf82bf1cb9356
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Dec 5 15:53:37 2014 -0800

    Throttle logins
    
    Throttles login attempts on the document interface. Keeps a record of
    each user's history of login attempts, and will throttle their attempts
    if they make too many in a given time period (currently, more than 5
    attempts in the last minute).
    
    Also adds a flag for *all* login hardening so we can turn it off in the
    tests, since the login hardening affects the tests unpredictiably and we
    don't have time to rewrite the tests right now.

commit 25b529251d7d19adc427733599a97203f1d8493d
Author: James <james@freedom.press>
Date:   Fri Dec 5 15:45:03 2014 -0800

    fix aths format tasks
    
    changed the aths format tasks to run as a local action and not as sudo.

commit 2695d1d4b7efdfd24f36f78bdd8ba9be3d2a9303
Author: James <james@freedom.press>
Date:   Fri Dec 5 15:41:28 2014 -0800

    Only the travis and development version use non-default values for securedrop_code and securedrop_user.
    
    Instead of defining a default value ever location that securedrop_code or securedrop_user added two variables non_default_securedrop_code and non_default_securedrop_user. If these variables are defined (in travis-specific.yml and development-specific.yml) then those values will be used for securedrop_code and securedrop_user respectively.

commit ec0c1acfdbbc7cff156f53dc7a0804a4e4e76147
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Dec 5 13:46:50 2014 -0800

    Better logging for attempted logins with invalid usernames

commit 8513cba313aa9613bd0128e4d494aca32e1a2b88
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Dec 5 13:35:20 2014 -0800

    Single-use TOTP tokens
    
    This is a hardening measure adapted from the google-authenticator PAM
    module. By only allowing TOTP tokens to be used once, we can prevent or
    detect MITM attacks.
    
    There is a usability downside, as if you mistype your password you now
    have to wait for the next TOTP token before attempting to log in again.
    This is clearly explained in the flashed notification for TOTP users.
    
    Improves the logging for journalist logins.

commit 866f7735832545b2859f60548a1cce3b936667e5
Merge: f8e5150c 9cdbde6a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 5 13:01:51 2014 -0800

    Merge pull request #782 from dolanjs/training-docs
    
    added the onsite training schedule doc

commit 9cdbde6addf174871eb64e624b0095eafce4fe31
Author: James <james@freedom.press>
Date:   Fri Dec 5 10:44:41 2014 -0800

    added the onsite training schedule doc

commit f8e5150cdb2f788ccb57ab2bb4976a1d42cab34e
Merge: 4803ae71 16acc41d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 5 09:51:41 2014 -0800

    Merge pull request #773 from runasand/develop
    
    Additional documentation updates

commit 4803ae71df6bd7a145575d8dac83f0b8e8a1388e
Merge: f57143a0 cd260cd8
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 5 09:50:14 2014 -0800

    Merge pull request #772 from ageis/develop
    
    Prepend HidServAuth to copies of ATHS hostname files

commit f57143a04df8445dfcef7c039aa9b5fafb01b61e
Merge: 39f1cc95 3f3c8aa8
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Dec 4 22:32:50 2014 -0800

    Merge pull request #781 from ageis/install-testing-updates
    
    Improved documentation for post-installation testing, with fixes from comments in #769

commit 39f1cc95f3bd4837e6a1a8cb9e22bcd4b4c08114
Merge: 0933b0fd 763d8cdd
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Dec 4 22:28:00 2014 -0800

    Merge pull request #779 from ageis/doc-port80
    
    Move Document Interface to port 80, resolves #777

commit 3f3c8aa8c7399d3a9c9ca39bea0585c910180c03
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Fri Dec 5 00:59:41 2014 -0500

    Add note for admins ATHS

commit ec16ae802091abb5f3b121b98e3e76225baa2c2f
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Thu Dec 4 23:40:32 2014 -0500

    Testing instructions

commit 763d8cdd52d97273ead309258584ff08b48bdafc
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Thu Dec 4 23:20:16 2014 -0500

    Move Document Interface to port 80

commit 0933b0fd6a91f52e03e33d8a8aaf9398f00943ed
Merge: a342d1a2 2513eb4d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Dec 4 19:46:08 2014 -0800

    Merge pull request #775 from dolanjs/env-specific-variables-cleanup
    
    Env specific variables cleanup

commit 16acc41d5c69d5b9174c95064c3ff63c05b68e97
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Dec 4 19:36:08 2014 -0500

    Remove entries for two-factor auth codes from the keepassx template

commit 7e20bb2baa55857ee456726eb32b32519003e75e
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Dec 4 19:30:23 2014 -0500

    Updated the keepassx template to include an entry for SASL credentials.

commit bad87be27394b7059bc5ce0ea0e884fa4ac68b7c
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Dec 4 17:18:03 2014 -0500

    Include instructions for using the keepassx template db and note that
    the user need to change the default password to something stronger

commit 2513eb4d438301728c05266554d0b1b6742a9465
Author: James <james@freedom.press>
Date:   Thu Dec 4 13:53:08 2014 -0800

    normalized layout of staging-specific and prod-specific config files.

commit 1f22266d92391f0bb91ed5d3c717432fa22276b1
Author: James <james@freedom.press>
Date:   Thu Dec 4 13:48:50 2014 -0800

    set default values for variables that only travis or development use non default values.

commit e6a502d468aa21922609e3c6acc5ad1b014a8d91
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Dec 4 13:48:32 2014 -0800

    Increase valid TOTP window to 1:30s to compensate for potential clock skew

commit dea0df4464c4b2cd153ae964c1e4b28f6cdc67e8
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Dec 4 16:45:30 2014 -0500

    Update the journalist user manual with new screenshots and instructions,
    resolves #719.

commit d4b29ac339ac50ed2d99901cb7172b632e94fa66
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Dec 4 16:35:08 2014 -0500

    Updated screenshots and instructions for the source user manual.

commit 12b17848c08b974194f4892a5f4fde012f4939d7
Author: James <james@freedom.press>
Date:   Thu Dec 4 13:19:12 2014 -0800

    moved the apache testing values to the staging-specific.yml variable file since that is the only environment that needs those.

commit f559c666686a15ed5e542d519284ab3163aade85
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Dec 4 13:47:22 2014 -0500

    Template keepassx database with entries for the admin, the journalist,
    and the secure viewing station for use with SecureDrop, resolves #763.

commit 6c2b0d69b64869d72502f1529ed1090da122d5d9
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Dec 4 12:34:09 2014 -0500

    Describe what happens when a source and a journalist communicates,
    including the alternative flow that kicks in if the server is overloaded
    with submissions.

commit e371c7086512fe8bddda23669e4e9058a869f0f2
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Dec 4 12:21:15 2014 -0500

    Describe what happens when a source and a journalist communicates,
    including the alternative flow that kicks in if the server is overloaded
    with submissions.

commit a7cfa68ac4e79c6d5e60ea1b737b6e9c87dfb0a7
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Dec 4 10:15:02 2014 -0500

    Add a section about OSSEC alert information, resolves #745.

commit cd260cd8b671960195a4cec383170cf9e8680770
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Wed Dec 3 19:26:09 2014 -0500

    Prepend HidServAuth to copies of ATHS hostname files

commit a342d1a29ec96d21bbda09294a6ce088dbc76f78
Merge: 686cdf88 745b5e4e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Dec 3 13:01:25 2014 -0800

    Merge pull request #766 from dolanjs/ansible-backup-task
    
    Anisble backup task

commit 745b5e4ed20b6e64a5602ffcd4a32c9b882f2c29
Author: James <james@freedom.press>
Date:   Wed Dec 3 12:00:19 2014 -0800

    updated comments with notes from @garrettr and removed the TODOs that were resolved.

commit 78b61343c80013e22627ec802431f2d6817e6351
Author: James <james@freedom.press>
Date:   Wed Dec 3 11:51:59 2014 -0800

    added function to encrypt the backup file in the collect.py script.
    
    modified the backup ansible tasks to fetch the encrypted zip file and secure-delete the zip and encrypted zip off the app server

commit 686cdf88aa74da264c5017898b36f8b51fb5f8a7
Merge: 54bbb7fe cccc6f86
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Dec 3 11:34:26 2014 -0800

    Merge pull request #770 from runasand/develop
    
    Documentation updates

commit cccc6f8628ce7f77689d3c149058e4088dc777e0
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Dec 3 13:57:18 2014 -0500

    Add a note about migration scripts for those upgrading from 0.2.1,
    resolves #259.

commit 9308eb887a22c98e49a9d528d08a1d3d00412df3
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Dec 3 13:27:45 2014 -0500

    Update guides to specifically check the fingerprint of a GPG key after
    importing it.

commit 938b24ed29bd4fa219041d0d0b12223fc2742506
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Dec 3 11:47:45 2014 -0500

    Define format of public keys and fingerprints, resolves #750.

commit 68160a69c45c60fd3dcaa7c5a9c2bda7e8222437
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Dec 3 11:24:40 2014 -0500

    Updated to use "we" instead of "I", resolves #748.

commit 716125d77925a689c9da4e4cdbd1d891266542ca
Author: James <james@freedom.press>
Date:   Wed Dec 3 09:39:34 2014 -0800

    made the recommended changes from @garrettr

commit 83eef0f327a4f2761b66bb6a94f8d8bb5e94ad5d
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Dec 3 10:37:08 2014 -0500

    Get the FPF master signing key from a keyserver, closes #742.

commit 54bbb7fecc796d3cf01b2e039dc4f8fd21dff965
Merge: 1869d6fd 80300c51
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Nov 26 14:11:37 2014 -0800

    Merge pull request #768 from dolanjs/hardware-fixes
    
    install and hardware doc updates

commit 80300c5186de8c61b28f81d57ae38e19c13746c0
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Wed Nov 26 13:08:25 2014 -0800

    text updates
    
    for the app and monitor servers hardware updated the memory recs to be the size linked to (4GB) instead of 8/16GB.

commit 348526cab7789bf1daef377d34b9908bb01d7a16
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Wed Nov 26 12:44:37 2014 -0800

    offline backup device
    
    Removed reference the external hard drive and replaced with using a second offline USB tails device as the offline backup

commit 1869d6fde20ac7eb110d423962cedd5df88e0284
Merge: 69eeee9a c6774575
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Nov 26 09:36:46 2014 -0800

    Merge pull request #767 from runasand/develop
    
    Additional updates for install.md

commit c377f25974e986ac968842a8bf89224b9f865c29
Author: James <james@freedom.press>
Date:   Tue Nov 25 15:43:54 2014 -0800

    This adds a modified copy of the 0.2.1_collect.py script as 0.3_collect.py.
    
    An ansible role `backup` was added to run the script and fetch the output back to the admin's host machine in the ansible_base directory

commit 69eeee9a3da89803d58151eee7aeafa161914e68
Merge: 36d26492 479112fa
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Nov 24 17:27:15 2014 -0800

    Merge pull request #764 from pemulis/patch-2
    
    Fix Ubuntu Install Guide link

commit 36d26492d7d80407049b98b8f3b4fc645c5ad789
Merge: eaba8b10 39644cf3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Nov 24 17:26:33 2014 -0800

    Merge pull request #765 from ageis/develop
    
    Change ntp install to common role

commit 39644cf355ee218fc13c8b673ce5261a3bc5ebca
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Mon Nov 24 18:22:20 2014 -0500

    Change ntp install to common role

commit c6774575037ee7ec46e13a896ebf6a15e04e11fa
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Mon Nov 24 16:38:22 2014 -0500

    Attempt to list the information required by prod-specific.yml for a
    SecureDrop install. Solves #745.

commit 479112faec7277d59a6580d4dfc2b9a4a3e4c6be
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Mon Nov 24 13:37:41 2014 -0800

    Fix Ubuntu Install Guide link

commit 8d45d23bf525b5a18c434b5d46c8d825575937e5
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Mon Nov 24 15:46:31 2014 -0500

    Explain the purpose of the passphrases section in install.md. Ideally,
    we should provide a template database for the admin and journalist to
    use, but clarifying that the list is a checklist one can use during the
    installation process is better than nothing. Solves #762.

commit d4bd843745e791e1cd435f70728e3708fd3923cb
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Mon Nov 24 10:48:33 2014 -0500

    Correct the path to the directory we want the admin to be in when
    installing SecureDrop

commit a0849966de4fe7f96f0e9bd2b43fe506bda1057f
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Mon Nov 24 09:19:48 2014 -0500

    Be a bit more specific about where the private key and public key should
    be stored when generating a new GPG key for a journalist.

commit eaba8b10d270cccbde64dfd8d84b59c0f406ae31
Merge: 370e0153 2b95e19f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Nov 21 11:57:18 2014 -0800

    Merge pull request #758 from runasand/develop
    
    Admin USB section should link to official Tails documentation

commit 2b95e19f8899861c0658154238b7312f7e6652d5
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Fri Nov 21 14:21:28 2014 -0500

    Fix a link in install.md to point to the right user manual, and update
    the guide that talks about configuring Tails for use with SecureDrop to
    clarify that you need to append :8080 to the .onion address to hit the
    Document Interface.

commit f801ec8faa3471be5e9696d1d7cf8d1939480cfe
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Fri Nov 21 12:15:54 2014 -0500

    Remove the line that referred to "Micah's Tails_files program" because
    this has been documented in the guide that talks about setting up the
    workstation for the admin and journalist. This line also does not make
    any sense to a reader who does not know who Micah is or what this
    program does.

commit 727ad03c57f64b0c011366a416fd725cfeced290
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Fri Nov 21 12:12:50 2014 -0500

    Move the google auth instructions to the correct place in install.md,
    that is after running the playbook.

commit 26a9c766a88540144848df8e55bb2008715f0eb7
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Fri Nov 21 12:10:27 2014 -0500

    Nitpick on @ageis' edits to the google_authenticator doc.

commit 4f74ca348a64ab2f329fbd034894452eddfd7228
Merge: b0c3538f d234cff6
Author: Runa A. Sandvik <runasand@users.noreply.github.com>
Date:   Fri Nov 21 16:51:52 2014 +0000

    Merge pull request #1 from ageis/develop
    
    Android barcode scanning instructions

commit d234cff6758e2864408edbef7a2516b5fa1ac034
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Fri Nov 21 11:50:23 2014 -0500

    Android barcode scanning instructions

commit b0c3538fd78070d6372db0aba92417da71939464
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Fri Nov 21 10:58:45 2014 -0500

    Updated with instructions for setting up google authenticator on iOS by
    scanning a barcode.

commit dc44c76f8764c24b25cac3f94534f0439c488d2d
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Fri Nov 21 10:39:21 2014 -0500

    Updated install.md to include a step where the admin also sets up
    two-factor authentication on Android or iOS for use with the App Server.

commit 4408eded7632567f119fde305fc68325403ce666
Merge: 84076f6d 370e0153
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Fri Nov 21 09:57:35 2014 -0500

    Merge branch 'develop' of https://github.com/freedomofpress/securedrop into develop

commit 84076f6dcbac9e7625347cae367c8ac36f8be59d
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Nov 20 14:29:39 2014 -0500

    Clarify which Tails device we're talking about and use the word
    "credential" instead of "passphrase" when talking about two-factor auth
    secrets.

commit a18110900c53c6b9662e37a72cad7754992b72fe
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Nov 20 10:27:26 2014 -0500

    Remember that the Document Interface runs on port 8080, if you forget to
    add this to the URL you will not be able to connect.

commit b9f10f0668932513feedec1be252a87e92b04f5a
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Nov 20 10:10:04 2014 -0500

    Move the section that talks about creating a GPG key for the journalist
    from tails_files/README.md to docs/journalist_user_manual.md, be
    consistent with headlines in docs/journalist_user_manual.md

commit c5c5290f6253b059194424b7c583a9332056810f
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Nov 20 10:02:36 2014 -0500

    Fixed the formatting in tails_files/README.md

commit 253efc27edec86ba9c28356a4afc9ed219364b4b
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Nov 20 09:59:23 2014 -0500

    Move journalist workstation setup out of docs/install.md and into
    tails_files/README.md, closes #747.

commit 7cfb9074c8f0bfeea160616b00c6ba95a4d06355
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Nov 20 09:18:02 2014 -0500

    This update documents the accounts, passphrases and two-factor secrets
    that will be provisioned during a SecureDrop installation. Closes #759.

commit 370e0153204e3c11bead783db90c4edfa220ed73
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Thu Nov 20 09:13:39 2014 -0500

    Plural pronouns and small edit

commit f25b43cde96e047b7f6e8b3a92ed68ff1d0686e8
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Nov 20 08:43:27 2014 -0500

    Indentation should be consistent with the rest of the docs

commit 099037d1ae2874cbd66b82a4c2db7f733e7a3a61
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Nov 19 13:47:23 2014 -0500

    As discussed in #744, it is OK to TOFU the SSH fingerprints for the
    Application Server and the Monitor Server. This commit removes the TODO
    item from the guide and resolves #744, it also adds consistency to the
    ssh-copy-id and ssh examples.

commit 98f9c1aaa0fffeea1ca4acb137e9f2c1d3265571
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Nov 19 12:16:39 2014 -0500

    Fix indentation

commit b9b945c389c0f5dc6565702f7f5cc43e157d5a79
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Nov 19 11:42:49 2014 -0500

    Added instructions for downlaoding and verifying the FPF master signing
    key. I need @ageis to update this document later on with the correct
    link to the key on the FPF website.

commit cb2076345cd088d7d81869acd419d347ad4b2b4d
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Nov 19 10:42:22 2014 -0500

    Decided to clean up the section about USBs, DVDs and CDs, also updated
    the section that talks about setting up the Admin USB with links to
    instructions on the Tails website. Closes #741.

commit 7b16be765eafb8542650645fdd829ea9f4f4e995
Merge: ca86ef63 97fefe45
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Nov 18 15:31:10 2014 -0800

    Merge pull request #757 from ageis/develop
    
    Update repository domain to freedom.press

commit 97fefe45f4240d36d4d2162d7844cfa05f70ca8a
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Tue Nov 18 17:06:58 2014 -0500

    Update repository domain to freedom.press

commit ca86ef63910bed1231433a2cf6dc8ce8802f75c3
Merge: 150ae238 45949798
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Nov 18 12:10:36 2014 -0800

    Merge pull request #756 from runasand/develop
    
    Remove Authy, as discussed in #752

commit 45949798f8ccd8bf1e1efa47861d30987b7ccaf9
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Nov 18 14:45:08 2014 -0500

    Remove Authy, as discussed in #752

commit 55f01388976e7cbb943b450c2eafa384abb7070b
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Nov 17 13:34:05 2014 -0800

    securedrop-grsec metapackage version should match grsec version
    
    Previously the `Version:` of the securedrop-grsec kernel metapackage was
    tracking the SecureDrop/securedrop-app-code version. Since the
    metapackage tracks the grsecurity upgrades, and is independent of the
    version of SecureDrop, it makes sense for the version of the metapackage
    to match the grsecurity version.
    
    Updated the deb builder (which we currently only use to build
    securedrop-grsec) to get the version for the filename from the Debian
    control file. This is important, since in my testing aptly refused to
    add two packages with the same filename to the same repo (even if their
    `Version:`s were different).
    
    Also makes `build_meta` slightly more generic, to fit its name and
    intended purpose. Also changed some variable names for clarity.

commit 5e7b1e4ba90a730d3e8949eec24d78b66c82d065
Author: Garrett Robinson <garrett@freedom.press>
Date:   Mon Nov 17 13:07:25 2014 -0800

    Comment out FPF repo setup in deb builder script
    
    I did this for two reasons:
    
    1. We aren't using any packages from the repo to build the debs at the
    moment (if you think about it, that's kind of a catch-22), so commenting
    this has no impact on building debs. Also, running `apt-get update`,
    which is relativley slow, for no reason is a waste of time.
    
    2. During testing, this created a catch-22 where I wanted to build the
    debs so I could add them to the repo and publish the snapshot, but this
    deb builder script wouldn't run unless the repo already existed.
    
    We may be able to remove this code entirely, but I decided to leave it
    in for now in case it is useful for something that I didn't recognize.

commit 150ae238533371869b6725efab22deb63e3513a0
Merge: 54e005c5 d615f23c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Nov 17 12:31:47 2014 -0800

    Merge pull request #731 from runasand/develop
    
    Updated config with steps to verify and some other bits and pieces

commit 54e005c5b65adf570bef475890096cbe39af0fc2
Merge: ff2a0619 63ac0c31
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Nov 17 12:29:19 2014 -0800

    Merge pull request #754 from ageis/develop
    
    Install NTP on Monitor Server

commit d615f23ca7ef4ff165f83cbaf1d33a5a5e848bd6
Merge: a7942806 ff2a0619
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Mon Nov 17 15:16:21 2014 -0500

    Merge branch 'develop' of https://github.com/freedomofpress/securedrop into develop

commit a79428066b5380e09ed73553076eab93cab39836
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Mon Nov 17 15:12:37 2014 -0500

    Updated with suggested changes (thanks @garrettr!)

commit 63ac0c31dcf082b33bf8a77edd96df8dc552893a
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Mon Nov 17 15:02:33 2014 -0500

    Update install_ntp.yml

commit 79e7d544998697e831b24bd1f6c8731985ae6268
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Mon Nov 17 00:44:00 2014 -0500

    Install NTP on Monitor Server

commit ff2a0619732f8ddfeaad3df1c638493b780a7866
Merge: 5bd8600a a6fcad3b
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Nov 16 12:03:16 2014 -0800

    Merge pull request #740 from freedomofpress/packaging-fixes
    
    Packaging fixes

commit 5bd8600a43339f2d76f2e222736cbcb1862350ad
Merge: 7914aa22 30fd4e8a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Nov 16 12:02:51 2014 -0800

    Merge pull request #737 from freedomofpress/readme-fixes
    
    Merge install docs and update top-level README

commit 7914aa223f613ee08cea65474a8cf9135f6b50c1
Merge: 00d8553b 0beb8ec5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Nov 16 11:59:52 2014 -0800

    Merge pull request #735 from freedomofpress/reachable-addresses
    
    Remove ReachableAddresses from app and mon torrc

commit 00d8553ba3b117aaab908b29f520824426eaab76
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Fri Nov 14 21:23:20 2014 -0500

    Add ntpd to dependencies
    
    #739

commit 30fd4e8ad1083041dc27d987c7d81532651385f2
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Fri Nov 14 20:02:02 2014 -0500

    Minor corrections

commit 90dcc7837b21db4fa3bb066a06bf35efdf1097fb
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Fri Nov 14 19:10:21 2014 -0500

    Change pressfreedomfoundation.org to freedom.press

commit f5f0e8777722937ba5812bd5b5bcf7f971bd7493
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Fri Nov 14 19:08:37 2014 -0500

    Update FPF domain

commit 4dc47e3deb10f11cee057d0238e3658f34340f5c
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Fri Nov 14 19:08:17 2014 -0500

    Correct FPF domain

commit a6fcad3b41e0157d830e58fe03953cb9837f2631
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Nov 14 15:26:26 2014 -0800

    Get build_deb_packages.sh working
    
    * Update the path to the fpf-signing-key file, which was moved
      in a refactor.
    * Always create the build artifacts directory to avoid an error on first
      run

commit 1256a3189fe20c2d618e6bf8f74bdb3125040ddd
Author: Garrett Robinson <garrett@freedom.press>
Date:   Fri Nov 14 15:25:23 2014 -0800

    Build OSSEC agent deb in app-build by default
    
    I had previously asked James to disable building the OSSEC debs in
    app-build because it was slowing down my debug cycle. However, I think
    in general this is the right thing to do.

commit 65a5413be71a21f14d486b3c9660ba66a71a278f
Merge: aed63e52 78600261
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Nov 14 14:21:08 2014 -0800

    Merge pull request #730 from dolanjs/env_diagram
    
    updated network diagram

commit 486c670e2180997c76456393d1ac7e458bb2b71c
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Fri Nov 14 00:22:30 2014 -0500

    Correct FPF domain

commit 282aedbe0b842de76d55258f9256adcfb00ad62e
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Fri Nov 14 00:20:45 2014 -0500

    Correct FPF site URL

commit 5c9dfd4467f643ce6196bd4da9b7cb7fd4bbe84e
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Nov 13 09:16:06 2014 -0800

    Add TOC to install document

commit 4ee4a7f8cbd35a420652952295becbdc4f99eab0
Author: Garrett Robinson <garrett@freedom.press>
Date:   Thu Nov 13 09:12:47 2014 -0800

    Merge full_install.md into install.md
    
    Also splits the Google Authenticator instructions into a separate
    document.

commit c270f0e8cea2e98351058d97b70700a63667eb05
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 20:01:44 2014 -0800

    Try different image link on Github

commit 3763bf8985fc07c3ac1de8f22f0ddebe74151a61
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 19:26:48 2014 -0800

    Remove "before you begin" from README (should be in install docs)

commit 6af54c035aabe52f72960b56bbea7b9b126447f4
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 19:16:48 2014 -0800

    Better organization of howto sections

commit be5a2eb89037f6899ec7e4f52b86632b86809f51
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 19:08:26 2014 -0800

    Explanation and recommendations for possible choices of transfer device

commit 2ceacd0af323a59ea2a331b29adbaf7ff4604ed7
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 19:05:18 2014 -0800

    Recommend removing unneeded hardware from the SVS, and clarify

commit def1ea6a7aaf4f63e94869ae8a210222bb555ba1
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 19:04:35 2014 -0800

    Add acronym for Secure Viewing Station, grammar fixes

commit 50ebf5190a8f6c4b03e2fcb4824928a15eb5ddb6
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 19:02:18 2014 -0800

    Cleanup links and formatting for README's "how to" sections

commit 6be4cbb3bbbc9d7dd5cf11c634bce7bc4a813de8
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 19:01:35 2014 -0800

    Move contributors link below technical summary for better top to bottom flow

commit 04f791c2a5f813c3fc41498a24376ab881c78982
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 18:42:18 2014 -0800

    Fix broken link and update prereqs in install doc

commit 17df639a6de6f523172f8c8363948eae09d4ca95
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 18:38:26 2014 -0800

    Clarify and move instructions for contributors above the fold

commit f17fdcddf0c4105c2e81cc9f368c01e56dd2d690
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 18:36:47 2014 -0800

    Remove links to outdated demo instance

commit 0beb8ec5103584ea2aa2bd4a5f0475c6116e684b
Author: Garrett Robinson <garrett@freedom.press>
Date:   Wed Nov 12 13:53:57 2014 -0800

    Remove ReachableAddresses from app and mon torrc

commit 0ddef15926663575f7cad95d2fe5e0fbf4adc26a
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Nov 11 12:32:17 2014 -0500

    Remove extra whitespace

commit 22cacd114d7d60c3deae019b5b855c22816721e9
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Nov 11 12:28:26 2014 -0500

    Updated config with steps to verify and some other bits and pieces

commit 78600261eb5ac95490050fcc1c6b933fa3b048ca
Author: James <james@freedom.press>
Date:   Tue Nov 11 00:01:14 2014 -0500

    updated network diagram.
    
    Added a network/environment diagram. Protocols, dependencies and other information is displaced.

commit aed63e52e2a358480975b9dcbe792ba309e4e45d
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Nov 9 23:20:21 2014 -0800

    Ignore emacs autosave files

commit 22213620c3cd16e4af2853981a788ec0a5071171
Merge: 8571d5e5 54feaff2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Nov 9 16:23:03 2014 -0800

    Merge pull request #729 from ihmccreery/functional-test-admin-logout
    
    fix unecessary workaround in journalist logout functional tests

commit 8571d5e50f79421f0265daa040b1d1133dc0914a
Merge: 56036e24 7f13e0ea
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Nov 9 16:19:16 2014 -0800

    Merge branch 'patch-1' of https://github.com/mfauzy/securedrop into mfauzy-patch-1
    
    Conflicts:
            docs/develop.md

commit 56036e24860ff0d78c47e30f6ae7ecaa0a83bc83
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Nov 9 16:15:37 2014 -0800

    Additional advice for iTerm users who get messed up QR codes

commit 1fa7a9d65aa658118d01a12ebf0fe1acc1fce097
Merge: 90cb9d77 8117a68f
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sun Nov 9 16:09:46 2014 -0800

    Merge branch 'qr-font' of https://github.com/ihmccreery/securedrop into ihmccreery-qr-font

commit 90cb9d77df0b03a025cbe844c6949abe0c3617af
Merge: 129a8b1c 071cd48d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Nov 8 17:25:48 2014 -0800

    Merge pull request #723 from freedomofpress/feature/manage-restart
    
    Add manage.py restart command

commit 129a8b1c91fc668be303093bae8d816d7b9f5371
Merge: fb145022 3a7e77c1
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Nov 8 17:23:11 2014 -0800

    Merge pull request #720 from freedomofpress/fix/readme-hacking
    
    Add hacking instructions to README

commit 54feaff2a532bb2e4f3af3db71181384f441ee11
Author: Isaac Hollander McCreery <ihmccreery@gmail.com>
Date:   Sat Nov 8 17:18:15 2014 -0800

    fix unecessary workaround in journalist_navigation_steps.py functional tests

commit fb14502244068033994288d548c47213821802d0
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sat Nov 8 17:02:04 2014 -0800

    Update development directions to work on Debian too

commit d5c68913676585f52aaf06ec739b587e4a07f863
Author: Garrett Robinson <garrett@freedom.press>
Date:   Sat Nov 8 16:49:20 2014 -0800

    Clean up develop docs
    
    Everything up through describing the development environment should be
    good. The sections on the staging and prod environments could use more
    work.
    
    The intial setup instructions could also use testing.

commit 7f13e0ea6a915d65628397fe8951cd305c8631a3
Author: Mike H. Fauzy <mfauzy@sonatype.com>
Date:   Sat Nov 8 16:43:57 2014 -0800

    Update to correct downloads location.
    
    Note that https://downloads.vagrantup.com/  was giving an SSL error.

commit 7e95b7382d6c099f93d749ecf2ca3dfdfcb04aba
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 31 19:03:32 2014 -0400

    Test out automatic TOC with doctoc

commit 77196deb4cb894a82f2a3f2877daa7ab4a16497a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 31 18:56:43 2014 -0400

    Add instructions for adding new users using Yubikey
    
    Some organizational and formatting tweaks and typo fixes as well.

commit 8117a68f4dc8cdbc8c8cc2d6733ed385042148d5
Author: Isaac Hollander McCreery <ihmccreery@gmail.com>
Date:   Sat Nov 8 16:03:33 2014 -0800

    add message below ascii QR code to alert users to change their font if necessary; closes #632

commit 071cd48d831aab66d81e9ccb921d45d0f93cfc80
Author: Yan Zhu <yan@mit.edu>
Date:   Sat Nov 8 14:36:19 2014 -0800

    Add manage.py restart command

commit 3a7e77c13301a041ce9a5f747cda2b5b3d41b15a
Author: Yan Zhu <yan@mit.edu>
Date:   Sat Nov 8 11:49:00 2014 -0800

    Add hacking instructions to README

commit ee1b94d73befdc8fdecb527588e1c8fdb67be957
Merge: bd45c495 a0c50aff
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Nov 3 13:54:16 2014 -0500

    Merge pull request #717 from dolanjs/cron-apt
    
    Cron apt

commit a0c50affa15fc4e6effa9ee2340bd5dc4cf0d463
Author: James <james@freedom.press>
Date:   Sun Nov 2 21:37:58 2014 -0800

    re-added disabling swap with `swapoff -a`

commit 176b57c9021654884f1143a3bceba6ca11d0dea0
Author: James <james@freedom.press>
Date:   Sun Nov 2 19:33:34 2014 -0800

    removed the unattended-upgrades that were replaced by the cron-apt

commit dd9137cf1a5aeb8f6186b326f0f519b4efe42b03
Author: James <james@freedom.press>
Date:   Sun Nov 2 18:59:42 2014 -0800

    replace unattened upgrades with cron-apt.
    
    The ubuntu security repos, fpf and tor repo are listed in `/etc/apt/security.list`
    
    Every night at 4am the apt-get update for the repos listed in `security.list`
    
    If a package requires a reboot it creates the /var/run/reboot-required file.
    
    Every night at 5 am if that file exists the system will reboot.

commit bd45c4956a6e88d1941200b1d0ce9cd84533f559
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 31 19:41:25 2014 -0400

    Make sure the database is owned by the securedrop user after migration

commit 4809a249526c4f0b691fd6ab7c485cf26c48a451
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 31 19:28:27 2014 -0400

    Update migration script to handle bug due to deleting sources with changed codenames

commit 77709aac1d45e56faf333dbe826c4e616886727a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 31 18:19:11 2014 -0400

    Init db for migrate script to ease repeat runs

commit eb907a1180e3c91a8a5333f42df3f4b191543a4a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 31 15:08:32 2014 -0400

    Properly migrate sources who have no submissions stored

commit fe95885c6017fe716ac8777dc17117507804087e
Merge: 7f1d97f7 90c9d53c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 31 12:16:59 2014 -0400

    Merge pull request #715 from freedomofpress/migration-scripts
    
    Migration scripts

commit 90c9d53c51fed16f1e366c06a88427ba46c31cef
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 31 12:08:07 2014 -0400

    Add directions for migrating a SecureDrop instance using these scripts

commit 490b5b72e758eab32860c1be4d562debf1f3bd90
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 31 12:07:35 2014 -0400

    Load files from absolute paths so this can be run from anywhere

commit 1747dd26bbbe5d5d75d4bc39bc667c4e9367d9f2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 31 06:39:53 2014 -0400

    Add script to migrate 0.2.1 to 0.3

commit c77817f0fc755744d847d4e14a7cd9e097731fd2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 31 03:38:57 2014 -0400

    Add usage message to collection script

commit f70596c2e12361632cbccfc4b3213b9904942d81
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 30 16:13:06 2014 -0400

    Use absolute paths for Tor file backups for consistency

commit e21736c4efe6d35bec54afcf12f01bf55697b140
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 30 15:50:17 2014 -0400

    Separate function for collecting db, for cross-script clarity

commit 87283d82180b080c66c9835d5377b8704b9d51a5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 29 13:34:12 2014 -0400

    Fixes to the 0.2.1 collect script after testing

commit 27da974ff474c4826d5cbf73b791f5f1b7537f91
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 29 11:22:28 2014 -0400

    Script to back up essential data from a 0.2.1 instance

commit 7f1d97f75a94745e9dcd2553f650d40f231f9efd
Merge: 00aab996 3c155a41
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 30 14:31:06 2014 -0400

    Merge pull request #714 from dolanjs/fix-ossec-dependency
    
    Fix ossec dependency

commit 3c155a41f4b11829900bd93871d7e934ab43427e
Author: James <james@freedom.press>
Date:   Thu Oct 30 10:45:47 2014 -0700

    removed the mon_install_fpf_deb_pkgs.yml file. It was not included in that roles main.yml so wasn't being used.

commit f97625bc1e1295112872002091518c26456f39c9
Merge: 50215346 00aab996
Author: James <james@freedom.press>
Date:   Wed Oct 29 19:29:42 2014 -0700

    Merge remote-tracking branch 'upstream/develop' into fix-ossec-dependency

commit 50215346ba467136fea199ecdc05acbe97daa8bb
Author: James <james@freedom.press>
Date:   Wed Oct 29 13:11:01 2014 -0700

    added back ossec dependency

commit 00aab99694d524cce11130bbce04f49c013720e3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 29 15:58:19 2014 -0400

    Echo confirmation message on success of tails files install

commit c971b045e63517ceab1c26ca49a6e1ec436d92a8
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 29 15:57:52 2014 -0400

    Fix path in tails_files C wrapper

commit 8f4c932d38cff49c9fd12155c6a57e86fc8ba3d5
Merge: b8ff0221 ad7fb87c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 29 15:52:50 2014 -0400

    Merge pull request #713 from dolanjs/add-tags-to-speed-staging
    
    Add tags to speed up staging provisioning

commit ad7fb87c5118eee5a2d2f8eac6ad72a02fd58e6a
Author: James <james@freedom.press>
Date:   Wed Oct 29 07:05:26 2014 -0700

    added tags so you can skip building the ossec packages when provisioning app-build

commit b8ff0221bb7bed3fcaddb6897dbac2fb7b945f98
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 29 11:51:24 2014 -0400

    Fix bug when un-starring a source that hasn't been starred

commit 45cdcad2e5220d76961d12e5d183ecf30888333d
Merge: 835b0d9e b6f97d3f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 29 11:25:32 2014 -0400

    Merge pull request #712 from dolanjs/apparmor-2
    
    updated apparmor profile and sorted the list.

commit b6f97d3f48864253c0d0ad80db318fed655bedf5
Author: James <james@freedom.press>
Date:   Wed Oct 29 07:06:56 2014 -0700

    updated apparmor profile and sorted the list.
    
    updated the securedrop-app-code deb package's postinst to put the apparmor profiles in enforce mode

commit a00c49860840bad90d4724c74a78af997957311c
Merge: 6869e1dc 835b0d9e
Author: James <james@freedom.press>
Date:   Wed Oct 29 05:15:28 2014 -0700

    Merge remote-tracking branch 'upstream/develop' into add-tags-to-speed-staging

commit 835b0d9e17583a6793ab8932b1535648006ac8a0
Merge: 8f436e7d b52cbc37
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 29 07:24:34 2014 -0400

    Merge pull request #711 from dolanjs/apparmor-profile
    
    updated apparmor profile for current functionality

commit b52cbc37141742d76f570a4f0c7a69f539379ca6
Author: James <james@freedom.press>
Date:   Wed Oct 29 03:54:03 2014 -0700

    updated apparmor profile for current functionality

commit 6869e1dc470975921a4818fb5a9caa490de4f82d
Merge: 1155ed73 8f436e7d
Author: James <james@freedom.press>
Date:   Tue Oct 28 23:52:40 2014 -0700

    Merge remote-tracking branch 'upstream/develop' into add-tags-to-speed-staging

commit 1155ed73ccda1bd4be1ff3ce266b0296c836ebae
Author: James <james@freedom.press>
Date:   Tue Oct 28 22:52:20 2014 -0700

    Tor is required to be installed prior the securedrop-app-code deb package is installed or the apparmor profile that is part of the securedrop-app-code deb package will error our for the tor abstractions not being present

commit 35c4cd23797e1cc14a306c6304bc45bf254b18a4
Author: James <james@freedom.press>
Date:   Tue Oct 28 22:01:46 2014 -0700

    removed the distribution_release to the built in ansible codename

commit ada9128f3812fa5e0336b6ef4c45d2c2d086b7c9
Author: James <james@freedom.press>
Date:   Tue Oct 28 21:58:37 2014 -0700

    moved install fpf repo to role
    
    the fpf repo is required for the app, ossec and agent tasks when not installing those packages locally.
    
    this will allow skipping the common role when testing the app.

commit 702800620531372efbbfa681cfca380fbfda87a0
Author: James <james@freedom.press>
Date:   Tue Oct 28 21:43:25 2014 -0700

    added a app-test role to skip when updating app-armor profiles

commit c2626b025cd7bd093d3739c1e07972fb47f47536
Author: James <james@freedom.press>
Date:   Tue Oct 28 21:42:43 2014 -0700

    added a common role that can be skipped only in the staging environment.

commit e4c3c4709c271eb574b3c263af4755f3b6b8f18c
Author: James <james@freedom.press>
Date:   Tue Oct 28 21:36:16 2014 -0700

    removed the ossec agent package from the being part of the app role. The ossec agent package already gets installed as part of the ossec_agent role.

commit a36f892934fdbd442e9a2da28381563204dbefb1
Author: James <james@freedom.press>
Date:   Tue Oct 28 21:20:04 2014 -0700

    add ossec tag
    
    added an ossec tag to the ossec agent tasks.

commit 8f436e7d9092835991b0b5116964e47752b56a69
Merge: dfb65533 32c7e234
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 22:24:38 2014 -0400

    Merge pull request #710 from freedomofpress/haveged-waterline
    
    Haveged waterline

commit dfb65533f276ff9cc6454ace36a5df4924eb04b8
Merge: af5e3a6d 90632909
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 22:23:53 2014 -0400

    Merge branch 'trevortimm-admin-documentation' into develop

commit 906329094369256e46c83594c9b55dec3ab9a54c
Merge: af5e3a6d d850c886
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 22:22:31 2014 -0400

    Merge branch 'admin-documentation' of https://github.com/trevortimm/securedrop into trevortimm-admin-documentation
    
    Conflicts:
            docs/user_manual.md
    
    There was a merge conflict in user_manual.md, but since it's been split
    into two separate guides (source_user_manual.md and
    journalist_user_manual.md), I decided it would be best to simply delete it.

commit 32c7e2340b726bedf1cef049144d064185d8f05a
Merge: 9d6bfb9c af5e3a6d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 22:16:12 2014 -0400

    Merge branch 'develop' into haveged-waterline
    
    Conflicts:
            install_files/ansible-base/roles/app/tasks/main.yml

commit af5e3a6d2e38210793db95de860d74e880e8ef62
Merge: 7a6806f0 05ab91ff
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 22:15:09 2014 -0400

    Merge pull request #709 from freedomofpress/fix-download-unread
    
    Fix download unread

commit 05ab91ff838a90d6a181917e940aca6ed18a0653
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 22:10:48 2014 -0400

    Create SecureDrop TEMP_DIR for tests

commit 9d6bfb9c2bc62ac109d627f02cf38551bb342cbf
Merge: c1894114 7a6806f0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 21:54:02 2014 -0400

    Merge branch 'develop' into haveged-waterline

commit ed6c89221dfd5c4b82db2000017239e094e31cd2
Merge: 4f8fc267 7a6806f0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 21:53:30 2014 -0400

    Merge branch 'develop' into fix-download-unread

commit 7a6806f095017ea998e49f62f61e946156df574e
Merge: 70bdf8f6 b274d468
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 21:52:47 2014 -0400

    Merge pull request #708 from dolanjs/redis-fw-rules
    
    added firewall rule for the redis worker.

commit 70bdf8f653ba60bb10803f7ec8685d94927d9c08
Merge: 211fb1c2 c4d11264
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 21:52:27 2014 -0400

    Merge pull request #707 from dolanjs/move-authd-exemptions-to-handler
    
    changed task for authd fw exemptions to a handler

commit 211fb1c2c1c431c11046a38970212b11d378809f
Merge: aea88392 ed709f40
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 21:52:03 2014 -0400

    Merge pull request #706 from freedomofpress/preload-js-warning-bubble
    
    Load the JS warning bubble in the initial HTML

commit c189411459ce48be2764985ae0017706001b6efe
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 21:51:05 2014 -0400

    Adjust haveged settings to minimize occurence of "flag for reply" flow

commit 4f8fc267c8a816f7dc7510579f0b60fdb50db051
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 20:52:09 2014 -0400

    Ansible task sets up daily cron job to clean up SecureDrop temp dir

commit c294500c959f8fe24de2202202fdda1e26afaecb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 28 20:17:12 2014 -0400

    Add manage.py command to clean out SecureDrop's temp dir
    
    This command is designed to be run as part of a regular cron job to
    prevent this directory from accumulating past downloads and eventually
    exhausting disk space. This command checks to see if a file is in use by
    a process before deleting it, so it will not delete files that are in
    the process of being downloaded.
    
    Tested that this command cleans the tmp dir and does not interrupt
    ongoing downloads on staging.

commit b274d468addb360bee69afa7e667e3811a636f09
Author: James <james@freedom.press>
Date:   Mon Oct 27 16:24:26 2014 -0700

    added firewall rule for the redis worker.
    rules has to be in place before the generic drop rule of all of the securedrop users traffic.
    
    added the complain flag to rest of the apparmor profile for testing

commit 713991e21be298fb47aa19020010064fd293744a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 27 22:46:44 2014 -0400

    Save bulk downloads to SecureDrop-specific tmp dir
    
    In order to serve bulk downloads with X-Send-File, we need to save them
    in a SecureDrop-specific temp directory to avoid allowing Apache to
    serve all of a default temp directory such as `/tmp`.
    
    This commit also adds timestamps to the bulk download .zip filenames to
    make them easier to work with.
    
    Tested successfully on staging.

commit ad42bdd004f9fb68a7bc4796bf00c67ecb8a12be
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 27 22:46:10 2014 -0400

    Fix typo in ossec package name

commit c4d112648f0a3ef5eeb4b261dce70a1d345790e3
Author: James <james@freedom.press>
Date:   Mon Oct 27 16:21:16 2014 -0700

    moved the add authd firewall exemptions from a task to handler to avoid matching multiple conditions.

commit d850c8862e4c65c8c5690825b57b1e463594e9f9
Author: Trevor Timm <trevor@freedom.press>
Date:   Mon Oct 27 13:50:15 2014 -0700

    update full_install.md
    
    fixed Garrett's complaints

commit 777af3e05f714012a4572ac697a1f4a9862586a4
Author: Trevor Timm <trevor@freedom.press>
Date:   Mon Oct 27 13:46:03 2014 -0700

    updates source_user_manual
    
    Slight changes up top to delineate this is now separate from the journalist user guide

commit ed709f4056e1a2847923e666ea6ce29101739a51
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 27 15:56:30 2014 -0400

    Load the JS warning bubble in the initial HTML
    
    Loading the JS warning bubble in the initial HTML (it is hidden at first
    by the CSS) triggers the loads for the icons right away. Previously, we
    were generating the bubble's HTML in JS and then appending it to body,
    which triggered the image loads once the element added (and thus,
    visible). This caused the bubble to load without the icons at first due
    to Tor's general sluggishness.
    
    Doing it this way means the icons will probably already be loaded by the
    time the user has read the JS warning and decided to click the link,
    which provides a better experience overall.

commit aea88392d7b197219f43df0d3a26a1621eb05c0c
Merge: 9fa8daa2 568d7633
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 27 15:28:59 2014 -0400

    Merge pull request #703 from freedomofpress/dont-armor-submissions
    
    Don't ASCII-armor submissions

commit 9fa8daa27b8151b6aedeb5d7fc8bee8e3bf4968b
Merge: 481e12fe 270e49ca
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 27 15:18:01 2014 -0400

    Merge pull request #704 from dolanjs/fix-local-install
    
    Fix local install

commit 270e49ca975f37567ec064103c260be76352c8c7
Author: James <james@freedom.press>
Date:   Mon Oct 27 09:12:48 2014 -0700

    removed creating the securedrop_data dirs in the debian package per @garrettr request.
    removed the line for restarting tor since that is purely an ansible role now

commit 54de94b731a196f35fae4da1264db7f47eaa3ee6
Author: Trevor Timm <trevor@freedom.press>
Date:   Mon Oct 27 09:21:37 2014 -0700

    update readme.md
    
    added links to source and journalist manual

commit 27edd8b8859392169fc7aba56137514dbdfa2081
Author: Trevor Timm <trevor@freedom.press>
Date:   Mon Oct 27 09:19:57 2014 -0700

    update journalist manual
    
    made clear journalists need to use tails, not just tor

commit c242947f3d6c54298eef3f3fedfeaf1f36ad772e
Author: James <james@freedom.press>
Date:   Mon Oct 27 09:11:32 2014 -0700

    changed the names of the virtualized prod like VMs to app-prod and mon-prod instead of app-demo and mon-demo

commit 4ed51dc8c96067cb0cf20864954ce12668356adc
Author: James <james@freedom.press>
Date:   Mon Oct 27 08:48:52 2014 -0700

    removed the tor dependencies from the securedrop-app-code debian control file.
    
    Tor is installed and configured by ansible now. Having tor listed as a dependency in the deb package required tor to be installed when testing.

commit 568d76337696a13690ad5629ff711666a06011df
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 27 08:46:40 2014 -0700

    Modify unit tests to not expect armored GPG

commit 1e3efdfc045d74350e28ed0267cf7f65d567fbef
Author: James <james@freedom.press>
Date:   Mon Oct 27 06:53:59 2014 -0700

    have the securedrop app package create all of it needed directory structure
    
    the current ansible create app dirs tasks should be needed for development env

commit e5f7b5551a3efbc3cde70b60879562dc3cc9e8f1
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 27 05:47:36 2014 -0700

    Don't ASCII-armor encrypted submissions
    
    There is no reason to ASCII-armor submissions, and it wastes a
    significant amount of space due to the encoding. This is a major
    usability cost for journalists, especially when downloading large
    submissions over Tor.

commit 481e12fefdf9b789b58e5077c862cbbdd9748c2d
Merge: 4aa0f4f2 07d10bc3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 27 05:43:31 2014 -0700

    Merge pull request #702 from freedomofpress/fix-deb-path
    
    Fix path for building grsecurity meta-package

commit a19e87d6a3ad6aae576d7e695632dc918541adf7
Author: James <james@freedom.press>
Date:   Sun Oct 26 22:01:41 2014 -0700

    switched VM to run the their specific playbook. Running the site.yml will run all the playbooks contained in it.

commit 899ddd76b053269f820316361667724608b8ae51
Merge: b8fd8449 21bca33e
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Oct 26 19:23:01 2014 -0700

    Merge pull request #3 from dolanjs/patch-1
    
    fix spelling typo

commit b8fd84495e03fafd91b5d07e72ea7dc8afcf2055
Merge: b8c7ce96 090a1468
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Oct 26 19:22:35 2014 -0700

    Merge pull request #5 from ageis/admin-documentation
    
    Update screenshots for 0.3

commit b8c7ce961b2b4c4681c359d2849b3203b4a5caaa
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Oct 26 19:20:50 2014 -0700

    update install.md
    
    made some minor clarifications to the generating key portion

commit 7273b96eff1c251cb678261646140316f144f792
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Oct 26 19:20:16 2014 -0700

    update full_install.md
    
    made it more dumb person proof. Got up the the point of the ansible playbook. still some TODOs in there

commit 090a1468f45be8807a1a4cad0d830135637c9d8b
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Sun Oct 26 21:57:37 2014 -0400

    Update screenshots for

commit 07d10bc3c44696369b776bf076ad8c7555cd7255
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Oct 26 18:57:34 2014 -0700

    Copy built grsec metapackage to the root dir

commit d22a9132ef9f71bb1c42904751038ed8e6761143
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Oct 26 18:51:25 2014 -0700

    Fix path for building grsecurity meta-package

commit 4aa0f4f2b0f47640147ef94f70c854a393e93755
Merge: c27af8cc a0791ffc
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Oct 26 15:08:05 2014 -0700

    Merge pull request #701 from dolanjs/build-env-fix
    
    Fixes for build env VMs and playbook

commit a0791ffca3eaf12aba8fda72cc3efdef2f0dfe0d
Author: James <james@freedom.press>
Date:   Sun Oct 26 14:56:21 2014 -0700

    Fixes for build env VMs and playbook
    
    changed the build deb pkgs playbook to use the development-specific.yml var file instead of staging.
    
    updated the virtualbox names of the /build$/ VMs.
    
    *** Changes to Vagrantfile warning ***
    You will want run `vagrant destroy /build$/ -f` prior to merging this change or will get vagrant errors later.

commit c27af8cc22dabdb07481cc241f631b841de51911
Merge: a0c683bd d00fa501
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Oct 26 14:28:45 2014 -0700

    Merge pull request #700 from dolanjs/grsec-meta-package
    
    Grsec meta package

commit d00fa501d759c797933e96cdf1dcd47120c5cf9e
Author: James <james@freedom.press>
Date:   Sun Oct 26 14:00:49 2014 -0700

    updated email address per @garrettr's note.
    
    updated script with correct build dir.
    
    Going to put the package in the repo and test before we should merge this pr.

commit 7657d18d6cf9d7a7abd7eb1f736aef90c09fd0ef
Author: James <james@freedom.press>
Date:   Sun Oct 26 13:37:23 2014 -0700

    Update the grsec package in ansible vars
    
    This changes the package that ansible installs from the the grsec patched kernel to the securedrop-meta package.
    
    The package name needs to match the package line in the grsec meta package DEBIAN/control file`Package: securedrop-grsec`

commit 42ebb6c0e7218296ed8b73c76bc0a2b524663fa0
Author: Trevor Timm <trevor@freedom.press>
Date:   Sun Oct 26 13:39:58 2014 -0700

    Updated ubuntu.config.md for dummies
    
    This was already in good shape, but made it a little clearer for know-nothings like myself. Probably could use a quick read through for typos, etc.

commit 17376bf0c7c5a8fcf8a62c7b8ea4d6d7c11e2a4e
Merge: 29ed7657 a0c683bd
Author: James <james@freedom.press>
Date:   Sun Oct 26 13:33:36 2014 -0700

    Merge remote-tracking branch 'upstream/develop' into grsec-meta-package

commit 29ed7657ca718d49a540f677542434603a3a6e4d
Author: James <james@freedom.press>
Date:   Sat Oct 25 20:21:01 2014 -0700

    Added a control file required to build the securedrop-grsec meta package.
    
    removed the ossec and securedrop app portions from the build script since they are different now.
    
    ```
    vagrant up mon-build --no-provision
    sudo su
    cd /vagrant/
    ./build_deb_packages.sh
    ```
    
    dpkg does not resolve dependencies so testing is a 3 part process:
    
    ```
    dpkg -i /tmp/build/securedrop-grsec-0.3-amd64.deb
    apt-get -fy install
    dpkg -i /tmp/build/securedrop-grsec-0.3-amd64.deb
    ```
    
    There are other tools that you can install and use that do handle package dependencies for local deb packages.

commit a0c683bd3be44e92e6a6239c7bebaec7de0a810a
Merge: 47316c11 e56cab27
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Oct 26 12:54:41 2014 -0700

    Merge pull request #699 from dolanjs/build-vm
    
    Temp solution for testing local deb packages

commit 47316c118ae14b9ff52dd43f781943ab62edfcd7
Merge: b71e58f5 9e97f7a6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Oct 26 12:54:28 2014 -0700

    Merge pull request #697 from dolanjs/boot_into_grsec_first
    
    Boot into grsec first

commit b71e58f53a4a612adda3031540d007891c97b308
Merge: 2eceeb2f 990bbd4c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Oct 26 12:54:11 2014 -0700

    Merge pull request #691 from runasand/develop
    
    Get and verify the latest tag, import the key for another Ubuntu dev

commit e56cab27936460720b1c7bfbbbe13eef004445f7
Author: James <james@freedom.press>
Date:   Sun Oct 26 10:01:09 2014 -0700

    gave the two build vm separate names to avoid issues with name conflicts.

commit 4759b44a4ed0b1ff09af62e416ecf0af0f92262e
Author: James <james@freedom.press>
Date:   Sun Oct 26 09:53:58 2014 -0700

    removed installing the built deb packages for in the build-* roles

commit 3cc88e4e50aaad32e72d7ccfc3fba104f6013e73
Author: James <james@freedom.press>
Date:   Sun Oct 26 09:38:52 2014 -0700

    added two vm's to Vagrantfile, mon-build that builds the ossec server deb package
    and app-build that builds the ossec agent and the seuredrop-app-code deb packages

commit 21bca33e11f527d0bc44c92f4bbe784657bdfbb1
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Sat Oct 25 22:19:08 2014 -0700

    fix spelling typo
    
    Think this was suppose to YubiKey https://www.yubico.com/

commit 9e97f7a60ad3ec34161c2c2931b5240deab54872
Author: James <james@freedom.press>
Date:   Sat Oct 25 21:22:35 2014 -0700

    spelling and wording for tasks name.
    This change does not affect running any playbooks

commit 6728b1a0d29c61374a75c07645be0631dd3dcb0f
Author: James <james@freedom.press>
Date:   Sat Oct 25 21:04:01 2014 -0700

    removed un needed meta flush handlers to ensure it doesn't cause an issue in the future.

commit 96aae3931c2461384954bca671db11830eab6004
Author: James <james@freedom.press>
Date:   Sat Oct 25 20:45:26 2014 -0700

    renamed from - to _ to keep it consistent with the rest of the roles

commit d4fc59a7be013220fad046ca8b624c2fa8f73374
Author: James <james@freedom.press>
Date:   Sat Oct 25 20:04:00 2014 -0700

    added a tag to the validate role, and added skipping that tag for the demo instances for the demo instances. This is needed since the validate role will error out if the user is vagrant. This tag does not affect production installs and admin should modify the anisble command listed in the full_instructions.

commit 4a5e878a770b0f2f883eee63b1c51cadb3332c75
Author: James <james@freedom.press>
Date:   Sat Oct 25 20:02:18 2014 -0700

    removed ssh notify that could cause users to be locked out in staging environment. This does not affect the production install. For production install the iptables rules and ssh config are not applied until the server reboots at the end of the playbook.

commit 5a398fe4672d6fb6677d6add5714b29a51ac392a
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sat Oct 25 19:15:50 2014 -0700

    Updated source manual with v0.3 screenshots

commit 2eceeb2f59a8571e38903ba545ffd17f9d23f064
Merge: a568d1b6 ebc42f04
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 18:45:43 2014 -0700

    Merge pull request #698 from freedomofpress/fix/unittests
    
    Fix manage.py test_unit to use worker

commit ebc42f04337fbf678ed221c581580ac4682f263a
Author: Yan Zhu <yan@mit.edu>
Date:   Sat Oct 25 18:30:36 2014 -0700

    Fix manage.py test_unit to use worker

commit ef6b5f9ddaaf2366b176b4ab0691459fcf67303e
Author: James <james@freedom.press>
Date:   Sat Oct 25 18:11:59 2014 -0700

    removed trace of merge conflict for ubuntu_grsec doc

commit 364688893dae3a2c679615e41c4572b944e31ea4
Author: James <james@freedom.press>
Date:   Sat Oct 25 18:08:47 2014 -0700

    removed the authd tag from the travis script since it does not exist in the securedrop-travis.yml playbook.

commit 505b39ce980a74b9ac304e275250b2fa982d2eba
Author: James <james@freedom.press>
Date:   Sat Oct 25 17:55:45 2014 -0700

    removed old unused 'authd' tag from development vm

commit aac642a873aee0c845ca5368fad83d0683efc659
Merge: ba97b63a dd3eb2ea
Author: thisisparker <parkerhiggins@gmail.com>
Date:   Sat Oct 25 17:47:19 2014 -0700

    Merge pull request #1 from trevortimm/admin-documentation-p
    
    Separated out journalist manual

commit a568d1b68f6011c926b43ed5d2c3d7150d0400b2
Merge: e2a02480 c65bcae5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 17:45:27 2014 -0700

    Merge branch 'develop' into code-cleanup

commit 00e9bf16ed5a52e2f5ff3798cbeca1b46929a881
Merge: a78f44ad c65bcae5
Author: James <james@freedom.press>
Date:   Sat Oct 25 17:41:11 2014 -0700

    Merge remote-tracking branch 'upstream/develop' into boot_into_grsec_first

commit dd3eb2ea155a71c9ab6fc4d233f48d73d7007387
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sat Oct 25 17:40:48 2014 -0700

    Separated out journalist manual

commit a78f44ad188b2b3b51e442fb1a39413a7da28b9e
Author: James <james@freedom.press>
Date:   Sat Oct 25 17:36:59 2014 -0700

    fixes from demo testing. removed notify handler to reload iptables cause it causes the playbook to hang even with ignore errors.
    
    added a reboot role that only runs for demo and prod servers this will ensure that the iptables rules are loaded on reboot. Once the prod servers reboot they will only be available over tor.

commit 46139e636cdef4548353ced9df88a0bff6fe1cfc
Author: James <james@freedom.press>
Date:   Sat Oct 25 17:07:49 2014 -0700

    fixed spacing

commit 21db8ceb74c8edb463ee749908fd197861f99e89
Author: James <james@freedom.press>
Date:   Sat Oct 25 16:59:13 2014 -0700

    changed to default to skip installing local packages for the staging environment. This will force the staging hosts to install the fpf packages from the fpf repo.
    If you disable this option in the Vagrantfile it will look for the fpf_packages defined in install_files/ansible-base/host_vars/ for that respective host.

commit b0926a6473903d37be4d4b8cbad8048e8247e60e
Author: James <james@freedom.press>
Date:   Sat Oct 25 16:48:30 2014 -0700

    changed the name of the reloading iptables handlers to ensure the correct one was being called for the environment.
    
    set the restrict direct access handlers to fire and forget to avoid issue with the ssh connection being broken when the rules are applied and a race condition to detect success.

commit 6cb0dc394a3d05c7ef15560ad45fb631f545458f
Author: James <james@freedom.press>
Date:   Sat Oct 25 16:31:48 2014 -0700

    removed check to apply grsec lock. In the current order of events it should be there prior to this stage and we would want it to error if it was not setting the lock

commit c65bcae56a7b0dbce0077c75d1b3c09231f9ce3c
Merge: 67556c1d fb4b2ca4
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 16:15:42 2014 -0700

    Merge pull request #695 from freedomofpress/display-max-submission-size
    
    Add note about maximum submission size to source interface

commit 67556c1d58d96489bc6c6497a1cf81680a002bb1
Merge: 2299ec9a 6a05ceee
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 16:14:10 2014 -0700

    Merge pull request #693 from freedomofpress/sort-replies-by-date
    
    Sort replies by date

commit 2299ec9a5f25daa191316e1c28acdcedf53b4d51
Merge: ea67184e 0bbd7f20
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 16:13:50 2014 -0700

    Merge pull request #692 from freedomofpress/normalize-on-gpg
    
    Normalize on gpg

commit ea67184ec55bb73d3d8343eec580f6b1b3172feb
Merge: 4376d912 ba97b63a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 16:09:14 2014 -0700

    Merge pull request #694 from trevortimm/admin-documentation
    
    Add admin documentation, still needs screenshots, which I will add soon

commit ba97b63af3831291da08272f2267c8be778586bd
Author: Trevor Timm <trevor@freedom.press>
Date:   Sat Oct 25 16:06:45 2014 -0700

    Add admin documentation and screenshots for adding users

commit fb4b2ca4bacaa5d77a2af3b75e0162a2178fa985
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 15:59:02 2014 -0700

    Add note about maximum submission size to source interface

commit 8e898bd7de53831e8252b6787d1fd5a350c32e25
Author: James <james@freedom.press>
Date:   Sat Oct 25 15:39:21 2014 -0700

    added back handlers to ossec_server

commit c8e82872f3ac448b56be9808a5f5623227b8226d
Author: James <james@freedom.press>
Date:   Sat Oct 25 15:35:35 2014 -0700

    moved fetching the tor hostname files until the end of the playbook to give the server a chance to create all the certs first that take awhile to do.
    
    added missing handler for tor

commit 6a05ceeebcf8e664795727fcc922d3ba8c8bd78f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 15:22:04 2014 -0700

    Remove some trailing whitespace

commit 45ca7a3cc0c6872119eaa53b6fc7b944f33bf60f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 15:21:50 2014 -0700

    Sort replies in source interface by date sent

commit d88bc21d00903c44605cea2c5b0c6576ce90a197
Author: James <james@freedom.press>
Date:   Sat Oct 25 14:55:31 2014 -0700

    split the restrict_direct_access roles to specific restrict_direct_access_mon and restrict_direct_access_app till the ssh and iptables tasks can be rewritten then they can be combined back to restrict_direcct_access
    
    moved the iptables task to the from mon/app roles to restrict_direct_access roles.

commit 0bbd7f20453c53a801d97f7b9a4f43df30829bf0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 15:00:33 2014 -0700

    Look and feel improvements for admin and logout links

commit 7ac84c24c2dc6995a0b4f4a340ba44e333fddc55
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 14:46:26 2014 -0700

    Use GPG consistently

commit 42e5f72ebebf0cd448f5e3de6990f0d4ec0f1b94
Author: James <james@freedom.press>
Date:   Sat Oct 25 14:08:38 2014 -0700

    added missing handler
    added missing tasks
    had to move the set /etc/hosts tasks to the common-mon/common-app till it is rewritten
    commented out the iptables task for now while testing.
    removed old role names from prod playbook.
    had to move the set_etc_hosts_for_prod_env to the common-mon/common-app role till it is rewritten

commit 4376d912d80bf6f2e2a7d3eb562d149818b64ce7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 14:38:15 2014 -0700

    Re-add mysteriously missing @property for shared_secret_qrcode

commit 360e468bb279d870057eb3e348227220db2ebc66
Author: James <james@freedom.press>
Date:   Sat Oct 25 14:07:44 2014 -0700

    moved the agent auth and ossec-agent tasks to its own role. Just like the ossec-server role these tasks will check if iptables is present first and only add them if needed

commit f6bdcbd5ae76144813ad1f752570dc505e245370
Author: James <james@freedom.press>
Date:   Sat Oct 25 13:51:31 2014 -0700

    renamed the remaining mon role ossec server.
    Since iptables wont be created when authd is first run but the firewall exemption may be needed on future runs added a check to see if the rules_v4 file exists and the agent is added yet before adding the exemptions

commit 16bcff22243cd1e60f200ba03c4f1accfdad6218
Author: James <james@freedom.press>
Date:   Sat Oct 25 13:42:00 2014 -0700

    in the staging playbook had to move the install_local_pkgs role to host specific section.

commit 07ec61799bc8e5ad5e44d335e0a975665bf0a02e
Author: James <james@freedom.press>
Date:   Sat Oct 25 13:38:41 2014 -0700

    mv the tor roles from app to common-app. Once these tasks are re-written they can moved to the common role

commit 225bba28638343fdba68208830c006ca9dacdaf7
Author: James <james@freedom.press>
Date:   Sat Oct 25 13:28:45 2014 -0700

    moved the tor tasks from the mon role to a common-mon role. Once the tor tasks are re-written the common-mon role can be merged into the common role

commit 1ea8543d961d8f7237feb5855e1f8e1880a4f92f
Author: James <james@freedom.press>
Date:   Sat Oct 25 13:17:56 2014 -0700

    created restrict_direct_acces role and moved the ssh tasks to that role.

commit ac090b43027553664a71cf0b5c202fde8a22c7ea
Author: James <james@freedom.press>
Date:   Sat Oct 25 12:25:49 2014 -0700

    added the handler for iptables that was missing from app and mon roles

commit a18a555eddc0a0624bbf99dbaa3a8fd0ce6368d7
Merge: d382fcc9 22f5a0fe
Author: James <james@freedom.press>
Date:   Sat Oct 25 11:53:33 2014 -0700

    Merge remote-tracking branch 'upstream/develop' into boot_into_grsec_first
    
    Conflicts:
            docs/ubuntu_grsec.md

commit 990bbd4cefc275d84e93ba477914b883753f9e92
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Sat Oct 25 14:52:13 2014 -0400

    Updated with minor fixes (thanks, @garrettr!)

commit 6643c11848dd3e3deceb01f6fc3ebf45c87c5e2c
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Sat Oct 25 14:30:44 2014 -0400

    Get and verify the latest tag, import the key for another Ubuntu dev

commit 22f5a0fe0d1dfd85577090e45e773785da079421
Merge: d39d6bf8 8eb8b9b3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 25 08:25:47 2014 -0700

    Merge pull request #680 from dolanjs/authd-tasks
    
    Authd tasks

commit d382fcc9e77a10b77fa7c0b210ad09854e4e1e32
Author: James <james@freedom.press>
Date:   Sat Oct 25 06:20:45 2014 -0700

    updated develop doc

commit 95c567f63bbfdb994e21953decbc8d6de7b41145
Author: James <james@freedom.press>
Date:   Sat Oct 25 05:45:50 2014 -0700

    changed the way the vagrant file was setup to allow for ansible parallelism.
    
    also changed the name of the vagrant app and mon vm so app-demo and mon-demo. Doing this you can no also vagrant up /demo$/
    
    I didn't want to say production and get people confused.

commit c7f8865625ae86cefece814665ea1d83b1406ffb
Author: James <james@freedom.press>
Date:   Sat Oct 25 05:43:37 2014 -0700

    instead of the pip module trying to read a file on the local system's shared mount point (/vagrant) use the file packaged with deb package.
    
    also removed task to install the dependencies that the deb package installs.

commit 17701b102041e9a003dc6439c2a00062e60f954b
Author: James <james@freedom.press>
Date:   Sat Oct 25 05:31:50 2014 -0700

    removed refs to the build-securedrop-app-code and securedrop-ossec roles since we are migrating to pbuilder and those roles will not be the real process.
    
    added a role to install local packages the variable to set what packages should be installed in this host_vars section

commit 1e26a71d7826791a07235c99dc8e46caf77821ad
Author: James <james@freedom.press>
Date:   Sat Oct 25 04:54:43 2014 -0700

    split the remove ossec exemptions into two roles so that could control the order that the ossec agent server were restarted.

commit 12a0f1d0e7d1ad2a3d64572abd74f441a63fd214
Author: James <james@freedom.press>
Date:   Sat Oct 25 04:34:17 2014 -0700

    moved the grsec lock and unattended upgrades tasks to the common role. This will cause the server to reboot if needed before applying any other hardening (ssh/iptables) that would affect being able to access the server

commit 0d67df5ee2ae56f2ae8940ce12bad85424539277
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 23 21:30:17 2014 -0700

    Harden setuid binary for Tails torrc helper

commit e26f179ec192590e86357b7c5fafb0033ce4b31f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 23 14:32:51 2014 -0700

    Tip for speeding up dd on Mac OS X

commit b6f629cb6ba690b0c07c1630ced13b5fe35ad0a8
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 23 13:56:18 2014 -0700

    Update grsec kernel build docs to latest built kernel
    
    * Updates the docs for Ubuntu Trusty (14.04.1) because we switched to it for SecureDrop 0.3
    * Updates versions of grsecurity patch and linux kernel to the versions used in the most recent successful build of the grsecurity kernel
    * Fixes some formatting and trailing whitespace issues

commit 23b841367fe3a30b3df53f6b988bb3fafa1d4960
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 23 13:32:56 2014 -0700

    Split and merge full_install.md into separate, related docs
    
    Also updates instructions, formatting, and cleans up whitespace.

commit 1830f471bf2ad714af71a7e22894fddd9df01597
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 14:42:06 2014 -0400

    Nitpick on javascript warning

commit 90ee0f577eb759ad8f36aef28a55e923c4661581
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 14:16:57 2014 -0400

    Journalists need username, password, 2fa to log in

commit 127385f2a71c7c3f44860a9db675c7921fdb8ba8
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 14:13:45 2014 -0400

    The JavaScript warning really is a popup, not a separate page

commit 688ba05971bfc533c472680cc78fb281a09db808
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 14:08:00 2014 -0400

    Updated with changes from @garrettr

commit a9210ccc6cf400e3eef3d388a31cc7c78e329aca
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 13:57:36 2014 -0400

    Updated user manual for 0.3 (todo: screenshots)

commit a39ccc3098d6f2e64aeac262d4f2aa1d1b555ce6
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Thu Oct 23 05:49:24 2014 -0400

    Add Google Authenticator instructions for Android

commit 6d47c23ef51d9bcac95d4efba0001df1c1342a2f
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 10:45:04 2014 -0400

    Include changes suggested by @ageis

commit d39d6bf8d87c73b1392353e040d03a32e59dcd91
Merge: f7a65f15 681c514e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 24 14:23:46 2014 -0700

    Merge pull request #689 from runasand/develop
    
    Verify the Ubuntu git repo (solves #5)

commit 681c514ec79c58b8bad2bfd2b3af28ee8bbaa932
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Fri Oct 24 15:52:50 2014 -0400

    Verify the Ubuntu git repo (solves #5)

commit 0b513c655c9408c7c59c5739377657bfe8739910
Author: James <james@freedom.press>
Date:   Fri Oct 24 12:31:04 2014 -0700

    updated ansible command in playbook

commit 86994f0e534caa0b9db6904d4ca2ef12e3728765
Author: James <james@freedom.press>
Date:   Fri Oct 24 12:08:17 2014 -0700

    for use with vagrant will need to disable host_key_checking. Production ansible.cfg is in install_files/ansible-base/ansible.cfg and does not disable this option

commit 76e705164b00175f662becfc3b27479615c9ac72
Author: James <james@freedom.press>
Date:   Thu Oct 23 23:28:05 2014 -0700

    Will split this up prior to submitting pr.
    But moved the tasks to install the fpf/tor repos and run apt-get update are still in the common role.
    The grsec kernel gets installed as part of the common role but it is not used until the server reboots.
    The servers are not set to reboot if needed until the last role run ubdate_boot_grsec.
    This role checks to see if the grsec sysctl lock is available if not it will reboot
    After the reboot if the grsec sysctl lock is not set it will set it.
    
    Still having an issue with the server somtimes not coming back up. I copied the production ansible.cfg to see if that would improve anything.
    I added aptitude as a dependency to use the built in ansible module to update the system instead of having unattended-upgrades via an ansible command module peform the action. Not sure if my issue were due to this.
    
    ansible_ssh_host is how the host checks to see if the server is up.
    ansible_ssh_host is the same variable we have in the example production inventory file. It is also the same variable used by vagrant.

commit f7a65f15c6cfadf3fd9d419f42c4aa71a1162fa5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 23 21:30:17 2014 -0700

    Harden setuid binary for Tails torrc helper

commit ed3a675191888b3c8bad49b6051cbc89ba21d0e6
Author: James <james@freedom.press>
Date:   Thu Oct 23 05:19:17 2014 -0700

    fixed hostnames in the securedrop-prod playbook

commit e75f97757a6c21fab04ce16018c94876e8640fa9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 23 14:32:51 2014 -0700

    Tip for speeding up dd on Mac OS X

commit 21d47adb98679c94e266c7db049370bb3a0f5579
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 23 13:56:18 2014 -0700

    Update grsec kernel build docs to latest built kernel
    
    * Updates the docs for Ubuntu Trusty (14.04.1) because we switched to it for SecureDrop 0.3
    * Updates versions of grsecurity patch and linux kernel to the versions used in the most recent successful build of the grsecurity kernel
    * Fixes some formatting and trailing whitespace issues

commit 3ee6cead583c1238ba0f4a08beb3818e4ac76616
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 23 13:32:56 2014 -0700

    Split and merge full_install.md into separate, related docs
    
    Also updates instructions, formatting, and cleans up whitespace.

commit aa4527b1b870234d8bd160d7feb4366373da4f6b
Merge: 7aac025d 8af4c0a7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 23 12:29:26 2014 -0700

    Merge pull request #687 from runasand/develop
    
    Updated user manual for 0.3 (todo: screenshots)

commit 8eb8b9b341f0ba815dc847bc538d82e644ad2647
Author: James <james@freedom.press>
Date:   Thu Oct 23 12:08:42 2014 -0700

    per @garrett's note left uncommented the validate role

commit 8af4c0a7086d0ba55a2990163f3a171a5ad988e7
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 14:42:06 2014 -0400

    Nitpick on javascript warning

commit 043263b74d1754716b4179a06336d51366122049
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 14:16:57 2014 -0400

    Journalists need username, password, 2fa to log in

commit 22a9d1abaf27b4b4a671e1c84f2eaff58b30ca2d
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 14:13:45 2014 -0400

    The JavaScript warning really is a popup, not a separate page

commit 71ed029b4f5ba1cba42d12a9bcd54381663f45c5
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 14:08:00 2014 -0400

    Updated with changes from @garrettr

commit 92e4740acb24d73632bf9611029a254dcaa690b4
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 13:57:36 2014 -0400

    Updated user manual for 0.3 (todo: screenshots)

commit 7aac025d85dd3ea6071fe04819cb50d911831236
Merge: 43501918 ebfdd65d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 23 09:18:40 2014 -0700

    Merge pull request #681 from runasand/develop
    
    Include changes suggested by @ageis

commit ebfdd65d56bc5f39e3d0e51f15156199379a92e4
Merge: 5bc3b36a 43501918
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 11:53:41 2014 -0400

    Merge branch 'develop' of https://github.com/freedomofpress/securedrop into develop

commit 4350191844ae91a244c6dd220f00fc23f808b8b4
Merge: 6dfb676b 37e351e3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 23 08:46:11 2014 -0700

    Merge pull request #679 from ageis/develop
    
    Add Google Authenticator instructions for Android

commit 5bc3b36a9aae0d9d0726dcb93acee9eb71a643a0
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 23 10:45:04 2014 -0400

    Include changes suggested by @ageis

commit 9df6d63bccb8f6b2592033e91078d200ccb141f4
Author: James <james@freedom.press>
Date:   Thu Oct 23 05:19:17 2014 -0700

    fixed hostnames in the securedrop-prod playbook

commit e2dfe94b244f60cdfb4db29691b834f53fe1bcfa
Author: James <james@freedom.press>
Date:   Thu Oct 23 05:13:16 2014 -0700

    moved the grsec lock sysctl task to a separate role.
    added tasks to check if the grsec lock option was available and if not boot into grsec kernel.
    this role can be skipped by adding the 'restart' or 'grsec' tag.

commit ba0a3a156b292c343d97ea9be4630800a3b658af
Author: James <james@freedom.press>
Date:   Thu Oct 23 03:59:05 2014 -0700

    added the authd ansible skip tags to development and travis environments

commit fc7babaa8aef8ed32cdef8c8e62099080ba8b6ce
Author: James <james@freedom.press>
Date:   Thu Oct 23 03:49:01 2014 -0700

    updated the master site.yml playbook to reflect changes in the staging and prod playbooks.
    updated the develop doc to reflect ansible-playbook command to use with vagrant to provision both servers at the same time

commit 78b16c62603bd5c649715db57cf25b5d7873d98f
Author: James <james@freedom.press>
Date:   Thu Oct 23 03:48:04 2014 -0700

    combined the prod app and mon playbooks the same way as the staging playbooks in the commit before

commit 0b8fa84f93a1c847a6ffda7e8e6cb78f9ee4b89d
Author: James <james@freedom.press>
Date:   Thu Oct 23 03:46:21 2014 -0700

    In the Vagrantfile have the app-staging and mon-staging vm skip running authd. This will ensure the playbook doesn't get hung if just one server is brought up.

commit 4f51b808646d3ae682975184118ebcefd1a9909e
Author: James <james@freedom.press>
Date:   Thu Oct 23 03:41:56 2014 -0700

    combined the securedrop-app-staging.yml and securedrop-mon-staging.yml into securedrop-staging.yml
    
    Organized calling the hosts and what roles to automate adding the ossec agents.
    Order of events:
    Monitor server is provisioned
    Monitor server starts authd
    App server is provisioned
    App server starts agent_auth
    App server removes ossec authd firwall exemptions
    App server's ossec agent is restarted
    Monitor server removes ossec authd firewall exemptions
    Monitor server's ossec server is restarted

commit c17f57c7668c9d47848fa192a1759cae37efe033
Author: James <james@freedom.press>
Date:   Thu Oct 23 03:39:08 2014 -0700

    after the OSSEC agent connects to the OSSEC server these tasks will ensure that the firewall rule exemptions and that authd is disabled.

commit 5bfc6c6bddb169d80e3ea8eb23fbc96a7c9b1514
Author: James <james@freedom.press>
Date:   Thu Oct 23 03:37:53 2014 -0700

    agent_auth is the agent side of the OSSEC process for automaticaly added an ossec agent to an ossec server.
    will need to add other tasks to remove the firewall exemptions

commit 52cfe6a98dc7e8da6834b6606c2aa8ab3f46a369
Author: James <james@freedom.press>
Date:   Thu Oct 23 03:34:39 2014 -0700

    authd is the server side process for OSSEC way of automating adding the agent to the server. Authd is configured to listen for *unauthenticated* connections from the app servers IP and then without verification exchange the agent's cleint.key
    will all different task to ensure that authd is not running after the agent connects.

commit f0c2de5a36d82690183f22c64803a8ea0aae66c0
Author: James <james@freedom.press>
Date:   Thu Oct 23 03:30:04 2014 -0700

    Disabled ssh host key file checking for development/staging ansible.cfg file. Production uses a different file. Disabling the check makes it easier to use the ansible-playbook command outside of vagrant which sets this by default.

commit 37e351e3bb5c9301d052db138a567d0b1dc9b87d
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Thu Oct 23 05:49:24 2014 -0400

    Add Google Authenticator instructions for Android

commit 6dfb676bf0abad70bb6ca59a813c79d982c16fa2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 19:39:29 2014 -0700

    Fix bug in validate role

commit 5775dcf33e565e3d68510dafdfef43883d9c21a9
Merge: d16cd13b 12a21918
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 20:09:13 2014 -0700

    Merge pull request #678 from dolanjs/reduce-spam-add-ossec-ignores
    
    reduce ossec spam

commit d16cd13bbe1432e2034afd4d57f49f7354196ce5
Merge: 20b6c0ec a8a4979e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 20:08:03 2014 -0700

    Merge pull request #677 from dolanjs/iptables_dns_denies
    
    iptables rule fixes for prod mon server

commit 20b6c0ec21270dca9db8f023ec394a9e41e45c76
Merge: e4d3f954 fea3c290
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 18:43:19 2014 -0700

    Merge pull request #676 from freedomofpress/default-codename-length
    
    Change default codename length to 7 words

commit e4d3f9540867efa64c5e2ae95105a54d83b9f551
Merge: e5cb08b1 f76aab30
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 18:42:23 2014 -0700

    Merge pull request #675 from freedomofpress/consolidate-pip-requirements
    
    Split pip requirements files into securedrop and test requirements

commit e5cb08b1c0d3e39d4a510094ae86fb2c6c11a3ba
Merge: 5aa5c96d 847daf49
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 18:42:06 2014 -0700

    Merge pull request #674 from dolanjs/doc_ip_info
    
    network firewall IP info update

commit 12a219189c982dbf2ccef89265bbec8560309f64
Author: James <james@freedom.press>
Date:   Wed Oct 22 18:31:55 2014 -0700

    add ignore statements to ossec server and agent configs.
    ignore /etc/blkid.tab and /etc/apparmor.d/cache/.features

commit a8a4979e42c94b8308823fa03ebff752980dcea3
Author: James <james@freedom.press>
Date:   Wed Oct 22 17:09:58 2014 -0700

    added dns specific rules for postfix on the monitor server
    added the uid to output rules for sending smtp
    changed the hard coded port in the mon iptables rules to use the smtp_port variable instead
    added IP addresses the the app and mon vm in the vagrant file
    moved defining the dns IP to the environment specific yml files and removed it from the global variable yml file

commit fea3c290d90b2607f223c02c084d3043432fa299
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 17:00:25 2014 -0700

    Update unit test for new codename default length

commit d819ed131a8605383016e9ed355772414d5000c6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 20 08:57:51 2014 -0700

    Change default codename length to 7 words

commit e2a024808de9564ca2363971050dca506a482c38
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 16:45:29 2014 -0700

    No longer need these scripts due to Ansible

commit 729d72ff0be3ed8916339ddbca76b9dbea2d39a1
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 16:40:02 2014 -0700

    dev_files is no longer used

commit 7c39fce0ed48647edd420297014eb9fa81f402fd
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 16:34:50 2014 -0700

    Removing setup_dev.sh because it has been replaced by Ansible

commit f76aab3079f25138f3125a57802ca918d03fb72f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 16:10:55 2014 -0700

    Split pip requirements files into securedrop and test requirements
    
    This is the most logical split for the pip requirements. Every
    environment needs the securedrop-requirements.txt, but only environments
    that need to run the tests locally (development and staging) need
    test-requirements.txt.
    
    Tested by running `vagrant up development && vagrant up /staging$/`.

commit 847daf4935838c6495ec1fc7422f5f7489b32ce4
Author: James <james@freedom.press>
Date:   Wed Oct 22 13:20:30 2014 -0700

    updated full install doc and corresponding inventory file with the IP info needed for a production install with a network firewall. With the network firewall the app server and monitor servers are on separate network segments.

commit 5aa5c96d62b79554eb549d2da0844023026610a8
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 13:12:02 2014 -0700

    Fix formatting of singular vs. plural seconds

commit 72b93157d13a6693ed6fca3bd62d85e5d66224bc
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 13:11:43 2014 -0700

    Filesystem timestamps should be UTC, regardless of system timezone

commit 497c89b5d52f3798ec67facece04e8fcf325ca6e
Merge: 84831dcd 32b74939
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Wed Oct 22 12:43:58 2014 -0700

    Merge pull request #673 from dolanjs/merge-max-rspec
    
    Update Max's rspec tests for current environment. Successfully passed the
    
    ```
    ~/git/securedrop/spec-tests$ rspec spec
    ...............................................................................
    Finished in 8.03 seconds
    79 examples, 0 failures
    ```
    ```
    spec-tests/spec/localhost/
     apache_spec.rb
     securedrop_app_spec.rb
     tor_spec.rb
    ```
    
    Will need to create new roles and move the respective tests to their roles. That way the tests will be split up for the monitor server compared to the app server.

commit 84831dcd6247165a98cf044bd217abac0d2d632e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 12:42:13 2014 -0700

    Update apt before installing packages in development

commit 4672fbfff651097058f57f274182c4daa8214cb7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 11:45:53 2014 -0700

    Add log file for iptables to cheat sheet

commit 00db2bce0464c7f722b84990e4743927d9a627a8
Merge: 48665e02 dd73b337
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 11:38:09 2014 -0700

    Merge pull request #672 from dolanjs/resolve-travis-config-py
    
    remove temp travis fix for config.py

commit 48665e02f8ae6283860503a0e2ae0e89c0c8f9d0
Merge: cdaaf553 0e63ea67
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 11:33:10 2014 -0700

    Merge pull request #671 from dolanjs/custom-header-image
    
    fix custom header image

commit cdaaf553b3931c345c75d97eec48a46b792bb67f
Merge: 0fc507ce 8faf67e7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 22 11:28:08 2014 -0700

    Merge pull request #670 from runasand/develop
    
    Add instructions for yubikey setup on Tails

commit dd73b337a37d22b56285aa345b8eb29d535476a8
Author: James <james@freedom.press>
Date:   Tue Oct 21 23:32:12 2014 -0700

    to get travis working when the config.py file was owned by root. Removed the commented out part in the ansible playbook and added changing the file ownership to the travus script.

commit 32b74939782d29a0cb6953d01b8867505b9d917d
Author: James <james@freedom.press>
Date:   Tue Oct 21 22:51:22 2014 -0700

    checkedout max's spec-test folder and modified them to work in current environment.

commit 0e63ea673abe4f1801e484bc6c18056ccd74dd09
Author: James <james@freedom.press>
Date:   Tue Oct 21 20:51:03 2014 -0700

    If a custom header image was defined ansible was overwriting the wrong image.
    
    also changed the way the header image tasks worked to just check if the variable equals None for it to work withtout the vagrant shared mount

commit 8faf67e7f5d0b4ab795f85b9b49dfc33bd741cf1
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Oct 21 20:48:40 2014 -0400

    Link to instructions for creating bootable ubuntu usb

commit 0a9e91ed2e3eeb4dfe3a39a97c6b532747f52ab0
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Oct 21 20:36:10 2014 -0400

    Add instructions for yubikey setup on Tails

commit 0fc507ce5632611a570bd3bcddd975e2e974ee3a
Merge: 2db46ecc 0983b4a2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 21 15:56:05 2014 -0700

    Merge branch 'full-install-docs' into develop

commit 2db46ecc05115d92356464d6b549e940aa29ba4d
Merge: 68f8888a 68516fa5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 21 15:52:03 2014 -0700

    Merge pull request #669 from dolanjs/validate-defaults-in-prod
    
    added a validate role that would only be run when running non-staging or...

commit 0983b4a2a29ea11ce7dab57f405580f5548a8204
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 21 15:50:03 2014 -0700

    Formatting and minor edits

commit 1c8206e55e79f9712d6fcfd0280bfd584c8079e5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 21 15:39:47 2014 -0700

    Rough documentation for full install of 0.3

commit 68f8888a96870aeaf831509917268e1df7b7519e
Merge: 158f10b9 41c74cf9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 21 14:28:53 2014 -0700

    Merge pull request #668 from dolanjs/remove-prod-grsec-skip
    
    removed ansible.skip_tags config line for app and mon vm

commit 68516fa53d3bf9294b7e9a472aed4abdb6f17b84
Author: James <james@freedom.press>
Date:   Tue Oct 21 13:12:22 2014 -0700

    added a validate role that would only be run when running non-staging or development playbooks.
    This role verifies that the test gpg fingerprints, ossec alert email address, and sasl credentials are not used for production

commit 41c74cf9aaf72bd1f27cb1f8358ffaaee1e4d5ad
Author: James <james@freedom.press>
Date:   Tue Oct 21 11:59:19 2014 -0700

    removed ansible.skip_tags config line from the Vagrantfile config.

commit 158f10b93447e4ce4d2ef8572081da8673195773
Merge: bb6362a5 3ce980cd
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 21 08:19:20 2014 -0700

    Merge pull request #667 from dolanjs/logging-locations
    
    Add cheat sheet for log file locations

commit bb6362a5a5d0e97b5779e72296a69864b6981a54
Merge: a6c51641 e1dadf68
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 21 08:18:55 2014 -0700

    Merge pull request #666 from dolanjs/paxctl-grub-setup
    
    Updated the grsec package name to current. a meta package will need to b...

commit a6c516413b02fb30502ba408a7cde3353ff4b396
Merge: 8a35f8a0 57a7f88f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 21 08:18:22 2014 -0700

    Merge pull request #660 from dolanjs/develop-mon-staging-doc
    
    added mon-staging to list of predefined VMs

commit 8a35f8a0315cbe2cf4335084bd158e55af8fa8a7
Merge: 4e256429 876ae7f9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 21 08:17:44 2014 -0700

    Merge pull request #659 from runasand/develop
    
    Yes, you will need a cable to hook the NUC up to a monitor

commit 4e256429f6ecb8da61c097b0041207f2128ef7ac
Merge: 8745bd81 be3cc5d7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 21 08:16:21 2014 -0700

    Merge pull request #658 from dolanjs/smtp-header-check
    
    re-added ansible handler to run postmap /etc/postfix/header_checks

commit 8745bd81972f0e71a93e038a43d7879efba7bd39
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 21 00:08:45 2014 -0700

    Temporarily disable vagrant-cachier
    
    This will slow down provisioning times, but fixes issues with apt that
    appear to be caused by vagrant-cachier. Should re-enable when
    https://github.com/fgrehm/vagrant-cachier/issues/128 is resolved.

commit 3ce980cdec61a348b69c13848874191e8e97d80f
Author: James <james@freedom.press>
Date:   Mon Oct 20 22:10:52 2014 -0700

    Add cheat sheet for log file locations

commit e1dadf68666f55ddca334f6979cc7fa04fd0e49c
Author: James <james@freedom.press>
Date:   Mon Oct 20 20:49:55 2014 -0700

    Updated the grsec package name to current. a meta package will need to be put in place so we don't need to hard code a specific version
    
    The grsec lock will not exist until the system is rebooted in the kernel.
    
    Removed extra pax changes that were required for 12.04

commit 57a7f88f50ce9c90b2bb3ac3ff4242a967f37112
Author: James <james@freedom.press>
Date:   Mon Oct 20 16:43:55 2014 -0700

    @kevinmg pointed out that the command to start the webserver for development VM was missing from the documentation.

commit 069d64341a3e565887875b25803d5af4e6e5ec18
Author: James <james@freedom.press>
Date:   Mon Oct 20 16:37:51 2014 -0700

    added ssh commands for mon-staging vm

commit 876ae7f9f0fa2ae3e30e203ac15f82110dba4ab6
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Mon Oct 20 19:32:09 2014 -0400

    Yes, you will need a cable to hook the NUC up to a monitor

commit be3cc5d7cc9614e0f831730ad01b745eaf86aaba
Author: James <james@freedom.press>
Date:   Mon Oct 20 16:27:26 2014 -0700

    re-added handler to postmap /etc/postfix/header_checks
    
    This needs to run before restart postfix for it to take affect.

commit ccdffa00a874e125eabcc1fba19f3c2e93144183
Merge: 478dd649 3bd0abbd
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 20 15:52:09 2014 -0700

    Merge pull request #657 from dolanjs/ansible-apparmor-complain
    
    Update apparmor profiles for ubntu 14.04

commit 478dd6495217c27970fe3404bf0b9d3e9c35219c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 20 15:41:05 2014 -0700

    More compact submission list

commit a7ddd00dd4c297445f194ce14464837b9eae6b87
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 20 15:35:20 2014 -0700

    Remove unnecessary verbiage from submission notifications

commit f98ac1eaf7506131470e7d785bbfe66f347e14dc
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 20 15:34:58 2014 -0700

    Formatting nit

commit d36be300aa83776cc88421c018843f2df8ff0c54
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 20 15:07:51 2014 -0700

    Fixes for "Disable JS" bubble
    
    1. Fix matching the TB user agent
    2. Fix position of bubble for new TB (NoScript icon moved in TB 4.0)
    3. Use correct icon for "Forbid scripts globally (advised)"
    4. Nicer design for bubble

commit 4bf174d0e61989b5874a3117467000efb91118f2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 20 15:06:47 2014 -0700

    Ignore .DS_Store
    
    Interestingly, these files were only created once I navigated into the
    directories using the Mac OS X Finder.

commit 3bd0abbdb694ce932d3b02e3ce9376f12c51d3ad
Author: James <james@freedom.press>
Date:   Mon Oct 20 14:11:23 2014 -0700

    Updated the bin path for both the apache and tor apparmor profiles.
    Updated the corresponding lines for the securedrop-app-code postinst.
    
    The securedrop-app-code currentyl only puts the profile in complain mode. This will need to be changed to `aa-enforce` when the apparmor profiles are flushed out

commit 91dd200edf897565bb1e32bca77b4199b8c90121
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 20 14:04:50 2014 -0700

    Remove starred/unstarred headings, replace with gap

commit 9a1a0efecdd9ad091f987410248f522a515bd699
Merge: 44ee4892 f71952ac
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 20 13:43:51 2014 -0700

    Merge pull request #656 from dolanjs/ssh-2fa
    
    Password + TOTP as a ssh authentication option

commit 44ee48926ba1ba2956d7d5fbc4437eda967fb2ad
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 20 12:27:30 2014 -0700

    unattended-upgrades regex should block all kernels except grsec
    
    grsec patches are periodically upgraded for LTS releases of the Linux
    kernel, while the kernel itself is upgraded more frequently by default
    in Ubuntu. We want to allow the installation and auto-upgrade of the
    grsec kernel that we provide, but do not want unattended-upgrades to
    clobber our grsec kernel with a newer (but not grsec-hardened) version
    of the Linux kernel provided by the default repos.
    
    This regular expression matches (therefore blacklists) any package name
    that begins with "linux-(image|headers)" unless the string "grsec"
    appears later in the string.

commit f71952ac49b5a2184e20871c3dcd972581beac6d
Author: James <james@freedom.press>
Date:   Mon Oct 20 10:45:16 2014 -0700

    This adds back the libpam-google-authenticator module for 2fa for ssh access.
    This does not configure the users 2fa code. The admin users will need to run `google-authenticator` on each server prior to trying to authenticate without the ssh-keyfile
    If a admin users 2fa secret file is not created and the user does not have the ssh-private key, they will just see a password prompt and will not be able to authenticate.
    
    There are different errors shown if the pasword failed or if it was the 2fa code.
    
    This does not disable ssh-key files. When you are authenticating via ssh-keyfile the 2fa pam module will not be used.

commit 9d57bb314d6c6ba6587754d6babd198a233c9d7d
Merge: cf996bc1 9b3b23cc
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Oct 19 12:02:04 2014 -0700

    Merge pull request #655 from freedomofpress/default-codename-length
    
    Remember user choice for codename length on subsequent requests

commit 9b3b23ccdcb2e106e33a0aa588e245c6fcc00b7c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Oct 19 11:18:52 2014 -0700

    Remember user choice for codename length on subsequent requests

commit cf996bc12887f6256d561ba430865442e3f11b28
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Oct 19 11:01:29 2014 -0700

    Check for duplicate usernames and prompt again

commit ca7ecd7e05926f9df70ba810a1ebf12764f066c3
Merge: 40842b32 dd30168c
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Sat Oct 18 12:31:01 2014 -0700

    Merge pull request #653 from dolanjs/staging-app-mem
    
     Up app-staging and app vm to 1GB

commit dd30168cbaac9a9524434bfb880d85fa535f84c7
Author: James <james@freedom.press>
Date:   Sat Oct 18 12:15:16 2014 -0700

    Changed the app-staging and app vm to also have 1GB of memory to avoid issues running the tests

commit 40842b329214bdb9ad7fed9b520bb2211ec2cc2e
Merge: a1f6c16d 6e913a66
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Fri Oct 17 16:16:27 2014 -0700

    Merge pull request #652 from dolanjs/temp-remove-ossec-build
    
    temp removing building ossec deb from staging roles

commit 6e913a666945f0ef5c672ea744ed5c58958b9b99
Author: James <james@freedom.press>
Date:   Fri Oct 17 16:07:51 2014 -0700

    building the ossec deb packages take awhile and it seems the ssh connection is timing out.
    
    Since the ossec deb packge does not change often and we are working on migrating to building with pbuilder commenting out that role in both staging playbooks.
    
    The app/mon roles already are configured to install ossec from the fpf repo if it wasn't already installed so this will not break anything.

commit a1f6c16d6ef609f0671c4880676d697f1122b0e7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 16 13:54:15 2014 -0700

    Wait for hidden service hostnames to be generated

commit 0c870155149bd4ab50f9f77755fa63aafd48a982
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 16 12:28:31 2014 -0700

    fetch should trigger failure if file not found

commit 933df2e19ff504b57a5e506cbd0ec8764aa83e0b
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 16 12:01:55 2014 -0700

    Check for each hidden service dir on monitor server

commit c18fb23a2e53aa8d3fe9f9e634faadc7183e7a10
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 16 11:49:55 2014 -0700

    ansible-playbook breaks if these files are +x

commit 9e8f28f35bd797c019d71ba8ccf79dfccbe5961f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 16 10:36:49 2014 -0700

    James's tweaks from debugging on hardware

commit 07b827dd95393c7dacbae63d814f6d183d542729
Merge: ec0df028 919239fb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 16 02:34:31 2014 -0700

    Merge pull request #650 from dolanjs/mon-torrc-fix
    
    updated the torrc-mon

commit ec0df028826c50d4020addd51af8f49e33dc9d21
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 16 02:19:26 2014 -0700

    Don't change owner of config.py

commit 919239fb965cd5a69078067e2a2484d6db3593b1
Author: James <james@freedom.press>
Date:   Thu Oct 16 01:23:36 2014 -0700

    commented out the task to configure google-authenticator pam module until we decide if that will be the authentication solution or if we will stick with ssh keyfiles

commit b07d561e42bd7cd2bec14fcdf93fc966efaea939
Author: James <james@freedom.press>
Date:   Thu Oct 16 01:19:31 2014 -0700

    updated the torrc-mon with the correct file locations and removed this THS for port 80 and 8080

commit c48594f47f59f5655771d876cbd8b7893fdac66d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 21:34:33 2014 -0700

    Update documentation

commit 4ec396c0a385ac9fc43e0e57b811bdd080dc1548
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 21:34:21 2014 -0700

    Fixes for staging build from local testing

commit 241e6609417085f643c1edd72847d8790cbb62da
Merge: cdc7ab20 f6f3b1a2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 19:47:00 2014 -0700

    Merge pull request #649 from freedomofpress/set-securedrop-env-for-development
    
    Set SECUREDROP_ENV for development environment

commit f6f3b1a2af63dd1c8ebd26921eb9f6a77f41d322
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 19:23:00 2014 -0700

    Set SECUREDROP_ENV for development environment
    
    This makes running certain tasks manually, such as the individual
    `source.py` or `journalist.py` applications, less error-prone. You need
    to set `SECUREDROP_ENV=dev` in order to have `FlaskConfig.DEBUG = True`,
    which is necessary for Flask to serve the static files.

commit cdc7ab206a152057ae4c062b429875600fb130c6
Merge: a9ba2c76 4a4c0efb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 19:38:42 2014 -0700

    Merge pull request #647 from freedomofpress/task-queue
    
    Task queue

commit a9ba2c762e065f16e728f36021f2b062b55615aa
Merge: 6d70a680 b313dd06
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 19:35:27 2014 -0700

    Merge branch 'fix-sending-ossec-alerts' of https://github.com/dolanjs/securedrop into dolanjs-fix-sending-ossec-alerts
    
    Conflicts:
            install_files/ansible-base/roles/mon/tasks/mon_configure_ossec_gpg_alerts.yml

commit 6d70a680deeb666217ff11c486d4823ea079a697
Merge: cb4622cd 55cfdcc6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 19:32:56 2014 -0700

    Merge pull request #646 from dolanjs/check-for-ossec-download
    
    Check for ossec download

commit cb4622cdc2dd0ff8634aa5f4a8bf121c209b6c30
Merge: f420b2b8 3ccc511f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 19:32:29 2014 -0700

    Merge pull request #645 from dolanjs/gpg-key-without-vagrant-fix
    
    Copy the app and ossec alert gpg key to remote host

commit b313dd06e54301e303c83502b27897e151614541
Author: James <james@freedom.press>
Date:   Wed Oct 15 19:19:45 2014 -0700

    changed all the tabs to spaces

commit 55cfdcc6ea179815f96af49051d10a841b28b304
Author: James <james@freedom.press>
Date:   Wed Oct 15 19:04:05 2014 -0700

    Ansibles stat module only supports checking the md5 sum of the file.
    But did and that verification to the check to see if the ossec archive already exists
    
    http://docs.ansible.com/stat_module.html

commit a29532a3bee5fea308e73df441b22fbe939ee7c2
Author: James <james@freedom.press>
Date:   Wed Oct 15 15:57:55 2014 -0700

    During one of the last merges I broke the procmail and the ossec sasl_password configuration. This fixes that.
    
    Removed the .procmail file from being packaged with the ossec-server deb package. This was causing ansible not to reload postaliases.
    
    Migrated the 'postalias /etc/aliases' and 'postmap /etc/postfix/sasl_passwd' task to a handler.
    
    Changed the way that ossec alert gpg keyring is created so that it doesn't cause issues on subsequent runs and removed the warning comments about it.
    
    Removed the unneeded backslash in the send_encrypted_alarm.sh.
    
    Added creating the .gnupg directory in the OSSEC server's deb package postinst to avoid permission issues.

commit 4a4c0efb62579fd0c4bb7c1acf35ee99128704a3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 15:34:11 2014 -0700

    Fix Travis builds
    
    For some reason, redis-server does not start automatically after it is
    installed on Travis. *shrug*

commit ff40faf6823dda91353d2fe0a5c9c78a4ff39f05
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 15:19:52 2014 -0700

    Increase memory allocation for development VM
    
    Functional tests have recently been failing due to "out of memory"
    errors. My theory is that this is due to the new release of Firefox,
    which came out two days ago (and usually takes a day or so to make it
    into the mainline repos) using more memory than the previous release.
    Timelines match up, although I haven't done any further testing to prove
    this.
    
    Nice side effect: increasing the amount of available memory makes
    Firefox run faster, which makes the functional tests run faster. Also
    appears to eliminate various intermittent errors from the functional
    tests, such as the "empty status line" error from Selenium and the
    TypeError from python-gnupg. This makes sense!

commit 5d722e1d94770def094a517b4b8365cd72ccce04
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 15:16:49 2014 -0700

    Use separate job queue for jobs from manage.py test
    
    Python-RQ is nice because it lets us schedule jobs that are arbitrary
    Python functions. The downside is that, due to our messy "config as a
    module with values derived from an environment variable" setup, there
    can be issues. For example, jobs sent from the tests will not run
    correctly on the default worker (started by supervisor), because they
    were started with different values for SECUREDROP_ENV and therefore have
    different SECUREDROP_ROOTs.
    
    Clearly this whole situation needs to be improved but this hack is
    reasonable and works well for now:
    
    1. Use a separate "test" queue for jobs triggered by the tests
    2. Start/stop a temporary "test"-queue-only rqworker for the tests

commit fef0f31044b82d145c11d1ed6276ec360c68ebf8
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 15:16:22 2014 -0700

    Ansible playbooks set up supervisor to run job queue worker

commit 6926ebfe684bff52d661a26f6f3518d4d3faef43
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 13:45:23 2014 -0700

    Add debugging for intermittent (very infrequent) scrypt error

commit 5572174a75e550b72f44df7c2c6651bd7dcb52d5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 13:42:36 2014 -0700

    Test that deleted files are actually removed from the filesystem
    
    The tests use a polling wait since deletion is handled by a polling
    worker, and secure deletion can be time consuming. At the moment, the
    test files are all very small, so they secure delete quickly. The added
    overhead is < 1 second.
    
    This increases test coverage as well - previously, we were not testing
    that deleted files were actually removed from the filesystem.

commit 49553e6471b9b7533a882610228d9d6610222f14
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 13:42:17 2014 -0700

    Enqueue potentially time-consuming secure unlinks

commit db1342556b03e776e10671d5f60074201edba998
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 13:41:46 2014 -0700

    Auto-start an rqworker for manage.py tasks that need one

commit 07f45c01488fc17798c96392333754a1c161a255
Author: James <james@freedom.press>
Date:   Wed Oct 15 12:19:32 2014 -0700

    moved defining the generic ossec variables from the app/mon host_vars to group_vars.

commit d87c3d39d267db1487d5a5515d10260b766f2935
Author: James <james@freedom.press>
Date:   Wed Oct 15 12:13:39 2014 -0700

    added a check to see if the OSSEC archive already exists and if it does exist then skip downloading it again.

commit 4107a41bb2f88481feeba40e95d3e22153259deb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 15:26:22 2014 -0700

    Add Python-RQ worker and make sure it's started when needed

commit f420b2b8cc278787ccc93da5481c8fe2237b4d55
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 09:44:56 2014 -0700

    Update develop.md to match current environment

commit f41c6e0e6b2384b33967f91e3682a06f3c45ef5f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 15 08:35:23 2014 -0700

    Fix formatting due to unmatched fenced code block

commit 3ccc511f13ca3921c84d489b0c095c3a69198f8d
Author: James <james@freedom.press>
Date:   Tue Oct 14 23:56:49 2014 -0700

    Added a unique test gpg keypair since in production these would also be two separate keypairs.
    
    The application's gpg private key is airgapped, while the admin's gpg private key is on their networked work machine so they are able to decrypt the emails.
    GPG is being used for the OSSEC alerts to protect them in the event that the organization email server is compromised.

commit 8bc39a37ace0c8e6e88e26e8976272f89b2f8ba1
Author: James <james@freedom.press>
Date:   Tue Oct 14 22:43:22 2014 -0700

    Added tasks to copy the app and ossec alert gpg key public keys to the remote host since production will not be using vagrant
    
    Removed the word 'path' from the the variable names for the app/ossec gpg key and the custom header image variables since it does not a path anymore.
    
    The custom header image, app gpg public key, ossec gpg public key and the smtp's CA cert need to be either in the install_files/ansible-base directory or the respective role's file directory

commit 1d4ff7f8dac25b3090d501a0a205642a8762862b
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 21:03:55 2014 -0700

    Fixes from code review

commit 0be6e3accd5ef51dd9e354c01b03297c53db1691
Merge: 6e14c099 7ad197bf
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 19:26:02 2014 -0700

    Merge branch 'vagrant-digital-ocean-for-snap' of https://github.com/dolanjs/securedrop into dolanjs-vagrant-digital-ocean-for-snap
    
    Conflicts:
            securedrop/static/js/journalist.js

commit 6e14c0994a1fc121fed011d22def21744b54d556
Merge: fcbf8c85 307aba85
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 19:11:17 2014 -0700

    Merge pull request #644 from freedomofpress/source-reply-ui
    
    Source reply ui

commit 307aba8556d4951a68637374b924d8fceb5dc41c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 19:06:14 2014 -0700

    Fix broken unit tests by removing unusued variable

commit d47266832384c6f84d53a5e5510044d762a6f2d0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 18:58:52 2014 -0700

    Nicer design for source reply area

commit 30bcdb65cc21506f00677a9def75ad89ec2750b2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 18:57:46 2014 -0700

    Nit: unnecessary period

commit befa8bb829abf406a6885dc999c696045aa86b29
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 18:57:35 2014 -0700

    Nit: return makes more sense than continue

commit 21036762d970c0ba88f05a251591a84d6e224eeb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 18:57:10 2014 -0700

    Fix accidental breakage of select and selected actions on /col pages

commit 7ad197bf2a66c0f7ac8b812af44e350364f70f0a
Author: James <james@freedom.press>
Date:   Tue Oct 14 18:25:55 2014 -0700

    Update the travis playbook to reflect new roles
    updated path for travis specific config and removed extra spaces from travis playbook

commit df9a8cb89a272f1f691bcea26f5c238ae784264c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 12:39:53 2014 -0700

    Only select and de-select visible checkboxes
    
    This avoids selecting checkboxes that are not visible due to filtering
    by journalist designation. There was a hack to avoid accidentally
    deleting collections that were selected, this fix replaces that with a
    much cleaner and simpler solution which also prevents confusion by
    seeing previously hidden items checked when clearing the filter text.

commit 7011110df9bfb5c12b47da6cc4952ff20f86176a
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Oct 14 12:23:36 2014 -0400

    Moved ubuntu grsec guide to the freedomofpress repo

commit 25588f23f9567bbcca0fcb7753ada9a322ef28d6
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Oct 14 10:13:12 2014 -0400

    Give the admin the option of FDE or not

commit 92b8f923716e416739ad5f35aab840bb32974a3d
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Oct 14 09:18:25 2014 -0400

    Got questions about the SVS? Email us.

commit 511371fd12b3db008427d2e26a71d5528c2d2a59
Author: James <james@freedom.press>
Date:   Tue Oct 14 18:19:29 2014 -0700

    updated travis config for correct tag to skip

commit e01707ce7b446faa83148eddd4e2224edd1e75d8
Author: James <james@freedom.press>
Date:   Tue Oct 14 18:03:06 2014 -0700

    moved duplicate tasks from the development role
    moved the creating the app directory structure from the building securedrop app code deb tasks to the app role.
    added the needed dependencies for test to run in app-test
    removed symlink the apparmor profiles for the app-test role since that is not allowed by apparmor
    removed typo in apparmor profile from cleanup that caused it not to load

commit 2533156d265c94340e83b86898825715427f7da4
Merge: fcbf8c85 bc86aafa
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 17:46:24 2014 -0700

    Merge branch 'improve-source-lookup-page' of https://github.com/DonnchaC/securedrop into source-reply-ui
    
    Conflicts:
            securedrop/source.py

commit 420b82370ac700472b0f10b37bd44b911f6e1e5d
Author: James <james@freedom.press>
Date:   Tue Oct 14 16:12:42 2014 -0700

    There are 3 layers of variable definations:
     group_vars/securedrop.yml
     host_vars/{app.yml mon.yml}
     (env)-specific.yml
    
    The master playbook 'site.yml' includes all of the playbooks except the travis playbook.
    This is because the travis playbook's host is 'localhost' which would mean that any host that runs the site.yml will run the travis playbook on their host sytem

commit 9dede9476abcf52bbe915fbf60d3a35f76534ac0
Author: James <james@freedom.press>
Date:   Tue Oct 14 14:57:47 2014 -0700

    removed refs to chroots in apparmor profiles. These still need to be updated for all the changes to the app code though

commit 93b8309ba52b117b818ccefca92126f0566f0417
Author: James <james@freedom.press>
Date:   Tue Oct 14 14:53:33 2014 -0700

    split the allow direct access tasks to its own role to reduce task duplication

commit 6a21b392f356da83fb2d18ebc819f6dd00baca7e
Author: James <james@freedom.press>
Date:   Tue Oct 14 14:38:57 2014 -0700

    now there is just one role to build the securedrop ossec server and ossec agent deb packages
    and there is a separate role to build the securedrop-app-code deb package
    
    This ensure that tasks are not duplicated across roles

commit 8a7342c9857cf20817ec6010189a962a61157a6a
Author: James <james@freedom.press>
Date:   Tue Oct 14 14:15:31 2014 -0700

    normalized building the ossec packages

commit ff13a38a7d72280e78a7c079c245ef83c1af17f2
Author: James <james@freedom.press>
Date:   Tue Oct 14 14:10:23 2014 -0700

    removed the old ansible-securedrop role

commit 772091c419d2f175e62c52f6374a6c1dd6cfd48d
Author: James <james@freedom.press>
Date:   Tue Oct 14 13:11:12 2014 -0700

    moved variables from securedrop-app-staging-conf.yml to host_vars/app.yml and the group_vars/securedrop.yml as needed
    split up the securedrop-app-code dev_dependencies and the test_dependencies

commit fcbf8c85212df24f31b1cf9707f228bf5735f1dd
Merge: 89e0b586 d99c5c55
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 12:55:19 2014 -0700

    Merge pull request #641 from freedomofpress/fix-select-and-filter-interaction
    
    Only select and de-select visible checkboxes

commit 89e0b5862a7c35dede28e87b96c063fee71b1143
Merge: 3f03a59d 6e6aaeaf
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 12:54:19 2014 -0700

    Merge pull request #640 from runasand/develop
    
    Give the admin the option of FDE or not

commit d99c5c556987c45a3fa786afd9a7146074ff8385
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Oct 14 12:39:53 2014 -0700

    Only select and de-select visible checkboxes
    
    This avoids selecting checkboxes that are not visible due to filtering
    by journalist designation. There was a hack to avoid accidentally
    deleting collections that were selected, this fix replaces that with a
    much cleaner and simpler solution which also prevents confusion by
    seeing previously hidden items checked when clearing the filter text.

commit bf851fec69537f8dcf915e6bfde53275f6278338
Author: James <james@freedom.press>
Date:   Tue Oct 14 12:30:45 2014 -0700

    moved variables from securedrop-development-conf.yml to host_vars/development.yml
    and removed the old file from the development playbook

commit 0598cbce5f6c5396bc517e06024b0dce3263e901
Author: James <james@freedom.press>
Date:   Tue Oct 14 12:18:17 2014 -0700

    fixed typo regex to regexp

commit 446fa5dbcbc86496679b68c1efa5578e261f22be
Author: James <james@freedom.press>
Date:   Tue Oct 14 12:16:52 2014 -0700

    moved the common role's default/main.yml variables to the group_vars/securedrop.yml
    added group_vars/securedrop.yml and resepective host_var files to each playbook.

commit 5f34bef3dcfdc40b6f3e40dee32ae36d3006b9b1
Author: James <james@freedom.press>
Date:   Tue Oct 14 11:32:34 2014 -0700

    fixes for the allow direct access firewall rules for the snap environment and it also just looks cleaner

commit e97ea840a869f5beb107d11e9caa0093c118a502
Author: James <james@freedom.press>
Date:   Tue Oct 14 09:45:03 2014 -0700

    testing stuff for snap

commit 6e6aaeaf565feffaf00a628a6c7e30080b5f1788
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Oct 14 12:23:36 2014 -0400

    Moved ubuntu grsec guide to the freedomofpress repo

commit 6aaebd6a6454b97a07792d74a722de62fc7191f3
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Oct 14 10:13:12 2014 -0400

    Give the admin the option of FDE or not

commit 3f03a59d08c2309e65b71c8ad51ead5448d3add9
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Oct 14 09:18:25 2014 -0400

    Got questions about the SVS? Email us.

commit f512f2f57cf83b6d301c30fc566721b9e597f005
Author: James <james@freedom.press>
Date:   Mon Oct 13 20:55:19 2014 -0700

    testing firewall rule change for the snap-ci/digital ocean setup that has been putting single quotes around the exmeption firwall rulles

commit 9712a193c645c5f5a2358337020e64250b97a466
Merge: e0ba65cd 2aad348c
Author: James <james@freedom.press>
Date:   Mon Oct 13 20:05:33 2014 -0700

    Merge remote-tracking branch 'upstream/develop' into vagrant-digital-ocean-for-snap

commit e0ba65cd5249a805dab2441e9c243b067554c49e
Author: James <james@freedom.press>
Date:   Mon Oct 13 20:04:56 2014 -0700

    small stuff to sort out

commit 2aad348c73455162b9b0c12b8e053501210708da
Merge: d0a53bd6 d5475d29
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 18:18:33 2014 -0700

    Merge pull request #639 from freedomofpress/why-rename-source
    
    Add explanation for renaming sources to hover text

commit 55daee6b0daf27e13053b6ac6326bfd081b8a69f
Author: James <james@freedom.press>
Date:   Mon Oct 13 17:12:11 2014 -0700

    tested with removing the old deb files

commit d5475d29f294e1f0858b3860e193bf7bd5e147e0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 17:12:09 2014 -0700

    Add explanation for renaming sources to hover text

commit d0dcd511fe21fbd5259ab215b9f2be50412d58d2
Author: James <james@freedom.press>
Date:   Mon Oct 13 16:58:42 2014 -0700

    a lot of bs

commit d0a53bd62fa779e95e2700070a64c3479b81e8b5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 16:42:46 2014 -0700

    Fix unit test broken by ux tweaks

commit 3a326df46e741a59a20e77f6796386ca2effb501
Merge: cf661e30 519c8851
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 16:40:08 2014 -0700

    Merge branch 'ux-tweaks' into develop

commit 519c8851df3e376330b9de1a0b78eb4c6d9895a9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 16:38:37 2014 -0700

    Tighten up

commit 4a0a3e8fbed5dfefdc0876e80871126cecc8ece0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 16:38:21 2014 -0700

    Use smallest logo necessary for perf, and adjust layout accordingly

commit 2044519003be3481bbd0660d3c716226c643cd05
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 16:18:18 2014 -0700

    Formatting tweaks to journalist public key para

commit 26c03f37614cefdc34d9ffce307658865bf7f88a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 16:14:07 2014 -0700

    Polish on submission interface

commit 7dd496399868b869f231fa84666cab3b0c6588b1
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 15:50:17 2014 -0700

    fix missing colon

commit f0c6c729bcca47cb68b4ceb3f27bd5e7d84ac5d5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 15:50:04 2014 -0700

    Firefox 24 (current TBB) doesn't support unprefixed box-sizing

commit b6cf309d51192c189e7367e4d5d6b88fd9742889
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 15:49:14 2014 -0700

    Fix space between text and button on source index page

commit df6ca9897d4d53cb43d3c30ca822143728fbcaf3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Oct 13 10:42:13 2014 -0700

    partial fixes from code review

commit d069ec4ccbe1d39d0f5f341bd6b783d4abc8775c
Author: James <james@freedom.press>
Date:   Mon Oct 13 09:10:01 2014 -0700

    tried to follow the ansible best practices for organization and layout

commit 97a7307969f951ade547ee5243af0c1d94b2c4e3
Author: James <james@freedom.press>
Date:   Mon Oct 13 02:58:54 2014 -0700

    The allow direct access exemptions are causing an error on digital ocean. It is inserting ' around the inserted lines.
    This does not happen in my virtualbox instance

commit 877a2da0b0193cb1b9bfd15b9f25accbef036159
Author: James <james@freedom.press>
Date:   Mon Oct 13 01:24:58 2014 -0700

    created snap-ci.md doc for tracking how CI is configured and the prebuilt images
    
    updated the develop doc to reflect updated vm functions and commands to start them

commit 339bd72d0ed33a4775ca2dc35f256e370e65228d
Author: James <james@freedom.press>
Date:   Mon Oct 13 01:19:06 2014 -0700

    added task for production to set the /etc/hosts entries for both servers

commit c7b4a0a007f9e138fcbb98f3ab91833fdf1d876c
Author: James <james@freedom.press>
Date:   Mon Oct 13 01:17:49 2014 -0700

    cleaned up the ossec variables
    moved the ossec dependencies to defaults/main.yml

commit cbedeb306c6bfa31df5585d615f74650790ffcf8
Author: James <james@freedom.press>
Date:   Mon Oct 13 01:13:39 2014 -0700

    added tasks to add exemptions for local web interface access and removed meta flushers that could cause production install to fail

commit ced11610da9394fa8eae1776650180f645b1aee6
Author: James <james@freedom.press>
Date:   Mon Oct 13 01:11:47 2014 -0700

    changed the variable to run manage.py

commit c38f933e528c0e8029e118f2f26f2262c40c7310
Author: James <james@freedom.press>
Date:   Mon Oct 13 01:08:29 2014 -0700

    removed unused config files (ossec.conf which are in the ossec-server and ossec-agent directories

commit 001d7745e8aafd6a575c077d4190e64eb22f4fc6
Author: James <james@freedom.press>
Date:   Mon Oct 13 01:00:12 2014 -0700

    removed last elements of the debhelper for the ossec-server and ossec-agent deb packages

commit 8da5194aa85f337d4404893c9dea98c19672c75e
Author: James <james@freedom.press>
Date:   Mon Oct 13 00:54:28 2014 -0700

    upadated the vagrant config to use the vagrant plugin vagrant-hostmanager. This was not an issue for production where we know what the IP address is but for the CI environment we do not know what the IP address will be.
    the IP tables rules only resolve the hostname when loaded.
    
    The ossec agent config also uses hostnames for it's configuration. But the ossec.conf is installed and managed by dpkg. If ansible overwrites a file managed by dpkg that file will not be upgraded with unattended-upgrades

commit 5fd464ada46de2b3eeafffaef750638354985c11
Author: James <james@freedom.press>
Date:   Mon Oct 13 00:43:19 2014 -0700

    added tasks to place the config file for postfix to remove unneeded smtp headers

commit 00234eec404fae130d92dda1414fce33b231d323
Author: James <james@freedom.press>
Date:   Mon Oct 13 00:41:34 2014 -0700

    removed the old deb packages for the monitor server

commit 88abc0931e4b58c7acc25e5a83cdadec68c5e8ac
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 18:43:22 2014 -0700

    remove unused div (used to be for metadata checkbox)

commit f5e7d7d3f59d2af85469030775a035a055e5e1d5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 18:43:02 2014 -0700

    Move document action buttons above list of documents

commit 6d4b925c28eeb8f8026e77c765ddca06c8663115
Merge: 1657ccb0 cf661e30
Author: James <james@freedom.press>
Date:   Sat Oct 11 16:58:39 2014 -0700

    Merge remote-tracking branch 'upstream/develop' into vagrant-digital-ocean-for-snap
    
    Conflicts:
            Vagrantfile

commit 1657ccb06ff45d55d93718b5af352f89357d9c87
Author: James <james@freedom.press>
Date:   Sat Oct 11 16:54:32 2014 -0700

    added snap.rb file which will contain the digital ocean api token for snap-ci
    
    started adding a doc for setting up snap-ci + vagrant + digital_ocean provider + ansible provisioner

commit 6b0bc422b3b46e6bfe4f548dae73a90056730193
Author: James <james@freedom.press>
Date:   Sat Oct 11 16:52:52 2014 -0700

    had to change the default directory for the monitor server back to the default /var/ossec directory.
    
    split up the debs tag to app-debs and mon-debs to only create the debs needed for that server.

commit 869134c8622add2b47d0c632f5b59616b6d65630
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 16:02:54 2014 -0700

    less wasted space around panel

commit 8a1d0d939383f8d171b0e2e659209faa25ff4af4
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 16:01:30 2014 -0700

    Remove unnecessary text from index page

commit 23fb797ab448a6232ac12b529f2997bbd786ce6e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 15:55:39 2014 -0700

    Nicer styles for list of collections

commit 66e4d4376914a5b57390aa204d30a02b822a2ec5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 15:52:36 2014 -0700

    better position and layout of select and action buttons

commit fa42ff2162c11ca231fb81ec70471c6c654e6bce
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 15:38:25 2014 -0700

    better UX for starred and un-starred sources

commit 4ec37c44ae50d8a37c79452045f549f8a01ce436
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 15:31:08 2014 -0700

    Nicer placement and UX for regenerate codename button

commit cf661e309f06e9d6e076f55b9005dbffbad1aa72
Merge: b592f205 994e6cb9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 14:47:49 2014 -0700

    Merge pull request #635 from freedomofpress/standardize-on-SecureDrop
    
    Securedrop => SecureDrop

commit 994e6cb979916d64b4fce67b4745ad34056a4cc6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 14:40:28 2014 -0700

    Securedrop => SecureDrop

commit b592f205145bfbe620f55731b2c11eadeada05f2
Merge: e2b49ed6 d1af083d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 14:35:24 2014 -0700

    Merge pull request #634 from freedomofpress/standardize-on-codename
    
    "code name" => "codename"

commit d1af083dd9fe17b69b3331867f774cac7ca25c60
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 14:28:17 2014 -0700

    "code name" => "codename"

commit e2b49ed6d7b15b1614fecef8fb90d41dc9e65bee
Merge: a2700b72 7394cbfd
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 14:22:06 2014 -0700

    Merge pull request #633 from freedomofpress/encrypt-replies-to-journalist-key
    
    Encrypt replies to journalist key

commit 7394cbfde9eed11deea07f7ecca94c532700dd3d
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Oct 11 14:00:47 2014 -0700

    (nit) use more appropriate assert method

commit 3890a551111d018cebc9501992e0d2e354ee956a
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Oct 11 14:00:20 2014 -0700

    test encrypting replies with journalist key

commit 18ad06e7e6734708e3d77e54b8b1b695fa234502
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Oct 11 13:59:57 2014 -0700

    encrypt replies with the journalist key as well as the reply key

commit 657dfa9f8034a5895f68a06e89d518347e3d6114
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Oct 10 11:32:41 2014 -0700

    refactor encrypt function and call sites for clarity

commit cf1ed1ec4d4c2fb37bdfa150d0a83dbdcadb2f47
Author: James <james@freedom.press>
Date:   Sat Oct 11 11:58:54 2014 -0700

    created new digital ocean that added passwordless sudo for the vagrant user

commit a2700b723f356701b809d0c103a85353f3ac65f7
Merge: 304d6aae 7df67a89
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 11 11:33:22 2014 -0700

    Merge pull request #631 from dolanjs/mon-server-and-re-org
    
    Mon server and re org

commit 003a5c691bc0c52af510bb5080bda48faefa94cd
Author: James <james@freedom.press>
Date:   Sat Oct 11 11:19:11 2014 -0700

    changed digital ocean image to custom image with Vagrant file.

commit f4cb71d8b0a313b99e4b74e269ca0340ea396f85
Author: James <james@freedom.press>
Date:   Fri Oct 10 21:18:01 2014 -0700

    fixed variable name and removed quotes

commit 7ed9930785d44b1c5a2955432d5b77df06e32046
Author: James <james@freedom.press>
Date:   Fri Oct 10 21:09:54 2014 -0700

    fixed the directory for vagrant ssh key

commit 77558563360be1d779b1039f1447fea4fcc02bf6
Author: James <james@freedom.press>
Date:   Fri Oct 10 21:07:54 2014 -0700

    not sure if the snap variable is working trying to hard code

commit ecb9b2c940f52bab4b3b50e8359d2f3d6ed40e03
Author: James <james@freedom.press>
Date:   Fri Oct 10 21:04:44 2014 -0700

    added the snap specific environment variable to the digital ocean api

commit 41a5f8d077b0efbf2a68c23faba61a08924d8fd2
Author: James <james@freedom.press>
Date:   Fri Oct 10 20:57:08 2014 -0700

    set variables correctly

commit 7df67a8980fd27d737a7576a5c439602889955d4
Author: James <james@freedom.press>
Date:   Fri Oct 10 20:45:09 2014 -0700

    fixes for @garrettr line notes for this pr.
    
    Vagrantfile
    
     - This name should be "mon-staging"
     - Is "compalin" a typo?
    
    build_securedrop_ossec_server.deb.yml
    
     - Why are these tasks commented out?
    
    tasks/main.yml
    
     - Nit: use only one #

commit dac04ae23f7ab1b24d12f5dc24d6c95cb305e01b
Author: James <james@freedom.press>
Date:   Fri Oct 10 19:57:29 2014 -0700

    changed the vagrant to look for snap.rb in the relative location

commit 0d6396fa3179f317885eee643860da7f7279b27b
Author: James <james@freedom.press>
Date:   Fri Oct 10 19:52:48 2014 -0700

    added git ignore for the snap.rb file that will contain the provisioners api token for snap

commit 1637a0a3025e03183a562d566e5e7b3dfd05e4e0
Author: James <james@freedom.press>
Date:   Fri Oct 10 19:44:45 2014 -0700

    added digital ocean provisioner and example external var file for vagrant

commit 3b73aa5030536b68c0e90a4549f5f57114a33f46
Merge: 2c69c5e8 304d6aae
Author: James <james@freedom.press>
Date:   Fri Oct 10 18:15:37 2014 -0700

    Merge remote-tracking branch 'upstream/develop' into mon-server-and-re-org
    Fixed the merge conflicts.
    
    Conflicts:
            install_files/ansible-base/roles/ansible-securedrop/defaults/main.yml
            install_files/ansible-base/roles/ansible-securedrop/handlers/main.yml
            install_files/ansible-base/roles/ansible-securedrop/tasks/main.yml
            install_files/ansible-base/roles/ansible-securedrop/templates/app_rules_v4
            install_files/ansible-base/roles/ansible-securedrop/templates/config.py
            install_files/ansible-base/securedrop-travis-conf.yml

commit 2c69c5e8bf427c5d2d851dc139112a922a1a5427
Author: James <james@freedom.press>
Date:   Fri Oct 10 18:05:23 2014 -0700

    fixed defined playbook for mon-staging in the Vagrantfile
    added the python-pip depends to before task to build the deb package. This should be moved to the default config

commit 304d6aae81f5b8ec51b50e98e831e672f7b8c469
Merge: c0d2ebdc 53f07f28
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 10 17:37:58 2014 -0700

    Merge pull request #630 from garrettr/fix-cookies-everywhere
    
    Fix session cookie naming in all environments

commit 12ace582e6ffdc7ef7025b83ac8c2abd8c7961f8
Author: James <james@freedom.press>
Date:   Thu Oct 9 01:22:02 2014 -0700

    added task file remove_kernel_modules which are tasks to blacklist iwlwifi and bluetooth kernel modules
    updated the monitor ossec server preloaded vars to build the ossec-server.deb
    
    modified the build_securedrop_ossec_server_debs.yml to match the ossec_agent tasks
    
    updated variable name from monitorIP to monitor_ip to keep it conistent
    
    Split staging to app-staging and mon-staging
    
    moved some variables to defaults/main.yml from that task files

commit f054e45210e00e035965fbd0e9db2f428394d703
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 18:36:48 2014 -0700

    Copy correct hostname for document ATHS

commit ccc56a2f80f229d15098c87b9a8008fce72e8588
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 17:18:27 2014 -0700

    Fix Ansible debs and staging

commit ac74038cbb2180e6176b169ea00ba332ad8352a4
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Oct 9 10:39:56 2014 -0700

    Update xsendfile path in apache conf

commit 9f752648d777e7b9edb9e8cacf9e5890a4c11182
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 15:49:15 2014 -0700

    Update ansible's copy of config.py
    
    Originally we had this symlinked to `securedrop/config.py.example`, but
    that caused issues on Travis. For now, I'm manually updating the copy.
    In the future, we should see if we can get Travis working with the
    symlink so we can avoid having to remember to manually sync changes to
    the application config.

commit 3fd64028ccc821b7e289398e6be51cf146c27dfa
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 14:03:11 2014 -0700

    Flask should use X-SendFile in prod

commit d6e2a7b65a852f832cab573b1e7ac3e29a25e2c8
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 10:13:10 2014 -0700

    Avoid broken pipe error by waiting for page reload
    
    The "broken pipe" error generally occurs when Flask (which runs in
    single-threaded mode in development and testing by default) gets a
    request while it is still processing the previous one. This was
    happening in the case of testing editing a user's password because:
    
    1. Make a POST request to /admin/edit to change a user's password
    2. scrypts the new password, which takes several hundred ms
    3. Calls _logout, which uses `self.driver.get` directly and does not
    wait for the page to reload.
    
    Therefore, we request the logout page while Flask is still rendering the
    "change user password" response to return. This is a race condition, and
    so could occur anywhere, but was occurring consistently here due to this
    code path using scrypt.
    
    Fixes #623.

commit a4531cccf2cbd796d81fbc407edae8b2d431b926
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 10:10:36 2014 -0700

    Fix intermittent failures in functional tests
    
    Selenium's implicitly_wait is unreliable in certain contexts (for
    example, when checking the current URL or examining the current page
    source). Adds an explicit polling wait function that takes an assertion.
    
    Fixes #622

commit d8009a4454f87e783e556d909f851cb3da482534
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Oct 6 11:45:08 2014 -0700

    Travis should run the test suite

commit bead270d0fa146c007ab2ef243378ce00c7b90f3
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Oct 6 11:19:58 2014 -0700

    Rename securedrop-requirements.txt so naming is consistent with Ansible

commit 5dbfef923d3d73f8089410a22ad163c0c9686c5c
Author: James <james@freedom.press>
Date:   Wed Oct 8 17:26:38 2014 -0700

    Added gmail cert to ansible files directory for staging environments to use. Should up date this to look in the repo instead.
    Updated the ossec server and ossec agent build task to avoid doing the same tasks twice

commit c0d2ebdc97fbc3d9b3970625f7746d9e23662787
Merge: badfb59d 20df31db
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 10 17:34:25 2014 -0700

    Merge pull request #629 from maxamg/develop
    
    explicitly code amd64 in sources.d

commit badfb59d8e3adecfce40ea23aa3f7437306af83a
Merge: 9e2d6fba 4f69c1b5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Oct 10 17:34:16 2014 -0700

    Merge pull request #628 from freedomofpress/ansible-iptables-ssh-rules
    
    Allow direct SSH access on staging

commit db806a69af83daa402ca65d12fe938d5369fc52a
Author: James <james@freedom.press>
Date:   Tue Oct 7 17:14:13 2014 -0700

    Added mon playbook
    Renamed and modified ossec-server deb to work with ansible deployment
    Added creating the monitor ossec-server debs
    Added tasks to install ossec-server locally or from fpf repo depending on playbook tag
    Added tasks for postfix and procmail

commit 53f07f28287916a71082c2fd24d5cd8922af1ecb
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Oct 10 17:10:33 2014 -0700

    Remove now-unused config.py template

commit ed7e4aca45bfac23ee6c40617099e59d8ce0c325
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Oct 10 17:07:09 2014 -0700

    Always use different session cookie names for each interface
    
    Previously, we only did this if `SECUREDROP_ENV == dev`. In production,
    this doesn't cause problems because the interfaces are served to
    different .onion addresses, so there is no origin collision. In
    development, when both servers are running on localhost, cookies of the
    same name collide (and overwrite each other) because cookies do not
    consider port to be part of the origin.
    
    Now that we have a wider variety of deployment environments, it is no
    longer possible to say that we can get away with only changing the names
    for the development environment. staging, for example, also provides
    access to the web interfaces via localhost (port forwarded from
    Vagrant), and has the same problem with name collision.
    
    Since there is no downside to using unique names for each interface, we
    just do it for all environments from now on.

commit 52767ca05332700afc649e69057c1b5aad67468e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Oct 10 15:04:36 2014 -0700

    unit tests don't work on staging

commit 9e2d6fba734b1f996cba30dc6a71c861246109b5
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Oct 10 14:33:28 2014 -0700

    Add Mac setup instructions for Ansible-based development env

commit 20df31db7d8c97e031fa8c4c0caf21859874ad2c
Author: maxamg <maxamg@gmail.com>
Date:   Thu Oct 9 21:49:06 2014 -0700

    explicitly code amd64 in sources.d

commit 4f69c1b5f22b919440c69a4eb8c9ba447967ef50
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Oct 9 18:55:23 2014 -0700

    Allow direct SSH access to staging (for tests)
    
    Also fixes some path issues in the iptables tasks.

commit 29870faa943c62b33ecd8135182d8ae1480cd3da
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Oct 9 15:09:44 2014 -0700

    Improve readability of iptables rules

commit 36eac70f837c726ed7d8700c269d8c80724608fe
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Oct 9 12:27:25 2014 -0700

    use ansible pip module to install dev pip requirements
    
    This was complicated by initially not knowing the location of the
    `securedrop_repo` on Travis. Fortunately, Travis sets an environment
    variable that gives us the absolute path we need.

commit 5e827077da9619a3c45cb3b49918190ccb49eaec
Merge: a0e5bc09 af419278
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 9 11:58:01 2014 -0700

    Merge pull request #627 from freedomofpress/fix-debs-and-staging
    
    Fix debs and staging

commit a0e5bc09e216bbc005cf81fb018cd8e5a8a1e737
Merge: f3ba5260 4eb2b8a0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 9 11:42:16 2014 -0700

    Merge pull request #625 from freedomofpress/flask-use-xsendfile
    
    Flask should use X-SendFile in prod

commit af419278b8fb1cbde4cb0b2cb93cd29e9be47ecd
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 18:36:48 2014 -0700

    Copy correct hostname for document ATHS

commit cf91a6df2928035deee333a28740e3aa1905155a
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 17:18:27 2014 -0700

    Fix Ansible debs and staging

commit 4eb2b8a0a5bd37725e947db47d427bb24667ab0e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Oct 9 10:39:56 2014 -0700

    Update xsendfile path in apache conf

commit de3dd663d8ab3c12ade29e25bb6d924a345dbd6a
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 15:49:15 2014 -0700

    Update ansible's copy of config.py
    
    Originally we had this symlinked to `securedrop/config.py.example`, but
    that caused issues on Travis. For now, I'm manually updating the copy.
    In the future, we should see if we can get Travis working with the
    symlink so we can avoid having to remember to manually sync changes to
    the application config.

commit 7e31801d65d7176be8e7d3c50656f43eb38432bc
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 14:03:11 2014 -0700

    Flask should use X-SendFile in prod

commit f3ba526084754154b8ad0dd33c9ff837de594be8
Merge: c73018f0 ea87460c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 8 10:23:41 2014 -0700

    Merge pull request #624 from freedomofpress/fix-intermittent-functional-test-error
    
    Fix intermittent functional test errors

commit ea87460cd481bdcf44d182c7ad3347c15ec8f52f
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 10:13:10 2014 -0700

    Avoid broken pipe error by waiting for page reload
    
    The "broken pipe" error generally occurs when Flask (which runs in
    single-threaded mode in development and testing by default) gets a
    request while it is still processing the previous one. This was
    happening in the case of testing editing a user's password because:
    
    1. Make a POST request to /admin/edit to change a user's password
    2. scrypts the new password, which takes several hundred ms
    3. Calls _logout, which uses `self.driver.get` directly and does not
    wait for the page to reload.
    
    Therefore, we request the logout page while Flask is still rendering the
    "change user password" response to return. This is a race condition, and
    so could occur anywhere, but was occurring consistently here due to this
    code path using scrypt.
    
    Fixes #623.

commit 2b03d6a549258c4d8ddaef154f4b06364d6b477e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 8 10:10:36 2014 -0700

    Fix intermittent failures in functional tests
    
    Selenium's implicitly_wait is unreliable in certain contexts (for
    example, when checking the current URL or examining the current page
    source). Adds an explicit polling wait function that takes an assertion.
    
    Fixes #622

commit c73018f0a35a25bbf6ce47eba05e4c9f4f663be4
Merge: fc83a2a6 de0f455b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Tue Oct 7 11:53:54 2014 -0700

    Merge branch 'develop' into pr/621
    
    Conflicts:
            install_files/ansible-base/roles/ansible-securedrop/defaults/main.yml

commit de0f455b04571cc49845a6017426fd9e50b82ae5
Merge: ba4921b9 1fd480cb
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Tue Oct 7 10:01:12 2014 -0700

    Merge branch 'develop' into pr/620

commit 1fd480cbc4169e9d2773162d654b86b13cc2027e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Oct 6 11:45:08 2014 -0700

    Travis should run the test suite

commit 154fe5690d3e640f56b412b8d947fa2024f93838
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Oct 6 11:39:35 2014 -0700

    Template-ize sysctl settings

commit c6d10d33df685a7d9ec7ce5399cfb6ff6a799589
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Oct 6 11:19:58 2014 -0700

    Rename securedrop-requirements.txt so naming is consistent with Ansible

commit eaa1dc6eb63dba0a7d736680ac73f3fa45825eb5
Author: James <james@freedom.press>
Date:   Mon Oct 6 03:15:28 2014 -0700

    added tasks to remove bluetooth wireless kernel modules
    added dns ip to iptables rules
    ensure that the dns ip in the iptables rules is defined in the dns resolver
    default dns server is googles 8.8.8.8

commit ccfeea2968f2eeaeab969720a60851a23a985881
Author: James <james@freedom.press>
Date:   Mon Oct 6 02:33:08 2014 -0700

    broke up the iptables and display onions task files to be app and mon specific

commit fc83a2a64c0d1d6a7413a43dcb6ea499f42d9f63
Author: James <james@freedom.press>
Date:   Mon Oct 6 01:49:03 2014 -0700

    will need to change the name of the grsec package to ensure there wont be a conflict but in order to ensure the grsec kerenl doesn't get overwritten added the non grsec kernels to the unattended-upgrades blacklist. this will ensure that the grsec kernel is the highest priority and always booted.
    
    added grsec to skip task till rename the grsec package in the fpf repo to work with current config
    
    updated unattended upgrades to us OS variables instead of being an ansible template

commit dffc4f1cbc6efc256db7a564c08a7fc1cd1ed68c
Author: James <james@freedom.press>
Date:   Mon Oct 6 01:47:04 2014 -0700

    added tasks for installing grsec kernel from fpf repo

commit ba4921b973a3ebb4c922f3e3bcf2ecd6dec87343
Author: James <james@freedom.press>
Date:   Mon Oct 6 01:02:35 2014 -0700

    added tasks for creating the ossec-agent deb
    added tasks for installing local ossec-agent deb
    added tasks for install ossec-agent deb from fpf repo
    updated ossec-agent DEBIAN to for new install

commit 56d9b0f1a684e63bd02bf2fc3ec0a515771b407f
Author: James <james@freedom.press>
Date:   Sun Oct 5 20:01:11 2014 -0700

    removed the non-idempotent sysctl task that was replaced by using the internal module

commit beeb3d8b34c0b1694cc0b91e1eaa8956d52b00ab
Author: James <james@freedom.press>
Date:   Sun Oct 5 20:00:39 2014 -0700

    fixed display onions and updated gitignore and docs with correct name

commit 915ff8ea1a6dc6a75e50dec6a46706773f912e73
Author: James <james@freedom.press>
Date:   Sun Oct 5 18:56:49 2014 -0700

    changed variable name for sshUsers to ssh_users
    removed the global vars from the mon playbook since all of the global vars are in the securedrop-ansible/defaults/main.yml now

commit 0a8ba56a06735724e96db6e620668ecd13714db9
Author: James <james@freedom.press>
Date:   Sun Oct 5 19:09:59 2014 -0700

    simplified tor configuration.

commit 000623dfdf83348ec890155358cad1ade55e4f34
Author: James <james@freedom.press>
Date:   Sun Oct 5 19:08:06 2014 -0700

    renamed task files to be reflective of what they are now.
    
    changed the way config.py tasks were written to make them idempotent and not to overrite secret values every time.
    
    changed fetch file name to be consistent with other filenames

commit 8a09ed2107253a5fcdf941dd0787e9b2ad2c4286
Author: James <james@freedom.press>
Date:   Sun Oct 5 10:48:05 2014 -0700

    added playbook and conf file for travis
    don't think symlinking the config.py works for travis.
    removed all the hardcoded paths in the playbook tasks for development
    removed task tag for displaying the tor onion which doesn't exist in development

commit e2af18bc6dcc2ed8fecabf92498098de5a66b6d6
Author: James <james@freedom.press>
Date:   Sun Oct 5 10:39:31 2014 -0700

    checkout .travis.yml from fpf/travis-use-anisble
    modified it to reflect the new playbooks and config files

commit ce39ce8a05a573721e6a86308804616f798e3bc2
Author: James <james@freedom.press>
Date:   Sun Oct 5 13:57:47 2014 -0700

    removed the a2 commands and converted them to built in modules to make them idempotent
    added when conditionals for generating the config.py and added option to make a backup of it, if it gets clobbered.
    removed check for symlink in app code since symlinking was removed from the playbook

commit 8b919313276604a5cbfbe878bc58ac0c31466d8b
Author: James <james@freedom.press>
Date:   Sun Oct 5 13:55:48 2014 -0700

    made the sysctl task idempotent. This will also make adding the grsec part easier

commit 52c863912cda776fa83f9b76b0e8310fa1573124
Author: James <james@freedom.press>
Date:   Sun Oct 5 13:55:05 2014 -0700

    combined some of the tor tasks to make the tasks/main.yml more readable

commit 4a6c4c0acd9952a318f49bf47d35cb9cbddb974a
Author: James <james@freedom.press>
Date:   Sun Oct 5 13:53:01 2014 -0700

    moved variable definations to default/main.yml instead of having them in each playbook

commit 407875b6aa17140ab51ac82fcdc6ad16b548bda3
Author: James <james@freedom.press>
Date:   Sun Oct 5 13:50:28 2014 -0700

    removed debs config file and playbook since that role just uses the staging info with different tags

commit 8cbe876ea0dd688043e6a0b72d6a428833a45c90
Author: James <james@freedom.press>
Date:   Sun Oct 5 13:48:47 2014 -0700

    removed hardcoded paths in tasks files and updated config files for them

commit 30e7211face9bc1edd91a8ae04b276a0b3a7c4f1
Merge: 5b705bbe 8ec8e945
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 4 14:18:49 2014 -0700

    Merge pull request #615 from dolanjs/combine-roles
    
    Combine roles

commit 8ec8e9455208a21f7331786ff64a007aabbbb80f
Author: James Dolan <james@pressfreedomfoundation.org>
Date:   Sat Oct 4 16:56:39 2014 -0400

    @garrettr had combined the dependencies listed in test-requirements.txt into dev-requirements.txt
    removed the associated task and deleted test-requirements.txt from the repo
    a grep showed no other references to it.

commit 1da43d9713bf0733da1de5377a13b991903d3733
Author: James Dolan <james@pressfreedomfoundation.org>
Date:   Sat Oct 4 16:49:21 2014 -0400

    updated doc to show correct interface ports for staging server.
    sudo (and then any command) not working for me, so switched back to sudo su. Until have time to see why it doesn't work.
    replaced ??? with the actual future filename from david's pr

commit 5b705bbe049acebcf09f64fda65fcc192a12336b
Merge: 5f5424cc 0e7b9cbb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Oct 4 11:36:02 2014 -0700

    Merge pull request #614 from runasand/develop
    
    Documentation related to the 0.3 release

commit 0e7b9cbb53fc03da383fb90ba9f6b0f8c4424315
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Fri Oct 3 12:57:57 2014 -0400

    Updated to also cover the Admin Workstation

commit d19b49097cf32bf0312ba30ef11680f2f2ea49ab
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Oct 2 19:00:52 2014 -0700

    updated doc to show when to use sudo

commit bd0584b33827583e6089c6d6caf0c0f9522329ee
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Oct 2 18:15:42 2014 -0700

    updated to doc
    added a tag for task that install the test and dev depends. This way they can be skipped when using staging to create apparmor profiles

commit 048f2a9b2824ce120b322d8b485ab7d56fd56d78
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Oct 2 16:04:04 2014 -0700

    updated permissions for unattended-upgrades

commit 100fd7d1c13d52f0d38df635be593d491f382f4e
Merge: 6ffc9dc9 5f5424cc
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Oct 2 16:02:43 2014 -0700

    Merge remote-tracking branch 'upstream/develop' into combine-roles

commit 6ffc9dc92558375ba61879dcfdfccb4cf75c92b1
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Oct 2 15:52:16 2014 -0700

    updated directions and added task so manage.py is run on the development branch

commit 5f5424cc0ffc153be2be697005891e6f05e14422
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Oct 2 09:25:20 2014 -0700

    Fix setup_dev.sh due to ansible changes

commit 76dc06395260aa0942b090e2775f1ccae42ca6f4
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Oct 2 15:06:26 2014 -0700

    Combined the 3 roles in one ansible-securedrop
    split the playbooks into one development, staging, app and mon (debs uses the staging playbook to avoid config issues)
    each playbook has it own inlcuded vars file securedrop-staging-conf.yml
    for the app and mon playbooks the admin will need to copy and fill out the example conf files

commit c5649208c3d40a3d86cc23c702a5542c18d9b1e3
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 2 16:01:43 2014 -0400

    No need for manual kernel patching

commit 8323e4da146464559ff45546ae9a98dd926541b1
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 2 11:47:54 2014 -0400

    Updated instructions screenshots for GPG key generation (#529)

commit d41966fd418d098da9992b69f7e105e8167bee31
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 2 10:55:43 2014 -0400

    Change referenes to 12.04 to 14.04.1

commit b794025ef9ad6106ccea5d84cf1343c950c426cb
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 2 10:47:15 2014 -0400

    Point to Tails website for creating and using encrypted volumes

commit 09e143e573698420bca035f40451f4ca00103651
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 2 09:06:20 2014 -0400

    nitpick

commit 7f191512dde8f562ab4bc67b4598fe57f62b11f9
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Oct 2 09:04:18 2014 -0400

    Updated with 14.04 and removed some unnecessary bits

commit 649ee4ae0e67104c300a5a979241951b82acff19
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 21:47:18 2014 -0700

    fixes for deb and staging environment

commit 064b0364f98385a1b26dfee2ab1c5dfb7e7e0a64
Merge: 9c7d41a8 017ebad3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 20:15:39 2014 -0700

    Merge branch 'wsgi-file-dev-env' into ansible-tags

commit 017ebad36b71b8caf49f7129e84783472afcc3a9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 20:14:25 2014 -0700

    add missing dep from test-requirements to dev-requirements

commit d803c639181f966140d491c3ced2def6425a3546
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 20:14:02 2014 -0700

    symlink config.py.example to ansible template

commit cd83bcdcf29fff7f6a3674533e898a4935759624
Merge: f999f4e4 a4669825
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 19:40:15 2014 -0700

    Merge branch 'develop' into wsgi-file-dev-env
    
    Conflicts:
            securedrop/config.py.example

commit f999f4e45142e217d60049c5b0013eda8890dfe1
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 19:37:57 2014 -0700

    Fix spacing

commit 48860000ca03040cab01f7f079d8ecb21432541c
Merge: 1fa96c69 9b7cd38f
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 22:15:47 2014 -0400

    Merge pull request #9 from garrettr/staging-fixes
    
    Staging fixes

commit 9b7cd38f3d6cca840a0a304262e4e9dfbcafa897
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 19:12:04 2014 -0700

    Do setup to run the functional tests on staging
    
    This is not ideal, since the functional tests require dependencies that
    will now be present on the staging server but would not be present on a
    production server. For now, we'd like to be able to run all of the tests
    to generate the best possible AppArmor rules, but we should revisit
    this. Ideally, you would run the tests remotely, which should be fairly
    easy to do with the functional tests at least.

commit d46ad01121b05ba031f6a1cd9a6c3870d66ef470
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 19:11:32 2014 -0700

    No longer makes sense to set up AppArmor on development host

commit 1fa96c6914cbc2ae4dbaee059a97be190e5cc0f5
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 19:10:48 2014 -0700

    removed some of the extra stuff from upstream tor role

commit 45d07c64fc00b004ea352abe0911d2e424bfcdb0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 19:10:18 2014 -0700

    Use autostart flag to only provision and use the development VM by default

commit 2f0e600b28f448c7d993a57b33e99bc5a42fdce1
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 19:09:34 2014 -0700

    Fix incorrect port forwarding in Vagrantfile

commit 1461d5c784f1d8433f65ede247bb17ba5c0d87f1
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 19:08:59 2014 -0700

    Use consistent naming for development host and role

commit 9c7d41a87fd45cfd139219641dcc9d0ebbf96851
Author: David Stainton <dstainton415@gmail.com>
Date:   Thu Oct 2 01:16:57 2014 +0000

    Fix minor bugs with building the deb package

commit a4669825fd7ed3baef34d7d70da504014c3e4b70
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 18:07:37 2014 -0700

    Patch two-factor verification in the unit tests

commit 5559f76c92183f666e0b9b6bea48341884b7e09e
Merge: 0a690a03 b64619f4
Author: David Stainton <dstainton415@gmail.com>
Date:   Thu Oct 2 01:01:33 2014 +0000

    Merge remote-tracking branch 'dolanjs/wsgi-file-dev-env' into ansible-tags

commit b64619f4ffb3fc448086979b5c0c8b9627b480eb
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 18:00:16 2014 -0700

    removed micah's old chroot-dev script

commit 0a690a03c8e02b7ead955d0641a4987e45cc5120
Merge: 56921547 13839429
Author: David Stainton <dstainton415@gmail.com>
Date:   Thu Oct 2 00:59:04 2014 +0000

    Merge remote-tracking branch 'dolanjs/wsgi-file-dev-env' into ansible-tags

commit 56921547b93989f38d75d2043a1f90513ba3757b
Author: David Stainton <dstainton415@gmail.com>
Date:   Thu Oct 2 00:55:12 2014 +0000

    Adjust fetched filename

commit 138394292d6a99427ac25f54153bcf2933afab2d
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 17:54:47 2014 -0700

    removed app and app-hardening packages because they have been replaced by ansible

commit 9903caa8922c87b7fe95322aa60d94b79e50792d
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 17:52:38 2014 -0700

    added additional vm for building deb packages. Deb packages will be created in /tmp dirctory and then copied back to /vagrant directory for other vm to use

commit cf9a4da419336f615faadd59531d598567a0eb16
Merge: e5b5d917 e3eda951
Author: David Stainton <dstainton415@gmail.com>
Date:   Thu Oct 2 00:40:53 2014 +0000

    Merge remote-tracking branch 'dolanjs/wsgi-file-dev-env' into ansible-tags

commit e5b5d91799cb3281010e5791601cc2841ab00bde
Author: David Stainton <dstainton415@gmail.com>
Date:   Thu Oct 2 00:38:42 2014 +0000

    Fix some bugs with exporting hidden services info

commit e3eda951f317b0af264f231faede9cbb5a822c44
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 17:38:32 2014 -0700

    moved building the deb packages to a different task list that will not be run in the staging environmnet. Building the deb in the staging env was causing additional depends to be installed which were affecting the apparmor profiles. The deb will be built in a different vm with deb package saved to /vagrant so all the other VM's can access them

commit 56f14dfb2a9d1b08cd85dfe4b29a395e3c432fe9
Merge: 1c560898 a076f225
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Oct 1 17:36:51 2014 -0700

    Merge pull request #613 from freedomofpress/admin-interface-tests
    
    Admin interface tests

commit 1c5608987ff17edce6a30a5e188fc65659a921a4
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 17:33:15 2014 -0700

    Add Slack token for Travis integration

commit a076f22546552f30f11519ac6e42801010a15b19
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 17:10:09 2014 -0700

    Patch two factor verification to avoid intermittent errors with TOTP

commit 97a2f26c4221307887a3f4fcad3852e4f3bfc8dd
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 17:09:42 2014 -0700

    Functional tests for the admin interface

commit 260d2f8eeef6984ba95e021fb91e5045c4953530
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 17:08:43 2014 -0700

    Better logging for exceptions during login

commit 99db11f0af63f7d5dfa416c72b72198fb6e8d14f
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 17:07:16 2014 -0700

    Trailing whitespace

commit f097fc0cd2f8f0f0e40b761b48a1588f4256bbbe
Merge: ebcdc2bb aa1d88fa
Author: David Stainton <dstainton415@gmail.com>
Date:   Wed Oct 1 23:30:21 2014 +0000

    Merge remote-tracking branch 'dolanjs/wsgi-file-dev-env' into ansible-tags

commit ebcdc2bbb594a2951f9252c9b2baea0feac9be72
Author: David Stainton <dstainton415@gmail.com>
Date:   Wed Oct 1 23:27:01 2014 +0000

    Minor corrections to playbook and conf files

commit aa1d88fa138501193572b33abcabc4e1cb61cbe6
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 16:25:15 2014 -0700

    working on building deb packages as part of staging env

commit 12ce61df0293e831d74ea139e494d67034fea5fb
Merge: 780ac6ff e59cab09
Author: David Stainton <dstainton415@gmail.com>
Date:   Wed Oct 1 22:41:53 2014 +0000

    Merge remote-tracking branch 'dolanjs/wsgi-file-dev-env' into ansible-tags

commit e59cab091532b08586bb44c5f9504cb934fd1571
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 15:39:30 2014 -0700

    updated tags in Vagrantfile to match tags in tasks/main.yml

commit 780ac6ff40a08a09661c3966217732f3eab723d1
Merge: 41a36e0f 7ec0ed19
Author: David Stainton <dstainton415@gmail.com>
Date:   Wed Oct 1 22:34:47 2014 +0000

    Merge remote-tracking branch 'dolanjs/wsgi-file-dev-env' into ansible-tags

commit 41a36e0f0ee7d2bffe23bda77ccaf49c06b9d46f
Author: David Stainton <dstainton415@gmail.com>
Date:   Wed Oct 1 22:32:59 2014 +0000

    Export all the Tor hidden services connection information
    
    This is a rough draft.. and untested.

commit 7ec0ed1943cdc192633becefcfd3257e2c7f0264
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 14:48:06 2014 -0700

    commented out removing admin users from ssh group if they are not listed in the secureDropConf.yml file

commit dfbb9022e4011d4d5c2fb75402a0e2a3d255cdf3
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 12:49:01 2014 -0700

    first attempt at having ansible create the deb packages for staging on the guest OS

commit 1ac853bf2e9044a88f1a5aac243809cac28f2e9f
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 12:41:29 2014 -0700

    where to find ATHS values
    
    Added where to find ATHS values for each environment

commit e6be9bc4924e14fac473b3621b3b93196e05cd69
Merge: 2a88c81e df7ce36b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 11:48:33 2014 -0700

    Merge branch 'pr/612' into develop

commit df7ce36bad1eadaf0b368e5487337e5e91cce5cf
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 11:48:11 2014 -0700

    DRY HOTP reset code and rename functions for clarity

commit d799e4033a6f8028cdd6f1518f52fe71e102a7dd
Merge: 3f6f43dc 8f4ec2f5
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 11:30:26 2014 -0700

    Merge remote-tracking branch 'origin/pr/612' into pr/612
    
    Conflicts:
            securedrop/db.py

commit 3f6f43dca21c7e9d9a2afa03cb8c080137961210
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 11:26:52 2014 -0700

    Document YubiKey setup

commit 505b2af977cf23b0eaaf0992c3af34ef5728028d
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 11:26:23 2014 -0700

    Nicer output formatting in manage.py

commit 96e0ba5cac43f3585a05e784f47ef5d17be21de3
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 11:24:49 2014 -0700

    Loop until something is entered for the HOTP secret
    
    If you choose "y" for "use HOTP", but then accidentally hit enter
    instead of entering something for the HOTP secret, the program would
    interpret the empty string as a "false-y" otp_secret value and revert to
    generating a TOTP secret and displaying the QR code. This change loops
    until something is entered for the HOTP secret to avoid this confusing
    situation.

commit be5a7248b9307ed4baed863146faa4e36a77f722
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Oct 1 11:24:39 2014 -0700

    Remove spaces from HOTP secret key automatically

commit 8f4ec2f5140407ccdc816ea5366ac4d8e63f78ae
Author: William Budington <bill@eff.org>
Date:   Wed Oct 1 11:03:42 2014 -0700

    Reset counter when they reset user HOTP

commit 891fec8a52f33206c49a26c83e483d4f4450a460
Merge: 52a0f529 ae3eaef7
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Wed Oct 1 13:53:05 2014 -0400

    Merge pull request #8 from garrettr/remove-invalid-admin-users-ssh-access
    
    remove non-admin users from the ssh group

commit 5415c85f7eb751d333ce058863f8e81737c567d2
Author: William Budington <bill@eff.org>
Date:   Wed Oct 1 10:52:35 2014 -0700

    Spaces in otp secret are a-ok!

commit 2a88c81e5496c7090506297fea1be943fd649af2
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Wed Oct 1 07:26:12 2014 -0400

    Added blurb about two-factor authentication devices (#597)

commit 270784ad1d8eb7a63de6d9c6b722079936ccc173
Author: William Budington <bill@eff.org>
Date:   Wed Oct 1 01:09:39 2014 -0700

    Separating out routes to reset otp_secret for HOTP and TOTP.  Adding template for editing HOTP

commit ce320d7d10fbb35082ec0196a3bc3a812b14b170
Author: William Budington <bill@eff.org>
Date:   Wed Oct 1 01:08:10 2014 -0700

    Adding method to manually set otp_secret on Journalist model

commit 422de1ccf8a7736b1c010a4135c02e30185183e7
Merge: 52751a7d b419b57f
Author: William Budington <bill@eff.org>
Date:   Tue Sep 30 23:12:03 2014 -0700

    Merging develop into journalist-login

commit 52751a7d794841f71e4fdce42d614044f027ee3a
Author: William Budington <bill@eff.org>
Date:   Tue Sep 30 22:12:07 2014 -0700

    Cleaning up unnecessary lines a bit

commit ae3eaef72a095926f52732c624b090099f8d40a2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Sep 30 20:33:52 2014 -0700

    remove non-admin users from the ssh group
    
    This change makes it easy to revise the sshUsers variable in the main
    conf file, and then re-provision the system to disable access for users
    who were admin users but are no longer.

commit b419b57fae56c4409dfd60f215ac3b9b9d109bb0
Merge: 546b124c ce335499
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Sep 30 19:03:40 2014 -0700

    Merge pull request #611 from freedomofpress/config-rename-roots
    
    Better names for dirs in config

commit ce335499ead7ea45f8820981e5682cd13bb34967
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Sep 28 09:08:23 2014 -0700

    Better names for dirs in config
    
    Previously, we used `SECUREDROP_ROOT` for the directory where all of the
    data (db, submissions, keyring) was stored. This caused confusion, as it
    sounds like it refers to the root of the web application
    (`/vagrant/securedrop` or `/var/www/securedrop`, depending on dev or
    prod).
    
    Changed `CODE_ROOT` => `SECUREDROP_ROOT`
    Changed `SECUREDROP_ROOT` => `SECUREDROP_DATA_ROOT`

commit 52a0f52905175c67f1ca31c6ed90fefe326fa936
Author: James <james@pressfreedomfoundation.org>
Date:   Tue Sep 30 12:29:24 2014 -0700

    updated develop doc to explain what files to symlink for differnt environments

commit 27980dece920cc85c01affadb95f8700d52717cb
Author: James <james@pressfreedomfoundation.org>
Date:   Tue Sep 30 12:19:05 2014 -0700

    added 8082 as the source interface on staging vagrant host
    and 8083 as the document interface for staging vagrant host
    staging environment doesn't symlink the /var/www/securedrop but installs a local deb package defined in external yml file

commit cc34ff2d412635abf2a90bebfbaf61339356e793
Author: James <james@pressfreedomfoundation.org>
Date:   Tue Sep 30 11:32:52 2014 -0700

    reverted staging external yml file to what it was previously.
    Need to change playbook from symlinking the /var/www/securedrop dir to installing local deb package for staging env

commit 0e10332254865ca234532ca52b52b5b981105339
Author: James <james@pressfreedomfoundation.org>
Date:   Tue Sep 30 11:18:15 2014 -0700

    changing the tags for updated environment names.
    Also broke out the differnet environments in Vagrantfile
    updated the doc to include symlinking the external yml file
    
    still need to fix some things from @garrettr pull request that broke some of the variable names for staging and app

commit 529a4af6dfad8924fc6278d318269f553711803d
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Tue Sep 30 10:17:32 2014 -0700

    spacing

commit c7e20523f2f69417d9d896a7bc1c33076652209e
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Tue Sep 30 13:02:53 2014 -0400

    typo

commit b254aeba6bff3b2f87f05f6b56ccd7caf82107f9
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Tue Sep 30 13:01:56 2014 -0400

    code block

commit 87d3b57d6fd45531c676bd79a80857a68787c583
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Tue Sep 30 13:00:36 2014 -0400

    spacing

commit fa5593b8fcf2334d0a1e567b19d1dc82c0df350f
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Tue Sep 30 12:59:55 2014 -0400

    update

commit 546b124c2344be123e9509bf2190dd9e1af8c912
Merge: 159f4cce c93d52ad
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Sep 30 09:54:52 2014 -0700

    Merge pull request #609 from freedomofpress/refactor/unit-tests
    
    Refactor unit tests

commit 85edb891a7a3460dfed5d075dcf06fa8a20b90ed
Author: James <james@pressfreedomfoundation.org>
Date:   Mon Sep 29 21:54:46 2014 -0700

    updated Vagrantfile (note all the tags don't exist yet) only dev will currently work.
    Need to update playbooks to changes to staging environment vagrantfile layout

commit 02e558020e0fa303d84278e1adba95665486198b
Merge: 73ca6dcf 0310380f
Author: dolanjs <james@pressfreedomfoundation.org>
Date:   Mon Sep 29 02:31:24 2014 -0400

    Merge pull request #7 from garrettr/dev-env-fixes
    
    Dev env fixes

commit 0310380f01a53208ab877e51b3d2a6d6b5e10366
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Sep 28 21:11:06 2014 -0700

    Finalize ansible dev environment
    
    These changes replicate the existing dev setup's functionality.

commit 32be4e4b958489a3e839b6f2f1a163049ed28abf
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Sep 28 16:32:47 2014 -0700

    Make Vagrant's forwarded ports match convention
    
    8080 => Source Interface
    8081 => Document Interface

commit c93d52adb2b24d6c103ee22cb83ee559b28db06c
Author: Yan Zhu <yan@mit.edu>
Date:   Sun Sep 28 15:28:49 2014 -0700

    Refactor test_unit.py into smaller tests

commit ce6e926ef2b02c571d016b6b9a08bc080d16b96f
Author: Yan Zhu <yan@mit.edu>
Date:   Sun Sep 28 14:50:19 2014 -0700

    Pull common unittest methods into common.py, remove unused modules

commit 43da3bb7654ec106a0ed0e5c7e7996a7716ad90d
Author: Yan Zhu <yan@mit.edu>
Date:   Sun Sep 28 14:05:21 2014 -0700

    Add manage.py command for running unit tests only

commit 73ca6dcfc186de9708ec98c6fc8d29d3d54cf438
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 13:19:08 2014 -0700

    commented out OSSEC till the package is in the fpf repo

commit 1abb9275d0544fc27a9c4687112eaa20613bbc28
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 10:17:12 2014 -0700

    added apparmor profiles to securedrop-app-code postinst in enforce mode

commit 1c31c35d74acf5a9ef851e63aa65b1f673846fa6
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 10:14:34 2014 -0700

    trying more apparmor stuff.... not tested yet

commit 60a09d1fc954729b93d36035d16abb0290edfef6
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 10:08:04 2014 -0700

    working on apparmor profiles.

commit 49a79e4876f0055ebcce1a8604ffc98c6a0ee9c3
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 09:20:59 2014 -0700

    added the aparmor profiles for the dev environment in complain mode, and then for staging put them in enforce mode.
    For profuction the securedrop-app-code package will deploy the apparmor profiles and put them in enforce mode.

commit c7ca99c4da2cb1813406d62bd22a39f2e93b8083
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 04:33:08 2014 -0700

    had to breakout creating the app directory structure prior to task with the symlink check for production or else it was generating an error.
    working for development. Need to ask @ageis to put the ossec-agent.deb in the fpf repo to fully test staging
    same for the updated securedrop-app-code deb

commit 8dcd836c25a0221a4a8f3c8199068d59f801447a
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 04:13:23 2014 -0700

    turned the apache ports.conf source.conf and document.conf into templates so we can remove the localhost and symlink protections for the development and staging environments
    added a apache2 handler to restart the service if the sites change.
    renamed secureDropConf.yml.example to secureDropConf.yml.production so it make more sense
    need to test in production

commit cd3c0bb0f5eb79606a7197b65582d4297b969ceb
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 03:13:49 2014 -0700

    changes from trial and error beacuse of @garrettr request

commit 167eece31b35e39f09a0bb856498fbdfc973eee9
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 03:10:02 2014 -0700

    added handler for restart apache after placing enabling the source and document site

commit 0c203ccda2d88f81bbde2e68491a7ec2b42f3f53
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 01:56:01 2014 -0700

    added dev deb dependency of python-pip
    use the apache_user variable instead of the www-data for wsgi app file ownership

commit 4d509b7a40a972b184f0d42193f9940a07338477
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 01:36:36 2014 -0700

    updated the path for apache to look for the wsgi files

commit 94f7aa91651bde933c8827097edc884d2a40e826
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 01:24:52 2014 -0700

    because @garrettr didn't want the wsgi files mixed with his app code in the github repo
    and for the dev environment /var/www/securedrop is just a symlink to /vagrant/securedrop have to move the wsgi files to /var/www/
    and reconfigure the rest of the apache configs for that

commit 1551de5863eb5b33f1eb9be89cf02425a4bc1bcf
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 00:55:12 2014 -0700

    Beacuse @garrettr didn't want the the wsgi config file mixed with his app code file in the github repo....
    re-organizing all of the apache config file so ansible will deploy the source.wsgi and document.wsgi files
    beacuse in the development environment the /var/www/securedrop is symling to /vagrant/securedrop these files will need to be located /var/www

commit e9cff9315648077647414bafd4f49070a819a20d
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 28 00:22:49 2014 -0700

    updated build_deb_pacakge script and directions
    made changes due to lintian output.
    moved the ossec task to on the last task to that it doesn't go crazy with file integrity alerts for the install

commit 1bbbb8447b47f94d80d816709cb4e5edd2d8d0bd
Author: James <james@pressfreedomfoundation.org>
Date:   Sat Sep 27 22:14:03 2014 -0700

    moved the monitorIP variable to the secureDripConf.yml files since it is an instance specific config
    and is a value we can also configure in the vagrantfile for the development/staging environments

commit 5b4ab481186e7f31fa968159be9fefe445720a4e
Author: James <james@pressfreedomfoundation.org>
Date:   Sat Sep 27 22:02:27 2014 -0700

    removed securedrop specific files from /etc/directory
    renamed the doc and lintain overrides with the correct package name

commit 091a1bf50b327a8014b4d3f62725cd7e7a95f202
Author: James <james@pressfreedomfoundation.org>
Date:   Sat Sep 27 21:53:29 2014 -0700

    moved securedrop specific agent config to ansible-securedropAppHardening role
    removed securedrop specific sections from postinst
    since this package was designed to be configured by ansible I removed the debconf question for the monitor ip

commit 509d13d53cb6a2f89c9ee0e36e385f3792e22165
Author: James <james@pressfreedomfoundation.org>
Date:   Sat Sep 27 21:30:37 2014 -0700

    renamed ossec agent deb package since it will not be securedrop specific

commit f0c05ed442f0f1ed17e6ac0898befd1e2cbc7467
Author: James <james@pressfreedomfoundation.org>
Date:   Sat Sep 27 20:51:03 2014 -0700

    moved all tasks from the appHardening and appInterfaces main.yml to separate files.
    taged all include statements in the appHardening and appInterfaces main.yml files.
    added all environment tags to the tor role
    added a 4th tag called tor so developer could choose to skip it for the development environment to reduce provisioning times
    
    switching from staging to development environments does not currently work
    development environment is not functional yet

commit 159f4cce57cfd009a6fcd80c706d7ecca9009881
Merge: 293423fb 5c85e5df
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Sep 27 19:07:09 2014 -0700

    Merge pull request #522 from freedomofpress/journalist-login
    
    Journalist login

commit 5c85e5dfdeef2d3848e345fa07ecb28dc012b506
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Sep 27 19:03:04 2014 -0700

    Refactor and cleanup

commit 6c66a13108f9cd63bda4f881a32d9563c1701a1d
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Sep 27 18:01:43 2014 -0700

    Use UTC for all datetimes in the database

commit 0d840f0c9e840de304c1c10459cc1a5267483f5d
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Sep 27 17:42:36 2014 -0700

    Better formatting for the QR code URI

commit 2278d85b9dbb49521a6fdddcdc19f37bb453943f
Author: David Stainton <dstainton415@gmail.com>
Date:   Sun Sep 28 01:00:24 2014 +0000

    Teach vagrant to sync dir with proper ownership

commit cce44bb634bafd1b0d5a56afedfd79ada45eb46c
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 27 21:30:40 2014 +0000

    Remove obsolete apache directive

commit e578b9af28bd29600d51f7b4f7078eff820cac12
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 27 21:16:48 2014 +0000

    Force upgrade of tor if new one is available

commit 2b305bcc43df1a4d0da11b8eafedf51436932d0c
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 27 21:03:28 2014 +0000

    Add portforwarding for vagrant app

commit e60cb0ecbe94bc864cdb9c293b6086179598a4ea
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 27 20:50:39 2014 +0000

    Fix tags

commit 569e7f2b3046a21c3ff837bbb2ca15cbcebe8d2e
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 27 20:16:29 2014 +0000

    Add minimal ossec task list

commit 1d1ae2fbc2aba5d109dc1245f41729819d356048
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Sep 26 18:43:45 2014 -0700

    Update tests to work with journalist login flow
    
    Fixes tests that were broken by the new login flow. Also adds a
    functional test for logging in and some (not enough) unit tests for
    aspects of the admin interface.

commit f0f3e926bcf4fe310ccf35c8765b1644dc278c1e
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 27 00:58:05 2014 +0000

    Change sshUsers to a list instead of a dict

commit 94a9637ce2c8edfbd4b85be861e1bf67a164331f
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 27 00:28:30 2014 +0000

    Add ssh group to created users

commit ace91b073e1d7da0a548e1b86e10b5570c00cf7a
Author: James <james@pressfreedomfoundation.org>
Date:   Fri Sep 26 17:13:26 2014 -0700

    added copying and loading the sysctl.conf.

commit fa8e9f47c5fd8d2c4ef3813962639b31af0b3777
Merge: bddf5868 341d1069
Author: James <james@pressfreedomfoundation.org>
Date:   Fri Sep 26 17:05:52 2014 -0700

    Merge remote-tracking branch 'david/ansible-tags' into ansible-app-iptables-non-dev-env
    
    Conflicts:
            install_files/ansible-base/roles/ansible-secureDrop-AppHardening/tasks/main.yml

commit bddf5868bc4eb911d302df6821c08564a979de6e
Author: James <james@pressfreedomfoundation.org>
Date:   Fri Sep 26 17:01:00 2014 -0700

    added tags back to iptables

commit 341d106964f1b97c3769bfe4a5fc59f4d34128eb
Author: David Stainton <dstainton415@gmail.com>
Date:   Fri Sep 26 23:49:11 2014 +0000

    Teach ansible to create user account with ssh keys and sudo access

commit 015b21e01504aee55ce1caf6684c88946630dbf7
Author: James <james@pressfreedomfoundation.org>
Date:   Fri Sep 26 16:15:42 2014 -0700

    fixed typo

commit 053f8315264a9a2bc3d2f2ee4efceff23b1cd5c7
Author: James <james@pressfreedomfoundation.org>
Date:   Fri Sep 26 16:11:52 2014 -0700

    added iptables rules for app server and a if-network-up script to load the rules.
    Did not create a handler to load the iptable rules on purpose. Since in production this would lock kill the anisble/vagrant/admin-workstation ssh connection to the host before the install was finished

commit 028909379307200891079da9f48ae547b7046719
Author: David Stainton <dstainton415@gmail.com>
Date:   Fri Sep 26 22:08:12 2014 +0000

    Remove google auth code gen and add symlink check for workflow switch

commit f8e11356692ff241e0facb69f74d222c59fa72c4
Author: David Stainton <dstainton415@gmail.com>
Date:   Fri Sep 26 19:16:25 2014 +0000

    Teach Vagrant to skip "production" Ansible tags
    
    Here we mark various tasks with the following tags:
    - production
    - staging
    - development
    
    The point of this is to mark certain tasks that are specific to a particular work flow.
    Therefore this "development work flow" means that the Vagrantfile specifies that it
    wishes to skip tasks tagged with "production" tag.
    
    We can of course create the inversion of this scenario where we run *only* the tags
    we specify...

commit 6ebc178eec1511d2f513c7cb8232a4614e72922a
Author: James <james@pressfreedomfoundation.org>
Date:   Fri Sep 26 10:34:51 2014 -0700

    commented out the when env = prod or stag statements that didn't work

commit e6ea6a8ce2c022e3f19645c4740dfa400e948585
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 18:50:45 2014 -0700

    added option to external yml config to set the securedrop environment.
    If 'dev' is set, ssh configs, 2fa, tasks will not be run.

commit a106f56f06982252b4e78be91e06c4176dbe268c
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Sep 25 18:14:08 2014 -0700

    Rename test_setup.py to common.py
    
    The convention (followed by py.test and others) is to expect files with
    a test_* prefix to contain tests. test_setup.py contains common setup
    and teardown functions for SecureDrop, so I renamed it something less
    confusing.

commit 7f60fd5b7a1ee7e8c4a2d2368853ee7fee4e969f
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Sep 25 17:02:58 2014 -0700

    Remove useless test_submit_clean_file test
    
    This test is leftover from when we had MAT integrated to attempt to
    automatically remove file metadata. It doesn't add any additional
    coverage beyond what test_submit_file covers, so I'm removing it to get
    rid of clutter.

commit b07a41d79855f9a817d7033b7250088cdc9860f0
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Tue Sep 23 14:31:54 2014 -0700

    fix failure to pop uid on logout

commit 0379b82dae4a704230a421e704519282656cd0cc
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Tue Sep 23 14:30:33 2014 -0700

    Made admin user more like a normal user
    
    Based on feedback from James, the login flow for an admin user is now
    the same as a normal user. They login to the `index`, and clicking the
    SecureDrop logo takes them back to the `index`. They now have an "admin"
    link in the top right corner that takes them to the `admin_index`.

commit ef1edb34378d654daa6319b0fd118a75f4ddb071
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 16:35:13 2014 -0700

    Add option to reset a user's two factor credentials

commit ef7aba9a9ecd52ee37f6bb2ec139e1fe9906f720
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 15:55:30 2014 -0700

    Clarify two factor authentication setup for new users

commit 79d4337896aa5e875b465ff3230ddd5512eb6651
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 15:43:33 2014 -0700

    Nicer layout for "add new user" form

commit 649a970bbdebb969ebba10db7f53939e06076e05
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 15:42:55 2014 -0700

    Pass correct value for is_admin to ORM depending on form input

commit 503f2d6660235f1ea5546e9acb9cc528af40a9b4
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 15:30:11 2014 -0700

    Prevent deleted users from continuing to be able to log in

commit 40cc3d9b8c247d440cf3bd12f2e5c967b29f656b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 15:29:30 2014 -0700

    Header image should link to different index depending on type of user

commit 55651f482973f030478c899097d88866b457b3be
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 14:54:08 2014 -0700

    get rid of unnecessary padding in header

commit 533af6aac2facaae3aa5e5b06107ae245fdd1ebf
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 14:02:38 2014 -0700

    js confirmation before deleting user on admin page

commit a7d6fe01bbed2443d1549adf49fa357f7c3d1efe
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 14:02:12 2014 -0700

    Correctly handle initial case where new user has not logged in yet

commit e6d69e715ec98f94e8b1b57965dc446eae0b0ba2
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 13:36:43 2014 -0700

    Better user table on admin page

commit 260a755bfb30a7ed9bdc6d156c37488a0a042d4e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 13:35:55 2014 -0700

    fix handling of seconds in datetimeformat

commit 54834e22309e3c8dfaead2a07a650a9af87e7ca1
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 12:40:23 2014 -0700

    better "add user" button in admin interface

commit a361f79a6b2b9bd67eea72870e7a8a6318cc2ef2
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Sep 4 19:20:23 2014 -0500

    Add Flask-Testing back, since it provides some useful functions

commit a14caf7b21d198d635fa5de67f04a46ebd79a336
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 19:54:49 2014 -0700

    merge login pages

commit 31710f31e38ac84b16401161387b46209edeb75d
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 19:32:29 2014 -0700

    better provisioning uri for Google Authenticator

commit 188cdcab7bfb2b3feff378fd195fccc68a6192c6
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 19:26:37 2014 -0700

    check two factor code on login

commit 982dcdf288bc90df37bb6cfb7e72f629aafb3668
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 11:00:07 2014 -0700

    add deps for Google Authenticator
    
    * pyotp for computing two factor values
    * qrcode for generating easily scannable qr codes for shared secrets

commit a192e204bb75df7e44388bae6d1e528521864b37
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 10:59:33 2014 -0700

    print qrcode and shared secret after manage.py add_admin

commit fcdbd5fa27df850b64a99c494c7688bb82b68780
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 10:16:20 2014 -0700

    generate and show otp secret for new users

commit 60ba5b1c0c7e4988b2b40a16f9e2c386b5fb2f90
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 10:36:23 2014 -0700

    manage.py command to add new admin users

commit 64e584c4699f51748f6aaf780ec3c56721693132
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 01:47:22 2014 -0700

    process edit user form submission

commit 535c6659699f3b3b8d4444c40b7a6fbcf389fe72
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 01:44:19 2014 -0700

    function to set password for Journalists

commit 856a77aeba60f85f767d5f006c9a2aa702898c62
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 01:11:17 2014 -0700

    admin users automatically go to admin index

commit 4e81d3ddf4604f1c0e4a9a8f3d046d3df14cfc3a
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 01:08:45 2014 -0700

    Use exceptions for login error handling

commit eb2d46df06d7cc14536b4e57d1eab0cd091a44b2
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 01:01:37 2014 -0700

    add timing metadata to journalist users for auditing

commit 97245cd83e7edc819656c3abd32779d82903cda6
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Tue Jul 29 01:00:54 2014 -0700

    add users from admin interface

commit 2d542f4194f18f0c8192cc1608b771a43002adc0
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Jul 28 23:42:35 2014 -0700

    basic admin interface with crud for Journalists

commit 7908e390682a1e7b7b4550873888012441ef0450
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Jul 28 23:08:28 2014 -0700

    Add view decorator for admin-only pages
    
    * clarify similar code in login decorator
    * stash logged in user in `g`

commit 93bbeff375a7cfd306aafc811c909909233b3eb9
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Jul 28 23:06:16 2014 -0700

    Add "is admin" flag to Journalist

commit 26cfb6b5e29e1456a51005778abff13788641224
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Jul 23 19:27:19 2014 -0400

    basic journalist login with username/password

commit c8c46c085a90d77aeabe7ce769ae8873a823144e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Jul 23 19:18:37 2014 -0400

    Fixup log message so it's properly generic

commit 293423fbad230534909eb3fb9ac4e338584e6753
Merge: bc7b1ce5 9d97dd24
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Sep 25 16:57:04 2014 -0700

    Merge pull request #603 from DonnchaC/fix/journalist-delete-replies
    
    Fix deleting replies on journalist interface

commit 0581327d89d5855f2170e91ebb22b5c50d5f6344
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 16:22:39 2014 -0700

    minor fixes for google-auth

commit 9d97dd24af944dcc6d1f1e3570d7b3ab9133caea
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Fri Sep 26 00:26:39 2014 +0200

    Remove double test of reply sending

commit 71efb0d69cf8cae00fdcb856f26ae6602bf4856c
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 13:14:31 2014 -0700

    changed the ssh users and document users from a string to a yml list. And attempting to copy the ATHS and THS hostname from the guest to the host

commit 411bf99ed99f7a29f65d1e5f3e2f289be30a0137
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 12:33:38 2014 -0700

    removed unneded quotes

commit 592c4f09baeed8bd86f753a8651375572b2c481c
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 11:37:47 2014 -0700

    changed the name of securedrop-app to securedrop-app-code to avoid confusion with the old package

commit 0ab0e03614e2b60dfc9cbab3a334f1bfe7b47f61
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 10:59:50 2014 -0700

    added check for if build dir exists

commit ed72ef94eb850c2918c06c1df5bc5d85903fb79e
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 02:16:20 2014 -0700

    added handler for ssh
    added role and for it to use sudo to playbook

commit 9d66bb3879ff2d7ec16b59d8fda6833c777e2512
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 01:24:47 2014 -0700

    commented out the digital_ocean config so it doesn't cause error when running in virtualbox

commit 1b9d2840b252ddd67bbb03c03b7e314460627394
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 01:22:54 2014 -0700

    fixed spacing in config example

commit 0bec625abb9a0ba3db12653ea285a0670a477ec3
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 01:23:42 2014 -0400

    fixes the build_depends.

commit 91ce4267133daab07e37b2e3c9263125fa68655a
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 01:21:53 2014 -0400

    changed the host to work with vagrant config.
    Have to provide the full path to the application public key.

commit 358550d485549a67cde5e14880d6e9de22ab6e4a
Author: James <james@pressfreedomfoundation.org>
Date:   Thu Sep 25 00:52:23 2014 -0400

    option was not supported in current version

commit c567f095a1904e2c6a06d8f9a1fa305138cb68a9
Merge: ca4637ac acd709b5
Author: David Stainton <dstainton415@gmail.com>
Date:   Thu Sep 25 03:35:38 2014 +0000

    Merge remote-tracking branch 'dolanjs/tor-signing-key' into rspec-ansible

commit acd709b58fbb3df02e5c70a6289ad6be7f4f438f
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Sep 24 23:34:35 2014 -0400

    updated tor signing key

commit ca4637ac4d4ba79227cdff291d7612f48e3f31c1
Author: David Stainton <dstainton415@gmail.com>
Date:   Thu Sep 25 01:56:41 2014 +0000

    Add secureDrop hardening role

commit 4002dbdbc7de35e39884d81a4f21c853eb66ca63
Merge: e0fe22c2 25bcf0ef
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Sep 24 21:49:50 2014 -0400

    Merge remote-tracking branch 'david/rspec-ansible' into rspec-ansible

commit e0fe22c2e558d55a5875df98fe542d90bc8b061f
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Sep 24 21:47:21 2014 -0400

    working on vagrant deploying app server with ansible
    in the vagrantfile still need to generate a user for ansible to run as and fix the tor signing key

commit 25bcf0efda315c4a4e1741488aa8babe03ecddb6
Author: David Stainton <dstainton415@gmail.com>
Date:   Thu Sep 25 00:12:48 2014 +0000

    Fix minor problems and get all tests to pass
    
    Here we remove the network interface from a couple
    of the checks... so that it's compatible with the rspec-core version
    we are using. We may however resolve this by installing the correct beta
    version via bundler.io later...

commit 3293be27e36b953b1de2e51414050431426fb933
Author: David Stainton <dstainton415@gmail.com>
Date:   Thu Sep 25 00:12:07 2014 +0000

    Add some tests for the securedrop app deployment

commit 94d206bf1a9a680ca9578f89aadc14109cdeb712
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Sep 24 18:53:12 2014 -0400

    added a vagrant config for the dev app server and a section for the digital ocean provider.
    Using the digital ocean provider requires a separate file `secrets.rb` ex:
    
    ```
    module MyVars
      TOKEN = ""
    end
    ```
    
    The digital ocean vps can be provisioned by running
    
    ```
    vagrant up devapp --provider=digital_ocean
    ```

commit 85e80d167b0b8699a5dfc3141e03ffc3388dc37b
Merge: 6b877386 34a08141
Author: David Stainton <dstainton415@gmail.com>
Date:   Wed Sep 24 22:45:53 2014 +0000

    Merge remote-tracking branch 'dolanjs/rspec-apache' into rspec-ansible

commit 6b877386e99d7e69ee16dad7f66734f6170204aa
Author: David Stainton <dstainton415@gmail.com>
Date:   Wed Sep 24 21:51:23 2014 +0000

    Teach serverspec to parse ansible YAML config file
    
    Here we demonstrate how to parse the ansible external yaml configuration
    and use it to supply needed info for our test. In this case we check
    the torrc for the presence of authenticated tor hidden service user names
    for document and ssh users.

commit 34a081415655687ae37850b787c6d16bc4c5ea40
Author: James <james@pressfreedomfoundation.org>
Date:   Wed Sep 24 15:11:27 2014 -0400

    fixed some errors in apache rspec tests

commit 8a32fb22031a98eda9c8719a92f47c03bc5c34c7
Author: James Dolan <james@pressfreedomfoundation.org>
Date:   Wed Sep 24 14:45:26 2014 -0400

    dded more to apache

commit 582d7e04797e8669cf36234c84aa92beb1b9b730
Merge: a241647c c99c5b7b
Author: James Dolan <james@pressfreedomfoundation.org>
Date:   Wed Sep 24 14:21:59 2014 -0400

    Merge remote-tracking branch 'david/rspec-ansible' into rspec-apache

commit c99c5b7b282ec1414cc6083a456b41f86608d8fe
Author: David Stainton <dstainton415@gmail.com>
Date:   Wed Sep 24 00:36:13 2014 +0000

    Improve tor spect test slightly

commit a241647cc44736a47b9406311be6383bcdb5d737
Merge: 20d52837 69436995
Author: James Dolan <james@pressfreedomfoundation.org>
Date:   Tue Sep 23 20:06:17 2014 -0400

    Merge remote-tracking branch 'david/rspec-ansible' into rspec-apache

commit 20d52837b3db32180d8140767f3377f16bc1cba1
Author: James Dolan <james@pressfreedomfoundation.org>
Date:   Tue Sep 23 19:59:00 2014 -0400

    first pass at apache rspec

commit 694369959185323fb327ee702ee625f67bf1c622
Author: David Stainton <dstainton415@gmail.com>
Date:   Tue Sep 23 19:22:39 2014 -0400

    Add rough draft dir hierarchy for rspec tests

commit 0c784bd33d892ce0735d34945cd2cb0bdd671dae
Merge: 9b839f34 03255f65
Author: David Stainton <dstainton415@gmail.com>
Date:   Tue Sep 23 21:27:28 2014 +0000

    Merge remote-tracking branch 'origin/ansible-deployment-better-config' into rspec-ansible

commit 03255f65e7500b1d5bc6102e71b9c4a522144d24
Merge: 544bf19c 6a3b4220
Author: David Stainton <dstainton415@gmail.com>
Date:   Tue Sep 23 21:24:35 2014 +0000

    Merge pull request #2 from dolanjs/securedrop_keyring-var-doesnt-work
    
    securedrop_keyring in defaults vs config.py

commit 9b839f346ff1ea186acae3063421495148835bcc
Author: David Stainton <dstainton415@gmail.com>
Date:   Tue Sep 23 21:19:25 2014 +0000

    Initial config for install specs using serverspec

commit bc86aafafbcf61f61db1b4357a6907303bbe1a4f
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Tue Sep 23 21:44:02 2014 +0200

    Quick and rough UI changes for source replies

commit 49c35a0367f7849399a73b306215215f36217dd4
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Tue Sep 23 20:44:05 2014 +0200

    Fix deleting replies on journalist interface

commit bc7b1ce51a099e63510a30929bc5cd570b93c1f4
Merge: 71367161 f42765e3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Sep 23 07:53:28 2014 -0700

    Merge pull request #601 from freedomofpress/remove-request-that-secures-file-uploads
    
    Remove request_that_secures_file_uploads

commit 7136716151258e538be64ecbb54e836664a02663
Merge: 51299bb8 2df8515c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Sep 23 07:53:06 2014 -0700

    Merge pull request #600 from freedomofpress/source-interface-logo-link
    
    Logo links to lookup view if source is logged in

commit f42765e3eeaddd8090102c7a3666af5e6c6db240
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 21:26:56 2014 -0700

    Remove request_that_secures_file_uploads
    
    This was an example integration for a proposed mitigation for the
    "plaintext remains in memory" issue (#99), from when we were trying to
    solve it by replacing the underlying stream class used by Flask for
    requests. Now that we have a better solution that doesn't require
    monkeypatching so much Python, this is no longer needed.

commit 2df8515c85aa01c9b868599658e3a04f80b7fc0e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 17:03:04 2014 -0700

    Logo links to lookup view if source is logged in
    
    Currently, the logo always links to the index. This is a little bit
    different from the standard web UX, where such a "home" link takes a
    logged in user to their user-specific home page. I'm concerned that the
    current behavior may lead to users being locked out of the account they
    just created if they accidentally click it without having memorized or
    recorded their codename.
    
    This change checks if the user is logged in, and if so, makes the logo
    link back to their lookup page, where they can make submissions and
    receive replies.

commit 51299bb8aae6d6fd6bbab66f9b2c18be64e6f896
Merge: 1a5f9195 106f25f3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 22 16:02:05 2014 -0700

    Merge pull request #581 from DonnchaC/rename-submission-designation-change
    
    Rename submitted files when a new codename is generated. Fixes #557.

commit 106f25f3f1e22ff4a2742ca527a448f05bb982ed
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Tue Sep 23 00:42:56 2014 +0200

    Improve error handling, and neaten rename functionality by using a regex.

commit 1a5f9195bbfc6a3a2a35223e0694069e647577c0
Merge: 34645955 a7b9bf4a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 22 15:13:27 2014 -0700

    Merge pull request #599 from freedomofpress/fix-journalist-js-typeerror
    
    Fix TypeError in journalist.js

commit a7b9bf4a939fb0b49ea3268a331d855bfcac8005
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 22 12:02:11 2014 -0700

    Fix TypeError in journalist.js
    
    The quick filter dialog box was being checked on document load, even if
    we were on pages (e.g. source collection pages) that don't have that
    dialog box. This caused a TypeError, when we tried to match against an
    undefined value from the non-existent dialog box.
    
    Fixed by checking that the dialog box exists before calling
    filter_codenames.

commit 346459554aef1a14340ee1d8fc94164c3ce18802
Merge: 6f84534d 63b647eb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 22 11:47:52 2014 -0700

    Merge pull request #593 from DonnchaC/user-directories-in-zips
    
    Add directory with source's codename to the zip files.

commit 63b647ebdf19065686511b5fd268b3f9e44e2218
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Mon Sep 22 20:28:03 2014 +0200

    Add test checking zipfile contains correct user directories

commit 6f84534d9622c02b1bb1dc593784622991825d3d
Merge: 45b97a8c 7540ff5f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 22 11:17:51 2014 -0700

    Merge pull request #594 from freedomofpress/better-config
    
    Better config

commit 45b97a8c7d005d42c12c61be2a1f8d60f4eb018c
Merge: f399d4b1 53faa7ed
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 22 11:10:41 2014 -0700

    Merge pull request #596 from runasand/develop
    
    Added note about updating BIOS on Intel NUCs

commit 4229fa79e1a729620cb2186478881b505ab6bbff
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Fri Sep 19 00:16:28 2014 +0200

    Name zip with journalist_filename() instead of journalist_designation
    
    Instead of naming the generated zip file with the journalist_designation
    which can contain spaces, it's probably better to use the output of
    journalist_filename() which removes spaces explicitly, and aims to be
    filesystem safe.

commit 9ef0111920b5d20b605440d1f8e0f95fcf86972e
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Fri Sep 19 00:15:20 2014 +0200

    Download files in codename directories

commit 6a3b4220397a5ef258227111f90e2c90df69d486
Author: James Dolan <james@pressfreedomfoundation.org>
Date:   Sun Sep 21 23:30:35 2014 -0400

    changed the gpg import use the securedrop_data/keys directory to be consistent with the rest of the locations it is used

commit 29e63fd6ada16b079681f4939b70414cddae90e0
Author: James Dolan <james@pressfreedomfoundation.org>
Date:   Sun Sep 21 23:20:04 2014 -0400

    The securedrop_keyring was only used to create the directory not in the securedrop/config.py file. Changing the value would of broken the install. In order to keep the config.py the same for the current dev environment just removed it. Think the store, keys and db should be configured the same way but don't think they need to be defined in the defaults. Changing the default value would also have required updating the apparmror profiles.

commit 7540ff5faa68ec1bcfc4a956eb8ce6b3ce44529b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Sep 21 19:06:00 2014 -0700

    debugging? we don't need no stinking debugging!

commit 544bf19c690a43c0a7bc16de530ccef574b4f3d3
Author: David Stainton <dstainton415@gmail.com>
Date:   Sun Sep 21 23:00:59 2014 +0000

    Add descriptive names to tasks

commit 0a5f05c48191d682fb0c053b715c2c0d3ef38c8e
Author: David Stainton <dstainton415@gmail.com>
Date:   Sun Sep 21 22:53:15 2014 +0000

    Remove "ignore_error" from sqlite db initialization

commit 53faa7ed4ae339001b4f26d23f5e4fcdda02bde2
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Sun Sep 21 18:31:52 2014 -0400

    Repurpose existing hardware for App and Monitor

commit 20aeb734cdb361879d23f014191e82735ab5a2f1
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Sun Sep 21 18:28:05 2014 -0400

    Added note about updating BIOS on Intel NUCs

commit f399d4b14826128cbfeba7b6fdb00a4fcfd9d724
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Sun Sep 21 16:40:36 2014 -0400

    Cleaned up the SecureDrop hardware list

commit eff40f71a7ee43e93f945b333d67201c2fba90e2
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 20 02:36:38 2014 +0000

    Fix various errors with the apache configuration

commit 80e01324130154075a176820584b05b679c08bc8
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 20 02:35:02 2014 +0000

    Fix args passed to Tor Ansible role

commit 344fc4a2ca6cb097b8a0a3d5975bff39522a5d3f
Merge: 21295fa2 0e26eeda
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 20 01:36:46 2014 +0000

    Merge pull request #1 from dolanjs/app-code-deb-for-ansible
    
    securedrop-app deb package for ansible deployment

commit 21295fa26cc15800d8d2638e19311d8b74d76249
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 20 01:35:33 2014 +0000

    Correction of minor errors; mostly variable names

commit 0e26eeda010262e6f62bfb31b37270990d67d610
Author: James <james@pressfreedomfoundation.org>
Date:   Fri Sep 19 21:35:14 2014 -0400

    combined source-requirements and document-requirements.txt since they are both running on same apache instance now.

commit 77dc3244282d5c32214f5011c5758efaf81ff849
Author: James <james@pressfreedomfoundation.org>
Date:   Fri Sep 19 21:07:31 2014 -0400

    created securedrop-app deb package that packages the app code, apparmor profiles and compiles and pakcages the python modules for deployment.
    modified the build_deb to just create the securedrop-app deb

commit 0c5f30f9a3398340d311198183b9ac17c0139f06
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Sep 19 18:05:36 2014 -0700

    Fix vagrant-specific chown so Travis will work too

commit 182a0eff9b744683d94c450e2df6ae564f517f05
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 20 00:55:35 2014 +0000

    Make appropriate Ansible variable name changes
    
    Here we include a proper config.py and name the templated
    variable correctly. This is an intermediate commit... and it
    is likely that some small section of Ansible may not have been
    corrected yet.

commit 4dce34ceec6a993a1b63e1855e0690c8e0b1f8a2
Merge: 7033838b 0a120e3d
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 20 00:41:19 2014 +0000

    Merge remote-tracking branch 'upstream/better-config' into ansible-deployment-better-config

commit 7033838b20f17f3add9a0d26c2372aa2b6173f11
Merge: 1924f236 b46dc8a1
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 20 00:40:55 2014 +0000

    Merge branch 'develop' into ansible-deployment

commit 1924f2366ad5e88c66082b53a2c606336217d912
Author: David Stainton <dstainton415@gmail.com>
Date:   Sat Sep 20 00:31:16 2014 +0000

    Add customized Ansible deployment system
    
    This commit contains a Tor ansible role
    and a SecureDrop AppInterfaces ansible role.
    In addition to that... the SecureDrop deployment
    playbook and example "external config" file is included.
    
    This is a mostly working rough draft.

commit 0a120e3dbea973f4828419741b9ff8eae9e37a13
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Sep 19 17:30:57 2014 -0700

    Hack to get around same-origin cookie issue on development

commit 5aa8a4432949201893afbac0f506c60d93fa7483
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Sep 19 17:27:52 2014 -0700

    Consolidate configuration into a single config file
    
    Simplifies and consolidates configuration into a single file, which
    makes it easier to reason about for developers and work with for
    deployment. Updates other code accordingly.
    
    Changes secret keys so we now use a different SECRET_KEY (used by Flask
    for signing cookies) for the source and document interfaces. This
    exposes some interesting issues with cookies in development.

commit b46dc8a12402466260b2dac71c8178f214d0fede
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Sep 18 17:20:55 2014 -0700

    Use py.test to run test suite in manage.py
    
    py.test gives us better output. This also allowed me to greatly
    simply the code for `manage.py test`.

commit c5c94e761854a2d3c20e7575e79115812a76868a
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Sep 18 17:19:02 2014 -0700

    Get mocked tests to work with py.test
    
    Unlike our previous technique of creating a new unittest.TestRunner for
    each test file, py.test does not automatically reload modules for every
    new test file. Therefore, the assignments to variables in journalist in
    these tests replaced the real functions with mocks, which would break
    subsequent tests. By reloading the module when we finished the mocked
    tests, we can restore the module state for subsequent tests.
    
    Also cleaned up formatting a little bit.

commit 5f3a4a9d3322b9478db9a395072c35092af9899e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Sep 18 17:18:53 2014 -0700

    add pytest requirement

commit 0f44374b58386a2a72a9bf339ba0770e0c84c0b4
Merge: dd037c0c 118ba76e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Sep 18 12:50:27 2014 -0700

    Merge pull request #592 from dolanjs/ssh-hmac-tails
    
    Added the hmac-sha1 to the allowed server ssh configs.

commit 118ba76e9ec781de15919aca31b8099e50f05db4
Author: James Dolan <james@pressfreedomfoundation.org>
Date:   Thu Sep 18 15:08:40 2014 -0400

    Added the hmac-sha1 to the allowed server ssh configs. Tails ssh client doesn't support hmac-sha2-256 or hmac-sha2-512 yet.

commit dd037c0cc415adc4ff905efee6f83354797e7a71
Merge: d9287a08 989294fb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Sep 18 11:34:39 2014 -0700

    Merge pull request #575 from DonnchaC/fix/newlines-in-source-message
    
    Convert newlines to <br /> in messages to source's

commit d9287a08d5c0f29128cbdbe662ced57520b229bd
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Sep 17 16:25:01 2014 -0700

    Make sure test runner returns correct exit code
    
    Now that we are directly running tests via a unittest.TestRunner, we
    need to make sure to check the return values and set a corresponding
    return code for the test runner script. Otherwise, Travis will not
    detect that a test failed and will incorrectly say that all tests are
    passing.

commit 92270af5489f84d62875e436a413eac9091e728d
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Sep 17 16:21:10 2014 -0700

    Fix broken unit tests
    
    These tests were broken by #571. Unfortunately, this was not detected by
    Travis due to a bug in the test runner.

commit 55e3e646bdee1b76350e9543d4b22e713bad95a6
Merge: 4060d898 a48b4918
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Sep 17 15:27:11 2014 -0700

    Merge branch 'pr/417' into develop

commit a48b4918a26ace9c18b71a1c8221b4070cba6e88
Merge: 938b08cf d7c1f8b6
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Sep 17 15:21:14 2014 -0700

    Merge branch 'develop' into pr/417
    
    Conflicts:
            securedrop/source_templates/howto-disable-js.html
            securedrop/source_templates/index.html
    
    Also removed links and just put the text of the URLs in the body text in
    howto-disable-js.html, since we no longer have the redirect hack to
    avoid leaking the referrer for visited links.

commit 4060d8985b5d92ba1382784a9448071740e8a74b
Merge: ea633c25 d408f05e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Sep 17 15:04:54 2014 -0700

    Merge pull request #591 from freedomofpress/update-selenium
    
    Update Python requirements

commit d408f05ee9a704a666d0863305d0c866a2d94278
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Sep 17 14:32:02 2014 -0700

    Remove Firefox downgrade workaround now that Selenium 2.43 is released

commit 6c1c0542e70dcae52534327b7f43e4df839de994
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Sep 17 14:31:14 2014 -0700

    Update python requirements

commit ea633c25c99c62b63a429d07aa0e3298b4a5544b
Merge: a9f9cef8 7ed71164
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Sep 17 14:03:20 2014 -0700

    Merge pull request #589 from dolanjs/add-repo-14.04-fix
    
    changed hard coded distro id

commit a9f9cef8a531d06fb5cf25b314c9717aed05f515
Merge: d7c1f8b6 bdb7fb92
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Sep 17 14:02:45 2014 -0700

    Merge pull request #588 from dolanjs/post-install-pkg-detection
    
    Post install pkg detection

commit d7c1f8b6a331fa36e7f0c11d4ce255dd15fe7f8f
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Wed Sep 17 14:37:50 2014 -0400

    Modify apt transport to HTTPS
    
    Closes #565

commit cf9fbcfd64c3a152e403bd5d595af2945152778d
Merge: d42b8345 95dcf765
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Sep 16 17:38:26 2014 -0700

    Merge pull request #583 from dolanjs/ossec-2.8-prep
    
    Ossec 2.8 prep

commit 7ed71164642ea55f59b50b5351555eea4bf8b1aa
Author: James <james@pressfreedomfoundation.org>
Date:   Tue Sep 16 19:17:09 2014 -0400

    change hard coded dist id so the script will work with ubuntu 14.04 trusty

commit bdb7fb92c99486b3e77b147f3efbfe1612241672
Author: James <james@pressfreedomfoundation.org>
Date:   Tue Sep 16 19:00:00 2014 -0400

    changed the post-install script to check for the monitor hardening package instead of the meta securedrop-monitor package since securedrop-monitor-hardening can be installed without the meta package securedrop-monitor

commit c0c9e8fc9b2d23f5436d838ac47dd7ae7cf90faf
Author: James <james@pressfreedomfoundation.org>
Date:   Tue Sep 16 18:51:30 2014 -0400

    changed dpkg -l to dpkg -s for the post-install script so that it will detect the correct package when ran on the monitor server

commit 989294fb91fdfd21e379c6cb711d72f6eee60dd7
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Tue Sep 16 18:21:10 2014 +0200

    Change <br /> tag to <br>

commit 4a15b0be0a690d6be1435b8ef0382c1d5286f5ef
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Tue Sep 16 18:17:34 2014 +0200

    Rebase and move nl2br filter to template_filters.py

commit 5da8188680546eb75bf3df7e4aa90ad80a53360b
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Fri Sep 12 00:51:49 2014 +0200

    Convert newlines to <br /> in messages to source's

commit d42b83459fa221271b4976561d94636841f9676c
Merge: 9a4d7f02 d1c5098d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 15 23:49:52 2014 -0400

    Merge pull request #582 from DonnchaC/fix/prevent-downloading-incomplete-files
    
    Don't show partially uploaded files on the /col view.

commit 9a4d7f020afe5a3f3be41b8e80293946e575ffb1
Merge: 53988626 ce5f16d3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 15 23:24:43 2014 -0400

    Merge pull request #580 from DonnchaC/fix/resubmit-generate-page
    
    Redirect if source resubmits the /generate form with exisiting codename

commit 539886260b130ce9b5c6dcbb57106af1c85ec4f3
Merge: 39895fbc b4800c28
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 15 23:14:51 2014 -0400

    Merge pull request #578 from DonnchaC/icon-tooltips
    
    Tooltip for document/message icons

commit 39895fbca91f05e1533564af4bf1e58949738b4b
Merge: 9edb7172 547332ef
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 15 23:14:13 2014 -0400

    Merge pull request #576 from DonnchaC/fix/broken-logo-positioning
    
    Fix logo display breaking onto a newline

commit 9edb71729c70bd6111c5d0594c4985bd093b0ee2
Merge: 6dff2b1d 82260b2d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 15 22:59:44 2014 -0400

    Merge pull request #586 from freedomofpress/dont-sudo-chmod
    
    remove unnecessary sudo for chmod

commit 6dff2b1d15c12ff694c53088ef9d6840c4eeddc2
Merge: 9ba6e8da 8e6e18d2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 15 22:59:23 2014 -0400

    Merge pull request #574 from DonnchaC/fix/prevent-empty-downloads-deletions
    
    Catch attempts to download or delete without selecting any collections

commit 82260b2dbedc2347f17a4f18593fd77937ed7f2f
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 15 22:21:36 2014 -0400

    remove unnecessary sudo for chmod

commit 9ba6e8dae10a0ce193a6b9e6a9ed15fd36934989
Merge: 911f895e 686effb0
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 15 22:17:13 2014 -0400

    Merge pull request #571 from DonnchaC/relative-time
    
    Display human readable relative times to users instead of dates. Closes #570.

commit 911f895e4a5492d440850e29dc1c40bc4fcf606c
Merge: f55e1872 ddc19387
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Sep 15 22:12:01 2014 -0400

    Merge pull request #577 from freedomofpress/document-ubuntu-amd64
    
    Document ubuntu amd64 requirement

commit f55e1872e022d4dc08c1a72c11b7c30ab2535e64
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Mon Sep 15 03:10:24 2014 -0400

    Add read permission to GPG keystore

commit b5639ee24739f3af0b59353ab6c64b64639b21e5
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Mon Sep 15 02:08:40 2014 -0400

    Add source.js, fix jQuery version

commit ff5cf43065cfc53174599f6a9cd3dc70aac886c8
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Mon Sep 15 02:07:32 2014 -0400

    Add AppArmor rule to allow jQuery

commit a56529c6a7498a22663fb887fbe3594f32fe3492
Merge: 7dbbd9a7 0fda410d
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Sun Sep 14 23:10:13 2014 -0400

    Merge pull request #584 from dolanjs/apparmor-fixes-9-13
    
    updated apparmor profiles

commit 0fda410dab48bc2eec7cc256f26e3937899333a6
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Sep 14 19:35:48 2014 -0700

    updated apparmor profiles for develop branch as of 9/13

commit 7dbbd9a7d3490ad5d64486717fc2fe9dbbd99aca
Merge: e61ee1b4 77dedd42
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Sun Sep 14 19:46:30 2014 -0400

    Merge pull request #532 from dolanjs/apparmor-fix-mailing-list
    
    Reviewed and tested, good to merge

commit e61ee1b4efd51d3cb7aa2b4ce3f7508e04180898
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Sun Sep 14 19:40:14 2014 -0400

    Fix iptables rules causing SSH to be inaccessible

commit 013df8e4bf8b7ec18aeee2cf0cc623d2e955fb23
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Sun Sep 14 19:39:06 2014 -0400

    Fix iptables rules causing SSH to be inaccessible

commit fe121d43e04d1f4cd164cb7e6166872b6ef7f507
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Sun Sep 14 18:07:03 2014 -0400

    Update Gmail's fingerprint

commit fd6e8f681942512cd40b1a664e69fcaf407f6239
Author: Kevin M. Gallagher <kevingallagher@gmail.com>
Date:   Sun Sep 14 17:40:19 2014 -0400

    Fix pgrep syntax
    
    per @dolanjs

commit 95dcf7658c9bef93c702305ce1b3819ac9f300ba
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 14 16:10:26 2014 -0400

    added brief instructions for gathering OSSEC files for creating deb packages

commit e51e4a22e8b3b2eca8085d60acb0ae5192bdfaa8
Author: James <james@pressfreedomfoundation.org>
Date:   Sun Sep 14 15:39:43 2014 -0400

    removed default ossec files that are not modified specifically for securedrop.

commit d1c5098d7bf83bef8f52b4ea12930ee0aab57ddf
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Sun Sep 14 20:44:31 2014 +0200

    Don't show partially uploaded files on the /col view.
    
    The local list of files is compared with the submissions list in
    the database to remove files which are currently being uploaded
    but which have not yet completed and added to the databases.

commit 2bb37d75b7616d31a9e585c9772d942a17e78c57
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Sun Sep 14 18:36:30 2014 +0200

    Rename submitted files when a new codename is generated

commit ce5f16d3c3ba942a4cad42bdfb1b04eb11c84474
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Sun Sep 14 16:20:57 2014 +0200

    Catch resubmission of /generat

commit b4800c28af3a2625cf4baa3ac2f5963bdbea26b9
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Sat Sep 13 23:10:46 2014 +0200

    Tooltip for document/message icons

commit 686effb0270f8185793bf82dd63ea5564bad2dc9
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Sat Sep 13 22:22:45 2014 +0200

    Refactor jinja filters to a separate file

commit 547332ef023047596c80f0aacb9016f879889a3b
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Sat Sep 13 20:17:55 2014 +0200

    Fix logo bug on refresh in Chrome by floating the header.

commit 8541ef3e20d3f72d3cfce0ba017a2ea004ee545f
Merge: 3c82050a 8eda7acb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Sep 12 16:52:57 2014 -0500

    Merge pull request #573 from DonnchaC/fix/reply-button-display
    
    Fix spacing bug on reply button

commit 3c82050ab2f4bf65903d35a18c60c14fbcb4ff61
Merge: a481e6a2 cccb88b6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Sep 12 16:34:15 2014 -0500

    Merge pull request #567 from charltonaustin/develop
    
    https://trello.com/c/oWN0SW17 removing jquery-2.0.3.min.js and localFora...

commit ddc193878506860f5ab54383797874d9984ab019
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Sep 12 11:01:27 2014 -0500

    refer users to the ubuntu guide in the install guide

commit 93379351f2bb7ae05f68913e6ed5bc46e68536c4
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Sep 12 11:01:00 2014 -0500

    clarify the use of 64-bit Ubuntu

commit 09be94aa52664d1d402dcaae40cebd02eb5b124a
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Fri Sep 12 01:30:14 2014 +0200

    Fix logo display breaking on newline

commit 8e6e18d2e64c38489e496575f24d2b5b61db3979
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Thu Sep 11 23:47:11 2014 +0200

    Catch attempts to download or delete without selecting any collections

commit 8eda7acb6e0f403b4125f9ef237797910d2e6aff
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Thu Sep 11 22:59:19 2014 +0200

    Fix spacing bug on reply button

commit d3149429d310a940b088cd3fa994180b6c3d5eb6
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Thu Sep 11 22:33:01 2014 +0200

    Format receint timestamps as human readable relative times.

commit a481e6a25f6e683bd70d06fc9bb8af60b4c282af
Merge: dad0f9de 921d3997
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Sep 11 12:56:23 2014 -0700

    Merge pull request #563 from DonnchaC/invalid_codename_handling
    
    Catch when a user's codename contains invalid characters. Fixes #548

commit dd14b74a2f6e80b16aa5d1f259f4e211d958e914
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Thu Sep 11 19:51:37 2014 +0200

    Use Jinja filter to format displayed time

commit 921d3997edd50a32d33bf3177d1c0a871e6f6acc
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Thu Sep 11 07:57:25 2014 +0200

    Standardise flash message about unknown codenames

commit dad0f9dee3d1a6c9baa4dbc792a9fa010b4db635
Author: William Budington <bill@eff.org>
Date:   Wed Sep 10 20:32:23 2014 -0700

    Changing version.py 0.2.1 to 0.3

commit cccb88b65ed25587748c10774a413666493ba8d4
Author: charltonaustin <charlton.austin@gmail.com>
Date:   Wed Sep 10 18:16:20 2014 -0700

    https://trello.com/c/oWN0SW17 removing jquery-2.0.3.min.js and localForage.js from AppArmor since we don't use them any more.

commit f6b2ae09bdb0e5d5b666f00bc571ad8008d397e1
Merge: 06221bfa df9c8368
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Sep 10 17:40:15 2014 -0700

    Merge pull request #566 from DonnchaC/readable-timestamp
    
    Format displayed timestamps in a more readable way. Fixes #559.

commit 06221bfadda20b24b33216222db563ea9c1fa517
Merge: c6d114b1 35e8880b
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Sep 10 17:39:16 2014 -0700

    Merge pull request #564 from DonnchaC/setup_script
    
    Download Firefox over HTTPS, check for /etc/debian_version

commit df9c8368ae57196e2ef33934592d52c70b3a2562
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Thu Sep 11 01:41:17 2014 +0200

    Format displayed timestamps in a more readable way.

commit e7a9c595456700c6f32016283c1f94a4bd6b2567
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Thu Sep 11 00:59:14 2014 +0200

    Catch when a users codename contains invalid characters

commit 35e8880b60b43986ec2a5e45a27551813ae0bff1
Author: Donncha O'Cearbhaill <donncha@donncha.is>
Date:   Thu Sep 11 00:31:29 2014 +0200

    Download Firefox over HTTPS, check for /etc/debian_version
    
    The setup script was not running on my Debian Wheezy system as it
    did not have an /etc/lsb-release file, or a matching file with a
    DISTRIB_ID line.
    
    The firefox binary archive was being downloaded over http without
    any cryptographic verification.

commit c6d114b1a1e47685454a5aef5ea650038edaf6ce
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 8 17:21:20 2014 -0700

    Exit early if setup_dev.sh fails
    
    We don't want to show the "success" message at the end of setup_dev.sh if the
    tests fail.

commit 06b6b922e78c16a236ee3c7468c30ec97843d5f5
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Sep 8 17:19:48 2014 -0700

    Don't show wget progress output when downloading Firefox
    
    Since the vagrant environment is not a tty, wget's download progress output is
    unhelpful and looks bad/confusing. Replaces it with a message to let you know
    what's happening, in place of interactive feedback.

commit 6cd2767b615941ebae7b610a77e8a0e893f11041
Merge: 801d2292 c94779a1
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Sep 6 16:43:55 2014 -0500

    Merge pull request #542 from asifrc/fix-chrome-refresh-generate-bug
    
    Bugfix: Page Content shifts downward after refreshing in Chrome

commit 801d2292c782ecd0c368eb2a55ece786577fbd28
Merge: 7956b12c 11462e48
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Sep 6 16:28:26 2014 -0500

    Merge pull request #535 from runasand/develop
    
    Cleaned up the documentation and added a few more steps

commit c94779a16bd422c88365e8c3762d826731dd3cd0
Author: Asif R Choudhury <choudhury.asif@gmail.com>
Date:   Sat Sep 6 15:58:16 2014 -0500

    Fixed UI issue in base template css when refreshing in Chrome

commit 7956b12c523ab4d018e5c00d7dedf3ca29a0fbde
Merge: f7074106 0b18cd15
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Sep 5 18:18:10 2014 -0500

    Merge pull request #540 from freedomofpress/travis-entropy
    
    rng-tools hack for low entropy causing tests to time out on Travis

commit 0b18cd15392e0000cda8bbe6dc4d10bffd81a276
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Sep 5 18:01:08 2014 -0500

    Implement rng-tools hack for low entropy causing tests to time out on Travis

commit f70741069e7afc8eef706e6837d9f943b76ace15
Merge: 4ba6d013 e96bbce2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Sep 5 01:02:30 2014 -0500

    Merge pull request #539 from freedomofpress/fix-selenium
    
    Fix selenium

commit e96bbce2784b9f701d658ab1767fbea5ba122de4
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Sep 5 00:21:39 2014 -0500

    Need to install then remove packaged Firefox (32) before linking to 30

commit 2182cd61988f107df259520a22a9a128a75b3cb7
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Sep 4 22:35:39 2014 -0500

    Use Firefox 30 instead of stable (32) with Selenium 2.42.1

commit 4ba6d013e6754cd3ac95bb7adb9f66e09f7e3ca4
Merge: 12ec69a6 f44e363e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Sep 4 22:12:24 2014 -0500

    Merge branch 'pr/499' into develop
    
    Note that there are now issues with the functional tests passing due to a bug
    in Selenium stable (2.42) which causes it to not work with Firefox 32, which
    became the stable release yesterday.

commit f44e363ec9700ede3a9d8f5f1c6163b1bc037af1
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Sep 4 20:37:04 2014 -0500

    ran pip_update.sh again since it's been a while

commit 5a75bda70515dcddad6a774b25adbc45925fabb5
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Sep 4 20:15:52 2014 -0500

    Remove MAT-specific code from pip_update.sh

commit 11462e481606ddd01a9fd34e9328c77a43195368
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Aug 28 20:17:06 2014 -0400

    Fixed typo in HidServAuth string

commit 85dc5533d540fd87438c70c931d6ed4ab98970bc
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Aug 28 20:16:43 2014 -0400

    Fixed typo in HidServAuth string

commit 12ec69a6db048672413fdf2f14ead4dd77e3f32b
Merge: 13350938 142dde24
Author: Runa A. Sandvik <runasand@users.noreply.github.com>
Date:   Tue Aug 26 23:44:07 2014 +0000

    Merge pull request #536 from antagonismorg/DOC-534
    
    Updated appropriate USB stick references to Transfer Device

commit 142dde24b97994e7514bb068c87f4ef9b25241f9
Author: Patrick R McDonald <marlowe@antagonism.org>
Date:   Tue Aug 26 17:47:05 2014 -0500

    Updated appropriate USB stick references to Transfer Device

commit 6a4ba9cc2016cede41f2a1ee9b86b7c2e6d6018c
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Aug 26 17:56:05 2014 -0400

    Cleaned up the documentation and added a few more steps

commit 13350938fdc0164ef43046b38f13a2ac430cbd51
Merge: 6954f26b 1c325b06
Author: Runa A. Sandvik <runasand@users.noreply.github.com>
Date:   Tue Aug 26 18:28:44 2014 +0000

    Merge pull request #531 from dolanjs/ossec-agent-directions
    
    added screenshots of adding an ossec agent

commit 1c325b061ff1a1e3237e6b154998ae5476a3c01c
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Aug 18 11:41:21 2014 -0700

    added screenshots of adding an ossec agent to app server. The IP addresses shown in the screenshots were for a test environment that has been tore down already so didn't feel the need to scrub them out.

commit 77dedd4210fc91b0f4df299b23fcdea4864003a4
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Aug 18 11:14:47 2014 -0700

    update apparmor profiles

commit 6954f26b6b908dd66b5aa4fc87313d667ea2788a
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Tue Aug 12 17:42:23 2014 -0400

    Slight corrections

commit c845837927e853de5d1496518d013b1af2051d84
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Tue Aug 12 13:09:18 2014 -0400

    Update license

commit 26c2103e1101cb420668bc4dc764601d68589118
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Tue Aug 12 13:07:48 2014 -0400

    Update license version

commit e505a5634e193950ef1474ae8948988eabb88321
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Aug 11 12:03:44 2014 -0700

    updated config files to match example config files for production.
    sqlite is still used in production currently though.

commit f070623b0fad2e36b3891afe0f1dd5ed61ae3a57
Author: William Budington <bill@eff.org>
Date:   Sun Aug 10 00:07:55 2014 -0700

    Use full key fingerprint when importing since keyid collisions are easy to generate, and specify keyserver

commit a0b537d4f5a2065db2ede23f242b6ba462dcdd46
Author: William Budington <bill@eff.org>
Date:   Sat Aug 9 22:50:11 2014 -0700

    Adding Yubikey to install docs

commit 11cad21fa76cc7d22a8fa2929cfaf7a81aee659c
Author: William Budington <bill@eff.org>
Date:   Sat Aug 9 22:41:52 2014 -0700

    Updating install docs to link to James' grsec guide

commit c7575816e73afe7b30be0150aa0f964bc8677d9f
Author: William Budington <bill@eff.org>
Date:   Thu Aug 7 21:25:26 2014 -0700

    Fix db insertion error when admin is on

commit 0726448340bf0389c15193e60bef03804e269ee5
Merge: a5a3ba3b 08dae4a2
Author: Bill Budington <bill@eff.org>
Date:   Thu Aug 7 20:57:05 2014 -0700

    Merge pull request #524 from pemulis/patch-1
    
    minor spelling, grammar, and punctuation fixes

commit 08dae4a24ad3596b1cafe69c1d49f4d64768d5a4
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Tue Aug 5 23:51:28 2014 -0700

    minor spelling, grammar, and punctuation fixes

commit bdeb8af52da35f71b19d926b16ef2206acd71eb0
Author: William Budington <bill@eff.org>
Date:   Tue Aug 5 00:26:34 2014 -0700

    Ability to authenticate with HOTP added to web ui

commit a7d6686433924591e3cae550b88c11f5b7584c9c
Author: William Budington <bill@eff.org>
Date:   Mon Aug 4 22:54:40 2014 -0700

    HOTP login for admins

commit b9757579c3e136303bcf34f563a651abbc5ba26a
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 19:54:49 2014 -0700

    merge login pages

commit 43a937002a4601c30d61b25d0fc8ba1ef20c8303
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 19:32:29 2014 -0700

    better provisioning uri for Google Authenticator

commit 2a7de4fcc3b261f35bc940d8d215848468003999
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 19:26:37 2014 -0700

    check two factor code on login

commit d215cc406b7a45680d4501e5cb25d84419bc79ee
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 11:00:07 2014 -0700

    add deps for Google Authenticator
    
    * pyotp for computing two factor values
    * qrcode for generating easily scannable qr codes for shared secrets

commit 17bde9a6583ab38dc048422832cdc59a978a006f
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 10:59:33 2014 -0700

    print qrcode and shared secret after manage.py add_admin

commit 62d2c498116b06ff6ec3e2ea2d01ace64608eab7
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Aug 4 10:16:20 2014 -0700

    generate and show otp secret for new users

commit e0edd15107f6ada9a92524288a24878670d567a0
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 10:36:23 2014 -0700

    manage.py command to add new admin users

commit e4d995d4c7caf1243c584cddb9dfe11bb1b19f8d
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 01:47:22 2014 -0700

    process edit user form submission

commit 0792b175e86ef0380aa954b8dc806d8cbb9b5e07
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 01:44:19 2014 -0700

    function to set password for Journalists

commit bdea6d7676fefd85e1e540f2a4311120522f8e26
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 01:11:17 2014 -0700

    admin users automatically go to admin index

commit 15ef3b864c08bb5e7069de864aca85cbd833335c
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 01:08:45 2014 -0700

    Use exceptions for login error handling

commit 4aa507db8f631ea853545749d1712c2d12dfc6d5
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Aug 1 01:01:37 2014 -0700

    add timing metadata to journalist users for auditing

commit a991354f3164a1a4b1fb5421bbb86600f00fc882
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Tue Jul 29 01:00:54 2014 -0700

    add users from admin interface

commit 98a99a19d3c7d56a20f6e842d7c6aabd3ca8c75d
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Jul 28 23:42:35 2014 -0700

    basic admin interface with crud for Journalists

commit e4f0601e88d0d2fbaf56f7a62ff63f0b1b6e4f13
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Jul 28 23:08:28 2014 -0700

    Add view decorator for admin-only pages
    
    * clarify similar code in login decorator
    * stash logged in user in `g`

commit 6f97c99e61c1224695533ff679a8422e239abeac
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Jul 28 23:06:16 2014 -0700

    Add "is admin" flag to Journalist

commit 5b699e9b0657806a785f86ad931d03d1f66fd0b7
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Jul 23 19:27:19 2014 -0400

    basic journalist login with username/password

commit feeb8d027adf300ddcf3d1ba44ec68d9eaf5a035
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Jul 23 19:18:37 2014 -0400

    Fixup log message so it's properly generic

commit c04c206a2ed1838efb39b3bc03b28ff1b34a2bf9
Merge: ed8d88c9 e57de4bc
Author: Yan Zhu <yan@mit.edu>
Date:   Sat Aug 2 17:32:56 2014 -0700

    Merge branch 'develop' into feature/pip-update
    
    Conflicts:
            securedrop/requirements/document-requirements.txt
            securedrop/requirements/source-requirements.txt

commit a5a3ba3bc39a57e9f655d6e24273043d906c3fb2
Merge: 83cb27de e57de4bc
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Aug 2 17:31:18 2014 -0700

    Merge branch 'develop' into pr/452

commit ed8d88c9a9b21a11cc76d7c0131ab6274cd22304
Author: Yan Zhu <yan@mit.edu>
Date:   Sat Aug 2 17:26:16 2014 -0700

    Re-remove MAT requirements

commit e57de4bc2e5d8b9ff0c61e8c031194026c063f94
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Aug 2 17:04:27 2014 -0700

    remove python-poppler (MAT dependency)

commit 225fac97f213798cca69cfdc4511b795facbd2f3
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Aug 2 17:03:21 2014 -0700

    remove line about metadata scrubbing feature from changelog

commit ccdb628a44ae0bad3bb95cfb791addf25b95cf94
Author: Yan Zhu <yan@mit.edu>
Date:   Sat Aug 2 16:10:36 2014 -0700

    Remove MAT and hachoir from apparmor rules

commit a710180e29027eddc5315f04eab0424f80fbc228
Author: Yan Zhu <yan@mit.edu>
Date:   Sat Aug 2 15:56:38 2014 -0700

    Revert "Merge pull request #326 from gnusosa/develop"
    
    This reverts commit 6735ffa700d394b18dddadd581a50b628e039464, reversing
    changes made to c59609dc2073686243f887f34bef4324d073144d.
    
    Conflicts:
            .travis.yml
            install_files/source-requirements.txt
            securedrop/requirements/source-requirements.txt
            securedrop/source.py
            securedrop/source_templates/lookup.html
            securedrop/static/css/securedrop.css
            securedrop/store.py
            securedrop/tests/test_unit.py
            setup_dev.sh

commit a2d07c9c31be2c693f9429638473e3e70da1dd1f
Author: Yan Zhu <yan@mit.edu>
Date:   Sat Aug 2 15:21:38 2014 -0700

    Revert "Merge pull request #426 from dolanjs/doc-mat-pip-depends"
    
    This reverts commit 0e6764add143b56450987792c42a1d7eb23fa0ef, reversing
    changes made to 1d62c311c1b0df9f4aa0d825d5234b9fd0a5a836.

commit d7ce95aecefb445ba9720952734fcb3b074f7ccc
Merge: 57f0abc2 5edff4da
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Aug 1 17:01:01 2014 -0700

    Merge pull request #518 from mtigas/fix_test_lookup
    
    fix test_lookup (tests.test_unit.TestSource) failure due to wording change

commit 5edff4da3d4967919531b51bd4d259dd8dd8df14
Author: Mike Tigas <mike@tig.as>
Date:   Fri Aug 1 14:55:21 2014 -0400

    fix testcase; #488 changed "journalist's public key" to "our public key" (since site uses first person plural)

commit 57f0abc21258fc77823f35c6d39bb24aadd9df2a
Merge: b9225654 fcc18022
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Aug 1 09:26:49 2014 -0700

    Merge pull request #517 from diracdeltas/fix/license
    
    Fix #515

commit b92256541711cdaf609e8661cc5204408d730004
Merge: b676cd12 7e6fffe5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Aug 1 09:20:05 2014 -0700

    Merge pull request #516 from diracdeltas/fix/issue-453
    
    Fix #453

commit fcc180228f1c0a928509af240eea64c3e2ae25cf
Author: Yan Zhu <yan@mit.edu>
Date:   Fri Aug 1 01:30:32 2014 -0700

    Update license from GPL2 to AGPL

commit 7e6fffe5d6f444e1817219ef3c1893f584fcfe81
Author: Yan Zhu <yan@mit.edu>
Date:   Fri Aug 1 01:02:10 2014 -0700

    Revert "Revert "remove direct links to external sites from source templates, fixes #195""
    
    This reverts commit 34b8205308d0b7795dcd5d24c642e10e2060aa42.

commit bb8d57f03efeb70b1bc84429166093e5e416c7d9
Author: Yan Zhu <yan@mit.edu>
Date:   Fri Aug 1 01:01:50 2014 -0700

    Revert "More external links"
    
    This reverts commit b5bbe3050034465e88d399602abed5151f94cb2c.

commit 90082fa5c956a155886c0a9dd94c9fedaa47b16b
Author: Yan Zhu <yan@mit.edu>
Date:   Fri Aug 1 01:01:20 2014 -0700

    Revert "Add custom redirector to clear referers"
    
    This reverts commit 0d6339c8a41af53bd21f8a7bf3e7e1114b53e2e4.

commit 3c78d6569a9246d33505b833e4bb6a053f3b72c2
Author: Yan Zhu <yan@mit.edu>
Date:   Fri Aug 1 01:00:57 2014 -0700

    Revert "Use custom redirector for external links"
    
    This reverts commit d1166330d7c94a5c1b5b32b628e1fb201443e054.

commit ac3f37c9d53b8acc2d3047f29f252e19572d8bc3
Author: Yan Zhu <yan@mit.edu>
Date:   Fri Aug 1 01:00:31 2014 -0700

    Revert "Avoid namespace pollution, add comments"
    
    This reverts commit 06912a2dcef639a0329e1151bbf083c6acb1ec62.

commit 9028031325914f59c254a6a271212020c1d37537
Merge: 5e61cb33 b676cd12
Author: Yan Zhu <yan@mit.edu>
Date:   Fri Aug 1 00:56:00 2014 -0700

    Merge branch 'develop' into feature/pip-update

commit b676cd12a0b5fd0e5c2a5f31588cef0ee98da168
Merge: c8abc816 e8dc8133
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Jul 31 21:29:15 2014 -0700

    Merge pull request #502 from runasand/develop
    
    Fix grammar.

commit c8abc816f5592175f5cc0fcf451d21f5adc3cd82
Merge: 1aee31b7 f15c97fe
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Jul 31 21:28:02 2014 -0700

    Merge pull request #501 from mtigas/494-codename-words-dropdown
    
    fix for #494: make codename length dropdown text ("7 words", "8 words"...) more consistent.

commit 1aee31b7e304e06553888d879ee6608756c4e2a1
Merge: a2a30f2a eedf11ce
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Jul 31 21:23:30 2014 -0700

    Merge branch 'develop' into pr/489

commit a2a30f2ae9a12932df043b6b0ea3682e89ed8a98
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Jul 31 21:21:00 2014 -0700

    use escape to compare HTML-escaped strings from templates

commit 83f265694898999a0900119cda6d9a95c4c94b6e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Jul 31 21:15:52 2014 -0700

    prefer .format to % (nit)

commit f8187ab5758711754114ffc85baa1846dd731c9c
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Jul 31 21:14:01 2014 -0700

    fix broken functional tests

commit eedf11ce5907d94a939ab022c545fab5ab27b0b3
Merge: 174f77a2 718600ef
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Jul 31 20:54:53 2014 -0700

    Merge pull request #488 from mtigas/copy-edits-a
    
    Explain "optionally GPG encrypt w/public key" better

commit 174f77a24bcfb1d5e3128e776057d47ab6420547
Merge: 51a5f063 d65b8fa7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Jul 31 20:37:09 2014 -0700

    Merge pull request #484 from Bachmann1234/highlight-requirements
    
    Consolidate requirements so they can be analyzed

commit e8dc8133b876368eade466f04d5b146dfacee852
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Jul 31 16:55:18 2014 -0400

    Include changes from @dolanjs

commit 227e789a0943f42821a8148920f480889cb9aa31
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Thu Jul 31 10:54:12 2014 -0400

    Updated the guide for the 0.3 release

commit 718600efd49bbc0e1a46170e098cda5556af73a9
Author: Mike Tigas <mike@tig.as>
Date:   Tue Jul 29 16:16:51 2014 -0400

    be more explicit about when securedrop receive-end encryption happens. (after it's submitted/when it's received, rather than "when it is submitted"). #488

commit c11d519b3e08d74cd4320090fbf4f60a5732a6d2
Author: Mike Tigas <mike@tig.as>
Date:   Tue Jul 29 16:11:12 2014 -0400

    store shared strings in variables based on feedback from @diracdeltas; fix failing tests. re: #479 #489

commit 48c3768553914cc76044468721d9d8dae4b8c6b3
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Mon Jul 28 21:12:58 2014 -0400

    Need sudo to run add-journalists.sh and add-admin.sh.

commit 0ea0cc19f371b8ca485cd5cd608a75e0d046c419
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Mon Jul 28 19:54:22 2014 -0400

    Fix grammar.

commit f15c97fed5a8d76a941579869540cc4a51bc2caf
Author: Mike Tigas <mike@tig.as>
Date:   Mon Jul 28 16:27:49 2014 -0400

    make codname length dropdown ("7 words", "8 words"...) more consistent. #494

commit 5e61cb33641557a4f6d232610b06299c553deaad
Author: Yan Zhu <yan@mit.edu>
Date:   Mon Jul 28 03:25:56 2014 -0700

    Updated pip packages with pip-review

commit 5a2a262c0e6347c9fc71548e2c814c2575c9130e
Author: Yan Zhu <yan@mit.edu>
Date:   Mon Jul 28 03:25:02 2014 -0700

    Add pip_update.sh

commit 0426a2f537a40c02948902d500432528a99ba0a0
Author: Yan Zhu <yan@mit.edu>
Date:   Mon Jul 28 02:25:34 2014 -0700

    Add pip-tools to test dependencies

commit 88dea3b4936418cbd9306507c9b67f69ee5d0977
Author: Mike Tigas <mike@tig.as>
Date:   Thu Jul 24 15:43:21 2014 -0400

    Describe "logging back in" so users know what to expect, know why they should come back.
    
    1) we should make sure the user knows the codename is important (and why!)
    2) give them guidance that they should come back later once they have submitted
    
    I feel like this might be a bit too wordy, but I think this sets the expectations much better for a non-techy submitter.
    
    Re: #479

commit 5f7757cc9ca5ba35a2b1d3be7a89b1bca9177993
Author: Mike Tigas <mike@tig.as>
Date:   Thu Jul 24 15:35:44 2014 -0400

    Update "you can encrypt with our public key" bottom msg.
    
    The only people who should really do that are users already familiar w/PGP (as noted in the "why encrypt with key" page that we link to here). So let's make that explicit right off the bat so we don't scare people. Also mention that submissions become encrypted upon receipt.

commit f53562cb45d927fa093b30d0ba81ad889cd545c9
Author: Mike Tigas <mike@tig.as>
Date:   Thu Jul 24 15:23:41 2014 -0400

    Actually answer "why" on the "journalist public key" page. Also note that signing will at least let us know what keyid was used, so users needing anonymity probably shouldn't.

commit d65b8fa712e7fef89de3d38403029e17bca67bee
Author: bachmann <bachmann.matt@gmail.com>
Date:   Sat Jul 19 15:08:16 2014 -0400

    move requirements to folder so they can be picked up by a requirements analysis tool

commit 51a5f06365b1bd23da380ef31b1df9d7a8502aee
Merge: 16150605 ce6c230a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Jul 12 20:30:11 2014 +0200

    Merge pull request #476 from jacksingleton/submission-in-mem-test
    
    Test to check if the source submission is retained in memory

commit 16150605dd3a1957c5c2c8c10842a5ed9bdb0e8b
Merge: 523a50ad e8cfa2a3
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Jul 10 17:55:50 2014 -0700

    Merge branch 'develop' into pr/458
    
    Need to import config individually to get the PIDFILEs without messing up the
    test config. Added comment to fix in the future.
    
    Conflicts:
            securedrop/manage.py

commit ce6c230aa6e10676eff7ce8e3a2f0b9196f9e093
Author: Jack Singleton <git@jacksingleton.com>
Date:   Thu Jul 10 13:03:36 2014 +0100

    make tests fail with the number of occurences of the secret_message in memory

commit 7ee30c3d8ed5bd8b7e315b406f91f37bba81dad6
Author: Jack Singleton <git@jacksingleton.com>
Date:   Thu Jul 10 12:53:19 2014 +0100

    supressed gcore output in tests

commit e8cfa2a393087f37ac5b082ecd658f202fd3d7ff
Merge: c58be2f4 527638d5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Jul 9 20:53:57 2014 -0700

    Merge pull request #443 from dolanjs/last_things
    
    last things and fixes for some of the iSec reported issues

commit 0ba680b3e807a7a04f6982975212bb3804aa50cb
Author: Jack Singleton <git@jacksingleton.com>
Date:   Tue Jul 8 15:48:33 2014 +0100

    makes _source_submits_a_message function reusable

commit 91ee3352d84da0b6efcfdfc2d0b0dcafa60141be
Author: Jack Singleton <git@jacksingleton.com>
Date:   Tue Jul 8 13:45:27 2014 +0100

    adds gdb dependency to vagrant, needed by new memory test

commit 27a648470d492337bb23250c7804adfd4bc7eb96
Author: Jack Singleton <git@jacksingleton.com>
Date:   Tue Jul 8 13:37:35 2014 +0100

    adds test case for message submission not being retained in memory

commit 51e7636b10d9a1a60179b9b322a649806ecd562b
Author: Jack Singleton <git@jacksingleton.com>
Date:   Tue Jul 8 00:02:06 2014 +0100

    assert that a submitted secret message cannot be found in a memory dump of the source server

commit 7ecb2e5d9861171eca71389946064db412c732a0
Author: Jack Singleton <git@jacksingleton.com>
Date:   Tue Jul 8 00:00:57 2014 +0100

    allow reuse of _source_submits_a_file method in other functional tests

commit 527638d55752c3a036b8a94d235fd9bb97815125
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Jul 7 15:00:55 2014 -0700

    removes basic auth and apache module for 2fa due to sec bug in apache module

commit a14cac6977e64c1583762fb055e7970152107064
Merge: cc8a62c2 85ae38a2
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Jul 7 14:51:28 2014 -0700

    Merge pull request #6 from ageis/last_things
    
    Fix broken bash variable

commit cc8a62c214d06a560dc3556d8d33c0104e951dda
Author: James Dolan <dolanjs@gmail.com>
Date:   Mon Jul 7 14:38:16 2014 -0700

    added static image names to both interfaces' apparmor profiles
    added hachoir files for document interface's apparmor profile
    added xmlreader files for source interfaces's apparmor profile

commit 85ae38a2685963582006f05ed910b88cdb7f5dac
Author: Kevin Gallagher <kevinmg@pressfreedomfoundation.org>
Date:   Mon Jul 7 16:10:29 2014 -0400

    Fix broken bash variable

commit 5a19b650205de8a15819675ecc71eb6d27775c4d
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Jul 7 11:23:22 2014 -0700

    updated email address in control files

commit 066bf030c458eefe13a1d172cdb952d8e2367d5d
Author: James Dolan <dolanjs@gmail.com>
Date:   Mon Jul 7 10:36:23 2014 -0700

    added DEFAULT_ENV to base.py in interface specific postinst scripts

commit c531c7540c3b3927fda7b109fa2e6a3c4abd1fed
Author: James Dolan <dolanjs@gmail.com>
Date:   Mon Jul 7 10:09:13 2014 -0700

    removed conflicting facist firewall and added where the allowed ports came from

commit c58be2f410d1e871efe63a97faaa664d2e1076ff
Merge: 45cda167 337fbfe3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jul 6 22:43:42 2014 -0400

    Merge pull request #472 from ageis/develop
    
    Fixed spelling error

commit 45cda16779948e5d4c20ff19b767e561ec20a429
Merge: 8fa941ad 5cf0e595
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jul 6 22:41:03 2014 -0400

    Merge pull request #471 from runasand/develop
    
    Be consistent with naming the required Ubuntu release

commit 337fbfe3fe75bca06566a5367ef3ad819c98f470
Author: Kevin Gallagher <kevinmg@pressfreedomfoundation.org>
Date:   Wed Jul 2 19:05:35 2014 -0400

    fixed spelling error

commit 5cf0e595c4464993f1fe6f33546f2970f3b4bce6
Author: Runa A. Sandvik <runa.sandvik@gmail.com>
Date:   Tue Jul 1 09:49:37 2014 -0400

    Be consistent with naming the required Ubuntu release

commit 8fa941ad8f6612b44f291c9dade8458d1847865b
Merge: e06862f2 449befaa
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Jun 26 19:17:25 2014 -0700

    Merge pull request #449 from freedomofpress/codename-collisions
    
    Generated codenames must be unique

commit e06862f29e77d7a40a4492a6d569b61a7279d0b4
Merge: 9fa9d2c0 2a549f56
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Jun 26 19:07:52 2014 -0700

    Merge pull request #461 from charltonaustin/develop
    
    Adding back in unit testsgit st

commit 2a549f56c0e206f23c7155584d96dc499c0e0307
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Jun 26 19:07:35 2014 -0700

    comment on the call to test.sh

commit 9fa9d2c0ea04b71f92b973f2b57fe1818d780f5c
Author: William Budington <bill@eff.org>
Date:   Sat Jun 21 16:19:07 2014 -0700

    Fixing indentation for journalist_templates/col.html and journalist_templates/index.html

commit 418998797965c76077383fb234e106c2a25dc583
Author: William Budington <bill@eff.org>
Date:   Sat Jun 21 15:58:19 2014 -0700

    Cleaning up naming for {starred, unstarred} sources

commit c44313cc4e378bae10df0802238942d5a65d563c
Author: Kyle Olivo <kyleolivo@gmail.com>
Date:   Thu Jun 19 19:45:04 2014 -0700

    Charlie and Kyle: Fixing tests in manage.py

commit 523a50ade1e18d8cfc575a4a68d658478245ff6e
Author: William Budington <bill@eff.org>
Date:   Tue Jun 17 17:54:33 2014 -0700

    Cleanup from rebase develop

commit 3f9b63def62be600afe51abe86123547f97e6b6e
Author: William Budington <bill@eff.org>
Date:   Tue Jun 17 11:50:50 2014 -0700

    Removing restart from commands

commit 472095e5567f250832e29905f1dbd8b7056cf011
Author: William Budington <bill@eff.org>
Date:   Sun Jun 15 22:28:00 2014 -0700

    Improving the start and stop process by getting return status from start-stop-daemon.

commit 470258c04165d3160e0caf875fe1185ac99b0550
Author: William Budington <bill@eff.org>
Date:   Sun Jun 15 19:12:26 2014 -0700

    Adding start/stop functionality in manage.py (#457).  source.py and journalist.py create a pidfile (the path of which is defined in config/base.py) and this is referenced for shutdown.

commit 886abf22e38fb301d9fee54b85ee47a20209bbd1
Author: charltonaustin <charlton.austin@gmail.com>
Date:   Mon Jun 16 22:23:24 2014 -0700

    Adding back in unit testsgit st

commit b9a5bd2abb649e7829f77a274773198a1f902cc1
Merge: c6713440 74bc1935
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Jun 16 07:59:25 2014 -0700

    Merge pull request #460 from Hainish/issues/459
    
    Moving imports of test suites into test function for manage.py (resolves...

commit 74bc19356aff032deb8b7a47be45422005f10364
Author: William Budington <bill@eff.org>
Date:   Sun Jun 15 23:54:44 2014 -0700

    Move config to top, remove test suite runners while retaining call to test.sh

commit d618502bfce19cc243acd92344bd32e0a96aabc1
Author: William Budington <bill@eff.org>
Date:   Sun Jun 15 20:39:38 2014 -0700

    Moving imports of test suites into test function for manage.py (resolves #459)

commit c6713440256ab3d5a3e2d4933944ba16f0029653
Merge: ed483464 6e90cf21
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 15 17:17:06 2014 -0700

    Merge pull request #454 from jacksingleton/file_upload_plaintext_hitting_disk
    
    File upload plaintext hitting disk

commit 83cb27de3ac7bf9007e8f7f8f0511f39eec0c04a
Author: Dan Auerbach <dan@eff.org>
Date:   Sun Jun 15 16:25:36 2014 -0700

    Fix duplicate import statements

commit 6e90cf21200816e7f6a8ad340922f8d2cb595fe8
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jun 15 16:23:14 2014 -0700

    extracted duplicate new_codename code and added to test_setup

commit 98e817879757fed042348f374548249e718332ff
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jun 15 16:07:53 2014 -0700

    overriding the default Flask Request with a RequestThatSecuresFileUploads. for now it just forces all file uploads to be buffered in memory

commit ed483464d0752a9aa1a8a8366c4d87e4cc452025
Merge: 7cc28ee4 b86bd2dc
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 15 15:55:22 2014 -0700

    Merge pull request #448 from freedomofpress/recommend-manage-py-in-setup-dev
    
    recommend using manage.py after successful setup

commit 449befaae8ec3b3a7fa453ce4045e4b81570cf0d
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jun 15 15:04:31 2014 -0700

    Generated codenames must be unique
    
    * Removes check and warning for duplicate source directories (since that can no
    longer happen)
    * Refactor logged_in key pop and comment it with TODO

commit b86bd2dc4f4cb97f110dfa25dc4d071380c21f91
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jun 15 14:44:59 2014 -0700

    recommend using manage.py after successful setup

commit 7cc28ee45f78b3d34eca7d707fa023bc5b4c2d46
Merge: decbe8dd dde7dfa5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 15 13:29:10 2014 -0700

    Merge pull request #446 from diracdeltas/feature/changelogs
    
    Update changelog for 0.1+ releases

commit decbe8dd9d93e8b55dfa36081c261663324e464e
Merge: 8f09ecf0 a42e4303
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 15 13:27:11 2014 -0700

    Merge pull request #434 from micahflee/tails-launcher
    
    Tails launcher

commit 8f09ecf0e58cbaae970dc669879dcef3186df9c2
Merge: 0270d018 515b2c82
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 15 13:22:03 2014 -0700

    Merge pull request #433 from Hainish/issues/432
    
    Adding DEFAULT_ENV to base.py and setting some reasonable defaults (#432...

commit dde7dfa5d569888b0861035e78b52df79b168d68
Author: Yan Zhu <yan@mit.edu>
Date:   Sun Jun 15 13:02:12 2014 -0700

    Update changelog for 0.1+ releases

commit 0270d0186906b8685713556fc9559ef21366dab9
Merge: 34c89268 1aa95883
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 15 12:59:09 2014 -0700

    Merge pull request #430 from charltonaustin/getting-rid-of-test-sh
    
    Getting rid of test sh

commit 34c89268974846a506fa2a1eaf2742f4443ee5cd
Merge: c1efa519 6a947411
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 15 12:55:11 2014 -0700

    Merge pull request #429 from charltonaustin/manage-py-upgrade
    
    Manage py upgrade

commit c1efa519b7ab3aad80faf0007468453390bb768b
Merge: 65b6945e b9966d44
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 15 12:45:03 2014 -0700

    Merge pull request #428 from charltonaustin/refactor-methods
    
    refactoring code to remove if else statements

commit b9966d442d011c9b9315204cff59479e75334515
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 15 12:38:39 2014 -0700

    Move getlist comment, misc. cleanup

commit 098b909a1ec10ca96ab277f113fddeea2d422043
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 15 12:35:59 2014 -0700

    Don't override form action with formaction

commit 8727213d1af251184defb433ee298ea51f38437f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 15 12:33:51 2014 -0700

    Remove now-unneeded data param

commit d4ad49b3c226eb549b397c42df3f7c1ab294758d
Author: James <dolanjs@gmail.com>
Date:   Fri Jun 13 16:41:31 2014 -0400

    added unattended-upgrade log file to be monitored by ossec

commit a42e43035a65a31129f53e585e6ec7d1bb2f8511
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Jun 11 19:23:06 2014 +0000

    added linebreak in tails notification, so it shows up right in Tails 1.1 wheezy

commit 338b75ac548cb46ca313fe443915d5c1dc4b6560
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Jun 11 19:05:09 2014 +0000

    made a nice gnome application launcher

commit 515b2c824b8744625839beacdf84c9fea0cff3be
Author: William Budington <bill@eff.org>
Date:   Tue Jun 10 23:45:28 2014 -0700

    Adding DEFAULT_ENV to base.py and setting some reasonable defaults (#432)

commit a6f2129c3a417a4bc47f651cfdefd49e32330a26
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 9 14:33:56 2014 -0400

    removed old non-existent directories from being ignored/monitored
    fixed directory path for source interface log files. Even though these log files are not enabled. Configured them to be logged just in case and admin accidently enables them somehow.
    Added specific ignore statements for /var/securedrop/{keys,db,store} outside of the jail even though /var/securedrop is not configured to be a monitored directory.
    Added ignore statement for the securedrop.log file for both interfaces just in case the securedrop.log file is used.
    added the ossec alert gpg keyrings random seed to ossec syscheck ignore list

commit fda8009e81281606c6012e18333650e7a8bc091e
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 9 09:16:36 2014 -0400

    added xSendFile module to document interface to fix issue with downloading large files

commit 2b437848e40b14e2a794ce87824d77687f838ed4
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 9 08:25:01 2014 -0400

    added example network firewall rules.

commit 54573ad036318221a2982da9c569b855cc25164b
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 9 07:34:20 2014 -0400

    Talked with @iSec about usability issues with the password part for the document interface's 2 factor authentication, but we all felt that having access restricted by something you know is worth the usability trade off.

commit 517cf7a11b2b67568ea0d2b12ad5835dfa49667e
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 9 06:49:30 2014 -0400

    added what ports tor is allowed to connect to so that we can restrict the destination port in the host/network firewall rules.
    The alternative would be removing the destination port restriction in the host/network firewall rules. Thanks @iSec for finding this

commit 1d06e6ee734288a2a78885a70ba1871c961586c5
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 9 06:38:15 2014 -0400

    added missing state section for ntp rules caught by @iSec

commit d8163489b1dc6adcfd0c789e8c6cd0bc657da766
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 9 06:33:50 2014 -0400

    fixed typo in unattended upgrades

commit fe05cafe02378570c622bfbe9871c2c5b4861afd
Author: James <dolanjs@gmail.com>
Date:   Tue Jun 3 08:42:43 2014 -0400

    removed debconf question for smtp server since this is not part of the package

commit 1aa95883f061d65b56ca74cbdeb027b27995d6ed
Author: Charlie Austin <charlie@loyal3.com>
Date:   Wed Jun 4 23:56:16 2014 -0700

    Adding in the manage.py to the setup_dev.sh

commit e68c3044ed9cf5461fe5d7e686023bfc159ac88b
Author: Charlie Austin <charlie@loyal3.com>
Date:   Wed Jun 4 23:37:55 2014 -0700

    Removing the killing process stuff.

commit f4e72ef46ac94e380caf6d56ce11d3d990a90ffa
Author: Charlie Austin <charlie@loyal3.com>
Date:   Wed Jun 4 23:36:19 2014 -0700

    Moving the unit tests to not use test.sh

commit 6a9474115daa21030bbf5a25219383df53af847c
Author: Charlie Austin <charlie@loyal3.com>
Date:   Tue Jun 3 20:45:53 2014 -0700

    Added an extra method.

commit 69695719d79af581ec5da8b0b725ab8b2967e256
Author: Charlie Austin <charlie@loyal3.com>
Date:   Tue Jun 3 20:42:19 2014 -0700

    Adding in abort 500

commit e39e2b9317afcfb8966e3601ee8853e6587a8852
Author: Charlie Austin <charlie@loyal3.com>
Date:   Tue Jun 3 20:39:24 2014 -0700

    Adding in something to remove the process before we start up the server.

commit 65b6945e4e4895cc67249773059d80785ddc7855
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Tue Jun 3 09:51:32 2014 -0700

    remove unused localForage dependency

commit 86f628b6ee472a5a0939dfeb658c5ed428573961
Author: Charlie Austin <charlie@loyal3.com>
Date:   Mon Jun 2 21:28:52 2014 -0700

    refactoring code to remove if else statements

commit e39d69bea6c77644669ad3f0ce6014ec3412e700
Merge: 0e6764ad f122128d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Jun 2 18:36:40 2014 -0700

    Merge pull request #427 from dolanjs/color-in-add-users
    
    minor tweeks to add-user scripts

commit f122128d133462851be580024fec0a707385037e
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 2 21:23:53 2014 -0400

    added color to ouput
    and changed add-journalist so it shows the correct name

commit 0e6764add143b56450987792c42a1d7eb23fa0ef
Merge: 1d62c311 3c1c4a6f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Jun 2 16:50:28 2014 -0700

    Merge pull request #426 from dolanjs/doc-mat-pip-depends
    
    added the additional MAT depends to the document-interface pip reqs

commit 3c1c4a6f2c12e07b29092ccb728c867bd2f54533
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 2 19:12:38 2014 -0400

    added the additional MAT depends to the document-interface pip requirements.
    the journalist.py imports store.py which imports MAT, MAT required the additional packages.

commit 1d62c311c1b0df9f4aa0d825d5234b9fd0a5a836
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Jun 2 13:49:56 2014 -0700

    cleanup from removing util
    
    * keeps datetime formatting in the template (w/ a custom template filter)
    * fixes import error for @dolanjs
    * should also fix Travis CI
    
    So, the reason I couldn't reproduce the issues on Travis was because after
    I git rm'ed util.py in a prior commit, util.pyc was left behind, which caused
    everything to work (incorrectly) for me. Note that this manifested as
    a "tests.test_unit not a module" error - looks like unittest swallows the
    actual issue.

commit 562bea2e7a63309b31cf503c1859f671af9010c3
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Jun 2 08:54:54 2014 -0700

    set SECUREDROP_ENV in manage.py since default env is now production, not development

commit ad18cf006061c9b838f4c632a27373b2d4a209c1
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Jun 2 08:35:31 2014 -0700

    fixup env variables and imports for testsuite

commit 9267fa1fe24c5043157deb231d7e8fc552bdb543
Merge: 72fecc5c 7de1b5fb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Jun 2 08:23:01 2014 -0700

    Merge pull request #424 from dolanjs/repo_packages
    
    Repo packages

commit 72fecc5c80ddf271fb35365aa33b55cb143fe360
Merge: dfc9f201 711a4b15
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Jun 2 08:20:13 2014 -0700

    Merge pull request #419 from charltonaustin/flag-sources-4
    
    Flag sources 4

commit dfc9f2013c09299b6de46f4593e6b34c3625a659
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon Jun 2 08:19:31 2014 -0700

    fixup submission size regexps in tests

commit ed2f0cee73dd921be6d5e7fa156b1d636cf9e62a
Merge: e7779edc 1a71aa50
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Jun 2 08:07:06 2014 -0700

    Merge pull request #425 from freedomofpress/submission-size-formatting
    
    human-readable submissions sizes, with byte counts in tooltip for micahf...

commit 7de1b5fb571c07b1310393e337543c6a37674fa4
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 2 07:45:02 2014 -0400

    added check to see if securedrop-app init script was present

commit 0a79c9c9a70f20e16d426521e4fa478e70ec4ec7
Merge: 749eb8e7 e4a7304b
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 2 07:09:52 2014 -0400

    Merge branch 'repo_packages' of https://github.com/dolanjs/securedrop into repo_packages

commit 749eb8e702045c77ea5b5d1fc742526527155c54
Author: James <dolanjs@gmail.com>
Date:   Mon Jun 2 06:49:34 2014 -0400

    the source interface does use sqlalchemy it is imported in source.py
    
    the document interface loads store.py which imports MAT
    re-adding MAT to document-requirements.txt

commit e4a7304b5df126c4bd19525d1babf5bb7771ff2b
Merge: 6ccd9186 e1468a31
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Jun 2 07:07:32 2014 -0400

    Merge pull request #5 from ageis/patch-1
    
    Torify and connect-proxy stuff

commit e1468a31e6088e20de051b8d7829ae610236b212
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Mon Jun 2 02:44:28 2014 -0400

    Torify and connect-proxy stuff

commit 711a4b15e44fee66fc27561aa8238f6bdf899c4b
Author: Charlie Austin <charlie@loyal3.com>
Date:   Sun Jun 1 22:44:08 2014 -0700

    Fixing styling and functional tests.

commit 1a71aa5011b8060228d79db887b3975d99f6172e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jun 1 22:38:26 2014 -0700

    human-readable submissions sizes, with byte counts in tooltip for micahflee

commit 6ccd918615d5c45bb4eb44ddd32892b1f7175206
Merge: 77448d62 4ef3d19f
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Jun 1 23:47:30 2014 -0400

    Merge pull request #3 from ageis/repo_packages
    
    Display the journalist's 2fa doc interface code

commit 4ef3d19fc72ea847140e591e307d2d88df9bfc46
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Sun Jun 1 23:33:07 2014 -0400

    Update Ubuntu version and URL

commit c681affefb461cac33d06c0000e1d95ddc4ffeac
Author: Charlie Austin <charlie@loyal3.com>
Date:   Sun Jun 1 20:29:18 2014 -0700

    Fixing some of the star

commit 77448d62ff7bf3107efe1bca3fc65a2b04f18816
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Jun 1 20:19:46 2014 -0700

    changed the default location to production
    maybe this can just be the deafult for the master branch

commit 85aea66ac9def6c9e71d7c148c405dd2111a4a1c
Merge: eb458011 4fd01c98
Author: Charlie Austin <charlie@loyal3.com>
Date:   Sun Jun 1 20:13:17 2014 -0700

    Merge branch 'develop' of https://github.com/freedomofpress/securedrop into flag-sources-4
    
    Conflicts:
            securedrop/journalist_templates/index.html
            securedrop/static/css/styles.css

commit e7779edc5ca4364e3741b9e274ed80ef90a3dfa5
Merge: 4fd01c98 0d1fb742
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 1 20:08:55 2014 -0700

    Merge pull request #422 from jacksingleton/functional-tests-logging
    
    Functional tests logging

commit 4fd01c98b7dc3f038bd9d92bc0f25f4508a46970
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jun 1 20:02:10 2014 -0700

    date formatting should be in the template

commit 92e35cb4cae2e4a440811ac53f25bd4ba714c437
Author: Kevin Gallagher <kevinmg@pressfreedomfoundation.org>
Date:   Sun Jun 1 22:58:04 2014 -0400

    Display the journalist's 2fa doc interface code

commit eb458011e73344c6bc98190f06a290a1e64e96a1
Author: Charlie Austin <charlie@loyal3.com>
Date:   Sun Jun 1 19:57:30 2014 -0700

    Removing the query to SourceStar

commit 0d1fb742c60705f762fb39bcb1b0ac42343520f1
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jun 1 19:44:12 2014 -0700

    added newlines

commit c7de0dd71761bc45e28d21168698b2b01c1504a3
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jun 1 19:40:23 2014 -0700

    added log line with date when functional tests start

commit f31afbfa13d25de75d96e47d8b1e416ff2ce967f
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jun 1 19:39:16 2014 -0700

    remove unnecessary margin below notification

commit ad537e4bb6aa301ff92d44e47fd635af4ed921ea
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Jun 1 19:35:24 2014 -0700

    added the create journolist and admin scripts
    and update the default location displayed in the post-install script

commit b709352e33e611f1da0aa32f5b02142be56edbae
Merge: 917043d9 9f657fcc
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jun 1 19:29:58 2014 -0700

    Merge branch 'beauty' of https://github.com/micahflee/securedrop into micahflee-beauty
    
    Conflicts:
            securedrop/static/css/styles.css

commit 917043d9a08b64b1c8c274fe97164824ec58c06f
Merge: 4421c99f 9e46b77a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 1 19:21:59 2014 -0700

    Merge pull request #423 from freedomofpress/fix-broken-popup
    
    Fix broken popup

commit 71a05e1d72e730edff121d5c12113e9057b1da74
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Jun 1 19:06:08 2014 -0700

    updated documentation to reflect installing from fpf repos.

commit 0fae97dcf29b76ef66dbb6220a7176a1bf279214
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Jun 1 18:55:47 2014 -0700

    based off fresh develop
    removed old install files
    added new deb packages files
    binaries for OSSEC server, agent and apache modules are excluded from the github repo
    to build deb packages locally you will need the binaries that are excluded from github.
    
    post-install script needs to be updated to display journalist and admins 2fa codes

commit 4421c99f2e3b200e86a6caeabb46f59cc3314cad
Merge: 0aa8881c 668aa1df
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 1 19:06:52 2014 -0700

    Merge pull request #421 from freedomofpress/vagrant-cache
    
    Vagrant cache

commit 9e46b77ab148d3c45a8085d4a44fdbcb6858e675
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jun 1 19:03:09 2014 -0700

    inline scripts are the devil

commit 7706192d20a4c78b3407c758cc726acfe65198b3
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jun 1 19:00:19 2014 -0700

    restore TBB-specific js warning

commit c54604c92fc28b18de7564ab7bd78afa223d5567
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Jun 1 18:52:47 2014 -0700

    gitignore was blocking needed directories in install_files dir
    removed var

commit 0e8b339e48cbe95f6f3e356eaf938a84364ad168
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jun 1 18:52:12 2014 -0700

    clean up and refactoring

commit a37065f0d564b9f66439d5bc5083e253eaac838d
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jun 1 18:38:13 2014 -0700

    added logging by default to functional tests

commit 0aa8881c4b640329b29c695bff725ea68e18366c
Merge: d5fac7a3 8a67d8df
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jun 1 17:42:04 2014 -0700

    Merge pull request #420 from jacksingleton/fix-fun-tests-after-vagrant-halt
    
    added xvfb to rc.d via update-rc.d

commit 668aa1df3a8b1dfea3ae135228e43c6417c86a36
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jun 1 17:33:22 2014 -0700

    instructions for speeding up provisioning with vagrant-cachier

commit 0af7087b74f8ce3ec6fcb041378bfc00e3caaaf8
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jun 1 17:32:58 2014 -0700

    configure vagrant-cachier

commit 8a67d8df995a66e909014ed68b2a60b18ca1c254
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jun 1 17:15:43 2014 -0700

    added xvfb to rc.d via update-rc.d

commit feb17abf3b2fbe655c15f7c22a5aadf74733103b
Author: Charlie Austin <charlie@loyal3.com>
Date:   Sun Jun 1 11:18:08 2014 -0700

    Adding in tests to the test runner script.

commit 13b192c1d9597613d081d87f33956ebf2c063990
Author: Charlie Austin <charlie@loyal3.com>
Date:   Sun Jun 1 11:11:45 2014 -0700

    Adding in new buttons to star and unstar source.

commit 9f657fcc193f33ee92466753e09526d3e86cd522
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Jun 1 02:37:03 2014 -0400

    fixed test_submit_file

commit 0f858aae6a514f27f289c7118209fa6ece5c2907
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Jun 1 02:22:38 2014 -0400

    fixes test_filenames and test_filenames_delete

commit 4d02d0cecb071371d2294228d24ef59c3304e879
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Jun 1 02:14:24 2014 -0400

    improved col page

commit 60bd6349c4deb9de1f6fb69ef9f68b03687076c3
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Jun 1 01:55:17 2014 -0400

    mdae quick filter box look better

commit 77ee670fc4c321cb248d9e87e2c8f619b4585bf2
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Jun 1 01:53:04 2014 -0400

    made source listing page look way better

commit 9ea7047867b5ac3574006cb3fe4b7b293526b5de
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Jun 1 01:26:25 2014 -0400

    updated font-awesome

commit 4fcbb200f77a7415b73bb42cc4b9b75878e61fb5
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Jun 1 00:53:39 2014 -0400

    added breadcrumbs to col

commit a9eea856c5a04d490b455e4b810a98433d1871c9
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Jun 1 00:15:48 2014 -0400

    minor css tweaks to source interface

commit 938b08cfde8ebd32e6cd835d29ec7d939380df08
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Jun 1 00:11:27 2014 -0400

    fixes #416

commit e2b4dfbd57c15b314086e3853da3a0098aeddb3f
Author: Micah Lee <micah@micahflee.com>
Date:   Sat May 31 23:26:43 2014 -0400

    improved global header and link styles, and reformatted css syntax to be consistent

commit 7e330030046b061711424cf8a162b0888701073f
Author: Micah Lee <micah@micahflee.com>
Date:   Sat May 31 23:10:29 2014 -0400

    the logo should default to logo.png, not securedrop.png

commit d5fac7a3a951a2e8ae5276f7fa44bbe52ce40a23
Merge: f71b17f4 a08ba020
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu May 29 11:12:05 2014 -0700

    Merge pull request #411 from freedomofpress/fix/leading-spaces
    
    hack to avoid added spaces when copying codename

commit a08ba020cf31af748a60e7c2ab365446589780b1
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu May 29 10:59:22 2014 -0700

    fix unit test due to modified html

commit ad31f38fb1d6f6b5acb45a9c4b20aa978ca9f79b
Merge: 26e94ed6 f71b17f4
Author: Charlie Austin <charlie@loyal3.com>
Date:   Thu May 29 08:33:03 2014 -0700

    Merge branch 'develop' of https://github.com/freedomofpress/securedrop into flag-source-3

commit f72ec543150f6bd15ca03de8402a8a23883ecdd4
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed May 28 20:46:27 2014 -0700

    hack to avoid added spaces when copying codename

commit f71b17f45eeed6face92ec90f6456bda95eeeddb
Merge: 85c987f4 8002aa85
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed May 28 16:34:30 2014 -0700

    Merge pull request #410 from Hainish/issues/401
    
    Deleting the p object removes defunct gpg processes, fixes #401

commit 8002aa85100121ce02ab0e22e571c9578bd2cb76
Author: William Budington <bill@eff.org>
Date:   Wed May 28 16:23:15 2014 -0700

    Deleting the p object removes defunct gpg processes #401

commit 85c987f4314fb296667413319f6a8fc6e6d30eaa
Merge: 7132b30b 893cc717
Author: Micah Lee <micah@micahflee.com>
Date:   Wed May 28 15:44:25 2014 -0700

    Merge pull request #409 from freedomofpress/feature/already-have-codename-link
    
    add login link to generate page

commit 893cc717747d838493b224cecdeb00c868f9da61
Merge: d0a6c26d 7132b30b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed May 28 09:39:01 2014 -0700

    Merge branch 'develop' into feature/already-have-codename-link

commit d0a6c26d10c11bd824d537165989070083d3fa12
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed May 28 08:58:00 2014 -0700

    add test for login link from generate page

commit 9ba06f729c499ecb209030ebb5b66373019c0501
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed May 28 08:43:25 2014 -0700

    add login link to generate page

commit 26e94ed69a9b6046f75c3198c9a582113f08c4ae
Merge: f530d261 7132b30b
Author: Charlie Austin <charlie@loyal3.com>
Date:   Wed May 28 08:35:47 2014 -0700

    Merge branch 'develop' of https://github.com/freedomofpress/securedrop into flag-source-3

commit f530d26173a1a8b68ff665787568527d90fe682b
Author: Charlie Austin <charlie@loyal3.com>
Date:   Wed May 28 08:35:02 2014 -0700

    Saving and removing stars

commit 7132b30bec123025a587ad14e5576ed2eabebedc
Merge: 22bf91c4 2bbeaa8f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed May 28 08:17:43 2014 -0700

    Merge pull request #407 from charltonaustin/flag-message-2
    
    Flag Sources 2

commit 22bf91c410d7f47c4ad311035915df1171494319
Merge: e9f061af 65a70719
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue May 27 09:19:47 2014 -0700

    Merge pull request #408 from freedomofpress/399/functional-test-assertion-error
    
    fix functional test by implicitly waiting for DOM element

commit 65a7071987e8f60dff25e0ca81a8ed37eaaeec77
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Tue May 27 08:57:04 2014 -0700

    fix functional test by implicitly waiting for DOM element

commit 2bbeaa8f70c00636beb426fe4a540b0f9025b639
Author: Charlie Austin <charlie@loyal3.com>
Date:   Mon May 26 21:30:28 2014 -0700

    Hiding the button since the feature isn't finished

commit 60d1f567c3d1a8bb166f532fab49b6fdbfc4640c
Merge: e72f8858 e9f061af
Author: Charlie Austin <charlie@loyal3.com>
Date:   Mon May 26 21:26:01 2014 -0700

    Merge branch 'develop' of https://github.com/freedomofpress/securedrop into flag-message-2

commit e72f8858fe43473477b8e0458f2f3dd33f543a45
Author: Charlie Austin <charlie@loyal3.com>
Date:   Mon May 26 21:06:15 2014 -0700

    Saving the source stars.

commit f0ff4f1b507b9a31b306d4cf78f1b774ad103fca
Author: Charlie Austin <charlie@loyal3.com>
Date:   Mon May 26 21:03:09 2014 -0700

    Adding stuff for ide.

commit e9f061aff86554ca60a0b41d8ecf26c54e665a99
Merge: 5caac375 74601e0c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon May 26 17:07:56 2014 -0700

    Merge pull request #405 from freedomofpress/387/manage-script
    
    387/manage script

commit 5caac375fe68eb6380154a237c7f3a7f2fd14587
Merge: bca46b37 127c3445
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon May 26 16:36:31 2014 -0700

    Merge pull request #406 from jacksingleton/fix-hanging-functional-tests
    
    Fixed hanging functional tests when starting vagrant

commit 127c344558b30eb6bf566d3b3d56303e047521d3
Author: Jack Singleton <git@jacksingleton.com>
Date:   Mon May 26 14:32:24 2014 -0700

    added -H option to sudo in Vagrantfile so that setup_dev.sh uses the correct home directory

commit 74601e0cb464f93f81d45983874f041c70f8e757
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon May 26 14:13:37 2014 -0700

    document manage.py

commit 83f73a4516146e69d10fcbc7ee6e461c80dd30dc
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon May 26 13:46:25 2014 -0700

    implement basic manage.py start

commit 6ed424b579ff1b269d17a02fada0ec94e57ce466
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon May 26 12:52:11 2014 -0700

    first pass of manage.py test

commit ff9b08345eb032bd8cb6026db8c90a94bbb62c4b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Mon May 26 12:40:06 2014 -0700

    implement manage.py reset

commit 0e3c79cb0e700637a863f1f171dde05a7a2554a7
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 17:06:41 2014 -0700

    utility script boilerplate

commit bca46b373bd9d6ca556dc45cfc14927d3b24390a
Merge: 536b3991 6a2636b9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat May 24 20:19:35 2014 -0700

    Merge pull request #396 from freedomofpress/386/hide-filter-box-if-no-js
    
    386/hide filter box if no js

commit 6a2636b9cfef5c6a3a51c01d37c8ed1c1516abd2
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 20:06:17 2014 -0700

    dyn add select boxes on source pages

commit 8b63b9d56eab622693f0279b491dc88581947102
Merge: 32e51b13 536b3991
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 20:05:30 2014 -0700

    Merge branch 'develop' into 386/hide-filter-box-if-no-js
    
    Conflicts:
            securedrop/journalist_templates/index.html

commit 536b39912a03bf79c6af21f7ce0674971376f4a7
Merge: 72924df6 fe4527a3
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 17:55:37 2014 -0700

    Merge branch 'flag-message' of https://github.com/charltonaustin/securedrop into charltonaustin-flag-message
    
    Conflicts:
            securedrop/journalist_templates/col.html

commit 72924df65925093d872a1b40648d94d9c46022d7
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 17:52:18 2014 -0700

    Fix broken branch in col_delete
    
    We were checking the length of a string, not the list of form values, in
    col_delete. This wasn't exposed because JS short-circuited the form submission
    if nothing was selected, but would have been a bug for any users who had JS
    disabled.

commit fe4527a3bc69e8e863674e3ab4a24091b3374461
Author: Charlie Austin <charlie@loyal3.com>
Date:   Sat May 24 17:25:23 2014 -0700

    Fixing some formatting issues.

commit 32e51b13c0ff744fafc530a3b0aaae180c12e837
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 17:12:02 2014 -0700

    remove unnecessary value for autofocus attribute

commit 0838cdffd31b226f957f469e452896a61da9cb1f
Merge: 17fc0b6b b7d8913f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat May 24 17:05:55 2014 -0700

    Merge pull request #397 from cwattrus/ui-updates
    
    Refactored the ui on journalist page. Fixing tests to work with new structure

commit f2c2f6bd1d3a189859f8679f3642a094398a7843
Author: Charlie Austin <charlie@loyal3.com>
Date:   Sat May 24 16:44:55 2014 -0700

    Adding in a new method to deal with staring a message.

commit 17fc0b6b0c73e0cfbf1623161a4e71e5d9d63d28
Merge: 88dd1ad5 52670e70
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat May 24 16:32:49 2014 -0700

    Merge pull request #395 from freedomofpress/393/flash-on-no-replies
    
    393/flash on no replies

commit b7d8913fdf1b00aa1dfb8d1b73dcffdf82e3a0e9
Author: Craig Wattrus <cwattrus@gmail.com>
Date:   Sat May 24 16:29:32 2014 -0700

    Refactored the ui on journalist page. Fixing tests to work with new structure.

commit e55f5f6ba04875483fa06c8c2ac88462ea194d71
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 16:28:12 2014 -0700

    dynamically add select all, none buttons

commit a5559f49c3b097c6bdb02a9673a44ddadc0a1ee1
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 16:21:45 2014 -0700

    dynamically add quick filter box

commit 60d094fe09150e6f4d6ec21fc4b93ff2bce35c79
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 16:21:55 2014 -0700

    trailing whitespace

commit 52670e704f6aa7902def27b82700ad580e340691
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 15:59:52 2014 -0700

    autofocus codename field on login page

commit d263b1944f491785e67f3a7d0e496688425f638f
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 15:58:44 2014 -0700

    flash a message after login if there are no replies yet

commit e7571eebb21653efec2d43caaf6caeadd3e7f4c1
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat May 24 15:58:08 2014 -0700

    more consistent naming

commit 13255acb16dea753cae6211cd0e0a2f9fb072a47
Author: Charlie Austin <charlie@loyal3.com>
Date:   Sat May 24 14:35:05 2014 -0700

    Revert "Updating the test.sh to run all as tests all files that have test in the name."
    
    This reverts commit c0c609880f3cd9231a6f0e834b4b5d20c2417884.

commit 88dd1ad5eb8a2bef2ca7c5c70a4de29d5b8790b6
Merge: bf0241cb 2bda1142
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat May 24 14:12:09 2014 -0700

    Merge pull request #392 from cwattrus/ui-updates
    
    Fixing up the message and attachment box for the source

commit 777dc0408db7a990c6a742a62e09f581b8276785
Merge: c0c60988 bf0241cb
Author: Charlie Austin <charlie@loyal3.com>
Date:   Sat May 24 13:52:02 2014 -0700

    Merge branch 'develop' of https://github.com/freedomofpress/securedrop into develop

commit c0c609880f3cd9231a6f0e834b4b5d20c2417884
Author: Charlie Austin <charlie@loyal3.com>
Date:   Sat May 24 13:43:25 2014 -0700

    Updating the test.sh to run all as tests all files that have test in the name.

commit 2bda11427940116f6edca8f8230e35bf55dcd500
Author: Craig Wattrus <cwattrus@gmail.com>
Date:   Sat May 24 13:15:58 2014 -0700

    Fixing up the message and attachment box for the source

commit bf0241cb5c2dc3abe32f27adcedc5b6b188fa7a1
Merge: 7c9e49ff ef474c1f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri May 23 20:38:27 2014 -0700

    Merge pull request #382 from micahflee/ui-refresh
    
    UI refresh

commit ef474c1f89845961ca90feb3849a793bd82062ec
Merge: 005bff0c 7c9e49ff
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 23:31:29 2014 -0400

    Merge branch 'develop' into ui-refresh
    
    Conflicts:
            securedrop/journalist.py
            securedrop/static/css/securedrop.css

commit 005bff0ca252543935fefcd95cd93acfaf3ebb4f
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 23:29:46 2014 -0400

    4-space indents instead of 2-space indents

commit fed9a41219ddbe15c1e68143ffc93c3e106a7881
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 23:29:11 2014 -0400

    changed selected="" to just selected (#382)

commit 7c9e49ffd17acba67d3300a46705f09b8e812afe
Merge: c7b3ae52 d8882304
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri May 23 20:28:01 2014 -0700

    Merge pull request #360 from micahflee/chroot
    
    chroot jail development environment option

commit b7025f305058a9039b05e4e0de8aebfc2783cd9c
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 23:27:47 2014 -0400

    added comment to describe what banner warning flash messages are

commit 662a32641daf4495c7a764ccce1cbfeacb5ca389
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 23:26:20 2014 -0400

    oops, should not have commited the TI logo

commit c7b3ae52ef79fb267761b7175a2545108ef32207
Merge: 4621960f 5949381f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri May 23 20:21:59 2014 -0700

    Merge pull request #389 from Hainish/issues/381
    
    Deleting submissions from db on bulk_delete (#381)

commit d88823041bf48fba97472bf0321122776c124c63
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 23:16:42 2014 -0400

    added schroot.conf and sources.list directly into chroot-dev (#360)

commit 5949381f86450479330f665e8f0a1bbac38ac931
Author: William Budington <bill@eff.org>
Date:   Fri May 23 19:56:41 2014 -0700

    Deleting submissions from db on bulk_delete (#381)

commit 4621960fc1fb7110c2772a5ea3eb0603e1bfd397
Merge: a36b2b1e 7a255fb2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri May 23 19:21:27 2014 -0700

    Merge pull request #384 from Hainish/issues/372
    
    Issues/372

commit 7fde4c5175065f8cf2499c0fa37abf577050d10d
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 22:14:06 2014 -0400

    minor journalist interface improvements

commit 7a255fb23137d4185aedd5a870245790b2854d62
Author: William Budington <bill@eff.org>
Date:   Fri May 23 19:13:30 2014 -0700

    fixed tests

commit 0510bdc75eae041908f98318746fe380672169bf
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 22:02:01 2014 -0400

    added back custom header support

commit b6007c0e254052dfc8738757a3205549718be857
Author: William Budington <bill@eff.org>
Date:   Fri May 23 18:48:08 2014 -0700

    Marking singular downloads as downloaded = True

commit 00fd6115aa205dd311e9c6201413ac690f3dd8d1
Author: William Budington <bill@eff.org>
Date:   Fri May 23 18:37:45 2014 -0700

    Changing bulk_download api per Garretts request

commit 3b8dd71d196871a59e78adfed67aa79c79ad38c6
Merge: 8c69415b a36b2b1e
Author: William Budington <bill@eff.org>
Date:   Fri May 23 18:14:33 2014 -0700

    Merging develop into issues/372

commit e07d5e2a9532fabf54228d8937a649b167e32dbe
Merge: 3dfdf31c 8942d109
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 20:22:30 2014 -0400

    Merge branch 'develop' into ui-refresh
    
    Conflicts:
            securedrop/journalist_templates/base.html
            securedrop/source_templates/index.html
            securedrop/static/css/securedrop.css

commit a36b2b1e780b08163db4a857384e78d44ce38db2
Merge: 8942d109 363b53e7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri May 23 17:11:30 2014 -0700

    Merge pull request #379 from Hainish/issues/371
    
    Resolves #371

commit 3dfdf31ccf8d7328a9972d8f080c8756343a4ec7
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 20:05:35 2014 -0400

    fix test_reply_normal test

commit 363b53e7657354702aabd4a30b7342e63faec270
Merge: 12d1484a 8942d109
Author: William Budington <bill@eff.org>
Date:   Fri May 23 17:02:23 2014 -0700

    Merging master into issues/371

commit 2662268e0a408e62360aa923d09d5adc0e6248a6
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 19:59:42 2014 -0400

    journalist replies look good now

commit ea58f9fceff02231cc4e27ec8205feb4db09a969
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 19:59:22 2014 -0400

    added util.py for formatting dates

commit 8942d1097a8d7e1205a13bcdea6d920996d57be2
Merge: 89fd19ce 04ec105c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri May 23 16:54:41 2014 -0700

    Merge pull request #376 from Hainish/issues/370
    
    Issues/370

commit 04ec105cf5bf4d622caa8829532edd47c056e965
Author: William Budington <bill@eff.org>
Date:   Fri May 23 16:48:32 2014 -0700

    Case insensitivity for filter codenames

commit 89fd19ce70cbbcd0c36e49bac18852b2b8a88897
Merge: f09e5144 704eda14
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri May 23 16:45:42 2014 -0700

    Merge pull request #378 from Hainish/issues/377
    
    Fixes issue #377, where a source cannot generate a new codename if their

commit 0ba94c7a27fda43b1dd7c3d6502c1e13ce3c7485
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 19:30:07 2014 -0400

    update notifications in journalist interface

commit d45ec2d20aa5fbfa7f03e9ecde0a18dbb81d94d6
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 19:16:45 2014 -0400

    deleted old, unused css file

commit f09e514406f925d6dfbdff9249df5ed5a5050857
Author: William Budington <bill@eff.org>
Date:   Fri May 23 16:11:30 2014 -0700

    selenium should be unversioned to get the latest selenium, since we're apt-get installing the latest firefox

commit a71ff1b3d8746c4787d1b13c62f4c02f46ada785
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 19:00:12 2014 -0400

    fixing up css for the journalist interface

commit d824caaf8cc7a6cad3b11472bd3da49352ab4a9c
Merge: 877ca2fb 70c2f187
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri May 23 15:51:38 2014 -0700

    Merge pull request #374 from Hainish/config-naming-clarity
    
    Changes for configs to be less confusing:

commit 057871d2d8ee42ae27a45249219f0cfe4da087e0
Merge: 9da00f84 3ab10614
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 23 18:39:26 2014 -0400

    Merge branch 'cwattrus-ui-refresh' into ui-refresh

commit 877ca2fb669d27174fdd0779ccfb799b9b825f68
Merge: a6b266bb 3c8e7d1b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri May 23 13:02:11 2014 -0700

    Merge branch 'fix/broken-travis-tests-2' into develop

commit 3c8e7d1ba572d46ffc99b8fb7c6ce076fadd19ed
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri May 23 12:25:26 2014 -0700

    set DISPLAY without breaking everything

commit 3ab10614664b4262ab46d9c72990ba08f0ce8da5
Author: Craig Wattrus <cwattrus@gmail.com>
Date:   Thu May 22 21:29:23 2014 -0700

    added changes to col.html that got deleted... somehow...

commit 7d5850352d5b859611e929f2510add8cc74e072c
Author: Craig Wattrus <cwattrus@gmail.com>
Date:   Thu May 22 21:05:57 2014 -0700

    added new styling to journalist interface

commit 8c69415b74055ae6c0bf02aee62517c17caae9a9
Author: William Budington <bill@eff.org>
Date:   Thu May 22 19:44:12 2014 -0700

    Swap out link with unread: 0 on download

commit 8f6f864adf58703c45d2739bd268cf8bc288846d
Author: William Budington <bill@eff.org>
Date:   Thu May 22 19:40:50 2014 -0700

    Add a link to download unread messages

commit 9da00f84690281768315cd981f4ee75be5556397
Author: Micah Lee <micah@micahflee.com>
Date:   Thu May 22 22:01:08 2014 -0400

    fixed source_navigation_steps tests

commit 338579c4c524376c1bb204a9e98d3beda075341c
Author: Micah Lee <micah@micahflee.com>
Date:   Thu May 22 21:50:04 2014 -0400

    fixed test_submit_and_retrieve_happy_path test (#329)

commit a6b266bba0e7ef63a1480b26b6de94e1906d33e5
Merge: de7cb2e3 002cc3b9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu May 22 17:14:24 2014 -0700

    Merge pull request #375 from Hainish/upgrade-jquery
    
    Upgrade jquery from 2.0.3 to 2.1.1

commit c8c18a308330995ed59a082c4a6d28e622bfc77d
Author: William Budington <bill@eff.org>
Date:   Mon May 19 23:48:54 2014 -0700

    Marking files as downloaded in the db when they are downloaded

commit adb61197d60df7920b6e0f4fad26c086ce0adac3
Author: William Budington <bill@eff.org>
Date:   Mon May 19 23:47:50 2014 -0700

    Adding downloaded column to submissions table

commit 70c2f187b26b541bb87c5b3af0f71d7aca90f3f3
Author: William Budington <bill@eff.org>
Date:   Mon May 19 22:21:54 2014 -0700

    Recommending use of base64 encoded random bits for scrypt peppers

commit de7cb2e3a36d89591538df6b9706b6ad766f37d5
Merge: e598ab49 985a652b
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon May 19 19:38:48 2014 -0700

    Merge pull request #373 from Hainish/vagrant-name-vbox
    
    Adding name to the VM in virtualbox

commit 12d1484a8efe34888fa0d811f21aa704bfe0bea5
Author: William Budington <bill@eff.org>
Date:   Sun May 18 22:42:08 2014 -0700

    Adding count of documents and messages in index for journalists

commit 704eda147b955feb036e6170ef0cebb7aba8194a
Author: William Budington <bill@eff.org>
Date:   Sun May 18 21:58:17 2014 -0700

    Redirect to the proper URL for endpoints which require login

commit 8713282134ae49120d68e065dde02157386ec039
Author: William Budington <bill@eff.org>
Date:   Sun May 18 21:51:36 2014 -0700

    Fixes issue #377, where a source cannot generate a new codename if their
    collection is deleted by the journalist while they are still logged in.

commit 02e0dbcd800c6037224f2ac3d439f4e32655a5f0
Author: William Budington <bill@eff.org>
Date:   Sun May 18 20:22:35 2014 -0700

    Do not delete invisible collections, even if they are checked!

commit 014444756a096975a2c7e815ef80213c032112b7
Author: William Budington <bill@eff.org>
Date:   Sun May 18 20:00:59 2014 -0700

    Simple filter for codenames on journalist interface

commit 002cc3b9778586643fb508906da80735069c7fb3
Author: William Budington <bill@eff.org>
Date:   Sun May 18 19:03:05 2014 -0700

    Upgrade jquery from 2.0.3 to 2.1.1

commit ea9aac48df9aec5c4fa2b45de87f6d7ab19e25aa
Author: William Budington <bill@eff.org>
Date:   Sun May 18 17:52:31 2014 -0700

    Changes for configs to be less confusing:
    
     - renaming flask_defaults example config
     - moving custom_theme_image.py into base.py
     - creating base.py.example

commit 985a652b0fdd14fe36dd57c9c05e23d3afa2f83e
Author: William Budington <bill@eff.org>
Date:   Sun May 18 16:38:21 2014 -0700

    Adding name to the VM in virtualbox

commit afeddb91e3ce78be2235cb801f686769982571cf
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 16 01:02:09 2014 -0400

    fixed test_generate
    redesigned /login
    made both notifications and errors look cool
    fixed test_login_and_logout (all part of #329)
    fixed tor2web warning issue (#342)

commit e598ab49fda727e4827a011a1b226841f43054f3
Merge: dad442f3 a58b0deb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu May 15 20:19:56 2014 -0700

    Merge pull request #364 from jacksingleton/traceback-sighandler
    
    adding signal handler functional tests to dump traceback

commit a58b0deb2ce3b47a299cdc08045b1c9e77daaec7
Author: Jack Singleton <git@jacksingleton.com>
Date:   Thu May 15 19:53:04 2014 -0700

    adding signal handler functional tests to dump traceback. should help debug when they freeze

commit dad442f3b630cc447c1d6f0647edec246290d18f
Merge: c10bf010 3ecbaf3c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu May 15 19:52:27 2014 -0700

    Merge pull request #349 from micahflee/better-filenames
    
    Better filenames

commit c10bf010776c44323b85ee2cd1b0df6648d6ee00
Merge: a7c7aa05 c48581c6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu May 15 19:43:43 2014 -0700

    Merge pull request #356 from posix4e/crypt_nits
    
    Crypt nits

commit 3ecbaf3c21c07e18d9b600d561a21aa1cfec9f3c
Author: Micah Lee <micah@micahflee.com>
Date:   Thu May 15 22:40:21 2014 -0400

    made comment more clear (#349)

commit 531192631088123abf5e05603d4f27d348da1775
Author: Micah Lee <micah@micahflee.com>
Date:   Thu May 15 21:53:29 2014 -0400

    fixed test_create (#329)

commit a7c7aa05e41a8d7acbccc6c56c15d57aadd2edaa
Merge: fc314d43 8499f9ce
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu May 15 18:01:48 2014 -0700

    Merge pull request #363 from tomrittervg/patch-1
    
    Typos and small rewordings

commit cbd7d3df5b47914b9660900406d1a2eee2c704bf
Author: Micah Lee <micah@micahflee.com>
Date:   Tue May 13 17:38:36 2014 -0400

    fixed some css after testing in tor browser (#329)

commit 8499f9ce042f22c0f83e4ca8be15c08802d53365
Author: Tom Ritter <tom@ritter.vg>
Date:   Mon May 12 09:56:49 2014 -0400

    Typos and small rewordings

commit 3715e8125e6a722d76e152cf17607e8dd34a65be
Author: Micah Lee <micah@micahflee.com>
Date:   Fri May 9 17:28:38 2014 -0400

    built UI for /lookup, and made notifications look modern (#329)

commit fc314d4364f6cfc9a0900b1482b09061485f3991
Merge: 0169c7e6 d9ad3583
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Apr 30 21:08:39 2014 -0700

    Merge pull request #359 from micahflee/tails-torrc-fix
    
    tails-torrc-fix

commit 0169c7e6ebb267e8916545b94d7db4d08fed5e99
Merge: 2aae7074 553e031c
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Apr 30 19:05:06 2014 -0700

    Merge pull request #357 from jacksingleton/xvfb-firefox
    
    Using Firefox and Xvfb instead of PhantomJS and enabling submit_and_retrieve_file functional test

commit 0ff78b7551c924a4f117e6ef33e1b6c2eedfdf0f
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 20:55:28 2014 -0400

    remade source template's base.html, and updated UI for /generate (#329)

commit 270f66d680024de4868af3d23be4a929b972c74a
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 20:31:43 2014 -0400

    starting to implement new UI (#329). made new source homepage, and made javascript warning less obnoxious, and use less js dependencies.

commit 4702a667a22a8691dee2fa789e0f03df337c7504
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 17:09:47 2014 -0400

    DRYed up filename tests, and use raw strings for regex

commit 17a2a1265faed6d36488b79b683c0d3481916b8c
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 16:30:44 2014 -0400

    fancy python simplification of journalist_filename (#349)

commit 7029a4515149a0be4b6862ac6615799441e6cb0f
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 17:09:47 2014 -0400

    DRYed up filename tests, and use raw strings for regex

commit eaec284e734f3d6878bb68ca882c7552516d32f9
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 16:30:44 2014 -0400

    fancy python simplification of journalist_filename (#349)

commit cf8348152e3f71376fbaaa6c158c30e028142f40
Merge: 917a4ca6 584c5bd3
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 16:25:20 2014 -0400

    Merge branch 'chroot' into better-filenames-chroot

commit 584c5bd3f9c63361bebdf7f028bde9fc86cfde0e
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 16:25:05 2014 -0400

    chroot: added clean command

commit 917a4ca62cc37f9496ec10e4059765774addec18
Merge: d91464e6 cfd3afb2
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 16:09:45 2014 -0400

    Merge branch 'better-filenames' into better-filenames-chroot

commit d91464e6244d017b9fabcfebcf0a81641406b3e2
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 15:50:37 2014 -0400

    chroot: unmount filesystems better, and require chroot for most commands

commit d9ad358348234666065556093d64517e0d73acfe
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 15:38:24 2014 -0400

    in Tails, you can run securedrop_init twice without breaking anything. (fixes #355)

commit 217851c29ac20a4afc587669edfc244c1a006ba0
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 15:10:52 2014 -0400

    chroot: fixing permissions after setup_dev.sh, since tests are first run by root user

commit 0489f2744635172cc1c52d88e89a052cb67710f6
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 15:01:47 2014 -0400

    renamed chroot dir to dev_files

commit f687d45d5b7e9a100c05307e9fa7ff640dcc13b0
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 14:59:58 2014 -0400

    moved chroot instructions into HACKING.md

commit 747ffc0c661333d154f614c8ef842d2418a6111e
Merge: e843db85 eba4a4e7
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 14:45:51 2014 -0400

    Merge remote-tracking branch 'origin/hacking-updates' into chroot

commit e843db855bb6ace3af1e7094cc08e2df0ec6b822
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 14:41:47 2014 -0400

    make sure debootstrap and schroot are installed, fix test command

commit 1f549d2aae823655b9598cc915892b7c14f579c6
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 29 14:35:54 2014 -0400

    merged chroot scripts into a single bash script with commands. bundle ubuntu signing key to verify ubuntu packages in chroot jail.

commit 98857392d430b021cb6f7e9cf2b55fbaf1efeb79
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Apr 28 21:15:47 2014 -0400

    added chroot dev user, restart_servers.sh script uses those users instead of root

commit 131032effef330b7ac04a53422a0953d7162dcdd
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Apr 28 20:42:06 2014 -0400

    starting to build chroot-based dev environment

commit eba4a4e72124180f4ebb942308fe787a5c2749ec
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Apr 28 16:12:05 2014 -0700

    merging HACKING.mds

commit 553e031c5fe96e039e2120e8d64a27e15d89f5c6
Merge: c007f351 2aae7074
Author: Jack Singleton <git@jacksingleton.com>
Date:   Mon Apr 21 23:30:37 2014 -0700

    Merge remote-tracking branch 'origin/develop' into xvfb-firefox

commit c007f351f106e9237012d1f0697acfce592d2a37
Author: Jack Singleton <git@jacksingleton.com>
Date:   Mon Apr 21 23:01:24 2014 -0700

    re-enabling functional test, should work with Firefox WebDriver

commit c48581c61e06834de275058dcf3361ac3b152057
Author: Alex Newman <posix4e@apache.org>
Date:   Sun Apr 20 14:18:01 2014 -0700

    Add a pylintrc to keep the nits at bay

commit 605dd6b48aa2018e10fc6942583f9aea9f0fb68d
Author: Alex Newman <posix4e@apache.org>
Date:   Sun Apr 20 14:18:15 2014 -0700

    Clean up some confusing and unused method parameters in decrypt

commit 58b3fa6119edd1be701edd52130826f20b9f5c51
Author: Jack Singleton <git@jacksingleton.com>
Date:   Wed Apr 16 21:42:56 2014 -0700

    sourcing /etc/profile immediatly in case travis is running everything in one shell

commit 0981da04a321c1d0b31d9577b62dd15086b65c64
Author: Jack Singleton <git@jacksingleton.com>
Date:   Wed Apr 16 21:35:36 2014 -0700

    using xvfb and firefox to run functional tests

commit 2aae707481e62ff8a2134d5aff49f1bad99c1287
Merge: 3e794a70 ea4b33b3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Apr 16 21:09:44 2014 -0700

    Merge pull request #354 from bwillis/develop
    
    Fixes #353: When the session identifier is changed, logout the user

commit ea4b33b3cbd7e71365ee6b86dd5c741ea2fa0ee0
Author: Ben Willis <bwillis@manilla.com>
Date:   Wed Apr 16 20:52:47 2014 -0700

    When the session identifier is changed, logout the user
    
    When on the source generate page, the codename is regenerated on each
    request. If the user had a previous session codename is it overwritten,
    but they are still considered logged in. If they attempt to hit that
    page again the session will be looked up because they are logged in.
    
    This approach ensures that the user is logged out when regenerating the
    codename by destroying the logged_in flag in the session.

commit 3e794a7052225bcb9bde0f498bd4797b475a40e0
Merge: 13fcd94c 24c101d1
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Apr 11 18:18:04 2014 -0700

    Merge pull request #350 from micahflee/automatic-keygen
    
    Automatic keygen

commit 13fcd94cdbcb2ebbd820c3040ebaeea66f7e004b
Merge: 644b3d32 6f7216ba
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Apr 9 23:50:36 2014 -0700

    Merge pull request #346 from micahflee/tails-torrc
    
    Tails torrc

commit 6f7216ba09ec29e2219b8aaae040f1006b93e463
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Apr 7 10:50:29 2014 -0700

    small tails-torrc bugs

commit b91d6362c185f2f344b5f133ba9b340a946277cf
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Apr 7 10:30:58 2014 -0700

    minor tails-torrc install script tweaks

commit 24c101d1ac70870a0191fa0bd033fdc2c887b083
Author: Micah Lee <micah@micahflee.com>
Date:   Fri Apr 4 20:47:09 2014 -0700

    fixes #303

commit cfd3afb2fb5d39024a444da94a1445cc16c43949
Author: Micah Lee <micah@micahflee.com>
Date:   Fri Apr 4 20:06:59 2014 -0700

    wrote tests for pretty, sequential filenames (#320)

commit f554c47d78ca100f9277f858dc42f05550713d0f
Author: Micah Lee <micah@micahflee.com>
Date:   Fri Apr 4 18:59:40 2014 -0700

    filenames are much nicer (#320)

commit eb758ba3c0d5bfb1f407f4886138f7e3cc58fbb9
Author: Micah Lee <micah@micahflee.com>
Date:   Fri Apr 4 17:18:21 2014 -0700

    rewrote the tails-torrc stuff in python, using a c setuid wrapper (#346)

commit ec6e2423a945a944a872d13f65fe7f1d3f244e83
Author: Micah Lee <micah@micahflee.com>
Date:   Fri Apr 4 16:38:42 2014 -0700

    removed update_torrc binary, and include compiling in the install script (#346)

commit 644b3d32eaebb5234f245cf8abb2351dacbb0951
Merge: 3e5ce6ae 06aec4d3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Apr 3 14:47:29 2014 -0700

    Merge pull request #343 from micahflee/pending-source
    
    Pending sources

commit 06aec4d328d573e792dcd6ad641a99689b886446
Author: Micah Lee <micah@micahflee.com>
Date:   Thu Apr 3 14:07:33 2014 -0700

    Made "delete collection" and "delete selected" tests submit a message after creating a codename. This way the sources aren't pending.

commit c2862890cf805bac3e63f25ea4a42525d861e022
Merge: 5b7565a4 3e5ce6ae
Author: Micah Lee <micah@micahflee.com>
Date:   Thu Apr 3 14:01:59 2014 -0700

    Merge branch 'develop' of https://github.com/freedomofpress/securedrop into pending-source

commit 3e5ce6ae0e65ff537be51edee24775a91643f54c
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Apr 3 11:38:00 2014 -0700

    Temporarily disable file upload test per #345

commit 0e4f59c536174c3226b4e523f7edb0abd263a732
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Apr 3 10:47:07 2014 -0700

    Fix incorrect setup of SECUREDROP_ROOT

commit e24e1d1e78a331664204b27c34dfb1e077d6d17c
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Apr 2 13:31:19 2014 -0700

    fixed typos in install docs

commit de596e16e18aa9fc312a9fe4a657ba9a3d6150c3
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Apr 2 13:26:12 2014 -0700

    Typo in Tails config docs

commit 6099270b55f4ab3dad2b7a256a1ff688cd499bb4
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Apr 2 13:25:21 2014 -0700

    Renamed tails_config.me to .md

commit d107bff44c6d83f317064756552fbba58b01f036
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Apr 2 13:20:36 2014 -0700

    Updated installation documentation to include much simpler instructions for using Tails to access the Document Interface. Also split the instructions for setting up Tails USB sticks onto a separate page, and made it rely more heavily on docs from the Tails website. Change the GPG key generation instructions to make a passphrase-less key (setting a passphrase in this case offers negligible security).

commit fedd2401d05941764eceb2ab67d93a43df6159ac
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Apr 2 12:21:16 2014 -0700

    made tails-torrc instructions simpler

commit 3a0c92d6acf42c99b9f8a324ec0b35c5a2105705
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Apr 2 12:16:59 2014 -0700

    new update_torrc binary, slightly modified source code

commit 3924e3f7c004d5a35d96723bc630b6bc2829df5f
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Apr 2 12:16:40 2014 -0700

    updated tails-torrc readme

commit 528d2220641c17be0f8304c14711d69d2f2a0ed1
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Apr 2 11:10:14 2014 -0700

    updated tails-torrc readme

commit 82275e01ca010870cb47e2b40d101010703aa381
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Apr 2 11:09:55 2014 -0700

    wrote tails-torrc install script

commit 1d98f8945c994e99cb08e1f2a9814597eba46d6c
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Apr 2 09:24:17 2014 -0700

    making torrc.additions file hidden

commit 6033190352266402b6d30d289f8ced43600be99a
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Apr 2 08:55:16 2014 -0700

    added micahflee/securedrop-torrc files into repo (#282)

commit 5b7565a4464d40b46c5401398279d71e675d092e
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 1 14:47:10 2014 -0700

    added comment to explain what pending is

commit 44579f448aafdcc287af79667ed0884b352c20dd
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Apr 1 14:42:03 2014 -0700

    sources that don't submit documents are 'pending' and don't get displayed by default. fixes #302

commit d3e9f754dc9fcdfa13a410d7ac31263f54e16c23
Merge: aa4626a9 c4df68f9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Mar 24 21:16:20 2014 -0700

    Merge pull request #336 from garrettr/feature/remove-after-request
    
    Don't set "no cache" headers in Flask

commit c4df68f9a26dc28c0f54a7bd3dc2b375498f7060
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Mar 19 22:16:24 2014 -0700

    Don't set "no cache" headers in Flask
    
    These headers are set by Apache, according to the {source,document}.site
    configuration files, in production. They are unnecessary in development.
    Therefore, setting these headers in Flask is redundant (and could potentially
    cause conflicts with the Apache configuration, especially if they diverge in
    the future).

commit aa4626a9ee50d1fe3a55ccc36347c8e4c457087d
Merge: 80d7b8db 38cc6235
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Mar 19 21:30:17 2014 -0700

    Merge pull request #331 from LordLandon/develop
    
    Simplifying config files

commit 38cc62352bcae3b48cf971e1a04cb821f439628b
Author: Lord Landon "Warbles" Agahnim <lordlandon@gmail.com>
Date:   Wed Mar 19 20:38:40 2014 -0700

    Updating travis.yml to use setup_dev.sh

commit e85f9a0ed7d3b46c5d8ce0a743ece5e0c0833a09
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sun Jan 26 22:58:55 2014 -0800

    refactoring the creation of the test server configurations into setup_dev.sh

commit e58b5d2bf67c6ab7b963ce15d733cfed48418177
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sun Jan 26 22:22:12 2014 -0800

    removing custom theme image configuration from automated setup process

commit 231fbad9698ee557cbc877969204ad78381766ff
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sun Jan 26 22:17:43 2014 -0800

    refactoring creation of development environment configurations into the setup_ubuntu.sh file

commit b52c0b66803651d39577547c43d14679f4cd9c91
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sun Jan 26 22:10:35 2014 -0800

    renaming mysql_root to mysql_root_password and adding some formatting

commit e47c571b3c60708f474db018cdd53fed9427347d
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sun Jan 26 17:28:22 2014 -0800

    encapsulating base configuration creation into setup_ubuntu.sh

commit 073818d726112cfccddf7b4b91196a622c13d7f7
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sun Jan 26 16:14:03 2014 -0800

    removed BaseFlaskConfig inheritance and created defaults for all environments

commit 80d7b8dbc444e93befaf3ee9c2a75fb547c7e723
Merge: 3546c88c 573742cf
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Mar 14 20:02:24 2014 -0700

    Merge pull request #335 from garrettr/feature/normalize-timestamps
    
    Feature/normalize timestamps

commit 573742cf2ae85a18b9a585e6125d728700f74c02
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Mar 14 13:06:41 2014 -0700

    Fix metadata tests to handle timestamp sanitization
    
    The file metadata tests were finding the most recent submission by sorting the
    submissions in th source directory. Of course, normalizing the timestamps
    breaks this. This sorting only needed, however, because the submission POST
    unnecessarily included a message along with the file. Removing this allows us
    to use the sole submission.
    
    Also removes some unnecessary code.

commit 21a43a5626b9b928d3a22055e1c0051137a00d54
Merge: ea6b1d12 3546c88c
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Mar 14 12:33:12 2014 -0700

    Merge branch 'develop' into feature/normalize-timestamps

commit ea6b1d1221cf8d5f2db7b817fdc2c1d08c8d7915
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Mar 14 01:10:47 2014 -0700

    normalize submission timestamps

commit 3546c88c6a1aee99bf2e3d3673923a1a5d8ce48b
Merge: dd59bfe6 a62c9a33
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Mar 14 12:16:29 2014 -0700

    Merge pull request #334 from garrettr/db-submissions
    
    Db submissions

commit dd59bfe6b8f30ebf0bef429e943a616fb5e7e993
Merge: 574aeb00 5f753689
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Mar 14 10:31:47 2014 -0700

    Merge pull request #333 from jacksingleton/second-functional-test
    
    Source submits a file functional test

commit a62c9a333666c02fd2829003cb3135c06090c5a7
Merge: 31a05a4d 574aeb00
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Mar 14 00:46:52 2014 -0700

    Merge branch 'develop' into feature/star-source

commit 31a05a4d8bfd0eb72d0e354931e04b8c33d77b7b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Mar 14 00:44:47 2014 -0700

    represent Submissions in the db

commit 5f7536890f852bc3a8941a9c1a6e91ce1ad32190
Author: Jack Singleton <git@jacksingleton.com>
Date:   Wed Mar 12 21:02:12 2014 -0700

    moved functional tests into seperate folder and added submit_and_retrieve_file

commit 19f08ee46014485ad0921d604e44564b1a6aa08d
Author: Jack Singleton <git@jacksingleton.com>
Date:   Thu Feb 20 20:46:33 2014 -0800

    started functional test reorg to share code between multiple tests

commit 574aeb00c5fd017e234a2875883b55eec850a4fd
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Mar 12 19:56:52 2014 -0700

    enable accidentally disabled functional tests

commit 1c325aeff5803eafc9b35cff805219d07de7a8bc
Merge: 6735ffa7 ced1ecb5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Mar 9 22:10:04 2014 -0700

    Merge pull request #330 from garrettr/db-rewrite
    
    db rewrite

commit ced1ecb52cc4129d042af780fb549363e0a0c94e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Mar 7 11:14:18 2014 -0800

    Fix MAT dependencies in .travis.yml

commit 9f74e646645233e2619ab76084ee44a3fe9244a4
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Mar 7 10:14:27 2014 -0800

    Fix broken metadata unit tests
    
    These tests were unnecessarily calling _new_codename twice, and there appears
    to have been a bad interaction between that and the new "get source" logic in
    setup_g. Possibly related to the "back button"/session clearing bug (#294).

commit e5bb5b96746a35b56eeca3c8d0f204f5ea880398
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Mar 7 10:08:41 2014 -0800

    s/db.create_tables/db.init_db

commit 68881e789ad31b20f1a6001a4ff4722e4591d011
Merge: 43e58524 6735ffa7
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Mar 7 09:32:38 2014 -0800

    Merge branch 'develop' into db-rewrite
    
    Conflicts:
            securedrop/tests/unit_tests.py

commit 6735ffa700d394b18dddadd581a50b628e039464
Merge: c59609dc cf6914bc
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Mar 6 20:29:19 2014 -0800

    Merge pull request #326 from gnusosa/develop
    
    Added MAT to store.py as a metadata purge option.

commit 43e58524bb5c6544622c9811a3f15cb3c4c715ec
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Mar 6 12:49:59 2014 -0800

    DRY out common "get sid, then source" pattern with g

commit 979b1d78b69b66937c88f37a65eb95bf33cfdc0f
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Mar 6 12:42:42 2014 -0800

    encapsulate source lookup and error handling

commit 08c58360a5c198584042d1b74a55d059f953fc10
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Mar 6 01:02:16 2014 -0800

    flag sources in the db

commit 52ab611a0e343dd42c0de00cf51aecd5d609277c
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Mar 5 23:12:33 2014 -0800

    Use declarative ORM instead of using the engine directly
    
    This makes the code easier to read, understand, and extend, and reduces the
    requisite boilerplate.
    
    Also moves the handling of the session into the request methods, which is
    recommended [0].
    
    [0] http://docs.sqlalchemy.org/en/rel_0_9/orm/session.html?highlight=scoped_session#when-do-i-construct-a-session-when-do-i-commit-it-and-when-do-i-close-it

commit 22e181cc26357c30d944d483de1e43ef5ac8a693
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Mar 5 23:10:20 2014 -0800

    replace unneccessary "bad prng" for display_id
    
    This was an artifact from the original codebase, which deterministically
    generated a journalist's codename for each source by seeding a PRNG (not
    CSPRNG) with the sid. We no longer need to do this because we associate sid's
    with the journalist interface codenames in the db.

commit cf6914bc111947ff52ae9443a24b3342c5cae974
Author: Carlos Sosa <gnusosa@gnusosa.net>
Date:   Sun Mar 2 23:54:52 2014 -0800

    Added MAT to source.py as a metadata purge option.
    
    - MAT consist of a python library that makes
    use of other metadata tools dedicated to specific
    file-formats.
    
    Always nice tidy and neat.
    
    Added checkbox for metadata purge.
    
    - Also added more validation on the
    file selection for the cleanup.
    
    Better validation on what file to write to.
    
    Added MAT to requirements.txt
    
    - Note: MAT is not available in
      PyPi, therefore, we clone it
      from the Tor repository.
    
    Added MAT to source-requirements.txt
    
    Added exiftool and poppler dependency to Debian/Ubuntu script.
    
    Added tests for binary file upload.
    
    Added test images for MAT
    
    Added MAT to source-requirements and setup_dev.sh
    
    Added intltool for MAT to travis.yml
    
    Added secure_unlink and sanitize_metadata function.

commit dee723c73ce8498bdcef0c370a2a81112c4cd7f2
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Feb 23 19:35:16 2014 -0800

    Remove Flask-Testing dependency
    
    In the unit tests, creates the self.app and self.client variables that were
    being automatically created by Flask-Testing's TestCase.
    
    Removes unnecessary (and inconsistently used) special status code asserts,
    replaces them with standard lookups on the response.

commit c59609dc2073686243f887f34bef4324d073144d
Merge: bab21063 4b52c1f9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Mar 2 20:38:45 2014 -0800

    Merge pull request #319 from freedomofpress/remove-flask-testing
    
    Remove Flask-Testing dependency

commit bab210630ded6095ba6862f332b9572a7e24e70c
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Wed Feb 26 23:36:29 2014 -0800

    fix type of gpg key length parameter

commit 4b52c1f94cab54628a30c3a93b3b7e993a99a5d8
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Feb 23 19:35:16 2014 -0800

    Remove Flask-Testing dependency
    
    In the unit tests, creates the self.app and self.client variables that were
    being automatically created by Flask-Testing's TestCase.
    
    Removes unnecessary (and inconsistently used) special status code asserts,
    replaces them with standard lookups on the response.

commit 344a5fdbaee9765d811a1653b7a407e2d6f9d519
Merge: d81206d6 135f2f57
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Feb 23 11:21:49 2014 -0800

    Merge pull request #288 from Hainish/gnupg-security-fix
    
    Including gnupg-securedrop module, fixing security vulnerability with ol...

commit d81206d69e0971b780222f886d1d3c1a19c34c3c
Merge: 9bd6ab2d 37f8f5ed
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Feb 23 11:18:46 2014 -0800

    Merge pull request #318 from garrettr/unicode-replies
    
    Unicode replies. Fixes #311.

commit 2413b64b8734f4b20315b9e58d594e25fdf6f1ed
Merge: a5f2d3a6 aa2adcdc
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Feb 23 11:14:55 2014 -0800

    Merge pull request #310 from garrettr/logging-hotfix
    
    Logging hotfix. Fixes #261.

commit 9bd6ab2dc23876f0c35a5a0ffb42a707b4299d38
Merge: 483c4085 bd797b08
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Feb 22 16:35:12 2014 -0800

    Merge pull request #316 from garrettr/simplify-dev-setup
    
    Simplify dev setup

commit 37f8f5edbcf24be09de7791f9aba6b18eb0bab43
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Feb 22 16:01:54 2014 -0800

    add unicode reply test, remove invalid malformed reply test
    
    This test makes sure we handle Unicode replies from journalists correctly.
    I removed the Unicode encoding and test for it because encoding is handled
    transparently by Werkzeug.

commit bd867a9e944685c907ea2da6eec783d4f8d72148
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Feb 22 15:56:59 2014 -0800

    add missing logging for decoding errors
    
    refactors reply code for readability

commit ca0cde9e474dd61095fa0b8bc659370717e6e06c
Merge: 483c4085 a529e22e
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Feb 21 16:49:48 2014 -0800

    Merge branch 'develop' of https://github.com/yozel/securedrop into yozel-develop

commit a5f2d3a634688b42d858685a383268c699b2b613
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Feb 21 16:23:59 2014 -0800

    Rip out (unused) mysql dependency
    
    MySQL-Python is breaking Travis builds. Since we don't use it, either in
    development or production, I'm removing it.
    
    I also edited setup_ubuntu.sh to remove mysql, but I haven't tested those
    changes (it might be broken).

commit aa2adcdc2cb75256e9f228dc192838f8415c0da6
Merge: 9db0c1bd 33710506
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Feb 21 16:18:58 2014 -0800

    Merge pull request #1 from dolanjs/os-apparmor-ossec
    
    OSSEC apparmor and install scripts fixes for logging change

commit f3c43b12b2e6033afeab0b2e8b2e452ad6554568
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Feb 21 16:15:49 2014 -0800

    fix travis.yml due to twill vs. pip
    
    adapted from 1f586ee

commit 4b41955bc2aa15f9a57b9cb5e744134158748cac
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Feb 21 16:04:26 2014 -0800

    tweak travis.yml to work on master
    
    master is still using a single config file instead of a module

commit 1655f659b5682b7455c597d0a3260b03ca0afaa1
Author: William Budington <bill@eff.org>
Date:   Sun Jan 12 00:10:33 2014 -0800

    adding a travis yaml file for ci

commit ab8d59a39b13f05edf71e5128d86eff4041e197e
Author: James <dolanjs@gmail.com>
Date:   Wed Feb 5 14:28:59 2014 -0800

    added write perm in apparmor profiles for error.log~ and access.log~

commit ef8b0057d2acfbdcd6c1cff3e9b90e957f373f5b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Feb 21 15:52:12 2014 -0800

    cherry-pick umask fixes from develop
    
    This is a slight modification of 1aaf8d58, I had to remove some changes related
    to using GPG for OSSEC email alerts (which are not hotfix).

commit bd797b08aab8fcf01f6b8bffce490db5a49295ab
Merge: 4c30357a 483c4085
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Fri Feb 21 08:38:01 2014 -0800

    Merge branch 'develop' into simplify-dev-setup
    
    Conflicts:
            setup_dev.sh

commit 33710506d22994b708ebe76b88475df0e4e6c44a
Author: dolanjs <dolanjs@gmail.com>
Date:   Fri Feb 21 01:25:45 2014 -0800

    added securerop.log for both interfaces to ossec config
    added w permissions for securedrop.log in apparmor profile
    added logging config to source and document config.py used in production install

commit 483c4085e49c4b9a72bada4bb109def77cad9152
Merge: ec7ecf71 d481b208
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Feb 21 00:03:00 2014 -0800

    Merge pull request #312 from dolanjs/utf-8-encode-global
    
    added defaultcharset to apache global config

commit ec7ecf71d775cce8a704195774a49bf58996d502
Merge: 261598df ff3caef9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Feb 21 00:01:49 2014 -0800

    Merge pull request #305 from pamo/develop
    
    Updated vagrant success instructions to match HACKING.md

commit 261598dfdb60b3c82cf5ef2406e27de60345e0c1
Merge: e0f10c7e 0add4db9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Feb 20 22:44:50 2014 -0800

    Merge pull request #314 from jacksingleton/add-polling-to-functional-tests
    
    Add polling to functional tests

commit 4c30357aa0d383e479e92ff1694edb2d69c7ecf2
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Feb 20 21:24:10 2014 -0800

    don't use virtualenv for dev setup
    
    virtualenv doesn't mix well with Vagrant. By storing the virtualenv inside the
    shared folder, we were unintentionally "caching" the Python dependencies
    between cycles of vagrant destroy/up. This was accidentally good for
    performance, but is counter to the reproducible philosophy of Vagrant and
    sometimes lead to confusing problems.
    
    This also simplifies the development cycle because you no longer need to
    remember to activate the virtual environment.
    
    Now, setup_dev.sh installs the Python dependencies globally with `sudo pip
    install`.

commit 23db58af31d320bbdaeeba5608a6ad83229b9df9
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Feb 20 20:16:15 2014 -0800

    language tweaks, deprecate "the hard way" for devs

commit ed4f7a6fe184c88a227bd60d250ff62cad5a3f86
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Feb 20 20:15:03 2014 -0800

    fix wget progress bar in non-tty (Vagrant)
    
    add comment to explain why we're not using PhantomJS from the repos.

commit c74968d3c80efede69663a708edf7aa0e48ca6d9
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Feb 20 19:33:56 2014 -0800

    remove (unused) mysql dependency from dev setup

commit b1012d20d30cf73f85f1a4e7821d75db1259c9d1
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Feb 20 19:19:41 2014 -0800

    rename setup script for devs

commit 0add4db9ab7a26d6b613e3bb6ef2def8be219bcc
Merge: 1bc49d80 e0f10c7e
Author: Jack Singleton <git@jacksingleton.com>
Date:   Thu Feb 20 22:33:08 2014 -0800

    Merge branch 'develop' into add-polling-to-functional-tests

commit e0f10c7eb9db6bcb1e624ecd1859dca834529a51
Merge: 28d584e5 1f586ee9
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Feb 20 22:30:44 2014 -0800

    Merge pull request #315 from jacksingleton/quickfix-for-twill-problems
    
    Quick fix for travis twill problems

commit 1f586ee90d83fa252f50d86474fd30895949328b
Author: Jack Singleton <git@jacksingleton.com>
Date:   Thu Feb 20 22:20:58 2014 -0800

    added --allow-external twill --allow-unverified twill to travis test-requirements pip install... will go away when we get rid of twill dep

commit 1bc49d80a952608160ee4da129994948e0083c45
Author: Jack Singleton <git@jacksingleton.com>
Date:   Thu Feb 20 21:50:41 2014 -0800

    cleaned up loop

commit 612f5663239d30a9c192d46466c57fe9f021fb60
Author: Jack Singleton <git@jacksingleton.com>
Date:   Thu Feb 20 21:42:38 2014 -0800

    added 10 second timeout to _wait_until_up

commit a7e5ef9d851889ead27851b6a2b2da07f2f88299
Author: Jack Singleton <git@jacksingleton.com>
Date:   Thu Feb 20 21:21:05 2014 -0800

    added polling to functional test to wait for servers to start

commit a529e22e6fa58a013b6262301254c5afe9ef0aeb
Author: yozel <iletisim@yasinozel.com.tr>
Date:   Fri Feb 21 03:22:40 2014 +0200

    charset problem when reply is solved

commit d481b208d0a1abc622d78f2a582f2e1ff67388be
Author: dolanjs <dolanjs@gmail.com>
Date:   Thu Feb 20 16:22:31 2014 -0800

    added defaultcharset to apache global config

commit 9db0c1bda9e7e9273539e15560d9babc2d990931
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Feb 20 02:19:43 2014 -0800

    remove unused store.py logger

commit ffa8b41265f7ad78efd6d8a0d3db2dc25f5b68c6
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Feb 20 02:19:29 2014 -0800

    add config helper to register handlers for a logger

commit c1ba355ebf069a1243f78d0bee3970bfff30374b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Feb 20 02:15:48 2014 -0800

    handle debug flag consistently
    
    use the environment variable for everything.
    
    gets rid of nagging message to make sure DEBUG isn't enabled in production (was
    never a concern anyway due to details of mod_wsgi).

commit 28d584e5ba1f5183bfeb7569224b3d1baf3619db
Author: William Budington <bill@eff.org>
Date:   Tue Feb 18 20:13:10 2014 -0800

    Updating MySQL-python dependency

commit 63fb6e98513f28d9dd03703e01e8a8f876a105a9
Author: William Budington <bill@eff.org>
Date:   Tue Feb 18 20:00:34 2014 -0800

    Removing twill from dependencies (causing travis to error out, not using it)

commit 135f2f57000f23a10f64bd0188761ba682e70737
Author: William Budington <bill@eff.org>
Date:   Tue Feb 18 19:47:22 2014 -0800

    Update requirements for fixes of gnupg-securedrop

commit ff3caef9a15293a05f45471c2a6e251583e69f99
Author: Pamela Ocampo <pamela.ocampo@gmail.com>
Date:   Tue Feb 18 18:58:26 2014 -0800

    Updated vagrant success instructions to match HACKING.md

commit 25ba321ca8738fadb6ccc1412bafe5b4ac85878e
Merge: 56e710e0 5dfb20dd
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Feb 11 23:05:21 2014 -0800

    Merge pull request #290 from jacksingleton/auto-dl-phantomjs
    
    Added phantomjs binary download to setup_ubuntu.sh

commit 56e710e0f68900c1b0ae7c778bce8e046f753476
Merge: f3725953 c1163624
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Feb 11 18:48:13 2014 -0800

    Merge pull request #300 from dolanjs/permission-fixes
    
    fixed permssions

commit c1163624d47f8fdc3a14c7cfc1f6d4c8932e6b7f
Author: James <dolanjs@gmail.com>
Date:   Wed Feb 5 14:28:59 2014 -0800

    added write perm in apparmor profiles for error.log~ and access.log~

commit 1aaf8d58aad11095a7dd1ce4e3e12d0d1fc630d8
Author: James <dolanjs@gmail.com>
Date:   Wed Feb 5 10:15:08 2014 -0800

    added umask settings
    removed older chmod that aren't needed
    fixed document apache log format for combined log
    changed ossec global config to use localhost as smtp relay so that it will work with procmail

commit 5dfb20dd28e7de022110d281a0799d8b0457e9ba
Author: Jack Singleton <git@jacksingleton.com>
Date:   Wed Jan 29 12:42:39 2014 -0800

    removed PHANTOMJS_BINARY_PATH from config/test.py.example

commit 39f6165bfcf6e7fab9bd5c5ae8223084331bb44a
Author: Jack Singleton <git@jacksingleton.com>
Date:   Wed Jan 29 12:41:04 2014 -0800

    updated vagrant warning in test.sh

commit 07600c3b976fb6190d837ec439d40e5970dd521f
Author: Jack Singleton <git@jacksingleton.com>
Date:   Wed Jan 29 12:35:31 2014 -0800

    Modified functional tests to use phantomjs binary on path, and changed setup_ubuntu.sh to install phantomjs in /usr/local/bin

commit f3725953ca45d2cf82d555bcb39964a41bab12d9
Merge: 916df137 2e6d8509
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Jan 28 16:24:11 2014 -0800

    Merge pull request #292 from ageis/patch-1
    
    Fix path of CONFIG_OPTIONS

commit 916df1379f41afc4c46fcb04ee82c7a1f0cb70fb
Merge: da9b21ab e53b65ad
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Jan 28 16:15:48 2014 -0800

    Merge pull request #296 from ageis/develop
    
    Make the Internal Server Error - 500 page prettier

commit da9b21abc76490c31b1ce3d657bd087de416eceb
Merge: 06235ae1 77a26892
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Jan 28 16:10:00 2014 -0800

    Merge pull request #291 from diracdeltas/fix/xss-typo
    
    Fix typo in x-xss-protection header

commit 6586e07e14d1b7b35946e187e3d3733c459bfb6e
Author: Yan <yan@mit.edu>
Date:   Mon Jan 27 18:02:48 2014 -0500

    Fix typo in x-xss-protection header

commit e53b65adcb2742fad436d7a78a5e37d89da9a0e5
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Tue Jan 28 17:50:28 2014 -0500

    Make the Internal Server Error - 500 page prettier

commit 06235ae148d53a600d9513c15c434b364160a28f
Merge: 56fe6c8a fb6b879d
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Tue Jan 28 11:56:10 2014 -0800

    Merge branch 'develop' of https://github.com/trevortimm/securedrop into trevortimm-develop
    
    Conflicts:
            docs/user_manual.md
    
    Also removes trailing whitespace.

commit fb6b879d1bdac1d390bf9fc195b160e1b6f407c7
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Tue Jan 28 10:50:25 2014 -0800

    Update user_manual.md WaPo
    
    fixed one more typo

commit 109f1ef071661b75c78d813c6d991e41f777492b
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Tue Jan 28 10:46:22 2014 -0800

    Update user_manual.md WaPo
    
    Just spent two hours running through the process with WaPo journalists and there were several updates I needed to make to the documentation, as the current version did not make any sense. Apologies if I fucked up the Github process. I promise to learn the right way next week!

commit 2e6d8509ced0beb5e4c22a5873b827b199b1a12f
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Tue Jan 28 01:38:42 2014 -0500

    Fix path of CONFIG_OPTIONS

commit 77a26892836a5afd7a021eb0226f2ce30fc9e4e3
Author: Yan <yan@mit.edu>
Date:   Mon Jan 27 18:02:48 2014 -0500

    Fix typo in x-xss-protection header

commit 7760578c3afb1c404a09fe606a5da9d91294e348
Merge: f0b775a3 56fe6c8a
Author: Jack Singleton <git@jacksingleton.com>
Date:   Mon Jan 27 09:21:09 2014 -0800

    Merge remote-tracking branch 'origin/develop' into auto-dl-phantomjs

commit 56fe6c8a4bbba3abdb5480d328ce43d6e037c1e2
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Mon Jan 27 01:18:41 2014 -0500

    Improved documenation in various places since journalists are now strongly recommended to connect to the document interface through Tails.

commit f0b775a34bfc1eafbb438799ae8bf08bf3d2fef5
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jan 26 19:38:34 2014 -0800

    updated HACKING.md and moved default phantomjs location to setup_ubuntu.sh

commit 0b5c63a7babfaac30926a9ba7b581a2f75ffe4fa
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jan 26 19:25:58 2014 -0800

    fixed phantomjs sed in .travis.yml

commit 7b6bc15fb16fe4c12dbe9c36237f77a37bf11107
Author: William Budington <bill@eff.org>
Date:   Sun Jan 26 22:25:47 2014 -0500

    Including gnupg-securedrop module, fixing security vulnerability with old python-gnupg module while preserving the methods that securedrop needs

commit 678bd22a71128626fc93a63361ce35514a13da66
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jan 26 19:20:46 2014 -0800

    modified .travis.yml to set the PHANTOMJS_BINARY_PATH to 'phantomjs', to use the version on PATH

commit 354da0d0d28bcb030c91cbeb3edfb5e2d2defc26
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jan 26 16:46:54 2014 -0800

    Added test instructions to HACKING.md

commit 6504f5e3f6b0b00897243f53c0ea82873019209e
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jan 26 16:44:09 2014 -0800

    Added code to download phantomjs in setup_ubuntu.sh. Modified functional tests to use downloaded binary. Added hint in test.sh to run tests from vagrant

commit ee9fbca0eee5e5f1719c1560498df8d7078f1960
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sun Jan 26 14:07:47 2014 -0800

    Update README.md
    
    added another Garrett suggestion

commit 687977b2e492e05e0a1e343707192b3d4848bb9a
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sun Jan 26 14:04:59 2014 -0800

    Update user_manual.md again
    
    Altered it per Garrett's suggestions

commit bd42349fdd7884cb2da034e3827af5a02683bddd
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sun Jan 26 14:01:19 2014 -0800

    update install.md again
    
    fixed a few typos caught by Garrett

commit 9f3cfadb21765ad89fe7aa0e1ff5fd0e1bc2fac3
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sun Jan 26 13:57:17 2014 -0800

    Update README.md
    
    fixed key -> keypair

commit 5720314877577bc1af219afc2be6b384dc401f19
Merge: db10801a 1048761f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jan 26 13:51:39 2014 -0800

    Merge pull request #286 from LordLandon/develop
    
    some fixes to setup_ubuntu

commit 1048761ffb17eb91d0f9f326b6491ba218737dc7
Author: Lord Landon "Warbles" Agahnim <lordlandon@gmail.com>
Date:   Sun Jan 26 12:52:52 2014 -0800

    test.py is now test.sh

commit 11fafa8c9199ec5da31839176601ea4c93315d34
Author: Lord Landon "Warbles" Agahnim <lordlandon@gmail.com>
Date:   Sun Jan 26 12:52:19 2014 -0800

    Fixing wrong bash syntax. Oops.

commit 70e33f6c23ff84a22fea6bb79cab8bd9780ac364
Author: Lord Landon "Warbles" Agahnim <lordlandon@gmail.com>
Date:   Sun Jan 26 12:50:32 2014 -0800

    Added .vagrant to gitignore

commit 160c66f722279e1936620379178a1319444d8c32
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sun Jan 26 12:09:05 2014 -0800

    Update README.md
    
    Fixed typo

commit 42db9cf30609b6e693418e402bfc9b34804e31fc
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sun Jan 26 11:56:59 2014 -0800

    Update user_manual.md
    
    This how now been updated to include instructions for a journalists accessing the document interface via Tails, which we are now strongly recommending. It requires several small, additional steps.

commit e82ff1d1bfff17ed6aef93c320aa06ffbc8af051
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sun Jan 26 11:45:59 2014 -0800

    Major update to install.md
    
    We have decided to recommend the journalist log-in to the document interface using Tails. This means changing the Torrc file gets a lot more complicated because Tails securely wipes every time. So we made directions to create a file that journalists can save in their persistence and double click to give themselves access every time they log-in to Tails.

commit 504300132cdd260bdb46541a4b1db7de9389b707
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sun Jan 26 08:06:21 2014 -0800

    Update README.md
    
    Updated to explain we recommend Tails for logging into the application server and put in the correct number of passwords the journalist will have to store/remember.

commit d9bd3955e6d2d977bdb2cc137d285b2921013db9
Merge: 4c7fd8de db10801a
Author: Trevor Timm <trevor@pressfreedomfoundation.org>
Date:   Sun Jan 26 07:46:19 2014 -0800

    Merge remote-tracking branch 'upstream/develop' into develop

commit db10801a3a0066efc2f6cc7f9e0f6398ccbd05ce
Merge: 67929a2e 4daa9b41
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jan 26 02:21:27 2014 -0800

    Merge pull request #264 from dolanjs/ntp-iptables-rule
    
    * closes #264
    * hotfix

commit 5633a5f9b4d0224c3910490590281d70747117d0
Merge: 9b30decf 4daa9b41
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jan 26 02:19:33 2014 -0800

    Merge pull request #264 from dolanjs/ntp-iptables-rule
    
    * closes #264
    * hotfix

commit 4daa9b41a8d0c45798d0595dce54f4e5e8a41ff7
Merge: 9b30decf 87115a2b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jan 26 02:16:35 2014 -0800

    Merge branch 'ntp-iptables-rule' of https://github.com/dolanjs/securedrop into dolanjs-ntp-iptables-rule

commit 67929a2ef80d30d615f6880a04d5ac11eaaaca5c
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jan 26 02:06:07 2014 -0800

    forgot quotes

commit 4cca4e0c4cbf7d9254816134c449efe5939340f8
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sun Jan 26 01:42:21 2014 -0800

    fix busted random generation in travis manifest

commit 6144a496d007d1b73ecf66542167004ceb601224
Merge: 824dbad3 0113c72f
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Jan 25 19:16:42 2014 -0800

    Merge pull request #279 from rosatolen/vagrant
    
    Conflicts:
            .gitignore
    
    closes #279

commit 824dbad35546a1d113987c9da10222da7e5be5ea
Merge: 57fa2c34 dec5a225
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Jan 25 19:13:31 2014 -0800

    Merge pull request #270 from jacksingleton/functional-tests
    
    Functional tests

commit 57fa2c34ddc21683131760566c81aa16cca89b9e
Merge: 9250cb39 485cfe92
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Jan 25 18:42:04 2014 -0800

    Merge pull request #266 from dolanjs/dolanjs-ATHS-user-validation-fix
    
    * closes #266
    * hotfix

commit 9b30decf0260835e64036e96e519dd57eb35ba86
Merge: 645ab32b 485cfe92
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Jan 25 18:38:14 2014 -0800

    Merge pull request #266 from dolanjs/dolanjs-ATHS-user-validation-fix
    
    * closes #266
    * hotfix

commit 0113c72f751538f6901b8bcfe2ee29a4261ea0f8
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sat Jan 25 18:38:03 2014 -0800

    Added usage and unaided install flag for vagrant.

commit dec5a22577b951a816b32a991a7f90166d4d68e8
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Jan 25 18:36:46 2014 -0800

    Revert "reverted travis.yml to just run unit tests"
    
    This reverts commit 06e81b58e1b3c73ee9b61b3aeda6a8f5737baf07.

commit 06e81b58e1b3c73ee9b61b3aeda6a8f5737baf07
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Jan 25 18:35:29 2014 -0800

    reverted travis.yml to just run unit tests

commit 47a74b7841be7b174d8e34a1c98a883666a200a0
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Jan 25 18:27:35 2014 -0800

    made tests verbose

commit b2870ad04789039ad80fdc93791be20c8c065143
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Jan 25 18:20:57 2014 -0800

    added comment for webdriver send_keys function

commit b59dae81d061181f15350ab288ae0cb91cfb4592
Merge: 00df1d6a 9250cb39
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Jan 25 18:19:02 2014 -0800

    Merge branch 'develop' into functional-tests
    
    Conflicts:
            setup_ubuntu.sh

commit 00df1d6afac4a26f1026f63be0e156b4e9da251a
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Jan 25 18:15:33 2014 -0800

    updated travis to run new test.sh script

commit 2949d25c5bfad212b82c685d8fbd8baf546d5a01
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sat Jan 25 18:13:39 2014 -0800

    added virtualenv into document-requirements dependencies.

commit 94925e3052ee16e5e818876fe07620fd3c619e83
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Jan 25 18:11:19 2014 -0800

    moved all tests into a 'tests' folder, tests should now be ran using 'test.sh'

commit a4f24ffcf44e69968e57596f39797d525e012329
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sat Jan 25 17:30:46 2014 -0800

    changing config to match parameterized securedrop root location

commit 6ee4d3cf77866cee247fd9b7b9b19826b5c0f33c
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sat Jan 25 17:27:37 2014 -0800

    fixed random generation for passwords etc. to fix sed escaping issue

commit 1e23e57ed1a0d3955a73c1c1e3fc12d5e03d75ce
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sat Jan 25 15:00:13 2014 -0800

    adding vagrant instructions to the HACKING.md file

commit 7f316452bddbcece7b1af4d804506e7fc696b846
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sat Jan 25 14:03:22 2014 -0800

    Added Vagrantfile for running SD in a VM.

commit a67bfd75641f081893ba1bc616b2de84b312ee27
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sat Jan 25 13:22:21 2014 -0800

    do apt-get update before installing dependencies

commit aa9d38cf135023305b844f4a61a92eab2a32baee
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sat Jan 25 13:19:40 2014 -0800

    only use color when using tty

commit 11331b95781aeab01a5e02ec52ffed6ff767371f
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sat Jan 25 13:18:00 2014 -0800

    don't need to clone the repo script is contained in

commit e1ab9af8cad7c0cb232dd0089a618da68c617f3f
Author: Rosalie Tolentino <rosalie_tolentino@gap.com>
Date:   Sat Jan 25 13:12:38 2014 -0800

    Binding flask server to 0.0.0.0

commit 9250cb3923782179daec63908a96580666496017
Merge: 7000fa88 345f16b8
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Jan 25 16:30:57 2014 -0800

    Merge pull request #276 from ageis/develop
    
    Recommend encrypted LVM

commit 7000fa88e7b71026777e1c61304372b53698b5f1
Merge: 65293d78 7f27903b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Jan 25 16:24:52 2014 -0800

    Merge pull request #272 from kyleolivo/master
    
    Conflicts:
            securedrop/HACKING.md
    
    Manually merged into develop instead of master (submitter chose wrong target
    when submitting the pull request).
    
    * wrapped lines > 80 chars.
    * removed recommendation to create dirs in `SECUREDROP_ROOT` manually, this is
    now handled automatically in `config/base.py`

commit 345f16b8aa9d6958563842a5ea84f5c4a8e8f93c
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Sat Jan 25 19:16:21 2014 -0500

    Add warning about unattended-upgrades

commit 7f27903b0e6f9ce7114fb45d2531f5a6cab040d8
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Jan 25 16:15:03 2014 -0800

    wrap long lines

commit 65293d787c02a2b913041040dcdffc6ce94f7674
Merge: 99a915dd 81bb5c70
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Jan 25 16:02:46 2014 -0800

    Merge pull request #271 from ternus/ternus-setup-script
    
    Improve setup_ubuntu.sh

commit 279c4cd1ed0886bad7f2ef11d9581fd9963ce21a
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Jan 25 14:55:32 2014 -0800

    functional tests now run against the test environment

commit 7be802b46e507648993a46ec42b2e165daefac5d
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Jan 25 14:07:57 2014 -0800

    added phantomjs install to the setup_ubuntu.sh script, HACKING.md, and .travis.yml

commit 12a08af19506fdf1f6a5d07bb5532bf53902bae6
Merge: 379516b2 7b834c7d
Author: Jack Singleton <github@jacksingleton.com>
Date:   Sat Jan 25 13:16:11 2014 -0800

    Merge pull request #1 from Hainish/jacksingleton-functional-tests
    
    Jacksingleton functional tests

commit aefa651e6d138d1ed6672c7b16281fbb7f3ed61a
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Sat Jan 25 16:03:39 2014 -0500

    Recommend encrypted LVM

commit 7b834c7df3ae11e8836f176b350ed55eea443308
Author: William Budington <bill@eff.org>
Date:   Sat Jan 25 13:00:41 2014 -0800

    Adding test-requirement.txt to travis

commit ed8e52649623e0e1145ad9b6c7a685ec7ca225ed
Merge: 99a915dd 379516b2
Author: William Budington <bill@eff.org>
Date:   Sat Jan 25 12:42:05 2014 -0800

    Merge branch 'functional-tests' of https://github.com/jacksingleton/securedrop into jacksingleton-functional-tests

commit 99a915dd27c8f773166ed820fe417b713d639dc9
Author: Pablo Castellano <pablo@anche.no>
Date:   Sat Jan 25 20:53:48 2014 +0100

    Some improvements in documentation and fix image links

commit 4c7fd8decbba42a14e137abaa0f2f4a30040f541
Merge: 9872aceb 6f5c09d9
Author: Trevor Timm <trevor@pressfreedomfoundation.org>
Date:   Sat Jan 25 11:51:20 2014 -0800

    Merge remote-tracking branch 'upstream/develop' into develop

commit 9872aceb8b42f52089b102d1b7114e5a9cff2c0d
Merge: 6dae0a96 645ab32b
Author: Trevor Timm <trevor@pressfreedomfoundation.org>
Date:   Sat Jan 25 11:49:41 2014 -0800

    Merge remote-tracking branch 'upstream/master'
    
    Conflicts:
            README.md
            docs/user_manual.md

commit 64c7e1a5c323f7feaf2b3102321199e4cfb2bec5
Author: Kyle Olivo <kyleolivo@gmail.com>
Date:   Sat Jan 25 11:30:13 2014 -0800

    Modified installation instructions for securedrop development.
    
    Installation instructions were out of order and the wording was slightly confusing. Attempted to make the instructions sequential and more understandable. Notably, inlcuded instructions about creating the GPG key before the copying and modification of the config file.

commit 379516b266805f6e6c85b84240d19369de732223
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Jan 25 11:10:22 2014 -0800

    removed config files, oops

commit 81bb5c70f4b751b8eeeb7aa7f113c01551133b7c
Author: Christian Ternus <ternus@cternus.net>
Date:   Sat Jan 25 14:06:33 2014 -0500

    Set mysql password directly. Makes it possible to run setup_ubuntu.sh multiple times.

commit ac7764eaffd08f2030cd3d73441603ab9e949774
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Jan 25 11:05:55 2014 -0800

    added use_reloader=False to app.run calls to prevent the functional tests running themselves two extra times

commit fd7779d06aedcced6a7d7595272a9c525af60948
Author: Christian Ternus <ternus@cternus.net>
Date:   Sat Jan 25 14:05:35 2014 -0500

    Pull dependencies from install_files in setup_ubuntu.sh.

commit d57efd1f82f82143850b8e6611efc41655ab182d
Author: Christian Ternus <ternus@cternus.net>
Date:   Sat Jan 25 13:50:35 2014 -0500

    Update deb-package requirements to include libssl-dev and libffi-dev.
    
    libssl-dev is required for compiling the scrypt python module.
    libffi-dev is required for cffi, which is a requirement for bcrypt.

commit 6f5c09d9d138b8d52b8fa5067d27c3e5abf06485
Author: William Budington <bill@eff.org>
Date:   Sat Jan 25 10:28:02 2014 -0800

    Fixing issue with images not displaying on chrome when logged in

commit 87115a2b77d24ba53031ae6276cf4bf1b0c6fc7f
Author: James <dolanjs@gmail.com>
Date:   Sat Jan 25 10:02:43 2014 -0800

    added localhost to localhost udp iptables rules for monitor server

commit bf6aaebd9165927486e957457087831a5d8f5183
Author: Jack Singleton <git@jacksingleton.com>
Date:   Tue Jan 21 17:43:16 2014 -0800

    config

commit 0c52ce68e3fd7b65894c90efad6676072fac24fc
Merge: 6c99641e 3caaa8c4
Author: Jack Singleton <git@jacksingleton.com>
Date:   Mon Jan 20 15:58:37 2014 -0800

    Merge remote-tracking branch 'origin/develop' into functional-tests

commit 6c99641eb65df3fc65e412ee6343ee30f975935d
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jan 19 17:56:36 2014 -0800

    added test-requirements.txt to HACKING and setup_ubuntu. removed redundant test dependencies from source and document requirements

commit 4f101643fc423f093047bb6ca6215d2d36976171
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Jan 19 17:07:15 2014 -0800

    added basic functional tests, refactored some common test logic into test_setup.py

commit 485cfe92be0a5c37fcb9f6ebdc71d227fdf3e443
Author: James <dolanjs@gmail.com>
Date:   Fri Jan 17 10:21:22 2014 -0800

    removes validation for authenticated tor hidden service users

commit 3caaa8c42cf08791017c42dce2cb18f4afbfb627
Author: William Budington <bill@eff.org>
Date:   Wed Jan 15 17:57:01 2014 -0800

    Removing specific reference to branch displays badge for whichever branch you're currently viewing

commit da611d82feebe11d1b262abf33262045a7168bfc
Merge: e2164af3 0cc9307f
Author: Bill Budington <bill@eff.org>
Date:   Wed Jan 15 17:54:55 2014 -0800

    Merge pull request #263 from moredip/add-travis-badge
    
    Add travis badge to README

commit 0cc9307f4113abcee4213be7528267702987fa47
Author: Pete Hodgson <github@thepete.net>
Date:   Wed Jan 15 15:34:49 2014 -0800

    Add travis build status badge to README

commit 549738cac675e63030a0d32c688a1f6794028615
Author: James <dolanjs@gmail.com>
Date:   Wed Jan 15 17:06:55 2014 -0800

    added iptables rule for ntp

commit e2164af3286c6e5c3a4dad20c9bc890f0a4278fe
Author: William Budington <bill@eff.org>
Date:   Sun Jan 12 12:57:29 2014 -0800

    Updating setup_ubuntu.sh to replace scrypt peppers in config files.  Removing replacement of old bcrypt salts.

commit 03f6915fd313fc219c6a50037256764a525f7406
Author: William Budington <bill@eff.org>
Date:   Sun Jan 12 12:49:43 2014 -0800

    Adding `mkdir` command back to HACKING.md

commit 51b0409b82c46904279f7b6691af7ed9f6c5cca4
Author: William Budington <bill@eff.org>
Date:   Sun Jan 12 00:10:33 2014 -0800

    adding a travis yaml file for ci

commit 6195cc130a288f4aa448bbcd505d80193a1d0cf5
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Jan 11 21:53:49 2014 -0800

    fix merge failures - all tests pass

commit b926227f78960b1e85a6f491af972e7d80b8568c
Merge: eae69403 645ab32b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Sat Jan 11 21:41:57 2014 -0800

    Merge branch 'master' into develop
    
    Conflicts:
            securedrop/example_config.py
            securedrop/source_templates/howto-disable-js.html
            securedrop/source_templates/tor2web-warning.html
            securedrop/source_templates/why-journalist-key.html
            securedrop/test.py

commit 645ab32b4b96828137a270d36d3b19de032af32b
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Jan 9 21:12:41 2014 -0800

    version bump to 0.2.1

commit 93c772147e4de09381bbf18b22775b514dcd152a
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Jan 9 21:10:37 2014 -0800

    fix unit test
    
    broken by form id change from my update to the "delete collections"
    confirmations. the form id change was done to better fit the rest of the style
    in journalist.js.

commit e6a982e8ec77d1bcbb65af768df38e19341207ad
Merge: 8ec0980b 1d587202
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Jan 9 21:09:00 2014 -0800

    Merge pull request #248 from dolanjs/scrypt_install_changes
    
    install script update for scrypt

commit 8ec0980b6d2b94588e2f42618ee4a0d2e86ba3ef
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Jan 9 21:04:43 2014 -0800

    replace inline event handlers
    
    they won't work with the CSP that we set by default in production (and are not
    best practice)
    
    more informative confirmation messages
    
    ignores nonsensical request to delete multiple collections if no collections
    are selected

commit 1a5de4a19541961b1b22ecbe381941e6152e5d54
Merge: 561c610c f4aa0ef3
Author: Garrett Robinson <garrett@pressfreedomfoundation.org>
Date:   Thu Jan 9 20:18:35 2014 -0800

    Merge branch 'feature/confirm-delete' of https://github.com/diracdeltas/securedrop into diracdeltas-feature/confirm-delete

commit 561c610c9a451c1f0fd20f39a3eacddf08173e71
Merge: 37e0e3c4 06912a2d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Jan 9 19:07:04 2014 -0800

    Merge pull request #246 from diracdeltas/feature/external-links
    
    Use meta-refresh to clear referer, add external links back

commit 1d5872029ef618b0d2f52c8f92078e71987fd8d4
Author: dolanjs <dolanjs@gmail.com>
Date:   Thu Jan 9 10:09:00 2014 -0800

    updated install script for scrypt
    apparmor update for scrypt

commit f4aa0ef3c9040b6aadfdb2d4a02dc5de0c9d071c
Author: Yan <yan@mit.edu>
Date:   Thu Jan 9 02:29:12 2014 -0800

    Confirm before bulk deletes too

commit 20f4c43054458815e2a73b236a0179747eaa3066
Author: Yan <yan@mit.edu>
Date:   Thu Jan 9 02:24:23 2014 -0800

    Confirm before deleting collection

commit 06912a2dcef639a0329e1151bbf083c6acb1ec62
Author: Yan <yan@mit.edu>
Date:   Thu Jan 9 02:01:29 2014 -0800

    Avoid namespace pollution, add comments

commit d1166330d7c94a5c1b5b32b628e1fb201443e054
Author: Yan <yan@mit.edu>
Date:   Thu Jan 9 01:51:51 2014 -0800

    Use custom redirector for external links

commit 0d6339c8a41af53bd21f8a7bf3e7e1114b53e2e4
Author: Yan <yan@mit.edu>
Date:   Thu Jan 9 01:35:45 2014 -0800

    Add custom redirector to clear referers
    
    We removed external links in #206 because Tor Hidden Services leak
    referers (https://trac.torproject.org/projects/tor/ticket/9623).
    Obviously this isn't ideal because of the usability tradeoff.
    
    One way to get around this without using Javascript is to replace all
    external links with a link to a blank SecureDrop page that does a meta
    refresh to the external link, since meta refreshes always clear referer.

commit b5bbe3050034465e88d399602abed5151f94cb2c
Author: Yan <yan@mit.edu>
Date:   Thu Jan 9 01:30:02 2014 -0800

    More external links

commit 34b8205308d0b7795dcd5d24c642e10e2060aa42
Author: Yan <yan@mit.edu>
Date:   Thu Jan 9 01:22:46 2014 -0800

    Revert "remove direct links to external sites from source templates, fixes #195"
    
    This reverts commit 44a04a22a32cd5df84476dd6afdc7aa74464f730.
    
    Conflicts:
    
            securedrop/source_templates/howto-disable-js.html

commit 37e0e3c4fe62b00afcfb5c4292a6d4cd42443e9c
Merge: b3dc92cf d8901f77
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Jan 8 15:18:57 2014 -0800

    Merge pull request #245 from garrettr/scrypt
    
    Scrypt

commit d8901f776b36e135ed15276b8fb20a951050e121
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Wed Jan 8 15:04:20 2014 -0800

    rename salt to pepper to clarify usage

commit 37f7ba59ef4eeb2eae2eb1179c73438d29680c9f
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Jan 5 19:28:35 2014 -0800

    remove bcrypt from, add scrypt to, pip requirements

commit b3dc92cf26b971ddd572bc64f00da7eddcba8dd2
Merge: 40a4bb01 a3a565cf
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jan 5 19:25:07 2014 -0800

    Merge pull request #243 from yozel/patch-1
    
    Fix wrong character in name of a variable

commit 40a4bb0194178797ba67a6bf53feaf33fb9514b2
Merge: 2a1067bb 1233b3ca
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jan 5 19:24:15 2014 -0800

    Merge pull request #244 from dolanjs/apparmor-delete-codename-fix
    
    updated apparmor profile for deleting the codename

commit 2a1067bb2a6705cca3009d8cc89b8fa90015577b
Merge: 41177090 05e92b32
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Jan 5 19:23:56 2014 -0800

    Merge pull request #242 from yozel/master
    
    Fix SMTP validation error on App Server

commit 2f2f9014a7e11323e73dc0df4a8b78bc465eaa8d
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Jan 5 18:17:12 2014 -0800

    optimize scrypt cost parameters for tests

commit 8484eca00a32872c1305044933525b2ac14702aa
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Jan 5 18:01:30 2014 -0800

    reorganize module imports

commit 93be325ad879d493ebf2de40276b05c55e8c760c
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Jan 5 17:58:43 2014 -0800

    replace bcrypt with scrypt
    
    also rearranges some code in crypto_util.py for better readability (all code
    that executes at module level comes first), and removes some unused code.

commit eae69403f396420ef44957a64a413bc17c3b41dd
Author: William Budington <bill@eff.org>
Date:   Sun Jan 5 02:24:03 2014 -0500

    path for environment in config should be relative to the running instance, not to the imported module path

commit 1233b3caaa5d0711592df3c386abd05169721120
Author: dolanjs <dolanjs@gmail.com>
Date:   Fri Dec 27 15:40:42 2013 -0800

    updated apparmor profile for deleting the codename pull #230

commit 41177090718547f6aad35111cf8c4b03aef6cff3
Merge: 0b905aa8 e8e00d55
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 27 14:36:13 2013 -0800

    Merge pull request #230 from garrettr/feature/189/delete-codenames
    
    Feature/189/delete codenames

commit e8e00d55ef156e0138e6350b97decd86bfb4d7f4
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Dec 27 16:29:38 2013 -0500

    clarify delete collection warning

commit 9b03007413395b560d33a5bf5fa15e3b2748d4e5
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Mon Dec 23 09:43:01 2013 -0800

    add delete collection checkboxes to index

commit 5625bfad78b0995817b9851160e537b3764f6f28
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Dec 22 12:35:01 2013 -0800

    move delete buttons to collection pages

commit 00632b4c0c897b3bcdadb1a20539750cd7fa6c35
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Dec 17 19:15:53 2013 -0800

    unit test deleting a collection

commit 5aa5e02476f6e17a12648814e09290da77524242
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Mon Dec 16 00:31:55 2013 -0800

    add delete buttons to main collection list

commit 0b905aa89dbcb11df7e2de08beb503c76865ec7f
Merge: 46e079d1 59ba7aab
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 27 14:30:52 2013 -0800

    Merge pull request #239 from garrettr/feature/191/logging
    
    add logging using the standard library module

commit 46e079d1f327007c6a759658d252862c15b8a3e3
Merge: a1dafbab 955a31ee
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 27 14:30:30 2013 -0800

    Merge pull request #240 from garrettr/feature/190/why-disable-js
    
    add explanation for disabling javascript. closes #190

commit a1dafbabab9557b81432e600ec37a1232a9cb417
Merge: d14aec17 83cd416d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 27 12:42:48 2013 -0800

    Merge pull request #226 from ageis/patch-4
    
    Reference to server_setup.sh, step numbers is outdated

commit a3a565cf9b5f64eb053af81345ee004f5a86e173
Author: yozel <iletisim@yasinozel.com.tr>
Date:   Thu Dec 26 01:57:28 2013 +0200

    Fix wrong character in name of a variable

commit 05e92b32afe075ae433b415622dc23a23218d493
Author: Yasin Ozel <iletisim@yasinozel.com.tr>
Date:   Thu Dec 26 01:37:29 2013 +0200

    Fix SMTP validation error on App Server

commit d14aec1719c4ce11331c01a8cc4742c9f0dbc886
Merge: 9250c590 8cfdcd4f
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Dec 24 16:23:27 2013 -0800

    Merge pull request #241 from dolanjs/fix-quotes
    
    fix quotes in apache config

commit 8cfdcd4f75eec8e8719ccedd78d16ac832ce5562
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Dec 24 10:35:08 2013 -0800

    fix quotes in apache config

commit 9250c590bf4255a7471b7fc87027c3fd40d959df
Merge: 6d2edc71 1a266ae8
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Dec 23 20:52:36 2013 -0800

    Merge pull request #238 from dolanjs/iptables-outbound
    
    Outbound Iptable rules and apparmor update. Fixes #193, fixes #203, fixes #224.

commit 955a31ee8033f7ded6efd1f82167977cb67407c7
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Mon Dec 23 20:49:02 2013 -0800

    add explanation for disabling javascript
    
    Improves the links in the warning popup so they go right to the intended
    content. Cleans up the styles on the info page.

commit 59ba7aab217ed6241ce32b0f0047f191e79157b8
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Mon Dec 23 12:49:43 2013 -0800

    add logging using the standard library module

commit 1a266ae8aad2f08f9ba9d8f73117069614b1add6
Author: dolanjs <dolanjs@gmail.com>
Date:   Fri Dec 20 13:15:22 2013 -0800

    broke base.rules_v4 into separate files for each server
    set uid and gid for users
    added outbound iptables rules for the source/document groups
    added missing tee -a build.log commands
    updated file permissions/ownership to reflect uid/gid
    took out the mysql database and replaced with sqlite
    updated apparmor profiles for sqlite

commit 6d2edc71c6017fcfa463bc23b5796e5d1d0fb4de
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Dec 20 14:21:52 2013 -0800

    fixes from code review for #220

commit 3f10a268b0deade138bd53517c1bb8945ec0b516
Author: Jack Singleton <git@jacksingleton.com>
Date:   Mon Dec 9 00:10:23 2013 -0800

    closes #197 - sanitize filename using werkzeug.secure_filename in source.py

commit a43e55b3c40d079ffa573e4f2dff2c283c84e52f
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Dec 8 23:05:58 2013 -0800

    moved file/message saving logic to store.py for easier testing

commit 5f358548b75cd7ee37e5bab00b7f91a9d8f5622d
Merge: 67c46c49 9b971909
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 20 14:01:33 2013 -0800

    Merge pull request #199 from dolanjs/apache-headers-fix
    
    Apache config headers and error page fixes. Closes #107, fixes #192

commit 67c46c498b236647ac6275b4a6815d9979361791
Merge: dddcc5fb 45d88946
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 20 13:57:57 2013 -0800

    Merge pull request #237 from garrettr/feature/194/fix-imprecise-store-verify
    
    Fixes #194

commit 45d88946fae7aad14294d70fd711f6f2ea9ae09d
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Dec 20 13:25:37 2013 -0800

    tighten scope in store.verify

commit f85dec321bbf6ed0a7b17cb06870b55bb4c14b93
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Dec 20 13:24:03 2013 -0800

    replace flawed commonprefix check with relpath
    
    Adds a test (same PoC described in the audit)

commit 9b971909a3c16433e895b8b9ed8b245756dc1ba5
Author: dolanjs <dolanjs@gmail.com>
Date:   Thu Dec 19 15:29:56 2013 -0800

    removed duplicate header
    added pacing and comment

commit 0355d359d2a5f967c168745f244845ebdffbdb10
Author: dolanjs <dolanjs@gmail.com>
Date:   Wed Dec 18 14:11:53 2013 -0800

    copied same comments from source.site to document.site

commit 0f2ca2cdea7fe6370ca1b31347bc17b1f19ac21c
Author: James <dolanjs@gmail.com>
Date:   Fri Dec 13 10:16:11 2013 -0800

    re-added x-xss-protection header
    grouped the headers together
    fixed caps
    
    fixed caps

commit 5ca9d9344b9ceb05e28bde5aa4dd60e042acfafb
Author: James <dolanjs@gmail.com>
Date:   Fri Dec 6 08:45:12 2013 -0800

    changed `no-sniff` to `nosniff` thanks @Taipo issue #107

commit 16f3ef24eabd46c20670a168beeb4505e6dcd96a
Author: James <dolanjs@gmail.com>
Date:   Tue Dec 3 22:04:13 2013 -0800

    Related it issue #107
    Adds custom error pages all pointing to the /notfound page so the defined headers are sent for error pages
    Adds Pragma, Expires, X-Content-Type, X-download, X-Content-Security policy, Content-Security-Policy to apache configs
    Removes X-XSS-Protection header from apache configs

commit dddcc5fb649a843840398850fd2279989ef35a5c
Merge: 98a20aba 675aaa43
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Dec 20 12:19:45 2013 -0800

    Merge pull request #236 from dolanjs/fix-default-answer
    
    Changed default answer for question in install scripts

commit 675aaa4329493a942bd495fa43c8d1085e0f0863
Author: dolanjs <dolanjs@gmail.com>
Date:   Thu Dec 19 15:48:36 2013 -0800

    changed default answer for the wait for app server installation question in the ossec install script

commit 98a20aba469a197b917efbbe493354113e4f7f78
Merge: 9d53df6b b6a79406
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Dec 18 16:46:01 2013 -0800

    Merge pull request #232 from dolanjs/fix-workstation-names
    
    Fixed confusing code names, fixes #170

commit b6a794062e41d9521d57b5fbad99f852d3a722f3
Author: dolanjs <dolanjs@gmail.com>
Date:   Wed Dec 18 10:33:53 2013 -0800

    Changed refs to source/journalist website to source/document interface, and Source server to App server

commit 9d53df6b9fab8abb18dbd79e27e67bf51f842248
Merge: 15fe0a89 16152bce
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Dec 18 15:20:11 2013 -0800

    Merge pull request #234 from dolanjs/fix-google-auth-permissions
    
    Ensure .google_authenticator file permissions are set. Fixes #201

commit 15fe0a89f03f4e2e1119f9ebfe59950f4da1f60f
Merge: b3486e26 d3a7a09b
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Dec 18 15:19:48 2013 -0800

    Merge pull request #233 from dolanjs/fix-ubuntu-config-doc
    
    Remove obsolete documentation from ubuntu_config.md, fixes #216

commit 16152bcee6ba3f834bb2eef3d478c39eb7a9d1d8
Author: dolanjs <dolanjs@gmail.com>
Date:   Wed Dec 18 14:25:59 2013 -0800

    added line to ensure that .google_authenticator file permissions are set to 400

commit b3486e262f2a4bf7812606bcc01fe61649f068d5
Merge: 4096b33e 1c9722db
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Dec 18 14:05:50 2013 -0800

    Merge pull request #231 from dolanjs/file-upload-size
    
    Set the max request body size in the CONFIG_OPTIONS file. Fixes #223.

commit d3a7a09bcfb81383983a34b24df6a98ba35938d1
Author: dolanjs <dolanjs@gmail.com>
Date:   Wed Dec 18 12:10:25 2013 -0800

    removed ref to configuring resolve.conf which is not needed with current install

commit 1c9722db0af4e60fc9b8eda3659f11950e80899c
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Dec 16 11:33:14 2013 -0800

    Set the max request body size in the CONFIG_OPTIONS file

commit 7208878461a6b7782754846b9a79ba2529761fbb
Merge: 6e06f924 62dc57d3
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Dec 17 19:24:25 2013 -0800

    Merge pull request #219 from Hainish/issue211
    
    Makes config a module, with different files for development / production / test

commit 62dc57d3437c618b911430b27006b5a812f0e518
Author: William Budington <bill@eff.org>
Date:   Sun Dec 15 17:29:01 2013 -0800

    Fixed unneeded create database for test in setup_ubuntu.sh

commit 395965f9a4b5ed370db431454ffd5d28ef996ab2
Author: William Budington <bill@eff.org>
Date:   Sun Dec 15 17:27:01 2013 -0800

    Removing line changing SECUREDROP_ROOT dir for test.py.example in setup_ubuntu.sh

commit a3247a0080314d144ba787bf4dcc11a8245dbecb
Author: William Budington <bill@eff.org>
Date:   Sun Dec 15 17:24:40 2013 -0800

    abspath should refer to securedrop/securedrop path

commit 83cd416d2ef686a89896b8b55602f40eb703ad16
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Sun Dec 15 15:42:01 2013 -0500

    Revert typo

commit 4096b33e5ba573b4b7d3302fb02d3069b3af4994
Merge: fbaaa4a3 b1004672
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Dec 14 20:23:06 2013 -0800

    Merge pull request #222 from ageis/patch-3
    
    Fix some typos/spelling/caps

commit fbaaa4a3a4fd94e732717ef7379ba03adda62e53
Merge: d18983d3 89c16915
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Dec 14 20:21:06 2013 -0800

    Merge pull request #221 from ageis/patch-2
    
    Fixed typos

commit d18983d3c993c5ac9a93eae8abc9713b6d894337
Merge: 23c24618 800489f6
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Dec 14 19:59:35 2013 -0800

    Merge pull request #217 from ageis/patch-1
    
    Corrected some typos, capitalization and consistency

commit 23c24618e091718153b31e68b07a249bfff877b7
Merge: 92bd7647 fba20781
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Dec 14 19:30:11 2013 -0800

    Merge pull request #214 from dtauerbach/master
    
    Resolve issue #198

commit cc8a4372c39c676192ef70a33a9d688e6e32aebc
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Tue Dec 10 16:21:02 2013 -0500

    Word correction
    
    Grammar :P http://english.stackexchange.com/questions/35418/past-tense-of-to-output-output-or-outputted

commit fba2078134eb3af6842353f18ea93c31260b986e
Merge: f7d33e53 92bd7647
Author: Dan Auerbach <dan@eff.org>
Date:   Mon Dec 9 21:11:00 2013 -0800

    Merge main repo master into this pull request

commit 465d462d3944b28d883ed1d2b3b98ac1732160da
Author: William Budington <bill@eff.org>
Date:   Mon Dec 9 10:25:57 2013 -0800

    Update HACKING.md to reflect new config file locations

commit f88296924e28ca7c909b1f5079c141b5f199c4af
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Mon Dec 9 06:02:40 2013 -0500

    Reference to server_setup.sh, step numbers is outdated
    
    journalist's hidden service URL is now referred to as "Document Interface URL"

commit b10046724d3c95b75a4a6b9159fabdb2374e37b1
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Mon Dec 9 03:44:10 2013 -0500

    Fix some typos/spelling/caps

commit 89c16915ffb48246961a71c1c9c9204651c4067e
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Mon Dec 9 03:28:53 2013 -0500

    Fixed typos

commit 455786d8a7198e7bcddf1059b4cd86e7a7fedd59
Author: William Budington <bill@eff.org>
Date:   Sun Dec 8 22:55:32 2013 -0800

    MySQL credentials should be replaced with the actual created user in
    the setup_ubuntu.sh script for the development environment, not the
    test environment.

commit 800489f6264f12e706274aa226ed6b6f784e03ec
Author: Kevin M. Gallagher <kevin@ageispolis.net>
Date:   Mon Dec 9 01:47:29 2013 -0500

    Corrected some typos, capitalization and consistency

commit 40c577cb19647ba6122635d1f4c9799ec753e547
Author: William Budington <bill@eff.org>
Date:   Sun Dec 8 20:47:44 2013 -0800

    Modifying setup_ubuntu.sh to modify config files in new location

commit 256874ee35aef7c5575844a83e215f92fe91263c
Author: William Budington <bill@eff.org>
Date:   Sun Dec 8 18:10:42 2013 -0800

    Moves the config file to a config submodule.  This allows us to easily
    separate out the configs for each environment, as well as the config
    vars that are shared.  This is also structured to retain the ease by
    which setup_ubuntu.sh replaces vars using sed, by having different
    environment configs being separated into different files.

commit 92bd7647c0295867ed178f3ea0dcc2f5bea4c23d
Merge: 027ed06e 03e594fe
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Dec 8 20:58:09 2013 -0800

    Merge pull request #188 from diracdeltas/fix/flag_keyerror
    
    Fixes #185 and modifies tests to clear sessions whenever a source/journalist will likely close their browser.

commit 03e594fe61da26648343e02f3581fbd0df4aae73
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Dec 8 20:46:05 2013 -0800

    Simpler solution to avoid KeyError

commit c114fa21c32da23a8b068bba954eb07aa3f048a5
Author: Yan <yan@mit.edu>
Date:   Sun Dec 8 19:35:45 2013 -0800

    Remove unnecessary path check, add reasoning for _logout

commit 1e3506339e2d5fb25fdba801b58a7c1daf4ff756
Merge: 9d0a4f51 027ed06e
Author: Yan <yan@mit.edu>
Date:   Sun Dec 8 19:04:52 2013 -0800

    Merge branch 'master' into fix/flag_keyerror

commit 027ed06e736a69b5ef730b16ab5af2ef89ccd33b
Merge: 69e3e1d1 44a04a22
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Dec 8 18:55:30 2013 -0800

    Merge pull request #206 from pemulis/master
    
    remove direct links to external sites from source templates, fixes #195

commit f7d33e53067c7515fdcb36967ec5589beff2c11a
Author: Dan Auerbach <dan@eff.org>
Date:   Sun Dec 8 18:55:04 2013 -0800

    Fix location of flashed messages

commit 446d9b49e4591a4ead402eaf2010dad866b03c40
Author: Dan Auerbach <dan@eff.org>
Date:   Sun Dec 8 18:45:05 2013 -0800

    Flash error to journalist if input is bad

commit 55299b7d72eb64bc8bc541252fe8ab8b0aedde23
Author: Dan Auerbach <dan@eff.org>
Date:   Sun Dec 8 18:44:37 2013 -0800

    Fix flashing for journalist base.html

commit cd2bfbadee5a9519827df4acba7e40c98b2d8db3
Author: Dan Auerbach <dan@eff.org>
Date:   Sun Dec 8 18:22:50 2013 -0800

    Add flashing to journalist base.html

commit dd7888dbfce81006e4a01f1d91f29e44a4d44207
Author: Dan Auerbach <dan@eff.org>
Date:   Sun Dec 8 18:19:24 2013 -0800

    Sanitize journalist reply; test still broken

commit 8caebb4a2df4637a0d5cc971b32b5615ec3b8635
Author: Dan Auerbach <dan@eff.org>
Date:   Sun Dec 8 17:57:46 2013 -0800

    Add validation on source side of journalist input

commit 6497dc72d794fe8cfa17f12bab6630b123d26b3e
Author: Dan Auerbach <dan@eff.org>
Date:   Sun Dec 8 17:37:51 2013 -0800

    Add failing test for issue 198

commit 6e06f9244b917b9719c4531a061455cf60990a36
Author: Dan Auerbach <dan@eff.org>
Date:   Sun Dec 8 13:49:05 2013 -0800

    Warn people that they cannot use Percona with setup_ubuntu.sh

commit 1141aaae56b3033e31298c7ce78f1efd491e3cdb
Author: Dan Auerbach <dan@eff.org>
Date:   Sun Dec 8 13:49:05 2013 -0800

    Warn people that they cannot use Percona with setup_ubuntu.sh

commit 18887e408b9b559bd3269cd65115a64a977b4944
Author: Yan <yan@mit.edu>
Date:   Tue Dec 3 04:22:08 2013 -0800

    Add session-clearing to all tests that need it
    
    Add test for logout (clearing a session) in the source
    unit tests. Also clear sessions in integration tests
    whenever a source/journalist is probably going to
    close their browser.

commit 3d87bea0021d80ddcadc5a6bff3a6a93596837b9
Author: Yan <yan@mit.edu>
Date:   Tue Dec 3 03:35:04 2013 -0800

    Simulate session logout in test_reply
    
    Realistically, clients will clear sessions between submitting
    docs / checking for replies, so we should simulate that.
    test.py will now fail before 195d0ef and pass after, as
    expected.

commit a4e38377a2c94105da7c29c4bf509e47b1f779f1
Author: Yan <yan@mit.edu>
Date:   Mon Dec 2 17:42:10 2013 -0800

    Quick fix for 'KeyError: "flagged"' on new session
    
    Fixes #185. We need to set the flagged variable on login, since
    most people will clear sessions between checking for replies.

commit 896401b110b45352514557fbc3c2d6da7ab3cb54
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Fri Dec 6 21:54:20 2013 -0800

    remove direct links to external sites from source templates, fixes #195

commit 69e3e1d1da2836d31de63cddc7732218f8724ce9
Author: William Budington <bill@eff.org>
Date:   Sat Dec 7 21:33:19 2013 -0800

    Fixing error introduced in e68561

commit 82e8c760a8154b1fb7ab87271f39a28414fbb8df
Author: David Reid <dreid@dreid.org>
Date:   Thu Dec 5 14:54:28 2013 -0800

    Fix some typos.

commit 7439c964a515845996d8caafbf46eac7d6271df1
Author: William Budington <bill@eff.org>
Date:   Sat Dec 7 18:50:07 2013 -0800

    Fix: when viewing the flag route on journalist interface, use the database designation for the source

commit e685619699f9119d99783b3f2d8a7b60e8d127ff
Author: William Budington <bill@eff.org>
Date:   Sat Dec 7 18:41:18 2013 -0800

    Fix: when downloading bulk documents on journalist interface, use the database designation for the source (closes #207)

commit 44a04a22a32cd5df84476dd6afdc7aa74464f730
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Fri Dec 6 21:54:20 2013 -0800

    remove direct links to external sites from source templates, fixes #195

commit f827e250a13916c1ef9f5272b0835464935c2cd1
Merge: d5d1a183 da12f3c5
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Tue Dec 3 18:16:47 2013 -0800

    Merge pull request #186 from diracdeltas/fix/setup-ubuntu
    
    Fix bugs in setup_ubuntu.sh

commit 9d0a4f5148d9a39ecdcb3f4ca192e9cd288816d8
Author: Yan <yan@mit.edu>
Date:   Tue Dec 3 04:22:08 2013 -0800

    Add session-clearing to all tests that need it
    
    Add test for logout (clearing a session) in the source
    unit tests. Also clear sessions in integration tests
    whenever a source/journalist is probably going to
    close their browser.

commit 3aab45591f93ac1a0fc0869c911ce0ded3d4ad30
Author: Yan <yan@mit.edu>
Date:   Tue Dec 3 03:35:04 2013 -0800

    Simulate session logout in test_reply
    
    Realistically, clients will clear sessions between submitting
    docs / checking for replies, so we should simulate that.
    test.py will now fail before 195d0ef and pass after, as
    expected.

commit 195d0ef3e78a07407aed0146d9c50ddb35d38671
Author: Yan <yan@mit.edu>
Date:   Mon Dec 2 17:42:10 2013 -0800

    Quick fix for 'KeyError: "flagged"' on new session
    
    Fixes #185. We need to set the flagged variable on login, since
    most people will clear sessions between checking for replies.

commit da12f3c561a807d2bec5086eaae4ef0d59234cdc
Author: Yan <yan@mit.edu>
Date:   Mon Dec 2 16:54:29 2013 -0800

    Fix bugs in setup_ubuntu.sh
    
    Reflects splitting of requirements.txt into source-requirements.txt
    and document-requirements.txt. Updates config before setting up
    db tables so runtime tests pass.

commit d5d1a1831a5ac79098c140670b76b7db65d1a66c
Merge: 72c37d5c 7fbc343e
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Mon Dec 2 08:45:00 2013 -0800

    Merge pull request #184 from dolanjs/interface-install-fix
    
    Interface install fix

commit 7fbc343eae5ed7484a9f241ccba4aba4f9a133ef
Author: James <dolanjs@gmail.com>
Date:   Mon Dec 2 04:00:22 2013 -0800

    changed ref to SOURCE_IP to APP_IP in the validation_CONFIG_OPTIONS

commit 33377c768fac8000bc8fa9687cd64bb8fe6d6d8a
Author: James <dolanjs@gmail.com>
Date:   Mon Dec 2 01:45:37 2013 -0800

    set ownership and permissions for application code

commit d6b97bef3b7ace736aee81a7ac14feaac7d42b84
Author: James <dolanjs@gmail.com>
Date:   Mon Dec 2 00:18:23 2013 -0800

    removed secret value from being in build.log

commit 0f3f21004e842af1801999c26f50707ed2094fb8
Author: James <dolanjs@gmail.com>
Date:   Mon Dec 2 00:13:30 2013 -0800

    fixed comment in document interface config.py

commit 72c37d5c8ce80d2ecfeddbb4de5174ef70ee7d42
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sun Dec 1 21:20:29 2013 -0800

    Update user_manual.md
    
    Had to update this page to conform with version 0.2 and the extra steps involved if the source needs to turn off Javascript and how the journalist has to flag the source for replying and wait before actually replying

commit 66a135a69958c1c1350b30aee0134d6d8d6752d7
Merge: 8b55821f 5a819661
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Dec 1 21:44:48 2013 -0800

    Merge pull request #178 from diracdeltas/feature/bcrypt-gpg-passphrase
    
    bcrypt hash gpg passphrases closes #171

commit 5a819661fd68f229eabd5566ad7395f31b3ba6ab
Author: Yan <yan@mit.edu>
Date:   Sun Dec 1 21:29:01 2013 -0800

    Do runtime tests on crypto_util import

commit 6dae0a96e2f6dedda1f1da166e8aad3aac5e3c0d
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sun Dec 1 21:20:29 2013 -0800

    Update user_manual.md
    
    Had to update this page to conform with version 0.2 and the extra steps involved if the source needs to turn off Javascript and how the journalist has to flag the source for replying and wait before actually replying

commit 2861f6181ac914c036fc07ef5e0065d28ba8f5f8
Merge: f29744e3 8b55821f
Author: Yan <yan@mit.edu>
Date:   Sun Dec 1 21:12:33 2013 -0800

    Merge branch 'master' into feature/bcrypt-gpg-passphrase
    
    Conflicts:
            install_files/document.config.py
            install_files/interface_install.sh

commit 8b55821f0a610972acce16805df67cc07c856170
Merge: 63cc754f 84f680b7
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Dec 1 20:39:29 2013 -0800

    Merge pull request #182 from diracdeltas/fix/gpg_docs
    
    Fixes to documentation and install scripts

commit 84f680b74e07bdede7a43b363f0df3d21702c930
Author: Yan <yan@mit.edu>
Date:   Sun Dec 1 20:36:35 2013 -0800

    Remove obsolete DocREADME.md

commit 63cc754f30efa8e2759c8c64d4ea4943e6856d83
Author: Yan <yan@mit.edu>
Date:   Sun Dec 1 18:45:43 2013 -0800

    Add new screenshots for 0.2

commit 6a6426910e09a58877841540b2959481689dcaef
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sat Nov 30 14:12:37 2013 -0800

    Update README.md
    
    Updated readme to make clearer and to indicate 'source' and 'document' servers
    are now one server, now known as 'application server'.
    
    Misc. other changes.

commit 5b5ed89c15ff41900980abea779774b5a9427c3f
Merge: 0163bc62 ebf00606
Author: Yan <yan@mit.edu>
Date:   Sun Dec 1 19:35:59 2013 -0800

    Merge branch 'master' into fix/gpg_docs
    
    Conflicts:
            securedrop/DocREADME.md
            securedrop/example_config.py

commit 910de2ca9f310cfb1e35447127b06addbe1d0434
Author: Yan <yan@mit.edu>
Date:   Sun Dec 1 18:45:43 2013 -0800

    Add new screenshots for 0.2

commit a2c9308540cea76aa9dc65dd947d0a6d79f49b61
Merge: b93ed689 ebf00606
Author: Trevor Timm <trevor@pressfreedomfoundation.org>
Date:   Sun Dec 1 19:11:02 2013 -0800

    Merge remote-tracking branch 'upstream/master'

commit ebf006068026c87a7a073f526454cd7120afdb6d
Merge: 6914166b 3074b8f4
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Dec 1 22:01:39 2013 -0500

    Merge branch 'big-merge'

commit b93ed6891f50209f3331819c4aff1b6e02e6c1fb
Merge: 4d7db5e7 6914166b
Author: Trevor Timm <trevor@pressfreedomfoundation.org>
Date:   Sun Dec 1 18:54:52 2013 -0800

    Merge remote-tracking branch 'upstream/master'

commit 3074b8f40d8e41d42da5d17fdeee80d84db91c55
Merge: 81fb50eb 6e946534
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Dec 1 18:20:55 2013 -0800

    Merge pull request #163 from garrettr/feature/no-unsafe-codename-lengths
    
    remove option to use codenames with less than 7 words - closes #162

commit f29744e354cb05b7e5a5642d70954fe21f15cde3
Author: Yan <yan@mit.edu>
Date:   Sun Dec 1 17:47:22 2013 -0800

    Add runtime test BCRYPT_GPG_SALT != BCRYPT_ID_SALT
    
    If BCRYPT_GPG_SALT and BCRYPT_ID_SALT are the same, the source
    GPG passphrase is no longer secure. We should add tests to
    check for unlikely conditions like this one that might arise
    at runtime.

commit e1354eac4a9c524cfa397b9aa9bb008bbb08e6e2
Author: Yan <yan@mit.edu>
Date:   Sun Dec 1 16:23:03 2013 -0800

    bcrypt hash GPG passphrase for key stretching
    
    Implements https://github.com/freedomofpress/securedrop/issues/171.
    Minor change to setup_ubuntu.sh to it make it work when there are
    multiple keys in the journalist keyring (happens sometimes
    during testing).

commit 6914166b66dced11868ce1c058b2fe9e31df4ed4
Merge: 13a2f73d 079e6adb
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Dec 1 15:52:19 2013 -0800

    Merge pull request #177 from garrettr/feature/142/journalist-pubkey
    
    Feature/142/journalist pubkey closes #142

commit 13a2f73dadbf136a690af6f231f708badb4072b0
Merge: 9ae809e3 919a63e2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sun Dec 1 15:39:03 2013 -0800

    Merge pull request #174 from garrettr/feature/64/internal-naming-to-securedrop
    
    Feature/64/internal naming to securedrop closes #64

commit 919a63e2926bc2aaba704f86668d0a13fa1068aa
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Dec 1 18:36:22 2013 -0500

    remove deaddrop reference from test/development keys
    
    The uid now references Securedrop and has a better warning message ("DO NOT USE
    IN PRODUCTION" instead of "DO NOT USE", which was kind of hypocritical). The
    fingerprint has not changed.

commit 9ae809e382f5709643b5f8a2942978e68244644b
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Dec 1 18:10:21 2013 -0500

    little fixes for custom header image merge
    
    * rename variables to be more descriptive
    * use getattr so you don't have to have CUSTOM_HEADER_IMAGE defined in
    config.py (so old config files will still work)
    * remove some trailing whitespace

commit 6ab8d8e1bd310cea2746d25a79a022030e49825d
Merge: c76d1273 eb92e835
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Dec 1 17:37:28 2013 -0500

    Merge branch 'theming' of https://github.com/micahflee/securedrop into micahflee-theming

commit 079e6adb6107ea6d3033cf9945623f5e8d02c709
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Dec 1 12:36:34 2013 -0500

    add "why?" page for downloading pubkey
    
    Quick explanation of why you might want to download the public key.
    
    Has some instructions for sources to encrypt their own submissions (linux/mac
    only, assumes you can use the command line).

commit 254ddf07dffda90775af37624540eed7c139301c
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Nov 29 22:20:35 2013 -0500

    add download link for journalist pubkey, started info page

commit 4a78afd71e5d25790c3ad2be573f298bef2fc0ab
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Dec 1 10:30:25 2013 -0500

    update application README

commit 8059ca9e34e1f0b23d1afaf7d5104b3a68dc9b18
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Nov 30 18:45:31 2013 -0500

    remove ref to deaddrop, and fake email from uid
    
    Since the reference to deaddrop was part of the fake email address, it made
    sense to remove them both since the fake email was not actually needed.
    I modified getkey so it should still work, even if used with reply keypairs
    generated with previous versions of securedrop (they'll still have the
    hashed codename in their uid).

commit 2876ca041d5f6c58872d5126176f886791b26ec6
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Nov 30 18:44:16 2013 -0500

    remove refs. to deaddrop, rewrite for newest config defaults, and reformat

commit b49ff8f78547749af20c8b5dde537382ef4e8964
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Nov 30 18:43:25 2013 -0500

    remove misc. refs to deaddrop

commit 58b5d6fda5ea0d72355f470b2d186408b98f42fa
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Nov 30 18:42:40 2013 -0500

    delete obsolete documentation files

commit eb92e835202f2a74096cbec957880d2a953c6bbc
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 19:10:53 2013 -0800

    add support for theming to journalist interface too (#67)

commit 97e4e2386c3a5064a06007feaec99eef640ad37c
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 19:05:55 2013 -0800

    added rudimentary support for theming. fixes #67
    
    Conflicts:
            securedrop/example_config.py

commit 4d7db5e7398169b061ef4f47cd33dee481bdad31
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sat Nov 30 18:47:20 2013 -0800

    Update README.md

commit c76d12734b07e8fa523175eb0fdc5c85acad9318
Author: William Budington <bill@eff.org>
Date:   Sat Nov 30 18:16:07 2013 -0800

    Changing HACKING.md to simplify and update

commit 0163bc62c134c794346b842eab8a0e932637dcca
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 18:14:01 2013 -0800

    installation instructions formatting

commit 19f0f212d07d453eb157167a09621799524822f8
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 18:10:05 2013 -0800

    python dep instructions have changed

commit d03956c6e97b5540a5596cd3567169caa76d14ab
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 17:47:08 2013 -0800

    more install documentation updates

commit f4eccd1b475808547de8fdb220df3f99c32c80fe
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 17:39:09 2013 -0800

    renamed validate_CONFIG_OPTIONS.sh to validate_CONFIG_OPTIONS

commit 5771d9f03450694b2f56494780a879e193ae0c4c
Merge: ecf8d7d0 8106ad2c
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 17:19:53 2013 -0800

    Merge branch 'install-script-hotfix' of https://github.com/dolanjs/securedrop into fix/gpg_docs

commit ecf8d7d0eba20a7c55794bbd07c46464fc477199
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 17:18:10 2013 -0800

    updated monitor server CONFIG_OPTIONS docs

commit 8106ad2c34576ae9c974718e6bd893f88f55baec
Author: James <dolanjs@gmail.com>
Date:   Sat Nov 30 17:16:43 2013 -0800

    defined the nouns.txt and adjectives.txt in the config.py file for the document interface
    and added the mysql portion to the document.config.py file

commit 4867e3745692bb1e911aaa33e062d756eab1bfd7
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 17:09:53 2013 -0800

    made CONFIG_OPTIONS more clear

commit 8b08c16055066396614b0329cb3376e9eec6536d
Merge: 3999cda1 8267321d
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 17:02:17 2013 -0800

    Merge branch 'install-script-hotfix' of https://github.com/dolanjs/securedrop into fix/gpg_docs
    
    Conflicts:
            CONFIG_OPTIONS
            install_files/ossec_install.sh

commit 3999cda1ebdb0bcc6004c9f34b7b8147ea68b75c
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 16:56:24 2013 -0800

    updating installation docs

commit 178d4133328eb618b0fa113d7a011d4c6fcb08a4
Merge: c90c83aa ad6f8184
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 16:25:37 2013 -0800

    Merge branch 'fix/gpg_docs' of https://github.com/diracdeltas/securedrop into fix/gpg_docs
    
    Conflicts:
            docs/install.md

commit ad6f818442e892f6bd49467bdb6b2878a63d7a8f
Author: Yan <yan@mit.edu>
Date:   Sat Nov 30 16:10:33 2013 -0800

    Fixes to install.md for v0.2 release.
    
    * Normalize server naming
    * Remove instructions about Tails on personal workstation
    * Add better instructions for GPG and Google Authenticator
    * Grammar and clarity fixes

commit 8267321d54f3b74099295634a2636145135c0217
Author: James <dolanjs@gmail.com>
Date:   Sat Nov 30 16:09:39 2013 -0800

    removed sudo command from mysql_install.sh

commit 46a17e12473f9c4eb177851d50a4edfe26d01fca
Author: Yan <yan@mit.edu>
Date:   Sat Nov 30 15:57:54 2013 -0800

    Rename SOURCE_IP to APP_IP

commit 2f437d2a71e8cf7eab7296792f37301f5608b3f2
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sat Nov 30 15:56:32 2013 -0800

    Update README.md

commit 673fb382bb9b53e1481f72f8c2bd8084a5413669
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sat Nov 30 15:54:00 2013 -0800

    Update README.md

commit e8cf847e5cca6af16d77fbf3b757cf50f9c0e65e
Author: James <dolanjs@gmail.com>
Date:   Sat Nov 30 15:32:47 2013 -0800

    took the mysql specific parts of setup_ubuntu and put it in its own script

commit d5df621466d75ddb9cb2487f514ceef71445f739
Author: James <dolanjs@gmail.com>
Date:   Sat Nov 30 14:29:53 2013 -0800

    added mysql req to document-requirements.txt

commit 56159ba6d63c631f70a5fd8e6b0f3eafad2ab87b
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sat Nov 30 14:25:28 2013 -0800

    Update README.md
    
    more updates

commit 50084823f88f8196ca010627847eebe065d0b795
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sat Nov 30 14:19:56 2013 -0800

    Update README.md

commit 512087ae6740a9d84645db405e5911efbf696c48
Author: trevortimm <trevor@pressfreedomfoundation.org>
Date:   Sat Nov 30 14:12:37 2013 -0800

    Update README.md
    
    Updated readme to make clearer and to indicate 'source' and 'document' servers are now one server, now known as 'application server'

commit c1a386fd51c9e8346076453c04d642b86e56eff5
Merge: b5f0c506 0c64a887
Author: James <dolanjs@gmail.com>
Date:   Sat Nov 30 13:56:14 2013 -0800

    Merge branch 'master' into install-script-hotfix
    adding mysql functionality

commit c90c83aa66076971ef933c3dc66d599927c7553f
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Nov 30 13:54:15 2013 -0800

    updated ubuntu install guide to use 2 servers

commit a69752355c4510d7c4452ff571fd0dc0c72b3385
Merge: a3a9fb48 0c64a887
Author: Yan <yan@mit.edu>
Date:   Sat Nov 30 12:27:32 2013 -0800

    Merge branch 'master' into fix/gpg_docs

commit 0c64a8876a808d068dcc74f00197a00f89f8fb3a
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Nov 29 15:44:12 2013 -0500

    fix test breakage from merging #172

commit 24c2920dbb03f87d46e6c22a619e0d5b9460447d
Merge: 9560c794 a0b63aed
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Nov 29 12:36:42 2013 -0800

    Merge pull request #172 from TheGlobalMail/instructions-text
    
    text changes to clear things up for newbies

commit 9560c794c9c97824487214d6cf89a53d5008ad99
Merge: 0795fe78 9f691848
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Nov 29 12:40:12 2013 -0500

    Merge branch 'flask-rewrite' of https://github.com/jacksingleton/securedrop into jacksingleton
    
    Conflicts:
            install_files/source.config.py
            securedrop/test.py
            setup_ubuntu.sh
    
    This merge rebases on top of master. It also fixes the use of
    NamedTemporaryFile, making it so deletion is handled automatically by the
    class, and adding a prefix to the temporary filenames to make debugging easier.
    Removed all references to TEMP_DIR throughout the codebase.

commit a0b63aed031f5764cface981e7ef9a271be79b88
Author: Nikhil <nikhil.sonnad@gmail.com>
Date:   Thu Nov 28 14:32:15 2013 +1100

    text changes to clear things up for newbies

commit 9f69184804044661805397de873a2cd67158d489
Author: Jack Singleton <git@jacksingleton.com>
Date:   Wed Nov 27 19:52:24 2013 -0500

    changed tempfile.mkstemp() call to tempfile.NamedTemporaryFile(delete=False)

commit 0795fe78c86cad19eb7772ab0e851e36b159a09e
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Nov 26 17:52:57 2013 -0500

    clean up dev setup script, config, and .gitignore

commit b5f0c5064f8e4bf907eb8bb0741e53a4d69c0e87
Author: James <dolanjs@gmail.com>
Date:   Tue Nov 26 11:33:59 2013 -0800

    fixed interface_install.sh so that it displays the correct port for each interface

commit a3a9fb48bc113acf0fb0feb9e088f04228ff74a4
Author: Yan <yan@mit.edu>
Date:   Tue Nov 26 10:35:31 2013 -0800

    Typo

commit 7b609024bef4bbe9a607becd8722bdce98242e52
Author: Yan <yan@mit.edu>
Date:   Tue Nov 26 10:33:19 2013 -0800

    Fix broken relative links

commit a72f8e460017c82d6c93d96f5b1d67a8527f867e
Author: Yan <yan@mit.edu>
Date:   Tue Nov 26 10:27:20 2013 -0800

    First pass at GPG instructions

commit 8430b96431c39114c3e8f814cb0fa0c7222bbaff
Author: Yan <yan@mit.edu>
Date:   Tue Nov 26 08:48:06 2013 -0800

    Add brief explanations/links to install guide intro

commit 06564b1eab958441e969702594399cd317137998
Author: James <dolanjs@gmail.com>
Date:   Tue Nov 26 02:36:47 2013 -0800

    added some simple validation for CONFIG_OPTIONS file options

commit 263181bf1a1cb1784110edfe12784ee1e0c149bc
Author: James <dolanjs@gmail.com>
Date:   Tue Nov 26 01:07:34 2013 -0800

    replace spaces with commas for JOURNALIST_USERS prior to placing in torrc file.

commit fcfa43cbb6ada7ac7914b493cf9f17324fa66777
Author: James <dolanjs@gmail.com>
Date:   Tue Nov 26 00:17:16 2013 -0800

    working defining journalist users in the documents authenticated hidden service and apache configs

commit 69412d7f8efdf3aaac8c48d78dc52780fd79b597
Author: James <dolanjs@gmail.com>
Date:   Mon Nov 25 21:43:47 2013 -0800

    added feature for to enter journalist names

commit e16b96006ad88b576e1029300a8fb33882915b61
Author: James <dolanjs@gmail.com>
Date:   Mon Nov 25 18:56:53 2013 -0800

    broke up interface_install.sh into sep scripts

commit ea47311d7e0f91f896f4ee95b7975b95317cfbb6
Author: James <dolanjs@gmail.com>
Date:   Mon Nov 25 17:20:42 2013 -0800

    more journalist to document changes

commit 46a6471f9dbd9bd1f624f73e6eaf17d1b86c04a3
Author: James <dolanjs@gmail.com>
Date:   Mon Nov 25 17:08:45 2013 -0800

    fixed document.apache2.conf

commit a51541f00acdac45996570aeb968df55c109e212
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Nov 25 14:57:17 2013 -0800

    need to replace onion addresses for $JAIL.site files

commit d9f4d1ef595d74d20becbbc44f7876f890c878b0
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 24 20:23:24 2013 -0800

    make sqlite the default database
    
    I lied in the previous merge commit's message. This commit actually makes
    sqlite the default database. This reduces the number of dependencies for the
    development environment because sqlite is included with Python.

commit d5dec77ab099f5121fe1099dcfd77d908f35d31c
Merge: 887f140d a8cfbb4b
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 24 18:11:38 2013 -0800

    Merge branch 'Hainish-feature/issue95'

commit a8cfbb4b9f29ab0f4a832f36eb9a4304ef32d6af
Merge: 81fb50eb c8f5d7aa
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 24 18:04:52 2013 -0800

    Merge branch 'feature/issue95' of https://github.com/Hainish/securedrop into Hainish-feature/issue95
    
    Conflicts:
            .gitignore
            securedrop/example_config.py
            setup_ubuntu.sh
    
    This merge changes the default database settings so mysql is not required for
    development (use the built-in sqlite instead). It also integrates the database
    with the tests, using a temporary sqlite database instead of re-using an
    existing databsae, which could cause problems.
    
    If you experience errors related to missing tables after updating, make sure
    you've updated your config with the database settings, then run `python -c
    "import db; db.create_tables()"`.

commit f14042cde189306dfa427ab5dff37d32d602b18c
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Nov 24 17:03:21 2013 -0800

    add tor2web page and image to the source's interface apparmor profile

commit 9bdba3a86c86bab01e36f0f05fce8dad75d29fa0
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Nov 24 16:48:18 2013 -0800

    fixed caps force doc/source interfaces

commit 9d338acc99bb89fe259f6588918e1ba354f2ecaf
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Nov 24 16:45:28 2013 -0800

    fixied display spacing

commit c9937dbbcf5c7f7b5f74a17b9744d633234f0539
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Nov 24 16:12:11 2013 -0800

    separated pip requirements.txt for each interface

commit 090a8ad856f8d5aeb6e326614de2f1c4fc2ee7b9
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Nov 24 15:29:06 2013 -0800

    added spacing between outputline at end of production installation.sh

commit a5fa77a086671f354dc0c78f035a989474735622
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Nov 24 15:14:47 2013 -0800

    changed config file names to reflect App Server, Document Interface, Source Interface

commit a78facf0c5b3e70fd50109bb8c995ba7b389d327
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Nov 24 14:38:41 2013 -0800

    updated production_installation with correct server and interface names
    updated the way the script display the onion addresses.

commit 9e0975e751cfe3621fd1d1bc2bafec007823bf3e
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Nov 24 14:25:16 2013 -0800

    Added warning to interface_install.sh about time
    Changed order and updated comments in CONFIG_OPTIONS

commit 0a192a37e5988562991be2b00a7a0d5de52d8ecf
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Nov 24 14:03:59 2013 -0800

    removed the parts for issue157 from the config.py files

commit b965b9d8d76a8aedce3b9de06b2e917d71648962
Author: dolanjs <dolanjs@gmail.com>
Date:   Sun Nov 24 13:42:54 2013 -0800

    fixed server and interfaces names in install scripts
    fixed tails port in use error
    changed location to look for addtional scripts in the interface config.py files

commit 887f140d212ff6110e0526156e2161de31e64fba
Merge: afcfc7e8 81fb50eb
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Nov 23 13:33:12 2013 -0800

    Merge branch 'big-merge'
    
    Conflicts:
            docs/install.md

commit 81fb50eb9317997ec22b9f852b9d11fbefde3182
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Nov 23 13:00:16 2013 -0800

    simplify definition/creation of data directories

commit 09e3d8e9fbf4fde18e58220b67fbb0ea48661454
Merge: 7975936e aa6c9054
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Nov 23 10:53:04 2013 -0800

    Merge pull request #165 from dolanjs/bm-install-scripts
    
    Updated (and tested) deployment scripts.

commit aa6c90540d325fbb3c40686cb469c3f59c711c2d
Author: dolanjs <dolanjs@gmail.com>
Date:   Fri Nov 22 19:03:40 2013 -0800

    added usage to production_install.sh

commit 0bcf29ab5f75ef09a043c3d17402d8de4f7a0c95
Author: dolanjs <dolanjs@gmail.com>
Date:   Fri Nov 22 17:03:33 2013 -0800

    updated install.md with new host names and install steps
    updated fixes in the install scripts

commit cdfa78e2cf00b5ab79db8245f5cf1b9d484e9b77
Author: dolanjs <dolanjs@gmail.com>
Date:   Wed Nov 20 15:22:38 2013 -0800

    added rights for javascript/tor2web warnings in apparmor profiles

commit 4f6ed88b4633ce752d15c92cc876ba4395a4956e
Author: dolanjs <dolanjs@gmail.com>
Date:   Wed Nov 20 12:34:02 2013 -0800

    added apache headers and rewrite rule need to test defense functionality
    updated apparmor profiles for interfaces

commit 9b16431265c10a8f1bc67b4e3466097c62b80a86
Author: Author dolanjs <dolanjs@gmail.com>
Date:   Wed Nov 20 07:02:02 2013 -0800

    added ossec and apparmor configs to repo and installation scripts

commit 2de22cfe9af5902959ee0590ee70e647a802da27
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Wed Nov 13 10:58:00 2013 -0800

    Making all markdown links relative

commit 6e94653490bcfe276c4ef24efe7ab39878e71c2a
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Nov 19 17:40:24 2013 -0800

    remove option to use codenames with less than 7 words - closes #162

commit 22ed0e0f4d3b0aed0046282b5a67e985d450663b
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Nov 17 22:56:36 2013 -0800

    test_bulk_download now tests that the response data is a valid zip file

commit 8586553a6c80f837472bc947d1a62032e32154c0
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Nov 17 16:01:24 2013 -0800

    removed references to TEMP_DIR from setup_ubuntu.sh

commit c2f318518d15903b7d2dbadb596b1d1f45cebc18
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Nov 17 15:55:02 2013 -0800

    removed reference to config.TEMP_DIR in test.py

commit c8f5d7aa47e9938d6d39225af8a1787ed6c74a2c
Author: William Budington <bill@eff.org>
Date:   Fri Nov 15 14:38:08 2013 -0800

    This does two things. Most notably, it adds MySQL to SecureDrop. This is
    necessary for the generation of source designations by the journalist.
    HACKING.md and setup_ubuntu.sh have both been modified to add this piece
    of infrustructure. setup_ubuntu requires no additional user input for
    this step, and modifies config.py accordingly.
    
    This adds an additional 2 pip dependencies:
    MySQL-python
    SQLAlchemy
    
    The db.py module uses SQLAlchemy to define the tables and perform
    database functions.
    
    We are storing the codenames in the database which can be queried with
    the sid.
    
    New codenames are generated with two new dictionaries, located in
    deaddrop/dictionaries, with an adjective and noun pair. This is
    memorable for the journalist. These dictionaries were generated with the
    python natural language toolkit, using the wordnik database.

commit 7975936e3b6e3828547ce54b76cc75a4d299a9af
Author: William Budington <bill@eff.org>
Date:   Sun Nov 17 03:20:29 2013 -0800

    Changing setup_ubuntu.sh to reflect changes in directory structure.
    Having setup_ubuntu.sh generate bcrypt salt and secure key and place
    those values in config.py.  This causes tests at end of setup script to
    pass.

commit d0a3f0d35ed869b1a3661eaef6e60dbff69c6c36
Author: William Budington <bill@eff.org>
Date:   Sun Nov 17 01:54:38 2013 -0800

    Upgrade distribute, then install requirements

commit e69939d7f4c82d122dca633744e7cc9d97bc1617
Merge: 9f97685e 158f0b67
Author: Bill Budington <bill@eff.org>
Date:   Sat Nov 16 23:41:55 2013 -0800

    Merge pull request #158 from Hainish/new-distribute
    
    This upgrades `distribute` to the latest of the 0.6 releases

commit 158f0b6775dd5736ca10378d9cc8b4aee0ef1a9f
Author: William Budington <bill@eff.org>
Date:   Sat Nov 16 23:33:25 2013 -0800

    This upgrades `distribute` to the latest of the 0.6 releases,
    currently 0.6.34.  This is useful because some packages need a newer
    version of distribute, and others some do not yet support setuptools.

commit b3ae86341d9c64ea341b8e4dc6257988f709633c
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sat Nov 16 23:06:12 2013 -0800

    get_bulk_archive now uses python tempfile and unlinks immediately to avoid using an explicit temp directory

commit 9f97685e19f3f2acd4cc5d61a13859ccea30c63a
Merge: fe747fbe cec4565a
Author: James <dolanjs@gmail.com>
Date:   Fri Nov 15 11:58:07 2013 -0800

    Merge branch 'big-merge' of https://github.com/freedomofpress/securedrop into big-merge

commit fe747fbe973100e4aa00f1abb454b7e12b458e4f
Author: James <dolanjs@gmail.com>
Date:   Fri Nov 15 11:55:45 2013 -0800

    updated ssh configs, easier breakdown of base_install.sh config files
    some apache hardening

commit cec4565a9265c6d1c3a9a6218f91a37e9372ab09
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Nov 15 10:22:04 2013 -0800

    pep8 all the things

commit 460684d243ad7c01c82d90dbce4114d2a0e1ed0d
Merge: ed95de29 26e2af0e
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Thu Nov 14 19:54:53 2013 -0800

    Merge branch 'install-scripts' into big-merge
    
    Conflicts:
            install_files/gen_bcrypt_salt.py
            install_files/journalist.ports.conf
            install_files/journalist.security
            securedrop/.gitignore
            securedrop/COPYING
            securedrop/DocREADME.md
            securedrop/HACKING.md
            securedrop/INSTALL.md
            securedrop/README.md
            securedrop/_genwordlist.py
            securedrop/background.py
            securedrop/crypto_util.py
            securedrop/journalist_templates/base.html
            securedrop/journalist_templates/reply.html
            securedrop/requirements.txt
            securedrop/source_templates/generate.html
            securedrop/static/css/securedrop.css
            securedrop/static/i/favicon.png
            securedrop/static/i/securedrop.png
            securedrop/static/i/tipbox/tipbox-hed-j-all.png
            securedrop/static/i/tipbox/tipbox-hed-j-single.png
            securedrop/static/i/tipbox/tipbox-hed-submit1.png
            securedrop/static/i/tipbox/tipbox-hed-submit3.png
            securedrop/static/i/tipbox/tipbox-hed-user.png
            securedrop/static/i/tipbox/tipbox-logo.png
            securedrop/test_journalist_key.pub
            securedrop/test_journalist_key.sec
            securedrop/version.py
            securedrop/wordlist

commit ed95de29e6a3162dd7890755cc4c7413b08987da
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Thu Nov 14 19:51:08 2013 -0800

    reorganize repo to prepare for merge
    
    Moved the deaddrop application to the top level of the repository and renamed
    it to securedrop. Removed the files that are also removed in the
    install-scripts branch to make the merge easy.

commit 900f87249f5a82f65ce0cf323bb660f021438cc8
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Thu Nov 14 19:19:46 2013 -0800

    improve flask configuration managament
    
    This fixes CSRFProtect so it works in deployment and also is correctly disabled
    when running tests locally.

commit 26e2af0ed2c7f068dfe08687d9015805825f3993
Merge: bdc13c44 6c3a5046
Author: dolanjs <dolanjs@gmail.com>
Date:   Thu Nov 14 18:04:52 2013 -0800

    Merge pull request #155 from dolanjs/install-scripts
    
    Install scripts

commit 6c3a5046658a1dded71d8ceca0719de97606ba50
Author: James <dolanjs@gmail.com>
Date:   Thu Nov 14 17:44:05 2013 -0800

    added directory structure to comments in interface-install.sh

commit 469e9ad4d7eea769735bdc88ac187f38ac11d5fc
Author: James <dolanjs@gmail.com>
Date:   Thu Nov 14 17:31:09 2013 -0800

    store cwd and parent dir in beginning of script

commit 2a1eda723d28754d2ec18abcea21c000e3764f4e
Author: James <dolanjs@gmail.com>
Date:   Thu Nov 14 17:07:13 2013 -0800

    closer

commit 61b2192bbb3565150047e5035c3a87ecf9e0573d
Author: James <dolanjs@gmail.com>
Date:   Thu Nov 14 12:27:39 2013 -0800

    moved order of copying files to avoid error

commit a313ef73006693f6e6e187aed7cb5909bdb19486
Author: James <dolanjs@gmail.com>
Date:   Wed Nov 13 21:17:24 2013 -0800

    moved more config files into install scripts directory

commit 50050314883c3b30c2d8662a856ab18d68d2c763
Author: James <dolanjs@gmail.com>
Date:   Wed Nov 13 20:44:56 2013 -0800

    moved config files into sep files

commit 2ed54a5ae07dfb1b66c45c0aacffe5e02f6588c1
Author: James <dolanjs@gmail.com>
Date:   Wed Nov 13 19:30:22 2013 -0800

    changed script to cp the source/journalist.wsgi file from the
    install-files dir

commit c16dbd978c62751b912a88fbbc2c58458cab4557
Author: James <dolanjs@gmail.com>
Date:   Wed Nov 13 18:45:03 2013 -0800

    added more error checking

commit 29febc722ceb84d8018b7ad4f4e784fe36054396
Author: James <dolanjs@gmail.com>
Date:   Wed Nov 13 17:47:34 2013 -0800

    uncommented pip install line

commit 0bc55c6f74507c641c8db88a5617419f507ce9e3
Author: James <dolanjs@gmail.com>
Date:   Wed Nov 13 17:16:04 2013 -0800

    added --no-updates options

commit e164e95581da67c55b2f05ac6a40a022d915c9ef
Merge: 2d9f46dd 883d334c
Author: dolanjs <dolanjs@gmail.com>
Date:   Wed Nov 13 14:33:26 2013 -0800

    Merge pull request #1 from david415/install-scripts
    
    Add --force-clean option to interface-install.sh
    thanks david

commit 883d334c08bd220ac95a5c8872896313943ffe1d
Author: David Stainton <dstainton415@gmail.com>
Date:   Wed Nov 13 13:22:38 2013 -0800

    Add --force-clean option to interface-install.sh

commit afcfc7e8ca718c49a5eea69b1a4ebcf154b799c7
Merge: 4e1d74b4 c6c95462
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Wed Nov 13 11:03:03 2013 -0800

    Merge pull request #154 from micahflee/master
    
    Making all markdown links relative

commit c6c954625c5ce70619787a7971d78d8a41411069
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Wed Nov 13 10:58:00 2013 -0800

    Making all markdown links relative

commit 2d9f46ddd95207dc3584a418ed4a3d86a874f706
Merge: 44bc3ee2 2727456d
Author: James <dolanjs@gmail.com>
Date:   Wed Nov 13 00:39:17 2013 -0800

    Merge branch 'install-scripts' of https://github.com/dolanjs/securedrop into install-scripts

commit 44bc3ee210289d9a61a23cd64ec8d95ca30c3165
Author: James <dolanjs@gmail.com>
Date:   Wed Nov 13 00:38:05 2013 -0800

    backup tor keys before deleting directories

commit 2727456de57d1a4404d518448d9a8161aff4542f
Author: James Dolan <dolanjs@gmail.com>
Date:   Wed Nov 13 03:33:26 2013 -0500

    backing up the tor private key

commit 85bd867baeda5f235a0d2922f12bf1220d551fc8
Author: root <dolanjs@gmail.com>
Date:   Tue Nov 12 22:56:44 2013 -0800

    typos

commit cebcb2ad50e93273c3a1988a43c381f19a81fa35
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Nov 12 22:25:55 2013 -0800

    remove missed reference to crypto module
    
    This was still working on current installations because `crypto.pyc` was still
    lying around, but was breaking on new installations.

commit b8cee1462a3a1dc7926e0337a7d15f192d371920
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Nov 12 22:25:50 2013 -0800

    more fixes/improvements to ubuntu setup script

commit fa4ffce73fb2bb0bdcd2641beb32ca73b816b619
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Nov 12 21:38:47 2013 -0800

    fix nits in ubuntu dev setup script

commit 072b614fd22127f76bce3008d1dc2fae3d996018
Author: James <dolanjs@gmail.com>
Date:   Tue Nov 12 21:26:39 2013 -0800

    changed where to look for application files

commit 7b32dbd794c78b9ce11167689707a8503b43fae6
Merge: 07af1524 d2a5e0a4
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Nov 12 21:08:21 2013 -0800

    Merge branch 'setupScript' of https://github.com/wdoenlen/securedrop into wdoenlen-setupScript

commit 7482bd5d8061f01b05f6d2cafca2169bd82a1da9
Author: James <dolanjs@gmail.com>
Date:   Tue Nov 12 21:05:58 2013 -0800

    updated interface-install.sh and moved files to install_files dir

commit 9ad938b0ab523910b31b35497c05f335c4bcf1b0
Author: James <dolanjs@gmail.com>
Date:   Tue Nov 12 19:40:23 2013 -0800

    added source and journalist interface requirements

commit 6892455b9c2804114524d90ac4a379cf8fd106c4
Author: James <dolanjs@gmail.com>
Date:   Tue Nov 12 19:24:22 2013 -0800

    still have issue running interfaces

commit 07af152410d071526608c55e45ee1b3e4cf8402d
Merge: a296ccc0 0fd61041
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Nov 12 08:53:27 2013 -0800

    Merge branch 'feature/lazy-keygen' of https://github.com/diracdeltas/securedrop into diracdeltas-feature/lazy-keygen
    
    Conflicts:
            modules/deaddrop/files/deaddrop/journalist.py
            modules/deaddrop/files/deaddrop/test.py

commit a296ccc01cdc9b45f8ae7bea7d09d700be9b3d5b
Merge: f344eefc f2d4295e
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Mon Nov 11 23:25:15 2013 -0800

    Merge branch 'flask-rewrite' of https://github.com/jacksingleton/securedrop into jacksingleton-flask-rewrite
    
    Conflicts:
            modules/deaddrop/files/deaddrop/test.py
    
    This pull requests adds a "tmp" directory alongside "store" and "keys" to store
    zip files built for bulk downloads. I've added an entry to the example_config
    - existing users and developers will have to copy this to their config.py.

commit 0fd61041a3a912b7933e703d23892ad563e2d7a1
Merge: bf8d13e8 f344eefc
Author: Yan <yan@mit.edu>
Date:   Mon Nov 11 10:35:19 2013 -0800

    Merge remote-tracking branch 'upstream/flask-rewrite' into feature/lazy-keygen
    
    Conflicts:
            modules/deaddrop/files/deaddrop/journalist.py
            modules/deaddrop/files/deaddrop/source.py
            modules/deaddrop/files/deaddrop/test.py

commit d2a5e0a4d0506ee8410760c3119c3afc715ae9b8
Author: wdoenlen <wdoenlen@gmail.com>
Date:   Sun Nov 10 23:09:33 2013 -0800

    Check if Python unittest passes/fails, automatically modify journalist key in config.py, add some comments and colors

commit f344eefcc9000081f9216315bfdac1ac2de3c4fe
Author: William Budington <bill@eff.org>
Date:   Sun Nov 10 20:49:54 2013 -0800

    Fixing reversion on issue/80 - decrypted documents should retain filenames

commit bf8d13e89a1954a4ed74639f38d4a6a925f73062
Author: Yan <yan@mit.edu>
Date:   Sun Nov 10 18:42:15 2013 -0800

    Minor reply test improvements

commit 59a2e395564edbf86a1d2ef9b5f8d3d9d2bda2ea
Author: Yan <yan@mit.edu>
Date:   Sun Nov 10 18:10:46 2013 -0800

    Modify test_reply with new flagging feature

commit b038b2b2eb4d0a48fbe1c5b287570c7ecec1d404
Author: Jeremy Dunck <jdunck@gmail.com>
Date:   Sun Nov 10 18:00:15 2013 -0800

    Rename internal crypto module to crypto_util
    
    Mac file systems do case-folding, so that pycrypto's Crypto and securedrop's crypto collide.
    When running against a mac file system, deaddrop/crypto.py's attempt to import Crypto.Random failed,
    because Crypto folded to the deaddrop/crypto.py.  Renaming to crypto_util avoids the collision.

commit 896f2a290c22fccec09c0a959a2164fef2d89830
Author: wdoenlen <wdoenlen@gmail.com>
Date:   Sat Nov 9 23:07:35 2013 -0800

    First pass at a Debian/Ubuntu setup script
    
    Automatically modify config.py and .gitignore, add colorized output, fix some typos
    
    Fix path problem in writing config.py
    
    Add quick test to check operating system and distribution

commit dd52f223af4ef154ad514f5fbdbc3c99609a2a7f
Author: Yan <yan@mit.edu>
Date:   Sun Nov 10 17:30:13 2013 -0800

    Remove comment that is not true

commit 5f405703ba53764794d77bcbbffdc557d2dd57c1
Author: Yan <yan@mit.edu>
Date:   Sun Nov 10 17:14:34 2013 -0800

    Source-side flag checking

commit f2d4295e08889f60e5f696511f2c7215736b2161
Author: Jack Singleton <git@jacksingleton.com>
Date:   Sun Nov 10 17:04:01 2013 -0800

    Added bulk download, closes #123

commit 89f6426e2516b14d69f20e572a9719c0de5d6c9e
Author: Yan <yan@mit.edu>
Date:   Sun Nov 10 16:34:38 2013 -0800

    UI improvements to flag

commit 9f7dcfa09f4fa4b4845da5da9bae9d114d903cec
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 10 16:33:56 2013 -0800

    remove ugly outline from js warning close button

commit 3907c63be8ef3f558dc996cf4e08dc827b88b645
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 10 16:29:03 2013 -0800

    list collections even if they contain no documents
    
    Now that the journalist can delete documents, it's confusing if they delete all
    documents. Then the source's collection "disappears" from the main list,
    leaving them with no way to reply to the source unless the source sends another
    submission.
    
    it would be better to display the number of documents in the main list, and
    allow journalists to sort the list of collections by the number of documents
    contained.

commit e9d50961ff72cd94667889f3293822a90c7813e9
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 10 16:28:16 2013 -0800

    consolidate to one version of jquery (2.0.4)

commit 9d4550d5ac7bada4f2cd68750ba4f326a56705b8
Author: Yan <yan@mit.edu>
Date:   Sun Nov 10 16:24:21 2013 -0800

    Don't show _FLAG files

commit a12084146a07d9244811f5f893d955d36ffce5a1
Author: Allen Riddell <abr@ariddell.org>
Date:   Sat Nov 9 16:47:27 2013 -0500

    Allow journalist to delete documents
    
    Securely delete (using `srm`) documents at journalist's request. Uses jquery
    to allow journalist to "select all". Nothing breaks if javascript is disabled.
    
    Closes #120

commit 45656a8216cc6ccc269b9f89d34983e62780b406
Author: Yan <yan@mit.edu>
Date:   Sun Nov 10 16:15:10 2013 -0800

    Start adding flags for journalist reply.
    
    See Issue #140. Journalists should flag sources that
    they want to reply to so we can generate keys for the
    source only when needed.

commit fd656ef6cd3ba17a560f2293955b2a7ef32a57b8
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 10 16:06:17 2013 -0800

    fix tor2web unit test

commit eb19f5f84f4c7573af699826670f857ab92acf52
Author: Yan <yan@mit.edu>
Date:   Sun Nov 10 14:19:52 2013 -0800

    Make tests more informative

commit 608777a86ee37c4f3daff84c73a3148f774677ee
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 10 14:16:43 2013 -0800

    fix leaving tor2web condition flipped from debugging

commit b40ec26ee2f262585b852e6a78e6f8ac98fca24d
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 10 13:32:53 2013 -0800

    tor2web warning banner
    
    This commit detects if Tor2Web is being used, and shows a warning message (with
    a link to a detailed page) if so.
    
    Closes #43

commit bdc13c445bcae7b2a21a6d030b20669c4930fff5
Author: James <dolanjs@gmail.com>
Date:   Sun Nov 10 10:50:09 2013 -0800

    a little bit closer

commit b0ef075843982a441ce5819ee2fe21636bc6f078
Author: James <dolanjs@gmail.com>
Date:   Sun Nov 10 04:42:24 2013 -0800

    added gen_secret.key.py

commit a9df073114538f51ba6e11130ea4bd49563d91eb
Author: James <dolanjs@gmail.com>
Date:   Sun Nov 10 00:59:04 2013 -0800

    fixed chroot jail path

commit feee21c001569e647cabf9e102d07e70674469a2
Author: James <dolanjs@gmail.com>
Date:   Sat Nov 9 23:40:21 2013 -0800

    put it in a for loop

commit 297e48073d9580e33f09b134166e4ec526cc7365
Author: root <dolanjs@gmail.com>
Date:   Sat Nov 9 21:20:28 2013 -0800

    installs the apache for the source interface in a chroot jail

commit b65d8de8276022c6b5d0d015d9482581244adf14
Author: William Budington <bill@eff.org>
Date:   Sat Nov 9 20:04:34 2013 -0800

    Using gritter in warning for javascript

commit 6ae80aee32f297359c8fa438c28bf3804f5f946a
Author: William Budington <bill@eff.org>
Date:   Sat Nov 9 20:03:32 2013 -0800

    Overriding gritter css

commit ed61d3caf597b379bf683fc151b93fde9baecbc1
Author: William Budington <bill@eff.org>
Date:   Sat Nov 9 20:03:13 2013 -0800

    Including gritter libraries and css on index page

commit 8b2cb11ded75f71227d378ef8668df5e08f33c0a
Author: William Budington <bill@eff.org>
Date:   Sat Nov 9 19:21:53 2013 -0800

    adding library: gritter

commit d6a8065228156aaac475ec1d58226687ff290613
Author: William Budington <bill@eff.org>
Date:   Sat Nov 9 19:20:17 2013 -0800

    Fixing some wording

commit 2b0cc495c95171a2c5cb9c7a538dda47177b4aae
Author: William Budington <bill@eff.org>
Date:   Sat Nov 9 18:51:57 2013 -0800

    Fixing indentation broadly.  Using two space javascript after
    re-investigating here
    http://atroche.org/post/30994290348/javascript-indentation

commit 099f44470978f7b8720d5c70d0ad09a055044caa
Author: Alex Papazoglou <papazoga@gmail.com>
Date:   Sat Nov 9 17:38:09 2013 -0800

    Advise users to disable javascript. Closes #101.

commit de0594bd3c5e0c061cd7d3e9016f3fed65ccb9ab
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Nov 9 12:05:54 2013 -0800

    detection of JS warning and docs

commit e594841797b1f4fa801b654284b1ee1a0df40391
Author: B.J. Rossiter <b.j.rossiter@gmail.com>
Date:   Fri Nov 1 14:58:12 2013 +1100

    Fix for issue #111
    
    Update Apparmor config on source server to allow GPG to lock the keyring.

commit eb1666e177a81beeab72d45e73b8569df4a97d53
Merge: 852dd8be 0006a8f2
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Nov 9 17:19:54 2013 -0800

    Merge pull request #132 from liliakai/flask-rewrite
    
    Implement #121

commit 0006a8f20a0185f61f388aad735a04bc48e1cade
Author: lilia <liliakai@gmail.com>
Date:   Fri Nov 8 19:02:12 2013 -0800

    Implement #121

commit 852dd8be611ccd16af8fd2af1d2d3f4a09ee7f20
Merge: 8034f0f7 14cfd83a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Nov 9 16:58:26 2013 -0800

    Merge pull request #136 from zestyping/flask-rewrite
    
    Removes some words that don't look like real words from the wordlist.

commit 14cfd83aa31ae1c1afed5f7f6b86bbbece973fe9
Author: Ka-Ping Yee <ping@zesty.ca>
Date:   Sat Nov 9 16:31:17 2013 -0800

    Come on... those aren't real words. :)
    
    Note: entropy per word is reduced from 12.92 bits to 12.77 bits.
    Open to hearing your thoughts on this tradeoff.

commit 8034f0f79b8eecc561eb5abd27036b8c6de32af2
Merge: 0597bab9 9068c05d
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Nov 9 16:30:13 2013 -0800

    Merge pull request #135 from pemulis/flask-rewrite
    
    gitignore vim temp files

commit 9068c05dfc334718cfaca71f170830fb3670b775
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Sat Nov 9 16:18:25 2013 -0800

    gitignore vim temp files

commit 0597bab94fe0ffbab7a98ba1d9a28ab4bf1484ab
Merge: 114c89af 97269a34
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Nov 9 15:18:29 2013 -0800

    Merge pull request #134 from zestyping/flask-rewrite
    
    Show a helpful message while the source's key is being generated.

commit 114c89af571695d79cab0c61050daa31a0fc2966
Merge: bbffc52c 98370a6a
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Sat Nov 9 15:12:18 2013 -0800

    Merge pull request #133 from fitzgen/normalize-in-verify
    
    store.verify should assert that the path it is verifying is normalized

commit 98370a6ac4dd82bbeda1a2407932f9fe87830741
Author: Nick Fitzgerald <fitzgen@gmail.com>
Date:   Sat Nov 9 14:14:19 2013 -0800

    Ensure that the path is normalized in store.verify.

commit 58de372a95e4d877022530b69b1543515caf6503
Author: James <dolanjs@gmail.com>
Date:   Sat Nov 9 15:06:41 2013 -0800

    added second chroot jail

commit 97269a34d5441a691f19f2affda7306215f87875
Author: Ka-Ping Yee <ping@zesty.ca>
Date:   Sat Nov 9 15:04:37 2013 -0800

    Show a helpful message while the source's key is being generated.

commit bbffc52ccd731ac65784b4f3bc14ac6dd1ad0cf8
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Nov 9 15:02:41 2013 -0800

    update requirements.txt (was missing flask-testing)

commit 533830b5730f281a9a5c55a780fd4a27fa2775aa
Author: James <dolanjs@gmail.com>
Date:   Sat Nov 9 13:33:37 2013 -0800

    start of interface-install.sh script to setup chroot jails

commit 4e1d74b480146586934a5b2b3f18db608899a85a
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Nov 9 13:07:07 2013 -0800

    fix order of instructions for installing dependencies

commit 048f9a3367ec542769d2bdbf2d6ebaa7006e7872
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Nov 9 13:03:03 2013 -0800

    update dev setup docs based on hackathon feedback

commit 525566309ef1600dce8c93ac56a14ff6307c7498
Author: James <dolanjs@gmail.com>
Date:   Sat Nov 9 10:49:48 2013 -0800

    removed puppet added base_install.sh script

commit 98e761e33e7f129117fe7cdb4e4358ceeb593ec1
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Nov 8 19:42:56 2013 -0800

    temporarily remove dangerous characters from wordlist
    
    Until we can audit the python-gnupg library for shell injection vectors
    (avoiding these was a key reason for isis lovecruft's fork), we are removing
    unsafe characters from the wordlist and safelist so they are never passed to
    the underlying gpg process.
    
    This very slightly reduces the length of the wordlist which in turn reduces
    codename entropy, but this tradeoff is worthwhile until further investigation
    can be done.

commit 0b6fb33abc4bf56247329a6b80c533abde44e817
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Nov 8 18:31:15 2013 -0800

    Update safe character list to include all possible characters from the wordlist

commit a783c9272fc4c45fab9c3e0ec9d3551e0ebe4ad3
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Nov 8 18:16:51 2013 -0800

    fix test race conditions (hacky)

commit 5dc8e7f73de90b4459ea8b5b2a6f0d1eb628305c
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Nov 8 18:16:06 2013 -0800

    Reduce bcrypt rounds in tests for perf

commit 30e3ab0ae2f255913a33b034c5ebf923d661550d
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Nov 8 12:22:12 2013 -0800

    fix link on 404 page

commit c5e04c204869164ed017d7f526ea2b5764db2bc7
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Fri Nov 8 09:45:15 2013 -0800

    tests, and accompanying revisions

commit 8395ad9a74b4a39f922ff00e19f1d5e7f369164f
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Nov 5 08:29:37 2013 -0800

    add CSRF protection with flask-wtf

commit a04ca4bbd500952a324171cc7e2f24c0d6c84acb
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 3 15:35:49 2013 -0800

    Rewrite journalist.py with Flask

commit da5f68bb1b9d71a0621d7766e8c8251f4b702811
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 3 15:35:35 2013 -0800

    remove unused function and its web.py dependency

commit 96a77ed1c8c994f6c9e98c591e62ea8de21b0a08
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 3 15:35:01 2013 -0800

    re-enabled generating source keys on first submission

commit 4654fb75839214d3d6c631ce6759a367157731e9
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Nov 3 13:36:47 2013 -0800

    Rewrite source.py with Flask
    
    Make sure you update your virtualenv!

commit 477fc19bef3be59a0ee65591be9dc43c859d019f
Merge: ab2ab377 447a4a53
Author: dolanjs <dolanjs@gmail.com>
Date:   Sat Nov 2 13:17:25 2013 -0700

    Merge pull request #117 from TheGlobalMail/issue111
    
    Fix for issue #111

commit 447a4a53fc22b0d26e737a0c2816b8314c589e9d
Author: B.J. Rossiter <b.j.rossiter@gmail.com>
Date:   Fri Nov 1 14:58:12 2013 +1100

    Fix for issue #111
    
    Update Apparmor config on source server to allow GPG to lock the keyring.

commit ab2ab3775a7400bf998055662549417b972cbf4d
Merge: 24c9ad82 0bd80601
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Thu Oct 31 18:08:07 2013 -0700

    Merge pull request #116 from Hainish/feature/issue80
    
    Fixes unit tests, which were broken by #113 to fix #80.

commit 24c9ad82eee8c96b5bd6f7eaec1c2597233f5b4e
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Thu Oct 31 17:27:01 2013 -0700

    Add top-level HACKING doc with contact info

commit 0bd80601142124d90f7a28870f45b6d4b3d988ff
Author: William Budington <bill@eff.org>
Date:   Thu Oct 31 15:51:15 2013 -0700

    fixing unit tests related to issue 80 fix

commit fb413041d5b24d86db6bea74c1b33f89d54362ef
Merge: 891c9915 da0bad12
Author: Micah Lee <micah@micahflee.com>
Date:   Thu Oct 31 10:40:40 2013 -0700

    Merge pull request #113 from Hainish/feature/issue80
    
    Feature/issue80

commit da0bad12ec72ef6646527d0ee708505868ceffaf
Author: William Budington <bill@eff.org>
Date:   Thu Oct 31 01:09:06 2013 -0700

    new filenames should be recognizable as valid and downloadable from defined endpoints

commit 94f8176537407919fdd48a75b15e6ad2ca0c4976
Author: William Budington <bill@eff.org>
Date:   Thu Oct 31 00:34:31 2013 -0700

    manually specifying filename in gpg flag no longer necessary

commit d9c6ad668156f1ecc88c24ed6b40b8076aa312cb
Author: William Budington <bill@eff.org>
Date:   Thu Oct 31 00:29:36 2013 -0700

    source document is now encrypting to zip file to perserve contained filename

commit 891c991543e27afd7e010cf0a792c08b7d779967
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Wed Oct 30 14:27:37 2013 -0700

    Remove unused gen_ajax function and url rule

commit 05f52ec89b8e112899a9a4b1e736ce017349b635
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Wed Oct 30 12:16:58 2013 -0700

    Only generate valid-length codewords
    
    This prevents potential DoS through requesting the server to generate enormous
    codewords, first reported here [0].
    
    [0] https://github.com/freedomofpress/securedrop/issues/4#issuecomment-27372878

commit a4b53eecc54efc32b03095cafd8716ea3b0c2337
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Oct 29 19:37:09 2013 -0700

    Upgrade PyCrypto to to 2.6.1
    
    PyCrypto 2.6.1 fixes a potentially serious issue in the CSPRNG [0].
    
    If you already have your dev environment set up, you can simply `pip install -U
    pycrypto`.
    
    [0] http://lists.dlitz.net/pipermail/pycrypto/2013q4/000702.html

commit 647a959fb387488a9b40aa2ba7fb150a4dc9d0b9
Author: Yan <yan@mit.edu>
Date:   Sun Oct 27 22:35:31 2013 -0700

    Replace userid with fingerprint in HACKING.md
    
    We remove spaces in the key identifier in crypto.py,
    so using the gpg userid as the key identifier instead of
    the fingerprint won't work. See
    https://github.com/freedomofpress/securedrop/issues/96.

commit fa18b54a3c4a99a9bc4db56f72b78d4bd6d9e83d
Merge: 54159261 5297d3a7
Author: Yan <yan@mit.edu>
Date:   Sun Oct 27 20:58:33 2013 -0700

    Merge branch 'feature-remove-javascript' of https://github.com/garrettr/securedrop

commit 54159261fae9d6899ad7a08c2a72992d3d3b42c7
Author: Yan <yan@mit.edu>
Date:   Sun Oct 27 20:47:20 2013 -0700

    Add links to live demo sites

commit 5297d3a77a65305c4a92121118a210076fb713af
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Oct 26 15:44:05 2013 -0700

    remove javascript
    
    unit test passes, so the "regenerate codeword" functionality is still intact.

commit 051d1802ea351b6d4bb413599cffb3088c8d01b4
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Oct 26 15:31:33 2013 -0700

    test for codename regeneration
    
    The single quotes in the "regenerate-form" form were changed to double quotes
    due to a bug in paste. While using single quotes is valid for values of HTML
    attributes, paste does not parse them correctly and as such cannot modify
    fields or submit the form.

commit 21ca77b29a0f8ac5a08e66cf275de5196f574068
Merge: 3e4612fe 9f84ddd1
Author: Micah Lee <micah@micahflee.com>
Date:   Thu Oct 24 11:24:55 2013 -0700

    Merge pull request #97 from msjoinder/help_mac_users
    
    improve Mac OSX instructions

commit 9f84ddd1f272d6670c743d0670dd8d2a4c3a4d86
Author: Msjoinder <msjoinder@gmail.com>
Date:   Wed Oct 23 23:35:15 2013 -0500

    improve Mac OSX instructions

commit 3e4612fe10677272daffa84057654db7aa95cd60
Merge: fab1d312 d163d7b1
Author: Micah Lee <micah@micahflee.com>
Date:   Thu Oct 17 16:18:34 2013 -0700

    Merge pull request #90 from garrettr/remove-hmac-secret
    
    Remove all instances of HMAC_SECRET

commit d163d7b163721fb8b1dde8c53c8b11c1625d3e8d
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Thu Oct 17 10:14:15 2013 -0700

    Remove all instances of HMAC_SECRET
    
    Unit tests continue to pass, which confirms this variable was not being used.

commit fab1d3124b993ac45afd70ef0eb6df61f47026f9
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Tue Oct 15 17:56:37 2013 -0700

    version bump to 0.2development

commit 7ebfb26eb372e7cd1c3ed6638e4fdb77d5803068
Merge: 7ceaae1a 117b77a4
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 09:04:36 2013 -0700

    Merge pull request #84 from dolanjs/master
    
    apparmor tweaks

commit 117b77a4beabeffba26caa043b7185bd6cf0b978
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 11:16:09 2013 +0000

    apparmor tweaks

commit fc1c06fba759741227154925170eb2c9795d3ef2
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 09:48:50 2013 +0000

    added --no-ri and no-rdoc to server_setup.sh

commit 14737c27a7bdf7f4364e9c60aa6fe360e4db95c8
Merge: 6cce9c12 7ceaae1a
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 09:47:26 2013 +0000

    Merge remote-tracking branch 'upstream/master'

commit 6cce9c123dff587eb49120e4c9a3cbb3e660544c
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 09:45:41 2013 +0000

    added pre-built apparmor profiles for apache2-mpm-worker

commit 848e14cb2800b29817f48d69206107fa764f3524
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 09:44:42 2013 +0000

    added apparmor profiles

commit 7ceaae1a51313fd311678240e6098bcae5fb8634
Merge: 443d0a4d b3ae4839
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Tue Oct 15 00:35:05 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit 443d0a4d1bad42f437bea3b599be6f2e6f2b9dae
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Tue Oct 15 00:34:59 2013 -0700

    added a changelog and version bump to 0.1

commit b3ae48398ba99f26d643528c7e68ead8916245c2
Merge: 229ec0c9 e5417081
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Oct 15 00:29:22 2013 -0700

    Merge pull request #83 from garrettr/tests
    
    Tests

commit e54170812bd7a4ab79a24bd2d3b03cefbd867169
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Oct 15 00:12:17 2013 -0700

    Add requirements.txt, with libraries for testing

commit a7a54ec4cc5a7e1415374b9c9e3f01627f001dab
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Oct 15 00:07:13 2013 -0700

    General coverage with unit/integration tests
    
    This covers the basic unit tests of accessing each site and clicking through
    the interface. It also integration tests submitting messages, files, both
    messages and files, and journalists replying to a source.

commit b616718e70b899cc32637f431fd58f280a751ec5
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Oct 15 00:07:06 2013 -0700

    Add Content-Type to downloads (needed for tests, helpful in browser)

commit 5fec0e6d00fa526710ee2364459ffe98704a5f7a
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Tue Oct 15 00:06:08 2013 -0700

    Better exceptions for crypto.clean

commit 229ec0c940cf4322e4438e87f1bd91aea0e5976e
Merge: 6bd07ffb 7aaf7e97
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Oct 14 23:17:59 2013 -0700

    Merge pull request #82 from dolanjs/master
    
    added autoremove and removing /etc/puppet

commit 7aaf7e97c4d84c2a82b4947b11f2d669c4ab5451
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 06:16:23 2013 +0000

    added autoremove and removing /etc/puppet

commit 6bd07ffb26768c086fd2400caf145cdad86da320
Merge: 4036c0b4 b625a8a3
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Oct 14 23:06:49 2013 -0700

    Merge pull request #81 from dolanjs/master
    
    fixed tor error and added purging unneeded packages after install

commit b625a8a30dc8e5b8489e6a95eda734b9a95eaf14
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 06:04:17 2013 +0000

    added removing unneeded packages

commit 147d0916ba546c96b5b85a3cc1b57ce4980dc2d6
Merge: 831eaabf 4036c0b4
Author: root <root@domU-12-31-39-02-18-83.compute-1.internal>
Date:   Tue Oct 15 05:48:29 2013 +0000

    Merge remote-tracking branch 'upstream/master'

commit 831eaabf7f8c6c5aad0a74c5cce327ebcd59c807
Author: root <root@ip-10-238-222-94.ec2.internal>
Date:   Tue Oct 15 04:41:45 2013 +0000

    fixed tor error with the update to the puppetlabs apt module

commit 4036c0b4197cedef8e0f7e347fe555d125d04ee9
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Mon Oct 14 21:24:38 2013 -0700

    I changed the screenshot, so I need to change the code word (#57)

commit c42a55d44fb002cfea008bd3c99c6f13712227b8
Merge: 8be8c446 d832142f
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Mon Oct 14 21:18:27 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit 8be8c4461fecf1d6b18c1d3ecabace537245e303
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Mon Oct 14 21:18:21 2013 -0700

    wrote user manual (#57)

commit d832142fc5436154cebf75ea305e2fb741809c9a
Merge: b016382c 3f42befa
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Oct 14 20:41:39 2013 -0700

    Merge pull request #79 from dolanjs/master
    
    remove sshfs_fix and enable ossec authd

commit 3f42befaaaddd9c3e45794b3a6e15c30269d1b64
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 03:12:25 2013 +0000

    added package for deb.torproject.org-keyring

commit b016382c10c10e317d3e3cc7a0710101534c8ca5
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Oct 14 20:06:22 2013 -0700

    fixed image url
    
    fixed image url for journalist interface

commit 76ba016c16a1f08bb88180b97b3405d0dcd13079
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 02:52:33 2013 +0000

    Revert "added os.environ['USERNAME'] = 'www-data' to crypto.py"
    Micah already submitted
    This reverts commit 7fa47005f819d8ef20437ccd8a04177f48ce5e75.

commit 7fa47005f819d8ef20437ccd8a04177f48ce5e75
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 02:46:07 2013 +0000

    added os.environ['USERNAME'] = 'www-data' to crypto.py

commit 606027a39bbb7c5f5993eba61aaa7371d3e35316
Author: dolanjs <dolanjs@gmail.com>
Date:   Tue Oct 15 02:43:59 2013 +0000

    error fixes

commit 07437aff8567ce4aa7b36b2911113e637fa1cfc4
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Mon Oct 14 19:15:55 2013 -0700

    fixes #78

commit 765fb4a2520e612c145362d9b201edb2dc3c389d
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Mon Oct 14 18:36:46 2013 -0700

    updated journalist workstation setup docs

commit 5bc5daca07514e4473f0ba85923680b3cb74c710
Merge: 4ea21126 1c67f531
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Oct 14 17:32:58 2013 -0700

    Merge pull request #77 from dolanjs/fix-setup-error
    
    Fix setup error

commit 1c67f531abe80ce4c5ff8e5bdb976528e0e69419
Author: root <root@domU-12-31-39-07-4A-6E.compute-1.internal>
Date:   Tue Oct 15 00:14:33 2013 +0000

    fixed type in fixsshfs

commit 28197b3d713236381424bbbc669d0430f25b2de9
Author: root <root@domU-12-31-39-07-4A-6E.compute-1.internal>
Date:   Mon Oct 14 23:53:04 2013 +0000

    removed unneeded ssh attempt

commit 4ea2112666152196b9e56732f81eee6fa80f124c
Merge: 3c973fdc 8799d390
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Oct 14 15:58:43 2013 -0700

    Merge pull request #75 from dolanjs/sshfs_fix
    
    Sshfs fix

commit 8799d390da1f2c0094bd5cee641b6c4af4a1a93a
Author: James <dolanjs@gmail.com>
Date:   Mon Oct 14 15:54:00 2013 -0700

    removed trailing white space

commit 7edad2aee848a16f201a777ab5b64ac141b446eb
Author: James <dolanjs@gmail.com>
Date:   Mon Oct 14 15:52:00 2013 -0700

    added sshfs fix function to server setup.sh

commit 3c973fdc939e94c62ff3762e6b4265c08356398c
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Mon Oct 14 14:57:04 2013 -0700

    unit test for file submission

commit ba75dcb5ef0749264bac3285b3a7233a3a366935
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Mon Oct 14 14:54:51 2013 -0700

    Improve file field detection
    
    Previous code was fragile and implicit. This code makes the failure case
    explicit, based on the default value of {} passed to web.store as well as notes
    from the Python CGI documentation, which is the source of the FieldStorage data
    structure. [1]
    
    [1] http://docs.python.org/2/library/cgi.html

commit 21035f500c15b9d2666f3c1b79fcb69eecf91855
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Mon Oct 14 08:14:10 2013 -0700

    Update codename regex to handle all possible characters

commit 55337a3e4a42ae88cf1e48d5afaf172d14955a43
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Mon Oct 14 07:57:06 2013 -0700

    Fix codename regex to match <p> instead of <span>

commit e862f7c8a689cb790ec1a169940983622930d89d
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Mon Oct 14 14:56:38 2013 -0700

    oops, shouldnt overwrite /etc/resolv.conf

commit 43f6fbd5e06d0d9a73ab24708a664e8199d89a72
Merge: 13c6d26f 9ddf47be
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Oct 14 14:40:02 2013 -0700

    Merge pull request #74 from dolanjs/issue69
    
    Issue69

commit 9ddf47bedbb972c99691008a7186c410e566d73f
Merge: fe44d2bc 9acbdc63
Author: James <dolanjs@gmail.com>
Date:   Mon Oct 14 14:33:52 2013 -0700

    Merge branch 'issue69' of https://github.com/dolanjs/securedrop into issue69

commit fe44d2bcc60d9431ce56a79ebad08ec744b061b8
Author: James <dolanjs@gmail.com>
Date:   Mon Oct 14 14:14:10 2013 -0700

    added steps for configuring the journalist workstations authenticated tor hidden service

commit 13c6d26fc38c03c4558fece8e24d728e5d0377e1
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Mon Oct 14 14:29:10 2013 -0700

    added /etc/resolv.conf, for #72

commit 9acbdc63299b8b219722708c4242861b2f15e63d
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Oct 14 14:24:44 2013 -0700

    corrected raw url

commit 652f163a140283016f1b0a8612cf3d4d2fe13366
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Oct 14 14:21:56 2013 -0700

    added screen shot
    
    added screen shot of journalist browser

commit 4527cbb18f35f42f3a7f02f8e0a15b736aeae3b6
Author: James <dolanjs@gmail.com>
Date:   Mon Oct 14 14:14:10 2013 -0700

    added screen shot of journalist_workstation1 shouw the journalist's unique url

commit 7f82614291fc1267cabf0dbbe45feed0a8cc0d2c
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Oct 14 14:04:34 2013 -0700

    wording

commit 04b5a60abd6c511a1b8863423a3c4ea5851b15ec
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Oct 14 13:55:36 2013 -0700

    added steps for adding the HidServAuth value to journalist

commit 259dcb80f052a13378dd74ff5defa0737e66d2dc
Author: root <root@securedrop-monitor.(none)>
Date:   Mon Oct 14 19:53:34 2013 +0000

    added hostnames back to nodes.pp and have server_setup.sh set intial /etc/hosts on remote hosts

commit 94407cb28c36629a892bbfc6466f30dcb517016d
Merge: d867375f bb2b7f98
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Oct 14 10:30:59 2013 -0700

    Merge pull request #73 from dolanjs/gpg-pub-key-name
    
    changed server_setup.sh so that it is not dependent on the default gpg k...

commit bb2b7f9879186b6bec8d76ecaf41821fdc1618a4
Author: dolanjs <dolanjs@gmail.com>
Date:   Mon Oct 14 17:04:41 2013 +0000

    changed server_setup.sh so that it is not dependent on the default gpg keyname

commit d867375fcaceee25410384acf82195dc25a80c7e
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Oct 13 23:15:56 2013 -0700

    Forgot to import os

commit e318b914be50cd5f920c97dfc39bdbee35f10e29
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Oct 13 22:20:17 2013 -0700

    Use small keys for unit tests
    
    Fixes previous accidental change to use small keys for everything.

commit ad1885481c16b2ae050146b8de209ad6f4409d81
Merge: 6e8d4d86 282e6f76
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 21:37:01 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit 6e8d4d86611530af8a458a706e245719b3175f0d
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 21:36:52 2013 -0700

    updating application PGP public key filename in server_setup.sh

commit 8a7da9246905c3c156bdaf6361e609e0c04c8c61
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 21:21:07 2013 -0700

    updating server installation docs

commit 282e6f76220e77d8f896cf65f295bdb38291ae8f
Merge: fdfcb4a2 bbc35ef8
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Oct 13 21:03:50 2013 -0700

    Merge pull request #70 from GabeIsman/master
    
    Add rails dependency back in to install script

commit 9ff3ef2685f6d33636ebba0eb3810a1518f6490f
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 20:54:50 2013 -0700

    fixed typos in install doc

commit fdfcb4a21aed8da07b5ef34f2728c635d9151727
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 20:49:49 2013 -0700

    rewrote viewing station docs, fixes #71

commit 75784a29bf0270abbc2f030a8b132bb1e93dba16
Merge: e4937d28 2b07440e
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 18:30:44 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit e4937d28770c22c8d981c1f9e3ee19894be086a0
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 18:30:39 2013 -0700

    updated UI, fixes #55

commit 2b07440e6f1dae5c53da9c0c116963ddcae3a057
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Oct 13 18:24:35 2013 -0700

    Start unit tests for source.py
    
    Adds ids to forms so they can be distinguished by the tests. Small fix to silly
    broken code for detecting if the upload form includes a file upload.
    
    The ValueError exception that occurs after the tests run is spurious. It is
    caused by a call out to generate a key for the source, which is async.
    Meanwhile the tests continue, and tearDownModule wipes out the test directory,
    so when gpg is done generating the key it has no keyring to write it to and
    exits with an extra-special error code.

commit bbc35ef8cc0e149f20cfcc9dd884364d12987c19
Author: Gabe Isman <gabe.isman@gmail.com>
Date:   Sun Oct 13 18:23:11 2013 -0700

    Whitespace cleanup

commit 51055697571ccdb8783ee79b3a44bad2e72733de
Author: Gabe Isman <gabe.isman@gmail.com>
Date:   Sun Oct 13 18:22:42 2013 -0700

    Revert "Remove installRails function and doc references"
    
    This reverts commit 511fd41976ede6631ce6e37064cd07834359a480.

commit 486494f5f867c361afe0eea4e0662b00d6a83adf
Author: Yan <yan@mit.edu>
Date:   Sun Oct 13 17:56:56 2013 -0700

    Update shash doctest

commit 38c19ee4402a791c12e16765769bfadf26f1f600
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 17:44:23 2013 -0700

    more user manual updates (#57)

commit afb4c668df88ef3818c63f54d8bda35a99438c13
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 17:43:03 2013 -0700

    made code name display in a block element instead of inline, because of weird firefox bug involving adding extra whitespace when copying from inline elements

commit f438cf83328eb8841172d3b885b5807310cbd323
Merge: a14db2c3 ac839669
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 17:34:13 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit ac83966921b95cd57d8842834fe2fcfe415f1f5a
Author: William Budington <bill@eff.org>
Date:   Sun Oct 13 17:28:55 2013 -0700

    changing the gnupg params

commit a14db2c3c291cfd2473b697731ca9e60e9aa4b14
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 17:24:49 2013 -0700

    changing dependency from gnupg to python-gnupg

commit c25ae62ee82e367fb6cf9655e98cb495e763165d
Author: William Budington <bill@eff.org>
Date:   Sun Oct 13 17:20:38 2013 -0700

    reverting to old python-gnupg lib

commit 6bb6bb715dd5d0ef7e1d49a8dc0e561aa9977764
Merge: 044af82f 606f0620
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Oct 13 17:02:54 2013 -0700

    Merge remote-tracking branch 'upstream/master'

commit 044af82fb51846ae82d12fbc58ae33e0c79b2ba4
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Oct 13 17:01:14 2013 -0700

    Switch back to python-gnupg for now
    
    Porting to gnupg ended up being non-trivial. We still want to do this
    eventually, but we found several bugs in gnupg and don't want to be blocked on
    it anymore.

commit 606f0620a0a5865dc291f4b48c69d06f89aec345
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 16:47:35 2013 -0700

    started to write source user manual (#57)

commit 022260cdb6412074c157d277e2bb365a5859f513
Merge: 0c30cd71 78af2e7a
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 16:37:24 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit 78af2e7a71ab658f8781e215d4005810a99aee51
Merge: 88b73c9b de9a046c
Author: Yan <yan@mit.edu>
Date:   Sun Oct 13 16:28:30 2013 -0700

    Merge branch 'master' of https://github.com/freedomofpress/deaddrop

commit 88b73c9bac8fd927beb4e77ba3351f3ba304d56b
Author: Yan <yan@mit.edu>
Date:   Sun Oct 13 16:28:11 2013 -0700

    GPG_KEY_LENGTH should be number, not string

commit 0c30cd71d98c078dddceaa9d65ac5aeb0c050ab6
Merge: 719f9b28 de9a046c
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 16:26:57 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit de9a046cd2cb8831beaa82d71def4ba56aa1e70c
Author: William Budington <bill@eff.org>
Date:   Sun Oct 13 16:25:37 2013 -0700

    crap

commit 1a8bef6cfb152aa1cb9c39fa3870b519945412cb
Author: William Budington <bill@eff.org>
Date:   Sun Oct 13 16:22:23 2013 -0700

    remove debug statement

commit 719f9b2888d13ee16b3b41f0346a382bb9edecbd
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 16:21:25 2013 -0700

    renamed ubuntuconfig.md to ubuntu_config.md

commit 1f45dca2b35eb1b9c395f79e6bf5f71261a9596f
Author: William Budington <bill@eff.org>
Date:   Sun Oct 13 16:21:00 2013 -0700

    whoops: shquote needed to wrap filename

commit 5609264f2409e026415e7716450bee50c37139ec
Merge: ceb4861c be1399a4
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 16:18:57 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit ceb4861cc2049dbceaa550ce46821f00bc3e94e0
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 16:18:46 2013 -0700

    removing our own GUI for file encryption (#27)

commit be1399a458c70b799ddbd5981e88daf1eb426a91
Author: William Budington <bill@eff.org>
Date:   Sun Oct 13 16:16:04 2013 -0700

    changing encrypt_file to encrypt, with fn as output

commit 91f6c818487652418d7a6799b6d53118585219c9
Merge: f25f62b8 5c18b2d5
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 16:07:58 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit f25f62b8f9bb76725a3965a3f058e614ae8d11ed
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 16:07:50 2013 -0700

    starting on document UI improvements (#55)

commit 2e21e5e8d13c3300063372897571252cea5b9300
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 16:05:28 2013 -0700

    displaying version on both source and document interfaces

commit ff90c423663209ea981242d42bd81ab1d1872bd1
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 15:56:32 2013 -0700

    improved source UI (#55)

commit 5c18b2d5bd3dfca19d3febe946ee4101144e8e91
Author: William Budington <bill@eff.org>
Date:   Sun Oct 13 15:13:32 2013 -0700

    changing from list to parameter to avoid gnupg lib error

commit aa844f5577390c552cb752b0606053ea1ccbe6b0
Author: William Budington <bill@eff.org>
Date:   Sun Oct 13 13:55:04 2013 -0700

    changing fp to fingerprint for clarity

commit 84a0b89b681e7e95ecd8bf2fccf24df3c340dca2
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sun Oct 13 13:52:59 2013 -0700

    changed tabs to spaces in hacking.md, and added python-dev dep

commit 0d22dd16d09987e87e331f9b5c1d222043c19f20
Merge: 7d1468ae a16c19ed
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sun Oct 13 13:10:10 2013 -0700

    Merge remote-tracking branch 'upstream/master'

commit a16c19ed11223e267401b43c6e88e4384f66dbd4
Merge: d3c48604 511fd419
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Oct 13 13:09:01 2013 -0700

    Merge pull request #66 from GabeIsman/removerails
    
    Remove installRails function and doc references

commit 7d1468ae23252c16ed8afd5ba619e538024c58a5
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Wed Oct 9 20:04:53 2013 -0700

    Add JOURNALIST_KEY instructions for developers
    
    Some rearranging for a clearer set of instructions, minor style fixes.

commit a1f11a88c68aebcef749fcab172c029ae2ffabab
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Wed Oct 9 19:44:51 2013 -0700

    Don't version control config.py
    
    We should only keep the config template in git. Keeping config.py (even as
    a symlink) creates all kinds of problems:
    
    1. modifying it for your deploy shows up as local changes
    2. easy to accidentally `git commit -a` and push sensitive data
    3. doesn't correspond to the instructions in HACKING.md

commit 511fd41976ede6631ce6e37064cd07834359a480
Author: Gabe Isman <gabe.isman@gmail.com>
Date:   Sun Oct 13 13:05:06 2013 -0700

    Remove installRails function and doc references

commit d3c48604135f0270bef34dc698c467f75395f24c
Merge: 60ce0165 24f9d20c
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Oct 13 12:55:17 2013 -0700

    Merge pull request #65 from garrettr/tests
    
    Skeletal test harness

commit 60ce0165aa31ee7d84f5936509eebe1797dd5fd9
Author: William Budington <bill@eff.org>
Date:   Sat Oct 12 18:29:21 2013 -0700

    added an ajax regenerate control

commit 0d15589edbaa0b18beb39ea48f6262922a2b7d20
Author: William Budington <bill@eff.org>
Date:   Sat Oct 12 18:29:01 2013 -0700

    stylized regenerate form

commit a607e9f4c68a3253e486f056a0a7490858e3ee84
Author: William Budington <bill@eff.org>
Date:   Sat Oct 12 18:28:28 2013 -0700

    /generate/ is now a GET endpoint, which POST refers to when provided with # of words.  added endpoint /create/ to create docstore. added form to regenerate codes

commit bf38247c57e46bc595659da2d4fa7692badbfe3e
Author: William Budington <bill@eff.org>
Date:   Sun Oct 6 18:38:37 2013 -0700

    regenerate code link

commit 3cbda85b6cd7c8f640410bae8fb0c7673fca183a
Author: William Budington <bill@eff.org>
Date:   Sun Oct 6 18:18:21 2013 -0700

    fixing indentation for gen_ajax

commit 5cf57f27c437a69661fa6483ab96fc590a0560d5
Author: William Budington <bill@eff.org>
Date:   Sun Oct 6 16:20:47 2013 -0700

    adding ui.js

commit f92f646f3089eed0e852f193f366b8d2ce2fa70e
Author: William Budington <bill@eff.org>
Date:   Sun Oct 6 16:01:00 2013 -0700

    adding jquery

commit d9f969f8e111b998f8e1d20da05e3185a074636d
Author: William Budington <bill@eff.org>
Date:   Sun Oct 6 15:27:34 2013 -0700

    adding json password gen endpoint

commit 24f9d20c9680b8cc9ad030de0affd4d30cf174da
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Sat Oct 12 12:46:17 2013 -0700

    Skeletal test harness
    
    To run, `./test.py`
    
    The test harness sets an environment variable before importing config.py, which
    tells config to use a "test environment" (store dir, key dir, and journalist
    key) instead of the production environment.
    
    I created a journalist keypair and included it in the repo for testing.
    Generating a GPG keypair can be very time-consuming, and we want to be able to
    run tests as fast as possible. The keypair is clearly marked so it is not used
    by anyone for anything besides testing this application.

commit a64fd2f40f4db8acc110fe23434dc029877325e1
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 23:48:33 2013 -0700

    started the user manual

commit 8ba05a81111935bfeeda50b37379d5cb12a57795
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 23:38:00 2013 -0700

    updating to isis's gnupg module

commit 6d092dbde7bcb120c8c6b6a5b133e7eaa3dfcbdd
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 23:15:45 2013 -0700

    improve server installation docs

commit 12b52b05c1a0fcb261600d64304464e8a1868093
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 23:15:26 2013 -0700

    add SMTP server requirement to readme

commit 4dab0ab79911c4867828b5c8876eb4555dbc6fbc
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 23:15:08 2013 -0700

    more server_setup.sh wording fixes

commit 2bd032eab005c03d5462ddc019c71ed444946d90
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 22:30:44 2013 -0700

    fixed lots of wording in step 2 of server_setup.sh

commit 4c601012764de685b8e194aa73a61d5dfaa27293
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 22:01:42 2013 -0700

    update ossec-binary url (#42), and make grsec step optional in server_setup.sh

commit 3de58cdbfed762a06b63707f245b21211eb46241
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 21:55:51 2013 -0700

    renamed PGP key to securedrop.asc, and updated user interface in server_setup.sh

commit c9a311d56538700eec6a92e495e1b71edaf66433
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 21:55:18 2013 -0700

    removed grsec instructions, they are too complicated for us to maintain

commit e398e69dcee6d87fa8822646189afc67cec7c6f2
Merge: b7a3d5f6 9dec8f99
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 21:29:47 2013 -0700

    Merge branch 'installScripts' of github.com:freedomofpress/securedrop-old
    
    Conflicts:
            viewing_setup.sh

commit b7a3d5f6ef2646da73ddd2bc7fe6ba42cb38338a
Merge: a4767b86 14e80a7c
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 20:59:57 2013 -0700

    Merge branch 'master' of github.com:micahflee/securedrop

commit a4767b8666cdf0565d90c3bd3db185f23100d4e5
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Fri Oct 11 20:59:26 2013 -0700

    updating viewing station instructions

commit 9dec8f99be896f60b40a69a0d7152a11bd17f96e
Author: dolanjs <dolanjs@gmail.com>
Date:   Sat Oct 12 03:47:57 2013 +0000

    changed file dir per micah

commit 14e80a7cd09388849457f8beba5e67bab48b1570
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Oct 12 03:46:13 2013 +0000

    save PGP public key to securedrop.asc instead of secure_drop.asc

commit 3a41bdc871b74292475fe56e225564435dbe8d0e
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Oct 12 03:40:56 2013 +0000

    viewing_setup.sh wasn't successfully saving secure_drop.asc

commit e786a6a827423580198fd4af5deb0391ccc99492
Author: dolanjs <dolanjs@gmail.com>
Date:   Sat Oct 12 03:34:57 2013 +0000

    uncommented puppet install and commented out authd until work out bugs

commit 2a968fd13e9c65a855cf77abd7a6db7916a06c2c
Merge: 6dc1de17 037ff69e
Author: Micah Lee <micah@pressfreedomfoundation.org>
Date:   Sat Oct 12 03:29:34 2013 +0000

    Merge branch 'installScripts' of github.com:freedomofpress/securedrop-old

commit 037ff69e013a2562f75f947fc455d07bfda65d7c
Author: dolanjs <dolanjs@gmail.com>
Date:   Sat Oct 12 03:25:50 2013 +0000

    changed veiwing station script to use deafult gnupg dir and output secure_drop.asc to Persistent dir

commit 6dc1de1788664fdb186139014b26d2061bc83273
Merge: c51c70e7 8e42aae8
Author: Micah Lee <micah@micahflee.com>
Date:   Fri Oct 11 19:43:47 2013 -0700

    Merge branch 'installScripts' of github.com:freedomofpress/securedrop-old
    
    Conflicts:
            modules/deaddrop/files/deaddrop/journalist.py

commit c51c70e737d80f77c67f7f6b0c5c0e5cb26b14fb
Author: Micah Lee <micah@micahflee.com>
Date:   Fri Oct 11 19:40:31 2013 -0700

    beginning to update and fix installation instructions for viewing station

commit 8e42aae873264306f2fcacc136c0ad754b75f2f3
Author: dolanjs <dolanjs@gmail.com>
Date:   Sat Oct 12 01:42:11 2013 +0000

    regex fixes from securedrop that garrett submitted

commit 5b59e8c51f92563d2deb7a2597df3d91a43555cc
Author: dolanjs <dolanjs@gmail.com>
Date:   Sat Oct 12 01:31:09 2013 +0000

    switched back to pip install gnupg isis' lib

commit 3fa4723d765f1bf885d0ad1ebdaac7a00605c24a
Author: dolanjs <dolanjs@gmail.com>
Date:   Fri Oct 11 22:23:36 2013 +0000

    added python script to gen bcrypt salt

commit 79ae3d6729e3f53821d437a613485490b21f4fe3
Author: dolanjs <dolanjs@gmail.com>
Date:   Fri Oct 11 21:57:30 2013 +0000

    display tor urls at end of running puppet manifests

commit 1d0704c38062fb226e2092ad58c4078735fc926e
Author: dolanjs <dolanjs@gmail.com>
Date:   Fri Oct 11 14:22:51 2013 -0700

    Update crypto.py

commit bb5f0fc31df214be77153ce5ddce0033f4de8431
Author: root <root@ip-10-38-143-65.ec2.internal>
Date:   Fri Oct 11 20:21:51 2013 +0000

    removed ca_openssl.cnf since it is not needed anymore

commit 0205058e2aae3b4b3c3cd7edc1620dfd3761ffc3
Author: dolanjs <dolanjs@gmail.com>
Date:   Fri Oct 11 20:02:04 2013 +0000

    switch it back to python-gnupg as directed

commit 36983d162df89e3c9019e9b6399ac4faa47b8645
Author: root <root@ip-10-112-89-144.ec2.internal>
Date:   Fri Oct 11 19:43:56 2013 +0000

    removed old firewalls for document server and updated apache ports file on the doc server

commit ec7ecc45ba848f18e5113d311c7ee6a707f335c3
Author: root <root@ip-10-112-89-144.ec2.internal>
Date:   Fri Oct 11 19:14:03 2013 +0000

    changed install scripts directions to reflect new name for journalist server and the application gpg name to secure_drop.asc

commit ac49b63719320ae1fad132e0ef4cfbf6e9d5c508
Author: dolanjs <dolanjs@gmailc.om>
Date:   Fri Oct 11 17:43:59 2013 +0000

    removed unneeded apache ssl vhost config files and to non-ssl vhost template document server logging
    (for the source server logging is still set to /dev/null)

commit 4ee44bbf956123ad4f75ed2071d5e78c1b106b23
Author: dolanjs <dolanjs@gmailc.om>
Date:   Fri Oct 11 17:39:38 2013 +0000

    replaced document server puppet module to use tor hidden service config

commit d02bd95cec9af4c4348db799aab9fbda623a7029
Author: dolanjs <dolanjs@gmailc.om>
Date:   Fri Oct 11 17:26:19 2013 +0000

    changed torrc template so document server will use tor hidden service auth

commit 99bbb1467018ac128d0111778a873673a2132851
Merge: 3d20d825 78f85600
Author: Micah Lee <micah@micahflee.com>
Date:   Thu Oct 10 21:06:12 2013 -0700

    Merge branch 'old-installScripts'

commit 3d20d825cfb9e3a55b244203247b30c9fd2796ba
Author: Micah Lee <micah@micahflee.com>
Date:   Thu Oct 10 21:05:59 2013 -0700

    Revert "made filenames snakecase instead of camelcase"
    
    This reverts commit f85fbec9583f0cd1a22e73d99912e75a69ce2141.

commit 78f85600b99df619b6375c5787da5f17f7071b5c
Merge: 780ab447 84563e54
Author: dolanjs <dolanjs@gmailc.om>
Date:   Fri Oct 11 03:46:17 2013 +0000

    Merge branch 'installScripts' of https://github.com/freedomofpress/securedrop-old into installScripts

commit 780ab447eef3ad6830a92e3d501e4cad67bb6126
Author: dolanjs <dolanjs@gmailc.om>
Date:   Fri Oct 11 03:45:23 2013 +0000

    fixed file names removed opsec fail

commit 84563e54e4796b8aa132a0d494308a266a3398db
Author: root <root@ip-10-144-84-203.ec2.internal>
Date:   Fri Oct 11 03:41:00 2013 +0000

    fixed file names removed opsec fail

commit 5032d6212a25c9d05c7c005e1e718fa81155407f
Merge: f85fbec9 976e4bdb
Author: Micah Lee <micah@micahflee.com>
Date:   Thu Oct 10 20:36:29 2013 -0700

    Merge pull request #53 from garrettr/fix-journalist-submission-links-404
    
    Fix regexes for submissions and downloads

commit 976e4bdb97240eb6ea9516bb5760142f57bfacf9
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Thu Oct 10 19:01:33 2013 -0700

    Fix regexes for submissions and downloads
    
    Switching to b32 encoding (part of the bcrypt changes) broke these links, which
    expected b16.
    
    Fixes #52.

commit f85fbec9583f0cd1a22e73d99912e75a69ce2141
Author: Micah Lee <micah@micahflee.com>
Date:   Thu Oct 10 11:03:49 2013 -0700

    made filenames snakecase instead of camelcase

commit bc002751dac3c1060fce5c4ddc9bd906063c7a25
Merge: f7d8dd30 cd8e636f
Author: Micah Lee <micah@micahflee.com>
Date:   Thu Oct 10 10:29:55 2013 -0700

    Merge branch 'old-master'

commit f7d8dd30abe6716813b39967801f3c7eb12d91bc
Author: Micah Lee <micah@micahflee.com>
Date:   Thu Oct 10 09:12:46 2013 -0700

    removing non-license stuff from the license

commit e7e33e34b035a8bc95a5b53c10b8883acbcc5f62
Merge: de9f8f67 ea01efc9
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Oct 9 21:54:53 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit de9f8f6725020234ccbc92b1fa8c61027f1555fd
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Oct 9 21:54:44 2013 -0700

    give diceware attribution to satisfy CC-BY (fixes #49)

commit ea01efc9725b364b42b3c5a2d95b9ef865673f2b
Merge: 16fd62d3 e42709f7
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Oct 9 21:45:41 2013 -0700

    Merge pull request #50 from garrettr/show-version
    
    Add version info to footer of source pages

commit e42709f704668a9a9c8fec657b70af24f0d3fa92
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Wed Oct 9 20:35:53 2013 -0700

    Add version info to footer of source pages

commit 16fd62d3640041695e49da165314e8e7611452bc
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Oct 9 14:18:46 2013 -0700

    also need to update the verify filename

commit ea8669302a08a4156102d4150763751386af1579
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Oct 9 14:17:25 2013 -0700

    new grsec patch URLs

commit dd1bf6a012958e78885e963ef45d61eba433d387
Merge: 187803ed da8784fa
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Oct 9 11:44:12 2013 -0700

    Merge pull request #48 from garrettr/fix-python-gnupg-parameters
    
    Fix parameters to gnupg.GPG()

commit da8784fa1f962d88171d51aa7387cd092ef49e89
Author: Garrett Robinson <garrettr@riseup.net>
Date:   Wed Oct 9 11:34:51 2013 -0700

    Fix parameters to gnupg.GPG()
    
    This code originally used the gnupg Python library [1]. The installation
    instructions were recently updated to recommned the use of the python-gnupg
    library [2] instead. This code was forked from gnupg, but has a slightly
    different interface, so the code was broken after the update.
    
    [1] https://pypi.python.org/pypi/gnupg/1.2.3
    [2] https://pypi.python.org/pypi/python-gnupg/0.3.5

commit 187803ed19bb6da8fd0121fb07da2efd329fc132
Author: Micah Lee <micah@micahflee.com>
Date:   Wed Oct 9 10:54:42 2013 -0700

    added grsec docs

commit cd8e636fbb10617a1300ca76c4255be651182ea0
Author: dolanjs <dolanjs@gmail.com>
Date:   Wed Oct 9 10:35:51 2013 -0700

    Updated hackme to instruct people to use pip install gnupg
    
    Updated hackme to instruct people to use pip install gnupg instead of pip install python-gnupg

commit 38d0148967d7f8b242f4957cd24392abad7bb5ed
Author: dolanjs <dolanjs@gmail.com>
Date:   Wed Oct 9 13:32:37 2013 +0000

    bcrypt stuff

commit e83d81ba6af23b8cc034478e80f6c4745e1d859b
Author: dolanjs <dolanjs@gmail.com>
Date:   Wed Oct 9 12:30:38 2013 +0000

    change install script to install 'pip install gnupg' instead of 'pip install python-gnupg'

commit 43ac5afb6c46c5717ea72cc7c7d762996cdd1b7f
Author: dolanjs <dolanjs@gmail.com>
Date:   Wed Oct 9 12:17:45 2013 +0000

    adding bcrypt fix

commit 4c844a5ed2e08be706f691981dda6e72a22b143c
Author: root <root@ip-10-179-54-5.ec2.internal>
Date:   Wed Oct 9 11:52:52 2013 +0000

    alot

commit 1d9eaccdbf0cd850031eb78bce7be565e6b5dafa
Author: root <dolanjs@gmail.com>
Date:   Tue Oct 8 22:18:45 2013 -0700

    added displaying the gpg public key fingerprint

commit d7400a8bc2b7daf7b036d8fea0bfcc3c70cd8c53
Author: root <dolanjs@gmail.com>
Date:   Tue Oct 8 21:54:03 2013 -0700

    update comments in serverSetup.sh script

commit d49565d296481caa08f08f7407560d2d798a70b0
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Oct 8 21:24:00 2013 -0700

    linked readme to the install guide

commit c943ee4bc939791c6f3e98f1eeee7303530d1126
Author: Micah Lee <micah@micahflee.com>
Date:   Tue Oct 8 21:14:26 2013 -0700

    fixed readme

commit e843653daf449c0e0162bdebfca1a964d79fb313
Merge: f9ef19dd 45a7860b
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 18:51:43 2013 -0700

    Merge branch 'journalist-interface' of https://github.com/freedomofpress/deaddrop into journalist-interface

commit f9ef19dda17c7f9099d54426392c967d5a7452ad
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 18:48:19 2013 -0700

    Move the svs interface into the module folder

commit 610cd09ff27c7206ef1e56e76e7d6d468a0a3add
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 18:46:20 2013 -0700

    Add better comments

commit e21be78442d8662804709c57d1c55d0ca5f8cb1f
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 18:42:11 2013 -0700

    Change basedir to be inside home

commit 009ceef2a5fb818ef3ea653279808b32051483ee
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 18:22:09 2013 -0700

    Remove non-error message popups

commit 35000975f7faaa3580b2708621d84f41fed81480
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 15:02:37 2013 -0700

    Put files in /tmp for now

commit 39fda8b591cccbe278458ed2bbb57f3989c63b53
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 14:51:33 2013 -0700

    Escape unsafe chars in GPG output

commit 77682a1d4a817a08d00fc41136f9d3d08be4eccc
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 14:12:17 2013 -0700

    GPG stderr is not valid markup

commit 9d87fe6443678e0d4918e9a2cff0a5701266b3f9
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 14:03:10 2013 -0700

    Add file chooser

commit 726bf5e5a60cff4c9e470acd0b9f4e8917163aa2
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 13:11:44 2013 -0700

    Add text entry dialogs

commit ecfcc41e46e89f81a75951adf4cb8b59462a40f3
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 12:53:25 2013 -0700

    Test and fix dialog boxes so they close

commit faf6aa2bce6c3c0a114480c869b24a91000d1166
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 12:29:46 2013 -0700

    Start switching from tkinter to pygtk

commit 53647b531625c6772902b87e18f71009c33ea773
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 12:34:23 2013 -0700

    Clean up, add comments

commit 9b265049999cffca755097ea6431780517ed6788
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 12:28:41 2013 -0700

    Add scrollbar

commit 910452b3edae4002f7e337c25f2bdee6b29e0694
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 12:16:58 2013 -0700

    Change subprocess.call to subprocess.Popen

commit 40baf351bb4a6e664bb6d944deb3043762920432
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 11:18:12 2013 -0700

    minor UI improvements

commit 2c37dd895b2e836625df5a495e3848a1758d10a8
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 11:12:58 2013 -0700

    improvements to text

commit 79dca8ac7fef2917540097df00558c706daca59a
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 10:31:46 2013 -0700

    Add dialog for getting recipients for encryption

commit 6b26ece284d65ee5c8a744ee71099744af499dd6
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 10:17:55 2013 -0700

    Avoid global namespace pollution

commit 2f08b8f65bfb0c128451e8f5dadc7683fed1d178
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 09:58:42 2013 -0700

    Typo

commit 5371813279e821488f5e5f7669144078041477c8
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 09:42:02 2013 -0700

    Fix bugs in directory naming

commit 04872cafb5c2145db4e43a38be6d3f0c7385e480
Author: Yan <yan@mit.edu>
Date:   Sun Oct 6 19:14:35 2013 -0700

    Add batch encrypt/decrypt methods (untested)

commit 7a901a8edd850dc5e2e75c89362444768722592c
Author: Yan <yan@mit.edu>
Date:   Sun Oct 6 18:05:19 2013 -0700

    Add method to encrypt files

commit cac279b3b26ff65d5672273f9050b1b79796be86
Author: Yan <yan@mit.edu>
Date:   Sun Oct 6 17:37:55 2013 -0700

    Start writing SVS interface for GPG operations

commit 45a7860b6dbe4787063b4c67accd1b1d5ae1523c
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 18:48:19 2013 -0700

    Move the svs interface into the module folder

commit ffdb7d8fbd55d20bd91f33ccc5c6105f0a44d57e
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 18:46:20 2013 -0700

    Add better comments

commit 47aa123f71b70c3693b85cc8d069085da1f93173
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 18:42:11 2013 -0700

    Change basedir to be inside home

commit 564161668dc8cc570c79e504de2c454dcc481087
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 18:22:09 2013 -0700

    Remove non-error message popups

commit beedda7b00a9dd31ef2df550339924a5a82e41cf
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 15:02:37 2013 -0700

    Put files in /tmp for now

commit bc81dba3e7893a55acee46742e8594234e014015
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 14:51:33 2013 -0700

    Escape unsafe chars in GPG output

commit 0805ef789288b49aab19fcf910baaade689550ca
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 14:12:17 2013 -0700

    GPG stderr is not valid markup

commit 63934a315d8a216a071d627c130c8c36b0999305
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 14:03:10 2013 -0700

    Add file chooser

commit 55d195fe7107ab3d1341801626ca03126951d2f0
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 13:11:44 2013 -0700

    Add text entry dialogs

commit fab491233bb1ddd45b1635aa3235adfcbd2cc75c
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 12:53:25 2013 -0700

    Test and fix dialog boxes so they close

commit 7f91a023687f230a597f0f0ba570ebba326dbf90
Author: Yan <yan@mit.edu>
Date:   Tue Oct 8 12:29:46 2013 -0700

    Start switching from tkinter to pygtk

commit bf037a0e35afce065307aafd47f4400b28c11252
Author: James <dolanjs@gmail.com>
Date:   Mon Oct 7 23:26:21 2013 -0700

    changed to serverInstall.sh and viewingInstall.sh to serverSetup.sh
    viewingSetup.sh

commit 14d6314c1836efc1c94358491b546ccf99948c2f
Author: root <dolanjs@gmail.com>
Date:   Mon Oct 7 23:15:27 2013 -0700

    added generating gpg keypair for the application

commit 2bde5a9258ee38e108e26908eac74d3524041d4c
Author: James <dolanjs@gmail.com>
Date:   Mon Oct 7 20:55:56 2013 -0700

    changed script names to reflect new host names

commit 237b5c9cc60ed88a31b4d99b350175663137e258
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Oct 7 18:36:33 2013 -0700

    added logo and announcement teaser

commit 3c2be99a01cb74ba6a5c0caabb8645172b4371d0
Author: Micah Lee <micah@micahflee.com>
Date:   Mon Oct 7 18:35:23 2013 -0700

    updating image url in docs

commit ec0bc3c5b35acdf63025470c91a635ed1849ae87
Author: William Budington <bill@eff.org>
Date:   Mon Oct 7 14:02:46 2013 -0700

    reducing # of words from 10 to 8 by default - 129 to 103 bits of entropy, but more memorable

commit 238a70f48ff9454772078bb116ca836ffc53f0f6
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 12:34:23 2013 -0700

    Clean up, add comments

commit 2274ee185577321b185501086fd3359925e508ea
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 12:28:41 2013 -0700

    Add scrollbar

commit d315cf85fd23df8eba46331bb0e3f93cdc7b40af
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 12:16:58 2013 -0700

    Change subprocess.call to subprocess.Popen

commit bcc048ef5ec1b230bec5e8127cbbc300276b4273
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Mon Oct 7 11:27:19 2013 -0700

    added labels to USB drives

commit 2a04f2b606a07da64eb6b26622d7994b8af02601
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 11:18:12 2013 -0700

    minor UI improvements

commit 096fe3756e113ce1c33614c56bb3c38c9a1a4b9f
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 11:12:58 2013 -0700

    improvements to text

commit 084d610ce63b147c79d6f2b3dbd9561d2bcabb66
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 10:31:46 2013 -0700

    Add dialog for getting recipients for encryption

commit 6f919b03e2fd44c86246fe8e068de837c74e4d66
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 10:17:55 2013 -0700

    Avoid global namespace pollution

commit 4acb7bae8f6e356b5d9f23264c8a283a6a4f58b5
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 09:58:42 2013 -0700

    Typo

commit 00ec4db37116023126e4d9c7ad6b59f2a3232a7a
Author: Yan <yan@mit.edu>
Date:   Mon Oct 7 09:42:02 2013 -0700

    Fix bugs in directory naming

commit 7ffa2d65f1de05b12bbe18c73cdf58bf5f775344
Merge: d1405df2 8e97e7ca
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Mon Oct 7 00:09:31 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit d1405df2a25de74be890a35259ba9636c49cbde5
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Mon Oct 7 00:09:15 2013 -0700

    added ascii server diagram

commit 8e97e7ca29c188f6b4d6d2027c218818068dd823
Author: William Budington <bill@eff.org>
Date:   Sun Oct 6 20:03:31 2013 -0700

    fixup

commit ec584c8408b49b2d72f94671c06b125a6747d069
Author: William Budington <bill@eff.org>
Date:   Sun Oct 6 20:00:27 2013 -0700

    fixing indentation for css

commit ce5d528d1738298054f8a152eca186192c3b0369
Author: Yan <yan@mit.edu>
Date:   Sun Oct 6 19:14:35 2013 -0700

    Add batch encrypt/decrypt methods (untested)

commit e5380654b79e5912dcc6826a1a1fba94def0bef4
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sun Oct 6 18:39:17 2013 -0700

    changed heading

commit fc02367e1918f065fa53810d217b4ac07139296b
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sun Oct 6 18:37:47 2013 -0700

    rename Viewing Station, scripts

commit 47ab258ce90e702c58a8ad2d793b2d545a9fd8b0
Merge: 35e1c057 f984c429
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sun Oct 6 18:24:46 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit 35e1c0570a9f46adb3e17cfe36a08ba6b9e6e3f1
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sun Oct 6 18:24:37 2013 -0700

    lots of install updates

commit 7492133cbf46c2bfcf07b18d4d68de896c9eac69
Author: Yan <yan@mit.edu>
Date:   Sun Oct 6 18:05:19 2013 -0700

    Add method to encrypt files

commit f984c429c157745cafb6c92fcf5c55f402269b2d
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Oct 6 18:02:12 2013 -0700

    fixed image in ubuntu config

commit 4ba59c293bb02935e3a8e49ecaf4600101f01d90
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Oct 6 18:00:30 2013 -0700

    update ubuntu config, and testing relative image link

commit 9765ed77067008ce38771a41983d18d1110bb446
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Oct 6 17:53:50 2013 -0700

    add ubuntu server image

commit 2ce2c1bce563b5b3c41a6d6ac0674ce5e3d56c0d
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Oct 6 17:50:07 2013 -0700

    added back ubuntu config

commit aeec5d0e8da3ec77852685bc93edd7932fbfdad4
Merge: 70c2d6ab d9588839
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Oct 6 17:48:53 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop
    
    Conflicts:
            docs/grsec.md

commit 70c2d6abc214528d74552471a1ce712f2854b247
Author: Micah Lee <micah@micahflee.com>
Date:   Sun Oct 6 17:47:05 2013 -0700

    wrote draft of ubuntu server config docs

commit f017dd14ae8db7b05f618856830f972af90a88d5
Author: Yan <yan@mit.edu>
Date:   Sun Oct 6 17:37:55 2013 -0700

    Start writing SVS interface for GPG operations

commit d9588839194fe2ab05f081993d3490f32f133e75
Author: William Budington <bill@eff.org>
Date:   Sun Oct 6 17:37:43 2013 -0700

    fixing indentation of generate.html

commit f043de97ad1454dacca22f369b918cd51f517818
Author: William Budington <bill@eff.org>
Date:   Sun Oct 6 17:03:09 2013 -0700

    fixing bug with directories introduced by moving to bcrypt

commit 1d5f9958208486b9dcef04eaf0410bf67715cb29
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Sun Oct 6 16:56:29 2013 -0700

    comment out a section

commit 5d7b89bde8905d181c6bbf12708f131f902e292a
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Sun Oct 6 16:51:45 2013 -0700

    add another subheader

commit 6f52f8d6bd11dbf7ea25ca3f4e9c8230e739f11e
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Sun Oct 6 16:36:54 2013 -0700

    set up skeleton of the documentation

commit 68d4d30a0d41c71c1934cdcdfcb4d9fa97675f59
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sun Oct 6 16:23:51 2013 -0700

    fixed em dashes

commit 33c6c04b911481651dbf17d32ba46dec0b606513
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sun Oct 6 16:22:17 2013 -0700

    moving install instructions to separate install doc

commit a81b2d1282aadc82f705937ce035e0ae6003d33d
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sun Oct 6 16:01:05 2013 -0700

    created initial grsec.md file

commit 78cc9e7d186358b28cc0c8d9efc24ab7bb871d32
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sun Oct 6 15:59:23 2013 -0700

    Created docs folder

commit 570706aa7931c2c6a707c1f34c5e49347205fced
Merge: 026283fa 8e0288a0
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sun Oct 6 15:49:51 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit 026283fab88c23eab9b143041ddd7765113d672e
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sun Oct 6 15:49:24 2013 -0700

    readme changes: adding 'before you begin' section, prepping grsec and server config for moving out

commit 8e0288a0f6e012837f4ebe284c808892de9d0c85
Author: William Budington <bill@eff.org>
Date:   Sun Oct 6 15:42:02 2013 -0700

    fixing indentation on html

commit 4da69f7e0ab6c77f5fb01a9f9eb6b4322232e1fc
Author: William Budington <bill@eff.org>
Date:   Sun Oct 6 15:34:15 2013 -0700

    fixing indentation on source.py

commit a5556d30d4cdd6a7b764987353dd7be8543c5a12
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Sun Oct 6 15:23:11 2013 -0700

    more typo fixes

commit cad9945753165e99ec5f626a0b6037c47894f990
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Sun Oct 6 15:02:14 2013 -0700

    tiny typo fix

commit 1f3b3b778b7c69c20572e139ad2c47273f65aeb1
Author: John Shutt <john.d.shutt@gmail.com>
Date:   Sun Oct 6 13:56:56 2013 -0700

    typo fix

commit 2049554a659ad72517a7321ea0fb9b818a4a42aa
Author: cooperq <cooper@radicaldesigns.org>
Date:   Sun Oct 6 12:22:52 2013 -0700

    adding top level symlink to deaddrop module

commit 55c61e52c4ed056006cf8d599d48af846a787020
Author: cooperq <cooper@radicaldesigns.org>
Date:   Sun Oct 6 12:00:44 2013 -0700

    removing install directory that got re added again

commit cc768862a31616b69213c96b468259c38f877d7b
Author: William Budington <bill@eff.org>
Date:   Sat Oct 5 18:52:52 2013 -0700

    adding pycrypto requirement

commit 6e530942906e543b366dc550eddf401ca87f998d
Author: William Budington <bill@eff.org>
Date:   Sat Oct 5 18:42:47 2013 -0700

    adding back random library where it's okay to have deterministically generated id (journalist interface)

commit 64eec9b5dadbf479baf14e8a47080fedc3b9fed4
Author: Parker Higgins <parkerhiggins@gmail.com>
Date:   Sat Oct 5 18:35:26 2013 -0700

    reorder installation steps

commit 416f131dafa2ac37ed1150da43b905a78a46c26f
Merge: 8f475185 54cd5e49
Author: Micah Lee <micah@micahflee.com>
Date:   Sat Oct 5 18:31:58 2013 -0700

    Merge branch 'master' of github.com:freedomofpress/securedrop

commit 8f475185a760c621a805a30a4e39934d62592882
Author: Micah Lee <micah@micahflee.com>
Date:   Sat Oct 5 18:31:51 2013 -0700

    Finished draft of Viewing Station Installation instructions

commit 54cd5e49e56808c2b84ee32c94ad309fee1e1dc4
Author: William Budington <bill@eff.org>
Date:   Sat Oct 5 18:11:22 2013 -0700

    changing default words in id from 4 to 10, and changing wordlist from 128879 words to the diceware (7776 words).  this changes bits of entropy from 68 to 129. also replacing random with Crypto.random.random

commit 109b104f6f101a0eff6627b80635c579c9a9ebae
Merge: ab76664a 9280fc5a
Author: Yan <yan@mit.edu>
Date:   Sat Oct 5 17:58:53 2013 -0700

    Merge remote-tracking branch 'origin/master'

commit ab76664a97d8a84df37f96845a39103243422c11
Author: Yan <yan@mit.edu>
Date:   Sat Oct 5 17:58:02 2013 -0700

    Rewrite crypto tests so they pass

commit 9280fc5af71ee2ffd70fa7bf33cd700698be43be
Author: William Budington <bill@eff.org>
Date:   Sat Oct 5 17:41:53 2013 -0700

    changing arguments to gnupg for updated gnupg library

commit fb099d0270cc3e9858fe0ff296b61c260897c204
Merge: 87b659ad 96571dfa
Author: Yan <yan@mit.edu>
Date:   Sat Oct 5 17:25:57 2013 -0700

    Merge branch 'master' of https://github.com/freedomofpress/deaddrop

commit 87b659ad0fe4932161939ffc437f9e09549b302a
Author: Yan <yan@mit.edu>
Date:   Sat Oct 5 17:21:02 2013 -0700

    Update shash test after adding BCRYPT_SALT

commit d5ccca1b6285fd21bba8f69a4585f17b5f8f92cd
Author: Yan <yan@mit.edu>
Date:   Sat Oct 5 17:16:40 2013 -0700

    Add BCRYPT_SALT

commit 96571dfa05a7a034198294e803df239c7d69c01f
Author: William Budington <bill@eff.org>
Date:   Sat Oct 5 17:12:06 2013 -0700

    adding .swp to gitignore

commit 45774ad72cb346e7ed9a8f3e226bcde48bd39210
Author: Micah Lee <micah@micahflee.com>
Date:   Sat Oct 5 17:07:51 2013 -0700

    moved deaddropEnvironment files into deaddrop

commit 6b7ae97cf22209ad1c2a9fd222ba93d0560eaa19
Author: cooperq <cooper@radicaldesigns.org>
Date:   Sat Oct 5 16:38:47 2013 -0700

    removing test file

commit ded510a5093e7210bdf84eb25cbca66c8fc3a5d3
Merge: a25de97b 94951c44
Author: Yan <yan@mit.edu>
Date:   Sat Oct 5 16:31:31 2013 -0700

    Merge branch 'reorganize' of https://github.com/freedomofpress/deaddrop into reorganize

commit 94951c44766fbe0c5dcbb2aec8dd36be5430742f
Author: cooperq <cooper@radicaldesigns.org>
Date:   Sat Oct 5 16:30:40 2013 -0700

    switching hash function to bcrypt

commit a25de97b34d04048a4ba851f979fc28c3d0e308a
Author: Yan <yan@mit.edu>
Date:   Sat Oct 5 16:21:14 2013 -0700

    Add bcrypt dependency

commit e58040e47201600d75d5902218209ab056198d18
Author: cooperq <cooper@radicaldesigns.org>
Date:   Sat Oct 5 16:16:12 2013 -0700

    moving hacking file

commit 29aac3c1da67fa341c16db009e85adc6af205681
Author: cooperq <cooper@radicaldesigns.org>
Date:   Sat Oct 5 16:06:19 2013 -0700

    reorganizing files from messy import

commit 873bb13645778f1f0b9cf461e9ef3f80e97d3454
Author: cooperq <cooper@radicaldesigns.org>
Date:   Sat Oct 5 16:05:33 2013 -0700

    reorganizing files from messy import

commit 4e4be8ea699d0164484475541926c2c8d8d1b78f
Author: Yan <yan@mit.edu>
Date:   Sat Oct 5 15:40:03 2013 -0700

    Add gnupg2 dependency

commit 6ebd21c79889c560ef32b0eeec2860bd5af8ccb4
Author: Micah Lee <micah@micahflee.com>
Date:   Sat Oct 5 13:25:07 2013 -0700

    copied deaddrop installation environment into this repo

commit a5727a9afb35718ddfb7df0f37521795ccf973c9
Merge: 97593620 daedff21
Author: Kevin Poulsen <klp@hacknet.com>
Date:   Sun Jun 2 08:34:13 2013 -0700

    Merge pull request #24 from apetro/patch-1
    
    close Roswell example quote in README.md

commit daedff21c1ccf2094255ee65087e860416dcc5fe
Author: Andrew Petro <apetro@unicon.net>
Date:   Sun Jun 2 06:53:59 2013 -0700

    close Roswell example quote in README.md
    
    Trivial edit to close an example quotation of a hypothetical journalist communication to a StrongBox contact.

commit 975936205a8cf40c05eb6c464e4dfea9e5d8c1a8
Merge: d0a36c1d f271c71d
Author: bitsteak <anonymous@bitsteak.com>
Date:   Mon May 27 20:21:54 2013 -0700

    Merge pull request #23 from zeroday/genwordlist
    
    Changed to use EOWL, added usage information with unzip instructions and...

commit f271c71dbfc488f6a210975d39e5d6a7dbbf325f
Author: Oliver Day <oliver.day@gmail.com>
Date:   Mon May 27 20:06:36 2013 -0400

    Changed to use EOWL, added usage information with unzip instructions and removed function to strip out apostrophe s and removed the now unused web module

commit d0a36c1dd6d9808b98c2e4dd5aa6ba0c5d5e5a0c
Author: bitsteak <anonymous@bitsteak.com>
Date:   Sun May 19 20:11:44 2013 -0400

    Closes #21

commit 5e7a604c15fdd0c465985316d5f3857c8ffb92a7
Author: bitsteak <anonymous@bitsteak.com>
Date:   Sun May 19 19:35:46 2013 -0300

    Add README with text from deaddrop.github.io

commit 74b2dcff0c021cd66fba67efa93539e103b2f78c
Author: bitsteak <anonymous@bitsteak.com>
Date:   Thu May 16 18:07:44 2013 -0400

    fix for issue 17

commit e127cb10f0c831696cb3670794e483cef8ed60ed
Author: bitsteak <anonymous@bitsteak.com>
Date:   Thu May 16 22:41:31 2013 -0400

    fix string formatting bug

commit 8193e70589d68bb36bc7866ba1eb259f97093af1
Merge: 4b1ace98 e34ad2eb
Author: bitsteak <anonymous@bitsteak.com>
Date:   Thu May 16 03:58:35 2013 -0700

    Merge pull request #9 from bpowers/master
    
    doc: basic HACKING doc + gitignore + example_config.py

commit e34ad2ebb5ae8c4efde79addb90044a4c98d59ab
Author: Bobby Powers <bobbypowers@gmail.com>
Date:   Wed May 15 23:22:15 2013 -0400

    store: verify(): be more helpful if config.STORE_DIR isn't absolute

commit 0ac8a0672f6fe8c988ea3383b0b60186cfb9aee3
Author: Bobby Powers <bobbypowers@gmail.com>
Date:   Wed May 15 23:20:53 2013 -0400

    doc: update HACKING to explain that dirs need to exist + be absolute

commit 5c9b3010b3399dc3dc05f4e5531dc35a262081f6
Author: Bobby Powers <bobbypowers@gmail.com>
Date:   Wed May 15 23:05:46 2013 -0400

    doc: basic HACKING file describing dev environment setup
    
    This addresses some of #8.

commit 4b1ace98aa9c2689cf3853c49306229d8e67cfbb
Merge: fe809de4 ba040f10
Author: bitsteak <anonymous@bitsteak.com>
Date:   Wed May 15 08:32:52 2013 -0700

    Merge pull request #6 from tswicegood/make-install-markdown
    
    Make install markdown

commit ba040f107347dac111c127536367d0c182de5263
Author: Travis Swicegood <development@domain51.com>
Date:   Wed May 15 10:22:00 2013 -0500

    Update filename

commit 3bbfbb69dc6622241ffa3b63f95239dd65c5b1a4
Author: Travis Swicegood <development@domain51.com>
Date:   Wed May 15 10:21:19 2013 -0500

    Update to use Markdown so its a real link

commit fcc1497d92be2632bb6b0678606dd7a40e8dc309
Author: Travis Swicegood <development@domain51.com>
Date:   Wed May 15 10:09:33 2013 -0500

    Rename .md so GitHub renders it

commit fe809de47989a8f7378576cdbf88f0ad382fe3f3
Author: bitsteak <anonymous@bitsteak.com>
Date:   Wed May 15 00:21:10 2013 -0400

    increase words in list to 4

commit f4c0541f3330ca7eca6ce91e67f00aeada63e85d
Author: Anonymous <anonymous@bitsteak.com>
Date:   Wed May 15 00:07:56 2013 -0400

    switch to the English Open Word List

commit 8f3c6a788d10e7add370003450b6f939ad64240a
Author: bitsteak <anonymous@bitsteak.com>
Date:   Tue May 14 16:20:31 2013 -0400

    disable http caching of responses

commit 333a8fc1d7928baa228186ae60708fd0f331dbc1
Author: bitsteak <anonymous@bitsteak.com>
Date:   Tue May 14 16:09:55 2013 -0400

    disable autocomplete everywhere

commit 3b86b94197661a07388c7ff09e9b801e9b73ddcc
Author: bitsteak <anonymous@bitsteak.com>
Date:   Tue May 14 16:01:39 2013 -0400

    disable debug mode

commit 8c6f939af0f1d6bf8c3ead25b8177d78a9ce8e29
Author: bitsteak <anonymous@bitsteak.com>
Date:   Tue May 14 16:00:55 2013 -0400

    remove unmapped url handlers

commit 50ff0b582e5026a9424f606e1f53d6a2a0d0e233
Author: bitsteak <anonymous@bitsteak.com>
Date:   Tue May 14 15:59:16 2013 -0400

    verify filenames

commit b7b2ea6ff88bdb2a35c4610b883e3f2076b919d1
Author: bitsteak <anonymous@bitsteak.com>
Date:   Tue May 14 15:58:44 2013 -0400

    include reply- in valid filenames

commit 92bf1899ff2d38fae4f2686f1b1e1927c3e379be
Author: bitsteak <anonymous@bitsteak.com>
Date:   Tue May 14 15:44:02 2013 -0400

    more stringent filename validation

commit 979003832949e3cbab29e5441894cefd2c6f1526
Author: Kevin Poulsen <klp@hacknet.com>
Date:   Tue May 14 13:48:44 2013 -0600

    Update INSTALL
    
    Replace bare-bones INSTALL with a pointer to DeadDropDocs

commit b32e1a5f22ff0a999aa9a69b5ea0c1d8872b336a
Author: Aaron Swartz <me@aaronsw.com>
Date:   Tue Jul 3 14:51:39 2012 -0400

    fix error in seeing if store already exists (tx secteam)

commit a1289fa887772357af97b735d45a8d44e720b827
Merge: a145092a e624af8e
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sun Jun 17 08:50:23 2012 -0400

    Merge branch 'master' of github.com:deaddrop/deaddrop

commit a145092a9873a8e4b2338a2632f4e6073a6e3665
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sun Jun 17 08:49:56 2012 -0400

    had msg and doc reversed (tx Kev)

commit e624af8e67f032ad14feaec4ad24811612865cd6
Author: klpwired <klp@wired.com>
Date:   Wed Jun 13 12:28:23 2012 -0700

    remove '--version' from srm check

commit 42bc563ff9ddeb3543ea2dd0bf8b55d8fee4c1b6
Merge: bb90d19c 73da09cf
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 22:04:26 2012 -0400

    merge

commit bb90d19c627eabeedfda4d2c941275f3dc284705
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 22:01:09 2012 -0400

    use better version of crypto fix

commit be544eec5a6e276410a0389d8af807b1e1e5ba5e
Author: Aaron Swartz <me@aaronsw.com>
Date:   Tue Apr 3 19:17:55 2012 -0400

    allow spaces in secrets (fix regression)

commit c6188303ca75c9dff2787c1b6c7d42becd7b0be8
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 21:58:02 2012 -0400

    have 404 link back to lookup
    close div in 404

commit 265de5590620462273a59702873e2f9433422777
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 21:55:28 2012 -0400

    remove second submit button

commit be49f5c8669aa1030a03aec6a6d4fc94eec306f3
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 21:53:45 2012 -0400

    include filename headers when downloading

commit 83ceaf82d6e14b3f449a84c09a888705e8ace9c6
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 21:53:36 2012 -0400

    fix bug with downloading files

commit 7b3f08b52ccdedd12f37848b190fde543bd4fa09
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 21:48:01 2012 -0400

    remove some blank lines

commit 09c61118f7ab528bd1d567341953920a84cd5c73
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 21:42:09 2012 -0400

    use _doc or _msg suffixes
    fix bug with received

commit e178b01b68d34b51356b07eb18535b3dc3a5571e
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 21:30:10 2012 -0400

    Use xkcd names on the collection page
    Remove trailing zeroes from timestamps

commit 412889390289c88ac3a5e9bd8d355b035b78aada
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 21:26:41 2012 -0400

    finish changing .enc to .gpg

commit 73b626a17b44b596ba208b3b1e878a3496d6dd1e
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 21:22:03 2012 -0400

    Remove trailing zeroes from timestamps

commit 1cfad180aaaaf4bcd7022bae2bd18888d2a0296d
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 21:17:18 2012 -0400

    store filename with encrypted file
    display filename in response to submission
    change .enc suffix to .gpg

commit 645c085f9e12949493e6081e7e774410b4db81a8
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jun 2 21:16:32 2012 -0400

    fix crasher bug in crypto

commit 325175c5a91f6f1e8e6b6a7a41e89702d1f1deec
Author: Aaron Swartz <me@aaronsw.com>
Date:   Tue Apr 17 19:19:50 2012 -0400

    use codenames for journalists

commit 95508a4633fa05027e7e95028449902172653502
Author: Aaron Swartz <me@aaronsw.com>
Date:   Thu Mar 15 07:28:47 2012 -0400

    use 3 words, add a custom notfound

commit 73da09cfe5802c9e8b60f5f0ffcbf6654406748d
Author: James Dolan <dolanjs@gmail.com>
Date:   Mon Mar 12 21:56:31 2012 -0400

    bugfix mod-wsgi support add variables for wordlist file and source journalist templates

commit 2637db92645917269f0c8ba9f63158d6024700b1
Author: Aaron Swartz <me@aaronsw.com>
Date:   Fri Mar 2 15:52:13 2012 -0500

    add a readme

commit af649635d4937207557972d5515f5ca2779782c7
Author: Aaron Swartz <me@aaronsw.com>
Date:   Fri Mar 2 15:49:05 2012 -0500

    add license

commit afe4128c8b827e32f090505bb8bfa4d96495db33
Author: Aaron Swartz <me@aaronsw.com>
Date:   Wed Feb 15 14:25:35 2012 -0500

    add support for mod_wsgi

commit 7de5f6b2a13561bdcc653b6def2349073cad99a2
Author: Aaron Swartz <me@aaronsw.com>
Date:   Wed Feb 15 14:24:27 2012 -0500

    some versions of srm return nonzero on version

commit b6dd573e90176717e73fd0892c7cea19aafefa38
Author: Aaron Swartz <me@aaronsw.com>
Date:   Tue Feb 14 07:23:11 2012 -0500

    forgot to hit save

commit 76af29c943ccccd782643c5185c01aef11350cc3
Author: Aaron Swartz <me@aaronsw.com>
Date:   Fri Feb 10 08:25:11 2012 -0500

    fix various security issues identified by security team

commit 15b4f1cd9e851de3ee091fa4eacf88207709d142
Author: Aaron Swartz <me@aaronsw.com>
Date:   Fri Feb 10 07:30:12 2012 -0500

    forgot to add base templates

commit 7be151bece7afd837fb6e5a20634d18dc580d8d6
Author: Aaron Swartz <me@aaronsw.com>
Date:   Fri Feb 10 07:17:48 2012 -0500

    add styles for journalists

commit 79d38538d13a774f5a6b960001a3ea82a6cae81e
Author: Aaron Swartz <me@aaronsw.com>
Date:   Fri Feb 10 07:10:33 2012 -0500

    check in styles

commit 3e025f12394a668bbafb31da9df1f9b64d45689e
Author: Aaron Swartz <me@aaronsw.com>
Date:   Wed Jan 11 15:14:25 2012 -0500

    rename

commit eec95ded9299f8685b29afaed537d69986f4f6b9
Author: Aaron Swartz <me@aaronsw.com>
Date:   Wed Jan 11 15:13:29 2012 -0500

    always trust

commit 707a1bdf98a0e0ece5afe83897901643282401c4
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jan 7 11:59:38 2012 -0500

    switch to xkcd code names

commit 97c11489b6662d58f749d5547edc9459ebf04400
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jan 7 11:56:30 2012 -0500

    include wordlist

commit b5a25b63b6d417a3758c2ec0a4b65cfcbf7af895
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jan 7 10:55:39 2012 -0500

    rename 'secure id' to 'code name'

commit 5da46e0d3c6d04937d3b93d8544c596fa88af96b
Merge: 9f2a3676 269f55e9
Author: Aaron Swartz <me@aaronsw.com>
Date:   Mon Jul 25 17:58:04 2011 -0400

    merge

commit 269f55e9cfb2cfd32cba00099ead667848494b66
Author: Aaron Swartz <me@aaronsw.com>
Date:   Mon Jul 25 21:56:28 2011 +0000

    fix bugs with file uploads

commit 9f2a3676647fb7bad82f60b8ac3937f4ffa6f41c
Author: Aaron Swartz <me@aaronsw.com>
Date:   Mon Jul 18 16:37:57 2011 -0400

    allow msg and files at same time

commit 3566f893fd92c53f0f87f9311ec6f3481dbbfe0c
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jul 16 11:22:12 2011 -0400

    install instructions

commit 6e6b0d117b2250d465b7f6260b0df4bd028881c5
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jul 16 10:35:27 2011 -0400

    bug fixes

commit 547973f4a9bb808caeb4b280c438e2206e9b28fa
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jul 16 10:13:12 2011 -0400

    debugging

commit 8b1b3580137a57c76f27a9c90101926255da2b5b
Author: Aaron Swartz <me@aaronsw.com>
Date:   Sat Jul 16 10:02:50 2011 -0400

    journalist view, replies

commit 8787357a3787dbf88549ffa0872c339f22bdff25
Author: Aaron Swartz <me@aaronsw.com>
Date:   Wed Jun 29 17:19:39 2011 -0400

    first draft of upload mechanics

commit 62bbe590afd77a6af2dcaed46c93da6e0cf40951
Author: Aaron Swartz <me@aaronsw.com>
Date:   Wed Jun 29 16:23:37 2011 -0400

    build crypto functions
