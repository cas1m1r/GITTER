======================: FILES :======================
======================: BRANCHES :======================
======================: LOGINFO :======================
commit 3f392919bdefa3971c6a3b5cc43fde2878291f36
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 18:23:08 2020 +0000

    Use Meson's b_ndebug option to decide on checks

commit 8e709fd6b5c8f547dc6a2a038e5e0afcdfa99321
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 18:20:09 2020 +0000

    Regenerate the Interceptor test dummies for Linux/x86{_64}
    
    For compatibility with older versions of glibc.

commit da8a61ee8c8b5dda7a50fcbabfa4c40e938bf5ef
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Wed Apr 22 11:44:07 2020 +0200

    Skip optional undefined args in the V8 runtime (#419)

commit baed3960862eee2a3f780277f2beec801fbf2b02
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 19 03:00:34 2020 +0200

    Fix the Linux auxilliary vector architecture detection

commit 154fdb7f35affc1cc27004be38694bd7464cf26e
Author: WorksButNotTested <62701594+WorksButNotTested@users.noreply.github.com>
Date:   Sun Apr 19 00:40:01 2020 +0100

    Improve address resolution in the libdwarf backend (#417)
    
    By making use of symbols in the .symtab section.

commit 8e75244efbbda879e82d74d3dd17df8d830b2504
Author: WorksButNotTested <62701594+WorksButNotTested@users.noreply.github.com>
Date:   Sat Apr 18 06:11:08 2020 +0100

    Fix Linux module enumeration when invoked through loader (#416)
    
    Fixes #414.

commit 09ee1e85b047fdac12586d0ee93ec0ca1d584f3c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 17 21:44:34 2020 +0200

    Add missing casts to fix warnings reported by GCC

commit e0c2b2019987fec47a011f19450b9b5070cc8f26
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 17 21:36:17 2020 +0200

    Fix compilation with older system headers on Linux
    
    The asm/prctl.h header may be present but off limits for the current
    architecture.

commit 1f56be93da61edc3fa7a40273ed1c52b3bbbef72
Author: WorksButNotTested <62701594+WorksButNotTested@users.noreply.github.com>
Date:   Fri Apr 17 01:51:08 2020 +0100

    Add support for MUSL (#412)

commit 2e59d24272cf6a8343890279ca8501f9bff0f13c
Author: WorksButNotTested <62701594+WorksButNotTested@users.noreply.github.com>
Date:   Thu Apr 16 23:10:30 2020 +0100

    Improve auxilliary vector architecture detection (#413)

commit e09e9974adbd547e9afa3d7d2056d94b6acc3227
Author: bigboysun <37470985+bigboysun@users.noreply.github.com>
Date:   Tue Apr 14 01:32:39 2020 +0800

    Improve ThumbRelocator to also handle VLDR (#410)

commit 46afac71402643466e7118f11187d3772e19d003
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 12 04:09:59 2020 +0200

    Remove fragile CFI directives from inline assembly
    
    We cannot assume that they will end up between compiler-generated
    .cfi_startproc and .cfi_endproc directives.

commit 53b7e44215bfb224213907ae7696ede354fc46bd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 10 23:48:38 2020 +0200

    Bump frida-java-bridge and frida-objc-bridge

commit 809c7a834e3d4ae38b0a96296bee88e2e99a7a10
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 10 23:44:35 2020 +0200

    Update TinyCC

commit 84e59ad21ad0371623b44f78c3f00a29b2523100
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 4 07:01:23 2020 +0200

    Fix check deciding on assertions and checks
    
    Instead of relying on “buildtype”, consider “optimization” and “debug”.
    
    Thanks @nirbheek!

commit c474e2933dccfe0b5ef1d2a581ecef5ec35a2709
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 4 01:31:27 2020 +0200

    Fix the Android unrelated interceptors test

commit 34300de91e174d491b6a35f52dfac8fcd48e2149
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 4 01:30:44 2020 +0200

    Fix test scripts on Android 10

commit 2156f5aafe6a68e025a0cde282a95ea87af68507
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 4 01:03:33 2020 +0200

    Plug Kernel.read*() leak in the V8 runtime

commit 338f9546e974940bfcab7833971146a5e7a5f69a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 4 01:02:12 2020 +0200

    Implement v8::ArrayBuffer::Allocator::Reallocate()
    
    To improve performance.

commit 8337ad221936e4b9fcecb435d97f1a677778f83a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 4 01:01:27 2020 +0200

    Fix remainder of deprecated V8 API usages

commit 9e0fd84f762ac191917a45ce85598806755adae1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 3 08:01:40 2020 +0200

    Move SocketConnection leak test to slow mode
    
    It's too slow on some systems.

commit b483f18f3584edc0daeba900d734dccfe7b72036
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 3 07:55:01 2020 +0200

    Fix vast majority of deprecated V8 API usages

commit 4e9769626773d7453c4514f6b08e197d9660e859
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 3 03:42:42 2020 +0200

    Update to the revised GIO module naming conventions

commit d790c7fb7f1f23a6457cc0b8ac8cf4ea3240071f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 3 03:42:09 2020 +0200

    Fix shadowed variable warning reported by MSVC

commit 524ea3279c4104d8577a4dea7553c4c6afce2bdf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 3 03:41:01 2020 +0200

    Port Windows-specific bit to V8 8.x

commit 6450db69995edd6237c8ef532475e51fab71cdda
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 2 05:32:13 2020 +0200

    Port to V8 8.x

commit e95e37a59e4ba9da32097453d4a468d72b7857f3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 2 02:43:56 2020 +0200

    Upgrade Duktape to latest master
    
    The Duktape snapshot was generated like this:
    
        python util/dist.py
        cd dist
        python tools/configure.py \
            --source-directory src-input \
            --output-directory src-frida \
            --config-metadata config \
            -UDUK_USE_CBOR_BUILTIN \
            -UDUK_USE_CBOR_SUPPORT \
            -DDUK_USE_DEBUGGER_DUMPHEAP \
            -DDUK_USE_DEBUGGER_INSPECT \
            -DDUK_USE_DEBUGGER_PAUSE_UNCAUGHT \
            -DDUK_USE_DEBUGGER_SUPPORT \
            -UDUK_USE_GLOBAL_BINDING \
            -DDUK_USE_INTERRUPT_COUNTER \
            -UDUK_USE_REFLECT_BUILTIN \
            -UDUK_USE_SYMBOL_BUILTIN

commit ac16ad2bf7f6a8b942c2a2cc0cf4a29081ff69ea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 27 05:55:22 2020 +0100

    Port to Meson 0.54

commit 7704f6d2ab8409d77cdd274019055d952f03b59b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 27 02:24:25 2020 +0100

    Re-enable and tweak the Socket.connect() leak test
    
    Now that we have the latest GLib where the leak is plugged.

commit c77fc9ca64fe746648b8e55b4c160bf7c11b92a7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 27 02:24:01 2020 +0100

    Port to latest GLib

commit c5c9822e637ff25195afd25a93c1b496ea4a5876
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 26 19:28:16 2020 +0100

    Move Socket.connect() leak test behind slow mode flag
    
    Will be fixed by our next GLib upgrade.

commit 8737feec39be97251de45bfd41059adff04d2ecd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 26 19:12:27 2020 +0100

    Add failing test for Socket.connect() leak on error
    
    This confirms #403.

commit 15eae515c156df60ee864f4adf4a2fa584779393
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Mar 26 18:30:04 2020 +0100

    Plug leak when script is destroyed without first being loaded (#402)
    
    This ensures that ultimately when the script core is disposed, it in
    turn disposes its reference to the Exceptor.
    
    Failing to do so causes indefinite hang when attaching after detaching
    in presence of unloaded scripts, due to the Exceptor thread remaining in
    the target process.

commit 4385d6e4231d2e1d597af666c7bec129953c2928
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 26 18:15:46 2020 +0100

    Add failing test for unloaded script leaking
    
    Kudos to @mrmacete for discovering this long-standing bug.

commit 3602247f6856a0f05dfa9a07701f6ebf40ed6645
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 26 05:00:40 2020 +0100

    Bump frida-java-bridge

commit fe8fee0bd27b66e9df7e4c1c9bb714806f96d4d2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 26 04:48:57 2020 +0100

    Bump frida-java-bridge

commit f9c7595a5cadb1a44356efda5a2341654071dc84
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 25 04:06:35 2020 +0100

    Fix build regression on x86

commit 3ff043734ed84415a841c43b32b5d3348e9e30b7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 25 03:57:08 2020 +0100

    Fix Stalker in arm64 processes on iOS/arm64e
    
    System code is using authenticated pointers so we still need to handle
    them. So we need to check what the CPU supports instead of what the
    process supports.
    
    Kudos to @AeonLucid for reporting and providing a reproducer.

commit 9690992e284179b606ed9e53fbed1091a09b772f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 25 03:55:08 2020 +0100

    Promote query_cpu_features() to public API
    
    And implement feature-check for ptrauth on iOS/arm64.

commit 610498e55a701850cc1bd9958bb6eac789059a14
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 25 03:01:27 2020 +0100

    Update TinyCC

commit 73e9bd35695f07665aea1c7b8a77165a3143ac94
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 24 01:16:04 2020 +0100

    Fix warnings reported by GCC

commit 69abd69d195f6406226e8e4fe501612943e7d244
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 23 22:34:56 2020 +0100

    Add some missing Gum.Darwin APIs to the vapi

commit d566cb92ffd5c735dab24ffb9c01c0e10147b026
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Mar 22 06:37:14 2020 +0100

    Add libsystem_initialized to Darwin.AllImageInfos

commit 8469bd94b5bf5bf2725389b6d3454c5fbd0326b4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Mar 22 02:44:16 2020 +0100

    Only test nested signal handling on Linux for now

commit e42d952cee06309d8967b5a5d6d112127013777d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Mar 22 02:01:45 2020 +0100

    Promote NativeFunction varargs smaller than int
    
    Fixes #401.

commit 1a12b1419c17f052f2cc10f615ffb47d403b1534
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Mar 22 00:08:52 2020 +0100

    Bump frida-java-bridge

commit dad5048b18c37b52f1a521c55698f5b46afe77ca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 21 04:08:33 2020 +0100

    Add missing cast to fix warning reported by MSVC

commit cdf6643225cc45a004bb0c5cf7d22b2a28e59cb0
Author: Clouds <Clouds.Flowing@gmail.com>
Date:   Wed Jan 30 04:51:49 2019 +0800

    Fix handling of invalid ANSI strings
    
    Also use CP_THREAD_ACP instead of CP_ACP, as it's potentially more
    up-to-date than the environment.
    
    Co-authored-by: Ole André Vadla Ravnås <oleavr@gmail.com>

commit 082406ad4e0be1b365508316e8b88c152cfcf62d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 21 00:29:30 2020 +0100

    Eliminate unused variable on non-Darwin platforms

commit 4fca010dce2176cf78823abd5eed094562201f41
Author: Michael Bann <whootandahalf@gmail.com>
Date:   Sun Mar 1 20:09:03 2020 -0500

    Handle nested signals in Exceptor's POSIX backend

commit 7f6130b88479983dbcb2d4431141e97c14e69f2f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 20 02:37:38 2020 +0100

    Add DarwinThreadedItem types to the vapi

commit 7660000cd27952836d6d8bc70d409c431970cb58
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 20 02:36:34 2020 +0100

    Make DarwinThreadedItem binding-friendly
    
    By avoiding unions.

commit 8bace8b5538fdbf3ab977aa8b26d35cbcf54eb87
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 20:46:55 2020 +0100

    Add NativePointer#blend()
    
    For creating a discriminator from a pointer and a small integer.

commit 3061bb592ca1418d01b60b69bca0ac996c970ddc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 20:43:48 2020 +0100

    Allow NativePointer#sign() salt to be a number

commit 522d03f98b2c03369f4a585b141b6af7c3422c7b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 20:00:05 2020 +0100

    Tweak tests/run-ios.sh to assume non-thin build

commit d83e647253592962fc0982de781dd71b81526c71
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 04:02:31 2020 +0100

    Add missing memory APIs to the vapi

commit 04a89c70daab8a78867a955714341beca2eb158b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 18 04:11:12 2020 +0100

    Bump frida-objc-bridge

commit b7441c6e262057f7bfdfe7a6f50ac8be40ade5b5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 18 03:53:44 2020 +0100

    Tweak the pointer authentication key enum in GumJS
    
    The “as” prefix is somewhat redundant.

commit 06621b92e2802dd26562f8cff8f48c0e58b0a8ec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 17 03:28:20 2020 +0100

    Simplify the DarwinModule convenience constructors
    
    Removing irrelevant properties in order to simplify the API.

commit c27b36f34a919689284c9c164b048b1909173890
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 17 03:05:34 2020 +0100

    Allow auto-detection of DarwinModule CPU details
    
    For use-cases where we just want to examine a Mach-O and don't care
    which slice gets used.
    
    Also remove the useless “page-size” property while at it.

commit 7e817d9d86774de3bf2879f0008d4571b1f484fd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 16 06:37:38 2020 +0100

    Load the appropriate Mach-O slice for iOS/arm64e
    
    And improve error-handling.

commit d10a077be7faac5ec7b4d44917019eb30a2d21ab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 16 06:35:04 2020 +0100

    Fix the dyld shared cache detection on iOS/arm64e

commit 5d46323bfdb1c204ee0cc8c75b1a9c6c7777c708
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 16 06:32:09 2020 +0100

    Remove unused logic from test

commit 776ebca6f75d4561ee5ab49f94333207bf1bf190
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 14 07:46:56 2020 +0100

    Fix a minor stylistic inconsistency

commit 9e88fe8d4306ed028b3d51245bcfaabaf0001846
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 14 04:57:15 2020 +0100

    Fix DarwinModule imports' “slot” field on iOS/arm64e

commit e93491adb8db91e126f8eb86f8b8f55c75a58cb7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 14 04:50:39 2020 +0100

    Preserve DarwinModule “name” and plug leak
    
    When dealing with executables.

commit eada6ff3d113aff2a0412069b58f6208bb15824a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 14 04:47:53 2020 +0100

    Improve error-handling in DarwinModule

commit bd063c4fb64312b19f573e4f95e3421fccc48b37
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 14 04:46:03 2020 +0100

    Add error-handling to the LEB parsing logic

commit 530dcee232bfdfa0d2049f9632abddefae549d39
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 14 04:43:42 2020 +0100

    Fix off-by-one bug in Darwin.fill_file_mapping()

commit 57645e13eb4c81a9f69280c1b083b4593b5c4eb8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 14 04:42:21 2020 +0100

    Fix a minor stylistic inconsistency

commit 97f983edaec77c4cdbd4a69d16aee0b1cde6505e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 14 04:42:04 2020 +0100

    Add Darwin.query_mapped_address()

commit 6c06884d7f741bf1be1e56934ef3acada92100f3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 12 06:12:27 2020 +0100

    Fix build regression with older iOS SDKs

commit 76b583fb2cd30628802a6e0ca8599858431ee717
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 10 03:11:31 2020 +0100

    Remove temporary logging from the Stalker x86 backend

commit 3dfeade9a83f7472aed85e9b140fab3c1be9e048
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 10 02:42:14 2020 +0100

    Fix Stalker assertion broken by the activation API

commit 9b34d9aa9afad408ea4aae08d716b64e48e62b24
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 10 02:02:22 2020 +0100

    Fix infinite loop when failing to handle SIGABRT
    
    The handler should not return if it handles the signal.

commit 7d716178b130940a78d444487afa7035c68a6b76
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 9 01:20:10 2020 +0100

    Port GumJS to iOS/arm64e

commit 108ea09b595a64c996501b589d7b2e21e9a54947
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 9 01:16:18 2020 +0100

    Allow authenticated pointer in Memory.patch_code()

commit 74176622ae8362e5498de115e9958be2e37e9a47
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 9 00:50:59 2020 +0100

    Port Gum.Arm64Backtracer to iOS/arm64e

commit 70fa2d2dc2878881e2f4b0e8a81de501b62b0f1c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 9 00:08:55 2020 +0100

    Port Gum.DarwinBacktracer to iOS/arm64e

commit 01185a19fc9b5ca892ab808a4d17b694d53b1e5b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 7 05:06:00 2020 +0100

    Fix ThumbWriter put_call_*() w/ more than 4 args
    
    Need to restore the stack pointer after the call.

commit 9302e9811eb553d4aae14b1d24f0f9314539af60
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 7 03:55:32 2020 +0100

    Improve Mapper test to support frida-gadget

commit c3d187b6d3db70b84ed2273c652735b2f633b44b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 7 03:01:29 2020 +0100

    Improve Mapper to pass initializer args
    
    And add support for supplying Apple parameters while at it.

commit 9b9f4cc146811396cd191fa3cdd8c402be2b75cb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 6 09:19:27 2020 +0100

    Fix Exceptor's address reporting on iOS/arm64e

commit 464f055b39d58f153fe9ed5194dea0b241a0116c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 6 04:57:58 2020 +0100

    Port Stalker to iOS/arm64e

commit 491be56099d39205ca8dd0eae8ce2fc7e0ef3a6f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 6 09:24:29 2020 +0100

    Improve the MemoryAccessMonitor POSIX backend
    
    - Properly calculate intersecting ranges.
    - Compute appropriate page protections.
    - Fix typo that broke monitoring of RX pages.
    - Allow mprotect() to fail without crashing.

commit bab592446cac06e74dba495c13e10bbe1f7ed269
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 5 06:06:45 2020 +0100

    Port MemoryAccessMonitor tests to iOS/arm64e

commit 71e75e3cb67337b98b83795e0288f3325fd717f0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 6 00:00:02 2020 +0100

    Port Gum.Darwin.Symbolicator to iOS/arm64e

commit e2c40d88208314d824d21a6cc2e4cdba281fd603
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 5 04:40:20 2020 +0100

    Port Interceptor to iOS/arm64e

commit 8b8e8515c05cbd8ef5c8669e742a4d64b937a8a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 5 04:25:04 2020 +0100

    Add Interceptor test dummies for iOS/arm64e

commit 9c69d143d566259bb0a141338805505c936d91c0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 5 04:01:24 2020 +0100

    Sign function export pointers on iOS/arm64e

commit 16d5a0ba60b70757bf6635551f2859713ebc670e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 6 04:57:08 2020 +0100

    Port Arm64Relocator to iOS/arm64e

commit 5e6c9f2e50b267cb051fef4480a91ee0a019c0c2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 5 04:07:48 2020 +0100

    Port Arm64Writer to iOS/arm64e

commit c517e850076344c547df04c1f6e09f9c175dad39
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 29 05:58:50 2020 +0100

    Port DarwinModule and Mapper to iOS/arm64e

commit f28f7ad27c15c7214cfe1e6390943e1327c56b04
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 5 03:55:27 2020 +0100

    Add pointer authentication APIs
    
    For signing and stripping code pointers/addresses, and querying what a
    given process supports.

commit 9c8e50de043dd282496ea4679ca14eec1ae141de
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 6 07:31:52 2020 +0100

    Fix the CpuContext marshaling logic on iOS/arm64e
    
    We need to preserve the signed pointers.

commit 701588dcd9e4f9065af518e6efe84d8b96687213
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 5 03:58:11 2020 +0100

    Improve the iOS test script
    
    Dump and symbolicate crash log, and target arm64e by default.

commit cd57c56d4096978f4dd85e3b10bb706175dbcde7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 3 20:19:04 2020 +0100

    Sign the mapper-test program

commit bcbaf41e565b7510a8ed170d5810f46bea22be9c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 6 04:03:27 2020 +0100

    Simplify the Darwin page size query logic

commit c1b7ecd47a53cad0cdf67228bb0eae660967d99a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 6 05:50:16 2020 +0100

    Add missing bindings autogen for Gum.Address
    
    To also support methods returning such values.

commit 41d195c872f266e0a9ba5fd3cfcabf705c6d51d0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 6 03:46:32 2020 +0100

    Only set {Arm,Thumb}Writer target OS on creation
    
    And not on every reset().

commit fe2d004ce45c1d0d9e1d495ad62d4e890d63f827
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 6 07:18:54 2020 +0100

    Fix uninitialized in/out-args in the Exceptor tests

commit bbc2209698751c28f9591f82f263cee63c98e9d8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 4 03:28:18 2020 +0100

    Also perform the iOS Simulator sysroot detection on macOS
    
    To allow attaching to iOS Simulator processes.

commit 888e48f9ced542ec97c473f3084f0e3294469649
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 4 02:09:43 2020 +0100

    Take sysroot into account when in an iOS Simulator
    
    - Strip off sysroot in enumerated module paths.
    - Skip sysroot when looking up image address and slide.
    - Allow direct export queries on both “dyld” and “dyld_sim”.
    
    Kudos to @dweinstein for helping fix this issue.

commit 748415f94882204b207d130f2b64917f3f7a8f73
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 4 02:08:24 2020 +0100

    Add gum_darwin_query_sysroot()
    
    For detecting the iOS Simulator's sysroot location.

commit 916256984d34eaaf727ca5b5d184f4967c7ad403
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 28 17:34:54 2020 +0100

    Improve the “Binaries” section in the README

commit 61a5aa4a2c04c12f6f264b7c0ac7e90209dae155
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 28 17:33:26 2020 +0100

    Add a basic README

commit 7e4c5b547b035ae05d2f9e160652101bf741e6c3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 28 06:24:41 2020 +0100

    Bump frida-java-bridge

commit 523703878ebf4323683c3c6eeecee987c6dc9c53
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 27 20:26:50 2020 +0100

    Bump frida-java-bridge

commit ffd39bb2ba77d8b446ab9fb54c7cd49a9b3cb868
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 27 19:11:24 2020 +0100

    Bump frida-java-bridge

commit 5e70345723e6f358fa3d7c0d5a85abb59f6d461e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 26 02:41:46 2020 +0100

    Bump frida-java-bridge

commit b756613eac10af49dd0b800d3c134ca30166c853
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 26 02:33:49 2020 +0100

    Improve the Duktape runtime source-map extraction
    
    To handle scripts where the sourceMappingURL marker isn't the last line.
    One such example is the Frida REPL, which inserts its own code right
    after the user-provided script.

commit 844cbe7ba23cd8b47de7a1bca10d7ad498637b75
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 26 00:18:21 2020 +0100

    Bump frida-java-bridge

commit 84f8c6b3bbd5d78ba4d736c5ec1685da9da52b7a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Feb 25 05:32:26 2020 +0100

    Bump frida-java-bridge

commit 8ac8d197659bbb41424d5994bae789eba9bae57f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 24 20:13:02 2020 +0100

    Bump frida-java-bridge

commit 149711c06222002178966151481ecd7735e0ea7f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 24 19:24:13 2020 +0100

    Reduce size and improve performance of GumJS built-ins
    
    - Enable compression for the V8 runtime also, not just Duktape.
    - Enable loose Babel transformations for smaller code and better
      performance.

commit 9c03bbc1faf288e11dabeb98569f6afa5f165021
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 24 19:08:57 2020 +0100

    Bump frida-java-bridge

commit 1a6501805aa99acf8d24ed3a2d63c3b7cf6a209b
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Fri Feb 14 16:08:35 2020 +0100

    Fix OOB write in the i/macOS Exceptor's API hooks (#397)
    
    Need to honor `masks_count` also as input argument.
    
    This would typically result in stack corruption when the application
    calls the Mach exception handler API requesting only a subset of the
    handlers.

commit 4443b6980f315be14bc8fa0abab7deb8ce8175fe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 23 16:42:09 2020 -0500

    Fix use-after-free on Stalker EventSink::stop()

commit 3ca8cd35253d55fa52e45db4e89c97b0c60d5788
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 7 03:21:51 2020 +0100

    Fix Android linker detection in sandboxed processes
    
    Where we're not able to read the symlink.
    
    This reverts the future-proofing attempt made in 2de8480. We will have
    to find a better solution, but until then we'll hard-code the path
    based on the API level.
    
    Fixes #393.

commit 4b3beb8373f2a265c955344e8cdc1b5a6f48bf85
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 4 03:17:09 2020 +0100

    Fix type punning warning reported by GCC

commit 6ae2834b73d7839c719095311e9c7f5bdb58fa6e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 4 02:27:34 2020 +0100

    Improve the POSIX Exceptor backend's API detection
    
    Tested on glibc 2.30, Android 4.3, and Android 10.

commit d28257b0d4568280955d7ebe3da82f7a33c2064f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 4 02:24:55 2020 +0100

    Add Process.query_libc_name()
    
    As it turns out to be quite tricky to determine on some platforms.

commit cdd6f565c2a54dc458ae2f56f121b111fd931edf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 4 02:21:21 2020 +0100

    Fix stylistic inconsistency

commit 08067ad9041936f548e4ef1006431c1984b91a23
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 3 19:52:19 2020 +0100

    Fix Exceptor crash on Linux in early process lifetime
    
    Should not count on PLT/GOT entries being initialized.
    
    Fixes #391.

commit 08a19ffe6b79b8a777cf93cddddc8f0ab79db66f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 3 05:33:10 2020 +0100

    Bump frida-java-bridge

commit 0127dc156f30120b05aa4ab310e445e1aa37a04e
Author: bigboysun <382136249@qq.com>
Date:   Tue Dec 17 11:16:37 2019 +0800

    Fix handling of Thumb IT blocks
    
    Fixes #383.

commit e1656db316d8b1e16a696873012cda0be62dafb2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 24 01:20:45 2019 +0100

    Fix warning regressions about unused functions

commit 2f7c88aad90605a3eb876e89204de9a73cb71285
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 23 23:06:02 2019 +0100

    Add missing CModule headers to build system targets

commit 64a99e6f070e96d84cac6e4a013d4a209c646a6e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 23 22:49:09 2019 +0100

    Fix regression in the CModule Stalker integration
    
    By adding headers now required by {X86,Arm64}Writer.

commit 334b9d1994869ae0c9f6db3e45eea99abecb6e76
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 23 22:47:25 2019 +0100

    Port the CModule Stalker transform test to arm64

commit 5858a8fecb291c3e60c300191ef156c8c4b36f77
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 18 02:19:12 2019 +0100

    Fix error-handling in the libdwarf DebugSymbol backend
    
    Fixes frida/frida#921.

commit 672d1008118865891807762a19f3e742fd9d3ba4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 18 02:18:12 2019 +0100

    Improve NativeFunction to use the Interceptor unwinding API
    
    To be able to recover from crashes in code with trivial side effects.

commit 7a60c8ca8e648cfe799db4a63bccaac6e21cd7c6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 18 02:15:35 2019 +0100

    Add Interceptor.{save,restore}() to support unwinding
    
    This means we won't get stuck on script unload because Interceptor ends
    up waiting for calls to finish.
    
    Useful for NativeFunction configured with `exceptions: 'steal'`, which
    is the default.

commit 5608d6ee6114607128322ada1b6ead6460e2bdb3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 18 02:10:59 2019 +0100

    Fix Stalker activation target clear logic in fast mode
    
    Should never backpatch when the target is the activation target, as we
    will otherwise not reach the logic in replace_current_block_with() that
    clears it.
    
    Kudos to @andreafioraldi for reporting and providing a reproducer.
    
    Fixes frida/frida#1118.

commit 665fd43e0c2ecf7f86bffe78fa27683e6180ff1c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 18 01:58:52 2019 +0100

    Plug hole in Stalker backpatching logic for call return location
    
    We shouldn't even generate a call to the backpatching helper when
    running in paranoid mode.

commit 054e8b634434cc47a65161ac5ff5c4b3f35937e4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 16 02:55:44 2019 +0100

    Augment ArrayBuffer with wrap() and unwrap()
    
    Replacing NativePointer#mapByteArray() and implicit support for
    ArrayBuffer in NativeFunction parameters.

commit 3f7f5cfc4c06af1a51c1d046af2427f50c517db3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 16 02:39:46 2019 +0100

    Add Stalker activation APIs to the vapi

commit 41399fdb717478e1c51d6c3e7ae9beb308d2c93b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 16 02:33:41 2019 +0100

    Bump frida-java-bridge and frida-objc-bridge

commit ec23810ec968993d56123c506660e34ca10fed7c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 15 19:52:12 2019 +0100

    Bump frida-objc-bridge

commit a1034d38f7cc4e9716a1b3b1a93c43f5a3cf0135
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 23:38:52 2019 +0100

    Accept ArrayBuffer parameters in NativeFunction
    
    To avoid needing to allocate and copy to memory when dealing with an
    already created ArrayBuffer, e.g. returned by frida-fs.
    
    This is a very dangerous feature as the called function may hold on to
    the pointer and use it after returning. But users already have to take
    this into account when using Memory.alloc().
    
    Because of how dangerous this is we don't allow passing an ArrayBuffer
    anywhere a NativePointer is expected. We limit it to NativeFunction
    parameters, as we know the JS object won't get GCed while the function
    call is in progress.
    
    Fixes #320.

commit eec44a1bf4ef6dee7397ba866674581a044e0d29
Author: David Manouchehri <david.manouchehri@riseup.net>
Date:   Fri Dec 13 16:58:34 2019 -0500

    Add NativePointer#mapByteArray() (#385)
    
    Useful for reading and writing to memory without needing to call the
    read/write*() APIs.
    
    The trade-off is safety, as a bad pointer is going to crash the process
    instead of throwing a JS exception.

commit 359ad5fa26bd383a48ad2d1a2dba73d0938f38f1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 22:00:27 2019 +0100

    Improve detection of _pthread_exit() on iOS
    
    The function has only been stable for a couple of major releases, and
    changed quite a bit prior to that.
    
    Turns out pthread_exit() has proven very stable across releases, so it
    is better to parse it looking for the first BL instruction, which is the
    call to _pthread_exit().
    
    Kudos to @mrmacete for the neat idea!

commit bba7839ad5ce52a7857b422786806e5e86bef1ae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 21:13:52 2019 +0100

    Tweak the Stalker garbage collection logic
    
    - Lower the time tolerances, and adjust polling accordingly.
    - Short-circuit time check for the current thread.
    - Only get the current time once.

commit 7f24340ee8b24be19effc062726b8f0590e9472e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 21:09:46 2019 +0100

    Fix Process.has_thread() for the current thread on i/macOS

commit 036854aa6bcb9d6e02312f486557ab7dfb00bfd6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 06:53:49 2019 +0100

    Optimize detection of _pthread_exit() on macOS

commit 8f9e6c4e9d383b7eec39ded94cde697c87dd8f23
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 06:13:23 2019 +0100

    Fix detection of _pthread_exit() on iOS

commit 296261daac3efd90eadda9f8f0a6c05ae5cf9a06
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 05:31:34 2019 +0100

    Call Stalker.unfollow() if Stalker JS transform throws
    
    As the unhandled JS exception will otherwise typically get lost because
    the process crashes right after.

commit a55d19b1c9f0c594c9bf4e47cdb5536852a8c427
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 05:28:27 2019 +0100

    Plug holes in handling of Stalker transform calling unfollow()

commit 1e356ca0b62aaaed4cecfdaba730cf52aca2c441
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 04:44:22 2019 +0100

    Add test coverage for Interceptor + Stalker combo

commit d59c36d966de8c6dd7d691ba70a7388aed979ec6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 04:43:37 2019 +0100

    Add support for disabling automatic Stalker queue drain
    
    By setting Stalker.queueDrainInterval to zero.

commit ac08a0338e4460368fbb30b4ada28318fb6936d5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 03:28:05 2019 +0100

    Add script for running tests on the one missing Android arch

commit d51f0b83be59e6afc62ab025a67211564ce28374
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 03:26:53 2019 +0100

    Fix stylistic inconsistencies in the low-level helpers

commit 46eabb546a6d766c0cdaa8152811c1e6e0709441
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 03:22:55 2019 +0100

    Fix up the GumJS tests covering Stalker
    
    So they can be promoted to run on our CI.

commit a4e62e9ffdbb366166e377d47ebc53a3a9fafcb5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 01:52:24 2019 +0100

    Fix thread lifetime handling in Stalker backends
    
    - Clean up garbage after threads that have terminated. This means we no
      longer get stuck waiting forever in such cases when unloading a script.
    - When cleaning up garbage after a thread that is still alive, make sure
      at least 50 ms has passed since it started its journey back to the
      original code.
    - Unfollow when about to enter _pthread_exit() on i/macOS, as it's going
      to tear down the POSIX thread, and that means we won't be able to do
      much without running into undefined behavior.

commit 1eb2fa74a425b6271d00b7b226fc6c932c2cdb19
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 01:36:10 2019 +0100

    Add Module.find_symbol_by_name()
    
    For now built on top of Module.enumerate_symbols().

commit 2376f9a2a3a6cd401d86fa1cb1ba152bd9aacd85
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 01:34:40 2019 +0100

    Add Process.has_thread()
    
    For quickly checking if a thread is still around.

commit 24c422ec6a68499f418a47493686bf9ffe96810f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 01:32:17 2019 +0100

    Fix the StalkerDummyChannel test macro definitions

commit 09ecd93be2da9f0a2dcae6e84a440e67b5172b61
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 12 05:32:45 2019 +0100

    Refactor the Stalker “follow_thread” test

commit 240d80ce532d24cac710e3aa3906e6f8554786ae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 12 05:26:57 2019 +0100

    Port code writers to the “bare”-metal data structures
    
    For improved reentrancy.
    
    Also make label and literal storage allocation lazy, to speed up the
    short-lived use-cases, e.g. on the stack.

commit ff891f0c734942935044c4392d17307357ab98ef
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 12 05:15:00 2019 +0100

    Add MetalArray.remove_all() for convenience
    
    We intentionally don't bother shrinking, to optimize for our current
    use-cases.

commit 8b040a3f23dbf0011e89ed0dcc87d6de52e3362f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 12 05:12:12 2019 +0100

    Make the “bare”-metal data structures public API
    
    So we can use them in our code writers for improved reentrancy.

commit 5934ec7010c334abcb555a91271eee9d93f9f78e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 12 05:10:17 2019 +0100

    Switch MetalHashTable to use our internal allocator
    
    Which improves performance. It's not as close to the metal, but suits
    our needs.

commit 1aabd37606f6e43dccc99de26b960f952971c783
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 12 05:01:29 2019 +0100

    Rename the Capstone allocator to allow other internal use
    
    So we can use it for other reentrancy-sensitive internals.

commit 3aceefebbb45bb2a92a7db8ab8faf5c5a75299b1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 11 05:56:40 2019 +0100

    Fix Stalker reactivation with indirect deactivate()
    
    E.g. when there's a call to a PLT entry, and the entry happens to be in
    an excluded range.

commit 307da18748bb2c61195ae32ed94ae07fb6672fb1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 11 03:07:29 2019 +0100

    Simplify the Stalker exclusion logic

commit 23ff0cf6544d3bafb4861f3b6e78431e638def0c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 11 01:46:34 2019 +0100

    Fix Stalker on older x86 CPUs
    
    By only preserving YMM registers if the CPU supports AVX2.

commit f165ad28548bf5f6fe56beebcca517cf3c48db99
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 11 01:42:24 2019 +0100

    Fix assertion when building with MSVC

commit c6b5a44127fe652fac9f0726704e5386d662ab39
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 10 06:15:46 2019 +0100

    Fix build regression on Linux w/ older kernel headers

commit 9f92d5c4b76fe67aa5171bc32caffe523af4ce29
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 10 06:09:42 2019 +0100

    Add missing Stalker stubs for 32-bit ARM and MIPS

commit c2fbcc92efe03f3a1078b850cbedf61bb24cc5b9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 8 22:54:08 2019 +0100

    Add “traps” option to NativeFunction
    
    To allow NativeFunction calls to be stalked even when Frida's own memory
    range is marked as excluded.

commit eeeac177bdf7126fdc635c241ff9b48b3688e078
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 10 05:19:26 2019 +0100

    Add Stalker APIs for temporary reactivation
    
    To allow stalking code from inside an excluded memory range.

commit 0d1ee0d0d527c212f87be3a534218c0849394d34
Author: jonwilson030981 <jonwilson@zepler.net>
Date:   Fri Dec 6 15:05:38 2019 +0000

    Fix thread enumeration issue on Linux when using Yama (#382)

commit 2da7de17a125ca2881e795f4211d6b5da42eeb82
Author: David Manouchehri <david.manouchehri@riseup.net>
Date:   Wed Dec 4 15:26:17 2019 -0500

    Add “size” member to symbols when available
    
    Only implemented on Linux for now.

commit 6ac3b0a31d7941f30152edca9b1a4f4b136ea7a6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 5 20:12:03 2019 +0100

    Bump frida-java-bridge

commit e6a590f807b9b99fd05cd2e90b9379cd6d1fe601
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 5 19:14:55 2019 +0100

    Fix timestamp truncations in the V8 platform integration
    
    Kudos to @Manouchehri for reporting.

commit 7e6d164dd131fe62f3cdd4303b765d679c580d94
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 25 21:32:33 2019 +0100

    Fix lifetime issues in CModule tests

commit f5e980f6fc035df676c6de1451837803df097b4a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 25 21:31:59 2019 +0100

    Update TinyCC

commit d61fd331a9aacbeb3284bd12d17abd943e8ac286
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 25 21:13:16 2019 +0100

    Allow Stalker to use RWX pages on iOS/checkra1n
    
    I.e. even when limited to ALLOCATIONS_ONLY.

commit c0aed15af889f5aa91e40ee7319b9c0133b5c27a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 25 21:10:38 2019 +0100

    Work around broken RWX allocations on iOS/checkra1n

commit 07cd6416f6261cfc0ac66662a689a349a640e2aa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 25 21:08:36 2019 +0100

    Add gum_query_rwx_support() for finer-grained RWX checks

commit 269396f83aaa4b6704d52e2d3794bb6cf476e53d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 25 21:07:19 2019 +0100

    Always run Stalker performance test on iOS

commit cc1f0f57168459a9e5b21884ce54c61e41aed54d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 25 21:05:34 2019 +0100

    Limit iOS Kernel API tests to slow mode
    
    As they might crash the kernel on partially supported jailbreaks.

commit ae76d2076039c1ff1c25e21f71fd3ffa525889b3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 25 21:01:53 2019 +0100

    Add ModuleMap to the CModule runtime

commit 3fe89d3cc24378476a8192c0639e7ab4ad581919
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Fri Nov 22 23:32:37 2019 +0100

    Use g_mkstemp() instead of mkstemps() (#376)
    
    Because on iOS 13.x `mkstemps()` uses `arc4random()` and that
    breaks os_unfair_lock when using Stalker.

commit 2a66706d6ec71c2650e8c72ac0175e9be55e8168
Author: Jon Wilson <jonwilson@zepler.net>
Date:   Thu Nov 14 23:57:13 2019 +0000

    Port to ARMBE8 (#375)
    
    This architecture has little endian code, but big endian data. ARMBE32
    has big endian code and data, but is considered legacy, accordingly we
    are ignoring that.
    
    Also, TinyCC doesn't appear to support BE8, so that isn't implemented
    for now.

commit 97849508432f447a9984096374cb5f1ddc92ef09
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 12 03:22:45 2019 +0100

    Fix RWX detection on the checkra1n iOS jailbreak
    
    The observation that we are able to flip freshly allocated pages to RWX
    doesn't mean we will be able to flip pages belonging to the dyld shared
    cache. So for now just don't bother to detect it on iOS >= 9, and assume
    it's not supported.

commit d30380573f651e59898142ca24ad19802f077912
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 7 01:56:26 2019 +0100

    Refactor to use g_newa() where appropriate

commit 0de4ae54cfac623faafa8b6334d27b5bc2096b6e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 7 01:39:26 2019 +0100

    Improve handling of optional args in call() and apply()
    
    To behave like the builtins.

commit d3645e86b8075866f98ede63bafe6709d4b4a6e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 7 01:36:32 2019 +0100

    Simplify “null-or-undefined” checks

commit 55d0dc0de41c1b627558e3129736f59678ef978c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 7 01:34:29 2019 +0100

    Fix off-by-one in apply() error-path cleanup logic
    
    Should not matter as the v8::Value is empty, but makes for confusing
    code.

commit d400cf0d5250d8a216bcd0a72d682d1737ef4e42
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 7 01:23:35 2019 +0100

    Fix apply() on NativeFunction w/o args in the V8 runtime
    
    The `argv` pointer was used to signal whether a pre-parsed version of
    the argument list was to be used. This logic did however not take the
    empty argument list case into account (d'oh!).
    
    Kudos to @taviso for reporting this bug.
    
    Fixes frida/frida#1074.

commit f817ea7b7ebdebc727809dc26cb048e541bdfa6f
Author: 葛兵 <gebing@foxmail.com>
Date:   Wed Nov 6 12:21:36 2019 +0800

    Improve NativeFunction to support variadic functions (#369)
    
    Such a variadic NativeFunction can be declared as e.g.:
    
        const func = new NativeFunction(ptr, 'int', ['pointer', '...',
            'pointer', 'float']);
    
    Which means the variadic argument types can be `'pointer', 'float',
    'pointer', 'float', ...` repeatedly. And the invocation of a variadic
    function can be with any number of arguments which is greater or equal
    the number of fixed arguments, such as `func(ptr(1))` or
    `func(ptr(1), ptr(2))`.

commit 738d757d539cab147c3d6185a376f9948389248c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Oct 27 04:02:14 2019 +0100

    Ensure code is readable before accessing on Android >= 10
    
    Kudos to @Alien-AV and @esanfelix for the painful research that made the
    solution possible to implement in one late Saturday evening. :-)
    
    Fixes frida/frida#1043.

commit ff75dd2af471770ef758c3ae230e9afff79942e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 26 02:54:11 2019 +0200

    Bump frida-objc-bridge for improved type handling

commit b992f7aeea0e342882a6a20d814e9996109c0c24
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 17 05:16:21 2019 +0200

    Add LEB module to the Windows build system

commit 5d33fe9a436cfa435a86a6c6a57810f3452806ed
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 14 20:42:26 2019 +0200

    Add missing cast to fix warning when building w/ MSVC

commit a1039b281e0af9030f5d16ab9c2be651c848a96c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 14 19:51:15 2019 +0200

    Add missing include to JSON-GLib header in CModule

commit 74cca04dfdc219d905cd60c7051494e4ea19f806
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 14 19:49:23 2019 +0200

    Fix crash on Android systems without a vDSO
    
    Another regression introduced in 2de8480.
    
    Fixes frida/frida#1048.

commit 028128cde8193ca23a6aa4c128c75df3e12aa1a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 14 16:44:09 2019 +0200

    Improve error-handling when parsing Mach-O images

commit f21772a563288278db7f5e2b226b54d174477e4b
Author: Álvaro Felipe Melchor <alvaro.felipe91@gmail.com>
Date:   Mon Oct 14 14:59:03 2019 +0200

    Fix ARM vs Thumb when restoring exception on Darwin (#362)

commit 1e20263ce4faf07e8fb851248ba8889b8416ad4d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 14 05:15:29 2019 +0200

    Fix casts in the MemoryAccessMonitor tests

commit 0e99fac181ef51caf3c5ecfaa7bea84850e4d82f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 14 05:13:32 2019 +0200

    Fix the MemoryAccessMonitor JS callback teardown logic

commit f3776187c894aeb67c0116795e6cf5f6581ded52
Author: Álvaro Felipe Melchor <alvaro.felipe91@gmail.com>
Date:   Tue Sep 24 10:46:01 2019 +0200

    Expose MemoryAccessMonitor to the Duktape runtime
    
    And remove Windows guards now that it's available everywhere.

commit c227af0d8f3980de7e8eada232b24fbfbce3d4b1
Author: Álvaro Felipe Melchor <alvaro.felipe91@gmail.com>
Date:   Wed Sep 18 16:21:49 2019 +0200

    Implement MemoryAccessMonitor for UNIX platforms

commit 1ebcb1e473fe73cc565e4278cb2b9904f2f4e57f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 14 03:07:12 2019 +0200

    Fix a few stylistic inconsistencies

commit 1f97c985f49748a3c6f25fadacaff88bb09cfb27
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 14 00:07:16 2019 +0200

    Fix lifetime of linker ModuleDetails on Android
    
    Fixes #361. (Regression introduced in 2de8480.)

commit a6150e029f19c3c2aae50a44b7d6e83bdf5980f3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 11 19:10:34 2019 +0200

    Fix warnings reported by GCC on Linux

commit 0d777455d0ee194570b87816fa5d5449ac8fd63c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 11 19:09:30 2019 +0200

    Update TinyCC

commit e44529c7071daf83de925f43d012b2d7fa2132bc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 11 18:17:43 2019 +0200

    Bump frida-java-bridge

commit 2de84803f918e86b73b4b8234dfad1fbed62357b
Author: Tim Strazzere <strazz@gmail.com>
Date:   Thu Oct 10 19:32:20 2019 -0700

    Make linker seeking future-proof on Android (#360)
    
    Per frida/frida#1026 and frida/frida-gum#354 - I looked into how the
    linker is meant to be established in Android going forward.
    
    According to
    
        https://source.android.com/devices/architecture/modular-system/runtime#bionic-changes
    
    Google intends to maintain both `/system/bin/linker` and
    `/system/bin/linker64` as a symlink, pointing to what the real file
    will be.
    
    This means if we look for those files and they are symlinks, the linker
    should be mapped to memory using the files' realpath. So for future
    changes, looking to see what the symlink resolves as should make this
    work in all future version (and keep its backwards compatibility).
    
    Tested this on Android 5, 7.2, 8.0.1, 9 and 10.

commit 161bed42725a037a4f202e87549ff6d97af983dd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 10 14:57:09 2019 +0200

    Bump frida-java-bridge

commit 155470c90ce39dd06ef21fe0b6cf1a4ebc5baebd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 9 20:01:58 2019 +0200

    Port basics to iOS/arm64e
    
    Untested for now.

commit fc12387a30413ab4c9cde616a8b078ee436bc9e6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 9 20:01:03 2019 +0200

    Update TinyCC

commit 24105e3f86c7bef432c3152fcc7c435948934108
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 8 17:22:24 2019 +0200

    Handle read errors in DarwinModule.enumerate_symbols()
    
    To avoid crashing if the task is suddenly gone.

commit 591d742ea27d494544f985d117f41856646f83a7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 8 16:42:15 2019 +0200

    Fix linker detection on Android 10
    
    By updating to the paths used in the final release.
    
    Fixes frida/frida#1026.

commit e9a35288fdf2cd6af4cb1467388eb6defe6694ad
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 8 16:22:54 2019 +0200

    Fix handling of RWX pages in the V8 runtime
    
    As we still allow them on non-iOS.
    
    Fixes #350.

commit 59d614c7185bb520c93cc4d8d4465c87ad466b32
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Oct 8 14:47:18 2019 +0200

    Fix parallel recv().wait() (#359)
    
    Multiple threads may wait on the same message type. So to solve this,
    on every incoming message one thread at a time gets woken up in a FIFO
    fashion. While at it we also make sure no exceptions thrown from the
    wait callback may cause an infinite wait.

commit 395eb263f33ae7e96668d43238ef98cb5cc5ad61
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 5 01:13:22 2019 +0200

    Port Gum.Darwin.Mapper to use the remaining portable enums

commit cb26a8c4f454e95d694fd7022326cb5f030cedcd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 5 01:12:03 2019 +0200

    Add missing enum for Gum.DarwinExportSymbolFlags

commit f602889db6df120114817ecb1e78ab1b9573bb45
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 5 01:14:54 2019 +0200

    Add missing enum for Gum.DarwinExportSymbolKind

commit 9bd48f3aa4ce33b08e5e67afd75fbfca34d26ef2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 5 01:07:42 2019 +0200

    Add missing enum for Gum.DarwinBindSymbolFlags

commit 40b6f0959d6649fd09b203bfff656b97ccbb5254
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 5 01:06:14 2019 +0200

    Fix “cname” of the Darwin enum types
    
    They do have proper typedefs, so those should be used.

commit 6f76eb1ced7f31796ab6fae6a4d4a9c6a89675fc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 4 23:49:16 2019 +0200

    Fix namespacing of the DarwinModule callback types

commit e8bbded0ba54484aa8511fd973e4472f01b1f7b6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 4 23:45:35 2019 +0200

    Port Gum.Darwin.Mapper to use the portable ordinal enum

commit 8e5a391aff49cbe158af450ac1a976b5645f543f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 4 23:44:56 2019 +0200

    Add missing enum for Gum.DarwinBindOrdinal

commit e45c6cbc290b4a632953d93eb9e822cbbad75d06
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 4 22:50:24 2019 +0200

    Port Gum.Darwin.Mapper to use the portable enums

commit 9d5f076c4dfd465ead8d9429b98db480ac83e612
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 4 22:47:58 2019 +0200

    Add missing enum for Gum.DarwinRebaseType

commit bcab26301453f9a3dcee2e345217d12b80d202b9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 1 19:46:33 2019 +0200

    Fix the DarwinModule section enumeration logic
    
    Regression introduced in 7cb8a89.

commit 6ebfb6afc4c3241876ddae873ca42aee1900aaed
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 1 18:45:47 2019 +0200

    Refactor Interceptor tests to fix duplicate symbols
    
    As reported by Apple's linker in Xcode 11.

commit 7cb8a89cefad67acea698587fdb6f5c685c04447
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 1 18:43:49 2019 +0200

    Fix void pointer arithmetic in DarwinModule
    
    To be able to build with MSVC.

commit 239ff8a8facb811cfac80e115627925d3ca8f42d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 1 18:41:52 2019 +0200

    Fix minor stylistic inconsistencies

commit 89f665895cf5b67554012d2cd89fb0dba46694cd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 1 02:49:05 2019 +0200

    Add DarwinModule to the Windows build system

commit f2882ef2381f24ec5ec7653d56a1ac8477c298b4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 1 02:45:17 2019 +0200

    Make remainder of DarwinModule cross-platform

commit 4ea864d89f15e4106a4a42606297b77f81753fb3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 1 00:31:11 2019 +0200

    Fix DarwinModule symbol enumeration without task
    
    I.e. when reading from a file or blob without any live process to read
    from.

commit 995b97f40208435257e254fe79b6f2434f3e0c89
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 1 00:27:38 2019 +0200

    Infer DarwinModule name from dyld modules also
    
    We already infer it from executables and dylibs.

commit 6f949bdae9a5dec023b370d4bdb27d79cdf30467
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 1 00:25:32 2019 +0200

    Add GUM_DARWIN_PORT_NULL to the vapi

commit f16d13cfaf2950830c512a4d12083dfa9201ece6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 26 22:34:11 2019 +0200

    Move Gum.Darwin.Module to the cross-platform API
    
    So it can be used on any platform to parse Mach-O files.

commit 82a033066a868e015780c792d77819d54badc4a9
Author: Álvaro Felipe Melchor <alvaro.felipe91@gmail.com>
Date:   Sat Sep 28 01:27:26 2019 +0200

    Fix stalking of thread creation on Linux/arm64 (#349)
    
    The clone syscall results in a child light-weight process (LWP), which
    we need to handle to avoid it stomping on the parent's Stalker state.

commit a0d4971e9ae3b0e79b16df1cdbac78212b6b85a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 24 06:08:22 2019 +0200

    Bump frida-java-bridge and frida-objc-bridge

commit 54ed6ddbd39d496b509bd583e38ba81e6161be81
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 19 19:48:27 2019 +0200

    Fix is_locked() query w/ current thread in the V8 backend
    
    It's not considered locked if the current thread is the one holding the
    lock. This makes it consistent with the Duktape backend.

commit 77efa895672203518c75cda3d78c64c65e9e838c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 17 03:01:53 2019 +0200

    Add CModule.dispose() for eagerly cleaning up memory

commit 057a527265b52d5a3304481f4a4a4fe68cd09d32
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 17 03:00:47 2019 +0200

    Fix lifetime of symbols attached to CModule
    
    We accidentally kept the CModule alive instead of its symbols.

commit bdf6053e1a170db0567ee388700f7a16a69e19bd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 17 02:59:05 2019 +0200

    Inform V8 about externally allocated CModule memory

commit 7a5b014beaedc3419df3dbadaf326a8c78779fc9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 17 02:57:34 2019 +0200

    Fix cloaking of CModule ranges
    
    Only part of the range was cloaked.

commit 94059dc47c4cfafde51d67034b87fa33b02ae26a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 17 01:59:44 2019 +0200

    Add missing ref-counting APIs to the CModule runtime

commit d3bdccf3a7ac37afa0b1db50ed39b04359bcffad
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 17 01:20:57 2019 +0200

    Remove unused variable

commit 3e863139fd97c8dfa727da0706b3bd4d02278f05
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 17 00:58:24 2019 +0200

    Bump frida-objc-bridge

commit 5a65f76cab1309ccfd7354323eb7c5c789a6ae85
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 17 00:50:43 2019 +0200

    Add some more convenience APIs to the CModule runtime

commit 1234681ba3c893b8ac2a721504f73836e3fce20a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 17 00:50:19 2019 +0200

    Update TinyCC

commit b26f0e23e545aed88adaea631031454cafe2075d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 17 00:50:14 2019 +0200

    Add CModule test for basic floating point

commit 5a7d3eaa054e14b0703577c712c4a40209122635
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 16 19:05:01 2019 +0200

    Update TinyCC

commit 1c1c8e4625172cf563abc96409546e4ba3f5c48b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 16 19:04:50 2019 +0200

    Strengthen the CModule varargs test

commit 1b111308199c23abc84736c5301e54ea6a8907cb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 16 19:04:32 2019 +0200

    Add GString and some handy constants to the CModule runtime

commit 1b75612d31b0521953b0a30a7c1961010cdd951b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 14 05:14:24 2019 +0200

    Improve CModule error reporting

commit 446bc5a78cd60de60e667777aeea6bc7b42d188d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 14 05:13:33 2019 +0200

    Add GumOS typedef to the CModule runtime

commit 6f5f76c6fe4a06ff2248ddd5badca0834c47b112
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 14 03:47:11 2019 +0200

    Update TinyCC

commit 7adbcbc7619f2da5f7c15508c19f4d88a75aa5ae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 14 00:51:13 2019 +0200

    Tweak the submodule URL for consistency

commit 8d9da64f4010f10fe3f2f2ff454b9c9fecf810c0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 7 02:39:07 2019 +0200

    Add CModule API powered by TinyCC
    
    For implementing short callback functions, where the cost of context-
    switching in/out of a JS VM is higher than the actual code to be run,
    even in unoptimized form.
    
    Up until now we have had to use the CodeWriter APIs to generate such
    callbacks, or deploy a shared library to Module.load().
    
    This allows us to write inline C in such situations, and also allows
    threads to be created, full control over synchronization, and calling
    functions without libffi overhead. (Great for fuzzing purposes.)

commit c10bbdbeeabbe64cb12b0a89bfac6fcf1d74e874
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 11 00:48:09 2019 +0200

    Add Stalker.exclude()

commit 74f2ea8f06cef7ac089f80b61715c97bdaa313cc
Author: 葛兵 <gebing@foxmail.com>
Date:   Fri Sep 6 19:06:23 2019 +0800

    Improve hexdump() to clamp length to length of ArrayBuffer (#347)

commit 186435fe16abebd0cf445b334e37dd4e046a3820
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 4 01:37:30 2019 +0200

    Bump frida-java-bridge

commit 906ce2c3b0fa43dd6b56b089e013f254351d791d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 24 03:05:45 2019 +0200

    Remove unused variable
    
    As we can consider the assertion superfluous.

commit fab4744cb6e260c44e8d3289fa2408aa0ff3d8e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 24 02:49:08 2019 +0200

    Re-generate Duktape without the Reflect builtin
    
    I.e.:
    
        -UDUK_USE_REFLECT_BUILTIN
    
    So the Babel polyfill is used instead of the non-standard builtin.
    
    Fixes frida/frida#989.
    
    Kudos to @gebing for tracking this one down!

commit 70d9c382cadc2dc6ede1ed1313e44a7c0f43eea9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 24 02:27:48 2019 +0200

    Speed up simple ModuleApiResolver queries
    
    This makes “frida-trace -i open” about 20x faster on a typical iOS app.

commit 3cc0ed7704396efa0b4ad146abb008cd1497190b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 24 01:31:24 2019 +0200

    Fix crash when logging early in process lifetime on iOS

commit 1868c063d603d40fa52a7d44652e35665b67c3e2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 22 02:53:44 2019 +0200

    Revive the Gum.Darwin.Mapper test program

commit c8f05382152af960f47d4b92cd13b80f12d236a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 22 02:41:45 2019 +0200

    Improve error-handling in Gum.Darwin.ModuleResolver

commit 75473c2741b63802bec8ec2aacbedbcc7e4fad91
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 22 01:52:37 2019 +0200

    Fix Gum.Darwin.Module.new_from_file() from shared cache

commit 90d2385573cd5ef69e5f2635362c821d2cbcb299
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 22 01:25:05 2019 +0200

    Improve error-handling in Gum.Darwin.Mapper

commit 8f706d33992b6e05d28cafa19470c5a9620d5d69
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 22 01:24:55 2019 +0200

    Improve error-handling in Gum.Darwin.Module

commit 79d5f4d6bf7b31eebca6918b7d403a34d844cb66
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 21 21:13:43 2019 +0200

    Improve the Interceptor C API
    
    To be consistent with the less verbose naming used in GumJS.

commit b4d79e6c9872f15b3e83391dcbe1e7a89c5665d7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 21 04:03:10 2019 +0200

    Fix interception of already intercepted Thumb function
    
    To allow two copies of Gum to hook the same function.

commit d8c5198caa136e08b3cf95c10925793402ccefe9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 20 22:41:58 2019 +0200

    Add test for hooking close() on Android

commit d3dbf98a85d0d73c5897ca12f244d49e30f6b585
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 20 22:41:41 2019 +0200

    Simplify Interceptor tests for Android a little

commit 426f065b132b1716c91170c1ae6dc8418e126661
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 20 22:40:15 2019 +0200

    Fix a few stylistic inconsistencies

commit afb25b19b4612d5a6bc5e95a2db0b3d018ec2b23
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 20 21:54:20 2019 +0200

    Bump frida-java-bridge

commit 115410d7a0f259d404568689cbbdce2d4350711b
Author: 葛兵 <gebing@foxmail.com>
Date:   Wed Aug 21 00:50:59 2019 +0800

    Tweak Memory.patchCode() to avoid crash on android-arm64 (#344)
    
    By clearing the cache before flipping the protection back.

commit 38bf79ed9d0f889fbdd09f38515119efa168f36d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 20 18:08:41 2019 +0200

    Fix new assertions in the MipsWriter test-suite

commit e519a04eee7af9b83f3576ba4c99a599cc36a1b0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 19 03:18:09 2019 +0200

    Remove unused type

commit db0ffa7e56a2b7a2fa1833a92e78053639c7fcb2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 19 03:17:58 2019 +0200

    Fix regressions in the literal ref endian logic

commit 0ba8429d77a138dcbd4d30777b6adbc7dc6b69e9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 19 01:09:20 2019 +0200

    Add missing casts to GUM_DEFAULT_CS_MODE defines
    
    Which was missing for some architectures.

commit b730b52eb13be55971d46a1584e19871d4a0e53b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 19 01:07:20 2019 +0200

    Fix undefined behavior in MipsRelocator.write_one()
    
    It was failing to initialize the “rewritten” variable in some cases.

commit 83711d5c717a09d7f7c68e1fe480478885066f83
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 19 00:19:12 2019 +0200

    Remove trailing whitespace

commit cb4a5bbc8b472abaa4656c6ed277c8a9a470f6db
Author: Jon Wilson <jonwilson@zepler.net>
Date:   Sun Aug 18 20:02:05 2019 +0200

    Port to MIPS64

commit 8c721c14a863a9e142bb2d0abaaed4b75f7edf30
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 16 20:55:53 2019 +0200

    Revive handling of NativePointerValue
    
    Which was broken in a few places.

commit 605afd012e18735d2b622ee80cc0d51cabb879b7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 12 22:08:58 2019 +0200

    Switch to the renamed frida-{java,objc} modules

commit 6681e74417a362393a922565cf1354a931a7df5e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 12 18:49:33 2019 +0200

    Bump frida-compile

commit 51cc1b8899e395516b1d740a2d7ae7024b38734e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 12 18:49:26 2019 +0200

    Bump frida-java

commit 6aa4c7ada32b17dc41d23dc5f302459cf1014969
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 9 04:14:18 2019 +0200

    Fix the init_embedded() heap ref count logic
    
    It took two references instead of just one.

commit 72aa9ca48681344899fabf469fe56b35c80e556d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 9 04:12:36 2019 +0200

    Improve naming in the internal heap implementation

commit 0d653d4c309f2333820d996ad7908e01dba9d13b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 9 04:11:15 2019 +0200

    Improve the Spinlock API
    
    - Add GUM_SPINLOCK_INIT to support static initialization.
    - Remove gum_spinlock_free(), as we don't need it anymore.

commit 0def53a7d38f5e3c359b73e25556e0f14b497f7a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 8 20:04:06 2019 +0200

    Make internal heap ref-counted
    
    For single-threaded use from constructor/destructor functions.

commit 98b87ad14441921f6e871360a275bdca22cae536
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 31 18:39:31 2019 +0200

    Bump frida-compile for Windows fix

commit d6e520bd6a65155b463459a6c4af2fb0f56d01ca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 31 18:39:10 2019 +0200

    Skip Babel transforms when building the Promise runtime
    
    To make it as small as possible.

commit 7d8ec2c6c807761ba120b94cdfb8eb115372f7fe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 31 06:19:24 2019 +0200

    Bump frida-java and frida-objc
    
    And move to frida-compile@9.

commit c4ab181cc7f4ad56ea05c650edfe9403b1f29631
Author: Ole André Vadla Ravnås <oleavr@frida.re>
Date:   Wed Jul 31 00:54:35 2019 +0200

    Allow Stalker.unfollow() during transform (#341)
    
    Kudos to Giovanni Rocca for helping fix this.

commit e8d1fb7a5d5ca7677afea48487316cbd9629d16d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 17 16:33:25 2019 +0200

    Fix call to Cloak.remove_range() in dlmalloc on Windows
    
    We were calling it with an empty range due to `size` being mutated by
    the loop. This violated the API contract, and resulted in an infinite
    loop.
    
    Kudos to @PinkiePieStyle for reporting and helping track this one down.

commit b81ab09a179374b6c755dc9eeebb5a26bab0ddd0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 17 16:29:15 2019 +0200

    Eliminate redundant locking in range cloaking logic

commit 772e5ab0d08346b086ac806874b7557c6ffebdaa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 3 23:53:47 2019 +0200

    Fix Cloak.remove_range() when splitting an existing range
    
    The top part ended up right after the bottom one, with no gap between.

commit c1b971b7bd02221795fe796d40a385865f7f16db
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 2 15:42:17 2019 +0200

    Improve Cloak.add_range() to conflate adjacent ranges

commit 30c7918460dcefb2d3a339b564838633731e0990
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 2 15:40:14 2019 +0200

    Fix Cloak.enumerate_ranges()

commit 7566884aa8b879e7c87c8c607e1e4e28b09325e9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 2 15:39:38 2019 +0200

    Remove obsolete comment

commit 4b7545109964e3d84242736683bac8762abdb02b
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Jun 27 14:16:55 2019 +0200

    Fix gum_thread_try_get_ranges() on latest Apple OSes (#338)
    
    In recent libpthread, e.g. iOS 12.x, the `stacksize` field became `stackbottom`.
    As the rest of the fields we care about are still valid, we can simply query
    pthread_get_stacksize_np() to determine the size. This way there's no need to
    add complexity to figure out the flavor of the structure (at least for now).

commit ebde49e0bcde1a70ed7ddff0736edc0d7233271e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 20 02:52:48 2019 +0200

    Bump frida-objc
    
    For new $moduleName property on ObjC.Object.

commit 6f8cf08022ce0642832b14e0602e4ac11e46ce61
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 20 02:11:00 2019 +0200

    Remove TypeScript bindings
    
    Now hosted at:
    
        https://github.com/DefinitelyTyped/DefinitelyTyped
    
    Installed through:
    
        npm install @types/frida-gum

commit 6e36eebe1aad51c37329242cf07ac169fc4a62c4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 19 19:34:42 2019 +0200

    Bump frida-gum-types to 6.0.0

commit 8c98874844636f3e59583549b7708fdc9d1f6522
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 19 19:33:20 2019 +0200

    Move away from const enums in the TypeScript bindings

commit 3ff0d95599179cf8aa6bdfdca7e6742af42ed4dc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 17 21:58:13 2019 +0200

    Tweak the Interceptor performance tests

commit 4ea84a4aeb1f401b13aea40179b19680793b2c9c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 17 20:53:33 2019 +0200

    Update Interceptor test to match latest arm64 behavior

commit 3a43a447e4f77ab77e8ece5190dab0afffed2298
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 9 20:16:26 2019 +0200

    Bump frida-java
    
    For 32-bit ARM regression fix.

commit 67d8a817b9ee4f4753167106cf2f529ebe6cc380
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 7 20:01:34 2019 +0200

    Improve the Interceptor LR rewrite logic
    
    To support more versions of libdl.so and make the logic safer.

commit a7de49204542f1301f63154b24614b03a48e48b6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 5 12:51:36 2019 +0200

    Bump frida-gum-types to 5.0.6

commit c89c3bf48aa00546303ae8024a837eeda4928334
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 5 12:50:45 2019 +0200

    Improve type definitions for {Native,System}Function
    
    To be able to use them as functions without casting.
    
    Fixes #337.

commit 813047cfd96a25fd35c597607cf0bd45f34f7e36
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 4 17:51:38 2019 +0200

    Bump frida-gum-types to 5.0.5

commit 16c4792352ae735a1ea4d841478539f9f1b49d63
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 4 17:50:56 2019 +0200

    Fix the docstring for SqliteDatabase.open()

commit 0ec4bdf56a908fd3f943fddef445f61004192def
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 4 17:34:07 2019 +0200

    Bump frida-gum-types to 5.0.4

commit f415637da0db6f3b8baab9c43c90efa318c9881f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 4 17:33:37 2019 +0200

    Fix the type definition for SqliteDatabase.open()

commit a92a31f8d6f82df61df4fc6acdfeb0a37c393aa4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 4 01:06:28 2019 +0200

    Fix build regression on linux-arm64

commit 099b2de2d59b3008b7817fcf2b0291b1f00fda09
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 4 00:49:05 2019 +0200

    Improve Stalker to handle restartable Linux syscalls
    
    In case the thread being followed is currently in a restartable syscall,
    it is important that we allow the program counter to shift back, and
    make sure it lands on the syscall instruction when that happens.

commit 3c4421cfc5c0f8feb4b89ab2a93e9b2eaa5b1ffd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 4 00:40:30 2019 +0200

    Fix Linux thread enumeration on x86-64
    
    The GCC stack protector code relies on the `fs` segment register being
    set up.

commit 3c332831d05f41dac790daa821c9ac36b3eb27fb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 3 05:12:44 2019 +0200

    Bump frida-gum-types to 5.0.3

commit a6ac850dfde0a3312fc0e6b938a65dbe894e980b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 3 05:12:19 2019 +0200

    Fix the Backtracer type definitions

commit 3cbe23a66d56e11ac32d21cbb7021fc97249d7f2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 3 02:53:01 2019 +0200

    Bump frida-gum-types to 5.0.2

commit fffbe7bb71132d030cce04c84a1baee64d4de000
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 3 02:52:28 2019 +0200

    Improve type definitions
    
    Issues caught by the DefinitelyTyped test-suite.

commit bf71f1b573d704f48b1bbcc56c9c68af243be3b5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 3 01:05:54 2019 +0200

    Bump frida-gum-types to 5.0.1

commit b6f8afdecaefa055402953f2d0eceeed59a38562
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 3 01:05:32 2019 +0200

    Fix type definition of Java.classFactory.loader

commit e6b60db5743e314b2d69f12ff661fa00801d1440
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 3 01:01:43 2019 +0200

    Bump frida-gum-types to 5.0.0

commit 071604012460bbc6ecc6a8c77c541fc4d31e0509
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 3 01:01:10 2019 +0200

    Improve the Java API type definitions

commit 1c9a398cb29971da67f3c1800fe2fb1264db47e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 3 01:00:42 2019 +0200

    Improve the type definition for gc()

commit 7e3809c9572005f374ca4096b412140b9e7c9dca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 2 18:31:38 2019 +0200

    Improve type definitions to cover nearly everything

commit a95127a2eae667fa890d71a6b373069a45a867c2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 2 03:51:05 2019 +0200

    Bump frida-gum-types to 4.3.1

commit e4550203c37cce54241b4769bd48c01351789122
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 2 03:50:27 2019 +0200

    Improve type definitions for Stalker's transform callback

commit 0b4f2ebcaa717417d55bf5cc218dfb926832757d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 2 03:39:26 2019 +0200

    Bump frida-gum-types to 4.3.0

commit 32b2c078bd4ffc120833dbe5d6bc55f8c0246cfb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 2 03:38:41 2019 +0200

    Add type definitions for Stalker's transform callback

commit 1f6f902ea28035713addca50d386edc2d6351685
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 2 03:25:01 2019 +0200

    Complete the Stalker.parse() type definition

commit 424b68eb4f01c3cd9259c36528cfb701f2a6d63b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 2 02:59:31 2019 +0200

    Improve the Stalker API type definitions

commit 1de8c7f6070dc333e7883142e1ac8aa2f58e2e47
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 2 02:17:37 2019 +0200

    Complete the stream API type definitions

commit fdb3d0fe09e8a9e24c7a99c36844bad596397be0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 2 02:00:27 2019 +0200

    Improve the File API type definitions

commit afa6b6dea88b867900e4e6aeaabf54d61d1fec64
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 1 22:59:45 2019 +0200

    Tweak generate-bindings.py to support older Pythons

commit 83e939150d6c94e01e7cd8505b8241b23b8f2875
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 1 21:38:50 2019 +0200

    Bump frida-java
    
    For regression fixes.

commit 7ecd207b97fe9bad28ba3d467e96a518b5d1eb10
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 31 19:38:05 2019 +0200

    Bump frida-gum-types to 4.2.1

commit 4ed745232c158bfa30e0a20d59fa83858c144bcb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 31 19:37:10 2019 +0200

    Add type definition for NativePointer#not()

commit 5483e6f92e37d65a9077d6f29c924553abb49e22
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 31 04:52:01 2019 +0200

    Bump frida-gum-types to 4.2.0

commit c00b55dbf1e7aa6fb8972b3f54ce0f697676d353
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 31 04:51:07 2019 +0200

    Add type definitions for writers and relocators
    
    Auto-generated by generate-bindings.py.

commit 981a58aed1cca4b473324960b2c3de789fa8d09b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 31 04:50:21 2019 +0200

    Add type definitions for the Instruction API

commit b2c7500ff830d0691190bc9dec93a4c89fbad87b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 31 04:25:53 2019 +0200

    Generate type definitions for writers and relocators

commit 80b1bfa2b7c1e74994346b728a9ea79d1499de1f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 30 21:27:09 2019 +0200

    Bump frida-java
    
    For multi-instance fix and improved Android ROM compatibility.

commit dc64bbdbe1a13987c454c8e7e9ecd1f63a9a13d1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 28 20:12:20 2019 +0200

    Bump frida-java
    
    For method hooking optimization.

commit 7d7c2882aa47a43de9161ee478532d4d1eb1b27b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 28 02:00:54 2019 +0200

    Bump frida-java
    
    For ART exception delivery fix for 32-bit targets.

commit fc25b6ce98d59d3b38003fe759ba04b893e718bc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 27 21:04:10 2019 +0200

    Bump frida-java for stability improvements

commit 24df9e4f181b6d00f21a23747c128659a568dc93
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 27 17:15:24 2019 +0200

    Update test to match new behavior

commit 487e5286facdc539a85821ac46d55f849133855a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 27 17:15:14 2019 +0200

    Fix the Interceptor JS binding flush logic

commit 0f6c141208404329974b277832fb14f05c52ebae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 27 16:51:13 2019 +0200

    End Interceptor transaction on yield
    
    This ensures Interceptor.flush() works as intended.

commit 39e5c143b482fe4faf4a421f319ab835120ad502
Author: iGio90 <giovanni.rocca.90@gmail.com>
Date:   Sun May 26 17:25:52 2019 +0200

    Make libc API public (#336)

commit 2bdcb9a1bc12cbb64898d066e50268579347be9f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 24 22:04:22 2019 +0200

    Fix export lookups on Android apps' own modules
    
    Spoof dlopen() caller to be the library itself, which always succeeds.

commit 219dccfa48392a6cd89d079d3239616bb68752f4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 21 00:44:58 2019 +0200

    Fix crash in V8 runtime when WeakRef is bound late
    
    E.g. if the callback for one WeakRef unregisters a NativeCallback, and
    a thread has already called said callback and is waiting for the JS lock,
    *and* the JS code for that callback binds a new WeakRef when it gets the
    lock.

commit 2c67e3228f191f1eb792b63842003bd59a670063
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 19 15:25:08 2019 +0200

    Fix racy use-after-free in V8 backend teardown
    
    The cleanup of the operation object used the possibly-already-destroyed
    platform object as part of cleaning up the GSource.

commit 52666d00faccb269ab99256d288368f2cb121a45
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 19 03:51:49 2019 +0200

    Move ScriptBackend's scheduler teardown earlier
    
    Its thread pool should be shut down as part of gum_shutdown(), before
    glib_shutdown() forcibly takes care of remaining thread pools.

commit a521b896d8733715df2e6f9d1b411556dbc09f7b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 19 03:36:41 2019 +0200

    Disable quirky tests when building with ASan

commit 79426e5ebc000eb2935d8c9111421510d4b8554a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 18 19:58:50 2019 +0200

    Bump frida-java

commit b7b8035c2752ad72a586690a25a1d8b40d0a386b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 18 02:04:34 2019 +0200

    Bump frida-java

commit 0bb9f0e54b84ce38f8872eeed6ace5d063a6f22e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 17 21:33:45 2019 +0200

    Bump frida-java

commit 3ce2833a9fcb91a5fede25fbe539c762fe01df2b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 15 17:40:53 2019 +0200

    Skip Interceptor listeners during V8 page allocator operations
    
    In case the agent has hooked CC_SHA1(), which might get called on iOS,
    we don't want callbacks into V8 happening at this point as it will
    result in a fatal error.

commit 6f3a0cf21684cc44cd616bb9ed1f77bc1cd2d1de
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 15 01:03:57 2019 +0200

    Actually fix the linker detection fallback logic

commit 9fbbac0b134fc2253f442ce3607180d80302da9e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 15 00:37:33 2019 +0200

    Fix linker interactions on 64-bit Android < 8.0
    
    Turns out Google broke the “soinfo” 64-bit ABI in 8.0.
    
    Kudos to @trufae for helping track this one down.

commit 10e3820570c209a736befe6505502c498083ab71
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 15 00:35:48 2019 +0200

    Add linker detection fallback for Android 7 on ARM archs
    
    Also fix the fallback logic.
    
    Kudos to @trufae for letting me poke his testing device.

commit 7310a22efcfa934710067fcf26c81b8c057f591b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 14 15:58:36 2019 +0200

    Add linker detection fallback for Android 9 on ARM archs

commit e64033a3cd1d3bf193fd2894a397bc09d3fbebfc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 14 02:41:38 2019 +0200

    Bump frida-java for “invalid instruction” fix for arm64

commit e6caa2e9682ab95cdc58a93fde1c6b798f40abce
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 13 00:55:32 2019 +0200

    Add a basic fallback for stripped Android linkers
    
    Only supports older linkers for now.

commit 5629368477285d01c4c3419b7527e0935703d083
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 10 21:16:00 2019 +0200

    Remove redundant 'use strict' directives

commit 5d1ee6f6e1e7001ec48f2827ff59283267d2a6d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 10 18:36:31 2019 +0200

    Add missing wiring for the HAVE_DUKTAPE define

commit 341088275651f806f890b083d00a9fdac32b5883
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 10 00:37:44 2019 +0200

    Add missing function prototype
    
    Accidentally lost in the refactoring.

commit 0f9ed28e278b67fd5687c94d97c5e1100190e70d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 10 00:07:39 2019 +0200

    Share a single ScriptScheduler between backends
    
    This is needed to preserve frida-gadget's wait-for-resume functionality
    after porting it to also supporting multiple backends.

commit de4c5391435f8225760ab7dfa45c5250c97472b9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 9 21:00:15 2019 +0200

    Improve the script backend API and build system
    
    - Allow either backend to be disabled.
    - Specify which backends are available in the .pc file.
    - Canonicalize the Meson option names and declarations.

commit 6777aa6004544fa8fe0560414c43fce98da9e536
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 7 22:19:47 2019 +0200

    Don't enable diet mode by default on embedded Linux

commit 26e7caba16f480f7ca65f1b8660fe40938f4d288
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 7 03:33:19 2019 +0200

    Add missing casts to fix warning regressions

commit 7660f04f3ffe1c134b438e5c5b90100f66234f41
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 7 03:12:39 2019 +0200

    Fix Android linker detection when vDSO is missing

commit 5b3c6b98d0bde59dddbac302aa723f64d3dc33b8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 7 03:04:25 2019 +0200

    Move HeapApi to core
    
    Now that gum-prof depends on it, and we don't want it depending on
    gum-heap.

commit 83e98b4abb16898b7fdb72948654971d5c76c09c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 17:03:02 2019 +0200

    Re-generate Duktape without the Symbol builtin
    
    Polyfill modules like es-abstract may assume that if `Symbol` exists and
    `Symbol.iterator` is present, then `Array.prototype`, `String.prototype`,
    and such must have it, and calls it without checking. (Kudos to @mrmacete
    for reporting and digging into this!)
    
    So to keep things simple we disable this feature, as applications needing
    this kind of features are better off using frida-compile, or using our
    V8-based runtime.
    
    The Duktape snapshot was generated like this:
    
        python util/dist.py
        cd dist
        python tools/configure.py \
            --source-directory src-input \
            --output-directory src-frida \
            --config-metadata config \
            -DDUK_USE_DEBUGGER_DUMPHEAP \
            -DDUK_USE_DEBUGGER_INSPECT \
            -DDUK_USE_DEBUGGER_PAUSE_UNCAUGHT \
            -DDUK_USE_DEBUGGER_SUPPORT \
            -DDUK_USE_INTERRUPT_COUNTER \
            -UDUK_USE_SYMBOL_BUILTIN

commit 5428140645a5999d273513370f9c37dc972cc3f6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 14:35:15 2019 +0000

    Fix tests involving malloc and free on Linux
    
    By being explicit when instrumenting heap APIs.

commit bf52cc9c99be7ead476c520a26e48d5ac751a7ff
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 14:30:57 2019 +0000

    Add MallocCountSampler constructor for specifying APIs to monitor

commit a38a4f6c4c82e422c2726810384a60e9d2eea2ff
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 13:24:58 2019 +0000

    Fix warnings reported by GCC
    
    Include one error-handling tweak.

commit 2632af679ad6482b6aa28379fc5e02094df869f2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 04:42:07 2019 +0200

    Bump frida-java

commit 14b845371c1322bb1014922d6fe6af1a9fb8538a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 20:43:42 2019 +0200

    Add gum_android_get_linker_module_details()
    
    By cleaning up and exposing an internal API. Need this for the injector
    in frida-core.

commit 2b164e0cf438ca8c5e1951ef8726d25d1a07684a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 19:37:18 2019 +0200

    Revert "Limit “follow_thread” test to slow mode on Android"
    
    Root cause turned out to be unrelated to Stalker, and got fixed by the
    assembly code cleanups and fixes in the Linux backend.
    
    This reverts commit 79caa87fe8e69e72779292364abd5b5d6064debe.

commit 8ae3b2eaca560f5a1917abefc27e1945f874d28f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 19:36:09 2019 +0200

    Fix stylistic inconsistency

commit 4ad6c3f05083087c2f1f1e99c56124cd5ef17128
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 19:35:22 2019 +0200

    Fix tests on lower Android API levels

commit 478659949c2fd404ac68b1aff2aa2d0bef55e3a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 19:22:02 2019 +0200

    Simplify and fix the Linux ARM64 assembly
    
    Also clean up the assembly for the other architectures, tighten up the
    clobber lists, and add CFI directives.

commit d1caf9e1e6c3a33eca73fae26d675d936bbd8f9f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 16:33:51 2019 +0200

    Simplify and fix the Linux ARM assembly

commit 8f1c5aecb37a552708d16636590dd78727b1f291
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 16:06:48 2019 +0200

    Simplify and fix the Linux x86_64 assembly

commit fcea5ceb87c0696ddd68dd472b4a02eafdeda0a5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 16:05:16 2019 +0200

    Improve style of the Linux x86 assembly

commit 8c891178b1cfee3e194f3474b2b13e955dc5842c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 15:34:58 2019 +0200

    Fix linker detection on Android Q

commit 070fc58ae40f0321a054e3e5838a5ce457539a78
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 04:53:45 2019 +0200

    Remove stack pointer from clobbered registers
    
    It shouldn't be there according to the documentation.

commit 7c2454cb2427d0eebc16ae3f60eb1fdb878bc97d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 04:49:49 2019 +0200

    Simplify and fix the Linux 32-bit x86 assembly
    
    The previous approach caused a stack corruption and subsequent crash,
    but also made it difficult for the compiler to allocate registers.

commit 0a6dd27302b5f8ae991a00fd06a4980b14300186
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 04:41:17 2019 +0200

    Fix type of the Linux syscall wrapper's result variable

commit ee81f0c2657a4f4a1ea45160c1b1366b260819ee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 02:05:36 2019 +0200

    Update the Android linker exports test
    
    And strengthen it a bit.

commit b648d8f6bf779e5bf056de93a454be0534c046ee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 00:09:24 2019 +0200

    Revive the Android magic linker export logic
    
    Needed to look up e.g. dlopen() on API levels below 26.

commit 3b7b1c3affe44d5b245e94329f4284a81bb537ce
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 23:06:21 2019 +0200

    Add symbol entry for the linker mutex on API levels below 21
    
    Also add missing clarifications on which symbols are used on different
    API levels.

commit f2491a4ff7f97a8c932f2c12de5230d7942994d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 22:22:24 2019 +0200

    Fix module enumeration for the Android linker itself

commit 7e14ef69943ad60d346e364a6ca922bbe3653b9e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 21:42:02 2019 +0200

    Add basic handling of the vDSO in Elf.Module

commit a535271946d086f2172512616fb95922f51fffa5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 21:04:34 2019 +0200

    Revert "Re-disable the Duktape Symbol builtin for now"
    
    This reverts commit e90423bb092a218a46633d408694f9acaf459cd5.
    
    Need to re-generate Duktape.

commit e724e7bca1edf8bccdb5f30d560760b70b94ad52
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 20:54:10 2019 +0200

    Simplify path logic to avoid dependency on libc free()

commit e90423bb092a218a46633d408694f9acaf459cd5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 20:42:23 2019 +0200

    Re-disable the Duktape Symbol builtin for now
    
    To avoid behavioral changes that may conflict with Babel.

commit 2a428c3ad51c4dedb9f1d35b89220e72bada1274
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 20:35:57 2019 +0200

    Fix another assert typo in the Darwin backend

commit 14c4738c09878aeda02cc66d81646a09e8cba34a
Author: Eugene Kolo <eugene@kolobyte.com>
Date:   Sat May 4 14:34:52 2019 -0400

    Fix assert typo, changing “length” to “size” (#335)

commit 79caa87fe8e69e72779292364abd5b5d6064debe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 20:32:18 2019 +0200

    Limit “follow_thread” test to slow mode on Android
    
    Stalker is not yet production quality on android-arm64.

commit 1d30a532a1e1e0369f7c067e1d9a0310ff4faca6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 20:28:38 2019 +0200

    Revive the Inteceptor tests for Android

commit 1065a3ac040dc3946e10cfeded84cb51c75081f9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 18:00:13 2019 +0200

    Disable the Linux module bounds test on Android
    
    Now that we're getting our data directly from the linker, it's really
    hard to compute the correct answer knowing e.g. that an anonymous BSS
    range following the module belongs to it and not something else.

commit e8f61b97002874efadfed07fc9625d3beb2df33b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 17:33:16 2019 +0200

    Improve the cloaking test to also work on Android
    
    Where the current thread is not yet enumerated.

commit 8f96df37026d7185230d58b81dcf8ea810469cb7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 17:19:06 2019 +0200

    Add support for the most recent Android linkers

commit ec51dadb75cd4ffcbf0f8f506cd6e3830f3b9f12
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 17:08:25 2019 +0200

    Improve the Android linker base address detection logic
    
    Linker might actually start before the vDSO.

commit f0556d7fdb3e7beac586a1a83ffcc462869f852e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 05:17:01 2019 +0200

    Simplify the Android dynamic linker integration
    
    The primitives we were using made for a brittle implementation, as it
    turns out the deeper ones are inlined on some versions of Android.
    
    So instead try a higher level approach where we call an entrypoint near
    dlopen() with flags matching how the module was already loaded, and
    caller address matching the module's existing parent module.

commit 3d2cec8fabaa072a6b3f8363b28cf887ede6a30a
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Sat May 4 02:22:32 2019 +0200

    Use libc’s free() on libobjc-allocated pointers (#334)

commit 9d1511ce7fc8532f04bec733e3ebae2ae41a365a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 2 04:54:20 2019 +0200

    Improve safety of symbol lookups on Android
    
    It is dangerous to call dlopen() without matching exactly how the
    existing library was loaded.
    
    Also clean up the internals and make the Android API public so
    frida-core can use it for its injector.

commit 9bdbc805cd6331f57083cc5b7d3ff1dc55ce43cb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 3 15:52:22 2019 +0200

    Include vDSO when enumerating modules using proc

commit 4e63ea4fcbcdbedec77365d43ba246464cf30ada
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 3 04:35:08 2019 +0200

    Make the Elf.Module API public

commit c1feee7d282170f2f48e4f936511f543c4b87428
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 3 20:17:48 2019 +0200

    Improve the Gum.Address cast macro
    
    So it can be safely used to cast the address of a function.

commit 257b5a0faac3b6e7570311c59163245786d0fbeb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 2 19:08:22 2019 +0200

    Fix stylistic inconsistency

commit 6c2a505fa386c35c56ceecee3b99594fca9ff6a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 1 23:36:28 2019 +0200

    Split out the Android backend bits

commit 94d95aa2ae7c6ab96689a5d461130a38049836e3
Author: Florian Märkl <info@florianmaerkl.de>
Date:   Wed May 1 23:54:19 2019 +0200

    Add support for Wow64Transition in Stalker (#333)

commit fcf1ea4e744100e748217c762e3ea764a4a23263
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 30 23:49:16 2019 +0200

    Report JS stack-trace when runtime fails to initialize
    
    Like we do in the Duktape-based runtime.

commit 7462fe26e692727b52d07e341b8f09d98af83147
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 30 12:16:39 2019 +0200

    Bump frida-gum-types to 4.1.0

commit 3d6cb1d623c8eba2982d24a01463621156b94d23
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 30 04:47:00 2019 +0200

    Improve Module API robustness in the Linux backend
    
    - Always be careful when calling dlopen() on an already loaded library
      belonging to an Android app. Spoof the caller so it looks like it's the
      library itself calling dlopen().
    - Bail if ensure_initialized() is called on a library that's not loaded.
    
    Also refactor the Android bits for improved readability.

commit ca1bf12629d58bb221ef3ec984570ad4d338251a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 30 02:52:19 2019 +0200

    Omit RTLD_GLOBAL when looking up an existing module
    
    Doing so on a module loaded with RTLD_LOCAL may result in its symbols
    becoming globally visible (e.g. on glibc), which is definitely not what
    we want. The reverse direction is however not a problem.

commit b1ee6aba348eba6e94595aa3e17ddf7a70794d61
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 30 02:48:55 2019 +0200

    Load module without making symbols globally visible
    
    This is what's desirable in most use-cases, and is also the least
    intrusive. We should add an option for setting RTLD_GLOBAL if/when
    needed.

commit 2d1dd73b78769526c93eddba5975978cf0c642ab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 22:38:27 2019 +0200

    Take Capstone into account when estimating memory usage

commit 8a9ac2d4cb0865e5a4840b0ccdf414fc5a464861
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 22:37:41 2019 +0200

    Enhance Gum.Module.load() to bypass Android restrictions
    
    Based on the out-of-process implementation in frida-core's injector.

commit 113ac4795b1035430a688ef67a91564c5a8599d2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 20:08:44 2019 +0200

    Add missing includes and fix copy-pasta error

commit 9072f4f01f69e7de648c36c11d55b5b22b53727a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 19:52:40 2019 +0200

    Add Gum.Module.load()

commit df4f4ea99bc3b412f58c409e590762f2435a3e26
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 19:48:19 2019 +0200

    Add {find,get}exportByName() to the Module prototype
    
    To improve ergonomics.

commit 4e40a7fc87693ef00dbd1a1ddd784387dfd72c1c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 12:52:10 2019 +0200

    Fix function parameter shadowing warnings

commit c3830a54a1e7f7897ad8a4e45d35d505d3eee162
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 02:48:56 2019 +0200

    Tweak the iOS runner script to assume a thin build

commit 36c28f0cbe1481fbba2c2cb21a43262bccb04c29
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 02:48:36 2019 +0200

    Skip Stalker performance test on iOS without debugger
    
    Depending on the jailbreak it might be slow and unreliable.

commit 0d3d9eacff63eb76a24e9a93c66a79bc9fcd4700
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 01:30:58 2019 +0200

    Upgrade Duktape to latest 2.3.x

commit db1a047e5d21eea5b82397f9ed63b75093ac0720
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 28 22:15:31 2019 +0000

    Add Gum.Address.from_pointer() helper
    
    To avoid the common pitfall of casting directly from a function pointer
    and ending up sign-extending the pointer in a 32-bit process.

commit 0c473458fa84d776963816a13091965082424e7e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 28 21:20:54 2019 +0200

    Build gum-tests executable without any exported symbols
    
    This means the linker can make it smaller, but more importantly also
    avoids conflicts with dynamic symbols from system libraries. The latter
    has already caused some pain due to Frida's proxy-libintl clashing with
    a symbol in glibc.

commit a3459043f87ce7a670ea5f0d07dca92e35f72875
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 28 20:44:55 2019 +0200

    Improve handling of debugger and Valgrind across tests

commit 20b9c510af5edfe415a13231b36abae875606b44
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 28 20:44:01 2019 +0200

    Improve support for vdso when enumerating modules

commit 532ebe76a0d1de9ba45f6fd2e46ae50ec18d3f63
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 28 20:42:23 2019 +0200

    Improve the Linux libc detection to avoid popen()

commit 22cbf6368acbd04ce63cf8bdc5b92ea021558507
Author: Florian Märkl <info@florianmaerkl.de>
Date:   Sun Apr 28 18:30:21 2019 +0200

    Add g_set_prgname() to gum_init_embedded() (#332)

commit 71004dd33cfba0f541e5071ddf3cf6ee0e58227d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 28 18:27:23 2019 +0200

    Fix unused result warnings reported by GCC
    
    This also improves error-handling in a few places, and removes redundant
    handling in others.

commit 2af12e270317db9c51da53055f00213f5ada5e06
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 27 03:09:03 2019 +0200

    Fix ambiguous call to SetFlagsFromString()

commit afcb834b96b24a4427751661ce44d791cfa6e21d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 26 21:13:42 2019 +0200

    Fix precision-loss in MonotonicallyIncreasingTime()

commit 0c8aea8940d506614c7e06d996100658acea3d69
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 26 21:11:37 2019 +0200

    Remove calls to deprecated V8 API that has no effect

commit 815e71cffae5e0d4a79b02cf04c1073382193211
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 25 03:08:11 2019 +0200

    Skip pseudo-signing when a debugger is attached
    
    To improve performance for V8 and Stalker use-cases.

commit 31dc1bfc7ea1c5816dd25f24571884d8b179b8bb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 25 03:06:08 2019 +0200

    Fix thaw logic in the backpatch traps

commit 9809308739836102d1a7e152d2cd254d33d1fb1d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 25 03:04:39 2019 +0200

    Refactor the block commit logic
    
    To improve clarity.

commit 69764a93a424c1ceacafd99eeefaf1c723b6b2ff
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 25 03:03:56 2019 +0200

    Tweak the slab header size calculation
    
    To be able to fit a lot more blocks per slab.

commit fe3f4ff7acc610efdfc20958e0b6ae9206ab3e01
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 25 00:56:51 2019 +0200

    Make Stalker work without RWX pages on arm64
    
    Based on an excellent patch by @JohnCoatesOSS.

commit 30deb2c29f060948407b585c4b23475ea60b965b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 25 00:53:28 2019 +0200

    Fix gum_memory_mark_code() on iOS

commit 9e5a3d26ae41736336dbb01f523d658f6c1ee979
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 24 19:10:03 2019 +0200

    Add gum_memory_mark_code()
    
    To simplify making existing memory executable.

commit cff6a2e3603b25dfe80c9c24b27b508f45666a3a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 24 19:08:54 2019 +0200

    Improve the Memory API
    
    Use a pointer to specify the address for consistency with the other
    local memory access API.

commit 4edaaf32ea1419b30e477ed5abfbc404b9fc9533
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 24 16:47:35 2019 +0200

    Switch V8 into jitless mode when needed

commit 94cb40c9da49505ba0eb6579e7b28b3834e1174f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 24 16:37:39 2019 +0200

    Update the V8 feature flags

commit bdbb562abf162f035830e1ca14c5361bd5b6f1e3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 24 14:55:35 2019 +0200

    Enforce strict mode
    
    That this was not enforced from the start was an oversight and has no
    doubt caused a lot of pain.

commit 153094776f6278b1641b6728fbef20a3dfa84bf1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 24 01:29:40 2019 +0200

    Do not embed Capstone in the static library on Windows
    
    This was done by accident.

commit ce2000a8523fe6136a836e698c8fed4915fe4aa5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 23 17:51:16 2019 +0200

    Add gum_memalign()
    
    So we provide a complete memory allocation API.

commit 1edcc000208cb312bf374bc9b0241fcfb3f0f50b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 23 17:50:20 2019 +0200

    Fix minor stylistic inconsistency

commit d3c117b22df7909eb26eb4b8d7e1950968549dc1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 23 00:14:56 2019 +0200

    Make the printf replacements public API
    
    As they're useful for avoiding libc implementations, which often call
    undesirable APIs like malloc().

commit 4fc4c40f4edcd7b14e70b2acf6d501ae020f3596
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 17:02:16 2019 +0200

    Fix PDB output clash when building gumpp

commit 2e9afaaf17aa2dd3e00456a3c0c52cfcb43dc1c7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 17:00:54 2019 +0200

    Extend Memory API to support specifying alignment
    
    It isn't feasible to emulate this feature on all platforms.

commit 4a52a4cbe332ab4cd91461cb2189522e9e751186
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 01:39:44 2019 +0200

    Add MADV_FREE fallback for older kernel headers

commit 47d5a56f2cc957f7e094a37ed5a04d3c8ca33b01
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 01:26:50 2019 +0200

    Ensure gum_try_alloc_n_pages() commits the allocated memory
    
    Like it used to.

commit b4f2948a455ffa7509d9ab2b536d2ee4735b7ac9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 01:05:45 2019 +0200

    Add missing include

commit e42b86784d07b9b6f2420b36197ea833ff73eed5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 00:33:21 2019 +0200

    Fix the Instruction.parse() test on arm64

commit 345ee383d864a21e19a0b4436be33cb56b057e54
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 00:32:10 2019 +0200

    Bump timeout of the entire NativeCallback memory test

commit 952049f1bc3323cbd0701540261146439b634737
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 00:31:27 2019 +0200

    Run iOS tests without the “run-unsigned-code” entitlement
    
    To make them more realistic.

commit 2e9b66dc0a9c1a700a77925560b555bf5be25302
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 00:30:24 2019 +0200

    Fix a minor stylistic inconsistency

commit ffcc1583321d0b020b044cafd5735ecc67c67984
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 00:30:09 2019 +0200

    Implement a basic v8::PageAllocator
    
    So we can use V8 on iOS.

commit 421bf1b07f634d4217ce75a7fdf2bcffa813c3da
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 00:28:20 2019 +0200

    Add gum_code_segment_mark()
    
    To be able to efficiently implement our own v8::PageAllocator.

commit 04d8749c687c39b41924d079d1ea89fc574ec2f0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 00:22:42 2019 +0200

    Improve the Memory API
    
    To be able to implement our own v8::PageAllocator.

commit d4e55fb7a03cd4f8b61070c429930e389d144d7b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 14 13:13:39 2019 +0200

    Fix deadlock when loading CoreSymbolication
    
    Because the invalidator would try to get the symbolicator lock during
    construction of the symbolicator.

commit 6d742c78d68ce65b0376a9409a955b5420cfe1ba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 13 01:39:35 2019 +0200

    Fix unintended pointer to integer conversion

commit 0ebce560b52aef446d85d34a1ccc9cc6776aa904
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 12 22:48:36 2019 +0200

    Fix warning regression on non-Linux
    
    And re-enable follow_thread test on Android while at it.

commit c149c5fa85e81f209a0f36c49941c29ce25a3ab0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 12 21:15:26 2019 +0200

    Fix assertion usage in implementation vs test code
    
    Implementation code should never use g_assert_cmp*(), and test code
    should never use g_assert().

commit 3faa922e10b6fa1bfd5484cd69a2d5d8bc21c373
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 12 16:24:02 2019 +0200

    Fix non-Linux build regressions
    
    Introduced in 73bf271a4e2d4dc2f2e37b3a04bb3681e8160dd0.

commit 531181d6cbfa077c99bf309449365cf91b361822
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 12 15:57:54 2019 +0200

    Make the NativeCallback memory test more predictable
    
    Should warm up the heap properly before measuring.

commit fd5369a05e40feb89d72706cf5925140d8776eb3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 12 15:00:09 2019 +0200

    Bump frida-objc for union-handling fix

commit 73bf271a4e2d4dc2f2e37b3a04bb3681e8160dd0
Author: Josiah <josiah.yan@gmail.com>
Date:   Tue Apr 9 07:49:29 2019 +0800

    Fix Linux thread tampering in non-dumpable processes
    
    Fixes frida#330 partially and frida#319.

commit 9d26954b3a7af14f51a7979f7aa5fb036cbb9e63
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 11 22:05:39 2019 +0200

    Remove the temporary Capstone test-suite
    
    The missing instructions are now available.

commit 0ffdae1a668deae003acbd64a9c34a919fadb8eb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 11 22:03:25 2019 +0200

    Port to the latest Capstone API
    
    Now tracking upstream's “next” branch.

commit 27f8e83d41936e087692ada059402e051522574e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 7 01:34:56 2019 +0200

    Explicitly target C++11 when building Gum++
    
    The default is not used due to a regression in Meson.

commit 7317af16de2e00d42896a4e99af0954f253b01de
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 7 01:26:32 2019 +0200

    Remove redundant exception-handling

commit ee33a4180cf3bc1bdfab8ee86744c05160009399
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 7 01:24:34 2019 +0200

    Fix shadowed variable declarations

commit 19f64ba6305c8d141987ac72af35eafa69434c92
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 6 18:24:11 2019 +0200

    Bump GLib requirement to 2.60

commit 58ef65698d1206dd22125210aa6f888c4b8574fe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 6 17:21:54 2019 +0200

    Fix the vbroadcasti128 test on 32-bit

commit 3215ad0895899c7c8da4017375af1aeacf68f35b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 6 02:48:45 2019 +0200

    Fix warning in the V8 backend

commit 860b86f27c45f356ec9ee898420e229209b5311f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 6 02:47:59 2019 +0200

    Update V8 feature flags to match the latest

commit 112e3b11ae7f6be14c0de5e3897fa1c356744fcc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 6 02:38:29 2019 +0200

    Move to the new pkgconfig Meson API

commit 969a1d92f6ac4c818a0db29626b2efa2601c41cd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 6 02:38:01 2019 +0200

    Port to the latest V8 API

commit 20abdaf090c0ac6a417992d16a5c6ae9c1d22fa0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 27 12:56:44 2019 +0100

    Fix stylistic inconsistencies

commit 8f4d29aece69dd450cab8d598d57d5ebbbac8d9d
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Mar 25 20:24:32 2019 +0100

    Add support for "header-only" Mach-O introspection (#329)
    
    To allow quickly checking a binary's dependencies.

commit 6109f0fb0ee730225e4de8196882bb8f45989879
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 21 21:02:58 2019 +0100

    Bump frida-java

commit 5cb4f5a2d42cef1b52c74643b9f52b5d9e362d04
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 21 20:37:51 2019 +0100

    Migrate Capstone workarounds to our local Capstone
    
    Instead of maintaining them both here and in frida-java.
    
    Also add test coverage to make it easier to keep track of them.

commit 1b7fde4c63bc8bf550dc523c52edfb6806703362
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 20 02:15:44 2019 +0100

    Bump frida-gum-types to 4.0.2

commit 64c5d2a6fc3060f691de01ee19700a8f965fc38f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 20 02:15:17 2019 +0100

    Improve the SQliteStatement type definitions

commit 2e861f1c7512c9ca50787a20096576fba25b50d2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 20 02:10:31 2019 +0100

    Bump frida-gum-types to 4.0.1

commit 3a75dc6db327a8f64805d3f9b262ba105294e62c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 20 02:08:51 2019 +0100

    Improve the frida-java type definitions

commit 01b519783f6e7fc8bc72bafbb0a06c5e50743c76
Author: ray <henrayluo+github@gmail.com>
Date:   Wed Mar 20 08:55:50 2019 +0800

    Add type definition for Java.array() (#327)

commit 60171466b2d4c47b10fa663ef5bd9d6e8f2a1eba
Author: CodeColorist <ChiChou@users.noreply.github.com>
Date:   Wed Mar 20 08:50:19 2019 +0800

    Plug more gaps in the type definitions (#328)

commit de016fe42274110977945f5f8f202ec407d0d3ae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 20 01:47:17 2019 +0100

    Bump frida-java

commit 404d3e6847b7f860ce83a3a05f3f4b29f5d2e654
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 19 00:11:31 2019 +0100

    Bump frida-java and frida-objc

commit e0ea392f236f4f5b23f74779a7531cf4d1b8dc8e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 13 11:25:40 2019 +0100

    Bump frida-java for !Java.available regression fix

commit 2cb71ea8daa17f9366bc35b83bdb5d99b5b65d62
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 13 00:06:40 2019 +0100

    Bump frida-java for Android 9 fix

commit 047c3578568bc0ae9e45a73634bf4ffd777ca68e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 12 23:27:19 2019 +0100

    Improve the InvocationContext vapi entry

commit 83b2601ec7161b883bcc996260a3cae17d04696c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 7 20:58:12 2019 +0100

    Add {target,special}functions binaries for linux-arm64

commit 22b3cabd7c3a435c09f7e722c1553330a9bde74e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 7 20:56:17 2019 +0100

    Add proper detection logic for asm/ptrace.h

commit 14a191a8254400aeed091ce9e11116b5e148d2e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 5 22:58:44 2019 +0100

    Add support for substrated-based iOS jailbreaks
    
    - Unlink Mach-O after amfid has had a chance to check it. The amfid
      deceit logic assumes that the file is still around, and crashes if it
      isn't.
    - Reach out to substrated when we're sandboxed too heavily.

commit 5a120aa89b102fa8a0100840dc66f1efe7e9f7bf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 5 16:48:49 2019 +0100

    Query sandbox before trying the default tempdir

commit 06f6f7d0e20b24d09c413bf090da71117e500a59
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Mar 5 20:23:57 2019 +0100

    Improve Kernel APIs to support weird iOS kernels (#325)
    
    - Try the unslid base first if kernel seems being debugged
    - Make `Kernel.base` writable to override the internal base-finding
      algorithm
    - Tweak the `Int64` / `UInt64` TypeScript type definitions to expose
      `.not()` and `.equals()`
    - Remove dupe type definitions for `Kernel.readByteArray()` /
      `Kernel.writeByteArray()`

commit 471a7dbb07d20168115f9065f32f6c81cda6045c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 25 02:37:54 2019 +0100

    Bump frida-gum-types to 4.0.0

commit 6b383abfab7770212493216f05c19234e317a4aa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 25 01:33:51 2019 +0100

    Fix the profiler tests

commit 42e5c25d4ced967268a7dc9933a72d70fbc20f1e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 25 00:09:27 2019 +0100

    Add read/write methods to NativePointer
    
    This means that the Memory.{read,write}*() methods are now deprecated.
    
    The motivation is to improve ergonomics, turning e.g.:
    
        Memory.readUtf8String(Memory.readPointer(ptr(1337)), 42)
    
    into just:
    
        ptr(1337).readPointer().readUtf8String(42)
    
    It is now also possible to chain write operations:
    
        const header = Memory.alloc(4)
        header.writeU8(1)
            .add(1).writeU8(2)
            .add(1).writeU8(3)
            .add(1).writeU8(4)

commit 9384301314205328a8685f586e54aeadc6cd2252
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Feb 24 22:25:39 2019 +0100

    Eliminate unnecessary closure for equals()

commit 0e5e63a5360205ee4ae838afb99985fa63417b1d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Feb 24 22:24:21 2019 +0100

    Normalize modules in the Duktape runtime
    
    So they look like they do in the V8 runtime.

commit 13528c1bcfcec6cdb16380d5ac4afa8c6daaac30
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Feb 24 12:56:58 2019 +0100

    Refactor tests and add grouping support

commit f056d15c1ccbdc95eacf8cf8ef63cf1d62d247a3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 23 04:33:45 2019 +0100

    Bump frida-gum-types to 3.0.0

commit 3216d515189de2d338011288e4a2fa4f9f817bfa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 23 04:33:11 2019 +0100

    Update type definitions to match API improvements

commit d5255daa0ebd145e07d593ec20bee98da83e568d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 23 02:30:10 2019 +0100

    Fix remaining warnings when building without assertions

commit 6507b844e2cd8b85ec5cdda714bffe797f0bc33f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 23 02:16:25 2019 +0100

    Fix module lookup by name case-sensitivity logic on Windows

commit aeed6fdd3d5bbd6903d4a62e05b242d3d8e81781
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 23 01:35:15 2019 +0100

    Fix warnings when building without assertions

commit ca87c8b337361227d2cdc18dd7e8e31c354a668a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 23 01:19:19 2019 +0100

    Add Module.get{BaseAddress,ExportByName}()

commit 07f1740fec4b54521df5206eae9a4052bf789ea3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 23 00:19:57 2019 +0100

    Fix Process.findModuleByName() comparison logic
    
    Should compare to the path if absolute, name otherwise. Also compare
    case-sensitively regardless of platform for now.

commit d80bce171b288ab6100c2eb3caec6a340600f107
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 22 23:00:36 2019 +0100

    Fix inconsistent type names on V8 vs Duktape

commit 159cecd049661daa927ab105335d09ff7a250d48
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 22 22:30:36 2019 +0100

    Display console messages emitted by tests
    
    Instead of making tests fail when temporary logging is added.

commit 0fc666d7385ef30177e9f9f67a95fa480d40b268
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 22 22:29:50 2019 +0100

    Improve the Module APIs
    
    Turning e.g.:
    
        Module.enumerateExports(Process.enumerateModules()[0].path)
    
    into just:
    
        Process.enumerateModules()[0].enumerateExports()

commit 95033e77b66949bfda7d792195a39572e55cf9b2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 22 10:28:02 2019 +0100

    Modernize enumeration APIs
    
    Behave like the sync version when callbacks argument is omitted, and
    deprecate the on{Match,Complete} pattern and enumerate*Sync().
    
    The current implementations are so fast that there's no point in making
    them asynchronous, and having an asynchronous-looking API that actually
    behaves synchronously is just confusing and convoluted.

commit bbc7b8a3d140f0e5658e09004c0dd26713278cc9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 21 21:58:45 2019 +0100

    Fix Windows build regression

commit 8695ab974f8dac1f34acc1df49937a8c85e967f1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 21 21:53:00 2019 +0100

    Fix warning when building without assertions

commit 74e925c2ce6a2c6f4fda07351c050f5af84e3a73
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 21 20:27:06 2019 +0100

    Fix warning regressions

commit 5b55da3c68df5b65322d078a9f9aa9c598bb694d
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Feb 21 20:19:59 2019 +0100

    Add Kernel typed read/writes (#324)

commit 86619d0292142c80b10c5613ef752c73809982cf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 21 19:58:12 2019 +0100

    Bump frida-objc for bugfixes

commit 915e0680541c8fc5b90bb5441b7652af1b859a69
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 20 17:09:05 2019 +0100

    Remove frida-objc tests
    
    As they've now been moved to frida-objc, where they belong.

commit c4970cb32d96f638c97c549fe778578911b6e773
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 18 21:22:26 2019 +0100

    Bump frida-gum-types to 2.0.8

commit bed8a48f20705f8c852d5cc5be4f32d7be315e8d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 18 21:21:45 2019 +0100

    Add ObjC.enumerateLoadedClasses{Sync}() type definitions

commit 041148d91e8d31816ee912915d66bcdd60848e9b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 18 21:21:09 2019 +0100

    Fix description of ObjC.chooseSync()

commit f7b3c137a557e194799adced8bd3acd7b2efcceb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 18 20:32:31 2019 +0100

    Bump frida-objc for new class enumeration APIs

commit 100e129885f339c91b132c88ba8f3d2529fbc21d
Author: xiaoyur347 <xiaoyur347@users.noreply.github.com>
Date:   Thu Feb 7 04:29:46 2019 +0800

    Fix `have_v8` declaration when GumJS is disabled (#323)

commit f27091029651ac0a535d64d28e5f21b340f8dd4c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 4 18:33:44 2019 +0100

    Bump frida-java for another Android 9 fix

commit 459aa70bd755069301b11a487e795fbc50a1a72d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 4 16:24:30 2019 +0100

    Fix hexdump() visual alignment for addresses above 32 bit
    
    And make it possible to override the start address.

commit ee51d0d4bf54a681fc1cf37651a03c4109f57de0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 4 15:31:59 2019 +0100

    Bump frida-java for Android 9 fix

commit 89970a7ca7244f3d55d723d7830a8901a529a53b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 31 13:04:31 2019 +0100

    Refactor SymbolCacheInvalidator teardown logic
    
    Better to explicitly detach than to rely on Interceptor's teardown.

commit 371ff0891e95d62f66537b8d088e625aba64d377
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 31 00:58:08 2019 +0100

    Fix symbol lookup cache invalidation on i/macOS
    
    By throwing away our cached symbolicator when we detect that dyld loaded
    or unloaded a library. We hook an internal function in dyld instead of
    _dyld_debugger_notification(), which is the public API that modern LLDB
    versions put a breakpoint on. (In turn resulting in Interceptor refusing
    to hook it.)

commit 8f61083141c5baddd12ffa0cdd2469b8edea7f0b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 31 00:56:42 2019 +0100

    Add gum_darwin_query_all_image_infos()
    
    Factored out from gum_darwin_enumerate_modules().

commit 0ff8264730e8f4c76ee0dbf8680c4216da40a82b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 30 15:24:05 2019 +0100

    Revert symbol cache invalidation fix for i/macOS
    
    Seems a bit too fragile, e.g. when a debugger is attached, without a
    clear way to know that notifications won't happen.
    
    This reverts commit 5ce54ad29df27c353e5290746ebf3bf5c64c877c.

commit 5ce54ad29df27c353e5290746ebf3bf5c64c877c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 30 13:35:19 2019 +0100

    Fix symbol lookup cache invalidation on i/macOS
    
    By requesting that the symbolicator tracks dyld activity.
    
    This is very important as the SymbolUtil backend caches the symbolicator
    instance, which means the cache will turn stale as soon as a library is
    loaded or unloaded.
    
    Kudos to @alexhude for reporting this bug.

commit b466f06feb84df50534677e0874be6aee12383f9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 29 00:02:56 2019 +0100

    Fix the kCSNow constant

commit 298b95ca332481598e585cfe9b50365c84980982
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 24 19:41:14 2019 +0100

    Bump frida-objc for struct-handling fix

commit d36035f81b0b3c647a0bf30827b74fb3a047f879
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 24 19:40:58 2019 +0100

    Fix minor stylistic inconsistency

commit 229aab44232bb50b162acd6377a26fda0c59b857
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 21 13:54:41 2019 +0100

    Bump frida-java for Android 9 support

commit ee4fc3dc94f0e56d4480336bf79f8ef9571e5013
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 21 13:53:52 2019 +0100

    Bump frida-gum-types to 2.0.7

commit db16e80a1588e24efaed3ef2da36869dd3dbd734
Author: Leon Jacobs <leonjza@users.noreply.github.com>
Date:   Sat Jan 19 19:29:13 2019 +0200

    Add Java.registerClass() type definition (#321)

commit a8ee68591f1a61962ea123e7410469a160f10062
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 12 01:18:31 2019 +0100

    Fix hexdump() support for conforming objects

commit b9d7988ae5b07c58f0ff676768ad9991e0a7d3eb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 8 20:23:28 2019 +0100

    Bump frida-java

commit 5027e19bd5ff093c8926a2a2ef05a6ab4229545b
Author: Frank Spierings <frank.spierings@gmail.com>
Date:   Thu Dec 6 20:59:36 2018 +0100

    Add NativePointer#toUInt32() (#316)

commit db5497203a5a8cad01115be173fbb6d2ec905e40
Author: Frank Spierings <frank.spierings@gmail.com>
Date:   Mon Dec 10 19:32:03 2018 +0100

    Show source addresses in hexdump() from memory (#315)

commit cea696010f78120eb8a68eb5d18e1ff843a05ee8
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Dec 10 19:09:13 2018 +0100

    Release JS lock while calling gum_module_ensure_initialized() (#317)
    
    Because internally it's calling dlopen() which in turn may wait for the
    dyld lock, resulting in a deadlock.

commit 27035d82554a993c3d159db4c6f2a1e1b83a0051
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 4 22:10:16 2018 +0100

    Tweak the Electra logic
    
    By using the correct signature for jb_oneshot_entitle_now(), and not the
    incorrect one specified in the Electra docs.

commit a1cdb28e16ff2888c582ddd34b939a6d2b2146d1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 26 23:18:00 2018 +0100

    Only process pending I/O when leaving the root scope
    
    To avoid deadlock scenarios, e.g. when replacing `write()`.

commit e9a8f3c49dc9309fedb78789939818710624bdc3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 26 21:16:03 2018 +0100

    Explicitly run V8's microtasks
    
    So that any tick callbacks and scheduled sources enqueued by them don't
    get lost.

commit 9d51932a678d0d47e2c1f1881aef7fec267d4e20
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 15 03:34:45 2018 +0100

    Always pass a mutable context to the exception handler
    
    In the V8 runtime also.

commit 2159bbce439dc7775cb7138a3a4f73fa0b3bb894
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 15 03:19:17 2018 +0100

    Fix Memory.alloc() page granularity logic
    
    So it matches our docs and avoids some waste.

commit 6ff687ae3faef6d37f0fc38ef04c9cdc04b53ff8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 15 03:16:13 2018 +0100

    Fix minor stylistic inconsistency

commit a0002be18d7b9d406ed2c346cbca762e9431791c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 15 03:07:50 2018 +0100

    Always accept a view where an ArrayBuffer is accepted
    
    In the V8 runtime also.

commit d6ea78e1011a485ae3b1f404496fc5390fd5a5a3
Author: David Weinstein <dweinst@insitusec.com>
Date:   Sun Nov 11 17:46:43 2018 -0500

    Improve RPC errors with custom fields (#309)

commit 55078fc01c8d8a7d50acd6b0bfd06895b051c383
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Nov 10 03:29:12 2018 +0100

    Fix error-propagation when loading module from memory

commit 13415d58c5efb2810073c639a17eeda19fe53856
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Nov 10 02:48:13 2018 +0100

    Improve the DebugSymbolDetails vapi entry

commit 718ddf63d983e0d8f0c823594df4f0878c97843d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 9 21:00:05 2018 +0100

    Add support for symbolicating from dSYM
    
    And other formats supported by CoreSymbolication.

commit 62896443108887c6ac2f9caf007281c6e603e754
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 9 20:45:18 2018 +0100

    Add remainder of Gum.Darwin.Module to the vapi

commit be25d85e3d0875bfc77609397a594b991f81debd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 9 20:43:34 2018 +0100

    Improve the Gum.Darwin.Module API
    
    To make it more binding-friendly.

commit 84dff90196f67e05cd9f469cccceb14436437391
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 9 16:44:40 2018 +0100

    Add “uuid” property for getting the Mach-O's UUID

commit 48a8b62ea6ce2fccd3ea5414fbd4b923d0ab1b47
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 9 01:27:32 2018 +0100

    Add first part of Gum.Darwin.Module to the vapi

commit 87a7699c909d28c7761c0d8152f2d0cecdbad8fe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 9 00:57:27 2018 +0100

    Improve the Gum.Darwin.Module API
    
    - Improve binding-friendliness by implementing GLib.Initable.
    - Make the name optional when constructing from memory, and get it from
      the Mach-O instead.

commit 4e9f12310599924fd505b1866ac190b7400ef3ee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 9 00:54:08 2018 +0100

    Simplify module path allocation logic

commit a99edf56bb98c5b052a4b884d40235dea16b7854
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 8 20:42:50 2018 +0100

    Turn Gum.CpuType into a proper type
    
    Should move to glib-mkenums at some point.

commit 5e45ae0596a9d6808f95f91b2574ffe8723b83d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 8 20:41:47 2018 +0100

    Fix the Gum.CodeSigningPolicy type registration

commit 62c1f1c3d2e0a938050316bc9f4b2f6ebe1094fa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 8 19:37:17 2018 +0100

    Expose API to enumerate modules forensically

commit ecbe577c92e4ed77562ffb7b793e6eca3369fdeb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 8 19:36:42 2018 +0100

    Turn Gum.Address into a proper type

commit 368ff360efed6b19c2753282620b9fd467101d10
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 8 03:25:15 2018 +0100

    Factor out the Darwin symbolication logic

commit 97d1e2a962ec8795f48fea95dd262391cb3446d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 6 21:19:54 2018 +0100

    Add most of the Darwin APIs to the vapi

commit 31f1cf2959d000c022f5252ed41acf57fe10fd08
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 8 04:09:22 2018 +0100

    Add DebugSymbol API to the vapi

commit abc6624aad1151cc11cb5d8a555363b2c00c2a79
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 7 15:24:49 2018 +0100

    Add CpuContext types to the vapi

commit 7901f62381f3bf9103222ae57f26216fd95716a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 7 15:24:36 2018 +0100

    Make CpuContext more binding-friendly

commit 993767463c60e7e700ce20ba8251e81a46303901
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 6 21:19:21 2018 +0100

    Fix usage of HAVE_IOS define in public header

commit cec76a32ee999008b790a710be55e25752f30137
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 6 22:30:49 2018 +0100

    Bump frida-objc

commit f7ba2cfad3d8b0053cbce98b574dfa209d019b1d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 6 15:08:09 2018 +0100

    Bump frida-objc

commit 99ffaf3d19d6ef5ab810e04e7239c596abc71c9e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 5 22:10:18 2018 +0100

    Bump frida-gum-types to 2.0.6

commit c745e4b77efbd0d9eb11c8530e66d456d161fda3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 5 22:09:50 2018 +0100

    Update type definitions for {Native,System}Function

commit ff2161a9ee0549175670ed25bd53a81703cdb022
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 5 20:56:20 2018 +0100

    Bump frida-{java,objc}

commit eec1eb6401b1b5fc429ae4bf72da8508095423d7
Author: Terry Chia <terrycwk1994@gmail.com>
Date:   Tue Nov 6 01:00:51 2018 +0800

    Add Stalker.flush() (#307)
    
    To flush out any buffered events.

commit a1a088e3f6ca13691f01cc93fb6d7636c31a19b9
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Aug 9 16:51:43 2018 +0200

    Add GumJS locking API and rework locking
    
    - Provide a way to run some code with a ScriptBackend's lock held,
      and a way to check if the lock is currently held.
    - Consolidate Duktape locking to one lock like on V8.
    - Perform Exceptor try() with lock held.
    - Perform Interceptor transactions with lock held.
    - Fix V8 unlock logic when an exception occurs.

commit f6d64a48b3566e058f9ffb76f12faf0ee0544cee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 22 16:12:16 2018 +0200

    Bump frida-java

commit 51fe0841463e63696db3f3a5998ef1475acc3721
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 22 15:23:45 2018 +0200

    Revise the new {Native,System}Function API
    
    The return type and argument types should not be considered options as
    they are required and don't have reasonable defaults. The advantage to
    leaving them out of the options is that the same options may be passed
    when instantiating a group of related functions.

commit a1ba811aa7710fbe1c539e6d6ab3c5cbabea63e6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 20 01:28:41 2018 +0200

    Fix old-style NativeFunction arglist-handling

commit d7bfee0d685e073577107a5066dcf8f99cac9bd8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 19 22:23:30 2018 +0200

    Allow NativeFunction behavior to be tweaked
    
    By specifying an options object as the second argument.
    
    It is now possible to customize scheduling and how to deal with
    exceptions. The return type and argument type options default to
    `void` and `[]`, respectively. So given `void foo (void)`, this is
    now allowed:
    
        const foo = new NativeFunction(fooPtr);
        foo();

commit e458667987c08b349b4877776a6c6f33accb02bf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 19 22:21:58 2018 +0200

    Add missing parentheses to gum_exceptor_try() macro

commit d5246b16f73942d471fbf4ef5875d001cf954850
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 16 00:23:30 2018 +0200

    Bump frida-{java,objc}

commit 2d62e31310ffe0473a29f5cfbbab10f79e2825bb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 11 04:05:55 2018 +0200

    Bump frida-gum-types to 2.0.5

commit b1c73ef154af8b9d916d72973e477b453d37b923
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 10 03:54:47 2018 +0200

    Improve Socket.connect() to support TLS

commit e7e0a374abe516526ee202ad9105221a5e14757e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 10 00:44:28 2018 +0200

    Bump frida-{java,objc} and other dependencies

commit 90ce33c4d89a780d68d4300de6fcb27fdd19ab47
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 9 03:38:49 2018 +0200

    Remove unused variable

commit 100dac5b7164ab88998ddbc03a8b0779107a60ab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 9 03:37:04 2018 +0200

    Fix linking on archs without Stalker support

commit be709eea5a23e32a893e9417521059dc576d5e4b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 9 02:46:01 2018 +0200

    Disable diet mode by default on iOS
    
    Now that it is once again possible to use V8 on iOS.

commit cdc9eb1ddd53e216e284da829bea7441b7255e8b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 9 02:43:58 2018 +0200

    Configure V8 to be able to run on latest iOS

commit 61146f06ffe9121387b2f7236ae1093a63b6017b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 9 00:56:43 2018 +0200

    Only run Stalker tests when it is supported

commit ed48b74f325e28cc4b5aea44555d1a99f8895c19
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 9 00:55:32 2018 +0200

    Add gum_stalker_is_supported()

commit da3142177bf3bfba87a60bf16bbd313d4e6f1dff
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 9 00:53:51 2018 +0200

    Improve gum_try_alloc_n_pages_near() on Darwin
    
    To also try allocating in the lower and upper edges of the address space.

commit 5cdbe713ac4c09c167060d684df1641d584dcbd2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 9 00:52:31 2018 +0200

    Add gum_try_alloc_n_pages()

commit 2bbb24cea343fe834037a8e76c7b1f99792889cf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 9 00:50:40 2018 +0200

    Skip code-signing status test on Electra
    
    The CS_VALID status is not retained on Electra.

commit 98e64bd132f9bc1d92cfd54c4932fb6dd2359479
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 9 00:49:44 2018 +0200

    Add basic support for running tests on Electra

commit c4fa21e40890452656a4514a23d1a020c443f698
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 5 01:46:40 2018 +0200

    Fix zero-length buffer allocations in the V8 backend
    
    Returning NULL makes V8 think we've run out of memory.

commit 6a94a0325369941f3c7e348b9c0f10b12b812238
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 5 01:45:26 2018 +0200

    Fix the V8 unlocking logic
    
    Say thread A let go of the lock, it would do so without first clearing
    `current_scope`. Meanwhile thread B could grab the lock, go about its
    business, and eventually restore `current_scope` to thread A's scope.
    I.e. mistaking its own scope for being a nested scope on the same thread.
    By that time thread A's scope may already be long gone, resulting in all
    kinds of fun use-after-free stack corruptions.

commit 85209f27fae814b15012bb7086aa2e02f455c6d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 1 18:29:32 2018 +0200

    Bump frida-gum-types to 2.0.4

commit d3114546f42f6b0a6994f2bebec79a2dabe4e7fe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 1 18:29:18 2018 +0200

    Only publish the bare minimum to npm

commit e4f8389b6ebbfd98fd9c752c3c2bff514462b642
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 1 18:27:17 2018 +0200

    Reorder types to improve consistency
    
    Trying to follow the same ordering as the reference docs on the website.

commit 4b737388260074f0e22f12fb5a04430458508933
Author: Leon Jacobs <leonjza@users.noreply.github.com>
Date:   Mon Oct 1 18:23:01 2018 +0200

    Fix type definition for Thread.backtrace() (#304)

commit ad83188cf293942dde264397b31e33449047f5c5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 30 18:35:59 2018 +0200

    Bump frida-gum-types to 2.0.3

commit 563965d392406bd66b7bceba1f57a52946dbc3ed
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 30 18:35:39 2018 +0200

    Improve type definitions to use const enums
    
    We don't want any runtime emitted for each enum.

commit e553177b95be0e95e372ade78a47942d86321473
Author: Leon Jacobs <leonjza@users.noreply.github.com>
Date:   Sat Sep 29 22:04:18 2018 +0200

    Improve type definition for ApiResolver.enumerateMatches() (#303)

commit f44f021cbe755885ac78cd13e750a65510ed6934
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 26 01:55:26 2018 +0200

    Bump frida-java

commit 49250ac4b2a994051442b1ac96b075079c0d5eef
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 25 16:28:42 2018 +0200

    Bump frida-gum-types to 2.0.2

commit ee485a29f102f2ebbf72e4ed5ad1ea3e554b41aa
Author: Leon Jacobs <leonjza@users.noreply.github.com>
Date:   Tue Sep 25 16:27:56 2018 +0200

    Fix type definition for ApiResolver's constructor (#302)

commit b8e1fc65542a9ac45f2150ef40dbf0b20b867f7b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 12 04:07:34 2018 +0200

    Bump frida-gum-types to 2.0.1

commit 9449f225259c188a988673f79f464304003bdaa4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 12 04:06:54 2018 +0200

    Tweak the Kernel API doc-strings

commit 36cecb4ed53b9523a2d5e384b2a005e8e9dd77cd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 12 01:31:32 2018 +0200

    Report kernel base address of zero on non-arm64
    
    Instead of garbage.

commit 09f77b2591f3fd8599f218d9ea54324be332ef10
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 12 01:29:15 2018 +0200

    Use helper macro for 64-bit constants

commit 22366e6d8b7ff092bfc60af2ce30d0596ce2379a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 12 01:28:35 2018 +0200

    Remove unused variable

commit 566056e032b385656029da65db44ec3f03777e32
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 11 21:21:55 2018 +0200

    Revert to clobbering x16 instead of x18
    
    It is not a good idea to clobber x18 as it's reserved by the platform,
    and has been observed to be used by some apps.
    
    This reverts commit 541517ccb79b3bc24c0a84f0cf9dd66668976a33.
    
    Kudos to @mrmacete for helping track this one down.

commit 31fc1cc2be439572dda346a63b5c0f4fb716a53b
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Sep 6 19:26:29 2018 +0200

    Update Kernel TypeScript type definitions

commit 353c17048cecd8b22421810f93560b1df2674992
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Sat Sep 1 18:27:56 2018 +0200

    Improve Kernel interface
    
    - Add scan(), enumerateModules(), enumerateModuleRanges()
    - Add kernel base getter
    - Fix overflow on section / segment names
    - Move from NativePointer to UInt64
    - Use GumAddress instead of gpointer for kernel pointers

commit fe391c0695d931ead76fa675ab62899f7f10bcaa
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Sep 6 10:51:17 2018 +0200

    Add unary not arithmetic to Int64 and UInt64
    
    Also add equals() helper function.

commit 541517ccb79b3bc24c0a84f0cf9dd66668976a33
Author: Grant Douglas <hexploitable@gmail.com>
Date:   Wed Sep 5 17:51:14 2018 +0100

    Clobber x18 instead of x16 in Interceptor's arm64 backend (#298)
    
    To allow instruction-level hooking near SVC instructions.

commit 7a245e4c6ae228c5011d51cacf7d31c44975bd6b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 5 18:31:39 2018 +0200

    Fix build regression on non-x86
    
    Only the x86 op struct has a `size` field.
    
    /cc @andreafioraldi

commit 318085ae78362ba3e691a2abc0792a73c66e4431
Author: BAYET <corentin.bayet@gmail.com>
Date:   Tue Sep 4 18:20:59 2018 +0200

    Fix Linux module enumeration assumption about executable ELF headers (#297)

commit 5155a7ba110e1b13104969bcdb09bf0e01a2438c
Author: Andrea Fioraldi <andreafioraldi@gmail.com>
Date:   Mon Sep 3 20:40:38 2018 +0200

    Add “size” field to Instruction.operands (#294)

commit 9654bdb6695f2604bc049c93e4b5e4b373b939d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 31 12:09:30 2018 +0200

    Bump frida-objc

commit 064d0d5dbd7211570145267600d641c94a54f7ea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 26 20:12:11 2018 +0200

    Bump frida-gum-types to 2.0.0

commit 6d3d8957a1cc3a6ab6759e7a7b6d030a0c84f2e9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 26 20:11:39 2018 +0200

    Remove “console” to fix conflict with @types/node

commit f8c04fa3547a3fae5bbd27d7e9d1352af9ee4e30
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 25 20:46:39 2018 +0200

    Normalize naming of va_list variables

commit 69308f0ce2972e21dceb931d730a33d77a1fc86b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 25 20:20:49 2018 +0200

    Bump frida-gum-types to 1.2.5

commit c6b85155ee6b24466c1687132c710039250b27bf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 25 20:20:22 2018 +0200

    Add Process.id to the type definitions

commit 7913bb73c8588669b32f88e98a6a2c1aa3d4c53a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 25 20:16:54 2018 +0200

    Add Process.id property

commit cc6edf84dd10e5f774126b726858db98d05add68
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 25 20:09:58 2018 +0200

    Pin promiscuous dependency to 0.7.1
    
    To make sure we always generate the same runtime across different build
    machines.

commit ee8f911a9ccea3b9f6375079577dbc5abeb9a9c1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 25 20:08:30 2018 +0200

    Bump frida-compile

commit 321784898dec4cc5a90287f94c5c4ffefa10aa26
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 25 20:04:30 2018 +0200

    Bump frida-java

commit 3c53e15c6c1ddc199bb0b81fc898d2644a728cde
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 25 02:32:26 2018 +0200

    Fix warning in Android production builds

commit 05b71a65afa917b4e48b90b3040f696b7be3c9f2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 25 02:32:03 2018 +0200

    Fix type used for Kernel.alloc()'s “size” argument

commit 13a665114b89e0a1f2d9140d231ded9bdc81d33f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 23 23:40:28 2018 +0200

    Fix compilation and warnings on i/macOS

commit 691eb5910c99c0bd35fe04316cf7f5b54d55d335
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 23 20:41:45 2018 +0200

    Fix build system for tests on arm64
    
    Also improve consistency a bit. It's tempting to use Meson's name in
    filenames, but that would make it inconsistent with the code.

commit 3e33b8982a02254afb93679132b3d1cb3daac53d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 23 20:40:00 2018 +0200

    Fix warnings in Linux production builds

commit 5d403a6a965a454eaa3582bd2ea723c4771261f5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 23 01:45:13 2018 +0200

    Bump frida-java

commit dde672e35d508e04d4695d699da1fa0185daa414
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 21 23:21:05 2018 +0200

    Embed symbols in object files
    
    Like our SDK does.

commit a0ec1a0c48e83a2610475a633716b14b0c573ae0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 21 20:21:55 2018 +0200

    Fix warnings in production builds

commit 5f081f7ed5315c4076369f0b18bf791934bbb2ec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 21 20:11:50 2018 +0200

    Disable assertions and checks in production builds

commit bbb74de3f2aa2ed2fb1bdcda236f3592f0d4dc04
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 21 01:14:15 2018 +0200

    Fix deadlock on teardown of the V8 backend
    
    The dispose operation ended up waiting for itself to finish.

commit 3835eb4f4829ee412151157df093decc8a254f96
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 20 23:16:37 2018 +0200

    Remove the v8::MemoryBackend implementation
    
    Now that it is gone from V8. We'll take care of cloaking for V8 later,
    as we'll also have to redirect new/delete to our own heap, which seems
    like it might be a big undertaking.

commit 886f68d70f5ff8187961055933b5a8d574a48da0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 20 20:23:49 2018 +0200

    Ignore .user files generated by VS

commit 3722f0933aef59c0b1057ef46912b02cb97982e9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 20 14:24:33 2018 +0200

    Fix deadlock with CObjectTracker and its get_type()

commit c8c72e88246f389ea8ee63505eb6765eb8728d63
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 20 14:16:07 2018 +0200

    Handle _free_dbg() calls with unknown block type
    
    By calling _CrtReportBlockType() to determine the type.

commit 1123929192474f160497f69f72691f80ffad7ca2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 19 04:22:11 2018 +0200

    Add InspectorServer to the Windows build system

commit a4ca44a58290e7dff498850a78d692d8ba350355
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 19 03:34:59 2018 +0200

    Fix build regressions in Windows code-paths

commit 19c27c316ffb5aef8d458615616d135be7545f07
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 19 03:34:32 2018 +0200

    Add missing include for std::function

commit 0a7cfa02b37ca2c5dedcf40990a9740dbb51426b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 19 03:34:23 2018 +0200

    Fix warnings reported by MSVC

commit 2e99921fe9f2de0670569ffe1c7fb08ba557468a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 19 03:33:41 2018 +0200

    Fix the Windows build system wrt. SQLite now gone

commit 0cbac84e83ddb58e4c919e8a1156fd4ae7a95a41
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 12 21:27:41 2018 +0200

    Simplify source map canonicalization logic

commit 7302362175c51a420e11ec557e7cb9f8ab727940
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 12 21:27:26 2018 +0200

    Adjust script naming in the Duktape runtime to match V8

commit afa6e31699b3a99412817d86019e9783ff54f8ef
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 12 21:26:27 2018 +0200

    Fix source map support for V8 runtime code

commit 022f50531a151abd24a385959b720f6d06c98f66
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 12 20:46:24 2018 +0200

    Fix breakpoints by tweaking script naming
    
    Resource name should be an absolute path.

commit dd1764c7278ab5d4f1b6e1ef3ea6732e57eaab4c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 12 20:32:24 2018 +0200

    Allow enabling debugger late
    
    And simplify logic by instantiating V8 Inspector early.

commit 1821df5f1972865474ad38dba8a19f62538dc92f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 12 20:29:35 2018 +0200

    Fix the GumJS V8 pkg-config requirement

commit 34992a34594b943ff882a93f867ee5f00114991a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 12 18:46:23 2018 +0200

    Enable debugger before creating scripts
    
    Otherwise V8's inspector won't know about them.

commit 877a785d0bf9be77cb7fde511113c27f6c3c01f7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 12 17:26:06 2018 +0200

    Adjust to match the updated V8 packaging

commit 5b90dd549110e31602799c4c24ef7bce586c2377
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 11 04:59:26 2018 +0200

    Remove dangling references to debug runtime header

commit bcd5df36f3638da82c6b65a9b27069e22a0e8ece
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 11 04:50:13 2018 +0200

    Improve InspectorServer API and fix its vapi entry

commit 859161f7ac09ed5a829a4bcde55865dc089e4b4a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 9 04:17:04 2018 +0200

    Wire up V8 inspector and provide InspectorServer
    
    Only the bare minimum is working, but it's a good start.

commit 64834fe903f95e553e11925223d4d82dc3a88548
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 10 16:55:51 2018 +0200

    Use the correct Meson CPU family name for arm64

commit f5904a82ff7befd1b77bdc1edd9b0c980aafea82
Author: Anatoly Korniltsev <korniltsev.anatoly@gmail.com>
Date:   Fri Aug 10 15:04:27 2018 +0300

    Fix leak when probing Linux auxv struct (#291)

commit ec2306bbd725f41dede8e58f4b399b9f0db3b6b4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 9 20:19:54 2018 +0200

    Fix minor stylistic inconsistency

commit 55e6e30e984dfa7c931b332ff6121b04db1a656e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 9 17:57:36 2018 +0200

    Add gum_process_get_id()

commit b9274db04915020931d27e02d26f182158041291
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Aug 9 08:41:05 2018 -0500

    Fix CodeSegment probing in sandboxed processes (#290)
    
    Like com.apple.WebKit.* processes on iOS 11.x.
    
    By allowing gum_file_open_tmp() to fail, we let try_realize() fail and
    take the alternative path before giving up.

commit 76e3ebc7c391b22c3d97158c7e5e7d65c0d04d8b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 9 04:29:31 2018 +0200

    Fix ordering of signal and property enums

commit 904b586546a6cbf460bb9d8248969a9090ebacef
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 8 23:52:13 2018 +0200

    Bump V8 version requirement

commit 0639900098cabe0f0439135c605780771350c9a2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 8 22:56:38 2018 +0200

    Fix double free when match token has masks

commit 76b98cb05a0d044f76489e6ae2475c545fab077c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 7 23:53:41 2018 +0200

    Port to modern GLib
    
    And improve consistency throughout.

commit 195878c76fb1c02795385b4c98274d324f056202
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 7 21:43:27 2018 +0200

    Upgrade Duktape to latest 2.3.x

commit 920020978963aa669d96b6a1dd3d25581bb1ef88
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 7 21:13:50 2018 +0200

    Move SQLite to the SDK

commit 852af3a80c4c454d27f5aacf5b47c1ea1dfe1bdb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 2 02:36:40 2018 +0200

    Port to the V8 7.x API
    
    The inspector API is not yet fully wired up though.

commit e1029b61e84291c31423d22ea565118c52de51c3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 27 20:22:36 2018 +0200

    Bump frida-java

commit 9fe77ed30b0ebb93fd6cc3323cf589dbaa9cc05c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 26 02:31:36 2018 +0200

    Bump frida-java

commit fb48d39c539436193ba6aa3d4ed7052a3024925e
Author: Carl Hurd <carl.m.hurd@gmail.com>
Date:   Wed Jul 18 17:41:28 2018 -0400

    Remove unnecessary/bug-inducing {get,set}context() stubs on MIPS (#289)

commit 62bbecf6163ddca82b60fa779e2703577450dc00
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 17 21:43:12 2018 +0200

    Bump frida-gum-types to 1.2.4

commit ca6eac24f8294697b138d8a740834b46cb48bbef
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 17 21:42:47 2018 +0200

    Import Memory.scan() doc update from frida-website

commit 83c58893615a86d8db015465fdfb469b9e6beb69
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 17 20:31:43 2018 +0200

    Fix InvocationContext.get_return_address()
    
    So it matches the new CpuContext semantics in Frida 12.

commit 6f61184825b662f474e38afb82ae820f5e4e97ea
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Fri Jul 13 09:17:51 2018 -0500

    Add support for memory search with mask (#287)

commit 8baea5eac674faad1453973ba1f5b6023dba79d6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 12 00:09:29 2018 +0200

    Bump frida-java

commit 907230ef7dca35c80767e164cc74f5abad870bfe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 11 23:57:26 2018 +0200

    Work around Capstone vbroadcasti128 regression

commit f917c7d07f804da7fcf71847c75e6d392246e138
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 11 01:52:26 2018 +0200

    Port to Capstone's next branch

commit b9f00a071f1721021547914e5e96e7e5aeeb8f29
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 11 20:24:30 2018 +0200

    Improve the DbgHelp backtracer to go deeper
    
    And not stop when a frame's AddrPC == AddrReturn.

commit a8c09be3e2b89d6ed72c4bb3c54e4f9953577620
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 11 19:47:36 2018 +0200

    Fix mixed up variable types

commit 225157c8015805bb61c78fa8ba0ad53983de4f08
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 11 19:47:24 2018 +0200

    Fix the DbgHelp backtracer
    
    And improve the DbgHelp integration so symbols are also loaded when only
    using a backtracer. This is very important on 64-bit, as frame pointers
    aren't used.

commit dd5014959d8a2a16fb8f81d6435000ca7b7305e8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 11 19:42:01 2018 +0200

    Update DbgHelp to 10.0.17134.12

commit 7a8e74bac8925213c9444656d054e4aebbddb6b3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 11 16:52:12 2018 +0200

    Update Stalker backends to new semantics
    
    And also improve correctness and consistency of the CpuContext passed to
    call probes.

commit 4ac117c106e685f349ced2a7b319f810fb35ffeb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 11 16:49:19 2018 +0200

    Update CpuContext implementation to new semantics
    
    As the stack pointer now points to the return address and not the first
    argument.

commit fb39b8e9d8d748ad6e5a4e5bd3d449a81d6c2405
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 11 15:07:06 2018 +0200

    Remove unused variable

commit 32e3099c1604a42c64bec34c2a3fbbcc73952956
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 11 15:03:11 2018 +0200

    Expose actual program counter to on_{enter,leave}
    
    Instead of using it to communicate the immediate return address to the
    backtracer implementation.

commit 5971b37b0dfa5894e2b4b0b1035cef0d94f0983d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 1 16:17:08 2018 +0200

    Bump frida-gum-types to 1.2.3

commit e6cedbee31c4862b64d58327567bf30d5f3c8a71
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Sun Jul 1 08:58:50 2018 -0500

    Fix typo (#288)

commit af0fc41458b3768f0469ca6c3998764d99bf49a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 30 00:53:34 2018 +0200

    Bump frida-gum-types to 1.2.2

commit 5b5efb34c9194d8b8498c1ff5c5aef37a57d0ac0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 30 00:52:42 2018 +0200

    Improve the networking-related type definitions

commit 97b135889d237bde25d124b2dc50e781d02fe3d0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 7 02:48:23 2018 +0200

    Fix stub-definition of gum_kernel_alloc_n_pages()

commit df60944154bd59c84f28d98ff859064e26fb44e2
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Wed Jun 6 17:46:58 2018 -0500

    Improve the Kernel API (#285)
    
    - Make gum_kernel_read() safer by reading in chunks smaller than page size.
    - Add Kernel.alloc(), Kernel.protect(), and Kernel.pageSize.

commit 4cf822033448d5b3e58b9ff5730c9fa734d26e35
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 6 04:57:45 2018 +0200

    Bump frida-java

commit 45da27f7f146ff77f6fba491cf45cb1d64887d3a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 6 00:08:16 2018 +0200

    Fix handling of ELF modules with an empty DT_GNU_HASH

commit d5a8c3d7a99808c95fc5f8ffef1b323649f7a148
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 5 21:22:45 2018 +0200

    Bump frida-java

commit c966ce60558c04b61d9e9cbaadbf50c057c1ae7e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 2 01:35:36 2018 +0200

    Bump frida-java

commit 2ef008f3db864ad0a959e877b18800b2c2ca5156
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 26 04:03:24 2018 +0200

    Bump frida-gum-types to 1.2.1

commit de1e3d16a2822a3e1682e462827262d78dbb4143
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 26 04:02:59 2018 +0200

    Improve the InvocationContext type definition

commit 574b1dff0a66b784527075cdf84b2798d8fc613f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 26 03:59:16 2018 +0200

    Fix types of functions with “any” signature

commit 8c33151e4d9f237dddaaa2487b0875700f35b9a7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 26 03:49:26 2018 +0200

    Bump frida-gum-types to 1.2.0

commit 63ffb81ed556a5413376be4781ead88a90d02b35
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 26 03:48:45 2018 +0200

    Improve type definitions for the ObjC module

commit 3c759693558a805a31ebe7fb8c2f990b0a39dee8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 25 04:21:17 2018 +0200

    Bump frida-gum-types to 1.1.4

commit 5e3221abcc4eb3bcdf501122b29dd3a182be4e3b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 25 04:19:24 2018 +0200

    Fix return types of Memory.read*{Array,String}()
    
    They return `null` when `address.isNull()`.

commit 674bac5d49691ae4ae1da010d06f83f413b852df
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 24 23:43:38 2018 +0200

    Bump frida-gum-types to 1.1.3

commit a236b938acb8d778610ea4603d32f97270a12872
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 24 23:43:13 2018 +0200

    Add RpcExports type
    
    To make it easier to cast.

commit 481f8e0d467a2db429024914db4f75a82f718729
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 24 13:29:57 2018 +0200

    Bump frida-gum-types to 1.1.2

commit 7b1d7b1f70855ffc151fd1e6b1be84f0d750d303
Author: Daniel Kalinowski <max0980@gmail.com>
Date:   Thu May 24 13:28:53 2018 +0200

    Fix typo (#284)
    
    Fixes #283.

commit 3f5556b921a3ede8d727bc35a9b21cf1cc594cf3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 24 05:38:06 2018 +0200

    Bump frida-gum-types to 1.1.1

commit c24d47a5080f2df9176fed88b55733bb59bb9891
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 24 05:37:46 2018 +0200

    Fix “@”-usage in JSDoc comments

commit c67e363058e9bc767884907e5a0a058a9fb2f70a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 24 05:18:23 2018 +0200

    Bump frida-gum-types to 1.1.0

commit ca9b91a731baf26c00b8e2537969a14c4cb7b418
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 24 05:17:21 2018 +0200

    Revert back to specifying native types as strings
    
    Using an enum is too verbose and breaks source compatibility.

commit 711cb516a59659ae96afb65d7d7a69746dfde975
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 24 05:05:43 2018 +0200

    Massively improve the type definitions
    
    Based on patches by @mrmacete – kudos!

commit ac6c95063868870cae386c9c976409fcf86d27a5
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Sun May 13 16:36:07 2018 -0500

    Fix tls_base calculation on arm64 (#281)

commit 9381fe7ea9c05779f58ec95d0b77e018d8d5e4c4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 27 21:52:48 2018 +0200

    Fix vapi entry for set_message_handler()

commit 92d17d6ae03bf119a6871ae04408ac01bb7f4a74
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 27 04:40:31 2018 +0200

    Bump frida-java and frida-objc

commit de563402a288ec0681c10c82f51e8d15e7de174a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 24 20:08:55 2018 +0200

    Fix vapi entry for get_current_invocation()

commit 0f570af7c6247892c5c8fa84696246d73cc545db
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Apr 24 13:07:46 2018 -0500

    Stop worker thread before modifying old_ports (#277)
    
    To avoid corrupting `old_ports->count` while the worker thread is
    potentially iterating using it. This would result in an infinite loop
    and/or read out-of-bounds, in turn likely to hit a failing assertion,
    ultimately ending up in a deadlock.

commit 33ddee8062dd9b491655bb1984bbceee05447fe5
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Apr 24 13:00:24 2018 -0500

    Realize if supported, remap otherwise (#278)
    
    When realize could fail, avoid it entirely and directly remap the
    segment. This works where code signing isn't an issue but sandboxing
    breaks executable file mappings (like Electra on iOS 11.1.2).
    
    This means we avoid the dangerous RX->RW->RX fallback on iOS, where
    another thread might be executing code on the page that is temporarily
    RW while Interceptor is modifying it.

commit 7a03f0672d9158982df7ea4465c00ff53240fa4c
Merge: 26a1d3d8 f457aa1d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Apr 24 17:36:03 2018 +0200

    Merge pull request #279 from DavidCatalan/carriage-return-handling
    
    Drop carriage-returns to avoid issues with different OS/git configurations.

commit f457aa1de60e40e4b11fa0e7a8b435e698ca0338
Author: DavidCatalan <freedavid94@gmail.com>
Date:   Tue Apr 24 15:21:35 2018 +0200

    Added carriage return handling

commit 26a1d3d8784a3822079a7729d2241b6ccde60d46
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 16 21:50:22 2018 +0200

    Add vapi entry for get_depth()

commit b47cd6a3efb173588f2e779fe14df8442de5968b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 13 19:42:00 2018 +0200

    Add support for call with 32-bit register argument
    
    By zero-extending into the destination register.

commit bfacbec8b24c391d58468eb6244679c26e81f3a2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 13 19:39:49 2018 +0200

    Add put_uxtw_reg_reg()
    
    Useful for zero-extending a 32-bit register.

commit 5bbc962d08ed3dfc9fd34914b9b55d541b562731
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 13 19:38:22 2018 +0200

    Fix stylistic inconsistency

commit 0ebe73b9600712aea20963d88decebcfb9be2ccb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 9 15:41:19 2018 +0200

    Add API for enumerating cloaked items

commit 89f715c3b2919b578f0cb29b6730d96adad225dd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 9 03:01:57 2018 +0200

    Cloak GLib's file-descriptors

commit 1bef11b5e1f14752850c807981e9f641cd974e29
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 8 20:15:08 2018 +0200

    Rename fd to file_descriptor

commit 28d73732b6810894140481775c2eef107640ee8c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 8 20:11:15 2018 +0200

    Add API for cloaking file-descriptors

commit 006ee96671cf36da833a2ab149191e1e2624fb3a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 8 19:03:18 2018 +0200

    Add vapi entry for replace_return_value()

commit 974ddc8ff917dd3618cc6a00ec5902f2275a5f33
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 7 02:28:20 2018 +0200

    Fix vapi entry for InvocationListener

commit 2debc4050c34d8c15f60a2102e9f71a05b9e70c2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 7 02:27:54 2018 +0200

    Fix vapi entry for Module.find_export_by_name()

commit 578795ff878c34a2b7a029d509af88d1e7178e83
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 1 15:53:43 2018 +0200

    Fix warning-inducing casts

commit 4952682210fe7e2044aacc6665f39920b8e4d2ee
Merge: e4701933 3ed0498b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Mar 31 23:28:49 2018 +0200

    Merge pull request #274 from frida/feature/fork-handling
    
    Add fork()-handling

commit 3ed0498ba90528ea09d9f0aac8a025c772483e81
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 27 20:25:49 2018 +0200

    Revise fork()-handling to avoid touching locks
    
    Doing this as a separate change in case it turns out to be necessary on
    some platform.

commit acdafe957e552e8b5edc6304de77ff0ba4332340
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Mar 18 14:08:12 2018 +0100

    Add API for fork()-handling

commit e4701933ba7ca3f8abc5554b12097ce5b9e169b5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 27 18:39:21 2018 +0200

    Add aligned version of call [reg + offset]

commit 61ae3bab83d067464d9bf71dd64bacec1034d639
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 19 12:32:23 2018 +0100

    Add Process.is_debugger_attached() to the vapi

commit 1dbb94228a70fdcae720d6361f617a899930c1f6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 21 11:31:55 2018 +0100

    Bump frida-java

commit 0b14e28dde3f04c58de6e6f5b3fa4cc817c45c1f
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Mar 20 19:01:44 2018 +0100

    Let go of JS lock during Module.findExportByName()
    
    To avoid deadlock in case an intercepted function call in another thread
    holds a dynamic linker lock and is trying to get the JS lock.

commit efd079f97860d760f392f10e2da16581efed1c69
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Mar 19 13:05:40 2018 +0100

    Add OutputStream.writeMemoryRegion() (#271)
    
    To stream directly from memory without copying the data.

commit 1e185da05d1e4d9909d42997ad72c4ce8365788b
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Mar 19 11:39:26 2018 +0100

    Handle empty stack in V8's error handler (#270)

commit 72f4c6f1a984e7240769da6d8b18521d31b4e766
Author: Kamil Rytarowski <krytarowski@users.noreply.github.com>
Date:   Fri Mar 16 14:03:31 2018 +0100

    Skip DT_GNU_HASH in gum_store_symtab_params if unavailable (#269)
    
    DT_GNU_HASH is not available on all ELF platforms and it is a GNU extension.
    
    This corrects a build on NetBSD/amd64 8.99.12.

commit c41abae2a2b29de3aad7a4fd9daac3e0b150cb54
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 12 20:53:18 2018 +0100

    Fix compilation on Windows

commit 5c1e72ebf68fc098085af5f59ac7ac71b8c790f7
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Mar 12 19:57:43 2018 +0100

    Potentially cloak more than one range for threads (#268)
    
    Implemented only on i/macOS for now.
    
    The default behavior when Apple's libpthread allocates resources for a
    thread is to create a contiguous range made of guard + stack + pthread.
    It's also possible to create a thread with a user-defined stack, in
    which case no guard page will be provided by default and only the
    pthread structure gets allocated internally.
    
    In any case, both the internal allocation extents and the stack itself
    can be retrieved by picking the right values out of the opaque pthread
    structure.
    
    The `gum_thread_try_get_ranges()` function detects if the allocation is
    contiguous or not. If it's contiguous only one range is filled,
    otherwise there will be one range for the stack and one for the pthread
    structure. The number of produced ranges is returned. In backends that
    don't yet implement this logic, a number of 0 ranges is returned.
    
    Offsets in Apple's pthread structure have been pretty stable so far, the
    most notable change is that at some point (around iOS 10.x) the
    `thread_id` field got moved after the fields we use. To account for this
    and provide compatibility with older versions of the pthread structure,
    we check if `thread_id` is at the newer offset, if it’s not a skew of
    8 bytes is added to all other offsets.

commit fc1d8df1f872c399101e0f0c3974e5cb9468f9c0
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Mar 12 19:33:45 2018 +0100

    Add gum_query_page_allocation_range() (#267)
    
    This is used to get the full extent of ranges allocated using
    `gum_alloc_n_pages()` including the overhead, and is implemented by each
    backend.

commit ca60b0041708a160705dd9b141b374926143ae2c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 8 02:12:05 2018 +0100

    Bump frida-java

commit b2ccb7e3a0233e6d2b5f32a3339d99e6fd28ae4a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 6 15:18:07 2018 +0100

    Bump frida-java

commit 919bb8ed76382053214cb874fd848ee49c6833cf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 7 22:38:16 2018 +0100

    Bump frida-gum-types to 1.0.5

commit f462d4acdb544fb959d38a8b31078ac62280a1e3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 7 22:35:37 2018 +0100

    Fix type definitions for (U)Int64 and NativePointer

commit 7f6866a9fcd1ece17fad6a1a53f134a5da97ac28
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Feb 5 14:58:58 2018 +0100

    Allow emitting i/macOS imports more than once per symbol (#265)
    
    Because they’ll have different values for `slot`.

commit 7f83903553c9d2855dc8385678d0d60c29318e49
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Sun Feb 4 19:48:03 2018 +0100

    Expose import slot for i/macOS (#264)

commit 389f4ac667e965d977b385244b37808ae0b137f5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 15:58:00 2018 +0100

    Revert "Make module size computation a bit stricter"
    
    This reverts commit b4a49d88a51f5652f5edf0de2547a090f6e1dfc5.

commit afa0828ded13c82c64839667249f8e55b2a9bf36
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 15:53:50 2018 +0100

    Ensure executable is enumerated on old glibc

commit b4a49d88a51f5652f5edf0de2547a090f6e1dfc5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 15:53:00 2018 +0100

    Make module size computation a bit stricter
    
    Better to underestimate a module's size.

commit 4962dd2c6c065219554f2ffb338c2a68135066fe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 15:49:22 2018 +0100

    Skip vDSO module on older versions of glibc
    
    Where the name is empty.

commit 613316161d1a53e2216047b8fcc7d41f677546b8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 14:54:14 2018 +0100

    Fix compilation on non-Android Linux-based OSes

commit 7745a80897acd6fe8db12871ac1ec2e5c7d49099
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 14:51:48 2018 +0100

    Add test-runner script for android-x86

commit 6d405bcacc596a9b1e77654db60adb484de99387
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 14:50:55 2018 +0100

    Fix module enumeration on Android 7 and below
    
    Turns out dl_iterate_phdr() reports a bogus entry for the linker, so we
    now skip it and synthesize one instead.
    
    Plus some tweaks:
    - Emit the linker module last, so the first module is the app itself, for
      consistency with other platforms.
    - Properly skip the vDSO.

commit ad61b0d0f6a2e81186d5aba84e341533ddc7c8ed
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 14:45:40 2018 +0100

    Fix module size computation for modules with special ranges
    
    Like the linker on newer versions of Android.

commit e387426b1b1f734be651d5252ee266d261f8c796
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 14:43:31 2018 +0100

    Factor out Android linker logic

commit 48da83d6225786674a25575e649bbbd2dae9d481
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 05:10:27 2018 +0100

    Bump frida-java

commit 1ff669f83de2c4138400f5a813b5904ac8820dfd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 04:09:04 2018 +0100

    Bump frida-java

commit 07e30f2d8be61f995d1f1f49929a4b48a7f8941b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 23:46:12 2018 +0100

    Fix the exclude_bl_with_unfollow test

commit 55112c15a87f88d90066094cb846681922c2c246
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 23:45:55 2018 +0100

    Fix register clobbering crasher in Stalker on arm64
    
    Where X12 may get clobbered by the event delivery code.

commit 2b8a9de74212616d0eab8eda4faa348ba91d68bf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 23:43:41 2018 +0100

    Disable KScript tests for now

commit 6b428741366c63ff98e0493a003bded000e8e5cd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 23:03:55 2018 +0100

    Fix Android tests on the latest OS versions

commit e1e15df6d1eb0ddb0692b04ff1c003663c9ed7c0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 23:03:03 2018 +0100

    Fix the Duktape compat declarations

commit d4a9ee888afb3af0a069dce36cf1514ebd06aca9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 22:53:34 2018 +0100

    Hook up Duktape time implementations to GLib's

commit 263e362700a6d89432e81477fe4f96135a74fad2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 22:26:50 2018 +0100

    Fix Spinlock implementation on 64-bit Windows
    
    It is no longer safe to use X86Writer as part of the initialization of
    Gum's memory subsystem.

commit 954dc0dd0fa30e3e0183d57a86257424d0b35ba4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 22:44:09 2018 +0100

    Reduce memory_can_be_copied test on Linux/x86
    
    For the time being, so we can run all the other tests on the CI.

commit 4ef4eb67d4e70601e9d2b22cb8dd169b0878ea81
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 22:32:51 2018 +0100

    Omit vDSO from Process.enumerate_modules()

commit 1f7d4931ef5277c6f810350544588d39e62ba14b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 22:27:46 2018 +0100

    Rename to reflect the canonical architecture name

commit 72b22282f047ac5ba60fcba15c2f9f0b5f89c20c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 21:03:48 2018 +0100

    Make the enumerateSymbols() tests a bit less brittle

commit 4cf931d1330e2763510725ef16d774b94cc7430a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 21:01:23 2018 +0100

    Make the module_symbols test a bit less brittle
    
    By using gum-tests as the module, as it's more likely to have symbols.

commit 70f56ebfe221dd3d6182fb7cba570edb3ef8d05c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 21:00:31 2018 +0100

    Fix type punning warning reported by GCC

commit c21c5417e437e487ba112a1519aaced4e04d648b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 19:51:26 2018 +0100

    Fix static virtual address resolver regression
    
    It was actually correct as it was, and we were using the wrong base
    address.
    
    This reverts 91a638e438127b8623c7213613a7c10bb6b12ad5.

commit 1dc0e8e06f6491fee83b7fe921efce87627b1a0e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 19:49:13 2018 +0100

    Improve strictness of preferred address search logic

commit 3f3f2d323d699caa11a3bc4de72c3bec03522670
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 19:48:26 2018 +0100

    Fix ranges reported by Process.enumerate_modules()

commit d15ebc7fb6b82907b2fc35da9c4b56e6660881fc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 19:47:36 2018 +0100

    Strengthen the linux_process_modules test

commit 91a638e438127b8623c7213613a7c10bb6b12ad5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 01:10:59 2018 +0100

    Fix static virtual address resolver

commit b8b7a9bb8841e0b8165ee426640850957d0e3337
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 01:10:12 2018 +0100

    Simplify ELF dynamic address state detection for now

commit e85d0e60a53193c4f6e729cb9e8771028c8c96df
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 01:08:28 2018 +0100

    Fix call_indirect test on 32-bit systems

commit 3f7d0628867584cc72d7abdbbd570840285837e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 00:35:31 2018 +0100

    Add missing include needed for dl_phdr_info

commit 7a7e877ee34459d6c8a1a9f25a4f646fc4040fe7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 01:29:38 2018 +0100

    Add test-runner script for linux-x86_64

commit 72d469d58bcece4f88678567747e8edede0ebff6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 01:29:26 2018 +0100

    Use libc's library name for the vDSO

commit e67b2115f900aaf381c670ae018dd8600473c1a3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 01:19:14 2018 +0100

    Fix wrap-around bug in ModuleMap compare function
    
    Manifested itself as random test failures on Linux OSes.

commit 89d39455c5cee5caf1a3699c9a36e4ff5628987e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 00:44:24 2018 +0100

    Ensure that module names are canonical
    
    Which the name provided by `dlpi_name` typically isn't.

commit a3bd6869232795da8e9cff9f3487ba57af17667c
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Jan 30 22:35:18 2018 +0100

    Adjust size of mapped ranges on i/macOS (#262)
    
    The tail of file-mapped segments is only guaranteed to accessible within
    the next `vm_kernel_page_size` boundary after the end of file. Accesses
    beyond that point result in SIGBUS, regardless of the real size of the
    memory map.
    
    The returned `size` for ranges crossing the end of mapped files is
    now adjusted to be within the safe range.
    
    As a plus, Gum.FileMapping now has a new `size` field which holds the
    size of the mapped file on disk in bytes.
    
    This also adds `file` details to ranges emitted by Module.enumerate_ranges().
    
    Lastly, the `__PAGEZERO` segment is now skipped while enumerating module
    ranges.

commit 226ab0fa352da881227f706d006668287a880cbc
Author: Eloi Vanderbeken <eloi.vanderbeken@gmail.com>
Date:   Thu Jan 25 11:11:52 2018 +0100

    Improve X86Writer calls generation

commit 4336ac938cabef2f6d66e62de71c5f36089c3de9
Author: Eloi Vanderbeken <eloi.vanderbeken@gmail.com>
Date:   Wed Jan 24 17:19:58 2018 +0100

    Fix process_threads test
    
    By making sure that threads are started before counting them.

commit bd7e5db6aa128b8218046b248d630f5810b53f8b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 30 22:17:12 2018 +0100

    Use dl_iterate_phdr() when available
    
    To avoid false positives when an ELF module happens to be mapped into
    memory by someone who's not the dynamic linker.

commit 8e07accc939a520657d34d7c635fc3bbad6269bd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 30 19:40:22 2018 +0100

    Simplify resolve_dynamic_virtual_address()

commit 9149cce8178312cf47bf4496045fc893b123eeac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 30 19:36:55 2018 +0100

    Fix handling of in-memory ELF modules with fixups applied
    
    Where the dynamic linker has adjusted the virtual addresses to match the
    actual load address.

commit 96cdd3a037537ff95e2f307650dee678fa34af44
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 29 21:21:15 2018 +0100

    Add missing include for memset()

commit 8776868dd89dc8f59ab251e5a680da6925f72697
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 29 19:48:06 2018 +0100

    Fix warnings reported by MSVC

commit 8dd3f307c1d92a4687f6e55dc371c666694a63a2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 26 21:13:57 2018 +0100

    Rewrite LR accesses for thunks on arm64 also

commit 59fe9dd1b93907f94f6c2a45f05ec22f8d6e9966
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 26 20:20:34 2018 +0100

    Add failing test for Interceptor clobbering LR on arm64

commit 11d0d77aa3c94055a1e6ecc9ff9f028c40cc9c79
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 26 20:20:03 2018 +0100

    Add put_bl_label()

commit 91e23555d2e289fc60062f9b0af267f72e261168
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 25 00:13:32 2018 +0100

    Bump frida-java

commit c02c058ef8404922d692abdcd4ae2a34412cd873
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 24 23:48:49 2018 +0100

    Relax ApiResolver test a little
    
    As newer versions of Android provide libdl.so.

commit b01555727c933cf497127dec7fd4bc2e77b33b17
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 24 23:33:35 2018 +0100

    Rewrite LR accesses when hooking simple thunks
    
    So they don't see Interceptor's return address used to trap the return.
    
    This makes it safe to hook dlopen() and dlsym() on newer versions of
    Android.

commit a03e296230b6041fda28bf3e8af0a8c4ea0b3706
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 24 23:26:07 2018 +0100

    Add _gum_interceptor_translate_top_return_address()
    
    For internal use in backends.

commit 035e4d465183a060d953ff3cf1564aaedce12d01
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 24 23:25:36 2018 +0100

    Remove redundant cast

commit b83cbae7277266bd557e71be3512ef638ee5b221
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 24 23:25:22 2018 +0100

    Add missing G_GNUC_INTERNAL markers

commit a140c37fa1a22776effb1bba33d58bb2ef2ff02c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 24 22:10:30 2018 +0100

    Add test for LR behavior on regular functions
    
    And factor out the ARM tests.

commit 8c048cd27dacd331650d546843655a1bc843dced
Author: Eloi Vanderbeken <eloi.vanderbeken@gmail.com>
Date:   Wed Jan 24 17:19:58 2018 +0100

    Remove unused variable (#258)

commit a264f8c26f08e93d9412d84ce95288fa2199fdf4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 24 13:35:23 2018 +0100

    Add failing test for Interceptor clobbering LR on arm
    
    This happens in order to trap the return. We should however be able to
    avoid doing this for simple thunks, like dlopen() and dlsym() on newer
    versions of Android.

commit 28aaa7d0fea716f1ca3e78c4fe71e1e6c5fae6f7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 24 13:32:59 2018 +0100

    Add put_b_label_wide() and put_bl_label()
    
    Plus a little refactoring.

commit 3022251046eccf0d15b3fa0e02809b2808175965
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 24 13:31:30 2018 +0100

    Fix stylistic inconsistency

commit 7b194adf03d51f7eb855769622ead507427327d0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 23 03:08:47 2018 +0100

    Add support for resolving dynamic linker APIs on Android

commit 21fc53e5d1bbac5ea4803bd3aa11d33587ac0c85
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 23 03:08:03 2018 +0100

    Improve ModuleApiResolver to only visit each module once

commit f02d9db5621c07fb1968bb9201713ef6871d4815
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 23 03:06:25 2018 +0100

    Speed up module name resolution on Linux-based OSes
    
    When the name is already in canonical form and the base address isn't
    needed.

commit 328136ed6cb00a2e6048922b08a85bf79f85b942
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 23 01:26:38 2018 +0100

    Add test covering intercepting dlopen() on Android

commit 98a310ff3b48bb12c9ce2ebd76ecc6d5cf4061a4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 22 23:53:52 2018 +0100

    Handle gelf_getehdr() failing

commit e30fe952ae99f9ce1cabbb25f846c1193facde0d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 22 02:26:26 2018 +0100

    Bump frida-java

commit 5c1b8be135b7cfce923cd42b50a9a3b8c67c3c70
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 22 02:12:20 2018 +0100

    Make NativeFunction accept undefined receiver
    
    So the code Babel generates for spread syntax actually runs.

commit 87bb424f871f5d5764b9d1940b7d01acf79262e3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 21 00:00:16 2018 +0100

    Move enumerateThreads() tests to slow mode for some targets

commit 4a711cdb544981704b759248839fb3b8b2d1d016
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 20 02:39:58 2018 +0100

    Fix interception of Thumb functions on unaligned boundaries
    
    When the function start at a boundary not a multiple of 4 we need two
    additional bytes for an alignment padding NOP.

commit 076e554ecc72bd227759fcee77b2effdb82b4c05
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 20 02:36:58 2018 +0100

    Always align literal slots on 32-bit ARM
    
    To avoid crashing on systems that don't allow unaligned memory access.

commit 95cd6a487d0b97df508693787aede991a09eab9d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 20 01:00:34 2018 +0100

    Move a few dicey tests to slow mode for some targets

commit 141bc12e7956ba675f890b2c923ae5108dee8eb2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 20 00:53:44 2018 +0100

    Implement gum_module_enumerate_symbols() in the Linux backend

commit b67e2d2cab383f53ef6e0ab6e0a5fe37ccc54c30
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 20 00:51:58 2018 +0100

    Extend the SymbolType enum with ELF-specific values

commit cca89aa4afa635f42b48f2abb6025e00430256c2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 20 00:50:17 2018 +0100

    Add gum_elf_module_enumerate_sections()
    
    And improve the section header lookup API.

commit e1f2824d1a788f9b0f009587c9d3aa41dadc116d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 19 21:02:26 2018 +0100

    Fix handling of ELF modules with only DT_GNU_HASH

commit c6ead7ea069db051a1f7776c0c914efc4b3ae0fc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 19 15:59:36 2018 +0100

    Disable thread enumeration test on Android for now

commit fe0e5841fb9d47f549851d85acfe0fcd3ad70585
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 19 15:59:15 2018 +0100

    Improve import/export enumeration on Linux/Android
    
    Using the in-memory program headers is more reliable than using on-disk
    section headers, which may not be present.

commit 38a157031db7612bc0f6112fa54c1f3c39340f22
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 18 22:22:10 2018 +0100

    Bump frida-java

commit f5007203fe1e02d250094c2f3684319733607d80
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 18 19:18:28 2018 +0100

    Bump frida-java

commit ac59849bfb5939fe4ae145eaccf265cb7d277ffc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 18 04:25:41 2018 +0100

    Fix generated docs for put_instruction_wide()

commit 3c41174c835279b71e16a865a75859e3c30ce7fd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 18 04:12:45 2018 +0100

    Bump frida-java

commit d3bde64746b813fbc95340f9ae1e4cffe1bc8774
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 18 04:12:16 2018 +0100

    Fix JS bindings for arm_sysreg

commit 02d17bb7dbe2d133c444b20c095e80e90fd423fd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 18 03:03:34 2018 +0100

    Add gum_thumb_writer_put_{mrs,msr}_reg_reg()

commit 459f8d1f4a210632eebe3fd26f0118f7a5703e41
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 18 03:03:02 2018 +0100

    Fix inconsistency in _wide() naming

commit 073898980d01087cacd4d966068fcad9736963a3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 18 01:07:04 2018 +0100

    Add gum_thumb_writer_put_b_cond_label_wide()
    
    And refactor to get rid of unused cruft.

commit 8114ac34180b0ce6c16a48776395b6cfb7f5fe63
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 17 22:46:56 2018 +0100

    Commit LDR literals when arriving at the maximum distance

commit d13b31b01d4d7ce721b24659b83cc3ca15d5beae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 17 17:08:17 2018 +0100

    Improve uniqueness of labels used by relocators

commit 5d7d1502c77588c7da333dc6860bc3e63c5375b3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 15 20:38:23 2018 +0100

    Lift limitations on number of labels and literals
    
    Now that these are part of our public API and Stalker is able to safely
    allocate memory.

commit 4394de7660cc4362fcbe82d1de62a47ecc2da379
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 15 20:28:55 2018 +0100

    Get Stalker tests running on iOS again
    
    Should investigate the register clobber issue at some point.

commit e438a22c3d4c7dde7652ec6c657b2c6b003d5d02
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 15 20:28:11 2018 +0100

    Skip sqlite3_thread_cleanup() interception test on 32-bit ARM

commit e347af38d616c1d6f3cdf29a5128093c4dc3db44
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 4 19:39:18 2018 +0100

    Bump frida-java

commit 675853a026a6d321bb0bed09bf33fe554bdf2699
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Jan 4 13:54:26 2018 +0100

    Expose ModuleMap values() method (#253)

commit 85d44f0805400e6ea7d85c383e6b964e1c39a52e
Author: Antonio Ken Iannillo <akiannillo@users.noreply.github.com>
Date:   Thu Dec 21 13:05:18 2017 +0100

    Take excluded ranges into account for BLR also (#248)

commit 511f2992f4320d380d117fa5bfcc3ec8817c1054
Author: Antonio Ken Iannillo <akiannillo@users.noreply.github.com>
Date:   Fri Dec 8 09:51:48 2017 +0100

    Fix compilation (#247)

commit 67334a14e6a0a967644ed0f8cd1168d7803e4946
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 7 18:49:16 2017 +0100

    Expose an empty module to allow require.resolve()

commit 2cf0b527599d016ba20a9a76a1d1054b63c45402
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 7 18:35:24 2017 +0100

    Add minimal types for the Thread module

commit ef2add9a4c77e3e14af2de5b7897d0d7f6423889
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 7 18:21:06 2017 +0100

    Try a different directory layout to please tsc

commit 918d35d9ff07ea69706726dc51736ee47d2432ba
Author: Antonio Ken Iannillo <akiannillo@users.noreply.github.com>
Date:   Thu Dec 7 16:00:44 2017 +0100

    Add some missing calls to gum_clear_cache() (#246)

commit 9d5f333ec0a22c69db73a43f87effade66565bc9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 7 15:35:02 2017 +0100

    Fix the `main` field

commit 3ca28d91c538da0180bdc4fccfb8924876729846
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 7 15:27:50 2017 +0100

    Ignore package-lock.json

commit c7eb9cfb280244dabf32005ee1635eba68505b29
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 7 15:27:36 2017 +0100

    Add early draft of TypeScript type definitions

commit b3c7ae749873ee1abc4312de14c4495996623bc0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 1 21:38:53 2017 +0100

    Fix stack corruption in Stalker arm64 tests
    
    Kudos to @akiannillo for tracking this one down.
    
    Fixes #245.

commit f1d085393614272527b801bba559c31c5ef51e3f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 27 13:13:23 2017 +0100

    Refactor _waitForEvent() to get rid of warning

commit 1f301b248262282f359017247f58c27250130b24
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 27 13:01:09 2017 +0100

    Really fix NativeCallback lifetime this time
    
    This now also has test-coverage as of the previous commit.

commit 0e7c1ac9cf69db0de1d7ef75218d9776d104702e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 27 12:59:30 2017 +0100

    Strengthen NativeCallback test
    
    To ensure JS callback is kept alive.

commit 5bc1ad3dc4db7eb7479a59b422f77d62b0c4da32
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Nov 25 02:05:00 2017 +0100

    Ensure event_source_available is assigned before use

commit b1d57425524778d51eee31343c79f1952650a34c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Nov 25 02:00:42 2017 +0100

    Make recv().wait() throw when script is unloading
    
    To avoid deadlocking.

commit bd3ded4cc17b74010763675fbae84e795d87da3d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Nov 25 01:59:19 2017 +0100

    Remove unused argument

commit e7d3b3b434454396045cb119ca433b97b0deb9f7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Nov 25 01:19:41 2017 +0100

    Bump frida-objc

commit 6b67a7dc74c57dafe6f0bb936daf1078a0e31012
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Nov 25 00:05:22 2017 +0100

    Add Frida.heapSize
    
    Useful for profiling Frida's own memory usage.

commit bd8e6df32f85d78547b934f0c076ab1cd17c071b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 24 19:27:21 2017 +0100

    Actually fix NativeCallback JS function lifetime

commit 8051e522dce86003563f8d7d8a3af9692780691a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 24 19:24:55 2017 +0100

    Fix NativeCallback reference loop preventing GC
    
    Turns out that Duktape closures capture everything, so it is very easy
    to keep the NativeCallback itself alive, which keeps the closure alive.

commit a90961d1252398c8f9c80401849a73082155aaae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 24 18:24:51 2017 +0100

    Add failing test for NativeCallback memory usage
    
    Currently fails on Duktape, passes on V8.

commit 7e39849e2b6607108cfddc9cde7d5c1e163903da
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 24 18:19:17 2017 +0100

    Simplify timeout-handling by making it stack-based
    
    So tests don't have to remember the old value for timeouts that only
    apply to a portion of the test.

commit c22bbfcd9e6c9fe06d284487707dd2711a18fab7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 24 18:18:07 2017 +0100

    Simplify memory management of message queue

commit e627b524f84351fc5431166e5e7402dd79962cdc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 3 01:03:01 2017 +0100

    Fix casing inconsistency in error messages

commit 92c8a17f0847ffe2dcedbd60e8eca9582111cdfc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 3 00:57:46 2017 +0100

    Add Module.ensureInitialized()

commit 289cfa589a42a49991ca0b7935921313789d2063
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 3 00:48:40 2017 +0100

    Add gum_module_ensure_initialized()
    
    To make sure module initializers have been run.

commit 69e7988cf1f44fc096c89166952966144a40423f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 31 14:00:11 2017 +0100

    Fix handling of float in variadic NativeFunctions
    
    This seems like a bug in libffi, but for now we'll follow what JNA does:
    https://github.com/java-native-access/jna/issues/463

commit ae5cb72f9b717fabb99f98c52d09f658fe76a0db
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 31 13:51:55 2017 +0100

    Strengthen the regular NativeFunction test

commit 2825d0c42b0a64dd8cf993912a3a1d89161ffae1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 31 13:35:55 2017 +0100

    Add failing test for varargs with float

commit d7a1d7b019789459e8d06d6d299fbf6125753fc2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 25 00:41:22 2017 +0200

    Fix unicode-handling in Memory.readCString()
    
    As this API is intended for plain ASCII and potentially invalid UTF-8,
    we need to replace bytes that cannot be interpreted as valid Unicode.
    
    We lean on g_utf8_make_valid() to do this for us, which replaces them
    with the Unicode replacement character (U+FFFD).
    
    This is important to ensure that invalid strings never enter the
    JavaScript runtimes and result in a crash when later handed to send().

commit d3febd5dc415d2d00ca3a889d215782b8a814839
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 24 21:39:21 2017 +0200

    Improve Memory.readUtf8String()'s error message
    
    When encountering invalid UTF-8.

commit 725c41685d27c45a45fa09830c1eab7f65132d02
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 20 22:52:25 2017 +0200

    Turn policy violation errors into JS exceptions

commit 3546c8c198a5c1b5186232f9f72606bd84186864
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 20 22:50:38 2017 +0200

    Make Interceptor honor the code-signing policy

commit 8f88238003e8dcfad676da69109a1e2c71e04a76
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 20 22:48:33 2017 +0200

    Add Process.codeSigningPolicy

commit 177d8273f6f1671a81e3ac9cc61d63d74eca2d26
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 20 22:38:24 2017 +0200

    Add API for specifying the code signing policy
    
    And to be able to query it as well.
    
    The use-case is repackaging iOS apps with Frida-based tweaks and being
    able to run those apps without having to launch with a debugger to relax
    the code-signing requirements.

commit c690549eac78d5ea5e1ea0d2ef7ea25621c5ab96
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 20 22:23:15 2017 +0200

    Fix stylistic inconsistency

commit c138e91a8d23278cc354faecd80f7a4e41ea7110
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 16 14:33:31 2017 +0200

    Fix WeakRef lifetime issue
    
    Typically resulting in a crash on unload.  Also refactor to get rid of
    some unused cruft.
    
    Kudos to @leonjza for reporting and helping track down this bug.

commit 6bcc7c1e736f1f0e0067b003fb190f960f3209ea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Oct 15 21:29:40 2017 +0200

    Bump frida-java

commit 53a596ccfca7b4902c34aa13a2f2ace287c217f0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 11 17:28:48 2017 +0200

    Fix SymbolUtil regression on Linux-based systems
    
    We also need to collect the dynamic symbols.
    
    Also avoid duplicates and sort the results while at it.
    
    Fixes #240.

commit 4f225007fd4fcc2967165d3409e2b02f5a6c30e3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 11 17:27:21 2017 +0200

    Remove unused variable

commit bdd05e9067ed17b639d2a8fa20e0778218bcd9d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 10 14:41:16 2017 +0200

    Add NativePointer#not()

commit 7c153017b809e71c165da4f82456c45d513f1751
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 10 14:24:10 2017 +0200

    Bump frida-objc

commit 641a845ed1f55a4379d3d2e04ed9c1387f850ede
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 7 01:37:15 2017 +0200

    Bump frida-java and frida-objc

commit 78d591915684ed1c1262cda0eac040d26ae5ee91
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 5 23:45:26 2017 +0200

    Implement WeakRef behavior in the Duktape runtime also

commit 92928c9db1a9dd9cd160ca76c392433616e7eeb3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 5 19:29:43 2017 +0200

    Remove outdated cast causing compiler warnings
    
    We used to assign to a plain pointer but now assign to a function
    pointer, making the cast unnecessary and wrong.

commit 3873d47159ad6914bc4d76e72c973fd66d676cf9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 5 19:27:18 2017 +0200

    Port the bit-counting helpers to 32-bit Windows

commit c88f4de2a77d1e201b7f7b68367dda0413c8e4a9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 5 17:26:38 2017 +0200

    Fix InvocationContext lifetime when onLeave is omitted
    
    It should keep it alive if it's dirty, i.e. so memory allocations are
    kept alive for the duration of the intercepted function call.
    
    Fixes frida/frida#346.

commit 6ac7cf5c732962575cf667b28dbad3a7149d8a14
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 5 16:44:33 2017 +0200

    Fix NativeFunction.apply() in the Duktape runtime
    
    The argument handling was actually completely broken, but this was only
    evident when more than one argument was provided.
    
    Fixes #214.

commit 0a6e66c6a57897ac651923da0f3a35f1494d30bb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 5 16:10:09 2017 +0200

    Update test to match Duktape's improved stack traces

commit b75de861bf968e791c66f5c47efcbd568029555b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 5 15:45:18 2017 +0200

    Use DUK_HIDDEN_SYMBOL macro available in latest Duktape

commit a1af74438aead97d84cf627edef9d4ce7c83c604
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 5 15:44:52 2017 +0200

    Simplify Proxy creation by using the new Duktape API

commit a9dcccf1333a9647ce9962c0db4e33e70ee24070
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 5 15:39:35 2017 +0200

    Upgrade Duktape to latest 2.2.x
    
    Fixes the following:
    
        function parseChar (c) {
          var a = typeof c;
          +c;
          var b = typeof c;
          return [a, b];
        }
    
        console.log(JSON.stringify(parseChar('7')));
    
    Which would print:
    
        ["string","number"]

commit f08dc8c55ed68108f5e2c4edcfa4d1fbe7d91aaa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 29 04:04:07 2017 +0200

    Enable SymbolUtil tests on Android by default

commit 19754964cd1dadb33eac297e781f5ca5c9b2ccc3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 29 04:02:51 2017 +0200

    Fix Thumb handling by simplifying symbol collection
    
    This also speeds things up considerably.

commit 2b1cead2db5018404cd3c3cc05338ed06b3652d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 29 04:01:01 2017 +0200

    Add enumerate_symbols()

commit 68975ebb7a57e1c7276ea6ccac699db763b05613
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 29 04:00:12 2017 +0200

    Fix truncation issues in enumeration logic
    
    Caused by getting the types mixed up.

commit f2731be57cc07e21cd632b379ade788f5bb3c96a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 29 01:40:41 2017 +0200

    Implement best-effort symbol resolution
    
    Like on the other platforms.
    
    Also canonicalize paths and remember which modules don't have debug
    symbols available.

commit 27d8bf095cdcc64f68dd3fec1f0a9891060c0d78
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 29 01:38:46 2017 +0200

    Do not rely on .debug_aranges
    
    It is emitted by GCC but not Clang.

commit dca77f361100401a7477b96e696000f2c3d5d776
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 28 19:16:06 2017 +0200

    Fix addresses in name to address results
    
    We obviously need to rebase to the actual base address.

commit fe8df3404b2dbe84ff4c8e83043f516ce7b2eaad
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 28 19:12:26 2017 +0200

    Improve module enumeration strictness
    
    To avoid false positives in case the application happens to have mapped
    modules into memory for inspection only.
    
    We should consider using dl_iterate_phdr() when available.

commit dffa16997faebb7caf9b2aad28c4c1386ddd40a6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 27 22:52:07 2017 +0200

    Refactor to use libelf

commit 77b4584133015a82e79a63f383b450ce3f7b4fa8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 27 03:21:17 2017 +0200

    Move to a libdwarf SymbolUtil backend on GNU/Linux (#238)

commit 4142ac4aa9c6381d3e56c0f139db06101cd5b499
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 26 22:03:40 2017 +0200

    Add `name` property for convenience

commit 94b3dff10600d76039ee55249ac98e7851546716
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Sep 26 16:03:28 2017 +0200

    Expose sqlite open flags (#237)
    
    E.g.: `SqliteDatabase.open(fileName, {flags: [‘readwrite’, ‘create’]})`
    
    Possible flags are `readonly`, `readwrite`, `create`. The `create` flag
    can only be combined with `readwrite`. The default flags are
    `['readwrite', 'create']`.

commit 53e946fb8d5e12346efe086fba5191019395a325
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 25 21:04:07 2017 +0200

    Factor out ELF-parsing
    
    So it can be reused across backends.

commit 7aeef11a0e28d16d67afdc443d23930b27ac70af
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 02:16:21 2017 +0200

    Strengthen the console test

commit e26669f979e2e931113819fd03b597d921376a1f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 00:24:03 2017 +0200

    Don't mark any message levels as fatal
    
    This is application-level policy that does not belong in a library.

commit 5550ae1ae370dcd6a7430fdd6190cf92aaeb7621
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 22 14:17:01 2017 +0200

    Fix logging of undefined and null values

commit 761aef463ee8b6a9cb7d932f59599e2401a0e808
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 22 13:32:33 2017 +0200

    Implement relocation of PC-relative LDRSW instructions
    
    This should allow Interceptor to hook a lot more functions on arm64, and
    should also fix crashes/undefined behavior in Stalker-generated code.
    
    Kudos to @JohnCoates for helping track this one down!

commit 98681776b9556b84d6d1f78a047c3e45a8363373
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 22 13:23:42 2017 +0200

    Add ldrsw_reg_reg_offset()

commit 86b182f1ad9aabd0adf31c9e8600e5250de7157a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 22 11:58:13 2017 +0200

    Bump frida-objc

commit 23fe771afee1e70eea3931771f11e9567cc5b3bf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 20 11:07:22 2017 +0200

    Fix use-after-free issues caused by bad declaration

commit 3f23aa460be001757295e2b8afa56f33e44c363c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 19 16:30:39 2017 +0200

    Improve GumMemoryRange to allow boxed usage

commit 45235d7ed2507219926371d174ed257962a995d3
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Sep 12 23:27:24 2017 +0200

    Poll thread state if instruction pointer is NULL (#236)
    
    This is needed to avoid stalking threads at address 0, causing exceptions and/or
    deadlocks. At most it tries for 20 seconds, then gives up.

commit 809449e0120c05f428f98b073c27f9c7c653965f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 9 00:54:57 2017 +0200

    Add missing include for MSVC

commit 0ded1581d305e54069a3a83f411bd5f2841f0e70
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 8 22:55:25 2017 +0200

    Ignore attempts to call start() when disposed
    
    To allow Gadget to shut down brutally.

commit b2df3ecc32de37d521fc449aecd2b95ba2889d8b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 8 18:23:00 2017 +0200

    Fix vapi

commit 0120b64d97d69899434912679a4b731324ac1fbf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 8 18:02:47 2017 +0200

    Expose ScriptScheduler and allow driving its MainContext

commit e2e3e701fbba8e70b8453989e86b802082ada6d2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 7 14:49:25 2017 +0200

    Extend the ModuleMap API a bit further
    
    - has(): quickly check if a module is present
    - findName(): like find() but only returns the `name` property
    - findPath(): like find() but only returns the `path` property
    
    Plus getName() and getPath() that throw when not found.

commit cd78d278789b1579f848391d8529e4987d74b82e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 7 14:30:19 2017 +0200

    Treat module name as UTF-8

commit 538ef92b2967084ecb364505aa1007fd74632388
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 7 14:11:45 2017 +0200

    Optimize module lookup by doing binary search

commit f4ef079ac578ff602649d2c58c92d539d9f2635f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 6 19:20:12 2017 +0200

    Expose the ModuleMap API to JavaScript

commit 8ba71cfbb2b7e5c81534c090efe0f573ddfebb61
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 6 19:16:13 2017 +0200

    Factor out the ModuleDetails parsing to allow reuse

commit f694b629a21570608b4f11eff648f3f52a424db3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 6 19:15:30 2017 +0200

    Pass const pointer to _gum_v8_parse_exception_details()

commit f6b36d2127e88e22f1c4b24deb6aeaf44ad67d3a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 6 19:13:42 2017 +0200

    Remove redundant namespace qualifiers for consistency

commit 336d9aa9945aa6ff2e3f91a1627c588bea7c60bd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 6 19:12:08 2017 +0200

    Add missing GUM_API annotations

commit 8e1184ee4d76bd319435f0572539ba915b9cf41b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 6 19:11:00 2017 +0200

    Improve ModuleMap to support filtering

commit 6b292cc234c0723fd04a07d2443207b6c990156a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 6 01:41:55 2017 +0200

    Use Capstone's iterator API to speed up relocators

commit dfb5856c552c2a6c8a466c29592e21d834112dc6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 5 23:01:34 2017 +0200

    Expose the underlying CodeWriter's `base`, `code`, and `pc`

commit d1df128d1a655039d2a0c64d1da56360a24d306c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 4 20:11:58 2017 +0200

    Also use inline caches for CALL mem and JMP mem

commit 0620eca64d8e4042bccd6e91ebe91ca65083e121
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 4 15:40:16 2017 +0200

    Update documentation autogen logic to cover the new special-cases

commit 57a0a4c5559888ad3631b7c6885f0f1ddabc31b7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 4 01:42:26 2017 +0200

    Refactor frame handling to reduce coupling

commit 5d275219d7268332e7a3db92e45f8135e73df22d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 4 01:40:45 2017 +0200

    Tweak style

commit b67b137874cbcca446ae1b7cc189360621b4539d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 4 00:05:05 2017 +0200

    Improve call backpatching to also use the helper function

commit cba89374ae886b8bdba5e6e98fbf1e6f1ddbe5f9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 23:49:54 2017 +0200

    Tweak comment styles for consistency

commit 4fb21f8e552fa10f6bdd3f5e17feae115773d8ad
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 23:45:58 2017 +0200

    Clear side-stack on miss to allow resync

commit 5a9003e3a5b84da4bc4d333e206b3b85795c472c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 23:33:03 2017 +0200

    Move stack pop logic to a helper function

commit ef515b2d5897a12286dfc279756bcf0c0f3b0a03
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 23:31:53 2017 +0200

    Tweak naming

commit 745a3851ffea489c2d743bbd7f64b949043b8ac8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 23:14:28 2017 +0200

    Improve put_cmp_reg_offset_ptr_reg() to handle i32 offsets

commit d3aafad9803fedb6e25e9b67e539ca5d6c4689f2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 20:40:49 2017 +0200

    Move stack push logic to a helper function
    
    To reduce the amount of duplicated code, and make it reusable.

commit 8cec1ee48646e0b80ca6a494e8cb2d941a89059f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 19:49:30 2017 +0200

    Pass the target block to backpatch_call()
    
    Instead of the caller's block.

commit 78158fdbbca3016d98f1d91c781283e415dd8c8c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 19:45:42 2017 +0200

    Call backpatching functions with aligned argument lists

commit 59e2c084b323b3b90e4fe20af3af0b9e21432564
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 19:38:37 2017 +0200

    Implement an inline cache with two entries for JMP reg
    
    On the performance test this amounts to an improvement from ~2.8x slower
    to ~1.4x.

commit f6aa092b4b6c131d72822abb24ff9eaf0a236741
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 18:27:03 2017 +0200

    Speed up the Stalker x86 performance test

commit bbf8c602a40162c476a3a7f307f4d2aaa364bf8b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 18:25:25 2017 +0200

    Use put_call_*_with_aligned_arguments() to simplify things

commit 57cf286a5dfb43242ed425416c1ca675708732f8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 18:13:56 2017 +0200

    Refactor event delivery to generate less code

commit 3f256cb7a5f8ab74999e40f869fbe75d9c34681e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 18:13:16 2017 +0200

    Improve readability slightly

commit 11e96d803171359a30a76028bdf85887d6f4ae81
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 18:11:43 2017 +0200

    Add API to call with an aligned argument list

commit 5bcc41a171ec6047f927b885cb56f20cfc1906cb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 03:08:05 2017 +0200

    Remove irrelevant indirect branch logic
    
    They don't exist on arm64.

commit 1f9fea96eb3e87964565591b2eceddad7255fe0b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 03:00:29 2017 +0200

    Implement call depth and refactor event delivery

commit bab25db81d43b1c60c6865353c3dbc424b480090
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 01:41:55 2017 +0200

    Remove temporary logging code

commit 117c2676ee1060ee5286805ebaa5333c7f048da3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 30 19:21:37 2017 +0200

    Implement side-stack and speed things up
    
    The side-stack speeds up handling of ret-instrutions, and will also
    allow us to implement the `depth` field of CALL events, like we do on
    x86.
    
    To speed things up even further we now implement the same backpatching
    tricks that we do on x86, plus, inline caches for dynamic branches where
    the target is in a register.

commit 7732e7eead9d69f38ca100efbc971fad514e9969
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 31 20:58:06 2017 +0200

    Improve naming

commit 1b72d870b957f105503cf92ca93e91dc226a0e71
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 28 01:55:59 2017 +0200

    Measure which of the generated code is used most frequently

commit 5335e7350ea1604701290c7f7c89113c0605d78c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 01:26:40 2017 +0200

    Remove redundant comment

commit 5847934e2351d1e1ed81d57868b4c5b1c566d7ed
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 01:26:28 2017 +0200

    Add ldr_reg_ref() and ldr_reg_value()
    
    Useful for controlling where the value is placed.

commit 258c50da0575a23349c34a8dd9b89f91b4e2adc2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 31 20:58:33 2017 +0200

    Add and_reg_reg_imm()

commit 073c7e0d2d0c2a0ce7bd4205d91c3797dc5d359f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 31 02:15:29 2017 +0200

    Add cmp_reg_reg()

commit 4f541328d8aac9d04260de9d4be7cb94d6b9ac4a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 31 02:05:03 2017 +0200

    Add sub_reg_reg_reg()

commit 242eef7e982c118f0724a91910af9116bf592865
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 30 19:22:01 2017 +0200

    Fix stylistic inconsistency

commit 1aaa079d390da9293b0a06d249f5c27145b2a145
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 30 19:21:11 2017 +0200

    Add tst_reg_imm()

commit d07901e5930531b49b3d759cbe67e9394f898d4d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 30 01:06:46 2017 +0200

    Implement backpatching of static branches on arm64
    
    Like we do in the x86 backend. Results in a 10x improvement measured on
    the performance test.

commit e4d213b6a6adbfa97cfbbb96e783f589a60feb56
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 29 18:07:16 2017 +0200

    Improve the Stalker performance tests

commit fdc20a462b7be2bb90b8a7896703cb83246c6cbe
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Aug 28 19:42:18 2017 +0200

    Resolve writer labels using hash for Duktape also (#234)

commit 1d92d313bd889249fc6d2144750db3926051d8f4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 28 00:39:31 2017 +0200

    Turn the Stalker Cocoa test into a performance test

commit 521ecde2a46ea8655fbe35cc29e924ff2447e5cf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 27 23:38:27 2017 +0200

    Add boilerplate for a Stalker test fixture for Darwin/arm64

commit 3f5c5b77188de7a1f74d8f695720ac8d19138463
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 27 22:27:44 2017 +0200

    Tweak put_cmp_reg_reg() argument naming

commit c855009bbb36e9c555ffa2bb60186f2666e6d339
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 27 22:16:35 2017 +0200

    Avoid clobbering system error when restoring thread to ignored

commit 3b9f23ca2e306ee7a85aad11480182236c9e4582
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Sun Aug 27 21:41:00 2017 +0200

    Fix X86Writer’s sub_reg_reg() and add cmp_reg_reg() (#233)
    
    - Make sub_reg_reg() compatible with 64-bits registers, by adding REX prefix.
    - cmp_reg_reg() is exactly the same, with different opcode.

commit 86ef4dd24cd259d3c3a612765dab3b943eaec7c0
Author: Fabian Freyer <fabian.freyer@physik.tu-berlin.de>
Date:   Fri Aug 25 22:04:37 2017 +0200

    Do not ignore interception of NativeFunction calls
    
    When Gum is used in embedded mode, i.e. gum_init_embedded(), like it is
    in the case of frida-agent and frida-gadget, it ensures Frida's own
    threads are ignored by Interceptor. This does however not make sense when
    calling a NativeFunction.

commit 034e4472b3af39188811a2bb9dfef556fbef1e09
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Sat Aug 26 17:42:27 2017 +0200

    Create capstone instance during module initialization (#232)

commit 35a3e1300be4de873a17a12de9ea6988beb1e726
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 24 02:32:01 2017 +0200

    Expose regs implicitly read and written as well as groups

commit 4cddb118a35db0ecc40eb7755985f7df3991f4b6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 24 01:51:25 2017 +0200

    Strengthen the NativePointer from Int64/UInt64 test

commit 04fa34f88017da10520dd7e73b4bc38fde80ee14
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 24 01:51:02 2017 +0200

    Fix stylistic inconsistencies

commit 2275f988f4b44a22d95e5d986cf909392eae8d5b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 24 01:30:21 2017 +0200

    Gracefully handle malformed event buffers

commit bc1749d5320e9d72c8447179b74899eeff89fbd4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 24 01:12:42 2017 +0200

    Fix stylistic inconsistency

commit 242ac9e77d696da1d8b534b57efbb7ff78a81803
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 24 01:10:02 2017 +0200

    Improve Capstone JS bindings to expose operands

commit 6923fc2972409e3d46f6f178530cddbe99797f26
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 24 01:08:30 2017 +0200

    Add support for parsing NativePointer from a negative number

commit f5099d026df04d99c6f68a819f53f914e7225aea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 24 01:07:39 2017 +0200

    Add _gum_v8_object_set_int()

commit 7f80d2dc4167c4ee76c0608788feee4faad3efd5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 23 15:31:14 2017 +0200

    Get rid of _gum_duk_is_arg0_equal_to_prototype()
    
    Most of our finalizers steal the data and only free it if successful,
    and since the prototype won't have data there's no need to check if
    we're finalizing the prototype.

commit 16bcadc7505e69afa131c7eb58c772c49773c14e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 23 15:18:56 2017 +0200

    Recycle the CpuContext object passed to the callout

commit f856631918e702f2484c1e324a56c36e2c1df386
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 23 05:30:51 2017 +0200

    Work around broken mmap() declaration on Android NDK r15c

commit 470d2bf6ffc5d32049af63d1c6af04eba8450758
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 23 03:31:17 2017 +0200

    Block script unload until Stalker's GC completes

commit c074cb50ad2bbdbe8333af3ab168d6c465b880cc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 23 02:43:19 2017 +0200

    Fix lifetime issues related to object recycling
    
    This is quite tedious – we clearly need to consolidate the common
    wrapper logic at some point.

commit 857d2d3257d8f690717df9e1e1fa62f69f8f0f25
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 23 01:07:35 2017 +0200

    Use g_hash_table_add() when hash table is used as a set

commit 69619d4e8542f4b0fac88fc1a1faad017bc442ce
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 22 23:26:39 2017 +0200

    Improve the StalkerTransformer JavaScript binding
    
    Make StalkerIterator a subclass of the writer to make the API more
    coherent.

commit 331e852c9101c6dd3c6cc032429d4d1f9e40b84f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 22 23:23:09 2017 +0200

    Add macros for implementing direct subclasses

commit 4de7b8954d72a53278f700a5cb5061f4241b7fe8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 22 06:30:47 2017 +0200

    Update Stalker stub implementations to the new API

commit b6f850f8a4ad5e187b56c0943f71b46c0735f497
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 22 06:02:46 2017 +0200

    Add support for callouts implemented in JavaScript

commit de7aa7f80564a54ce6173ddbd6708b50d0c73851
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 22 06:00:36 2017 +0200

    Improve the callout API's lifetime management
    
    And include a meaningful EIP/RIP/PC in the CpuContext.

commit 59590bdfce5a5d6f9ef80f2be56ad4b26bc9799d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 22 02:26:52 2017 +0200

    Fix warning reported by MSVC

commit 34a9e51cac6abceb06e27ce44a6b97b9fbdfe5ed
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 22 02:15:16 2017 +0200

    Add support for making callouts from the generated code
    
    This simplifies the common use-case of inserting callbacks at key points
    without having to worry about saving callee-saved registers, aligning the
    stack, etc.

commit b566d93d7fc0017c9122baeed69721ef0b56ed06
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 22 00:06:39 2017 +0200

    Refactor to support a full prolog like on x86
    
    We will need this to make it easy to support user callbacks with full
    access to registers through a GumCpuContext.

commit 92a2828df6a78b21a98078377f20165ba593f7fb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 22 00:02:47 2017 +0200

    Fix put_mov_reg_reg() when source register is the zero register

commit 3c7ecef56899a1ae7d0ce327ccd1bdeca008d840
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 21 22:44:25 2017 +0200

    Improve style

commit e975d3a46dcdd2428f60a137d6e8c67cf11a680d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 21 14:30:39 2017 +0200

    Fix stylistic inconsistency

commit 79292cadbc66d32453da6d8e53a78ea5d06b54d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 21 14:29:57 2017 +0200

    Only preserve the callee-saved Q registers

commit 9ae6dd4d6bb849f13986dd6b48a1faa55708f8f8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 21 14:29:00 2017 +0200

    Fix minor stylistic inconsistencies

commit b626fc374702f9f1dc43c803895c0a20c9803c79
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 21 14:28:36 2017 +0200

    Generate push/pop Q instructions instead of hardcoding them

commit 0fdb133572780f7bec14a884a61d6f17e1259f7e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 21 14:25:34 2017 +0200

    Add test coverage for push/pop with Q registers

commit 03604494bfe0dc5de65f96de9febc5994986f43d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 21 03:29:22 2017 +0200

    Massively reduce the amount of generated code
    
    Also get rid of the PrologType enum considering we only have one type.

commit 33e0bb4b0fbbfe29408b7a0c136a32499c707d91
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 20 23:36:26 2017 +0200

    Fill in eip/rip before invoking call probes
    
    Now that our prolog only leaves a placeholder.

commit 5761438bd6a724e8b1d5288050b331808f5ff825
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 20 23:31:19 2017 +0200

    Reduce backpatch padding now that we produce slimmer code

commit 132327ff585f098c1ed3b7b3dd93c63109bc9330
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 20 22:12:13 2017 +0200

    Massively reduce the amount of generated code
    
    By turning most of the prologs and epilogs into functions.

commit d13ab682947bea11dc1d0ba41f0525c3ba640e3e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 20 22:07:41 2017 +0200

    Prefix constant macros for consistency

commit 6241b2139a3448cbbceb98b53eed0ea5bd03664f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 20 22:06:37 2017 +0200

    Simplify pointer alignments

commit afbe6cf7a148324e2d9038afcbf588f1eb127049
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 19 03:21:39 2017 +0200

    Refactor gum_x86_writer_put_call_reg_offset_ptr()

commit 26be024c1572185c4767addb7aeab45715892ead
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 19 03:20:10 2017 +0200

    Add minimal safeguards for when the code generation fails

commit 2a539de7275d7e3104eff57dfb4aac9c81c859e4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 19 03:19:11 2017 +0200

    Add gum_x86_writer_put_jmp_reg_offset_ptr()

commit c7994735ec40f579a3a59a3007c3dfcfe088374e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 19 03:18:50 2017 +0200

    Rename gum_arm64_writer_can_branch_imm() for consistency

commit da67819eabfa13459e76055e513d98e1349d3ded
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 19 03:17:45 2017 +0200

    Add gum_x86_writer_can_branch_directly_between()

commit e0605db986fc16423030170a9e16d9acad9d52d0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 19 03:16:22 2017 +0200

    Fix function ordering for consistency

commit 55c9f4c15a94c5c3e06316f8c664935809cbd79c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 19 00:02:16 2017 +0200

    Fix parsing of optional array and function arguments
    
    The argument wasn't being consumed when null, leading to confusing
    behavior and crashes.

commit 8a90496ff1c33fe0af77d54ed2bafb6b113e07e6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 18 23:14:38 2017 +0200

    Fix a few leftover renames

commit 4ee78b31277f6922c9f020375cd49979a81b7eb7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 18 20:57:35 2017 +0200

    Fix a couple of stylistic inconsistencies

commit c256250464610a58b1868b51a383e71ac6fc9255
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 18 20:52:51 2017 +0200

    Fix stylistic inconsistency

commit 2a3893d23817c4e19fe0283d03bb6840b110d760
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 18 20:19:39 2017 +0200

    Plug transformer leak

commit 1a473b2cebedf475b1fd55a3e444991779f7d4fe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 18 20:19:28 2017 +0200

    Fix crash when no transformer is provided

commit 4810bf855cc4b7472ed8b3053dc4229b43105ba0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 18 06:34:03 2017 +0200

    Update Stalker stub implementations to the new API

commit fd5772d703a41843e0d841bc7fcd0b94cd2d010e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 18 06:08:16 2017 +0200

    Add support for implementing Stalker transforms in JavaScript

commit 0cd752a27f1f67cde27c0326753e7ec85b293f0b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 18 06:05:28 2017 +0200

    Improve Stalker to allow custom code transformations

commit 68ff26da92001dc01e660d4abfe40c076833d244
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 18 06:06:04 2017 +0200

    Clear end-of-block status when reading onwards

commit 0441130aa8f57516e753c1d3ca40e9fcc3a1a1ba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 16 00:25:29 2017 +0200

    Tweak formatting of generated docs

commit 3b4cc7e7aef8f667cd9c85bbd729a63b68024a2d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 16 00:24:15 2017 +0200

    Improve the enum formatting

commit ef6071d22a8316ab1fbf008ca65b5910b38b8808
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 16 00:13:29 2017 +0200

    Improve the generated docs

commit c67bb842624bff784079d4ef599ea636452b373b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 20:09:50 2017 +0200

    Generate some basic Code{Writer,Relocator} docs

commit 104f9751dc5edb418b6d6184d7aea5bcc2e60a1f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 20:09:19 2017 +0200

    Fix stylistic inconsistencies

commit 0e840e7215f16242f230d0e0e67570bc2e14fed6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 15:49:46 2017 +0200

    Relax assumptions about exactly how much code is generated
    
    It will vary depending on the platform's ABI.

commit 8268be054ac075f22f62e6c4417ea420a8f053fb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 15:48:58 2017 +0200

    Fix instruction generation test on 32-bit x86
    
    Stack alignment was wrong, as arguments are obviously pushed on the
    stack.

commit 052ee0f912457615ef4bd809526eed3d5f070777
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 15:21:36 2017 +0200

    Fix warnings reported by MSVC

commit 9816ec4eb58ba2f97a9ddb133a24bc15b5021406
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 15:02:49 2017 +0200

    Expose put_{push,pop}_regs_array() to JavaScript

commit 7eb5c28a5f5ba474d8a8fce1eb64a7bc86d649a9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 15:01:53 2017 +0200

    Add put_{push,pop}_regs_array()
    
    Essential for language bindings.

commit 96bb5aa2b6bf0434b7c72e4cac2a642dd3edd57c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 04:20:48 2017 +0200

    Bump frida-java

commit 7d7780c64cb4c15309bee43cb67639357cd38b77
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 04:18:01 2017 +0200

    Fix warning in generated binding code

commit 4ed8f9b4d6b202e013c420b29afc680aa884411f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 04:11:12 2017 +0200

    Fix the previous warning fix

commit c27ea6ade1cc907d0bdfed835b3495f870f3ab89
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 04:07:17 2017 +0200

    Fix warnings reported by MSVC

commit b83ee3b066a7b482db77d72d99c1286fde44eb6e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 03:59:57 2017 +0200

    Fix warning in generated Duktape enum parser code

commit ab7cabd4c5e8e66fe169f1e5165fe9b895246419
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 03:59:34 2017 +0200

    Add missing include for strcmp()

commit 819e01a3e0437f6f1641f903acd57a2dc1acde24
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 03:50:03 2017 +0200

    Expose put_call_*_with_arguments_array() to JavaScript

commit b9cb68d9ad4451f6701124da9cd8157b930acf81
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 03:49:05 2017 +0200

    Add put_call_*_with_arguments_array()
    
    Essential for language bindings.

commit aef605108f08f524cde5d212309589b376b96610
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 00:05:22 2017 +0200

    Tweak put_call_address_with_arguments() for consistency
    
    So it matches the other put_call_*() methods.

commit 6721f1c729d31a92819e7e7e77af80bc425368a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 14 19:18:24 2017 +0200

    Unify the {call,jmp}_address{_with_arguments}() implementations
    
    So we can provide a binding-friendly `put_call_address_with_arguments()`
    alternative across architectures.

commit 732f02f7d7e5e6d3c0b9b3ae9b86a5a3a702a1d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 14 17:54:13 2017 +0200

    Add missing GUM_API declarations

commit 26b6c52aaeef90d67c983b11db9f1faec759e839
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 14 17:46:32 2017 +0200

    Expose writer and relocator APIs to JavaScript (#229)
    
    This is useful for low-level code generation, and will also allow us to
    provide a tighter integration with Stalker's instrumentation behavior.

commit c6b34edb6c0611e75b35427ff8a29e87da7e8e22
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 14 17:30:13 2017 +0200

    Improve lifecycle APIs of writers and relocators
    
    To make them more binding-friendly.

commit 7944900fcb2e6b7141dc68bb44057df456828db3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 14 17:32:20 2017 +0200

    Fix X86Writer enum declarations

commit 53075cd416faf0063bcc5ca47db1aac784581057
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 14 17:36:38 2017 +0200

    Use gconstpointer for the input code for consistency

commit b04ef042288e6599c317c4cc58fb163234ce911f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 13 23:02:10 2017 +0200

    Improve error-handling in code-writers
    
    Now that we are about to expose them to JavaScript it is essential that
    we're able to feed them semantically invalid arguments and get feedback
    when a mistake is made, instead of aborting on failing assertions.

commit b259229f647332c2883a05848b2c8a2d702691a0
Author: Erik Smit <zoiah@zoiah.net>
Date:   Wed Aug 9 19:31:26 2017 +0200

    Use OutputDebugString() for embedded-mode logging on Windows (#228)

commit a3277291643c579d4a7281d85b656764e3636c4f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 7 23:41:12 2017 +0200

    Bump frida-java

commit f26ada2199193cfd0e537a98a34f3b15fa75e7ef
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 7 12:33:27 2017 +0200

    Fix unreliable inprocess module enumeration

commit 104e7983933be7df4f4c851206a4b684051a1bbf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 7 00:16:15 2017 +0200

    Add Stalker.parse() for parsing a batch of raw events

commit d3c3ee63f88327f94c02635c2b600e471130748c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 7 00:13:43 2017 +0200

    Optimize Stalker event delivery to avoid one extra copy

commit bdf158f0778b32d1e00789c90d68c07676797e2f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 5 00:53:56 2017 +0200

    Fix the dyld special-case for non-local module enumeration

commit d738712e4f286dadc3afe83f09712964de8dac0e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 4 23:52:03 2017 +0200

    Always special-case find_export_by_name() for dyld
    
    To avoid surprises.

commit c8d7d8440b9ab9eeed20efcd40c29f24164eb49e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 4 23:49:29 2017 +0200

    Speed up inprocess module enumeration

commit 7ce17381e2634b3d16cbf98a4ae0e3757978397a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 4 23:25:58 2017 +0200

    Fix gum_process_enumerate_modules() reliability issue
    
    The optimization that only did a single read if the header and file_path
    were close enough took the wrong thing into account. It checked whether
    the beginning was on the same chunk, instead of the (worst-case) end.

commit bc81c090d1a3bc58752da9fe86f302171cc266f1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 4 23:08:21 2017 +0200

    Improve stylistic consistency

commit e55d192594c5b2644b488734f04b07192e8ed879
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 4 22:56:35 2017 +0200

    Add failing test for enumerate_modules() on iOS 9.3.3

commit 810ddc9476bca89d0444573dffa224541fec00ae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 4 20:56:31 2017 +0200

    Fix LC_ID_DYLIB's cmdsize so it's a multiple of 8
    
    This is so it's possible to run Apple's codesign on the generated dylib
    for testing purposes.

commit d754a39cd43121fdb4328f67a7dccfea25f2c0be
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 2 15:40:26 2017 +0200

    Improve find_export_by_name() to support resolving dyld exports

commit a6921236afb66b9263023358940868d9dcb61b7a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 2 15:34:29 2017 +0200

    Fall back to symbols when resolving single export also

commit e1385f4c992068a50bd2566d0eb4ef1502ee0ef5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 2 01:45:26 2017 +0200

    Add Module.enumerateSymbols{Sync}()

commit 154a3daa40d62f0351468afad3cc4abbc386e642
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 2 01:43:11 2017 +0200

    Improve naming

commit 66dc01d271cb21a9aea2cf054f844958c11d42f5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 2 01:42:53 2017 +0200

    Factor out page protection marshalling

commit a003bcde61895163f5528af4aea96c8633ed601c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 2 01:42:23 2017 +0200

    Rename RangesContext to MatchContext

commit 9f575f5654e739c458ada164a557166aab2ce051
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 2 01:41:00 2017 +0200

    Refactor to avoid duplicating page protection marshalling

commit cd221c23b60588b77f34a1f8bbcec6509d2694f9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 2 01:34:01 2017 +0200

    Revise the Module.enumerate_symbols() API

commit b06f2c8b3a54a148cef8f4e7f40cf717a05a7999
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 1 20:27:26 2017 +0200

    Add enumerate_symbols() stubs for Windows, Linux, and QNX

commit c1cfe321c015f8a3ce48044a1fc8d48a45b13b17
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 1 20:25:41 2017 +0200

    Leave the module symbols test empty on non-Darwin for now

commit 5cfcaaa4f63eac08f53fe34bf4a0bbf301ca2c80
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 1 20:13:18 2017 +0200

    Implement gum_module_enumerate_symbols() in the Darwin backend

commit 0451ef19d4a65a570a00f798f61827c4fa84b0bf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 1 20:12:46 2017 +0200

    Add Module.enumerate_symbols() to the vapi

commit c3dff77e72dece10d9b917bb9bf075f01f51ac0e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 1 20:06:54 2017 +0200

    Add gum_module_enumerate_symbols() to the public API
    
    Along with a failing test.

commit 4817035c5f7bf62d4e3b8077f9181fbcdc958b9c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 1 18:03:52 2017 +0200

    Rename GumSymbolDetails to GumDebugSymbolDetails

commit ae32e7428cdcab54e91b869a187922224656c55d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 1 17:45:34 2017 +0200

    Fall back to symbols when exports trie is missing
    
    This allows us to enumerate the exports of dyld.

commit aeb70de12f9fcfde49efdc908884b93f88cca94c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 1 17:44:53 2017 +0200

    Append dyld to the end of the module list

commit 530f1e00ac65bd095a656459e93376960d2d3e17
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 1 17:43:37 2017 +0200

    Drop in-process module enumeration optimization
    
    It's just a 1 ms operation on an iPhone 6S, so not worth the cost of
    maintaining two code-paths.

commit f86e7f2c852c98da17baa53574b6f9c8d69df839
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 1 17:41:10 2017 +0200

    Add failing test for enumerating dyld's exports

commit 25331883b06a423ceccb81fb9eba2923c93a10d5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 1 17:39:10 2017 +0200

    Fix stylistic inconsistencies

commit c411f6ea4c29cc75a16524ef8793753e9e91c52d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 31 15:27:09 2017 +0200

    Throw when Memory.readUtf8String() encounters invalid UTF-8
    
    In a typical GumJS integration like frida-agent this resulted in a
    failing assertion when GDBus is passed invalid UTF-8.

commit d78d99a5e8ae643e81faa880ea2fdfdb0c12728a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 31 00:13:32 2017 +0200

    Update to the new X86CodeWriter API

commit 8f990a74f40f9b8df9ad11ae812aab75b2b49279
Author: Erik Smit <zoiah@zoiah.net>
Date:   Sun Jul 30 19:00:29 2017 +0200

    Lower slab size to 1024 pages

commit 55c201c62afd2b20fa940c11aac599e0056653a8
Author: Erik Smit <zoiah@zoiah.net>
Date:   Sun Jul 30 17:05:09 2017 +0200

    Fix handling of jcc instructions with rep prefixes (#227)

commit 19d2f45cde90ad8a2f77b988601a4c9a27627fce
Author: Erik Smit <zoiah@zoiah.net>
Date:   Sat Jul 29 16:43:03 2017 +0200

    Add testcases for repne jb (failing) and repne ret (#226)

commit 6f546b81a5c1eb7a49e8cc88c4e14e7e0a21dd18
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 27 17:44:10 2017 +0200

    Clarify description of High Sierra bug

commit ee3db6c33a9209ab070fa38b7197892372b7b50f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 27 17:40:24 2017 +0200

    Work around broken Security.framework exports on High Sierra

commit 8cd1da255659373651d90e085d8a337e73014b66
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 27 05:55:42 2017 +0200

    Remove fragile test

commit b4b06a4c9802c9c819c9434a82dcde2d08257aee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 27 05:55:25 2017 +0200

    Fix gum_process_enumerate_modules() on High Sierra

commit 17db9a90d023f442e625aab1d4eeba97c133e685
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 26 21:49:47 2017 +0200

    Fix deflector thunk logic so code-signing status is preserved
    
    We were generating the thunk directly without pseudo-signing, which
    meant that the process would lose its CS_VALID status as soon as the
    deflector's thunk was executed.

commit 6955ce86f49b953260b449588520e630e7036b1b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 26 21:46:46 2017 +0200

    Strengthen the code signing test
    
    Pick sqlite3_close() to increase chances of deflector logic being used.

commit f3419b1a57c344b7171d40e3fa91107ed89077a4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 26 20:04:20 2017 +0200

    Improve the code cave search logic
    
    We should be walking loaded modules instead of memory ranges.

commit e0d75c6829f103abf0fadcca6ea6ed2ab8251a6f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 05:49:08 2017 +0200

    Fix gum_memory_release() in the Windows backend

commit 8ec81e4b411ad9c68840733365c6187810d82d9b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 05:34:56 2017 +0200

    Implement the new memory API in the Windows backend

commit 61baf77aa35b3586516ab100ba50aed88d65b3bc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 05:34:36 2017 +0200

    Fix warnings reported by MSVC

commit f309a5c482e2e379f9ea8d983f173f316b53d692
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 05:34:27 2017 +0200

    Add missing cast

commit a32b328dc7a026baf957b1dbc9c8aed07980bd9c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 04:58:41 2017 +0200

    Implement the new memory API in the Darwin backend

commit d8bb3fcad80462e1b33a14275c200fb49bd69aae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 04:57:57 2017 +0200

    Update to the revised V8 ThreadingBackend API
    
    Turns out `CreateMutex` conflics with a macro on Windows. D'oh!

commit db06228eb5b896dbf4b2fc6e6d86cc35aa6bde91
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 02:48:47 2017 +0200

    Fix build regression

commit 74c4fc2875e001004739767dacf7b0a2cc751a4e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 01:22:36 2017 +0200

    Add a convenience script for running tests on Android

commit f39372f7a5cce65de849185f8fbda3f596bf1197
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 01:17:40 2017 +0200

    Bump frida-java

commit cbfd2fa46e26ddd595c2ab2b26b970ec28f02d5f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 00:54:34 2017 +0200

    Improve tracking of cloaked ranges
    
    We failed to take into account the fact that gum_alloc_n_pages() and
    gum_try_alloc_n_pages_near() allocate an extra page in front of the
    actual allocation.

commit 7df8aea72935c94ccfecb4b67c12a2f958c73b0b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 22:20:09 2017 +0200

    Hopefully port the new memory API to QNX

commit 5fa17dc0c44583dfdfd5c1ba95bc5d53fa5fd17f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 22:04:56 2017 +0200

    Implement the new memory API in the POSIX backend

commit 1c516ad558813dd194ed49ff9a12c406ba731e81
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 22:04:16 2017 +0200

    Only change protection to write metadata if read-only

commit c747645c8b237c2c03403e97f986f2ef218c1618
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 22:03:33 2017 +0200

    Always make the metadata page read-only

commit 32b4784a3567e3ce5c232f04e522934ed74adc21
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 22:02:55 2017 +0200

    Plug in our own V8 memory backend
    
    This allows us to cloak V8's internal heap and JIT allocations, and also
    means we can use V8 on the latest jailbreaks (because Gum transparently
    uses the Frida JIT allocation server if it's available).

commit e5aefa5b347cb54d62fe5869fbb5dfe89abdc264
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 21:59:02 2017 +0200

    Add API for low-level page allocation
    
    Not yet implemented by any backend.

commit 9cecf77e0dcd2d4209e3dbd3fd2b3976e96128bb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 21:57:40 2017 +0200

    Add missing GUM_API declarations

commit 9177861edca4b51c768180d2d89ec5e85120c367
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 20:53:13 2017 +0200

    Plug in our own V8 threading backend
    
    This means GLib's threading primitives are used, allowing us to bypass
    libc on Linux/Android, allowing us to hook lower level APIs without
    running into deadlocks.

commit 0471470fa599ac72f9956b5ed23958700b0c5f4f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 20:39:47 2017 +0200

    Fix stylistic inconsistencies

commit af89ab60e40f36e7325c63c91a95a058f81ef946
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 20:23:19 2017 +0200

    Start using the override specifier for clarity

commit edf7dc29c638b2c11d106cf4aa55039a24960521
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Jul 24 20:17:03 2017 +0200

    Add block and compile events to Stalker (#225)
    
    - `compile` events are emitted as soon as a basic block gets compiled by
      the Stalker. This happens once per block, so it's useful to understand
      which parts of code gets executed but it's not a full live trace of
      the execution.
    - `block` events are emitted each time a basic block is executed, so can
      be used to actually trace the execution.

commit be1f7ba7250a02750c4f120f0055bcac104d3f6d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 20:15:47 2017 +0200

    Fix test failing to flush caches after generating code

commit 697cf1501e004037b9bebe7d81b0c55a3c209b20
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 20:14:15 2017 +0200

    Fix mmap() result check

commit 030dacb832715b5942ac4637f877ce8c689f58da
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 20:14:02 2017 +0200

    Update our selection of V8 feature flags

commit d984d37ecc958c7acdcabc1279f5b22041eafaf2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 22 01:44:22 2017 +0200

    Fix GetTracingController() ownership

commit 4b47314bd9ea0de173dcbcdd042276210187d712
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 22 00:53:23 2017 +0200

    Update to the new v8::Platform API

commit 9f1f63f41e42dbdcb378163fedcd6ac4d6e1d39a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 18 01:24:00 2017 +0200

    Fix off-by-one resulting in leak in unlikely error-path

commit 7bf81ace5162b0db3316622e4252fdd9fb1b28dd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 17 17:45:11 2017 +0200

    Add support for call probes in Stalker's arm64 backend

commit ae92c476722e4f1e4c84d028b4260e030713acd1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 17 17:44:12 2017 +0200

    Fix stylistic inconsistency

commit 08a37557b8a222fe9fd7c03ef4485ef752604b2f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 17 17:44:00 2017 +0200

    Update test to match new handling of ldr relocations

commit 31676ceca6a9f685f2be6eaf6eba2b4876dc327d
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Jul 17 13:51:17 2017 +0200

    Fix stack alignment issue on arm64 ldr relocation (#223)

commit a8769effe78f77b7bd599ef91c661d6ac22431b5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 14 15:25:18 2017 +0200

    Fix handling of exclusive load/store pairs
    
    We must be careful about instrumentation between such pairs to avoid
    infinite loops.
    
    Kudos to @mrmacete for helping track down this issue!

commit 403de5caf0442589bc366fc53dc68b16826d6506
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 14 15:22:09 2017 +0200

    Clear eob when reading a non-eob instruction

commit bdeac07a65b9ddb683c477db2599b7246ba0ab87
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 14 00:31:39 2017 +0200

    Add a helper script for running tests on macOS

commit b9b608a52db7d6c08173d19a7a1c6aaa200d1408
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 14 00:31:22 2017 +0200

    Improve red zone logic to avoid clobbering CPU flags
    
    This also avoids touching the red zone in the one case where we still
    were doing that.

commit c1e61da2781950bfe5e8d95d365d05ddfefe4004
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 13 21:40:45 2017 +0200

    Remove more "full" prolog cruft

commit 03850b55257f26e31322a42a32f304fdeb77979a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 13 21:35:09 2017 +0200

    Remove unused "full" prologue logic

commit b3e0f93df2271db939f7c5965bccca6dea9574db
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 13 21:21:04 2017 +0200

    Refactor the load/store pair API and expose more of it

commit e0bf62dbc4b7114966b2fb54fafd5dabe1f97605
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 13 16:30:20 2017 +0200

    Fix a stylistic inconsistency

commit 3ca755aac073a1995e0891bb38fde59e06475c91
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 13 16:30:03 2017 +0200

    Enable the execution_can_be_traced test on arm64 also

commit 41c6bdc7a74cd322d43db40783b9edea7826e583
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 13 16:28:55 2017 +0200

    Fix a couple of stylistic inconsistencies

commit 473557f187bc1cd5b94848c1f23e4a2a8a467730
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 13 15:44:48 2017 +0200

    Simplify destruction of resources attached to incoming messages

commit 67137df6ddb52bcc5544be451dddbab2cc443dfc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 12 21:02:29 2017 +0200

    Remove temporary debugging code

commit a1584b9a8680176f5273f8192768bc0daaa5653d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 12 20:56:42 2017 +0200

    Tweak performance result formatting

commit ffce00f2c2726ab06f68e2dc7f3a8b86225c2874
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 12 20:56:31 2017 +0200

    Improve the clobber test a bit further

commit f5aa16071f7bc400ef8b4aed2ab0466121e45091
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 12 20:51:27 2017 +0200

    Rename the arm64 Stalker fixture for consistency

commit b2a2ddde909b90001356457c69929218669dcd71
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 12 20:50:09 2017 +0200

    Fix and strengthen the register clobbering test

commit fef248c6f3b8db4d80218763b13d6dde7143e7ec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 12 20:49:53 2017 +0200

    Enable Stalker tests on iOS/arm64

commit dd7b82d108258ce81d5780b4bb649ca8da0636d0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 12 20:20:01 2017 +0200

    Add support for the new JIT allocation server on iOS

commit 217e00ec6af7cefaac8abf058e41ac4390119117
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 12 18:19:03 2017 +0200

    Add helper script for running tests on iOS

commit 947b04263ce6c653e785fddf6f8b00f5999e68d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 12 18:14:33 2017 +0200

    Sign tests on macOS and iOS

commit c4445224cec2636f086acfd5441df067fa5dea6f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 10 20:15:10 2017 +0200

    Change Memory.copy() to use memmove() instead of memcpy()
    
    So it can be safely used with overlapping ranges.

commit a7268f397de340c020e8f509f9598ad6ddc7a815
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 8 16:17:21 2017 +0200

    Fix up the stack pointer before firing off call probes

commit e328a54ccc5f8922a698b64500a13d1559499a1d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 8 15:01:58 2017 +0200

    Move "follow me" logic to the current JS scope
    
    Otherwise we might get preempted and some other thread ends up
    getting followed instead.

commit 26a09d9fe4ff00e211a29001620d806213e674fd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jul 8 13:10:07 2017 +0200

    Add Stalker API to the Duktape runtime (#222)

commit a6ba8b72d65bfe34276fac29c497d2cc07697ead
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 3 04:44:09 2017 +0200

    Refactor the V8 Stalker to use newer GLib constructs

commit ef258f329fd2458ade3187e93bd2f027df95bd60
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 3 04:28:56 2017 +0200

    Refactor the V8 EventSink to use newer GLib constructs

commit 2b84d820c316173df914d67b42bd197b842eefa9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 3 04:24:31 2017 +0200

    Simplify creation of the call summary object
    
    There's no point in creating a NativePointer for the key, as it's
    instantly turned into a string anyway.

commit 16888b6ceabd0f40738a2d3e3066c39159bb682e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 3 04:19:27 2017 +0200

    Fix exception-handling logic in the V8 EventSink

commit f48f44d6c898b8a2fdd0f498b2ed2417a5d4b690
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 3 04:19:14 2017 +0200

    Fix namespacing inconsistency in the V8 EventSink

commit da866710eb9b51fbc3be771b7ece371254a27d96
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 8 12:46:24 2017 +0200

    Add support for replacing arguments from call probes

commit 0559ae03300464cfd652920421963025da2bca60
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 8 12:43:44 2017 +0200

    Guard against using the invocation args after returning

commit e1d0b05381b5c88e523db782b70b5cd6901e4ae8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 8 12:43:08 2017 +0200

    Guard against using the probe args after returning

commit a01a266f1933a401900651efcc5969ff7c34d4b4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 8 12:42:22 2017 +0200

    Move argument and return value access to CpuContext's API

commit 985e4fa1cf210ce45a9ae54867821a346c359f94
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 3 03:28:16 2017 +0200

    Improve naming

commit 4768cd04611cc41bc6953b3a1c3f0b2f941bb214
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 2 20:29:38 2017 +0100

    Use a dedicated allocator for Capstone
    
    This means we can safely use Stalker on our own code without
    worrying about deadlocks.
    
    Fixes deadlock in the GumJS Stalker tests.

commit cf243c8b7414e8b6c11182740cac12f614826b2e
Author: Ole AndrÃ© Vadla RavnÃ¥s <oleavr@gmail.com>
Date:   Sun Jul 2 20:26:40 2017 +0100

    Get rid of unnecessary function
    
    We can count on gum_memory_init() being called before the first
    call to the memory allocation API.

commit 264b70deea59df3b765aa8278652459c90045592
Author: Ole AndrÃ© Vadla RavnÃ¥s <oleavr@gmail.com>
Date:   Sun Jul 2 20:25:12 2017 +0100

    Fix style inconsistency

commit f54470c92faf88329043070bc669cefd8f5ad587
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 30 05:48:38 2017 +0200

    Bump frida-java

commit 4ad92ca9b2eb6029866029090361d06046f780ea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 30 05:14:54 2017 +0200

    Fix long-standing stability issue in the V8 runtime
    
    Turns out that calling JavaScript during GC is a no-no. Our WeakRef
    implementation was doing this. We now defer the WeakRef callbacks and
    process them in an idle handler.

commit fea576a7b3440c8a48b0c4a787b1a81accf71253
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 29 04:01:01 2017 +0200

    Bump frida-java

commit 806f5b418991fbb9aa48b38213d4729f7f4fafce
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 27 14:32:24 2017 +0200

    Remove harmless warning

commit 025655b9a18124f08f9346b4ec489f7e728b1203
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 26 20:16:16 2017 +0200

    Simplify serialization logic

commit 98e31cb1c6d96b9caa4bc9e57647f7b9939405b1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 26 19:26:27 2017 +0200

    Add SqliteDatabase.dump() for dumping to a string
    
    Useful to embed and feed to SqliteDatabase.openInline().

commit 0e40393e8618ce8c0dde275c9e3e0067b9bce334
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 26 18:06:56 2017 +0200

    Switch SQLite to multi-thread mode

commit cea1c3d4a936b3a23d9955abc3693f6a215fcf65
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 26 17:37:48 2017 +0200

    Fix remaining warning reported by MSVC

commit c25bb8b8309446a4bcef62c92775f28f0402b0eb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 26 17:17:13 2017 +0200

    Fix warnings and MSVC compatibility issue

commit 09991fd67467d88963d571307f5589e16fafc4d2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 26 15:44:40 2017 +0200

    Add Database APIs backed by SQLite

commit ec4e0a605b52a83d2023a3f0d5c22c335aca525e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 15 02:41:00 2017 +0200

    Include V8 by default in linux-armhf builds

commit 14f90dbdce5000569e6dbebe50f0addafbef4929
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 13 22:17:34 2017 +0200

    Relax timer cancellation APIs for consistency with browsers
    
    Kudos to @dantarion for reporting. Frida versions before 9.1.28 were
    accidentally more forgiving, and the changes in 9.1.28 inadvertently
    made this API stricter.

commit 50f72d37ca72b8da6cf005bebabd39a547d2f174
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 8 01:27:55 2017 +0200

    Bump frida-java

commit dcadc4252a74f22ef6db3758f914b21c285163de
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 5 00:52:06 2017 +0200

    Bump frida-java

commit 92612ccb7f82695d504456a4b84601ec225ec6df
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 30 02:37:41 2017 +0200

    Upgrade to VS2017

commit 17a5bc6a9db210c9e00b291252f48cda9dab6f49
Author: Antonio Ken Iannillo <akiannillo@users.noreply.github.com>
Date:   Mon May 29 16:31:01 2017 +0200

    Clear CPU caches after generating code (#215)

commit 8ab91dd78340ff7c541d5f70e29033280795ef63
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 29 14:24:25 2017 +0200

    Bump frida-objc

commit de6b730c571910c7a4631f8e2b0b113fc57a9fe4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 01:53:25 2017 +0200

    Skip the QNX NULL hack when compiling C++

commit 40fb95f7400136156d16a32b3b711b69f7f6d310
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 01:47:38 2017 +0200

    Implement the original diet mode auto-detection logic

commit e47b6c58c490ae73e6db8e6c0c3d20f0930a59b5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 01:33:13 2017 +0200

    Try a workaround for QNX toolchain's broken NULL define

commit d97be31644334587b47fb7af6ed96c4f93f781e4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 01:26:27 2017 +0200

    Switch to gnu99

commit d8114a8498edcda8502c9283ee035c1cf2e21a8c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 01:22:51 2017 +0200

    Remove duplicate GumExceptionHandler definition

commit d9212f2503aaed0dd79e80247f846b27a0ccfaeb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 01:05:21 2017 +0200

    Explicitly use C99

commit 9c9ea574e5f1e6639370f116447d0caf65392161
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:58:11 2017 +0200

    Revert sentinel hacks
    
    Should rather fix this with toolchain-specific workarounds.

commit 4fc2fbfec392de83920fca74c3cbbe60c7d85920
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:51:20 2017 +0200

    Enable QNX extensions

commit d50bc2962aee63128c2269bd3c767c436eb38b4d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:47:12 2017 +0200

    Revert broken iostream header workaround
    
    This reverts commit 5c0a17016631c35956dbab26562db44434e0ec0e.

commit 5c0a17016631c35956dbab26562db44434e0ec0e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:42:11 2017 +0200

    Work around broken iostream header in the QNX 6.5.0 toolchain

commit 66ebcb35cd5d4c651cd72fbd14d167cd05231ecd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:41:27 2017 +0200

    Make sentinels compatible with the QNX toolchain

commit b5aac19d7c9b9f7ccd34a2c89816a9801f9ad13c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:27:33 2017 +0200

    Fix typo

commit 6fcb19feb7efde1f5a1f33a3784e65ed54c3b04a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:24:06 2017 +0200

    Avoid collisions with malloc.h constants

commit ba659754cce2e5ba179158290af3fc0234cb7e16
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:23:37 2017 +0200

    Fix typo

commit 3575fdeab13cf229e171c92968c4e75e9e09df16
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:23:26 2017 +0200

    Plug a sentinel warning with the QNX toolchain

commit 68013bc4a674c48d0035e28f87775d1e7f73ceca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:23:11 2017 +0200

    Fix inconsistent sentinels

commit 6a53e9c4c613073b7243275270d5851d979d5e2e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:14:46 2017 +0200

    Include malloc.h if libc provides mallinfo

commit 4efa14e16f670ea0739a564002c43905b2bca270
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:10:05 2017 +0200

    Improve strictness of the mallinfo check
    
    We need a complete definition.

commit 23397211fb1fb6e3220782814a6b39dbe475b9cb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:08:15 2017 +0200

    Tweak style and fix warnings in the QNX backend

commit bdfa7071a6e07019e0ab33e4d944daec7f1df95c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 24 22:12:58 2017 +0200

    Fix the mallinfo detection logic

commit 73db94708c25148ec57b38ad2a9a2180506b7616
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 24 22:04:24 2017 +0200

    Explicitly use C++11
    
    Now that we're no longer hard-coding this in the build environment.

commit 74cfd4ef8168b182b8bfee249105488546ac9601
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 24 19:56:47 2017 +0200

    Fix test data target for armhf and mipsel hosts

commit 46df10f796185f2f244ba558094cf6b1fc80c38d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 22 22:50:26 2017 +0200

    Simplify lookup of _dyld_get_all_image_infos()

commit 7be9dba7e316ec954208d8345b7dae0f06ea40e4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 22 11:31:22 2017 +0200

    Add {target,special}functions binaries for linux-armhf

commit ab0504b40a674424bcff32866b6b3dcd8fa9756b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 22 11:26:22 2017 +0200

    Fix accidental C99ism in UnwBacktracer

commit 496bdd551162ea00b5ffe8f1356c7a370d7fcf26
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 22 11:25:36 2017 +0200

    Remove unused variable

commit fd7aacb726e9b129a6b296044f55d4e7ed22c252
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 21 18:54:41 2017 +0200

    Really fix assumption about host_machine.system()
    
    My initial assumption was correct -- it is only meant to be the system
    family.

commit 003e2189e63f27c48ddc00f87f05a4966e25404c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 20 04:17:29 2017 +0200

    Fix inconsistent variable declaration

commit 8e702fad2bdf37877de1cf8e0b86636836442767
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 20 04:16:58 2017 +0200

    Fix unsigned long constant declarations

commit 188303ccf4529c4d3f032de62b335a653da5cb6d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 20 03:31:17 2017 +0200

    Remove the autotools build system

commit 6ee273ae19ab0e6d036a3278f5cde5794a60a3ef
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 20 03:33:07 2017 +0200

    Remove stale author list
    
    This belongs on the website, and we should auto-generate it.

commit daf16def1b02f001410774c71b9eaea20b206cfe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 20 03:31:05 2017 +0200

    Remove bzrignore

commit 7da6024a997f7138a419b0eca8bd36f7c46e8021
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 20 01:31:51 2017 +0200

    Add extra libs when linking to fix the Linux build

commit 3a98590fa22f52e4e50a1bd9c6ed890eef99ee9c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 19 16:03:11 2017 +0200

    Only use Meson's format strings where they make sense

commit 6412397d40f62b76e40e86bba4fc74e571132f23
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 19 13:23:09 2017 +0200

    Add {target,special}functions binaries for the iOS Simulator

commit e8cef70100b823d026c4b488908702c2d0bb90bf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 19 12:20:56 2017 +0200

    Fix bad assumption about host_machine.system()
    
    Despite it being auto-detected as e.g. darwin for macOS, the correct
    value needs to be the actual OS. Otherwise Meson will attempt to run
    iOS Simulator binaries on macOS without a wrapper.

commit d8fa038d8a448d2fc2dc0c3817eb3d6243c62c72
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 19 11:05:32 2017 +0200

    Add {target,special}functions binaries for android-x86_64

commit ea76864b82034c8788c0f409d18dde54af48b0bc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 18 11:41:55 2017 +0200

    Port remaining Meson build system bits to Android

commit 2f9c37e2933dfc47dac34df6e28c7702b26648e9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 18 11:40:56 2017 +0200

    Explicitly require GLib >= 2.53

commit 1f8e6a17ef0c0e810c304736dc9eaaecafc9c59e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 17 19:46:12 2017 +0200

    Turn enable_diet into an auto/no/yes option

commit d90fcda3a33431976da310726e79ebb50c20e80b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 17 01:41:30 2017 +0200

    Fix macOS detection in the Meson build system

commit 00bb7af993731deecb3a516086e00a9d5db4e594
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue May 16 23:40:36 2017 +0200

    Remove address vs page_size checks in gum_darwin_{read,write}() (#219)

commit b46865b4fedada60d37e2aedfc440a79af9b9e56
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 14 19:15:50 2017 +0200

    Fix cpu() vs cpu_family() mixup

commit 6cf57d88b11e0f744ce332c71b11d1c359353100
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 14 02:15:18 2017 +0200

    Tweak link_depends variable naming

commit 79d4bfb6640635b8d155cae8deabfb105792e7b5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 13 22:28:24 2017 +0200

    Port gumpp symbol export whitelist to the Meson build system

commit 44e874973eb14d34dcafb9c66ec5c50f3b7dabc8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 13 20:10:39 2017 +0200

    Set G_LOG_DOMAIN in the Meson build system also

commit a8b7eb488475e4cc9a8f42a8cae4103cdec3c531
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 12 22:05:42 2017 +0200

    Tweak naming in the Meson build system

commit 885a57a80944abd78d2f75bc649dc0de2557beaf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 12 15:25:45 2017 +0200

    Fix a couple of minor style inconsistencies

commit 3eb160bb4a39a2d5eae8df0e09fd0d08fd22e1e1
Author: Eloi Vanderbeken <eloi.vanderbeken@gmail.com>
Date:   Fri May 12 15:23:26 2017 +0200

    Implement gum_process_enumerate_malloc_ranges() on Windows (#216)

commit 0c474298af69a6dd1625ce06f767c02fc97600f3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 11 03:46:04 2017 +0200

    Turn gum-heap and gum-prof into public libraries
    
    Now that they are truly separate.

commit 02c11e820b661e4f85eeae8a4929dd660d27c355
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 11 03:32:42 2017 +0200

    Invert dependency between gum-heap and gum
    
    The heap and prof libraries should depend on gum, not the other way
    around. This was a long-standing dependency going in the wrong direction
    for historical reasons.

commit 8224d53a9989fd3a8f56b21e53f8d1bd8dcf7f6f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 11 02:10:35 2017 +0200

    Also install vapi files when building with Meson

commit 0efb7a10de256631e589503754b3af9125bbaba0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 10 22:17:23 2017 +0200

    Improve the Meson build system to build properly on Linux

commit 18181344d004d84ce0b456d42e3e6d8287ff6cd3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 10 15:36:41 2017 +0200

    Add HAVE_QNX to the Meson build system

commit d0367ac294ad3104e9b7a1ffd8da26533f262b41
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 10 14:45:32 2017 +0200

    Update mac → macos

commit 7c3abc2534fb72910b81e061068c9220beab3fa3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed May 10 03:08:59 2017 +0200

    Add Meson build system (#217)

commit a50f922db2fd94244580f20326eed333a36da30f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 8 15:13:31 2017 +0200

    Provide a virtual destructor whenever virtuals are involved

commit 933ddae15bcc9fdfceabb79684439d435eef968c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 7 20:31:03 2017 +0200

    Clean up the build system a bit
    
    - Rename Mac -> macOS.
    - Remove unused defines.

commit 8a75fe40a57528cd57219a87b7cef1d189400a4c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 2 21:46:29 2017 +0200

    Improve gumdukcompile robustness
    
    By checking for I/O errors.

commit 1db37f90b6f8992b9c9b17599827f8ee4de87ce3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 2 17:32:05 2017 +0200

    Fix crash on unload
    
    Finalizers might get called in the early part of the heap destruction,
    i.e. the mark and sweeps, so we need to be prepared for that.

commit b373f111ead46551c0d13af809717cef4591b03d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 2 01:04:02 2017 +0200

    Revise the bytecode API to match new Duktape semantics
    
    The latest version serializes the “fileName”, and doesn't provide any
    easy way to change it. This is however a more desirable API anyway, so
    it's a good time to change it.

commit 5249bb288557b73d5a81654274cacfba94ba1848
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 1 23:47:30 2017 +0200

    Upgrade Duktape for warning fix

commit 35ee9757ed9a6f7460fe005baef892b1aed4bfe5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 1 04:36:29 2017 +0200

    Fix warnings reported by MSVC

commit d336dead85491a74ff23cb210b93a46a59a675c6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 1 04:23:47 2017 +0200

    Upgrade Duktape to latest 2.1.x

commit 8315ada9d3941814dfb6d9f883ef0973ae8a7f0c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 1 02:28:08 2017 +0200

    Upgrade to V8 6.0.124

commit dd0b33410384cb267199c1ab2f341778057fefdf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 30 23:58:35 2017 +0200

    Tell pkg-config to statically link modules
    
    Instead of forcing this into the PKG_CONFIG environment variable.

commit 0a439f778a31a38a858df498c42f19a1a97ab174
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 28 15:03:39 2017 +0200

    Fix warnings reported by GCC 6.2.0

commit 072aad9ebd195fae850de400d44993ef768d340f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 25 22:29:08 2017 +0200

    Rework handling of tick and timer callbacks
    
    Due to how some APIs like NativeFunction allow the current thread to be
    preempted in order to improve performance and avoid deadlocks, this could
    result in another native thread entering the runtime and triggering
    callbacks earlier than expected. This would typically result in subtle
    bugs when using existing libraries written for Node.js or the web.
    
    We now provide the following guarantees:
    - Script.nextTick() will happen when the native thread that called it is
      about to leave the runtime.
    - setTimeout()/setInterval()/setImmediate() will not be scheduled until
      the calling native thread leaves the runtime.
    
    With one exception: calling recv().wait() will trigger any such pending
    operations before blocking.

commit d505f8964bdac283c79425b69679e8508924d164
Author: Antonio Ken Iannillo <akiannillo@users.noreply.github.com>
Date:   Thu Apr 13 12:52:00 2017 +0200

    Improve the Android check-gdb target (#212)

commit 531c8646834804ba0652650a081d25114caa3677
Author: Antonio Ken Iannillo <ak.iannillo@gmail.com>
Date:   Wed Apr 12 13:57:24 2017 +0200

    Fix illegal instruction on physical devices (#211)
    
    Executing a load pair instruction that use the same register for both
    register operands results in an "Illegal Instruction" error. Using a
    second register (x15) as the second register operand, even if not used
    later in the code, fixes it.
    
    Tested on Samsung S6 Edge Android API 24.

commit 66392992b92950fcaee7416d75485062ef9a01e7
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Apr 4 23:06:39 2017 +0200

    Fill all pages before triggering writes (#210)
    
    Otherwise we'll miss the second part of any prologue patch that crosses
    a page-boundary.

commit f96e448279b8e40884d8d8f559a41ee8d4111104
Author: pulsar <pulsar-git@users.noreply.github.com>
Date:   Fri Mar 24 15:12:19 2017 +0100

    Support NativePointer construction from [U]Int64

commit 74b852f8b0b3aea5d9eeda01b27557c1b4d8cdab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 22 15:14:00 2017 +0100

    Ask Interceptor to ignore before cloaking
    
    Otherwise we risk triggering a hook.

commit 9af15dae3db2eb84405a0eb961a1a67f585102ff
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Mar 22 02:55:02 2017 +0100

    Update to the new GThread API (#206)
    
    Also get rid of the destructor support in GumTls, and rely on GPrivate
    for such use-cases. Using GPrivate was previously not possible as any
    intercepted function might be called from one of the application's own
    thread-local storage destructor functions. Given how such destructors
    are called in an unpredictable order, this would typically result in
    memory leaks, where our own storage was allocated again right after
    getting destroyed.

commit a654f720658e7ab0791bb5208249b8fcc06e3b50
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 21 17:47:35 2017 +0100

    Update the check-gdb target to match the latest NDK

commit a80064a99b8f364fe447ee20fb44ec70e8a0ba21
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 21 17:46:57 2017 +0100

    Fix the Socket tests on Android

commit b0bb2e3200a40dbd2295e7bb7e35d17d563afb4d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 21 17:46:38 2017 +0100

    Make the Script fixture timeout configurable per test

commit e790e57bf115678688b0315255de30831466f54f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 21 17:46:15 2017 +0100

    Disable thread cloaking test on Android for now

commit 5f509baa2f27db2eaffeea0746cae68ba3989d22
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 20 14:52:41 2017 +0100

    Fix the test runner's teardown logic

commit 1c0974b56416182d0f979dd22dd2f3d6dc0054ee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 20 14:46:31 2017 +0100

    Fix slow V8 teardown when there's a lot of garbage pending
    
    We need to dispose the isolate before processing foreground tasks,
    otherwise the isolate will keep scheduling a MemoryReducer task until
    we have burned 8 seconds worth of CPU cycles.

commit dc0eea46bddeb30e19ad06ea9d30cc46a87fa759
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 20 14:48:43 2017 +0100

    Allow dlmalloc to use spinlocks if available

commit f279b04b124f6b82751744c09636713934e367fe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 14 13:59:09 2017 +0100

    Update to the revised libffi memory API

commit 6989b896f94c911c9e00149b49dbded456f64556
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 14 04:01:46 2017 +0100

    Cloak memory ranges used by libffi

commit b497fa699327b3d578d1748bfeaf016de55ae4dc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 14 04:01:25 2017 +0100

    Use our libffi fork's ffi_deinit() to plug leaks

commit 1267cc7bf7d731a9451b47a77ead1eee80be5f3a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 14 00:34:33 2017 +0100

    Improve the vapi

commit ed77c4431108000203298065a3239ed0a1174810
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 14 00:05:35 2017 +0100

    Remove thread ignore logic from GumJS
    
    This is now handled by the new Cloak API.

commit 4a07f1ba58bd18af3a120e6dd5c0d0a07de9fee4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 23:57:47 2017 +0100

    Automatically cloak internal threads in embedded mode
    
    Our custom GLib callbacks API means we can now do this easily without
    having to resort to hooking system APIs.

commit c3224e7b78c793b05c7509af0e01dc981e42248b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 23:53:49 2017 +0100

    Add gum_thread_try_get_range()
    
    Only implemented in the Darwin backend for now.

commit 09fbad3107352a95eb3560fd684dfcc7dacbacf1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 22:55:34 2017 +0100

    Revert to the previous thread cloaking API
    
    Turns out we don't need nesting after all.
    
    This reverts commit 992dd7244f705bce46e083aeeaf1f1f7ffd4d3ca.

commit 992dd7244f705bce46e083aeeaf1f1f7ffd4d3ca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 21:46:50 2017 +0100

    Improve the thread cloaking API to allow nesting

commit 072bf08b177fb5faa88dd68512963b2226645beb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 17:08:23 2017 +0100

    Also cloak the cloaking storage

commit 3fd5c954981ec6a09a3966a6fd8c11f0793d2293
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 16:45:02 2017 +0100

    Make gum_process_enumerate_threads() cloak-aware

commit e9f69f74661f403a1f383c0f79f680f536572422
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 16:44:12 2017 +0100

    Add note about corner-case not yet handled

commit 858febf8326c5f2d3205daecb2acf3f81b4db3a9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 16:43:55 2017 +0100

    Reorder for consistency

commit 9eb7433bfeac3f654936b539199d5a68b3056d88
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 13:54:12 2017 +0100

    Add thread cloaking API

commit a9b4caad31390296041beb70c4a7221f951e21c5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 13:52:57 2017 +0100

    Add failing test for thread cloaking API

commit 559bd41e6db86b6d9d86e243746ce10b715c5237
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 13:51:58 2017 +0100

    Improve the MetalArray API

commit 68c21d2c60dfc581cd6d372c3ae3ac3fcd0abdc2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 13:09:07 2017 +0100

    Factor out the bare-metal array implementation

commit 2b7a54010bb4225e5e06be8c3e5b55674d879900
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 02:20:46 2017 +0100

    Cloak memory managed by CodeSegment

commit ea0a9ac0f25bbecbb8157c4876bd570eb909b2ac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 02:20:32 2017 +0100

    Cloak memory managed by CodeAllocator

commit e39a79105a926b0779912bd29d2d1bbecf38304a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Mar 12 22:46:53 2017 +0100

    Fix test failures caused by compiler optimizations

commit 5d131b360f32f6cad28acf4a4b17200a7e815a85
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Mar 12 20:07:02 2017 +0100

    Improve the range cloaking API
    
    Due to the Linux kernel's coalescing of allocations when querying `maps`
    we cannot simply check the start address of each range.

commit b88b7d4224286beaca259184b783933ba331b5cc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 10 20:29:24 2017 +0100

    Update cloak state in case of mremap()

commit d7fde24c11bc4f7e17512e131c90475bf9fd11d6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 10 20:28:49 2017 +0100

    Tweak style

commit 4d12b41ed553cacd8f051ebbe29b62195bc51c57
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 10 17:15:52 2017 +0100

    Cloak allocations made by dlmalloc

commit f0eadde0f316fcb1f0e31d11de0a77320a274591
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 10 17:15:35 2017 +0100

    Improve the Cloak API to be aware of memory ranges

commit 8f2ee2ca845a56f66f2adfa2a3a680c181cc61bd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 9 20:01:00 2017 +0100

    Make gum_process_enumerate_ranges() cloak-aware

commit 90e1bc03ed313b855033ae28c5f514f92cf2ee57
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 9 19:59:38 2017 +0100

    Add first part of an API to cloak memory ranges
    
    And later also threads.

commit 9c621e84114cb698b5f7421b260b283c4a71f375
Merge: 1a7adb64 e6a0526f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Mar 9 15:58:51 2017 +0100

    Merge pull request #199 from frida/fix/racy-v8-teardown
    
    Fix racy V8 teardown

commit e6a0526f4271d32c9837e65f646496df5ca36557
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 9 15:48:08 2017 +0100

    Release ScriptBackend as part of gum_shutdown()
    
    This avoids a Catch-22 issue during teardown between GThreadPool and
    intercepted threading APIs.

commit 4da0c715e0dcb423f5ab666fa50c5488fab871a2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 9 15:45:59 2017 +0100

    Add gum_shutdown() to solve Catch-22 during teardown

commit b1629ce48cd43c864b07e01c342e2515caa6177c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 9 15:42:26 2017 +0100

    Fix race-conditions during V8 backend teardown
    
    We need to ensure that any pending foreground tasks are completed before
    tearing down V8.

commit 1a7adb64619867a1db1403927124b2f2aae6aed6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 7 00:49:51 2017 +0100

    Fix syntax error introduced by style tweaks

commit 9584289cf4a280fb1df24325b40b505d40463266
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 7 00:24:18 2017 +0100

    Release Interceptor's per-thread state on thread exit
    
    Instead of waiting until Gum is deinitialized, i.e. when unloaded from
    the target process.
    
    This depends on Gum.Tls making use of the destroy callback, which it
    currently does on all platforms except Windows.

commit fd1d4e021fb3d3815782ee2c934c20b683fce0a2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 7 00:21:34 2017 +0100

    Add support for providing a TLS destroy callback
    
    Except on Windows where we ignore it for now.

commit 1a36d64c9409a2e5f27b73be2d64464236363b60
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 7 00:18:15 2017 +0100

    Fix some stylistic inconsistencies

commit 096e25cef4493ad1b07f1045b43372fd357a7373
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 3 18:58:38 2017 +0100

    Fix the new Backtracer test on Windows

commit 0c8ccefb8da503424232c70faf3a0526eddc1ae8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 3 19:27:27 2017 +0100

    Improve Unw Backtracer to avoid missing the immediate caller

commit 1d26c9aa79d2953b88aac6f6785b418f938737c4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 3 15:47:29 2017 +0100

    Improve Darwin Backtracer to avoid missing the immediate caller

commit 3203da259ecb75ffc2820d65120b8072d985eb47
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 3 15:46:37 2017 +0100

    Ensure that the eip/rip/pc register has the return address
    
    This makes life easier for Backtracer implementations.

commit 8f8236bb852b041babedb0d38058148cc238db9d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 3 15:45:47 2017 +0100

    Translate return addresses replaced by Interceptor
    
    This was already done in the other Backtracer implementations, but
    somehow forgotten for Darwin, DbgHelp, and Unw.

commit 4fcb74472f2b7e4f208018e9a588b13a745999b4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 3 15:42:26 2017 +0100

    Add full cycle test for Backtracer with Interceptor

commit 8ca976c2498c82cc17c8dd908ac84de6d22d45f8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 3 14:09:32 2017 +0100

    Bump frida-objc

commit 9ad62881e22f05ba478ef7fad1577dddef3e9421
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 1 12:51:33 2017 +0100

    Bump frida-java

commit 8458ecf2659331069c9a2be1c0ffc69d1c31e727
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 20 13:30:36 2017 +0100

    Fix autogen build regression

commit 9e3826ba1f3eac379bab5cd172c8807d8b8d8273
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 20 11:17:48 2017 +0100

    Move compatibility shim where it belongs

commit d1f44c55360266dde46286b154630347ebf8d52f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 20 11:08:04 2017 +0100

    Properly handle missing log2() on older Android
    
    Our previous hack was relying on the Android support library, which we
    should only rely on for C++.

commit d4708263306deac57a974a52df66e9473893ee72
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 20 10:50:41 2017 +0100

    Revert "Work around broken math.h on Android API level 14 for arm"
    
    This reverts commit 8510189b84646caed2f72a277811ca52b907982f.

commit 5e79632eb939f3a194a6a43c98a89b9b482771a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Feb 19 17:38:53 2017 +0100

    Add an Interceptor test-suite for Android

commit 36218d0a56d6c2afaa65b5326213f1a8641a9952
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Feb 19 16:47:11 2017 +0100

    Remove deprecated Java test-suite
    
    It's been superseded by a proper test-suite in frida-java.

commit f59b0be7f10369b5f34ce97beda86daa493623f7
Author: Antonio Ken Iannillo <ak.iannillo@gmail.com>
Date:   Sat Feb 18 23:55:45 2017 +0100

    Fix detection of back-branches on arm64
    
    This allows us to successfully hook pthread_key_create() on Android N.

commit f9718984921faf4ab35929f122948abc74cbd22d
Author: Antonio Ken Iannillo <akiannillo@users.noreply.github.com>
Date:   Fri Feb 17 20:08:07 2017 -0500

    Improve Stalker on arm64 (#193)
    
    - Implement load_real_register_into() for X29/X30 registers
    - Avoid clobbering Q registers
    - Add new performance test

commit bb62b18eab7f145811bd4ead7806a49efd8ab693
Author: Eloi Vanderbeken <eloi.vanderbeken@gmail.com>
Date:   Sat Feb 18 00:07:13 2017 +0100

    Don't clobber YMM registers

commit 8510189b84646caed2f72a277811ca52b907982f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 17 15:13:10 2017 +0100

    Work around broken math.h on Android API level 14 for arm

commit 939f964285a21204d301aeeaa4f1dc8fd9adb65f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 17 15:00:36 2017 +0100

    Enable system extensions universally
    
    This fixes a warning when compiling Duktape for Android.

commit de913329f9dbe43c0cea5d7515e928746cf39aa8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 17 14:38:25 2017 +0100

    Bump frida-java

commit 86dbb1f2ecd92edf47f6460a547a7e4809621105
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 17 14:38:17 2017 +0100

    Add tests for ObjC and Java API availability

commit 70dac5be711563b0fb3d12e6a9df110d953a0aac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 17 14:17:43 2017 +0100

    Bump frida-java

commit 4ce866e4bf396fb06ad9e5c257391196b1731473
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 15 11:22:02 2017 +0100

    Fix source map URL parsing
    
    Newer JS toolchains tend to specify the encoding used.

commit c71ebd807f48433de0ae312fe93f83ba8ad3d4ad
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 9 00:29:51 2017 +0100

    Bump frida-java

commit 789c8de9a21d4df3cac17578e19b33237e2f54ad
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Feb 7 16:05:50 2017 +0100

    Avoid loading the shared cache file needlessly

commit 1e1415ec4a2c136dd2acce855f12f8eb63e2191e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Feb 7 00:12:11 2017 +0100

    Bump frida-java

commit a76e36322719545d6eaef136be7e6df69c11ec07
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 6 23:42:17 2017 +0100

    Add Interceptor.flush() for synchronous use-cases

commit 9a84d870e068a8db447bd8dfb9d8f56f844cab38
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 4 22:47:21 2017 +0100

    Fix compilation errors on ios-arm64

commit c8612803ef6bdacba913a0159338851cbaf54a41
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 4 22:45:00 2017 +0100

    Fix warning regressions

commit d8cba5d826e8190305d26ba7397807807d0c516a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 4 14:09:44 2017 +0100

    Bump frida-java

commit b8810f317edfb9395296fd391697d0f1cf43bb02
Author: Antonio Ken Iannillo <akiannillo@users.noreply.github.com>
Date:   Wed Feb 1 18:12:02 2017 -0500

    Port Stalker to arm64 (#189)
    
    Does not yet implement call probes and optimizations, but it's an
    awesome starting point.

commit 473a08e59ff53cbe9b7909f5a3d7f17e48155ac2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 30 19:44:47 2017 +0100

    Disable restrictive generators
    
    To improve compatibility with existing code.

commit 1f8ed0b1a0973705256773969096316a664721b5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 28 18:58:11 2017 +0100

    Require V8 5.8.60 and update flags accordingly

commit 5abf584d34ccddb4c142bcea490d0d031eb16c8c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 23 21:16:12 2017 +0100

    Add API for getting the JavaScript main context

commit bd0cba5862662b5c95536d8401c7ec03c80ba298
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 18 17:31:30 2017 +0100

    Add Memory.patchCode() to the JS bindings

commit fd045600ab71f254043adf5e065577042d089922
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 18 17:29:33 2017 +0100

    Add gum_memory_patch_code() for easy code patching

commit bc6d30008467381b811d445df956907a665454bb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 16 15:56:20 2017 +0100

    Improve gum_code_segment_is_supported()
    
    We should also check if mmap() is going to work.

commit d15e0864ebf5d902eb095e187023441a0a9a7274
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 16 15:14:42 2017 +0100

    Fix mapping when Gum.CodeSegment is unsupported

commit 03df7c7feb8efa5af1df744608aaef776ee9dcb7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 15 16:19:56 2017 +0100

    Skip our Mach exception handler when debugging
    
    Otherwise we risk that the debugger suspends our Mach exception handling
    thread, causing a deadlock.

commit 343f41bca106a1c5c240ec62ad670f4544114830
Author: Rafael Rivera <rafael@withinwindows.com>
Date:   Thu Jan 12 15:41:44 2017 -0800

    Ensure smaller chunks of memory are zero-allocated (#184)

commit 3137cf7dfd75c0cc7951ed1158900c74e17cac99
Author: Rafael Rivera <rafael@withinwindows.com>
Date:   Wed Jan 11 17:05:41 2017 -0800

    Accommodate source-map changes in frida-compile (#182)

commit 9915619e5d8e3e4f173315703c9b5e92890c7ba7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 12 02:05:23 2017 +0100

    Bump frida-compile

commit 461102d32deccd6b13fddf85739accb27b0a737c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 11 05:20:05 2017 +0100

    Fix warning regressions

commit ae09021f518479a1049f233519349e070938fa55
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 10 19:32:09 2017 +0100

    Bump frida-java

commit 15d45fa7cb6569dda0a7d0c9567061dd40a7dc1e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 10 19:11:25 2017 +0100

    Bump frida-java

commit 2995dee5480fce3962a1f3cab080b629ee19edc0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 10 03:37:28 2017 +0100

    Fix cross-arch module enumeration
    
    We were looking for the LC_SEGMENT / LC_SEGMENT_64 based on the
    architecture of the _current_ process, not the _target_ process, which
    is typically a remote process.

commit 05fcc0af8c79e224ad5b73438fd4e641038be352
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 10 03:37:03 2017 +0100

    Remove redundant cast

commit 7a6f6fd297e7de584556ad2a5485c9281dd795b8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 10 03:20:31 2017 +0100

    Fix buffer overrun on large Mach-O headers
    
    Turns out gum_darwin_enumerate_modules() assumed it would encounter the
    LC_SEGMENT or LC_SEGMENT_64 for the __TEXT segment on the first 4096
    bytes of any given Mach-O. It should obviously not assume that.

commit ccddc9996232607a9f76f47604e85d03ffadc14f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 8 22:01:44 2017 +0100

    Bump frida-compile

commit 65df01b3253491a40b5632d086a642a22d5339cd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 7 15:42:32 2017 +0100

    Uglify objc.js and java.js for Duktape

commit 01199642bd03fb5c058e7418ed7d3e0a3625b7e0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 7 15:42:08 2017 +0100

    Bump frida-objc and frida-java

commit aba48f12a63357b16839b28cafcec0184a046355
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 7 15:33:06 2017 +0100

    Fix the ObjC performance test on iOS

commit bb78a6d5cd4cc63fd9ee0a2abbe31cd57df40fd4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 7 15:30:45 2017 +0100

    Fix test
    
    Now that we uglify the runtime code there isn't a function name any
    longer -- but we can live without that, as “file:line” is enough for
    meaningful bug reports.

commit c4390aface18f0992e042bdcae44fcf6f96b6919
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 7 15:28:23 2017 +0100

    Fix Long/ULong regression on Windows

commit cfeaaa715b44c892a5d7e13494b81cefbccf2c20
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 7 15:01:21 2017 +0100

    Enable loose mode on Babel's ES2015 preset
    
    This yields a small improvement in memory footprint and performance.

commit e42dca4b98405fc055434a8cb17fba664747c917
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 6 19:22:02 2017 +0100

    Uglify frida.js for Duktape
    
    This reduces the baseline script creation time by 15%.

commit 22c19a903e5eb448608c40020e1a1174da2a53ab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 6 19:19:12 2017 +0100

    Bump frida-compile

commit cdbbadfd5a6c7c3d2a5816706cb945a2f67bf51f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 6 18:36:31 2017 +0100

    Move memory accessors for aliased types to native code

commit 39a0624e1b437e285ea8561c9a12eb8493341c59
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 6 18:33:47 2017 +0100

    Add missing file to the build systems

commit 31523aee9ce448c5e13124645d224e18bfe46bf1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 6 18:16:33 2017 +0100

    Update the MSVS build steps

commit 05f5a2d80a8ac5cb548d10c9ae5e3220ec38280a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 6 18:16:01 2017 +0100

    Split error-handlers into separate files

commit 14f603f5492f3f5bc1bebf8f1534ca176408130d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 6 17:18:17 2017 +0100

    Get rid of globally polluting polyfills
    
    This is better left up to applications, which should use Babel's
    transform-runtime plugin to make this seamless.
    
    Performance-wise this reduces Duktape runtime's memory usage by ~0.55 MB
    when measured on iOS/arm64. This also reduces the script load time by
    ~33 ms on an iPhone 5S.

commit 4b4fb78d1371fbcb115a7e5b879adb81043f9871
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 6 17:09:36 2017 +0100

    Fix gum_bsearch_find_closest() back-walk logic

commit 534b6bba40bd2b66db9c684a601e855cec48d438
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 6 17:07:34 2017 +0100

    Fix source map lookup without column information

commit 0ebb942bd88ef92fbf7314d59d816ca6ad24cf7d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 5 11:10:22 2017 +0100

    Lazy-load ObjC and Java runtimes
    
    This reduces Duktape runtime's memory usage by ~0.7 MB when measured on
    iOS/arm64. This also reduces the script load time by ~23 ms on an iPhone 5S.
    
    The motivation is to be able to inject into system processes without
    having to tamper with jetsam limits.

commit bde42bfb53bd6039fe8523db684b6365a4784d5d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 4 22:01:45 2017 +0100

    Correctly short-circuit local page size queries

commit 284910fc019459d6b9edc1e2a4c2ba3dcc8147be
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 4 20:45:06 2017 +0100

    Short-circuit page size queries for the local process

commit 9e1eb946a4966f211387264c0f8cc3657b4e0d49
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 4 20:44:17 2017 +0100

    Fix page size query in gum_darwin_write()

commit 0b9a937154cbc271381ae37d5516e780d851f3ab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 4 20:44:03 2017 +0100

    Fix kernel-panic workaround for 32-bit processes
    
    The workaround logic was querying the page size of the local process
    instead of the remote one. Oops.

commit cc5cde1414c04ec8338cdf07e45227c25895b877
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 2 19:09:30 2017 +0100

    Avoid crashing amfid and triggering stability issues
    
    Doing task_for_pid(0) may crash amfid on some jailbreaks. Observed this
    on iOS 8.4, where amfid crashing sometimes causes system stability
    issues. We work around this issue by touching this API lazily.

commit dc5979f14f6b3ee0c6bbae385cc073e46414b5c5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 2 03:03:09 2017 +0100

    Fix mapping from file on iOS 8.x

commit 8debd383e0497883652487b71c7c8fa336c28cdb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 2 00:12:53 2017 +0100

    Replace our capstone allocator with dlmalloc
    
    Typically shaves off 2.5 MB of memory on iOS/arm64.

commit eb53f332d1c37369cb7f03d93ab4ef996b9b0ed2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 31 01:14:30 2016 +0100

    Fix alignment issue when mapping from a file
    
    Instead of reading the entire file into memory and get an unknown alignment,
    we instead just map it in and create a COW mapping that we use.

commit f01437ef1a589d52fb679494ecfe5e1f8d045fc5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 30 16:45:58 2016 +0100

    Sign the generated runtime code on non-RWX systems

commit 5422db30ca0dd874a4687f56acf6b909ba2f7d5f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 30 05:25:49 2016 +0100

    Reduce Gum.Darwin.Mapper memory usage by memory-mapping

commit bf3a0e3a7223f33178e4c6248ba0392ab12ce322
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 22 15:59:23 2016 +0100

    Fix crash on systems with SIP enabled
    
    This is because MappedFile tries to open the file read-write when
    `writable` is set to TRUE, and this is obviously not going to fly when
    dealing with system libraries.

commit 271e281c5516fb01a7e24b8ea6ca02a143f87fca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 22 15:16:35 2016 +0100

    Configure dlmalloc to avoid spin-locks when available

commit b6f3f5fe88b700f7f48f6a52b1aefd8e079fa1f4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 22 04:00:04 2016 +0100

    Upgrade dlmalloc to 2.8.6

commit 80e26d1a5dd81e79ddf9c7db6320a514d62a5103
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 19 19:10:13 2016 +0100

    Fix off-by-one in Process.findRangeByAddress()
    
    Related to frida/frida#204.

commit f5c42d13f2827401d4bb5864fa222ae1041877a6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 19 18:59:18 2016 +0100

    Fix off-by-one in Process.findModuleByAddress()
    
    Fixes frida/frida#204.

commit 5c19d8cc6f64bfdb9e50c441a73ed0a15f8932dd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 17 17:26:30 2016 +0100

    Improve Mapper API to allow mapping from a blob

commit 8b0c7e4e360b7af72ec8bb9728b0b7906e323f38
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 16 19:23:31 2016 +0100

    Speed up gum_darwin_enumerate_modules()
    
    Most of the time the file path is part of the header data, and there's
    no need to read twice per module.

commit 011d5f9142f1a0d1effaa937da671bab82c5466b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 16 18:48:31 2016 +0100

    Refactor the Darwin APIs and improve performance
    
    - Factor out the module resolver
    - Pass the resolver to Mapper so we don't have to enumerate the loaded
      modules twice
    - Create mappings on read instead of precreating mappings for all loaded
      modules
    - Avoid copying image data for no reason
    - Implement objects using GObject

commit e6b3763b4f84b9fddab348501f34ddbd2d6c0cee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 14 22:26:03 2016 +0100

    Fix long-standing stability issue on Windows/x86-64

commit 8ffd49a698a9d279a07ab6ae51fbf509dab95867
Author: Ole AndrÃ© Vadla RavnÃ¥s <oleavr@gmail.com>
Date:   Wed Dec 14 15:13:34 2016 +0100

    Fix warnings reported by MSVC

commit b2baa620d0ea5560e0aa5ac62575a91da4152432
Author: Ole AndrÃ© Vadla RavnÃ¥s <oleavr@gmail.com>
Date:   Wed Dec 14 15:13:34 2016 +0100

    Simplify setjmp() logic and fix race-condition
    
    Up until now we've tried very hard to hide all the gory details of
    setjmp() behind the Exceptor API, but in the end it proved to be more
    trouble than it's worth. By exposing these internals to the public
    header it means we leak a few implementation details, but on the other
    hand it makes Gum easier to port and maintain, and gets rid of one
    memory allocation.
    
    We now also protect the `scopes` data-structure against concurrent
    modification (oops!).

commit 6f5ca028f30bdd0689dbe34a9765f726168e2a21
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 13 17:05:37 2016 +0100

    Fix Linux CPU type detection when auxv is empty

commit d00da96fdb430e33796c54e4401b9487d5ca3126
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 13 02:19:52 2016 +0100

    Fix mapping into processes with introspection enabled

commit ba76107ee2a113f6af09fab444b09590bb88858a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 8 02:36:21 2016 +0100

    Add gum_x86_writer_put_leave()

commit 12b5d5f05a15cdba38cf95a08a617d44f595522f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 1 21:36:02 2016 +0100

    Bump frida-java to 1.0.4

commit 0bffb7bbe48f66389899081f3a9767c5d7700837
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 30 20:43:13 2016 +0100

    Bump frida-compile to 3.0.0

commit d6ec84fa929e38b48c65c91d7e79d383df651056
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 30 20:42:39 2016 +0100

    Remove forgotten function prototype

commit 73912709daa4f0f43b2173dc8c8d0d12b2316cc8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 30 17:54:45 2016 +0100

    Allow gum_init() to be called before GLib is initialized

commit bea18c0628c3c7bc8f745cddd9ba571e33ae5a55
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 28 23:52:06 2016 +0100

    Fix crash in the V8 error handler for eval frames

commit 622e632b45166f99545353bd5a8373a397134280
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 28 02:38:42 2016 +0100

    Link with liblog on Android

commit ac7d29062b659fb190d01326287fcc3e08d23fcf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 28 02:15:40 2016 +0100

    Add missing include

commit a70815f8683e359fad23b2a064c310d2563a82a7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 28 02:03:55 2016 +0100

    Bump frida-java to 1.0.3

commit 48fcb91940093ce01a2ac412b591baaf80407825
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 28 00:00:44 2016 +0100

    Add gum_{init,deinit}_embedded()
    
    This simplifies using Gum embedded in an unknown process, typically as
    part of a shared library injected at runtime.
    
    Using this API to set up and tear down the library means that OS resources
    allocated by Gum are properly cleaned up on unload, and that GLib and
    Gum's internal logging gets redirected somewhere more appropriate than
    stdout (when possible).

commit 4d511fb29bd3224f00cd218fa6eab586d151e76c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 24 16:47:28 2016 +0100

    Fix the debugger notification bookkeeping

commit 2aaf0acb807e35a94418a2c56c4da7e874655331
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 24 15:03:14 2016 +0100

    Bump frida-java to 1.0.2

commit d01fe8fe67267aea9a0f2fa3aa0fb111fdc329ff
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 24 02:41:16 2016 +0100

    Delay execution of the runtime until load()
    
    This is consistent with the V8 runtime, and allows setting breakpoints
    before calling load().

commit 5b67ebf1c725694c6009406a568a3680a8a268e4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 23 23:19:59 2016 +0100

    Allow debugging before the script has been loaded

commit d191069dd0d3cea5948e0cc3f5187c6016a739b7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 23 22:45:15 2016 +0100

    Refactor debugger tests to avoid duplication

commit d771961fd2bd275dad7ac1ff47930382d5ca1edd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 23 22:44:48 2016 +0100

    Improve the Duktape debug tunneling protocol

commit a02c84ed990a1e22c30ccbf6c27cab2ff6934ae7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 23 22:43:27 2016 +0100

    Ignore attempts to post to the debugger when not attached

commit d3320841c02ef6c1857f02b2c4051123ce86db9c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 23 22:42:39 2016 +0100

    Fix unread buffer state reset logic on detach

commit 3a2cd039e5d8966e94d2d89fef919f65421da368
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 21 23:08:17 2016 +0100

    Fix warnings reported by MSVC

commit bd38319c607697e53b3dc5ad9d1999268888951a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 21 23:06:50 2016 +0100

    Use _gum_duk_throw() when possible

commit 7667e8833c271590a7d8518a5ebe40488ffbbb8a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 21 20:50:02 2016 +0100

    Upgrade Duktape and cherry-pick fix from upstream
    
    Typical symptom:
    
    ```
    [Frida ERROR]
    frida-gum/bindings/gumjs/gumdukvalue.c:1586:_gum_duk_unprotect:
    assertion failed: (!duk_is_undefined (ctx, -1))
    ```
    
    This is a long-standing bug that was very hard to reproduce, until a few
    weeks back when I fixed a memory leak in Frida:
    612ba7460bb1d1481e87fbe036c7d54fd66f45ca
    
    Fix cherry-picked from:
    https://github.com/svaarala/duktape/pull/1096

commit dbdc6dc2934cfa74988b053df264ddfe1edf789a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 21 16:00:00 2016 +0100

    Fix the source map lookup logic
    
    We need to find the closest mapping, there isn't always an exact match.

commit 380571b66d885c057a41366a54b4ce33f6180b19
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Nov 19 05:32:08 2016 +0100

    Remove source-map dependency
    
    We now have our own minimal implementation that's orders of
    magnitude faster.

commit 290d2c357222e81658a2330813d1f90f5291ee68
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Nov 19 03:33:25 2016 +0100

    Fix performance issue with source maps (#181)
    
    A typical source map takes ~5 seconds to parse with the Duktape runtime
    on an iPhone 5S. This is way too slow, and there isn't much room for
    optimizing the algorithm due to the sheer amount of bytes that need to
    be munged. To solve this we implement a minimal source map parser in C
    that only covers the bits that we need.

commit 6d05b3fd51432a4279314053dd399ae2783d8580
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 18 05:04:27 2016 +0100

    Remove redundant casts

commit a985b1e692585925ad065101f7351bf67b33717d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 18 01:34:40 2016 +0100

    Improve error-handling in the runtime autogen script

commit 82eb697ac6590eab7bbda5e6d710d7d093c3b0ac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 23:51:41 2016 +0100

    Use source maps to resolve frames of our runtime
    
    This was a regression caused by moving to frida-compile, meaning that
    bug reports no longer contained helpful file names and line numbers.

commit 07c1ad9cdcfd46acc4440714a933b8eca83cc5da
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 17:23:12 2016 +0100

    Refactor slightly to improve clarity

commit f098e6bf06a294ed6532239cf0f0d3f73d6e14df
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 17:19:58 2016 +0100

    Allow debugger to process new data immediately

commit 8b586517b24f336298220b8a661f699d707ceb83
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 17:09:39 2016 +0100

    Fix leftover warning reported by MSVC

commit 4e8a65bc5665e5caf5951bbf9464bc89791d56d0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 16:16:08 2016 +0100

    Really fix warning on MSVC

commit ecf34dfaef1e3fbe1ce52c096e0e46539384a91d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 16:10:10 2016 +0100

    Relax test to allow it to pass on Linux
    
    The POSIX Exceptor backend is not yet able to provide as much details as
    the Windows and Darwin backends.

commit a1efe4c36534bd899065d84cf56114b53b5b643d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 16:00:37 2016 +0100

    Avoid length modifier for suppressed assignment

commit b29626e96c07cbdc7ce08ad049047f2a56439a5c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 15:35:53 2016 +0100

    Fix script naming inconsistency

commit 0a8cc8b8e05c03fa0bcdb9155e039c091c21daef
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 15:34:07 2016 +0100

    Fix warnings reported by MSVC

commit 177f6e9b77a6d2a541fb32e8fb8e5cc050ccb382
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 15:26:24 2016 +0100

    Upgrade Duktape for warning fix

commit 341073ae0d6c99be960a4dc7d0150cd9d8346250
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 15:16:13 2016 +0100

    Avoid length modifier for suppressed assignment
    
    Fixes warning reported by GCC.

commit 5ee766afd048f2513477a9b404f3682d2afac0c1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 15:07:11 2016 +0100

    Upgrade Duktape for assertion fixes

commit 50c0a26c985191a062cb529afb8a88436e4ffc56
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 03:49:02 2016 +0100

    Skip Exceptor obstruction test on ASan

commit 69aa35bd4f5dcc91b34e4e90aca33ca2155fb71c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 03:07:12 2016 +0100

    Upgrade to Duktape 2.x

commit 99d91a1d4267f0a423ed2d1c83e2aa0856cf8ae0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 03:07:35 2016 +0100

    Bump frida-objc to 1.0.1

commit 20b6af217a651a02d7a385769dd81ab7b7f40a61
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 16 15:58:03 2016 +0100

    Implement debugger support in the Duktape runtime (#180)

commit e0614bc87218bfc413a77d4fd49b5de89089dfea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 14 00:30:43 2016 +0100

    Disable LTCG on Windows

commit 5a6683d2667f8fc237a80e950bf12c80b8123376
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 11 04:11:35 2016 +0100

    Fix argument replacement issue in the V8 runtime
    
    Our setter was not returning the provided value, which tells V8 that we
    don't intercept the request. Clever as it is, it remembers this and
    avoids calling us again when someone attempts to replace an argument in
    the future.

commit f4afdbf99d3f0581e20ec3a5989b701df367ad52
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 11 03:59:11 2016 +0100

    Tweak arg replacement test to cover regression
    
    A recent regression in the V8 runtime resulted in the argument only
    being replaced on the first call.

commit 5e4f54592f05ff767f552009866ef01f77770614
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 11 01:04:20 2016 +0100

    Add a minimal vapi binding for Exceptor

commit fd401f883cfc958f9301993ff8034b63e515e1c7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 11 01:03:45 2016 +0100

    Fix a couple of stylistic inconsistencies

commit ebdf62a281abc6bfd27074b376512f508e3142d6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 11 01:03:19 2016 +0100

    Remove long-gone API from the vapi

commit 8cbb30794ecf750f46fb868e572311f4add76600
Merge: f0114a70 a9fed23d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 11 01:02:16 2016 +0100

    Merge pull request #178 from frida/feature/mach-exception-handler
    
    Add a Darwin-specific Exceptor backend

commit a9fed23d7d2ccb97e9bb0dfce303e75e7e6f9ed4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 11 00:47:25 2016 +0100

    Hold on to Exceptor to speed up Script tests

commit 975cd4c8acc3b27ed680c8a6204be14ebb91b960
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 11 00:28:44 2016 +0100

    Implement task_set_exception_ports() and refactor

commit 129c1728ba35b35cdaaa6cc18a67c5dd4801a6ef
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 10 22:20:00 2016 +0100

    Implement the missing helper API

commit 8338e4b0fc888a5b3e115cc19dbd008e512ceda1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 10 17:45:08 2016 +0100

    Improve clarity

commit b148c039e6399dcef90ce4889003d1ba37e68671
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 10 17:37:10 2016 +0100

    Implement the high-level part of the swap logic

commit 94c47702bd5954eafea0afab3e2c282e88e64328
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 10 00:01:30 2016 +0100

    Add failing test for task_swap_exception_ports()

commit 05c6c2321843a89365252ae643cc8179ae1083c5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 10 00:01:02 2016 +0100

    Fix port leak in test

commit 1c0ea253f68418145f36632af7f9bf6e59799f80
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 10 00:00:26 2016 +0100

    Initialize `count` with the size of the arrays

commit bcdf32661cbd6a843148e2ae7ee80956a913dbdd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 22:41:24 2016 +0100

    Implement remainder of task_get_exception_ports()

commit f0114a70cce601e3d4c2c284bb9991cfa23f99e1
Author: s1341 <s1341@users.noreply.github.com>
Date:   Wed Nov 9 22:28:56 2016 +0200

    Add -lm when building for QNX (#179)

commit a6011c30e8a5b0619989e3d1a50b70a9bd9779a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 20:13:05 2016 +0100

    Use mach_port_t consistently

commit 443a99e45fcdc96b721fe40f63ae0e8db7822992
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 20:12:22 2016 +0100

    Add failing test for Exceptor invisibility

commit e20a06a2e28d5fbb86fadc376a669795d9759f56
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 20:11:14 2016 +0100

    Don't hold on to Exceptor in ScriptBackend
    
    This should be done at a higher level.

commit 9a01fb02a44c207e254ca95e0f81e2865de90db0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 18:18:04 2016 +0100

    Perform passthrough when task is remote

commit a1f1f9150c31a8f52a4e21914301fe451baf2dfa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 18:13:57 2016 +0100

    Add scaffolding for hooking the handler API

commit 51b532988bfbb92c239d0d397503cc589f09e944
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 17:52:06 2016 +0100

    Clean up the POSIX backend a bit

commit e44545bdc6e688de4f3649861291250096581906
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 17:51:40 2016 +0100

    Implement handling of SIGABRT

commit a01387f9a7c9ea6ec8a6d4fd9c334eceb415c968
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 16:41:57 2016 +0100

    Use a long-lived thread for exception messages
    
    Fewer moving parts during exceptions is always a good thing. Plus,
    internally spawned threads are automaticalled ignored by GumJS.

commit 74017ee56c2321e470b33ad64ed47f68744b6b0d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 04:15:56 2016 +0100

    Remove locking from Exceptor backends
    
    Needs some pondering, so better to avoid it for now (like we used to).

commit a4f07c8f28c1da49de6d4a18b57d56c8b89572bb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 04:09:27 2016 +0100

    Clear global on dispose

commit 00c1207f400e284534f2565bc080b188e762e7a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 04:09:18 2016 +0100

    Deallocate ports

commit 962144d5e1585f92212aa5ee23dd2033aec2cd3c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 04:04:22 2016 +0100

    Tweak style

commit 59946ab74a90ad8f86063fcc9048a1df584440dc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 04:00:52 2016 +0100

    Forward unhandled exceptions to the previous handler(s)

commit 2c5ce74c583f4c750516b48473275f0703493e2b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 03:59:53 2016 +0100

    Add legacy MIG stubs

commit ed9fa4cec3b3bf518d0343725d4f51fbf771ecd0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 02:39:07 2016 +0100

    Wire up ExceptionMemoryDetails for arm

commit 9dc62ed6d7b8eb9fd1d329588abfb78ad443b5b7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 02:01:14 2016 +0100

    Wire up ExceptionMemoryDetails for arm64

commit 54fe227aa47881f3936acd4ebd4e8f97cad2e059
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 8 21:43:48 2016 +0100

    Wire up ExceptionMemoryDetails for x86

commit 4b75267049b83953001a3c614a84caf1269258d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 8 21:42:29 2016 +0100

    Fix missing initialization of thread state fields

commit 852b1a9b9d2335b59f35d1bbf5513204d7021262
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 8 17:44:15 2016 +0100

    Use MIG to generate the client/server logic

commit 080e593eda3a7cc2b3232f328c47ce2967dc29f9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 8 02:26:50 2016 +0100

    Reply with new state

commit e44fcdeb27181ff2902ef7667cf865668fdfd6ce
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 8 02:02:34 2016 +0100

    Add a Darwin-specific Exceptor backend

commit 2e94c4d917759f780363e0a717742f323d1c8a1d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 7 23:42:54 2016 +0100

    Fix Exceptor backend for Windows

commit 7e64779001021abe9be5bad8194e13454b7f755e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 7 23:34:25 2016 +0100

    Move Exceptor's OS-specific bits where they belong

commit 612ba7460bb1d1481e87fbe036c7d54fd66f45ca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 7 18:06:34 2016 +0100

    Fix leak in InvocationContext copy-on-write logic
    
    This resulted in modified InvocationContext objects never getting GCed.

commit 2fb9e1d6e32f50db3fee2d98f0fe76fdf8ca65ba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Nov 5 01:23:16 2016 +0100

    Yield the JS lock while resolving symbols
    
    This avoids deadlocks when holding the dyld lock, for example.

commit 7b87f867055932359c44b25ec9d3848070b21b06
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 4 22:02:02 2016 +0100

    Yield the JS lock while creating the ApiResolver
    
    This avoids deadlocks with our ObjC resolver, as it calls dlopen() that
    tries to take the dyld lock, which another thread might be holding while
    trying to take the JS lock because of a hook.

commit ff6b68d8cafac2d9aec0b88db4085eb871adac51
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 4 17:57:18 2016 +0100

    Fix separation of concerns in use-after-free fix

commit f2e20a6dd8012c2b479edf9af6edb2e3b03a5f04
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 4 14:26:32 2016 +0100

    Fix use-after-free caused by race condition on unload
    
    We need to hold a strong reference to the script while processing the
    on_unload callbacks, as one of them might drop the last reference. This
    would happen if our thread got unscheduled immediately after calling the
    callback, and the other thread got a chance to process the idle handler
    and let go of the last reference.

commit c3555143c5dfbd32452018137e6083e9c77fb96f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 4 03:08:40 2016 +0100

    Fix crash when processing tick callbacks
    
    We were using the heap thread regardless of which Duktape thread we were
    about to leave. This resulted in a fatal error when more than one native
    thread was running JS in lockstep, and any of the non-heap threads would
    process tick callbacks. (We recycle the heap thread and only create new
    Duktape threads when another native thread is using the heap thread.)

commit 60a42c92ad6959657e524ae9d7588786ee9a40cd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 4 03:07:35 2016 +0100

    Rename variable to improve clarity

commit 0cea4fc55f5446ac551c6d8b849588479403988c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 4 03:05:52 2016 +0100

    Send fatal Duktape errors to GLib's logging system
    
    This way they'll end up in ASL on macOS and iOS.

commit 9e59177f014ea8300f3e593be08db047c0f1ea93
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 4 01:39:12 2016 +0100

    Skip KScript tests when ASan is enabled

commit 77091fedc4c50cf18c93539a67a229bbda8a648c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 4 01:33:22 2016 +0100

    Fix clobbering in our mach_vm_protect() wrapper
    
    We need to save and restore the clobbered registers.
    
    This resulted in a crash with ASan enabled on 32-bit ARM.

commit aa4dce1bd480c8f7c4c8ca6830bf20fa65af9d38
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 4 01:29:20 2016 +0100

    Fix access beyond last variable argument
    
    We were reading one argument beyond the last one, though not making use
    of the value.

commit c7a0e7ff1204ca5ebad3f0d866cfd5b14d7074fb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 3 23:54:52 2016 +0100

    Fix the console implementation

commit 1e09cdcf7b17e8722403bb14879846d18748ba64
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 3 23:54:28 2016 +0100

    Improve the socket connection test's reliability
    
    It's better to use the PID instead of Math.random(), and also a good
    idea to unlink the socket after connecting to it, so we don't fill up
    “/tmp”.

commit 39c465ff0f487e4572d8be42a87bd755aebe556f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 3 23:51:39 2016 +0100

    Fix ObjectManager life-time issue caught by ASan
    
    We cannot touch the wrapper without holding a strong reference. So
    change our strategy to rely on Duktape's deterministic GC behavior
    instead, i.e. the finalizer will get called when the heap is destroyed.

commit 922e47cd21685df0c2fd38d11048a67a5762b19d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 3 18:54:57 2016 +0100

    Implement hooking of single-instruction ARM functions
    
    We already support hooking tiny Thumb functions by using the Deflector
    API, allowing us to trampoline through a nearby code cave. This improves
    the ARM counterpart to also support such a fallback.

commit d19ba674d707b1d6e807f87c6015b90c33e29af3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 3 18:48:27 2016 +0100

    Emit ARM when a dedicated deflector has ARM caller
    
    The B <imm> instruction does not have a BX counterpart, which means the
    trampoline must be ARM.

commit 37071469f08f5978ae08a10230e9f3c004c51f85
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 3 18:47:04 2016 +0100

    Add gum_arm_writer_put_b_imm()

commit 4ac1a7f34ae3496ad58d4cb11946ae557ed271ce
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 3 18:43:43 2016 +0100

    Fix can_relocate() API inconsistency and fix leaks
    
    The failure path resulted in the relocator object leaking.

commit adbdff2a99511e990f475fcaddd69944c50565d7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 2 23:53:26 2016 +0100

    Use exact module versions for the GumJS runtime

commit b5c33a1d0d3e66d522b443ac0dcfaa437d6918d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 2 23:37:39 2016 +0100

    Use frida-compile to assemble the GumJS runtime
    
    This also means that our ObjC and Java runtimes have moved out to
    separate modules, and we can use the “source-map” module from npm
    instead of bundling our own copy.

commit a4f2dbaa6092a0663fe7fbc322be1eb88b55b5ac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 2 18:48:26 2016 +0100

    Remove unused variable

commit 5e05ca2eb662f39199a6d5276eaeebecd38b9187
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 2 17:56:58 2016 +0100

    Keep holding the JS lock while attaching the GSource
    
    This is consistent with our V8 runtime, and makes the API easier to use,
    for example in case the timer fires in the JS thread before we return.
    
    Kudos to @mrmacete for tracking this down.

commit cee1b4129ead88dfaac2e106b118ee2043b6aeb1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 2 13:47:06 2016 +0100

    Tweak minor inconsistency

commit 73ad7787653db5a6bec185c4f01d673bc734046a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 2 13:41:45 2016 +0100

    Fix setImmediate() callback processing behavior
    
    Immediates scheduled from an immediate callback should be deferred until
    the next turn of the event-loop.

commit ed3ed9a15d8331cca59a6ed2ed9793e2ac395b6f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 2 13:39:54 2016 +0100

    Plug leak in setTimeout()

commit 926d289a11eb7b3714f724940e79c528dd723cda
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 2 00:17:14 2016 +0100

    Fix the reported module sizes on Linux
    
    Modules typically own a few contiguous ranges, and we should include
    them in the computed size.

commit ad2c0faef89108cdbdb7042ba9f67de6c8d423fb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 1 23:46:13 2016 +0100

    Add failing test for module bounds on Linux

commit 8dc15c7f6b0c09f9d640a5caccfd1a190f9874e6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 1 23:45:48 2016 +0100

    Fix minor style inconsistency

commit 3902f5c3cd7872bb20d35eb5d0255a66522a7b55
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 1 23:36:51 2016 +0100

    Fix constraint warning on Linux/arm64

commit daac980f4a1965c44352d71e2510c7c2e87a2f12
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 26 21:51:14 2016 +0200

    Add support for proxying non-NSObject instances

commit ca26162c6cf0dfec1ab0910fdb812c63a16b6b4c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 26 21:50:28 2016 +0200

    Fix infinite recursion when proxying some proxies

commit d6940dc15732474c5b886fcee62e47beff3e5274
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 22 20:25:16 2016 +0200

    Fix crash caused by invalid use of v8::Eternal
    
    Context-dependent values obviously cannot be stored in v8::Eternal.

commit 5c234b790177ed3a6c542f9bf5b42605ead258e9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 22 03:21:58 2016 +0200

    Fix warnings reported by MSVC

commit 358f2b776e12eb407dc8fa58804e753eb3ba029a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 22 01:46:27 2016 +0200

    Fix parsing of opaque struct types
    
    Kudos to @mrmacete for reporting.

commit d59ab4c853e177b7f16a2947d5138183383c44fe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 21 21:11:58 2016 +0200

    Add .call() and .apply() to NativeFunction (#177)

commit a654dfd627da1beda167a0a9cf328c9cf1724495
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 21 20:31:43 2016 +0200

    Fix minor inconsistency

commit d6487df93dd6746ed0d48639a9b5d27d2af99f44
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 21 06:21:59 2016 +0200

    Fix NativeCallback argv initialization issue
    
    Should initialize the Local<Value> object before assigning to it.

commit e6f903b54be940c110256186235221cff5d90fa0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 21 03:39:31 2016 +0200

    Remove unused variable

commit 321d051bf693b4c4bf379f436390a9c6a7cbbf22
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 21 03:25:44 2016 +0200

    Fix system error field name on Windows

commit 09ce418f03fe1b8e56b034c994ff437e3f5abf42
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 21 03:25:15 2016 +0200

    Fix shadowing warning

commit 6f4287a84ba1660a6299410571fe5e435e87a69d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 21 03:05:15 2016 +0200

    Fix build regression on MSVC

commit 5dd17ba82506aaf1adcb3d7046e0d60b4afb4910
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 21 02:52:48 2016 +0200

    Add SystemFunction API (#176)
    
    One shortcoming of NativeFunction is that it is not possible to get
    `errno` / `GetLastError()` reliably, as Frida may have clobbered it.
    
    This new API is just like NativeFunction except that the return value
    is an object containing `value` and `errno` (or `lastError` on Windows).
    
    For example calling `open()` with a path that does not exist, the return
    value on Darwin would be:
    
        { value: -1, errno: 2 /* ENOENT */ }

commit 56fb01b0ff6e17cff376e782143e2734aa27c470
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 21 01:58:52 2016 +0200

    Remove redundant namespace prefixes

commit 891fa913a2576e03999740cb3a48972803f8d3b1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 23:38:51 2016 +0200

    Handle `system_error` for replacement functions
    
    This means that the `InvocationContext` may be used to read and write
    the current errno/LastError regardless of whether it's from a listener
    or from a replacement function.

commit 2b75421e35f37470016aadf8963b13760a869ebd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 20:55:28 2016 +0200

    Add missing include

commit fd92cb7d2f4a2bb84f6591c61411bc2cd52e2e8b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 20:15:11 2016 +0200

    Fix casting macros

commit b96e67df447f5c9e21a36acaa0e429c324605b72
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 20:15:04 2016 +0200

    Add missing include

commit 173a5579d0d1c846442f05097d7055d31b2f691d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 20:04:10 2016 +0200

    Improve consistency

commit d038c09cf2aac75c2a2b8bd202bd5c6c8ade369b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 05:25:52 2016 +0200

    Fix inconsistent error message capitalization

commit dbefb0614b9f9ef35fa04744619c5efdef842368
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 05:16:32 2016 +0200

    Remove redundant includes

commit a32dfb2be08ddc4f3ffbc5c098ea5637ffb96726
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 05:12:59 2016 +0200

    Remove redundant typedefs

commit 6585caf0f1b7b1595309431e5c142f33824b405e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 05:05:48 2016 +0200

    Fix argument ordering inconsistency

commit 102b1e7937d08a799dcb3ec2a7699b68c0066779
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 04:54:38 2016 +0200

    Move the Instruction module to the new API

commit 8e023118732ae275b57a032563fe3b8843b2a51d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 04:54:30 2016 +0200

    Fix a few minor inconsistencies

commit 8fb40750089d307277c6aed53706bf38e4b4cfd4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 04:27:16 2016 +0200

    Move the Symbol module to the new API

commit e21e5e3239e624e6ad0b0cb188cd3a7e0bea2c75
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 03:32:53 2016 +0200

    Use object manager in our Duktape ApiResolver also

commit 3dde3f0cf04ad4a546e95082fa9a2de678ded27e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 03:20:32 2016 +0200

    Move the ApiResolver module to the new API

commit 471a6e5725b10942b768bed30445c54d2fd8147d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 03:20:16 2016 +0200

    Fix some minor inconsistencies

commit ac704c223c5850b37ec0d8e391f43bb71929e5d9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 01:50:41 2016 +0200

    Fix the declared argument count for _follow()

commit 2d1034eab75f445a063d8ab5c5ef5120891047a5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 01:48:33 2016 +0200

    Move the Stalker module to the new API

commit f17b2ca7a9ed51e0856b188d88669a257c9ed565
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 01:48:15 2016 +0200

    Fix the Stalker tests

commit a003f4a14290105782504e0a87fa01969178c8fd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 01:47:44 2016 +0200

    Add a macro for defining module-level property setters

commit 27d801fc345426280402a3aed51123ccb477ddc9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 01:46:47 2016 +0200

    Fix the “errno” setter so it matches our Duktape runtime

commit f062cdad17015af7c11f3fdebc03a3cba2397e56
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 01:45:31 2016 +0200

    Simplify CpuContext setter logic

commit 62b05183d4557d7f92054f5567d3c9d7c4154dbf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 19 21:56:03 2016 +0200

    Move the File module to the new API

commit 10c5e26f7b0a042a59316972767b814c94fe1461
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 19 21:55:42 2016 +0200

    Improve the V8 value API

commit 043f3ce767d50ebffa320d6dbceb91fd6932c08e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 19 21:55:09 2016 +0200

    Clean up the Duktape File module

commit 8d2d6f201eac803d290f659d242a6a28303bc4e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 19 21:54:05 2016 +0200

    Improve the Duktape value API

commit 2cda23ea2ea9e89accb07408f98927d7e1299f7f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 19 02:57:24 2016 +0200

    Move the Thread module to the new API

commit 91d3b2c017d8dffa6a2fda2666710c8a72d2d73d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 19 02:57:03 2016 +0200

    Fix typo

commit ce9cde83d0a81be29ba50bfcf32fb4a8978b86b2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 19 02:32:16 2016 +0200

    Move the Module module to the new API

commit 45400ce4fb8984f925bfd6e7db7ae3f01608dc82
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 19 02:28:58 2016 +0200

    Fix handling of throwing onMatch callbacks
    
    We should not call any JS functions when we have an exception pending.

commit dfcf671dcc8eb782c3750fb62410472f2986440e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 19 00:53:13 2016 +0200

    Fix some minor inconsistencies
    
    - Callbacks with “user_data” should be cast to the custom type so they
      are more readable.
    - Some of our internals functions were inconsistently prefixed.

commit f43a1a1983c63ac608db3a3f3cb8784ee575c53e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 23:42:55 2016 +0200

    Fix minor inconsistency in error message

commit 8da29afe3f740e5b9f345cc3327258d3e69db3a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 23:42:38 2016 +0200

    Move the Process module to the new API

commit e7b2484d59f4377d8c69f4673467412007ee6f15
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 21:20:45 2016 +0200

    Move the Kernel module to the new API

commit 3a2a5f8b62b111b48818b3882f46534ec68f6f0f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 21:19:36 2016 +0200

    Consistently use undefined as the receiver
    
    Also fix a few other inconsistencies along the way.

commit 53e1bfb087f1b2726e91bdb5825e50b0ff0fb3ca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 21:17:57 2016 +0200

    Remove redundant assignment

commit 1268ca5e0b5950840951ed68cfc3495278368f60
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 20:33:38 2016 +0200

    Move the Interceptor module to the new API

commit 8e77b7c4c3cfc4bfa6d9854ec6529310ae1a5503
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 20:33:12 2016 +0200

    Remove redundant typedef

commit e00773776150e3efaabc5eaf00fdb3b0caaaa65a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 20:32:37 2016 +0200

    Improve the glue APIs

commit ca07215114d01f2dd12398e98126cd3fe36cc166
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 12:30:38 2016 +0200

    Move the rest of the Memory module to the new API

commit 00adab501ba2442578bb2dce8455b07379c96e26
Author: Ole AndrÃ© Vadla RavnÃ¥s <oleavr@gmail.com>
Date:   Tue Oct 18 12:29:35 2016 +0200

    Fix warnings reported by MSVC

commit 666351cced4170f3660f4e307c350f59b3187f95
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 12:29:07 2016 +0200

    Tweak test fixture buffers to handle larger errors

commit 15ac8fd86414457bad91d756ab20af14c1a98073
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 03:10:25 2016 +0200

    Move most of the Memory module to the new API

commit ace0f284b0df8bdb10db50e7440f979779ca8998
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 03:10:16 2016 +0200

    Fix some stylistic inconsistencies

commit c14e1d2f3933f0fd17bc4bc8e13782b8462d2d69
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 01:11:28 2016 +0200

    Move the Core module to the new API

commit f4672bc8826eddd2a0d4fa91a56275d4059ef8a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 01:11:10 2016 +0200

    Fix minor inconsistency

commit b448474223e8252db6811d91e1ba11bf239a8cca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 01:10:14 2016 +0200

    Tweak style for consistency

commit 9fb52daa6925c912c5869ba65202065d56febdc2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 01:09:52 2016 +0200

    Improve the convenience API

commit a836f72cdf6b7ee5d7b3fc828b609674b3729618
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 17:41:56 2016 +0200

    Improve boilerplate macros to reduce duplication

commit 9e5d5f6d94a923bd98b9c83058648e82e66b577e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 14:57:23 2016 +0200

    Move the Stream module to the new API

commit 2d9e3af88df141425d8761225d929e852d6702cb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 14:56:59 2016 +0200

    Use helper API to create module

commit 5f860c516c9b31efcccbf3a41b9227d6e8806a53
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 14:56:43 2016 +0200

    Add helper API for creating modules

commit b2ce33f6bd20c787b715eebde8fb05cc0656ca5f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 14:09:02 2016 +0200

    Move the rest of the Socket module to the new API

commit 96f4592b603801965a195ff24c7b710687bb2512
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 14:08:00 2016 +0200

    Add argument parsing support for v8::External

commit d4de5dcf5d5eecffb78faa16df40b20c91c9cf4a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 14:07:20 2016 +0200

    Add macros for class constructors and methods

commit 81ae4edbd0513700eaa70a3f14567321cb300d1e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 14:06:42 2016 +0200

    Add helper API for defining modules and classes

commit d96164d185330579a09e08ad2ba11383f8bf7df3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 14:06:08 2016 +0200

    Use a helper for creating ASCII strings

commit 421a04e4a158ff6d2d8827ea4a2b07efe8af0367
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 11:27:41 2016 +0200

    Add support for UNIX sockets in the DUK runtime

commit 4e00160b7de9fcf9a63501990236bd194126d9ce
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 11:26:05 2016 +0200

    Tweak style a bit

commit 4ba9cc20121d7e8fcc8a793772802453a3555142
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 03:32:11 2016 +0200

    Add support for UNIX sockets in the V8 runtime

commit 9038aec87a4bea9fc1b907d4578560ec2c4d823a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 02:14:57 2016 +0200

    Add an argument parsing API to the V8 runtime
    
    This is modelled after our internal Duktape helper APIs.

commit 5c4d941fe18af5b8c4b0fc309e521651cdf6db60
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Oct 16 21:05:34 2016 +0200

    Guard against bad InvocationReturnValue usage

commit b5c864458a49091cb3181ac18c02d77a2210babc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 15 06:41:00 2016 +0200

    Fix crash during flush() in case of GC

commit 46681b5b130e967780ea158564f55b4ed47f6b11
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 15 04:41:46 2016 +0200

    Fix crash on close() during I/O in the DUK runtime
    
    This mirrors the recent changes to the V8 runtime.

commit 347a14898778c18eeedf8b83b1bb44bd623e2112
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 15 04:42:43 2016 +0200

    Improve naming and style a bit

commit 9c47eed185ee49d4d763737a88bc0f48c23058e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 14 17:15:28 2016 +0200

    Wait for operations to complete before close()
    
    Some operations may not use the cancellable, or run in another thread,
    which means we may beat them to the main context.

commit a288d4c3b756c646ff0df3f8f18b9d43c07028a0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 14 04:46:38 2016 +0200

    Fix crash on close() during I/O in the V8 runtime
    
    Instead of introducing API to cancel individual operations, and
    burdening developers with logic to cancel all before calling close(), we
    now take care of these nitty gritty details.
    
    By introducing a cancellable per object, we simply cancel it before scheduling
    the close operation. The scheduling happens in an idle handler, which means
    we can count on the cancellation being out of the way by the time we actually
    close the stream.
    
    This also gets rid of some duplicated logic with some new helper APIs
    that should come handy in the other modules too.

commit 196a0ce9110000f8c51f3fb550b281298be0441e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 12 00:37:39 2016 +0200

    Tweak coding style

commit a61c72add4bc8fb103d53db52bc95bc83ebbf52c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 12 00:31:32 2016 +0200

    Add Script.nextTick()
    
    This is needed for the same use-cases as process.nextTick() in Node.js.

commit 6d08ec73555a70b233536f0cafcee3910761410b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 11 04:10:52 2016 +0200

    Fix warnings reported by MSVC
    
    We should enable the same warning on UNIX.

commit 3627f91c9c285bca5b18e4ce91918583c5e466d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 11 03:59:49 2016 +0200

    Re-enable disabled Script tests

commit adcfed417c82de9bc270126635ed375e020a25e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 11 03:57:47 2016 +0200

    Pick a random port to avoid random test failures

commit 3f8195679c256394e0d404d6a56218a172e48cc2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 11 03:54:47 2016 +0200

    Add Socket.listen() and Socket.connect() (#172)
    
    By leveraging `GSocketClient` and `GSocketListener`, we get to re-use our
    existing bindings for `GInputStream` and `GOutputStream`, and only need to add
    bindings for `GIOStream` and `GSocketConnection`.
    
    One could argue that this could be implemented in pure JavaScript by using
    `NativeFunction`, but considering how many platform considerations need to be
    taken into account, and that we already have this functionality in GIO (which
    Frida depends on for its own needs), we might as well expose these APIs.
    
    This will allow a Frida-specific `net` module to easily be built on top of these
    building blocks. Consequently the idea is making it easy to use off-the-shelf
    network modules from npm, e.g. for serving HTTP requests directly from an agent.

commit 9c84be5821b57bbaf4ebddeb18722873cf608813
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 10 01:51:37 2016 +0200

    Use Object.defineProperties() when possible

commit 174541b5b9bf32051744c3b83aa7584814ca9ac1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 10 01:06:06 2016 +0200

    Improve set{Timeout,Interval}() to support args
    
    Also avoid scheduling multiple timers for immediates.

commit a9e1ab33359940bedcb7edf0720f921407f73870
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Oct 9 23:40:46 2016 +0200

    Implement setImmediate() and clearImmediate()

commit 1e555085e51e82cd31adaacfd602b67255ddaa05
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Oct 9 02:07:53 2016 +0200

    Clear transaction's dirty state on no-op end()

commit 62b1f5d867e7300f5d3f4a7ffa7f6ce2c56a2060
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 8 05:09:52 2016 +0200

    Speed up transaction_end() on an empty transaction
    
    For Interceptor dual-callback overhead this means ~6% with V8 and ~8%
    with Duktape.

commit c9a63af337c547ba8c531bafabb6c701976bcd1d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 8 04:18:35 2016 +0200

    Speed up gum_process_get_current_thread_id() on Darwin
    
    For Interceptor dual-callback overhead this means ~17% with V8 and ~33%
    with Duktape.

commit cf48f682c0675dd1c9a71dadd125838a0f7d1498
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 8 03:59:55 2016 +0200

    Reduce Interceptor dual-callback overhead
    
    We can cache the `is_ignored` result in `on_enter` and avoid doing it
    again in `on_leave`. Results in a base overhead improvement of ~15% with V8,
    and ~25% with Duktape.

commit a43006982519d96c44c1cda438b5d8fa1010ec6b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 8 03:25:48 2016 +0200

    Reduce Interceptor overhead by ~20-30% on Darwin
    
    For the case where only one of onEnter/onLeave is specified we can avoid
    one of the two “is this thread ignored?” lookups.

commit 8f44b2f47413ff8ba72999c7014ff18df6aa9bf8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 8 00:25:41 2016 +0200

    Optimize Interceptor GC churn in the V8 runtime also
    
    This means we recycle the invocation context, args, and retval objects
    when possible. (Exactly like in the Duktape runtime.)

commit 60fb92fd509a4d48b6a9ec00993ef4c67aba14b5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 8 00:11:41 2016 +0200

    Fix cast

commit a720d1b26f6914c99f09ef115aa9c85353106033
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 6 18:15:38 2016 +0200

    Handle recv().wait() from our JS thread
    
    We would previously deadlock in such scenarios.

commit bc4b7ebf3cad61c2158462e5dda1459e34c59482
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 4 21:07:13 2016 +0200

    Work around macOS Sierra export enumeration crash
    
    One or more of the resolvers in CoreGraphics seem to be broken. Need to
    investigate whether this went unnoticed due to interposing, or we are
    missing something else.

commit 91d0aeb539b7e4ac6b5cf14749075daea1053537
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 3 19:24:09 2016 +0200

    Fix warnings in the Valgrind header

commit 6ee210029e135cf5babcb5f696e480e0d493b441
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 3 19:24:00 2016 +0200

    Fix the filters in the gumpp-static project file

commit b690dfc4aa304a7ed08828e9d36e9932b0de56e3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 3 19:23:31 2016 +0200

    Fix warning in our Duktape accessor patch

commit f49c923d6f68691f1a5a9a10b7e78a68797bf3b0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 3 18:39:56 2016 +0200

    Fix warning regressions reported by MSVC

commit 7d40d54fa33887e275c8a8fdca2d8a73be4be53e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 30 19:39:29 2016 +0200

    Provide a default value for post()'s data argument

commit 628d7a95445340a88c393c804acacf86a6aff6be
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 30 16:26:43 2016 +0200

    Add support for posting out-of-band data to scripts
    
    This is consistent with how we support it in the other direction, i.e. as
    the second argument to `send()`.

commit cf7c4d9a088cef0614cc8e2a727185929600e288
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 26 13:54:47 2016 +0200

    Perform exceptor rollback in a transaction

commit 94842c2855d49c5eafa09d6264821aff69ef5cb2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 23 20:46:05 2016 +0200

    Add support for running on Valgrind

commit 0c75b915cf39a4a385c50c589d9314a18371eb63
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 3 01:29:05 2016 +0200

    Fix `hexdump()` default `length` regression

commit e200a81668dd7b5656d3ef199d0521f817e0d0e6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 3 01:25:18 2016 +0200

    Improve `hexdump()` to support any NativePointer-conforming object
    
    This means you can pass an object with a `handle` property, e.g. for
    dumping an ObjC.Object instance.

commit bd61621f4e0ae357e3c8e7f284ccaca67bfeed93
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 1 03:26:11 2016 +0200

    Fix handling of the `L` type
    
    Unlike `l` it is actually dependent on the size of long.

commit 0bec212456545fd0e4c7d747912fc35eafb57095
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 1 03:19:51 2016 +0200

    Remove pointless loop

commit 421a404e13f865d09998d5c1f9c73880c63db784
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 26 20:43:36 2016 +0200

    Improve the accessor API and improve its test coverage
    
    It's better to just return the value and exclude `undefined` as a valid
    value, now that the Duktape accessor patch no longer expects us to provide
    a getter function.

commit caa20056c5e9cf253f949394442a0b39b0b2f088
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 26 20:41:02 2016 +0200

    Fix the globals accessor logic so it's only applied to reads
    
    We obviously don't want to intercept writes.

commit 6fb7aa05fcf1fdde9d61159f6c736b8239cd2766
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 24 18:07:40 2016 +0200

    Don't protect global handlers against recursion
    
    This is better left up to the application, as some applications may need
    reentrant behavior.

commit 21d9522ad7900a608e76dc4ed99242026dad4aab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 23 20:03:08 2016 +0200

    Add support for auto-converting to an array of objects
    
    This is handy for calling `+[NSArray arrayWithObjects:count:]`.

commit e8102aa561391dc57cbe00fa0aaf0d11b830d453
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 23 20:00:30 2016 +0200

    Convert Number to NSNumber when an object is expected

commit e613e73e98dbe623f3258117431351ca89b51c26
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 23 19:58:43 2016 +0200

    Fix scoping of `singularTypeById`

commit 5dfd767b7b82f7fc641ba5ea01e6a7d4f3e05d93
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 22 02:10:41 2016 +0200

    Fix crash when the global access handler throws

commit 4581b69f3cafcb3fdb9ba6f15d8142322239e65a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 22 01:15:49 2016 +0200

    Add API for dynamically generating global variables
    
    This is handy for implementing REPLs.

commit 6c973af84825157bcb5a59793ce8be54cdee1b28
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 22 01:10:44 2016 +0200

    Add Duktape API to be able to provide accessors for globals
    
    Could not get this working by using a Proxy object and messing with the
    global object's prototype.

commit c6d88a1d27fc1eb4a0ebcf4e34ef87f9fddd6383
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 16 00:56:08 2016 +0200

    Fix relocation of LDRPC with FP/SIMD destination register

commit 990dce1a3696930e0804b936c1f2ca5f1b92ff7f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 16 00:36:58 2016 +0200

    Add support for emitting loads and stores of FP/SIMD values

commit 21fc1ff9778f63efcaf2417302d35e9805767884
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 15 17:59:43 2016 +0200

    Avoid clobbering `ebx` as it might be used for PIC

commit 422c197f811680ef002e6869d1679b197b9c860f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 14 01:34:20 2016 +0200

    Fix crash on teardown
    
    Turns out that V8::Dispose() may ask us to perform a task on our
    background thread.

commit c7b33d40bf887ef77641357b862d6567a53e268b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 13 23:55:55 2016 +0200

    Fix variable shadowing warnings reported by MSVC

commit da164d1b00906cf586bef076c1e88006465ffbeb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 13 16:34:38 2016 +0200

    Fix thread enumeration on Linux/x86-32
    
    We forgot to tell the compiler that we're clobbering `ebx`, meaning it
    was allowed to allocate that register to hold one of the values that we
    needed to pass. Oops.

commit eedb7e809ebcf9f6fa3746386dbc00908a693e8f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 12 03:06:35 2016 +0200

    Upgrade Proxy traps to the final spec

commit b1dfaef6d3e2f214161f54ac7e803dbac85cb4b6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 12 01:23:32 2016 +0200

    Fix test expectation now that V8 has better stacktraces

commit 7aa4bb8c31489cb37be425ddea09d2d50a3a260a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 12 01:15:33 2016 +0200

    Fix Symbol API usage in the Thread module
    
    The API now requires a Context to be entered.

commit 040d2fa697d893c65515f6f75c35cbc55d4ac0fd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 12 00:48:02 2016 +0200

    Update the V8 flags

commit 4c567ab4337d5fd0adb992ad8f6360f6df4646bb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 11 23:12:14 2016 +0200

    Update to the V8 5.x API

commit b5755c425e2b430a59b0a99897003a6e30b492dc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 10 21:52:44 2016 +0200

    Tweak the test paths to make it easy to run all Script tests
    
    The newer GTest only allows either the exact path to a test, or to its
    parent. So we should avoid having a level of nesting per test for V8 vs
    DUK.

commit 6a61662951c953252e42e74e8c5fda063e623ee8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 8 04:20:34 2016 +0200

    Fix test name collisions
    
    Newer versions of GLib don't like them.

commit 0ff55c12b3684890f31d16478f8a2348f95818e4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 5 23:21:15 2016 +0200

    Fix slice allocator enable logic
    
    It got inverted by the previous commit, plus we also want to disable it
    when ASan is enabled.

commit 16895937c75c6fb88ceb25f8578c36a555f15838
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 5 23:12:21 2016 +0200

    Add support for running tests with AddressSanitizer

commit 97b6e506ff21f12376a5585bd3e55bc3912bb95a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 5 05:30:02 2016 +0200

    Fix warning regression

commit 9c62ddff1e23c68383a7f5ea3ae2c0963f8d8324
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 5 05:11:11 2016 +0200

    Fix use-after-free of the WeakRef callback

commit 6bc9d3a25d6c50fc2fa65343c46b990e83550c5c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 4 03:10:32 2016 +0200

    Fix use-after-free bugs in ModuleApiResolver
    
    Duplicates would result in the old value getting destroyed, and as the
    key was borrowing memory from the value (to avoid an extra copy) this
    would then result in a UAF whenever a duplicate was encountered.

commit 5279d18f693354f5cb2fa603d7e3038817be4d01
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 4 02:46:19 2016 +0200

    Fix ODR violation detected by AddressSanitizer

commit 0b98ff111316b63aefbb16c7610bb94af99991a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 3 21:27:48 2016 +0200

    Clear exception handler as part of unload
    
    Instead of waiting until the dispose phase, which happens right after
    unload.
    
    This makes life a bit easier for exception handler implementors, and
    avoids the risk of masking bugs in our unload logic.

commit b46b8b3c93044e30beb4eb3703cff619c5bfa2ea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 3 02:31:52 2016 +0200

    Port JS engines to the new Interceptor `flush()` API
    
    This means we defer the script unload until we are positive that we won't
    be receiving any more callbacks from Interceptor, and our listeners have
    been released.

commit 370effa47158a0dc5965fa160bd85684a42d97a3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 3 02:26:37 2016 +0200

    Make `gum_interceptor_flush()` non-blocking
    
    Now returns a boolean indicating whether we succeeded in flushing any
    pending work. The application should keep calling it until it returns
    TRUE.
    
    The previous implementation was, aside from being quite dangerous wrt.
    deadlocks, quite broken as it wouldn't wait for anything if another
    thread had begun a transaction but not yet ended it.

commit f0828fef7738f314d5dc255e0e50651a3f4375b4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 3 02:20:59 2016 +0200

    Ensure we only call `flush_notify` once
    
    There is a chance that another thread, e.g. an exceptor callback, grabs
    the lock right after the first callback has been queued but not yet
    processed by the JS main context.

commit 4a63893c3677d689dabbc7015557cec4019a229d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 2 22:52:55 2016 +0200

    Avoid pinning twice if timeout was already cleared

commit 5421c70dcdf4e322aa4f7ecd3ef82633c6d14974
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 2 21:41:38 2016 +0200

    Keep timers until everything else has been flushed
    
    Otherwise we risk deadlocks if a timer is scheduled to `Script.unpin()`.

commit d42e3fdf49c98a4891697e7ec3e5c07c66dfd0f1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 2 02:57:30 2016 +0200

    Add a `dealloc` event to the ObjC proxy API
    
    This makes it possible to know when a proxy object is dead, e.g. in order
    to unpin the script.

commit db393b4c7dfdab226f9b79f97473d5903fb7d82f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 1 23:22:14 2016 +0200

    Get rid of gum_script_scheduler_flush_by_tag()
    
    We no longer need it now that we have fully asynchronous unload logic
    in both runtimes.

commit 287fac6c72ef3182a50e70d47831322557776f01
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 1 23:11:37 2016 +0200

    Rework the V8 runtime's lifetime logic
    
    - Make the unload logic asynchronous and introduce the notion of a usage
      count, which asynchronous internal APIs now make use of. This provides
      a clean way to extend the script's life-time in case an `unload()`
      request comes in the last moment.
    - Add `Script.pin()` and `Script.unpin()` so advanced low-level scripts
      can influence the usage count. The primary use-case for this is our
      own `ObjC.schedule()`, but this is quite essential for any runtime
      integration that requires the script to stay alive until a scheduled
      callback has been executed.

commit f63a87ab73c9fe8bfcc05855ff114d75655478c6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 1 22:24:57 2016 +0200

    Remove unnecessary local variable

commit 002e77010bef4c302e5500f3d3a1c9726f384195
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 1 22:24:43 2016 +0200

    Make the scope pinning logic a bit clearer

commit 6e309611513f4e4e29ff556a3f3c55bca0076907
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 1 22:24:10 2016 +0200

    Fix memory scanning unpin logic
    
    We were unpinning too early.

commit df03e23c7c4cc158ddbff229cbe2577bc3854289
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 1 19:47:02 2016 +0200

    Rework the Duktape runtime's lifetime and locking
    
    - Make the unload logic asynchronous and introduce the notion of a usage
      count, which asynchronous internal APIs now make use of. This provides
      a clean way to extend the script's life-time in case an `unload()`
      request comes in the last moment.
    - Add `Script.pin()` and `Script.unpin()` so advanced low-level scripts
      can influence the usage count. The primary use-case for this is our
      own `ObjC.schedule()`, but this is quite essential for any runtime
      integration that requires the script to stay alive until a scheduled
      callback has been executed.
    - Handle reentrancy by using a recursive mutex.

commit 9b953096e41dfdd292a1bd6194424d824e02a41f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 1 19:36:59 2016 +0200

    Improve ObjC.schedule() to keep the script alive
    
    This uses the about-to-be-implemented pinning API.

commit 2a3ce822e7a12f946e0207a5353aa94068386d7a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 1 19:35:08 2016 +0200

    Add test for ObjC.schedule() lifetime issue

commit 707b2ca5087f47c47680621cde1a2d4f529dc432
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 1 19:22:23 2016 +0200

    Fix leak of GSource for the scheduled callback object

commit 15dd8bb82e8d554b4b906fc6662cd402a3067386
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 30 02:40:37 2016 +0200

    Remove obsolete kludge

commit c4df184b27a4514374cd30035d9eafe2020377a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 30 02:40:06 2016 +0200

    Simplify stashing in the Duktape preemption patch

commit 80db5816e69fc6d767bbe32976ada737e727fd48
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 29 17:56:47 2016 +0200

    Improve the Duktape preemption patch to fix lifetime-issue
    
    We need to avoid `value1` and `value2` getting GCed.

commit 30ecc30fd14eea33c62eafa29aad37c7a6e9ca77
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 28 17:03:57 2016 +0200

    Add missing includes to the umbrella header

commit 8ee8a8d03d2d570fb2e3e25d1d5e5ad905711381
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 28 03:45:25 2016 +0200

    Fix regression in LDR literal slots alignment logic
    
    Slots should obviously be padded if /any/ of the literal references is
    a T1 LDR instruction, and not just the first one.
    
    Caught by the Interceptor/Darwin tests on 32-bit ARM.

commit 9eda4e4d816f359a3b196ca12f36383374252676
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 27 00:37:11 2016 +0200

    Fix build regression

commit 8f73aba66f743f07a369d36b2d7b26650660e15d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 23 02:51:00 2016 +0200

    Remove the dangerous Kernel.enumerateThreads() API
    
    It never really worked well, and beside being prone to cause kernel panic
    it also just sent an iPhone 5S on iOS 9.1 into bootloop land.

commit 87d16ae15e14b378384fa7e5a0e2cada42999975
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 23 02:43:52 2016 +0200

    Implement the Kernel API in the Duktape runtime also

commit 55bd7d1fe2830063a4e1538ee6c1f24739013495
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 23 02:43:24 2016 +0200

    Fix API usage in test
    
    The `length` argument should be unsigned.

commit ac966aba9a68b4418720db422a54dac0ef33d176
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 23 02:40:48 2016 +0200

    Clean up some cruft in the Duktape runtime
    
    - Get rid of the unused/misused GUMJS_RO and GUMJS_RW.
    - Move GumRangeDetails handling to the value module.

commit 4d79895df552f0ef0dbfa84aafebd3c44f220d53
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 23 02:37:29 2016 +0200

    Improve naming consistency

commit 316a10f4411f39c489aca7cbc83d53e152a4884b
Merge: 00d7513b 3c5088cf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 20 02:22:48 2016 +0200

    Merge branch 'feature/preemptible-duktape'

commit 00d7513b6f45b766aa55e92dfc2453d7367d8d76
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 20 02:22:38 2016 +0200

    Make sure we're holding the lock while releasing the callback

commit 3c5088cf1b90fcdb8283ac70952297c0e7b8f51c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 20 02:21:00 2016 +0200

    Make the Duktape runtime preemptible
    
    This means we can let go of our JavaScript lock while for example calling
    out to a potentially long-running `NativeFunction`, and avoids dead-lock
    situations where the called function needs a lock that another thread is
    holding while trying to get the JS lock (e.g. because of an intercepted
    function).
    
    Our V8 runtime already behaves this way, and with these changes plus our
    Duktape patch we finally have the same behavior on the Duktape runtime.

commit 79cd01d694eda61a156fe914c151b23a948622d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 20 01:15:18 2016 +0200

    Add API to be able to save and restore Duktape's native thread state
    
    This makes it possible to suspend execution and let another native thread
    execute JavaScript in the meantime.

commit 84f8fccd616f56cfd0c33a199ebf11658a991792
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 15 17:15:16 2016 +0200

    Revert accidental format-string change

commit 0a85e4b0a840bc4b0c46ba575752a48bd730a344
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 15 17:12:07 2016 +0200

    Unregister Objective-C classes on unload and GC
    
    This also has the pleasant side-effect of crashing earlier than when
    methods are invoked after NativeCallback objects are gone.

commit efff27b4f0dafa0921e163e6dbc088259e177e13
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 13 22:17:54 2016 +0200

    Fix Android regression introduced in 6e0093e
    
    We should assume that we're in an app process if readlink() fails.

commit 202b4bf1500429638938431f61f15e16c292d4b9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 13 21:07:56 2016 +0200

    Add support for mapping into iOS Simulator processes

commit 722e9cdfaa3ede3cea51c90f315c544b401fafbd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 13 21:07:03 2016 +0200

    Improve module resolving on iOS Simulator processes
    
    This allows modules to be resolved by their sysroot-relative path also.

commit 69d5b527c3f9447192a04efad8fbae5f9eec93da
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 13 21:01:03 2016 +0200

    Fix resolving of reexports during mapping on modern Apple OSes

commit 504c938e5b5e0dccf0171bf4a31ff0fd44f502db
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 13 20:57:53 2016 +0200

    Expose the Darwin-specific module resolver API
    
    It is very useful for out-of-process use-cases, like Frida's injector.

commit eee8f43e996e0a8bf08a3816b792b3a886b874ba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 13 20:44:44 2016 +0200

    Replace reexports checks with a slightly more portable approach
    
    We have the same issue on newer versions of macOS, plus we also have
    the iOS Simulator to worry about.

commit 668436716444f16fdfef26f3aa033aef7105908c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 12 22:53:50 2016 +0200

    Fix bug preventing registers from being written in the V8 runtime

commit 048a20a0d7164a73f868cf6d05dfd68da6e1fdd1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 11 17:36:38 2016 +0200

    Add support for including type hints
    
    Whereas 'object' still translates to @, specifying { type: 'NSError' }
    will include a hint, i.e. @"NSError".

commit ea47f830c5fa881e9f0f101532d3bb9192fe2519
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 11 17:34:44 2016 +0200

    Add support for properly declaring `void *`

commit ea8b35b24a8559f191a510c59879dec11cb3ebf5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 11 17:34:22 2016 +0200

    Make ObjC.Block's `types` field public
    
    This is very useful for reverse-engineering APIs.

commit 9495d93a1aabab47ae5cc840727765dc24bda090
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 11 17:32:52 2016 +0200

    Fix parsing of type hints
    
    This long-standing bug was left undiscovered because the type with the
    hint was usually last and there was no data following it to choke on.

commit f3d462e7add099e5012db2761081235a18536727
Author: s1341 <s1341@users.noreply.github.com>
Date:   Mon Jul 11 07:04:51 2016 -0400

    Fix stack offset when getting/setting stack arguments (#169)

commit cf85df458aab98fd37e799741e94e51a4d2fceee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 7 03:50:52 2016 +0200

    Fix warning regressions

commit f375bb3172f516fa0da8e604678c75f06cb4a77a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 7 03:49:51 2016 +0200

    Update the hexdump() implementation to match the test

commit 801e6b13a46b608e4344aa3b9ff3f0d09be3e583
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 7 03:49:04 2016 +0200

    Improve the hexdump() test to reflect the desired output
    
    The recent changes broke alignment and left the test expecting the old
    design.

commit eb4f43dfa2318140b4f5a7204ba0d32dd5c12916
Author: Itay R <itayro77@gmail.com>
Date:   Sun Jul 3 15:19:56 2016 +0300

    Remove "0x" prefix from hexdump offsets (#168)
    
    hexdump() is now reversible with "xxd -r"

commit 1c37141a2b1458862143c45ae14637e58ca37644
Author: s1341 <s1341@users.noreply.github.com>
Date:   Wed Jun 29 10:17:15 2016 -0400

    Enhance mips fuzzy backtracer with more branch-and-link instructions (#167)

commit 99c3070d3035b9da114273a09cb5c57c0f1e4d67
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 29 04:03:04 2016 +0200

    Fix ARM build regression

commit 9c803172a92f2cbb9c812208d2c1b6551f9ab82e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 29 04:00:47 2016 +0200

    Fix style inconsistency

commit fa5ea180a1f9ccae708ea68fd150e1af2e582a38
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 29 03:49:49 2016 +0200

    Fix source map regression caught by test

commit 5214f3140ae95a90adeb8eae4df16549e2db3c54
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 29 03:45:59 2016 +0200

    Add support for accessing Objective-C instance variables
    
    Accessible through the `$ivars` property, which keeps metadata lookups
    to a minimum by resolving instance variables lazily.

commit 7571819fa85e205d11f136368d90b3c757268efe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 29 03:44:16 2016 +0200

    Omit "prototype" prototypes from the ObjC.Object keys() query

commit f3b30263eb89494fa061519d6bd7f7fc7e5e3684
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 29 03:42:31 2016 +0200

    Make assign-once variable const as it should be

commit b15eee9091d8a1661ffc0f79eb2a6bcdce131656
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 29 03:41:20 2016 +0200

    Forward `prototype` and `constructor` properties

commit 220663508ebb22cdf9feff2d966826e528755a30
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 29 03:39:13 2016 +0200

    Fix confusing naming

commit ea5f4d6b49528c59ba92fd8ec19341dc58d41be5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 29 03:36:52 2016 +0200

    Avoid swallowing exception when a Proxy object misbehaves
    
    The `getTypeName()` call on the stack frame may end up reading from a
    Proxy object that misbehaves, resulting in an unhandled exception getting
    swallowed.

commit 6753c1e0c579c20b96f09d79b3891454bf6f94d7
Merge: cf9e1929 0c4ffe3c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 27 12:58:12 2016 +0200

    Improve MIPS support

commit 0c4ffe3cabb064401490f57dfdfabb19bb0c1260
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 13:57:14 2016 +0300

    Fix style issue

commit a02c2e9cef0e4efde95f96dc7ba4b6b4863ca8e5
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:22:25 2016 +0300

    Fix missing semicolon

commit 11208f9e762969f865430d9e8ad7362d76b6d554
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:11:11 2016 +0300

    Add mips b and beq instruction writers

commit daa2dd59ee5bfdcc58aec33a390bf56b6546dafe
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:09:33 2016 +0300

    Always call through t9

commit 6ff8ef6d9baff74d2dd8a651da9a5e4b72888cf1
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:08:31 2016 +0300

    Rename 'mov' to 'move'

commit da8a7d6612871efc9e486c03bb7cac32ce7a8496
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:07:26 2016 +0300

    Add check and mask for INT18

commit cf9e1929fad65809fb27a70294a55fde7f3461e4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 23 23:39:34 2016 +0200

    Fix arm64 regressions caused by mislabeled define

commit 871be223050f3a0cc74820127a2777cc79522b16
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 23 23:38:47 2016 +0200

    Fix warning regressions

commit afa316b7f0ea7b0968c837bd616dc6ce167d0b47
Merge: 7a3cfa04 24cfc3d9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jun 23 13:23:11 2016 +0200

    Merge pull request #163 from s1341/master
    
    Add mips support to frida-gum

commit 24cfc3d9b6ec0a092c9ad6a4da584efda95138bc
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 23 13:48:04 2016 +0300

    Add GUM_CPU_MIPS cpu type

commit 1a669e2eda9da7ac819223d390b5994ea2e27fd0
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 23 09:54:50 2016 +0300

    Fix stylistic issues

commit 8e48bf7c6d5d71d6f6ede359dcdc030f4dfcac50
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 18:16:25 2016 +0300

    Make gumjs v8 pkgconfig requirement dependent on whether you're using v8

commit 0bf56ef22719847e8bd4591865de5bd25dc22357
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 18:13:45 2016 +0300

    Get rid of debug 'dump' function

commit 96966b5ef7fb57202bc32cc6baec2d6064d8f451
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 17:40:55 2016 +0300

    Clean up commented out code

commit 8d30946bd3068088350abdbf18fe038b2a90e4de
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 17:33:11 2016 +0300

    Fix lines greater than 80 cols

commit 889de881dd23ae582455a8b0d4da99e64c7caa01
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 17:03:03 2016 +0300

    Use /etc/passwd instead of /etc/hosts as the latter is not actually required to exist (and doesn't on my mips test hardware)

commit 2b2ecbbe901ca52133f424a9ca6bb9920d48469e
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 17:02:26 2016 +0300

    Disable socket_endpoints_can_be_inspected for now on mips

commit 0a86bb676094c2d0d5933f24160741347501faba
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 17:01:50 2016 +0300

    Disable process_threads_can_be_enumerated for now on mips

commit 63392f5f3923fc3dac896b4d464e721ced41b9c4
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 16:24:14 2016 +0300

    Fix exceptor on mips to set t9 for PIC code

commit 62dcd4346fce65b42520938d608391f388f958d9
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 16:23:43 2016 +0300

    Add CpuContext accessors for mips

commit f305dd1e90638c5de3c5edb6e839d5b64c858cb8
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 16:23:17 2016 +0300

    Disable backtracer test on mips for the moment

commit 5e6cec9a9be368d659d42e2da51e1496bb876909
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 15:44:11 2016 +0300

    Disable backtracer tests on mips

commit 5740204f7e4f73aba537fca0890d7cd0e07d6a2b
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 15:43:47 2016 +0300

    Disable process_threads test on mips till we implement getcontext/setcontext

commit 1cbb6361d108260e7bea64c748922ab32d2bddfa
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 15:40:29 2016 +0300

    Wire up gum_mips_backtracer for fuzzy backtraces

commit 02a31b09b5d7b6fe609f8c48b84be274ef8ec67a
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 15:39:52 2016 +0300

    Fix sp retrieval on mips

commit 923f2e60dc6aaf40011696ef6501d020715ba2bf
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 15:38:16 2016 +0300

    Use t9 as jr register, so that PIC works correctly; Add t9 restoration to invoke_trampoline

commit 3ae2774c4d4ac02ee304ebceb345a8c6d47a2389
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 20 18:06:57 2016 +0300

    Match uClibc when determining system module

commit f2d7c13e7dd4999893ea60a4ae89cbe41e633f24
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 20 18:06:26 2016 +0300

    Bump the code slice size on mips

commit 427ddc33d91f52934997f39871104c0e0bb85066
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 20 18:06:07 2016 +0300

    Working interceptor on mips

commit b9d1499ec31811d4f8f324834b4f09e991a0f17c
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 20 18:04:25 2016 +0300

    Set capstone mips mode to 32bit

commit e7c88ae74d01ae9c8a3290b318c5cf674ce786b7
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 20 18:02:36 2016 +0300

    Don't use the map on uClibc

commit 65086c5299fc56691644ee465f9c663d73cd6fab
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 20 18:02:00 2016 +0300

    Turn on cache clearing for mips

commit 38f48d7cb540c0fccc386dda1ab485f4e6d66591
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 20 10:08:06 2016 +0300

    Add target/specialfunctions for mips

commit 387fe6e834d5bca163c8fa0b4e310dae7298b23b
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 20 09:48:11 2016 +0300

    Add defines for GLIBC and UCLIBC

commit 7a24a1a9bafc6abfc2b695284745754fb2370f9f
Author: s1341 <github@shmarya.net>
Date:   Sun Jun 19 19:07:39 2016 +0300

    Make sure that we have an l_name before trying to g_file_read_link

commit 14177767904bf17f02f9e076b76c67b8378555aa
Author: s1341 <github@shmarya.net>
Date:   Sun Jun 19 16:30:50 2016 +0300

    mips reader/writer/relocator/interceptor compiling

commit c957dafa1239d5e3a9400bc52585d7c293bb10a8
Author: s1341 <github@shmarya.net>
Date:   Sun Jun 19 16:28:26 2016 +0300

    Change order of mips registers in GumCpuContext to ease prolog/epilog code

commit 21f0e4ee76be7dea22b4709771767b21c3df3250
Author: s1341 <github@shmarya.net>
Date:   Sun Jun 19 14:31:32 2016 +0300

    Mips registers in CpuContext should be 32bit

commit 43528531d7315d8a9fb721361fa887508ad758fe
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 19:39:45 2016 +0300

    Fix GUM_INT28_MASK

commit ffb1895ea66e892426f66bf73e881eb5ba863bb7
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 19:39:19 2016 +0300

    Add GUM_IS_WITHIN_INT16 and GUM_INT16_MASK

commit df54ae5c3851245201d159dfd5c6e3f08814ff1f
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 13:49:05 2016 +0300

    Add stubs for stalker on mips

commit 4e367f95d109a2dbfc576882d4db9c80d83f99af
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 13:48:07 2016 +0300

    Add gumspinlock-mips.c

commit d52716bde20584d6630597742b423db17c71ec08
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 13:40:53 2016 +0300

    Implement backtracer for mips

commit e7bd7163e9aad1e1548e310ce07083ff91093042
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 13:40:08 2016 +0300

    Add arch-mips/backend-mips to makefile

commit 2ddd3a8b8182a67ffed6f24ad53ed1a88bcb7b7f
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 12:27:56 2016 +0300

    Add dummy getcontext/setcontext for mips

commit ed5655f83edb430852a3d1c13a1edb5c42bf4d28
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 12:06:43 2016 +0300

    Add regs parse/unparse for mips

commit bbf18a651bb3ef8386372656ed02c5c4b74ca598
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 12:05:53 2016 +0300

    Add register_name for mips

commit e2815300fec28be64eb66c9f9aa9d76ab74816ef
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 12:05:25 2016 +0300

    Add GUM_TEST_SHLIB_ARCH for mips/mipsel

commit 8869154f1206847ac4ccb12b6b0f54c1ed1b2e2a
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 12:04:36 2016 +0300

    Add CpuContext unpacking for mips

commit 5adea1a833f9452c792fe2e31ae0a10edf15fa17
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 12:03:08 2016 +0300

    Add GUM_SCRIPT_ARCH for mips

commit 4b95007eab5222662d0d60da10aebae3445f5c78
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 12:02:39 2016 +0300

    Add GUM_DEFAULT_CS_{ARCH,MODE} for mips

commit b862d764b036dfd7d73d9934b536d0a5ffb6841e
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 12:01:32 2016 +0300

    Get rid of unnecessary typedef

commit fa3f383a9d36ca49a2e00b1d5314fc37f61090ed
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 9 16:15:48 2016 +0300

    Fix error text

commit 9326b3866fc302025fc863b43c4583d1eb7bfc68
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 9 16:12:11 2016 +0300

    Add missing #error Unsupported architecture

commit 836529bcc531b1f01c452533bc7e4001bf6e1aac
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 9 16:11:33 2016 +0300

    Fix access to MIPS registers by parse/unparse

commit 4c7249a2721a666eeb825d817b838f4f4e50c234
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 9 16:10:27 2016 +0300

    MIPS registers should always be 64bit

commit 367ffe4e56289eb7dbe672c661e8beca7291f1b7
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 9 15:33:51 2016 +0300

    Add MIPS support to gum_invocation_context_get_return_address

commit 7b84ebc4b053337fdbf1bb15a6e22f19284c57aa
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 9 15:31:38 2016 +0300

    Add MIPS support to _gum_function_context_{begin,end}_invocation

commit 242f56cbdcd67bcf58bc23f098f36abd3d592f5d
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 9 15:27:42 2016 +0300

    Add MIPS support to exceptor

commit b0de633506a27e9dbf282835ee4752f32cb9e460
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 9 15:20:14 2016 +0300

    Add MIPS GumCpuContext registers

commit ebaf6a1ff6a2f8a6b3d9c45687a22b85ab97105b
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 9 15:17:16 2016 +0300

    Add HAVE_MIPS and ARCH_MIPS preprocessor defines

commit 7a3cfa046c3b70efe775747b8cc9156284d5e6d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 22 03:32:00 2016 +0200

    Handle Objective-C methods returning a struct in registers on x86-64

commit e201b3a6d8c570bce4d520742d0f8158277a8523
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 14 00:36:05 2016 +0200

    Make Interceptor's mutex recursive
    
    In the unlikely case that someone replaced one of the functions that we
    use, especially during our commit phase, we need to be prepared for
    reentrancy.

commit d418257a189782bbdfefa1ed31de5935bf6c4143
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 14 00:33:52 2016 +0200

    Ignore the current thread while committing the transaction
    
    This avoids some noise in case the APIs we use are instrumented.

commit 696feefb103be8b5eedfc080ebd9589fee7874e2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 13 22:00:16 2016 +0200

    Fix the version test

commit 503a11577979bbfc0ab13a12e002394668925e5a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 13 22:00:06 2016 +0200

    Initialize the runtime natives too

commit cb2e95f6ff846e0ba935a18e9bed5aec857f09a2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 13 21:48:02 2016 +0200

    Use a lower-level API to get the Android version
    
    This is just so we can run before the VM has been fully initialized.

commit 6e0093ed556a3d24dd45a0d464cbf626bd9ff2c7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 13 21:46:16 2016 +0200

    Improve the Java.perform() logic
    
    - Improve robustness in case of exceptions.
    - Don't try too hard to get a class-loader when process is not an app.

commit 299a3cd2e4bc49b6571969afa789f90d5da848f8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 11 23:45:02 2016 +0200

    Add boilerplate for an Android Java interop test harness

commit 8f1a897954eb6c3561e1fb23e24a6de6b65c3d06
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 9 17:54:36 2016 +0200

    Make it possible to disable the language bindings

commit 0161aaa756969946bb94649680dec09392af6c1c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 9 00:45:00 2016 +0200

    Expose the raw handle of Objective-C methods

commit 9b9a47ceea99558e156229a777ff86431591f9d7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 7 21:41:10 2016 +0200

    Use the proper fpret version of objc_msgSend() variant when needed

commit 33462f83869568d6977ea89952fca1f8ff170216
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 7 21:08:14 2016 +0200

    Fix handling of Objective-C functions returning structs

commit dc766efc52dd2be2ea5c37f1d713441126e2480f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 7 20:42:14 2016 +0200

    Add failing test for Objective-C method returning a struct
    
    Passes or fails depending on the architecture.

commit bf6d87139f30fbbbebb0afa703afd36e6881d28d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 7 14:48:48 2016 +0200

    Add support for resolving methods on minimal Objective-C proxies
    
    For example TrustKit's `TSKNSURLConnectionDelegateProxy` only implements
    `respondsToSelector:` and `forwardingTargetForSelector:`, but does not
    implement `methodSignatureForSelector:`.

commit 3968dd1da074a0f761f85fc5dd0e85584f86b236
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 2 21:46:18 2016 +0200

    Fix the vapi

commit 5da1fa9d45d7f2a77d815d2725af1c12d4b0be87
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 2 19:31:14 2016 +0200

    Add support for compiling and loading to/from bytecode
    
    Only supported in the Duktape runtime for now, but the V8 runtime has all
    the necessary plumbing, making it easy to add this later. Once we upgrade
    V8 we should be able to implement it there by using WebAssembly.

commit 421b127a803a9c285c92d026e3e803bcf0cd2fbf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 2 16:04:25 2016 +0200

    Include error name in RPC error replies

commit 30356f5f41748b84425d7eaf1c2436e6bf709680
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 2 13:36:14 2016 +0200

    Add stack trace to RPC error replies

commit 9a626fc063d117d0b4c02404993cf28da9878527
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 28 18:20:20 2016 +0200

    Fix variable declaration that was meant to be `let` not `const`

commit 43689c689f20f2f8c61f32294875648c902e291b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 27 21:18:57 2016 +0200

    Improve ART support by taking OS version and arch into account

commit c26377310d24be23cf79b00b1807eb2345791f15
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 27 15:31:38 2016 +0200

    Fix "Java API not available" error on Android 6.0

commit c9dc3cba093c2c22f3b01b26f3f4d19bb04b0824
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 27 13:54:52 2016 +0200

    Fix export address calculation for libraries with a preferred base
    
    This is assuming that exports are all in the text section and that it is
    in the segment with file offset 0, which theoretically may not always be
    the case, but allows us to keep things simple.

commit 9b8bf7c88f49ed3949f98b4fdda566f4b5dee3e2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 27 13:47:33 2016 +0200

    Strengthen the export matching test to catch more inconsistencies

commit 01dcca3a988cfb5437e57c79abc17079396c5c31
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 27 13:39:16 2016 +0200

    Fix indentation

commit fc2c301f11f1b3f1332e319bf733adf0929cd46a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 19 18:40:03 2016 +0200

    Fix the return value of Memory.readByteArray() for size = 0
    
    This was correct in the Duktape runtime but not in V8. Oops.

commit ab433f7db5e1e6225f9795a51118fffde68de281
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 19 18:36:43 2016 +0200

    Fix warnings about unused return values

commit 5a5f97c62043cb54529909bbc3a2d597107d1b24
Author: s1341 <s1341@users.noreply.github.com>
Date:   Tue May 17 10:40:34 2016 -0400

    Fix implementation of gum_module_find_export_by_name

commit 2cba0c6843079f7068b165dbaec049f28cf13a66
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 17 16:36:29 2016 +0200

    Fix crash when closed File object gets GCed

commit af28b51b611929ee35ca92c9be515972ace2258e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 14 00:44:17 2016 +0200

    Fix setTimeout() so the delay is optional and defaults to 0
    
    This is required by the browserify shim.

commit 3c65ffe54541d978d7653705208a6741566aaac0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 14 00:38:21 2016 +0200

    Only run the malloc vs TLS test on QNX for now

commit d5a2294d544f908dff0b6baba8798fb0c221d0c6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 14 00:37:44 2016 +0200

    Fix warning regressions

commit 26c0dc3edfc61598dc72c7640be86c8d748afe2f
Author: s1341 <s1341@users.noreply.github.com>
Date:   Tue May 10 21:09:33 2016 +0300

    Implement temporary TLS storage
    
    This is needed because malloc() may get called by pthread_setspecific().

commit 59868f5329a200740e552ea21932d92e85614637
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 8 23:45:41 2016 -0700

    Work around warning caused by broken header declaration in dbghelp.h

commit 2845d438b60eff6742f5cb9f8d313daba0e1e6fa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 8 23:44:38 2016 -0700

    Fix page size rounding

commit a63389cf1939eee609908a97e0fac293f8df9d3a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 8 23:44:17 2016 -0700

    Fix shadow declaration warnings

commit 464b47257981bbdf79e7a986a9e80b4552d7bc1f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 8 23:42:51 2016 -0700

    Upgrade to VS2015

commit e7a87678b67f411ef005af6c3fb777a8539ef929
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 21 21:19:20 2016 +0200

    Add ObjC.registerProtocol() for dynamic protocol creation

commit ae9de630d50db404f1597606859da4e5fff6e48c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 21 21:17:28 2016 +0200

    Fix handling of class name conflicts

commit 57a006ffe04c50efe1f046d30d068b3bc054de39
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 21 21:15:32 2016 +0200

    Allow proxies to be named

commit c5666c13a2801380a870e8eba38a4c01bf34bda8
Merge: 12fa177e 4e0cf8d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 14 00:03:10 2016 +0200

    Merge branch 'feature/enumerate-darwin-module-symbols'

commit 4e0cf8d31f96e18cad98c7d661712f25ec6d21cc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 14 00:02:47 2016 +0200

    Fix page size computation

commit 52b9c041a925aefa85db3c59770bf8ec7c322615
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 14 00:01:51 2016 +0200

    Add support for enumerating and looking up symbols

commit 12fa177ef1f79194f7fefbecc2f1f779a52e2b8b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Apr 3 15:27:12 2016 +0200

    Downgrade to Capstone 3.x for now
    
    The `next` branch has some non-trivial issues preventing Stalker from
    handling certain instructions. According to @elvanderb this is not likely
    to be resolved in the near-term, so for now we will revert to 3.x, as we
    don't really depend on any 4.x features.
    
    /cc @aquynh

commit 21f2698122dfb6c73a3611dae50d4b5a19ae60b4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Apr 3 15:23:18 2016 +0200

    Only run the 32-bit PC thunk tests on 32-bit for now
    
    Still need to improve X86Relocator so its input pointer and PC address
    are decoupled, like it is on the other architectures.

commit ef013387ac16335618be251be9d744f2324ebae5
Merge: 6c7a2d46 e11869b6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Mar 31 16:02:03 2016 +0200

    Merge pull request #156 from s1341/master
    
    Fix missing include on QNX

commit e11869b66ec10566b56dc602b0caa6ccf9201865
Author: s1341 <github@shmarya.net>
Date:   Thu Mar 31 16:26:01 2016 +0300

    Move unix.h include to the correct file

commit 4e99c6c13e30eeb8d5005e15919f2fee8e1ee5b3
Author: s1341 <github@shmarya.net>
Date:   Thu Mar 31 14:07:06 2016 +0300

    Fix missing include on QNX

commit 6c7a2d46c9b279f0aedadd452736535e9d3c574a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Mar 30 22:49:05 2016 +0200

    Tweak GumJS to be self-contained
    
    - Include gum/gum.h so `gum_init()` is always available
    - Depend on json-glib-1.0 for ease of use

commit a4ef79b8a25101c2b9cc41faf918e027e542d662
Merge: cc4f5757 8fdfe31d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Mar 24 16:22:46 2016 +0100

    Merge pull request #155 from yusitek/master
    
    Check method type just for the invoked method, instead of method[0]

commit 8fdfe31d592717b91208db4fdac5f080bad82d59
Author: zhiwei <wei@yusi.tech>
Date:   Thu Mar 24 16:47:44 2016 +0800

    Check method type just for the invoked method, instead of method[0]

commit cc4f575769764a3abe90c374b8f1a01b5219103d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Mar 20 22:44:19 2016 +0100

    Fix deadlock on unload
    
    We should flush our main context so cancellations are processed before
    waiting for in-flight scheduler tasks to complete.

commit 024fcd513647247614a59f27fff05e442575951d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Mar 18 02:24:44 2016 +0100

    Fix build regression

commit ae58247098963893ff9cb733c558c0de8cbb976e
Merge: 755f1c87 b37441f3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Mar 18 02:06:34 2016 +0100

    Merge pull request #154 from frida/feature/streams
    
    Add stream APIs for working with GIO streams

commit b37441f34a8473dcc8de5aebcdc00727de23dee1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Mar 18 01:54:27 2016 +0100

    Add stream APIs for working with GIO streams
    
    For now we only expose constructors for the lowest level streams that
    allow working with file-descriptors (UNIX) and HANDLEs (Windows), but
    the JavaScript wrappers can obviously be used with any GInputStream and
    GOutputStream implementation.

commit 755f1c87889e7e156f4be4c019300a14e6912d19
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Mar 17 03:16:37 2016 +0100

    Add API for scheduling asynchronous jobs

commit b8e3734cd290e6a60e388d9eb70b6e01aed77314
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Mar 14 22:52:16 2016 +0100

    Fix warning

commit 7132cf139faf9ec20de8dcef6716cdca6841390c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Mar 14 22:29:48 2016 +0100

    Add support for the new task_for_pid(0) method on the iOS 9.1 JB
    
    Untested but so easy to implement that it would be worth trying out if
    I get my hands on a jailbroken iOS 9.1 device.

commit 19db35d15ee70665f6d4a9552a62efc6a609e694
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Mar 14 22:09:30 2016 +0100

    Fix behavior of Memory.readUtf8String() when a size is specified
    
    The optional second argument was meant to be the size in bytes, not the
    number of characters. Presumably nobody is using this considering how
    broken this API was.

commit 83d7f2d5b911f4d203dc3fe4347cb6ed0638963c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Mar 14 22:00:36 2016 +0100

    Fix indentation mistakes

commit a0b5acf270ff416200d40d7b717cb624de48a4e3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Mar 14 21:54:02 2016 +0100

    Fix handling of wrapper objects in `retval.replace()`
    
    It is perfectly valid to pass an object with a `handle` property anywhere
    a NativePointer is expected. A typical example is `ObjC.Object` wrappers.

commit a5398c37fea033da2e9830352ea27365ae153298
Merge: dc8eed6c 9af222c6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Mar 13 21:13:42 2016 +0100

    Merge pull request #153 from s1341/master
    
    Implement enumerate_threads and modify_thread for qnx

commit 9af222c63d0ad01b29e63fa259c92de8a5438879
Author: s1341 <github@shmarya.net>
Date:   Sun Mar 13 11:10:51 2016 +0200

    Fix style error

commit 1bdeb996b41ade20e401dba99b545163c7508638
Author: s1341 <github@shmarya.net>
Date:   Tue Mar 8 18:02:13 2016 +0200

    Implement enumerate_threads and modify_thread for qnx
    
    Currently this implementation uses a vfork to spawn a new process which can then inspect the threads of the original process, as inspecting the currently running process with procfs is broken on qnx

commit dc8eed6c0f86fac9d7714e5045d25934d0c55d8a
Merge: 2781c06d dea0ac62
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Mar 7 17:11:52 2016 +0100

    Merge pull request #152 from s1341/master
    
    Don't use cbnz which is not available in arm mode on some processors

commit dea0ac622a428cc547c0c695479a4fefb1e6c512
Author: s1341 <github@shmarya.net>
Date:   Mon Mar 7 16:28:25 2016 +0200

    Add cc to clobber list

commit 41d8b8867fdb5c54b4c28e5e51c0ead1bc3bc167
Author: s1341 <github@shmarya.net>
Date:   Mon Mar 7 14:27:05 2016 +0200

    Don't use cbnz which is not available in arm mode on some processors

commit 2781c06d49934216627d2b5b5f122f3d4fa1ebcd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Mar 7 14:01:09 2016 +0100

    Allow passing a NativePointer to hexdump()

commit d3748ce2d86cc7cab534926ec570b7b0f85b2643
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Mar 7 02:40:50 2016 +0100

    Add simple hexdump() API to the Script runtimes

commit 38eea3e7c7623ff7b818fac27356395d3b685d2c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Mar 7 02:40:02 2016 +0100

    Simplify the ifdef logic a bit

commit 5eea8342ff1da91ca17e7e5c9a7d93db4838594c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Mar 7 00:20:25 2016 +0100

    Make the Duktape runtime's CpuContext serializable to JSON

commit 9cebca51ef0964af381b0375d486425c26929abd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Mar 6 21:40:18 2016 +0100

    Fix interception of half-word aligned functions on 32-bit ARM

commit d654588309f66b305d281b3b49ee3fd01448ec7c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Mar 5 20:36:55 2016 +0100

    Don't tell GCC that we're clobbering ebx
    
    We will save and restore it anyway, and as it might be used for the PIC
    register we don't need to worry about our inputs/outputs getting assigned
    to the same register.

commit 56dadd4c58f2342530e79c127912572d1c81e64d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Mar 5 20:24:41 2016 +0100

    Fix thread enumeration on Linux
    
    It seems like the only reliable way to read/write the registers of
    another thread is to use ptrace(). We used to accomplish this by
    hi-jacking the target thread by installing a signal handler and sending a
    real-time signal directed at the target thread, and thus relying on the
    signal handler getting called in that thread. The signal handler would
    then provide us with read/write access to its registers. This hack would
    however not work if a thread was for example blocking in poll(), as the
    signal would then just get queued and we'd end up waiting indefinitely.
    
    It is however not possible to ptrace() another thread when we're in the
    same process group. This used to be supported in old kernels, but it was
    buggy and eventually dropped. So in order to use ptrace() we will need to
    spawn a new thread in a different process group so that it can ptrace()
    the target thread inside our process group. This is also the solution
    recommended by Linus:
    
    https://lkml.org/lkml/2006/9/1/217
    
    Because libc implementations don't expose an API to do this, and the
    thread setup code is private, where the TLS part is crucial for even just
    the syscall wrappers - due to them accessing `errno` - we cannot make any
    libc calls in this thread. And because the libc's clone() syscall wrapper
    typically writes to the child thread's TLS structures, which we cannot
    portably set up correctly, we cannot use the libc clone() syscall wrapper
    either.

commit 722d6bb939bafb84cfdbd4bb2a68b4509576e21b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Mar 5 20:22:40 2016 +0100

    Add two-way conversions for the latest GumCpuContext additions

commit 01c44cab81af31765a4f8c2b1dbe2813852512a3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Mar 5 20:10:12 2016 +0100

    Add missing volatile qualifier

commit 09cd6643996c82e164fef89f927b24ff43bfaf25
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Mar 5 20:08:35 2016 +0100

    Improve the thread enumeration tests and enable them on all platforms

commit b6f0a55e69198d6e3d92d34c06943ee919a68208
Merge: 4df0755d bbad2fc9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 29 11:49:23 2016 +0100

    Merge pull request #151 from s1341/master
    
    Change assertion to if, so that we silently handle some pathologicall…

commit bbad2fc95b341c062738eb4baf6618fb79141c53
Author: s1341 <github@shmarya.net>
Date:   Mon Feb 29 12:46:29 2016 +0200

    Change assertion to if, so that we silently handle some pathologically broken files when trying to enumerate exports

commit 4df0755d75f0eaf94a096da925118656e5757913
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 22:52:42 2016 +0100

    Fix syntax error

commit 6c4db3ff9af9340e77fcd9846a16fe29f4a8ce2b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 22:50:06 2016 +0100

    Soften up a bit on the symbol matching test

commit 2039145709e87d2a31517be32a77a8ee6dce7deb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 22:47:39 2016 +0100

    Fix warnings and tidy up a bit

commit c5368b1a581670ba45b5371152c135f8a99e05af
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 22:44:45 2016 +0100

    Use the correct ELF magic define

commit d7b3575b40d79160e47476564737db5afb05ab8a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 22:39:15 2016 +0100

    Fix warnings

commit 33888e28626c28b2a7ffc7afe3177113450ab454
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 22:39:08 2016 +0100

    Fix silly mistake in the 32-bit code-path

commit e90ea3f21f721bd1406f50796ba566c7eb557f57
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 22:38:41 2016 +0100

    Plug deflector leak

commit 8511b046a29a40066f048d80a6b4571446f34ccf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 22:27:52 2016 +0100

    Improve the deflector logic to retain the code-signing status

commit 9bd28e201af5d3ad38ee8a4f0bcd262dbd183e3a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 18:32:57 2016 +0100

    Fix the dedicated deflector logic

commit 40c3afc2b381fc5fe6950aa83a13115c82ee8d0d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 18:23:55 2016 +0100

    Improve the Interceptor ARM64 backend to use deflectors when necessary

commit 1b6e34a142916affa1a3a114b54b5e4565c90354
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 18:21:57 2016 +0100

    Port the deflector logic to ARM64

commit e56b2e93a5140071474fecd175b839fc4c86fcbd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 18:15:23 2016 +0100

    Improve the 32-bit ARM CodeDeflector to avoid clobbering R9 and R12

commit c7f0d7b76734abb8f145d80ece6840c862ccf991
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 03:39:43 2016 +0100

    Fix calculation of the `sp` field

commit bf7ab3d080f17a3272f39819a092e8ef446f3d08
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 03:39:21 2016 +0100

    Simplify trampoline jumps

commit 90bdaf6cc34a13e123f31ab84f29ce3c05b79a0d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 03:38:05 2016 +0100

    Simplify put_call_address_with_arguments()

commit 028617370bb6614ba81f5376e2a817b27e72f471
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 03:37:47 2016 +0100

    Improve put_{ldr,str}_reg_reg*() to support upper registers

commit f933e5b481b212c9e6faed483715a064c473f73c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 03:35:42 2016 +0100

    Fix gum_thumb_writer_put_add_reg_reg_reg() for upper registers

commit 52870c5f993294954e27b16eedffbd2eb5c60680
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 03:34:38 2016 +0100

    Fix gum_thumb_writer_put_ldr_reg_u32() for upper registers

commit 4eb8c197bf0e8a591f18d3b3192fb8509d704fa1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 27 20:01:58 2016 +0100

    Split out the Darwin tests into their own suite

commit be832e74539e5841153076b4cd64153e0c4ed88e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 27 19:22:19 2016 +0100

    Improve the Interceptor arm backend to be able to hook tiny functions

commit 4bc84e957ea19e22412a5cef98aa27b63a004cd7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 27 19:21:48 2016 +0100

    Port the deflector logic to Darwin
    
    Modulo code-signing issues which is still TBD.

commit 62c770596f5c7eb1adcb6284945991ceaf1a82da
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 27 19:20:30 2016 +0100

    Consider trailing alignment NOP part of the relocatable region
    
    An empty function that just does `bx lr` will typically be followed by a
    `nop` for alignment purposes.

commit 34dfbdd6406f42273d10f3b06795a4c74afe8d0e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 27 19:15:16 2016 +0100

    Make internal function static as it should be

commit 456e9a82774ad94797f2f5fd2fa6c5e96682ca90
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 27 19:14:44 2016 +0100

    Improve gum_thumb_writer_put_ldr_reg_u32() to support upper registers
    
    We can emit a Thumb-2 instruction in such cases.

commit 21e8c25103879d853271e9bb1306f4cf2ad0c498
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 27 19:13:49 2016 +0100

    Add gum_thumb_writer_put_{b,blx}_imm()

commit 219d208f3b93eb178048cb1cbb55fa40f7bf46a9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 27 19:11:24 2016 +0100

    Test more problematic Darwin functions

commit ed4a15a191bdde5b5fb922ead6c368bb22dd9e77
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Feb 26 02:19:09 2016 +0100

    Fix regression caused by implicit ref-counting in the finalizer

commit 1f716aad6854e5e85a7764875f5a5d9e8679b346
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Feb 26 02:18:07 2016 +0100

    Fix warning regression

commit 3637ff822333c162e4c7e8cb9c853dfe89d3e3a8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Feb 26 01:35:36 2016 +0100

    Fix _gum_duk_steal_data() for relative indexes

commit 2581c285c721369b5f18b5bb8f83359b96f10c4b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Feb 26 01:26:12 2016 +0100

    Fix race-condition where listener gets destroyed mid-call

commit fa52b9797dfa3127b50fc301c0d697e53fd50a8a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Feb 25 19:48:43 2016 +0100

    Add test for Interceptor race-condition observed in the wild

commit 175cd9657f192b9eda356bef06dbfa9c2218afdc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Feb 25 17:20:43 2016 +0100

    Fix handling of nested Exceptor scopes

commit f293aa2269f483bf58c2c7e6af4c68bfcfbd075a
Merge: 4286fa10 a996cd1c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Feb 25 15:11:43 2016 +0100

    Merge pull request #148 from s1341/master
    
    More QNX integration patches

commit a996cd1c5854beecfa448df3046acc6a1d779af8
Author: s1341 <github@shmarya.net>
Date:   Thu Feb 25 16:06:26 2016 +0200

    Fix style

commit 0ce844ca34015f521e1629d39d94ffab10c7b933
Author: s1341 <github@shmarya.net>
Date:   Thu Feb 25 16:02:15 2016 +0200

    Revert un-staticizing dummy functions; Use a symbol guaranteed to be in debug symbols for functions_can_be_found_by_matching test

commit b7a03d34d3992ee8fd7138604b6b273cc36ee2bb
Author: s1341 <github@shmarya.net>
Date:   Thu Feb 25 15:34:24 2016 +0200

    Simplify the QNX sigsetjmp kludge conditions

commit 9b50b59544beb5240a2137c6ed2253091971dc22
Author: s1341 <github@shmarya.net>
Date:   Thu Feb 25 15:30:56 2016 +0200

    Switch defines checked to be compiler builtin ones to avoid reliance on config.h

commit 538105465361efcd245b656257961ad95555d695
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 24 17:46:48 2016 +0200

    Disable some tests for missing functionality on qnx

commit c4722148a838bd67bf22c9a7d5a1da7f0069d480
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 24 17:45:23 2016 +0200

    Make dummy symbols accessible in script tests
    
    Otherwise the linker prunes the symbols from the executable and the test fails

commit f5352dbe7c49b14b89f02138369b1afae23ac0d3
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 24 12:03:00 2016 +0200

    Use sigsetjmp macro on qnx-arm, as sigsetjmp function is broken
    
    For this to work we need _gum_exceptor_prepare_try to allow re-entrance, which
    means initializing the (scope)->impl value.

commit cde80b3b9ef641cd364313bcc49b8aa88e27358d
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 24 11:58:22 2016 +0200

    Implement ucontext parsing/unparsing for qnx signal context

commit 4286fa106d4bd752c0af5d39c5f46cf9c3ea73d3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 24 19:18:42 2016 +0100

    Fix test regression

commit 34b62d52f41de56ee19693fa430f391115246d8c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 24 18:51:37 2016 +0100

    Fix handling of $protocols on instances

commit 643785dcb8b75441b72207a79e53e0522d72cfca
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 24 18:25:18 2016 +0100

    Allow Int64 and UInt64 to be passed as-is to all relevant APIs

commit 30279bb88e8015827c5dea6a2fb5f73a819976b4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 24 04:08:13 2016 +0100

    Fix warning regressions

commit 811d84698cb782f4cf3124c5785c919af6900cc4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 24 04:06:22 2016 +0100

    Fix Int64/UInt64 field capacity on 32-bit architectures

commit 8ee2ef6b2d46daad1b2db4b12b82cbad3ec85497
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 24 02:39:40 2016 +0100

    Handle opaque struct and union types

commit e104061db17faaacaecbe34242b1712041e8df92
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 24 02:14:27 2016 +0100

    Update type-check to match the recent API changes

commit e484101e55f07c971121ed4afcd39a7e8b5603ab
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 24 02:04:50 2016 +0100

    Rework handling of 64-bit integers in the Duktape runtime also

commit 091d8b5fb6b92330d8abd8720609371970e29c8f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 24 02:01:17 2016 +0100

    Improve strictness of constructors

commit 2987272537cb35a2ba858fa2a4ff5de2b2fa4481
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Feb 23 17:40:05 2016 +0100

    Update tests to match the new behavior

commit 589f0ee0bd9dca8703241069fd441e26664512f8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Feb 23 17:39:51 2016 +0100

    Update to the new API

commit a1816d328487582e47ae5ad35c4fbac09950af62
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Feb 23 17:39:26 2016 +0100

    Implement valueOf() to simplify implementations

commit adf7ca154355d6ae84445bcf62abf66e2aa60157
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Feb 23 17:35:53 2016 +0100

    Always return longs as 64-bit values
    
    Otherwise the caller would need to handle the return type differently
    depending on the platform.

commit a3f1817f01a017184a963ef45779a5e9f57b0552
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Feb 23 17:35:05 2016 +0100

    Add shorthands for Int64 and UInt64

commit d94ccef9af246982bebf3faf32db2e870c5bc3f4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Feb 23 03:24:31 2016 +0100

    Start reworking the handling of 64-bit integers

commit 4947a729de17033e7ac87a8ed84e929204d2b5c0
Merge: 0b4fb0d8 c09cb3ce
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Feb 23 15:37:41 2016 +0100

    Merge pull request #147 from s1341/master
    
    Wrap copy-on-write with suspend/resume all other threads

commit c09cb3cefba7b9426183436dda4c9329a3fe224a
Author: s1341 <github@shmarya.net>
Date:   Tue Feb 23 14:08:04 2016 +0200

    Enable script tests on QNX

commit 32aa99bfaeede0e5084bda7fa8e74543665246fe
Author: s1341 <github@shmarya.net>
Date:   Tue Feb 23 13:56:59 2016 +0200

    Wrap copy-on-write with suspend/resume all other threads

commit 0b4fb0d854c40ef3e7f9ebfa86408b1259108860
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 21 18:32:15 2016 +0100

    Fix copy-pasta mistake

commit 264010a992169c528a2648b38be2657b992f7256
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 21 18:30:29 2016 +0100

    Attach Exceptor after it's been fully initialized

commit c3b9285132765f63f4ea8378b068a6c5c2cd9f48
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Feb 18 21:08:18 2016 +0100

    Fix module name of resolved imports

commit 8e2984de97121e9eebb2c994da1eb46031764653
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Feb 18 20:17:55 2016 +0100

    Fix regression on non-jailbroken iOS systems
    
    We will eventually have to implement proper code-signing, and not just
    pseudo-signing, in order to retain CS_VALID when hooking APIs.

commit 302a5e76b4d38eb4fb550ba139bdc27d3dcf3fc2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Feb 18 20:15:44 2016 +0100

    Fix Interceptor regression in the Duktape runtime

commit 6b930824cb0c10b5bc306cf5d2aff172bf94f39e
Merge: 5a3b0d2d 64565e61
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 17 20:26:17 2016 +0100

    Merge branch 'dt-gnu-hash'

commit 64565e61c944a0747a842f85621177985329a557
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 17 18:57:53 2016 +0200

    Implement exports lookup for DT_GNU_HASH exports

commit 5a3b0d2df91162a04e2af90642789e6e6c6328fc
Merge: e772e8f1 1797973e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 17 17:56:16 2016 +0100

    Merge pull request #145 from s1341/master
    
    Make frida-gum compile on qnx again

commit 1797973e0c1479159f25cdfadf6fb0ff6fb6b815
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 17 09:43:56 2016 +0200

    Fix ifdef for sigsetjmp; Fix style issues

commit 602ad45b4a65c1b354344ba084b6c28228236624
Author: s1341 <github@shmarya.net>
Date:   Tue Feb 16 18:28:04 2016 +0200

    Make frida-gum compile on qnx again

commit e772e8f1c584119849f707aefbbf905a750b92d7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 15 01:55:31 2016 +0100

    Expose r8 through r12 to the JavaScript runtimes

commit 767742f76b29b3ba586df1a5743381e7e4236cf5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 15 01:55:04 2016 +0100

    Improve Interceptor to preserve r12 aka IP on ARM

commit d04cfd6f14589870abca59d1810f7d7152ca5927
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 15 01:54:41 2016 +0100

    Add r8 through r12 to GumCpuContext for 32-bit ARM

commit 0d0490701b4536bd1e97ac08a2bc18dea089fc4a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 15 01:27:19 2016 +0100

    Add support for emitting push/pop for high registers

commit b062d2e499b8a8311bdcdae55b2e6ea6804948a6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 14 19:44:35 2016 +0100

    Add Memory.scanSync()

commit 5be4288d10a10bf3e88dbbb280c4305d0a794e23
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 13 10:27:22 2016 -0600

    Implement safe live-adding of listeners
    
    The array could previously get freed during a resize, and could also
    grow indefinitely as it was never compacted. These issues are now
    resolved by creating a new version of the array that we atomically
    swap in, and schedule the old one for destruction once the trampoline
    is idle.

commit cf284dcd68a5a4190c172d05f961c0c6f39be212
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 13 10:51:37 2016 +0100

    Recompute on_leave listener state on remove

commit cc189ab79e71784fcd760a8a4a7df2a77203c4c1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 13 10:35:59 2016 +0100

    Implement the instruction probe API

commit 378bf096b5561c9874e65491f23c68a3bd3e2f71
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 13 10:11:32 2016 +0100

    Add failing test for instruction probe API

commit 37eb822d20dc01d96b0638ee5ab3bc291826c6c7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 13 09:54:23 2016 +0100

    Implement the new detach() API in the V8 runtime

commit 5df900d856349126072fcb8f56a471def1b07612
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 13 01:26:18 2016 -0600

    Improve gum_memcpy() to avoid unaligned accesses

commit f4236650649413944c4ce13ac6620f7e8be6b1e3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 13 01:25:40 2016 -0600

    Allow _gum_duk_{protect,unprotect}() to be called with NULL

commit 25b29b6ce1d67d17c2cdbb0d1ad768e5319c6b51
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 13 01:24:57 2016 -0600

    Implement the new detach() API in the Duktape runtime

commit 5510531bdbe511ae877f562ed1ed924a85656bc3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 13 01:22:27 2016 -0600

    Add failing test for detach() API

commit 8dd6e20531889df0d3323b9a9121eb70f55ddb62
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 13 01:21:33 2016 -0600

    Add get_depth() to InvocationContext

commit a2db00759b4cc0a006aeab2305d8f8faf675ff8b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 13 01:20:47 2016 -0600

    Allow listeners to be detached synchronously from their callbacks
    
    We also get rid of the `wait_for_idle_trampoline()` logic and instead
    defer destruction until a future transaction is ending, or brutally
    free the memory if the usage counter hasn't dropped by the time the
    Interceptor is destroyed.

commit dd63e0f4b622722406d161899d7a8b74c164a23a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Feb 11 10:13:40 2016 -0600

    Make on_enter and on_leave optional
    
    We also avoid trapping the return when possible. Beside avoiding a little
    bit of overhead, it more importantly allows hooking at arbitrary points,
    not just at the start of a function. This means you could attach a
    listener with only on_enter provided, and use that to hook at arbitrary
    points. An example use-case is measuring code coverage.

commit 91e8b1e4c72e31d94d7fc938b946f1c95da8c536
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 6 03:01:39 2016 +0100

    Fix source-map handling for eval code
    
    Forgot to include one function from the node-source-map-support project.

commit e956c6deded3c9feaac1cb0077c87e6a98954053
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 6 03:00:21 2016 +0100

    Fix Python 3.x regression

commit 90d72b07726d9584d3e5b7be3bd566c59eb16220
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Feb 4 17:40:53 2016 +0100

    Fix silly NULL-pointer dereference

commit ae22e0fa94970a9df140757e4aa0467e9deea9aa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 21:58:42 2016 +0100

    Fix warning

commit 285609fb7d50e94b63913039a57347a54c8455f5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 21:00:57 2016 +0100

    Fix ApiResolver tests on Windows

commit 1d9eaa4994719f376cde85a9741a59ac5c7b8ce5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 19:30:43 2016 +0100

    Use the fully-qualified module name

commit 58c40cf3078710aceabce7b0352ce2bd1fac44d8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 19:23:13 2016 +0100

    Emit fully-qualified names

commit 75ea59c4466acd34874e0dc179517aa64737e16d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 19:20:57 2016 +0100

    Skip unresolved imports

commit d014b6ed34005dcb9c3c4b81c669c2d8e25c503d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 19:00:02 2016 +0100

    Fix warnings

commit c28d038e92cd98a398a57c126eaca824dabd7b20
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 18:49:05 2016 +0100

    Add missing include

commit 5e6463e21ad14e5987e8a3bb59183f673e8d5761
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 18:40:51 2016 +0100

    Fix a search-and-replace mistake that went unnoticed

commit 2da0142ef6f26b68e1807e3d46d6f61190f3e6db
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 18:37:24 2016 +0100

    Expose the ApiResolver API to the JS runtimes

commit 9d6f83ce90e4f56b0eed7fd249f347b725c91b85
Merge: 880f353e aa1b419d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 03:40:31 2016 +0100

    Merge branch 'feature/api-resolver'

commit aa1b419d74b1aa3fc1175dfc77abecd68ac3f2ac
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 03:39:53 2016 +0100

    Implement base functionality of ModuleApiResolver

commit e7b476162cc9acdb29def5b25afb323ec4727dbe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 03:37:05 2016 +0100

    Tweak style

commit 8a9c85abeffe723b4f23418c53c4211efb593225
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 01:59:07 2016 +0100

    Fix resolving of class methods

commit e55649774e18a132389e9a5d9c8fc4317b57638a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 01:48:49 2016 +0100

    Rename internal helper class

commit 11d25b15478e8be5c3febb640da0ba75063fd288
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 00:18:24 2016 +0100

    Add failing test and stub for ModuleApiResolver

commit b64c795ad813f8bb53e5db2a5d245af0dbb3231c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jan 31 23:28:08 2016 +0100

    Fix leak

commit 7650e6eaafd2d6991e19f87b71a64a4fbc14c2c9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jan 31 23:21:33 2016 +0100

    Ensure we only visit classes once

commit 7e21fe6b2af9817ca4884813822e816fde7c1cc7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jan 31 22:45:00 2016 +0100

    Implement most of the Objective-C ApiResolver

commit dfcceeee18a65e22d70c575ff681b5c3705dbad3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jan 31 22:44:43 2016 +0100

    Fix minor inconsistency

commit aeaf11cb04be414cba7649210d9c53cb904d2387
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jan 31 22:44:28 2016 +0100

    Refine the ApiResolver interface

commit 94c34807de1c1a8beb8df50171aa6f73a0dc7e4d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jan 31 03:59:57 2016 +0100

    Add new ApiResolver API and one failing test

commit 880f353e723df979000dd15a04bebb6ebdf8bb40
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 06:16:09 2016 +0100

    Destroy scheduled callbacks before flushing the main context

commit 0fe0ae8953e47f36731c5d9cf29c87e4ff0f3f4e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 06:00:31 2016 +0100

    Destroy scheduled callbacks before flushing the main context

commit 4f080098b72e7204aee3740c1ebaf4ea38d8da58
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 05:59:45 2016 +0100

    Fix crash when scheduled callbacks are freed late

commit e339afd46b2489fddb3ed54c9606cd81b66027f2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 04:33:57 2016 +0100

    Fix warnings

commit e69a6c7dfe2c5e0f972b9a139e68b4a458a86dbf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 04:32:08 2016 +0100

    Fix `this` binding for module functions

commit a4ed27809a7dc0d3e5fd627aacb437d2de8f8d7c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 03:40:02 2016 +0100

    Update the heap access counter helper to ignore GLib's allocator

commit 6592ab7d289a809ecb0c2aeef111cf47de3be316
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 03:32:24 2016 +0100

    Fix warning regression

commit b3101b70d98191ee97fc834f8ff262ac47633f40
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 03:26:57 2016 +0100

    Fix Windows build regressions

commit 0a30f34eddbe8b059d58610cbc45c21020b751d9
Merge: df107110 72d232d7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 03:00:34 2016 +0100

    Merge branch 'fix/ios9-cs-valid'

commit 72d232d784b442ec19ec14d9b5c3c4833c6467bd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 02:06:14 2016 +0100

    Improve performance by increasing the batch size to 7 pages
    
    There's an extra page of overhead with the current API, but we will
    optimize that out later.

commit ced97b745af6aecc6aee6fcaabdf88d20273778a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 01:41:55 2016 +0100

    Enable the performance tests for Mac too

commit 183def3fd2ae3de0313a9ccfaadd48079f7a3157
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 00:37:17 2016 +0100

    Add performance tests to check how we stack up against CydiaSubstrate

commit 8391cb617afd4168581811378bd8f9be67593580
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 00:36:53 2016 +0100

    Fix error-handling when nearby allocation fails

commit 0330b9e04cb4473aa10ceff2ef7036c91534f10d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 23:38:48 2016 +0100

    Use transactions for our internal Interceptor use-cases

commit b669bbcb4a5e88131ea817d4aa469d87c6db90ba
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 23:25:00 2016 +0100

    Update Interceptor's C++ binding while at it

commit 66dd13ecef1c176dfefbba5492d9410f33a5057a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 23:18:44 2016 +0100

    Update the vapi

commit ff178570fe808f0a6064c9717db63166e5628dc3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 23:11:40 2016 +0100

    Revise the Interceptor transaction handling
    
    - Finish the current transaction before emitting the message.
    - Revise locking order so it's always JS -> Interceptor.

commit 3e92d10fd3246f0aa83b1e79b01762528e5cef99
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 22:44:59 2016 +0100

    Also emit proper psuedo-signed code for thunks on iOS >= 9

commit 1601993dc23b212050fbe456c2f47fb9543f8f5f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 22:00:10 2016 +0100

    Move the last bits to slice allocation

commit ccc3d3e6c836df438dc9b9b004bb8a9dbc0c06ec
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 21:31:35 2016 +0100

    Fix handling of attach()->detach() sequence

commit 89689c6490958473e9f7ff1da69e6cdccb62f179
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 21:30:34 2016 +0100

    Make gum_code_slice_free() behave like other free functions

commit 4ac60abee0275a3f14ee67fd2b27fa018edc4241
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 19:58:41 2016 +0100

    Update tests to match new behavior

commit 447b3bd483bd960ea4e55734ad5a1b0500e3c9bd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 17:53:40 2016 +0100

    Simplify and fix the handling of literal references from unaligned PC

commit e0e1d4b5eb72b66b14a61b5de25d52e556a3c01e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 17:51:52 2016 +0100

    Fix PC calculation when cross-relocating from a 64-bit system

commit d69709017aec9abcae5016d9da9855f858b9b39a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 15:18:09 2016 +0100

    Wrap JavaScript callbacks with an Interceptor transaction
    
    This allows many calls to Interceptor APIs to be batched, which is
    important on iOS 9 where we need to jump through hoops to satisfy
    the code-signing requirements.

commit f77a875147ef635b76db04d7bcfe3da9298659bb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 14:46:07 2016 +0100

    Configure the Duktape runtime to use the GLib memory allocator API
    
    It's wired to our allocator anyway, but gives us some flexibility to
    disable this when running tests with memory checking tools.

commit a3b34bdcf7f9063426a026194d6307dbba159a19
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 14:42:26 2016 +0100

    Clear caches after code changes

commit 990e38c28567e0bf250e1c4db55e8e1075d7f2b1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 04:00:15 2016 +0100

    Fix function address handling on arm

commit a770af37a15d984adc85d40417f40debcedb9372
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 03:53:40 2016 +0100

    Fix some code vs PC mixups

commit 7c810c66f389b7ef87e96664072f2cbcf34bc84d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 02:31:10 2016 +0100

    Add a test to check code-signing status

commit b8f1d916896543249ddd4b49ceeb8fda1838c05e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 01:32:11 2016 +0100

    Port the ar4 InterceptorBackend to the new API

commit 1a978220accb485070e83ed3e109c5270bb73401
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 01:24:03 2016 +0100

    Make the Deflector API consistent with the rest

commit 977a62ba9b068a55ddb9b4dd2a5febd97ae6ca2e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 01:14:19 2016 +0100

    Port the arm64 InterceptorBackend to the new API

commit d087d3fafc0623ff7e5d7a0c78976a3efaa1e203
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 01:13:23 2016 +0100

    Remove unused API

commit db6b3d2b66f07b4dc9ce40c05fd3879005e6c03e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 01:10:47 2016 +0100

    Fix silly off-by-one

commit 446ad57778e80961177eab5dc6c352b858dd0152
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 01:01:55 2016 +0100

    Generate a truly temporary file

commit 18fa5afae69a71143e2456e5c5edd4c75c936aab
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 23:26:28 2016 +0100

    Improve CodeAllocator to emit signed code on non-RWX Darwin systems

commit 934065a2b22e42fe316ccc33a6e7c8cf05056b17
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 23:25:25 2016 +0100

    Add support for allocating according to an AddressSpec

commit 96ed4f68a058d5f8c07ff52e061f1c846126b36a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 18:11:37 2016 +0100

    Fix leak

commit 0c272ba73922baf9665dc3eb4fb478689e3ffb30
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 18:11:31 2016 +0100

    Use GLib for regular memory allocation throughout

commit 658143b876fc98e361590e744e6cb6afbe8af49b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 17:35:59 2016 +0100

    Avoid useless range enumeration on non-Linux OSes

commit 462493b94cb7d040856c12a96883bfd38797faff
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 17:29:03 2016 +0100

    Remove the side-stack support
    
    It is no longer needed -- stack-space constrained environments should
    be using the Duktape runtime.

commit 740741b4d4eae0134fadeadb4dda9ebe37feef7e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 17:20:32 2016 +0100

    Get rid of unnecessary collection classes
    
    Because it's been a long time since we started requiring our own
    private version of GLib, we can assume that GLib's heap vtable has
    been replaced, meaning it is safe to use GLib's collection classes
    without worrying about reentrancy issues with malloc() etc.

commit 89f0963ce7da5318de26232c376b2a7a6684036f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 16:00:05 2016 +0100

    Refactor CodeAllocator to implement the new transactional model

commit 3efd9cf9fe349e6065ee2b0b0ee550b3ebf0312b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 02:25:11 2016 +0100

    Assert that the file was opened successfully for now

commit 152930cf4b4e7b6727c681d13948c792cb5e587e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 02:24:45 2016 +0100

    Fix output pointer vs program counter logic

commit 0d11dde4863ce6c889484ed1f46bccedf3672871
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 02:15:04 2016 +0100

    Decouple program counter from output pointer

commit fe7c77e68a48bf3a69dd05b4fb2982fcd5f42ee7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 01:08:23 2016 +0100

    Wire up CodeSegment for the no-RWX fallback

commit 6eca11772a10e665f90ae9a052a667dfa45ab609
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 01:07:38 2016 +0100

    Move the DarwinCodeSegment API up to the public API

commit a95894390e24c4d26094e917cf7393b0b4e9dab3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 26 20:24:46 2016 +0100

    Start integrating the new CodeSegment API

commit 80590a8c2ce0977eae551b411abcf46903c35a81
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 26 20:15:23 2016 +0100

    Remove ref-counting logic

commit 471c447c5fb1e9aeba8999db10c842a03861c257
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 25 22:20:40 2016 +0100

    Implement the core of the Mach-O generator logic

commit df1071108b08062f43e76bde89076f493ac602dc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jan 24 20:39:38 2016 +0100

    Add regenerator runtime for improved Babel compatibility

commit 361b3a02985fc8399161dc339a27b43dedc1b4b5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 22 02:40:40 2016 +0100

    Fix initialization order regression

commit fdce44029f615e1a3f1bcbecf9a41cbd750d6b83
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 22 01:42:24 2016 +0100

    Make InvocationContext available to replaced functions also

commit e29eb4c0656e790224fc8802c686563b4bd978a1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 22 00:34:58 2016 +0100

    Move the reentrancy guard as early as possible

commit 52a1642f5be29c6796387952ebc410ea9701b64f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 22 00:05:18 2016 +0100

    Avoid implicit memmove calls emitted by the compiler

commit 4fb01ccac67a7294672c44e9fa7951780a2a3c16
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 21 23:57:51 2016 +0100

    Avoid memset and memmove in low-level code paths

commit 84a57ba262ae2c3d143f141f0277b1177fbb86a0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 21 01:48:18 2016 +0100

    Fix atexit stub for mapped dependencies

commit b448457030ae9b798850bf68329467b79325d860
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 21 01:46:51 2016 +0100

    Fix library initialization ordering

commit d97ec3ceac3223ba3f13b4e0ae3b92fa04e098c4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 20 13:57:52 2016 +0100

    Cache the page size to reduce libc dependency while hooking
    
    This allows us to hook more low-level APIs on iOS 9.

commit 2c92ed43405ea2651130737b5bfb5804af5d1a1c
Merge: b14bb2d8 ccfafb7a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jan 17 15:17:35 2016 +0100

    Merge pull request #140 from riverar/py3_buildfix_jan16
    
    Python 3.x build regression fix

commit ccfafb7a3f7a38c6bcda3406da6ab9d067877ff3
Author: Rafael Rivera <rafael@withinwindows.com>
Date:   Sat Jan 16 23:45:17 2016 -0800

    Python 3.x build regression fix

commit b14bb2d810ee8e70a3ef5346fcd62f0dfbfabd68
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 16 02:35:02 2016 +0100

    Fix synchronization logic in the Duktape runtime
    
    Turns out that Duktape does not support pausing JS execution to allow
    other native threads to execute JS in the same heap. The only possible
    workaround is using coroutines, but those have strict limitations on when
    a yield is possible.
    
    So to keep things simple we adapt our runtime to never yield, and switch
    our mutex to a recursive one, so we can still support re-entrancy through
    NativeFunction calls.

commit f87cead256a8a88d13f2510d440a020eeb60a5ef
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 15 23:34:55 2016 +0100

    Tweak return type

commit e3a6c9c0778974987fa30ff1920a5b80d9a067a4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 15 23:34:36 2016 +0100

    Fix warnings

commit 7ece667c9482df54b2588a304a98cdd072e27639
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 15 23:33:55 2016 +0100

    Fix exception-handling in the enumeration APIs

commit 3e6d320f1d5df08a2b0863be4a917fd560b0194f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 15 23:32:56 2016 +0100

    Adjust buffer sizes used to generate the protected name

commit 28a1cbf5e4e07d47a08f36f023d83f9c0977bc10
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 15 23:07:20 2016 +0100

    Revert "Fix "concurrent" execution in the Duktape runtime"
    
    This reverts commit cf5dce03a80f9e819752dd94d6562c22461be3bf.

commit 4b92a4f95949ff6562d25f036b439fd98a812603
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 15 23:07:11 2016 +0100

    Revert "Remove NativePointer recycling logic for now"
    
    This reverts commit 32cedf06add2d0eaf7225ac4007fecaafb99e8fe.

commit 31b412b7c74feeda9dd55e448947a5a5b3284ee3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 15 20:15:31 2016 +0100

    Fix native exception object's address fields
    
    They should be NativePointer objects.

commit 32cedf06add2d0eaf7225ac4007fecaafb99e8fe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 15 19:28:53 2016 +0100

    Remove NativePointer recycling logic for now
    
    Seems to trigger some bug in Duktape.

commit cf5dce03a80f9e819752dd94d6562c22461be3bf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 15 19:23:35 2016 +0100

    Fix "concurrent" execution in the Duktape runtime

commit 51d5f61f4c4d829560533def32c764afbd2c325a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 15:32:42 2016 +0100

    Add a visual clue to know which runtime is being tested

commit 6b73efbf3cdd6bb90e9868f1970547a7a31307a4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 15:23:21 2016 +0100

    Skip the Script test suites with V8 when the backend isn't available
    
    This is the case on iOS 9 where RWX pages are not available.

commit e228aa8b77a03172cc4bd0c9771b6559ef2d10b4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 14:12:41 2016 +0100

    Fix warning

commit 88ac622dc831e43b08d47690ba6309a3e97118d3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 03:06:43 2016 +0100

    Allow the ignore API to be used without a backend
    
    This is a bit ugly but we will get rid of the need for this API later
    anyway.

commit f1302834120acf70ab03aa87aec6a292bb0c7b2d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 02:58:15 2016 +0100

    Fix assumption about test only getting run once

commit de4ab0f6a19216aba2e0c705c997c8a58f9058ed
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 01:50:26 2016 +0100

    Remove ScriptBackend.supports_unload()
    
    We no longer need this.

commit 56f0f9690c8de8e7491f0224ebe548c7ad4665df
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 01:41:22 2016 +0100

    Add missing include paths

commit 9944f4de44c6eb137ffaaa9721ea5c751699937b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 01:18:03 2016 +0100

    Fix test relying on Interceptor getting destroyed at the end of it

commit a97b6289dbcbd4fe91ee5efe6a9c73ad4f959a47
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 01:05:26 2016 +0100

    Instantiate script test-suites for both the V8 and Duktape runtimes

commit ebd2893cdfc9c58445aa9bd25d912239107eedef
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 01:04:42 2016 +0100

    Improve test macros to support passing data to the fixture

commit 053b03102e79130d6ac8f6a96d35e47ca93263d5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 00:46:06 2016 +0100

    Update tests to match the new build configuration

commit a53081c10c17571b51fac58a1b9a9ab015231876
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 00:32:21 2016 +0100

    Update UNIX build system to always include the duktape runtime

commit ef66292347a29f1ca66bf3560ec546e506e30907
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 00:28:57 2016 +0100

    Update to match the new behavior of always having the duktape runtime

commit 7c70237e2d0da6b8c7a966ed7617ea1029862567
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 00:17:21 2016 +0100

    Fix remaining warnings

commit 4549c34726706bfeb27dee02a4eb00dae3d70743
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 00:01:16 2016 +0100

    Fix warnings

commit d0e9c0266eadc58295ec309b7e1f9dfd727f5ff5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 00:00:42 2016 +0100

    Fix includes

commit 21234ed5d2344fab1c104ca39ed7b3ab2b2b3a04
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 00:00:12 2016 +0100

    Fix inconsistent stub

commit d224e680b4bbfe595fdf16dd0ef6474d994bf9d6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 23:59:14 2016 +0100

    Throw instead of #error on missing MemoryAccessMonitor API

commit 098e3b4d6977e929a6b8b2c66a2b478d99633202
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 23:58:37 2016 +0100

    Add missing include

commit cfffe2ef02cb932034ffbfcf2c7a92b8357bcb5b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 23:57:11 2016 +0100

    Add Windows build system for the duktape runtime

commit 61dbfc6239c7632e1044bcb6666b225189ed33e2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 23:56:23 2016 +0100

    Don't assume the MIN macro is available

commit b28f4f28c51f44144d339be3f16d2418c4d18dec
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 23:55:29 2016 +0100

    Declare that the duktape backend supports being unloaded

commit c4eacfca0b6d221beaecb19c691f9402fe238107
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 23:54:54 2016 +0100

    Remove unused runtime file

commit 2e8fae005749a49fb330c6d995fd1b39509d6e2a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 21:06:15 2016 +0100

    Fix warning

commit f7f63a163eb903d4789c4cfcbbb362fba00ae8c9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 16:16:23 2016 +0100

    Move weak_callback_is_triggered_on_gc to slow mode only for duktape

commit 13437a8f917dde974745e9eae7ae59df9ba2d59b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 16:02:49 2016 +0100

    Fix test regression

commit 97ffad0062161598f2996bc77b50a47f180e012b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 16:02:15 2016 +0100

    Skip deinit when not debugging heap leaks

commit 54d991fdfd5b2668e3d7a3deb5db0742fedd04b9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 15:43:06 2016 +0100

    Fix test regressions

commit 7491b3f08ec19aefcd0548171593b1fe19b770c5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 14:42:52 2016 +0100

    Fix syntax error

commit 4a5171d98525805ef3e289e5a3deb7cd6f48c1e0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 14:28:10 2016 +0100

    Remove the JavaScriptCore runtime
    
    The duktape runtime is a better choice on mobile and embedded, and for
    desktop we already have V8.

commit e307e4119fe9f07d1d98fb5699af1fe2920bd0fb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 13:47:38 2016 +0100

    Fix warning on non-Darwin

commit c79e61c60265b52750c39cd54667dfb4a6fe2062
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 13:40:15 2016 +0100

    Configure duktape to use our own heap

commit 8ce43a2a6f1bb47a3deacd75dc6dbf84845d6692
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 13:29:07 2016 +0100

    Allocate a large GString to avoid reallocations with a different heap
    
    The {target,special}functions libraries have a statically linked version
    of GLib and we don't want them trying to realloc the GString that we
    already allocated with a potentially different heap.

commit aea383f9d6888e92241d3e680b9853a662bf04ba
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 13:27:41 2016 +0100

    Fix accidental mixups of heap APIs

commit 2c52d5f59a298fd22257a98678e8145b1e1e3832
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 13:26:38 2016 +0100

    Use our own heap for running the test-suite
    
    This gets us closer to the behavior in production.

commit 158a11026cde5b942e62df893041ba81d90ebd60
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 01:47:24 2016 +0100

    Fix performance-bottleneck in the memory range lookup API

commit 34e3e72c8259ad47540758310ef49706c32ff318
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 01:12:32 2016 +0100

    Avoid duk_safe_to_string() when possible

commit 654245ae11ea90d46fe16c328ea83c6d72beeb7a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 00:53:05 2016 +0100

    Avoid memory-allocations when recycling pointers

commit f048bf9ef3f7cefb015e0a3dac1c332635bc8190
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 23:21:02 2016 +0100

    Update duktape with fix from upstream
    
    Latest master with 28687dbf67956e9140a90f56fc3ccd93a480ee1d cherry-picked
    on top.

commit b4be5d016dd06056256cc95758a197cac74f4fc9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 17:59:32 2016 +0100

    Fix deadlocks on unload

commit c153fb208a7afd5e7806d331592ea820bd077630
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 15:27:23 2016 +0100

    Fix performance bottleneck caused by NativePointer allocations

commit 04f43a1a87e2ca6c8ce2e719b0187c9a7c5abdcf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 15:22:37 2016 +0100

    Don't hide the protected keys

commit f097fd7ab9893bcee8645ac01c6623fa19b0f724
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 15:22:11 2016 +0100

    Update duktape to latest from git

commit 54b0ee86b78632dbfeae2dc5a9fc75bff89231a4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 15:21:36 2016 +0100

    Add _gum_duk_get_data()

commit eac518292c492a95bb8b7695f3831640b1f741aa
Merge: 12659e14 27ce0c54
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 12:07:23 2016 +0100

    Merge pull request #139 from s1341/master
    
    Fix configure ARM detection for armhf

commit 27ce0c54ec5df9a79a10802b230e4d1dcc270c6f
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 12 12:47:51 2016 +0200

    Fix configure ARM detection for armhf

commit 12659e14a7ef8d3de02d1e64d61057288e004f74
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 02:55:20 2016 +0100

    Fixup coding style

commit 660b94ddafc6bb2f7249e4eeadec10c16f81b3f0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 02:43:23 2016 +0100

    Fix inconsistent namespacing

commit 53cc8cfe69d7acb1fcfb4e42c8b6c3c6bf9dea55
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 02:35:33 2016 +0100

    Keep moving towards stack-oriented APIs

commit 374df6b06ba91d66e5e8e492e6327da4f539f819
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 00:25:12 2016 +0100

    Simplify ArrayBuffer construction

commit 74273184b19de0bda27d4dfbfe1674c633770a24
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 00:00:56 2016 +0100

    Fix resource cleanup and keep moving towards stack-oriented APIs

commit 8349043fad7d71df53358fe682d393e25acc0e08
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 21:33:24 2016 +0100

    Fix some leaks and get rid of GumDukValue

commit 3b928b74745315174f7f8de5dc7077d4667d4431
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 15:55:29 2016 +0100

    Fix error-handling and leaks in NativeFunction and NativeCallback

commit 22a343b564bf01c4c6def721c31d06bd6ee2c6ae
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 15:54:47 2016 +0100

    Add helpers for dealing with 64-bit integers

commit 2819cacc54a00897cb5c4a19edee9a5e31796cc6
Merge: 944d3a98 a8113a1b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 14:49:36 2016 +0100

    Merge pull request #138 from s1341/master
    
    Fix warnings and duktape library dependencies

commit a8113a1b5783e761eb5118d09713d0d035d2dae2
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 11 15:28:20 2016 +0200

    Fix duktape library dependency in generate-runtime.py

commit 105c109b4b21acc0017ac0eb2426e074fafb185d
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 11 15:21:13 2016 +0200

    Fix warnings

commit 944d3a98330daec6d5285f3c61830b8d7429c020
Merge: 9e5c44f4 06d5d1ca
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 13:31:51 2016 +0100

    Merge pull request #137 from s1341/master
    
    Add missing libm dependency

commit 06d5d1ca07d195d145f30e99c037ed64cf8b26f3
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 11 14:26:19 2016 +0200

    Only require -lm on linux

commit 17c76ff4405c319c5452251ed589ec6e9e88bb62
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 11 14:23:22 2016 +0200

    Duktape require -lm to build on linux

commit 72d6ef68088532a2d7bcf377e1a56cabc07da35f
Author: s1341 <github@shmarya.net>
Date:   Sun Jan 10 10:36:55 2016 +0200

    Add missing libm dependency

commit 9e5c44f49385379912a3aaefb1cff12ce44381f8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 13:06:40 2016 +0100

    Get rid of the unprotect_later() functionality
    
    It's not needed in the duktape runtime.

commit f72db4583387856cb0989984bb02ca250cf4be60
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 01:29:15 2016 +0100

    Fix remaining use-after-frees in the ObjC test-suite

commit 6f9419a3559e8d837536240520bf9ff79a38a4fc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 01:23:09 2016 +0100

    Add missing autorelease-pool to fix use-after-free on shutdown

commit 04eb89b16bbe9be6cef96dd91c8bb77ef437e338
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 01:16:57 2016 +0100

    Fix memory leaks and use-after-frees in Native{Function,Callback}

commit 1077d9888741e827a4265e352e8f83268eb20055
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 01:14:55 2016 +0100

    Get rid of the instance_size field
    
    We don't get the base class' finalizers like in JavaScriptCore, so this
    part was broken.

commit a2fa7d032b77cdbf215053d0b3229e07a5dd4cab
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 01:12:36 2016 +0100

    Make our finalizers re-entrant

commit 0141a4bc8a9d8c611c8e2580de07ce6c22fd7891
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 01:10:23 2016 +0100

    Add API for stealing the private data
    
    This allows us to easily write finalizers that are re-entrant.

commit e9d8f4cbf340468e4a087bb26dc4d0344ad69c62
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jan 10 23:47:19 2016 +0100

    Fix protect/unprotect() with multiple callers for the same object

commit 4d213d370a7981c7ec5be8524720184b179ef031
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jan 10 13:12:15 2016 +0100

    Soften up the invalid argument test a bit

commit 95e70882f5aeed03b400bab8c3b8e4e3bef9c6fd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 9 20:40:46 2016 +0100

    Fix NativeFunction

commit 8365b056518ea0796f8410ad613f1ad131ac218d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 9 20:20:54 2016 +0100

    Fix finalizers of NativePointer, CpuContext, and File

commit 9c061e34fbd27bf3a6190f7f0803ff2e1a441466
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 9 20:02:41 2016 +0100

    Fix NativeFunction and NativeCallback argument list parsing

commit f2462cc7b69882369d04a7d9005ec47c8b4e7107
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 9 20:01:42 2016 +0100

    Fix coding style violation

commit 39d0b6d9699331ea1ebfab936b86b5e6c77e4081
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 9 19:43:50 2016 +0100

    Remove finalizer hack that shouldn't be necessary anymore

commit f1be8fdedc857b45b2dd429f8edc08024c0d13f2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 9 19:43:08 2016 +0100

    Fix crash when an error is thrown before assigning private data
    
    This typically happens when parsing arguments.

commit a35ac687b967a3f0a7f53ac78820e55ca6fc3816
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 9 19:20:26 2016 +0100

    Always set the libtool tag when building tests

commit 5612e65898faee03185446f11ffe525cad26e17a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 9 19:19:55 2016 +0100

    Fix NativePointer construction

commit 068e7ae312aa4eab81c9b2dbbf5c372aa5a3148e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 9 19:19:17 2016 +0100

    Remove left-behind g_print

commit 5dd1ed5d27aecccb6d03b6e1c31f0eaf525e5f72
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 8 20:08:20 2016 +0100

    Refactor argument list parsing

commit e55f4a4d427ea2e9b626d04605895f9466b650f3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 8 11:46:24 2016 +0100

    Remove stack comments
    
    After getting used to the duktape API these now feel redundant and just
    add noise.

commit 17e27a9208b555a33a2bfa16467e55f3ab0bf969
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 8 11:37:19 2016 +0100

    Remove dead code

commit 417ba7227b2dd87cb7acc5953a571fea9db89bbd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 8 11:36:31 2016 +0100

    Fix the DebugSymbol object so it's serializable to JSON

commit a134b6ba21eebb25f98c38b271910c11cb096f48
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 8 11:36:12 2016 +0100

    Move properties off the prototype and into the module object itself

commit 139b71e7f5a5e912863238dcbdeeb6cec9c95b81
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 8 10:31:16 2016 +0100

    Fix the Instruction object so it's serializable to JSON

commit d746a8d3c2fb0ad92a01bdfa4c5989390bd97bb4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 8 10:30:02 2016 +0100

    Fix lifetime issue with the Interceptor types
    
    We should not borrow the references held by the global object.

commit ed78cf64409693e79e8f3265f238ddd18b2fa2d3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 22:25:51 2016 +0100

    Add missing dependencies for the script-runtime-stamp target

commit 97531b40eef803e99e26c954295c6ef672d00adc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 22:22:19 2016 +0100

    Hold onto Exceptor to avoid recreating it many times

commit e745271da24d7602839a4cf4463fe07f4e59aa85
Merge: 1270dd53 5fb850db
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 19:26:06 2016 +0100

    Merge pull request #136 from s1341/master
    
    Switch to a minimal subset of the babel polyfill.

commit 5fb850dbfc7ca10221300180d25263e5e7715174
Author: s1341 <github@shmarya.net>
Date:   Thu Jan 7 19:07:34 2016 +0100

    Switch to a minimal subset of the babel polyfill.
    
    The subset was generated using the following command in the core-js repo:
    npm run grunt build:es6.promise,es6.symbol,es6.set,es6.array.from,es6.array.iterator,es7.array.includes,es6.array.find uglify

commit 1270dd53728df37e15384a19f441a4fc3f33b303
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 05:26:40 2016 +0100

    Refactor to improve performance and safety

commit 6e49e927bc18ce03c4118d108af7b64574bbc035
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 01:19:00 2016 +0100

    Fold gumdukobject into gumdukvalue
    
    Lines were a bit blurry between them.

commit 0a01bb80af904404e26781bdd8fc8ca3ed9d6fb3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 00:27:39 2016 +0100

    Factor out the function overhead measurement

commit 9dfb483445fea530b3177dd9ba6faa7aa2b64d06
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 00:27:19 2016 +0100

    Tweak the coding style

commit 295c1f47a8123e9454b9ef6d29e1c779bbefa032
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 00:27:09 2016 +0100

    Fix leak of the cached invocation return value

commit c6ba18fd77ad2586dce3e4513e32cb4d748047e1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 00:20:40 2016 +0100

    Remove left-behind print calls

commit 3f385b0d433bd775104aea372cf12da7e36fed32
Merge: 5ab86dfc 48380451
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 00:18:00 2016 +0100

    Merge pull request #135 from s1341/master
    
    Add cached InvocationArgs and InvocationContext to speed up interception

commit 5ab86dfc7265da0febcb1182d14a4326fab6a1cc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 00:13:02 2016 +0100

    Remove unused collections polyfill

commit be75e44adfc224353d358253142c0e851be2ec07
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 00:12:28 2016 +0100

    Don't babelify the babel polyfill

commit 4838045162ef252c8e9a200fe6a9414485af8db3
Author: s1341 <github@shmarya.net>
Date:   Thu Jan 7 00:08:17 2016 +0100

    Style fixups

commit 27bc5753c963bc2762ef8a002f47b696d4a9ccad
Author: s1341 <github@shmarya.net>
Date:   Thu Jan 7 00:06:31 2016 +0100

    Add caching for InvocationReturnValue

commit ad4911c4cf421e0cfcbf8301cb97a17822ac456a
Author: s1341 <github@shmarya.net>
Date:   Wed Jan 6 23:51:47 2016 +0100

    Improve performance of onLeave

commit 3eeb151171ca9e2b706e70814ee82ff1f6cceda6
Author: s1341 <github@shmarya.net>
Date:   Wed Jan 6 23:27:29 2016 +0100

    Fix style issues

commit 792b8f2d87722e66a079c359800f5ee640c201d1
Author: s1341 <github@shmarya.net>
Date:   Wed Jan 6 23:18:52 2016 +0100

    Make gum_duk_native_function_finalize safe for reentrance

commit 21307d4e05f535e394414288362785313055687d
Author: s1341 <github@shmarya.net>
Date:   Wed Jan 6 22:49:21 2016 +0100

    Add cached InvocationContext for great speedups

commit 6c8089c21aaa2890cef6b43a78b8e0b0f83b68e6
Author: s1341 <github@shmarya.net>
Date:   Wed Jan 6 21:06:36 2016 +0100

    Implement initial InvocationArgs to save on creating InvocationArgs objects for each on_enter invocation

commit 3795442c10c633c775cc9f09b12fac36c382fa00
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 22:39:15 2016 +0100

    Fix imports and exports objects so they're JSON-serializable

commit bcdfbc522dc541e0557cb4ce18a2a02dd3ce4df8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 20:24:20 2016 +0100

    Eliminate some unreachable code

commit 98dedda0303bb6b11fd4fa45018476e52305ef64
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 20:23:59 2016 +0100

    Fix the “missing” behavior of module import properties

commit 3abaebdddb7c2851aeddc0a05fd9517b3edb15f7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 20:23:07 2016 +0100

    Let go of the runtime lock while sleeping

commit 41c54d2a7e09ed46eeff5eeeb1edc9aee13f15dd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 20:22:42 2016 +0100

    Use the native mechanism for returning undefined

commit fb6312a7ad9a26931e7beddae4097ca822eba2eb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 18:16:42 2016 +0100

    Fix finalizers assuming that the finalized object is in `this`

commit 501805d0c0a7ee85df8c45f03a2f7f2f98c48302
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 17:42:56 2016 +0100

    Ensure serialization also works

commit c1cd8c1970f88cbe303938f63f110bd23ebfd8e1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 17:32:30 2016 +0100

    Strengthen a couple of the enumeration tests

commit e1f21d1645c2c07e480754e55de79c9f811752d0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 16:07:32 2016 +0100

    Fix handling of invoking constructors without new

commit 0668213334b2374478913f048d445232ace70df2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 03:09:08 2016 +0100

    Fix coding style inconsistencies

commit b4105e53ad491d5fe9c71aadd0fc5c4f37f3576b
Merge: 8af85268 bf034af1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 03:05:05 2016 +0100

    Merge remote-tracking branch 's1341/master'

commit 8af85268dc3e769cd2c9414a4f22cecad2542d36
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 03:03:05 2016 +0100

    Compile duktape runtime sources to bytecode

commit bf034af18ae806b9e58e331637c98c2a2918a7dd
Author: s1341 <github@shmarya.net>
Date:   Wed Jan 6 02:32:59 2016 +0100

    Make NativeFunction/NativeCalback with structure arguments work

commit 541cd096d558b373cb604f45d7f692d6b8b80cc2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 23:46:06 2016 +0100

    Hold onto the replaced method to avoid it getting GCed

commit d6559e76f9fafc053385e76caab16cc67792543f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 23:26:28 2016 +0100

    Add missing locking

commit eec7268e5a24a3e99e05bb67fe34a0711c54b769
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 23:26:13 2016 +0100

    Turn printfs into asserts and improve fatal logging

commit e2ea133fdf80179d8078117caf65b3731012ce35
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 21:49:03 2016 +0100

    Fix source-map handling in the duktape runtime

commit 7f1279534f7c49182724e5a8fcf443fb7854d734
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 21:33:43 2016 +0100

    Improve the duktape exception augmentation

commit 6dcca603b0bb5b77530b174cbef8c1513b6b01e5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 21:26:08 2016 +0100

    Fix warning

commit 4e25f76e7b78531f66e1bdffb2bdb9ef44057e22
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 21:24:52 2016 +0100

    Improve the stack trace reformatting logic

commit 8c1c3703d7c123e81827684025fb71d73ec1f602
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 21:24:36 2016 +0100

    Fix coding style violations

commit 89ab1cd502a61f56496181fbcdbd02f5d6601709
Merge: 3853a768 9e0ecb61
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 21:23:21 2016 +0100

    Merge pull request #133 from s1341/master
    
    Fix bug in creation of NativePointers: use pointer duktape type inste…

commit 9e0ecb612616b5e2a958ca5b2fec5ac069ce344d
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 21:13:45 2016 +0100

    Fix bug in creation of NativePointers: use pointer duktape type instead of number

commit 3853a7686c0a7bd8e6636d67e7c0c62c7b1c5ba3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 20:58:44 2016 +0100

    Remove obsolete TODOs

commit 1c35981b5350571ba2a9cd4584836515d9ba2385
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 20:58:04 2016 +0100

    Fix coding style inconsistency

commit 44a9fc76c96ceb7dd9a4e25350e68d3622bdfa6a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 20:28:32 2016 +0100

    Add kludge for V8's old Proxy behavior

commit 90d500e28046a7a1f4b05116e91270807a647f46
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 20:24:57 2016 +0100

    Fix the get() trap for ObjC.Object

commit 468686a754f0993aa30292f4963a3e7f66dfb096
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 20:24:36 2016 +0100

    Update the JSC Proxy polyfill to get closer to the new spec

commit 2c7c8f6f12b1a0fd2566b7fb0532b74492ae6d7b
Merge: a4ab76e7 1ea9a141
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 19:58:54 2016 +0100

    Merge pull request #132 from s1341/master
    
    Script properties should be on the Script itself, not the prototype

commit 1ea9a141673551e4205a33e68d4b12dee407e526
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 19:55:51 2016 +0100

    Script properties should be on the Script itself, not the prototype

commit a4ab76e7a0512d2a392534f0afe1b75adf390345
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 19:38:41 2016 +0100

    Remove relic from the old Proxy API

commit f8752e91a3bd5f7b798cb6a1fe2b603be9690946
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 19:37:52 2016 +0100

    Polyfill the new Proxy API in runtimes that implement the old spec

commit 5069f4fad0c73474fbff8b1a8b8dab842e64d815
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 19:23:21 2016 +0100

    Rewrite duktape stack-traces and apply source map if available

commit d53bf4028ff2bd28d3c5a2fdc4871f3d842eee0c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 19:22:48 2016 +0100

    Rename macro to be a bit clearer

commit c015fefe23ab847f4f9fc50c2349ad578ef455ad
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 19:22:07 2016 +0100

    Fix indentation

commit 244a41a1266256c1dce649dd2f4aabc3cf99e667
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 18:31:40 2016 +0100

    Fix the iOS build with --enable-diet

commit b0f0db2ea35a08786f498c75d37bb81dc8d1cd26
Merge: b6849f3f 777bd22a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 18:28:27 2016 +0100

    Merge pull request #131 from s1341/master
    
    Switch to babel's polyfill for duktape; use 'new Proxy' instead of 'Proxy.create'

commit 777bd22a39cc09070055b2fdbd59806af7c79b52
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 18:18:03 2016 +0100

    Switch to 'new Proxy' instead of non-standard Proxy.create

commit c460d9d856ea944f84ec965b1a378e8d743ece38
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 18:17:19 2016 +0100

    Do a pcompile and pcall so we get file name in stack traces

commit 63841a62e3d6c7570075f1f00c498ea6e9a4e2fa
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 18:16:45 2016 +0100

    Switch to babel's polyfill; get rid of Proxy.create polyfill

commit b6849f3f397fc08f39e314aeb1ab5724f1da778b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 15:13:49 2016 +0100

    Upgrade duktape to the latest from git

commit 66a7f8798b9ce6d605368d7d9fff23f96aaad24a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 14:56:26 2016 +0100

    Split the unhandled exception handling for each runtime individually

commit b265aa94ee1260ec3d32812052b51c5c18b76b58
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 05:24:18 2016 +0100

    Fix warning

commit 7fab6a0118afb436550f26d7541b474840664f45
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 05:23:20 2016 +0100

    Fix error-propagation

commit ecfc01ac88bc9d5b86a4abfb74be5f1bc545b31f
Merge: 34030781 2686ceaf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 03:22:13 2016 +0100

    Merge pull request #130 from s1341/master
    
    More duktape integration

commit 2686ceaf5d23168115eabcb3fa0e90119c331a08
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 03:09:45 2016 +0100

    Fix more style issues

commit 71cd295a2d16c9aabe1218a9c08ec36beaaa1d9f
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 03:07:41 2016 +0100

    Fix style issues

commit a599fe7c6bd24fb867dd5e035c6e333604e2d732
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 02:57:26 2016 +0100

    Add workaround for v8 passing only one argument to has(); support for Duktape ownKeys trap

commit 5d9cd51356a475ad58063240082c2fbe0904c8a5
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 02:56:27 2016 +0100

    Release the lock while calling NativeFunctions

commit 34030781272408610788ae28cc2408885aa06a68
Merge: c3bbb8aa 42abf202
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 01:08:37 2016 +0100

    Merge pull request #129 from s1341/master
    
    Add polyfills for Array.from and Array.prototype.includes and fix a bug with NativeFunctions returning void

commit 42abf2020dbeb2375e4ee2035569f42e99dd3a9f
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 01:07:12 2016 +0100

    Fix style issue

commit c3bbb8aa057afc2daa30e7cf1424df723c79d05c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 00:52:51 2016 +0100

    Remove temporary logging

commit 8fec511d3003fee98942273724c8fc1d5c092a19
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 00:52:33 2016 +0100

    Simplify _gumjs_throw()
    
    This also provides us with the augmentation hook that we'll need for
    applying source-maps.

commit 5570655d133d8a714edb9ffdf1db85769eea81f2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 00:51:50 2016 +0100

    Fix ownership of exception created by _gumjs_parse_exception_details()

commit 1b16cff7be40de36dc78f04179b2e62893f7c91b
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 00:44:29 2016 +0100

    Fix bug with NativeFunctions which return void

commit 06b06c1634d0a18514110304b9bb12c24c03ae64
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 00:43:49 2016 +0100

    Add polyfills for Array.from and Array.prototype.includes

commit 4a0ee127e7e859671d1edd29a363c48d4d76d98f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 00:26:09 2016 +0100

    Remove unused variable

commit b1c062b66e2c7a7556f7f11fb51d8012ea5219ae
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 00:23:27 2016 +0100

    Tweak coding style

commit 83b9fa13e3adf4279054dcd32691bb4e6eb58ac4
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 4 23:17:31 2016 +0100

    Fixing stylistic issues

commit 023610d38eee441311ef132bbbaa67f21d8c4d3a
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 4 23:11:10 2016 +0100

    Move Proxy.create polyfill into JS

commit 09c6d8a8d1c9fbbf0a89c697455a99b1c47db102
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 4 23:02:59 2016 +0100

    Rename harmony-collections.js to gumjs-collections.js

commit 9d41788ad2e386ecc7444ee0b358c91089362347
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 4 20:11:00 2016 +0100

    Add Stalker stubs

commit d69f276cbb1aebd8cee3fc81fec8d93c86717190
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 4 22:30:36 2016 +0100

    Add polyfills for Duktape: Proxy.create (native), Symbol, Set (harmony-collections)

commit 334d1d836ffd5e0b3ba8f2ed384beabc7ed9e5c7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 4 22:06:48 2016 +0100

    Fix warnings

commit eee7eda35249edd31908888574ee3d2d4373940b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 4 21:47:48 2016 +0100

    Fix coding style inconsistencies

commit 54b9682209e2b16f6ff7cd199e909bc4048016f5
Merge: e7580b4f b33bb563
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 4 20:44:57 2016 +0100

    Merge branch 'feature/duk-runtime'

commit b33bb563a400db1403b8639e32385e60a74755bc
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 4 18:56:36 2016 +0100

    Fix WeakRef bugs

commit 64540e9cb4739c078d2825b9e9dc5a414fceb268
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 4 17:36:09 2016 +0100

    Implement File

commit 2a2e4125df166bac7c0c37eb67ad1596dacca35c
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 4 00:44:36 2016 +0100

    Add Instruction implementation

commit f7123b7d3d3d3baadfc568f519a72c8405ad28d7
Author: s1341 <github@shmarya.net>
Date:   Sun Jan 3 23:35:38 2016 +0100

    NativeFunction callables should be instances of NativeFunction and NativePointer

commit 015eee29adce395400c88bf15a9798c41a4722da
Author: s1341 <github@shmarya.net>
Date:   Sun Jan 3 22:34:06 2016 +0100

    Fix bugs in DebugSymbol

commit 6bd3b4d490483046cc45a79e147233d1129710c1
Author: s1341 <github@shmarya.net>
Date:   Sun Jan 3 22:12:16 2016 +0100

    Add gumduksymbol

commit 7f65eb81d6b8f7728339d62a22db3f3a83e201de
Author: s1341 <github@shmarya.net>
Date:   Sun Jan 3 20:47:42 2016 +0100

    Fix bugs in NativeCallback

commit 0714afe867e7c31a113be2d1e007aac480334f98
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 31 23:27:32 2015 +0100

    Add working Socket implementation

commit 8feb53ad6fc4a2bdb595226904183459cfa9b57a
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 31 22:52:48 2015 +0100

    Add working Module implementation

commit 3d79e4cf6bed3cc35314bcd5856a65e0c272b46c
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 31 18:02:09 2015 +0100

    Fix bugs in Memory and Process. Also don't overwrite ints, uints and numbers when we get an undefined while parsing args

commit 870f6ec3e746e0e9f46c3b59219bb4232d86dd5f
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 31 15:38:53 2015 +0100

    Add Process implementation

commit 622006a95ec2617aa43898ad0f5ab4352c042356
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 31 05:32:46 2015 +0200

    Add Thread duktape implementation

commit e7580b4f10a131913ad7955960fdac14b348be2a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 31 04:04:52 2015 +0100

    Fix hooking of recursive functions
    
    It's fine if an instruction back-branches into the part we'd like to
    overwrite if it's to the first instruction.

commit c02347d052ee8f7ceae5092908670e05c7702841
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 31 03:24:04 2015 +0200

    Split utils off into their own file

commit 13f4581e88587711c0a5cd359676452af170161e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Dec 30 22:04:05 2015 +0100

    Prevent InvocationContext CpuContext from getting GCed prematurely

commit 93d3569037f83955f70e2acddaeff92b32f1f020
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Dec 30 21:54:23 2015 +0100

    Make the InvocationContext `context` read-write as it should be

commit 9fa55cb05e541a5ffab81032b14484e2ce8cec6d
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 30 21:59:03 2015 +0200

    RPC test now passing

commit 503be040e81ef93427a97422463a79e394266b60
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 30 21:02:07 2015 +0200

    Push broken array_get_data_ to consult with oleavr

commit 97255391e114850759a90b838ae3cd39ba0dabea
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 30 19:19:49 2015 +0200

    Initial Memory implememntation for duktape

commit df8062e9fd481d0d63a8fe5db4e1d0bd0d277a2b
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 30 17:37:31 2015 +0200

    NativeCallback working

commit 4116e555c58e063fa302c61bfd9469d99dfc678a
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 30 16:28:44 2015 +0200

    Fix index bug in protect/unprotect

commit 202767da109c336ec02cd47a05b5278a3f19088c
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 30 16:27:55 2015 +0200

    Protect the unhandled exception callback

commit bcf8d6ed6186e3d3cc606b98e20ec5e6f908cb9e
Author: s1341 <github@shmarya.net>
Date:   Tue Dec 29 21:21:13 2015 +0200

    More tests passing

commit 048f76c91dd6223946c87185002a90433b7589ac
Author: s1341 <github@shmarya.net>
Date:   Tue Dec 29 21:20:46 2015 +0200

    Add promise runtime js to duk generated runtime

commit ab1b5a713eacd2e0567175e69beaea2d7ffb700e
Author: s1341 <github@shmarya.net>
Date:   Tue Dec 29 13:28:44 2015 +0200

    /GumJS/Script/recv_can_be_waited_for now passing

commit d4d5cdefe35c3872f1fe98d403ef4c4740cb9256
Author: s1341 <github@shmarya.net>
Date:   Mon Dec 28 22:18:13 2015 +0200

    Making dukinterceptor work

commit 10de2874b1cb731b1241bdd0cccaa7e3a9704023
Author: s1341 <github@shmarya.net>
Date:   Mon Dec 28 22:17:00 2015 +0200

    Add compiling gumdukinterceptor

commit f90ca38de7874e685ead199b9b3e0caa7afd4e32
Author: s1341 <github@shmarya.net>
Date:   Mon Dec 28 19:21:56 2015 +0200

    Check for obj === class.prototype in finalizers

commit fcaf6310507720a659bc017495ec8b54260b0874
Author: s1341 <github@shmarya.net>
Date:   Mon Dec 28 18:01:10 2015 +0200

    Add duktape support to tests

commit 9e71869694e2f385d78b4ecfa51fa77b405491fa
Author: s1341 <github@shmarya.net>
Date:   Mon Dec 28 17:59:59 2015 +0200

    Add duktape support to gumscriptbackend

commit 104e5a0df7baf1e1c7be6894ac474b83b42b48fb
Author: s1341 <github@shmarya.net>
Date:   Mon Dec 28 17:59:26 2015 +0200

    Update makefile to add dukglue and dukbundle

commit 8bd5f0781bd270863d356ad1d2da360050608dfb
Author: s1341 <github@shmarya.net>
Date:   Mon Dec 28 17:58:57 2015 +0200

    Working NativePointer and passing send/recv tests

commit abdd6db342a15fc9b4152f04409d8cbfe8b3ad03
Author: s1341 <github@shmarya.net>
Date:   Mon Dec 28 17:57:13 2015 +0200

    Add duktape support to generate-runtime.py

commit ab56e9a3b579927e9bfeaf77ff086f1ceb0107ca
Author: s1341 <github@shmarya.net>
Date:   Mon Dec 28 17:56:08 2015 +0200

    Also install node tools on linux

commit 5d2a791fb5defc8004545ae7ddfcce607c2f1a44
Author: s1341 <github@shmarya.net>
Date:   Sun Dec 27 23:06:37 2015 +0200

    gumdukvalue.c compiling

commit d4836292e093f0c912d731ad90845f0c69215ca3
Author: s1341 <github@shmarya.net>
Date:   Sun Dec 27 22:39:41 2015 +0200

    gumdukcore.c now compiles

commit 75d8a52eac8a4410e26b0d472f28d43a8f02bc5c
Author: s1341 <github@shmarya.net>
Date:   Sun Dec 27 20:37:57 2015 +0200

    Further work on the duktape JS engine integration

commit 87e5bdba8c2e048c84ff73630f120a9a162ab991
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Dec 26 15:49:41 2015 +0100

    Avoid static C++ objects to allow use from library initializer

commit 0a0492bda7d110ab2431450594934d1ed215d1c4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Dec 25 15:48:21 2015 +0100

    Add a fallback strategy for partially resolved symbols

commit cf2f2c507c60ba87c51c7877ffafbdab5d5a24cd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Dec 25 00:13:29 2015 +0100

    Only run the recursive test in slow mode for now
    
    We cannot yet hook this function on ios-arm.

commit d952006a3acceb017e040e21d7b32cb7d2c9190b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 24 23:34:00 2015 +0100

    Fix crashes when invoking APIs with the wrong `this`
    
    This was an anti-pattern that resulted in a crash when trying things
    like: `.map(DebugSymbol.fromAddress)`

commit 90212a28ada2c82911e865462fd5f14c07bd7684
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 24 20:24:04 2015 +0200

    Initial gumdukscriptbackend and gumdukscript

commit aadb0ebb69fe67688eb2e98f3cee7948c9e7dc4d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 24 18:04:16 2015 +0100

    Add build system for duktape runtime

commit 8a1355fb025753b2608c56d3939fb7980c59d95c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 24 17:50:28 2015 +0100

    Add duktape 1.3.1

commit 0bac577d2a5737134f7143a2bf91462343f51a3a
Merge: 0d5bb468 dafbd46d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 24 18:24:31 2015 +0100

    Merge pull request #127 from s1341/master
    
    Support linux-arm

commit dafbd46dd651e47a8d809a360ba747b5ad15d455
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 24 19:17:58 2015 +0200

    Ammend comments

commit 687df44f2347ffc8b29b3e32962b5b42290be413
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 24 19:16:14 2015 +0200

    Unset thumb bit in cpsr if we don't need it

commit 9420f1f8eed740ad14a7a0e08035dd7715b6d532
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 24 16:22:01 2015 +0200

    Fix timing of free and destruction in gum_script_job_free

commit db8a7e75813b8a08aebe5c058c7e6c288887b8aa
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 24 16:20:42 2015 +0200

    Don't run socket_endpoints_can_be_inspected test on linux-arm

commit 8a611b7db797867be05f6a4f307b3b45ea6099b9
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 24 10:41:02 2015 +0200

    Remove dummy argument used to work around the r0 being set to 0 issue, as we have now resolved that

commit 0ed192e22aa225ef01a9e7bde7ed64a222834bfc
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 24 10:36:43 2015 +0200

    Add CPSR to GumCpuContext on ARM
    
    This resolves the issue we were seeing on linux-arm where we would get
    a second unexpected SIGSEGV while processing a signal in the exceptor code.
    
    This manifested as an unexpected SIGSEGV and the r0 register being overwritten
    to 0.
    
    The root cause of the issue was that we were not correctly setting the CPSR
    register in the context, resulting in the kernel's `valid_user_regs` call
    failing, causing us to fall into the 'badframe' label of sys_rt_sigreturn.

commit 4d380f214bd8d511053d80003c0c807eb4e932d3
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 24 09:53:23 2015 +0200

    Make the detection of _test_util_system_module_name much more robust

commit b12894873e2b53a3b2cb0e892e310e6d14c58e6e
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 23 12:42:26 2015 +0200

    Add a workaround for the r0 being overridden to 0 issue experienced on linux-arm.

commit f0b705ab787d4769872af200d0a6ae377eff24bf
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 23 12:39:29 2015 +0200

    Skip known problematic process_threads test on linux-arm

commit 869046c24f64e8bf3409f0cecfa2f0c1003dcbc0
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 23 12:38:48 2015 +0200

    Make _test_util_system_module_name search a little more generic.
    
    Specifically, deal with the case where there is no libc-XX.so and there is only a libc.so.XX

commit 452ecf49edc4eca870063a9fe1af5eb77e34dc33
Author: s1341 <github@shmarya.net>
Date:   Tue Dec 22 14:26:43 2015 +0200

    Remove unnecessary __ANDROID__ ifdef

commit 3ff4aea264aa0823211a7b362694beaaedfb4b29
Author: s1341 <github@shmarya.net>
Date:   Tue Dec 22 14:27:14 2015 +0200

    Add specialfunctions and targetfunctions for linux-arm

commit 0d5bb4685bf5ffe64028c857a5af021832221493
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Dec 22 09:06:08 2015 +0100

    Fix warning

commit 6a091b3b63d75f596c97a1431ca45b6e172d69e3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 14 15:42:07 2015 +0100

    Fix regression caught by test-suite on Darwin
    
    This kludge will no longer be necessary once we implement
    gum_thread_{get,set}_system_error() for Darwin.

commit 3f0e4563b00083ee853ae80d1bd02bdc6572d30b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 14 15:19:02 2015 +0100

    Fix warning

commit 025bcc4baa0fb41ab2d876b8008e9c5d641ebc6f
Merge: e91485ff 9054f46f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 10 21:28:36 2015 +0100

    Merge pull request #124 from elvanderb/master
    
    Add TLS Emulation for Windows

commit e91485ff6289ca095e638dd15ffc2ce7cc91c839
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 10 21:24:06 2015 +0100

    Use the new Deflector API in the ARM backend

commit 6ae79dda5a25d95cb11e8fb3eee59808fd0658dd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 10 21:23:12 2015 +0100

    Add Deflector API for making long-distance jumps
    
    This makes it possible to reach a far-away destination with a minimal amount
    of instructions. Only implemented on Linux/ARM for now. Works by looking for
    a nearby ELF header and inserting a trampoline in an unused part, and taking
    care of routing calls from multiple callers based on their return address.
    
    This will allow us to hook tiny functions, and functions where there
    is an early CALL/BL that prevents us from overwriting beyond it.

commit 21012b56a486773e0710d52d51fa3a869febe254
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 10 21:12:37 2015 +0100

    Add gum_thumb_writer_put_bl_imm()

commit 61bddbcd338aa651d82dc98c9236882a41670dfe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 10 10:44:13 2015 +0100

    Implement gum_thread_{get,set}_system_error() in the UNIX backends

commit bb409c9feefe4c63865e2809ca2600bc05b6c8e2
Merge: d6a59275 b613f879
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 10 17:10:35 2015 +0100

    Merge pull request #125 from elvanderb/logical_shift
    
    Add logical shift right and left operations on pointers

commit b613f87935c7469d5990c4ac221fcefb64c1edc5
Author: Eloi Vanderbeken <eloi.vanderbeken@gmail.com>
Date:   Thu Dec 10 11:11:00 2015 +0100

    Add logical shift right and left operations on pointers

commit 9054f46f9229e0a58de2b02e67e7eda4cb2419e7
Author: Eloi Vanderbeken <eloi.vanderbeken@gmail.com>
Date:   Tue Dec 8 18:03:11 2015 +0100

    add TLS Emulation for Windows

commit d6a5927549b0543325d9890016db8c568a9b1347
Merge: 89a5bf54 5ae51a1e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Dec 8 16:42:01 2015 +0100

    Merge pull request #123 from elvanderb/master
    
    Emulate {Get/Set}LastErrror on Windows

commit 5ae51a1eac700f22962abcb88d0f0215ec8f75aa
Author: Eloi Vanderbeken <eloi.vanderbeken@gmail.com>
Date:   Tue Dec 8 15:44:41 2015 +0100

    Emulate {Get/Set}LastErrror on Windows

commit 89a5bf547d1732cfcea5d51673504a17dac22aa5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 17:31:33 2015 +0100

    Remove left-over include

commit 83a042c4aa68331182d4ee82f9317ee0286b2c32
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 17:14:31 2015 +0100

    Add missing include
    
    This was previously masked by the gumtls header.

commit 802df26c9e3029f09c587a4e72fe58d023fffb89
Merge: fdfe5318 5329a7c0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 16:18:13 2015 +0100

    Merge branch 'feature/interceptor-unified-trampolines'

commit 5329a7c0253a2b461eda7053e86f8cad3568676e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 16:17:31 2015 +0100

    Add a Darwin-specific TLS implementation

commit 9ef2b758714cc9acd181525204873c7d4502faf9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 16:16:36 2015 +0100

    Add a minimal test-suite for GumTLS

commit 5755d855f583c79d9597498fc392b6c53710df15
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 16:15:06 2015 +0100

    Add GumTLS to the public API

commit a82202ebec97e19b3e577563d08133f3363245f1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 13:10:13 2015 +0100

    Fix TLS key leaks

commit 959c5fc7c142bffe3712334ea8eeb95991082aef
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 13:10:03 2015 +0100

    Split the TLS implementation into platform-specific backends

commit 34e73efde3257c69178244d069c06a898fe1b6d5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 12:34:10 2015 +0100

    Update the slice sizes
    
    Based on empirical observations where the maximum slice size seen was:
    
    x86 32-bit: 40 bytes
    x86 64-bit: 62 bytes
    ARM 32-bit: 68 bytes
    ARM 64-bit: 132 bytes

commit 1a273e15a441a35f8b25af987f036f2b4e9bd4de
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 12:16:44 2015 +0100

    Fix the ARM64 backend

commit 7c463e4e5be20c9efb8e0a891b6705f2739fff7c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 12:15:31 2015 +0100

    Port the ARM backend to using thunks

commit da4d037fe445cfb4dba68ab8d8ef52bc6a28c4bc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 11:46:15 2015 +0100

    Port the x86 backend to using thunks

commit d5685c7f8690c3693723e37361f0621f149c3351
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Dec 4 19:41:07 2015 +0100

    Fix the ARM backend

commit 30a75e4088db6e73195fa2b12f58fc1925fb05d1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Dec 4 19:39:44 2015 +0100

    Improve consistency in the ARM and x86 backends

commit b36430762808b610a0383ff042612ba20e563d77
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Dec 4 19:39:16 2015 +0100

    Port the ARM64 backend to the new API

commit f626ed01b43d6af875d410fc249e25313a94c232
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Dec 4 17:23:04 2015 +0100

    Port the ARM backend to the new API

commit 3c8b77085bc30409401ec5dff3f8587a692414d2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Dec 4 17:22:44 2015 +0100

    Tweak the x86 backend style

commit 2522a8aff20aa646d8da362402e10223219dd683
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Dec 4 02:16:56 2015 +0100

    Fix handling of recursive functions

commit da6b9f2b4c6cb697c7320ba94045d3b3b1c4f51b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Dec 4 01:34:54 2015 +0100

    Fix the xip value exposed in the CpuContext

commit e9aa9ac8ec3fcabe2702c2bbdf9a10e2144e41d3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 23:22:59 2015 +0100

    Fix CpuContext access for replacement functions

commit 95e0aa9cdd8ba614bce8fb5faa452da914664b6a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 23:22:37 2015 +0100

    Improve the errno/LastError handling

commit aad49641f998fb6f160da0339ac470225a2c3a78
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 22:38:26 2015 +0100

    Fix argument access on x86-32

commit 48f8f455e9f997b0d53521a622e11f366836c4ca
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 22:22:53 2015 +0100

    Fix accidental clobbering of CPU flags

commit 68dea1f7fd827ed11c31b88ffd6a43c791f4ae14
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 22:18:49 2015 +0100

    Bring back the live attach/detach robustness

commit a7e62868a0d18eb5b7f63e4f5d1f07dbd45c2b60
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 20:50:36 2015 +0100

    Simplify the detach logic

commit 7493316f575dc0089d77a8da11e1498e178cc1b1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 20:46:31 2015 +0100

    Clean up completely when Interceptor is destroyed
    
    We only destroyed the backend and allocator, which means that hooked
    functions would be left behind jumping into deallocated memory.

commit d7bf930638fea593fb6a7b10b472f0f7498db813
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 20:16:44 2015 +0100

    Fix the conditional destruction logic

commit 09c0ad6cf630e833c53d235109bd1242ed4971aa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 19:59:41 2015 +0100

    Port remaining logic to allow attaching to a replaced function

commit 4ce2e23de18792c2e6e04d1807da19590b3419dc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 18:45:04 2015 +0100

    Fix handling of ignored threads

commit 7d1995a55fae10d26e30472bfa78090051bf8cf2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 16:40:08 2015 +0100

    Fix basics of the trampoline logic

commit bc22cc3715215d4f6938903e82dbf712eac8ee52
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 16:06:04 2015 +0100

    Fix stack alignment when invoking on_leave

commit 062d46b53a4c500556be825d2032e1808c80a165
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 15:03:06 2015 +0100

    Simplify the Interceptor trampoline semantics even further

commit 1c4ea797f74c949cf7a6f72f60e74dd84f53074c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 02:20:30 2015 +0100

    Start unifying the Interceptor's trampolines
    
    This will allow attaching to a replaced function, and vice versa, fixing
    a long-standing issue where this resulted in undefined behavior. It will
    also simplify the architecture-specific backends, as they only need to
    generate one kind of trampoline. This lays the groundwork for additional
    complexity in the backends to support hooking tiny functions, which has
    become a priority for Android/ARM.

commit fdfe531836831eecf5137fc14d8c82c00f04e8a2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Dec 2 20:10:53 2015 +0100

    Add function hooking test for fork() on Android
    
    Currently fails to hook the 32-bit ARM implementation on my Android L
    test-device.

commit c1b9f2b67e31594034f84d5da1ee4c3f8e7b36a0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 27 04:41:20 2015 +0300

    Fix the module enumeration slow-path for freshly created processes
    
    This was preventing us from spawning processes on Mac.

commit 4a8ede8492ad924cb574c59cd355406d83f15d99
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 22 15:50:58 2015 +0100

    Limit the performance test to slow mode on Windows

commit 5ea61ec454581625d09ca23d1e75799f9569d123
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 20 01:58:55 2015 +0100

    Fix crash when parsing the dyld_sim module in the iOS Simulator

commit 8b602ac9221deadece7defc9e4bc4fb9e581d6e6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Nov 19 23:14:34 2015 +0100

    Fix build issue on ios-i386

commit 4c86fdd33f2d13c7c846b152fb7fd6f0c5f2bf95
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Nov 19 16:54:25 2015 +0100

    Improve iOS detection

commit 0fe576614e84b1f507d6d807c1602e77926b2e49
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 17 00:14:56 2015 +0100

    Add API for getting a specific script backend
    
    This will allow us to link to gum_script_backend_obtain_jsc() and avoid
    pulling V8 code into our footprint. This is much simpler than having
    special build configurations to disable V8 for frida-gadget's iOS build.

commit dcccd3ecaaf318d71ef84f85cef21915c3c27007
Merge: 6b2e6a2f 3a1076e4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Nov 12 17:03:11 2015 +0100

    Merge pull request #120 from elvanderb/master
    
    Add the possibility to monitor any combination of R, W or X operations

commit 6b2e6a2fe8ca0c10a19f0346685cd84018771803
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 11 22:51:59 2015 +0100

    Limit some of the Stalker tests to slow mode
    
    Not yet stable on all OSes.

commit f691732ed4964feb164e667d5ea9f83a4bd4f845
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 11 00:43:02 2015 +0100

    Move v8 into the private requires to fix Android linking issue

commit e212e169f192dd02f37491ef8b022bdf06d35a11
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 14:43:56 2015 +0100

    Add missing files

commit c1d5738e98ae238de162b5635b9dfeee3848c0df
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 14:40:11 2015 +0100

    Fix warning about forcing value to bool

commit 3a1076e45139c5fe4e9a978e7c6da73564e7712e
Author: Eloi Vanderbeken <eloi.vanderbeken@gmail.com>
Date:   Tue Nov 10 02:37:04 2015 +0100

    Add the possibility to monitor any combination of R, W or X operations on a page
    
    Also add an auto-reset switch that can be used to monitor all the access
    or only the first one.

commit a79eedf8f9729bcc58cfc2a5afb93636aea620bc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 03:02:22 2015 +0100

    Enable the attach_to_darwin_apis test on all architectures
    
    With a few parts disabled for 32-bit ARM until Interceptor has better
    handling of short functions on this architecture.

commit f3183fb640e5e904c5dc548fc6cdf0007085a0ea
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 02:55:21 2015 +0100

    Resolve redirects for Thumb functions also

commit 8251b837c6fa2ca04ba2c71731a880b124e66a9e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 02:52:18 2015 +0100

    Adjust the code readers to gracefully handle invalid code

commit 1a155fc3388fe331358372bb47324f713d7def0b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 02:36:34 2015 +0100

    Avoid instrumenting functions that loop back to an early instruction
    
    Eventually we should improve the Thumb hooking logic so it's able to
    jump to its trampoline with fewer instructions.

commit a0064bca5a4a73e0eb12e58602cb1f8e166ce795
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 01:50:56 2015 +0100

    Add support for relocating B.cond

commit cfda7309465433c90ef1d227a1e7c7311246930a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 01:50:23 2015 +0100

    Remove redundant scope

commit 08ddf93b2e28753a621d3bea57be8d290fb7ffb6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 01:50:12 2015 +0100

    Add gum_thumb_writer_put_b_cond_label()

commit 17d1a4fa4b7e8260555fc410326854f7591bbe71
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 00:28:13 2015 +0100

    Add support for relocating IT (if-then) blocks

commit d511a33ea79ac7736273a300744111af066fb4b4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 00:27:46 2015 +0100

    Avoid memcpy() calls in the code-writers and relocators

commit dedff3782b8b8cb9e58a92f5d99cbbe6dea62920
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Nov 9 23:23:20 2015 +0100

    Embed our own version of mach_vm_protect() on ios-arm and -arm64
    
    This lets us hook read() and other important functions on kernels without
    kernel support for RWX pages.

commit 41047349e891cf83e948edd1621657ccdc36c31b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 8 20:49:05 2015 +0100

    Improve support for hooking libc code on kernels prohibiting RWX pages

commit 2d927e09ecddb2a62d66bc6c5e991d37acc2544e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 8 20:47:34 2015 +0100

    Add a tiny libc module
    
    This is needed when we're running on kernels that don't support RWX pages
    and we'd like to hook a function residing on the same memory page as for
    example memcpy in the libc. As we need to flip the memory page to RW,
    memcpy() our new data, and then flip it back to RX, we cannot use for
    example memcpy() while the libc page is RW (i.e. not executable).

commit 59d48a113e9eb7fc3d69fb6c17e1b2ec09608d0f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 8 19:43:31 2015 +0100

    Fix gum_exceptor_try/catch on 32-bit ARM
    
    Until our CpuContext contains cpsr we will have to encode Thumb IP values
    this slightly convoluted way.

commit 9e7bc1fb4847faa14369f4c3464f00b6d745d7c2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 8 18:52:24 2015 +0100

    Sign the Mac and iOS test binaries

commit e5c3f87259f45206f2fd0276a5a65afc121b4324
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 8 18:51:01 2015 +0100

    Rebuild the ios-arm test binaries to satisfy new alignment requirements

commit f89a2fe0f71ef9e2b444abbdf76cd8cfc448ef90
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 8 15:13:05 2015 +0100

    Destroy the kernel task port on gum_deinit()

commit d74e1240d1111231191f49b42aeff9474f4bed03
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 8 15:08:43 2015 +0100

    Improve handling of Kernel API availability
    
    - Expose Kernel.available to JS.
    - Throw if calling any methods when !Kernel.available.
    - Skip test-suite when not available.

commit 36ef4f4f3c103e4ae90faff20a4b62bd4d1d12d0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 8 15:07:18 2015 +0100

    Add gum_kernel_api_is_available()

commit d274dcf56f82f8d9409e2370d58580594006df1c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 8 15:06:54 2015 +0100

    Add gumkernel.h to the toplevel header

commit 2c1b395f560ec222e3d9545ec18d949ddbc70154
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Nov 7 23:39:26 2015 +0100

    Improve module export resolving in the Darwin backend
    
    - There may well be more than one section containing code.
    - Don't limit ourselves to regular sections only, in case of symbol stubs.
    - Call the resolver if we're in the same process as the module.

commit dd367cce38e453986119dbd88f93de06b5527222
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Nov 7 22:02:26 2015 +0100

    Link JavaScriptCore weakly so we can run on older iOS versions too

commit 363a19cc5c082af3db379d941a97d171a3e31def
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Nov 7 05:39:46 2015 +0100

    Revert "Lazy-load JavaScriptCore"
    
    We do actually have a data reference to it.
    
    This reverts commit 8d49653361b0d47d035125bf50040b3d3ce9d24c.

commit 8d49653361b0d47d035125bf50040b3d3ce9d24c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Nov 7 05:38:42 2015 +0100

    Lazy-load JavaScriptCore

commit 1847f0ccaae73d9fd9c6d61d877e5445c03710ae
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Nov 7 05:38:25 2015 +0100

    Only enable the JSC runtime on iOS

commit 028d7927f3f454100188b9f187ce19f68f8b0b36
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 6 15:08:37 2015 +0100

    Fix stability issue when using registerProxy/registerClass
    
    NativeCallback objects were not kept alive and got GCed prematurely.

commit 2301ec755d364fe8411ad86eeb5e3b3aa77059f7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 6 04:41:29 2015 +0100

    Finish reworking the locking in the JavaScriptCore engine

commit 66949347899c737a95640630d641a1a90c6c457a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 6 04:15:33 2015 +0100

    Start reworking the locking in the JavaScriptCore engine

commit 280b8281f942c279259e19a97299e4872d95ec50
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 6 02:41:24 2015 +0100

    Fix bad indentation

commit a3afa086847f614495081f7b5212b16272361c2e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 6 02:40:09 2015 +0100

    Revert "Fix yield logic to avoid deadlock scenarios"
    
    Turns out that JavaScriptCore does drop all locks before calling out to us.
    We need to stop holding our own locks when calling into JSC.
    
    This reverts commit 368f1ef7dcf3e16bf7c9e7b3bb1b7aa9df9347da.

commit 368f1ef7dcf3e16bf7c9e7b3bb1b7aa9df9347da
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 6 01:21:49 2015 +0100

    Fix yield logic to avoid deadlock scenarios
    
    Turns out JSC does its own internal locking and there's no public API
    for letting go of those lock(s) when our C callbacks need to perform
    a blocking operation, e.g. calling a NativeFunction.

commit abbb95b27d991809f9e928dce54f4e9200023ff4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Nov 5 16:46:21 2015 +0100

    Get rid of the script flavor and just expose a Kernel API regardless

commit 03626c8cad3a77c0b58a04b23b939a946e8e8705
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Nov 5 15:57:49 2015 +0100

    Fix inconsistent toString() behavior between V8 and JSC runtimes

commit 7d7de887086ec322149e850907998b331378857d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 4 16:35:52 2015 +0100

    Add support for relocating tbz and tbnz instructions

commit b62ddee397fd34857bfc673874b61d0c247aeb21
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 4 16:34:56 2015 +0100

    Add support for emitting tbz and tbnz instructions

commit f29ad095aa797256a29819aa65964d9942ade29a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 3 21:39:06 2015 +0100

    Fix catch-22 resulting in calls from our JS thread not being ignored
    
    Our logic that hooks the thread creation API in order to blacklist our
    own threads needs the ScriptBackend instance, however, obtaining that
    instance resulted in the JS thread being spawned. We solve this catch-22
    by spawning this thread lazily.

commit df722618611bdb2b7978274b62bf9de12560de16
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 3 18:47:08 2015 +0100

    Add node_modules to gitignore

commit ad0f021f8eda1f2ce98d479015922d5888e35397
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 3 18:46:07 2015 +0100

    Fix the JSC build steps

commit c3a0cdf038e645cf7cb3e08f546a91275daae751
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 3 18:34:18 2015 +0100

    Improve the Babel build integration

commit 9637d77038e0951bd17f5acec1a90212a333cdad
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 3 18:14:41 2015 +0100

    Fix the Babel build step

commit e2a2c2ea3e06930c566c935501d34e0dbb7e552c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 3 18:11:21 2015 +0100

    Install npm modules in the intermediate directory
    
    Otherwise we prevent parallel builds.

commit a5734cf9ea16cac9df0f741b7fed95740bddcd39
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 3 18:07:08 2015 +0100

    Update autogen script to match the latest version of Babel

commit 8a6211d7426a928943db715f21df5beb585f38c0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 3 17:42:50 2015 +0100

    Rename the runtime files for consistency

commit 8b1f2543c9b5e98522140155c6899b0faa94ec2c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 3 17:36:52 2015 +0100

    Update the babel install hint

commit 9354b35811602895123c2480f35dcd0f8035afa5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 3 17:36:38 2015 +0100

    Don't assume that the `stack` property is always available

commit 8b26c124560780bb9bb4e7ecc9d040ca42117423
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 3 00:01:50 2015 +0100

    Fix warnings

commit 1a106c14d8f9289e5c4465f6e66c62cbec389d7b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Nov 2 23:45:31 2015 +0100

    Update the Windows build system (untested)

commit 24786e788a9a8f409953abb72204e81a61615443
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Nov 2 22:50:18 2015 +0100

    Ignore requests to unprotect after the context has been destroyed

commit f0c61a4e8e06f99bf56fb589f45a77e5dd862d99
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Nov 2 22:36:36 2015 +0100

    Add ScriptBackend.supports_unload()
    
    Turns out that JavaScriptCore isn't deterministic about when a GC will
    clean up everything, which means our code cannot be unloaded from the
    process until some point in the future. Otherwise our finalizers might
    get called when we're unloaded, or after we threw away our heap.

commit 0264d8b642aaf66dfe50c6b81f53f6945d224225
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Nov 2 19:06:07 2015 +0100

    Never call JSValueUnprotect() from finalizers

commit f5d23b4e18d0e39459b8bd79476276867e630fbe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Nov 2 14:01:35 2015 +0100

    Fix ScriptBackend reference leak

commit 9245b4bf6819e7c12e0c164e74c7b9270b1c219e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 21:18:23 2015 +0100

    Handle modules without any exports trie

commit e85094818231ccd96f0cafb417922b7d54a1a6bb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 13:53:53 2015 +0100

    Update the GumJS vapi to match the new API

commit e7b00f314a719959a8dab8d624fcdde0deb53cf8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 13:42:44 2015 +0100

    Fix remaining tests on JavaScriptCore

commit 0a85de9490d4cd2287a90c5c068676159c424796
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 13:42:14 2015 +0100

    Only use the JavaScriptCore backend on Darwin

commit e62ffab0f3867a4eec857527385b81373f61242a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 13:15:43 2015 +0100

    Fix crash due to initialization depending on property set later

commit b82317f15c42a587686a2fd9d1849c4d3d04aef4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 02:47:09 2015 +0100

    Allow attempt to revert a function we didn't replace

commit ec27eaf9e3a518f27704b2d04f7591c45c893875
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 02:45:01 2015 +0100

    Fix initialization of private data

commit 2b0e40ba79169c1ac987630f07f519dadd357754
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 02:29:36 2015 +0100

    Fix warning caused by disabled test

commit 75e5c280f9ae9ff64e61f9da189538f801db9acd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 02:24:38 2015 +0100

    Update GumJS tests to the new API

commit 09f59c18c4a459d53399508efafe4e8917dcbd22
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 02:07:27 2015 +0100

    Add gum_script_backend_obtain()

commit be298a8f298cb8e42e5cc2ebbcfc8f7fedf34331
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 02:06:37 2015 +0100

    Remove redundant cast

commit 86d31eb6f6f2a9a70ce888d0a6b7a4a17b9d6dff
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 01:26:13 2015 +0100

    Keep reworking GumJS towards its new API

commit c92d0874edb2eb86736cf9163a4bc3c83add69ec
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 31 04:55:37 2015 +0100

    Move the V8 thread ignore logic to where it belongs

commit c4f2226f20cbb7503abd5f08c32f9a28b1c121e3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 31 04:19:22 2015 +0100

    Keep wiring up the V8 runtime

commit 5b93cd72bcb34fde3d922567fa7ee2d5649144bd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 31 04:11:17 2015 +0100

    Fix typo

commit 205a8ffee77510e67725821262e62d946410ca9b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 31 04:10:43 2015 +0100

    Wire up most of the V8 Script logic

commit 353228ecc838086a6f2bc3190ae936cc98d766fe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 31 03:26:04 2015 +0100

    Wire up script creation from the backend's perspective

commit 0c1f6728c7cd18d49aaaccce7ca7329f9d894dc1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 31 02:56:26 2015 +0100

    Implement basics of the V8 ScriptBackend

commit f41edc3b76d3f93d3a15088404d9b3d58c604727
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 31 02:56:04 2015 +0100

    Fix copy-pasta errors

commit 5c0da2d762f6749a324ebc5a65b53d08e9fa1b7d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 31 00:29:17 2015 +0100

    Fix ScriptFlavor type mixups

commit d02bff01ea1c3ed77125176fa44d568054dd0e73
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 31 00:28:35 2015 +0100

    Add missing G_END_DECLS

commit 200f3eeeec6dab0dc232e2179f91b59be418cfcc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 31 00:15:41 2015 +0100

    Keep adding missing pieces

commit 5bfd71ead78896078441e833c63333b7c75b8c45
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 30 23:23:37 2015 +0100

    Fix some naming mixups and start updating the build system too

commit ca7f0db7e2cc4db934aca9d92ac94305a18e57a5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 30 15:34:04 2015 +0100

    Rename the two backends

commit 45d2b14df48dfc08df6de933bbec4379eb457990
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 30 11:07:54 2015 +0100

    Start splitting Gum.Script into two interfaces

commit da8d8dad885efa7001c1b574806d15781ed23c52
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 30 11:07:12 2015 +0100

    Fix coding style inconsistency

commit 790e652f992d78d4e40c463a142a05314724a9de
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 30 00:33:43 2015 +0100

    Code-sign the mapper-test program

commit 0f194953aa51e25a04fcdb7f17ab67141a549588
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 20:33:04 2015 +0100

    Fix another strict mode violation

commit 954c2799f64fcb80d63643cd601ed12b05412c06
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 20:29:22 2015 +0100

    Fix accidental strict mode violation

commit aee04788aac303b09555b4f9a3554dc5bc527063
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 20:08:41 2015 +0100

    Fix accidental strict mode violation in test

commit 8e3cf1b6d9fd39505424fbd7e64b2e76189dc81f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 20:03:00 2015 +0100

    Fix confusing behavior when trying to access inexistent properties
    
    Also, emulating the same kind of weird behavior on JavaScriptCore is
    tricky due to the runtime checking if the property exists before trying
    to get it.

commit e7cbbbdede150ed4e8c17cfef6190959a95700d2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 19:56:54 2015 +0100

    Avoid losing bits when converting large integers from JS to FFI
    
    We will still lose some due to the nature of JavaScript numbers, but no
    need to truncate to a 32-bit integer.

commit 0c189520451dd84e0fcc2be9444d75916fe00553
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 19:53:02 2015 +0100

    Add value conversion helpers for 64-bit integers

commit 56a5092f61dfdeabf62f6cd8a4835a0995c73f1b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 19:51:58 2015 +0100

    Fix inconsistent return value of has() trap

commit db2b919caef94bb2f71a203f6974955ca2b036ad
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 19:19:07 2015 +0100

    Fix NativeCallback callback life-time

commit 4b3c2e5e9d8ab3d1d5200e04d9a522b10b7b8948
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 18:35:29 2015 +0100

    Avoid ES6 in the ObjC tests

commit 89db77395ab6276e64f8de6870484d064be42510
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 18:34:50 2015 +0100

    Run all test code in strict mode

commit 4cda068536bcf42841bf77fe4d89838bcd0ba9b3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 18:16:59 2015 +0100

    Add 'O' argument format specifier

commit 8247d94ddfed26297abc5266a0688ec937b21ba9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 18:16:32 2015 +0100

    Add support for choosing the Proxy's prototype

commit 068366a5e5446d89f89270a02d5b3fafecf33ec2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 03:43:59 2015 +0100

    Avoid ES6 in the generated code passed to eval()
    
    Otherwise it won't be portable to JavaScriptCore.

commit 8237629ccfc8ce931a6becd1f717338f5503abb0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 03:43:36 2015 +0100

    Add support for passing object with `handle` property as NativePointer

commit e6a90db17da7e514ffc4cde0fcea01aab94c9392
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 03:31:09 2015 +0100

    Add a minimal polyfill for ES6 Proxy

commit ec83bb22cb4375876302e342d0a0724920f09374
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 01:02:00 2015 +0100

    Implement the Kernel module

commit 9f33682cf29818a2e2d6a5469c9297d6e7484449
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 01:01:41 2015 +0100

    Fix constness of bytes argument of gum_{memory,kernel,darwin}_write()

commit b034ae1c5bd7e7eb540b192c9ca2e6f1f682e4e5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 00:24:28 2015 +0100

    Implement the File module

commit 4e3d821946fab712531e1e4a0e24c13c0b170d0b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 23:37:48 2015 +0100

    Implement the Instruction module

commit 04e3f5eb9b8dbee8af97b02540dbfe43294328fd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 23:37:38 2015 +0100

    Fix disassembly of Thumb instructions

commit 065f27159046bd1f6751633a1409b6a1253e754d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 20:09:09 2015 +0100

    Implement the DebugSymbol module

commit 9b4bf88255dcf562e1655fe91dedf4c7fc1458f3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 20:08:33 2015 +0100

    Add macros for declaring and defining converters

commit d5997f34504c432321dbcf3a49165bdf8b059033
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 20:08:15 2015 +0100

    Fix confusing naming

commit 29f731dfaa11294537db409bb5db543889087d6c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 18:36:59 2015 +0100

    Fix style inconsistencies

commit 0c58d0aaaeed249ee9fa41fb28add83f307bf8d8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 18:34:42 2015 +0100

    Implement the Socket module

commit c952d2fd9480105266cb64abd5f87e13ba11ce7b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 03:43:37 2015 +0100

    Implement Module.findExportByName()

commit 0dcc35736e539d0fa0a8f5dd7f5705429683c442
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 03:43:20 2015 +0100

    Add support for parsing nullable strings

commit 80d117ac63446975181354d6563bc80534c09f7f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 03:33:09 2015 +0100

    Implement Module.findBaseAddress()

commit 1c923ffef7f84a3acda0af0a61e7ca645b0f8946
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 03:27:47 2015 +0100

    Implement Module.enumerateRanges()

commit 72456f9e9f00a52b38a0f0c49204570c7e4b5210
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 03:18:42 2015 +0100

    Implement Module.enumerateImports()

commit 5b4c020b411044e4c412d68e10c2248317514c75
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 03:02:20 2015 +0100

    Fix minor inconsistency

commit 5230979717cde2d2f4afb372ea6597065c6273e3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 03:02:08 2015 +0100

    Implement Module.enumerateExports()

commit 595766a260328cde0113deaf11459525711f5783
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 02:28:33 2015 +0100

    Add support for source-maps in the JavaScriptCore runtime
    
    We also convert the stack-trace to the same format as used by V8.
    Note that JavaScriptCore doesn't provide a stack-trace preparation hook
    like V8 does with Error.prepareStackTrace(), so we expose a helper as
    Script.symbolicate() that we call automatically for unhandled exceptions,
    and allow this to be called explicitly by scripts that would like to
    handle and report exceptions themselves. It is also safe to call this
    from scripts running in the V8 runtime – it doesn't modify the value at
    all in that case.

commit e74f7482d23dfe9bf5bdbd13167919d8960ebbb1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 02:20:44 2015 +0100

    Ensure that the base64-encoded source-map is valid UTF-8

commit 2dede15ea47e121456022c8f67a9fc76fe014397
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 02:19:53 2015 +0100

    Implement Script._sourceMapData

commit 40c99b24d9ae11bd7c35d583b6baabdc7e842180
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 02:19:39 2015 +0100

    Implement Script.fileName

commit d4d9538edeecdcb3c004f7b20b1866506c9df1a8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 02:18:53 2015 +0100

    Add Script.runtime property to know which runtime is being used

commit 7b6ad60f7b130f401811cc695a8c304433a22447
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 14:52:28 2015 +0100

    Implement WeakRef.bind() and WeakRef.unbind()

commit 0d47efea450507c9eba8f5d97285df5cb58e3fd6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 14:51:59 2015 +0100

    Remove unnecessary atomic operations
    
    This code is protected by the V8 lock.

commit 2f833c7008e50f85063fffaf6377333c23b61f92
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 01:49:23 2015 +0100

    Implement Process.setExceptionHandler()

commit f3311a2eb1db3d9e21919e81ce7ed6c9af0b4a3a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 01:48:51 2015 +0100

    Implement the rest of the exception parsing logic

commit 32be6e2399fb288d1dfad4d53afcb58c0aad3319
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 01:48:20 2015 +0100

    Rename argument for clarity

commit 8f9730c0ff829b216fa9863948d0f611e7ba2e2a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 01:48:08 2015 +0100

    Add convenience API to get boolean values

commit 4030bb6515c48a85a79ef7bb032e9e81ccca8fff
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 01:12:35 2015 +0100

    Throw if attempting to enumerateMallocRanges() on an unsupported platform

commit 65e2aa001104e1ce3f3238d2c813efdeb5654c28
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 01:08:12 2015 +0100

    Implement Process.enumerateMallocRanges()

commit ea0724a19d67e853a4b215413e2120a6c3865939
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 01:03:47 2015 +0100

    Fix Process.enumerateRanges() in the V8 runtime
    
    The `file` fields were set on the wrong object.

commit b1d935e87e574450622e051ce73c44671b786596
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 01:03:19 2015 +0100

    Implement Process.enumerateRanges()

commit 0c1b17c13581dd3d1b8f18406b192def8d07a00d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 00:52:53 2015 +0100

    Implement Process.enumerateModules()

commit 48ad324695c830472e0d77bfd384b3fb886e58f2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 00:36:59 2015 +0100

    Implement Process.enumerateThreads()

commit 8229a5fa939a70b3f646d779b470725a1a9e8ac9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 00:35:55 2015 +0100

    Add GUM_SCRIPT_SCOPE_INIT for using an already entered scope

commit f7447574e8eb4667c1af061b9f4fb49aba7f14f7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 26 23:52:20 2015 +0100

    Fix Memory.writeUtf16String() typo

commit cc025ab47b8f176497c0d5862e7105f83f8b0ede
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 26 23:44:30 2015 +0100

    Implement Interceptor.replace() and Interceptor.revert()

commit 0c8194cc947fa9aafb032b75b9bb0c72ba0490aa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 26 21:33:11 2015 +0100

    Fix NativeCallback crash on finalize
    
    We should rather store a strong reference.

commit 95bc984251dde69093170bd1cc9eb4bbceb557f7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 26 19:55:02 2015 +0100

    Implement NativeCallback

commit ae68620be421e45837ba1fc06c9a212d2e5d3fe8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 26 16:29:04 2015 +0100

    Fix native_function_crash_results_in_exception test on JSC

commit a6cf5dd18121dfc71b7666a223f74208e057ce3e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 26 16:14:46 2015 +0100

    Implement NativeFunction

commit 7ae7767fab86c31a87a87952351aaafd073a145f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 26 16:14:24 2015 +0100

    Avoid unnecessary work for ignored exceptions

commit 67f8fd2a6e87322c3c676a3e7bffcb3cbcc9ee7c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 23:31:04 2015 +0100

    Start implementing NativeFunction

commit e0115517cf4c781cdb725b4cd6bf7d2c2188aebc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 23:30:22 2015 +0100

    Remove redundant return statements

commit 3c76a12490824e6d39a600c01df9d2fbe22c6d15
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 23:30:14 2015 +0100

    Add support for parsing any-values and arrays

commit b8abb91403ae760d07f88ec006fe05a4c3484713
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 22:46:13 2015 +0100

    Use g_clear_pointer() for some easy DRY improvements

commit efea3537c1e607fbace41be66dc5983cdc240af6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 22:22:24 2015 +0100

    Make the class registration logic a bit more DRY

commit 3cd96902d22dd22c58ae4e210348c841bf97b527
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 21:59:50 2015 +0100

    Add support for getting the thread id in on{Enter,Leave}

commit a68dacf0363fc7ca188e21d3faf84252efed6e03
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 21:46:19 2015 +0100

    Add Thread.backtrace()

commit cb19bb1b185cdcdd619c59619ea42253059b4b21
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 21:45:45 2015 +0100

    Fix syntax error on ARM

commit 6e1cd8dc82bd42dcbbdc1f86607c903cc58ccd6b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 21:03:19 2015 +0100

    Add support for parsing CpuContext values

commit 463199bbe159e5f28a925e712c19541b2958d418
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 19:40:32 2015 +0100

    Use “F” for function specifier

commit 29b4f271ec2bf8cf6fd5687c62f2ec45d73ead7c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 17:10:05 2015 +0100

    Add support for reading and writing errno/lastError

commit edeaedfbfe0ee3c510f8395c419618fcf9e9dc2e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 17:09:04 2015 +0100

    Introduce GUMJS_RO and GUMJS_WRITE for specifying attributes

commit 24c61d701c7529ab289a978b0dd13449375739bf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 24 12:52:19 2015 +0200

    Add support for reading and writing registers from on{Enter,Leave}

commit 55b4329345c162eb47b1c1ae91b3306a0371a2e0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 24 09:52:04 2015 +0200

    Guard Invocation{Args,ReturnValue} against use-after-on{Enter,Leave}

commit fdd44cae9c4410158f1c21d742d5a9221ce92fb0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 24 09:13:09 2015 +0200

    Add basics of the `this`-bound context object for onEnter/onLeave

commit 0591bc620c7641057089cb2c6eb340ed72ba4d87
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 24 01:33:18 2015 +0200

    Add support for replacing return values

commit 9be1177d0882d7e2c55fe5833294776fb8509631
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 24 01:32:24 2015 +0200

    Improve NativePointer to support subclassing with native data

commit 4ff2f58c2970c2e32a9dec7dc8456d338e9c3ab8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 23:46:05 2015 +0200

    Add support for reading return values

commit 89e6371c20fced7376f5c5b028ad86726d1e04b5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 23:45:41 2015 +0200

    Add convenience macro for updating a NativePointer

commit cb129531fc0ff655bc5fb5dc6c24f6ab07ec0d9e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 23:32:01 2015 +0200

    Add support for reading and replacing arguments

commit fab668d24e395efa4a595a2be8e687208457135d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 23:31:07 2015 +0200

    Add helper for parsing JSStringRef containing an uint

commit d1b3bf00013a9a09149f8779e95924ee4fc211d1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 16:19:18 2015 +0200

    Let Thread.sleep() return immediately if delay is negative

commit c36d513301ab1e34161e5b7538dfdf1bbf2c9615
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 16:17:25 2015 +0200

    Add Thread.sleep()

commit 70911a17c90f884f65da57c84ef60dbacaa1860e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 16:17:11 2015 +0200

    Add API for yielding the JS runtime

commit 82c7c7c5108751444e5536b6297dd9dd84db44fe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 16:03:16 2015 +0200

    Add stub properties to the DebugSymbol module

commit a1e7c8675ec7db6dd3286604db0305a07acc59e1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 16:01:21 2015 +0200

    Add stub property to the Instruction module

commit 6fcfdd01cd6d7ae9a7f48c7f42af22bac24007f9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 15:58:58 2015 +0200

    Add Stalker properties

commit 65d2dc66a2e71f046c977919315bb9e8d7416c98
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 15:58:39 2015 +0200

    Remove unused field

commit f90b6e3b4417410ffb4449fcdf45831c523d299f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 15:58:29 2015 +0200

    Add property setter macros and improve consistency

commit 7d3e60e6f9c751808817e7d36b07a9364687079b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 14:52:43 2015 +0200

    Add stub properties to the Stalker module

commit 205e743ce6d23b7e75c0b4b26e1362cff347e56b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 14:50:37 2015 +0200

    Use stubs for unimplemented Interceptor APIs

commit 0236c24eeafe4c000cd4ee5979cd1e785b01f93a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 14:47:25 2015 +0200

    Add stub properties to the Socket module

commit cc7cb6df30528de6fae1a75d00b1d59ff2707463
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 14:45:03 2015 +0200

    Add stub properties to the Module module

commit 939e4a19eede2c810841463654b0395062d5f927
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 14:41:54 2015 +0200

    Add stub properties to the Thread module

commit ce1e11681d3ba65e70fa50c87002f5394f6da44f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 14:37:09 2015 +0200

    Add stub methods to the File module

commit 43d4d679b5050b968e22aa7a0c256525d977e138
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 14:28:00 2015 +0200

    Add placeholders for the remaining modules

commit d0941e2e0ce0abcd21514b7472dba700af7d0cb6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 13:55:58 2015 +0200

    Add placeholder Kernel module

commit 09a5facc1df20216db33d74e4b2bffb636610ae0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 13:36:17 2015 +0200

    Rename macros for consistency

commit 718396d6bc07dd98edaaaac202d6ff8ab795cd74
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 13:30:52 2015 +0200

    Add MemoryAccessMonitor stubs

commit 11c789c6e8b45d5f509e377996924d0701c4b031
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 13:25:07 2015 +0200

    Add Memory.scan()

commit 5570097721921f9cd35e96654f72b3ac39d5772e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 13:24:48 2015 +0200

    Fix “p~” for NativePointer values

commit f44db22b0d81f77a5fc7135ccefa0aea23cc5f11
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 13:23:20 2015 +0200

    Protect on_enter and on_leave callbacks

commit 1a5d3f4b03a3d522cf6304ff0e56869668f2bc2b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 13:23:09 2015 +0200

    Add API for scheduling jobs on the thread pool

commit a91a5a5e3ef72e20defacae7bbe690027b56de10
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 13:22:50 2015 +0200

    Allow flushing any pending exception in a scope without leaving it

commit 4fb5c919d2af013f759bef385ae7ca30f68dd359
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 11:50:03 2015 +0200

    Add Memory.allocAnsiString()

commit dab763018d05168cc628fb45031fed3f3991e033
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 11:46:05 2015 +0200

    Add Memory.allocUtf16String()

commit 3cb94f02a1849ddbd922c9a4624d561e80b1c4e7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 11:43:16 2015 +0200

    Add Memory.allocUtf8String()

commit e4516fe12788a0b7d8ba2256259283c4b776a9a0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 11:36:25 2015 +0200

    Add Memory.protect() and improve Memory.copy()

commit 8474e1acb58a2aa693b060b88ac64bc62c35a124
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 11:36:00 2015 +0200

    Fix return value of Memory.protect(size=0)

commit ab0f2c0a1403d55052189ae278c9fa550ac39b69
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 11:35:40 2015 +0200

    Add “m” conversion specifier for getting PageProtection from a string

commit 4553e9197bc245980fc969c21cdf8f43d8df0659
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 11:15:28 2015 +0200

    Add Memory.copy()

commit bada5542c6a842aabd8932c4ec2bc7d7a44112a4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 11:15:00 2015 +0200

    Add support for the remaining JSC error metadata

commit 49290e55eff121b729a45619d324689b9db69368
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 00:34:29 2015 +0200

    Add Process module and wire up the basics

commit fa193f825c7787b2fa695b776064ec2a813ff911
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 00:33:46 2015 +0200

    Add convenience API for setting ints and uints

commit be4ebb2434043a58f672892506a9e7d5169ad88f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 23:57:32 2015 +0200

    Remove redundant namespace prefix

commit f49066c05eca99e3b019ff98ce73999b2eb49d58
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 23:56:52 2015 +0200

    Add gc() for testing purposes

commit 1c0ee3668825260bb5b23ed98a787c0359b346d0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 23:56:34 2015 +0200

    Implement the weak ref API based on JSC internals

commit db368350969c3327ed9005288040d0a17cd4c3ca
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 19:19:53 2015 +0200

    Start implementing a weak ref API

commit ded3fcea48576bec4e335d44f7a80321f14e0d16
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 17:17:03 2015 +0200

    Implement NativePointer arithmetic operations

commit c107b43316c911fac1a535280331effdcb629530
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 16:39:40 2015 +0200

    Start implementing missing NativePointer functions

commit 33ed1054c1e68207d4a57f0b4cd8170c1a313314
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 16:09:50 2015 +0200

    Add NativePointer.isNull()

commit e5bc2dc2338b839bcfd5e0e6748688e140b47af8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 16:01:44 2015 +0200

    Implement Memory.alloc() modulo weak ref

commit c953c8cbc2fb8ecb0d152586aec0e1473c1acea2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 16:01:14 2015 +0200

    Improve helper macro consistency

commit 3dbc3f49044fe60fa75c50723ee54f9808fe2a96
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 15:15:32 2015 +0200

    Implement Memory.write*()

commit 5c31f4eada04a1e7a07374a1f7d49424a671293b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 15:15:23 2015 +0200

    Improve the value parsing API to fix some corner-cases

commit 4558951a3681c7ee1388553d44c56abc80e771c7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 14:01:15 2015 +0200

    Simplify argument parsing in Memory.read*()

commit 304077bdb59f434eb614fde239a5ca68082e421f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 14:01:00 2015 +0200

    Improve argument list parsing to handle optionals better

commit 0e06318eb3dc6dca8e289ce5eb5b94a3e1408421
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 13:35:32 2015 +0200

    Remove unused argument

commit 8ab3241572c3444005b5d0d4ea0e567cd52a3dcd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 13:35:03 2015 +0200

    Add a Promise polyfill for the JSC runtime

commit c300eaf2facc221e8b5b0ff8902817fccc00eeae
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 13:17:33 2015 +0200

    Implement setInterval() and clearInterval()

commit 1f85619d6547cc3c8663e130388ab046a19846aa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 02:41:45 2015 +0200

    Fix argument parsing past the optional boundary

commit 789ad9a0de8bd59a2ae74a61a2e03891932c6ea1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 02:35:46 2015 +0200

    Fix leaks in the argument list parsing logic

commit c823fcb71b2412d25973ac7af4cd83e9a17ceb1a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 02:20:10 2015 +0200

    Remove temporary logging statement

commit 913f2aa2560f84c4066f8efad9498ef45b1f59c8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 02:19:30 2015 +0200

    Implement argument parsing for remaining types
    
    Also adjust the type specifiers while at it.

commit 8484848548274335496e972448bef40f81126d46
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 01:16:49 2015 +0200

    Also move GumScriptArgs to where it belongs

commit b71b700c77c6e9573398d752c77af42e44a32a43
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 01:14:32 2015 +0200

    Move the argument list parsing code to where it belongs

commit 3de3126f8392a7a64d04dbce0ad4d2bee822b345
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 01:07:48 2015 +0200

    Clean up the value conversion API

commit 0f2c666367c5ceaecd61f1a76e62613bad02b73e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 00:29:45 2015 +0200

    Handle nullable function arguments

commit eb22211d0e636d52f91e48c82195a4fbd76c64e9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 00:29:02 2015 +0200

    Remove obsolete parsing helper

commit 96c71a5ac69064cc39a2b66e671b42ba6605f493
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 00:17:32 2015 +0200

    Remove some cruft

commit de5ca6865b2f6619bf5ff1c28a1810fa4f6522fc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 00:14:27 2015 +0200

    Improve argument parsing to reduce friction

commit 9cab3cec5c0f1be5831bc417dc6c08f5090436d3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 21 22:54:29 2015 +0200

    Tweak argument list order

commit e651396c2b6f6299f9bc0f03ad2309959c051bd6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 21 22:52:42 2015 +0200

    Fix _gumjs_panic()

commit e07c0c4fb57d847431ea6967c0307c87c9b6cc8b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 21 17:07:22 2015 +0200

    Start implementing setTimeout() and friends
    
    Also start factoring out argument list parsing.

commit e5b1fd02dd29c4f46dcab987f7e3e1d5ace2587e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 21 17:06:32 2015 +0200

    Fix generate-runtime.py regression on Python 2.x

commit c97ff18a37477fac7d670af8307379c5384b7ed6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 21 00:32:12 2015 +0200

    Add support for parsing an ArrayBuffer into a native buffer

commit 1d4ec96dd7976dfca92101b596eb977ae41192c9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 21 00:30:51 2015 +0200

    Remove assertions that conflict with dynamic linking

commit b15a81b0f9e37ca2db5be20f76c5c077838ea592
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 21 00:11:13 2015 +0200

    Clean up ArrayBuffer logic

commit 72a1e660880357e7126226a7c0b5a5fce02f62d9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 21 00:10:54 2015 +0200

    Use the ArrayBuffer API to add support for Memory.readByteArray()

commit 6841f75b641d11672691cbb21c74b71b13e936cc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 21 00:10:37 2015 +0200

    Add support for interacting with ArrayBuffer objects
    
    Still needs some debugging.

commit 42c0539e2ec7267e43fa097453125b8084e30209
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 20 14:24:38 2015 +0200

    Remove misplaced comment

commit 015d27a0bf8a6cb6a4db58ad2831ba2e811c81f1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 20 14:24:31 2015 +0200

    Fix style inconsistency

commit 47ac4cd144ba7c04e3f2842b7eb6878cad762eff
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 20 14:23:58 2015 +0200

    Implement most of the Memory.read*() API

commit 0519a4d17f43e706af610ca01e281cca11d26f0c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 20 01:31:50 2015 +0200

    Avoid ES6 syntax in the rpc test

commit 5197eac5fa4f39d2f875eed4ffb7a4149377e927
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 20 01:30:40 2015 +0200

    Print error before asserting

commit a8ff932f02ae71008687b8ddd7978dc53b402292
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 20 01:13:49 2015 +0200

    Wire up on_enter() and on_leave() callbacks modulo arguments

commit e061b3f46bcf1109a2e2d51c3917743b6a6ef189
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 19 17:58:43 2015 +0200

    Wire up the attach logic

commit ee363b59294fb99b7123f2ec47d66fca887fbefe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 19 17:48:54 2015 +0200

    Improve the value marshalling API

commit 0edc2eda4e819dea9af48416695182c830169796
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 19 15:40:55 2015 +0200

    Fix NativePointer constructor

commit b1c2864e665d9c13f7e13211c5e5b74c7b92206b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 19 13:31:36 2015 +0200

    Parse the first argument passed to attach()

commit 581158a441dbddc418ec3de4cee6ab48880803d5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 19 13:25:14 2015 +0200

    Add helper API for parsing NativePointer values

commit e3e2c59254a7e4727bd1287ede259e16518a1620
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 19 13:00:40 2015 +0200

    Add scaffolding and basic wiring for Interceptor

commit 5c46e049f7a7b7b221a67d5082378a3119734283
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 17 00:02:22 2015 +0200

    Use `global` instead of `this` in the runtime

commit a4bc64bafa00dc07bfd6af1fbed68376cff6e85d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 23:49:48 2015 +0200

    Wire up synchronization and refactor

commit 97ddcb562b6d4101094a5b1fa2af5504a91be059
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 20:41:10 2015 +0200

    Wire up basics of recv()

commit 394a8d29588794ac469b6b4a8100e7222f6902b3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 20:11:16 2015 +0200

    Add basic handling of the data argument to send()

commit 433c6019922b23ecbc86ecf72dd0f4db3b621108
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 19:46:17 2015 +0200

    Wire up the basics of send()

commit 740bad36c8aa026c184a79d5396415d4e71c9aed
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 18:43:09 2015 +0200

    Add more scaffolding

commit 0d752e0ae9c6a12cbe85b93b5f447d7d0a6b5834
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 15:27:34 2015 +0200

    Add `Frida.version` and more convenience API

commit 83a716c455de1d1177b0535db0c6a07c429630a3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 15:10:31 2015 +0200

    Add stub implementation of _setIncomingMessageCallback()

commit 7db1cbc6af9005c32c3ac6adf54296921ca4f6e1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 14:56:14 2015 +0200

    Implement NativePointer constructor

commit 2cd0c29c22e7454f03b8901f4042279a08ec0379
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 13:40:18 2015 +0200

    Start wiring up the core module

commit d1bffa747451cc1f88999704f0d1ea01bdf3aa5d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 11:26:39 2015 +0200

    Load runtime and handle errors

commit 3fcccd26216de1ae813ef5cd1daa9a0c596dd471
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 11:10:19 2015 +0200

    Fix conversion of error details

commit 2fab93d7ffdc2882e3616f07f5d25566077555ed
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 10:35:41 2015 +0200

    Switch to the plain C API of JavaScriptCore
    
    Objective-C is not too happy about dynamic unloading, and will also
    block us from using that engine on non-Apple platforms.

commit cfc98d5b1497e32e30418f53a3e2f7a82d8b25af
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 01:08:37 2015 +0200

    Add scaffolding for the core module

commit fa01e2b0acb1725e1d8bf78abc9ce6ab849b0986
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 00:20:44 2015 +0200

    Load runtime scripts into the JSC runtime also

commit 6e4f4f3e35e0083bd0f3692c7239d80be22a49a3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 15 23:04:23 2015 +0200

    Wire up the basics of the JSC runtime
    
    First two tests green.

commit aaac2884d7a59a4d4c41e4baf2657c77a0c20d2a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 15 16:38:05 2015 +0200

    Fix minor style inconsistency

commit f8cd8cb6d41699cb32790d4d5ce90d6a32afa9e2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 15 16:37:39 2015 +0200

    Add scaffolding for a JS binding based on JavaScriptCore

commit 8f262ee5924a9bfda7081bd603cbf1fe95a17a87
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 23:46:51 2015 +0200

    Skip the GumJS test suiteswhen rwx pages aren't supported

commit ddce97f365546bc4cf32ecc096237af4fe21349b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 23:42:45 2015 +0200

    Skip the attach_to_darwin_apis test when rwx pages aren't supported

commit b75b4634975afe3b334762301a82d4b2faa4abd2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 23:13:53 2015 +0200

    Make the export resolving logic a bit more explicit

commit ad2a31a15841c9ae7739c0235c4130a140cea710
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 23:09:46 2015 +0200

    Fix enumeration of reexports on iOS 9

commit 513bb50b8f76f2fbcb1cf11612dd1d1c4fc91cd8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 23:09:14 2015 +0200

    Add gum_darwin_is_ios9_or_newer() to the Darwin API

commit 3833c6d9871c26580fbd76b7fba475a4b8168661
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 22:42:42 2015 +0200

    Avoid platform-dependent formatting of exception message

commit 278b4a73fc4176e2206e28ac1bd1865ac19af082
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 17:25:41 2015 +0200

    Improve ModuleResolver to also consider reexports
    
    Symbols of reexported libraries are no longer included in the exports
    trie of libraries that reexport them.

commit 82d6a0050e2b954e54e7eccc4740357e2ca9e784
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 17:24:10 2015 +0200

    Add reexports to the Gum.Darwin.Module API

commit e0d2c344a4ae8d2deeef8b8090c7078b6ddfcf9d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 16:40:20 2015 +0200

    Fix remote page size detection on iOS 9 and beyond

commit 525a72dac2e78621183f2e8ec2077e3eff375d3e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 15:31:09 2015 +0200

    Temporarily disable test until after the next release

commit 798cffc54f60becedc1040e72b4fc448b0eb3246
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 00:42:23 2015 +0200

    Add failing test for attaching to replaced function

commit 6d2f65f7f5031ff4429b9bec942b49e2a5f31c1b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 13 23:43:53 2015 +0200

    Relax the native_function_crash_results_in_exception test
    
    We might get a spurious error message on x86-64.

commit f2e91bcf2d6f9c184ea37c7064a6e21d8cbc5fcc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 13 23:43:19 2015 +0200

    Abort when we're stuck in an exception loop

commit 667572275fb2a06bf0b9c68b810676d8e0186fad
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 13 19:43:33 2015 +0200

    Fix relocation of ldr.w instructions on arm64

commit e2177c3bde2e756adf6faaa093628aa8020916fa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 13 18:49:54 2015 +0200

    Fix GUM_ARM64_ADRP_MAX_DISTANCE constant

commit 639bd672b2620d98b8aea69fdf7a8d9cad838089
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 13 18:38:13 2015 +0200

    Fix GUM_ARM64_B_MAX_DISTANCE constant

commit 577901e25051a86628839c7d9ebc61abec5f9b12
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 13 17:31:29 2015 +0200

    Improve locking behavior in the ignore logic

commit 891c0e47cc5e1c33562b2740fa43a3bc48e4fc1b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 8 17:26:08 2015 +0200

    Add gum_script_unignore_later()
    
    This allows us to avoid a deadlock situation where the GThread cleanup
    acquires the slice allocator lock, which triggers a callback into the
    runtime, waiting for the V8 lock. Meanwhile another thread is holding
    the V8 lock, but a C++ callback tries to allocate memory and tries to
    acquire the slice allocator lock.

commit d39bbdd0daf8aacd8d2ceda106022e3de169489a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 8 14:05:26 2015 +0200

    Fix deadlock and improve locking in the GumJS Interceptor integration
    
    - We need to make sure the interceptor ignores us before we acquire the
      lock, which might reenter back and lead to deadlock.
    - Keep a reference to the interceptor to avoid it getting constructed
      and destructed violently when no scripts are instantiated.
    - Use an RWLock instead of a Mutex.

commit be98a7652b3b46f407ae80c209a064ae70ce6e28
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 8 14:00:12 2015 +0200

    Remove G_LIKELY and G_UNLIKELY hints
    
    They were meant for documentation but just make the code less readable.

commit ac9b69b7b385072489ecf537def392a18a1b84be
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 7 13:07:10 2015 +0200

    Fix instrumentation of arm64 functions with early usage of IP registers

commit 7ef8bbeefbfe25edb4e90458a00bbb42a33ef371
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 5 03:07:39 2015 +0200

    Don't install a default exception handler for now
    
    Needs more testing.
    
    This reverts commit 456f8212df3704184f7da5e81914d4d1f759d3bb.

commit d2db19d5322236f9c2400a9283ea9d1d3051366b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 5 02:13:17 2015 +0200

    Add missing include

commit c05eb4410b22329c5c757e24a7f99c9ee87ebe51
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 5 02:03:22 2015 +0200

    Fix Linux build issues

commit 456f8212df3704184f7da5e81914d4d1f759d3bb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 5 01:52:39 2015 +0200

    Install a default exception handler that emits error messages

commit 897404ade8594e4d984b7f53aa9c75d1a3ad518d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 5 01:35:53 2015 +0200

    Improve the signal handling and remove the exit exception type for now

commit 43ca5967bba26140fedd88a7fa8936e924d34756
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 5 01:22:47 2015 +0200

    Improve ExceptionDetails error message

commit c402dcb79e282a77a8cc06447540534c2c11a72e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 5 01:22:14 2015 +0200

    Improve MemoryOperation detection logic

commit 09418d8730a9521ccb7dd4840f2ffae5e77c1fde
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 5 00:50:10 2015 +0200

    Turn NativeFunction invocation crash into a JS exception when possible

commit 4fe46f2aee70154f0bdab2b4e637709452d3e981
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 5 00:49:20 2015 +0200

    Throw proper native exceptions everywhere

commit efddb2bf5c3b249916d6e0ee500840ffc35ce483
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 5 00:46:16 2015 +0200

    Provide a proper Error object to the exception handler

commit 93a21148c39ada8acf15e8fda085efe67947762d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 4 22:29:02 2015 +0200

    Improve handling of fatal signals

commit 01a4bfa489993f9f6263a3a66fd25f7031555bd3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 4 21:45:25 2015 +0200

    Fix warnings

commit 47ce9eadbf2de1335f6970d649c60ac0a0c73851
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 4 21:45:19 2015 +0200

    Gracefully handle it if we cannot replace native functions

commit 0f6e682a506ff5c128269540c73eafd78ebf4ec5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 4 21:36:10 2015 +0200

    Fix Stalker regression

commit d8281e44d79829af1b09cd11cde37dcb166457ac
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 4 21:25:12 2015 +0200

    Fix teardown logic

commit daaffec9a64df0446f1c825f591bc8347219d7d5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 4 19:44:06 2015 +0200

    Improve Exceptor and start porting it to Windows

commit 0a798594e9b79954358ab9a810fd6637f68eda06
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 4 14:33:49 2015 +0200

    Start porting remaining components to Exceptor

commit 8e682dda9e90302f8183dd2588485bfda2147caf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 4 02:26:04 2015 +0200

    Port Exceptor to Linux

commit bbdd2de9c6873bcfd555392b2f39bd1be5b5aa23
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 4 00:44:35 2015 +0200

    Fill in the exception object with all of the details

commit f8f4f04e219c0f6b1d5f0f59f7258e77aa183809
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 4 00:14:58 2015 +0200

    Wire up exception handler modulo details about the exception

commit 844583b065cbe060b8631ecda086a4d7eb703265
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 3 23:33:42 2015 +0200

    Handle future calls to `signal()` and `sigaction()`

commit 0d7a07b423cffa707c9dc5c66b40aab04d2793c3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 3 21:33:14 2015 +0200

    Implement backend bits needed for ARM 32- and 64-bit too

commit cb7e6f46e51d030b17a2534359a0cd58b7ddbc5a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 3 21:18:29 2015 +0200

    Wire up remainder of the exception handling basics

commit 28f2d7a6e5f6aaf842997234b0e96f886a0b3541
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 3 21:14:54 2015 +0200

    Move GUM_RED_ZONE_SIZE to gumdefs.h

commit fe53c80dce93b832f51916a10ffd24b90984493f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 3 20:39:23 2015 +0200

    Refine the exception handling API

commit 63c9c5980118c09824490b13041a980ef5f07c03
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 3 16:35:30 2015 +0200

    Start wiring up exception handling logic

commit c92aca69f2c5dea0041104a74694362200a69538
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 3 16:35:15 2015 +0200

    Expose the Darwin thread state conversion helpers

commit ab766ae965f938d59701fb5b60beafb7cd7f151f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 3 05:20:09 2015 +0200

    Add failing test drafting a JS API for handling exceptions

commit 3091838f4ef9493c24a55144b6f6a48a7eaf318a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 3 05:19:33 2015 +0200

    Rename callback for consistency

commit 6d4de429589450eea9bdea895c4be6745b802b5a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 3 05:19:13 2015 +0200

    Start drafting a generic exception handling API

commit af283657db87e38c51ffad7ca49e9fe9f8e4555d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 3 04:39:26 2015 +0200

    Extract exception handling into a helper class

commit 6d702edfe6c468a640b4e7345ef5c1f57fe1d0bd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 2 14:40:54 2015 +0200

    Tweak the rpc logic's ArrayBuffer handling for backwards compatibility

commit 5e355f9ce3005080bf90c9efd85078fdc3b1aa73
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 2 14:22:51 2015 +0200

    Allow RPC exports to return ArrayBuffer values

commit a46a6be05c534a2d752d03b2f1a6e81a1f1ba010
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 2 00:35:11 2015 +0200

    Only run the malloc ranges tests in slow mode

commit cbdb1479c770ac6690a1531cd26c3cc2a1172db8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 2 00:29:25 2015 +0200

    Only use the fuzzy backtracer in slow mode
    
    For compatibility with ASAN.

commit 8d74efd62bb8f93581f479bda90fb562bb479e57
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 2 00:06:45 2015 +0200

    Restrict the malloc ranges test to slow mode
    
    It's not compatible with ASAN.

commit 1e733a5a4ea6aabcc28a9d7d497a7019e393f822
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 2 00:06:21 2015 +0200

    Improve the exports test to use a less popular symbol
    
    Turns out that AddressSanitizer is quite eager about replacing `malloc()`,
    so we should pick a different function for a more reliable comparison.

commit b0f1e6ab08cbc37ba637ccc68ec40f6b546340b7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 1 21:48:56 2015 +0200

    Fix module name resolving

commit 0e02f9d37149ef6195f224b42bb4203cfb1caff5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 1 21:48:26 2015 +0200

    Also consider ET_EXEC images as valid modules

commit 3ebdb2d34b7b6e07b4266855d69794750ae043a3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 1 19:03:53 2015 +0200

    Fix the range check macros with 64-bit values

commit 772a4b875527ed661870b20ee90708aaaafe6a94
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 1 15:45:37 2015 +0200

    Use new GLib shutdown API to fix crashes on teardown

commit 4f4a8f7885f154ca1bf7adaf6912d18c6b98d410
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 1 03:27:37 2015 +0200

    Fix warning regressions

commit bf6c6a140c5c417fbd96303e24db52eeecbbcb26
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 1 03:17:15 2015 +0200

    Capstonify {Arm,Thumb}Writer and {Arm,Thumb}Relocator

commit 7276f615e731a049eb630342d1fbe5fd5ec8f933
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 30 17:13:03 2015 +0200

    Improve Interceptor's arm64 backend to produce better trampolines

commit 1683f9b228a3ca0d5cf14ec96ffca6ab5eee8030
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 30 17:04:52 2015 +0200

    Improve code-generation for conditional branch rewrites

commit 65a8bfdfafe3097e01160d608c63afa450a1c406
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 30 13:51:30 2015 +0200

    Refactor Interceptor backends to allow backend-specific state
    
    This will allow us to JIT code shared between trampolines.

commit 4014b8960e044f0fdc5c71c1e31c5dbca72ad845
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 30 12:15:34 2015 +0200

    Fix error parsing in the KScript test fixture

commit b0b9d3f3dda45ef83706c43daf9e35a82029da0a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 30 00:00:55 2015 +0200

    Bump the code slice size

commit 3074dce4238c91a08f5e458b64ea06e24b1ded50
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 29 23:51:04 2015 +0200

    Never relocate instructions after a BL/BLR/SVC instruction
    
    Other threads might be calling the function and will return there later.

commit 8111de87871a13332d28cf5c2f1eec4da0896f43
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 29 22:10:50 2015 +0200

    Fix gum_arm64_writer_put_ret()

commit 187fb3a5f3889b4340b1cb06551e3e059ce598d8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 29 21:42:46 2015 +0200

    Capstonify Arm64Writer and Arm64Relocator

commit 2e725d078ff3310b79126211809e2bbf63dd6e55
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 29 18:17:39 2015 +0200

    Add failing test for hooking read() while a call is in progress

commit ad389a2afa9a278c3eba088e2e7d5d4244d7b813
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 29 15:52:38 2015 +0200

    Add test instrumenting accept() on iOS/arm64

commit 61f7ee03c30a9383c466c7f34291420b9a19b79c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 29 14:59:09 2015 +0200

    Also consider cbz and cbnz for dependencies on code to be relocated

commit b1a9a657f24c31e67de72c3d2bac549646c5734d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 29 14:29:25 2015 +0200

    Avoid relocating instructions that other instructions depend on

commit 1c81325e3ef87705cc6a0241a1c34e29e6494ffa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 29 01:53:06 2015 +0200

    Fix regression caught by the CI
    
    TLS API touches LastError on Windows. Yuck.

commit 11324e3e9b3d334e984022b123c017de66abed18
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 29 00:14:30 2015 +0200

    Fix warning properly this time

commit 1601d52e0ae16a3ded13bbcaf38a778274e4c4f3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Sep 28 23:28:39 2015 +0200

    Fix warning regression

commit 016aadb9008c02fec3f4b646c808e7648bd44728
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Sep 28 23:17:30 2015 +0200

    Improve Interceptor's arm64 backend to be able to hook short functions
    
    Functions were previously required to be at least 4 instructions long
    to be able to hook them. We are now able to handle even shorter ones,
    basically:
    
    - 4+ instructions: ldr + br + data [16 bytes], just like it was before;
    - 2+ instructions: adrp + br, trampoline is placed on a 4k boundary;
    - 1  instruction: b imm, if able to allocate a trampoline near enough.

commit 30e4741d611c8c593bbef625eb4f69bdc878cab1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Sep 28 23:07:17 2015 +0200

    Add gum_try_alloc_n_pages_near() as some requests may fail

commit 48e145bf982e6ce818d69a8934b79be10880808c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Sep 28 22:59:27 2015 +0200

    Add gum_arm64_writer_put_adrp_reg_address()

commit a268910d00eb8c90c3071921371cb2c5e805e765
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Sep 28 16:19:41 2015 +0200

    Resolve simple redirects on arm64 too

commit 00ec12e67502fe5e4b3f5670ec50a7d1b546ca87
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Sep 28 16:19:06 2015 +0200

    Add failing test coverage for iOS/arm64 wrapper function

commit 3a01efa8e48f58d4a54f00c99e68d8595c05e282
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Sep 28 00:07:19 2015 +0200

    Add failing test for hooking pid_for_task() on iOS/arm64

commit 6da8af782969a9e4dc25204448d4ca0975433e76
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Sep 27 23:58:14 2015 +0200

    Guard against re-entry before touching `errno`
    
    This avoids stack overflow when hooking `__error` on Darwin. It is safe
    to assume that TLS get/set operations won't clobber `errno`.

commit 9bdba4c774d960fea03848c4e206e7fcef7ddf6a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Sep 27 23:55:33 2015 +0200

    Add failing test for __error() on iOS/arm64

commit fef848dc4cd98ea051f2c20d5af383fd2a6a52fe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Sep 27 22:29:47 2015 +0200

    Increase code slice size to accomodate iOS/arm64

commit e9f833c6c733ae647eeb646b9f463b46eae98f94
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Sep 27 22:29:26 2015 +0200

    Add failing test for posix_spawnattr_setbinpref_np() on iOS/arm64

commit cc3bd9b10dc676b5a47313c481ee7fb1bb9aa70d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 16:27:13 2015 +0200

    Fix image loading logic

commit 59fa9e5dc252eb000bfe1689d5c180eea323b01d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 15:49:42 2015 +0200

    Add console.warn() and console.error()

commit 0e30a203161619d5a0067ac01f03d77a0bf1dea0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 15:32:49 2015 +0200

    Avoid copying module data when module is local

commit a46d99e6a5cc05616d12a774bf5e1057f777e14b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 15:29:52 2015 +0200

    Short-circuit to local module enumeration when possible

commit 037651c788cf77718e9bf6c9201255bfebc9604c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 04:31:15 2015 +0200

    Simplify the Linux version of gum_module_find_export_by_name()

commit 2f0b9b10a2915e9e0871b21d957b4dd8cc5adf00
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 04:30:50 2015 +0200

    Avoid calling dlopen() with NULL if we fail to resolve the module

commit fee238fa5943544ea9e03e0181d8011f0129de4f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 03:58:05 2015 +0200

    Fix gum_module_find_export_by_name(module_name=NULL) on Linux

commit 5f741ed0888aa0983247b330ad21eff88f82dba0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 03:57:27 2015 +0200

    Update to allow omitting module name on Windows too

commit 803f65f7a07686c9cbacf02c91551ccbb0510df6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 03:42:32 2015 +0200

    Update Windows backend to support the import enumeration API

commit 254482fbad8ddf2f80a9917f2c2644571c19f4dc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 02:12:28 2015 +0200

    Update Darwin backend to the new import enumeration API

commit 098f32bb84dc53ad669c6de49b7341a823b3cfa6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 00:01:43 2015 +0200

    Update Linux backend to the new import enumeration API

commit 760de33db66f52c0e3ea122df1773e2b20b51410
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 00:00:17 2015 +0200

    Update GumJS to the new import enumeration API

commit fb34ffa81db216d478db2d28d052093cf7df5613
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 23:59:36 2015 +0200

    Add GUM_IMPORT_UNKNOWN to the GumImportType enum
    
    There's no guarantee we're able to resolve all of them.

commit 6ff91d36f7a5b67f310ad9369bee6ffb2e2265cd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 23:58:28 2015 +0200

    Add MemoryMap and ModuleMap to the public header

commit 1309048855361f4e6058a10e0b876e180b77c867
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 23:58:07 2015 +0200

    Fix some style inconsistencies

commit 77b9997846b7df77bb31a942233fdaaee1c0aded
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 23:57:45 2015 +0200

    Add a ModuleMap helper class based on MemoryMap

commit 555589da472de5528e862ac0610e1378837e8648
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 18:06:35 2015 +0200

    Refine the import enumeration API

commit a3809345d1613ba6d3bcd1d7cebbcfbda0d98902
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 16:45:30 2015 +0200

    Handle the case where GumImportDetails.module is NULL

commit e0f743dd51cabb3632102961d86f375994824a4d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 16:40:42 2015 +0200

    Only disable the imports tests on QNX

commit bd34b536c5aa7f7cb14f310c675fb971012e828f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 16:40:29 2015 +0200

    Implement gum_module_enumerate_imports() for Linux/Android

commit 8300428e40d9c5e1b30dea47d46cdcdc5cb965ec
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 03:05:28 2015 +0200

    Fix X86Writer regression on non-x86

commit 0c7b1abcb5710de3a61eaf2dcfe698e7e9cb71b9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 03:01:08 2015 +0200

    Revert the newly introduced Linux backend dlsym() approach
    
    We cannot rely on `RTLD_NOLOAD` on Android.

commit 2674dbfa94dcbfdd9f9987999e2e53363c6da466
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 02:53:11 2015 +0200

    Fix the Linux backend

commit c9c49e6c3f8e0d9d496405a85144a2683eb9fb60
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 02:50:18 2015 +0200

    Add `Module.enumerateImports()` to the Script runtime

commit ae2284eebc5995b14baa6aeab2d6774412075fc7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 02:49:38 2015 +0200

    Shorten the ImportDetails field names

commit 0eba27fe278ec8ba6d01ad8d405049d39020187b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 02:12:06 2015 +0200

    Don't apply slide twice
    
    Because gum_darwin_module_enumerate_sections() already does it.

commit a94c332cec6861ede6cbc64f4a81b6c169cc7a1b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 02:11:42 2015 +0200

    Revert wrong slide fix

commit ece58f25a9f2ec375258e11bc3f6eff4a680f19f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 01:09:08 2015 +0200

    Take slide into account when enumerating exports

commit 28172f21a0eb270865002cf7c77c2918a626cdd4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 00:43:10 2015 +0200

    Include Mapper and Module headers from gumdarwin.h

commit c204ace787ed97d8366b1fed59c0658375747527
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 00:38:03 2015 +0200

    Add new helper class “DarwinMapper” to the Darwin API
    
    Extracted from frida-core.

commit 81daf013200d1fba3d9a6ba5a90f2cc64637c3fa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 23 22:43:02 2015 +0200

    Allow null module name when calling Module.findExportByName()

commit 9d9d0d47c99e7cb21e3cac01a4ceec332e6a6654
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 23 22:38:06 2015 +0200

    Refine behavior of gum_module_find_export_by_name()
    
    - Allow `module_name` to be NULL for doing a RTLD_DEFAULT search on
      systems that support this. This is needed on those systems in order
      to resolve imports that aren't bound to a specific module.
    - Use dlsym() on Darwin and Linux.

commit fbe1bee34f4ccb7eb98974bffc86b9472cccee0d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 23 22:28:32 2015 +0200

    Fix inconsistent naming

commit f33c702281d93e2cb90d41f51fb48fbd2f558f59
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 23 21:42:19 2015 +0200

    Refactor and consolidate imports and exports enumeration logic

commit cfaa6f37c555375a32ec47e84acdad6c5f03d489
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 23 01:49:53 2015 +0200

    Add gum_module_enumerate_imports()
    
    Only implemented on Darwin for now.

commit fd623924fb41d2bb88a35921cc07ff2e16b1b4b4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 23 01:45:54 2015 +0200

    Tweak DarwinModule to have interruptible enumerators like elsewhere

commit 9b42b3b4bde78e14a162fa9e5f1bdf3f8be14738
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 23 00:40:03 2015 +0200

    Fix assumptions about linkedit pointer being available

commit 5c5fdc00c55e2d3c326cc38ca45734f05a9e1a46
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 22 23:40:00 2015 +0200

    Ensure image is loaded before operating on relevant data

commit 9468405ce0f9aab7e7c0f648dafeee9225095a53
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 22 23:36:09 2015 +0200

    Improve the DarwinModule API for consistency with the rest

commit 57f7f819724b406b46f698cfc6ab559a0d84f682
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 22 22:27:09 2015 +0200

    Add gum_darwin_module_resolve() to the public API

commit 797bc7927206fdfddeca68416ae436ec1865d96c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 22 22:23:28 2015 +0200

    Add new helper class “DarwinModule” to the Darwin API
    
    Extracted from frida-core's Mapper with the intention of helping
    implement enumeration of imports in the Darwin backend.

commit 677f716f134a69fae2361a8c54c64d983e7537eb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 22 22:20:19 2015 +0200

    Use GUM_NATIVE_CPU constant in X86Writer

commit 0a429507b2f44647d485e6ac41497d37b5cd1e46
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 22 22:20:06 2015 +0200

    Introduce a GUM_NATIVE_CPU constant to avoid duplication

commit 439c379ef63e02b0eeed1b0ad6bb8570486056e5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 22 22:19:22 2015 +0200

    Use new helper API for parsing LEB128 in the Darwin backend

commit cb063d5da401cd2a5b084f40441a3cf02352dea9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 22 22:18:43 2015 +0200

    Add internal helper API for parsing LEB128 integers

commit 473682aef87688724a960d7d2c71359c516a36ab
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 18 22:58:22 2015 +0200

    Apply source-map to unhandled exceptions too

commit e25e2ffde8d2d07a913db240e7738c0957fa52ed
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 18 20:01:14 2015 +0200

    Override Error.prepareStackTrace to use source-map when available
    
    This makes the first part of the source_maps_should_be_supported test
    pass. The only part remaining is unhandled exceptions.

commit 339ff3421b61fe601e550d1b0e649dbfed6097ae
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 18 19:59:45 2015 +0200

    Fix some minor style issues

commit e8e8779867b0de58776ad84c70d3ca5423499307
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 18 18:18:16 2015 +0200

    ES6ify a couple of left-overs

commit e62162b8eb9aebeb4dec6de53c1efa087cf7e4c9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 18 18:17:37 2015 +0200

    Add `Script.sourceMappingURL` property

commit a85c3e3cb1f9b6e3b78217c29cc7e9ecba03e04d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 18 18:16:54 2015 +0200

    Fix linter complaints

commit f4987b5dd77f39591fd918221a8af0a0fb1bbccf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 18 15:10:22 2015 +0200

    Add failing test for handling of source-maps

commit df4396d94eb8f0fbc6b109a60e86bce7ab1f7f82
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Sep 12 17:57:41 2015 +0200

    Port the Windows-only V8 bits to V8 3.5

commit 24500e3300bdec531c70af83055f0152983e7067
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Sep 12 17:57:14 2015 +0200

    Fix Windows warning regressions

commit a5b3aaaedc52a46db0ae7c050a9a3d4facf3059d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Sep 12 02:13:17 2015 +0200

    Port GumJS to V8 4.5.103.30

commit f7be349fd22ccc6313eb80d0ffde583f35f97567
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 11 21:22:09 2015 +0200

    Include both class and instance methods in `$methods` and `$ownMethods`

commit 8680465f0458fe7972cf31f6ef847675581b3c60
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 10 02:59:42 2015 +0200

    Fix Dalvik hooking regression
    
    The direct code-path cannot be used on Dalvik, and it isn't necessary
    there anyway.

commit b79e5fc7055a624084408661a74f262ce306fb64
Merge: 888fea5f 2598a3a8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 3 20:35:52 2015 -0500

    Merge pull request #109 from marc1006/ArraySetter
    
    Fix for array conversion and fix for field setter

commit 2598a3a8c43b4c207d0c804b1530c75ef9c73da0
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Sep 3 00:30:39 2015 +0200

    Fix for array conversion and fix for the field setter

commit 888fea5f6ed4f72db476b278c979fed0a026e6e0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 2 15:58:15 2015 +0200

    Skip relocator test suites that Capstone doesn't support
    
    Our UNIX build system is a bit more fine-tuned and now only includes
    support for the architecture being built, which reduces our footprint
    significantly.

commit 4e1eaf401e46f907f35a6bfef39088a9a7c96980
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 1 09:59:39 2015 +0200

    Get rid of unnecessary references to global module name

commit 95897f4e420d2542f26a4fd91f893a295a72c5ac
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 1 09:07:04 2015 +0200

    Fix PC alignment when rewriting BLX instructions

commit c835969e6004b14dc519a90a65a6f997cd2508f9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 1 09:06:21 2015 +0200

    Improve the BL sequence test so it mirrors objdump exactly

commit 25005aedead6d30df84d1ecb4a9ee29c1c375fae
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 1 00:53:56 2015 +0200

    Add failing test for BL not being properly rewritten

commit 177e3a7b0d1dc606c11e41d8d6563a6b0abb0ef8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 1 00:52:05 2015 +0200

    Add cbnz test coverage

commit 427ffe5ede73a7a4e3fb70b38e9d7ca352f43201
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 31 15:50:48 2015 +0200

    Handle interacting with the VM before any package has been loaded
    
    Our early instrumentation gives us control earlier than what the official
    “wait for debugger” support does. Hence we need to let `Java.perform()`
    handle this case by calling the function once the first package has been
    loaded, and introduce `Java.performNow()` for instrumenting system classes
    early on.

commit ba1a8ce86063c9f0596ff68089660237f799cbb1
Merge: 0897ef61 4795c5b1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 30 23:51:59 2015 +0200

    Merge pull request #101 from marc1006/openDexFile
    
    Implement method to load classes at runtime

commit 4795c5b19627302a976e597b6b68c8723536a4dc
Author: Marc H <marc.diplom@googlemail.com>
Date:   Sun Aug 30 23:40:29 2015 +0200

    Change 'Dalvik' to 'factory' so we avoid the usage of globals such as 'Java'/'Dalvik'

commit 0897ef61e77cf23dd7723e3ead23317b18c4a805
Merge: a5dd098a c185ca16
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 30 21:38:16 2015 +0200

    Merge pull request #102 from marc1006/GetCreatedJavaVMs
    
    Also use `JNI_GetCreatedJavaVMs` in Dalvik to get the VM

commit c185ca16da73e0961e5b54810f0e81599e654325
Author: Marc H <marc.diplom@googlemail.com>
Date:   Fri Aug 28 13:43:15 2015 +0200

    Sytle corrections

commit 888c6739ae0389caf539eb5621e244b12ec52fc0
Author: Marc H <marc.diplom@googlemail.com>
Date:   Fri Aug 28 10:23:16 2015 +0200

    Also use `JNI_GetCreatedJavaVMs` in Dalvik to get the VM

commit a5dd098ae7bb49cce11e9ceb4a2e9d1652f36fa4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 25 19:05:10 2015 +0200

    Fix automatic rollback of overridden method implementations
    
    - Dalvik: Also revert overridden methods that were never called.
    - ART: Auto-revert on this runtime also.

commit 05dead0e949d167d317c3ff4e4a402b7fdb756cd
Author: Marc H <marc.diplom@googlemail.com>
Date:   Tue Aug 25 13:19:19 2015 +0200

    Rename 'openDexFile' to a more generic name 'openClassFile'

commit 4360cd851dd99c52f9cdc009f432630acaccea6d
Author: Marc H <marc.diplom@googlemail.com>
Date:   Mon Aug 24 23:30:27 2015 +0200

    Implement method to load classes at runtime
    
    Java.openDexFile(filePath) will return an object with two methods:
     - load: load the dex-file
     - getClassNames: get the classNames

commit 164f1488cd63842e29774962c8894bdc69c87175
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Aug 21 23:11:23 2015 +0200

    Fix NativeFunction's handling of small return types
    
    Thanks to Rafael Rivera for reporting and tracking down this issue.

commit 9fa1a8fa92ab444fa1719b7a3b2a0afca9d51cd7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Aug 21 23:07:47 2015 +0200

    Fix warning about cast resulting in truncation

commit fa075b5cccfbd874221780322f6f24a3e5a4a69a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Aug 21 15:32:22 2015 +0200

    Speed up the fallback enumeration of modules
    
    We only need to examine ranges that have an associated file mapping.

commit 40df269aa86c8aec105d7fbf6b1fd3a87f6931c8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Aug 21 03:28:47 2015 +0200

    Disable a potentially dangerous KScript test

commit 32946380ef49ba62d7aedf8e45f0dc7355350a2a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Aug 21 03:28:26 2015 +0200

    Optimize enumeration of module exports in a remote process
    
    We now use the exports trie to avoid transferring huge amounts of data
    from the remote process.
    
    This was a hotspot when attaching to processes, and was previously so
    slow that it was reportedly causing timeouts for some users. Today I
    experienced this myself, and upon investigating I discovered that this
    enumeration was taking many seconds on my desktop.

commit 74eca7662475c5f6df92461eba4185e31f4999ad
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Aug 20 18:25:57 2015 +0200

    Define G_LOG_DOMAIN so log items are properly tagged

commit 4ddb07dc92059e2c5daa74c40b65fa4a8e02f968
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Aug 20 15:17:42 2015 +0200

    Fix Android/ARM64 warnings

commit 70149001f83afea508a05f350a12c365532233da
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Aug 20 14:54:09 2015 +0200

    Fix warning on 32-bit Android/ARM

commit 5045601ce6d3873db8e66da5d3007c237fb084a6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 23:39:26 2015 +0200

    Fix out-of-bounds read caught by AddressSanitizer
    
    Turns out `String::Utf8Value::length()` returns the length in bytes,
    not characters.

commit e1d53e71a33930bff0d8821c8e3570b06985c279
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Aug 15 03:50:50 2015 +0200

    Add support for overriding methods on ART

commit 31cdd7bc26ed64f159874451fe6849521c40c0a7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Aug 14 15:54:58 2015 +0200

    Fix pointer parsing portability in the `memory_can_be_allocated` test

commit 3d4d98181bba5aa0761f41203e06dc8c884765a7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Aug 14 15:12:50 2015 +0200

    Let `Memory.alloc()` allocate raw pages when size >= page size

commit fa37b00594fdce1628d5e356a33fb0f92a0bb1a2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Aug 14 12:45:53 2015 +0200

    Add `Process.pageSize` constant

commit f70b105b59b0e5872617efc666156c8eb16da4a1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Aug 13 13:01:21 2015 +0200

    Port basics of the Dalvik integration to Art
    
    Basically:
    - Rename it to `Java`.
    - Keep `Dalvik` name around for backwards compatibility.
    - Simplify logic for acquiring the application's class loader.
      Kudos to @dmchell for the tip!
    
    Remaining features for parity with Dalvik:
    - Method override support
    - enumerateLoadedClasses()
    - choose()

commit 4971f249395fc7d1bb39ce99d1ccd3df1789b1cb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Aug 13 05:21:32 2015 +0200

    Fix typo

commit e887d722302a60e2874036f031ec01437617ec08
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Aug 13 05:20:29 2015 +0200

    Fix crash during enumeration of modules on Linux
    
    - Don't touch mappings backed by /dev
    - Skip shared mappings

commit 9fc4e7fea4ec6c93e6ddc1a994d0fc827009a0a2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 12 20:28:05 2015 +0200

    Only run SymbolUtil tests in slow mode on Android

commit f86aff9c7acf7f04aff3c5c6001f40db7cdd06bc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 12 20:08:27 2015 +0200

    Fix UnwBacktracer on arm64

commit d7a3a517d992e81de2cef24c7705cf9c5f951fdb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 12 19:50:25 2015 +0200

    Only run symbol resolving tests in slow mode on Android

commit 914790cfd3a2ecde1c7fafefebca2a9145b3c6ca
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 12 19:41:15 2015 +0200

    Work around broken sigsetjmp on Android
    
    The implementation in Bionic up to and including L is quite broken and
    doesn't store the process' signal mask.

commit ecf27b619742d531f63951c3c67673de2884ab8f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jul 31 15:40:53 2015 +0200

    Rename `Api` to `rpc.exports`

commit 2491536e91d28063691064db0e9b5fdf5606a036
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jul 31 15:25:14 2015 +0200

    Add first draft of an RPC API

commit e1ce290011d345f1e827debf22f5964d8a8a6bd2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 30 02:58:45 2015 +0200

    Handle blocks being migrated to the heap behind our back

commit df7fd25cdcc9f40445ae0822abfdfd506144eb04
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 30 02:57:04 2015 +0200

    Convert between null and NULL in both directions

commit a0ccf727fac38878f91a6d70bd33a604a89cf831
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 29 23:48:56 2015 +0200

    Fix marshaling of non-trivial types when invoking block

commit c33caadc69e725a69d5ce9347afa07521b736825
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 29 23:13:25 2015 +0200

    Add `ObjC.Block` for implementing and interacting with blocks

commit c8203a739f5fbbe36bccaac81aff27945e5d8105
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 23 22:31:40 2015 +0200

    Bump the Interceptor code slize size to 512

commit f270626af87c404f9ed8916dfbc24d81c1ebc8bf
Merge: 2471ca17 2f6123fa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 23 18:20:11 2015 +0200

    Merge pull request #96 from marc1006/FixForEnumerateLoadedClasses
    
    Fix for `Dalvik.enumerateLoadedClasses`

commit 2f6123fa792e55b48ee573680cb8b44baecf3d4b
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Jul 23 18:18:05 2015 +0200

    Fix for `Dalvik.enumerateLoadedClasses`

commit 2471ca17df1babd60269a60aab4705737c5485dd
Merge: 4c8ca22b 1aac4486
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jul 20 12:03:02 2015 +0200

    Merge pull request #95 from marc1006/AndroidVersion
    
    `Dalvik.androidVersion` and `Dalvik.choose` for Android 4.2.2...

commit 1aac4486e402248d4124093f7764639098494ebe
Author: Marc H <marc.diplom@googlemail.com>
Date:   Mon Jul 20 01:32:38 2015 +0200

    `Dalvik.androidVersion` and `Dalvik.choose` for Android 4.2.2

commit 4c8ca22be2bded3495fb2b078f360b394e5ed997
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jul 18 16:39:52 2015 +0200

    Fix exception type thrown when attach() and replace() fail

commit f4c3517d629e29590e6f57747cd2e822458bdf7b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jul 18 16:21:43 2015 +0200

    Throw an exception when Interceptor's attach() and replace() fail
    
    The existing behavior wasn't documented and is considered a bug. This
    change fixes it.

commit 382ac14cb3b1b736da904903e2a8a2175a9ca772
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jul 18 16:15:01 2015 +0200

    Temporarily disable the invalid construction test on mac-x86_64

commit ac1fdbd05dc19e68f84aee3dbb45ba13fe42f328
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jul 18 15:35:25 2015 +0200

    Fix spelling

commit 881c5b861e65be946443bb47dbeea896605b26ac
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jul 18 15:32:02 2015 +0200

    Gracefully handle attempts to replace functions
    
    Both functions that:
    - have already been replaced;
    - cannot be replaced for now.

commit dbf27bd02097d382bc93bc90af82d8aa933152d2
Merge: e2f3ea99 2a90aec3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jul 17 21:04:20 2015 +0200

    Merge pull request #94 from marc1006/scheduleOnMainThreadAndSynchronized
    
    `Dalvik.synchronized`, `Dalvik.scheduleOnMainThread` and `Dalvik.isMainThread` implemented

commit 2a90aec3fc826d3be6df6e3e0a56d0874d504840
Author: Marc H <marc.diplom@googlemail.com>
Date:   Fri Jul 17 14:58:59 2015 +0200

    `Dalvik.synchronized`, `Dalvik.scheduleOnMainThread` and `Dalvik.isMainThread` implemented
    
     - add `Dalvik.synchronized(obj/objHandle, fn);`. It's almost equivalent to following Java code `synchronized (obj) { fn(); }`
     - add `Dalvik.scheduleOnMainThread(fn);`
     - if we set an implementation to `null`, set it really to `null`
     - add `Dalvik.isMainThread()` to check if we are in the main thread
     - refactoring: assertions
     - increase GUM_MAX_SCRIPT_SOURCE_CHUNKS to 6

commit e2f3ea99d9ac86874d7724694bc5de92ff7d7e55
Merge: 90f06e0c 68bd480e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 16 23:33:37 2015 +0200

    Merge pull request #93 from marc1006/FixField
    
    Fix for invalid caching

commit 68bd480eb68ef26a0c763d37628aea8d948d0b99
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Jul 16 23:11:28 2015 +0200

    Fix for invalid caching

commit 90f06e0c480da05efeadca01edbb44a9e9ccf055
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 16 01:20:57 2015 +0200

    Fix the byte_array_can_be_read test

commit 25dd5b884e920cddc1f971c66174b6edcaba7035
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 16 00:42:33 2015 +0200

    Leave out the {get,find}ModuleByAddress() test on Linux for now

commit da0e787b5c1e3dc4b04e13947f0366161b774123
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 16 00:36:48 2015 +0200

    Fix silly copy-pasta accident

commit be379b20caea124c8a6c8a9b8837df9a25783afa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 16 00:34:47 2015 +0200

    Increase the Interceptor code slice size
    
    Some trampolines may need 468 bytes on arm64, so we bump to 480 to have
    a little bit of headroom.

commit 719a83ca243cb6c32dec763c281ac1ac24af8f0d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 16 00:30:28 2015 +0200

    Add support for relocating PC-relative CBZ on arm64

commit 7166164d98a3fe9e464be454fe2936376ce91477
Merge: 8f9a0f33 3cad8e3f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 15 00:30:14 2015 +0200

    Merge pull request #92 from marc1006/SeveralAdjustments
    
    Several adjustments

commit 3cad8e3f877ac9e4ee5d5ae3739e06355cb5d334
Author: Marc H <marc.diplom@googlemail.com>
Date:   Tue Jul 14 23:57:06 2015 +0200

    Instance and static fields
    
     - implement access to fields. Usage: get `...fieldname.value;`, set `...fieldname.value = ...;`

commit 4b8d094a42df4c74159e0b8268dd8a6b8ef985f0
Author: Marc H <marc.diplom@googlemail.com>
Date:   Tue Jul 14 21:24:41 2015 +0200

    Improve `getTypeName` and `getArrayTypeName`
    
     - add javaLangReflectTypeVariable, javaLangReflectWildcardType and javaLangReflectParameterizedType
     - improve `getTypeName` and `getArrayTypeName`
     - indentation fixed

commit 8f9a0f33f273fc08e83db71638592b1a1929aecd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jul 13 21:43:35 2015 +0200

    Fix Interceptor vector register clobbering issue on arm64
    
    The calling convention allows q0 through q7 to be used for argument
    passing, so we must take care not to clobber them.

commit aa04d1f684103b5ca4e8289d58b1360c1ebca800
Author: Marc H <marc.diplom@googlemail.com>
Date:   Mon Jul 13 15:54:20 2015 +0200

    Use instance handle only as parameter for `Env.prototype.getObjectClassName`

commit 77e2ed60e35994a3443b8a0c26330f6278b8abc1
Author: Marc H <marc.diplom@googlemail.com>
Date:   Mon Jul 13 15:07:23 2015 +0200

    `makeMethodFromOverloads` restructured

commit b1f3715a28a513e29cd8cdaf72355bf719ae71af
Author: Marc H <marc.diplom@googlemail.com>
Date:   Mon Jul 13 15:04:13 2015 +0200

    Check if it's possible to cast
    
     - check if it's possible to cast a value and add `env.isAssignableFrom(klass1, klass2)`
     - make `getObjectClassName` to a `Env` method

commit 3bee2fb0a73a240d1d45fa55bf0b305cb034a684
Author: Marc H <marc.diplom@googlemail.com>
Date:   Mon Jul 13 14:54:18 2015 +0200

    Allow instances to call static methods and some small adjustments/fixes
    
    - New constant `NULL_OBJECT` (just for clartiy)
    - Ensure that the localReference `superHandle` will be deleted
    - Allow instances to call static methods (now it's the same (bad) behaviour like in Java)
    - Rename `env.checkForExceptionAndHandleIt` to `env.checkForExceptionAndThrowIt`
    - fix for `toJniPrimitiveArray`: we have to alloc memory only if length > 0
    - allow "null" for primitive arrays and object arrays
    - fix for `Dalvik.choose`: delete the localReference as soon as possible

commit 28070e9d68a305b2effe5ecf7d79fa45650c79ab
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 9 13:27:54 2015 +0200

    Add `$ownMethods` to `ObjC.Object`
    
    When reverse-engineering internal classes it's often more interesting to
    look at the methods defined by a given class

commit 2572e1bf66e4dcd1a01e77caa74bce9128f10cb6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 9 13:26:27 2015 +0200

    Bump the maximum number of script source chunks
    
    The Dalvik runtime has grown a bit recently.

commit a143900329eb030f20357b512a561d15b890be0b
Merge: de8253c4 97607768
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jul 7 11:29:18 2015 +0200

    Merge pull request #91 from marc1006/arrays
    
    Implement primitive arrays, objectarrays and some smaller changes

commit 97607768b7286ec63aa8432dcf2261a196720bfb
Author: Marc H <marc.diplom@googlemail.com>
Date:   Tue Jul 7 11:05:05 2015 +0200

    Implement primitive arrays, objectarrays and some smaller changes
    
     - Implement primitive arrays and objectarrays
     - Refactored and renamed `typeFromClassName`
     - Add function `env.getObjectRefType(obj)` to check for `objectRefType`
     - Add method `env.checkForExceptionAndHandleIt()` and refactoring

commit de8253c4f58a33379b7b7535d449e4ba2d32bc9d
Merge: eb488cd1 dd536140
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 2 11:29:43 2015 +0200

    Merge pull request #88 from marc1006/letConst
    
    Replace 'var' with 'let' or 'const' and some other modifcations

commit dd536140424cddf04d1866f81f861ebd9a0ac560
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Jul 2 11:18:33 2015 +0200

    Replace 'var' with 'let' or 'const' and some other modifcations
    
     - Replace 'var' with 'let', 'const'
     - Replace function-expressions with function-declarations
     - Add remaining Java modificators
     - Insert missing and remove unnecessary semicolons

commit eb488cd1de3247c4f70294258402b578c6bf05e1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 2 00:13:38 2015 +0200

    Fix the MessageHandler signature

commit 4f87a574cb53ad0ac42385625126af2018ef3558
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 1 23:30:41 2015 +0200

    Add memory read/write safe-guards for addresses in the first page

commit f6c027c457083c65670648090cd7223f118a8071
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 1 23:30:15 2015 +0200

    Fix `enumerate_threads()` so it deallocates in the right task

commit 908b1be9dbc6c411554cc0f935281f5778af40d5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 1 23:29:16 2015 +0200

    Add more useful KScript APIs

commit bb200a497a6761283cfd61e1e4eb93987eab53f9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 1 23:13:35 2015 +0200

    Fix test failure on Linux

commit bf75b7b4c11dc1f558f3fca57f138fda1280e3cf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 1 23:13:18 2015 +0200

    Pass `send()` data as a ref-counted GBytes object

commit 002100ffc7498a937df9acf85a25bbff2b7902e4
Merge: 3594c17d df0bdd2f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 1 19:45:53 2015 +0200

    Merge pull request #86 from Tyilo/objc-classes-getOwnPropertyNames
    
    Add getOwnPropertyNames property to ObjC.classes

commit df0bdd2f2d72c710bdfb6e7684c2d9acd77d0b40
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Wed Jul 1 19:22:26 2015 +0200

    Add getOwnPropertyNames property to ObjC.classes
    
    Needed for autocompletion in repl

commit 3594c17d93d27dd95a950c8a494aa3f64e585b32
Merge: b524f6d2 37c10975
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 1 17:25:54 2015 +0200

    Merge pull request #85 from s1341/master
    
    Implement side-stack for replaced functions on QNX

commit 37c10975c2e65417ef74e9c4d832c7124fd72e98
Author: s1341 <github@shmarya.net>
Date:   Wed Jul 1 11:58:00 2015 +0300

    Fix style issues

commit b524f6d2ab9fd2236d5cd947bf9c4eebf4c8e3d8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 1 01:48:50 2015 +0200

    Add API for enumerating kernel memory mappings on iOS

commit bb99bf82584b40d21b2b8a5da1979485b974e5b8
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 30 19:41:06 2015 +0300

    Implement side-stack for replaced functions on QNX

commit ced3edf30122a7a187aa02149543a1ee9c130945
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 29 18:56:49 2015 +0200

    Fix access to arguments 4 through 7 on arm64

commit ca2e9d438f428cfab84a87a31ceb2d6f76c759fc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 29 18:53:02 2015 +0200

    Fix one more style regression while at it

commit 0cb087b368ea6034cf0c1e58905c9195409fb738
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 29 18:51:20 2015 +0200

    Fix minor coding style issues

commit 56809fc5c81311369a4838ae00fab54f8bdb7b3a
Merge: 46980318 d21191e2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 29 18:49:56 2015 +0200

    Merge pull request #83 from marc1006/DOUBLEANDFLOAT
    
    Various 'Memory' operations added

commit 4698031895feca1ab9007bce98f7dc5d4d24c368
Merge: d4b16194 30cb7ba1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 29 17:03:12 2015 +0200

    Merge pull request #81 from s1341/master
    
    Implement side-stack for on_enter/on_leave on QNX

commit d21191e243bc6d8a28562316573a8054f63b2714
Author: Marc H <marc.diplom@googlemail.com>
Date:   Mon Jun 29 15:52:03 2015 +0200

    Fix style issues

commit 30cb7ba1228f4caf71bd3693803228b67ac0f167
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 29 14:58:19 2015 +0300

    Fix style issues

commit d4b16194572ebcaf61cdeeebd1cd88fd7d41afbd
Merge: 054a88ff 947d92b5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 29 12:32:30 2015 +0200

    Merge pull request #82 from marc1006/FEWADDITIONS
    
    Some improvements

commit 592dc213033ff98b3491aec752f6c82e37b68ad0
Author: Marc H <marc.diplom@googlemail.com>
Date:   Sun Jun 28 18:05:38 2015 +0200

    Memory.readFloat, Memory.writeFloat, Memory.readDouble and Memory.writeDouble added

commit 947d92b57ca551bd2d87843e5dbd12903d7b70c6
Author: Marc H <marc.diplom@googlemail.com>
Date:   Sun Jun 28 16:24:18 2015 +0200

    Add 'Env.prototype.javaLangString'

commit 3335db6cff5bc32047482f9bf64610bc476eeb3b
Author: Marc H <marc.diplom@googlemail.com>
Date:   Sun Jun 28 15:54:10 2015 +0200

    Using functionnames

commit dd5ab7b75c06425520bbd3f0d1a2854c1fbad43b
Author: Marc H <marc.diplom@googlemail.com>
Date:   Sun Jun 28 15:53:32 2015 +0200

    Improved 'isCompatible' functions and now we will throw an error if a new 'function'-implementation has a wrong return type

commit 122cd9157621636f913e502845d820b861d2b461
Author: s1341 <github@shmarya.net>
Date:   Sun Jun 28 13:31:27 2015 +0300

    Implement side-stack for on_enter/on_leave on QNX
    
    QNX has very small default stack sizes - just 128kb. This is insufficient
    for V8 to run on top of. We've already patched glib and v8 to create new
    threads with larger stacks, but that still leaves a problem with pre-existing
    threads created by the target process. This patch works around this problem
    by implementing a 'side-stack' which all the on_enter/on_leave handlers run
    under instead of the original/real stack. This side-stack is sufficiently
    large to run v8 code without issues (currently 2Mb).

commit 054a88ff7224a1de452b81fe04fe96f609c4f91c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 26 23:19:01 2015 +0200

    Add a fuzzy backtracer for ARM64

commit f5ee829225ad0d3eb2c5fc6ac3fc69c13c762bfe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 26 22:12:04 2015 +0200

    Fix return-address seen by the invocation-context on ARM64

commit 99584d7c79e7f838325c3137fd0e629673f9eea4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 26 21:19:14 2015 +0200

    Optimize Interceptor callback logic
    
    If one of the callbacks is omitted we can save a lot of overhead by being
    a bit smarter. This effectively doubles the performance for such cases.
    When measuring with the performance test on an iPhone 6 the best-case was
    30μs before this change, and 15μs after.

commit 1a1b7cbf9a52a3081ed37eeab6f872ceb6e21f9c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 26 01:05:40 2015 +0200

    Fix crash when interacting with not-yet-realized classes

commit 89c34e1aaedc700b364738cf5166fd04e7c31e05
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 24 19:08:54 2015 +0200

    Make JSHint happy and switch -core into strict mode
    
    Fixes #57.

commit 6ab388bc446407afd4e5b18d6172e94f82b45308
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 24 19:08:10 2015 +0200

    Fix hard-coded path buffer size

commit df5ad74929f0ffdf5ebd2b23be018e7d415f187a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 24 19:07:48 2015 +0200

    Fix iOS build regression

commit dbc190dbca271769ec1949e6b4ac90bdb3eb1a7f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 24 19:07:18 2015 +0200

    Only run the `ObjC.choose()` test in slow mode

commit a35a565bf2222d7c9e4768999c426c1e65e6c1c1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 24 19:06:49 2015 +0200

    Fix crash when handling exceptions without a message object

commit 12019d6d94fd26a2675049e48e6e9863752eefb4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 24 17:26:10 2015 +0200

    Fix the life-time of CpuContext JS wrappers
    
    Thanks to @trufae for reporting.

commit 95bf02e2a1d11795708c40233ef1db84fec68e62
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 24 14:12:30 2015 +0200

    Make it possible to coalesce neighboring ranges when enumerating
    
    Fixes #79.

commit 8b661a5cf46ebbeb62560913f2450b1cb1926a94
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 24 13:44:24 2015 +0200

    Add convenience API for looking up modules and ranges
    
    - Process.findModuleByAddress(address)
    - Process.getModuleByAddress(address)
    - Process.findModuleByName(name)
    - Process.getModuleByName(name)
    - Process.findRangeByAddress(address)
    - Process.getRangeByAddress(address)

commit cf26c5a223a8bbb406b565cc68a22720d007b5b8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 24 13:42:32 2015 +0200

    Fix uninitialized file offset value
    
    Untested; spotted when comparing the different implementations.

commit bfd2fc66d1211edb88d7e56eb6107cbb581a901c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 24 13:40:49 2015 +0200

    Add file mapping info to the Darwin backend
    
    Fixes #78

commit 7113dee94a9e4bb81b14640d32a8019fd690bbd1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 24 13:39:54 2015 +0200

    Expose the file mapping info to `Process.enumerateRanges()`

commit 8684bb9f116f174443c79923de9cde002aa2e96b
Merge: e2561735 5cc76818
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jun 23 20:31:18 2015 +0200

    Merge pull request #80 from marc1006/null
    
    Convert 'null' in JavaScript to the 'NULL object' in JNI

commit 5cc768188f7834ef3bfd6d60196da615e20eb4bc
Author: Marc H <marc.diplom@googlemail.com>
Date:   Tue Jun 23 20:21:24 2015 +0200

    Allow 'null' as call parameter

commit 3ded8d346733aeb2219bf4cd8e7b7f034893e83d
Author: Marc H <marc.diplom@googlemail.com>
Date:   Tue Jun 23 19:18:15 2015 +0200

    Convert 'null' in JavaScript to the NULL object in JNI

commit e2561735dd47a879548d258e2e0521b867f1547a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jun 23 17:06:55 2015 +0200

    Fix conversion of structs with simple field types

commit eebf156cd962c6a5936472818f49ebd39f94dfde
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jun 23 17:06:28 2015 +0200

    Speed up implicit string conversion by caching wrapper object

commit 1658a0dec3bb1ba22e3ceaa82e33a56cf1369283
Merge: 115f0dec 2a7ac5cf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jun 21 16:10:04 2015 +0200

    Merge pull request #77 from s1341/master
    
    Make the mprotect read in a loop instead of just the once

commit 2a7ac5cfe7b6be91a168af753166f1fa2e71ccc0
Author: s1341 <github@shmarya.net>
Date:   Sun Jun 21 17:05:27 2015 +0300

    Make the mprotect read in a loop instead of just the once

commit 115f0dece1553c5d054a65c668e4d5a0973a49f9
Merge: 9af26e5c 425b7566
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 19 01:06:08 2015 +0200

    Merge pull request #75 from marc1006/EnsurePopLocalFrameWillBeCalled
    
    Ensure env.popLocalFrame will be called

commit 425b75665221b8b73672170ea94326c44c133bda
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Jun 18 12:35:58 2015 +0200

    Ensure env.popLocalFrame will be called
    
    It's possible that 'toJni' or 'fromJni' throws an error so we have to ensure that env.popLocalFrame(...) will be called.

commit 9af26e5cca080f6236e609a2b06c1c30c47b5709
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jun 18 01:01:27 2015 +0200

    Improve portability of `NativePointer.toMatchPattern()`

commit 95d8161e175f6baded8fb97b85c14c4092e9c75c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jun 18 00:33:25 2015 +0200

    Fix `toJSON()` of `ObjC.classes` and `ObjC.protocols`

commit 92b2a4f34d484b1e88f9e0051dd55210380dfd4c
Merge: 994e67ba f6086ce0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jun 18 00:15:03 2015 +0200

    Merge remote-tracking branch 'Tyilo/objc-improvements'

commit 994e67ba36e9dde6cb408ee40fec39e17bd66146
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 17 23:46:01 2015 +0200

    Make the ObjC module compatible with iOS 7
    
    Based on patch by @trufae.

commit 2f02e911edc4a5df80051fdaed72e0281ea751e7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 17 19:35:57 2015 +0200

    Fix exception handling weirdness on ios-arm
    
    Turns out `v8::Trycatch` must be stack-allocated, and we were implicitly
    allocating it on the heap by making it part of a heap-allocated object.

commit f6086ce0af86d8069a4d545beb7d02597dee3add
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Wed Jun 17 16:25:34 2015 +0200

    Re-add support for classname in ObjC.choose

commit 023c8e99cea202e8485ee550b1877b482c2bf421
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Tue Jun 16 20:52:58 2015 +0200

    Various ObjC improvements
    
    - ObjC.nil
    - ObjC.api: various ObjC runtime functions
    - ObjC.Object.equals
    - ObjC.Object.isNil
    - ObjC.Object.$superClass
    - ObjC.Object.$methods: list of methods prefixed with +/-

commit 03d4a6246374e41f22ff742d8afa41e563ac05df
Merge: fa6cfe96 0e461ab2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jun 16 15:31:24 2015 +0200

    Merge pull request #73 from marc1006/CharSequence
    
    JavaScript 'string' is also compatible with 'java.lang.CharSequence'

commit 0e461ab2c0685537bddcb2ca959881cc9fb91289
Author: Marc H <marc.diplom@googlemail.com>
Date:   Tue Jun 16 14:52:00 2015 +0200

    JavaScript 'string' is also compatible with 'java.lang.CharSequence'

commit fa6cfe96c7a7f463aaf91c90d770e43ff868dc77
Merge: e9780fd1 4da052bc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jun 16 14:17:35 2015 +0200

    Merge pull request #72 from s1341/master
    
    Fix bugs introduced by PR #71

commit 4da052bc9bed2701c7718ebfe4ad45693e04463d
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 16 13:57:39 2015 +0300

    Fix bugs introduced by PR #71

commit e9780fd1acfab87630220e25880031644b212ca3
Merge: 6fa260f8 f8eb4761
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jun 16 12:43:47 2015 +0200

    Merge pull request #71 from s1341/master
    
    Switch from fopen to open for memory read/writes

commit f8eb476189abdb42cb5de1d8a42b91d5f340bfb9
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 16 12:46:33 2015 +0300

    Switch from fopen to open for memory read/writes
    
    fopen/fread/fwrite might be buffered, open/read/write is not.

commit 6fa260f822be0ee60aad16d61f2fa00e5849e474
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 15 19:12:50 2015 +0200

    Fix the `$class` property so it also does the right thing for classes

commit 5a7217ea314c516d4495066d96dc84f30a940cfe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 15 19:12:10 2015 +0200

    Add `ObjC.Object.$kind` property

commit 484d3a8228f9497221d877dba8a7a887743b670a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 15 19:10:41 2015 +0200

    Fix crash when looking up inexistent method

commit 361415691d784d3909fa0359cacbee54d9f5975b
Merge: 86708914 668486bf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 15 14:27:07 2015 +0200

    Merge pull request #70 from s1341/master
    
    Use PT_DYNAMIC to enumerate dynamic symbols on QNX

commit 668486bf0247d39fb5da1efb1bcef60fece4dfe0
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 15 15:24:35 2015 +0300

    Fix style issues

commit 0e9757c39fba78fd6a538f99bde3b0d6df073b96
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 15 14:40:41 2015 +0300

    Use PT_DYNAMIC to enumerate dynamic symbols on QNX

commit 867089149550a8064ec5a9b7966d2bee6499cf9a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jun 14 23:18:24 2015 +0200

    Add `this.returnAddress` to Interceptor's onEnter and onLeave

commit c68ac521b7942733c22048706ea61d1e87e19b21
Merge: 46a9a902 2b549ca2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jun 14 16:15:50 2015 +0200

    Merge pull request #63 from Tyilo/objc-choose
    
    Implement ObjC.choose

commit 2b549ca2b1e0267c95f9a551c9d5862e3f626625
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Sun Jun 14 02:26:05 2015 +0200

    Implement ObjC.choose{,Sync}

commit 46a9a902db370a0fcaff13a338762b618d23383d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jun 13 19:34:57 2015 +0200

    Remove test dependency on Cocoa types

commit 9ff648e95306ddeda0e251ce2ff1191ae703b30c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jun 13 19:21:29 2015 +0200

    Fix accidental case-sensitivity in `Process.getModuleByName()`

commit dc8294ff2f7adb66fc1318fca48164b5d375d897
Merge: bda79fc3 f2a2ef82
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jun 13 19:15:37 2015 +0200

    Merge pull request #67 from marc1006/getObjectClassname
    
    Get object classname

commit bda79fc3250b91302e742066937f1681e3f0f37d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jun 13 19:13:45 2015 +0200

    Improve FFI type conversion
    
    - Fix handling of struct types
    - Take alignment into account
    - Improve error-handling when JS returns the wrong type to NativeCallback
    - Do not leak V8 handles in NativeCallback

commit 9045ae568466fd0d7c21dff38d61a70ef760c585
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 12 19:01:46 2015 +0200

    Start fixing up the Objective-C type marshalling
    
    It dates back to the original implementation and was built on hacks that
    result in unpredictable behavior when interacting with some method
    signatures.

commit f2a2ef82f169c14e0274496ade1b4d2f66b18527
Author: Marc H <marc.diplom@googlemail.com>
Date:   Fri Jun 12 14:58:48 2015 +0200

    'klass.$className' added and parameter renamed for clarity

commit 8f0fd1567ce8f46296220109a18f261d76dca4c4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 12 03:02:49 2015 +0200

    Fix Windows regression caught by the CI

commit dc082734e04a28957c70a41bbe714cc1b48f503f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 12 02:36:53 2015 +0200

    Add failing test for methods involving structs

commit 965b1cfb875095b9a2176ca28f61b29d1de93160
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 12 01:59:39 2015 +0200

    Move as much as possible into the Runtime scope

commit adb60dc49eab8d0fcc1ecde338b805b7cf3d961f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 12 01:52:37 2015 +0200

    Massively improve the ObjC integration
    
    - Add support for invoking and overriding methods on proxies
    - Allow the equivalent of `id<ProtocolName>` through an extra parameter:
      `new ObjC.Object(handle, ObjC.protocols.ProtocolName)`
      The produced binding will have keys based on how much of the protocol
      the object actually implements, and will use the protocol for finding
      method metadata.
    - Add `$class` property to ObjC.Object
    - Revert method implementations when script is unloaded
    - Fix auto-generation of class-name

commit 1332804eb7fa9eeb81888a79240a818c3454d4fb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 12 01:30:16 2015 +0200

    Fix silly bug in auto-generation of class-name

commit eb8baa187bb63802523cb39e0c50cba9461aae90
Merge: b856fc3b 5189fae4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 12 00:06:35 2015 +0200

    Merge pull request #68 from marc1006/DalvikChoose
    
    Implemented 'Dalvik.choose(classname, callbacks);'

commit 5189fae4659a98e45ccf62d516e8f6ae77111d3f
Author: Marc H <marc.diplom@googlemail.com>
Date:   Fri Jun 12 00:01:57 2015 +0200

    Some small adjustments

commit b856fc3b7f0f5f2c8bcc88b6754ca03fe0e8c770
Merge: a27cd2c2 e6cb4046
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jun 11 15:44:37 2015 +0200

    Merge pull request #66 from marc1006/Tests
    
    Added tests for 'Process.getModuleByName(...)' and 'NativePointer.toM…

commit a0445ee9e898839467ce73b50ae1bd1e5fb15140
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Jun 11 13:42:28 2015 +0200

    Style issues

commit 356b9e8f53b61916b81b92680cb545ca06fc1a0c
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Jun 11 12:27:41 2015 +0200

    Implemented 'Dalvik.getObjectClassname(obj)'

commit 4c1043539221fac76b151ac6b2381f7d6749d977
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Jun 11 12:11:23 2015 +0200

    Implemented 'Dalvik.choose(classname, callbacks);'

commit e6cb4046892b5e1013b4182bebae3395553b425e
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Jun 11 10:13:23 2015 +0200

    Added copyright note

commit 7d42ba870e0d8455ffd52c6cd007c7b2fd376528
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Jun 11 10:07:53 2015 +0200

    Added tests for 'Process.getModuleByName(...)' and 'NativePointer.toMatchPattern()'

commit a27cd2c2cf6b0d482d1f4d796690a768ec8cb3e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 10 00:21:54 2015 +0200

    Add `ObjC.Object.$super` property

commit 517ac173af158abed37fc8e428e268b141889816
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 10 00:21:26 2015 +0200

    Add basic test for `ObjC.registerClass()`

commit 9dfc1375763714fa5663d56626149267afc88947
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 9 23:00:58 2015 +0200

    Add `ObjC.Object.$className` property

commit ceb82a303281e0761134dc5f4a8e07e8d3e0b30d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 9 22:42:47 2015 +0200

    Fix regression in implicit conversion from JS string to NSString

commit 049810a9ae438b402b2d75787b5a578e515cec0f
Merge: 347b60a7 f6f73eee
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jun 9 22:06:14 2015 +0200

    Merge pull request #65 from marc1006/toMatchPattern
    
    Implemented NativePointer.toMatchPattern(pointer)

commit f6f73eee2fa95c947c765b4bc06a7529120d6824
Author: Marc H <marc.diplom@googlemail.com>
Date:   Tue Jun 9 21:47:02 2015 +0200

    Ignore IntelliJ '.idea' directory

commit 6d463bc884942858cd6e5051ba504ec4f3830c39
Author: Marc H <marc.diplom@googlemail.com>
Date:   Tue Jun 9 21:46:03 2015 +0200

    Copyright added

commit 6f392c7cbd350c14c10991e50a6c8e087a57722b
Author: Marc H <marc.diplom@googlemail.com>
Date:   Tue Jun 9 21:34:45 2015 +0200

    Style issues fixed

commit 469638443185cf55d841687add8c3e36f08a7c1d
Author: Marc H <marc.diplom@googlemail.com>
Date:   Tue Jun 9 18:20:12 2015 +0200

    Implemented NativePointer.toMatchPattern(pointer)

commit 347b60a751debd01ca34eeb536422db97c2efdcf
Merge: c6b407ab d20f8ee0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 8 17:29:51 2015 +0200

    Merge pull request #64 from Tyilo/cmp
    
    Add NativePointer.cmp for comparing pointers

commit d20f8ee098206a5fe629db8c63d9c72ca6f62d8d
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Mon Jun 8 16:52:16 2015 +0200

    Add NativePointer.equals and rename cmp to compare

commit 10d5a15839b3e4e6867fe9d3d57316f949105626
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Mon Jun 8 14:43:38 2015 +0200

    Add NativePointer.cmp for comparing pointers

commit c6b407ab28a12ada1b64a8ba32c5041da170ba00
Merge: 4b58adbd 454b90a9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 8 02:20:24 2015 +0200

    Merge pull request #62 from Tyilo/malloc-ranges-js
    
    Add Process.enumerateMallocRanges{,Sync}

commit 454b90a9063cae43adb0f284d954c31be745b607
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Mon Jun 8 01:53:10 2015 +0200

    Fix warnings for non-Darwin architectures

commit f9dfb960feff4b87643b15360fc1b1d2e8c11076
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Mon Jun 8 00:20:21 2015 +0200

    Add missing return statement

commit d532d1753ef986b1017f6255e2c5294a50ec3fea
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Mon Jun 8 00:15:01 2015 +0200

    Add Process.enumerateMallocRanges{,Sync}

commit 4b58adbdb242bda46e51ff4b32fbd2bdabab3bce
Merge: 33344273 a760e556
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 7 16:28:46 2015 +0200

    Merge pull request #61 from marc1006/getmodulebyname
    
    Process.getModuleByName(name) implemented

commit a760e55661a6f981acb07449630eb2a2103c1254
Author: Marc H <marc.diplom@googlemail.com>
Date:   Sun Jun 7 01:34:22 2015 +0200

    Consistent error message

commit 3334427397837bdbd0c45d8bac70174a20d91079
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 7 00:55:22 2015 +0200

    Release the V8 lock while calling NativeFunction

commit 021e48b49bd7b6680a12de5d2f93e5ee8b1f5b7b
Author: Marc H <marc.diplom@googlemail.com>
Date:   Sat Jun 6 17:48:40 2015 +0200

    Process.getModuleByName(name) implemented

commit 8d337b73cfe18d8ed469eb3890fc929571e8322f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 4 14:41:28 2015 +0200

    Fix warning

commit d44034e91f67eff78e9f72a9d077750809df78dd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 4 03:51:49 2015 +0200

    Add `ObjC.registerProxy()` utility API
    
    This is useful when you only want to override a few methods and don't
    want to write boilerplate for forwarding the rest to another object.

commit d68636111c901753f53ab92849207c251ed31f42
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 3 22:01:35 2015 +0200

    Refine the `registerClass()` API
    
    - Rename `parent` to `super`
    - Drop `overrides` and just sniff the values in the `methods` mapping

commit 9a65f025345843dd5ebe8c8e8289dc022fcb67af
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 3 21:37:20 2015 +0200

    Improve the ObjC custom class support
    
    - Easily associate JavaScript state with instances
    - Access to super-class
    - Reduced boilerplate when overriding methods, i.e. types are taken from
      the parent method
    
    Example code:
    
    ```JavaScript
    const NSAutoreleasePool = ObjC.classes.NSAutoreleasePool;
    const pool = NSAutoreleasePool.alloc().init();
    
    const NSObject = ObjC.classes.NSObject;
    const NSURLConnectionDataDelegate = ObjC.protocols.NSURLConnectionDataDelegate;
    const MyConnectionDelegateProxy = ObjC.registerClass({
        name: 'MyConnectionDelegateProxy',
        parent: NSObject,
        protocols: [NSURLConnectionDataDelegate],
        overrides: {
            '- init': function () {
                const self = this.super.init();
                if (self !== null) {
                    ObjC.bind(self, {
                        foo: 1234
                    });
                }
                return self;
            },
            '- dealloc': function () {
                ObjC.unbind(this.self);
                this.super.dealloc();
            },
            '- connection:didReceiveResponse:': function (connection, response) {
                /* this.data contains `foo` with a value of 1234 */
            }
        }
    });
    const proxy = MyConnectionDelegateProxy.alloc().init();
    
    pool.release();
    ```

commit dd9006e7faa7b11338441e40da14dde25048e68c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 3 02:48:51 2015 +0200

    Add partial support for protocols and class creation
    
    This is very much a work in progress and the API is subject to change.

commit 1e4e8e4be32ecef7a968911e5c5295444fd37035
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 3 02:47:01 2015 +0200

    Eliminate usage of `scratchBuffer` in the Dalvik integration
    
    We'd like to be able to yield the V8 context while calling out to a
    NativeFunction in a future version of Frida, and thus we should avoid
    shared buffers like this one.

commit 5abbf2d8a2640779685a108958a7ba81e5bed3b8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 31 22:49:45 2015 +0200

    Fix handling of the `ADRP` instruction
    
    The lower 12 bits of `PC` should be cleared to zero.

commit e9cbe9ba8a7a9a464f6812b611fcf5721ff5d871
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 31 21:51:15 2015 +0200

    Add tests for relocation of `BR` instruction

commit ccfa66321acd25983fc29c43c8458ca5ca8fb18b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 31 21:35:10 2015 +0200

    Add support for relocating PC-relative LDR on arm64

commit 51478a85fde07dcd68aafb9bd3be24f215faa431
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 31 13:13:25 2015 +0200

    Add support for relocating LDRPC T2
    
    Fixes frida/frida#45.

commit 942e966f8d62d8caad00ad7357f127f3e777cdc8
Merge: 56e0c90d 947441ff
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 05:29:26 2015 +0200

    Merge pull request #59 from marc1006/ZeroInitialize
    
    Zero-initialize retvalue

commit 947441ff7ee70b8ff0c4efbb6195fa776b7d0ed8
Author: Marc H <marc.diplom@googlemail.com>
Date:   Fri May 29 00:51:18 2015 +0200

    Zero-initialize retvalue

commit 56e0c90d2baf2af596bb89d3c3f118c310c6f4cf
Merge: 29d0b7ab bd3285c2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 28 01:32:59 2015 +0200

    Merge pull request #58 from marc1006/Fix
    
    Fix overriding of static methods

commit bd3285c280134619f51f2555a770ab35a75eb806
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu May 28 01:28:56 2015 +0200

    Fixed code style

commit 449d098df255d56d1aea89a7dc31f91726d1ebb6
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu May 28 00:37:05 2015 +0200

    Fix for https://github.com/frida/frida-gum/issues/56

commit 29d0b7abeb8961d2705ade774ca531e3c6907482
Merge: 05f9afac 315fd33b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 26 12:05:32 2015 +0200

    Merge pull request #55 from marc1006/loadedClasses
    
    enumerateLoadedClasses implemented and some fixes to use strict mode

commit 315fd33b71c2716cc714831a2d473bdfb9e8cf4f
Author: Marc H <marc.diplom@googlemail.com>
Date:   Mon May 25 21:48:22 2015 +0200

    Indentation fixed

commit 14a540d2b52b7be1ca5c6c8f23761e70ccdcadb9
Author: Marc H <marc.diplom@googlemail.com>
Date:   Mon May 25 21:27:38 2015 +0200

    enumerateLoadedClasses implemented and some fixes to use strict mode

commit 05f9afac3a92ecae35add0163193a121b1de4de6
Merge: 8bddc04a 27adaa3e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 25 13:05:14 2015 +0200

    Merge pull request #54 from s1341/master
    
    Fix error in ARM redirect calculation when rotation is 0

commit 27adaa3e215bb5f1c656a6a4f44962868d9df65e
Author: s1341 <github@shmarya.net>
Date:   Mon May 25 12:45:22 2015 +0300

    Fix error in ARM redirect calculation when rotation is 0

commit 8bddc04a1da42cb9c26da784f83de03cf1f74a98
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 19 20:06:04 2015 +0200

    Add `gum_arm64_writer_put_call_reg_with_arguments()`

commit 9354229ce57e9d645cc3fdca3421608f06e37a70
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 19 20:05:39 2015 +0200

    Add missing include for `rindex()`

commit 8e3ef773d52f1f01861d948b89af9676bfcbf557
Merge: 543e2489 859a7534
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 19 15:02:18 2015 +0200

    Merge pull request #52 from s1341/master
    
    Set details.name when enumerating modules on QNX

commit 859a75348a23982db8c94d829579e1ed27adefa3
Author: s1341 <github@shmarya.net>
Date:   Tue May 19 16:00:13 2015 +0300

    Get rid of errant printf

commit dffe9afad84679febdc9f8a6c421297deb79e6f2
Author: s1341 <github@shmarya.net>
Date:   Tue May 19 15:52:22 2015 +0300

    Set details.name when enumerating modules

commit 543e24891c2f13d967d75582ed195a2f2650a446
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 17 16:15:06 2015 +0200

    Allow readByteArray() with length < 1

commit 91dbf6a569b8886616c48ea681fc93466d4cb68a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 16 22:22:20 2015 +0200

    Add support for passing an array of data to `send()`
    
    Fixes #48.

commit d623c4918996dc88492f33389a6ad29885d3d834
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 16 21:40:44 2015 +0200

    Make the jecxz/jrcxz labels unique

commit c887be19a18914001eb7748804626148ab9ce047
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 16 21:40:04 2015 +0200

    Add support for relocating cbz/cbnz instructions

commit fdf2de5d6760308d57eee424e8d313a97c72d398
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 13 22:08:50 2015 +0200

    Fix gum_clear_cache() on android-arm64

commit d0a4685236780d8e15deb2a9bea0122ee3c15f9c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 13 22:08:35 2015 +0200

    Temporarily disable some tests for android-arm64

commit 0a0e5c6e27a00e00aabcea17856c7f413edbaf3a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 13 22:08:09 2015 +0200

    Improve the Android `check` target

commit ed48636eefedabc30833c05b1e9a6e458acb2287
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 13 21:35:01 2015 +0200

    Improve the Android `check` target
    
    - Push arm64 binaries too.
    - Don't delete old files before pushing.
    - Strip binary before pushing it to minimize transfer time.
    - Remove now-redundant LD_LIBRARY_PATH.

commit d6fdaf771031f649d790fe6b9c08cb34a548b8ec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 13 21:29:36 2015 +0200

    Add targetfunctions binaries for android-arm64

commit bbe6e47e15d6e92ee278d1c1ac36eb064bf2e8ee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 13 21:15:08 2015 +0200

    Port GumCpuContext to android-arm64

commit 72794c381bb66ac07a247a671e303a5078051112
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 12 18:33:11 2015 +0200

    Add support for “o instanceof ObjC.Object”
    
    Also update to pass the wrapper itself instead of `wrapper.handle`, now
    that we support that.
    
    Fixes #45.

commit e8054787c643b94134333d504a76ca4854b23ca6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 12 18:24:40 2015 +0200

    Allow passing object with a `handle` property as a NativePointer
    
    It's not possible to inherit from NativePointer when using ES6 proxies.
    
    Fixes #47.

commit 51958d12e834b8016677a7b43772d201d40c675a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 11 19:10:42 2015 +0200

    Remove unused NativeFunction

commit 76e09d254d28a9ef0edda71805a5dba86bfccd08
Merge: 0f6736d6 e024a937
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 11 19:00:16 2015 +0200

    Merge remote-tracking branch 'Tyilo/fix-objc-types'

commit 0f6736d6be8a1e0be539377f32ef4cc18d80a749
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 11 18:58:48 2015 +0200

    Fix signatures used for calling `objc_msgSend()`
    
    It is actually not a varargs function. This resulted in crashes on arm64,
    where the ABI difference between non-variadic and variadic is quite huge.

commit c32df7ff3ad17083b44d739a8b66cde7145cfd1a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 11 17:27:08 2015 +0200

    Enable the ObjC test-suite on iOS too

commit e024a937b083427809024af0d99d2da537375199
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Sat May 9 03:35:39 2015 +0200

    Fix test and coding style

commit 0327babad43baa859787b8d2d0f2c8a74b76675d
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Fri May 8 18:30:24 2015 +0200

    Fix all ObjC types

commit bb731125cf7f638f5783ca9a355cedc1e8fead78
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 7 21:10:04 2015 +0200

    Fix the toJSON() implementations

commit 68a81200bb099197dbf1ce0ef9b2279aa2b8e666
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 7 20:56:06 2015 +0200

    Handle serialization to JSON

commit 4ec1a1c7ed94c21e3b4e34d32b04427a0529b3c3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 7 20:05:51 2015 +0200

    Fix minor coding style issues and disable WIP test

commit 4d220f9db26bcfdba11c929e237e4afaf580322f
Merge: cf658472 6c317d69
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 7 20:01:05 2015 +0200

    Merge pull request #43 from Tyilo/test-objc-weird-methods
    
    Add 2 ObjC tests

commit 6c317d696ea78de0f9b8da74e58bf895cec64836
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Thu May 7 19:12:47 2015 +0200

    Add 2 ObjC tests

commit cf6584724c684c9366bd8051d2148022b5606773
Merge: 2317f046 3cd58d46
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 7 04:06:26 2015 +0200

    Merge branch 'fix/objc-api'

commit 3cd58d46062e193908b512e4238ed7be409a8010
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 7 04:06:06 2015 +0200

    Rework the ObjC implementation
    
    - Unify class enumeration and `.use()` into a much more intuitive API.
    - Wrap classes and instances the same way.
    - Do things lazily and improve performance massively.

commit 2317f046d4b4b52d612074acff8c67224e655c50
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 6 19:01:27 2015 +0200

    Beef up the ES6 support

commit 66e073453a75c8072fb50fb9c8dd2caa92360b0f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 6 15:25:47 2015 +0200

    Add a method implementation override test for ObjC

commit 8c7fd50fb304538ba7bb54dcfc213db30a43d57c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 6 15:25:29 2015 +0200

    Improve the handling of uncaught exceptions

commit f06624c02cd6db8211676458120868167711cef0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 6 14:14:41 2015 +0200

    Fix crash when NativeCallback throws instead of returning a value

commit fe9991e6866557fe8462b2895e98589eb9628a31
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 6 13:58:58 2015 +0200

    Handle exceptions without a message

commit 7b0f525ae1094eaf3e69a90104aeef6c7f744efb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 6 13:35:35 2015 +0200

    Add a couple of basic tests for the ObjC integration

commit 4824330271fed49982b16f5b6ece8ca47262322b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 6 02:54:48 2015 +0200

    Generate ObjC method wrappers lazily
    
    This improves performance quite a bit.

commit d5ae4f88142f0fb27645febe8b48ecd0ce87eefe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 6 01:00:29 2015 +0200

    Fix Linux build regression

commit 780c80b77362ce65f7d5a35aa9ade4c485af19a6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 5 23:59:55 2015 +0200

    Add a really basic performance test for ObjC.use()

commit d4fb81ac0610885912c9a4b9a114482aa5d8a747
Merge: 953156e4 87e6cf5f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 5 16:45:50 2015 +0200

    Merge pull request #42 from s1341/master
    
    Fix bug in calculating ADD arm instruction immediate

commit 87e6cf5f47c2fd45a09ebaec213a2572546ee124
Author: s1341 <github@shmarya.net>
Date:   Tue May 5 17:43:34 2015 +0300

    More style fixes

commit 81d94e4a88380a0b813cc049eed79a80462203a5
Author: s1341 <github@shmarya.net>
Date:   Tue May 5 17:39:41 2015 +0300

    Fix style issues

commit 82c3037f17fd2a9e655edcea0548455d3d27361a
Author: s1341 <github@shmarya.net>
Date:   Tue May 5 17:05:28 2015 +0300

    Fix bug in calculating ADD arm instruction immediate

commit 953156e4f01dd10c66051b278e0f3764c615502c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 4 18:45:30 2015 +0200

    Rename `get*()` to `enumerate*Sync()`

commit 47efadf4219ce47e6476d02215f2e444dda5e44f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 4 17:36:57 2015 +0200

    Add convenience API for getting all items
    
    These are guaranteed to be blocking, whereas the enumerate* API may run
    asynchronously in the future.

commit 31481e68010af56dc6da7132d14de44f790d5f84
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 4 15:59:16 2015 +0200

    Fix shutdown of ScriptEventSink
    
    The callbacks were scheduled in the wrong MainContext and there was no
    guarantee that they would get processed before destroying the V8 context.

commit cc2bb30667450dd8dcacaae9954fea422c33495d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 3 23:24:41 2015 +0200

    Fix rewrite of the B.cond “false” branch

commit 1845e4db22c8ffdc89540d6a6ba4bbab2163cbcb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 3 23:24:03 2015 +0200

    Improve the read() test to cover both branches

commit e4155dc3d65a0143175ba29c08924206614dea49
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 3 20:06:00 2015 +0200

    Add support for relocating B.cond on ARM64

commit c01a416f1bb36d8f5cdc66e31b33bea4300f2233
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 3 20:05:02 2015 +0200

    Improve the attach_to_read test

commit e04ba2ab647b88b868d73e9f000a150d7f83d07c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 3 20:04:17 2015 +0200

    Remove redundant environment variable

commit f1e73f616810250ec13fb40daa59622875bb3665
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 3 16:28:47 2015 +0200

    Add failing test for attaching to read() on ios-arm64

commit 8a912105fd8a962f7766b82c64e9b02d24815e79
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 3 16:28:16 2015 +0200

    Fix the iOS and Android “check” targets

commit e4574436fe37bcb02caa5de77fd5ec7d087d44d8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 1 16:12:21 2015 +0200

    Eliminate trailing whitespace

commit 93cb5a8359998f19c1a1fa6f913818df0b06ef54
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 1 15:56:59 2015 +0200

    Change findFunctionByName() to getFunctionByName()
    
    The `get` part of the name hints at the fact that an exception will be
    thrown if we're not able to resolve the function name.

commit 95ba465ccb431029252e0fc57bb5878b457b1a3b
Merge: 011f2697 c0556669
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 1 15:40:27 2015 +0200

    Merge pull request #41 from Fitblip/master
    
    Docstrings

commit c0556669dba2a644e6fc05c704ba8ec4ecce5ec4
Author: Fitblip <fitblip@gmail.com>
Date:   Fri May 1 04:22:26 2015 -0700

    Formatting fixes

commit f27ba7470efca97a0707e3f777649aa3c37e6cb4
Author: Fitblip <fitblip@gmail.com>
Date:   Fri May 1 03:16:57 2015 -0700

    Use the memcpy names in gum_script_memory_on_copy

commit 64369aaee9c7a704fb99359e05b110a07897600f
Author: Fitblip <fitblip@gmail.com>
Date:   Fri May 1 03:16:06 2015 -0700

    Initial docstrings

commit 011f2697b1ff6a747f995ff47baca263165721a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 28 19:17:45 2015 +0200

    Remove the long gone init_with_features() API from the vapi

commit 74e5f8479f20ae4c63b1ecebaf690d2b5a201630
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 27 01:57:41 2015 +0200

    Provide V8 with an array buffer allocator
    
    Fixes frida/frida-python#15.

commit 11e8d57789c08ee8d3b96c66d28ed13f9cf70647
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 27 01:34:38 2015 +0200

    Sanity-check pointers handed to Interceptor and Instruction APIs
    
    These checks only check the first byte, but that already goes a long way
    to catch the most common API usage mistakes.
    
    Fixes #7.

commit 711bfef6b8d8413022ebc3cc5f210e63e49bc136
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 27 00:29:21 2015 +0200

    Handle invalid construction attempts

commit 12bc6b993da7de281cc5699afa25d4801b3dfad2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 17:13:06 2015 +0200

    Add support for stalking jecxz and jrcxz

commit fcf21b613d1dc9695c495810a4ee56b761f44e7d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 17:05:44 2015 +0200

    Fix the jcxz tests

commit d0facadf4c14838369358e6332201f3124ab14b9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 16:43:09 2015 +0200

    Add failing tests for stalking jecxz/jrcxz instructions

commit 2268171d7cde2b6533cd003c736f54b50ff0e1d6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 16:25:11 2015 +0200

    Add support for relocating jecxz and jrcxz

commit daf352a359693097d49973786e3a9a30dce4899f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 04:26:12 2015 +0200

    Replace placeholder test with a failing test for `jecxz`

commit 0a04f6065bfa526c754ca282f20b0edcef0937f6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 04:07:47 2015 +0200

    Add a temporary test for tracking potential capstone regression

commit 14dc017b029959a08b01deb95d4d54aaae401080
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 01:54:44 2015 +0000

    Only enable BoundsChecker and Gum++ tests on Windows for now

commit 2ec5bf5069bd838a2643e35d1eb313b948e1153e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 03:17:30 2015 +0200

    Update Script fixture path

commit dc82df1867264ea538f4932186eecd4cba42d103
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 03:17:20 2015 +0200

    Update the GumJS canonical name

commit b8ef17d7e992761b1501a8e6933b0415ed4fbbf7
Merge: 0fc88743 b3f6f85e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 02:53:46 2015 +0200

    Merge branch 'feature/gumjs'

commit b3f6f85e3dbc0e8e64177869f8dfb60a7934dc52
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 02:51:19 2015 +0200

    Move the Script runtime into its own binding
    
    Beyond the obvious architectural reasons, the motivation behind this is
    so that frida-gum can be consumed by an application or library that's
    embedding a V8 of their own. For Frida that means frida-node can embed
    frida-core without any risk of mixing up the V8 symbols.

commit 0fc88743b4ad3962ba16679da146eb73f85ada01
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 24 23:46:53 2015 +0200

    Clean up and get rid of GUM_EXTRA_LIBS

commit 538480a4236afba0d520d0ff9869762d4d4863d5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 24 23:33:48 2015 +0200

    Remove V8 from libfrida-gum-1.0.la
    
    We really want to avoid V8 symbols ending up in the static library, and
    just rely on the pkg-config to link in V8's static library. Otherwise we
    run into issues when frida-gum is linked into a library that itself
    depends on another version of V8, which is the case for a Node.js binding.
    
    This is obviously a hack, and the longer term plan is to move all of
    gum/gumscript* out into either its own library, or frida-core/lib/agent.

commit dda07504600f0a5108ab32343f1a560b0dd0589c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 24 19:08:31 2015 +0200

    Disable BoundsChecker and Sampler test suites on iOS for now

commit 9657d2623a858b1d25f1b742845b4778186d3327
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 24 19:08:11 2015 +0200

    Handle ios-arm64 in the backtracer test
    
    There isn't yet any fuzzy backtracer available for ARM64.

commit adcad6bdc398d5e036bb7a46db2ddbc66ed56d59
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 24 19:06:34 2015 +0200

    Improve the Script fixture teardown

commit 807185d00ddff6863ef2846b38f36a5fc7143042
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 22:18:12 2015 +0000

    Fix Linux warning regressions

commit 09568035bdb8578c64459cc27e41ee6bfaa8db8b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 23:17:31 2015 +0200

    Run Script tests after all the lower level suites

commit 56f0337c702d8c84b00ef0fb9bc779abfa4d5bcf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 23:16:58 2015 +0200

    Fix the page rounding logic on 64-bit

commit a7786a2662441ef10eb73f7456cdcc117c24ecd4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 21:20:25 2015 +0200

    Revert warning fix
    
    It was a false positive.

commit 9bcd4e5523b553e28584ca8dc2eafdb8320a1981
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 19:58:35 2015 +0200

    Fix warning reported by MSVC

commit 3bd1d02390b76ab156c869f3f0952f2a92d0caef
Merge: e43cc036 7c32e04a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 16:45:15 2015 +0200

    Merge pull request #40 from s1341/master
    
    Fix the pc relative add

commit 7c32e04ab3b2648b6cc9d49045871ecbfffaab7c
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 23 16:54:59 2015 +0300

    Fix the pc relative add

commit e43cc0363c6ea8b5a54246048519ef094a0e8e15
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 23 15:39:06 2015 +0200

    Fix parsing of process ranges with non-filesystem inodes

commit 622c665a4849cccb6b7409c35032c3f8b843e0f8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 15:17:49 2015 +0200

    Revert bad simplification of PC-relative add
    
    Also fix the test while at it.

commit e41ef422229f2943e81e554282a4af9a1195b746
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 23 11:35:59 2015 +0200

    Fix UNIX warning regressions

commit b55c09a9c15158dc9cc5614b06c58237aac96339
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 11:22:06 2015 +0200

    Simpliy rewrite of PC-relative add
    
    Also fix test harness usage in the new ArmRelocator tests.

commit e443490b46b8bc39eedc8d07fa3cfd0c67d93f7e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 22 20:39:17 2015 +0200

    Add `MemoryAccessMonitor` to the Script runtime

commit 0dee3ef19ab770a65ef2b833e754a045a8a45e9b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 22 20:37:19 2015 +0200

    Provide range index instead of the actual range

commit 2b0f294604ede7171b8336891e275cc2799d4d98
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 22 18:49:29 2015 +0200

    Improve MemoryAccessMonitor
    
    - Refine the API to allow multiple ranges
    - Allow monitoring anywhere in an allocated range
    - Move implementation into backend-windows

commit 68987aac3335063be079aaa79d94d056edf266d6
Merge: 076789d0 23a4c18e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 22 13:54:36 2015 +0200

    Merge pull request #39 from s1341/master
    
    Fix bugs in gumarmrelocator and gumarmreader related to improper instruction assembly/decoding.

commit 23a4c18e4445c3368d6817b522b0e2c7d9745f56
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 22 14:46:10 2015 +0300

    Disable failing tests on QNX for now

commit 076789d0681a633c82bea920c9af35d6be81e30b
Merge: b0baee25 56cf67d5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 22 13:45:38 2015 +0200

    Merge pull request #38 from s1341/master
    
    Fix bugs in gumarmrelocator and gumarmreader related to improper instruction assembly/decoding. Also, implement rewrite for pc-relative add.

commit 56cf67d5e94a689e083fe543bfaa479f8a0c37c3
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 22 14:15:17 2015 +0300

    Add tests for ldr and add rewrites

commit 1fdebebbb273d24ac203203376d1783844e25346
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 22 12:48:36 2015 +0300

    Implement rewrite of pc-relative add

commit 089c458df6e7ba418faebdc6a30eb5e32cdcb300
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 22 11:57:03 2015 +0300

    Fix instruction decoding in try_get_indirect_jump

commit 157b5b22881035bb9aa15f366a50ddcaece9e156
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 22 11:55:01 2015 +0300

    Fix ldr rewrite for large displacements

commit b0baee25edf4b6bd2ddaee198c682f0f502a7edf
Merge: e9b24166 9fa4ebc8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 21 19:18:39 2015 +0200

    Merge pull request #36 from SomeoneWeird/c-type-memory-shortcuts
    
    Add additional shortcuts for reading and writing memory.

commit e9b24166cb60d0ca8804eca020602204c1bac799
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 21 16:09:12 2015 +0200

    Add `Memory.readCString()` to the Script runtime

commit 9fa4ebc8be812f624fa694ade9e4cf27c37ce104
Author: Adam Brady <adam@boxxen.org>
Date:   Tue Apr 21 23:11:20 2015 +1000

    Add additional shortcuts for reading and writing memory

commit 75aff71455823416a822ab824acc1b922175a544
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 21 15:45:06 2015 +0200

    Make the ANSI API available as throwing stubs on non-Windows
    
    This is less confusing than methods being missing.

commit 19f1637b5c25d33e439564c5e3b168fec7d889b8
Merge: c44101dc 368ea859
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 21 15:30:44 2015 +0200

    Merge pull request #37 from s1341/master
    
    Fix replace_function test case

commit 368ea859c7e5d6a0359736de778aebc6d3c349b9
Author: s1341 <github@shmarya.net>
Date:   Tue Apr 21 16:19:49 2015 +0300

    Fix replace_function test case
    
    The ret variable in this case needs to be volatile so that the
    compiler doesn't aggressively optimize, resulting in an assert
    0x42 == 0x42.

commit c44101dcb22efcf4d74ca1c5007e9f125e7bcdc8
Merge: ee9d8bb6 3f3adcc3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 21 15:15:16 2015 +0200

    Merge pull request #35 from s1341/master
    
    Add capstone to armrelocator; implement PC relative ldr rewrite.

commit 3f3adcc3d51446281389168a8c0360b98a711682
Author: s1341 <github@shmarya.net>
Date:   Tue Apr 21 12:26:08 2015 +0300

    Implement PC relative ldr rewrite
    
     - Add capstone to the ARM Relocator, allowing for parsing instructions
       using the capstone API.
    
     - Implement rewrite of PC relative ldr instructions (where PC
       is the base register for the second operand).

commit ee9d8bb6ba23f96506bc1ca3ab811266109a6f2b
Merge: 2e588935 13085be2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 21 11:22:37 2015 +0200

    Merge pull request #34 from s1341/master
    
    Make interceptor replace/revert function follow redirects

commit 13085be2d9d2e370f2be7bbd23780744bdb9c934
Author: s1341 <github@shmarya.net>
Date:   Tue Apr 21 12:18:06 2015 +0300

    Make interceptor replace/revert function follow redirects

commit 2e588935fbf0b3694ccc9c4b1dee3a9ec40122fc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 21 01:55:45 2015 +0200

    Fix crashes when GC kicks in during disposal of weak refs
    
    Two scenarios:
    - Script destruction removes all weak refs, and while executing the
      callback for one entry that may lead to a GC that triggers a callback
      to one of the next ones. The call to remove it does nothing, because
      we are already in `g_hash_table_remove_all()`. V8 detects that we did
      not actually trigger any state change, and aborts.
    - WeakRef.unbind() is called but GC kicks in during execution of the
      callback, which was executed before `ClearWeak()`.

commit 9b0da879254f01b99d5a5588a6650e621c6dff60
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 20 19:38:50 2015 +0200

    Fix warning regressions

commit ad08643314aa954d14dc18a0c0102c6f5aabe191
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 20 19:33:28 2015 +0200

    Clear weak state when disposing weak reference

commit de4ea8e752ab75072bb79985a6b50c1aa77c9fa5
Merge: 11a83226 46c5eb7a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 20 18:07:36 2015 +0200

    Merge pull request #33 from s1341/master
    
    Implement _gum_interceptor_resolve_redirect for ARM

commit 46c5eb7a8d3965fb8dd94ca88cb29a484bed1394
Author: s1341 <github@shmarya.net>
Date:   Mon Apr 20 18:46:40 2015 +0300

    Add another thunk form as a redirect
    
    This is an indirect jump through a table at a PC-relative offset.

commit 39acfdab33c4941958422c9a571181137aa3c371
Author: s1341 <github@shmarya.net>
Date:   Mon Apr 20 12:32:47 2015 +0300

    Implement _gum_interceptor_resolve_redirect for ARM
    
    Add the gumreader.c/h files. Look for relative imm jumps when
    attempting to resolve redirects.

commit 11a83226257085cc6d39099645d40cfefa5304aa
Merge: 5fb2e1e5 722af54f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 20 15:42:08 2015 +0200

    Merge pull request #32 from s1341/master
    
    Make mprotect hack mmap with PROT_EXEC

commit 722af54fe31d9fa0c8f7b5260b0db69720b7355a
Author: s1341 <github@shmarya.net>
Date:   Mon Apr 20 16:33:48 2015 +0300

    Make mprotect hack mmap with PROT_EXEC
    
    This is better for the case where we are changing permissions for
    the same page as something we are executing.

commit 5fb2e1e59bc872c98c2d2bdbdd36794f80ed2a83
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 20 15:15:07 2015 +0200

    Turn fatal V8 errors into fatal GLib log events

commit 45142357a6c5189f16add7847cc7f9014c83b5f1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 19 20:57:37 2015 +0200

    Improve Dalvik performance and type support
    
    - Create wrappers for constructors and methods lazily. Constructors are
      pretty simple given that we only need to know something about them once
      they're accessed. For methods we need to know their names, but that's
      enough as it lets us define a property getter that creates the actual
      wrapper when a method is first accessed.  The combined effect of these
      optimizations is typically a 1000+% speed-up.
    - Add support for vararg methods.

commit 8aa98e830251bb92e9e3408b7ac8dc2397105bc5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 19 18:29:39 2015 +0200

    Fix minor coding style inconsistency

commit 5b06cf88fdfeab7abd0229d98ea677cd0348f613
Merge: badca783 941a4a22
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 19 18:28:39 2015 +0200

    Merge pull request #30 from s1341/master
    
    Implement gum_try_mprotect and gum_clear_cache for QNX

commit 941a4a2267571cf2beca53675c807084b6241fac
Author: s1341 <github@shmarya.net>
Date:   Sun Apr 19 17:21:30 2015 +0300

    Implement gum_try_mprotect and gum_clear_cache for QNX
    
    gum_try_mprotect includes special handling for the case
    where an area cannot be marked PROT_WRITE because it is
    a shared memory mapping which was opened read-only. This
    appears to be the case for all .so code sections mapped.
    
    The special handling includes remapping the necessary
    areas in order to allow PROT_WRITE.

commit badca78316a9a46a7c2e0d4430264ea8b87926fa
Merge: a02d453f 63844c83
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 19 15:14:42 2015 +0200

    Merge pull request #29 from s1341/master
    
    Move gum_try_mprotect from backend-posix to backend-linux

commit 63844c83471fb434d70f707f79f0c40d6c5a46a0
Author: s1341 <github@shmarya.net>
Date:   Sun Apr 19 16:06:27 2015 +0300

    Fix too long line

commit 3bd09856d58e7aae8df09ce87ed4ca18f17d6e0a
Author: s1341 <github@shmarya.net>
Date:   Sun Apr 19 15:54:55 2015 +0300

    Move _gum_page_protection_to_posix into private header

commit 5131111e9ea6149c3b950ccced0d34ee0a555f9a
Author: s1341 <github@shmarya.net>
Date:   Sun Apr 19 15:28:02 2015 +0300

    Move gum_try_mprotect from backend-posix to backend-linux

commit a02d453ff8bfa5b1f57cf9ea3f446240697b76a8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 19 13:53:58 2015 +0200

    Add `class` property for accessing the java.lang.Class for a given type

commit 223c7b8cb2eda2411416f1c84557a9f76394dbf3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 19 13:52:58 2015 +0200

    Avoid leak if `ensureClass()` fails

commit e17c599bc4bf2bbc5c3624fd87eded25eefda243
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 19 01:21:28 2015 +0200

    Avoid VM crash if a JS exception is thrown during argument conversion

commit 8d1285216d94141d6ad75279fdbc79658f0a7fe1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 18 12:32:04 2015 +0200

    Fix warnings

commit 017a28b2eb499fdc75c2dce0a46b92a9877d900d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 17 21:48:30 2015 +0200

    Add `Frida.version` to the Script runtime

commit 069d5b40825c913b49b50d23ac5e57cac3565658
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 17 15:48:26 2015 +0200

    Fix minor coding style inconsistency

commit d51c9325d9c6dc2a1f5fe0b962a70af88f633ec3
Merge: ff2a12e3 1eb085c4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 17 15:46:35 2015 +0200

    Merge pull request #28 from s1341/master
    
    Implement QNX specific process and memory functions

commit 1eb085c4e0bf2bf9687da58e761990cc4c0f9780
Author: s1341 <github@shmarya.net>
Date:   Fri Apr 17 16:07:22 2015 +0300

    Create targetfunctions binaries for QNX
    
    Also, move gum_memory_get_protection later in file

commit 20fb7cc80158adc7c7d3714980ce26630d144ec2
Author: s1341 <github@shmarya.net>
Date:   Fri Apr 17 15:58:11 2015 +0300

    Disable symbolutil tests for QNX for now

commit db58de8eb542d8d021794278f8c79726044955d3
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 16 20:46:17 2015 +0300

    Use libbacktrace to test exports enumeration on QNX
    
    Because the real system module (libc.so.3) doesn't have a DYNSYM
    section.
    
    Also, lots of style fixes

commit b1e56c93e7f566b1f03aed9f6c68c4ed2c18c60e
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 16 20:36:56 2015 +0300

    Reimplement gum_process_enumerate_modules
    
    By reverse engineering dl_iterate_phdr in QNX 6.6 and dlopen in
    ldqnx.so.2, determined how best to extract the module file names.
    
    Currently a combination of /proc/self/as devctl queries and the
    dlopen/dl_iterate_phdr hack is used as the former provides module
    size which the latter does not.

commit 3f3d4f143f157111f48b957618dc154dc65a1824
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 16 12:47:34 2015 +0300

    Implement gum_process_modify_thread

commit 03b869f717a02b8287f947a061533cddcbb5c330
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 16 09:45:32 2015 +0300

    Get rid of printf

commit d2d6c75a1281c4c56fa36986184c17c90b24bc4f
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 16 09:29:19 2015 +0300

    Modify gum_memory_read/write to use /proc/self/as

commit bd2da7d4c31fdf6a7679c36dec7a93358b15a2a0
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 15 17:32:15 2015 +0300

    Begin implementation of qnx specific process/memory
    
    - Add gummemory-qnx.c
    - Add gumqnx-priv.h
    - Fix compilation errors in gumprocess-qnx.

commit ff2a12e39724fa495ba6e17b31973dd31f64eee3
Merge: 58dac919 11237d9f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 16 11:46:00 2015 +0200

    Merge pull request #27 from s1341/master
    
    Fix gum_enumerate_free_ranges prot filtering

commit 11237d9ff5d822b0f174de2797c9c426ce00e01b
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 16 12:43:53 2015 +0300

    Fix gum_enumerate_free_ranges prot filtering

commit 58dac919345f61b5963de66739bede417f8b08f2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 16 01:28:14 2015 +0200

    Fix build system reference to dead file on Windows

commit cd93f3f311aaab1bb680ceace54db0b42e861504
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 16 00:40:50 2015 +0200

    Update the project filters

commit f05be543864fab3b3b81c9aab58daaed064d92c3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 16 00:38:15 2015 +0200

    Add Windows build step for generating the script runtime

commit 8e9116620ee7be3daec4a3a1905692fb6e0eea35
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 16 00:37:58 2015 +0200

    Fix Windows regressions

commit 14391ca7f90a17f30dbb001857e24c4460f88b21
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 15 23:59:59 2015 +0200

    Refactor the script runtime handling and build system
    
    - Automatically generate the runtime as part of the build system.
    - Do not minify the source code. This makes it easy to debug it.
    - Keep the files separate so file names and line numbers match 1:1 with
      the files in git.
    
    The Windows build system is TBD.

commit b7c7062d1a6649f0fce2c9d97201cce28254c229
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 15 20:10:12 2015 +0200

    Move script runtime into its own script and only compile it once
    
    This speeds up creation of subsequent scripts and lets us embed a non-
    minified version, making it easy to set breakpoints to explore the Frida
    runtime.

commit df4cb7e0c7a9bc3a2382492b4c7c89cafced28b4
Merge: d991af35 11d0019e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 15 16:25:28 2015 +0200

    Merge pull request #26 from s1341/master
    
    Fix missing -lz

commit 11d0019e382afedc574b7a41cda472185726b9fc
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 15 17:23:13 2015 +0300

    Fix missing -lz

commit d991af355e54825575e6a6b8749cf1afc4d0071b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 15 16:03:03 2015 +0200

    Fix up the refactored memory backend

commit 55a41a65be538bf09c38c30283795942ed812da4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 15 15:56:18 2015 +0200

    Fix `gum_alloc_n_pages_near()`

commit 0074fb281f8403150e1a752fde897c129092c7e0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 15 15:53:08 2015 +0200

    Fix `gum_enumerate_free_ranges()`

commit 00d259e60beccb738991541d581d0dde146a7a10
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 15 15:34:53 2015 +0200

    Split gummemory-unix into -posix and -linux

commit 7101017c545a4c296e1c0d213d514025cce2948f
Merge: f631c530 bbd13e1b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 15 15:13:26 2015 +0200

    Merge pull request #25 from s1341/master
    
    Define _QNX_SOURCE for frida-gum

commit bbd13e1b1b7612009bb9f2750426837d8773f7c1
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 15 16:06:26 2015 +0300

    Define _QNX_SOURCE for frida-gum

commit f631c53064fb2798b76bd523e1327455a32f9984
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 19:13:10 2015 +0200

    Fix handling of jobs without any `data_destroy` provided

commit 4a45644736a5f500dc6b93aedd1877b408e865cf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 18:51:36 2015 +0200

    Fix `gum_script_*load_finish()` signatures

commit 44f2ada065b16eaa48efdd8e6dfaeca4622067df
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 18:43:34 2015 +0200

    Fix vapi regressions

commit 92e6b06a68e0d793e2b0bd0fcfb22c6842e9450d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 18:30:42 2015 +0200

    Fix the Script deinit logic

commit 4949f960606a49ef2731a03d534c498434931a28
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 18:04:36 2015 +0200

    Make the debug API asynchronous as well

commit 1db9cae3bf9eed41b8d3a3160e9f9861bc2ecf99
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 03:57:29 2015 +0200

    Update the `memory_can_be_protected` test to the new behavior

commit 6a3246a2f25bde258e4080e413bbb88a6783d19b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 03:52:27 2015 +0200

    Update Script tests to match the new MainContext behavior

commit 7204852cdacdee018284c9bed84bdb8ea9a5817f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 03:47:14 2015 +0200

    Avoid lingering timeout sources in Script test fixture

commit 7b56039cb1e90873f0ee985c1566a9bed3c4e195
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 03:40:09 2015 +0200

    Update Script test fixture to handle async message delivery

commit d2e56a3f9f5f4aafbf0d93a3a8e781cd68b2f029
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 03:21:45 2015 +0200

    Emit messages to the MainContext that created the script

commit 25bc5fbe021bf7bd6a2ef26e33df0cd6cb071e07
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 02:09:12 2015 +0200

    Tighten up the locking

commit eb02a01167d70e8f3fa8d00dcc610738fe942577
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 01:30:36 2015 +0200

    Process incoming messages in the V8 thread

commit ca08295a30215bf37aebbf4ad12207ff3566b713
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 01:16:27 2015 +0200

    Move scheduled callbacks to the V8 thread

commit e469e1b01f9d6be655594691f416d480ff3c35be
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 01:07:42 2015 +0200

    Wire up ScriptTask logic

commit a26cd234d9025111d54d5812be686c875ab2d69a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 13 23:06:51 2015 +0200

    Refine the scheduling API and start wiring up ScriptTask

commit cf48f95ca7acdbc165f6d6cd73eec878713942d0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 11 17:52:49 2015 +0200

    Start moving towards a dedicated MainContext for V8

commit 0a8e44f11433ace05c85f68601418bfaef2fbb22
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 10 17:36:34 2015 +0200

    Make gum_script_*load() asynchronous

commit 40a17a513681488c96e7ca34b291ef723de90f60
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 10 14:44:38 2015 +0200

    Make gum_script_from_string() asynchronous
    
    This is the first part of moving the Script API to be fully asynchronous,
    meaning that we never do any V8 calls from our MainContext thread.
    
    The motivation is to be able to support debugging, where V8 goes into
    a blocking loop waiting for commands when handling breakpoints and the
    likes of. As we rely on our MainContext for exchanging messages with V8,
    we must make sure that V8 stays out of our MainContext thread.

commit ae7426ad17919b79f259a9efd7cabc2574401885
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 20:16:15 2015 +0200

    Spice up the debugger test with a couple of scripts

commit c7e699713fc1c82e4a173661fd2fff776ee25855
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 20:15:34 2015 +0200

    Add a minimal compatibility shim for Node.js debuggers
    
    This is just to make debuggers like node-inspector think they're talking
    to a Node.js runtime.

commit 2ff5c7f2461db64722b4307b7abf1ff1119a97a8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 20:13:05 2015 +0200

    Name the compiled scripts
    
    This is very useful now that a debugger can be attached.

commit 953183c041bf26e36ea0af79c2d115a517ec8271
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 16:25:41 2015 +0200

    Fix the set_debug_message_handler() signature

commit 8a61b40acead524ee37bc4cf8f4f7d70476fefc5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 11:48:44 2015 +0200

    Add new debug API to vapi

commit 0294e4a61904f548d1601a8d605d051ed8b2f651
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 11:46:44 2015 +0200

    Change the debug API to only concern itself with message-passing
    
    We may be running inside a sandboxed process, which means we need to
    make it possible to have the server running elsewhere.

commit 0dfba70e8f52a5b56250caff8384c6018fda57d3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 02:53:58 2015 +0200

    Fix buffer shift logic

commit cdac2c82737fe537ad79aa7708eb1f470293d435
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 8 19:52:07 2015 +0200

    Add early beginnings of a remote debugging API
    
    Just the scaffolding for now; enough to get node-inspector to be able
    to connect and issue a few requests.

commit 280cb4262f95fd45e427343e91cb623a0aa08ff2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 8 19:50:16 2015 +0200

    Fix connection life-time issue causing spurious test failures

commit 98f2ed7f743ad801a6e7855284ad87f1682bbbbc
Merge: 72a83ff0 b001a89e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 7 17:16:29 2015 +0200

    Merge branch 'feature/universal-backtracer-api'

commit b001a89e0aeb7c5661e7dd3d9acbdc57d67abef4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 7 00:36:34 2015 +0200

    Add `Thread.backtrace([context, type])`
    
    Both arguments are optional. The former is a CpuContext object as returned
    by `this.context` in Interceptor#onEnter/onLeave, or `null` to capture a
    backtrace at the current location.
    The latter argument is either `Backtrace.ACCURATE`, `Backtrace.FUZZY`,
    or `null` to pick the default, which is `Backtrace.ACCURATE`.

commit 03f4a91f086e11c2684f9c29f2f6b1d62b5a9676
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 7 16:18:14 2015 +0200

    Split `gum_backtracer_make_default()` into two functions
    
    One for instantiating an `accurate` backtracer that's relying on debug
    symbols, and another one for the `fuzzy` kind which does not rely on
    any symbols at all.

commit 72a83ff0e7fedd3f27607fa8159711a4a53f59fa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 7 14:17:04 2015 +0200

    Fix handling of classes without any constructors
    
    Thanks to Dominic Chell for reporting and helping track down this issue.

commit fd83b2f9595e27041ff74c463a3258f3cb14ca6b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 7 01:00:14 2015 +0200

    Update Script test to the new API

commit b2f2f2eabb51c37f7c42a3935ad262ec85e98083
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 7 00:59:59 2015 +0200

    Fix construction of the CpuContext template instance

commit ac8fb1db07969ddac8df9a27ab099b2897909945
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 7 00:36:20 2015 +0200

    Add a generic CpuContext wrapper providing full read/write access

commit 57eb9ea5416ea71df6c8984bf0c8974c0821a841
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 16:03:19 2015 +0200

    Lower the BusyCycleSampler test's diff threshold

commit ed9e7d5d3a6ca307afe4b75fba94533baa9cbb48
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 15:59:15 2015 +0200

    Add stub CycleSampler for Darwin on non-x86

commit 0a4c05e51e6f7097f06b1928f2e06e6d414eee3e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 15:16:09 2015 +0200

    Also disable the detailed test asserts on Android for now

commit dc76218c8b3aefd4571f9c948d986eaaf192d80a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 14:43:16 2015 +0200

    Only forward exception when we didn't handle it
    
    This also means we only handle it once.

commit 7ea6711beae970fe5c0e3da9082d9210c5b5d053
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 14:42:01 2015 +0200

    Only forward memory access errors to our own handlers
    
    Android installs its own handlers, and we really don't want to forward
    to them in our tests.

commit cfa00abd6eac03fcb5bf334434e191a00d864d8d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 12:50:43 2015 +0200

    Switch WallClockSample to `g_get_monotonic_time()`

commit d4f91053a8956c1155a12c50748c60321b318c66
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 12:46:56 2015 +0200

    Port CycleSampler to Linux on non-x86

commit 35d2b883ee6e1b9f6726bb6ca189bf68189e0036
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 01:28:23 2015 +0200

    Fix warnings when building on Linux

commit 972bdb4d8414ade464c3b75dcd89f3d2ed0c733f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 01:27:57 2015 +0200

    Limit exported gumpp symbols on Linux also

commit 24e53b98a8ef6699bd5b7674ac0b81c8416ae911
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 01:27:14 2015 +0200

    Fix the Android `check` target

commit b7d79168d2e4fe056b5899012772386603afae6f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 5 22:19:36 2015 +0200

    Remove the special-casing of libffi 4.x

commit b7c738d488246938ecc55208743421992dc93664
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 5 21:23:50 2015 +0200

    Fix hard-coded assumption about page size

commit e4433e449ee98227be906b5ad36af24945db4003
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 5 21:23:38 2015 +0200

    Make the BusyCycleSampler test a bit less timing-sensitive

commit 43ad075b8233e5b3b0fab76dad676ec9df1aa87d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 5 21:22:50 2015 +0200

    Bump the default listener data capacity
    
    This is required for AllocatorProbe's memory requirements on ARM64.

commit 007f9492ad13155fc8e3353d3e8a073381b105d9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 5 20:58:40 2015 +0200

    Port `gum_try_read_and_write_at()` to Darwin

commit 772495d0d5ba9a725a538214386848677822dce0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 5 15:29:37 2015 +0200

    Fix the iOS `check` target

commit bbf2c7054d741b50ad9e70cc69c42530a6dfef1c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 5 15:21:00 2015 +0200

    Enable gumpp on iOS also

commit 86db9adb32fa37f6d3c99503f545ed0a08494693
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 5 15:19:23 2015 +0200

    Fix warning

commit 0fca32d6593bb6ef2c7473c96fc199facc1c0b20
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 4 20:04:18 2015 +0200

    Eliminate accidental CRLFs

commit b0e536c8fc5bebaa3d08baff07e403eb96b50492
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 4 20:03:48 2015 +0200

    Update to the Capstone 4.x API

commit 3f150bf1619815d773ceb9b26eeaece914e027e0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 4 14:31:27 2015 +0200

    Add support for sysenter instruction on windows-i386

commit 41b1e3ddf98cc2fd2425293d3e8bcfc0fab3f8e6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 4 11:43:19 2015 +0200

    Fix test failures when IPv6 is not available

commit 0950be3f36f56e66431e04a1c3d20c5f87de232b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 3 15:33:40 2015 +0200

    Switch to the XP toolset

commit aa8f9d46793609bb9d001be291282ce2c2436097
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 2 23:56:51 2015 +0200

    Implement and inject our v8::Platform
    
    This is the final piece of the puzzle to make all tests pass with the
    latest V8.

commit 1a04b2ebeef21cef32ac036443f96baecc5f122a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 2 18:32:41 2015 +0200

    Explicitly create the Isolate as required by the new V8

commit 0fbbd7cd9fdec9197cc20fd94e8f0174076523d3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 2 18:31:56 2015 +0200

    Fix warnings reported by MSVC

commit b870c91a97560666320c45aa1a9be904bd91b7f4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 2 16:50:00 2015 +0200

    Port Script runtime to the latest V8 API

commit 00b13ad9c65117608d037f48fee3c16f5b64da62
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 2 16:48:28 2015 +0200

    Fix Windows build regressions

commit 3a3a0b69df1ba239be229855da90267d9f67267f
Merge: 1174b540 3bc6033e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 2 13:43:32 2015 +0200

    Merge pull request #24 from s1341/master
    
    Improve QNX enumerate_ranges and enumerate_modules

commit 3bc6033e0709bcf37692bf59412702442f75920b
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 2 12:30:42 2015 +0300

    Improve enumerate_ranges and enumerate_modules
    
    Using info from reverse engineering the 'info meminfo' gdb command
    implement improved enumeration of ranges (now with file names) and
    implement enumeration of modules.

commit 1174b54034b3eeece98685bac39d1b0804fa1ff9
Merge: 4c1572c5 a43043f1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 31 23:47:52 2015 +0200

    Merge pull request #22 from Tyilo/simplify-ptr-op
    
    Make creation ptr arithmetic functions more DRY

commit a43043f16e877fc5e33c689d145cdf8d025f4560
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Tue Mar 31 23:45:35 2015 +0200

    Rename macro to GUM_DEFINE_NATIVE_POINTER_OP_IMPL

commit 4c1572c5bfd897d5471aa16938b9c200784f69d4
Merge: 22eafb4a c4bc75fb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 31 23:37:00 2015 +0200

    Merge pull request #23 from Tyilo/copyright
    
    Add my name to various copyright headers

commit c4bc75fbd18d31f61aa099042c05c49ee6746d45
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Tue Mar 31 23:35:37 2015 +0200

    Add my name to various copyright headers

commit c8226edfe1edbce525f3d2c467bc82f4fdb193d4
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Tue Mar 31 23:29:20 2015 +0200

    Make creation ptr arithmetic functions more DRY

commit 22eafb4a890cdac662b60fad7aa649e76679421c
Merge: 51c74d65 bfdd31bd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 31 23:13:03 2015 +0200

    Merge pull request #21 from Tyilo/malloc-ranges
    
    Add gum_process_enumerate_malloc_ranges

commit bfdd31bdd8c7712c17f3bd18daa2883958d43631
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Tue Mar 31 20:49:53 2015 +0200

    Add gum_process_enumerate_malloc_ranges

commit 51c74d652bf4cee4ec45fd0278afc5b22562a9f7
Merge: 14a6f982 b8aa6488
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Mar 29 05:03:37 2015 +0200

    Merge pull request #19 from Tyilo/ptr-and-or
    
    Add and & or method to NativePointer

commit b8aa6488a59011df3635ca78d5da626ac18beff0
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Sun Mar 29 04:48:20 2015 +0200

    Simplify logic in NativePointer arithmetic

commit 14a6f982f6ac0f596d7155a031b3ba462bd5b12f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 29 04:40:11 2015 +0200

    Do proper cacheflush on QNX

commit fc4cd86da9d24305a2dc1b462bcddf2fc49d5fdf
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Sun Mar 29 03:57:33 2015 +0200

    Add and & or method to NativePointer

commit 4b602237768c23c5ea5ade13d64374c332287e2e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 29 03:51:38 2015 +0200

    Add missing include for QNX

commit 36fa7b7ed6d85c5ed947832e0cf42c11ade7ab1f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 29 03:48:53 2015 +0200

    Remove blacklisting of BusyCycleSampler on Linux

commit b8071ea38bbb6e6cf5b2916a56acba521edceb47
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 29 03:41:18 2015 +0200

    Add a stub BusyCycleSampler for Linux

commit d4355ab031e42192271d62cf85495e8cc35aacbd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 29 03:40:47 2015 +0200

    Adjust ordering of checks for consistency

commit 68329ccb7b5ef6f6049c3884195b0e71b67e6b45
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 29 03:37:04 2015 +0200

    Add a stub BusyCycleSampler implementation for QNX

commit 35e37a00ea6639fed579fbfa077620019fcf4d81
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 29 03:15:32 2015 +0200

    Add a CycleSampler implementation for QNX

commit 1488cfb664f0b46609147a16c479a0b5850ba642
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 29 01:57:58 2015 +0100

    Move CycleSampler implementation for future expansion

commit c9d722b1fba8b22790ed79f7e9e975eba5bcad8c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 29 01:45:51 2015 +0100

    Link against libbfd on non-Linux OSes also

commit c8f451df7793d5add6d61ec4b35b73c0c3bce068
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 29 01:12:16 2015 +0100

    Fix a warning in the QNX backend

commit 31b46228625eac4df16c38b6b73938697a319d40
Merge: 19cc714b a95270b2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Mar 29 00:13:10 2015 +0100

    Merge pull request #18 from Tyilo/patch-1
    
    Optimize ObjC's ClassFactory.refresh

commit a95270b22fc152184db2a224f98e2c066f0fc435
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Sun Mar 29 00:00:05 2015 +0100

    Fix inconsistent coding style

commit 3b63d47cfb9537f0d83de1435e566a6d90c3e2f3
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Sat Mar 28 23:57:13 2015 +0100

    Optimize ObjC's ClassFactory.refresh
    
    It now does nothing if the number of classes hasn't changed.

commit 19cc714b14e0fa8726f586928f42a99189de70dc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 28 14:38:58 2015 +0100

    Port the BFD SymbolUtil backend to QNX

commit 1e36b1e1c6fb38f53b75309d651adc137f320e32
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 28 14:34:51 2015 +0100

    Port UnwBacktracer to QNX

commit e8584c6cefd778deb9b6e631e8e2f9dc5faa3d3a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 28 14:34:24 2015 +0100

    Eliminate some casts

commit a98f730da1197e7d4691a221dae1d32380ed0173
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 28 14:33:47 2015 +0100

    Add and install header-file for QNX-specific APIs

commit 5653bca481d82ee0571a8291b18d46f128647c53
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 28 14:33:20 2015 +0100

    Remove the QNX SymbolUtil stub backend
    
    We can now use the bfd-based backend instead.

commit fdd3f36ad6cdb045f58638a645cb17766571874b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 28 14:17:57 2015 +0100

    Require libunwind and libbfd on QNX also

commit fdf95c77a700fbbbed57e61442890dbd2eba1038
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 28 14:17:40 2015 +0100

    Disable the sysenter handling on QNX/x86 for now

commit d680dd52bb408883f9bc961c3f9316aebdd85e66
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 28 14:17:17 2015 +0100

    Improve the QNX Process backend

commit dc6c37b16ff958ec3d0defc20ba58f9d9e56728f
Merge: cc399ada 3d00a72e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 27 11:37:04 2015 +0100

    Merge remote-tracking branch 's1341/master'

commit 3d00a72eedcd9c13905975e6e518bb81d2a7ac41
Author: s1341 <github@shmarya.net>
Date:   Thu Mar 26 18:11:23 2015 +0200

    Fix missing <cstddef> include

commit b679d454b1f323fa9c181f324ec17d515a7c2f81
Author: s1341 <github@shmarya.net>
Date:   Thu Mar 26 17:33:24 2015 +0200

    Fix comment style

commit b6cbffaac869e6da163aa00f03aa9365e60a7169
Author: s1341 <github@shmarya.net>
Date:   Thu Mar 26 17:28:03 2015 +0200

    Add cacheflush for qnx-arm

commit 39cd91883716013127cb9ccac06d2e8cd3490ab9
Author: s1341 <github@shmarya.net>
Date:   Thu Mar 26 17:26:47 2015 +0200

    Add initial attempt at gumprocess implementations for QNX
    
    This code is just an initial attempt which passes compilation and
    linking. It is almost certainly not going to actually work.

commit 0f00970b217cd582c77a59caad7e5787b5133882
Author: s1341 <github@shmarya.net>
Date:   Thu Mar 26 11:52:03 2015 +0200

    Implement test_util_get_data_dir for QNX

commit 6805846c1c3387fac7e883fa15ec73a81c477932
Author: s1341 <github@shmarya.net>
Date:   Thu Mar 26 11:48:34 2015 +0200

    Add QNX as an OS
    
    Add GUM_OS_QNX and set the GUM_SCRIPT_PLATFORM and GUM_TEST_SHLIB_OS

commit 04cbf5a5069279ade9e39659adc4dfe773d5f237
Author: s1341 <github@shmarya.net>
Date:   Thu Mar 26 11:47:42 2015 +0200

    Add OS_QNX and HAVE_QNX to configure

commit cc399ada5ca921fa6aeefe017a552cfcb1da43a4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 26 16:00:14 2015 +0100

    Fix minor coding style inconsistency

commit 2824852953520de4095ab0e4d4dcce093c463896
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 26 15:56:00 2015 +0100

    Replace two bad backtracers with a much better one
    
    This one is based on libunwind and puts the GumCpuContext to good use.

commit 2f07865f5f2fe53b932743ac9c64362302d430ce
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 25 00:38:20 2015 +0100

    Add `DebugSymbol.findFunctionByName()` to the Script runtime

commit 4a828add74b1262d8eede1784398ebac5657d8d0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 25 00:28:04 2015 +0100

    Add `DebugSymbol.findFunctionsNamed()` to the Script runtime

commit b99cd50e3221eaf7127d49a8d35085e8fb9ba715
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 25 00:13:07 2015 +0100

    Add `DebugSymbol.findFunctionsMatching()` to the Script runtime

commit 61246a2f1f0434b019c869d9a0637c9c9109cb53
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 23:00:37 2015 +0100

    Improve the bfd symbol backend
    
    - Take base address into account for PIE executables
    - Handle thumb functions

commit e20782da00029760698fed40d84a98f52ba1144e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 22:57:12 2015 +0100

    Test for symbol that is guaranteed to be present in the binary

commit 756f69124ef51ab95ad98f7b7d900755579ea302
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 20:52:43 2015 +0100

    Fix the libbfd linker flags and improve error message

commit 99626734194cf75f82eef45668f3eacd3c322211
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 20:22:07 2015 +0100

    Remove unused CoreSymbolication declarations

commit 8f5d73289f482b8a6042c5d438c9c3cf36a3e810
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 20:20:04 2015 +0100

    Load CoreFoundation so we can test the symbol backend

commit b2f358f090139f45358f74efc5e52df1b8b83033
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 20:19:27 2015 +0100

    Enable backtracer tests on iOS also

commit 134a649ddc6749ddaf15804bed9df0a6dcd69e1d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 20:19:10 2015 +0100

    Fix the SymbolUtil tests on iOS

commit 17642afdb78b804c681fbca3312b449a75609dc3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 20:18:44 2015 +0100

    Fix the returned function pointer address for Thumb functions

commit 8541253930ba0a60578fe63a093676ab4c965e06
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 16:49:53 2015 +0100

    Replace NsBacktracer with the brand new DarwinBacktracer
    
    This new backtracer walks the stack like the underlying implementation
    of NsBacktracer does (`backtrace` in libSystem.B.dylib), but makes
    use of the GumCpuContext.

commit e43e277221b67b2242e75a83e3009c73e5415791
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 16:30:19 2015 +0100

    Fix minor coding style inconsistency

commit da568d166da063fc7e415182e0a58b24dcbd20a5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 16:30:06 2015 +0100

    Borrow the existing CoreFoundation reference
    
    Otherwise we might end up holding the last reference.

commit f88df9fff70b620e30908bef3f9892c706f04072
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 15:31:10 2015 +0100

    Remove unused headers

commit f615326654b8728c4fa8523ba2fe7c68f00723b7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 03:03:39 2015 +0100

    Remove left-behind debug code

commit 14752485e08653b9a45149cd45d8f02ca6866dd6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 02:38:14 2015 +0100

    Fix DEBUG_HEAP_LEAKS preprocessor check

commit e3db041b54169e14377b88cc892def432969a435
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 02:37:52 2015 +0100

    Rewrite the Darwin symbol backend to use CoreSymbolication
    
    This is the API available on modern Mac and iOS.

commit 9972695f5e9a8695f9997e1e09c4092eb4e45802
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 23 01:38:15 2015 +0100

    Fix silly typo

commit 4d9a8d1ba864882da9f14188c5d83178e19931a1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 23 01:35:56 2015 +0100

    Rework the Cocoa backends to do late binding

commit 3ff9eaabc649cbaff723332e844da2349cba2e07
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 20:35:43 2015 +0100

    Handle formatting of limited debug symbol information

commit 70fe3b4410c1a71d5b6c925d4f3d4458f91696f5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 17:34:41 2015 +0100

    Fix warning reported by MSVC

commit 02cb40a005548191aaa48f91517c0d0595134dbd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 17:34:33 2015 +0100

    Add X86Backtracer to the Windows build system

commit e60e7271d499a325328afa1708f4c66bb30934aa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 17:33:59 2015 +0100

    Only instantiate dbghelp backtracer if the API is available

commit ff628eea25c4e36c82a3f0c8a0eed2637526b6da
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 04:39:13 2015 +0100

    Add `DebugSymbol.fromName()` to the Script runtime

commit 6108e7827bae96e128f7ead18fa83e29d3c51bed
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 04:38:45 2015 +0100

    Consider `lineNumber` null when symbol wasn't resolved

commit 5245b4a0e6670cdc99785b72be654f59ba0587b4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 04:38:00 2015 +0100

    Fix formatting of addresses

commit 8c113c309aa20d45ac8744b5b7b9c93e2b89a181
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 03:43:19 2015 +0100

    Only run the Backtracer basics test in slow mode

commit feafbb69d305e258059f01af65b822d36e6ac3fa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 03:42:55 2015 +0100

    Adjust backtracer hack to no longer apply for Debug only

commit f06de856f16eb38051a6a54baf72abc79e7a06e4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 03:29:06 2015 +0100

    Add `DebugSymbol.fromAddress()` to the Script runtime

commit aa6b11f63b8766479c4550edd24b9ae267c2afba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 02:17:51 2015 +0100

    Add support for generating a backtrace from an onEnter/onLeave callback

commit 0dacfc3a3d5f83e57da74d2b1db36e24f32cb6a3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 01:27:39 2015 +0100

    Load dbghelp based on where the module containing Gum resides
    
    Instead of where the application executable is.

commit 068c3df27d4e88f3879e016428969eabce9510a9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 01:26:04 2015 +0100

    Add gumprocess.h to the MSVS projects

commit 830cb5d51d76ddc79cc4d265333d7bc5f4bd1f16
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 00:54:33 2015 +0100

    Defer initialization of the symbolutil backend until the last moment

commit 57a1f9377d38d360e29382e339ae9b678bf1d3e3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 21 23:56:35 2015 +0100

    Fix backtracer test

commit 8a95a56648bb276af6c11a2d1d1fa457641007c4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 21 23:44:39 2015 +0100

    Remove optional support for the symbol backend
    
    We should instead just delay loading until the last possible moment,
    and handle load failure gracefully.

commit cc3fc044f032a93895df865a61bbaa31a13b1f33
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 21 23:43:33 2015 +0100

    Update dbghelp loading logic to match new naming scheme

commit 9909ab835490d4120f7bb1b1b18eb63fffb3ccc9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 21 23:42:52 2015 +0100

    Update dbghelp and revise naming scheme

commit 2db3f9fefe704e45a68f331507b4b89ae2c04538
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 19 22:02:55 2015 +0100

    Only perform deinit when debugging heap leaks

commit d58302eef89ef49d8d4cd699f52abc7b4db32380
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 22:45:48 2015 +0100

    Actually compare using the module path as intended

commit b071e06e27d05ee449d773c977756d821dcad520
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 22:21:14 2015 +0100

    Normalize handling of module names
    
    We should always allow the full module path to be specified.

commit c450e875477a5ba82e1b91db0056eab934eab9cf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 21:00:36 2015 +0100

    Remove bad assumption that also Thumb functions are 4 byte aligned

commit 56896f67981575379f34cc3e6656d88bb0b0dda7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 20:59:41 2015 +0100

    Update ARM breakpoint instruction to match the Linux kernel

commit 18a292b0ea63ef4996b4333f5e6a1b66eb118ee6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 16:06:11 2015 +0100

    Rename `put_int3()` to `put_breakpoint()` for consistency

commit 3949c098b600c56c5bc66d68a35c4866b5a7baf8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 16:04:16 2015 +0100

    Add support for generating Linux/Android breakpoints

commit 7cb031b31bd8bcdf49bf8f13eba9447c65063d96
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 15:54:01 2015 +0100

    Add `gum_process_get_native_os()`

commit 60774e1cb579821bcb3866f7b5f9acdcdef808fd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 16 23:14:27 2015 +0100

    Add missing GUM_API markers

commit c4cf028724a5eebd9a7b92499a0b25e609d242d3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 16 23:13:49 2015 +0100

    Add file-mapping stub to the Windows backend

commit ec577e1ffff0d0df9ad5c43222faff3e8746d414
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 16 23:13:41 2015 +0100

    Add file-mapping stub to the Darwin backend

commit cb1b048c1dba042d1cc64787ed0f9a4123d7866d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 16 23:13:07 2015 +0100

    Add file-mapping details to the Linux backend's range enumeration

commit 48220c5b4c6e0faaf05ef546ee7e6e9b93149f1e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 16 23:12:05 2015 +0100

    Add file-mapping info to the `GumRangeDetails` API

commit 7204d2ec99be0d23d547b2d43f9089facb811481
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 16 10:47:07 2015 +0100

    Add `check` target support for Android/i386

commit 519e1103b541e2b598bc56c2aa3809ea820fdfdb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 16 10:46:58 2015 +0100

    Pick the correct test-library on Android

commit e0499835fe8dd1735cba08ddc7ea18c448e8ec1d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 16 10:46:36 2015 +0100

    Fix naming of Android/i386 Interceptor test-libraries

commit 7997f5ca7a5ab0692f36b0e3df85a08aabf4d4a2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 16 10:39:56 2015 +0100

    Improve the Interceptor test-library build script

commit a59c73f455d4b3a8579800dc6d3f37fe368e5929
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 16 10:39:30 2015 +0100

    Add Interceptor test-libraries for Android/i386

commit f5091526ae5b872c8862798d968045afc253e9db
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 21:00:21 2015 +0100

    Fix `gum_linux_cpu_type_from_file()`

commit c0e2b0c7dd7ba1db72a1eceb09943bc9771809a4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 19:51:39 2015 +0100

    Add minimal vapi for the Linux API

commit aff22e2a4ba2ca17439f618927ef746760e0e0dc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 19:51:19 2015 +0100

    Add Linux API for determining CPU type from file or pid

commit ee511320e7f0626cbdf811e38d6b3880d7c2f921
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 19:50:46 2015 +0100

    Add `GumCpuType` enum to the vapi

commit d74a5e78aea6dfc9fefd79f904c2ea391be5eea1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 00:27:13 2015 +0100

    Add support for sysenter instruction on linux-i386

commit 5c091dca1862d1484cf72245375232a1ed6adb8d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 13 21:59:41 2015 +0100

    Allow 32-bit register arguments for `_put_call()` on 64-bit

commit e8f3823b5e6550b02f10a58d4afac78ebfcf0976
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 13 11:05:21 2015 +0100

    Remove libstdc++/libc++ linking hack

commit 49cab0c97ccbaa4e7fd2316e7dea80008dd642f7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 12 23:58:14 2015 +0000

    Fix warnings in Stalker debug code

commit 640f3c64a196730eff532ffe81c70fcbee09dc6a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 12 23:46:03 2015 +0000

    Rewrite get_pc_thunk references used on linux-i386

commit d83e334dd41e52d96e22c857614ff42f602cd24b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 12 22:37:32 2015 +0000

    Add Interceptor test-libraries for 32-bit Linux
    
    Also bring OS into the mix, to allow future test-libraries for Android/ia32.

commit 3f63f5f624e3a929edcbf711fc32fc688b10b046
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 12 21:42:04 2015 +0000

    Fix gum_memory_get_protection() in the UNIX backend

commit f829fb41379d6adca44015086e282c2053daf097
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 11 11:00:26 2015 +0000

    Fix warnings reported by GCC 4.9.1

commit fd7469a4db3e45be1f63aa42d5844811abc459d6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 10 22:58:21 2015 +0000

    Remove stdc++ from the GCC extra libs

commit 1a403bb6cb0d17f1c5639e06d51c1076095d1da0
Merge: 5b1d82ca 3891e8da
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 4 01:33:59 2015 +0100

    Merge pull request #17 from Tyilo/arm64-add-triple-reg
    
    Add gum_arm64_writer_put_add_reg_reg_reg function

commit 3891e8daae331142a761c59eff425600ed63858a
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Wed Mar 4 01:30:42 2015 +0100

    Move flags declaration to top of function

commit 2deb0a3f1b7f6c1807fb6b1051dcc4e6ab45d370
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Wed Mar 4 01:25:35 2015 +0100

    Obey 80 column limit

commit 4be3a0dec578de2dab0640cc2f81c78e6714cf15
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Wed Mar 4 01:23:38 2015 +0100

    Fix style of code

commit 480a526876535eb7a1c56ae06f468c8c7a4736da
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Wed Mar 4 01:17:50 2015 +0100

    Add gum_arm64_writer_put_add_reg_reg_reg function

commit 5b1d82ca4ed3351e1240da2f165f7fb29c5ece6f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 28 22:15:57 2015 +0100

    Change `console.log()` to send a message instead of writing to stdout
    
    The integrator, which is typically a language-binding, must handle this
    message and present it as it would like to.

commit 777380d0ec07f7cf9122b0f4451c36c50bf70aaf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 28 16:29:36 2015 +0100

    Fix warning reported by MSVC

commit 6ebaef5dfad1b21c4ba7268a816ba55fae940563
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 25 02:15:40 2015 +0100

    Only run the Stalker Cocoa test in slow mode
    
    There's a heisenbug in Stalker that needs investigation; perhaps some
    RIP-relative atomic operation instruction that's not rewritten correctly.

commit 4a806f2d6f7e41a35f5f1dab32dd7d4bce939547
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 25 02:09:46 2015 +0100

    Use two different read strategies on OS X and iOS

commit 149eef8d2c1c3f486fe4572b4569b2542cb2132f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 25 00:55:50 2015 +0100

    Initialize the size argument passed to mach_vm_region_recurse

commit f5b2994bbb1f771e085f89d8cadbb81ca98e6a5f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 24 13:20:30 2015 +0100

    Add Process.isDebuggerAttached() to the script runtime

commit 65817929f79bb20265d5668a2fb5180c6b51f779
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 24 13:19:11 2015 +0100

    Add gum_process_is_debugger_attached() to the public API

commit ab3574389ed7075f87b91b17dbbf27925eead36f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 24 00:29:25 2015 +0100

    Add read-beyond-page handling to gum_memory_read() on Linux

commit d403c7ab3b1d01dba856c953fef51f23dcc7534b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 24 00:28:52 2015 +0100

    Disable /Core/Stalker/follow_thread test on Linux
    
    This isn't stable yet on Linux.

commit fd83f45fe6273c0e8fc576e6a22bfb936d02e1ba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 24 00:27:43 2015 +0100

    Fix warning regressions

commit 360c19bed26b9e6f7789502b66f288af56cc20c8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 23 18:09:58 2015 +0100

    Fix get_pc_thunk handling for the x86 relocator's 64-bit mode

commit 4bda3b56ab6d36072fe38094895491903c8230cb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 23 18:02:24 2015 +0100

    Add read-beyond-page handling to gum_memory_read() on Windows

commit 3647d7cb7778f8f2663cc3768840dfcc3174315e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 23 17:37:09 2015 +0100

    Fix broken X86_WIN32 check

commit 8b6b741fd7f35d0ffcbc07c2215408d87d0dce2a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 23:41:16 2015 +0100

    Fix 64-bit test regressions

commit 23ef905c19a09bd52d934ab91a9d8d2a8087244a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 23:29:59 2015 +0100

    Rewrite get_pc_thunk references used on android-i386

commit 39f78f0b0dff904694552705d6a20410cbd0f026
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 23:28:01 2015 +0100

    Remove target_cpu and target_abi from the x86 relocator
    
    Just let the code-writer decide.

commit 9f4aaa88ca122e192c176508f8a8f17fea27e831
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 17:10:13 2015 +0100

    Add support for libffi 3.99999

commit 4fe81adce6b6435c5aad59c2db52885eecb5b83b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 20 20:44:00 2015 +0100

    Refactor gum_darwin_read a tiny bit

commit f39c538430d12bfaf02a96bdcb46cfc6ed584d51
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 20 20:37:00 2015 +0100

    Deallocate memory in the right process

commit b052c8b0f42c7fbb8a25431428576826f7634a3a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 20 20:13:30 2015 +0100

    Simplify gum_darwin_read

commit 54f57c5b13dceba98399c0510a4d523a8ff66099
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 20 19:26:41 2015 +0100

    Fix handling of read beyond page not returning partial data

commit 32ff819ff71d080f072075132ec12d4b9e3e43c4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 20 18:56:36 2015 +0100

    Rename test for consistency

commit 5e601545685e1d66cec65c6d9eaa8c74c2ef9d37
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 20 18:54:57 2015 +0100

    Add a couple of tests to ensure gum_memory_read works

commit ecca6b0e4667f58dc6130fed5bb036093b80600e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 20 18:11:09 2015 +0100

    Improve the read strategy in gum_darwin_read

commit 9533440b304e54b54d3e83d64f453b3693d37d2c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 20 18:10:34 2015 +0100

    Simplify enumeration of free ranges

commit f611b57cee98e867f122a61cf9c89555e460d680
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 20 18:10:00 2015 +0100

    Remove redundant call to gum_mprotect

commit 90e69850ddb0aa23d4279c605981253c4f5c9e8a
Merge: 0be9e9f6 e1385148
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 19 02:22:21 2015 +0100

    Merge pull request #12 from Tyilo/fix-darwin-read
    
    Fix reading memory from a subregion in Darwin

commit e138514880e8b843de2147524df252f86242e6d8
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Thu Feb 19 02:06:08 2015 +0100

    Fix reading memory from a subregion in Darwin
    
    The problem before was that if two subregions was contained inside a larger one, you would always get back the address of the first subregion even when the address you were reading from was in the second subregion.

commit 0be9e9f62c6fad5ed4f89770b4b4243ffa26e00d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 17 01:04:34 2015 +0100

    Provide onEnter and onLeave with read-only access to registers

commit 54cf174a2631bd430b94cb2431b8927ae2a59b29
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 17 01:00:00 2015 +0100

    Improve CpuContext binding to include all registers

commit 42b69917976f43ba3ec4297046b319970dc037dd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 11 23:46:08 2015 +0800

    Add `cmp`, `beq` and `bne` to ThumbWriter
    
    Also fix `cbz` and `cbnz` to disallow negative branch offsets, as the
    instructions actually only support positive offsets (the immediate is
    unsigned).

commit 0d0895b468764c0de2d26a00212ae2d2117eb0b7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 9 01:13:57 2015 +0800

    Fix missing constness in newly public Darwin API

commit 50b6af56022ac8ae3e71216a8bfde7fb153021aa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 8 14:35:00 2015 +0800

    Fix Thumb code writer negative branch calculations

commit 03e158089ba34d113b0de024d7adf7e2c2f448c6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 8 00:28:53 2015 +0800

    Fix ARM64 code writer range check macros

commit 361bdaa3a14a1a2d99a3b1fb693e7ee8d2679dfa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 5 22:18:45 2015 +0800

    Fix generation of inc and dec instructions with 64-bit registers

commit 45dc62100b95327bfa42c54456b3aebc20edea3b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 3 11:39:07 2015 +0800

    Expose some handy Mach-O utilities

commit 97bed93a054c01f396dd57bd30b606e878b9fdd2
Merge: 810020fd 08dcf068
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 5 15:53:00 2015 +0100

    Merge pull request #5 from imcu/imcu-master
    
    Remove flag to disable static build for frida-gumpp library

commit 08dcf068a036232836b8eea6b70c836ebe962c64
Author: Mihai Cimpoesu <mihai@jivaro.com>
Date:   Mon Jan 5 16:42:10 2015 +0200

    Remove flag to disable static build for frida-gumpp library

commit 810020fddc7b7f33d963c57498d6b01bdebbfede
Merge: 05aa54e3 ff70debc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 2 17:36:51 2014 +0100

    Merge pull request #4 from imcu/master
    
    Option to generate PDB files with the same name as the project

commit ff70debc73f445b968d3a2139d87f07d762223e9
Author: Mihai Cimpoesu <mihai@jivaro.com>
Date:   Fri Nov 28 14:37:33 2014 +0200

    Option to generate PDB files with the same name as the project

commit 05aa54e38c3fbfc8937d87b36537c3c345a83482
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Nov 17 22:05:19 2014 +0100

    Remove consistency check logic from GumMetalHash

commit 71bdc93f3f918c56d17a63e612a2e8beadb8779d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Nov 8 21:08:56 2014 +0100

    Consolidate to use the `re.frida` namespace

commit c555745982713f83660ff48aa068a010719304fb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Nov 4 23:41:33 2014 +0100

    Gracefully handle lower-case thread states on Linux
    
    Thanks to @v-p-b for reporting.
    
    Fixes #3.

commit c5510ba17d61e481e248a104c8bc2d4acfa7cea5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Nov 3 15:57:09 2014 +0100

    Fix module exports enumeration regression

commit c2de3365cb939b011ce6959ef452dabe6b14c4f3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Nov 3 15:43:03 2014 +0100

    Avoid growing the Isolate's eternal memory with every script instance

commit 36793fb3484684267315bbd0218e9d8ca86e923a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Nov 3 13:34:12 2014 +0100

    Fix silly regression

commit c18ce432c478fb99bbda06256a4f753b15f92800
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Nov 3 13:02:51 2014 +0100

    Add Darwin module enumeration fallback
    
    This is required when spawning a process, as we cannot rely on
    TASK_DYLD_INFO in that case.

commit ce3cdd7f24126588a99532a1ee72bb6cfbacd0e4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Nov 3 13:01:26 2014 +0100

    Fix heap corruption in gum_darwin_read() corner-case

commit 6c2348cc4ab78875804d32371a6fee92806fbf5f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Nov 3 11:46:50 2014 +0100

    Make module export enumeration ~75% faster

commit 4bdd9bed48ec8f48237d0d17e2db689252dbf54e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Nov 1 11:08:54 2014 +0100

    Fix gum_darwin_read() region clamp logic on ARM64

commit 9daacb303b2361a6d2f1b0ba98481fe3309f02bc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Nov 1 10:33:51 2014 +0100

    Optimize Darwin module enumeration
    
    We make use of `task_info(TASK_DYLD_INFO)` instead of scanning the memory
    ranges for Mach-O headers.

commit 975af8bbf2d2209f68c0de55831f44c13a5f61d7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 30 17:06:51 2014 +0100

    Optimize gum_darwin_enumerate_exports()
    
    When enumerating the exports of a library composed of sub-libraries it's
    very often the case that they share the string table. An example is
    `libSystem.B.dylib` on Mac, where we'd previously re-read the same 20+ MB
    of data with every single sub-library.

commit 75b7e8211a18f6154d0ac9deb0f382077b6cf593
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 28 09:55:56 2014 +0100

    Simplify page size query logic on Darwin

commit 960fca7671c0586ebfe96bf8854c82353640e0ba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 26 01:02:52 2014 +0200

    Improve the RWX page support detection
    
    The iOS 8.1 kernel with the Pangu 1.0.1 jailbreak exhibits a new behavior
    where the result is `r--`, and not `---` like before.

commit 445f9ff762351a6843b112a760e94b1d99ee6fb5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 25 21:15:27 2014 +0200

    Assume 4096 byte alignment of Mach-O images in memory

commit 5cb3f8a2813de64906ef36b34512c1bb8d87cd9e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 25 21:12:59 2014 +0200

    Hard-code page size on iOS/ARM64
    
    The iOS 8.1 kernel reports 4096 instead of 16384. Either a bug in the
    latest kernel, or in the Pangu jailbreak.

commit 5878c2e2dcd316cd01806334bf4acf22e6933075
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 25 21:11:54 2014 +0200

    Remove bad memory readability assumptions
    
    The page before the first one allocated might actually be readable.
    Especially if the implementation uses that page for storing metadata.

commit eace9f5deeca2de6e3fc92f73da71f43d9325d63
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 10 01:04:20 2014 +0200

    Re-generate the script runtime

commit c364db532027158557814298befb1347b89b2b36
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 10 01:00:56 2014 +0200

    Improve the Dalvik integration
    
    It's now possible to load classes owned by the app, and a bunch of
    marshalling bugs have been fixed.

commit b6fa5b1db8c6cca5cbb5c69c7facb68e78d4907e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 9 19:26:07 2014 +0200

    Fix accidental collisions in hash tables meant to be used as sets
    
    Creating two NativeFunction objects for the same function pointer would
    typically result in a use-after-free.

commit 355b0c0f0769e6e1bf39af5e218ff0508b31c351
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 9 19:23:13 2014 +0200

    Fix linking of gum-tests on non-Mac UNIX OSes

commit ed3876faec6106ffae0ed1338305c6dfbf2e12a1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Sep 25 01:46:25 2014 +0200

    Fix 32-bit compatibility by avoiding ARC in the Stalker Cocoa test

commit 61f1613b07fcb500572d8c69506d53aee31306d0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Sep 25 01:18:11 2014 +0200

    Use GumMetalHashTable for keeping track of address mappings
    
    The old implementation was buggy as some values were inserted never to be
    found, resulting in lots of redundant compilation work and an ever-
    growing cache. This approach eliminates that issue, handles dynamic growth,
    and improves performance.

commit 3a41ce2f994f492f3c903a8b5aa9065495add8a9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Sep 25 01:13:06 2014 +0200

    Add GumMetalHashTable data structure based on GHashTable
    
    It's a copy of GHashTable modified to run on “bare metal”, which means
    it doesn't wait for other user-mode threads after construction. So no
    calls to malloc() or friends. This means it's suitable for use-cases
    like the Stalker runtime.

commit d2ef62949dd7e1134483f9dee7dd178d2b4f71ea
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Sep 25 01:03:48 2014 +0200

    Fix license header mixup

commit b618402a22d54565afe45043d1babae0838cea81
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 24 21:38:48 2014 +0200

    Allocate code slabs dynamically to reduce Stalker memory usage
    
    We can assume that `gum_alloc_n_pages()` only involves syscalls and thus
    won't cause any issues with reentrancy.

commit 7bceabfd6c873c7c0e2f1aaeb0947c54682f622a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 24 17:08:46 2014 +0200

    Fix relocation of RIP-relative cmpxchg instruction

commit 133c233c0ac5bf0a8097bdbb961276c89faa22b1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 24 17:07:50 2014 +0200

    Fix inconsistent indentation

commit 77a8d2fb11c4ba54c6aa9b0f78b194a4510350e1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 24 17:07:12 2014 +0200

    Fix warning in Stalker debug logic

commit c13bfe6dd54a947172f0b18dd0dba50a917b2c44
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 24 17:06:52 2014 +0200

    Add a Stalker test involving Cocoa on Mac

commit 5e7bf91f91d388acf0121f8f135cb6d1a3ffd033
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 23 09:39:20 2014 +0200

    Remove left-over dlmalloc implementation from the Darwin backend

commit 55086a6e00c1c0c18bdf4affec8c1721fadae57a
Merge: a0dc077e 1b18af5e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@soundrop.com>
Date:   Thu Aug 28 20:07:18 2014 +0200

    Merge pull request #2 from imcu/master
    
    Add gumpp-static project

commit 1b18af5ea3110e4bc25a0a813341f6a4b80105a0
Author: Mihai Cimpoesu <mihai@jivaro.com>
Date:   Thu Aug 28 20:56:15 2014 +0300

    Add GUMPP_STATIC on all configurations for gumpp-static project
    Remove redundant prefixes from gumpp.vcxproj.filters file

commit 315a372ce6b348612e7c23fde051c295fcaead0d
Author: Mihai Cimpoesu <mihai@jivaro.com>
Date:   Thu Aug 28 20:42:24 2014 +0300

    Remove the wrong GUMPP_EXPORTS  macro from gumpp-static project

commit ede842d7be1146ce0e438906f08dbd31c05dde62
Author: Mihai Cimpoesu <mihai@jivaro.com>
Date:   Thu Aug 28 20:38:56 2014 +0300

    Remove prefixes from gumpp-common.props

commit e8c519002126af99f87b6d0df00233865659cb22
Author: Mihai Cimpoesu <mihai@jivaro.com>
Date:   Thu Aug 28 15:26:57 2014 +0300

    Add gumpp-common.props
    Move gumpp-static project files in the gumpp dir

commit 91b867a5535cf65eb9b6fda18829782caef92fdd
Author: Mihai Cimpoesu <mihai@jivaro.com>
Date:   Thu Aug 28 12:44:23 2014 +0300

    Add gumpp-static project

commit a0dc077e6e90e0a3195ce8cf13d084b862723599
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 23:26:38 2014 +0200

    Fix performance warning reported by MSVC

commit a29d0c37444352856b6af2380ecefd1aa5e8cd7b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 20:54:37 2014 +0200

    Add `Memory.protect()` to the Script runtime

commit 67cb686bffaa9e76858d12cca0cdb28f9fb20e2b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 20:54:05 2014 +0200

    Add `gum_try_mprotect()` to the memory API

commit 11f96a1f20b4baca187a476336faf18fe3a0d8f0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 18:55:20 2014 +0200

    Re-enable follow_thread test on Linux

commit 2799acb2010cdd259da5c85b5df5ebb2f96434ad
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 18:53:44 2014 +0200

    Remove Stalker test workaround that's no longer needed

commit 0c9bb2836c3b5401cb268a6b8f7b53b34466ef12
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 18:52:36 2014 +0200

    Bump Stalker footprint to 256 MB
    
    Apparently 128 MB is not enough for a typical Cocoa 64-bit application on
    Mac. In the future there should be a background thread adding new slabs
    periodically.

commit 8c74386f9a64a406b84d1bd8bb099d94b662f8fc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 18:50:44 2014 +0200

    Rename define to be clearer

commit 9b1afb7168281809e4a32e60754142c6f48f14ea
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 18:50:31 2014 +0200

    Remove unused constant

commit 4b520f5bc630c7d040b4d46933d3ee214995d6f9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 18:50:05 2014 +0200

    Fix red zone clobber in relocated RIP-relative code on SysV x86-64

commit 0133ef11ee7644a64486e2211dee038e59dd2ad3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 16:56:25 2014 +0200

    Remove test guards now that Stalker works well on Windows

commit 172e1e18b5897f6d350326a136da2e17c7a2376c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 16:55:28 2014 +0200

    Improve Stalker WoW64 handling

commit c7d7fec4ebde25f4807117d62d5f02715765609a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 16:53:31 2014 +0200

    Fix exception hook removal mixup

commit daccc058c6afce3dbcadae55ac23f79274d2a125
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 13:49:11 2014 +0200

    Fix accidental pointer truncation in Stalker test

commit 0c34e34aac39b6ec72a0763d2ffd84cb1240ec7e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 12:25:03 2014 +0200

    Fix Stalker debug logic

commit 9d292ef24df53e77c6746e335ddb78bff8916fe7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 11:57:33 2014 +0200

    Fix crash when call probe branch target has extended register

commit fa951c94f1eff58c8896f029f477758e138b323a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 23 03:31:13 2014 +0200

    Fix 64-bit regression in WinExceptionHook

commit 658efa318faebcb4fd30f889855db8b1b9a9d18c
Merge: ba45aa6b 8bfa9541
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 23 03:22:47 2014 +0200

    Merge branch 'feature/capstone'

commit 8bfa9541dd3ab181a53fb9db30eb57a2427a7880
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 23 03:21:32 2014 +0200

    Fix Windows regressions

commit 74f3b1488ea4447340c889e48db8c2546356d157
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 23 03:11:02 2014 +0200

    Fix Windows-specific warnings in the Socket script API

commit c9bc258ba801a7a494f255f618586c5c98b8ca36
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 22:48:04 2014 +0200

    Update to use the new modrm_offset field in our capstone branch

commit 5be722789027c33823b6c326e257ff2960d90784
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 22:07:02 2014 +0200

    Update to the capstone 3.0 API

commit a3c3da76b2328104993fef1a3e452b6d4519d990
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 22:06:35 2014 +0200

    Fix shrinking logic in `gum_capstone_realloc`

commit dbe9aa9021abab09d9eb7990ef8403d8441097b6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 20:40:08 2014 +0200

    Fix memory leak on relocator wrap-around

commit 1a0d6edf96495a9fdb48646dcdb22e63bc49515e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 19:04:00 2014 +0200

    Fix Stalker regressions

commit 19b9b617abe7454ad875341d38fb2e2e7fc1e076
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 19:02:52 2014 +0200

    Fix stack alignment in the `no_register_clobber` test

commit 0f07d5ee3966d65fd73375effe8d127127dbe526
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 02:05:17 2014 +0200

    Fix Relocator regressions

commit 7ebe42d818b84c6e92252242f7b1fefa0c423ced
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 01:38:18 2014 +0200

    Fix incorrect handling of X86_OP_IMM

commit ab1f889acfee928438cbc9f5ed43fbc51e5dbd36
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 01:25:24 2014 +0200

    Update Relocator tests to the new API

commit 3926af9b6f45aa49ad1eea93424cbd3fbd5f8f1a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 01:21:42 2014 +0200

    Port Stalker to capstone

commit ff7020b052370021481bcb6b65d6fca66c28fdec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 01:21:22 2014 +0200

    Bring back gum_x86_reader_jcc_opcode_negate()

commit ea55be25ebfba3ff8e5b89e99366f55e661700db
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 00:47:10 2014 +0200

    Start migrating the last part of Gum from udis86 to capstone

commit 5d7eb195491383030b530e409a889ef6d4f6690d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 00:45:39 2014 +0200

    Make Script runtime's capstone allocations short-lived
    
    Our capstone allocator is grow-only, so we want to keep the heap small.

commit 58d7aae1584a3bed3beac46081fa1b8c545f3242
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 00:41:56 2014 +0200

    Use a minimal non-blocking allocator for capstone
    
    This is the only way it's possible to use it in a Stalker thread.

commit ba45aa6b40e6e8547361f363d8940f6e3551d0ec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 19:06:40 2014 +0200

    Fix gum_free_pages size detection issue on Darwin
    
    We cannot ask the system as two consecutive allocations may form a
    contiguous range, and this is considered one range when querying.
    Thus we have to allocate an extra page to store the allocation size,
    like we do on other UNIXes.

commit ef37a24094e768065cdfe49d9a8d3e7ff4420b3c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 10 23:20:26 2014 +0200

    Fix handling of direct branches with target in R8-R15

commit bcfd4070819a5f44c5ec3e29315c7f458bc597bf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 4 16:22:17 2014 +0200

    Improve the Script thread ignore API

commit 829dbf1f9ce7ebbf5bb0406e572efdd3cf876254
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 4 16:21:49 2014 +0200

    Switch Interceptor to `gum_process_get_current_thread_id()`

commit 6df55f5425356c82cbcb064bbe0ec06194cbaef7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 3 22:01:29 2014 +0200

    Omit ignored threads when enumerating threads

commit 7a34c736e4f89656a0a9e1c455f824356667bdba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 3 15:52:58 2014 +0200

    Fix sentinel warning

commit b9b1a453f503d5ebca85395e7cb9da4a4341d58c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 3 15:27:43 2014 +0200

    Fix leak of FFI objects when script is unloaded before GC

commit 25db52a5ba1dabaf7777a73b0a61a8cb8ff2482f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 3 15:26:31 2014 +0200

    Remove redundant `g_hash_table_remove_all()` calls

commit 558ec555f661287309afd723a27af26f273ae249
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 3 14:59:06 2014 +0200

    Fix leak of File instances when script is unloaded before GC

commit e411bfb9004e87a142f80cc84e35f671b6567a87
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 3 14:47:02 2014 +0200

    Add `Instruction.parse()` for convenient disassembly

commit a9998657446b4c9ccb534c3fe06df9a485aad1c3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jul 26 18:11:40 2014 +0200

    Plug leaks in dlmalloc on UNIX

commit c11a2e74fda462bf10167672dc3564dd5da3d2dc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jul 26 17:16:46 2014 +0200

    Fix handling of iOS kernels without RWX page support
    
    This is the case with the latest Pangu jailbreak on ARM64, even though
    the 32-bit kernel supports RWX just fine.

commit 2374575d57d6bcddc6bdc407aab7a85d4b41fca3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 24 21:06:27 2014 +0200

    Initialize TLS key before the first script is created

commit becae377b7b8a143d27e9a4cde082c77c697e5ee
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 22 00:37:26 2014 +0200

    Update memory footprint assertion

commit 87a6e03b7874dd349498090c8009b7cdbf986fda
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 22 00:29:17 2014 +0200

    Fix warning

commit 54523c6e1a1a1700d7492dfbe87c8d96592d7672
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 22 00:19:49 2014 +0200

    Add missing includes hidden by the dlmalloc include

commit 2c56ad2085e5f0137d612e2281d52ceaa939eaf4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 22 00:02:57 2014 +0200

    Fix warnings reported by MSVC

commit 39262c919f5504ff713849f4c45ddd8020d4bd39
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 20 21:26:27 2014 +0200

    Decouple Script from Gum's core
    
    Otherwise applications that don't need it will link in V8 regardless.

commit 81c923856178b6e08affb387d3bd5bcdd7ebbcfa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 20 16:40:13 2014 +0200

    Don't dispose V8 if it was never initialized

commit 1367cc367c99ba500cb23dd1ea64b136fddfc9e3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 20 16:39:56 2014 +0200

    Fix mach port leak

commit 69666f55211dcfdaf6ca421ac6050fcf4543cb85
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 20 16:39:38 2014 +0200

    Fix usage of deprecated API

commit 0458b07a506ecb78e8d1085b413560c529ea3141
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jul 19 10:44:18 2014 +0200

    Fix Script byte array and heap block leaks

commit fe2b4b948fc0e0b148bd4d92858b107ad560a6ad
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jul 19 10:43:38 2014 +0200

    Use dlmalloc on all OSes and allow early initialization

commit a4d2ac8bad01ee3c96f9be74fcb0c04bf1cb1ce1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 17 21:43:55 2014 +0200

    Fix silly test assuming there are other threads running

commit 0aae9b32e514153a7140b0cac1951d5ba7e861ca
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 17 21:17:11 2014 +0200

    Don't initialize V8 until the last possible moment

commit aaaff16a3f2f9d7a3b2bcb0385bc25cff54fe943
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 17 21:16:48 2014 +0200

    Add thread ignore API for Script's Interceptor integration

commit b45f530b52dd471d9d0d4076c74b17fee705a774
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 17 21:13:37 2014 +0200

    Update to the latest GLib API

commit 53ad5126875ba6d896492b39d35911ae8c04e85d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 15 00:33:48 2014 +0200

    Update gumpp to the new GLib init API

commit 60733738e060161d9b8d631b1333405ff59beb08
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 13 23:44:01 2014 +0200

    Remove unnecessary object reference bump

commit ca4e869d44aebaf5231bde1b4bc55765824cb16d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 13 23:43:19 2014 +0200

    Fix deadlock on teardown of thread pool

commit edc670151e40a05c22dfa940c8b4c2df50ddd81b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 13 23:29:05 2014 +0200

    Update to the latest GLib API

commit 5f602a5055e3390d3d1136c6bd9b68ca55715c6a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 13 21:34:46 2014 +0200

    Update vapi to the latest Vala syntax

commit 3ff760e69ee3b739c77ee7e27f2ef458394330b3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 10 23:27:31 2014 +0200

    Change license to wxWindows Library Licence
    
    This is essentially the LGPL, with an exception stating that derived
    works in binary form may be distributed on the user's own terms.
    This is a solution that satisfies those who wish to produce GPL'ed
    software using Frida, and also those producing proprietary software.

commit 2b6e8e2b4e7b52d69b79a29cf84de39ac594f4d5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 6 21:01:58 2014 +0200

    Fix `replace_function` test on GCC 4.8.x

commit 767c2c297098ebe15979cf937957ec5c70e60f6c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 6 19:25:25 2014 +0200

    Fix warnings reported by GCC 4.8.2

commit 9095dac413fae7bdf4625659ad299bc72e99e06a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 20:13:17 2014 +0200

    Re-generate the script runtime to make MSVC happy

commit 2c814d30e3e8be5ba1c0f7227b0b63be1ca8c43b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 20:07:02 2014 +0200

    Fix js2c's handling of trailing backslashes

commit 6089540ae35b96a38a66688bf319a020bfa01f4e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 19:59:27 2014 +0200

    Improve the js2c script to avoid MSVC string literal limits

commit bdb2c6d6eda8a5511fcd555c0ea6b4e30fb0eaba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 15:31:07 2014 +0200

    Re-generate the script runtime

commit c690ccabc8a4ddda89846585a92aef5fe991b168
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 15:30:13 2014 +0200

    Fix teardown in non-Dalvik environments and squash linter errors while at it

commit 8f650642544f45d453ca773ed4eddf84e12d6e27
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 15:28:00 2014 +0200

    Tweak uglifyjs options to disable IE-specific quirks

commit 4540931db185de4ea6f59a0d524ad25cfeb06913
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 14:18:56 2014 +0200

    Remove embedded test code from the Dalvik integration

commit d1570e0addfd4788189d30adef040f809bb0757b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 14:18:45 2014 +0200

    Update Dalvik integration to use new Memory API

commit f5875aa00ca82eb768e69f2a678dfc17306fbec0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 14:15:09 2014 +0200

    Update runtime autogen script to use the new uglifyjs CLI tool name

commit 7a2f6e892fec2b1032680fbfac5462d329f485e4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 14:13:56 2014 +0200

    Add `Memory.copy()` and `Memory.dup()`

commit ccad08684446aff039bd99868a3d13d8831262a4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 13:28:22 2014 +0200

    Make use of new `Memory.write` methods in runtime

commit 48d37d66606d6fafc7ffd775c9b79c8980886f8d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 13:11:32 2014 +0200

    Add `Memory.writeAnsiString()`

commit d1b3bb3f59549ae293a24d5570687ef07655e413
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 13:11:08 2014 +0200

    Improve Memory.writeUtf implementations to trap bad pointer early

commit 1efa324736bdacc6a689648d5638b8e7b42e08df
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 12:16:06 2014 +0200

    Add missing `Memory.write` counterparts modulo AnsiString

commit 41a6810d79516d279daa222bb379afbe7f8aab5e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 28 00:11:41 2014 +0200

    Add `Memory.writeS16()`

commit a49eff6b03384b7b4ef35a60f807794fb8c7cfc9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 27 23:28:33 2014 +0200

    Add `Memory.writeU16()`

commit fcd352b5430a7ee437472b95d39312264fe3b88f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 27 23:21:38 2014 +0200

    Replace redundant writePointer implementation

commit 663bb9378e92ac2cd29fb3a3a9cf0638fc449d58
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 27 23:16:17 2014 +0200

    Make use of `NativePointer.isNull()` in runtime

commit 872d94547484f275c256692a207dceb860e0b059
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 27 23:11:46 2014 +0200

    Add `isNull()` to NativePointer

commit bebba0b0c6239177abc71ce4c3e1d1685c49737f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 27 22:52:39 2014 +0200

    Make use of NULL constant in runtime

commit a56aaf7ca5cda94e45e82f19ce810e59be7a850e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 27 22:51:25 2014 +0200

    Add NULL constant to the global object

commit 6d61b7e6532648661b494ebef65f619439a3dc0f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 27 22:46:39 2014 +0200

    Make use of Process.pointerSize in runtime

commit aaca228992115919233ab39146058283bc4532d1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 27 22:44:06 2014 +0200

    Add `pointerSize` property to Process

commit be3b5049b3ce02a83aefe681bcde23af147e6d75
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 27 22:07:49 2014 +0200

    Refactor Dalvik wrapper and add cleanup using WeakRef

commit c5fbea771c4a95a16944ab1a0bab512fa43f9f3b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 27 22:07:35 2014 +0200

    Clear weak refs before disposing anything

commit 0b1a0f5213bbb3258d72bddd8c6034600754b89f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 27 20:27:01 2014 +0200

    Add WeakRef API for scripts managing external resources

commit 06decf177f77393df3d1012e31344774105b1aa3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 25 22:01:11 2014 +0200

    Allow method implementation to throw a Java throwable

commit ffb4e51886e929b0720e50176596006599de5423
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 25 21:40:26 2014 +0200

    Revert back to original implementation when assigning `null`

commit ed21c126e8a4c04574aa76efc66fbdc7faebd2e8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 25 21:23:58 2014 +0200

    Simplify the implementation override API

commit 8b57613c49610eeeed26e59384a73210ecf67d3e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 25 21:18:41 2014 +0200

    Add support for calling the original method implementation

commit 538d25b2a324694d267e4fe698292a5d18f8ac78
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 23 23:47:00 2014 +0200

    Make the Dalvik example a bit clearer

commit 8347fed98998d7ece12b5c04d543c6c9e0a19092
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 23 23:46:40 2014 +0200

    Retain JS implementation function in the ObjC and Dalvik integrations

commit 72feaa88bbfe5792a4017efa830fdbf93b00f3d4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 23 23:45:27 2014 +0200

    Use the correct JNIEnv in the constructor

commit 7fc144599b81e0c5bbe94b00d47c5052187553a1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 22 22:50:54 2014 +0200

    Add (broken) support for hooking methods

commit 8ad6b837e312e352126f399b790629c3e12a0655
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 22 09:30:36 2014 +0200

    Add rough skeleton for `Dalvik.implement`

commit 954c7c20213ef16496974b513d079c345beb840e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 22 00:33:09 2014 +0200

    Improve method type marshalling

commit e33da126850e2428c91e8afdabe51c80beb5e49e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 21 22:13:42 2014 +0200

    Handle static vs non-static methods and fix valueOf() semantics

commit d7614f0276f93cadef7b4ca06f7413744d27c569
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 21 09:39:19 2014 +0200

    Add partial support for invoking methods

commit 430077e0b905eb2443a6058c1cd00df8a07aa8ad
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 20 23:33:57 2014 +0200

    Add skeleton of an extremely barebone Dalvik integration

commit 552131dc9c3cc28799ea495abbb35f56002f99d5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 20 23:32:38 2014 +0200

    Fix ObjC pointerSize constant on ARM64

commit caa93325a8ea2e660ffd162d2fd30dcc932536d7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 14 20:37:00 2014 +0200

    Fix X86Relocator's handling of indirect jmp
    
    Was very tempted to port X86Relocator to capstone (the plan is to
    gradually remove the remaining dependencies on udis86). Unfortunately it
    is a big undertaking to do this part, as it is used by the Stalker, which
    means we need to plug in a memory allocator that only uses pre-allocated
    memory. Sigh.
    
    Fixes frida/frida-core#5.

commit 0a88662e13c0e036dc851ee95bd59fbb2d0ae979
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 9 22:36:48 2014 +0200

    Update Windows build system to match new frida-build-env layout

commit 41dbb1d27a784fd8b5e233929a317cd41beb9c2d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 2 00:55:12 2014 +0200

    Fix warning reported by MSVC

commit 8e04c5f3061a411431ad523063b2b7926a64cea5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 2 00:54:59 2014 +0200

    Explicitly state that capstone should be linked in

commit 0252617eaafd2f44630021ff243ae84ef3b5b2f0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 2 00:45:59 2014 +0200

    Add capstone to pkgconfig requires

commit f5cb8859e52edfa35ed214dd2c3d95b1cc8232f3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 2 00:38:02 2014 +0200

    Add project references for capstone

commit d649c571bc94dbe11c62473d42f80112d73cbcf6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 1 22:39:38 2014 +0200

    Fix the Android `check-gdb` target

commit 58a1348fc40af585613a5fa922c081fad3be197b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 1 22:38:41 2014 +0200

    Override capstone's memory API to fix reentrancy issues

commit d3375c5a0ae2ef1b387823b28dfb0ffc1f387d0a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 1 22:31:22 2014 +0200

    Add `gum_calloc` to the memory API

commit e825f7265010d18626beaea4dc82548251cd88d8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 1 22:31:00 2014 +0200

    Add an internal printf module to have reentrancy-safe implementations

commit adc47a4448ca5565e6e7658708b33e9914a6d0b2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 1 13:25:43 2014 +0200

    Add FIXME for later

commit 356aa171f5569ba6aeeea573a37fc0a8c97f3179
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 1 13:25:28 2014 +0200

    Fix Thumb-2 instruction length decoding by using capstone

commit b8c7e9087dfa80436611a10c45797cdeb5c473e6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 1 13:25:03 2014 +0200

    Depend on capstone
    
    The plan is to gradually migrate to using it everywhere.

commit 5d1f490cd77c4c3c83e549103594391b337f6536
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 1 13:24:09 2014 +0200

    Add failing ThumbRelocator test for Thumb-2 stmdb instruction

commit 37420752b190ceb67e810b2f79da9afffdefddb3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 27 02:55:02 2014 +0200

    Add ThumbWriter convenience API for calling functions

commit bb2e5be28110bbe800e24afc7d97cd829f7166b9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 23 22:47:35 2014 +0200

    Move V8 into @GUM_EXTRA_LIBS@
    
    It's only needed for static linking.

commit 71f6fcdbaf864f22b6fb1637adac461f54023029
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 23 22:43:21 2014 +0200

    Improve ARM detection

commit c99bcaf4751b95ba42dd77a39669d075a84f35a8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 23 00:15:51 2014 +0200

    Use Android NDK's libc++

commit 0294de8f656d03802b87abd7ed8bb07de41dcf38
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 21 14:29:17 2014 +0200

    Improve ARM64 relocator to support `b` and `bl`

commit f85008c741eb43d077e996a50c02b1603608cd80
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 18 18:18:30 2014 +0200

    Fix thumb branch rewriting for immediate same-mode branches

commit 1598c5a8df253c5f3fbe5e4abd345bcb71354c5f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 16 18:00:27 2014 +0200

    Fix endian issues in Arm64Relocator tests

commit 9fc26b24c358862cfe79cbdc42dc910db734609c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 16 18:00:18 2014 +0200

    Fix endian issues in ArmRelocator tests

commit 1ebf8a51231286148c303669e4f5da35e951bf78
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 16 17:56:11 2014 +0200

    Add detection of unsupported functions on ARM64

commit df65e2b84682409c8325098d119091adb0713821
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 16 17:56:01 2014 +0200

    Add detection of unsupported functions on ARM

commit 6ee5d5523f7bbc02a8e723265af67794c7120ce0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 16 17:55:33 2014 +0200

    Add test coverage for unsupported functions on Thumb and ARM64

commit 5f2c69f21fe5f2839f5436b70fb607dde0f01af6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 16 17:54:32 2014 +0200

    Add basic `eob` and `eoi` handling to Arm64Relocator

commit 9cd10cc11f8cd7ac37bd72ba8624cb0e2252102d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 16 17:53:34 2014 +0200

    Add basic `eob` and `eoi` handling to ThumbRelocator

commit 1348df9ebb535ebfe7ba77c623a19c3537860cc7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 16 17:52:18 2014 +0200

    Fix endian issues in ThumbRelocator tests

commit 402fc59cfd65bb8294df3586dab044a0efecd8ac
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 16 00:38:39 2014 +0200

    Fix warnings reported by MSVC

commit 83fefd011d5b89129dbfc59f57e64d52c067e07e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 15 20:58:02 2014 +0200

    Flush data cache on Darwin
    
    This is needed because of instructions like `ldr`.

commit f26b0f157c87bb356b82bb0da3afb8690f894852
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 15 20:56:42 2014 +0200

    Tweak coding style

commit 3635815bec71a35fef3a7514335ab263756d479c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 15 18:03:59 2014 +0200

    Improve ARM64 relocator to support `adr` and `adrp`

commit 39eedc73c1fe4ad21c6dad0ee01a9557daecd20a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 15 18:03:12 2014 +0200

    Simplify raw instruction treatment

commit fc6aa86e6c830686f32cf1c3f338778a9c6aebc3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 15 16:07:26 2014 +0200

    Use the task's page size and not that of the local process

commit e203b7bf4957e5281c084d8938bd2e4f8c5219ca
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 15 16:06:54 2014 +0200

    Add API for remotely querying the page size

commit 268af8c5f6050eaed879d3b8e2472afd5010fb61
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 12 02:30:00 2014 +0200

    Fix Linux warning regressions

commit 2ff857b4f7699836954c3ad1e2185a9e1af4c8dc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 12 00:41:10 2014 +0200

    Fix Windows regressions

commit 019f1e97280a9d0cb51beb859e47a4d846bd6466
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 11 21:22:21 2014 +0200

    Link against libc++ when using clang, libstdc++ otherwise

commit 2361d6baee68390662d9b2ca06bf64b649341228
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 10 23:54:00 2014 +0200

    Add missing endian-conversion

commit 5d85c760bdce3e0a4902691dd6c13fd98f9888e4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 10 09:18:23 2014 +0200

    Add ARM64 detection to `gum_darwin_cpu_type_from_pid`

commit 85c5c4b132e4a883ab12fd79567196b4c802a837
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 9 20:20:26 2014 +0200

    Fix `x86` arch tests on non-x86
    
    The usefulness of this is rather limited, but simplifies build system and
    makes it easier to detect regressions.
    
    This is however not fully endian-neutral.

commit 0f39770dbba4a287e6280958839a9e890e52abad
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 9 09:31:39 2014 +0200

    Fix `arm` code writers and relocators so they support cross-arch

commit 93dd395b3dff83d8568aee2ad4e02088bec195bf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 8 23:49:44 2014 +0200

    Build `x86` and `arm` code writers and relocators on all architectures

commit c82d73311f49641e0e6af28e300dc5f655f80a31
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 6 20:49:08 2014 +0200

    Fix process arch test on ARM64

commit 34741017c1b78c4ac8e305456cd83033c970f264
Merge: af03ab4a 9e063df9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 6 19:30:15 2014 +0200

    Merge branch 'feature/arm64'

commit 9e063df9e8a7da976066abd0211bf513f36705a5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 6 19:29:25 2014 +0200

    Port to ARM64

commit af03ab4aeddf7ff40417c1af850048b04db256c0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 22 00:51:05 2014 +0100

    Use the default isolate for all scripts to conserve memory

commit 82fb7f2fd546ca548e3858dffc81ab1db6e91d3e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 22 00:50:48 2014 +0100

    Improve CodeAllocator slicing strategy to handle page_size > 4096

commit 010a1b1abd8f568b987b0423855dd28262d7dba4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 16 20:53:49 2014 +0100

    Add `subdir-objects` automake option as suggested by automake

commit 645e501810a165fe8b6b47044f5b99928e741600
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 28 21:48:49 2014 +0100

    Initialize Interceptor's global state when initializing the library
    
    This fixes the crash scenario where a backtrace is captured before the
    Interceptor has been used for the first time.

commit cc5e83d0f2d498f15f05c001d726e6795e52bf47
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 28 21:47:31 2014 +0100

    Adjust glibc backtracer skip count

commit a8a62d0b30e4a44b428c14677bcf74f1e35b10e2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 28 21:47:12 2014 +0100

    Skip symbols without an address
    
    This typically happens due to inlining.

commit 7c379eba4d305bc66feca055b9d9f203559ac796
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 28 21:46:50 2014 +0100

    Fix symbolutil and backtracer tests on Linux

commit 54d14ee7c84aa09101ee2fe637162768feba469b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 28 21:46:04 2014 +0100

    Remove assertions assuming overly deterministic dlmalloc behavior

commit 71220f28d24f04f0d32f7d5794765be6e9bdab6c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 28 21:45:12 2014 +0100

    Fix test data directory discovery on Linux

commit 263b092502455e15e7bf081f7ae4b118dd03f02b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 28 21:44:44 2014 +0100

    Fix glibc detection

commit e95124f7b53f96316370349ace6afc70cf11afc7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 27 02:38:43 2014 +0100

    Fix asm vs PIC linker issue on Linux

commit c5280a3c7867492f433939587e16314e55957569
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 24 23:45:46 2014 +0100

    Remove unused prototype

commit b2569f03abc173e469e8251bd66229b5468d0815
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 24 23:45:36 2014 +0100

    Fix clang compilation error

commit 79c10396e74a85cbbefe3db2ce5ac3e9305fa4e9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 23 22:22:14 2014 +0100

    Fix handling of optional callbacks

commit b9d9a6554ece1ba1be360396a6d8c64cfaa53745
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 23 22:07:57 2014 +0100

    Upgrade to VS2013

commit 124ca259e0499575f965a56fd5500fafba981c2c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 23 21:49:19 2014 +0100

    Fix failing MemoryAccessMonitor tests in case of optimizations

commit e4240ac687f6844667a28f951b78784072a911f9
Merge: ff9e0cd6 0b111a4b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 23 21:33:19 2014 +0100

    Merge branch 'feature/v8-3.24'

commit ff9e0cd68643a6ed0d31fdc2506f1188fabadf6f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 23 21:32:22 2014 +0100

    Remove FunctionParser
    
    It was an unfinished experimented that didn't prove very useful.

commit 0b111a4b7b41409aa1b8682d6d4fee678a41dec5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 17 00:09:15 2014 +0100

    Update Script runtime to the V8 3.24 API

commit 93ae586e0a78b5f68a1275f908dc3d37d01919ab
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 23 00:43:53 2014 +0100

    Fix system_error behavior on Windows

commit b3fa0272b2c7fe35f3996f88f43b36ea2e692126
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 15 23:51:09 2014 +0100

    Add script API access to system_error

commit 02bb1305831045460e08ec00b5b779aa417f27c1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 15 23:50:44 2014 +0100

    Allow invocation listener to update the system error value

commit 23351ca55b4f93438d105fabdba533f8848b8f69
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 11 01:49:49 2014 +0100

    Fix inconsistent JS style

commit da9cfa65ba1e209488d70379b0e75cd9d51b8753
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 11 01:48:12 2014 +0100

    Add API for replacing return value

commit 73e521bf6980ea259b2c0c54861d92c66239d79a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 11 01:42:17 2014 +0100

    Add gum_invocation_context_replace_return_value

commit a32f62bb8226c67feb26f52958ae680fb981e4f0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 11 00:14:45 2014 +0100

    Improve ARM relocator branch instruction coverage

commit dbbf5f62353ac027337bc16180aef93d9061c9df
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 9 00:35:42 2014 +0100

    Fix relocation of BLX imm T2

commit 28578992f48647071d5eb2b2b9bf00e10c86ac3f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 8 02:25:05 2014 +0100

    Fix exception code-path in _send

commit aaf47ae05828603d650fff8ad54a21234ebea79c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 25 23:20:23 2014 +0100

    Re-generate the script runtime

commit 5a32896fb1858b8ed33adad2fee45b9b47be866f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 25 23:16:59 2014 +0100

    Update runtime build script

commit 7aea61ed6c1b5b7151c74e9d4ddcaa76f9dbb212
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 25 23:16:41 2014 +0100

    Fix uglify2 warnings

commit 1e2ca4389fb66a31f5b953b68d4e822b35618a6a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 25 23:11:24 2014 +0100

    Fix jshint errors in ObjC runtime

commit 0feaf0499bab8df72e389892db49d708517e472d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 25 23:11:02 2014 +0100

    Rewrite the script runtime core in JavaScript
    
    It used to be CoffeeScript.

commit ccf8a180049a1c536ec0770223803a22c028f637
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 25 22:19:47 2014 +0100

    Remove temporary test code

commit 43feb269109640a1526dbd8134175d555da5fa8e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 25 22:19:29 2014 +0100

    Avoid regex on iOS for now

commit 621ec633c1e1e5f1b8446f4cebb1362320b88d13
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 25 21:08:45 2014 +0100

    Make it so NativeFunction is a NativePointer

commit 036c947528fc3453df3c14a748fd38d29132c7c4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 25 20:30:05 2014 +0100

    Add ObjC API for scheduling work in the main thread

commit 1269edfa73b049e159ab80bcf6f7d8e336e6fd91
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 22:56:28 2014 +0100

    Update some copyright year ranges

commit cedff1fbed9c120766d10af291154c3188e0c513
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 22:56:06 2014 +0100

    Avoid usage of reserved JavaScript keyword

commit 01ed953590b61cf155ba28f38597339ee46e1589
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 22:55:42 2014 +0100

    Fix warnings reported by MSVC

commit 73ecaba03f42195539832b93aa8ef4dc5450f215
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 22:55:32 2014 +0100

    Update Windows backend to the new process API

commit 3ee068c95da6918a841252bb361e8fc0d6c7c5dc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 21:58:55 2014 +0100

    Update Linux backend to the new process API

commit c1ec9183c573819d151e58671dc4a538fec94c38
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 21:28:20 2014 +0100

    Update Darwin backend to the new process API

commit 9cb7896772759171b4e19d275378c1900280f28a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 21:28:08 2014 +0100

    Update gum-heap library to the new process API

commit aa5009c256db2fb8fdd2ca178aa6692115c3cad6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 21:19:59 2014 +0100

    Update vapi to the new API and fill some of the existing blanks

commit facb55c50aa36efd7e593e459e388534389322bf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 21:19:28 2014 +0100

    Update Script to the new process API

commit 651548f6c3e91a585f5c7b21dd0239542dd57c54
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 21:17:11 2014 +0100

    Update MemoryMap to the new process API

commit eebc84274ec5f07cfe819e812f8b2c27f4c8e465
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 21:16:53 2014 +0100

    Revise API to provide both function and variable exports
    
    Also move arguments into GumFooDetails structs across the board for
    consistency and to allow future additions without breaking the API or
    ABI.

commit 3fedab79afc826579ef97e158a101dd6a8a494e3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 19:41:33 2014 +0100

    Fix erratic X86FunctionParser behavior
    
    - Only relevant in 32-bit mode
    - Don't read RET operand value unless there is an operand

commit f26618b48d7777c4852a9155d8796dedccda35d9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 22 23:59:39 2014 +0100

    Add rough sketch of an ObjC API

commit b5a09269af7d5b9f465d271ebc889831dfe5d376
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 19 21:38:49 2014 +0100

    Improve NativeFunction to support variadic functions

commit 71f9a1cf1364927274cf0a1b215d1a64a95300f0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 19 18:51:05 2014 +0100

    Throw exception if parsing of ffi type or abi fails

commit fc0e54bdc049c5c2276a69fda6f284faa6621210
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 19 18:50:52 2014 +0100

    Escape exception string when generating error message JSON

commit 2b207e3a1811b6cbbbd56226c7691df3cf411b8a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 15 22:35:08 2014 +0100

    Run V8 in "safe mode" on ARM for now

commit a447c0b3b55dbff6d8a156b460a9048196173f40
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 15 00:21:59 2014 +0100

    Remove Darwin/ARM special-casing assuming RWX is not allowed
    
    This restriction is no longer the case with modern jailbreaks.

commit 419f0aeaf3f6539363d11f51fd8fa0efce4911c5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 12 21:03:00 2014 +0100

    Update e-mail addresses and convert non-UTF-8 encodings

commit 94dc2c389213a9c27d0c3e76aec2036ad9844be4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 3 13:51:20 2014 +0100

    Update to the new Stalker API to allow graceful shutdown

commit 1f2539454119e8890c8846ae7d06c2dcfa2565e2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 3 13:50:24 2014 +0100

    Improve Stalker to allow graceful shutdown

commit 8a99a36106f1c7a022bb5accc3dc8096f49769fb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 2 23:13:44 2014 +0100

    Fix MSVC warning regression

commit e5eb5bc7d44afb2ec946c7a0345ed4d4b7a7b145
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 2 22:59:24 2014 +0100

    Check for pending unfollow after sysenter and event submission
    
    This resolves situations where the stalker would get stuck.

commit d71c24374829a88f1afb9e862a6bf4b88a74cb21
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 2 17:43:55 2014 +0100

    Optimize unfollow of dormant threads
    
    We can detect the case where we followed a thread while it was asleep and
    later try to unfollow before the thread woke up. Without this optimization
    we may run out of memory if we accumulate dormant threads at a higher rate
    than the rate at which they wake up.

commit afe8bd856434bcda26676ca404075b859b227712
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 2 14:24:48 2014 +0100

    Remove erronous operand base checks for UD_OP_JIMM
    
    An operand of type UD_OP_JIMM never has a base, so we should not check it
    as its value is undefined.

commit 94fecf51113507186cf3788c79e5c34b32bb2461
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 2 14:22:53 2014 +0100

    Update udis86 build steps on Windows

commit 685fe0cdd870fa4de2b74e81869640efd8b1bc80
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 2 13:17:24 2014 +0100

    Fix unref re-entrancy issues

commit e1cb38cefe2480f3530cdf3479dbcff5b6163088
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 2 13:16:52 2014 +0100

    Update to the latest udis86 API

commit 89169d07997bff607a2a55e1fe0a39a2d84501e4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 2 13:16:30 2014 +0100

    Add Stalker test for popcnt
    
    This is to ensure we support newer instruction sets.

commit 968c3457cf762d32db79ce2cc51ac54fb9161ea3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Dec 30 15:46:14 2013 +0100

    Fix warnings reported by MSVC

commit f1d974cc3fce14c735644e31e21c6ae38ed8733a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Dec 27 23:48:23 2013 +0100

    Fix typo in assignment

commit 120aa6719a97b59a09f7876e25ec826cae6fc6cf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Dec 27 23:29:38 2013 +0100

    Add support for relocating jmp/call <reg>

commit f04c2d35c9e97c909ece1a4346b428aa47984bd4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Dec 27 23:28:46 2013 +0100

    Configure dlmalloc to avoid sbrk() on Darwin
    
    Otherwise we quickly run out of memory, as sbrk() is legacy and shouldn't
    be used on Darwin.

commit c56957a32768fb665da4607c986470ffdcfe7fdd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Dec 27 22:52:24 2013 +0100

    Improve robustness of remote module/exports enumeration
    
    Reading from memory while enumerating ranges may interfere with the
    enumeration. Make a copy of ranges first, and reduce I/O strain by only
    reading the beginning of each page to look for Mach-O magic.

commit 6bda7a9ec09b60592807e1a6d7e739a646f42e1c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 24 14:26:47 2013 +0100

    Fix Darwin entrypoint detection for ASLR binaries

commit c6b34df7e260d5d834da62008c659a38e7c8201e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 24 11:12:30 2013 +0100

    Implement re-entrancy guard on Linux
    
    This is best-effort as we'd otherwise have to make a lot of assumptions
    about libc internals. The limitation is that a listener cannot be attached
    to pthread_getspecific/pthread_setspecific.

commit b85a4617a6f653232c272b95803c0bfb6e6c3c0b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 24 03:18:27 2013 +0100

    Implement re-entrancy guard on Darwin/ARM

commit edf0ef5c18d6b60dcb14db6e5701edeb2b02ce5a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 24 03:17:12 2013 +0100

    Add gum_thumb_writer_put_sub_reg_reg for consistency

commit 38d232412c70f7295a07c05ba96c5006c8d1ee07
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 24 01:54:43 2013 +0100

    Implement re-entrancy guard on Darwin/x86

commit 30f8b08324e0f26c39d8b7e01d59e3df781d9934
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Dec 23 11:51:23 2013 +0100

    Skip data entries when enumerating exports in the Darwin backend

commit fc1d8dd86a6ec1d04eb95a6ef8efe1f670c32eef
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Dec 22 23:11:33 2013 +0100

    Fix `check` target for iOS

commit d4929a6efe5ff842c23f1af1a10b9c6315b1a19c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 21 12:26:37 2013 +0100

    Fix ifdefs for tests temporarily limited to Windows

commit 52b13cd9437e0453a0d070a7f30da203fe5c0e25
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 14 23:43:15 2013 +0100

    Replace GPrivate with GumTlsKey to fix resource leak

commit 53117f3cd415538c564a3487d9491cc1682a397a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 14 23:26:37 2013 +0100

    Don't leak V8 isolate when disposing script

commit 751189eea4ad3251e99a67f4ac2e48da5229c935
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 3 22:58:40 2013 +0100

    Fix declaration after statement to make MSVC happy

commit ae2e02af2ef2a39465f87aa93bf9572a376b2884
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 3 22:52:29 2013 +0100

    Fix Windows warning regressions

commit 09fafde0a1ced940d977730d457f886d1a2b30d3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 3 22:49:40 2013 +0100

    Fix Windows regression

commit 6bff70b7e05afc0acd15faba581a75f2ccab2023
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 3 22:47:31 2013 +0100

    Fix another silly MSVC issue

commit a5d6e3cdedc3dd4d20b91f91b9f0eb1e6955b422
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 3 22:44:36 2013 +0100

    Fix silly MSVC C99 compatibility issue

commit 097a2252f09a8aae588c82aad3d3d5b6cf0d6129
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Nov 14 09:13:16 2013 +0100

    Pass CPU context to backtracer

commit fab39f0bfadad49623f8f0127522daadae25368e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Nov 14 09:12:50 2013 +0100

    Fix sbrk() deprecation warning on Mavericks

commit 5f02e8e7af6256a9a8ccfc991c6e133cc17ecf0b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Nov 13 09:12:20 2013 +0100

    Include backtraces of alloc and free calls

commit cf35a82782424a54006c46a3d0a3e19ec9aaeb47
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Nov 10 23:23:42 2013 +0100

    Include a backtrace showing where the invalid access happened

commit 5edd7f39939e87f1849d32a5cdab2927e8e15087
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Nov 10 21:14:46 2013 +0100

    Output diagnostics info on invalid memory access

commit e5aeb617c062086391f800cb2dba59465110b02c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Nov 10 21:13:06 2013 +0100

    Improve exception handling to include SIGSEGV and SIGBUS

commit 640f5f1be3ce3f9ebc1e3b8561d53fbc1eeb6c45
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Nov 5 15:30:03 2013 +0100

    Cache invocation context and args to reduce memory allocator pressure

commit 206f93d611f32d0366e9610b0db86344ef2117af
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Nov 5 14:16:43 2013 +0100

    Fix silly use-after-free in file write logic

commit 6cfac649c538710ffb893de6071fd8605f33d14f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Nov 5 13:17:35 2013 +0100

    Add missing function that got lost in the refactoring

commit b4d3a34310abd2d39c55ea63af4676046e790cc3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 31 02:17:25 2013 +0100

    Add simple script support for writing to files

commit e39d82ba2396680d09d0d3239f28535ac9d3f9da
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 29 22:45:14 2013 +0100

    Split script engine into multiple modules
    
    It had gotten way too painful to add new features to the monolithic beast
    that the poor script engine had turned into.

commit 2da35e86d5c352c36377657348cb99b28e79de18
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 29 17:45:43 2013 +0100

    Handle malloc/calloc/realloc for size=0

commit e38e530281bb339c868d8f0229efe169b8e9a42d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 29 16:09:13 2013 +0100

    Fix installation paths of library and binding headers

commit ef72e20ac7e3d3d91a30d7620cc6d9bce6b1141d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 29 16:08:37 2013 +0100

    Add a rough ARM backtracer based on the x86 backtracer

commit 41e40f0a406880df31370b76c74979f4c592a1ad
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 29 16:07:17 2013 +0100

    Add Interceptor API for resolving return addresses
    
    This is essential for making sense of stacktraces.

commit 96a132be107363331e4c2609a0d9f87711e72a4c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Oct 28 19:06:45 2013 +0100

    Handle relocation of ARM B[ranch] imm24 instructions

commit 6e61ade7dd72c5532375c1de2c899dfac4648985
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Oct 28 19:04:28 2013 +0100

    Improve readability of thumb PC calculations

commit f604e80ada4df31e79515f01d242afe0b6e777fa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 27 20:55:04 2013 +0100

    Add Interceptor#detachAll() and Interceptor#revert()

commit 61b85ea2f0ed498260da212b37335fdd77de44c6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 27 19:34:51 2013 +0100

    Add Interceptor#replace() for replacing functions

commit 73651ad6d8211299ab39690110cc2edf46a67ed6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 27 18:52:12 2013 +0100

    Add NativeCallback for passing JS functions as callbacks to native code

commit d29e21758c14ea5560876478d0fee96e74b0838b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 26 00:08:09 2013 +0200

    Expose the V8 gc() function to the script runtime

commit 8077872d17ed16cde9b58ffe483291ed4dfba893
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 25 23:20:52 2013 +0200

    Improve heap API detection

commit c99741e8043103a852341a844df0c15f5b5604eb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 25 16:14:07 2013 +0200

    Limit non-core tests for now and fix the low-hanging ones

commit 2224ebc89839324e812a888ddd3bd21f822fba80
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 25 16:11:23 2013 +0200

    Fix find_functions_named() for unknown functions in bfd backend

commit 5a6fa9f8f34dc98e3dce476fb909dc61dbaed150
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 25 16:10:18 2013 +0200

    Fix incomplete Interceptor function replacement support on ARM

commit 9f08674d624af86aea52bb14b27e545227eb8421
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 25 16:07:58 2013 +0200

    Add minimal branch instruction support to ThumbWriter

commit d5c6324f3b371f638ae91565a9d4ff7171c3ea32
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 25 16:07:15 2013 +0200

    Rename internal X86Writer types to avoid clashes

commit 1b4f0ed6785f77a9d2b7d8893598bcf26b377a0c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 25 00:37:14 2013 +0200

    Fix warnings in and revive helper libraries and bindings on UNIX

commit ac1d3ba9f82836679705913bf3c83b4505eac6b1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 24 15:32:00 2013 +0200

    Fix padding instruction check

commit 8d76e5ea585697b4fb1ac96d7f65c37095ee3a93
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 24 15:31:19 2013 +0200

    Fix Linux module enumeration for memory map with non-readable pages

commit ef0f939a46dcc17b2140c07c7b75f8a1f17ea4c2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 24 00:30:34 2013 +0200

    Disable remaining tests for functionality missing on Android and non-x86

commit 917bca1771a35e1888de53149daec02bcccd78f8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 24 00:29:15 2013 +0200

    Fix Thumb relocator's pc register computation

commit bfc932e854d238a0556da923c3bafe45e8f3c77b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 22 23:06:18 2013 +0200

    Disable Linux backend's thread manipulation logic on Android for now

commit b7e7502fda423e01fe27a6ab1b8e8317f77d3a89
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 22 23:05:43 2013 +0200

    Fix warning reported by Clang 3.3 on Android

commit 1aba1926dc26a1386e90bf69d9df988d64bce5f6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 22 23:05:15 2013 +0200

    Improve ARM detection autofoo

commit 72db8d29e9c303188c9ce5b4230dca35d768fa7f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 20 19:09:04 2013 +0200

    Don't hold the V8 lock while computing call target frequencies

commit eed892feb26b45cfa401b2964506d14784c86733
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 20 19:03:49 2013 +0200

    Fix mixed up argument type

commit ae63615ef033bcd28e2d06d528cf7e2c2ca8d37a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 20 14:53:54 2013 +0200

    Generate a Stalker call summary if onCallSummary callback is provided
    
    The summary is an object mapping call target to frequency, which is useful
    for applications that want to display a heat map without potentially
    transferring huge amounts of data across process boundaries.

commit 519f40c19dc53a8003394898122d37be2e53cb88
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 20 14:48:09 2013 +0200

    Fix callback-argument declaration in gum_script_callbacks_get[_opt]

commit 93b245ad29932e50d0a180d413151ebe33d9f0a3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 20 14:46:56 2013 +0200

    Expose NativePointer C++ API to other script modules

commit a404705f5c7b1d2d12d2006fb657d7bb366ec69f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 20 14:43:43 2013 +0200

    Improve NativePointer#toString and add toJSON
    
    If no radix is specified for toString() we should make the string human-
    readable by defaulting to base 16 and adding a "0x" prefix.

commit a235a11146225678dc8dcab204548914f322b3df
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 6 17:37:51 2013 +0200

    Fix Win32 include directories typo

commit 5bf80ff9992645593a4364d4d37ced2cdf467342
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 6 17:24:34 2013 +0200

    Auto-detect system module name on Linux
    
    This means the Gum tests can be run on different libc versions without
    manually tweaking the hard-coded constant.

commit 24d14023f0b80ed490ce6aa17985f1539a0b059a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 6 16:42:06 2013 +0200

    Fix gum-tests include paths on Windows

commit 7f3f0f2ef298199c5ac3c264a698ebd16d0d2455
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 6 15:01:18 2013 +0200

    Update gum-heap to the new Process API

commit cd11587727d25935af9648e09cc8a434d2bff716
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 6 15:00:58 2013 +0200

    Fix unused argument warnings

commit 655ed72e17ae319bb616c29da0dd33f2fbb88a27
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 6 15:00:35 2013 +0200

    Fix signed/unsigned comparison warnings

commit bb09ff956056b2f5935630a003e30dc265ea7024
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 6 15:00:15 2013 +0200

    Update gum-64 filters

commit a232d2e658ba20d6ef673a3ae12251a9369286e3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 29 22:01:19 2013 +0200

    Add performance test for interceptor integration

commit 6abd09445e54735bab115bef32e56d79f8dfc7bb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 29 21:40:46 2013 +0200

    Speed up native construction of pointer objects by ~24x

commit 9382f936a56b265411cfb2b633980c3d73add441
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 29 21:28:16 2013 +0200

    Fix crash when an on_match callback throws an exception

commit a42c022e524f83a96282e13318e04b4baf73fe13
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 29 21:27:10 2013 +0200

    Improve formatting of stalker performance test output

commit 5bf32ecdd17de557f88b7b5cfda611aa8cd3e393
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 29 18:58:57 2013 +0200

    Fix Stalker.follow() argument parsing for options-only argument list

commit 9b1520c6f5e5d0cc0b9e45b74f04a1ce0609f794
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 28 17:44:58 2013 +0200

    Add error-checking for absence of required callback functions

commit cb52ce7966a9238efea61611223aad6240b7103f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 28 17:33:51 2013 +0200

    Make it possible to specify stalker event mask

commit 2d522232a1d4cd819b7df2c3a65427633df02058
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 28 15:48:36 2013 +0200

    Fix jmp backpatch logic when there is an opened prolog

commit c83795a41df46270ee5a8fe88f6ce17e8456a335
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 28 15:34:10 2013 +0200

    Remove predictive call probe prolog opening logic
    
    This is too complicated now that probes aren't always inserted, and the
    performance gain is only when combined with EXEC and/or CALL events.

commit b442d5de33863c0550f28456df88845960e10f64
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 28 15:15:56 2013 +0200

    Invalidate caches after adding or removing a call probe

commit 043c68d970724ed362e4da81407cd97a097b21c2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 28 14:24:07 2013 +0200

    Optimize out call probe logic for unprobed static targets

commit 1204cad735a86a150d317b805b980f00edb076a6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 28 13:20:57 2013 +0200

    Emit RET event after sysenter completes

commit eb5e9884f398ee68c02329125e11b750e31f6526
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 28 13:20:47 2013 +0200

    Improve sysenter performance on Mac by making use of our stack

commit fb3e4d3842e1a2a9db378ffc0cc32308b9ed392c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 17 21:02:09 2013 +0200

    Optimize drain logic to minimize memory usage

commit 5862d9c5dbccebe350b5897dc16c3a0578651347
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 17 01:16:21 2013 +0200

    Fix code generation logic for call to excluded range

commit c0a906c7efa3b6b55ee0fd27192a3e0f72cd3e1f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 17 00:19:01 2013 +0200

    Improve gum_process_enumerate_modules to also provide the module size

commit 071d8a5d5681c2fd79c31d51913670f28f940de7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 17 00:17:13 2013 +0200

    Fix warning

commit 706c04f14adfe8d26440fde6a52f6054f8a613e0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 16 22:02:14 2013 +0200

    Avoid following and unfollowing from within a V8 script
    
    This is not a great idea because of multiple threads and self-modifying
    code. It is possible to solve by adding more complexity to the stalker,
    but this optimization provides a middle-ground solution until then.

commit 03f38867970c959f0eb82b9251d922e976c56d38
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 16 22:00:08 2013 +0200

    Add basic support for excluding certain ranges from stalking

commit 73dbed97118194e0bd895cd56e1910be23aa782c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 15 22:14:24 2013 +0200

    Fix naming inconsistency

commit 73770a8095a6c854fc6518aeb551555eb2d6e6d7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 15 22:06:33 2013 +0200

    Fix stalker event blob length calculation

commit 165ccb9dcf0baef99ae0dc376b5b5c37383e93c2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 15 21:45:41 2013 +0200

    Expose Stalker events as a raw blob
    
    Creating an object per event is too costly.

commit d795c46297a18fe06d6f2a1867c40fcb6b92bbca
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 15 21:44:51 2013 +0200

    Add missing length property to the byte array object

commit 984fa543cb91db2fd2f6020a08dd8d5f026d2c37
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 15 20:50:25 2013 +0200

    Increase call backpatch padding to be sufficient for 64-bit

commit c85b80f6346193d6feb0146c7b40c6bba3d740b7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 15 20:49:37 2013 +0200

    Fix register load logic for upper 64-bit registers

commit 9245ee738016a2059fe1d848a9087963d4d798d9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 13 01:58:59 2013 +0200

    Explicitly set trust threshold to 0 for the performance test

commit 58796b0ac44fe1fb99ca161ff4f2917cbeb055b7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 13 01:58:42 2013 +0200

    Enable performance test

commit 78b986d5e08160c0efec19b620f7282205f1a17e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 13 01:58:22 2013 +0200

    Improve code generation to avoid redundant context switches
    
    Also remove remaining stack swapping logic by instead avoiding the red-
    zone.

commit b49c67abc25cf40c875e0fced9d7f05315a33f88
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 13 01:54:14 2013 +0200

    Add helper for generating padding instructions

commit f17d1c89d0a6e30fb48f0aa51a2a63c012f05f39
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Sep 12 00:12:13 2013 +0200

    Refactor remainder bulk of code generation to use generator context
    
    This will allow optimizations like merging multiple prolog/epilog emit
    sequences in order to reduce the cost of probing code.

commit e884da285105195c2a04810192341b709ef69250
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 11 23:32:54 2013 +0200

    Avoid confusing V8 by sticking to the application's stack
    
    V8 stores the original esp so it can guard against stack overflow, so
    using our stack while in a callback potentially going into the V8 VM
    is not a good idea. So instead of swapping our stack we just avoid
    writing to the red zone.

commit a78b668c43d9f2216008d41952e4cdda097bbea0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 11 23:27:35 2013 +0200

    Improve SMC detection by checking the entire block for changes

commit ff9b9dbc34e765beadc8026cea6d8d36013e731d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 7 20:55:12 2013 +0200

    Fix gum_mnemonic_is_jcc for the jno instruction

commit 8d06edeae7a4d6b1c0ecaf569ed6db4910b7c719
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 7 20:54:28 2013 +0200

    Fix warning reported by clang

commit 85c50f2445b668ced2f27051dd1e01e90ba4d750
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 7 20:53:58 2013 +0200

    Restore edx register after sysenter completes

commit 52814f6e540fe4453a70de77bfcc469bfdae46bd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 7 20:38:32 2013 +0200

    Skip the ret instruction as we replace it with our own code
    
    Not really an issue since a block always ends at a ret, but improves
    consistency.

commit 6b6c6026ab29e4493e1059bc3191892d4389cc3d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 7 20:37:11 2013 +0200

    Fix stalker memory overrun for trust_threshold of -1
    
    With this threshold we will never re-cycle any blocks, so instead of
    relying on an allocator thread adding more slabs we will simply just
    wrap around and overwrite the first block we generated.

commit 469aefea89dd461ca318bd09ded6d43eac60d590
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 27 23:11:11 2013 +0200

    Clear direction flag before calling on_enter and on_leave

commit 45c99d1b691f34298607838b203e0dacb2507833
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 27 23:08:49 2013 +0200

    Fix indentation inconsistency

commit dc89b310bbafcb42706f581f42f4cdd1d1c76ea4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 27 23:06:49 2013 +0200

    Clear direction flag before calling a stalker C function
    
    This is required by the ABI.

commit fd2d548f9cd3d91fafba212102cf53f1237a26b8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 27 23:05:18 2013 +0200

    Add cld and std for controlling the direction flag

commit 44683f819579e3837cc2ee785ac0c2453fe7b743
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 27 15:51:41 2013 +0200

    Fix leak in event sink drain logic

commit d7f9e91dbd90fc0953f42d2045ae639c70b07e80
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 27 15:51:17 2013 +0200

    Use a dedicated v8 isolate per script
    
    This improves concurrency and should make it easier to track down bugs.

commit a4a8ce2d0772d33aae179b452e3b427d895a9444
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 27 14:22:50 2013 +0200

    Make the stalker queue capacity and drain interval configurable

commit f46156d8a5721644cfabf2a83bad56cbe1d50a69
Merge: de5ebca4 126e4384
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 19:54:30 2013 +0200

    Merge branch 'feature/stalker-performance'

commit 126e43847fcc9a73c279eda44d1d264c17eaa969
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 19:30:21 2013 +0200

    Also consider block ended at CALL

commit ccad4628243df8d5151420c4a627fb3f7726834d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 19:16:09 2013 +0200

    Add a workaround for 64-bit syscall issue

commit 14acb6c35aa9337256fd928069ad1b1519778d0a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 19:14:57 2013 +0200

    Tune register allocation to avoid unintentional clobbers on 64-bit

commit cb28a5bf638e5bc5ba7e6440c1f41b3c1a9fb029
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 18:38:37 2013 +0200

    Fix short vs near 64-bit regressions

commit 7518d76749e5efc5232f5fbda90b3c3ed7db6052
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 18:38:14 2013 +0200

    Fix backpatch logic when context is about to be destroyed

commit ed43baa3c5ba82c596f5a25893dd4b55fbcf8745
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 18:36:52 2013 +0200

    Remove left-over logging code

commit 5e7c881b52c5c57a84b9f2e10d43f4d738fb8ae4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 18:36:39 2013 +0200

    Add jmp_near_label

commit e8cb717ce77ee92148bdc7212e235536ecc237f0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 18:36:23 2013 +0200

    Fix declaration of sub_reg_near_ptr

commit 52b19397cabf1f2e33ac287d79b51e858fac3c19
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 18:35:54 2013 +0200

    Fix cmp_reg_offset_ptr_reg for 64-bit mode

commit f54e8fee049eae2a86ff94918d85b66de80caee1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 16:37:02 2013 +0200

    Replace depth code with calculations off the frame stack

commit 63bef409047d39a83b59aa45c7e0ade1b15dc6f3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 16:35:33 2013 +0200

    Add {add,sub}_reg_near_ptr and shr_reg_u8

commit 6a7a428cdd77cd6a240bb527dfcad1349d306a84
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 15:33:16 2013 +0200

    Add backpatching of ret code

commit c8595365e132457bf3818d3834971e89fc6df9ff
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 04:54:54 2013 +0200

    Add fast-path for ret instructions

commit 0106c291fb0b308eff8e27ecd7a1809eb645b48f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 04:54:08 2013 +0200

    Add test_reg_u32 and cmp_reg_offset_ptr_reg

commit 8b8896bec31d51240c42b5bf1ea96ebfeecb1620
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 24 20:59:18 2013 +0200

    Improve stalker debug logging

commit 0e44a06bd53fd60a4b09cb54dfa7f178598496e0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 24 20:58:31 2013 +0200

    Fix parsing of JCC opcode with hint prefix

commit 586c0bf92ba887695847b34f5f491b7d56ec5188
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 24 18:54:42 2013 +0200

    Improve the performance test

commit 41aba62584c35a2b571ccd7c1bac858a76bf037b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 24 18:36:07 2013 +0200

    Expose Stalker's trust threshold to the script runtime

commit 6159ad4090c4da40ff7abf88d1bf07782b44f934
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 24 18:35:39 2013 +0200

    Replace cache setting with a trust threshold

commit ed9c6d732bf8ffe1ac8360f6fa3f658bdddc30a8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 24 16:12:40 2013 +0200

    Backpatch static call and jmp branches

commit 18b56385bb5ace82f524a7c680206164de1e2171
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 24 00:09:20 2013 +0200

    Rework code allocation to improve performance

commit de5ebca45be8bc14f4bac512560747751a9c27cb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 18:53:09 2013 +0200

    Move experimental Stalker tests to slow mode

commit 003680286c9827a3eaf694e9cbe5600f6ae82c23
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 18:31:03 2013 +0200

    Remove the unmaintained Tracer
    
    It was an experiment that didn't prove very useful.

commit ba9d740089ef7ed7444c6fdbcd241d38e4024a8f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 18:20:27 2013 +0200

    Adapt Windows build system to the updated build environment

commit b0e36bdfdc5bdf60d910640bbf32d8a7eda98b66
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 13 19:17:11 2013 +0200

    Rename vapi to be consistent with the rest

commit f208acffc8a349258b057ade8d5cdec4e7f7dbec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 13 18:57:36 2013 +0200

    Fix include directory for arch-specific headers

commit ebd32a22e1b000cabed11c3955f8ce13f142e456
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 13 02:55:32 2013 +0200

    Fix build issue when building with helper libs disabled

commit 5e85d3cfd8aef349b9a678a041cf125cc36c7363
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 13 02:55:18 2013 +0200

    Add udis86 package dependency for x86

commit 1d3d999bfc6825161a507082c1c3dc6037dbd555
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 13 02:20:40 2013 +0200

    Rename to frida-gum and remove embedded udis86

commit a8f8b734b937fc2dda3803e972af43909df701cc
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Thu Apr 11 01:09:10 2013 +0200

    Add rest of header files necessary for compiling against udis86

commit d295850c1368626acbcc3d13f0ac160b143df49c
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Thu Apr 11 01:02:05 2013 +0200

    Add udis86.h to list of installed headers; necessary for libfrida-core

commit b134c262970c131ac826464302a8f5265633d95c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 01:31:24 2013 +0200

    Make it possible to run tests for out of tree builds

commit 4aaf746f863cdf1380345283e2f48abb656fd1da
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 21:34:45 2013 +0200

    Don't launch configure from autogen.sh

commit 897c70edc1a01dccf8124365d130e3bd67a330cc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 21:33:39 2013 +0200

    Update gitignore

commit 3e81a96583e1c0e758d86a819d5afee1dd2ad9a2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 21:18:03 2013 +0200

    Explicitly set an aux dir to avoid unreliable autofoo auto-detection

commit bc0210e235471deab9b19d2bf521bf1beebe62e9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 19:14:12 2013 +0200

    Fix autotools deprecation warnings

commit 62a2eb177071e839fae43f5fbd1c064cb8a83a7b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 18 02:29:11 2013 +0100

    Fix warning

commit e72b8326333cac9351ca9b0eca15e4b9d206f349
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 18 02:12:20 2013 +0100

    Take slide into account when calculating text segment base

commit 1c18c1f3e029bcc773021f114cdc184ca4c76a91
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 18 00:29:17 2013 +0100

    Fix 64 bit argument list setup

commit 647c65ceefdda51cf0341cdaf1ebefffafcbe0eb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 18 00:28:58 2013 +0100

    Improve the x86 codewriter's handling of the mov instruction

commit cb5c28f46d082e3a064edcd69bafbfa64e993cdf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 17 18:14:09 2013 +0100

    Add support for code generation of call with more than 4 arguments

commit 2ee693d7fab7e4cf5769a400f18ba24b9238594f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 17 18:13:38 2013 +0100

    Add gum_darwin_cpu_type_from_pid utility function

commit e60979444b8859f25ae5607121d4c14569fd8f5e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 17 01:33:30 2013 +0100

    Fix Darwin ARM build regression

commit 84b9122e10736fa9f35498f7bec3fc06a2bfcb09
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 17 01:22:45 2013 +0100

    Expose gum_process_enumerate_threads's core as gum_darwin_enumerate_threads

commit 96bf9193cf4528abd70516256ee8b97e23845e43
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 16 19:57:01 2013 +0100

    Add gum_darwin_find_entrypoint for finding the entrypoint of a process

commit 462289e99fcb18143556747dd514ac37d8d33af5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 3 17:03:26 2013 +0100

    Add call depth to script invocations
    
    This is essential when hooking APIs that internally call other functions
    from the same public API; where we obviously want to ignore those.

commit 240eede4289f8a0cc34b5562034fefdf05f454d5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 3 17:01:55 2013 +0100

    Fix argument list access beyond the six first arguments on SysV AMD64 ABI

commit ec5bef6a58222b9b8ac66d546f7497b882b83d0a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 17 18:05:03 2013 +0100

    Fix ARM code generation of ADD instruction with high ARM registers

commit 45b6ff6eda173511c0e5deee4cbe2d89737fb2de
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 13 01:14:34 2013 +0100

    Update the FFI ABI mappings

commit b31b116ad3103784ade2993d298478c62933cf8f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 13 00:54:34 2013 +0100

    Fix remaining pointer issues and improve the Memory API

commit 6c147916692c63a8b775c81b4d9ff10e547846eb
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Tue Feb 12 02:00:25 2013 +0100

    Add support for "lossless" 64-bit pointers in the script runtime

commit 7a84601c03a238471b1290c731759ef03220811a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 11 22:42:50 2013 +0100

    Update FFI ABI mappings for 32 bit Windows

commit bd746e45e444d973ee80e59d46cb93cf350cd036
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 11 22:38:58 2013 +0100

    Remove left-over assertion

commit 60e0e0ee9f542e6d17e55ff378087248144d9324
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 11 22:36:47 2013 +0100

    Add libffi to required modules

commit 827d155fb52048bc4843fab87a29ffe0d8beccff
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 11 21:24:55 2013 +0100

    Add NativeFunction() constructor to allow invoking native functions through libffi

commit 237d77891fd84364302dc9d4d7e61bbf88ac01e8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 9 18:11:17 2013 +0100

    Change Stalker's follow_thread test to be exclusive to slow mode on Linux

commit 1d9b556dd286edfd481494940248688c8ceece73
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 9 18:03:04 2013 +0100

    Fix silly test regression

commit 96ceb8343fba69844e658afffa4d2ead9b5e5876
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 9 17:51:22 2013 +0100

    Fix x86_64 assembly typo

commit f3a6842ee67c68e9e601011fb9104495bfa70a29
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 9 01:48:21 2013 +0100

    Port Stalker x86 assembly glue to AT&T syntax to make Clang happy

commit f34d9047187089e49820fd520e1a7f247ab28160
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 8 22:42:39 2013 +0100

    Fix stack address computation in the relocator fixture

commit 8ecfadde995c7d5a34426e0dc15f0feb4ca824f2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 8 22:42:10 2013 +0100

    Make the x86 backtracer unavailable when using Clang for now

commit 009b457d996a24e621ea7e5f27fda1953dd1161f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 4 23:38:42 2013 +0100

    Disable Stalker tests on ARM for now

commit 03e88cf7bc299cb300162da188635273c7c4ff94
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 28 02:20:30 2013 +0100

    Fix Stalker regression on Windows
    
    Return address pointer must be volatile, otherwise the optimizer will
    optimize it out.

commit f210235b5cac03e7d78f01fe7e8458d756c14476
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 28 02:05:53 2013 +0100

    Fix silly C99 issue

commit 3a5925d76d45480b5d23bf1fff8aa4a84b144c4c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 28 01:53:42 2013 +0100

    Add ARM stub for gum_stalker_garbage_collect()

commit 23d81d8c76a24dfb1327a4c6dbdf3c73b31e2a47
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 28 01:41:38 2013 +0100

    Make the Stalker-specific Script tests only run in slow mode

commit e84b9cc9b4283a06ef2ee554a72eb23e050b022f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 28 01:41:24 2013 +0100

    Add garbageCollect() to Script's Stalker API

commit 03fc44c802929e3e84d8074cfb527953f41a13d5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 28 01:40:32 2013 +0100

    Fix test failure on Windows by making Script's UTF16 read predictable

commit b232ddadfcd8548af854c980baf8ad3f8ee647cc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 28 01:38:48 2013 +0100

    Fix Stalker red zone corruption issues by always using a private stack

commit 15bee518b8528334f82d427f6d7cbc56a6625ed8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 28 01:36:52 2013 +0100

    Fix 32-bit specific Relocator warnings

commit 32444b0c37d2ce0efc42a951efce5d412d3b282c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 28 01:36:16 2013 +0100

    Add some more useful instructions to the X86Writer

commit 280eec90937e451adc3a36f891c3d561175dbdd1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 28 01:34:50 2013 +0100

    Update Windows project filters

commit ae34e1cc4b13ce23f84879f677fa3404d70c4ee8
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Tue Jan 22 00:13:53 2013 +0100

    Relaxed const requirement since we write to the expected output variable

commit cce95718e229544e598068118a1e0c7cfe21704d
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Tue Jan 22 00:04:58 2013 +0100

    Add FIXME for possible red zone corruption

commit 425924feb1275ed358a8e73c715d52766dd4382e
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Tue Jan 22 00:03:58 2013 +0100

    Add support for rip relative push in relocator

commit 0a799729f7e47209599b24daa430a224634e3c38
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Mon Jan 21 21:25:20 2013 +0100

    Comment out unused code to prevent unused warning

commit 253e39ee7d79e7aa5ac7ea687b8daab97975aea3
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Mon Jan 21 21:22:31 2013 +0100

    Fix continuation code in gum_process_modify_thread where register optimization would prevent passing conditions across context jump

commit 8a0b838e941982c5b081897eeda2ed98ec93450e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 17 02:48:55 2013 +0100

    Fix Windows regressions

commit be8817b0934abdf3d56727576ab0cb78d8375d4f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jan 15 21:08:01 2013 +0100

    Fix the Mac 64-bit build

commit f1f2d34463b7f473c460cb164efa6cd786a9c033
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jan 15 02:48:41 2013 +0100

    Fix warnings reported by GCC 4.6

commit 71f4812918057abc5a43d26647824d2ae9be2cc3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jan 15 02:48:28 2013 +0100

    Fix Linux backend by filling in the missing thread backend bits

commit 5d7bf6cc29843f9293c41a4ef10c2e8024520e03
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 14 03:23:40 2013 +0100

    Improve Script's Stalker API to support passing a thread id to follow

commit 389ab16dc6b4562325801b40228ef452edea9cdd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 14 03:23:07 2013 +0100

    Add Script API for getting the current thread id

commit 48f1de3742e232dc28b4755d3b2b8bcff1c0f587
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 14 03:03:57 2013 +0100

    Add Script API for enumerating threads

commit 8447a358165e17e7a3e369328cde781e0054645d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 14 02:42:47 2013 +0100

    Improve Stalker to support following and unfollowing any running thread

commit ea66fc1bfaf0a5816169f14ff16340308a65d67f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 14 02:41:10 2013 +0100

    Add API for enumerating and manipulating threads
    
    Only fully implemented by the Darwin backend for now.

commit 6d3a7622c9000479b8f8acd19ce37dc0e36123fb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 13 18:55:48 2013 +0100

    Move process bits out of symbolutil and into its own module

commit dfa02528d0b789e452d0b91c015e86d5e79b5384
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 13 17:17:03 2013 +0100

    Fix Stalker performance test when building with optimizations turned on

commit 51104464c5fd191beeb0da6f77fd7b08b111624e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 13 17:16:29 2013 +0100

    Fix mprotect page boundary handling in UNIX backends
    
    Resulted in random crashes when the Interceptor was trying to
    patch the prologue of functions starting just before a page
    boundary.

commit 39b601f2ae5ae5b77b1feb1d82aab9a3d50f0e97
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 13 04:08:06 2013 +0100

    Fix disassembly debug output

commit 5c338591feefc1b679bc18c340844bc651c83984
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Sun Jan 13 03:00:26 2013 +0100

    Allocate new code blocks near existing blocks to avoid random code length variation due in the code writer due to near/far jumps

commit bb31cb790920d5f302f58c2fcc2b6c4494e48691
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Sun Jan 13 02:09:34 2013 +0100

    Fix name mangling in assembler code across Darwin and Linux toolchains

commit 4740bebf7956c69e76ca35bf0fb197aa62b70b9d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 10 18:16:02 2013 +0000

    Speed up Stalker performance test by tweaking number of repeats

commit 0044f14f07bd3ec113dca67afb58e37db0084123
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 10 16:31:19 2013 +0000

    Improve Stalker's performance by introducing caching support
    
    This is disabled by default and must be explicitly enabled when
    the code is known to be sane and not self-modifying.

commit f1f42ae2d6d5140233761749d9a44a65877039a6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 2 17:01:26 2013 +0100

    Add Script API for adding and removing call probes

commit d7cf4f04e86285a06fbd83b60db1d614b8f140c1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 2 17:00:50 2013 +0100

    Fix ScriptEventSink lifetime issues

commit f78d41593f7d9b6f5bde461e65742a4f804ee84e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 2 17:00:03 2013 +0100

    Flush the main context before deinitializing the test app

commit 3c03628e1765e6ec4002329b2e7df35efc4c70e7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 2 16:59:31 2013 +0100

    Fix stack alignment for call probe callback and preserve all registers

commit 871d4373671b3a45353f245f6b8404c0cb72fd2b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 2 16:56:22 2013 +0100

    Add a destroy notify for the call probe user data

commit 486edb1339accc31ff30ffebc70e2ad050bbee98
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 29 15:34:51 2012 +0100

    Make ScriptEventSink MT-safe by making use of start/stop notifications

commit 2f3572c33ed894827d2af59c7f2290504ce63026
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 29 15:33:42 2012 +0100

    Notify event sink when starting and stopping

commit 388139fd5dc89159c0acc44c43031dcfe93a3c9b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 29 15:33:24 2012 +0100

    Add optional start() and stop() notifications to the EventSink interface

commit 094c1c2603287203e685e8fd75473deeaf96b38c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 29 15:32:03 2012 +0100

    Preserve FPU/MMX/SSE state while stalking

commit d4dcaee9ad1ff843830bb30340b44f08c0db9764
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 29 01:11:17 2012 +0100

    Add basic stalking support to the script runtime

commit b7a8a7b3c214a1b7fbfcc737bc062349fd89c299
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 29 01:10:05 2012 +0100

    Implement handling of sysenter instruction on Mac OS X 32 bit

commit b55b98e6ac58822606830168056a23a1a50bc82f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 29 01:08:55 2012 +0100

    Fix stack alignment when calling GumEventSink process() implementation

commit 34677caac586064da68587bf51c910f26d71d8d8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 25 01:23:05 2012 +0100

    Port the x86 Stalker to UNIX
    
    Basically just AMD64 SysV ABI and stack alignment adjustments.

commit 5012d731137d6ae60165d124d9eb541203d4d013
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 16 00:11:13 2012 +0200

    Move x86 Stalker into backend-x86 and add boilerplate for an ARM Stalker

commit c416bb288a23f1d10fc5c696af02897077bec9b3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 15 17:03:09 2012 +0200

    Restrict replace tests to Windows for now
    
    Suspect there's some FPU state clobbering going on.

commit 93eb7e2cce8638683ed11459aaa69a740b3e483a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 15 16:42:15 2012 +0200

    Add Linux-specific API for enumerating ranges of a foreign process

commit de883f2f3807d5ad365ad995cb2d688b82c23f78
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 9 19:07:18 2012 +0200

    Add a temporary workaround to Interceptor's replace_function test

commit f2444f109057277fbc77bf6940d414d038bb073b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 9 19:04:53 2012 +0200

    Replace Interceptor's GPtrArray usage with GumArray to avoid the system heap

commit 9267bebc13061b814aa071b4efefe5ab09f254e2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 9 19:04:24 2012 +0200

    Bring Linux symbol util backend to the same level as the other backends

commit b407317e9ab950a19f7832f6c185a79fedca0c2c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 9 19:03:17 2012 +0200

    Update system module name for Linux

commit ec4fd2b4ff1976c4eed3ad82d89a617071ef0834
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 8 21:18:44 2012 +0200

    Fix gum_darwin_enumerate_exports by taking slide into account

commit 47dbcdc1f49a5796c21ef18a82f9cc74f56ab5ba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 8 21:18:11 2012 +0200

    Only enable S64/U64 invalid read tests for 64 bit builds

commit 56ff08a0f2501b406d8aea95e952c76ad5d92cb7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 8 21:17:31 2012 +0200

    Use rsync for transferring files

commit 69a34ad19e3f8386a7f83d466ec34eff84d2eb9e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 7 00:28:28 2012 +0200

    Trap read errors during memory scan to avoid crashing the host process

commit 1176ee2ea1630f6a11fea23c3a6abe05e2aad1a0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 7 00:27:24 2012 +0200

    Fix a couple of scope/context and cleanup issues

commit b37c5ac161c55f5ac23221aad4939aea096a4655
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 7 00:25:07 2012 +0200

    Avoid sigsetjmp on Darwin
    
    It's not necessary on that OS and causes issues on iOS/ARM.

commit 160eaa71eca8147827da8b7f37afc936f4ab484d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 7 00:20:37 2012 +0200

    Fix Script leak in test fixture

commit 0cab4c5231589f51dbda7711de71978518759928
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 5 02:29:26 2012 +0200

    Expose architecture and platform on the Process object

commit f957f7844b7db23dfd786c2de8069284f3f6b8f6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 5 02:01:52 2012 +0200

    Fix socket type detection for bound sockets

commit b83ea659655b7ba8e5088e76849eca53c481c6c8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 5 00:04:46 2012 +0200

    Fix invalid statement
    
    Weird that clang let this one pass but not MSVC.

commit fa2cb876e84ba2e8bf6987f4e3fa53c4d4462f0a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 4 23:44:04 2012 +0200

    Add some missing pieces to the Script API

commit f93df465098a3a0cf1a9f9e24f156577b7e754b5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 4 23:42:50 2012 +0200

    Fix signal handler infinite loop on unexpected crashes

commit 73bbf709cff4cfe674ef6b930a0bb92d95633fe8
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Tue Sep 4 00:06:47 2012 +0200

    Disable guessing Unix sockets for Linux

commit 3e2987649d1026668a6aeb2d9e2734c416ed4762
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 3 01:15:15 2012 +0200

    Fix Script UNIX regressions

commit 6becae44d43666fdb1584aac3c85c7d155525435
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 3 00:59:28 2012 +0200

    Fix Script regressions on Windows
    
    Breaking UNIX on purpose, need some further adjustments there.

commit 5f841b247e20474d98c76cfba8eba7c0db544400
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 3 00:56:36 2012 +0200

    Add missing HandleScope to array free callback

commit 18de409f6f11e893b1652119da41b3e5ac98ac06
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 2 17:13:43 2012 +0200

    Add preliminary UNIX address inspection support

commit a65fa62926ef0e15a7e438b311bd68fe01a94c54
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 2 16:46:07 2012 +0200

    Add Socket.localAddress() and Socket.peerAddress() for further inspection

commit c55a976754e54b5587f768c45f8790048c78db6f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 2 16:43:02 2012 +0200

    Preserve errno across Interceptor's on_enter and on_leave callbacks

commit bcc468bb4104e98faed19f84751a5251c7911e21
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 2 02:05:35 2012 +0200

    Add Socket.type() for querying for socket type

commit 81d9315f88b450c6c1d0913edfd2af805ea9ed89
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 1 23:16:58 2012 +0200

    Fix Linux build issues

commit 918ae0e9894678887717a29e5fde2893a8853527
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 1 23:16:14 2012 +0200

    Make libbfd optional regardless

commit fd2dad1b8723e57cde1d1bcecfb55b2184a1e054
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 1 23:15:15 2012 +0200

    Use sigsetjmp on UNIX
    
    Otherwise the old signal mask may be restored after the first trigger.

commit 93f8716cb1f060af59cbecd57ee2b9926ad3b079
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 1 22:51:17 2012 +0200

    Provide per-invocation storage across onEnter/onLeave calls

commit 99e9b02ae8b6b0fe68f313122a9519cb584e1a50
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 25 20:01:45 2012 +0200

    Fix minor test regression in symbol lookup test

commit 2f31f8d2a26a7ff521102d0f31c3358a306adc9d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 25 15:38:53 2012 +0200

    Fix another Mac reference

commit 7bf6b03e13b64a8a35e4854d8dd1a94be999ed57
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 25 15:36:54 2012 +0200

    Adjust Mac wording

commit d5a188c78a3c2a68cd0ea637b435d7d06ee8895a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 25 15:32:43 2012 +0200

    Rename OS X references to Mac

commit 4b0e472710cdabb41dc0b1364debf1574a3901c4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 24 21:34:26 2012 +0200

    Add Memory.readByteArray()

commit d850e2593d5b5086e23976cf4f45fbe8d0cd1bec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 1 00:38:42 2012 +0200

    Fix GumScript exception handler for trapping write exceptions on Windows

commit c8e01caedbe3fb61b98a78d03b379b71f7cd33d7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 1 00:38:18 2012 +0200

    Fix Windows build regressions

commit f867f630e4c00d049d30301010d487313b0ca8fa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 1 00:36:32 2012 +0200

    Adjust code-signing parameters for consistency with Developer ID

commit 473ed7c5876c8a514342be6e03eeab43d461286f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 20:19:54 2012 +0200

    Shut down V8 when Gum is deinitialized
    
    Also pre-initialize it because we can.

commit 929708f88e90eed9cf2129332f5648a34749a433
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 20:19:13 2012 +0200

    Switch off Obj-C dependent code by default
    
    Including Obj-C code in a library means that the Obj-C runtime will block
    the shared library from ever being unloaded. This is obviously very bad
    when Gum is embedded in a payload that is injected into existing
    processes.

commit d1b0ffbcc321e0f7f0491bee47d3ec9900116a0c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@soundrop.com>
Date:   Sun Jul 29 02:20:45 2012 +0200

    Fix vapi

commit 7cc53c318cc4af50009a0302dbc5c030bbf47ddc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@soundrop.com>
Date:   Sun Jul 29 02:16:28 2012 +0200

    Fix warnings emitted by GCC for 32 bit builds

commit c798ec075f7e86b1a65fee813b05fc00c88242df
Author: Ole André Vadla Ravnås <ole.andre.ravnas@soundrop.com>
Date:   Sun Jul 29 02:09:42 2012 +0200

    Silence make when codesign fails

commit 6a9d6123cafc5d1727a407d0a970b1de9a4888af
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jul 28 23:34:30 2012 +0200

    Improve memory and symbolutils APIs
    
    Also add some Darwin-specific utility API.

commit 1db4b715d6f842eaa14bbdfd27ccbfaeb2d69862
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 16 03:39:06 2012 +0200

    Fix out of tree build.

commit 525660683a2d4ea5a47038b5f4aa194aafd92b99
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 26 01:09:12 2012 +0200

    Change Script runtime to trap SIGBUS on OS X/32. Ick.

commit 3b1bc321ea4b10fa0f830339d92c3edd050475cb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 25 23:56:37 2012 +0200

    Handle cdecl name mangling in Darwin backend.

commit 9416addd6e11079e4d6aaddc8d5256edf3c0e6f7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 24 07:22:51 2012 +0100

    Fix OS X check in configure.ac.

commit 7cc64004dcc2b71bf95676404dac086e0bf415fd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 24 02:10:39 2012 +0100

    Bring back libstdc++ dependency for now.

commit f7cd3f11e4a8ff2390bcf2e8c7f7ff70a66c64fa
Merge: ba26cc07 2ebd2b38
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 14 02:51:54 2012 +0100

    Merge remote-tracking branch 'ieei/darwin_x86_64'

commit ba26cc0718e3803deb916d682b6716151aa44318
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 14 02:50:46 2012 +0100

    Fix Android check-gdb target.

commit dc9c7f77cbef5f63cb34b51fcb5632eace8aaf20
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 14 02:50:34 2012 +0100

    Remove libstdc++ and adjust so build environment may add such flags.

commit 4a8486bd634885a1af57ba27920d04168cfd2774
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 13 03:20:48 2012 +0100

    Fix V8 automake conditional.

commit 176ccba1d6748eca233ae4e2ef0ab82bf4a2726d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 11 00:15:20 2012 +0100

    Disable module base and export tests for Linux backend for now.

commit ff826dd1cb025fc72f4a697874b867cf53a024af
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 11 00:14:56 2012 +0100

    Don't build gumpp for Android.

commit e2ef55dc3982ee72e73454fcbe669a23199c3386
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 11 00:14:17 2012 +0100

    Adjust Android Makefile rules to not depend on busybox.

commit 2ebd2b382d28d6011d3153465b1fc935d4b967b6
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Feb 7 17:49:48 2012 +0100

    Add Gum NS/Cocoa backtracer.

commit 1ebf7ddc0bc82b5ca7e8eb514492314949b18a66
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Feb 7 15:10:31 2012 +0100

    Fix darwin symbolutil by not requiring source info, only symbole info.

commit 8536bd2e1f7c6dc9a32632c4781ed6c125d27f4f
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Mon Feb 6 17:54:22 2012 +0100

    Make pointers volatile so that GCC doesn't optimize out malloc/free calls.

commit 7d6a71862c6d735621b15352408c087c299c0044
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Mon Feb 6 17:42:33 2012 +0100

    Only enable Gum.Script support when v8 is present.

commit 5154841d7e573a8e723ec5dc64dd4ebdcbeaf8c0
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Mon Feb 6 16:09:46 2012 +0100

    Add .gitignore based on Mercurial ignores.

commit 272414bf7f55dbddd151badfad1acc2a06ae7d5f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 23 14:29:37 2011 +0200

    Make Memory.scan() asynchronous.

commit a9bbc459be8337a1dfa8da3f456982ff335b177e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 23 13:46:44 2011 +0200

    Add basic Memory.write support to Script engine.

commit b10043daaf03759fafcdc80b334142f627481ed2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 23 01:20:30 2011 +0200

    Watch out for the appropriate memory access signal on iOS also.
    
    iOS < 5.0 used to signal SIGBUS here, but starting with 5.0 it is
    finally SIGSEGV like on OS X.

commit 95b9a04bf85ef798439e412e83f59dfd489801ee
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 23 01:18:05 2011 +0200

    Add workaround for unavailable header in iOS 5.0 SDK.

commit 0713b4b77be5edbbd966bf9e80ce48a51d8e77e1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 23 01:13:04 2011 +0200

    Add Gum.Script support for enumerating process memory ranges and scanning memory for pattern.

commit 05e0739d625ca29a54f61865359719716e2bf808
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Oct 19 14:31:45 2011 +0200

    Fix Memory.readUtf16String() on Darwin/Unix.

commit 551eb236241166b54b4ae6d63c919fa647ef5137
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Oct 19 14:30:21 2011 +0200

    Fix OS X detection of Lion.

commit 15a85e4666d141fae745f685a9a5c21bb336a1d8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 5 03:01:29 2011 +0200

    Add Int32() typically used for casting signed arguments.

commit 244601b2b5cf59537fbfc6f6f7cf7770cca8f52d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 5 02:39:12 2011 +0200

    Adjust Script string functions to return null for read*String(0).

commit 2d9ce576df02b91bd145e6508f0cba82fc0bcdcb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 5 02:30:21 2011 +0200

    Add Script support for reading strings that aren't NUL-terminated.
    
    Also improve unicode handling and robustness.

commit 3b35543678be93bccbd879f55159b665535c1721
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 5 00:57:11 2011 +0200

    Add Script.post_message() to vapi.

commit 94d20056f1b363fdd067abd7f8ce6f2bcff4189d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 5 00:05:57 2011 +0200

    Make vapi parameter name match the canonical name.

commit 4810cf53a71ccfc45fcfc973921e0cec499f00bb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 3 18:51:03 2011 +0200

    Update Windows build system to use new toolchain and SDK.

commit 677e9b8ae52a2dbcab864f530a46484c78ef152e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 21:57:37 2011 +0200

    Include extra libraries in .pc to get rid of build system hacks.

commit 1608a7915bd7041993aa9c15f52d9516d27f8179
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 16:49:01 2011 +0200

    Fix Windows Release build regressions.

commit b0098584d18cf15d6dad4d1db6414fd0d97f8b78
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 16:43:06 2011 +0200

    Fix Windows regression.

commit 208ab74d5cbad207b06f80970e8b551fe6b0b6d8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 16:01:53 2011 +0200

    Adjust invalid memory address so it is aligned on a 16 byte boundary.

commit aba16caf38ed70a2bb0199786d6d6043486ef3c5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 16:01:18 2011 +0200

    Trap SIGBUS on Darwin/ARM, SIGSEGV on others.
    
    All Script tests green on Darwin/x64.

commit 94725936f1fb620a830b5e2c9314c27156a996b6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 02:20:34 2011 +0200

    Fix format strings used for pointers to be 64 bit compatible.

commit d1f3085f42816733d4837be8bbd944b81f1266f1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 01:21:08 2011 +0200

    Remove module ranges are within module regin test.
    
    Doesn't seem to be the case on Darwin/x64 as some mappings may be placed before the module header in memory. Could need some further investigation though.

commit 26fe1d6745f205100156c4741efeece99d9ad7ff
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 01:13:57 2011 +0200

    Fix Darwin module exports enumeration for x64.

commit b22f5077f9faa503408da7e89a44f6e00cadeaa9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 20 18:29:13 2011 +0200

    Add missing file and remove trailing whitespace.

commit 0fb7b104c13c843b364c3827502199dc2a706403
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 20 17:52:17 2011 +0200

    Set code RX on x86 also, and clear CPU cache for consistency.

commit 8fc82c6ddbd8eefa9f9ee399c005708c49ca104b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 20 17:51:52 2011 +0200

    Clear CPU cache in Closure's ARM backend.

commit a3f462e413170391b3b8a144728b31c668c4f233
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 20 17:43:27 2011 +0200

    Implement gum_clear_cache() in Darwin backend and remove g_usleep() hack.

commit c29a41f74c56cdcb985541abff256879d80cf58a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 20 17:42:32 2011 +0200

    Remove left-over prototype.

commit 30a3f629380a4eeb8ee04cb72928c44121f69156
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 20 17:21:21 2011 +0200

    Make it possible to wait for recv() to complete.

commit 4c4d807b63c290d03f1cb0541448cb507301945f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 20 13:46:08 2011 +0200

    Implement message handling and filtering in js runtime.
    
    Also add console.log() for debugging purposes.

commit 79909ee5971e3d4cfabbf0ec09877b475035ed2f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 20 12:12:56 2011 +0200

    Move Script runtime out and generate it from CoffeeScript.

commit af377208fd61fe1d7c71d8dc8712889504ce1753
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 19 15:43:19 2011 +0200

    Fix Script UNIX regressions by porting access guard logic.

commit e472cfd5e803732579965f2171b98e88d6e1ad2f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 19 15:33:53 2011 +0200

    Make COMPILE_AND_LOAD_SCRIPT macro GCC compatible.

commit a7e969aa5878e5f7a8e320f9ba117df11b6691c2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 19 15:33:32 2011 +0200

    Only try memory access of address at 4 byte boundary.
    
    Otherwise we cannot reliably check the error message on ARM.

commit 9973cf26de3b5099bbbf062669862418b29f82cf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 19 00:08:01 2011 +0200

    Add first draft of test for recv() with message type specified.

commit 9cebb744a69045a0511ffa35f267a700f2f18f81
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 18 22:06:27 2011 +0200

    Implement message posting and reception.

commit bad2c7a36d14aca79bfee68717760cda2e9a6140
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 18 15:51:17 2011 +0200

    Add failing test and skeleton implementation for recv(), and isolated test for send().

commit 8e8ccdfb32e626e5fee3a7b0f9e0d70684be5c71
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 18 13:15:48 2011 +0200

    Trap invalid memory access and throw JavaScript exception.

commit 2fb5a5875afb6d0a4e108ac804fbc6705781599a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 18 10:19:17 2011 +0200

    Implement allocation of UTF-16 and ANSI strings also.

commit 6b21b24e4f9805bfde3630faa1cd7bc7a6c64535
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 14 03:37:02 2011 +0200

    Update .pc.in to reflect new dependencies.

commit 9d8c88a7fed32200e0b36f1660fc3cf3d58d5e1a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 14 03:28:26 2011 +0200

    Add v8 to list of required packages.

commit 52230832e89253d9cd503fa8f1c21c80f67d8405
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 14 03:12:05 2011 +0200

    Add support for replacing arguments and allocating UTF-8 strings.

commit b85a096312fc5a0e5eace030ad178a9ec5277d03
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 17:50:33 2011 +0200

    Update Gum.Script vapi.

commit 7abc21d9db39fa319b313178d10a8ffa716928cc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 17:47:49 2011 +0200

    Add Process.findModuleExportByName().

commit 1c8c3a0ec9e3e1f361927ad6fb043b8a9d6c4d34
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 17:15:03 2011 +0200

    Add Memory.readAnsiString() for Windows.

commit f6254eca370ed03bf0ea3e551557ac3c01c2cfcc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 17:01:15 2011 +0200

    Rename argument and return value read tests to be clearer.

commit 87f64278432b1126afb7e1e463480b891b289583
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 16:59:26 2011 +0200

    Add Memory.readSWord() and Memory.readUWord().

commit 55bb257b3498fb6fddf96ba84818f04ff9895e6e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 16:52:35 2011 +0200

    Add Memory.readS64() and Memory.readU64().

commit f419bbd2d7f2bbdd41a0abe139990896f88a3391
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 16:46:34 2011 +0200

    Add Memory.readS32() and Memory.readU32().

commit 0819dfd896260b4ceb06089cf1f925617dc9f854
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 16:42:52 2011 +0200

    Add Memory.readS16() and Memory.readU16().

commit 28297720afa2b4f95018bda4bcbb45e4b1afd75b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 16:36:10 2011 +0200

    Add Memory.readS8().

commit 5a4893e34df94f038212c47bee0073a8e79133c0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 16:31:44 2011 +0200

    Add Memory.readU8() and also add test coverage for Memory.readUtf*().

commit e733b0562ca3ddfa7771e44d548af7581c0ef368
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 16:04:58 2011 +0200

    Add support for onLeave and refactor Script tests.

commit 3a7acb8e3f15d482602c9cfec249ffda055051e7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 15:05:11 2011 +0200

    Finish implementing onEnter argument access.

commit bb3d97942d8ff013e9436692de3ebc329d264eae
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 12:02:39 2011 +0200

    Invoke onEnter callback.
    
    Argument list is still fake though.

commit abbac053679fcb0752ff289651b4438e866bb497
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 12 15:28:49 2011 +0200

    Start redesigning the Script API and behaviour.

commit 373fd1731f5b0308a6c01f26839ff4019ce9b76a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 12 12:45:15 2011 +0200

    Remove redundant unused argument suppression statement.

commit 6d66c7682b96048bcd291bc744cf19d6f8b8b1b4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 12 12:34:26 2011 +0200

    Add support for reading utf8 strings from memory.

commit 8eafdf0dfb433aed563dee0358ad683133b50c7c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 12 12:19:11 2011 +0200

    Add support for reading utf16 strings from memory.

commit 1c9f8a45c52f8c686445050b2362702a399b973b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 12 11:47:25 2011 +0200

    Add basic support for accessing argument list.

commit 79c4d7807a06891448fe257a0758c4e30a1f35ba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 12 11:19:53 2011 +0200

    Handle runtime errors and deliver as message with line number and description.

commit 449c5fd2388afb23180955c0bcb1037a3d19dffc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 12 11:04:59 2011 +0200

    Update copyright header.

commit 1f85af6e3864d27fe44e45d91b342c7fb8603c35
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 12 11:01:58 2011 +0200

    Box messages sent by send() so other message types can be added later.

commit d2717db46cf90e15954cc171c1bdae32a8511de3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 12 02:14:54 2011 +0200

    Implement send() so scripts can send strings.

commit 694d0b50fdd62d58a7241221ebc690f994be5f69
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 12 00:23:49 2011 +0200

    Start rewriting GumScript to use Google V8

commit ad6af23051e812dab8893caf595914774d2ca0c1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 11 23:36:55 2011 +0200

    Explicitly link against gum-32.lib or gum-64.lib depending on Platform.

commit 06097ad3d5541fd8189a85016798a0998ccdcf0a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 7 03:23:27 2011 +0200

    Add ARM backend for GumClosure.

commit 8892712488ba5f913fa002a6a3fe304ddbddce37
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 7 03:22:48 2011 +0200

    Add GumClosure files to UNIX build system.

commit d808967155a505ac3473baf4b34052c67d0ae712
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 7 01:36:31 2011 +0200

    Fix module ranges enumeration by taking vmaddr_slide into account.

commit d08c10e81dc36c9047f21a0c4b523c069153020f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 7 01:07:22 2011 +0200

    Fix module exports enumeration by taking vmaddr_slide into account.

commit a8fad1bee9b65df5472c36bafc8cde7a5b7fda2d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 7 00:57:43 2011 +0200

    Follow LC_REEXPORT_DYLIB and implement export by name lookup.

commit 8e035ed31f7ad83251b553af59ccd4ad50a39d82
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 6 23:07:28 2011 +0200

    Don't build C++ bindings on iOS for now.

commit 6f8cef5fab267031765f00d14dfa2507b15fd8d4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 6 23:07:13 2011 +0200

    Fix GumCallingConvention typedef for C++ bindings.

commit 88ce63d213f29104265fa0897f7da33d063aaff0
Author: Ole AndrÃ© Vadla RavnÃ¥s <oleavr@gmail.com>
Date:   Fri Feb 18 14:45:09 2011 +0100

    Revise Closure API to make bindings easier, and add vapi coverage.

commit d75ecddd6ff0cd9284b27340e53d777c974bd500
Author: Ole AndrÃ© Vadla RavnÃ¥s <oleavr@gmail.com>
Date:   Fri Feb 18 10:33:06 2011 +0100

    Introduce GumClosure for calling arbitrary functions in memory.

commit 6c522d1d52c5287f7af85f9f4fec4303758605ff
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 17 20:23:49 2011 +0100

    Add gum_module_find_base_address and extend test coverage a bit.

commit ce89320bf2213da03eeb02b4742b376e1c4c0f18
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Feb 13 14:15:05 2011 +0100

    Remove explicit FixedBaseAddress=false as this is now the default, as it should be.

commit f064d065e4278368d9287d516779f4569b3bb987
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 12 15:44:55 2011 +0100

    Clean up the conditional jump API mess, and add support for near JCCs.

commit d800b5cc4be345a67cbd7afa5565c982b0d88fac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 4 19:06:01 2011 +0100

    Add first draft of breakpoint support.
    
    Patch by: Haakon Sporsheim <haakon.sporsheim@gmail.com>

commit 2eb32a6f5203291f0d3eab18fd5f6e5b6b321306
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 3 20:29:14 2011 +0100

    Handle _gum_symbol_util_deinit being called multiple times.

commit f6ca592580533bffb9c0c6c032ba997b19e8a241
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 3 19:46:09 2011 +0100

    Build gumpp on all platforms, but fail to create BusyCycleSampler on some.

commit 68530cbcf755305b687c9c07e6e49b75b9049858
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Thu Feb 3 13:49:06 2011 +0100

    Use libc.so as test library for Android in /Core/SymbolUtil tests.

commit 0845cc6a8f4c446dd42ff9c5ee94ae6dd2c4cf2b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 3 01:58:07 2011 +0100

    Use an appropriate start address.

commit ea0793ba82da01756059ea1f2459060cd0b88658
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 3 01:50:45 2011 +0100

    Implement gum_module_enumerate_ranges in Linux backend.

commit 0433a471cc95c6f41f96a9914ece71ddcf5391e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 3 01:38:58 2011 +0100

    Implement gum_module_enumerate_exports in Linux backend.

commit 32b5146334e001a5303408b1377a45c14e91f2e0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 2 22:39:51 2011 +0100

    Implement gum_process_enumerate_ranges in Linux backend.

commit 2200c4b93b4aad08c1e6fecbf67591b49d5f267b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 2 22:29:25 2011 +0100

    Implement gum_process_enumerate_modules in Linux backend.

commit 461752798a3a67940c3f17606f31fe1a76d40b58
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 2 19:56:45 2011 +0100

    Add missing include.

commit 3d470c53857ea45fae9d743742a9a4aa76096239
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 2 14:29:13 2011 +0100

    Add stub implementation of gum_clear_cache in Darwin backend.

commit 81086a4448bc09213d19db818afe95b652c96b12
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 2 04:21:08 2011 +0100

    Implement gum_clear_cache on Windows.

commit 6926a4ddc8609a2070e5a71cdf55b538bf1973b5
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Feb 2 04:12:49 2011 +0100

    Add missing symbol util stubs in linux backend.

commit 0039740e36a80c43fb0d9eb977fe1980ef6932e6
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Feb 2 01:26:41 2011 +0100

    Make use of gum_clear_cache.

commit c4cb8a4c885caeb656cf875dad16ea213a001915
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Feb 2 01:25:37 2011 +0100

    Add gum_clear_cache for clearing instruction cache.

commit 28cc56fcf5bf637b2dca3fdbdabccf0f799b64d3
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Feb 2 01:21:34 2011 +0100

    Dont build gumgccbacktracer for Android.

commit e4a91a4fbd56c54a681b4ab23e7cdc4b5b7d915e
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Feb 2 01:19:47 2011 +0100

    Improve Android build environment.

commit 31897173d235812f0905f43a4fa1fb364df9e3b1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Feb 1 12:09:06 2011 +0100

    Loosen up Backtracer GUM++ test on Mac.

commit c6b8866b2e4e71d70a26b86c77646ec17c9a960e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Feb 1 12:07:35 2011 +0100

    Get data dir even when libtool has generated a wrapper script and put us in a .libs subdir.

commit 7dee0f38361f86904bafa06c42bfad105ec9a6ee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 31 17:28:02 2011 +0100

    Fix UNIX build.

commit f71e133104305676ea92f1e13ca984035e04644b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 31 17:04:51 2011 +0100

    Add wrapping for Backtracer and ReturnAddress, and some gumpp test coverage.

commit d9af5b4e4f742bb75c17231b734fe37919b1def1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 31 13:42:14 2011 +0100

    Update ARM backend to match new internal API.

commit dfef653715e087b09671f322d802ed3f95de243f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 31 13:33:43 2011 +0100

    No bindings on iOS for now.

commit 5a3be8e49b5ba26bfcf6d3be8224c5e40efb94dd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 31 13:18:39 2011 +0100

    Fix stack alignment on ia32.

commit 23ec39dda1005f2b3ebe3bc61db0e45b24d4a4ae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 31 13:05:42 2011 +0100

    Tweak return address trickery so stack looks normal to listeners on_enter and on_leave.

commit 93ac65f870eba9b14d4bd024583ee71817d661c7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 31 13:04:31 2011 +0100

    Add support for Darwin's libc.

commit c0dfb9c6bb38da29cfbd0cf5dcdb55eeb66eba96
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 28 19:28:43 2011 +0100

    Fix silly Windows regression.

commit 41a0cdea5440a11483409ec592669c6fad5d8c9f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 28 17:52:43 2011 +0100

    Only export public gumpp symbols.

commit e0a6375d0d533887f1e1ef63b50ee9c5fa9e3853
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 28 15:31:45 2011 +0100

    Add and install pkg-config for gumpp.

commit f9730e8b0728696065ec9d4c985fa2dfbfa8bff9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 28 15:23:48 2011 +0100

    Build gumpp on UNIX also, fix GCC compilation and port BusyCycleSampler to Darwin.

commit e3051494ad2a7ec2b4ba28bac2758b8d197123d5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 20:23:46 2011 +0100

    Disable symbol backend code entirely when building without it.

commit 5aa1840518ddf86060acb0d49aa95b2733561954
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 20:17:58 2011 +0100

    Fix iOS build and disable symbol and backtrace support there for now.

commit e1c8eee01f8c9cced95d24ed4538ee74ba832ae9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 19:53:13 2011 +0100

    Pick a register that doesn't get clobbered with any ABI.

commit 30c313ac1249d8b1b4e4bce4426ec3f02b19df3d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 19:47:01 2011 +0100

    Bump slice size.

commit 4404d790b665097680d88cbd855a2ba820cecbae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 19:43:51 2011 +0100

    Fix warning reported by MSVC.

commit ac6ae1b929426d98babad9a033a03534145b1633
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 19:41:57 2011 +0100

    Fix register clash on Windows.

commit e7df0e755c58dc24287c25f13844390ada4513b0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 19:33:59 2011 +0100

    Fix stack alignment on amd64.

commit 3a30b48c408390bbb1430c10c98fb6bae09893c7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 18:45:06 2011 +0100

    Implement relocation of call-next-instruction on amd64 also.

commit 5173789fe8773b9055d92ba8852e7192d1bd3cb1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 18:38:55 2011 +0100

    Add amd64 portion of call_near_relative_to_next_instruction.

commit 991ad072b8694190fefad2ce417e59ddae7e3001
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 18:21:51 2011 +0100

    Fix stack alignment in on_leave() in case of stdcall.

commit 19f80b7a146b670407f2ca9a3088870fa5e5e5d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 16:50:11 2011 +0100

    Rewrite call-to-next-instruction so Interceptor supports typical PIC functions.

commit ad2a668045cc7b7352643b369d54e046ae7f8ae4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 16:19:08 2011 +0100

    Most tests green on OS X/ia32.

commit b1373dfab2938f04db1f9fcaaa14704d980fd544
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 14:29:24 2011 +0100

    Only reserve space for register spill on amd64/Windows ABI.

commit 9eca7f33c51e9bc0ffa7ca2b03e35c630637a9b3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 14:04:08 2011 +0100

    Fix warnings reported by GCC on OS X/ia32.

commit b122f64b7a45a405fa9204956e891ff35de093bb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 13:35:59 2011 +0100

    Fix regressions on Windows/amd64.

commit e49d0b145fb5a1243ae0f5632bb13b2360e2eecd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 12:41:46 2011 +0100

    Fix leak.

commit cdc294e332740e1de2757de04e1d1bb3c0ffb00f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 12:26:13 2011 +0100

    Optimize tests and make AllocatorProbe init faster by extending SymbolUtil API.

commit 7dee50bd8113f45db2f506a6f5fef15da5473bc2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 11:48:31 2011 +0100

    Dramatically speed up Darwin backend's gum_alloc_n_pages_near().

commit 8e11f38e2139f41578515b1e2d71014958ead6ad
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 26 19:49:30 2011 +0100

    Loosen up on the backtracer tests on non-Windows for now.

commit c395c256013f15dc6c96a93b31b7c839400a040e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 26 19:41:55 2011 +0100

    Revert back to generic x86 backtracer.

commit 0ae39c4da01b9af894e30fa2cc78203429a9b4ab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 26 17:25:24 2011 +0100

    Add experimental libgcc-based backtracer.

commit 92ac1caf5401a51f16a60ba778f8f577158a8a5b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 26 15:06:40 2011 +0100

    Improve test resilience to OS threads invoking APIs, and fix BoundsChecker-related tests on Mac.

commit 9bbfb7d8e94ffde7e202001e4125adb45cf1d93c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 26 13:12:54 2011 +0100

    Add Interceptor API for ignoring other threads, and rename existing ignore current thread API for consistency.

commit 03f4abc16deb6d08521c321956facc6fe777f5b3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 22:42:55 2011 +0100

    Fix warnings when building with MSVC.

commit 94e51e34cfaa323c94b884e64097e4447bae75d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 21:21:33 2011 +0100

    Fix CycleSampler on amd64 System V ABI.

commit e8af63fce327758464cd402bce585802d16f7b82
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 21:21:02 2011 +0100

    Make ia32 mapping consistent with the rest.

commit c73d0b5dc6f3aceb460f9873aa8042c485dc1673
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 21:10:35 2011 +0100

    Fix distance calculation (oops).

commit bef3f7c95da61baaf146616302591ccf00e92a9d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 21:09:52 2011 +0100

    Assert that we never write more than expected.

commit b3e9fdbef1a25889f39019185cf67acd7d2ab598
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 20:09:46 2011 +0100

    Enable heap access counter on all OSes.

commit d936d37ecd7c8c4002daa57ab044a2b68aeec5de
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 20:07:44 2011 +0100

    Implement remainder of SymbolUtil backend on Darwin. All SymbolUtil tests green.

commit 00a187b70a98b22feb95530afc031f3dae75ffc8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 19:22:54 2011 +0100

    Backtracer basics test green on OS X/amd64.

commit 758a084049ae2a6c583545f9713081a13ef48810
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 19:22:21 2011 +0100

    Add and adapt headers for additional Symbolication parts that we need.

commit 2168be4d5fe34a72beb17c2e6d16f2f1dc8bc2cc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 16:38:31 2011 +0100

    Turn Darwin symbolutil backend into Obj-C.

commit 2b28597feb21a4e13d915e49bb24bd1522da0a4b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 16:37:48 2011 +0100

    Add VMUSymbolicator header generated by class-dump.

commit 458c6e98a10731185d5b0c5b10764de0709efb70
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 16:06:23 2011 +0100

    Fix up X86Backtracer so it builds and runs.

commit 223773ffb0c805d5f97c879a8c556be5ca9b5bba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 15:19:39 2011 +0100

    Enable backtracer tests for all platforms.

commit 70aed598596a801b5edde29cfd5187801324a8dd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 15:19:18 2011 +0100

    Use X86Backtracer on x86.

commit 880eb3218a7b74cb745d6ec7486fd6cccde1f1a4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 15:17:53 2011 +0100

    Rename GenericBacktracer to X86Backtracer and move it where it belongs.

commit aedcf42ce693c9e7df5a3faded2484c1a0edc5be
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 21 23:51:39 2011 +0100

    Add Script support for sending GUID, and handle invalid scripts.

commit 8b65487dc427dc61360e164952a89543bded8851
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 21 22:55:24 2011 +0100

    All tests green on Windows.

commit 0a2531599e99ffb5c75a4f239dad2e94a70c7aa6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 21 22:37:09 2011 +0100

    Fix warning.

commit c421b312257d5a507de3966f317084c3cc8cc910
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Jan 19 01:53:09 2011 +0100

    Apply similar sleep hack to UNIX backend's mprotect() and update comments.

commit 107e34e45ecce7e7c8dee4ad6bf9cf006cd94c7f
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Jan 19 01:51:58 2011 +0100

    Also disable backtracer, heap and prof tests on Android for now.

commit 6078ed52e13a3d8928dd0cf283c6ed7ad21564bb
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Jan 19 01:51:31 2011 +0100

    Use RTLD_NOW for now, until Interceptor handles PIC trampolines.

commit 2c02f8beb190ddbab739f0ffeec774fb65e663aa
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Jan 19 01:49:42 2011 +0100

    Fix relocation of LDRPC, was missing a de-reference.

commit 180b2187bdbb44aa3bce13a7e62605fb2e176557
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Jan 19 00:22:48 2011 +0100

    Tweak compiler flags and add targets for Android remote debugging.

commit f0dcebe8532dd7d99bf46aead0ac344b12dffa10
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Jan 18 21:12:06 2011 +0100

    Add work in progress deploy/check target for Android.

commit f0cb6b94d88644d18eaa00d042929337cf6326b9
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Jan 18 21:11:17 2011 +0100

    Add Interceptor crash testing libraries for Android.

commit 61204dd1ea2b48e32884fa3e08c8693a5a988290
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Jan 18 19:54:45 2011 +0100

    Disable x86 and glibc dependent code on other archs/libcs.

commit 4ff6450bb35968704757f835128157760fed4510
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Jan 18 19:41:29 2011 +0100

    Handle libc with mallinfo struct, like on Android.

commit 634f0e8603ae0eaff6f3a6d14f9c92395285032d
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Jan 18 19:29:39 2011 +0100

    Only build glibc backtracer when libc is actually glibc.

commit c90d40f01aaa069702fc0511e12cf9964c478bc3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 13 20:15:56 2011 +0100

    All tests green on Mac OS X/amd64.

commit 36346fd8e7e374a5faad9c359aee2e0ab23739e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 11 02:22:04 2011 +0100

    Revive a bit more tests on Linux/amd64.

commit 26410e91980bd7918cb3cc7f6539df4225087d72
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 10 17:35:25 2011 +0100

    Fix silly MSVC/Windows regressions.

commit da598de8dd5cc4f3bc49363bd2f957aa53ab08e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 10 00:55:10 2011 +0100

    Optimize UNIX backend implementation of gum_alloc_n_pages_near.
    
    Instead of walking page by page from the near_address we now instead iterate
    over unmapped ranges and consider both ends of each if close enough.

commit d2fd866cba59b0a7129401f07781d98642951e14
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 9 18:30:19 2011 +0100

    All Script tests green on Linux/amd64!

commit 58874afe8213dbaf9fbf58c01f10cc53aea8ce60
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 8 17:27:04 2011 +0100

    First Script test green on Linux/amd64!

commit 65328a1e249a3193944b207bc00252ba1db3f864
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 8 16:59:40 2011 +0100

    All enabled Interceptor tests green on Linux/amd64!

commit 798c1c8a89751bf745c12f65efea3625519d19ab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 8 16:51:42 2011 +0100

    Limit some of the Interceptor ia32 tests to Windows for now.

commit 3600abcda4d89597a8c24b3045c5e1f8f849b0d5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 8 16:38:34 2011 +0100

    First bunch of Interceptor tests passing on Linux/amd64!

commit 9b3f285ab84dff68906f5ec1ff4c927c6022e34c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 8 15:17:44 2011 +0100

    Take native ABI into account on amd64.

commit 06848118e7f5a286395d5908f554be9af78cc804
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 8 15:09:16 2011 +0100

    Update copyright header.

commit 94262fa85ea64e04236ac66e8cdda36ff88f6351
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 8 14:20:37 2011 +0100

    Fix UNIX page allocation logic so basic tests pass on every run.

commit e1ec0f0faa0fade106e0ebf7a66cdf5809b806fd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 7 23:35:44 2011 +0100

    A few steps closer to Interceptor tests passing on Linux/amd64.

commit 8f0ec3157b86ff3fb1c61b816e3c4086d9e890ba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 7 02:01:56 2011 +0100

    Port test_util_get_filesystem_path_of_self() to Linux.

commit 826b097cff847ff44e05522636d9fe6897479edd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 7 00:57:53 2011 +0100

    Strengthen page alloc tests and fix UNIX backend.

commit cef539e3724587d12531faa9f2411f263e908c56
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 6 03:15:59 2011 +0100

    Poke at UNIX memory backend. Needs more work.

commit 4146dc4c750045ca944223f46459c5b8f6f8475f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 6 02:50:19 2011 +0100

    Add a couple of tests for alloc_n_pages_near(), and start implementing in UNIX backend.

commit 7581a76e27d754e6c522791564654aa696fb6d20
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 6 02:03:46 2011 +0100

    Fix warnings reported by GCC 4.4.5.

commit d59394a7fe8a8db94373359bbdadcaa46924082d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 4 23:42:49 2011 +0100

    Fix POSIX memory backend and improve test coverage.

commit 72d41fd8a74e8ebf58fe49857637d178c5a32fa4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 4 23:09:25 2011 +0100

    Fix Linux build.

commit cc5af4109b7efe211bfd372238d2b07ef569bf98
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 29 02:54:47 2010 +0100

    Fix memory scanning so it doesn't match the match tokens themselves.

commit 79bcb7e00c3b790df449a95e6241ac633aa63b95
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 29 01:59:52 2010 +0100

    Update vapi binding to cover new gum_process_enumerate_ranges() API.

commit b59d9867e4d9fcb761105eea763ecdda6148d865
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 29 01:59:19 2010 +0100

    Don't enumerate guard pages.

commit e35987d2b95b009646c16fd8f41f0b55b2dcb78e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 29 00:38:01 2010 +0100

    Implement gum_process_enumerate_ranges in Windows backend also.

commit 469c560347707227fb77a51d85836e4443378bcc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 29 00:08:34 2010 +0100

    Remove unused variable.

commit da270328ea1dafbb26e889aeccf5cca5b47c578b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 29 00:08:18 2010 +0100

    Mirror the same symbolutil behaviour on Windows.

commit fb10f2ea33a8cc5e667e16971d2861db07de5d79
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 28 19:22:39 2010 +0100

    Add gum_process_enumerate_ranges and implement in Darwin backend.
    
    Also change semantics of gum_module_enumerate_ranges so all protection
    bits must match.

commit cbe9c84ed9e4392eebcea2a5dfaee3d057b6b72b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 27 19:39:24 2010 +0100

    Fix x86/MSVC build.

commit b28702baee043bd715400e55af7a9e6df73d309c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 27 19:13:37 2010 +0100

    Improve deploy and check targets.
    
    - Delete old files so metadata gets replaced.
    - Handle remote paths with embedded whitespace.

commit 8ebcebb329ee96841ab1acbcda518e2717b1d948
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 24 02:33:22 2010 +0100

    Fix ARM headers so they can be used while installed also.

commit cb16cc756c79227d0b3adf94b681b08a4f24552c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 24 02:32:24 2010 +0100

    Install arch headers.

commit 374a01bd70446042350da7f9ec6b542e0449452b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 23 19:56:54 2010 +0100

    Fix libgum regressions on ARM.

commit 41caa6c165e4bb2ba90faf5027e473785595faa2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 22 22:48:18 2010 +0100

    Make it so empty scripts and scripts with no code in leave point cut are also executable.

commit 4a7dc025a7b94bd99a9e22e3e09365474f56d556
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 22 22:32:58 2010 +0100

    Support scripts that target the LEAVE point cut, and factor compiler out of script runtime.

commit b18878182f41b1769d275e06ec2d9d00f5d3a47a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 22 18:07:19 2010 +0100

    Add InvocationContext.get_point_cut() for future use in Gum.Script.

commit 49575525b97aaf7af94c1d594d56cc824739c499
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 22 17:28:48 2010 +0100

    Add support for sending return value.

commit 5279fdc0a9de70a290984861f10d498de3c055af
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 22 17:04:48 2010 +0100

    Rename Script tests so each describes the intention.

commit cb9bdf1085458d61c50e2983d9feb0fc8bd39d8d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 22 16:44:04 2010 +0100

    Change Gum.Script's syntax to look a bit more C/python-ish.

commit 4253dfda7298cfcc1ffd85475c2602aba7f5e9fc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 21 03:09:19 2010 +0100

    Implement gum_memory_write() in Darwin backend, and add test coverage for both read and write.

commit 8ce6ee32a2c7f01c4e56d04e8644137b5ecf5e64
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 21 02:44:05 2010 +0100

    Only build udis86 on x86.

commit 41b0587e2289366db9cf1d9433e7ffd22a6ca8d6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 21 02:41:14 2010 +0100

    Build prof tests on UNIX.

commit db4a00e0003588f98c08735ce0085ad395c6b39d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 21 02:32:01 2010 +0100

    Build heap tests on UNIX, and make some of them pass.

commit 542e86457c021b1beae3ec137b64bc4e02670779
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 21 00:59:06 2010 +0100

    Implement gum_module_enumerate_ranges in Darwin backend.

commit 6c0b35db53b276e846f0f2ddd5f88b44c6d00e85
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 20 22:06:17 2010 +0100

    Add heap and prof files to UNIX build system and restore build on Darwin.
    
    Next up is getting tests to pass again.

commit e1d42ca3963b109433628ea9a282a82902b9409f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 18 16:06:48 2010 +0100

    Update vapi to match new GUM API.

commit f1d3de041065a725cb3dcf61ea6bfc34414f458b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 17 17:00:33 2010 +0100

    Fix SanityChecker leaks and make it handle multiple checks at once.

commit db6db72d88fad1947f59b632ec8331b2b18afb76
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 16 14:48:01 2010 +0100

    Simplify Interceptor wrapper.

commit 3a63ef6ea98810f19049dbb6c465edf1614bc126
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 16 14:05:33 2010 +0100

    Rename user_data argument names Interceptor's attach and replace API.

commit 6b6983cb73fe95a7525dcf1c4b0ee1d3c484b393
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 16 14:00:58 2010 +0100

    Update gumpp to match new API.

commit b81d6afcedca1c9eca60da2e4c179109a2053ebc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 16 03:07:28 2010 +0100

    Move memset to make things a bit clearer.

commit 5c9c237cf57f8e6d782bf4ad5af395d6ee7d5b95
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 16 03:04:53 2010 +0100

    Fix Profiler regressions.

commit 12dc97391e6f7fdedd2f3ccc624976cf08037063
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 15 21:40:41 2010 +0100

    Remove dead Interceptor code and fix up test and implementation to align with new semantics.

commit d37e3609448ea813f30a1415a839d1437e92709a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 15 14:46:44 2010 +0100

    Fix BoundsChecker regressions.

commit 8823f746ef60272940fa191372a2ef16f80fbab7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 15 14:43:47 2010 +0100

    Fix CObjectTracker regressions.

commit 6df9e8e8774df087abbe1c3ebe52eed1acf02ae9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 15 14:36:52 2010 +0100

    Fix AllocatorProbe regressions.

commit 97adc4727013cb6a9701dfae305965d420b4d873
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 15 13:39:45 2010 +0100

    All Interceptor tests back to green, new semantics fully implemented.

commit 717011e53243154b71b87e1e6e9bf926338b25fa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 14 18:44:08 2010 +0100

    Start simplifying InvocationListener and InvocationContext semantics for most common use-cases.

commit d3923a17d6caf1b0d06a73923f1221766777373b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 14 13:31:56 2010 +0100

    Add convenience templates for getters.

commit 0a7f5c9a99e879cc90f9e96f6679c51fa07d3c17
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 14 13:17:20 2010 +0100

    Make get_user_data() a bit more convenient.

commit b6b9ac03ad1e2a44da21fe220eac7627997dae0c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 14 13:00:25 2010 +0100

    Add get_function() wrapping and constness.

commit cbf9e2672908520bc85e444fa72aad3b3e027585
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 14 13:00:05 2010 +0100

    Fix Release build.

commit 9399fe7b567bb5fb9522064b79126002ebca1012
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 13 18:54:27 2010 +0100

    Optimize AllocationTracker's backtrace mode so it uses 46 bytes per allocation where it used to eat 41k.

commit 640bfb9170667bba927e9d7fe72d3e7872c427a6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 13 17:04:19 2010 +0100

    Strengthen AllocationTracker memory usage test coverage and fix leaks.

commit 3071079acf2224335efd2927c31391ad43dd14f8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 9 01:14:35 2010 +0100

    Set subsystem and dynamic base address.

commit 8770b3293058b8bfa03d4a6b31e153e8d08251fa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 8 00:20:16 2010 +0100

    Add gum_memory_write and implement in Windows backend.

commit e575ce4cce88b234f64545ce6c4d9a12887d4050
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 7 17:50:01 2010 +0100

    Fix SanityChecker C++ wrapper binding for heap_api=0.

commit 3376abe574e34aa9f5020c12d979bed70d7fd233
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 7 15:58:52 2010 +0100

    Fix lack of constness and tweak RefPtr naming.

commit ebd4f847181c0e0fa85fddae332cb02214d6c6cb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 7 15:02:56 2010 +0100

    Improve SanityChecker's backtrace config API.

commit 5ba500562f97634341431e694f759b041f9f46d5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 7 14:53:01 2010 +0100

    Add API for setting front alignment granularity on SanityChecker's BoundsChecker.

commit b4069d05c46dca633138ce70c879398cedb09b68
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 7 14:34:06 2010 +0100

    Add gumpp coverage of gum_sanity_checker_new_with_heap_api().

commit 8589add0e485398a4324510f3b047f70aa053fa5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 7 13:58:34 2010 +0100

    Wrap up consolidation of heap api lookup. All tests green.

commit 068a2e84c5341bb5d136485c92406636c50f0361
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 6 18:10:38 2010 +0100

    Start consolidating heap API lookup.

commit 98eac876e74e6502ae6b5978ef0969b7f20a8db6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 6 10:35:06 2010 +0100

    Fix PodWrapper destroy semantics.

commit de136f38a76ebcb7135465c577a5a7fd9395707c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 5 03:17:37 2010 +0100

    Add vapi coverage for MemoryAccessMonitor.

commit 1a38d47d10aae2f3faa58a61bae701c8c94fd412
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 5 02:26:46 2010 +0100

    Strengthen progress test a bit.

commit 3fd39eb511ee65cbb7a6e36651cef4efb1376583
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 5 02:16:03 2010 +0100

    Include progress in MemoryAccessDetails.

commit 322aacaf2f9ec1cf1d216820917db174359a81a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 5 01:58:21 2010 +0100

    Make it so MemoryAccessMonitor reports R/W/X and address and doesn't swallow execute accesses.

commit a70b6674a1abace9a0e82d783ac839e4bc95306c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 5 00:43:03 2010 +0100

    Add basic MemoryAccessMonitor implementation.

commit afdc4b9a37e1feb02aa3f0a778b3be1315810951
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 22:31:14 2010 +0100

    Make it so gum_memory_scan() stops enumerating when callback returns FALSE.

commit dc102d56819904fc8f013de1a02825b0153edd76
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 22:29:00 2010 +0100

    Fix leak in PodWrapper.

commit e93b51e2df838506e093627edf52afc1f2bc0977
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 22:12:59 2010 +0100

    Add vapi coverage for Module.enumerate_ranges() and Memory.scan().

commit 2ae5075a2404abe29a5b1a738792cb35cef83449
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 22:12:24 2010 +0100

    Tweak API slightly so binding to Vala is as effortless as possible.

commit 7b447fa6ac4728626e14740b388b1babc249e990
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 16:57:46 2010 +0100

    Add FIXME about SanityChecker's bounds feature being broken.

commit 67f2a9b6ff14358c9039197da8649fa3da877ec5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 16:56:39 2010 +0100

    Make it possible to enable backtraces for blocks of a specific size.

commit 4b00173e427a307a7b19a803be2a031862b356e5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 14:38:29 2010 +0100

    Add API for registering additional malloc/free functions.

commit b2cd75dada8f09e1936e1ebac10e76941600b594
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 14:27:23 2010 +0100

    Empty return address array before adding entries to it.

commit 309d920bd5926dd16dc894271938a767a3a49353
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 14:19:38 2010 +0100

    Change semantics of filter function so it only decides whether backtrace should be made.

commit 30062e7199621f073ec9835738ad1618acbf024c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 14:02:14 2010 +0100

    Bump thread count limit.

commit 2492678c961fbac8064c13b69fd9d45e0a6cb7ca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 13:54:36 2010 +0100

    Update to latest DbgHelp (6.12.2.633 - February 26, 2010).

commit 6de0839070a3f5095140165ed73b73637a2de95c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 09:35:07 2010 +0100

    Remove user_data from InvocationListener wrapper, and expose accessor on InvocationContext instead.

commit c4fc6f087af5e091bc3a2f1a4badbf2fd551f850
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 00:19:52 2010 +0100

    Add gum_memory_scan() and refactor a bit.

commit dd50c40bf64936228122dc66f1b739417e7b8572
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 2 20:07:13 2010 +0100

    Add gum_module_enumerate_ranges and implement it in Windows backend.

commit 21fd19a40d243084ae66df4626382fd8fdf23975
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 2 17:45:39 2010 +0100

    Cover remainder of Interceptor API and finish CallCountSampler wrapper.

commit 68d436ede2ef769730f0f8df0ac04f8bed6a0384
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 2 17:44:50 2010 +0100

    Add valist constructors to CallCountSampler.

commit a16af1d666b651676bb8a3601adee736fa8d69df
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 2 13:03:59 2010 +0100

    Beginnings of Profiler bindings, and some refactoring.

commit 52dd680629cb21e95ec5754ef34cb8412aa9d196
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 2 13:03:27 2010 +0100

    Add user data to Profiler callbacks.

commit f79d741ea39edaafb19565b56ae78f401d72cfdb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 2 09:49:21 2010 +0100

    Move heap wrappers to the end, core at the top.

commit 18c54b693149c7ed8f2f93fc4487ebf516e37dd0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 2 09:45:23 2010 +0100

    Move RefPtr to the beginning of the 'utility' section of the header.

commit 6ef76850c28bcb5a7ea9ac70ff5b61e8eac1d916
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 20:48:14 2010 +0100

    Remove listener array spinlock for now, it burns too many cycles in a typical application.

commit 61da06ec4d10d6141ce7db56498d4ad7180021c7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 20:29:06 2010 +0100

    Reduce typical AllocationTracker memory usage per allocation from 40k to 19 bytes.

commit 5cd789916fb84baaf820416ec086d20338c7af4e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 18:41:18 2010 +0100

    Add suppressions for all loaded GLib libraries, and cache suppression list.

commit 18958dbb97d8dce22057788c55b2673eb5dfecce
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 17:37:47 2010 +0100

    Make SanityChecker ignore GParam-derived instances by default.

commit faad46da09ce818a3acdb174c5d583441c461e68
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 16:47:23 2010 +0100

    Make it so SanityChecker uses the same vtable as InstanceTracker.

commit 1e9d88a1e3912ce984849ca86e13ab5be1b96f00
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 16:32:48 2010 +0100

    Look for GObject library dynamically when no vtable is specified.

commit 4ba9467ddb497cd3e5a057d2befe49a01312f1d5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 16:12:44 2010 +0100

    Remove locking from AllocatorProbe, it isn't needed.

commit c119d59374fc00fa2ff93ab375ed45dd6101ee1d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 15:57:49 2010 +0100

    Don't show allocation groups where no blocks are alive.

commit 7571f99d602a55fe3334bff2d5e78efe86fdb03e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 15:53:32 2010 +0100

    Instrument allocators of all loaded CRTs.

commit e576f3afb9a3609337b08f538ed16c8d5e52b7fe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 14:36:21 2010 +0100

    Switch to GObjectish C++ style.

commit bfefa6a1301b7d444dabf3847c003e6792dc8773
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 13:28:01 2010 +0100

    Wrap function by name lookup API.

commit bf6a2d848cdfa2b61e8b17fb2cf9f51fe5669c85
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 12:33:58 2010 +0100

    Add basic C++ bindings for GUM.

commit 7753cc8e89927f6edac9301f89d1bb1bcfe43cd0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 30 11:12:00 2010 +0100

    Add support for running sanity checks standalone.

commit 7ee73495b3043e58da60da0cbc954cc5fca6fa8d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 9 17:09:20 2010 +0200

    Fix regression caused by switch to mach_vm_region(), where we should have used the new data type as well.

commit ba273bc91e172a11f886fee2aea6e0a665291cb7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 9 16:05:37 2010 +0200

    Fix libgum build and warnings on OS X.

commit 4b7b36804c1b538845f6aab6a47a5ce2e3f4fdcd
Author: Johann Prieur <johann.prieur@gmail.com>
Date:   Thu Oct 7 23:56:49 2010 +0200

    Start porting to Linux.

commit b15abebc92839a15597d7b9b92a96dceb98a8356
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 6 01:53:16 2010 +0200

    Add Script support for sending byte arrays.

commit 42b9c1505d6352359f4970060940cdfeb5802cc0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 6 01:06:30 2010 +0200

    Interceptor now supports ARM as well as Thumb! \o/

commit 7722121781b74197a15234f8b2777271f55fe7e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 6 01:05:40 2010 +0200

    Extend ArmWriter and ThumbWriter with skip().

commit 5046b969ddc32f95cf0549c2aa638aadd93377af
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 6 00:02:23 2010 +0200

    First ArmRelocator test green.

commit d3029d0e7eb252a5000f4e84ee5a906e18622f53
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 5 23:34:38 2010 +0200

    Add test coverage for ldr_reg_u32 with reg=pc.

commit 0e1a8b472ac259112b1ee1a11d94b9d5a864f0df
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 5 23:23:02 2010 +0200

    Implement ArmWriter put_nop() and put_ldr_u32().

commit 35862f0290092091895b36f10400c38bfcbbd7a4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 5 22:31:53 2010 +0200

    Add boilerplate for ArmWriter and ArmRelocator.

commit 0d12d313966470f3f6ecd2903831999d49881973
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 5 22:00:43 2010 +0200

    Add failing Interceptor test for ARM.

commit e3756c1e8844b2d17a7f871f6444ab6954e7ba25
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Oct 3 21:44:18 2010 +0200

    Disable warnings on generated code, remove most of the suppressions, and fix all warnings.

commit 27bfc1c42062a58cf5dd6f6418f49b93bf2442a6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Oct 3 17:49:20 2010 +0200

    Remove all warning suppressions and tune project files a bit.

commit 341f30c887927dababd845e7609abceb9adaa12a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 2 20:09:25 2010 +0200

    Add put_call_reg_with_arguments() to X86Writer and refactor a bit.

commit b8037bc755d2880af167e32ea7b74854ae9e7821
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 2 18:21:36 2010 +0200

    Add put_call_reg_offset_with_arguments() to X86Writer.

commit 9ad32119387061dc3ce0d7b940b3ecd8b21151b9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 2 04:06:03 2010 +0200

    Fix all remaining heap and object leaks so all zed tests are 100% leak free.

commit 985dad842c4c90aef5be9eab77582903433ebc5b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 1 22:08:33 2010 +0200

    Closing in on zero leaks for agent tests.

commit a10651684da5e71120510fccd5c3ec586e58a7a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 1 01:28:26 2010 +0200

    Improve Agent init/deinit, both implementation and tests.

commit 0ef44fd2c044d09165b1a35a82e25da4f2eaafae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 30 02:51:40 2010 +0200

    All GUM code with test coverage is now 100% leak free on Windows/x86.

commit 52edf99142eb3a59909cc9f290c1a31801f4a6ea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 29 23:37:20 2010 +0200

    Fix GVariantBuilder leak in Script implementation, and simplify a bit.

commit 3cc96218d52112985ddd811f5e44c51491cc2790
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 29 23:36:38 2010 +0200

    Fix heap leaks in Script tests.

commit 2cbf0b0f97008e8e6ae0124a41433c565771d624
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 29 23:36:16 2010 +0200

    Add call to g_mem_deinit() to clean up last leaks in GLib.

commit 5c4ccf1a938eedd2cf75e31f8375023558a66d4e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 29 23:29:55 2010 +0200

    Move file into the right filter.

commit 690f6c378bf328526a493804fc86fd7495480bbf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 29 02:06:40 2010 +0200

    Heap leaks be gone! \o/

commit 78170bbb5101f0344125f5d3ccc6a47f3d3c6b34
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 29 02:04:39 2010 +0200

    Initialize GThread first, otherwise g_type_init() will do it.

commit 9c3cf32d25c90f940c6ff39516eab87ebe3d0077
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 28 01:52:03 2010 +0200

    Add some convenience code for heap leak hunting.

commit 75db0cc623ec1a4d054ce7f34d93fa6d54024afb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 27 23:52:14 2010 +0200

    Fix object leak.

commit 9c68ace5201c141fa954d106cea7e349be6abcf3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 27 23:40:23 2010 +0200

    Improve cleanup and remove g_setenv() fiddling, and fix regressions hidden by g_setenv().

commit 26cd1d19855c2bfeef8a239e5e7466041bab592a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 27 22:54:38 2010 +0200

    Garbage collect Interceptor's thread contexts on deinit.

commit 478c43b33dcd64bdf68a9626535242e1046ae1e2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 27 20:59:43 2010 +0200

    Fix a couple of typos.

commit 3e5235c5b6c308181d320473e6ef3544b65740a9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 26 21:47:45 2010 +0200

    Add gum_deinit() and implement deinit of Interceptor.

commit ddb6396f1c5ad239221c02abac9f64b67a615c6f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 25 17:09:02 2010 +0200

    Update vapi to reflect ownership change.

commit bfd9c514599723401c510e7e2c4456910cd04238
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 25 17:05:17 2010 +0200

    Change Script MessageHandler ownership so handler needs to ref message if it wants to keep it.

commit 3693c6cc047279ec90c487bd2c7c139202c693b7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 25 14:33:38 2010 +0200

    Implement gum_memory_read() in Windows backend.

commit 464a9a12d2be963376358dbef48c0657045058fb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 25 13:09:08 2010 +0200

    Support argument access beyond first four arguments in Interceptor's ARM backend.

commit c1fd53fcf5b962484a2d80e9bb5f41a02e9899d0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 25 01:50:25 2010 +0200

    Make it so Script reports the actual code size.

commit 01b0428ccbc65cf6499f3754b7d86e7bcead868e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 25 01:45:32 2010 +0200

    Tell Interceptor to ignore our Agent's code.

commit 92afc197cd029582fe70756221cfc5398faf3406
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 25 01:28:00 2010 +0200

    Implement read_memory() in iOS agent.

commit 3ffff8907ada73616b710dfd22446a8e7ae9e1b8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 24 23:13:11 2010 +0200

    Fix Windows regressions.

commit 7d6de0c02c77ed1f51e75b1bcc132a2948fa3f74
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 24 22:58:29 2010 +0200

    All Script tests green on ARM.

commit 5c4fe9493e5b4c88bc65b17a1558d61e05f66c51
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 24 21:22:41 2010 +0200

    First Script test green on ARM.

commit 14db10d3b1c3b9fc0b80ab065b7fc73ba626ab5e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 24 01:17:01 2010 +0200

    Four more Interceptor tests green on ARM.

commit 88c6dfbae853abed90f9901f546de6b40047d457
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 24 00:51:32 2010 +0200

    Correctly relocate extended instructions.

commit bfb859db766bd6f7a76cbcbb955296a5fc1a669a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 24 00:38:18 2010 +0200

    Port Interceptor's ARM backend to use ThumbRelocator.

commit dacbf57eb0fa3d7e7f1bfeb1f967f593cfe8e1a0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 24 00:28:17 2010 +0200

    Parse/skip extended instructions.

commit 7bb511a5201b57ea5d8028477c85973189c4710e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 24 00:17:56 2010 +0200

    Support relocation of PC relative ADDH.

commit 20f3f9f9e88fc574ae6a56bd5e79153b549a0a1e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 23 23:26:17 2010 +0200

    Support relocation of PC relative LDR.

commit 00d82dc23d99081a20a703639b7011f01d3ebc53
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 23 22:28:46 2010 +0200

    First ThumbRelocator test green.

commit 3d1b249e8c8b7aaa9ae385a4874002173dcef126
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 23 19:34:32 2010 +0200

    Introduce GumThumbRelocator by putting a skeleton into place, and add first failing test.

commit 2331eea5abd9ad1a6341a61b2d3ad1fcb6898a9e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 23 00:30:10 2010 +0200

    Some more Interceptor tests green on ARM.

commit 2e48d9bacb3f065cf56dd5789c417de7ed5ea70e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 22 23:51:27 2010 +0200

    Seems like vm_protect() isn't sync on Mach, and vm_sync() doesn't help either, so hack around this problem with a sleep for now.

commit f016340eeb1ad654dc40dd4dbc2480aa4a5f3df6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 22 23:11:37 2010 +0200

    Improve consistency slightly.

commit b572a67602fc8133832714ca4ac1fdbfbb85f8cc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 22 23:11:18 2010 +0200

    Fix gum_free_pages and tweak the Darwin memory backend a bit.

commit 8bc61003aa7b4956cf79f1f5166841bdecb88ae5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 22 23:10:17 2010 +0200

    Fall back to hard-coded path in case tests are linked into app.

commit 0268c58750c61df407387a5b5a4c22cafc8811ff
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 22 23:09:40 2010 +0200

    Build a library out of the test runner as well, so external Xcode project can easily link it in.

commit 80c4f837194abddfd63d0bdd65f30181ea821343
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 22 23:08:59 2010 +0200

    Enable attach_two test on ARM as well.

commit 2aa3e6963d6c229211698214803bf5cdc0e2e906
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 22 20:44:09 2010 +0200

    Change prefix from /Developer/Frida to /Library/Frida to avoid conflicts with Xcode.

commit 12b7d60cecf3b3149381c36513c32c2bffcc78e3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 22 01:27:36 2010 +0200

    Implement on_leave() trampoline code and remove debug. First Interceptor test green on ARM! \o/

commit d728aab274821cd2dad6371a306ed854332703a4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 22 00:55:03 2010 +0200

    Fix on_enter trampoline bounce; remember +1 so we remain in Thumb mode.

commit 0aa553048b65832c39c076ae8d370cc1b77dd2e2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 21 23:24:43 2010 +0200

    Put remainder of on_enter trampoline code into place. Now it looks like we need a Relocator for ARM.

commit bfb44b823c120a83dbd6ca9c8d8e8d8ade35469f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 21 23:22:53 2010 +0200

    Fix silly put_bytes() bug.

commit 1d8e2cd39b59242280fdb34eec4044b60ce4d949
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 21 22:24:48 2010 +0200

    Refactor LDR and STR generation to share their common bits.

commit a7650cdf8ad45baa2b650b2529c3b64146a7aafe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 21 22:16:38 2010 +0200

    Add STR instruction, which is quite essential.

commit ec94ba026fbefdc66b6e36097cf16c9c1d200860
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 21 21:38:47 2010 +0200

    Extend ldr_reg_reg_offset to also support SP as src_reg.

commit 9993ce7a6de27d08aa3c90fccf1f59d78c9313f0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 21 21:29:46 2010 +0200

    Cover another LDR variant and add put_bytes() method.

commit eae59a99e0f09958a04bb17dc9915269c3577675
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 21 20:32:53 2010 +0200

    Replace hand-written ARM/Thumb machine code with ThumbWriter.

commit dcfd0505685f746a92c1932b3ba0821711e9f0ce
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 21 20:30:01 2010 +0200

    Add a couple of convenience methods to ThumbWriter.

commit 5077f8a253abf20e13f454e746905651e667a870
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 21 19:49:00 2010 +0200

    Add a bare minimum of instructions to ThumbWriter, should now be sufficient for using it in Interceptor's ARM backend.

commit 31e199189795b8b1aa514f4f661df0de8fea5132
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 18 15:09:41 2010 +0200

    Add early beginnings of ThumbWriter, to be used for ARM code generation.

commit ecf4c895a25dd8e54287be128f10baa9b9001460
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 14 02:08:08 2010 +0200

    Interceptor's ARM backend now handles flow all the way into on_enter(). Also move InvocationContext handling into backends.

commit f4fbe26dfb30e1fcbb362aecfc94108ecb6b8765
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 14 02:04:30 2010 +0200

    Disable CodeAllocator's pooling on Darwin/ARM, due to RWX being unavailable.

commit 0e2c1a4240344bdd92b67cf295a00a6ffc3b455d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 14 00:29:40 2010 +0200

    Add Darwin implementation of alloc_n_pages_near(), and switch remainder of backend to Mach API (instead of POSIX).

commit c830964c70b46819dbfdb691d24e11c7d983e14e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 14 00:00:46 2010 +0200

    Implement spinlock for ARM.

commit 6d9928c603e35b1dfe85c9b0b41ba22ab6be940d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 11 16:24:55 2010 +0200

    Tweak THUMB dump formatting a bit.

commit 08334032c6dd8515b32381210717b0cbd08c977e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 11 16:19:44 2010 +0200

    Add some temporary debug to Interceptor's ARM backend.

commit 614710e82f1690f7304e58b5d8a47404b76575a2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 11 15:43:08 2010 +0200

    Start moving target functions out into a separate shared library on UNIX. This is in order to isolate target function code to separate pages for platforms where RWX protection is unavailable.

commit b78b959706bdd1c07b7cf822868d36efe907a2e5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 10 19:29:42 2010 +0200

    Fix Windows regressions.

commit 4f4a39bab3ed8a64fd061c98bc028a45c29ed834
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 10 19:14:36 2010 +0200

    Prepare for porting Interceptor to ARM.

commit e9d9546872ceb8e796bc16c59c1ad1c0923b5c71
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 10 02:51:06 2010 +0200

    Strip one leading underscore from symbol names in Darwin backend.

commit 9b92eaf16c589bf2043e4bcff4a05211f4e40008
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 10 02:22:48 2010 +0200

    Implement gum_module_enumerate_exports in Darwin backend.

commit 011dbe8ba128020dc71da61542aeda612bbbefb3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 23:41:37 2010 +0200

    Implement gum_process_enumerate_modules in Darwin backend.

commit bf245dac6fe98e880b02dac9e97948805851489f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 19:40:42 2010 +0200

    Add Module export enumeration binding.

commit 2086eaa5a76b1f5f38b48ef179d76745e34e2377
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 19:40:18 2010 +0200

    Make SymbolUtil backend provide some dummy values in enumerations.

commit c2b1aac40beb44c19975a77b215fd4cc84f59874
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 19:12:16 2010 +0200

    Add missing public headers to build system.

commit baf33925fdf9cc40413bdefd5ff4fcd64216efb1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 18:57:28 2010 +0200

    Hard-code remote prefix for now.

commit 5b70916c22952d35436cf675da4b32846ef4c2d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 18:57:11 2010 +0200

    Update libgum.la reference.

commit eef6c85ee7b932b932599b3482347fa1dd802ceb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 18:46:30 2010 +0200

    Update project file references to vapi.

commit e65e6fff4cf0fd457a49bbbc2caca20498042eb6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 18:39:34 2010 +0200

    Define HAVE_I386 and HAVE_SYMBOL_BACKEND on Windows.

commit e026acfc931556de5099fa8ab214fb88814c2069
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 18:36:03 2010 +0200

    Improve AC_DEFINE wording a bit.

commit fb5cb8ff1ee2b4cab0a5ff63eb6f7256e47a447d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 18:34:11 2010 +0200

    Improve autogen.sh cleanup.

commit 6c193c95a98ecef73341264b5218faa6323539bb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 18:33:28 2010 +0200

    Introduce HAVE_ARM and HAVE_SYMBOL_BACKEND.

commit 70af2dff389697a778012e269c25c875a75ca835
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 18:32:47 2010 +0200

    Remove unmaintained OAH build system files.

commit df1b2bcd2a2de9e1937dc6780d1c3491c80cbe4c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 18:17:41 2010 +0200

    Introduce pkg-config, install vapi and improve build system.

commit 6fc7a594cbb7a181f17e91513a0b5d6742643cee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 16:18:36 2010 +0200

    Improve build system, add Darwin stubs for symbolutil, and make gum-tests link.

commit 08c5838e31c58d65e7b625e1806072f5a0141ddf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 15:56:27 2010 +0200

    Introduce HAVE_I386 and fix most of the build issues.

commit b5d522e419ff41ee16062447d988ec0ca4eb8f09
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 15:35:50 2010 +0200

    Bare minimum compiles but does not yet link.

commit d0eb0dff025ece517538d629cc95b0ae355bdf89
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 14:56:28 2010 +0200

    Add basic boilerplate for GUM UNIX build system, replacing outdated WAF infrastructure.

commit 67ea8b61aa74ba3b57007642042818a62d11e669
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 26 20:15:03 2010 +0200

    Rename x86 specific modules to reflect that they are x86 specific.

commit 49b7e1837d8db3b086d094c752c0ce05ba47e006
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 22 18:59:23 2010 +0200

    Narrow user32_{start,end} to fix potential crashes.

commit beeec12043e427f301805ebbb312950a89feeb7c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 22 18:58:47 2010 +0200

    Fix provide_thread_data() declaration.

commit 79d1c2d3e119b54a37c5ac70dcb97ad1d52c6d94
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 11 22:04:24 2010 +0200

    Add Gum.Script support for Send{Ansi,Wide}FormatStringFromArgument.

commit ccbd942b6534e7b99ee8b388a0953fe4e4bbd9fa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 3 14:36:57 2010 +0200

    Add getters/setters for BoundsChecker and add Vala binding.

commit 5a3a8c8b89f88445d4adb40220b54b518d2a525f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 3 01:22:43 2010 +0200

    Improve Vala binding quite a bit.

commit 28eae439346ddade71317e222aeef136f5e3796b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 3 01:22:13 2010 +0200

    Add gum_module_find_export_by_name() for convenience.

commit 98b5db42b44c607cb6057cf62b8eaf4952253d68
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 2 21:54:19 2010 +0200

    Move and rename filter function typedef.

commit 082b905044a8ead02c86fb4410e8ef7850d11fca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 2 21:43:36 2010 +0200

    Update copyright header.

commit 0e4ba4735b458c3956404d455fca192ed08a33a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 2 21:16:11 2010 +0200

    Switch InstanceTracker to begin()/end() semantics with optional vtable, add walk_instances() and rename peek_stale().

commit 1f56f696c0ab242234426513986ef6fcf07d456a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 2 21:11:56 2010 +0200

    Fix potential deadlock in Intercpetor's on_enter/on_leave.

commit 6e36f87a16228267530cb5b383bce2d4898b32eb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 2 21:11:09 2010 +0200

    Beginnings of InstanceTracker binding.

commit bc6e0f8acf4a280d55ccc9d29414b6c14a0d11ec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 2 16:02:40 2010 +0200

    Make a first call without instrumentation, and do bounds-checking last if no leaks.

commit 2e011ccad02df34e057ac19c237eb8ae68ea70cd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 2 15:42:00 2010 +0200

    Add block leak summary before details.

commit 4929973f530d1fbbbaf71925b161a0934d548854
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 1 23:49:30 2010 +0200

    Tweak test readability.

commit 9d48acdc48cee438ae4edccc96851de1d76d867f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 1 23:07:04 2010 +0200

    Improve output and sorting.

commit 993095745bf02e70a7c6249c69b2b7e91e2e6137
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 1 19:35:44 2010 +0200

    Make SanityChecker also check for block leaks.

commit 2dea6ad417d71309db95f5ba77b802909ca9d6d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 1 18:34:50 2010 +0200

    Correct reporting of zero leaks.

commit e95df134ebf1728d0bf7fb869d227e35e60746cf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 1 18:27:27 2010 +0200

    Beginnings of Gum.SanityChecker.

commit b304ac2b2b1dd851c4cfbd98f741cbdcb7fdbea3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 1 15:32:28 2010 +0200

    Move vapi inside a filter.

commit 5593a4195e6f2aabe42241fa19263d9ca6d0eab9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 1 15:30:48 2010 +0200

    Move GUM's vapi to where it belongs, and hook up GUM in zed-tests.

commit 175ac7c60edbd61cc4a7b642ba9cdf3df9774579
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 29 15:30:51 2010 +0200

    Move test list to the top.

commit fc20f30318d98949bda75674a8b82144c2ba9ffe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 29 02:49:42 2010 +0200

    Fix test failures in Release.

commit 9d69ead002d68db5739f6dd17ba955d866f4a4ef
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 29 02:35:36 2010 +0200

    Fix worst case inspector tests by working around pass-by-value difference between ia32/cdecl and amd64.

commit 87aad575a6f75221136e189b2b20cefa3c05ebb5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 29 02:18:09 2010 +0200

    Finally re-enable disabled tests relying on profiling functionality. GUM is now fully restored! \o/

commit e4440de92335713d3063e8b0b80e731a2f08a759
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 29 02:13:38 2010 +0200

    Revive Profiler tests.

commit 9d9a943ecbaed6b83e7d35b14da994b6d94c4b0a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 29 00:38:32 2010 +0200

    Revive Sampler tests and fix CycleSampler on 64 bit.

commit 0e0d8df63a4b83cb3d17a5cf48fd4c2dcbbff2fa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 28 23:05:14 2010 +0200

    Start reviving Profiler, and refactor quite a bit while at it.

commit 48763928791344b329ca0e6ec7bc60a5f6d3bbad
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 28 21:06:21 2010 +0200

    Revive InstanceTracker tests.

commit 316c4c4e60c8bc1ca049d7101bd0c5adc73882a0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 28 20:50:07 2010 +0200

    Revive CObjectTracker tests.

commit 6de6a38850202235c8c71eacd44e684351327202
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 28 03:29:11 2010 +0200

    Fix KiUserExceptionDispatcher unpatching. Oops.

commit 07a27caa8a88c4a5a723cf56b79d03eb0c9cc065
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 28 03:06:52 2010 +0200

    Interceptor support for calling one replaced function from within another, and heavily refactored to share state between attach/detach and replace/revert.

commit 44946872568f3594262937e8efb13d964fcbb86e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 27 21:29:31 2010 +0200

    Revive a bunch of BoundsChecker tests.

commit 30647004e1b8d4414b32cc196c7256e61361cd11
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 27 20:15:20 2010 +0200

    Revive PagePool tests.

commit aace62488b8163097523b8b04e62e198a79dbb45
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 27 19:46:35 2010 +0200

    All GUM tests green in all platforms and configurations.

commit 6a87c0f7be06e4de8a44d91028f04ee73ef72ee5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 27 19:13:56 2010 +0200

    Make most of the tests pass in Release as well.

commit 8172481f318966d3822c608cc0a5e2310cd8e6d8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 27 18:57:14 2010 +0200

    Bring Backtracer tests back to life.

commit 330a6c0ed53b0db9ef882f066c061600bd598e99
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 27 18:35:04 2010 +0200

    Bring AllocationTracker and AllocatorProbe back to life.

commit 8bc3c3fb9a804fb22d35e9845e6fa5f8fea392c5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 26 19:56:07 2010 +0200

    Improve Interceptor thread safety of dynamic attach/detach.

commit 15147324ad581e146f07be94140c428b7959350d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 26 16:17:24 2010 +0200

    Interceptor's replace_function test finally green on 64 bit! Interceptor's 64 bit support is now aligned with its 32 bit support!

commit a68e9bbe8dd1051bb0d15b273c389bc57285f0d9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 26 00:37:28 2010 +0200

    Fix Interceptor's relocation_of_early_call test on 64 bit.

commit 91738c6fdb2f86cef72ea63a841424a9512defe0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 26 00:37:08 2010 +0200

    Only reserve 32 bytes for argument spill.

commit cdbdc402d0cf8a16c51ef437c7e84a404b6345c8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 26 00:09:18 2010 +0200

    Fix Interceptor's relative_proxy_function test on 64 bit.

commit 9fec302e5a41b7478b30572415213a73b3200f0f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 25 23:59:11 2010 +0200

    Add guard around windows.h include.

commit c21a61c863327884cc571cc7203034afa4677737
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 25 23:56:49 2010 +0200

    Clean up test code layout and make things consistent.

commit 693271fd9496850c3d14327c39a34e2fbb78bd94
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 25 23:46:08 2010 +0200

    Use VC_EXTRALEAN all over the place.

commit dfe4822d93899f3f4d635fe52065fa75493ac798
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 25 23:43:19 2010 +0200

    Add Relocator fixture and clean up a bit.

commit 029b7a1ef882fd4244f011860be38dda8519dfa6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 25 23:39:47 2010 +0200

    Add FunctionParser fixture and clean up a bit.

commit cb883f4dd0cafc5e7b9a9ff7cbef2d00199c34fd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 25 23:27:20 2010 +0200

    Add Interceptor 64 bit test coverage for CPU registers and flags, and refactor quite a bit.

commit 47c83e16818501d2cda8c2af1c2a0c11161fd3a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 25 20:12:22 2010 +0200

    All Tracer tests green on 64 bit! \o/

commit da873a530368f1ee2d71c62e1ed7d518019ee89d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 24 21:21:44 2010 +0200

    Start porting Tracer to 64 bit.

commit 64b55abe3220d3b6ac9ce6b6076f82bc74b49499
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 24 20:00:13 2010 +0200

    Implement proper reentrancy guards in Interceptor, for both 32 and 64 bit -- attach_to_own_api test now green.

commit 816207aec42dea357f54dc79def6d5e494d4a7ac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 23 22:21:28 2010 +0200

    Gum.Script now ported to 64 bit! \o/

commit ef56b9da0ed27196245ffbedb4a00db931c8dc5d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 23 18:54:13 2010 +0200

    Add failing test for attaching to API used by on_enter().

commit 3dfee275dbd4b337e538a453d5f32d7b2bf71d91
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 23 16:44:52 2010 +0200

    Allocate trampolines near patched functions in order to improve Interceptor's success-rate on 64 bit. It is now as good as on 32 bit.

commit 813b9e1846eb6d851d4c56d6960644c5b7a20d15
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 22 21:25:06 2010 +0200

    Refactor Interceptor to use CodeWriter and Relocator to get rid of inline assembly and improve portability.

commit 44b1ddcc299e98f17017a600c0c4efc72f7d6338
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 22 17:54:07 2010 +0200

    Switch TestUtil to new test infrastructure, and refactor tests a bit.

commit d69529be9f563ce5fdbaf851939f6bd873bb1535
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 22 02:29:01 2010 +0200

    Refactor GumInvocationListener and Interceptor tests.

commit 40e8a6197c02595edeb3dac44e9fac213cf40152
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 19 18:33:56 2010 +0200

    Only run win32_indirect_call_seg on 32 bit, and only do exception handler hooking on 32 bit where we actually need it.

commit 7383c6077e0ca4b4d5abcdc0291e0845c1fdf53a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 19 18:02:32 2010 +0200

    Implement relocation of RIP relative instructions. Stalker's heap_api test now green on 64 bit! \o/

commit e8a18e6e572551371a9b2b2cc48899ca649274a7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 19 18:01:04 2010 +0200

    Make udis86 expose the offset of the modrm byte.

commit f54062aa727cec8b37ba7ee5765ea8699a455bc9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 19 14:44:37 2010 +0200

    Fix udis86 warnings reported by IntelliSense.

commit f6b82d9659f7f16217ab42774dd1e0709dbaed43
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 19 14:38:06 2010 +0200

    Fix udis86 warnings reported by MSVC.

commit c5e0e7f4f077360d251bc9a8e1c7914165265938
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 19 14:34:15 2010 +0200

    Fix udis86 compilation errors when building with MSVC.

commit 88ed90060a89e3c35baecacaad7854e8dcbdff4f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 19 14:30:53 2010 +0200

    Overwrite udis86 sources with latest from master (e05c7b8c0dd2760c8ae517ff83fd974e63c42020).

commit 8ff5f8adeca61f5b05157d4028baa6f08b9dcc88
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 19 03:15:16 2010 +0200

    Add failing Relocator test for RIP relative MOV.

commit ceebf0ffc1663267b3e0a5d7035cbc02f7cc585c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 19 00:46:36 2010 +0200

    Add test for conditional long jump and refactor a bit.

commit 4522186fa78eb2263a437cc9039439537bd320c6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 18 20:04:48 2010 +0200

    All pure Stalker tests green on 64 bit! \o/

commit a9f3d65989cf1f4612ba524ddbbe50b3a4baaf4e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 17 18:17:42 2010 +0200

    Stalker's indirect_call_with_register_and_no_immediate green on 64 bit.

commit c10aec03e77a294516f182033cb762c862b5b31d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 17 17:05:57 2010 +0200

    Stalker's indirect_call_with_immediate test green on 64 bit!

commit 41dd519e461cb720237a7e0e4c5260360dfd160e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 17 03:49:18 2010 +0200

    First 13 Stalker tests now green on 64 bit! \o/

commit 8a310a0ee47485d05e2ef63eb111a279f5a2e8b4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 16 22:57:27 2010 +0200

    Stalker's 'call' test green on 64 bit. Call events!

commit d2d393ba0e8ea7eee5b9ae4fabb9d41a29edc0e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 16 20:19:36 2010 +0200

    First Stalker test green on 64 bit! \o/

commit 4795c3bff1b90aa129e0b5e0a1cf8bde6da12d48
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 15 19:38:45 2010 +0200

    Align stack when generating a 64 bit CALL.

commit 0cb9463c3ace9cecf6160b2e5eba859747b72f09
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 15 19:38:06 2010 +0200

    Simplify return address retrieval and avoid inline asm.

commit 6eb1534d51dc2cc5d0d2eb3cf9cadec8e797dbb5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 15 18:49:56 2010 +0200

    Stalker test fixture is now 64 bit ready, implementation is next.

commit 5a3a75464e94e32c477869c62bc78dc2b46ec3a9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 15 03:18:48 2010 +0200

    A few baby-steps towards 64 bit support.

commit 80461ffd268d4778bb8c038213288fca8a86f33e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 14 19:17:16 2010 +0200

    Add Spinlock implementation for amd64.

commit cfa1a79bccfb2fa57a3e5b0fd7045a468f51826d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 14 19:16:22 2010 +0200

    Run Stalker tests a bit earlier.

commit 5203627ece80cbbffc2b35be1bfff2e26c918638
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 13 22:49:35 2010 +0200

    Relocator tests green on x86-64. Getting there.

commit 508fdd2d708bded9d0217fda9292d961df01fb05
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 13 20:23:50 2010 +0200

    CodeWriter is now pretty generic, except for 4 MMX/SSE functions.

commit ef3792401e05351c7213e256f77749c781171aaf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 13 19:56:48 2010 +0200

    Make 'lock xadd [rA], rB' generic as well.

commit 1c3e7c9098ace63895cb163461ca0a447397ea05
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 13 19:35:28 2010 +0200

    Make CodeWriter even more generic.

commit bc71ce7f3eedcf2ce981bd059257005b650eba32
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 12 17:25:27 2010 +0200

    Make most of CodeWriter's remaining put_mov_* methods generic.

commit 8677df4df68538943f1bf93c9254956235b12bbb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 12 14:45:20 2010 +0200

    Another round of CodeWriter cleanup.

commit edb36439f2e062cc571fac4ec3ab0e86ed76ebe5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 11 21:12:43 2010 +0200

    Start moving towards generic CodeWriter functions.

commit 47142ade60eb55c52ed5d121f01bc3f2ab3468ab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 11 15:34:26 2010 +0200

    Add Tracer tests and fix Relocator so they're green again.

commit 188f2d97c5c50c1457b9d66a0c3c5194d45da7e8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 11 15:04:50 2010 +0200

    Bring Gum.Tracer back to life.

commit 09ef71c7014c11e49cabfeb5d1e15835eebabf69
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 10 12:30:41 2010 +0200

    Add gum_process_enumerate_modules.

commit 2340418212307375d46a434dfd387a5f69d56a96
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 18 02:37:11 2010 +0200

    Show messages from scripts in console UI.

commit c5bbd3ab43681f326e781d7cd9be7d0529e6c6c3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 18 00:51:57 2010 +0200

    Gum.Script support for sending function arguments of type int32 and string.

commit 1ac847d8f1251cd9ea84cdb4b727bf3b00057daf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 17 19:57:01 2010 +0200

    Report script address and size to help debug scripts.

commit ef0cad330ddf59939451343eff064137c8d0d75f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 17 14:44:29 2010 +0200

    First Script test green! \o/

commit 52c495c43ab61d96bacff8312a2551fec211f433
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 17 01:51:33 2010 +0200

    Add failing test for Gum.Script, and refactor a bit.

commit 3d998fb592b900870852ec1908ae0218174e1e94
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 17 01:29:00 2010 +0200

    Implement all of the Agent-side Gum.Script housekeeping and use fake implementation of Gum.Script.

commit e769dcb18b1608fa724e5b55893d0a15df141e14
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 15 21:57:28 2010 +0200

    Start integrating CodeService.

commit 41615d876bb053cee0c2cd0f8924e401bc7015d8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 14 19:58:01 2010 +0200

    Fix a bunch of warnings and update suppressions.

commit 119cd335277bb3663926c1803d03f4e8050138e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 14 13:04:23 2010 +0200

    Make all Gum tests green in Release as well.

commit d58a862224996bdc1f5ba3670badbbee52f193a4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 13 02:21:19 2010 +0200

    enumerate_exports should not assert if GetModuleHandle fails.

commit d7b3458c0f611bfc59c3bffdef1286f8c414b395
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 12 01:36:43 2010 +0200

    Define VC_EXTRALEN before including windows.h.

commit 9801dfc966ca0c37dc0629a19d81b0f694c3a0a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 11 01:05:02 2010 +0200

    Add missing files.

commit 54fd5ce25b75584475f2fa9c53f0f136020844d9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 11 00:55:22 2010 +0200

    Stalker call probe test green! \o/

commit 266bbf1b338527207f54a4018d3f11c2553e1cef
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 10 21:43:01 2010 +0200

    Failing test for Stalker call probe support.

commit cc2494b364ab6604ed6cf94a5036dbe16cb0b11d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 9 21:35:47 2010 +0200

    Be paranoid about contents of [fs:4], and improve debuggability a bit.

commit 7945c5f0e89f38d732d2929e3f07a6b347de0797
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 9 02:47:10 2010 +0200

    Print warning instead of going g_critical() when running Stalker tests with debugger attached.

commit 49acb7529034e2c1ac2842de92a12bfd5e1f0f88
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 9 02:43:45 2010 +0200

    Clean up message processing logic and rename helper function.

commit 31ffc3cf41c61bb77a049e3274e8119e25e6ae57
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 9 02:21:14 2010 +0200

    Remove debug code.

commit d5d2a51bfb91775c5f0a760f79d15d987f4b68e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 9 02:19:12 2010 +0200

    Add check for debugger in Stalker fixture setup to avoid confusion.

commit 3a84ced87ae01604aa8c7b0119968ac2d4eb40f9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 9 02:09:47 2010 +0200

    Stalker's callback->kernel->user test green.

commit 2ce7c9bae2af88b09aa4aab80fa7edaf57040560
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 9 00:36:07 2010 +0200

    Refactor user->kernel->callback test and add failing test for reverse scenario.

commit daaf35645423f8edd35afb288f0bb3cff18ae840
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 8 23:46:05 2010 +0200

    Trace user->kernel->callback using hardware breakpoints.

commit 0cf2f45c195826c06b2f69be734d28407785b56f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 8 01:53:24 2010 +0200

    A bit more skeleton, still some way to go.

commit 9136d95eb71b7ec5dd062fe80b3e7e38fc59d506
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 8 00:16:40 2010 +0200

    First part of single-stepping state machinery implemented.

commit 3766337a3a6c27983c15c3fd9f0cc551036e56e2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 7 02:50:07 2010 +0200

    Work in progress on following calls that go user<->kernel<->user.

commit 92905175b622229b4ecd58c48be10d50819c8b24
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 6 16:32:37 2010 +0200

    Change Windows windowing API test into a failing test for following through KiUserCallbackDispatcher.

commit 584b1065c30df24469639b2592882450856c6ae5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 6 16:17:10 2010 +0200

    Add test for Stalking Windows windowing API and add is_following_me() to Stalker.

commit cc9de5f56acbd21ca98d13e11b29c47c23dd0e53
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 5 21:53:36 2010 +0200

    Keep track of call depth and add to CALL and RET events.

commit cdb564d15125b268422152cce6c1de2555fd225f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 5 03:29:33 2010 +0200

    Optimize Stalker mappings and make use of new _no_label() Relocator write API.

commit f1d6aa8eed62e4904f330656a0cef5d68efa911c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 5 03:24:24 2010 +0200

    Optimize Relocator to use a circular buffer and provide _no_label() write methods.

commit 80bc6a74b52b35b4bbba7b15f100e094e5016df9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 5 00:51:54 2010 +0200

    Split big basic blocks using continuations in order to support huge linear functions.

commit 3676422bc8153fb4538893a644d79d00bb63c49d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 4 23:53:30 2010 +0200

    Get rid of block stack.

commit ea914349b1d375689095f48bf177c348da3715f5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 4 23:42:40 2010 +0200

    Stalker support for call followed by invalid code, typical for obfuscated code.

commit 0f21e4b7e6fd8b23b29bd14b7ce711018c9d4814
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 4 23:41:32 2010 +0200

    Basic block should terminate at a call too.

commit c81cefec0ba55b212546200f371ad137584fc0a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 1 02:56:14 2010 +0200

    Support negative immediates in indirect branch instructions.

commit f01b777bfdc4ad8cc52342c2fcf994f8c8c2d1e6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 1 02:00:30 2010 +0200

    Support indirect call with register and no immediate.

commit 5733cca3a805e8a5416e742f7f04def19e4771ec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 1 01:53:47 2010 +0200

    Bump CodeWriter and Relocator limits.

commit 24d3981b5a77bddb9f4327fa15448684502b6e6c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 1 01:11:33 2010 +0200

    Enumerate exports until callback return FALSE.

commit bc840a54400c9cf727728ddae427ed35eb2323c6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 1 00:54:23 2010 +0200

    Use VC_EXTRALEAN instead of _WIN32_LEAN_AND_MEAN.

commit 43fce3a7a1202c96a884bbd8e84f234e4aa64c03
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 1 00:52:41 2010 +0200

    Separate non-dbghelp symbolutils from the dbghelp-specific.

commit 254455929a038d6e12d1a41d1b1993173b0f0fde
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 31 23:24:08 2010 +0200

    Extend stdcall test a bit.

commit e38e4e36ae643f1766c5819219107f8eb67e257e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 31 23:23:49 2010 +0200

    Add some commented out code for debugging purposes.

commit 292e8052635d791009d22027274dfb90291c91ac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 31 01:31:19 2010 +0200

    Fix Stalker regression. All tests green.

commit 3a9b171ce138433e3e319551a944d80cc6260967
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 31 01:26:42 2010 +0200

    Disable debug code (to be removed later).

commit 89a14d97de5216ecb8ab7e41ed3b97464a76f757
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 31 01:25:48 2010 +0200

    Fix pool configuration and add guard assert to prevent future mistakes.

commit 25c1266d235c193dda43322d0ee50b45f13358c7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 30 23:27:05 2010 +0200

    Remove last_jump_site debug and clean up a bit.

commit 9ddb5004ddb85aebf1e8e7449b51f3528f2ed748
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 30 23:22:16 2010 +0200

    Add some hackish debug code and tweak branch handling.

commit 9758ae921e2c46b57e19a6f44cb78c7743d53cca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 30 19:14:27 2010 +0200

    Remove unused argument.

commit df40562c53305323a84ace8facbea504e99b2fa7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 30 18:39:50 2010 +0200

    Bump static limits and conditionalize debug.

commit 9fdd5cb013323620a67aad214ef28414a38d97b2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 30 03:24:58 2010 +0200

    Refactor branch target handling and support jumps with immediate and scaled register.

commit a80ae52911c0969941e731b19c99767aefa3e21e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 30 00:12:17 2010 +0200

    Stalker support for indirect call through esp with immediate.

commit 57f78d25ddc6fffbdc0ff0a8e37d4c42f0494c9c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 29 23:14:17 2010 +0200

    Move Stalker fixture into separate file and update copyright headers.

commit 66de158702cc567fea64d694856c5bee11975527
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 29 23:04:59 2010 +0200

    Refactor most of the Stalker call tests.

commit c79860c972bf9547120cd98fa0dd7f7d822c14e8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 29 20:56:12 2010 +0200

    Remove CRs that snuck in.

commit 0db07125ce3f1d97c421f801075172b257dcae7d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 29 20:52:19 2010 +0200

    Stalker support for indirect call with register and immediate.

commit f5d75fabc95d6f77c24ec3c8c388673f513f09d0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 29 19:23:44 2010 +0200

    Gum Stalker test code cleanup and new naming scheme.

commit 8d4c714fd4910860c73cc1b46ea67527979ef668
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 29 18:55:58 2010 +0200

    Remove CRs that were accidentally added.

commit 4d1dc910435c1e744d69152d3276234d3a50be44
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 29 02:04:19 2010 +0200

    Gum.Stalker support for indirect call to address in register.

commit 1c5c0085a67d06167a946ffaadd43dd1d619c7e5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 29 02:02:43 2010 +0200

    Add Gum.Stalker to project files.

commit 093749243c3fb8f47076223dba56497d37d37ef2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 19 23:37:16 2010 +0200

    Interceptor support for relocating position-dependent prologue instructions.
    
    Only 32 bit for now, 64 bit to follow later once Relocator supports it.

commit 6bbd126290f79c7ae707d76b00fa8eba88d2eee9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 17 03:16:28 2010 +0200

    Update gum project file filters.

commit 1c5ea64a034943f19bdbb987c5a8c0eda5eb4f91
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 17 00:58:25 2010 +0200

    Add project files for Gum, reorganize and fix some warnings.

commit 62f881eecc0579f5d86559cd2483bec0070e5b9f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 6 12:32:48 2010 +0200

    Import libgum for the time being, possibly to be used prebuilt later.
======================: FILES :======================
======================: BRANCHES :======================
======================: LOGINFO :======================
commit 3f392919bdefa3971c6a3b5cc43fde2878291f36
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 18:23:08 2020 +0000

    Use Meson's b_ndebug option to decide on checks

commit 8e709fd6b5c8f547dc6a2a038e5e0afcdfa99321
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 18:20:09 2020 +0000

    Regenerate the Interceptor test dummies for Linux/x86{_64}
    
    For compatibility with older versions of glibc.

commit da8a61ee8c8b5dda7a50fcbabfa4c40e938bf5ef
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Wed Apr 22 11:44:07 2020 +0200

    Skip optional undefined args in the V8 runtime (#419)

commit baed3960862eee2a3f780277f2beec801fbf2b02
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 19 03:00:34 2020 +0200

    Fix the Linux auxilliary vector architecture detection

commit 154fdb7f35affc1cc27004be38694bd7464cf26e
Author: WorksButNotTested <62701594+WorksButNotTested@users.noreply.github.com>
Date:   Sun Apr 19 00:40:01 2020 +0100

    Improve address resolution in the libdwarf backend (#417)
    
    By making use of symbols in the .symtab section.

commit 8e75244efbbda879e82d74d3dd17df8d830b2504
Author: WorksButNotTested <62701594+WorksButNotTested@users.noreply.github.com>
Date:   Sat Apr 18 06:11:08 2020 +0100

    Fix Linux module enumeration when invoked through loader (#416)
    
    Fixes #414.

commit 09ee1e85b047fdac12586d0ee93ec0ca1d584f3c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 17 21:44:34 2020 +0200

    Add missing casts to fix warnings reported by GCC

commit e0c2b2019987fec47a011f19450b9b5070cc8f26
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 17 21:36:17 2020 +0200

    Fix compilation with older system headers on Linux
    
    The asm/prctl.h header may be present but off limits for the current
    architecture.

commit 1f56be93da61edc3fa7a40273ed1c52b3bbbef72
Author: WorksButNotTested <62701594+WorksButNotTested@users.noreply.github.com>
Date:   Fri Apr 17 01:51:08 2020 +0100

    Add support for MUSL (#412)

commit 2e59d24272cf6a8343890279ca8501f9bff0f13c
Author: WorksButNotTested <62701594+WorksButNotTested@users.noreply.github.com>
Date:   Thu Apr 16 23:10:30 2020 +0100

    Improve auxilliary vector architecture detection (#413)

commit e09e9974adbd547e9afa3d7d2056d94b6acc3227
Author: bigboysun <37470985+bigboysun@users.noreply.github.com>
Date:   Tue Apr 14 01:32:39 2020 +0800

    Improve ThumbRelocator to also handle VLDR (#410)

commit 46afac71402643466e7118f11187d3772e19d003
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 12 04:09:59 2020 +0200

    Remove fragile CFI directives from inline assembly
    
    We cannot assume that they will end up between compiler-generated
    .cfi_startproc and .cfi_endproc directives.

commit 53b7e44215bfb224213907ae7696ede354fc46bd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 10 23:48:38 2020 +0200

    Bump frida-java-bridge and frida-objc-bridge

commit 809c7a834e3d4ae38b0a96296bee88e2e99a7a10
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 10 23:44:35 2020 +0200

    Update TinyCC

commit 84e59ad21ad0371623b44f78c3f00a29b2523100
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 4 07:01:23 2020 +0200

    Fix check deciding on assertions and checks
    
    Instead of relying on “buildtype”, consider “optimization” and “debug”.
    
    Thanks @nirbheek!

commit c474e2933dccfe0b5ef1d2a581ecef5ec35a2709
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 4 01:31:27 2020 +0200

    Fix the Android unrelated interceptors test

commit 34300de91e174d491b6a35f52dfac8fcd48e2149
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 4 01:30:44 2020 +0200

    Fix test scripts on Android 10

commit 2156f5aafe6a68e025a0cde282a95ea87af68507
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 4 01:03:33 2020 +0200

    Plug Kernel.read*() leak in the V8 runtime

commit 338f9546e974940bfcab7833971146a5e7a5f69a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 4 01:02:12 2020 +0200

    Implement v8::ArrayBuffer::Allocator::Reallocate()
    
    To improve performance.

commit 8337ad221936e4b9fcecb435d97f1a677778f83a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 4 01:01:27 2020 +0200

    Fix remainder of deprecated V8 API usages

commit 9e0fd84f762ac191917a45ce85598806755adae1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 3 08:01:40 2020 +0200

    Move SocketConnection leak test to slow mode
    
    It's too slow on some systems.

commit b483f18f3584edc0daeba900d734dccfe7b72036
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 3 07:55:01 2020 +0200

    Fix vast majority of deprecated V8 API usages

commit 4e9769626773d7453c4514f6b08e197d9660e859
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 3 03:42:42 2020 +0200

    Update to the revised GIO module naming conventions

commit d790c7fb7f1f23a6457cc0b8ac8cf4ea3240071f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 3 03:42:09 2020 +0200

    Fix shadowed variable warning reported by MSVC

commit 524ea3279c4104d8577a4dea7553c4c6afce2bdf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 3 03:41:01 2020 +0200

    Port Windows-specific bit to V8 8.x

commit 6450db69995edd6237c8ef532475e51fab71cdda
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 2 05:32:13 2020 +0200

    Port to V8 8.x

commit e95e37a59e4ba9da32097453d4a468d72b7857f3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 2 02:43:56 2020 +0200

    Upgrade Duktape to latest master
    
    The Duktape snapshot was generated like this:
    
        python util/dist.py
        cd dist
        python tools/configure.py \
            --source-directory src-input \
            --output-directory src-frida \
            --config-metadata config \
            -UDUK_USE_CBOR_BUILTIN \
            -UDUK_USE_CBOR_SUPPORT \
            -DDUK_USE_DEBUGGER_DUMPHEAP \
            -DDUK_USE_DEBUGGER_INSPECT \
            -DDUK_USE_DEBUGGER_PAUSE_UNCAUGHT \
            -DDUK_USE_DEBUGGER_SUPPORT \
            -UDUK_USE_GLOBAL_BINDING \
            -DDUK_USE_INTERRUPT_COUNTER \
            -UDUK_USE_REFLECT_BUILTIN \
            -UDUK_USE_SYMBOL_BUILTIN

commit ac16ad2bf7f6a8b942c2a2cc0cf4a29081ff69ea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 27 05:55:22 2020 +0100

    Port to Meson 0.54

commit 7704f6d2ab8409d77cdd274019055d952f03b59b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 27 02:24:25 2020 +0100

    Re-enable and tweak the Socket.connect() leak test
    
    Now that we have the latest GLib where the leak is plugged.

commit c77fc9ca64fe746648b8e55b4c160bf7c11b92a7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 27 02:24:01 2020 +0100

    Port to latest GLib

commit c5c9822e637ff25195afd25a93c1b496ea4a5876
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 26 19:28:16 2020 +0100

    Move Socket.connect() leak test behind slow mode flag
    
    Will be fixed by our next GLib upgrade.

commit 8737feec39be97251de45bfd41059adff04d2ecd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 26 19:12:27 2020 +0100

    Add failing test for Socket.connect() leak on error
    
    This confirms #403.

commit 15eae515c156df60ee864f4adf4a2fa584779393
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Mar 26 18:30:04 2020 +0100

    Plug leak when script is destroyed without first being loaded (#402)
    
    This ensures that ultimately when the script core is disposed, it in
    turn disposes its reference to the Exceptor.
    
    Failing to do so causes indefinite hang when attaching after detaching
    in presence of unloaded scripts, due to the Exceptor thread remaining in
    the target process.

commit 4385d6e4231d2e1d597af666c7bec129953c2928
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 26 18:15:46 2020 +0100

    Add failing test for unloaded script leaking
    
    Kudos to @mrmacete for discovering this long-standing bug.

commit 3602247f6856a0f05dfa9a07701f6ebf40ed6645
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 26 05:00:40 2020 +0100

    Bump frida-java-bridge

commit fe8fee0bd27b66e9df7e4c1c9bb714806f96d4d2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 26 04:48:57 2020 +0100

    Bump frida-java-bridge

commit f9c7595a5cadb1a44356efda5a2341654071dc84
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 25 04:06:35 2020 +0100

    Fix build regression on x86

commit 3ff043734ed84415a841c43b32b5d3348e9e30b7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 25 03:57:08 2020 +0100

    Fix Stalker in arm64 processes on iOS/arm64e
    
    System code is using authenticated pointers so we still need to handle
    them. So we need to check what the CPU supports instead of what the
    process supports.
    
    Kudos to @AeonLucid for reporting and providing a reproducer.

commit 9690992e284179b606ed9e53fbed1091a09b772f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 25 03:55:08 2020 +0100

    Promote query_cpu_features() to public API
    
    And implement feature-check for ptrauth on iOS/arm64.

commit 610498e55a701850cc1bd9958bb6eac789059a14
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 25 03:01:27 2020 +0100

    Update TinyCC

commit 73e9bd35695f07665aea1c7b8a77165a3143ac94
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 24 01:16:04 2020 +0100

    Fix warnings reported by GCC

commit 69abd69d195f6406226e8e4fe501612943e7d244
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 23 22:34:56 2020 +0100

    Add some missing Gum.Darwin APIs to the vapi

commit d566cb92ffd5c735dab24ffb9c01c0e10147b026
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Mar 22 06:37:14 2020 +0100

    Add libsystem_initialized to Darwin.AllImageInfos

commit 8469bd94b5bf5bf2725389b6d3454c5fbd0326b4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Mar 22 02:44:16 2020 +0100

    Only test nested signal handling on Linux for now

commit e42d952cee06309d8967b5a5d6d112127013777d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Mar 22 02:01:45 2020 +0100

    Promote NativeFunction varargs smaller than int
    
    Fixes #401.

commit 1a12b1419c17f052f2cc10f615ffb47d403b1534
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Mar 22 00:08:52 2020 +0100

    Bump frida-java-bridge

commit dad5048b18c37b52f1a521c55698f5b46afe77ca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 21 04:08:33 2020 +0100

    Add missing cast to fix warning reported by MSVC

commit cdf6643225cc45a004bb0c5cf7d22b2a28e59cb0
Author: Clouds <Clouds.Flowing@gmail.com>
Date:   Wed Jan 30 04:51:49 2019 +0800

    Fix handling of invalid ANSI strings
    
    Also use CP_THREAD_ACP instead of CP_ACP, as it's potentially more
    up-to-date than the environment.
    
    Co-authored-by: Ole André Vadla Ravnås <oleavr@gmail.com>

commit 082406ad4e0be1b365508316e8b88c152cfcf62d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 21 00:29:30 2020 +0100

    Eliminate unused variable on non-Darwin platforms

commit 4fca010dce2176cf78823abd5eed094562201f41
Author: Michael Bann <whootandahalf@gmail.com>
Date:   Sun Mar 1 20:09:03 2020 -0500

    Handle nested signals in Exceptor's POSIX backend

commit 7f6130b88479983dbcb2d4431141e97c14e69f2f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 20 02:37:38 2020 +0100

    Add DarwinThreadedItem types to the vapi

commit 7660000cd27952836d6d8bc70d409c431970cb58
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 20 02:36:34 2020 +0100

    Make DarwinThreadedItem binding-friendly
    
    By avoiding unions.

commit 8bace8b5538fdbf3ab977aa8b26d35cbcf54eb87
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 20:46:55 2020 +0100

    Add NativePointer#blend()
    
    For creating a discriminator from a pointer and a small integer.

commit 3061bb592ca1418d01b60b69bca0ac996c970ddc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 20:43:48 2020 +0100

    Allow NativePointer#sign() salt to be a number

commit 522d03f98b2c03369f4a585b141b6af7c3422c7b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 20:00:05 2020 +0100

    Tweak tests/run-ios.sh to assume non-thin build

commit d83e647253592962fc0982de781dd71b81526c71
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 04:02:31 2020 +0100

    Add missing memory APIs to the vapi

commit 04a89c70daab8a78867a955714341beca2eb158b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 18 04:11:12 2020 +0100

    Bump frida-objc-bridge

commit b7441c6e262057f7bfdfe7a6f50ac8be40ade5b5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 18 03:53:44 2020 +0100

    Tweak the pointer authentication key enum in GumJS
    
    The “as” prefix is somewhat redundant.

commit 06621b92e2802dd26562f8cff8f48c0e58b0a8ec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 17 03:28:20 2020 +0100

    Simplify the DarwinModule convenience constructors
    
    Removing irrelevant properties in order to simplify the API.

commit c27b36f34a919689284c9c164b048b1909173890
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 17 03:05:34 2020 +0100

    Allow auto-detection of DarwinModule CPU details
    
    For use-cases where we just want to examine a Mach-O and don't care
    which slice gets used.
    
    Also remove the useless “page-size” property while at it.

commit 7e817d9d86774de3bf2879f0008d4571b1f484fd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 16 06:37:38 2020 +0100

    Load the appropriate Mach-O slice for iOS/arm64e
    
    And improve error-handling.

commit d10a077be7faac5ec7b4d44917019eb30a2d21ab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 16 06:35:04 2020 +0100

    Fix the dyld shared cache detection on iOS/arm64e

commit 5d46323bfdb1c204ee0cc8c75b1a9c6c7777c708
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 16 06:32:09 2020 +0100

    Remove unused logic from test

commit 776ebca6f75d4561ee5ab49f94333207bf1bf190
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 14 07:46:56 2020 +0100

    Fix a minor stylistic inconsistency

commit 9e88fe8d4306ed028b3d51245bcfaabaf0001846
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 14 04:57:15 2020 +0100

    Fix DarwinModule imports' “slot” field on iOS/arm64e

commit e93491adb8db91e126f8eb86f8b8f55c75a58cb7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 14 04:50:39 2020 +0100

    Preserve DarwinModule “name” and plug leak
    
    When dealing with executables.

commit eada6ff3d113aff2a0412069b58f6208bb15824a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 14 04:47:53 2020 +0100

    Improve error-handling in DarwinModule

commit bd063c4fb64312b19f573e4f95e3421fccc48b37
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 14 04:46:03 2020 +0100

    Add error-handling to the LEB parsing logic

commit 530dcee232bfdfa0d2049f9632abddefae549d39
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 14 04:43:42 2020 +0100

    Fix off-by-one bug in Darwin.fill_file_mapping()

commit 57645e13eb4c81a9f69280c1b083b4593b5c4eb8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 14 04:42:21 2020 +0100

    Fix a minor stylistic inconsistency

commit 97f983edaec77c4cdbd4a69d16aee0b1cde6505e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 14 04:42:04 2020 +0100

    Add Darwin.query_mapped_address()

commit 6c06884d7f741bf1be1e56934ef3acada92100f3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 12 06:12:27 2020 +0100

    Fix build regression with older iOS SDKs

commit 76b583fb2cd30628802a6e0ca8599858431ee717
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 10 03:11:31 2020 +0100

    Remove temporary logging from the Stalker x86 backend

commit 3dfeade9a83f7472aed85e9b140fab3c1be9e048
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 10 02:42:14 2020 +0100

    Fix Stalker assertion broken by the activation API

commit 9b34d9aa9afad408ea4aae08d716b64e48e62b24
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 10 02:02:22 2020 +0100

    Fix infinite loop when failing to handle SIGABRT
    
    The handler should not return if it handles the signal.

commit 7d716178b130940a78d444487afa7035c68a6b76
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 9 01:20:10 2020 +0100

    Port GumJS to iOS/arm64e

commit 108ea09b595a64c996501b589d7b2e21e9a54947
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 9 01:16:18 2020 +0100

    Allow authenticated pointer in Memory.patch_code()

commit 74176622ae8362e5498de115e9958be2e37e9a47
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 9 00:50:59 2020 +0100

    Port Gum.Arm64Backtracer to iOS/arm64e

commit 70fa2d2dc2878881e2f4b0e8a81de501b62b0f1c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 9 00:08:55 2020 +0100

    Port Gum.DarwinBacktracer to iOS/arm64e

commit 01185a19fc9b5ca892ab808a4d17b694d53b1e5b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 7 05:06:00 2020 +0100

    Fix ThumbWriter put_call_*() w/ more than 4 args
    
    Need to restore the stack pointer after the call.

commit 9302e9811eb553d4aae14b1d24f0f9314539af60
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 7 03:55:32 2020 +0100

    Improve Mapper test to support frida-gadget

commit c3d187b6d3db70b84ed2273c652735b2f633b44b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 7 03:01:29 2020 +0100

    Improve Mapper to pass initializer args
    
    And add support for supplying Apple parameters while at it.

commit 9b9f4cc146811396cd191fa3cdd8c402be2b75cb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 6 09:19:27 2020 +0100

    Fix Exceptor's address reporting on iOS/arm64e

commit 464f055b39d58f153fe9ed5194dea0b241a0116c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 6 04:57:58 2020 +0100

    Port Stalker to iOS/arm64e

commit 491be56099d39205ca8dd0eae8ce2fc7e0ef3a6f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 6 09:24:29 2020 +0100

    Improve the MemoryAccessMonitor POSIX backend
    
    - Properly calculate intersecting ranges.
    - Compute appropriate page protections.
    - Fix typo that broke monitoring of RX pages.
    - Allow mprotect() to fail without crashing.

commit bab592446cac06e74dba495c13e10bbe1f7ed269
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 5 06:06:45 2020 +0100

    Port MemoryAccessMonitor tests to iOS/arm64e

commit 71e75e3cb67337b98b83795e0288f3325fd717f0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 6 00:00:02 2020 +0100

    Port Gum.Darwin.Symbolicator to iOS/arm64e

commit e2c40d88208314d824d21a6cc2e4cdba281fd603
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 5 04:40:20 2020 +0100

    Port Interceptor to iOS/arm64e

commit 8b8e8515c05cbd8ef5c8669e742a4d64b937a8a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 5 04:25:04 2020 +0100

    Add Interceptor test dummies for iOS/arm64e

commit 9c69d143d566259bb0a141338805505c936d91c0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 5 04:01:24 2020 +0100

    Sign function export pointers on iOS/arm64e

commit 16d5a0ba60b70757bf6635551f2859713ebc670e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 6 04:57:08 2020 +0100

    Port Arm64Relocator to iOS/arm64e

commit 5e6c9f2e50b267cb051fef4480a91ee0a019c0c2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 5 04:07:48 2020 +0100

    Port Arm64Writer to iOS/arm64e

commit c517e850076344c547df04c1f6e09f9c175dad39
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 29 05:58:50 2020 +0100

    Port DarwinModule and Mapper to iOS/arm64e

commit f28f7ad27c15c7214cfe1e6390943e1327c56b04
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 5 03:55:27 2020 +0100

    Add pointer authentication APIs
    
    For signing and stripping code pointers/addresses, and querying what a
    given process supports.

commit 9c8e50de043dd282496ea4679ca14eec1ae141de
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 6 07:31:52 2020 +0100

    Fix the CpuContext marshaling logic on iOS/arm64e
    
    We need to preserve the signed pointers.

commit 701588dcd9e4f9065af518e6efe84d8b96687213
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 5 03:58:11 2020 +0100

    Improve the iOS test script
    
    Dump and symbolicate crash log, and target arm64e by default.

commit cd57c56d4096978f4dd85e3b10bb706175dbcde7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 3 20:19:04 2020 +0100

    Sign the mapper-test program

commit bcbaf41e565b7510a8ed170d5810f46bea22be9c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 6 04:03:27 2020 +0100

    Simplify the Darwin page size query logic

commit c1b7ecd47a53cad0cdf67228bb0eae660967d99a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 6 05:50:16 2020 +0100

    Add missing bindings autogen for Gum.Address
    
    To also support methods returning such values.

commit 41d195c872f266e0a9ba5fd3cfcabf705c6d51d0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 6 03:46:32 2020 +0100

    Only set {Arm,Thumb}Writer target OS on creation
    
    And not on every reset().

commit fe2d004ce45c1d0d9e1d495ad62d4e890d63f827
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 6 07:18:54 2020 +0100

    Fix uninitialized in/out-args in the Exceptor tests

commit bbc2209698751c28f9591f82f263cee63c98e9d8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 4 03:28:18 2020 +0100

    Also perform the iOS Simulator sysroot detection on macOS
    
    To allow attaching to iOS Simulator processes.

commit 888e48f9ced542ec97c473f3084f0e3294469649
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 4 02:09:43 2020 +0100

    Take sysroot into account when in an iOS Simulator
    
    - Strip off sysroot in enumerated module paths.
    - Skip sysroot when looking up image address and slide.
    - Allow direct export queries on both “dyld” and “dyld_sim”.
    
    Kudos to @dweinstein for helping fix this issue.

commit 748415f94882204b207d130f2b64917f3f7a8f73
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 4 02:08:24 2020 +0100

    Add gum_darwin_query_sysroot()
    
    For detecting the iOS Simulator's sysroot location.

commit 916256984d34eaaf727ca5b5d184f4967c7ad403
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 28 17:34:54 2020 +0100

    Improve the “Binaries” section in the README

commit 61a5aa4a2c04c12f6f264b7c0ac7e90209dae155
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 28 17:33:26 2020 +0100

    Add a basic README

commit 7e4c5b547b035ae05d2f9e160652101bf741e6c3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 28 06:24:41 2020 +0100

    Bump frida-java-bridge

commit 523703878ebf4323683c3c6eeecee987c6dc9c53
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 27 20:26:50 2020 +0100

    Bump frida-java-bridge

commit ffd39bb2ba77d8b446ab9fb54c7cd49a9b3cb868
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 27 19:11:24 2020 +0100

    Bump frida-java-bridge

commit 5e70345723e6f358fa3d7c0d5a85abb59f6d461e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 26 02:41:46 2020 +0100

    Bump frida-java-bridge

commit b756613eac10af49dd0b800d3c134ca30166c853
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 26 02:33:49 2020 +0100

    Improve the Duktape runtime source-map extraction
    
    To handle scripts where the sourceMappingURL marker isn't the last line.
    One such example is the Frida REPL, which inserts its own code right
    after the user-provided script.

commit 844cbe7ba23cd8b47de7a1bca10d7ad498637b75
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 26 00:18:21 2020 +0100

    Bump frida-java-bridge

commit 84f8c6b3bbd5d78ba4d736c5ec1685da9da52b7a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Feb 25 05:32:26 2020 +0100

    Bump frida-java-bridge

commit 8ac8d197659bbb41424d5994bae789eba9bae57f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 24 20:13:02 2020 +0100

    Bump frida-java-bridge

commit 149711c06222002178966151481ecd7735e0ea7f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 24 19:24:13 2020 +0100

    Reduce size and improve performance of GumJS built-ins
    
    - Enable compression for the V8 runtime also, not just Duktape.
    - Enable loose Babel transformations for smaller code and better
      performance.

commit 9c03bbc1faf288e11dabeb98569f6afa5f165021
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 24 19:08:57 2020 +0100

    Bump frida-java-bridge

commit 1a6501805aa99acf8d24ed3a2d63c3b7cf6a209b
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Fri Feb 14 16:08:35 2020 +0100

    Fix OOB write in the i/macOS Exceptor's API hooks (#397)
    
    Need to honor `masks_count` also as input argument.
    
    This would typically result in stack corruption when the application
    calls the Mach exception handler API requesting only a subset of the
    handlers.

commit 4443b6980f315be14bc8fa0abab7deb8ce8175fe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 23 16:42:09 2020 -0500

    Fix use-after-free on Stalker EventSink::stop()

commit 3ca8cd35253d55fa52e45db4e89c97b0c60d5788
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 7 03:21:51 2020 +0100

    Fix Android linker detection in sandboxed processes
    
    Where we're not able to read the symlink.
    
    This reverts the future-proofing attempt made in 2de8480. We will have
    to find a better solution, but until then we'll hard-code the path
    based on the API level.
    
    Fixes #393.

commit 4b3beb8373f2a265c955344e8cdc1b5a6f48bf85
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 4 03:17:09 2020 +0100

    Fix type punning warning reported by GCC

commit 6ae2834b73d7839c719095311e9c7f5bdb58fa6e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 4 02:27:34 2020 +0100

    Improve the POSIX Exceptor backend's API detection
    
    Tested on glibc 2.30, Android 4.3, and Android 10.

commit d28257b0d4568280955d7ebe3da82f7a33c2064f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 4 02:24:55 2020 +0100

    Add Process.query_libc_name()
    
    As it turns out to be quite tricky to determine on some platforms.

commit cdd6f565c2a54dc458ae2f56f121b111fd931edf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 4 02:21:21 2020 +0100

    Fix stylistic inconsistency

commit 08067ad9041936f548e4ef1006431c1984b91a23
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 3 19:52:19 2020 +0100

    Fix Exceptor crash on Linux in early process lifetime
    
    Should not count on PLT/GOT entries being initialized.
    
    Fixes #391.

commit 08a19ffe6b79b8a777cf93cddddc8f0ab79db66f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 3 05:33:10 2020 +0100

    Bump frida-java-bridge

commit 0127dc156f30120b05aa4ab310e445e1aa37a04e
Author: bigboysun <382136249@qq.com>
Date:   Tue Dec 17 11:16:37 2019 +0800

    Fix handling of Thumb IT blocks
    
    Fixes #383.

commit e1656db316d8b1e16a696873012cda0be62dafb2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 24 01:20:45 2019 +0100

    Fix warning regressions about unused functions

commit 2f7c88aad90605a3eb876e89204de9a73cb71285
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 23 23:06:02 2019 +0100

    Add missing CModule headers to build system targets

commit 64a99e6f070e96d84cac6e4a013d4a209c646a6e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 23 22:49:09 2019 +0100

    Fix regression in the CModule Stalker integration
    
    By adding headers now required by {X86,Arm64}Writer.

commit 334b9d1994869ae0c9f6db3e45eea99abecb6e76
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 23 22:47:25 2019 +0100

    Port the CModule Stalker transform test to arm64

commit 5858a8fecb291c3e60c300191ef156c8c4b36f77
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 18 02:19:12 2019 +0100

    Fix error-handling in the libdwarf DebugSymbol backend
    
    Fixes frida/frida#921.

commit 672d1008118865891807762a19f3e742fd9d3ba4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 18 02:18:12 2019 +0100

    Improve NativeFunction to use the Interceptor unwinding API
    
    To be able to recover from crashes in code with trivial side effects.

commit 7a60c8ca8e648cfe799db4a63bccaac6e21cd7c6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 18 02:15:35 2019 +0100

    Add Interceptor.{save,restore}() to support unwinding
    
    This means we won't get stuck on script unload because Interceptor ends
    up waiting for calls to finish.
    
    Useful for NativeFunction configured with `exceptions: 'steal'`, which
    is the default.

commit 5608d6ee6114607128322ada1b6ead6460e2bdb3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 18 02:10:59 2019 +0100

    Fix Stalker activation target clear logic in fast mode
    
    Should never backpatch when the target is the activation target, as we
    will otherwise not reach the logic in replace_current_block_with() that
    clears it.
    
    Kudos to @andreafioraldi for reporting and providing a reproducer.
    
    Fixes frida/frida#1118.

commit 665fd43e0c2ecf7f86bffe78fa27683e6180ff1c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 18 01:58:52 2019 +0100

    Plug hole in Stalker backpatching logic for call return location
    
    We shouldn't even generate a call to the backpatching helper when
    running in paranoid mode.

commit 054e8b634434cc47a65161ac5ff5c4b3f35937e4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 16 02:55:44 2019 +0100

    Augment ArrayBuffer with wrap() and unwrap()
    
    Replacing NativePointer#mapByteArray() and implicit support for
    ArrayBuffer in NativeFunction parameters.

commit 3f7f5cfc4c06af1a51c1d046af2427f50c517db3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 16 02:39:46 2019 +0100

    Add Stalker activation APIs to the vapi

commit 41399fdb717478e1c51d6c3e7ae9beb308d2c93b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 16 02:33:41 2019 +0100

    Bump frida-java-bridge and frida-objc-bridge

commit ec23810ec968993d56123c506660e34ca10fed7c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 15 19:52:12 2019 +0100

    Bump frida-objc-bridge

commit a1034d38f7cc4e9716a1b3b1a93c43f5a3cf0135
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 23:38:52 2019 +0100

    Accept ArrayBuffer parameters in NativeFunction
    
    To avoid needing to allocate and copy to memory when dealing with an
    already created ArrayBuffer, e.g. returned by frida-fs.
    
    This is a very dangerous feature as the called function may hold on to
    the pointer and use it after returning. But users already have to take
    this into account when using Memory.alloc().
    
    Because of how dangerous this is we don't allow passing an ArrayBuffer
    anywhere a NativePointer is expected. We limit it to NativeFunction
    parameters, as we know the JS object won't get GCed while the function
    call is in progress.
    
    Fixes #320.

commit eec44a1bf4ef6dee7397ba866674581a044e0d29
Author: David Manouchehri <david.manouchehri@riseup.net>
Date:   Fri Dec 13 16:58:34 2019 -0500

    Add NativePointer#mapByteArray() (#385)
    
    Useful for reading and writing to memory without needing to call the
    read/write*() APIs.
    
    The trade-off is safety, as a bad pointer is going to crash the process
    instead of throwing a JS exception.

commit 359ad5fa26bd383a48ad2d1a2dba73d0938f38f1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 22:00:27 2019 +0100

    Improve detection of _pthread_exit() on iOS
    
    The function has only been stable for a couple of major releases, and
    changed quite a bit prior to that.
    
    Turns out pthread_exit() has proven very stable across releases, so it
    is better to parse it looking for the first BL instruction, which is the
    call to _pthread_exit().
    
    Kudos to @mrmacete for the neat idea!

commit bba7839ad5ce52a7857b422786806e5e86bef1ae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 21:13:52 2019 +0100

    Tweak the Stalker garbage collection logic
    
    - Lower the time tolerances, and adjust polling accordingly.
    - Short-circuit time check for the current thread.
    - Only get the current time once.

commit 7f24340ee8b24be19effc062726b8f0590e9472e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 21:09:46 2019 +0100

    Fix Process.has_thread() for the current thread on i/macOS

commit 036854aa6bcb9d6e02312f486557ab7dfb00bfd6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 06:53:49 2019 +0100

    Optimize detection of _pthread_exit() on macOS

commit 8f9e6c4e9d383b7eec39ded94cde697c87dd8f23
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 06:13:23 2019 +0100

    Fix detection of _pthread_exit() on iOS

commit 296261daac3efd90eadda9f8f0a6c05ae5cf9a06
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 05:31:34 2019 +0100

    Call Stalker.unfollow() if Stalker JS transform throws
    
    As the unhandled JS exception will otherwise typically get lost because
    the process crashes right after.

commit a55d19b1c9f0c594c9bf4e47cdb5536852a8c427
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 05:28:27 2019 +0100

    Plug holes in handling of Stalker transform calling unfollow()

commit 1e356ca0b62aaaed4cecfdaba730cf52aca2c441
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 04:44:22 2019 +0100

    Add test coverage for Interceptor + Stalker combo

commit d59c36d966de8c6dd7d691ba70a7388aed979ec6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 04:43:37 2019 +0100

    Add support for disabling automatic Stalker queue drain
    
    By setting Stalker.queueDrainInterval to zero.

commit ac08a0338e4460368fbb30b4ada28318fb6936d5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 03:28:05 2019 +0100

    Add script for running tests on the one missing Android arch

commit d51f0b83be59e6afc62ab025a67211564ce28374
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 03:26:53 2019 +0100

    Fix stylistic inconsistencies in the low-level helpers

commit 46eabb546a6d766c0cdaa8152811c1e6e0709441
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 03:22:55 2019 +0100

    Fix up the GumJS tests covering Stalker
    
    So they can be promoted to run on our CI.

commit a4e62e9ffdbb366166e377d47ebc53a3a9fafcb5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 01:52:24 2019 +0100

    Fix thread lifetime handling in Stalker backends
    
    - Clean up garbage after threads that have terminated. This means we no
      longer get stuck waiting forever in such cases when unloading a script.
    - When cleaning up garbage after a thread that is still alive, make sure
      at least 50 ms has passed since it started its journey back to the
      original code.
    - Unfollow when about to enter _pthread_exit() on i/macOS, as it's going
      to tear down the POSIX thread, and that means we won't be able to do
      much without running into undefined behavior.

commit 1eb2fa74a425b6271d00b7b226fc6c932c2cdb19
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 01:36:10 2019 +0100

    Add Module.find_symbol_by_name()
    
    For now built on top of Module.enumerate_symbols().

commit 2376f9a2a3a6cd401d86fa1cb1ba152bd9aacd85
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 01:34:40 2019 +0100

    Add Process.has_thread()
    
    For quickly checking if a thread is still around.

commit 24c422ec6a68499f418a47493686bf9ffe96810f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 13 01:32:17 2019 +0100

    Fix the StalkerDummyChannel test macro definitions

commit 09ecd93be2da9f0a2dcae6e84a440e67b5172b61
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 12 05:32:45 2019 +0100

    Refactor the Stalker “follow_thread” test

commit 240d80ce532d24cac710e3aa3906e6f8554786ae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 12 05:26:57 2019 +0100

    Port code writers to the “bare”-metal data structures
    
    For improved reentrancy.
    
    Also make label and literal storage allocation lazy, to speed up the
    short-lived use-cases, e.g. on the stack.

commit ff891f0c734942935044c4392d17307357ab98ef
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 12 05:15:00 2019 +0100

    Add MetalArray.remove_all() for convenience
    
    We intentionally don't bother shrinking, to optimize for our current
    use-cases.

commit 8b040a3f23dbf0011e89ed0dcc87d6de52e3362f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 12 05:12:12 2019 +0100

    Make the “bare”-metal data structures public API
    
    So we can use them in our code writers for improved reentrancy.

commit 5934ec7010c334abcb555a91271eee9d93f9f78e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 12 05:10:17 2019 +0100

    Switch MetalHashTable to use our internal allocator
    
    Which improves performance. It's not as close to the metal, but suits
    our needs.

commit 1aabd37606f6e43dccc99de26b960f952971c783
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 12 05:01:29 2019 +0100

    Rename the Capstone allocator to allow other internal use
    
    So we can use it for other reentrancy-sensitive internals.

commit 3aceefebbb45bb2a92a7db8ab8faf5c5a75299b1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 11 05:56:40 2019 +0100

    Fix Stalker reactivation with indirect deactivate()
    
    E.g. when there's a call to a PLT entry, and the entry happens to be in
    an excluded range.

commit 307da18748bb2c61195ae32ed94ae07fb6672fb1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 11 03:07:29 2019 +0100

    Simplify the Stalker exclusion logic

commit 23ff0cf6544d3bafb4861f3b6e78431e638def0c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 11 01:46:34 2019 +0100

    Fix Stalker on older x86 CPUs
    
    By only preserving YMM registers if the CPU supports AVX2.

commit f165ad28548bf5f6fe56beebcca517cf3c48db99
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 11 01:42:24 2019 +0100

    Fix assertion when building with MSVC

commit c6b5a44127fe652fac9f0726704e5386d662ab39
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 10 06:15:46 2019 +0100

    Fix build regression on Linux w/ older kernel headers

commit 9f92d5c4b76fe67aa5171bc32caffe523af4ce29
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 10 06:09:42 2019 +0100

    Add missing Stalker stubs for 32-bit ARM and MIPS

commit c2fbcc92efe03f3a1078b850cbedf61bb24cc5b9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 8 22:54:08 2019 +0100

    Add “traps” option to NativeFunction
    
    To allow NativeFunction calls to be stalked even when Frida's own memory
    range is marked as excluded.

commit eeeac177bdf7126fdc635c241ff9b48b3688e078
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 10 05:19:26 2019 +0100

    Add Stalker APIs for temporary reactivation
    
    To allow stalking code from inside an excluded memory range.

commit 0d1ee0d0d527c212f87be3a534218c0849394d34
Author: jonwilson030981 <jonwilson@zepler.net>
Date:   Fri Dec 6 15:05:38 2019 +0000

    Fix thread enumeration issue on Linux when using Yama (#382)

commit 2da7de17a125ca2881e795f4211d6b5da42eeb82
Author: David Manouchehri <david.manouchehri@riseup.net>
Date:   Wed Dec 4 15:26:17 2019 -0500

    Add “size” member to symbols when available
    
    Only implemented on Linux for now.

commit 6ac3b0a31d7941f30152edca9b1a4f4b136ea7a6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 5 20:12:03 2019 +0100

    Bump frida-java-bridge

commit e6a590f807b9b99fd05cd2e90b9379cd6d1fe601
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 5 19:14:55 2019 +0100

    Fix timestamp truncations in the V8 platform integration
    
    Kudos to @Manouchehri for reporting.

commit 7e6d164dd131fe62f3cdd4303b765d679c580d94
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 25 21:32:33 2019 +0100

    Fix lifetime issues in CModule tests

commit f5e980f6fc035df676c6de1451837803df097b4a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 25 21:31:59 2019 +0100

    Update TinyCC

commit d61fd331a9aacbeb3284bd12d17abd943e8ac286
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 25 21:13:16 2019 +0100

    Allow Stalker to use RWX pages on iOS/checkra1n
    
    I.e. even when limited to ALLOCATIONS_ONLY.

commit c0aed15af889f5aa91e40ee7319b9c0133b5c27a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 25 21:10:38 2019 +0100

    Work around broken RWX allocations on iOS/checkra1n

commit 07cd6416f6261cfc0ac66662a689a349a640e2aa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 25 21:08:36 2019 +0100

    Add gum_query_rwx_support() for finer-grained RWX checks

commit 269396f83aaa4b6704d52e2d3794bb6cf476e53d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 25 21:07:19 2019 +0100

    Always run Stalker performance test on iOS

commit cc1f0f57168459a9e5b21884ce54c61e41aed54d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 25 21:05:34 2019 +0100

    Limit iOS Kernel API tests to slow mode
    
    As they might crash the kernel on partially supported jailbreaks.

commit ae76d2076039c1ff1c25e21f71fd3ffa525889b3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 25 21:01:53 2019 +0100

    Add ModuleMap to the CModule runtime

commit 3fe89d3cc24378476a8192c0639e7ab4ad581919
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Fri Nov 22 23:32:37 2019 +0100

    Use g_mkstemp() instead of mkstemps() (#376)
    
    Because on iOS 13.x `mkstemps()` uses `arc4random()` and that
    breaks os_unfair_lock when using Stalker.

commit 2a66706d6ec71c2650e8c72ac0175e9be55e8168
Author: Jon Wilson <jonwilson@zepler.net>
Date:   Thu Nov 14 23:57:13 2019 +0000

    Port to ARMBE8 (#375)
    
    This architecture has little endian code, but big endian data. ARMBE32
    has big endian code and data, but is considered legacy, accordingly we
    are ignoring that.
    
    Also, TinyCC doesn't appear to support BE8, so that isn't implemented
    for now.

commit 97849508432f447a9984096374cb5f1ddc92ef09
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 12 03:22:45 2019 +0100

    Fix RWX detection on the checkra1n iOS jailbreak
    
    The observation that we are able to flip freshly allocated pages to RWX
    doesn't mean we will be able to flip pages belonging to the dyld shared
    cache. So for now just don't bother to detect it on iOS >= 9, and assume
    it's not supported.

commit d30380573f651e59898142ca24ad19802f077912
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 7 01:56:26 2019 +0100

    Refactor to use g_newa() where appropriate

commit 0de4ae54cfac623faafa8b6334d27b5bc2096b6e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 7 01:39:26 2019 +0100

    Improve handling of optional args in call() and apply()
    
    To behave like the builtins.

commit d3645e86b8075866f98ede63bafe6709d4b4a6e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 7 01:36:32 2019 +0100

    Simplify “null-or-undefined” checks

commit 55d0dc0de41c1b627558e3129736f59678ef978c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 7 01:34:29 2019 +0100

    Fix off-by-one in apply() error-path cleanup logic
    
    Should not matter as the v8::Value is empty, but makes for confusing
    code.

commit d400cf0d5250d8a216bcd0a72d682d1737ef4e42
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 7 01:23:35 2019 +0100

    Fix apply() on NativeFunction w/o args in the V8 runtime
    
    The `argv` pointer was used to signal whether a pre-parsed version of
    the argument list was to be used. This logic did however not take the
    empty argument list case into account (d'oh!).
    
    Kudos to @taviso for reporting this bug.
    
    Fixes frida/frida#1074.

commit f817ea7b7ebdebc727809dc26cb048e541bdfa6f
Author: 葛兵 <gebing@foxmail.com>
Date:   Wed Nov 6 12:21:36 2019 +0800

    Improve NativeFunction to support variadic functions (#369)
    
    Such a variadic NativeFunction can be declared as e.g.:
    
        const func = new NativeFunction(ptr, 'int', ['pointer', '...',
            'pointer', 'float']);
    
    Which means the variadic argument types can be `'pointer', 'float',
    'pointer', 'float', ...` repeatedly. And the invocation of a variadic
    function can be with any number of arguments which is greater or equal
    the number of fixed arguments, such as `func(ptr(1))` or
    `func(ptr(1), ptr(2))`.

commit 738d757d539cab147c3d6185a376f9948389248c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Oct 27 04:02:14 2019 +0100

    Ensure code is readable before accessing on Android >= 10
    
    Kudos to @Alien-AV and @esanfelix for the painful research that made the
    solution possible to implement in one late Saturday evening. :-)
    
    Fixes frida/frida#1043.

commit ff75dd2af471770ef758c3ae230e9afff79942e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 26 02:54:11 2019 +0200

    Bump frida-objc-bridge for improved type handling

commit b992f7aeea0e342882a6a20d814e9996109c0c24
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 17 05:16:21 2019 +0200

    Add LEB module to the Windows build system

commit 5d33fe9a436cfa435a86a6c6a57810f3452806ed
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 14 20:42:26 2019 +0200

    Add missing cast to fix warning when building w/ MSVC

commit a1039b281e0af9030f5d16ab9c2be651c848a96c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 14 19:51:15 2019 +0200

    Add missing include to JSON-GLib header in CModule

commit 74cca04dfdc219d905cd60c7051494e4ea19f806
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 14 19:49:23 2019 +0200

    Fix crash on Android systems without a vDSO
    
    Another regression introduced in 2de8480.
    
    Fixes frida/frida#1048.

commit 028128cde8193ca23a6aa4c128c75df3e12aa1a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 14 16:44:09 2019 +0200

    Improve error-handling when parsing Mach-O images

commit f21772a563288278db7f5e2b226b54d174477e4b
Author: Álvaro Felipe Melchor <alvaro.felipe91@gmail.com>
Date:   Mon Oct 14 14:59:03 2019 +0200

    Fix ARM vs Thumb when restoring exception on Darwin (#362)

commit 1e20263ce4faf07e8fb851248ba8889b8416ad4d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 14 05:15:29 2019 +0200

    Fix casts in the MemoryAccessMonitor tests

commit 0e99fac181ef51caf3c5ecfaa7bea84850e4d82f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 14 05:13:32 2019 +0200

    Fix the MemoryAccessMonitor JS callback teardown logic

commit f3776187c894aeb67c0116795e6cf5f6581ded52
Author: Álvaro Felipe Melchor <alvaro.felipe91@gmail.com>
Date:   Tue Sep 24 10:46:01 2019 +0200

    Expose MemoryAccessMonitor to the Duktape runtime
    
    And remove Windows guards now that it's available everywhere.

commit c227af0d8f3980de7e8eada232b24fbfbce3d4b1
Author: Álvaro Felipe Melchor <alvaro.felipe91@gmail.com>
Date:   Wed Sep 18 16:21:49 2019 +0200

    Implement MemoryAccessMonitor for UNIX platforms

commit 1ebcb1e473fe73cc565e4278cb2b9904f2f4e57f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 14 03:07:12 2019 +0200

    Fix a few stylistic inconsistencies

commit 1f97c985f49748a3c6f25fadacaff88bb09cfb27
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 14 00:07:16 2019 +0200

    Fix lifetime of linker ModuleDetails on Android
    
    Fixes #361. (Regression introduced in 2de8480.)

commit a6150e029f19c3c2aae50a44b7d6e83bdf5980f3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 11 19:10:34 2019 +0200

    Fix warnings reported by GCC on Linux

commit 0d777455d0ee194570b87816fa5d5449ac8fd63c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 11 19:09:30 2019 +0200

    Update TinyCC

commit e44529c7071daf83de925f43d012b2d7fa2132bc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 11 18:17:43 2019 +0200

    Bump frida-java-bridge

commit 2de84803f918e86b73b4b8234dfad1fbed62357b
Author: Tim Strazzere <strazz@gmail.com>
Date:   Thu Oct 10 19:32:20 2019 -0700

    Make linker seeking future-proof on Android (#360)
    
    Per frida/frida#1026 and frida/frida-gum#354 - I looked into how the
    linker is meant to be established in Android going forward.
    
    According to
    
        https://source.android.com/devices/architecture/modular-system/runtime#bionic-changes
    
    Google intends to maintain both `/system/bin/linker` and
    `/system/bin/linker64` as a symlink, pointing to what the real file
    will be.
    
    This means if we look for those files and they are symlinks, the linker
    should be mapped to memory using the files' realpath. So for future
    changes, looking to see what the symlink resolves as should make this
    work in all future version (and keep its backwards compatibility).
    
    Tested this on Android 5, 7.2, 8.0.1, 9 and 10.

commit 161bed42725a037a4f202e87549ff6d97af983dd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 10 14:57:09 2019 +0200

    Bump frida-java-bridge

commit 155470c90ce39dd06ef21fe0b6cf1a4ebc5baebd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 9 20:01:58 2019 +0200

    Port basics to iOS/arm64e
    
    Untested for now.

commit fc12387a30413ab4c9cde616a8b078ee436bc9e6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 9 20:01:03 2019 +0200

    Update TinyCC

commit 24105e3f86c7bef432c3152fcc7c435948934108
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 8 17:22:24 2019 +0200

    Handle read errors in DarwinModule.enumerate_symbols()
    
    To avoid crashing if the task is suddenly gone.

commit 591d742ea27d494544f985d117f41856646f83a7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 8 16:42:15 2019 +0200

    Fix linker detection on Android 10
    
    By updating to the paths used in the final release.
    
    Fixes frida/frida#1026.

commit e9a35288fdf2cd6af4cb1467388eb6defe6694ad
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 8 16:22:54 2019 +0200

    Fix handling of RWX pages in the V8 runtime
    
    As we still allow them on non-iOS.
    
    Fixes #350.

commit 59d614c7185bb520c93cc4d8d4465c87ad466b32
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Oct 8 14:47:18 2019 +0200

    Fix parallel recv().wait() (#359)
    
    Multiple threads may wait on the same message type. So to solve this,
    on every incoming message one thread at a time gets woken up in a FIFO
    fashion. While at it we also make sure no exceptions thrown from the
    wait callback may cause an infinite wait.

commit 395eb263f33ae7e96668d43238ef98cb5cc5ad61
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 5 01:13:22 2019 +0200

    Port Gum.Darwin.Mapper to use the remaining portable enums

commit cb26a8c4f454e95d694fd7022326cb5f030cedcd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 5 01:12:03 2019 +0200

    Add missing enum for Gum.DarwinExportSymbolFlags

commit f602889db6df120114817ecb1e78ab1b9573bb45
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 5 01:14:54 2019 +0200

    Add missing enum for Gum.DarwinExportSymbolKind

commit 9bd48f3aa4ce33b08e5e67afd75fbfca34d26ef2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 5 01:07:42 2019 +0200

    Add missing enum for Gum.DarwinBindSymbolFlags

commit 40b6f0959d6649fd09b203bfff656b97ccbb5254
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 5 01:06:14 2019 +0200

    Fix “cname” of the Darwin enum types
    
    They do have proper typedefs, so those should be used.

commit 6f76eb1ced7f31796ab6fae6a4d4a9c6a89675fc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 4 23:49:16 2019 +0200

    Fix namespacing of the DarwinModule callback types

commit e8bbded0ba54484aa8511fd973e4472f01b1f7b6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 4 23:45:35 2019 +0200

    Port Gum.Darwin.Mapper to use the portable ordinal enum

commit 8e5a391aff49cbe158af450ac1a976b5645f543f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 4 23:44:56 2019 +0200

    Add missing enum for Gum.DarwinBindOrdinal

commit e45c6cbc290b4a632953d93eb9e822cbbad75d06
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 4 22:50:24 2019 +0200

    Port Gum.Darwin.Mapper to use the portable enums

commit 9d5f076c4dfd465ead8d9429b98db480ac83e612
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 4 22:47:58 2019 +0200

    Add missing enum for Gum.DarwinRebaseType

commit bcab26301453f9a3dcee2e345217d12b80d202b9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 1 19:46:33 2019 +0200

    Fix the DarwinModule section enumeration logic
    
    Regression introduced in 7cb8a89.

commit 6ebfb6afc4c3241876ddae873ca42aee1900aaed
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 1 18:45:47 2019 +0200

    Refactor Interceptor tests to fix duplicate symbols
    
    As reported by Apple's linker in Xcode 11.

commit 7cb8a89cefad67acea698587fdb6f5c685c04447
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 1 18:43:49 2019 +0200

    Fix void pointer arithmetic in DarwinModule
    
    To be able to build with MSVC.

commit 239ff8a8facb811cfac80e115627925d3ca8f42d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 1 18:41:52 2019 +0200

    Fix minor stylistic inconsistencies

commit 89f665895cf5b67554012d2cd89fb0dba46694cd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 1 02:49:05 2019 +0200

    Add DarwinModule to the Windows build system

commit f2882ef2381f24ec5ec7653d56a1ac8477c298b4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 1 02:45:17 2019 +0200

    Make remainder of DarwinModule cross-platform

commit 4ea864d89f15e4106a4a42606297b77f81753fb3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 1 00:31:11 2019 +0200

    Fix DarwinModule symbol enumeration without task
    
    I.e. when reading from a file or blob without any live process to read
    from.

commit 995b97f40208435257e254fe79b6f2434f3e0c89
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 1 00:27:38 2019 +0200

    Infer DarwinModule name from dyld modules also
    
    We already infer it from executables and dylibs.

commit 6f949bdae9a5dec023b370d4bdb27d79cdf30467
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 1 00:25:32 2019 +0200

    Add GUM_DARWIN_PORT_NULL to the vapi

commit f16d13cfaf2950830c512a4d12083dfa9201ece6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 26 22:34:11 2019 +0200

    Move Gum.Darwin.Module to the cross-platform API
    
    So it can be used on any platform to parse Mach-O files.

commit 82a033066a868e015780c792d77819d54badc4a9
Author: Álvaro Felipe Melchor <alvaro.felipe91@gmail.com>
Date:   Sat Sep 28 01:27:26 2019 +0200

    Fix stalking of thread creation on Linux/arm64 (#349)
    
    The clone syscall results in a child light-weight process (LWP), which
    we need to handle to avoid it stomping on the parent's Stalker state.

commit a0d4971e9ae3b0e79b16df1cdbac78212b6b85a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 24 06:08:22 2019 +0200

    Bump frida-java-bridge and frida-objc-bridge

commit 54ed6ddbd39d496b509bd583e38ba81e6161be81
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 19 19:48:27 2019 +0200

    Fix is_locked() query w/ current thread in the V8 backend
    
    It's not considered locked if the current thread is the one holding the
    lock. This makes it consistent with the Duktape backend.

commit 77efa895672203518c75cda3d78c64c65e9e838c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 17 03:01:53 2019 +0200

    Add CModule.dispose() for eagerly cleaning up memory

commit 057a527265b52d5a3304481f4a4a4fe68cd09d32
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 17 03:00:47 2019 +0200

    Fix lifetime of symbols attached to CModule
    
    We accidentally kept the CModule alive instead of its symbols.

commit bdf6053e1a170db0567ee388700f7a16a69e19bd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 17 02:59:05 2019 +0200

    Inform V8 about externally allocated CModule memory

commit 7a5b014beaedc3419df3dbadaf326a8c78779fc9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 17 02:57:34 2019 +0200

    Fix cloaking of CModule ranges
    
    Only part of the range was cloaked.

commit 94059dc47c4cfafde51d67034b87fa33b02ae26a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 17 01:59:44 2019 +0200

    Add missing ref-counting APIs to the CModule runtime

commit d3bdccf3a7ac37afa0b1db50ed39b04359bcffad
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 17 01:20:57 2019 +0200

    Remove unused variable

commit 3e863139fd97c8dfa727da0706b3bd4d02278f05
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 17 00:58:24 2019 +0200

    Bump frida-objc-bridge

commit 5a65f76cab1309ccfd7354323eb7c5c789a6ae85
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 17 00:50:43 2019 +0200

    Add some more convenience APIs to the CModule runtime

commit 1234681ba3c893b8ac2a721504f73836e3fce20a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 17 00:50:19 2019 +0200

    Update TinyCC

commit b26f0e23e545aed88adaea631031454cafe2075d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 17 00:50:14 2019 +0200

    Add CModule test for basic floating point

commit 5a7d3eaa054e14b0703577c712c4a40209122635
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 16 19:05:01 2019 +0200

    Update TinyCC

commit 1c1c8e4625172cf563abc96409546e4ba3f5c48b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 16 19:04:50 2019 +0200

    Strengthen the CModule varargs test

commit 1b111308199c23abc84736c5301e54ea6a8907cb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 16 19:04:32 2019 +0200

    Add GString and some handy constants to the CModule runtime

commit 1b75612d31b0521953b0a30a7c1961010cdd951b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 14 05:14:24 2019 +0200

    Improve CModule error reporting

commit 446bc5a78cd60de60e667777aeea6bc7b42d188d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 14 05:13:33 2019 +0200

    Add GumOS typedef to the CModule runtime

commit 6f5f76c6fe4a06ff2248ddd5badca0834c47b112
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 14 03:47:11 2019 +0200

    Update TinyCC

commit 7adbcbc7619f2da5f7c15508c19f4d88a75aa5ae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 14 00:51:13 2019 +0200

    Tweak the submodule URL for consistency

commit 8d9da64f4010f10fe3f2f2ff454b9c9fecf810c0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 7 02:39:07 2019 +0200

    Add CModule API powered by TinyCC
    
    For implementing short callback functions, where the cost of context-
    switching in/out of a JS VM is higher than the actual code to be run,
    even in unoptimized form.
    
    Up until now we have had to use the CodeWriter APIs to generate such
    callbacks, or deploy a shared library to Module.load().
    
    This allows us to write inline C in such situations, and also allows
    threads to be created, full control over synchronization, and calling
    functions without libffi overhead. (Great for fuzzing purposes.)

commit c10bbdbeeabbe64cb12b0a89bfac6fcf1d74e874
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 11 00:48:09 2019 +0200

    Add Stalker.exclude()

commit 74f2ea8f06cef7ac089f80b61715c97bdaa313cc
Author: 葛兵 <gebing@foxmail.com>
Date:   Fri Sep 6 19:06:23 2019 +0800

    Improve hexdump() to clamp length to length of ArrayBuffer (#347)

commit 186435fe16abebd0cf445b334e37dd4e046a3820
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 4 01:37:30 2019 +0200

    Bump frida-java-bridge

commit 906ce2c3b0fa43dd6b56b089e013f254351d791d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 24 03:05:45 2019 +0200

    Remove unused variable
    
    As we can consider the assertion superfluous.

commit fab4744cb6e260c44e8d3289fa2408aa0ff3d8e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 24 02:49:08 2019 +0200

    Re-generate Duktape without the Reflect builtin
    
    I.e.:
    
        -UDUK_USE_REFLECT_BUILTIN
    
    So the Babel polyfill is used instead of the non-standard builtin.
    
    Fixes frida/frida#989.
    
    Kudos to @gebing for tracking this one down!

commit 70d9c382cadc2dc6ede1ed1313e44a7c0f43eea9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 24 02:27:48 2019 +0200

    Speed up simple ModuleApiResolver queries
    
    This makes “frida-trace -i open” about 20x faster on a typical iOS app.

commit 3cc0ed7704396efa0b4ad146abb008cd1497190b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 24 01:31:24 2019 +0200

    Fix crash when logging early in process lifetime on iOS

commit 1868c063d603d40fa52a7d44652e35665b67c3e2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 22 02:53:44 2019 +0200

    Revive the Gum.Darwin.Mapper test program

commit c8f05382152af960f47d4b92cd13b80f12d236a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 22 02:41:45 2019 +0200

    Improve error-handling in Gum.Darwin.ModuleResolver

commit 75473c2741b63802bec8ec2aacbedbcc7e4fad91
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 22 01:52:37 2019 +0200

    Fix Gum.Darwin.Module.new_from_file() from shared cache

commit 90d2385573cd5ef69e5f2635362c821d2cbcb299
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 22 01:25:05 2019 +0200

    Improve error-handling in Gum.Darwin.Mapper

commit 8f706d33992b6e05d28cafa19470c5a9620d5d69
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 22 01:24:55 2019 +0200

    Improve error-handling in Gum.Darwin.Module

commit 79d5f4d6bf7b31eebca6918b7d403a34d844cb66
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 21 21:13:43 2019 +0200

    Improve the Interceptor C API
    
    To be consistent with the less verbose naming used in GumJS.

commit b4d79e6c9872f15b3e83391dcbe1e7a89c5665d7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 21 04:03:10 2019 +0200

    Fix interception of already intercepted Thumb function
    
    To allow two copies of Gum to hook the same function.

commit d8c5198caa136e08b3cf95c10925793402ccefe9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 20 22:41:58 2019 +0200

    Add test for hooking close() on Android

commit d3dbf98a85d0d73c5897ca12f244d49e30f6b585
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 20 22:41:41 2019 +0200

    Simplify Interceptor tests for Android a little

commit 426f065b132b1716c91170c1ae6dc8418e126661
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 20 22:40:15 2019 +0200

    Fix a few stylistic inconsistencies

commit afb25b19b4612d5a6bc5e95a2db0b3d018ec2b23
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 20 21:54:20 2019 +0200

    Bump frida-java-bridge

commit 115410d7a0f259d404568689cbbdce2d4350711b
Author: 葛兵 <gebing@foxmail.com>
Date:   Wed Aug 21 00:50:59 2019 +0800

    Tweak Memory.patchCode() to avoid crash on android-arm64 (#344)
    
    By clearing the cache before flipping the protection back.

commit 38bf79ed9d0f889fbdd09f38515119efa168f36d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 20 18:08:41 2019 +0200

    Fix new assertions in the MipsWriter test-suite

commit e519a04eee7af9b83f3576ba4c99a599cc36a1b0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 19 03:18:09 2019 +0200

    Remove unused type

commit db0ffa7e56a2b7a2fa1833a92e78053639c7fcb2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 19 03:17:58 2019 +0200

    Fix regressions in the literal ref endian logic

commit 0ba8429d77a138dcbd4d30777b6adbc7dc6b69e9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 19 01:09:20 2019 +0200

    Add missing casts to GUM_DEFAULT_CS_MODE defines
    
    Which was missing for some architectures.

commit b730b52eb13be55971d46a1584e19871d4a0e53b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 19 01:07:20 2019 +0200

    Fix undefined behavior in MipsRelocator.write_one()
    
    It was failing to initialize the “rewritten” variable in some cases.

commit 83711d5c717a09d7f7c68e1fe480478885066f83
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 19 00:19:12 2019 +0200

    Remove trailing whitespace

commit cb4a5bbc8b472abaa4656c6ed277c8a9a470f6db
Author: Jon Wilson <jonwilson@zepler.net>
Date:   Sun Aug 18 20:02:05 2019 +0200

    Port to MIPS64

commit 8c721c14a863a9e142bb2d0abaaed4b75f7edf30
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 16 20:55:53 2019 +0200

    Revive handling of NativePointerValue
    
    Which was broken in a few places.

commit 605afd012e18735d2b622ee80cc0d51cabb879b7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 12 22:08:58 2019 +0200

    Switch to the renamed frida-{java,objc} modules

commit 6681e74417a362393a922565cf1354a931a7df5e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 12 18:49:33 2019 +0200

    Bump frida-compile

commit 51cc1b8899e395516b1d740a2d7ae7024b38734e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 12 18:49:26 2019 +0200

    Bump frida-java

commit 6aa4c7ada32b17dc41d23dc5f302459cf1014969
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 9 04:14:18 2019 +0200

    Fix the init_embedded() heap ref count logic
    
    It took two references instead of just one.

commit 72aa9ca48681344899fabf469fe56b35c80e556d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 9 04:12:36 2019 +0200

    Improve naming in the internal heap implementation

commit 0d653d4c309f2333820d996ad7908e01dba9d13b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 9 04:11:15 2019 +0200

    Improve the Spinlock API
    
    - Add GUM_SPINLOCK_INIT to support static initialization.
    - Remove gum_spinlock_free(), as we don't need it anymore.

commit 0def53a7d38f5e3c359b73e25556e0f14b497f7a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 8 20:04:06 2019 +0200

    Make internal heap ref-counted
    
    For single-threaded use from constructor/destructor functions.

commit 98b87ad14441921f6e871360a275bdca22cae536
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 31 18:39:31 2019 +0200

    Bump frida-compile for Windows fix

commit d6e520bd6a65155b463459a6c4af2fb0f56d01ca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 31 18:39:10 2019 +0200

    Skip Babel transforms when building the Promise runtime
    
    To make it as small as possible.

commit 7d8ec2c6c807761ba120b94cdfb8eb115372f7fe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 31 06:19:24 2019 +0200

    Bump frida-java and frida-objc
    
    And move to frida-compile@9.

commit c4ab181cc7f4ad56ea05c650edfe9403b1f29631
Author: Ole André Vadla Ravnås <oleavr@frida.re>
Date:   Wed Jul 31 00:54:35 2019 +0200

    Allow Stalker.unfollow() during transform (#341)
    
    Kudos to Giovanni Rocca for helping fix this.

commit e8d1fb7a5d5ca7677afea48487316cbd9629d16d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 17 16:33:25 2019 +0200

    Fix call to Cloak.remove_range() in dlmalloc on Windows
    
    We were calling it with an empty range due to `size` being mutated by
    the loop. This violated the API contract, and resulted in an infinite
    loop.
    
    Kudos to @PinkiePieStyle for reporting and helping track this one down.

commit b81ab09a179374b6c755dc9eeebb5a26bab0ddd0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 17 16:29:15 2019 +0200

    Eliminate redundant locking in range cloaking logic

commit 772e5ab0d08346b086ac806874b7557c6ffebdaa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 3 23:53:47 2019 +0200

    Fix Cloak.remove_range() when splitting an existing range
    
    The top part ended up right after the bottom one, with no gap between.

commit c1b971b7bd02221795fe796d40a385865f7f16db
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 2 15:42:17 2019 +0200

    Improve Cloak.add_range() to conflate adjacent ranges

commit 30c7918460dcefb2d3a339b564838633731e0990
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 2 15:40:14 2019 +0200

    Fix Cloak.enumerate_ranges()

commit 7566884aa8b879e7c87c8c607e1e4e28b09325e9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 2 15:39:38 2019 +0200

    Remove obsolete comment

commit 4b7545109964e3d84242736683bac8762abdb02b
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Jun 27 14:16:55 2019 +0200

    Fix gum_thread_try_get_ranges() on latest Apple OSes (#338)
    
    In recent libpthread, e.g. iOS 12.x, the `stacksize` field became `stackbottom`.
    As the rest of the fields we care about are still valid, we can simply query
    pthread_get_stacksize_np() to determine the size. This way there's no need to
    add complexity to figure out the flavor of the structure (at least for now).

commit ebde49e0bcde1a70ed7ddff0736edc0d7233271e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 20 02:52:48 2019 +0200

    Bump frida-objc
    
    For new $moduleName property on ObjC.Object.

commit 6f8cf08022ce0642832b14e0602e4ac11e46ce61
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 20 02:11:00 2019 +0200

    Remove TypeScript bindings
    
    Now hosted at:
    
        https://github.com/DefinitelyTyped/DefinitelyTyped
    
    Installed through:
    
        npm install @types/frida-gum

commit 6e36eebe1aad51c37329242cf07ac169fc4a62c4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 19 19:34:42 2019 +0200

    Bump frida-gum-types to 6.0.0

commit 8c98874844636f3e59583549b7708fdc9d1f6522
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 19 19:33:20 2019 +0200

    Move away from const enums in the TypeScript bindings

commit 3ff0d95599179cf8aa6bdfdca7e6742af42ed4dc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 17 21:58:13 2019 +0200

    Tweak the Interceptor performance tests

commit 4ea84a4aeb1f401b13aea40179b19680793b2c9c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 17 20:53:33 2019 +0200

    Update Interceptor test to match latest arm64 behavior

commit 3a43a447e4f77ab77e8ece5190dab0afffed2298
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 9 20:16:26 2019 +0200

    Bump frida-java
    
    For 32-bit ARM regression fix.

commit 67d8a817b9ee4f4753167106cf2f529ebe6cc380
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 7 20:01:34 2019 +0200

    Improve the Interceptor LR rewrite logic
    
    To support more versions of libdl.so and make the logic safer.

commit a7de49204542f1301f63154b24614b03a48e48b6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 5 12:51:36 2019 +0200

    Bump frida-gum-types to 5.0.6

commit c89c3bf48aa00546303ae8024a837eeda4928334
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 5 12:50:45 2019 +0200

    Improve type definitions for {Native,System}Function
    
    To be able to use them as functions without casting.
    
    Fixes #337.

commit 813047cfd96a25fd35c597607cf0bd45f34f7e36
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 4 17:51:38 2019 +0200

    Bump frida-gum-types to 5.0.5

commit 16c4792352ae735a1ea4d841478539f9f1b49d63
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 4 17:50:56 2019 +0200

    Fix the docstring for SqliteDatabase.open()

commit 0ec4bdf56a908fd3f943fddef445f61004192def
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 4 17:34:07 2019 +0200

    Bump frida-gum-types to 5.0.4

commit f415637da0db6f3b8baab9c43c90efa318c9881f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 4 17:33:37 2019 +0200

    Fix the type definition for SqliteDatabase.open()

commit a92a31f8d6f82df61df4fc6acdfeb0a37c393aa4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 4 01:06:28 2019 +0200

    Fix build regression on linux-arm64

commit 099b2de2d59b3008b7817fcf2b0291b1f00fda09
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 4 00:49:05 2019 +0200

    Improve Stalker to handle restartable Linux syscalls
    
    In case the thread being followed is currently in a restartable syscall,
    it is important that we allow the program counter to shift back, and
    make sure it lands on the syscall instruction when that happens.

commit 3c4421cfc5c0f8feb4b89ab2a93e9b2eaa5b1ffd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 4 00:40:30 2019 +0200

    Fix Linux thread enumeration on x86-64
    
    The GCC stack protector code relies on the `fs` segment register being
    set up.

commit 3c332831d05f41dac790daa821c9ac36b3eb27fb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 3 05:12:44 2019 +0200

    Bump frida-gum-types to 5.0.3

commit a6ac850dfde0a3312fc0e6b938a65dbe894e980b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 3 05:12:19 2019 +0200

    Fix the Backtracer type definitions

commit 3cbe23a66d56e11ac32d21cbb7021fc97249d7f2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 3 02:53:01 2019 +0200

    Bump frida-gum-types to 5.0.2

commit fffbe7bb71132d030cce04c84a1baee64d4de000
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 3 02:52:28 2019 +0200

    Improve type definitions
    
    Issues caught by the DefinitelyTyped test-suite.

commit bf71f1b573d704f48b1bbcc56c9c68af243be3b5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 3 01:05:54 2019 +0200

    Bump frida-gum-types to 5.0.1

commit b6f8afdecaefa055402953f2d0eceeed59a38562
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 3 01:05:32 2019 +0200

    Fix type definition of Java.classFactory.loader

commit e6b60db5743e314b2d69f12ff661fa00801d1440
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 3 01:01:43 2019 +0200

    Bump frida-gum-types to 5.0.0

commit 071604012460bbc6ecc6a8c77c541fc4d31e0509
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 3 01:01:10 2019 +0200

    Improve the Java API type definitions

commit 1c9a398cb29971da67f3c1800fe2fb1264db47e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 3 01:00:42 2019 +0200

    Improve the type definition for gc()

commit 7e3809c9572005f374ca4096b412140b9e7c9dca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 2 18:31:38 2019 +0200

    Improve type definitions to cover nearly everything

commit a95127a2eae667fa890d71a6b373069a45a867c2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 2 03:51:05 2019 +0200

    Bump frida-gum-types to 4.3.1

commit e4550203c37cce54241b4769bd48c01351789122
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 2 03:50:27 2019 +0200

    Improve type definitions for Stalker's transform callback

commit 0b4f2ebcaa717417d55bf5cc218dfb926832757d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 2 03:39:26 2019 +0200

    Bump frida-gum-types to 4.3.0

commit 32b2c078bd4ffc120833dbe5d6bc55f8c0246cfb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 2 03:38:41 2019 +0200

    Add type definitions for Stalker's transform callback

commit 1f6f902ea28035713addca50d386edc2d6351685
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 2 03:25:01 2019 +0200

    Complete the Stalker.parse() type definition

commit 424b68eb4f01c3cd9259c36528cfb701f2a6d63b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 2 02:59:31 2019 +0200

    Improve the Stalker API type definitions

commit 1de8c7f6070dc333e7883142e1ac8aa2f58e2e47
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 2 02:17:37 2019 +0200

    Complete the stream API type definitions

commit fdb3d0fe09e8a9e24c7a99c36844bad596397be0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 2 02:00:27 2019 +0200

    Improve the File API type definitions

commit afa6b6dea88b867900e4e6aeaabf54d61d1fec64
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 1 22:59:45 2019 +0200

    Tweak generate-bindings.py to support older Pythons

commit 83e939150d6c94e01e7cd8505b8241b23b8f2875
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 1 21:38:50 2019 +0200

    Bump frida-java
    
    For regression fixes.

commit 7ecd207b97fe9bad28ba3d467e96a518b5d1eb10
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 31 19:38:05 2019 +0200

    Bump frida-gum-types to 4.2.1

commit 4ed745232c158bfa30e0a20d59fa83858c144bcb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 31 19:37:10 2019 +0200

    Add type definition for NativePointer#not()

commit 5483e6f92e37d65a9077d6f29c924553abb49e22
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 31 04:52:01 2019 +0200

    Bump frida-gum-types to 4.2.0

commit c00b55dbf1e7aa6fb8972b3f54ce0f697676d353
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 31 04:51:07 2019 +0200

    Add type definitions for writers and relocators
    
    Auto-generated by generate-bindings.py.

commit 981a58aed1cca4b473324960b2c3de789fa8d09b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 31 04:50:21 2019 +0200

    Add type definitions for the Instruction API

commit b2c7500ff830d0691190bc9dec93a4c89fbad87b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 31 04:25:53 2019 +0200

    Generate type definitions for writers and relocators

commit 80b1bfa2b7c1e74994346b728a9ea79d1499de1f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 30 21:27:09 2019 +0200

    Bump frida-java
    
    For multi-instance fix and improved Android ROM compatibility.

commit dc64bbdbe1a13987c454c8e7e9ecd1f63a9a13d1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 28 20:12:20 2019 +0200

    Bump frida-java
    
    For method hooking optimization.

commit 7d7c2882aa47a43de9161ee478532d4d1eb1b27b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 28 02:00:54 2019 +0200

    Bump frida-java
    
    For ART exception delivery fix for 32-bit targets.

commit fc25b6ce98d59d3b38003fe759ba04b893e718bc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 27 21:04:10 2019 +0200

    Bump frida-java for stability improvements

commit 24df9e4f181b6d00f21a23747c128659a568dc93
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 27 17:15:24 2019 +0200

    Update test to match new behavior

commit 487e5286facdc539a85821ac46d55f849133855a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 27 17:15:14 2019 +0200

    Fix the Interceptor JS binding flush logic

commit 0f6c141208404329974b277832fb14f05c52ebae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 27 16:51:13 2019 +0200

    End Interceptor transaction on yield
    
    This ensures Interceptor.flush() works as intended.

commit 39e5c143b482fe4faf4a421f319ab835120ad502
Author: iGio90 <giovanni.rocca.90@gmail.com>
Date:   Sun May 26 17:25:52 2019 +0200

    Make libc API public (#336)

commit 2bdcb9a1bc12cbb64898d066e50268579347be9f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 24 22:04:22 2019 +0200

    Fix export lookups on Android apps' own modules
    
    Spoof dlopen() caller to be the library itself, which always succeeds.

commit 219dccfa48392a6cd89d079d3239616bb68752f4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 21 00:44:58 2019 +0200

    Fix crash in V8 runtime when WeakRef is bound late
    
    E.g. if the callback for one WeakRef unregisters a NativeCallback, and
    a thread has already called said callback and is waiting for the JS lock,
    *and* the JS code for that callback binds a new WeakRef when it gets the
    lock.

commit 2c67e3228f191f1eb792b63842003bd59a670063
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 19 15:25:08 2019 +0200

    Fix racy use-after-free in V8 backend teardown
    
    The cleanup of the operation object used the possibly-already-destroyed
    platform object as part of cleaning up the GSource.

commit 52666d00faccb269ab99256d288368f2cb121a45
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 19 03:51:49 2019 +0200

    Move ScriptBackend's scheduler teardown earlier
    
    Its thread pool should be shut down as part of gum_shutdown(), before
    glib_shutdown() forcibly takes care of remaining thread pools.

commit a521b896d8733715df2e6f9d1b411556dbc09f7b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 19 03:36:41 2019 +0200

    Disable quirky tests when building with ASan

commit 79426e5ebc000eb2935d8c9111421510d4b8554a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 18 19:58:50 2019 +0200

    Bump frida-java

commit b7b8035c2752ad72a586690a25a1d8b40d0a386b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 18 02:04:34 2019 +0200

    Bump frida-java

commit 0bb9f0e54b84ce38f8872eeed6ace5d063a6f22e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 17 21:33:45 2019 +0200

    Bump frida-java

commit 3ce2833a9fcb91a5fede25fbe539c762fe01df2b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 15 17:40:53 2019 +0200

    Skip Interceptor listeners during V8 page allocator operations
    
    In case the agent has hooked CC_SHA1(), which might get called on iOS,
    we don't want callbacks into V8 happening at this point as it will
    result in a fatal error.

commit 6f3a0cf21684cc44cd616bb9ed1f77bc1cd2d1de
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 15 01:03:57 2019 +0200

    Actually fix the linker detection fallback logic

commit 9fbbac0b134fc2253f442ce3607180d80302da9e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 15 00:37:33 2019 +0200

    Fix linker interactions on 64-bit Android < 8.0
    
    Turns out Google broke the “soinfo” 64-bit ABI in 8.0.
    
    Kudos to @trufae for helping track this one down.

commit 10e3820570c209a736befe6505502c498083ab71
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 15 00:35:48 2019 +0200

    Add linker detection fallback for Android 7 on ARM archs
    
    Also fix the fallback logic.
    
    Kudos to @trufae for letting me poke his testing device.

commit 7310a22efcfa934710067fcf26c81b8c057f591b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 14 15:58:36 2019 +0200

    Add linker detection fallback for Android 9 on ARM archs

commit e64033a3cd1d3bf193fd2894a397bc09d3fbebfc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 14 02:41:38 2019 +0200

    Bump frida-java for “invalid instruction” fix for arm64

commit e6caa2e9682ab95cdc58a93fde1c6b798f40abce
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 13 00:55:32 2019 +0200

    Add a basic fallback for stripped Android linkers
    
    Only supports older linkers for now.

commit 5629368477285d01c4c3419b7527e0935703d083
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 10 21:16:00 2019 +0200

    Remove redundant 'use strict' directives

commit 5d1ee6f6e1e7001ec48f2827ff59283267d2a6d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 10 18:36:31 2019 +0200

    Add missing wiring for the HAVE_DUKTAPE define

commit 341088275651f806f890b083d00a9fdac32b5883
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 10 00:37:44 2019 +0200

    Add missing function prototype
    
    Accidentally lost in the refactoring.

commit 0f9ed28e278b67fd5687c94d97c5e1100190e70d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 10 00:07:39 2019 +0200

    Share a single ScriptScheduler between backends
    
    This is needed to preserve frida-gadget's wait-for-resume functionality
    after porting it to also supporting multiple backends.

commit de4c5391435f8225760ab7dfa45c5250c97472b9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 9 21:00:15 2019 +0200

    Improve the script backend API and build system
    
    - Allow either backend to be disabled.
    - Specify which backends are available in the .pc file.
    - Canonicalize the Meson option names and declarations.

commit 6777aa6004544fa8fe0560414c43fce98da9e536
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 7 22:19:47 2019 +0200

    Don't enable diet mode by default on embedded Linux

commit 26e7caba16f480f7ca65f1b8660fe40938f4d288
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 7 03:33:19 2019 +0200

    Add missing casts to fix warning regressions

commit 7660f04f3ffe1c134b438e5c5b90100f66234f41
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 7 03:12:39 2019 +0200

    Fix Android linker detection when vDSO is missing

commit 5b3c6b98d0bde59dddbac302aa723f64d3dc33b8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 7 03:04:25 2019 +0200

    Move HeapApi to core
    
    Now that gum-prof depends on it, and we don't want it depending on
    gum-heap.

commit 83e98b4abb16898b7fdb72948654971d5c76c09c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 17:03:02 2019 +0200

    Re-generate Duktape without the Symbol builtin
    
    Polyfill modules like es-abstract may assume that if `Symbol` exists and
    `Symbol.iterator` is present, then `Array.prototype`, `String.prototype`,
    and such must have it, and calls it without checking. (Kudos to @mrmacete
    for reporting and digging into this!)
    
    So to keep things simple we disable this feature, as applications needing
    this kind of features are better off using frida-compile, or using our
    V8-based runtime.
    
    The Duktape snapshot was generated like this:
    
        python util/dist.py
        cd dist
        python tools/configure.py \
            --source-directory src-input \
            --output-directory src-frida \
            --config-metadata config \
            -DDUK_USE_DEBUGGER_DUMPHEAP \
            -DDUK_USE_DEBUGGER_INSPECT \
            -DDUK_USE_DEBUGGER_PAUSE_UNCAUGHT \
            -DDUK_USE_DEBUGGER_SUPPORT \
            -DDUK_USE_INTERRUPT_COUNTER \
            -UDUK_USE_SYMBOL_BUILTIN

commit 5428140645a5999d273513370f9c37dc972cc3f6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 14:35:15 2019 +0000

    Fix tests involving malloc and free on Linux
    
    By being explicit when instrumenting heap APIs.

commit bf52cc9c99be7ead476c520a26e48d5ac751a7ff
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 14:30:57 2019 +0000

    Add MallocCountSampler constructor for specifying APIs to monitor

commit a38a4f6c4c82e422c2726810384a60e9d2eea2ff
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 13:24:58 2019 +0000

    Fix warnings reported by GCC
    
    Include one error-handling tweak.

commit 2632af679ad6482b6aa28379fc5e02094df869f2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 04:42:07 2019 +0200

    Bump frida-java

commit 14b845371c1322bb1014922d6fe6af1a9fb8538a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 20:43:42 2019 +0200

    Add gum_android_get_linker_module_details()
    
    By cleaning up and exposing an internal API. Need this for the injector
    in frida-core.

commit 2b164e0cf438ca8c5e1951ef8726d25d1a07684a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 19:37:18 2019 +0200

    Revert "Limit “follow_thread” test to slow mode on Android"
    
    Root cause turned out to be unrelated to Stalker, and got fixed by the
    assembly code cleanups and fixes in the Linux backend.
    
    This reverts commit 79caa87fe8e69e72779292364abd5b5d6064debe.

commit 8ae3b2eaca560f5a1917abefc27e1945f874d28f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 19:36:09 2019 +0200

    Fix stylistic inconsistency

commit 4ad6c3f05083087c2f1f1e99c56124cd5ef17128
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 19:35:22 2019 +0200

    Fix tests on lower Android API levels

commit 478659949c2fd404ac68b1aff2aa2d0bef55e3a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 19:22:02 2019 +0200

    Simplify and fix the Linux ARM64 assembly
    
    Also clean up the assembly for the other architectures, tighten up the
    clobber lists, and add CFI directives.

commit d1caf9e1e6c3a33eca73fae26d675d936bbd8f9f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 16:33:51 2019 +0200

    Simplify and fix the Linux ARM assembly

commit 8f1c5aecb37a552708d16636590dd78727b1f291
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 16:06:48 2019 +0200

    Simplify and fix the Linux x86_64 assembly

commit fcea5ceb87c0696ddd68dd472b4a02eafdeda0a5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 16:05:16 2019 +0200

    Improve style of the Linux x86 assembly

commit 8c891178b1cfee3e194f3474b2b13e955dc5842c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 15:34:58 2019 +0200

    Fix linker detection on Android Q

commit 070fc58ae40f0321a054e3e5838a5ce457539a78
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 04:53:45 2019 +0200

    Remove stack pointer from clobbered registers
    
    It shouldn't be there according to the documentation.

commit 7c2454cb2427d0eebc16ae3f60eb1fdb878bc97d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 04:49:49 2019 +0200

    Simplify and fix the Linux 32-bit x86 assembly
    
    The previous approach caused a stack corruption and subsequent crash,
    but also made it difficult for the compiler to allocate registers.

commit 0a6dd27302b5f8ae991a00fd06a4980b14300186
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 04:41:17 2019 +0200

    Fix type of the Linux syscall wrapper's result variable

commit ee81f0c2657a4f4a1ea45160c1b1366b260819ee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 02:05:36 2019 +0200

    Update the Android linker exports test
    
    And strengthen it a bit.

commit b648d8f6bf779e5bf056de93a454be0534c046ee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 00:09:24 2019 +0200

    Revive the Android magic linker export logic
    
    Needed to look up e.g. dlopen() on API levels below 26.

commit 3b7b1c3affe44d5b245e94329f4284a81bb537ce
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 23:06:21 2019 +0200

    Add symbol entry for the linker mutex on API levels below 21
    
    Also add missing clarifications on which symbols are used on different
    API levels.

commit f2491a4ff7f97a8c932f2c12de5230d7942994d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 22:22:24 2019 +0200

    Fix module enumeration for the Android linker itself

commit 7e14ef69943ad60d346e364a6ca922bbe3653b9e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 21:42:02 2019 +0200

    Add basic handling of the vDSO in Elf.Module

commit a535271946d086f2172512616fb95922f51fffa5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 21:04:34 2019 +0200

    Revert "Re-disable the Duktape Symbol builtin for now"
    
    This reverts commit e90423bb092a218a46633d408694f9acaf459cd5.
    
    Need to re-generate Duktape.

commit e724e7bca1edf8bccdb5f30d560760b70b94ad52
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 20:54:10 2019 +0200

    Simplify path logic to avoid dependency on libc free()

commit e90423bb092a218a46633d408694f9acaf459cd5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 20:42:23 2019 +0200

    Re-disable the Duktape Symbol builtin for now
    
    To avoid behavioral changes that may conflict with Babel.

commit 2a428c3ad51c4dedb9f1d35b89220e72bada1274
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 20:35:57 2019 +0200

    Fix another assert typo in the Darwin backend

commit 14c4738c09878aeda02cc66d81646a09e8cba34a
Author: Eugene Kolo <eugene@kolobyte.com>
Date:   Sat May 4 14:34:52 2019 -0400

    Fix assert typo, changing “length” to “size” (#335)

commit 79caa87fe8e69e72779292364abd5b5d6064debe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 20:32:18 2019 +0200

    Limit “follow_thread” test to slow mode on Android
    
    Stalker is not yet production quality on android-arm64.

commit 1d30a532a1e1e0369f7c067e1d9a0310ff4faca6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 20:28:38 2019 +0200

    Revive the Inteceptor tests for Android

commit 1065a3ac040dc3946e10cfeded84cb51c75081f9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 18:00:13 2019 +0200

    Disable the Linux module bounds test on Android
    
    Now that we're getting our data directly from the linker, it's really
    hard to compute the correct answer knowing e.g. that an anonymous BSS
    range following the module belongs to it and not something else.

commit e8f61b97002874efadfed07fc9625d3beb2df33b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 17:33:16 2019 +0200

    Improve the cloaking test to also work on Android
    
    Where the current thread is not yet enumerated.

commit 8f96df37026d7185230d58b81dcf8ea810469cb7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 17:19:06 2019 +0200

    Add support for the most recent Android linkers

commit ec51dadb75cd4ffcbf0f8f506cd6e3830f3b9f12
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 17:08:25 2019 +0200

    Improve the Android linker base address detection logic
    
    Linker might actually start before the vDSO.

commit f0556d7fdb3e7beac586a1a83ffcc462869f852e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 4 05:17:01 2019 +0200

    Simplify the Android dynamic linker integration
    
    The primitives we were using made for a brittle implementation, as it
    turns out the deeper ones are inlined on some versions of Android.
    
    So instead try a higher level approach where we call an entrypoint near
    dlopen() with flags matching how the module was already loaded, and
    caller address matching the module's existing parent module.

commit 3d2cec8fabaa072a6b3f8363b28cf887ede6a30a
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Sat May 4 02:22:32 2019 +0200

    Use libc’s free() on libobjc-allocated pointers (#334)

commit 9d1511ce7fc8532f04bec733e3ebae2ae41a365a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 2 04:54:20 2019 +0200

    Improve safety of symbol lookups on Android
    
    It is dangerous to call dlopen() without matching exactly how the
    existing library was loaded.
    
    Also clean up the internals and make the Android API public so
    frida-core can use it for its injector.

commit 9bdbc805cd6331f57083cc5b7d3ff1dc55ce43cb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 3 15:52:22 2019 +0200

    Include vDSO when enumerating modules using proc

commit 4e63ea4fcbcdbedec77365d43ba246464cf30ada
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 3 04:35:08 2019 +0200

    Make the Elf.Module API public

commit c1feee7d282170f2f48e4f936511f543c4b87428
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 3 20:17:48 2019 +0200

    Improve the Gum.Address cast macro
    
    So it can be safely used to cast the address of a function.

commit 257b5a0faac3b6e7570311c59163245786d0fbeb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 2 19:08:22 2019 +0200

    Fix stylistic inconsistency

commit 6c2a505fa386c35c56ceecee3b99594fca9ff6a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 1 23:36:28 2019 +0200

    Split out the Android backend bits

commit 94d95aa2ae7c6ab96689a5d461130a38049836e3
Author: Florian Märkl <info@florianmaerkl.de>
Date:   Wed May 1 23:54:19 2019 +0200

    Add support for Wow64Transition in Stalker (#333)

commit fcf1ea4e744100e748217c762e3ea764a4a23263
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 30 23:49:16 2019 +0200

    Report JS stack-trace when runtime fails to initialize
    
    Like we do in the Duktape-based runtime.

commit 7462fe26e692727b52d07e341b8f09d98af83147
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 30 12:16:39 2019 +0200

    Bump frida-gum-types to 4.1.0

commit 3d6cb1d623c8eba2982d24a01463621156b94d23
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 30 04:47:00 2019 +0200

    Improve Module API robustness in the Linux backend
    
    - Always be careful when calling dlopen() on an already loaded library
      belonging to an Android app. Spoof the caller so it looks like it's the
      library itself calling dlopen().
    - Bail if ensure_initialized() is called on a library that's not loaded.
    
    Also refactor the Android bits for improved readability.

commit ca1bf12629d58bb221ef3ec984570ad4d338251a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 30 02:52:19 2019 +0200

    Omit RTLD_GLOBAL when looking up an existing module
    
    Doing so on a module loaded with RTLD_LOCAL may result in its symbols
    becoming globally visible (e.g. on glibc), which is definitely not what
    we want. The reverse direction is however not a problem.

commit b1ee6aba348eba6e94595aa3e17ddf7a70794d61
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 30 02:48:55 2019 +0200

    Load module without making symbols globally visible
    
    This is what's desirable in most use-cases, and is also the least
    intrusive. We should add an option for setting RTLD_GLOBAL if/when
    needed.

commit 2d1dd73b78769526c93eddba5975978cf0c642ab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 22:38:27 2019 +0200

    Take Capstone into account when estimating memory usage

commit 8a9ac2d4cb0865e5a4840b0ccdf414fc5a464861
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 22:37:41 2019 +0200

    Enhance Gum.Module.load() to bypass Android restrictions
    
    Based on the out-of-process implementation in frida-core's injector.

commit 113ac4795b1035430a688ef67a91564c5a8599d2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 20:08:44 2019 +0200

    Add missing includes and fix copy-pasta error

commit 9072f4f01f69e7de648c36c11d55b5b22b53727a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 19:52:40 2019 +0200

    Add Gum.Module.load()

commit df4f4ea99bc3b412f58c409e590762f2435a3e26
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 19:48:19 2019 +0200

    Add {find,get}exportByName() to the Module prototype
    
    To improve ergonomics.

commit 4e40a7fc87693ef00dbd1a1ddd784387dfd72c1c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 12:52:10 2019 +0200

    Fix function parameter shadowing warnings

commit c3830a54a1e7f7897ad8a4e45d35d505d3eee162
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 02:48:56 2019 +0200

    Tweak the iOS runner script to assume a thin build

commit 36c28f0cbe1481fbba2c2cb21a43262bccb04c29
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 02:48:36 2019 +0200

    Skip Stalker performance test on iOS without debugger
    
    Depending on the jailbreak it might be slow and unreliable.

commit 0d3d9eacff63eb76a24e9a93c66a79bc9fcd4700
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 01:30:58 2019 +0200

    Upgrade Duktape to latest 2.3.x

commit db1a047e5d21eea5b82397f9ed63b75093ac0720
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 28 22:15:31 2019 +0000

    Add Gum.Address.from_pointer() helper
    
    To avoid the common pitfall of casting directly from a function pointer
    and ending up sign-extending the pointer in a 32-bit process.

commit 0c473458fa84d776963816a13091965082424e7e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 28 21:20:54 2019 +0200

    Build gum-tests executable without any exported symbols
    
    This means the linker can make it smaller, but more importantly also
    avoids conflicts with dynamic symbols from system libraries. The latter
    has already caused some pain due to Frida's proxy-libintl clashing with
    a symbol in glibc.

commit a3459043f87ce7a670ea5f0d07dca92e35f72875
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 28 20:44:55 2019 +0200

    Improve handling of debugger and Valgrind across tests

commit 20b9c510af5edfe415a13231b36abae875606b44
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 28 20:44:01 2019 +0200

    Improve support for vdso when enumerating modules

commit 532ebe76a0d1de9ba45f6fd2e46ae50ec18d3f63
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 28 20:42:23 2019 +0200

    Improve the Linux libc detection to avoid popen()

commit 22cbf6368acbd04ce63cf8bdc5b92ea021558507
Author: Florian Märkl <info@florianmaerkl.de>
Date:   Sun Apr 28 18:30:21 2019 +0200

    Add g_set_prgname() to gum_init_embedded() (#332)

commit 71004dd33cfba0f541e5071ddf3cf6ee0e58227d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 28 18:27:23 2019 +0200

    Fix unused result warnings reported by GCC
    
    This also improves error-handling in a few places, and removes redundant
    handling in others.

commit 2af12e270317db9c51da53055f00213f5ada5e06
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 27 03:09:03 2019 +0200

    Fix ambiguous call to SetFlagsFromString()

commit afcb834b96b24a4427751661ce44d791cfa6e21d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 26 21:13:42 2019 +0200

    Fix precision-loss in MonotonicallyIncreasingTime()

commit 0c8aea8940d506614c7e06d996100658acea3d69
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 26 21:11:37 2019 +0200

    Remove calls to deprecated V8 API that has no effect

commit 815e71cffae5e0d4a79b02cf04c1073382193211
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 25 03:08:11 2019 +0200

    Skip pseudo-signing when a debugger is attached
    
    To improve performance for V8 and Stalker use-cases.

commit 31dc1bfc7ea1c5816dd25f24571884d8b179b8bb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 25 03:06:08 2019 +0200

    Fix thaw logic in the backpatch traps

commit 9809308739836102d1a7e152d2cd254d33d1fb1d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 25 03:04:39 2019 +0200

    Refactor the block commit logic
    
    To improve clarity.

commit 69764a93a424c1ceacafd99eeefaf1c723b6b2ff
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 25 03:03:56 2019 +0200

    Tweak the slab header size calculation
    
    To be able to fit a lot more blocks per slab.

commit fe3f4ff7acc610efdfc20958e0b6ae9206ab3e01
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 25 00:56:51 2019 +0200

    Make Stalker work without RWX pages on arm64
    
    Based on an excellent patch by @JohnCoatesOSS.

commit 30deb2c29f060948407b585c4b23475ea60b965b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 25 00:53:28 2019 +0200

    Fix gum_memory_mark_code() on iOS

commit 9e5a3d26ae41736336dbb01f523d658f6c1ee979
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 24 19:10:03 2019 +0200

    Add gum_memory_mark_code()
    
    To simplify making existing memory executable.

commit cff6a2e3603b25dfe80c9c24b27b508f45666a3a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 24 19:08:54 2019 +0200

    Improve the Memory API
    
    Use a pointer to specify the address for consistency with the other
    local memory access API.

commit 4edaaf32ea1419b30e477ed5abfbc404b9fc9533
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 24 16:47:35 2019 +0200

    Switch V8 into jitless mode when needed

commit 94cb40c9da49505ba0eb6579e7b28b3834e1174f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 24 16:37:39 2019 +0200

    Update the V8 feature flags

commit bdbb562abf162f035830e1ca14c5361bd5b6f1e3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 24 14:55:35 2019 +0200

    Enforce strict mode
    
    That this was not enforced from the start was an oversight and has no
    doubt caused a lot of pain.

commit 153094776f6278b1641b6728fbef20a3dfa84bf1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 24 01:29:40 2019 +0200

    Do not embed Capstone in the static library on Windows
    
    This was done by accident.

commit ce2000a8523fe6136a836e698c8fed4915fe4aa5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 23 17:51:16 2019 +0200

    Add gum_memalign()
    
    So we provide a complete memory allocation API.

commit 1edcc000208cb312bf374bc9b0241fcfb3f0f50b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 23 17:50:20 2019 +0200

    Fix minor stylistic inconsistency

commit d3c117b22df7909eb26eb4b8d7e1950968549dc1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 23 00:14:56 2019 +0200

    Make the printf replacements public API
    
    As they're useful for avoiding libc implementations, which often call
    undesirable APIs like malloc().

commit 4fc4c40f4edcd7b14e70b2acf6d501ae020f3596
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 17:02:16 2019 +0200

    Fix PDB output clash when building gumpp

commit 2e9afaaf17aa2dd3e00456a3c0c52cfcb43dc1c7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 17:00:54 2019 +0200

    Extend Memory API to support specifying alignment
    
    It isn't feasible to emulate this feature on all platforms.

commit 4a52a4cbe332ab4cd91461cb2189522e9e751186
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 01:39:44 2019 +0200

    Add MADV_FREE fallback for older kernel headers

commit 47d5a56f2cc957f7e094a37ed5a04d3c8ca33b01
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 01:26:50 2019 +0200

    Ensure gum_try_alloc_n_pages() commits the allocated memory
    
    Like it used to.

commit b4f2948a455ffa7509d9ab2b536d2ee4735b7ac9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 01:05:45 2019 +0200

    Add missing include

commit e42b86784d07b9b6f2420b36197ea833ff73eed5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 00:33:21 2019 +0200

    Fix the Instruction.parse() test on arm64

commit 345ee383d864a21e19a0b4436be33cb56b057e54
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 00:32:10 2019 +0200

    Bump timeout of the entire NativeCallback memory test

commit 952049f1bc3323cbd0701540261146439b634737
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 00:31:27 2019 +0200

    Run iOS tests without the “run-unsigned-code” entitlement
    
    To make them more realistic.

commit 2e9b66dc0a9c1a700a77925560b555bf5be25302
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 00:30:24 2019 +0200

    Fix a minor stylistic inconsistency

commit ffcc1583321d0b020b044cafd5735ecc67c67984
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 00:30:09 2019 +0200

    Implement a basic v8::PageAllocator
    
    So we can use V8 on iOS.

commit 421bf1b07f634d4217ce75a7fdf2bcffa813c3da
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 00:28:20 2019 +0200

    Add gum_code_segment_mark()
    
    To be able to efficiently implement our own v8::PageAllocator.

commit 04d8749c687c39b41924d079d1ea89fc574ec2f0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 17 00:22:42 2019 +0200

    Improve the Memory API
    
    To be able to implement our own v8::PageAllocator.

commit d4e55fb7a03cd4f8b61070c429930e389d144d7b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 14 13:13:39 2019 +0200

    Fix deadlock when loading CoreSymbolication
    
    Because the invalidator would try to get the symbolicator lock during
    construction of the symbolicator.

commit 6d742c78d68ce65b0376a9409a955b5420cfe1ba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 13 01:39:35 2019 +0200

    Fix unintended pointer to integer conversion

commit 0ebce560b52aef446d85d34a1ccc9cc6776aa904
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 12 22:48:36 2019 +0200

    Fix warning regression on non-Linux
    
    And re-enable follow_thread test on Android while at it.

commit c149c5fa85e81f209a0f36c49941c29ce25a3ab0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 12 21:15:26 2019 +0200

    Fix assertion usage in implementation vs test code
    
    Implementation code should never use g_assert_cmp*(), and test code
    should never use g_assert().

commit 3faa922e10b6fa1bfd5484cd69a2d5d8bc21c373
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 12 16:24:02 2019 +0200

    Fix non-Linux build regressions
    
    Introduced in 73bf271a4e2d4dc2f2e37b3a04bb3681e8160dd0.

commit 531181d6cbfa077c99bf309449365cf91b361822
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 12 15:57:54 2019 +0200

    Make the NativeCallback memory test more predictable
    
    Should warm up the heap properly before measuring.

commit fd5369a05e40feb89d72706cf5925140d8776eb3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 12 15:00:09 2019 +0200

    Bump frida-objc for union-handling fix

commit 73bf271a4e2d4dc2f2e37b3a04bb3681e8160dd0
Author: Josiah <josiah.yan@gmail.com>
Date:   Tue Apr 9 07:49:29 2019 +0800

    Fix Linux thread tampering in non-dumpable processes
    
    Fixes frida#330 partially and frida#319.

commit 9d26954b3a7af14f51a7979f7aa5fb036cbb9e63
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 11 22:05:39 2019 +0200

    Remove the temporary Capstone test-suite
    
    The missing instructions are now available.

commit 0ffdae1a668deae003acbd64a9c34a919fadb8eb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 11 22:03:25 2019 +0200

    Port to the latest Capstone API
    
    Now tracking upstream's “next” branch.

commit 27f8e83d41936e087692ada059402e051522574e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 7 01:34:56 2019 +0200

    Explicitly target C++11 when building Gum++
    
    The default is not used due to a regression in Meson.

commit 7317af16de2e00d42896a4e99af0954f253b01de
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 7 01:26:32 2019 +0200

    Remove redundant exception-handling

commit ee33a4180cf3bc1bdfab8ee86744c05160009399
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 7 01:24:34 2019 +0200

    Fix shadowed variable declarations

commit 19f64ba6305c8d141987ac72af35eafa69434c92
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 6 18:24:11 2019 +0200

    Bump GLib requirement to 2.60

commit 58ef65698d1206dd22125210aa6f888c4b8574fe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 6 17:21:54 2019 +0200

    Fix the vbroadcasti128 test on 32-bit

commit 3215ad0895899c7c8da4017375af1aeacf68f35b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 6 02:48:45 2019 +0200

    Fix warning in the V8 backend

commit 860b86f27c45f356ec9ee898420e229209b5311f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 6 02:47:59 2019 +0200

    Update V8 feature flags to match the latest

commit 112e3b11ae7f6be14c0de5e3897fa1c356744fcc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 6 02:38:29 2019 +0200

    Move to the new pkgconfig Meson API

commit 969a1d92f6ac4c818a0db29626b2efa2601c41cd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 6 02:38:01 2019 +0200

    Port to the latest V8 API

commit 20abdaf090c0ac6a417992d16a5c6ae9c1d22fa0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 27 12:56:44 2019 +0100

    Fix stylistic inconsistencies

commit 8f4d29aece69dd450cab8d598d57d5ebbbac8d9d
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Mar 25 20:24:32 2019 +0100

    Add support for "header-only" Mach-O introspection (#329)
    
    To allow quickly checking a binary's dependencies.

commit 6109f0fb0ee730225e4de8196882bb8f45989879
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 21 21:02:58 2019 +0100

    Bump frida-java

commit 5cb4f5a2d42cef1b52c74643b9f52b5d9e362d04
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 21 20:37:51 2019 +0100

    Migrate Capstone workarounds to our local Capstone
    
    Instead of maintaining them both here and in frida-java.
    
    Also add test coverage to make it easier to keep track of them.

commit 1b7fde4c63bc8bf550dc523c52edfb6806703362
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 20 02:15:44 2019 +0100

    Bump frida-gum-types to 4.0.2

commit 64c5d2a6fc3060f691de01ee19700a8f965fc38f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 20 02:15:17 2019 +0100

    Improve the SQliteStatement type definitions

commit 2e861f1c7512c9ca50787a20096576fba25b50d2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 20 02:10:31 2019 +0100

    Bump frida-gum-types to 4.0.1

commit 3a75dc6db327a8f64805d3f9b262ba105294e62c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 20 02:08:51 2019 +0100

    Improve the frida-java type definitions

commit 01b519783f6e7fc8bc72bafbb0a06c5e50743c76
Author: ray <henrayluo+github@gmail.com>
Date:   Wed Mar 20 08:55:50 2019 +0800

    Add type definition for Java.array() (#327)

commit 60171466b2d4c47b10fa663ef5bd9d6e8f2a1eba
Author: CodeColorist <ChiChou@users.noreply.github.com>
Date:   Wed Mar 20 08:50:19 2019 +0800

    Plug more gaps in the type definitions (#328)

commit de016fe42274110977945f5f8f202ec407d0d3ae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 20 01:47:17 2019 +0100

    Bump frida-java

commit 404d3e6847b7f860ce83a3a05f3f4b29f5d2e654
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 19 00:11:31 2019 +0100

    Bump frida-java and frida-objc

commit e0ea392f236f4f5b23f74779a7531cf4d1b8dc8e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 13 11:25:40 2019 +0100

    Bump frida-java for !Java.available regression fix

commit 2cb71ea8daa17f9366bc35b83bdb5d99b5b65d62
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 13 00:06:40 2019 +0100

    Bump frida-java for Android 9 fix

commit 047c3578568bc0ae9e45a73634bf4ffd777ca68e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 12 23:27:19 2019 +0100

    Improve the InvocationContext vapi entry

commit 83b2601ec7161b883bcc996260a3cae17d04696c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 7 20:58:12 2019 +0100

    Add {target,special}functions binaries for linux-arm64

commit 22b3cabd7c3a435c09f7e722c1553330a9bde74e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 7 20:56:17 2019 +0100

    Add proper detection logic for asm/ptrace.h

commit 14a191a8254400aeed091ce9e11116b5e148d2e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 5 22:58:44 2019 +0100

    Add support for substrated-based iOS jailbreaks
    
    - Unlink Mach-O after amfid has had a chance to check it. The amfid
      deceit logic assumes that the file is still around, and crashes if it
      isn't.
    - Reach out to substrated when we're sandboxed too heavily.

commit 5a120aa89b102fa8a0100840dc66f1efe7e9f7bf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 5 16:48:49 2019 +0100

    Query sandbox before trying the default tempdir

commit 06f6f7d0e20b24d09c413bf090da71117e500a59
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Mar 5 20:23:57 2019 +0100

    Improve Kernel APIs to support weird iOS kernels (#325)
    
    - Try the unslid base first if kernel seems being debugged
    - Make `Kernel.base` writable to override the internal base-finding
      algorithm
    - Tweak the `Int64` / `UInt64` TypeScript type definitions to expose
      `.not()` and `.equals()`
    - Remove dupe type definitions for `Kernel.readByteArray()` /
      `Kernel.writeByteArray()`

commit 471a7dbb07d20168115f9065f32f6c81cda6045c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 25 02:37:54 2019 +0100

    Bump frida-gum-types to 4.0.0

commit 6b383abfab7770212493216f05c19234e317a4aa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 25 01:33:51 2019 +0100

    Fix the profiler tests

commit 42e5c25d4ced967268a7dc9933a72d70fbc20f1e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 25 00:09:27 2019 +0100

    Add read/write methods to NativePointer
    
    This means that the Memory.{read,write}*() methods are now deprecated.
    
    The motivation is to improve ergonomics, turning e.g.:
    
        Memory.readUtf8String(Memory.readPointer(ptr(1337)), 42)
    
    into just:
    
        ptr(1337).readPointer().readUtf8String(42)
    
    It is now also possible to chain write operations:
    
        const header = Memory.alloc(4)
        header.writeU8(1)
            .add(1).writeU8(2)
            .add(1).writeU8(3)
            .add(1).writeU8(4)

commit 9384301314205328a8685f586e54aeadc6cd2252
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Feb 24 22:25:39 2019 +0100

    Eliminate unnecessary closure for equals()

commit 0e5e63a5360205ee4ae838afb99985fa63417b1d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Feb 24 22:24:21 2019 +0100

    Normalize modules in the Duktape runtime
    
    So they look like they do in the V8 runtime.

commit 13528c1bcfcec6cdb16380d5ac4afa8c6daaac30
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Feb 24 12:56:58 2019 +0100

    Refactor tests and add grouping support

commit f056d15c1ccbdc95eacf8cf8ef63cf1d62d247a3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 23 04:33:45 2019 +0100

    Bump frida-gum-types to 3.0.0

commit 3216d515189de2d338011288e4a2fa4f9f817bfa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 23 04:33:11 2019 +0100

    Update type definitions to match API improvements

commit d5255daa0ebd145e07d593ec20bee98da83e568d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 23 02:30:10 2019 +0100

    Fix remaining warnings when building without assertions

commit 6507b844e2cd8b85ec5cdda714bffe797f0bc33f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 23 02:16:25 2019 +0100

    Fix module lookup by name case-sensitivity logic on Windows

commit aeed6fdd3d5bbd6903d4a62e05b242d3d8e81781
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 23 01:35:15 2019 +0100

    Fix warnings when building without assertions

commit ca87c8b337361227d2cdc18dd7e8e31c354a668a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 23 01:19:19 2019 +0100

    Add Module.get{BaseAddress,ExportByName}()

commit 07f1740fec4b54521df5206eae9a4052bf789ea3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 23 00:19:57 2019 +0100

    Fix Process.findModuleByName() comparison logic
    
    Should compare to the path if absolute, name otherwise. Also compare
    case-sensitively regardless of platform for now.

commit d80bce171b288ab6100c2eb3caec6a340600f107
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 22 23:00:36 2019 +0100

    Fix inconsistent type names on V8 vs Duktape

commit 159cecd049661daa927ab105335d09ff7a250d48
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 22 22:30:36 2019 +0100

    Display console messages emitted by tests
    
    Instead of making tests fail when temporary logging is added.

commit 0fc666d7385ef30177e9f9f67a95fa480d40b268
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 22 22:29:50 2019 +0100

    Improve the Module APIs
    
    Turning e.g.:
    
        Module.enumerateExports(Process.enumerateModules()[0].path)
    
    into just:
    
        Process.enumerateModules()[0].enumerateExports()

commit 95033e77b66949bfda7d792195a39572e55cf9b2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 22 10:28:02 2019 +0100

    Modernize enumeration APIs
    
    Behave like the sync version when callbacks argument is omitted, and
    deprecate the on{Match,Complete} pattern and enumerate*Sync().
    
    The current implementations are so fast that there's no point in making
    them asynchronous, and having an asynchronous-looking API that actually
    behaves synchronously is just confusing and convoluted.

commit bbc7b8a3d140f0e5658e09004c0dd26713278cc9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 21 21:58:45 2019 +0100

    Fix Windows build regression

commit 8695ab974f8dac1f34acc1df49937a8c85e967f1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 21 21:53:00 2019 +0100

    Fix warning when building without assertions

commit 74e925c2ce6a2c6f4fda07351c050f5af84e3a73
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 21 20:27:06 2019 +0100

    Fix warning regressions

commit 5b55da3c68df5b65322d078a9f9aa9c598bb694d
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Feb 21 20:19:59 2019 +0100

    Add Kernel typed read/writes (#324)

commit 86619d0292142c80b10c5613ef752c73809982cf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 21 19:58:12 2019 +0100

    Bump frida-objc for bugfixes

commit 915e0680541c8fc5b90bb5441b7652af1b859a69
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 20 17:09:05 2019 +0100

    Remove frida-objc tests
    
    As they've now been moved to frida-objc, where they belong.

commit c4970cb32d96f638c97c549fe778578911b6e773
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 18 21:22:26 2019 +0100

    Bump frida-gum-types to 2.0.8

commit bed8a48f20705f8c852d5cc5be4f32d7be315e8d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 18 21:21:45 2019 +0100

    Add ObjC.enumerateLoadedClasses{Sync}() type definitions

commit 041148d91e8d31816ee912915d66bcdd60848e9b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 18 21:21:09 2019 +0100

    Fix description of ObjC.chooseSync()

commit f7b3c137a557e194799adced8bd3acd7b2efcceb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 18 20:32:31 2019 +0100

    Bump frida-objc for new class enumeration APIs

commit 100e129885f339c91b132c88ba8f3d2529fbc21d
Author: xiaoyur347 <xiaoyur347@users.noreply.github.com>
Date:   Thu Feb 7 04:29:46 2019 +0800

    Fix `have_v8` declaration when GumJS is disabled (#323)

commit f27091029651ac0a535d64d28e5f21b340f8dd4c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 4 18:33:44 2019 +0100

    Bump frida-java for another Android 9 fix

commit 459aa70bd755069301b11a487e795fbc50a1a72d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 4 16:24:30 2019 +0100

    Fix hexdump() visual alignment for addresses above 32 bit
    
    And make it possible to override the start address.

commit ee51d0d4bf54a681fc1cf37651a03c4109f57de0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 4 15:31:59 2019 +0100

    Bump frida-java for Android 9 fix

commit 89970a7ca7244f3d55d723d7830a8901a529a53b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 31 13:04:31 2019 +0100

    Refactor SymbolCacheInvalidator teardown logic
    
    Better to explicitly detach than to rely on Interceptor's teardown.

commit 371ff0891e95d62f66537b8d088e625aba64d377
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 31 00:58:08 2019 +0100

    Fix symbol lookup cache invalidation on i/macOS
    
    By throwing away our cached symbolicator when we detect that dyld loaded
    or unloaded a library. We hook an internal function in dyld instead of
    _dyld_debugger_notification(), which is the public API that modern LLDB
    versions put a breakpoint on. (In turn resulting in Interceptor refusing
    to hook it.)

commit 8f61083141c5baddd12ffa0cdd2469b8edea7f0b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 31 00:56:42 2019 +0100

    Add gum_darwin_query_all_image_infos()
    
    Factored out from gum_darwin_enumerate_modules().

commit 0ff8264730e8f4c76ee0dbf8680c4216da40a82b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 30 15:24:05 2019 +0100

    Revert symbol cache invalidation fix for i/macOS
    
    Seems a bit too fragile, e.g. when a debugger is attached, without a
    clear way to know that notifications won't happen.
    
    This reverts commit 5ce54ad29df27c353e5290746ebf3bf5c64c877c.

commit 5ce54ad29df27c353e5290746ebf3bf5c64c877c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 30 13:35:19 2019 +0100

    Fix symbol lookup cache invalidation on i/macOS
    
    By requesting that the symbolicator tracks dyld activity.
    
    This is very important as the SymbolUtil backend caches the symbolicator
    instance, which means the cache will turn stale as soon as a library is
    loaded or unloaded.
    
    Kudos to @alexhude for reporting this bug.

commit b466f06feb84df50534677e0874be6aee12383f9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 29 00:02:56 2019 +0100

    Fix the kCSNow constant

commit 298b95ca332481598e585cfe9b50365c84980982
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 24 19:41:14 2019 +0100

    Bump frida-objc for struct-handling fix

commit d36035f81b0b3c647a0bf30827b74fb3a047f879
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 24 19:40:58 2019 +0100

    Fix minor stylistic inconsistency

commit 229aab44232bb50b162acd6377a26fda0c59b857
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 21 13:54:41 2019 +0100

    Bump frida-java for Android 9 support

commit ee4fc3dc94f0e56d4480336bf79f8ef9571e5013
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 21 13:53:52 2019 +0100

    Bump frida-gum-types to 2.0.7

commit db16e80a1588e24efaed3ef2da36869dd3dbd734
Author: Leon Jacobs <leonjza@users.noreply.github.com>
Date:   Sat Jan 19 19:29:13 2019 +0200

    Add Java.registerClass() type definition (#321)

commit a8ee68591f1a61962ea123e7410469a160f10062
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 12 01:18:31 2019 +0100

    Fix hexdump() support for conforming objects

commit b9d7988ae5b07c58f0ff676768ad9991e0a7d3eb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 8 20:23:28 2019 +0100

    Bump frida-java

commit 5027e19bd5ff093c8926a2a2ef05a6ab4229545b
Author: Frank Spierings <frank.spierings@gmail.com>
Date:   Thu Dec 6 20:59:36 2018 +0100

    Add NativePointer#toUInt32() (#316)

commit db5497203a5a8cad01115be173fbb6d2ec905e40
Author: Frank Spierings <frank.spierings@gmail.com>
Date:   Mon Dec 10 19:32:03 2018 +0100

    Show source addresses in hexdump() from memory (#315)

commit cea696010f78120eb8a68eb5d18e1ff843a05ee8
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Dec 10 19:09:13 2018 +0100

    Release JS lock while calling gum_module_ensure_initialized() (#317)
    
    Because internally it's calling dlopen() which in turn may wait for the
    dyld lock, resulting in a deadlock.

commit 27035d82554a993c3d159db4c6f2a1e1b83a0051
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 4 22:10:16 2018 +0100

    Tweak the Electra logic
    
    By using the correct signature for jb_oneshot_entitle_now(), and not the
    incorrect one specified in the Electra docs.

commit a1cdb28e16ff2888c582ddd34b939a6d2b2146d1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 26 23:18:00 2018 +0100

    Only process pending I/O when leaving the root scope
    
    To avoid deadlock scenarios, e.g. when replacing `write()`.

commit e9a8f3c49dc9309fedb78789939818710624bdc3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 26 21:16:03 2018 +0100

    Explicitly run V8's microtasks
    
    So that any tick callbacks and scheduled sources enqueued by them don't
    get lost.

commit 9d51932a678d0d47e2c1f1881aef7fec267d4e20
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 15 03:34:45 2018 +0100

    Always pass a mutable context to the exception handler
    
    In the V8 runtime also.

commit 2159bbce439dc7775cb7138a3a4f73fa0b3bb894
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 15 03:19:17 2018 +0100

    Fix Memory.alloc() page granularity logic
    
    So it matches our docs and avoids some waste.

commit 6ff687ae3faef6d37f0fc38ef04c9cdc04b53ff8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 15 03:16:13 2018 +0100

    Fix minor stylistic inconsistency

commit a0002be18d7b9d406ed2c346cbca762e9431791c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 15 03:07:50 2018 +0100

    Always accept a view where an ArrayBuffer is accepted
    
    In the V8 runtime also.

commit d6ea78e1011a485ae3b1f404496fc5390fd5a5a3
Author: David Weinstein <dweinst@insitusec.com>
Date:   Sun Nov 11 17:46:43 2018 -0500

    Improve RPC errors with custom fields (#309)

commit 55078fc01c8d8a7d50acd6b0bfd06895b051c383
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Nov 10 03:29:12 2018 +0100

    Fix error-propagation when loading module from memory

commit 13415d58c5efb2810073c639a17eeda19fe53856
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Nov 10 02:48:13 2018 +0100

    Improve the DebugSymbolDetails vapi entry

commit 718ddf63d983e0d8f0c823594df4f0878c97843d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 9 21:00:05 2018 +0100

    Add support for symbolicating from dSYM
    
    And other formats supported by CoreSymbolication.

commit 62896443108887c6ac2f9caf007281c6e603e754
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 9 20:45:18 2018 +0100

    Add remainder of Gum.Darwin.Module to the vapi

commit be25d85e3d0875bfc77609397a594b991f81debd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 9 20:43:34 2018 +0100

    Improve the Gum.Darwin.Module API
    
    To make it more binding-friendly.

commit 84dff90196f67e05cd9f469cccceb14436437391
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 9 16:44:40 2018 +0100

    Add “uuid” property for getting the Mach-O's UUID

commit 48a8b62ea6ce2fccd3ea5414fbd4b923d0ab1b47
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 9 01:27:32 2018 +0100

    Add first part of Gum.Darwin.Module to the vapi

commit 87a7699c909d28c7761c0d8152f2d0cecdbad8fe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 9 00:57:27 2018 +0100

    Improve the Gum.Darwin.Module API
    
    - Improve binding-friendliness by implementing GLib.Initable.
    - Make the name optional when constructing from memory, and get it from
      the Mach-O instead.

commit 4e9f12310599924fd505b1866ac190b7400ef3ee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 9 00:54:08 2018 +0100

    Simplify module path allocation logic

commit a99edf56bb98c5b052a4b884d40235dea16b7854
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 8 20:42:50 2018 +0100

    Turn Gum.CpuType into a proper type
    
    Should move to glib-mkenums at some point.

commit 5e45ae0596a9d6808f95f91b2574ffe8723b83d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 8 20:41:47 2018 +0100

    Fix the Gum.CodeSigningPolicy type registration

commit 62c1f1c3d2e0a938050316bc9f4b2f6ebe1094fa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 8 19:37:17 2018 +0100

    Expose API to enumerate modules forensically

commit ecbe577c92e4ed77562ffb7b793e6eca3369fdeb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 8 19:36:42 2018 +0100

    Turn Gum.Address into a proper type

commit 368ff360efed6b19c2753282620b9fd467101d10
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 8 03:25:15 2018 +0100

    Factor out the Darwin symbolication logic

commit 97d1e2a962ec8795f48fea95dd262391cb3446d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 6 21:19:54 2018 +0100

    Add most of the Darwin APIs to the vapi

commit 31f1cf2959d000c022f5252ed41acf57fe10fd08
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 8 04:09:22 2018 +0100

    Add DebugSymbol API to the vapi

commit abc6624aad1151cc11cb5d8a555363b2c00c2a79
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 7 15:24:49 2018 +0100

    Add CpuContext types to the vapi

commit 7901f62381f3bf9103222ae57f26216fd95716a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 7 15:24:36 2018 +0100

    Make CpuContext more binding-friendly

commit 993767463c60e7e700ce20ba8251e81a46303901
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 6 21:19:21 2018 +0100

    Fix usage of HAVE_IOS define in public header

commit cec76a32ee999008b790a710be55e25752f30137
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 6 22:30:49 2018 +0100

    Bump frida-objc

commit f7ba2cfad3d8b0053cbce98b574dfa209d019b1d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 6 15:08:09 2018 +0100

    Bump frida-objc

commit 99ffaf3d19d6ef5ab810e04e7239c596abc71c9e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 5 22:10:18 2018 +0100

    Bump frida-gum-types to 2.0.6

commit c745e4b77efbd0d9eb11c8530e66d456d161fda3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 5 22:09:50 2018 +0100

    Update type definitions for {Native,System}Function

commit ff2161a9ee0549175670ed25bd53a81703cdb022
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 5 20:56:20 2018 +0100

    Bump frida-{java,objc}

commit eec1eb6401b1b5fc429ae4bf72da8508095423d7
Author: Terry Chia <terrycwk1994@gmail.com>
Date:   Tue Nov 6 01:00:51 2018 +0800

    Add Stalker.flush() (#307)
    
    To flush out any buffered events.

commit a1a088e3f6ca13691f01cc93fb6d7636c31a19b9
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Aug 9 16:51:43 2018 +0200

    Add GumJS locking API and rework locking
    
    - Provide a way to run some code with a ScriptBackend's lock held,
      and a way to check if the lock is currently held.
    - Consolidate Duktape locking to one lock like on V8.
    - Perform Exceptor try() with lock held.
    - Perform Interceptor transactions with lock held.
    - Fix V8 unlock logic when an exception occurs.

commit f6d64a48b3566e058f9ffb76f12faf0ee0544cee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 22 16:12:16 2018 +0200

    Bump frida-java

commit 51fe0841463e63696db3f3a5998ef1475acc3721
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 22 15:23:45 2018 +0200

    Revise the new {Native,System}Function API
    
    The return type and argument types should not be considered options as
    they are required and don't have reasonable defaults. The advantage to
    leaving them out of the options is that the same options may be passed
    when instantiating a group of related functions.

commit a1ba811aa7710fbe1c539e6d6ab3c5cbabea63e6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 20 01:28:41 2018 +0200

    Fix old-style NativeFunction arglist-handling

commit d7bfee0d685e073577107a5066dcf8f99cac9bd8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 19 22:23:30 2018 +0200

    Allow NativeFunction behavior to be tweaked
    
    By specifying an options object as the second argument.
    
    It is now possible to customize scheduling and how to deal with
    exceptions. The return type and argument type options default to
    `void` and `[]`, respectively. So given `void foo (void)`, this is
    now allowed:
    
        const foo = new NativeFunction(fooPtr);
        foo();

commit e458667987c08b349b4877776a6c6f33accb02bf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 19 22:21:58 2018 +0200

    Add missing parentheses to gum_exceptor_try() macro

commit d5246b16f73942d471fbf4ef5875d001cf954850
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 16 00:23:30 2018 +0200

    Bump frida-{java,objc}

commit 2d62e31310ffe0473a29f5cfbbab10f79e2825bb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 11 04:05:55 2018 +0200

    Bump frida-gum-types to 2.0.5

commit b1c73ef154af8b9d916d72973e477b453d37b923
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 10 03:54:47 2018 +0200

    Improve Socket.connect() to support TLS

commit e7e0a374abe516526ee202ad9105221a5e14757e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 10 00:44:28 2018 +0200

    Bump frida-{java,objc} and other dependencies

commit 90ce33c4d89a780d68d4300de6fcb27fdd19ab47
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 9 03:38:49 2018 +0200

    Remove unused variable

commit 100dac5b7164ab88998ddbc03a8b0779107a60ab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 9 03:37:04 2018 +0200

    Fix linking on archs without Stalker support

commit be709eea5a23e32a893e9417521059dc576d5e4b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 9 02:46:01 2018 +0200

    Disable diet mode by default on iOS
    
    Now that it is once again possible to use V8 on iOS.

commit cdc9eb1ddd53e216e284da829bea7441b7255e8b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 9 02:43:58 2018 +0200

    Configure V8 to be able to run on latest iOS

commit 61146f06ffe9121387b2f7236ae1093a63b6017b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 9 00:56:43 2018 +0200

    Only run Stalker tests when it is supported

commit ed48b74f325e28cc4b5aea44555d1a99f8895c19
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 9 00:55:32 2018 +0200

    Add gum_stalker_is_supported()

commit da3142177bf3bfba87a60bf16bbd313d4e6f1dff
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 9 00:53:51 2018 +0200

    Improve gum_try_alloc_n_pages_near() on Darwin
    
    To also try allocating in the lower and upper edges of the address space.

commit 5cdbe713ac4c09c167060d684df1641d584dcbd2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 9 00:52:31 2018 +0200

    Add gum_try_alloc_n_pages()

commit 2bbb24cea343fe834037a8e76c7b1f99792889cf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 9 00:50:40 2018 +0200

    Skip code-signing status test on Electra
    
    The CS_VALID status is not retained on Electra.

commit 98e64bd132f9bc1d92cfd54c4932fb6dd2359479
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 9 00:49:44 2018 +0200

    Add basic support for running tests on Electra

commit c4fa21e40890452656a4514a23d1a020c443f698
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 5 01:46:40 2018 +0200

    Fix zero-length buffer allocations in the V8 backend
    
    Returning NULL makes V8 think we've run out of memory.

commit 6a94a0325369941f3c7e348b9c0f10b12b812238
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 5 01:45:26 2018 +0200

    Fix the V8 unlocking logic
    
    Say thread A let go of the lock, it would do so without first clearing
    `current_scope`. Meanwhile thread B could grab the lock, go about its
    business, and eventually restore `current_scope` to thread A's scope.
    I.e. mistaking its own scope for being a nested scope on the same thread.
    By that time thread A's scope may already be long gone, resulting in all
    kinds of fun use-after-free stack corruptions.

commit 85209f27fae814b15012bb7086aa2e02f455c6d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 1 18:29:32 2018 +0200

    Bump frida-gum-types to 2.0.4

commit d3114546f42f6b0a6994f2bebec79a2dabe4e7fe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 1 18:29:18 2018 +0200

    Only publish the bare minimum to npm

commit e4f8389b6ebbfd98fd9c752c3c2bff514462b642
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 1 18:27:17 2018 +0200

    Reorder types to improve consistency
    
    Trying to follow the same ordering as the reference docs on the website.

commit 4b737388260074f0e22f12fb5a04430458508933
Author: Leon Jacobs <leonjza@users.noreply.github.com>
Date:   Mon Oct 1 18:23:01 2018 +0200

    Fix type definition for Thread.backtrace() (#304)

commit ad83188cf293942dde264397b31e33449047f5c5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 30 18:35:59 2018 +0200

    Bump frida-gum-types to 2.0.3

commit 563965d392406bd66b7bceba1f57a52946dbc3ed
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 30 18:35:39 2018 +0200

    Improve type definitions to use const enums
    
    We don't want any runtime emitted for each enum.

commit e553177b95be0e95e372ade78a47942d86321473
Author: Leon Jacobs <leonjza@users.noreply.github.com>
Date:   Sat Sep 29 22:04:18 2018 +0200

    Improve type definition for ApiResolver.enumerateMatches() (#303)

commit f44f021cbe755885ac78cd13e750a65510ed6934
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 26 01:55:26 2018 +0200

    Bump frida-java

commit 49250ac4b2a994051442b1ac96b075079c0d5eef
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 25 16:28:42 2018 +0200

    Bump frida-gum-types to 2.0.2

commit ee485a29f102f2ebbf72e4ed5ad1ea3e554b41aa
Author: Leon Jacobs <leonjza@users.noreply.github.com>
Date:   Tue Sep 25 16:27:56 2018 +0200

    Fix type definition for ApiResolver's constructor (#302)

commit b8e1fc65542a9ac45f2150ef40dbf0b20b867f7b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 12 04:07:34 2018 +0200

    Bump frida-gum-types to 2.0.1

commit 9449f225259c188a988673f79f464304003bdaa4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 12 04:06:54 2018 +0200

    Tweak the Kernel API doc-strings

commit 36cecb4ed53b9523a2d5e384b2a005e8e9dd77cd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 12 01:31:32 2018 +0200

    Report kernel base address of zero on non-arm64
    
    Instead of garbage.

commit 09f77b2591f3fd8599f218d9ea54324be332ef10
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 12 01:29:15 2018 +0200

    Use helper macro for 64-bit constants

commit 22366e6d8b7ff092bfc60af2ce30d0596ce2379a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 12 01:28:35 2018 +0200

    Remove unused variable

commit 566056e032b385656029da65db44ec3f03777e32
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 11 21:21:55 2018 +0200

    Revert to clobbering x16 instead of x18
    
    It is not a good idea to clobber x18 as it's reserved by the platform,
    and has been observed to be used by some apps.
    
    This reverts commit 541517ccb79b3bc24c0a84f0cf9dd66668976a33.
    
    Kudos to @mrmacete for helping track this one down.

commit 31fc1cc2be439572dda346a63b5c0f4fb716a53b
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Sep 6 19:26:29 2018 +0200

    Update Kernel TypeScript type definitions

commit 353c17048cecd8b22421810f93560b1df2674992
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Sat Sep 1 18:27:56 2018 +0200

    Improve Kernel interface
    
    - Add scan(), enumerateModules(), enumerateModuleRanges()
    - Add kernel base getter
    - Fix overflow on section / segment names
    - Move from NativePointer to UInt64
    - Use GumAddress instead of gpointer for kernel pointers

commit fe391c0695d931ead76fa675ab62899f7f10bcaa
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Sep 6 10:51:17 2018 +0200

    Add unary not arithmetic to Int64 and UInt64
    
    Also add equals() helper function.

commit 541517ccb79b3bc24c0a84f0cf9dd66668976a33
Author: Grant Douglas <hexploitable@gmail.com>
Date:   Wed Sep 5 17:51:14 2018 +0100

    Clobber x18 instead of x16 in Interceptor's arm64 backend (#298)
    
    To allow instruction-level hooking near SVC instructions.

commit 7a245e4c6ae228c5011d51cacf7d31c44975bd6b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 5 18:31:39 2018 +0200

    Fix build regression on non-x86
    
    Only the x86 op struct has a `size` field.
    
    /cc @andreafioraldi

commit 318085ae78362ba3e691a2abc0792a73c66e4431
Author: BAYET <corentin.bayet@gmail.com>
Date:   Tue Sep 4 18:20:59 2018 +0200

    Fix Linux module enumeration assumption about executable ELF headers (#297)

commit 5155a7ba110e1b13104969bcdb09bf0e01a2438c
Author: Andrea Fioraldi <andreafioraldi@gmail.com>
Date:   Mon Sep 3 20:40:38 2018 +0200

    Add “size” field to Instruction.operands (#294)

commit 9654bdb6695f2604bc049c93e4b5e4b373b939d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 31 12:09:30 2018 +0200

    Bump frida-objc

commit 064d0d5dbd7211570145267600d641c94a54f7ea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 26 20:12:11 2018 +0200

    Bump frida-gum-types to 2.0.0

commit 6d3d8957a1cc3a6ab6759e7a7b6d030a0c84f2e9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 26 20:11:39 2018 +0200

    Remove “console” to fix conflict with @types/node

commit f8c04fa3547a3fae5bbd27d7e9d1352af9ee4e30
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 25 20:46:39 2018 +0200

    Normalize naming of va_list variables

commit 69308f0ce2972e21dceb931d730a33d77a1fc86b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 25 20:20:49 2018 +0200

    Bump frida-gum-types to 1.2.5

commit c6b85155ee6b24466c1687132c710039250b27bf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 25 20:20:22 2018 +0200

    Add Process.id to the type definitions

commit 7913bb73c8588669b32f88e98a6a2c1aa3d4c53a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 25 20:16:54 2018 +0200

    Add Process.id property

commit cc6edf84dd10e5f774126b726858db98d05add68
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 25 20:09:58 2018 +0200

    Pin promiscuous dependency to 0.7.1
    
    To make sure we always generate the same runtime across different build
    machines.

commit ee8f911a9ccea3b9f6375079577dbc5abeb9a9c1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 25 20:08:30 2018 +0200

    Bump frida-compile

commit 321784898dec4cc5a90287f94c5c4ffefa10aa26
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 25 20:04:30 2018 +0200

    Bump frida-java

commit 3c53e15c6c1ddc199bb0b81fc898d2644a728cde
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 25 02:32:26 2018 +0200

    Fix warning in Android production builds

commit 05b71a65afa917b4e48b90b3040f696b7be3c9f2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 25 02:32:03 2018 +0200

    Fix type used for Kernel.alloc()'s “size” argument

commit 13a665114b89e0a1f2d9140d231ded9bdc81d33f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 23 23:40:28 2018 +0200

    Fix compilation and warnings on i/macOS

commit 691eb5910c99c0bd35fe04316cf7f5b54d55d335
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 23 20:41:45 2018 +0200

    Fix build system for tests on arm64
    
    Also improve consistency a bit. It's tempting to use Meson's name in
    filenames, but that would make it inconsistent with the code.

commit 3e33b8982a02254afb93679132b3d1cb3daac53d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 23 20:40:00 2018 +0200

    Fix warnings in Linux production builds

commit 5d403a6a965a454eaa3582bd2ea723c4771261f5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 23 01:45:13 2018 +0200

    Bump frida-java

commit dde672e35d508e04d4695d699da1fa0185daa414
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 21 23:21:05 2018 +0200

    Embed symbols in object files
    
    Like our SDK does.

commit a0ec1a0c48e83a2610475a633716b14b0c573ae0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 21 20:21:55 2018 +0200

    Fix warnings in production builds

commit 5f081f7ed5315c4076369f0b18bf791934bbb2ec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 21 20:11:50 2018 +0200

    Disable assertions and checks in production builds

commit bbb74de3f2aa2ed2fb1bdcda236f3592f0d4dc04
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 21 01:14:15 2018 +0200

    Fix deadlock on teardown of the V8 backend
    
    The dispose operation ended up waiting for itself to finish.

commit 3835eb4f4829ee412151157df093decc8a254f96
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 20 23:16:37 2018 +0200

    Remove the v8::MemoryBackend implementation
    
    Now that it is gone from V8. We'll take care of cloaking for V8 later,
    as we'll also have to redirect new/delete to our own heap, which seems
    like it might be a big undertaking.

commit 886f68d70f5ff8187961055933b5a8d574a48da0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 20 20:23:49 2018 +0200

    Ignore .user files generated by VS

commit 3722f0933aef59c0b1057ef46912b02cb97982e9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 20 14:24:33 2018 +0200

    Fix deadlock with CObjectTracker and its get_type()

commit c8c72e88246f389ea8ee63505eb6765eb8728d63
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 20 14:16:07 2018 +0200

    Handle _free_dbg() calls with unknown block type
    
    By calling _CrtReportBlockType() to determine the type.

commit 1123929192474f160497f69f72691f80ffad7ca2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 19 04:22:11 2018 +0200

    Add InspectorServer to the Windows build system

commit a4ca44a58290e7dff498850a78d692d8ba350355
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 19 03:34:59 2018 +0200

    Fix build regressions in Windows code-paths

commit 19c27c316ffb5aef8d458615616d135be7545f07
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 19 03:34:32 2018 +0200

    Add missing include for std::function

commit 0a7cfa02b37ca2c5dedcf40990a9740dbb51426b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 19 03:34:23 2018 +0200

    Fix warnings reported by MSVC

commit 2e99921fe9f2de0670569ffe1c7fb08ba557468a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 19 03:33:41 2018 +0200

    Fix the Windows build system wrt. SQLite now gone

commit 0cbac84e83ddb58e4c919e8a1156fd4ae7a95a41
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 12 21:27:41 2018 +0200

    Simplify source map canonicalization logic

commit 7302362175c51a420e11ec557e7cb9f8ab727940
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 12 21:27:26 2018 +0200

    Adjust script naming in the Duktape runtime to match V8

commit afa6e31699b3a99412817d86019e9783ff54f8ef
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 12 21:26:27 2018 +0200

    Fix source map support for V8 runtime code

commit 022f50531a151abd24a385959b720f6d06c98f66
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 12 20:46:24 2018 +0200

    Fix breakpoints by tweaking script naming
    
    Resource name should be an absolute path.

commit dd1764c7278ab5d4f1b6e1ef3ea6732e57eaab4c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 12 20:32:24 2018 +0200

    Allow enabling debugger late
    
    And simplify logic by instantiating V8 Inspector early.

commit 1821df5f1972865474ad38dba8a19f62538dc92f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 12 20:29:35 2018 +0200

    Fix the GumJS V8 pkg-config requirement

commit 34992a34594b943ff882a93f867ee5f00114991a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 12 18:46:23 2018 +0200

    Enable debugger before creating scripts
    
    Otherwise V8's inspector won't know about them.

commit 877a785d0bf9be77cb7fde511113c27f6c3c01f7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 12 17:26:06 2018 +0200

    Adjust to match the updated V8 packaging

commit 5b90dd549110e31602799c4c24ef7bce586c2377
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 11 04:59:26 2018 +0200

    Remove dangling references to debug runtime header

commit bcd5df36f3638da82c6b65a9b27069e22a0e8ece
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 11 04:50:13 2018 +0200

    Improve InspectorServer API and fix its vapi entry

commit 859161f7ac09ed5a829a4bcde55865dc089e4b4a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 9 04:17:04 2018 +0200

    Wire up V8 inspector and provide InspectorServer
    
    Only the bare minimum is working, but it's a good start.

commit 64834fe903f95e553e11925223d4d82dc3a88548
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 10 16:55:51 2018 +0200

    Use the correct Meson CPU family name for arm64

commit f5904a82ff7befd1b77bdc1edd9b0c980aafea82
Author: Anatoly Korniltsev <korniltsev.anatoly@gmail.com>
Date:   Fri Aug 10 15:04:27 2018 +0300

    Fix leak when probing Linux auxv struct (#291)

commit ec2306bbd725f41dede8e58f4b399b9f0db3b6b4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 9 20:19:54 2018 +0200

    Fix minor stylistic inconsistency

commit 55e6e30e984dfa7c931b332ff6121b04db1a656e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 9 17:57:36 2018 +0200

    Add gum_process_get_id()

commit b9274db04915020931d27e02d26f182158041291
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Aug 9 08:41:05 2018 -0500

    Fix CodeSegment probing in sandboxed processes (#290)
    
    Like com.apple.WebKit.* processes on iOS 11.x.
    
    By allowing gum_file_open_tmp() to fail, we let try_realize() fail and
    take the alternative path before giving up.

commit 76e3ebc7c391b22c3d97158c7e5e7d65c0d04d8b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 9 04:29:31 2018 +0200

    Fix ordering of signal and property enums

commit 904b586546a6cbf460bb9d8248969a9090ebacef
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 8 23:52:13 2018 +0200

    Bump V8 version requirement

commit 0639900098cabe0f0439135c605780771350c9a2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 8 22:56:38 2018 +0200

    Fix double free when match token has masks

commit 76b98cb05a0d044f76489e6ae2475c545fab077c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 7 23:53:41 2018 +0200

    Port to modern GLib
    
    And improve consistency throughout.

commit 195878c76fb1c02795385b4c98274d324f056202
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 7 21:43:27 2018 +0200

    Upgrade Duktape to latest 2.3.x

commit 920020978963aa669d96b6a1dd3d25581bb1ef88
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 7 21:13:50 2018 +0200

    Move SQLite to the SDK

commit 852af3a80c4c454d27f5aacf5b47c1ea1dfe1bdb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 2 02:36:40 2018 +0200

    Port to the V8 7.x API
    
    The inspector API is not yet fully wired up though.

commit e1029b61e84291c31423d22ea565118c52de51c3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 27 20:22:36 2018 +0200

    Bump frida-java

commit 9fe77ed30b0ebb93fd6cc3323cf589dbaa9cc05c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 26 02:31:36 2018 +0200

    Bump frida-java

commit fb48d39c539436193ba6aa3d4ed7052a3024925e
Author: Carl Hurd <carl.m.hurd@gmail.com>
Date:   Wed Jul 18 17:41:28 2018 -0400

    Remove unnecessary/bug-inducing {get,set}context() stubs on MIPS (#289)

commit 62bbecf6163ddca82b60fa779e2703577450dc00
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 17 21:43:12 2018 +0200

    Bump frida-gum-types to 1.2.4

commit ca6eac24f8294697b138d8a740834b46cb48bbef
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 17 21:42:47 2018 +0200

    Import Memory.scan() doc update from frida-website

commit 83c58893615a86d8db015465fdfb469b9e6beb69
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 17 20:31:43 2018 +0200

    Fix InvocationContext.get_return_address()
    
    So it matches the new CpuContext semantics in Frida 12.

commit 6f61184825b662f474e38afb82ae820f5e4e97ea
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Fri Jul 13 09:17:51 2018 -0500

    Add support for memory search with mask (#287)

commit 8baea5eac674faad1453973ba1f5b6023dba79d6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 12 00:09:29 2018 +0200

    Bump frida-java

commit 907230ef7dca35c80767e164cc74f5abad870bfe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 11 23:57:26 2018 +0200

    Work around Capstone vbroadcasti128 regression

commit f917c7d07f804da7fcf71847c75e6d392246e138
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 11 01:52:26 2018 +0200

    Port to Capstone's next branch

commit b9f00a071f1721021547914e5e96e7e5aeeb8f29
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 11 20:24:30 2018 +0200

    Improve the DbgHelp backtracer to go deeper
    
    And not stop when a frame's AddrPC == AddrReturn.

commit a8c09be3e2b89d6ed72c4bb3c54e4f9953577620
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 11 19:47:36 2018 +0200

    Fix mixed up variable types

commit 225157c8015805bb61c78fa8ba0ad53983de4f08
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 11 19:47:24 2018 +0200

    Fix the DbgHelp backtracer
    
    And improve the DbgHelp integration so symbols are also loaded when only
    using a backtracer. This is very important on 64-bit, as frame pointers
    aren't used.

commit dd5014959d8a2a16fb8f81d6435000ca7b7305e8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 11 19:42:01 2018 +0200

    Update DbgHelp to 10.0.17134.12

commit 7a8e74bac8925213c9444656d054e4aebbddb6b3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 11 16:52:12 2018 +0200

    Update Stalker backends to new semantics
    
    And also improve correctness and consistency of the CpuContext passed to
    call probes.

commit 4ac117c106e685f349ced2a7b319f810fb35ffeb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 11 16:49:19 2018 +0200

    Update CpuContext implementation to new semantics
    
    As the stack pointer now points to the return address and not the first
    argument.

commit fb39b8e9d8d748ad6e5a4e5bd3d449a81d6c2405
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 11 15:07:06 2018 +0200

    Remove unused variable

commit 32e3099c1604a42c64bec34c2a3fbbcc73952956
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 11 15:03:11 2018 +0200

    Expose actual program counter to on_{enter,leave}
    
    Instead of using it to communicate the immediate return address to the
    backtracer implementation.

commit 5971b37b0dfa5894e2b4b0b1035cef0d94f0983d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 1 16:17:08 2018 +0200

    Bump frida-gum-types to 1.2.3

commit e6cedbee31c4862b64d58327567bf30d5f3c8a71
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Sun Jul 1 08:58:50 2018 -0500

    Fix typo (#288)

commit af0fc41458b3768f0469ca6c3998764d99bf49a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 30 00:53:34 2018 +0200

    Bump frida-gum-types to 1.2.2

commit 5b5efb34c9194d8b8498c1ff5c5aef37a57d0ac0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 30 00:52:42 2018 +0200

    Improve the networking-related type definitions

commit 97b135889d237bde25d124b2dc50e781d02fe3d0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 7 02:48:23 2018 +0200

    Fix stub-definition of gum_kernel_alloc_n_pages()

commit df60944154bd59c84f28d98ff859064e26fb44e2
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Wed Jun 6 17:46:58 2018 -0500

    Improve the Kernel API (#285)
    
    - Make gum_kernel_read() safer by reading in chunks smaller than page size.
    - Add Kernel.alloc(), Kernel.protect(), and Kernel.pageSize.

commit 4cf822033448d5b3e58b9ff5730c9fa734d26e35
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 6 04:57:45 2018 +0200

    Bump frida-java

commit 45da27f7f146ff77f6fba491cf45cb1d64887d3a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 6 00:08:16 2018 +0200

    Fix handling of ELF modules with an empty DT_GNU_HASH

commit d5a8c3d7a99808c95fc5f8ffef1b323649f7a148
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 5 21:22:45 2018 +0200

    Bump frida-java

commit c966ce60558c04b61d9e9cbaadbf50c057c1ae7e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 2 01:35:36 2018 +0200

    Bump frida-java

commit 2ef008f3db864ad0a959e877b18800b2c2ca5156
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 26 04:03:24 2018 +0200

    Bump frida-gum-types to 1.2.1

commit de1e3d16a2822a3e1682e462827262d78dbb4143
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 26 04:02:59 2018 +0200

    Improve the InvocationContext type definition

commit 574b1dff0a66b784527075cdf84b2798d8fc613f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 26 03:59:16 2018 +0200

    Fix types of functions with “any” signature

commit 8c33151e4d9f237dddaaa2487b0875700f35b9a7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 26 03:49:26 2018 +0200

    Bump frida-gum-types to 1.2.0

commit 63ffb81ed556a5413376be4781ead88a90d02b35
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 26 03:48:45 2018 +0200

    Improve type definitions for the ObjC module

commit 3c759693558a805a31ebe7fb8c2f990b0a39dee8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 25 04:21:17 2018 +0200

    Bump frida-gum-types to 1.1.4

commit 5e3221abcc4eb3bcdf501122b29dd3a182be4e3b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 25 04:19:24 2018 +0200

    Fix return types of Memory.read*{Array,String}()
    
    They return `null` when `address.isNull()`.

commit 674bac5d49691ae4ae1da010d06f83f413b852df
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 24 23:43:38 2018 +0200

    Bump frida-gum-types to 1.1.3

commit a236b938acb8d778610ea4603d32f97270a12872
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 24 23:43:13 2018 +0200

    Add RpcExports type
    
    To make it easier to cast.

commit 481f8e0d467a2db429024914db4f75a82f718729
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 24 13:29:57 2018 +0200

    Bump frida-gum-types to 1.1.2

commit 7b1d7b1f70855ffc151fd1e6b1be84f0d750d303
Author: Daniel Kalinowski <max0980@gmail.com>
Date:   Thu May 24 13:28:53 2018 +0200

    Fix typo (#284)
    
    Fixes #283.

commit 3f5556b921a3ede8d727bc35a9b21cf1cc594cf3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 24 05:38:06 2018 +0200

    Bump frida-gum-types to 1.1.1

commit c24d47a5080f2df9176fed88b55733bb59bb9891
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 24 05:37:46 2018 +0200

    Fix “@”-usage in JSDoc comments

commit c67e363058e9bc767884907e5a0a058a9fb2f70a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 24 05:18:23 2018 +0200

    Bump frida-gum-types to 1.1.0

commit ca9b91a731baf26c00b8e2537969a14c4cb7b418
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 24 05:17:21 2018 +0200

    Revert back to specifying native types as strings
    
    Using an enum is too verbose and breaks source compatibility.

commit 711cb516a59659ae96afb65d7d7a69746dfde975
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 24 05:05:43 2018 +0200

    Massively improve the type definitions
    
    Based on patches by @mrmacete – kudos!

commit ac6c95063868870cae386c9c976409fcf86d27a5
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Sun May 13 16:36:07 2018 -0500

    Fix tls_base calculation on arm64 (#281)

commit 9381fe7ea9c05779f58ec95d0b77e018d8d5e4c4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 27 21:52:48 2018 +0200

    Fix vapi entry for set_message_handler()

commit 92d17d6ae03bf119a6871ae04408ac01bb7f4a74
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 27 04:40:31 2018 +0200

    Bump frida-java and frida-objc

commit de563402a288ec0681c10c82f51e8d15e7de174a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 24 20:08:55 2018 +0200

    Fix vapi entry for get_current_invocation()

commit 0f570af7c6247892c5c8fa84696246d73cc545db
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Apr 24 13:07:46 2018 -0500

    Stop worker thread before modifying old_ports (#277)
    
    To avoid corrupting `old_ports->count` while the worker thread is
    potentially iterating using it. This would result in an infinite loop
    and/or read out-of-bounds, in turn likely to hit a failing assertion,
    ultimately ending up in a deadlock.

commit 33ddee8062dd9b491655bb1984bbceee05447fe5
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Apr 24 13:00:24 2018 -0500

    Realize if supported, remap otherwise (#278)
    
    When realize could fail, avoid it entirely and directly remap the
    segment. This works where code signing isn't an issue but sandboxing
    breaks executable file mappings (like Electra on iOS 11.1.2).
    
    This means we avoid the dangerous RX->RW->RX fallback on iOS, where
    another thread might be executing code on the page that is temporarily
    RW while Interceptor is modifying it.

commit 7a03f0672d9158982df7ea4465c00ff53240fa4c
Merge: 26a1d3d8 f457aa1d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Apr 24 17:36:03 2018 +0200

    Merge pull request #279 from DavidCatalan/carriage-return-handling
    
    Drop carriage-returns to avoid issues with different OS/git configurations.

commit f457aa1de60e40e4b11fa0e7a8b435e698ca0338
Author: DavidCatalan <freedavid94@gmail.com>
Date:   Tue Apr 24 15:21:35 2018 +0200

    Added carriage return handling

commit 26a1d3d8784a3822079a7729d2241b6ccde60d46
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 16 21:50:22 2018 +0200

    Add vapi entry for get_depth()

commit b47cd6a3efb173588f2e779fe14df8442de5968b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 13 19:42:00 2018 +0200

    Add support for call with 32-bit register argument
    
    By zero-extending into the destination register.

commit bfacbec8b24c391d58468eb6244679c26e81f3a2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 13 19:39:49 2018 +0200

    Add put_uxtw_reg_reg()
    
    Useful for zero-extending a 32-bit register.

commit 5bbc962d08ed3dfc9fd34914b9b55d541b562731
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 13 19:38:22 2018 +0200

    Fix stylistic inconsistency

commit 0ebe73b9600712aea20963d88decebcfb9be2ccb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 9 15:41:19 2018 +0200

    Add API for enumerating cloaked items

commit 89f715c3b2919b578f0cb29b6730d96adad225dd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 9 03:01:57 2018 +0200

    Cloak GLib's file-descriptors

commit 1bef11b5e1f14752850c807981e9f641cd974e29
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 8 20:15:08 2018 +0200

    Rename fd to file_descriptor

commit 28d73732b6810894140481775c2eef107640ee8c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 8 20:11:15 2018 +0200

    Add API for cloaking file-descriptors

commit 006ee96671cf36da833a2ab149191e1e2624fb3a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 8 19:03:18 2018 +0200

    Add vapi entry for replace_return_value()

commit 974ddc8ff917dd3618cc6a00ec5902f2275a5f33
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 7 02:28:20 2018 +0200

    Fix vapi entry for InvocationListener

commit 2debc4050c34d8c15f60a2102e9f71a05b9e70c2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 7 02:27:54 2018 +0200

    Fix vapi entry for Module.find_export_by_name()

commit 578795ff878c34a2b7a029d509af88d1e7178e83
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 1 15:53:43 2018 +0200

    Fix warning-inducing casts

commit 4952682210fe7e2044aacc6665f39920b8e4d2ee
Merge: e4701933 3ed0498b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Mar 31 23:28:49 2018 +0200

    Merge pull request #274 from frida/feature/fork-handling
    
    Add fork()-handling

commit 3ed0498ba90528ea09d9f0aac8a025c772483e81
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 27 20:25:49 2018 +0200

    Revise fork()-handling to avoid touching locks
    
    Doing this as a separate change in case it turns out to be necessary on
    some platform.

commit acdafe957e552e8b5edc6304de77ff0ba4332340
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Mar 18 14:08:12 2018 +0100

    Add API for fork()-handling

commit e4701933ba7ca3f8abc5554b12097ce5b9e169b5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 27 18:39:21 2018 +0200

    Add aligned version of call [reg + offset]

commit 61ae3bab83d067464d9bf71dd64bacec1034d639
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 19 12:32:23 2018 +0100

    Add Process.is_debugger_attached() to the vapi

commit 1dbb94228a70fdcae720d6361f617a899930c1f6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 21 11:31:55 2018 +0100

    Bump frida-java

commit 0b14e28dde3f04c58de6e6f5b3fa4cc817c45c1f
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Mar 20 19:01:44 2018 +0100

    Let go of JS lock during Module.findExportByName()
    
    To avoid deadlock in case an intercepted function call in another thread
    holds a dynamic linker lock and is trying to get the JS lock.

commit efd079f97860d760f392f10e2da16581efed1c69
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Mar 19 13:05:40 2018 +0100

    Add OutputStream.writeMemoryRegion() (#271)
    
    To stream directly from memory without copying the data.

commit 1e185da05d1e4d9909d42997ad72c4ce8365788b
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Mar 19 11:39:26 2018 +0100

    Handle empty stack in V8's error handler (#270)

commit 72f4c6f1a984e7240769da6d8b18521d31b4e766
Author: Kamil Rytarowski <krytarowski@users.noreply.github.com>
Date:   Fri Mar 16 14:03:31 2018 +0100

    Skip DT_GNU_HASH in gum_store_symtab_params if unavailable (#269)
    
    DT_GNU_HASH is not available on all ELF platforms and it is a GNU extension.
    
    This corrects a build on NetBSD/amd64 8.99.12.

commit c41abae2a2b29de3aad7a4fd9daac3e0b150cb54
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 12 20:53:18 2018 +0100

    Fix compilation on Windows

commit 5c1e72ebf68fc098085af5f59ac7ac71b8c790f7
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Mar 12 19:57:43 2018 +0100

    Potentially cloak more than one range for threads (#268)
    
    Implemented only on i/macOS for now.
    
    The default behavior when Apple's libpthread allocates resources for a
    thread is to create a contiguous range made of guard + stack + pthread.
    It's also possible to create a thread with a user-defined stack, in
    which case no guard page will be provided by default and only the
    pthread structure gets allocated internally.
    
    In any case, both the internal allocation extents and the stack itself
    can be retrieved by picking the right values out of the opaque pthread
    structure.
    
    The `gum_thread_try_get_ranges()` function detects if the allocation is
    contiguous or not. If it's contiguous only one range is filled,
    otherwise there will be one range for the stack and one for the pthread
    structure. The number of produced ranges is returned. In backends that
    don't yet implement this logic, a number of 0 ranges is returned.
    
    Offsets in Apple's pthread structure have been pretty stable so far, the
    most notable change is that at some point (around iOS 10.x) the
    `thread_id` field got moved after the fields we use. To account for this
    and provide compatibility with older versions of the pthread structure,
    we check if `thread_id` is at the newer offset, if it’s not a skew of
    8 bytes is added to all other offsets.

commit fc1d8df1f872c399101e0f0c3974e5cb9468f9c0
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Mar 12 19:33:45 2018 +0100

    Add gum_query_page_allocation_range() (#267)
    
    This is used to get the full extent of ranges allocated using
    `gum_alloc_n_pages()` including the overhead, and is implemented by each
    backend.

commit ca60b0041708a160705dd9b141b374926143ae2c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 8 02:12:05 2018 +0100

    Bump frida-java

commit b2ccb7e3a0233e6d2b5f32a3339d99e6fd28ae4a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 6 15:18:07 2018 +0100

    Bump frida-java

commit 919bb8ed76382053214cb874fd848ee49c6833cf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 7 22:38:16 2018 +0100

    Bump frida-gum-types to 1.0.5

commit f462d4acdb544fb959d38a8b31078ac62280a1e3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 7 22:35:37 2018 +0100

    Fix type definitions for (U)Int64 and NativePointer

commit 7f6866a9fcd1ece17fad6a1a53f134a5da97ac28
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Feb 5 14:58:58 2018 +0100

    Allow emitting i/macOS imports more than once per symbol (#265)
    
    Because they’ll have different values for `slot`.

commit 7f83903553c9d2855dc8385678d0d60c29318e49
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Sun Feb 4 19:48:03 2018 +0100

    Expose import slot for i/macOS (#264)

commit 389f4ac667e965d977b385244b37808ae0b137f5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 15:58:00 2018 +0100

    Revert "Make module size computation a bit stricter"
    
    This reverts commit b4a49d88a51f5652f5edf0de2547a090f6e1dfc5.

commit afa0828ded13c82c64839667249f8e55b2a9bf36
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 15:53:50 2018 +0100

    Ensure executable is enumerated on old glibc

commit b4a49d88a51f5652f5edf0de2547a090f6e1dfc5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 15:53:00 2018 +0100

    Make module size computation a bit stricter
    
    Better to underestimate a module's size.

commit 4962dd2c6c065219554f2ffb338c2a68135066fe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 15:49:22 2018 +0100

    Skip vDSO module on older versions of glibc
    
    Where the name is empty.

commit 613316161d1a53e2216047b8fcc7d41f677546b8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 14:54:14 2018 +0100

    Fix compilation on non-Android Linux-based OSes

commit 7745a80897acd6fe8db12871ac1ec2e5c7d49099
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 14:51:48 2018 +0100

    Add test-runner script for android-x86

commit 6d405bcacc596a9b1e77654db60adb484de99387
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 14:50:55 2018 +0100

    Fix module enumeration on Android 7 and below
    
    Turns out dl_iterate_phdr() reports a bogus entry for the linker, so we
    now skip it and synthesize one instead.
    
    Plus some tweaks:
    - Emit the linker module last, so the first module is the app itself, for
      consistency with other platforms.
    - Properly skip the vDSO.

commit ad61b0d0f6a2e81186d5aba84e341533ddc7c8ed
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 14:45:40 2018 +0100

    Fix module size computation for modules with special ranges
    
    Like the linker on newer versions of Android.

commit e387426b1b1f734be651d5252ee266d261f8c796
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 14:43:31 2018 +0100

    Factor out Android linker logic

commit 48da83d6225786674a25575e649bbbd2dae9d481
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 05:10:27 2018 +0100

    Bump frida-java

commit 1ff669f83de2c4138400f5a813b5904ac8820dfd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 04:09:04 2018 +0100

    Bump frida-java

commit 07e30f2d8be61f995d1f1f49929a4b48a7f8941b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 23:46:12 2018 +0100

    Fix the exclude_bl_with_unfollow test

commit 55112c15a87f88d90066094cb846681922c2c246
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 23:45:55 2018 +0100

    Fix register clobbering crasher in Stalker on arm64
    
    Where X12 may get clobbered by the event delivery code.

commit 2b8a9de74212616d0eab8eda4faa348ba91d68bf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 23:43:41 2018 +0100

    Disable KScript tests for now

commit 6b428741366c63ff98e0493a003bded000e8e5cd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 23:03:55 2018 +0100

    Fix Android tests on the latest OS versions

commit e1e15df6d1eb0ddb0692b04ff1c003663c9ed7c0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 23:03:03 2018 +0100

    Fix the Duktape compat declarations

commit d4a9ee888afb3af0a069dce36cf1514ebd06aca9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 22:53:34 2018 +0100

    Hook up Duktape time implementations to GLib's

commit 263e362700a6d89432e81477fe4f96135a74fad2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 22:26:50 2018 +0100

    Fix Spinlock implementation on 64-bit Windows
    
    It is no longer safe to use X86Writer as part of the initialization of
    Gum's memory subsystem.

commit 954dc0dd0fa30e3e0183d57a86257424d0b35ba4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 22:44:09 2018 +0100

    Reduce memory_can_be_copied test on Linux/x86
    
    For the time being, so we can run all the other tests on the CI.

commit 4ef4eb67d4e70601e9d2b22cb8dd169b0878ea81
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 22:32:51 2018 +0100

    Omit vDSO from Process.enumerate_modules()

commit 1f7d4931ef5277c6f810350544588d39e62ba14b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 22:27:46 2018 +0100

    Rename to reflect the canonical architecture name

commit 72b22282f047ac5ba60fcba15c2f9f0b5f89c20c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 21:03:48 2018 +0100

    Make the enumerateSymbols() tests a bit less brittle

commit 4cf931d1330e2763510725ef16d774b94cc7430a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 21:01:23 2018 +0100

    Make the module_symbols test a bit less brittle
    
    By using gum-tests as the module, as it's more likely to have symbols.

commit 70f56ebfe221dd3d6182fb7cba570edb3ef8d05c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 21:00:31 2018 +0100

    Fix type punning warning reported by GCC

commit c21c5417e437e487ba112a1519aaced4e04d648b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 19:51:26 2018 +0100

    Fix static virtual address resolver regression
    
    It was actually correct as it was, and we were using the wrong base
    address.
    
    This reverts 91a638e438127b8623c7213613a7c10bb6b12ad5.

commit 1dc0e8e06f6491fee83b7fe921efce87627b1a0e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 19:49:13 2018 +0100

    Improve strictness of preferred address search logic

commit 3f3f2d323d699caa11a3bc4de72c3bec03522670
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 19:48:26 2018 +0100

    Fix ranges reported by Process.enumerate_modules()

commit d15ebc7fb6b82907b2fc35da9c4b56e6660881fc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 19:47:36 2018 +0100

    Strengthen the linux_process_modules test

commit 91a638e438127b8623c7213613a7c10bb6b12ad5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 01:10:59 2018 +0100

    Fix static virtual address resolver

commit b8b7a9bb8841e0b8165ee426640850957d0e3337
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 01:10:12 2018 +0100

    Simplify ELF dynamic address state detection for now

commit e85d0e60a53193c4f6e729cb9e8771028c8c96df
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 01:08:28 2018 +0100

    Fix call_indirect test on 32-bit systems

commit 3f7d0628867584cc72d7abdbbd570840285837e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 00:35:31 2018 +0100

    Add missing include needed for dl_phdr_info

commit 7a7e877ee34459d6c8a1a9f25a4f646fc4040fe7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 01:29:38 2018 +0100

    Add test-runner script for linux-x86_64

commit 72d469d58bcece4f88678567747e8edede0ebff6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 01:29:26 2018 +0100

    Use libc's library name for the vDSO

commit e67b2115f900aaf381c670ae018dd8600473c1a3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 01:19:14 2018 +0100

    Fix wrap-around bug in ModuleMap compare function
    
    Manifested itself as random test failures on Linux OSes.

commit 89d39455c5cee5caf1a3699c9a36e4ff5628987e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 31 00:44:24 2018 +0100

    Ensure that module names are canonical
    
    Which the name provided by `dlpi_name` typically isn't.

commit a3bd6869232795da8e9cff9f3487ba57af17667c
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Jan 30 22:35:18 2018 +0100

    Adjust size of mapped ranges on i/macOS (#262)
    
    The tail of file-mapped segments is only guaranteed to accessible within
    the next `vm_kernel_page_size` boundary after the end of file. Accesses
    beyond that point result in SIGBUS, regardless of the real size of the
    memory map.
    
    The returned `size` for ranges crossing the end of mapped files is
    now adjusted to be within the safe range.
    
    As a plus, Gum.FileMapping now has a new `size` field which holds the
    size of the mapped file on disk in bytes.
    
    This also adds `file` details to ranges emitted by Module.enumerate_ranges().
    
    Lastly, the `__PAGEZERO` segment is now skipped while enumerating module
    ranges.

commit 226ab0fa352da881227f706d006668287a880cbc
Author: Eloi Vanderbeken <eloi.vanderbeken@gmail.com>
Date:   Thu Jan 25 11:11:52 2018 +0100

    Improve X86Writer calls generation

commit 4336ac938cabef2f6d66e62de71c5f36089c3de9
Author: Eloi Vanderbeken <eloi.vanderbeken@gmail.com>
Date:   Wed Jan 24 17:19:58 2018 +0100

    Fix process_threads test
    
    By making sure that threads are started before counting them.

commit bd7e5db6aa128b8218046b248d630f5810b53f8b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 30 22:17:12 2018 +0100

    Use dl_iterate_phdr() when available
    
    To avoid false positives when an ELF module happens to be mapped into
    memory by someone who's not the dynamic linker.

commit 8e07accc939a520657d34d7c635fc3bbad6269bd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 30 19:40:22 2018 +0100

    Simplify resolve_dynamic_virtual_address()

commit 9149cce8178312cf47bf4496045fc893b123eeac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 30 19:36:55 2018 +0100

    Fix handling of in-memory ELF modules with fixups applied
    
    Where the dynamic linker has adjusted the virtual addresses to match the
    actual load address.

commit 96cdd3a037537ff95e2f307650dee678fa34af44
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 29 21:21:15 2018 +0100

    Add missing include for memset()

commit 8776868dd89dc8f59ab251e5a680da6925f72697
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 29 19:48:06 2018 +0100

    Fix warnings reported by MSVC

commit 8dd3f307c1d92a4687f6e55dc371c666694a63a2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 26 21:13:57 2018 +0100

    Rewrite LR accesses for thunks on arm64 also

commit 59fe9dd1b93907f94f6c2a45f05ec22f8d6e9966
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 26 20:20:34 2018 +0100

    Add failing test for Interceptor clobbering LR on arm64

commit 11d0d77aa3c94055a1e6ecc9ff9f028c40cc9c79
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 26 20:20:03 2018 +0100

    Add put_bl_label()

commit 91e23555d2e289fc60062f9b0af267f72e261168
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 25 00:13:32 2018 +0100

    Bump frida-java

commit c02c058ef8404922d692abdcd4ae2a34412cd873
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 24 23:48:49 2018 +0100

    Relax ApiResolver test a little
    
    As newer versions of Android provide libdl.so.

commit b01555727c933cf497127dec7fd4bc2e77b33b17
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 24 23:33:35 2018 +0100

    Rewrite LR accesses when hooking simple thunks
    
    So they don't see Interceptor's return address used to trap the return.
    
    This makes it safe to hook dlopen() and dlsym() on newer versions of
    Android.

commit a03e296230b6041fda28bf3e8af0a8c4ea0b3706
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 24 23:26:07 2018 +0100

    Add _gum_interceptor_translate_top_return_address()
    
    For internal use in backends.

commit 035e4d465183a060d953ff3cf1564aaedce12d01
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 24 23:25:36 2018 +0100

    Remove redundant cast

commit b83cbae7277266bd557e71be3512ef638ee5b221
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 24 23:25:22 2018 +0100

    Add missing G_GNUC_INTERNAL markers

commit a140c37fa1a22776effb1bba33d58bb2ef2ff02c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 24 22:10:30 2018 +0100

    Add test for LR behavior on regular functions
    
    And factor out the ARM tests.

commit 8c048cd27dacd331650d546843655a1bc843dced
Author: Eloi Vanderbeken <eloi.vanderbeken@gmail.com>
Date:   Wed Jan 24 17:19:58 2018 +0100

    Remove unused variable (#258)

commit a264f8c26f08e93d9412d84ce95288fa2199fdf4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 24 13:35:23 2018 +0100

    Add failing test for Interceptor clobbering LR on arm
    
    This happens in order to trap the return. We should however be able to
    avoid doing this for simple thunks, like dlopen() and dlsym() on newer
    versions of Android.

commit 28aaa7d0fea716f1ca3e78c4fe71e1e6c5fae6f7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 24 13:32:59 2018 +0100

    Add put_b_label_wide() and put_bl_label()
    
    Plus a little refactoring.

commit 3022251046eccf0d15b3fa0e02809b2808175965
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 24 13:31:30 2018 +0100

    Fix stylistic inconsistency

commit 7b194adf03d51f7eb855769622ead507427327d0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 23 03:08:47 2018 +0100

    Add support for resolving dynamic linker APIs on Android

commit 21fc53e5d1bbac5ea4803bd3aa11d33587ac0c85
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 23 03:08:03 2018 +0100

    Improve ModuleApiResolver to only visit each module once

commit f02d9db5621c07fb1968bb9201713ef6871d4815
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 23 03:06:25 2018 +0100

    Speed up module name resolution on Linux-based OSes
    
    When the name is already in canonical form and the base address isn't
    needed.

commit 328136ed6cb00a2e6048922b08a85bf79f85b942
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 23 01:26:38 2018 +0100

    Add test covering intercepting dlopen() on Android

commit 98a310ff3b48bb12c9ce2ebd76ecc6d5cf4061a4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 22 23:53:52 2018 +0100

    Handle gelf_getehdr() failing

commit e30fe952ae99f9ce1cabbb25f846c1193facde0d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 22 02:26:26 2018 +0100

    Bump frida-java

commit 5c1b8be135b7cfce923cd42b50a9a3b8c67c3c70
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 22 02:12:20 2018 +0100

    Make NativeFunction accept undefined receiver
    
    So the code Babel generates for spread syntax actually runs.

commit 87bb424f871f5d5764b9d1940b7d01acf79262e3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 21 00:00:16 2018 +0100

    Move enumerateThreads() tests to slow mode for some targets

commit 4a711cdb544981704b759248839fb3b8b2d1d016
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 20 02:39:58 2018 +0100

    Fix interception of Thumb functions on unaligned boundaries
    
    When the function start at a boundary not a multiple of 4 we need two
    additional bytes for an alignment padding NOP.

commit 076e554ecc72bd227759fcee77b2effdb82b4c05
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 20 02:36:58 2018 +0100

    Always align literal slots on 32-bit ARM
    
    To avoid crashing on systems that don't allow unaligned memory access.

commit 95cd6a487d0b97df508693787aede991a09eab9d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 20 01:00:34 2018 +0100

    Move a few dicey tests to slow mode for some targets

commit 141bc12e7956ba675f890b2c923ae5108dee8eb2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 20 00:53:44 2018 +0100

    Implement gum_module_enumerate_symbols() in the Linux backend

commit b67e2d2cab383f53ef6e0ab6e0a5fe37ccc54c30
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 20 00:51:58 2018 +0100

    Extend the SymbolType enum with ELF-specific values

commit cca89aa4afa635f42b48f2abb6025e00430256c2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 20 00:50:17 2018 +0100

    Add gum_elf_module_enumerate_sections()
    
    And improve the section header lookup API.

commit e1f2824d1a788f9b0f009587c9d3aa41dadc116d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 19 21:02:26 2018 +0100

    Fix handling of ELF modules with only DT_GNU_HASH

commit c6ead7ea069db051a1f7776c0c914efc4b3ae0fc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 19 15:59:36 2018 +0100

    Disable thread enumeration test on Android for now

commit fe0e5841fb9d47f549851d85acfe0fcd3ad70585
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 19 15:59:15 2018 +0100

    Improve import/export enumeration on Linux/Android
    
    Using the in-memory program headers is more reliable than using on-disk
    section headers, which may not be present.

commit 38a157031db7612bc0f6112fa54c1f3c39340f22
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 18 22:22:10 2018 +0100

    Bump frida-java

commit f5007203fe1e02d250094c2f3684319733607d80
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 18 19:18:28 2018 +0100

    Bump frida-java

commit ac59849bfb5939fe4ae145eaccf265cb7d277ffc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 18 04:25:41 2018 +0100

    Fix generated docs for put_instruction_wide()

commit 3c41174c835279b71e16a865a75859e3c30ce7fd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 18 04:12:45 2018 +0100

    Bump frida-java

commit d3bde64746b813fbc95340f9ae1e4cffe1bc8774
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 18 04:12:16 2018 +0100

    Fix JS bindings for arm_sysreg

commit 02d17bb7dbe2d133c444b20c095e80e90fd423fd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 18 03:03:34 2018 +0100

    Add gum_thumb_writer_put_{mrs,msr}_reg_reg()

commit 459f8d1f4a210632eebe3fd26f0118f7a5703e41
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 18 03:03:02 2018 +0100

    Fix inconsistency in _wide() naming

commit 073898980d01087cacd4d966068fcad9736963a3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 18 01:07:04 2018 +0100

    Add gum_thumb_writer_put_b_cond_label_wide()
    
    And refactor to get rid of unused cruft.

commit 8114ac34180b0ce6c16a48776395b6cfb7f5fe63
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 17 22:46:56 2018 +0100

    Commit LDR literals when arriving at the maximum distance

commit d13b31b01d4d7ce721b24659b83cc3ca15d5beae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 17 17:08:17 2018 +0100

    Improve uniqueness of labels used by relocators

commit 5d7d1502c77588c7da333dc6860bc3e63c5375b3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 15 20:38:23 2018 +0100

    Lift limitations on number of labels and literals
    
    Now that these are part of our public API and Stalker is able to safely
    allocate memory.

commit 4394de7660cc4362fcbe82d1de62a47ecc2da379
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 15 20:28:55 2018 +0100

    Get Stalker tests running on iOS again
    
    Should investigate the register clobber issue at some point.

commit e438a22c3d4c7dde7652ec6c657b2c6b003d5d02
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 15 20:28:11 2018 +0100

    Skip sqlite3_thread_cleanup() interception test on 32-bit ARM

commit e347af38d616c1d6f3cdf29a5128093c4dc3db44
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 4 19:39:18 2018 +0100

    Bump frida-java

commit 675853a026a6d321bb0bed09bf33fe554bdf2699
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Jan 4 13:54:26 2018 +0100

    Expose ModuleMap values() method (#253)

commit 85d44f0805400e6ea7d85c383e6b964e1c39a52e
Author: Antonio Ken Iannillo <akiannillo@users.noreply.github.com>
Date:   Thu Dec 21 13:05:18 2017 +0100

    Take excluded ranges into account for BLR also (#248)

commit 511f2992f4320d380d117fa5bfcc3ec8817c1054
Author: Antonio Ken Iannillo <akiannillo@users.noreply.github.com>
Date:   Fri Dec 8 09:51:48 2017 +0100

    Fix compilation (#247)

commit 67334a14e6a0a967644ed0f8cd1168d7803e4946
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 7 18:49:16 2017 +0100

    Expose an empty module to allow require.resolve()

commit 2cf0b527599d016ba20a9a76a1d1054b63c45402
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 7 18:35:24 2017 +0100

    Add minimal types for the Thread module

commit ef2add9a4c77e3e14af2de5b7897d0d7f6423889
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 7 18:21:06 2017 +0100

    Try a different directory layout to please tsc

commit 918d35d9ff07ea69706726dc51736ee47d2432ba
Author: Antonio Ken Iannillo <akiannillo@users.noreply.github.com>
Date:   Thu Dec 7 16:00:44 2017 +0100

    Add some missing calls to gum_clear_cache() (#246)

commit 9d5f333ec0a22c69db73a43f87effade66565bc9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 7 15:35:02 2017 +0100

    Fix the `main` field

commit 3ca28d91c538da0180bdc4fccfb8924876729846
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 7 15:27:50 2017 +0100

    Ignore package-lock.json

commit c7eb9cfb280244dabf32005ee1635eba68505b29
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 7 15:27:36 2017 +0100

    Add early draft of TypeScript type definitions

commit b3c7ae749873ee1abc4312de14c4495996623bc0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 1 21:38:53 2017 +0100

    Fix stack corruption in Stalker arm64 tests
    
    Kudos to @akiannillo for tracking this one down.
    
    Fixes #245.

commit f1d085393614272527b801bba559c31c5ef51e3f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 27 13:13:23 2017 +0100

    Refactor _waitForEvent() to get rid of warning

commit 1f301b248262282f359017247f58c27250130b24
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 27 13:01:09 2017 +0100

    Really fix NativeCallback lifetime this time
    
    This now also has test-coverage as of the previous commit.

commit 0e7c1ac9cf69db0de1d7ef75218d9776d104702e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 27 12:59:30 2017 +0100

    Strengthen NativeCallback test
    
    To ensure JS callback is kept alive.

commit 5bc1ad3dc4db7eb7479a59b422f77d62b0c4da32
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Nov 25 02:05:00 2017 +0100

    Ensure event_source_available is assigned before use

commit b1d57425524778d51eee31343c79f1952650a34c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Nov 25 02:00:42 2017 +0100

    Make recv().wait() throw when script is unloading
    
    To avoid deadlocking.

commit bd3ded4cc17b74010763675fbae84e795d87da3d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Nov 25 01:59:19 2017 +0100

    Remove unused argument

commit e7d3b3b434454396045cb119ca433b97b0deb9f7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Nov 25 01:19:41 2017 +0100

    Bump frida-objc

commit 6b67a7dc74c57dafe6f0bb936daf1078a0e31012
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Nov 25 00:05:22 2017 +0100

    Add Frida.heapSize
    
    Useful for profiling Frida's own memory usage.

commit bd8e6df32f85d78547b934f0c076ab1cd17c071b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 24 19:27:21 2017 +0100

    Actually fix NativeCallback JS function lifetime

commit 8051e522dce86003563f8d7d8a3af9692780691a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 24 19:24:55 2017 +0100

    Fix NativeCallback reference loop preventing GC
    
    Turns out that Duktape closures capture everything, so it is very easy
    to keep the NativeCallback itself alive, which keeps the closure alive.

commit a90961d1252398c8f9c80401849a73082155aaae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 24 18:24:51 2017 +0100

    Add failing test for NativeCallback memory usage
    
    Currently fails on Duktape, passes on V8.

commit 7e39849e2b6607108cfddc9cde7d5c1e163903da
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 24 18:19:17 2017 +0100

    Simplify timeout-handling by making it stack-based
    
    So tests don't have to remember the old value for timeouts that only
    apply to a portion of the test.

commit c22bbfcd9e6c9fe06d284487707dd2711a18fab7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 24 18:18:07 2017 +0100

    Simplify memory management of message queue

commit e627b524f84351fc5431166e5e7402dd79962cdc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 3 01:03:01 2017 +0100

    Fix casing inconsistency in error messages

commit 92c8a17f0847ffe2dcedbd60e8eca9582111cdfc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 3 00:57:46 2017 +0100

    Add Module.ensureInitialized()

commit 289cfa589a42a49991ca0b7935921313789d2063
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 3 00:48:40 2017 +0100

    Add gum_module_ensure_initialized()
    
    To make sure module initializers have been run.

commit 69e7988cf1f44fc096c89166952966144a40423f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 31 14:00:11 2017 +0100

    Fix handling of float in variadic NativeFunctions
    
    This seems like a bug in libffi, but for now we'll follow what JNA does:
    https://github.com/java-native-access/jna/issues/463

commit ae5cb72f9b717fabb99f98c52d09f658fe76a0db
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 31 13:51:55 2017 +0100

    Strengthen the regular NativeFunction test

commit 2825d0c42b0a64dd8cf993912a3a1d89161ffae1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 31 13:35:55 2017 +0100

    Add failing test for varargs with float

commit d7a1d7b019789459e8d06d6d299fbf6125753fc2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 25 00:41:22 2017 +0200

    Fix unicode-handling in Memory.readCString()
    
    As this API is intended for plain ASCII and potentially invalid UTF-8,
    we need to replace bytes that cannot be interpreted as valid Unicode.
    
    We lean on g_utf8_make_valid() to do this for us, which replaces them
    with the Unicode replacement character (U+FFFD).
    
    This is important to ensure that invalid strings never enter the
    JavaScript runtimes and result in a crash when later handed to send().

commit d3febd5dc415d2d00ca3a889d215782b8a814839
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 24 21:39:21 2017 +0200

    Improve Memory.readUtf8String()'s error message
    
    When encountering invalid UTF-8.

commit 725c41685d27c45a45fa09830c1eab7f65132d02
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 20 22:52:25 2017 +0200

    Turn policy violation errors into JS exceptions

commit 3546c8c198a5c1b5186232f9f72606bd84186864
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 20 22:50:38 2017 +0200

    Make Interceptor honor the code-signing policy

commit 8f88238003e8dcfad676da69109a1e2c71e04a76
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 20 22:48:33 2017 +0200

    Add Process.codeSigningPolicy

commit 177d8273f6f1671a81e3ac9cc61d63d74eca2d26
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 20 22:38:24 2017 +0200

    Add API for specifying the code signing policy
    
    And to be able to query it as well.
    
    The use-case is repackaging iOS apps with Frida-based tweaks and being
    able to run those apps without having to launch with a debugger to relax
    the code-signing requirements.

commit c690549eac78d5ea5e1ea0d2ef7ea25621c5ab96
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 20 22:23:15 2017 +0200

    Fix stylistic inconsistency

commit c138e91a8d23278cc354faecd80f7a4e41ea7110
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 16 14:33:31 2017 +0200

    Fix WeakRef lifetime issue
    
    Typically resulting in a crash on unload.  Also refactor to get rid of
    some unused cruft.
    
    Kudos to @leonjza for reporting and helping track down this bug.

commit 6bcc7c1e736f1f0e0067b003fb190f960f3209ea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Oct 15 21:29:40 2017 +0200

    Bump frida-java

commit 53a596ccfca7b4902c34aa13a2f2ace287c217f0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 11 17:28:48 2017 +0200

    Fix SymbolUtil regression on Linux-based systems
    
    We also need to collect the dynamic symbols.
    
    Also avoid duplicates and sort the results while at it.
    
    Fixes #240.

commit 4f225007fd4fcc2967165d3409e2b02f5a6c30e3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 11 17:27:21 2017 +0200

    Remove unused variable

commit bdd05e9067ed17b639d2a8fa20e0778218bcd9d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 10 14:41:16 2017 +0200

    Add NativePointer#not()

commit 7c153017b809e71c165da4f82456c45d513f1751
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 10 14:24:10 2017 +0200

    Bump frida-objc

commit 641a845ed1f55a4379d3d2e04ed9c1387f850ede
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 7 01:37:15 2017 +0200

    Bump frida-java and frida-objc

commit 78d591915684ed1c1262cda0eac040d26ae5ee91
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 5 23:45:26 2017 +0200

    Implement WeakRef behavior in the Duktape runtime also

commit 92928c9db1a9dd9cd160ca76c392433616e7eeb3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 5 19:29:43 2017 +0200

    Remove outdated cast causing compiler warnings
    
    We used to assign to a plain pointer but now assign to a function
    pointer, making the cast unnecessary and wrong.

commit 3873d47159ad6914bc4d76e72c973fd66d676cf9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 5 19:27:18 2017 +0200

    Port the bit-counting helpers to 32-bit Windows

commit c88f4de2a77d1e201b7f7b68367dda0413c8e4a9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 5 17:26:38 2017 +0200

    Fix InvocationContext lifetime when onLeave is omitted
    
    It should keep it alive if it's dirty, i.e. so memory allocations are
    kept alive for the duration of the intercepted function call.
    
    Fixes frida/frida#346.

commit 6ac7cf5c732962575cf667b28dbad3a7149d8a14
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 5 16:44:33 2017 +0200

    Fix NativeFunction.apply() in the Duktape runtime
    
    The argument handling was actually completely broken, but this was only
    evident when more than one argument was provided.
    
    Fixes #214.

commit 0a6e66c6a57897ac651923da0f3a35f1494d30bb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 5 16:10:09 2017 +0200

    Update test to match Duktape's improved stack traces

commit b75de861bf968e791c66f5c47efcbd568029555b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 5 15:45:18 2017 +0200

    Use DUK_HIDDEN_SYMBOL macro available in latest Duktape

commit a1af74438aead97d84cf627edef9d4ce7c83c604
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 5 15:44:52 2017 +0200

    Simplify Proxy creation by using the new Duktape API

commit a9dcccf1333a9647ce9962c0db4e33e70ee24070
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 5 15:39:35 2017 +0200

    Upgrade Duktape to latest 2.2.x
    
    Fixes the following:
    
        function parseChar (c) {
          var a = typeof c;
          +c;
          var b = typeof c;
          return [a, b];
        }
    
        console.log(JSON.stringify(parseChar('7')));
    
    Which would print:
    
        ["string","number"]

commit f08dc8c55ed68108f5e2c4edcfa4d1fbe7d91aaa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 29 04:04:07 2017 +0200

    Enable SymbolUtil tests on Android by default

commit 19754964cd1dadb33eac297e781f5ca5c9b2ccc3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 29 04:02:51 2017 +0200

    Fix Thumb handling by simplifying symbol collection
    
    This also speeds things up considerably.

commit 2b1cead2db5018404cd3c3cc05338ed06b3652d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 29 04:01:01 2017 +0200

    Add enumerate_symbols()

commit 68975ebb7a57e1c7276ea6ccac699db763b05613
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 29 04:00:12 2017 +0200

    Fix truncation issues in enumeration logic
    
    Caused by getting the types mixed up.

commit f2731be57cc07e21cd632b379ade788f5bb3c96a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 29 01:40:41 2017 +0200

    Implement best-effort symbol resolution
    
    Like on the other platforms.
    
    Also canonicalize paths and remember which modules don't have debug
    symbols available.

commit 27d8bf095cdcc64f68dd3fec1f0a9891060c0d78
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 29 01:38:46 2017 +0200

    Do not rely on .debug_aranges
    
    It is emitted by GCC but not Clang.

commit dca77f361100401a7477b96e696000f2c3d5d776
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 28 19:16:06 2017 +0200

    Fix addresses in name to address results
    
    We obviously need to rebase to the actual base address.

commit fe8df3404b2dbe84ff4c8e83043f516ce7b2eaad
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 28 19:12:26 2017 +0200

    Improve module enumeration strictness
    
    To avoid false positives in case the application happens to have mapped
    modules into memory for inspection only.
    
    We should consider using dl_iterate_phdr() when available.

commit dffa16997faebb7caf9b2aad28c4c1386ddd40a6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 27 22:52:07 2017 +0200

    Refactor to use libelf

commit 77b4584133015a82e79a63f383b450ce3f7b4fa8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 27 03:21:17 2017 +0200

    Move to a libdwarf SymbolUtil backend on GNU/Linux (#238)

commit 4142ac4aa9c6381d3e56c0f139db06101cd5b499
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 26 22:03:40 2017 +0200

    Add `name` property for convenience

commit 94b3dff10600d76039ee55249ac98e7851546716
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Sep 26 16:03:28 2017 +0200

    Expose sqlite open flags (#237)
    
    E.g.: `SqliteDatabase.open(fileName, {flags: [‘readwrite’, ‘create’]})`
    
    Possible flags are `readonly`, `readwrite`, `create`. The `create` flag
    can only be combined with `readwrite`. The default flags are
    `['readwrite', 'create']`.

commit 53e946fb8d5e12346efe086fba5191019395a325
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 25 21:04:07 2017 +0200

    Factor out ELF-parsing
    
    So it can be reused across backends.

commit 7aeef11a0e28d16d67afdc443d23930b27ac70af
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 02:16:21 2017 +0200

    Strengthen the console test

commit e26669f979e2e931113819fd03b597d921376a1f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 00:24:03 2017 +0200

    Don't mark any message levels as fatal
    
    This is application-level policy that does not belong in a library.

commit 5550ae1ae370dcd6a7430fdd6190cf92aaeb7621
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 22 14:17:01 2017 +0200

    Fix logging of undefined and null values

commit 761aef463ee8b6a9cb7d932f59599e2401a0e808
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 22 13:32:33 2017 +0200

    Implement relocation of PC-relative LDRSW instructions
    
    This should allow Interceptor to hook a lot more functions on arm64, and
    should also fix crashes/undefined behavior in Stalker-generated code.
    
    Kudos to @JohnCoates for helping track this one down!

commit 98681776b9556b84d6d1f78a047c3e45a8363373
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 22 13:23:42 2017 +0200

    Add ldrsw_reg_reg_offset()

commit 86b182f1ad9aabd0adf31c9e8600e5250de7157a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 22 11:58:13 2017 +0200

    Bump frida-objc

commit 23fe771afee1e70eea3931771f11e9567cc5b3bf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 20 11:07:22 2017 +0200

    Fix use-after-free issues caused by bad declaration

commit 3f23aa460be001757295e2b8afa56f33e44c363c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 19 16:30:39 2017 +0200

    Improve GumMemoryRange to allow boxed usage

commit 45235d7ed2507219926371d174ed257962a995d3
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Sep 12 23:27:24 2017 +0200

    Poll thread state if instruction pointer is NULL (#236)
    
    This is needed to avoid stalking threads at address 0, causing exceptions and/or
    deadlocks. At most it tries for 20 seconds, then gives up.

commit 809449e0120c05f428f98b073c27f9c7c653965f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 9 00:54:57 2017 +0200

    Add missing include for MSVC

commit 0ded1581d305e54069a3a83f411bd5f2841f0e70
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 8 22:55:25 2017 +0200

    Ignore attempts to call start() when disposed
    
    To allow Gadget to shut down brutally.

commit b2df3ecc32de37d521fc449aecd2b95ba2889d8b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 8 18:23:00 2017 +0200

    Fix vapi

commit 0120b64d97d69899434912679a4b731324ac1fbf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 8 18:02:47 2017 +0200

    Expose ScriptScheduler and allow driving its MainContext

commit e2e3e701fbba8e70b8453989e86b802082ada6d2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 7 14:49:25 2017 +0200

    Extend the ModuleMap API a bit further
    
    - has(): quickly check if a module is present
    - findName(): like find() but only returns the `name` property
    - findPath(): like find() but only returns the `path` property
    
    Plus getName() and getPath() that throw when not found.

commit cd78d278789b1579f848391d8529e4987d74b82e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 7 14:30:19 2017 +0200

    Treat module name as UTF-8

commit 538ef92b2967084ecb364505aa1007fd74632388
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 7 14:11:45 2017 +0200

    Optimize module lookup by doing binary search

commit f4ef079ac578ff602649d2c58c92d539d9f2635f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 6 19:20:12 2017 +0200

    Expose the ModuleMap API to JavaScript

commit 8ba71cfbb2b7e5c81534c090efe0f573ddfebb61
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 6 19:16:13 2017 +0200

    Factor out the ModuleDetails parsing to allow reuse

commit f694b629a21570608b4f11eff648f3f52a424db3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 6 19:15:30 2017 +0200

    Pass const pointer to _gum_v8_parse_exception_details()

commit f6b36d2127e88e22f1c4b24deb6aeaf44ad67d3a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 6 19:13:42 2017 +0200

    Remove redundant namespace qualifiers for consistency

commit 336d9aa9945aa6ff2e3f91a1627c588bea7c60bd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 6 19:12:08 2017 +0200

    Add missing GUM_API annotations

commit 8e1184ee4d76bd319435f0572539ba915b9cf41b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 6 19:11:00 2017 +0200

    Improve ModuleMap to support filtering

commit 6b292cc234c0723fd04a07d2443207b6c990156a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 6 01:41:55 2017 +0200

    Use Capstone's iterator API to speed up relocators

commit dfb5856c552c2a6c8a466c29592e21d834112dc6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 5 23:01:34 2017 +0200

    Expose the underlying CodeWriter's `base`, `code`, and `pc`

commit d1df128d1a655039d2a0c64d1da56360a24d306c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 4 20:11:58 2017 +0200

    Also use inline caches for CALL mem and JMP mem

commit 0620eca64d8e4042bccd6e91ebe91ca65083e121
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 4 15:40:16 2017 +0200

    Update documentation autogen logic to cover the new special-cases

commit 57a0a4c5559888ad3631b7c6885f0f1ddabc31b7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 4 01:42:26 2017 +0200

    Refactor frame handling to reduce coupling

commit 5d275219d7268332e7a3db92e45f8135e73df22d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 4 01:40:45 2017 +0200

    Tweak style

commit b67b137874cbcca446ae1b7cc189360621b4539d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 4 00:05:05 2017 +0200

    Improve call backpatching to also use the helper function

commit cba89374ae886b8bdba5e6e98fbf1e6f1ddbe5f9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 23:49:54 2017 +0200

    Tweak comment styles for consistency

commit 4fb21f8e552fa10f6bdd3f5e17feae115773d8ad
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 23:45:58 2017 +0200

    Clear side-stack on miss to allow resync

commit 5a9003e3a5b84da4bc4d333e206b3b85795c472c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 23:33:03 2017 +0200

    Move stack pop logic to a helper function

commit ef515b2d5897a12286dfc279756bcf0c0f3b0a03
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 23:31:53 2017 +0200

    Tweak naming

commit 745a3851ffea489c2d743bbd7f64b949043b8ac8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 23:14:28 2017 +0200

    Improve put_cmp_reg_offset_ptr_reg() to handle i32 offsets

commit d3aafad9803fedb6e25e9b67e539ca5d6c4689f2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 20:40:49 2017 +0200

    Move stack push logic to a helper function
    
    To reduce the amount of duplicated code, and make it reusable.

commit 8cec1ee48646e0b80ca6a494e8cb2d941a89059f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 19:49:30 2017 +0200

    Pass the target block to backpatch_call()
    
    Instead of the caller's block.

commit 78158fdbbca3016d98f1d91c781283e415dd8c8c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 19:45:42 2017 +0200

    Call backpatching functions with aligned argument lists

commit 59e2c084b323b3b90e4fe20af3af0b9e21432564
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 19:38:37 2017 +0200

    Implement an inline cache with two entries for JMP reg
    
    On the performance test this amounts to an improvement from ~2.8x slower
    to ~1.4x.

commit f6aa092b4b6c131d72822abb24ff9eaf0a236741
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 18:27:03 2017 +0200

    Speed up the Stalker x86 performance test

commit bbf8c602a40162c476a3a7f307f4d2aaa364bf8b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 18:25:25 2017 +0200

    Use put_call_*_with_aligned_arguments() to simplify things

commit 57cf286a5dfb43242ed425416c1ca675708732f8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 18:13:56 2017 +0200

    Refactor event delivery to generate less code

commit 3f256cb7a5f8ab74999e40f869fbe75d9c34681e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 18:13:16 2017 +0200

    Improve readability slightly

commit 11e96d803171359a30a76028bdf85887d6f4ae81
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 18:11:43 2017 +0200

    Add API to call with an aligned argument list

commit 5bcc41a171ec6047f927b885cb56f20cfc1906cb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 03:08:05 2017 +0200

    Remove irrelevant indirect branch logic
    
    They don't exist on arm64.

commit 1f9fea96eb3e87964565591b2eceddad7255fe0b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 03:00:29 2017 +0200

    Implement call depth and refactor event delivery

commit bab25db81d43b1c60c6865353c3dbc424b480090
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 01:41:55 2017 +0200

    Remove temporary logging code

commit 117c2676ee1060ee5286805ebaa5333c7f048da3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 30 19:21:37 2017 +0200

    Implement side-stack and speed things up
    
    The side-stack speeds up handling of ret-instrutions, and will also
    allow us to implement the `depth` field of CALL events, like we do on
    x86.
    
    To speed things up even further we now implement the same backpatching
    tricks that we do on x86, plus, inline caches for dynamic branches where
    the target is in a register.

commit 7732e7eead9d69f38ca100efbc971fad514e9969
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 31 20:58:06 2017 +0200

    Improve naming

commit 1b72d870b957f105503cf92ca93e91dc226a0e71
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 28 01:55:59 2017 +0200

    Measure which of the generated code is used most frequently

commit 5335e7350ea1604701290c7f7c89113c0605d78c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 01:26:40 2017 +0200

    Remove redundant comment

commit 5847934e2351d1e1ed81d57868b4c5b1c566d7ed
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 3 01:26:28 2017 +0200

    Add ldr_reg_ref() and ldr_reg_value()
    
    Useful for controlling where the value is placed.

commit 258c50da0575a23349c34a8dd9b89f91b4e2adc2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 31 20:58:33 2017 +0200

    Add and_reg_reg_imm()

commit 073c7e0d2d0c2a0ce7bd4205d91c3797dc5d359f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 31 02:15:29 2017 +0200

    Add cmp_reg_reg()

commit 4f541328d8aac9d04260de9d4be7cb94d6b9ac4a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 31 02:05:03 2017 +0200

    Add sub_reg_reg_reg()

commit 242eef7e982c118f0724a91910af9116bf592865
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 30 19:22:01 2017 +0200

    Fix stylistic inconsistency

commit 1aaa079d390da9293b0a06d249f5c27145b2a145
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 30 19:21:11 2017 +0200

    Add tst_reg_imm()

commit d07901e5930531b49b3d759cbe67e9394f898d4d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 30 01:06:46 2017 +0200

    Implement backpatching of static branches on arm64
    
    Like we do in the x86 backend. Results in a 10x improvement measured on
    the performance test.

commit e4d213b6a6adbfa97cfbbb96e783f589a60feb56
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 29 18:07:16 2017 +0200

    Improve the Stalker performance tests

commit fdc20a462b7be2bb90b8a7896703cb83246c6cbe
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Aug 28 19:42:18 2017 +0200

    Resolve writer labels using hash for Duktape also (#234)

commit 1d92d313bd889249fc6d2144750db3926051d8f4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 28 00:39:31 2017 +0200

    Turn the Stalker Cocoa test into a performance test

commit 521ecde2a46ea8655fbe35cc29e924ff2447e5cf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 27 23:38:27 2017 +0200

    Add boilerplate for a Stalker test fixture for Darwin/arm64

commit 3f5c5b77188de7a1f74d8f695720ac8d19138463
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 27 22:27:44 2017 +0200

    Tweak put_cmp_reg_reg() argument naming

commit c855009bbb36e9c555ffa2bb60186f2666e6d339
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 27 22:16:35 2017 +0200

    Avoid clobbering system error when restoring thread to ignored

commit 3b9f23ca2e306ee7a85aad11480182236c9e4582
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Sun Aug 27 21:41:00 2017 +0200

    Fix X86Writer’s sub_reg_reg() and add cmp_reg_reg() (#233)
    
    - Make sub_reg_reg() compatible with 64-bits registers, by adding REX prefix.
    - cmp_reg_reg() is exactly the same, with different opcode.

commit 86ef4dd24cd259d3c3a612765dab3b943eaec7c0
Author: Fabian Freyer <fabian.freyer@physik.tu-berlin.de>
Date:   Fri Aug 25 22:04:37 2017 +0200

    Do not ignore interception of NativeFunction calls
    
    When Gum is used in embedded mode, i.e. gum_init_embedded(), like it is
    in the case of frida-agent and frida-gadget, it ensures Frida's own
    threads are ignored by Interceptor. This does however not make sense when
    calling a NativeFunction.

commit 034e4472b3af39188811a2bb9dfef556fbef1e09
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Sat Aug 26 17:42:27 2017 +0200

    Create capstone instance during module initialization (#232)

commit 35a3e1300be4de873a17a12de9ea6988beb1e726
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 24 02:32:01 2017 +0200

    Expose regs implicitly read and written as well as groups

commit 4cddb118a35db0ecc40eb7755985f7df3991f4b6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 24 01:51:25 2017 +0200

    Strengthen the NativePointer from Int64/UInt64 test

commit 04fa34f88017da10520dd7e73b4bc38fde80ee14
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 24 01:51:02 2017 +0200

    Fix stylistic inconsistencies

commit 2275f988f4b44a22d95e5d986cf909392eae8d5b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 24 01:30:21 2017 +0200

    Gracefully handle malformed event buffers

commit bc1749d5320e9d72c8447179b74899eeff89fbd4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 24 01:12:42 2017 +0200

    Fix stylistic inconsistency

commit 242ac9e77d696da1d8b534b57efbb7ff78a81803
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 24 01:10:02 2017 +0200

    Improve Capstone JS bindings to expose operands

commit 6923fc2972409e3d46f6f178530cddbe99797f26
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 24 01:08:30 2017 +0200

    Add support for parsing NativePointer from a negative number

commit f5099d026df04d99c6f68a819f53f914e7225aea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 24 01:07:39 2017 +0200

    Add _gum_v8_object_set_int()

commit 7f80d2dc4167c4ee76c0608788feee4faad3efd5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 23 15:31:14 2017 +0200

    Get rid of _gum_duk_is_arg0_equal_to_prototype()
    
    Most of our finalizers steal the data and only free it if successful,
    and since the prototype won't have data there's no need to check if
    we're finalizing the prototype.

commit 16bcadc7505e69afa131c7eb58c772c49773c14e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 23 15:18:56 2017 +0200

    Recycle the CpuContext object passed to the callout

commit f856631918e702f2484c1e324a56c36e2c1df386
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 23 05:30:51 2017 +0200

    Work around broken mmap() declaration on Android NDK r15c

commit 470d2bf6ffc5d32049af63d1c6af04eba8450758
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 23 03:31:17 2017 +0200

    Block script unload until Stalker's GC completes

commit c074cb50ad2bbdbe8333af3ab168d6c465b880cc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 23 02:43:19 2017 +0200

    Fix lifetime issues related to object recycling
    
    This is quite tedious – we clearly need to consolidate the common
    wrapper logic at some point.

commit 857d2d3257d8f690717df9e1e1fa62f69f8f0f25
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 23 01:07:35 2017 +0200

    Use g_hash_table_add() when hash table is used as a set

commit 69619d4e8542f4b0fac88fc1a1faad017bc442ce
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 22 23:26:39 2017 +0200

    Improve the StalkerTransformer JavaScript binding
    
    Make StalkerIterator a subclass of the writer to make the API more
    coherent.

commit 331e852c9101c6dd3c6cc032429d4d1f9e40b84f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 22 23:23:09 2017 +0200

    Add macros for implementing direct subclasses

commit 4de7b8954d72a53278f700a5cb5061f4241b7fe8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 22 06:30:47 2017 +0200

    Update Stalker stub implementations to the new API

commit b6f850f8a4ad5e187b56c0943f71b46c0735f497
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 22 06:02:46 2017 +0200

    Add support for callouts implemented in JavaScript

commit de7aa7f80564a54ce6173ddbd6708b50d0c73851
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 22 06:00:36 2017 +0200

    Improve the callout API's lifetime management
    
    And include a meaningful EIP/RIP/PC in the CpuContext.

commit 59590bdfce5a5d6f9ef80f2be56ad4b26bc9799d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 22 02:26:52 2017 +0200

    Fix warning reported by MSVC

commit 34a9e51cac6abceb06e27ce44a6b97b9fbdfe5ed
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 22 02:15:16 2017 +0200

    Add support for making callouts from the generated code
    
    This simplifies the common use-case of inserting callbacks at key points
    without having to worry about saving callee-saved registers, aligning the
    stack, etc.

commit b566d93d7fc0017c9122baeed69721ef0b56ed06
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 22 00:06:39 2017 +0200

    Refactor to support a full prolog like on x86
    
    We will need this to make it easy to support user callbacks with full
    access to registers through a GumCpuContext.

commit 92a2828df6a78b21a98078377f20165ba593f7fb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 22 00:02:47 2017 +0200

    Fix put_mov_reg_reg() when source register is the zero register

commit 3c7ecef56899a1ae7d0ce327ccd1bdeca008d840
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 21 22:44:25 2017 +0200

    Improve style

commit e975d3a46dcdd2428f60a137d6e8c67cf11a680d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 21 14:30:39 2017 +0200

    Fix stylistic inconsistency

commit 79292cadbc66d32453da6d8e53a78ea5d06b54d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 21 14:29:57 2017 +0200

    Only preserve the callee-saved Q registers

commit 9ae6dd4d6bb849f13986dd6b48a1faa55708f8f8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 21 14:29:00 2017 +0200

    Fix minor stylistic inconsistencies

commit b626fc374702f9f1dc43c803895c0a20c9803c79
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 21 14:28:36 2017 +0200

    Generate push/pop Q instructions instead of hardcoding them

commit 0fdb133572780f7bec14a884a61d6f17e1259f7e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 21 14:25:34 2017 +0200

    Add test coverage for push/pop with Q registers

commit 03604494bfe0dc5de65f96de9febc5994986f43d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 21 03:29:22 2017 +0200

    Massively reduce the amount of generated code
    
    Also get rid of the PrologType enum considering we only have one type.

commit 33e0bb4b0fbbfe29408b7a0c136a32499c707d91
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 20 23:36:26 2017 +0200

    Fill in eip/rip before invoking call probes
    
    Now that our prolog only leaves a placeholder.

commit 5761438bd6a724e8b1d5288050b331808f5ff825
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 20 23:31:19 2017 +0200

    Reduce backpatch padding now that we produce slimmer code

commit 132327ff585f098c1ed3b7b3dd93c63109bc9330
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 20 22:12:13 2017 +0200

    Massively reduce the amount of generated code
    
    By turning most of the prologs and epilogs into functions.

commit d13ab682947bea11dc1d0ba41f0525c3ba640e3e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 20 22:07:41 2017 +0200

    Prefix constant macros for consistency

commit 6241b2139a3448cbbceb98b53eed0ea5bd03664f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 20 22:06:37 2017 +0200

    Simplify pointer alignments

commit afbe6cf7a148324e2d9038afcbf588f1eb127049
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 19 03:21:39 2017 +0200

    Refactor gum_x86_writer_put_call_reg_offset_ptr()

commit 26be024c1572185c4767addb7aeab45715892ead
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 19 03:20:10 2017 +0200

    Add minimal safeguards for when the code generation fails

commit 2a539de7275d7e3104eff57dfb4aac9c81c859e4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 19 03:19:11 2017 +0200

    Add gum_x86_writer_put_jmp_reg_offset_ptr()

commit c7994735ec40f579a3a59a3007c3dfcfe088374e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 19 03:18:50 2017 +0200

    Rename gum_arm64_writer_can_branch_imm() for consistency

commit da67819eabfa13459e76055e513d98e1349d3ded
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 19 03:17:45 2017 +0200

    Add gum_x86_writer_can_branch_directly_between()

commit e0605db986fc16423030170a9e16d9acad9d52d0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 19 03:16:22 2017 +0200

    Fix function ordering for consistency

commit 55c9f4c15a94c5c3e06316f8c664935809cbd79c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 19 00:02:16 2017 +0200

    Fix parsing of optional array and function arguments
    
    The argument wasn't being consumed when null, leading to confusing
    behavior and crashes.

commit 8a90496ff1c33fe0af77d54ed2bafb6b113e07e6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 18 23:14:38 2017 +0200

    Fix a few leftover renames

commit 4ee78b31277f6922c9f020375cd49979a81b7eb7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 18 20:57:35 2017 +0200

    Fix a couple of stylistic inconsistencies

commit c256250464610a58b1868b51a383e71ac6fc9255
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 18 20:52:51 2017 +0200

    Fix stylistic inconsistency

commit 2a3893d23817c4e19fe0283d03bb6840b110d760
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 18 20:19:39 2017 +0200

    Plug transformer leak

commit 1a473b2cebedf475b1fd55a3e444991779f7d4fe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 18 20:19:28 2017 +0200

    Fix crash when no transformer is provided

commit 4810bf855cc4b7472ed8b3053dc4229b43105ba0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 18 06:34:03 2017 +0200

    Update Stalker stub implementations to the new API

commit fd5772d703a41843e0d841bc7fcd0b94cd2d010e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 18 06:08:16 2017 +0200

    Add support for implementing Stalker transforms in JavaScript

commit 0cd752a27f1f67cde27c0326753e7ec85b293f0b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 18 06:05:28 2017 +0200

    Improve Stalker to allow custom code transformations

commit 68ff26da92001dc01e660d4abfe40c076833d244
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 18 06:06:04 2017 +0200

    Clear end-of-block status when reading onwards

commit 0441130aa8f57516e753c1d3ca40e9fcc3a1a1ba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 16 00:25:29 2017 +0200

    Tweak formatting of generated docs

commit 3b4cc7e7aef8f667cd9c85bbd729a63b68024a2d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 16 00:24:15 2017 +0200

    Improve the enum formatting

commit ef6071d22a8316ab1fbf008ca65b5910b38b8808
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 16 00:13:29 2017 +0200

    Improve the generated docs

commit c67bb842624bff784079d4ef599ea636452b373b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 20:09:50 2017 +0200

    Generate some basic Code{Writer,Relocator} docs

commit 104f9751dc5edb418b6d6184d7aea5bcc2e60a1f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 20:09:19 2017 +0200

    Fix stylistic inconsistencies

commit 0e840e7215f16242f230d0e0e67570bc2e14fed6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 15:49:46 2017 +0200

    Relax assumptions about exactly how much code is generated
    
    It will vary depending on the platform's ABI.

commit 8268be054ac075f22f62e6c4417ea420a8f053fb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 15:48:58 2017 +0200

    Fix instruction generation test on 32-bit x86
    
    Stack alignment was wrong, as arguments are obviously pushed on the
    stack.

commit 052ee0f912457615ef4bd809526eed3d5f070777
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 15:21:36 2017 +0200

    Fix warnings reported by MSVC

commit 9816ec4eb58ba2f97a9ddb133a24bc15b5021406
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 15:02:49 2017 +0200

    Expose put_{push,pop}_regs_array() to JavaScript

commit 7eb5c28a5f5ba474d8a8fce1eb64a7bc86d649a9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 15:01:53 2017 +0200

    Add put_{push,pop}_regs_array()
    
    Essential for language bindings.

commit 96bb5aa2b6bf0434b7c72e4cac2a642dd3edd57c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 04:20:48 2017 +0200

    Bump frida-java

commit 7d7780c64cb4c15309bee43cb67639357cd38b77
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 04:18:01 2017 +0200

    Fix warning in generated binding code

commit 4ed8f9b4d6b202e013c420b29afc680aa884411f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 04:11:12 2017 +0200

    Fix the previous warning fix

commit c27ea6ade1cc907d0bdfed835b3495f870f3ab89
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 04:07:17 2017 +0200

    Fix warnings reported by MSVC

commit b83ee3b066a7b482db77d72d99c1286fde44eb6e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 03:59:57 2017 +0200

    Fix warning in generated Duktape enum parser code

commit ab7cabd4c5e8e66fe169f1e5165fe9b895246419
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 03:59:34 2017 +0200

    Add missing include for strcmp()

commit 819e01a3e0437f6f1641f903acd57a2dc1acde24
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 03:50:03 2017 +0200

    Expose put_call_*_with_arguments_array() to JavaScript

commit b9cb68d9ad4451f6701124da9cd8157b930acf81
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 03:49:05 2017 +0200

    Add put_call_*_with_arguments_array()
    
    Essential for language bindings.

commit aef605108f08f524cde5d212309589b376b96610
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 15 00:05:22 2017 +0200

    Tweak put_call_address_with_arguments() for consistency
    
    So it matches the other put_call_*() methods.

commit 6721f1c729d31a92819e7e7e77af80bc425368a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 14 19:18:24 2017 +0200

    Unify the {call,jmp}_address{_with_arguments}() implementations
    
    So we can provide a binding-friendly `put_call_address_with_arguments()`
    alternative across architectures.

commit 732f02f7d7e5e6d3c0b9b3ae9b86a5a3a702a1d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 14 17:54:13 2017 +0200

    Add missing GUM_API declarations

commit 26b6c52aaeef90d67c983b11db9f1faec759e839
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 14 17:46:32 2017 +0200

    Expose writer and relocator APIs to JavaScript (#229)
    
    This is useful for low-level code generation, and will also allow us to
    provide a tighter integration with Stalker's instrumentation behavior.

commit c6b34edb6c0611e75b35427ff8a29e87da7e8e22
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 14 17:30:13 2017 +0200

    Improve lifecycle APIs of writers and relocators
    
    To make them more binding-friendly.

commit 7944900fcb2e6b7141dc68bb44057df456828db3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 14 17:32:20 2017 +0200

    Fix X86Writer enum declarations

commit 53075cd416faf0063bcc5ca47db1aac784581057
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 14 17:36:38 2017 +0200

    Use gconstpointer for the input code for consistency

commit b04ef042288e6599c317c4cc58fb163234ce911f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 13 23:02:10 2017 +0200

    Improve error-handling in code-writers
    
    Now that we are about to expose them to JavaScript it is essential that
    we're able to feed them semantically invalid arguments and get feedback
    when a mistake is made, instead of aborting on failing assertions.

commit b259229f647332c2883a05848b2c8a2d702691a0
Author: Erik Smit <zoiah@zoiah.net>
Date:   Wed Aug 9 19:31:26 2017 +0200

    Use OutputDebugString() for embedded-mode logging on Windows (#228)

commit a3277291643c579d4a7281d85b656764e3636c4f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 7 23:41:12 2017 +0200

    Bump frida-java

commit f26ada2199193cfd0e537a98a34f3b15fa75e7ef
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 7 12:33:27 2017 +0200

    Fix unreliable inprocess module enumeration

commit 104e7983933be7df4f4c851206a4b684051a1bbf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 7 00:16:15 2017 +0200

    Add Stalker.parse() for parsing a batch of raw events

commit d3c3ee63f88327f94c02635c2b600e471130748c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 7 00:13:43 2017 +0200

    Optimize Stalker event delivery to avoid one extra copy

commit bdf158f0778b32d1e00789c90d68c07676797e2f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 5 00:53:56 2017 +0200

    Fix the dyld special-case for non-local module enumeration

commit d738712e4f286dadc3afe83f09712964de8dac0e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 4 23:52:03 2017 +0200

    Always special-case find_export_by_name() for dyld
    
    To avoid surprises.

commit c8d7d8440b9ab9eeed20efcd40c29f24164eb49e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 4 23:49:29 2017 +0200

    Speed up inprocess module enumeration

commit 7ce17381e2634b3d16cbf98a4ae0e3757978397a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 4 23:25:58 2017 +0200

    Fix gum_process_enumerate_modules() reliability issue
    
    The optimization that only did a single read if the header and file_path
    were close enough took the wrong thing into account. It checked whether
    the beginning was on the same chunk, instead of the (worst-case) end.

commit bc81c090d1a3bc58752da9fe86f302171cc266f1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 4 23:08:21 2017 +0200

    Improve stylistic consistency

commit e55d192594c5b2644b488734f04b07192e8ed879
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 4 22:56:35 2017 +0200

    Add failing test for enumerate_modules() on iOS 9.3.3

commit 810ddc9476bca89d0444573dffa224541fec00ae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 4 20:56:31 2017 +0200

    Fix LC_ID_DYLIB's cmdsize so it's a multiple of 8
    
    This is so it's possible to run Apple's codesign on the generated dylib
    for testing purposes.

commit d754a39cd43121fdb4328f67a7dccfea25f2c0be
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 2 15:40:26 2017 +0200

    Improve find_export_by_name() to support resolving dyld exports

commit a6921236afb66b9263023358940868d9dcb61b7a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 2 15:34:29 2017 +0200

    Fall back to symbols when resolving single export also

commit e1385f4c992068a50bd2566d0eb4ef1502ee0ef5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 2 01:45:26 2017 +0200

    Add Module.enumerateSymbols{Sync}()

commit 154a3daa40d62f0351468afad3cc4abbc386e642
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 2 01:43:11 2017 +0200

    Improve naming

commit 66dc01d271cb21a9aea2cf054f844958c11d42f5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 2 01:42:53 2017 +0200

    Factor out page protection marshalling

commit a003bcde61895163f5528af4aea96c8633ed601c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 2 01:42:23 2017 +0200

    Rename RangesContext to MatchContext

commit 9f575f5654e739c458ada164a557166aab2ce051
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 2 01:41:00 2017 +0200

    Refactor to avoid duplicating page protection marshalling

commit cd221c23b60588b77f34a1f8bbcec6509d2694f9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 2 01:34:01 2017 +0200

    Revise the Module.enumerate_symbols() API

commit b06f2c8b3a54a148cef8f4e7f40cf717a05a7999
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 1 20:27:26 2017 +0200

    Add enumerate_symbols() stubs for Windows, Linux, and QNX

commit c1cfe321c015f8a3ce48044a1fc8d48a45b13b17
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 1 20:25:41 2017 +0200

    Leave the module symbols test empty on non-Darwin for now

commit 5cfcaaa4f63eac08f53fe34bf4a0bbf301ca2c80
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 1 20:13:18 2017 +0200

    Implement gum_module_enumerate_symbols() in the Darwin backend

commit 0451ef19d4a65a570a00f798f61827c4fa84b0bf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 1 20:12:46 2017 +0200

    Add Module.enumerate_symbols() to the vapi

commit c3dff77e72dece10d9b917bb9bf075f01f51ac0e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 1 20:06:54 2017 +0200

    Add gum_module_enumerate_symbols() to the public API
    
    Along with a failing test.

commit 4817035c5f7bf62d4e3b8077f9181fbcdc958b9c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 1 18:03:52 2017 +0200

    Rename GumSymbolDetails to GumDebugSymbolDetails

commit ae32e7428cdcab54e91b869a187922224656c55d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 1 17:45:34 2017 +0200

    Fall back to symbols when exports trie is missing
    
    This allows us to enumerate the exports of dyld.

commit aeb70de12f9fcfde49efdc908884b93f88cca94c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 1 17:44:53 2017 +0200

    Append dyld to the end of the module list

commit 530f1e00ac65bd095a656459e93376960d2d3e17
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 1 17:43:37 2017 +0200

    Drop in-process module enumeration optimization
    
    It's just a 1 ms operation on an iPhone 6S, so not worth the cost of
    maintaining two code-paths.

commit f86e7f2c852c98da17baa53574b6f9c8d69df839
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 1 17:41:10 2017 +0200

    Add failing test for enumerating dyld's exports

commit 25331883b06a423ceccb81fb9eba2923c93a10d5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 1 17:39:10 2017 +0200

    Fix stylistic inconsistencies

commit c411f6ea4c29cc75a16524ef8793753e9e91c52d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 31 15:27:09 2017 +0200

    Throw when Memory.readUtf8String() encounters invalid UTF-8
    
    In a typical GumJS integration like frida-agent this resulted in a
    failing assertion when GDBus is passed invalid UTF-8.

commit d78d99a5e8ae643e81faa880ea2fdfdb0c12728a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 31 00:13:32 2017 +0200

    Update to the new X86CodeWriter API

commit 8f990a74f40f9b8df9ad11ae812aab75b2b49279
Author: Erik Smit <zoiah@zoiah.net>
Date:   Sun Jul 30 19:00:29 2017 +0200

    Lower slab size to 1024 pages

commit 55c201c62afd2b20fa940c11aac599e0056653a8
Author: Erik Smit <zoiah@zoiah.net>
Date:   Sun Jul 30 17:05:09 2017 +0200

    Fix handling of jcc instructions with rep prefixes (#227)

commit 19d2f45cde90ad8a2f77b988601a4c9a27627fce
Author: Erik Smit <zoiah@zoiah.net>
Date:   Sat Jul 29 16:43:03 2017 +0200

    Add testcases for repne jb (failing) and repne ret (#226)

commit 6f546b81a5c1eb7a49e8cc88c4e14e7e0a21dd18
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 27 17:44:10 2017 +0200

    Clarify description of High Sierra bug

commit ee3db6c33a9209ab070fa38b7197892372b7b50f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 27 17:40:24 2017 +0200

    Work around broken Security.framework exports on High Sierra

commit 8cd1da255659373651d90e085d8a337e73014b66
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 27 05:55:42 2017 +0200

    Remove fragile test

commit b4b06a4c9802c9c819c9434a82dcde2d08257aee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 27 05:55:25 2017 +0200

    Fix gum_process_enumerate_modules() on High Sierra

commit 17db9a90d023f442e625aab1d4eeba97c133e685
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 26 21:49:47 2017 +0200

    Fix deflector thunk logic so code-signing status is preserved
    
    We were generating the thunk directly without pseudo-signing, which
    meant that the process would lose its CS_VALID status as soon as the
    deflector's thunk was executed.

commit 6955ce86f49b953260b449588520e630e7036b1b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 26 21:46:46 2017 +0200

    Strengthen the code signing test
    
    Pick sqlite3_close() to increase chances of deflector logic being used.

commit f3419b1a57c344b7171d40e3fa91107ed89077a4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 26 20:04:20 2017 +0200

    Improve the code cave search logic
    
    We should be walking loaded modules instead of memory ranges.

commit e0d75c6829f103abf0fadcca6ea6ed2ab8251a6f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 05:49:08 2017 +0200

    Fix gum_memory_release() in the Windows backend

commit 8ec81e4b411ad9c68840733365c6187810d82d9b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 05:34:56 2017 +0200

    Implement the new memory API in the Windows backend

commit 61baf77aa35b3586516ab100ba50aed88d65b3bc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 05:34:36 2017 +0200

    Fix warnings reported by MSVC

commit f309a5c482e2e379f9ea8d983f173f316b53d692
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 05:34:27 2017 +0200

    Add missing cast

commit a32b328dc7a026baf957b1dbc9c8aed07980bd9c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 04:58:41 2017 +0200

    Implement the new memory API in the Darwin backend

commit d8bb3fcad80462e1b33a14275c200fb49bd69aae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 04:57:57 2017 +0200

    Update to the revised V8 ThreadingBackend API
    
    Turns out `CreateMutex` conflics with a macro on Windows. D'oh!

commit db06228eb5b896dbf4b2fc6e6d86cc35aa6bde91
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 02:48:47 2017 +0200

    Fix build regression

commit 74c4fc2875e001004739767dacf7b0a2cc751a4e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 01:22:36 2017 +0200

    Add a convenience script for running tests on Android

commit f39372f7a5cce65de849185f8fbda3f596bf1197
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 01:17:40 2017 +0200

    Bump frida-java

commit cbfd2fa46e26ddd595c2ab2b26b970ec28f02d5f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 00:54:34 2017 +0200

    Improve tracking of cloaked ranges
    
    We failed to take into account the fact that gum_alloc_n_pages() and
    gum_try_alloc_n_pages_near() allocate an extra page in front of the
    actual allocation.

commit 7df8aea72935c94ccfecb4b67c12a2f958c73b0b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 22:20:09 2017 +0200

    Hopefully port the new memory API to QNX

commit 5fa17dc0c44583dfdfd5c1ba95bc5d53fa5fd17f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 22:04:56 2017 +0200

    Implement the new memory API in the POSIX backend

commit 1c516ad558813dd194ed49ff9a12c406ba731e81
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 22:04:16 2017 +0200

    Only change protection to write metadata if read-only

commit c747645c8b237c2c03403e97f986f2ef218c1618
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 22:03:33 2017 +0200

    Always make the metadata page read-only

commit 32b4784a3567e3ce5c232f04e522934ed74adc21
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 22:02:55 2017 +0200

    Plug in our own V8 memory backend
    
    This allows us to cloak V8's internal heap and JIT allocations, and also
    means we can use V8 on the latest jailbreaks (because Gum transparently
    uses the Frida JIT allocation server if it's available).

commit e5aefa5b347cb54d62fe5869fbb5dfe89abdc264
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 21:59:02 2017 +0200

    Add API for low-level page allocation
    
    Not yet implemented by any backend.

commit 9cecf77e0dcd2d4209e3dbd3fd2b3976e96128bb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 21:57:40 2017 +0200

    Add missing GUM_API declarations

commit 9177861edca4b51c768180d2d89ec5e85120c367
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 20:53:13 2017 +0200

    Plug in our own V8 threading backend
    
    This means GLib's threading primitives are used, allowing us to bypass
    libc on Linux/Android, allowing us to hook lower level APIs without
    running into deadlocks.

commit 0471470fa599ac72f9956b5ed23958700b0c5f4f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 20:39:47 2017 +0200

    Fix stylistic inconsistencies

commit af89ab60e40f36e7325c63c91a95a058f81ef946
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 20:23:19 2017 +0200

    Start using the override specifier for clarity

commit edf7dc29c638b2c11d106cf4aa55039a24960521
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Jul 24 20:17:03 2017 +0200

    Add block and compile events to Stalker (#225)
    
    - `compile` events are emitted as soon as a basic block gets compiled by
      the Stalker. This happens once per block, so it's useful to understand
      which parts of code gets executed but it's not a full live trace of
      the execution.
    - `block` events are emitted each time a basic block is executed, so can
      be used to actually trace the execution.

commit be1f7ba7250a02750c4f120f0055bcac104d3f6d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 20:15:47 2017 +0200

    Fix test failing to flush caches after generating code

commit 697cf1501e004037b9bebe7d81b0c55a3c209b20
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 20:14:15 2017 +0200

    Fix mmap() result check

commit 030dacb832715b5942ac4637f877ce8c689f58da
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 24 20:14:02 2017 +0200

    Update our selection of V8 feature flags

commit d984d37ecc958c7acdcabc1279f5b22041eafaf2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 22 01:44:22 2017 +0200

    Fix GetTracingController() ownership

commit 4b47314bd9ea0de173dcbcdd042276210187d712
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 22 00:53:23 2017 +0200

    Update to the new v8::Platform API

commit 9f1f63f41e42dbdcb378163fedcd6ac4d6e1d39a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 18 01:24:00 2017 +0200

    Fix off-by-one resulting in leak in unlikely error-path

commit 7bf81ace5162b0db3316622e4252fdd9fb1b28dd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 17 17:45:11 2017 +0200

    Add support for call probes in Stalker's arm64 backend

commit ae92c476722e4f1e4c84d028b4260e030713acd1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 17 17:44:12 2017 +0200

    Fix stylistic inconsistency

commit 08a37557b8a222fe9fd7c03ef4485ef752604b2f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 17 17:44:00 2017 +0200

    Update test to match new handling of ldr relocations

commit 31676ceca6a9f685f2be6eaf6eba2b4876dc327d
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Jul 17 13:51:17 2017 +0200

    Fix stack alignment issue on arm64 ldr relocation (#223)

commit a8769effe78f77b7bd599ef91c661d6ac22431b5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 14 15:25:18 2017 +0200

    Fix handling of exclusive load/store pairs
    
    We must be careful about instrumentation between such pairs to avoid
    infinite loops.
    
    Kudos to @mrmacete for helping track down this issue!

commit 403de5caf0442589bc366fc53dc68b16826d6506
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 14 15:22:09 2017 +0200

    Clear eob when reading a non-eob instruction

commit bdeac07a65b9ddb683c477db2599b7246ba0ab87
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 14 00:31:39 2017 +0200

    Add a helper script for running tests on macOS

commit b9b608a52db7d6c08173d19a7a1c6aaa200d1408
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 14 00:31:22 2017 +0200

    Improve red zone logic to avoid clobbering CPU flags
    
    This also avoids touching the red zone in the one case where we still
    were doing that.

commit c1e61da2781950bfe5e8d95d365d05ddfefe4004
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 13 21:40:45 2017 +0200

    Remove more "full" prolog cruft

commit 03850b55257f26e31322a42a32f304fdeb77979a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 13 21:35:09 2017 +0200

    Remove unused "full" prologue logic

commit b3e0f93df2271db939f7c5965bccca6dea9574db
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 13 21:21:04 2017 +0200

    Refactor the load/store pair API and expose more of it

commit e0bf62dbc4b7114966b2fb54fafd5dabe1f97605
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 13 16:30:20 2017 +0200

    Fix a stylistic inconsistency

commit 3ca755aac073a1995e0891bb38fde59e06475c91
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 13 16:30:03 2017 +0200

    Enable the execution_can_be_traced test on arm64 also

commit 41c6bdc7a74cd322d43db40783b9edea7826e583
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 13 16:28:55 2017 +0200

    Fix a couple of stylistic inconsistencies

commit 473557f187bc1cd5b94848c1f23e4a2a8a467730
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 13 15:44:48 2017 +0200

    Simplify destruction of resources attached to incoming messages

commit 67137df6ddb52bcc5544be451dddbab2cc443dfc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 12 21:02:29 2017 +0200

    Remove temporary debugging code

commit a1584b9a8680176f5273f8192768bc0daaa5653d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 12 20:56:42 2017 +0200

    Tweak performance result formatting

commit ffce00f2c2726ab06f68e2dc7f3a8b86225c2874
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 12 20:56:31 2017 +0200

    Improve the clobber test a bit further

commit f5aa16071f7bc400ef8b4aed2ab0466121e45091
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 12 20:51:27 2017 +0200

    Rename the arm64 Stalker fixture for consistency

commit b2a2ddde909b90001356457c69929218669dcd71
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 12 20:50:09 2017 +0200

    Fix and strengthen the register clobbering test

commit fef248c6f3b8db4d80218763b13d6dde7143e7ec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 12 20:49:53 2017 +0200

    Enable Stalker tests on iOS/arm64

commit dd7b82d108258ce81d5780b4bb649ca8da0636d0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 12 20:20:01 2017 +0200

    Add support for the new JIT allocation server on iOS

commit 217e00ec6af7cefaac8abf058e41ac4390119117
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 12 18:19:03 2017 +0200

    Add helper script for running tests on iOS

commit 947b04263ce6c653e785fddf6f8b00f5999e68d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 12 18:14:33 2017 +0200

    Sign tests on macOS and iOS

commit c4445224cec2636f086acfd5441df067fa5dea6f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 10 20:15:10 2017 +0200

    Change Memory.copy() to use memmove() instead of memcpy()
    
    So it can be safely used with overlapping ranges.

commit a7268f397de340c020e8f509f9598ad6ddc7a815
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 8 16:17:21 2017 +0200

    Fix up the stack pointer before firing off call probes

commit e328a54ccc5f8922a698b64500a13d1559499a1d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 8 15:01:58 2017 +0200

    Move "follow me" logic to the current JS scope
    
    Otherwise we might get preempted and some other thread ends up
    getting followed instead.

commit 26a09d9fe4ff00e211a29001620d806213e674fd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jul 8 13:10:07 2017 +0200

    Add Stalker API to the Duktape runtime (#222)

commit a6ba8b72d65bfe34276fac29c497d2cc07697ead
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 3 04:44:09 2017 +0200

    Refactor the V8 Stalker to use newer GLib constructs

commit ef258f329fd2458ade3187e93bd2f027df95bd60
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 3 04:28:56 2017 +0200

    Refactor the V8 EventSink to use newer GLib constructs

commit 2b84d820c316173df914d67b42bd197b842eefa9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 3 04:24:31 2017 +0200

    Simplify creation of the call summary object
    
    There's no point in creating a NativePointer for the key, as it's
    instantly turned into a string anyway.

commit 16888b6ceabd0f40738a2d3e3066c39159bb682e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 3 04:19:27 2017 +0200

    Fix exception-handling logic in the V8 EventSink

commit f48f44d6c898b8a2fdd0f498b2ed2417a5d4b690
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 3 04:19:14 2017 +0200

    Fix namespacing inconsistency in the V8 EventSink

commit da866710eb9b51fbc3be771b7ece371254a27d96
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 8 12:46:24 2017 +0200

    Add support for replacing arguments from call probes

commit 0559ae03300464cfd652920421963025da2bca60
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 8 12:43:44 2017 +0200

    Guard against using the invocation args after returning

commit e1d0b05381b5c88e523db782b70b5cd6901e4ae8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 8 12:43:08 2017 +0200

    Guard against using the probe args after returning

commit a01a266f1933a401900651efcc5969ff7c34d4b4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 8 12:42:22 2017 +0200

    Move argument and return value access to CpuContext's API

commit 985e4fa1cf210ce45a9ae54867821a346c359f94
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 3 03:28:16 2017 +0200

    Improve naming

commit 4768cd04611cc41bc6953b3a1c3f0b2f941bb214
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 2 20:29:38 2017 +0100

    Use a dedicated allocator for Capstone
    
    This means we can safely use Stalker on our own code without
    worrying about deadlocks.
    
    Fixes deadlock in the GumJS Stalker tests.

commit cf243c8b7414e8b6c11182740cac12f614826b2e
Author: Ole AndrÃ© Vadla RavnÃ¥s <oleavr@gmail.com>
Date:   Sun Jul 2 20:26:40 2017 +0100

    Get rid of unnecessary function
    
    We can count on gum_memory_init() being called before the first
    call to the memory allocation API.

commit 264b70deea59df3b765aa8278652459c90045592
Author: Ole AndrÃ© Vadla RavnÃ¥s <oleavr@gmail.com>
Date:   Sun Jul 2 20:25:12 2017 +0100

    Fix style inconsistency

commit f54470c92faf88329043070bc669cefd8f5ad587
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 30 05:48:38 2017 +0200

    Bump frida-java

commit 4ad92ca9b2eb6029866029090361d06046f780ea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 30 05:14:54 2017 +0200

    Fix long-standing stability issue in the V8 runtime
    
    Turns out that calling JavaScript during GC is a no-no. Our WeakRef
    implementation was doing this. We now defer the WeakRef callbacks and
    process them in an idle handler.

commit fea576a7b3440c8a48b0c4a787b1a81accf71253
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 29 04:01:01 2017 +0200

    Bump frida-java

commit 806f5b418991fbb9aa48b38213d4729f7f4fafce
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 27 14:32:24 2017 +0200

    Remove harmless warning

commit 025655b9a18124f08f9346b4ec489f7e728b1203
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 26 20:16:16 2017 +0200

    Simplify serialization logic

commit 98e31cb1c6d96b9caa4bc9e57647f7b9939405b1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 26 19:26:27 2017 +0200

    Add SqliteDatabase.dump() for dumping to a string
    
    Useful to embed and feed to SqliteDatabase.openInline().

commit 0e40393e8618ce8c0dde275c9e3e0067b9bce334
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 26 18:06:56 2017 +0200

    Switch SQLite to multi-thread mode

commit cea1c3d4a936b3a23d9955abc3693f6a215fcf65
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 26 17:37:48 2017 +0200

    Fix remaining warning reported by MSVC

commit c25bb8b8309446a4bcef62c92775f28f0402b0eb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 26 17:17:13 2017 +0200

    Fix warnings and MSVC compatibility issue

commit 09991fd67467d88963d571307f5589e16fafc4d2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 26 15:44:40 2017 +0200

    Add Database APIs backed by SQLite

commit ec4e0a605b52a83d2023a3f0d5c22c335aca525e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 15 02:41:00 2017 +0200

    Include V8 by default in linux-armhf builds

commit 14f90dbdce5000569e6dbebe50f0addafbef4929
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 13 22:17:34 2017 +0200

    Relax timer cancellation APIs for consistency with browsers
    
    Kudos to @dantarion for reporting. Frida versions before 9.1.28 were
    accidentally more forgiving, and the changes in 9.1.28 inadvertently
    made this API stricter.

commit 50f72d37ca72b8da6cf005bebabd39a547d2f174
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 8 01:27:55 2017 +0200

    Bump frida-java

commit dcadc4252a74f22ef6db3758f914b21c285163de
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 5 00:52:06 2017 +0200

    Bump frida-java

commit 92612ccb7f82695d504456a4b84601ec225ec6df
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 30 02:37:41 2017 +0200

    Upgrade to VS2017

commit 17a5bc6a9db210c9e00b291252f48cda9dab6f49
Author: Antonio Ken Iannillo <akiannillo@users.noreply.github.com>
Date:   Mon May 29 16:31:01 2017 +0200

    Clear CPU caches after generating code (#215)

commit 8ab91dd78340ff7c541d5f70e29033280795ef63
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 29 14:24:25 2017 +0200

    Bump frida-objc

commit de6b730c571910c7a4631f8e2b0b113fc57a9fe4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 01:53:25 2017 +0200

    Skip the QNX NULL hack when compiling C++

commit 40fb95f7400136156d16a32b3b711b69f7f6d310
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 01:47:38 2017 +0200

    Implement the original diet mode auto-detection logic

commit e47b6c58c490ae73e6db8e6c0c3d20f0930a59b5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 01:33:13 2017 +0200

    Try a workaround for QNX toolchain's broken NULL define

commit d97be31644334587b47fb7af6ed96c4f93f781e4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 01:26:27 2017 +0200

    Switch to gnu99

commit d8114a8498edcda8502c9283ee035c1cf2e21a8c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 01:22:51 2017 +0200

    Remove duplicate GumExceptionHandler definition

commit d9212f2503aaed0dd79e80247f846b27a0ccfaeb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 01:05:21 2017 +0200

    Explicitly use C99

commit 9c9ea574e5f1e6639370f116447d0caf65392161
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:58:11 2017 +0200

    Revert sentinel hacks
    
    Should rather fix this with toolchain-specific workarounds.

commit 4fc2fbfec392de83920fca74c3cbbe60c7d85920
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:51:20 2017 +0200

    Enable QNX extensions

commit d50bc2962aee63128c2269bd3c767c436eb38b4d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:47:12 2017 +0200

    Revert broken iostream header workaround
    
    This reverts commit 5c0a17016631c35956dbab26562db44434e0ec0e.

commit 5c0a17016631c35956dbab26562db44434e0ec0e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:42:11 2017 +0200

    Work around broken iostream header in the QNX 6.5.0 toolchain

commit 66ebcb35cd5d4c651cd72fbd14d167cd05231ecd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:41:27 2017 +0200

    Make sentinels compatible with the QNX toolchain

commit b5aac19d7c9b9f7ccd34a2c89816a9801f9ad13c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:27:33 2017 +0200

    Fix typo

commit 6fcb19feb7efde1f5a1f33a3784e65ed54c3b04a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:24:06 2017 +0200

    Avoid collisions with malloc.h constants

commit ba659754cce2e5ba179158290af3fc0234cb7e16
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:23:37 2017 +0200

    Fix typo

commit 3575fdeab13cf229e171c92968c4e75e9e09df16
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:23:26 2017 +0200

    Plug a sentinel warning with the QNX toolchain

commit 68013bc4a674c48d0035e28f87775d1e7f73ceca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:23:11 2017 +0200

    Fix inconsistent sentinels

commit 6a53e9c4c613073b7243275270d5851d979d5e2e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:14:46 2017 +0200

    Include malloc.h if libc provides mallinfo

commit 4efa14e16f670ea0739a564002c43905b2bca270
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:10:05 2017 +0200

    Improve strictness of the mallinfo check
    
    We need a complete definition.

commit 23397211fb1fb6e3220782814a6b39dbe475b9cb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 00:08:15 2017 +0200

    Tweak style and fix warnings in the QNX backend

commit bdfa7071a6e07019e0ab33e4d944daec7f1df95c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 24 22:12:58 2017 +0200

    Fix the mallinfo detection logic

commit 73db94708c25148ec57b38ad2a9a2180506b7616
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 24 22:04:24 2017 +0200

    Explicitly use C++11
    
    Now that we're no longer hard-coding this in the build environment.

commit 74cfd4ef8168b182b8bfee249105488546ac9601
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 24 19:56:47 2017 +0200

    Fix test data target for armhf and mipsel hosts

commit 46df10f796185f2f244ba558094cf6b1fc80c38d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 22 22:50:26 2017 +0200

    Simplify lookup of _dyld_get_all_image_infos()

commit 7be9dba7e316ec954208d8345b7dae0f06ea40e4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 22 11:31:22 2017 +0200

    Add {target,special}functions binaries for linux-armhf

commit ab0504b40a674424bcff32866b6b3dcd8fa9756b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 22 11:26:22 2017 +0200

    Fix accidental C99ism in UnwBacktracer

commit 496bdd551162ea00b5ffe8f1356c7a370d7fcf26
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 22 11:25:36 2017 +0200

    Remove unused variable

commit fd7aacb726e9b129a6b296044f55d4e7ed22c252
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 21 18:54:41 2017 +0200

    Really fix assumption about host_machine.system()
    
    My initial assumption was correct -- it is only meant to be the system
    family.

commit 003e2189e63f27c48ddc00f87f05a4966e25404c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 20 04:17:29 2017 +0200

    Fix inconsistent variable declaration

commit 8e702fad2bdf37877de1cf8e0b86636836442767
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 20 04:16:58 2017 +0200

    Fix unsigned long constant declarations

commit 188303ccf4529c4d3f032de62b335a653da5cb6d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 20 03:31:17 2017 +0200

    Remove the autotools build system

commit 6ee273ae19ab0e6d036a3278f5cde5794a60a3ef
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 20 03:33:07 2017 +0200

    Remove stale author list
    
    This belongs on the website, and we should auto-generate it.

commit daf16def1b02f001410774c71b9eaea20b206cfe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 20 03:31:05 2017 +0200

    Remove bzrignore

commit 7da6024a997f7138a419b0eca8bd36f7c46e8021
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 20 01:31:51 2017 +0200

    Add extra libs when linking to fix the Linux build

commit 3a98590fa22f52e4e50a1bd9c6ed890eef99ee9c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 19 16:03:11 2017 +0200

    Only use Meson's format strings where they make sense

commit 6412397d40f62b76e40e86bba4fc74e571132f23
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 19 13:23:09 2017 +0200

    Add {target,special}functions binaries for the iOS Simulator

commit e8cef70100b823d026c4b488908702c2d0bb90bf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 19 12:20:56 2017 +0200

    Fix bad assumption about host_machine.system()
    
    Despite it being auto-detected as e.g. darwin for macOS, the correct
    value needs to be the actual OS. Otherwise Meson will attempt to run
    iOS Simulator binaries on macOS without a wrapper.

commit d8fa038d8a448d2fc2dc0c3817eb3d6243c62c72
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 19 11:05:32 2017 +0200

    Add {target,special}functions binaries for android-x86_64

commit ea76864b82034c8788c0f409d18dde54af48b0bc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 18 11:41:55 2017 +0200

    Port remaining Meson build system bits to Android

commit 2f9c37e2933dfc47dac34df6e28c7702b26648e9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 18 11:40:56 2017 +0200

    Explicitly require GLib >= 2.53

commit 1f8e6a17ef0c0e810c304736dc9eaaecafc9c59e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 17 19:46:12 2017 +0200

    Turn enable_diet into an auto/no/yes option

commit d90fcda3a33431976da310726e79ebb50c20e80b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 17 01:41:30 2017 +0200

    Fix macOS detection in the Meson build system

commit 00bb7af993731deecb3a516086e00a9d5db4e594
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue May 16 23:40:36 2017 +0200

    Remove address vs page_size checks in gum_darwin_{read,write}() (#219)

commit b46865b4fedada60d37e2aedfc440a79af9b9e56
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 14 19:15:50 2017 +0200

    Fix cpu() vs cpu_family() mixup

commit 6cf57d88b11e0f744ce332c71b11d1c359353100
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 14 02:15:18 2017 +0200

    Tweak link_depends variable naming

commit 79d4bfb6640635b8d155cae8deabfb105792e7b5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 13 22:28:24 2017 +0200

    Port gumpp symbol export whitelist to the Meson build system

commit 44e874973eb14d34dcafb9c66ec5c50f3b7dabc8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 13 20:10:39 2017 +0200

    Set G_LOG_DOMAIN in the Meson build system also

commit a8b7eb488475e4cc9a8f42a8cae4103cdec3c531
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 12 22:05:42 2017 +0200

    Tweak naming in the Meson build system

commit 885a57a80944abd78d2f75bc649dc0de2557beaf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 12 15:25:45 2017 +0200

    Fix a couple of minor style inconsistencies

commit 3eb160bb4a39a2d5eae8df0e09fd0d08fd22e1e1
Author: Eloi Vanderbeken <eloi.vanderbeken@gmail.com>
Date:   Fri May 12 15:23:26 2017 +0200

    Implement gum_process_enumerate_malloc_ranges() on Windows (#216)

commit 0c474298af69a6dd1625ce06f767c02fc97600f3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 11 03:46:04 2017 +0200

    Turn gum-heap and gum-prof into public libraries
    
    Now that they are truly separate.

commit 02c11e820b661e4f85eeae8a4929dd660d27c355
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 11 03:32:42 2017 +0200

    Invert dependency between gum-heap and gum
    
    The heap and prof libraries should depend on gum, not the other way
    around. This was a long-standing dependency going in the wrong direction
    for historical reasons.

commit 8224d53a9989fd3a8f56b21e53f8d1bd8dcf7f6f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 11 02:10:35 2017 +0200

    Also install vapi files when building with Meson

commit 0efb7a10de256631e589503754b3af9125bbaba0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 10 22:17:23 2017 +0200

    Improve the Meson build system to build properly on Linux

commit 18181344d004d84ce0b456d42e3e6d8287ff6cd3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 10 15:36:41 2017 +0200

    Add HAVE_QNX to the Meson build system

commit d0367ac294ad3104e9b7a1ffd8da26533f262b41
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 10 14:45:32 2017 +0200

    Update mac → macos

commit 7c3abc2534fb72910b81e061068c9220beab3fa3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed May 10 03:08:59 2017 +0200

    Add Meson build system (#217)

commit a50f922db2fd94244580f20326eed333a36da30f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 8 15:13:31 2017 +0200

    Provide a virtual destructor whenever virtuals are involved

commit 933ddae15bcc9fdfceabb79684439d435eef968c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 7 20:31:03 2017 +0200

    Clean up the build system a bit
    
    - Rename Mac -> macOS.
    - Remove unused defines.

commit 8a75fe40a57528cd57219a87b7cef1d189400a4c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 2 21:46:29 2017 +0200

    Improve gumdukcompile robustness
    
    By checking for I/O errors.

commit 1db37f90b6f8992b9c9b17599827f8ee4de87ce3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 2 17:32:05 2017 +0200

    Fix crash on unload
    
    Finalizers might get called in the early part of the heap destruction,
    i.e. the mark and sweeps, so we need to be prepared for that.

commit b373f111ead46551c0d13af809717cef4591b03d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 2 01:04:02 2017 +0200

    Revise the bytecode API to match new Duktape semantics
    
    The latest version serializes the “fileName”, and doesn't provide any
    easy way to change it. This is however a more desirable API anyway, so
    it's a good time to change it.

commit 5249bb288557b73d5a81654274cacfba94ba1848
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 1 23:47:30 2017 +0200

    Upgrade Duktape for warning fix

commit 35ee9757ed9a6f7460fe005baef892b1aed4bfe5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 1 04:36:29 2017 +0200

    Fix warnings reported by MSVC

commit d336dead85491a74ff23cb210b93a46a59a675c6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 1 04:23:47 2017 +0200

    Upgrade Duktape to latest 2.1.x

commit 8315ada9d3941814dfb6d9f883ef0973ae8a7f0c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 1 02:28:08 2017 +0200

    Upgrade to V8 6.0.124

commit dd0b33410384cb267199c1ab2f341778057fefdf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 30 23:58:35 2017 +0200

    Tell pkg-config to statically link modules
    
    Instead of forcing this into the PKG_CONFIG environment variable.

commit 0a439f778a31a38a858df498c42f19a1a97ab174
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 28 15:03:39 2017 +0200

    Fix warnings reported by GCC 6.2.0

commit 072aad9ebd195fae850de400d44993ef768d340f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 25 22:29:08 2017 +0200

    Rework handling of tick and timer callbacks
    
    Due to how some APIs like NativeFunction allow the current thread to be
    preempted in order to improve performance and avoid deadlocks, this could
    result in another native thread entering the runtime and triggering
    callbacks earlier than expected. This would typically result in subtle
    bugs when using existing libraries written for Node.js or the web.
    
    We now provide the following guarantees:
    - Script.nextTick() will happen when the native thread that called it is
      about to leave the runtime.
    - setTimeout()/setInterval()/setImmediate() will not be scheduled until
      the calling native thread leaves the runtime.
    
    With one exception: calling recv().wait() will trigger any such pending
    operations before blocking.

commit d505f8964bdac283c79425b69679e8508924d164
Author: Antonio Ken Iannillo <akiannillo@users.noreply.github.com>
Date:   Thu Apr 13 12:52:00 2017 +0200

    Improve the Android check-gdb target (#212)

commit 531c8646834804ba0652650a081d25114caa3677
Author: Antonio Ken Iannillo <ak.iannillo@gmail.com>
Date:   Wed Apr 12 13:57:24 2017 +0200

    Fix illegal instruction on physical devices (#211)
    
    Executing a load pair instruction that use the same register for both
    register operands results in an "Illegal Instruction" error. Using a
    second register (x15) as the second register operand, even if not used
    later in the code, fixes it.
    
    Tested on Samsung S6 Edge Android API 24.

commit 66392992b92950fcaee7416d75485062ef9a01e7
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Apr 4 23:06:39 2017 +0200

    Fill all pages before triggering writes (#210)
    
    Otherwise we'll miss the second part of any prologue patch that crosses
    a page-boundary.

commit f96e448279b8e40884d8d8f559a41ee8d4111104
Author: pulsar <pulsar-git@users.noreply.github.com>
Date:   Fri Mar 24 15:12:19 2017 +0100

    Support NativePointer construction from [U]Int64

commit 74b852f8b0b3aea5d9eeda01b27557c1b4d8cdab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 22 15:14:00 2017 +0100

    Ask Interceptor to ignore before cloaking
    
    Otherwise we risk triggering a hook.

commit 9af15dae3db2eb84405a0eb961a1a67f585102ff
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Mar 22 02:55:02 2017 +0100

    Update to the new GThread API (#206)
    
    Also get rid of the destructor support in GumTls, and rely on GPrivate
    for such use-cases. Using GPrivate was previously not possible as any
    intercepted function might be called from one of the application's own
    thread-local storage destructor functions. Given how such destructors
    are called in an unpredictable order, this would typically result in
    memory leaks, where our own storage was allocated again right after
    getting destroyed.

commit a654f720658e7ab0791bb5208249b8fcc06e3b50
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 21 17:47:35 2017 +0100

    Update the check-gdb target to match the latest NDK

commit a80064a99b8f364fe447ee20fb44ec70e8a0ba21
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 21 17:46:57 2017 +0100

    Fix the Socket tests on Android

commit b0bb2e3200a40dbd2295e7bb7e35d17d563afb4d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 21 17:46:38 2017 +0100

    Make the Script fixture timeout configurable per test

commit e790e57bf115678688b0315255de30831466f54f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 21 17:46:15 2017 +0100

    Disable thread cloaking test on Android for now

commit 5f509baa2f27db2eaffeea0746cae68ba3989d22
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 20 14:52:41 2017 +0100

    Fix the test runner's teardown logic

commit 1c0974b56416182d0f979dd22dd2f3d6dc0054ee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 20 14:46:31 2017 +0100

    Fix slow V8 teardown when there's a lot of garbage pending
    
    We need to dispose the isolate before processing foreground tasks,
    otherwise the isolate will keep scheduling a MemoryReducer task until
    we have burned 8 seconds worth of CPU cycles.

commit dc0eea46bddeb30e19ad06ea9d30cc46a87fa759
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 20 14:48:43 2017 +0100

    Allow dlmalloc to use spinlocks if available

commit f279b04b124f6b82751744c09636713934e367fe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 14 13:59:09 2017 +0100

    Update to the revised libffi memory API

commit 6989b896f94c911c9e00149b49dbded456f64556
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 14 04:01:46 2017 +0100

    Cloak memory ranges used by libffi

commit b497fa699327b3d578d1748bfeaf016de55ae4dc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 14 04:01:25 2017 +0100

    Use our libffi fork's ffi_deinit() to plug leaks

commit 1267cc7bf7d731a9451b47a77ead1eee80be5f3a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 14 00:34:33 2017 +0100

    Improve the vapi

commit ed77c4431108000203298065a3239ed0a1174810
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 14 00:05:35 2017 +0100

    Remove thread ignore logic from GumJS
    
    This is now handled by the new Cloak API.

commit 4a07f1ba58bd18af3a120e6dd5c0d0a07de9fee4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 23:57:47 2017 +0100

    Automatically cloak internal threads in embedded mode
    
    Our custom GLib callbacks API means we can now do this easily without
    having to resort to hooking system APIs.

commit c3224e7b78c793b05c7509af0e01dc981e42248b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 23:53:49 2017 +0100

    Add gum_thread_try_get_range()
    
    Only implemented in the Darwin backend for now.

commit 09fbad3107352a95eb3560fd684dfcc7dacbacf1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 22:55:34 2017 +0100

    Revert to the previous thread cloaking API
    
    Turns out we don't need nesting after all.
    
    This reverts commit 992dd7244f705bce46e083aeeaf1f1f7ffd4d3ca.

commit 992dd7244f705bce46e083aeeaf1f1f7ffd4d3ca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 21:46:50 2017 +0100

    Improve the thread cloaking API to allow nesting

commit 072bf08b177fb5faa88dd68512963b2226645beb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 17:08:23 2017 +0100

    Also cloak the cloaking storage

commit 3fd5c954981ec6a09a3966a6fd8c11f0793d2293
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 16:45:02 2017 +0100

    Make gum_process_enumerate_threads() cloak-aware

commit e9f69f74661f403a1f383c0f79f680f536572422
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 16:44:12 2017 +0100

    Add note about corner-case not yet handled

commit 858febf8326c5f2d3205daecb2acf3f81b4db3a9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 16:43:55 2017 +0100

    Reorder for consistency

commit 9eb7433bfeac3f654936b539199d5a68b3056d88
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 13:54:12 2017 +0100

    Add thread cloaking API

commit a9b4caad31390296041beb70c4a7221f951e21c5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 13:52:57 2017 +0100

    Add failing test for thread cloaking API

commit 559bd41e6db86b6d9d86e243746ce10b715c5237
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 13:51:58 2017 +0100

    Improve the MetalArray API

commit 68c21d2c60dfc581cd6d372c3ae3ac3fcd0abdc2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 13:09:07 2017 +0100

    Factor out the bare-metal array implementation

commit 2b7a54010bb4225e5e06be8c3e5b55674d879900
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 02:20:46 2017 +0100

    Cloak memory managed by CodeSegment

commit ea0a9ac0f25bbecbb8157c4876bd570eb909b2ac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 02:20:32 2017 +0100

    Cloak memory managed by CodeAllocator

commit e39a79105a926b0779912bd29d2d1bbecf38304a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Mar 12 22:46:53 2017 +0100

    Fix test failures caused by compiler optimizations

commit 5d131b360f32f6cad28acf4a4b17200a7e815a85
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Mar 12 20:07:02 2017 +0100

    Improve the range cloaking API
    
    Due to the Linux kernel's coalescing of allocations when querying `maps`
    we cannot simply check the start address of each range.

commit b88b7d4224286beaca259184b783933ba331b5cc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 10 20:29:24 2017 +0100

    Update cloak state in case of mremap()

commit d7fde24c11bc4f7e17512e131c90475bf9fd11d6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 10 20:28:49 2017 +0100

    Tweak style

commit 4d12b41ed553cacd8f051ebbe29b62195bc51c57
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 10 17:15:52 2017 +0100

    Cloak allocations made by dlmalloc

commit f0eadde0f316fcb1f0e31d11de0a77320a274591
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 10 17:15:35 2017 +0100

    Improve the Cloak API to be aware of memory ranges

commit 8f2ee2ca845a56f66f2adfa2a3a680c181cc61bd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 9 20:01:00 2017 +0100

    Make gum_process_enumerate_ranges() cloak-aware

commit 90e1bc03ed313b855033ae28c5f514f92cf2ee57
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 9 19:59:38 2017 +0100

    Add first part of an API to cloak memory ranges
    
    And later also threads.

commit 9c621e84114cb698b5f7421b260b283c4a71f375
Merge: 1a7adb64 e6a0526f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Mar 9 15:58:51 2017 +0100

    Merge pull request #199 from frida/fix/racy-v8-teardown
    
    Fix racy V8 teardown

commit e6a0526f4271d32c9837e65f646496df5ca36557
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 9 15:48:08 2017 +0100

    Release ScriptBackend as part of gum_shutdown()
    
    This avoids a Catch-22 issue during teardown between GThreadPool and
    intercepted threading APIs.

commit 4da0c715e0dcb423f5ab666fa50c5488fab871a2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 9 15:45:59 2017 +0100

    Add gum_shutdown() to solve Catch-22 during teardown

commit b1629ce48cd43c864b07e01c342e2515caa6177c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 9 15:42:26 2017 +0100

    Fix race-conditions during V8 backend teardown
    
    We need to ensure that any pending foreground tasks are completed before
    tearing down V8.

commit 1a7adb64619867a1db1403927124b2f2aae6aed6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 7 00:49:51 2017 +0100

    Fix syntax error introduced by style tweaks

commit 9584289cf4a280fb1df24325b40b505d40463266
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 7 00:24:18 2017 +0100

    Release Interceptor's per-thread state on thread exit
    
    Instead of waiting until Gum is deinitialized, i.e. when unloaded from
    the target process.
    
    This depends on Gum.Tls making use of the destroy callback, which it
    currently does on all platforms except Windows.

commit fd1d4e021fb3d3815782ee2c934c20b683fce0a2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 7 00:21:34 2017 +0100

    Add support for providing a TLS destroy callback
    
    Except on Windows where we ignore it for now.

commit 1a36d64c9409a2e5f27b73be2d64464236363b60
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 7 00:18:15 2017 +0100

    Fix some stylistic inconsistencies

commit 096e25cef4493ad1b07f1045b43372fd357a7373
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 3 18:58:38 2017 +0100

    Fix the new Backtracer test on Windows

commit 0c8ccefb8da503424232c70faf3a0526eddc1ae8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 3 19:27:27 2017 +0100

    Improve Unw Backtracer to avoid missing the immediate caller

commit 1d26c9aa79d2953b88aac6f6785b418f938737c4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 3 15:47:29 2017 +0100

    Improve Darwin Backtracer to avoid missing the immediate caller

commit 3203da259ecb75ffc2820d65120b8072d985eb47
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 3 15:46:37 2017 +0100

    Ensure that the eip/rip/pc register has the return address
    
    This makes life easier for Backtracer implementations.

commit 8f8236bb852b041babedb0d38058148cc238db9d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 3 15:45:47 2017 +0100

    Translate return addresses replaced by Interceptor
    
    This was already done in the other Backtracer implementations, but
    somehow forgotten for Darwin, DbgHelp, and Unw.

commit 4fcb74472f2b7e4f208018e9a588b13a745999b4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 3 15:42:26 2017 +0100

    Add full cycle test for Backtracer with Interceptor

commit 8ca976c2498c82cc17c8dd908ac84de6d22d45f8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 3 14:09:32 2017 +0100

    Bump frida-objc

commit 9ad62881e22f05ba478ef7fad1577dddef3e9421
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 1 12:51:33 2017 +0100

    Bump frida-java

commit 8458ecf2659331069c9a2be1c0ffc69d1c31e727
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 20 13:30:36 2017 +0100

    Fix autogen build regression

commit 9e3826ba1f3eac379bab5cd172c8807d8b8d8273
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 20 11:17:48 2017 +0100

    Move compatibility shim where it belongs

commit d1f44c55360266dde46286b154630347ebf8d52f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 20 11:08:04 2017 +0100

    Properly handle missing log2() on older Android
    
    Our previous hack was relying on the Android support library, which we
    should only rely on for C++.

commit d4708263306deac57a974a52df66e9473893ee72
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 20 10:50:41 2017 +0100

    Revert "Work around broken math.h on Android API level 14 for arm"
    
    This reverts commit 8510189b84646caed2f72a277811ca52b907982f.

commit 5e79632eb939f3a194a6a43c98a89b9b482771a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Feb 19 17:38:53 2017 +0100

    Add an Interceptor test-suite for Android

commit 36218d0a56d6c2afaa65b5326213f1a8641a9952
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Feb 19 16:47:11 2017 +0100

    Remove deprecated Java test-suite
    
    It's been superseded by a proper test-suite in frida-java.

commit f59b0be7f10369b5f34ce97beda86daa493623f7
Author: Antonio Ken Iannillo <ak.iannillo@gmail.com>
Date:   Sat Feb 18 23:55:45 2017 +0100

    Fix detection of back-branches on arm64
    
    This allows us to successfully hook pthread_key_create() on Android N.

commit f9718984921faf4ab35929f122948abc74cbd22d
Author: Antonio Ken Iannillo <akiannillo@users.noreply.github.com>
Date:   Fri Feb 17 20:08:07 2017 -0500

    Improve Stalker on arm64 (#193)
    
    - Implement load_real_register_into() for X29/X30 registers
    - Avoid clobbering Q registers
    - Add new performance test

commit bb62b18eab7f145811bd4ead7806a49efd8ab693
Author: Eloi Vanderbeken <eloi.vanderbeken@gmail.com>
Date:   Sat Feb 18 00:07:13 2017 +0100

    Don't clobber YMM registers

commit 8510189b84646caed2f72a277811ca52b907982f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 17 15:13:10 2017 +0100

    Work around broken math.h on Android API level 14 for arm

commit 939f964285a21204d301aeeaa4f1dc8fd9adb65f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 17 15:00:36 2017 +0100

    Enable system extensions universally
    
    This fixes a warning when compiling Duktape for Android.

commit de913329f9dbe43c0cea5d7515e928746cf39aa8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 17 14:38:25 2017 +0100

    Bump frida-java

commit 86dbb1f2ecd92edf47f6460a547a7e4809621105
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 17 14:38:17 2017 +0100

    Add tests for ObjC and Java API availability

commit 70dac5be711563b0fb3d12e6a9df110d953a0aac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 17 14:17:43 2017 +0100

    Bump frida-java

commit 4ce866e4bf396fb06ad9e5c257391196b1731473
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 15 11:22:02 2017 +0100

    Fix source map URL parsing
    
    Newer JS toolchains tend to specify the encoding used.

commit c71ebd807f48433de0ae312fe93f83ba8ad3d4ad
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 9 00:29:51 2017 +0100

    Bump frida-java

commit 789c8de9a21d4df3cac17578e19b33237e2f54ad
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Feb 7 16:05:50 2017 +0100

    Avoid loading the shared cache file needlessly

commit 1e1415ec4a2c136dd2acce855f12f8eb63e2191e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Feb 7 00:12:11 2017 +0100

    Bump frida-java

commit a76e36322719545d6eaef136be7e6df69c11ec07
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 6 23:42:17 2017 +0100

    Add Interceptor.flush() for synchronous use-cases

commit 9a84d870e068a8db447bd8dfb9d8f56f844cab38
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 4 22:47:21 2017 +0100

    Fix compilation errors on ios-arm64

commit c8612803ef6bdacba913a0159338851cbaf54a41
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 4 22:45:00 2017 +0100

    Fix warning regressions

commit d8cba5d826e8190305d26ba7397807807d0c516a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 4 14:09:44 2017 +0100

    Bump frida-java

commit b8810f317edfb9395296fd391697d0f1cf43bb02
Author: Antonio Ken Iannillo <akiannillo@users.noreply.github.com>
Date:   Wed Feb 1 18:12:02 2017 -0500

    Port Stalker to arm64 (#189)
    
    Does not yet implement call probes and optimizations, but it's an
    awesome starting point.

commit 473a08e59ff53cbe9b7909f5a3d7f17e48155ac2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 30 19:44:47 2017 +0100

    Disable restrictive generators
    
    To improve compatibility with existing code.

commit 1f8ed0b1a0973705256773969096316a664721b5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 28 18:58:11 2017 +0100

    Require V8 5.8.60 and update flags accordingly

commit 5abf584d34ccddb4c142bcea490d0d031eb16c8c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 23 21:16:12 2017 +0100

    Add API for getting the JavaScript main context

commit bd0cba5862662b5c95536d8401c7ec03c80ba298
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 18 17:31:30 2017 +0100

    Add Memory.patchCode() to the JS bindings

commit fd045600ab71f254043adf5e065577042d089922
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 18 17:29:33 2017 +0100

    Add gum_memory_patch_code() for easy code patching

commit bc6d30008467381b811d445df956907a665454bb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 16 15:56:20 2017 +0100

    Improve gum_code_segment_is_supported()
    
    We should also check if mmap() is going to work.

commit d15e0864ebf5d902eb095e187023441a0a9a7274
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 16 15:14:42 2017 +0100

    Fix mapping when Gum.CodeSegment is unsupported

commit 03df7c7feb8efa5af1df744608aaef776ee9dcb7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 15 16:19:56 2017 +0100

    Skip our Mach exception handler when debugging
    
    Otherwise we risk that the debugger suspends our Mach exception handling
    thread, causing a deadlock.

commit 343f41bca106a1c5c240ec62ad670f4544114830
Author: Rafael Rivera <rafael@withinwindows.com>
Date:   Thu Jan 12 15:41:44 2017 -0800

    Ensure smaller chunks of memory are zero-allocated (#184)

commit 3137cf7dfd75c0cc7951ed1158900c74e17cac99
Author: Rafael Rivera <rafael@withinwindows.com>
Date:   Wed Jan 11 17:05:41 2017 -0800

    Accommodate source-map changes in frida-compile (#182)

commit 9915619e5d8e3e4f173315703c9b5e92890c7ba7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 12 02:05:23 2017 +0100

    Bump frida-compile

commit 461102d32deccd6b13fddf85739accb27b0a737c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 11 05:20:05 2017 +0100

    Fix warning regressions

commit ae09021f518479a1049f233519349e070938fa55
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 10 19:32:09 2017 +0100

    Bump frida-java

commit 15d45fa7cb6569dda0a7d0c9567061dd40a7dc1e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 10 19:11:25 2017 +0100

    Bump frida-java

commit 2995dee5480fce3962a1f3cab080b629ee19edc0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 10 03:37:28 2017 +0100

    Fix cross-arch module enumeration
    
    We were looking for the LC_SEGMENT / LC_SEGMENT_64 based on the
    architecture of the _current_ process, not the _target_ process, which
    is typically a remote process.

commit 05fcc0af8c79e224ad5b73438fd4e641038be352
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 10 03:37:03 2017 +0100

    Remove redundant cast

commit 7a6f6fd297e7de584556ad2a5485c9281dd795b8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 10 03:20:31 2017 +0100

    Fix buffer overrun on large Mach-O headers
    
    Turns out gum_darwin_enumerate_modules() assumed it would encounter the
    LC_SEGMENT or LC_SEGMENT_64 for the __TEXT segment on the first 4096
    bytes of any given Mach-O. It should obviously not assume that.

commit ccddc9996232607a9f76f47604e85d03ffadc14f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 8 22:01:44 2017 +0100

    Bump frida-compile

commit 65df01b3253491a40b5632d086a642a22d5339cd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 7 15:42:32 2017 +0100

    Uglify objc.js and java.js for Duktape

commit 01199642bd03fb5c058e7418ed7d3e0a3625b7e0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 7 15:42:08 2017 +0100

    Bump frida-objc and frida-java

commit aba48f12a63357b16839b28cafcec0184a046355
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 7 15:33:06 2017 +0100

    Fix the ObjC performance test on iOS

commit bb78a6d5cd4cc63fd9ee0a2abbe31cd57df40fd4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 7 15:30:45 2017 +0100

    Fix test
    
    Now that we uglify the runtime code there isn't a function name any
    longer -- but we can live without that, as “file:line” is enough for
    meaningful bug reports.

commit c4390aface18f0992e042bdcae44fcf6f96b6919
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 7 15:28:23 2017 +0100

    Fix Long/ULong regression on Windows

commit cfeaaa715b44c892a5d7e13494b81cefbccf2c20
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 7 15:01:21 2017 +0100

    Enable loose mode on Babel's ES2015 preset
    
    This yields a small improvement in memory footprint and performance.

commit e42dca4b98405fc055434a8cb17fba664747c917
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 6 19:22:02 2017 +0100

    Uglify frida.js for Duktape
    
    This reduces the baseline script creation time by 15%.

commit 22c19a903e5eb448608c40020e1a1174da2a53ab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 6 19:19:12 2017 +0100

    Bump frida-compile

commit cdbbadfd5a6c7c3d2a5816706cb945a2f67bf51f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 6 18:36:31 2017 +0100

    Move memory accessors for aliased types to native code

commit 39a0624e1b437e285ea8561c9a12eb8493341c59
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 6 18:33:47 2017 +0100

    Add missing file to the build systems

commit 31523aee9ce448c5e13124645d224e18bfe46bf1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 6 18:16:33 2017 +0100

    Update the MSVS build steps

commit 05f5a2d80a8ac5cb548d10c9ae5e3220ec38280a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 6 18:16:01 2017 +0100

    Split error-handlers into separate files

commit 14f603f5492f3f5bc1bebf8f1534ca176408130d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 6 17:18:17 2017 +0100

    Get rid of globally polluting polyfills
    
    This is better left up to applications, which should use Babel's
    transform-runtime plugin to make this seamless.
    
    Performance-wise this reduces Duktape runtime's memory usage by ~0.55 MB
    when measured on iOS/arm64. This also reduces the script load time by
    ~33 ms on an iPhone 5S.

commit 4b4fb78d1371fbcb115a7e5b879adb81043f9871
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 6 17:09:36 2017 +0100

    Fix gum_bsearch_find_closest() back-walk logic

commit 534b6bba40bd2b66db9c684a601e855cec48d438
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 6 17:07:34 2017 +0100

    Fix source map lookup without column information

commit 0ebb942bd88ef92fbf7314d59d816ca6ad24cf7d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 5 11:10:22 2017 +0100

    Lazy-load ObjC and Java runtimes
    
    This reduces Duktape runtime's memory usage by ~0.7 MB when measured on
    iOS/arm64. This also reduces the script load time by ~23 ms on an iPhone 5S.
    
    The motivation is to be able to inject into system processes without
    having to tamper with jetsam limits.

commit bde42bfb53bd6039fe8523db684b6365a4784d5d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 4 22:01:45 2017 +0100

    Correctly short-circuit local page size queries

commit 284910fc019459d6b9edc1e2a4c2ba3dcc8147be
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 4 20:45:06 2017 +0100

    Short-circuit page size queries for the local process

commit 9e1eb946a4966f211387264c0f8cc3657b4e0d49
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 4 20:44:17 2017 +0100

    Fix page size query in gum_darwin_write()

commit 0b9a937154cbc271381ae37d5516e780d851f3ab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 4 20:44:03 2017 +0100

    Fix kernel-panic workaround for 32-bit processes
    
    The workaround logic was querying the page size of the local process
    instead of the remote one. Oops.

commit cc5cde1414c04ec8338cdf07e45227c25895b877
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 2 19:09:30 2017 +0100

    Avoid crashing amfid and triggering stability issues
    
    Doing task_for_pid(0) may crash amfid on some jailbreaks. Observed this
    on iOS 8.4, where amfid crashing sometimes causes system stability
    issues. We work around this issue by touching this API lazily.

commit dc5979f14f6b3ee0c6bbae385cc073e46414b5c5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 2 03:03:09 2017 +0100

    Fix mapping from file on iOS 8.x

commit 8debd383e0497883652487b71c7c8fa336c28cdb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 2 00:12:53 2017 +0100

    Replace our capstone allocator with dlmalloc
    
    Typically shaves off 2.5 MB of memory on iOS/arm64.

commit eb53f332d1c37369cb7f03d93ab4ef996b9b0ed2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 31 01:14:30 2016 +0100

    Fix alignment issue when mapping from a file
    
    Instead of reading the entire file into memory and get an unknown alignment,
    we instead just map it in and create a COW mapping that we use.

commit f01437ef1a589d52fb679494ecfe5e1f8d045fc5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 30 16:45:58 2016 +0100

    Sign the generated runtime code on non-RWX systems

commit 5422db30ca0dd874a4687f56acf6b909ba2f7d5f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 30 05:25:49 2016 +0100

    Reduce Gum.Darwin.Mapper memory usage by memory-mapping

commit bf3a0e3a7223f33178e4c6248ba0392ab12ce322
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 22 15:59:23 2016 +0100

    Fix crash on systems with SIP enabled
    
    This is because MappedFile tries to open the file read-write when
    `writable` is set to TRUE, and this is obviously not going to fly when
    dealing with system libraries.

commit 271e281c5516fb01a7e24b8ea6ca02a143f87fca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 22 15:16:35 2016 +0100

    Configure dlmalloc to avoid spin-locks when available

commit b6f3f5fe88b700f7f48f6a52b1aefd8e079fa1f4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 22 04:00:04 2016 +0100

    Upgrade dlmalloc to 2.8.6

commit 80e26d1a5dd81e79ddf9c7db6320a514d62a5103
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 19 19:10:13 2016 +0100

    Fix off-by-one in Process.findRangeByAddress()
    
    Related to frida/frida#204.

commit f5c42d13f2827401d4bb5864fa222ae1041877a6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 19 18:59:18 2016 +0100

    Fix off-by-one in Process.findModuleByAddress()
    
    Fixes frida/frida#204.

commit 5c19d8cc6f64bfdb9e50c441a73ed0a15f8932dd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 17 17:26:30 2016 +0100

    Improve Mapper API to allow mapping from a blob

commit 8b0c7e4e360b7af72ec8bb9728b0b7906e323f38
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 16 19:23:31 2016 +0100

    Speed up gum_darwin_enumerate_modules()
    
    Most of the time the file path is part of the header data, and there's
    no need to read twice per module.

commit 011d5f9142f1a0d1effaa937da671bab82c5466b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 16 18:48:31 2016 +0100

    Refactor the Darwin APIs and improve performance
    
    - Factor out the module resolver
    - Pass the resolver to Mapper so we don't have to enumerate the loaded
      modules twice
    - Create mappings on read instead of precreating mappings for all loaded
      modules
    - Avoid copying image data for no reason
    - Implement objects using GObject

commit e6b3763b4f84b9fddab348501f34ddbd2d6c0cee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 14 22:26:03 2016 +0100

    Fix long-standing stability issue on Windows/x86-64

commit 8ffd49a698a9d279a07ab6ae51fbf509dab95867
Author: Ole AndrÃ© Vadla RavnÃ¥s <oleavr@gmail.com>
Date:   Wed Dec 14 15:13:34 2016 +0100

    Fix warnings reported by MSVC

commit b2baa620d0ea5560e0aa5ac62575a91da4152432
Author: Ole AndrÃ© Vadla RavnÃ¥s <oleavr@gmail.com>
Date:   Wed Dec 14 15:13:34 2016 +0100

    Simplify setjmp() logic and fix race-condition
    
    Up until now we've tried very hard to hide all the gory details of
    setjmp() behind the Exceptor API, but in the end it proved to be more
    trouble than it's worth. By exposing these internals to the public
    header it means we leak a few implementation details, but on the other
    hand it makes Gum easier to port and maintain, and gets rid of one
    memory allocation.
    
    We now also protect the `scopes` data-structure against concurrent
    modification (oops!).

commit 6f5ca028f30bdd0689dbe34a9765f726168e2a21
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 13 17:05:37 2016 +0100

    Fix Linux CPU type detection when auxv is empty

commit d00da96fdb430e33796c54e4401b9487d5ca3126
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 13 02:19:52 2016 +0100

    Fix mapping into processes with introspection enabled

commit ba76107ee2a113f6af09fab444b09590bb88858a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 8 02:36:21 2016 +0100

    Add gum_x86_writer_put_leave()

commit 12b5d5f05a15cdba38cf95a08a617d44f595522f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 1 21:36:02 2016 +0100

    Bump frida-java to 1.0.4

commit 0bffb7bbe48f66389899081f3a9767c5d7700837
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 30 20:43:13 2016 +0100

    Bump frida-compile to 3.0.0

commit d6ec84fa929e38b48c65c91d7e79d383df651056
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 30 20:42:39 2016 +0100

    Remove forgotten function prototype

commit 73912709daa4f0f43b2173dc8c8d0d12b2316cc8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 30 17:54:45 2016 +0100

    Allow gum_init() to be called before GLib is initialized

commit bea18c0628c3c7bc8f745cddd9ba571e33ae5a55
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 28 23:52:06 2016 +0100

    Fix crash in the V8 error handler for eval frames

commit 622e632b45166f99545353bd5a8373a397134280
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 28 02:38:42 2016 +0100

    Link with liblog on Android

commit ac7d29062b659fb190d01326287fcc3e08d23fcf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 28 02:15:40 2016 +0100

    Add missing include

commit a70815f8683e359fad23b2a064c310d2563a82a7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 28 02:03:55 2016 +0100

    Bump frida-java to 1.0.3

commit 48fcb91940093ce01a2ac412b591baaf80407825
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 28 00:00:44 2016 +0100

    Add gum_{init,deinit}_embedded()
    
    This simplifies using Gum embedded in an unknown process, typically as
    part of a shared library injected at runtime.
    
    Using this API to set up and tear down the library means that OS resources
    allocated by Gum are properly cleaned up on unload, and that GLib and
    Gum's internal logging gets redirected somewhere more appropriate than
    stdout (when possible).

commit 4d511fb29bd3224f00cd218fa6eab586d151e76c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 24 16:47:28 2016 +0100

    Fix the debugger notification bookkeeping

commit 2aaf0acb807e35a94418a2c56c4da7e874655331
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 24 15:03:14 2016 +0100

    Bump frida-java to 1.0.2

commit d01fe8fe67267aea9a0f2fa3aa0fb111fdc329ff
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 24 02:41:16 2016 +0100

    Delay execution of the runtime until load()
    
    This is consistent with the V8 runtime, and allows setting breakpoints
    before calling load().

commit 5b67ebf1c725694c6009406a568a3680a8a268e4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 23 23:19:59 2016 +0100

    Allow debugging before the script has been loaded

commit d191069dd0d3cea5948e0cc3f5187c6016a739b7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 23 22:45:15 2016 +0100

    Refactor debugger tests to avoid duplication

commit d771961fd2bd275dad7ac1ff47930382d5ca1edd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 23 22:44:48 2016 +0100

    Improve the Duktape debug tunneling protocol

commit a02c84ed990a1e22c30ccbf6c27cab2ff6934ae7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 23 22:43:27 2016 +0100

    Ignore attempts to post to the debugger when not attached

commit d3320841c02ef6c1857f02b2c4051123ce86db9c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 23 22:42:39 2016 +0100

    Fix unread buffer state reset logic on detach

commit 3a2cd039e5d8966e94d2d89fef919f65421da368
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 21 23:08:17 2016 +0100

    Fix warnings reported by MSVC

commit bd38319c607697e53b3dc5ad9d1999268888951a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 21 23:06:50 2016 +0100

    Use _gum_duk_throw() when possible

commit 7667e8833c271590a7d8518a5ebe40488ffbbb8a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 21 20:50:02 2016 +0100

    Upgrade Duktape and cherry-pick fix from upstream
    
    Typical symptom:
    
    ```
    [Frida ERROR]
    frida-gum/bindings/gumjs/gumdukvalue.c:1586:_gum_duk_unprotect:
    assertion failed: (!duk_is_undefined (ctx, -1))
    ```
    
    This is a long-standing bug that was very hard to reproduce, until a few
    weeks back when I fixed a memory leak in Frida:
    612ba7460bb1d1481e87fbe036c7d54fd66f45ca
    
    Fix cherry-picked from:
    https://github.com/svaarala/duktape/pull/1096

commit dbdc6dc2934cfa74988b053df264ddfe1edf789a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 21 16:00:00 2016 +0100

    Fix the source map lookup logic
    
    We need to find the closest mapping, there isn't always an exact match.

commit 380571b66d885c057a41366a54b4ce33f6180b19
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Nov 19 05:32:08 2016 +0100

    Remove source-map dependency
    
    We now have our own minimal implementation that's orders of
    magnitude faster.

commit 290d2c357222e81658a2330813d1f90f5291ee68
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Nov 19 03:33:25 2016 +0100

    Fix performance issue with source maps (#181)
    
    A typical source map takes ~5 seconds to parse with the Duktape runtime
    on an iPhone 5S. This is way too slow, and there isn't much room for
    optimizing the algorithm due to the sheer amount of bytes that need to
    be munged. To solve this we implement a minimal source map parser in C
    that only covers the bits that we need.

commit 6d05b3fd51432a4279314053dd399ae2783d8580
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 18 05:04:27 2016 +0100

    Remove redundant casts

commit a985b1e692585925ad065101f7351bf67b33717d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 18 01:34:40 2016 +0100

    Improve error-handling in the runtime autogen script

commit 82eb697ac6590eab7bbda5e6d710d7d093c3b0ac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 23:51:41 2016 +0100

    Use source maps to resolve frames of our runtime
    
    This was a regression caused by moving to frida-compile, meaning that
    bug reports no longer contained helpful file names and line numbers.

commit 07c1ad9cdcfd46acc4440714a933b8eca83cc5da
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 17:23:12 2016 +0100

    Refactor slightly to improve clarity

commit f098e6bf06a294ed6532239cf0f0d3f73d6e14df
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 17:19:58 2016 +0100

    Allow debugger to process new data immediately

commit 8b586517b24f336298220b8a661f699d707ceb83
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 17:09:39 2016 +0100

    Fix leftover warning reported by MSVC

commit 4e8a65bc5665e5caf5951bbf9464bc89791d56d0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 16:16:08 2016 +0100

    Really fix warning on MSVC

commit ecf34dfaef1e3fbe1ce52c096e0e46539384a91d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 16:10:10 2016 +0100

    Relax test to allow it to pass on Linux
    
    The POSIX Exceptor backend is not yet able to provide as much details as
    the Windows and Darwin backends.

commit a1efe4c36534bd899065d84cf56114b53b5b643d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 16:00:37 2016 +0100

    Avoid length modifier for suppressed assignment

commit b29626e96c07cbdc7ce08ad049047f2a56439a5c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 15:35:53 2016 +0100

    Fix script naming inconsistency

commit 0a8cc8b8e05c03fa0bcdb9155e039c091c21daef
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 15:34:07 2016 +0100

    Fix warnings reported by MSVC

commit 177f6e9b77a6d2a541fb32e8fb8e5cc050ccb382
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 15:26:24 2016 +0100

    Upgrade Duktape for warning fix

commit 341073ae0d6c99be960a4dc7d0150cd9d8346250
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 15:16:13 2016 +0100

    Avoid length modifier for suppressed assignment
    
    Fixes warning reported by GCC.

commit 5ee766afd048f2513477a9b404f3682d2afac0c1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 15:07:11 2016 +0100

    Upgrade Duktape for assertion fixes

commit 50c0a26c985191a062cb529afb8a88436e4ffc56
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 03:49:02 2016 +0100

    Skip Exceptor obstruction test on ASan

commit 69aa35bd4f5dcc91b34e4e90aca33ca2155fb71c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 03:07:12 2016 +0100

    Upgrade to Duktape 2.x

commit 99d91a1d4267f0a423ed2d1c83e2aa0856cf8ae0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 17 03:07:35 2016 +0100

    Bump frida-objc to 1.0.1

commit 20b6af217a651a02d7a385769dd81ab7b7f40a61
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 16 15:58:03 2016 +0100

    Implement debugger support in the Duktape runtime (#180)

commit e0614bc87218bfc413a77d4fd49b5de89089dfea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 14 00:30:43 2016 +0100

    Disable LTCG on Windows

commit 5a6683d2667f8fc237a80e950bf12c80b8123376
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 11 04:11:35 2016 +0100

    Fix argument replacement issue in the V8 runtime
    
    Our setter was not returning the provided value, which tells V8 that we
    don't intercept the request. Clever as it is, it remembers this and
    avoids calling us again when someone attempts to replace an argument in
    the future.

commit f4afdbf99d3f0581e20ec3a5989b701df367ad52
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 11 03:59:11 2016 +0100

    Tweak arg replacement test to cover regression
    
    A recent regression in the V8 runtime resulted in the argument only
    being replaced on the first call.

commit 5e4f54592f05ff767f552009866ef01f77770614
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 11 01:04:20 2016 +0100

    Add a minimal vapi binding for Exceptor

commit fd401f883cfc958f9301993ff8034b63e515e1c7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 11 01:03:45 2016 +0100

    Fix a couple of stylistic inconsistencies

commit ebdf62a281abc6bfd27074b376512f508e3142d6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 11 01:03:19 2016 +0100

    Remove long-gone API from the vapi

commit 8cbb30794ecf750f46fb868e572311f4add76600
Merge: f0114a70 a9fed23d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 11 01:02:16 2016 +0100

    Merge pull request #178 from frida/feature/mach-exception-handler
    
    Add a Darwin-specific Exceptor backend

commit a9fed23d7d2ccb97e9bb0dfce303e75e7e6f9ed4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 11 00:47:25 2016 +0100

    Hold on to Exceptor to speed up Script tests

commit 975cd4c8acc3b27ed680c8a6204be14ebb91b960
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 11 00:28:44 2016 +0100

    Implement task_set_exception_ports() and refactor

commit 129c1728ba35b35cdaaa6cc18a67c5dd4801a6ef
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 10 22:20:00 2016 +0100

    Implement the missing helper API

commit 8338e4b0fc888a5b3e115cc19dbd008e512ceda1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 10 17:45:08 2016 +0100

    Improve clarity

commit b148c039e6399dcef90ce4889003d1ba37e68671
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 10 17:37:10 2016 +0100

    Implement the high-level part of the swap logic

commit 94c47702bd5954eafea0afab3e2c282e88e64328
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 10 00:01:30 2016 +0100

    Add failing test for task_swap_exception_ports()

commit 05c6c2321843a89365252ae643cc8179ae1083c5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 10 00:01:02 2016 +0100

    Fix port leak in test

commit 1c0ea253f68418145f36632af7f9bf6e59799f80
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 10 00:00:26 2016 +0100

    Initialize `count` with the size of the arrays

commit bcdf32661cbd6a843148e2ae7ee80956a913dbdd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 22:41:24 2016 +0100

    Implement remainder of task_get_exception_ports()

commit f0114a70cce601e3d4c2c284bb9991cfa23f99e1
Author: s1341 <s1341@users.noreply.github.com>
Date:   Wed Nov 9 22:28:56 2016 +0200

    Add -lm when building for QNX (#179)

commit a6011c30e8a5b0619989e3d1a50b70a9bd9779a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 20:13:05 2016 +0100

    Use mach_port_t consistently

commit 443a99e45fcdc96b721fe40f63ae0e8db7822992
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 20:12:22 2016 +0100

    Add failing test for Exceptor invisibility

commit e20a06a2e28d5fbb86fadc376a669795d9759f56
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 20:11:14 2016 +0100

    Don't hold on to Exceptor in ScriptBackend
    
    This should be done at a higher level.

commit 9a01fb02a44c207e254ca95e0f81e2865de90db0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 18:18:04 2016 +0100

    Perform passthrough when task is remote

commit a1f1f9150c31a8f52a4e21914301fe451baf2dfa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 18:13:57 2016 +0100

    Add scaffolding for hooking the handler API

commit 51b532988bfbb92c239d0d397503cc589f09e944
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 17:52:06 2016 +0100

    Clean up the POSIX backend a bit

commit e44545bdc6e688de4f3649861291250096581906
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 17:51:40 2016 +0100

    Implement handling of SIGABRT

commit a01387f9a7c9ea6ec8a6d4fd9c334eceb415c968
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 16:41:57 2016 +0100

    Use a long-lived thread for exception messages
    
    Fewer moving parts during exceptions is always a good thing. Plus,
    internally spawned threads are automaticalled ignored by GumJS.

commit 74017ee56c2321e470b33ad64ed47f68744b6b0d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 04:15:56 2016 +0100

    Remove locking from Exceptor backends
    
    Needs some pondering, so better to avoid it for now (like we used to).

commit a4f07c8f28c1da49de6d4a18b57d56c8b89572bb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 04:09:27 2016 +0100

    Clear global on dispose

commit 00c1207f400e284534f2565bc080b188e762e7a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 04:09:18 2016 +0100

    Deallocate ports

commit 962144d5e1585f92212aa5ee23dd2033aec2cd3c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 04:04:22 2016 +0100

    Tweak style

commit 59946ab74a90ad8f86063fcc9048a1df584440dc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 04:00:52 2016 +0100

    Forward unhandled exceptions to the previous handler(s)

commit 2c5ce74c583f4c750516b48473275f0703493e2b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 03:59:53 2016 +0100

    Add legacy MIG stubs

commit ed9fa4cec3b3bf518d0343725d4f51fbf771ecd0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 02:39:07 2016 +0100

    Wire up ExceptionMemoryDetails for arm

commit 9dc62ed6d7b8eb9fd1d329588abfb78ad443b5b7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 9 02:01:14 2016 +0100

    Wire up ExceptionMemoryDetails for arm64

commit 54fe227aa47881f3936acd4ebd4e8f97cad2e059
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 8 21:43:48 2016 +0100

    Wire up ExceptionMemoryDetails for x86

commit 4b75267049b83953001a3c614a84caf1269258d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 8 21:42:29 2016 +0100

    Fix missing initialization of thread state fields

commit 852b1a9b9d2335b59f35d1bbf5513204d7021262
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 8 17:44:15 2016 +0100

    Use MIG to generate the client/server logic

commit 080e593eda3a7cc2b3232f328c47ce2967dc29f9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 8 02:26:50 2016 +0100

    Reply with new state

commit e44fcdeb27181ff2902ef7667cf865668fdfd6ce
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 8 02:02:34 2016 +0100

    Add a Darwin-specific Exceptor backend

commit 2e94c4d917759f780363e0a717742f323d1c8a1d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 7 23:42:54 2016 +0100

    Fix Exceptor backend for Windows

commit 7e64779001021abe9be5bad8194e13454b7f755e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 7 23:34:25 2016 +0100

    Move Exceptor's OS-specific bits where they belong

commit 612ba7460bb1d1481e87fbe036c7d54fd66f45ca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 7 18:06:34 2016 +0100

    Fix leak in InvocationContext copy-on-write logic
    
    This resulted in modified InvocationContext objects never getting GCed.

commit 2fb9e1d6e32f50db3fee2d98f0fe76fdf8ca65ba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Nov 5 01:23:16 2016 +0100

    Yield the JS lock while resolving symbols
    
    This avoids deadlocks when holding the dyld lock, for example.

commit 7b87f867055932359c44b25ec9d3848070b21b06
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 4 22:02:02 2016 +0100

    Yield the JS lock while creating the ApiResolver
    
    This avoids deadlocks with our ObjC resolver, as it calls dlopen() that
    tries to take the dyld lock, which another thread might be holding while
    trying to take the JS lock because of a hook.

commit ff6b68d8cafac2d9aec0b88db4085eb871adac51
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 4 17:57:18 2016 +0100

    Fix separation of concerns in use-after-free fix

commit f2e20a6dd8012c2b479edf9af6edb2e3b03a5f04
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 4 14:26:32 2016 +0100

    Fix use-after-free caused by race condition on unload
    
    We need to hold a strong reference to the script while processing the
    on_unload callbacks, as one of them might drop the last reference. This
    would happen if our thread got unscheduled immediately after calling the
    callback, and the other thread got a chance to process the idle handler
    and let go of the last reference.

commit c3555143c5dfbd32452018137e6083e9c77fb96f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 4 03:08:40 2016 +0100

    Fix crash when processing tick callbacks
    
    We were using the heap thread regardless of which Duktape thread we were
    about to leave. This resulted in a fatal error when more than one native
    thread was running JS in lockstep, and any of the non-heap threads would
    process tick callbacks. (We recycle the heap thread and only create new
    Duktape threads when another native thread is using the heap thread.)

commit 60a42c92ad6959657e524ae9d7588786ee9a40cd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 4 03:07:35 2016 +0100

    Rename variable to improve clarity

commit 0cea4fc55f5446ac551c6d8b849588479403988c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 4 03:05:52 2016 +0100

    Send fatal Duktape errors to GLib's logging system
    
    This way they'll end up in ASL on macOS and iOS.

commit 9e59177f014ea8300f3e593be08db047c0f1ea93
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 4 01:39:12 2016 +0100

    Skip KScript tests when ASan is enabled

commit 77091fedc4c50cf18c93539a67a229bbda8a648c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 4 01:33:22 2016 +0100

    Fix clobbering in our mach_vm_protect() wrapper
    
    We need to save and restore the clobbered registers.
    
    This resulted in a crash with ASan enabled on 32-bit ARM.

commit aa4dce1bd480c8f7c4c8ca6830bf20fa65af9d38
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 4 01:29:20 2016 +0100

    Fix access beyond last variable argument
    
    We were reading one argument beyond the last one, though not making use
    of the value.

commit c7a0e7ff1204ca5ebad3f0d866cfd5b14d7074fb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 3 23:54:52 2016 +0100

    Fix the console implementation

commit 1e09cdcf7b17e8722403bb14879846d18748ba64
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 3 23:54:28 2016 +0100

    Improve the socket connection test's reliability
    
    It's better to use the PID instead of Math.random(), and also a good
    idea to unlink the socket after connecting to it, so we don't fill up
    “/tmp”.

commit 39c465ff0f487e4572d8be42a87bd755aebe556f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 3 23:51:39 2016 +0100

    Fix ObjectManager life-time issue caught by ASan
    
    We cannot touch the wrapper without holding a strong reference. So
    change our strategy to rely on Duktape's deterministic GC behavior
    instead, i.e. the finalizer will get called when the heap is destroyed.

commit 922e47cd21685df0c2fd38d11048a67a5762b19d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 3 18:54:57 2016 +0100

    Implement hooking of single-instruction ARM functions
    
    We already support hooking tiny Thumb functions by using the Deflector
    API, allowing us to trampoline through a nearby code cave. This improves
    the ARM counterpart to also support such a fallback.

commit d19ba674d707b1d6e807f87c6015b90c33e29af3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 3 18:48:27 2016 +0100

    Emit ARM when a dedicated deflector has ARM caller
    
    The B <imm> instruction does not have a BX counterpart, which means the
    trampoline must be ARM.

commit 37071469f08f5978ae08a10230e9f3c004c51f85
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 3 18:47:04 2016 +0100

    Add gum_arm_writer_put_b_imm()

commit 4ac1a7f34ae3496ad58d4cb11946ae557ed271ce
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 3 18:43:43 2016 +0100

    Fix can_relocate() API inconsistency and fix leaks
    
    The failure path resulted in the relocator object leaking.

commit adbdff2a99511e990f475fcaddd69944c50565d7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 2 23:53:26 2016 +0100

    Use exact module versions for the GumJS runtime

commit b5c33a1d0d3e66d522b443ac0dcfaa437d6918d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 2 23:37:39 2016 +0100

    Use frida-compile to assemble the GumJS runtime
    
    This also means that our ObjC and Java runtimes have moved out to
    separate modules, and we can use the “source-map” module from npm
    instead of bundling our own copy.

commit a4f2dbaa6092a0663fe7fbc322be1eb88b55b5ac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 2 18:48:26 2016 +0100

    Remove unused variable

commit 5e05ca2eb662f39199a6d5276eaeebecd38b9187
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 2 17:56:58 2016 +0100

    Keep holding the JS lock while attaching the GSource
    
    This is consistent with our V8 runtime, and makes the API easier to use,
    for example in case the timer fires in the JS thread before we return.
    
    Kudos to @mrmacete for tracking this down.

commit cee1b4129ead88dfaac2e106b118ee2043b6aeb1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 2 13:47:06 2016 +0100

    Tweak minor inconsistency

commit 73ad7787653db5a6bec185c4f01d673bc734046a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 2 13:41:45 2016 +0100

    Fix setImmediate() callback processing behavior
    
    Immediates scheduled from an immediate callback should be deferred until
    the next turn of the event-loop.

commit ed3ed9a15d8331cca59a6ed2ed9793e2ac395b6f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 2 13:39:54 2016 +0100

    Plug leak in setTimeout()

commit 926d289a11eb7b3714f724940e79c528dd723cda
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 2 00:17:14 2016 +0100

    Fix the reported module sizes on Linux
    
    Modules typically own a few contiguous ranges, and we should include
    them in the computed size.

commit ad2c0faef89108cdbdb7042ba9f67de6c8d423fb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 1 23:46:13 2016 +0100

    Add failing test for module bounds on Linux

commit 8dc15c7f6b0c09f9d640a5caccfd1a190f9874e6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 1 23:45:48 2016 +0100

    Fix minor style inconsistency

commit 3902f5c3cd7872bb20d35eb5d0255a66522a7b55
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 1 23:36:51 2016 +0100

    Fix constraint warning on Linux/arm64

commit daac980f4a1965c44352d71e2510c7c2e87a2f12
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 26 21:51:14 2016 +0200

    Add support for proxying non-NSObject instances

commit ca26162c6cf0dfec1ab0910fdb812c63a16b6b4c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 26 21:50:28 2016 +0200

    Fix infinite recursion when proxying some proxies

commit d6940dc15732474c5b886fcee62e47beff3e5274
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 22 20:25:16 2016 +0200

    Fix crash caused by invalid use of v8::Eternal
    
    Context-dependent values obviously cannot be stored in v8::Eternal.

commit 5c234b790177ed3a6c542f9bf5b42605ead258e9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 22 03:21:58 2016 +0200

    Fix warnings reported by MSVC

commit 358f2b776e12eb407dc8fa58804e753eb3ba029a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 22 01:46:27 2016 +0200

    Fix parsing of opaque struct types
    
    Kudos to @mrmacete for reporting.

commit d59ab4c853e177b7f16a2947d5138183383c44fe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 21 21:11:58 2016 +0200

    Add .call() and .apply() to NativeFunction (#177)

commit a654dfd627da1beda167a0a9cf328c9cf1724495
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 21 20:31:43 2016 +0200

    Fix minor inconsistency

commit d6487df93dd6746ed0d48639a9b5d27d2af99f44
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 21 06:21:59 2016 +0200

    Fix NativeCallback argv initialization issue
    
    Should initialize the Local<Value> object before assigning to it.

commit e6f903b54be940c110256186235221cff5d90fa0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 21 03:39:31 2016 +0200

    Remove unused variable

commit 321d051bf693b4c4bf379f436390a9c6a7cbbf22
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 21 03:25:44 2016 +0200

    Fix system error field name on Windows

commit 09ce418f03fe1b8e56b034c994ff437e3f5abf42
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 21 03:25:15 2016 +0200

    Fix shadowing warning

commit 6f4287a84ba1660a6299410571fe5e435e87a69d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 21 03:05:15 2016 +0200

    Fix build regression on MSVC

commit 5dd17ba82506aaf1adcb3d7046e0d60b4afb4910
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 21 02:52:48 2016 +0200

    Add SystemFunction API (#176)
    
    One shortcoming of NativeFunction is that it is not possible to get
    `errno` / `GetLastError()` reliably, as Frida may have clobbered it.
    
    This new API is just like NativeFunction except that the return value
    is an object containing `value` and `errno` (or `lastError` on Windows).
    
    For example calling `open()` with a path that does not exist, the return
    value on Darwin would be:
    
        { value: -1, errno: 2 /* ENOENT */ }

commit 56fb01b0ff6e17cff376e782143e2734aa27c470
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 21 01:58:52 2016 +0200

    Remove redundant namespace prefixes

commit 891fa913a2576e03999740cb3a48972803f8d3b1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 23:38:51 2016 +0200

    Handle `system_error` for replacement functions
    
    This means that the `InvocationContext` may be used to read and write
    the current errno/LastError regardless of whether it's from a listener
    or from a replacement function.

commit 2b75421e35f37470016aadf8963b13760a869ebd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 20:55:28 2016 +0200

    Add missing include

commit fd92cb7d2f4a2bb84f6591c61411bc2cd52e2e8b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 20:15:11 2016 +0200

    Fix casting macros

commit b96e67df447f5c9e21a36acaa0e429c324605b72
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 20:15:04 2016 +0200

    Add missing include

commit 173a5579d0d1c846442f05097d7055d31b2f691d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 20:04:10 2016 +0200

    Improve consistency

commit d038c09cf2aac75c2a2b8bd202bd5c6c8ade369b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 05:25:52 2016 +0200

    Fix inconsistent error message capitalization

commit dbefb0614b9f9ef35fa04744619c5efdef842368
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 05:16:32 2016 +0200

    Remove redundant includes

commit a32dfb2be08ddc4f3ffbc5c098ea5637ffb96726
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 05:12:59 2016 +0200

    Remove redundant typedefs

commit 6585caf0f1b7b1595309431e5c142f33824b405e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 05:05:48 2016 +0200

    Fix argument ordering inconsistency

commit 102b1e7937d08a799dcb3ec2a7699b68c0066779
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 04:54:38 2016 +0200

    Move the Instruction module to the new API

commit 8e023118732ae275b57a032563fe3b8843b2a51d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 04:54:30 2016 +0200

    Fix a few minor inconsistencies

commit 8fb40750089d307277c6aed53706bf38e4b4cfd4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 04:27:16 2016 +0200

    Move the Symbol module to the new API

commit e21e5e3239e624e6ad0b0cb188cd3a7e0bea2c75
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 03:32:53 2016 +0200

    Use object manager in our Duktape ApiResolver also

commit 3dde3f0cf04ad4a546e95082fa9a2de678ded27e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 03:20:32 2016 +0200

    Move the ApiResolver module to the new API

commit 471a6e5725b10942b768bed30445c54d2fd8147d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 03:20:16 2016 +0200

    Fix some minor inconsistencies

commit ac704c223c5850b37ec0d8e391f43bb71929e5d9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 01:50:41 2016 +0200

    Fix the declared argument count for _follow()

commit 2d1034eab75f445a063d8ab5c5ef5120891047a5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 01:48:33 2016 +0200

    Move the Stalker module to the new API

commit f17b2ca7a9ed51e0856b188d88669a257c9ed565
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 01:48:15 2016 +0200

    Fix the Stalker tests

commit a003f4a14290105782504e0a87fa01969178c8fd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 01:47:44 2016 +0200

    Add a macro for defining module-level property setters

commit 27d801fc345426280402a3aed51123ccb477ddc9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 01:46:47 2016 +0200

    Fix the “errno” setter so it matches our Duktape runtime

commit f062cdad17015af7c11f3fdebc03a3cba2397e56
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 20 01:45:31 2016 +0200

    Simplify CpuContext setter logic

commit 62b05183d4557d7f92054f5567d3c9d7c4154dbf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 19 21:56:03 2016 +0200

    Move the File module to the new API

commit 10c5e26f7b0a042a59316972767b814c94fe1461
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 19 21:55:42 2016 +0200

    Improve the V8 value API

commit 043f3ce767d50ebffa320d6dbceb91fd6932c08e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 19 21:55:09 2016 +0200

    Clean up the Duktape File module

commit 8d2d6f201eac803d290f659d242a6a28303bc4e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 19 21:54:05 2016 +0200

    Improve the Duktape value API

commit 2cda23ea2ea9e89accb07408f98927d7e1299f7f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 19 02:57:24 2016 +0200

    Move the Thread module to the new API

commit 91d3b2c017d8dffa6a2fda2666710c8a72d2d73d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 19 02:57:03 2016 +0200

    Fix typo

commit ce9cde83d0a81be29ba50bfcf32fb4a8978b86b2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 19 02:32:16 2016 +0200

    Move the Module module to the new API

commit 45400ce4fb8984f925bfd6e7db7ae3f01608dc82
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 19 02:28:58 2016 +0200

    Fix handling of throwing onMatch callbacks
    
    We should not call any JS functions when we have an exception pending.

commit dfcf671dcc8eb782c3750fb62410472f2986440e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 19 00:53:13 2016 +0200

    Fix some minor inconsistencies
    
    - Callbacks with “user_data” should be cast to the custom type so they
      are more readable.
    - Some of our internals functions were inconsistently prefixed.

commit f43a1a1983c63ac608db3a3f3cb8784ee575c53e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 23:42:55 2016 +0200

    Fix minor inconsistency in error message

commit 8da29afe3f740e5b9f345cc3327258d3e69db3a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 23:42:38 2016 +0200

    Move the Process module to the new API

commit e7b2484d59f4377d8c69f4673467412007ee6f15
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 21:20:45 2016 +0200

    Move the Kernel module to the new API

commit 3a2a5f8b62b111b48818b3882f46534ec68f6f0f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 21:19:36 2016 +0200

    Consistently use undefined as the receiver
    
    Also fix a few other inconsistencies along the way.

commit 53e1bfb087f1b2726e91bdb5825e50b0ff0fb3ca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 21:17:57 2016 +0200

    Remove redundant assignment

commit 1268ca5e0b5950840951ed68cfc3495278368f60
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 20:33:38 2016 +0200

    Move the Interceptor module to the new API

commit 8e77b7c4c3cfc4bfa6d9854ec6529310ae1a5503
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 20:33:12 2016 +0200

    Remove redundant typedef

commit e00773776150e3efaabc5eaf00fdb3b0caaaa65a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 20:32:37 2016 +0200

    Improve the glue APIs

commit ca07215114d01f2dd12398e98126cd3fe36cc166
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 12:30:38 2016 +0200

    Move the rest of the Memory module to the new API

commit 00adab501ba2442578bb2dce8455b07379c96e26
Author: Ole AndrÃ© Vadla RavnÃ¥s <oleavr@gmail.com>
Date:   Tue Oct 18 12:29:35 2016 +0200

    Fix warnings reported by MSVC

commit 666351cced4170f3660f4e307c350f59b3187f95
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 12:29:07 2016 +0200

    Tweak test fixture buffers to handle larger errors

commit 15ac8fd86414457bad91d756ab20af14c1a98073
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 03:10:25 2016 +0200

    Move most of the Memory module to the new API

commit ace0f284b0df8bdb10db50e7440f979779ca8998
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 03:10:16 2016 +0200

    Fix some stylistic inconsistencies

commit c14e1d2f3933f0fd17bc4bc8e13782b8462d2d69
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 01:11:28 2016 +0200

    Move the Core module to the new API

commit f4672bc8826eddd2a0d4fa91a56275d4059ef8a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 01:11:10 2016 +0200

    Fix minor inconsistency

commit b448474223e8252db6811d91e1ba11bf239a8cca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 01:10:14 2016 +0200

    Tweak style for consistency

commit 9fb52daa6925c912c5869ba65202065d56febdc2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 18 01:09:52 2016 +0200

    Improve the convenience API

commit a836f72cdf6b7ee5d7b3fc828b609674b3729618
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 17:41:56 2016 +0200

    Improve boilerplate macros to reduce duplication

commit 9e5d5f6d94a923bd98b9c83058648e82e66b577e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 14:57:23 2016 +0200

    Move the Stream module to the new API

commit 2d9e3af88df141425d8761225d929e852d6702cb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 14:56:59 2016 +0200

    Use helper API to create module

commit 5f860c516c9b31efcccbf3a41b9227d6e8806a53
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 14:56:43 2016 +0200

    Add helper API for creating modules

commit b2ce33f6bd20c787b715eebde8fb05cc0656ca5f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 14:09:02 2016 +0200

    Move the rest of the Socket module to the new API

commit 96f4592b603801965a195ff24c7b710687bb2512
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 14:08:00 2016 +0200

    Add argument parsing support for v8::External

commit d4de5dcf5d5eecffb78faa16df40b20c91c9cf4a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 14:07:20 2016 +0200

    Add macros for class constructors and methods

commit 81ae4edbd0513700eaa70a3f14567321cb300d1e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 14:06:42 2016 +0200

    Add helper API for defining modules and classes

commit d96164d185330579a09e08ad2ba11383f8bf7df3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 14:06:08 2016 +0200

    Use a helper for creating ASCII strings

commit 421a04e4a158ff6d2d8827ea4a2b07efe8af0367
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 11:27:41 2016 +0200

    Add support for UNIX sockets in the DUK runtime

commit 4e00160b7de9fcf9a63501990236bd194126d9ce
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 11:26:05 2016 +0200

    Tweak style a bit

commit 4ba9cc20121d7e8fcc8a793772802453a3555142
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 03:32:11 2016 +0200

    Add support for UNIX sockets in the V8 runtime

commit 9038aec87a4bea9fc1b907d4578560ec2c4d823a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 17 02:14:57 2016 +0200

    Add an argument parsing API to the V8 runtime
    
    This is modelled after our internal Duktape helper APIs.

commit 5c4d941fe18af5b8c4b0fc309e521651cdf6db60
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Oct 16 21:05:34 2016 +0200

    Guard against bad InvocationReturnValue usage

commit b5c864458a49091cb3181ac18c02d77a2210babc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 15 06:41:00 2016 +0200

    Fix crash during flush() in case of GC

commit 46681b5b130e967780ea158564f55b4ed47f6b11
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 15 04:41:46 2016 +0200

    Fix crash on close() during I/O in the DUK runtime
    
    This mirrors the recent changes to the V8 runtime.

commit 347a14898778c18eeedf8b83b1bb44bd623e2112
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 15 04:42:43 2016 +0200

    Improve naming and style a bit

commit 9c47eed185ee49d4d763737a88bc0f48c23058e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 14 17:15:28 2016 +0200

    Wait for operations to complete before close()
    
    Some operations may not use the cancellable, or run in another thread,
    which means we may beat them to the main context.

commit a288d4c3b756c646ff0df3f8f18b9d43c07028a0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 14 04:46:38 2016 +0200

    Fix crash on close() during I/O in the V8 runtime
    
    Instead of introducing API to cancel individual operations, and
    burdening developers with logic to cancel all before calling close(), we
    now take care of these nitty gritty details.
    
    By introducing a cancellable per object, we simply cancel it before scheduling
    the close operation. The scheduling happens in an idle handler, which means
    we can count on the cancellation being out of the way by the time we actually
    close the stream.
    
    This also gets rid of some duplicated logic with some new helper APIs
    that should come handy in the other modules too.

commit 196a0ce9110000f8c51f3fb550b281298be0441e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 12 00:37:39 2016 +0200

    Tweak coding style

commit a61c72add4bc8fb103d53db52bc95bc83ebbf52c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 12 00:31:32 2016 +0200

    Add Script.nextTick()
    
    This is needed for the same use-cases as process.nextTick() in Node.js.

commit 6d08ec73555a70b233536f0cafcee3910761410b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 11 04:10:52 2016 +0200

    Fix warnings reported by MSVC
    
    We should enable the same warning on UNIX.

commit 3627f91c9c285bca5b18e4ce91918583c5e466d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 11 03:59:49 2016 +0200

    Re-enable disabled Script tests

commit adcfed417c82de9bc270126635ed375e020a25e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 11 03:57:47 2016 +0200

    Pick a random port to avoid random test failures

commit 3f8195679c256394e0d404d6a56218a172e48cc2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 11 03:54:47 2016 +0200

    Add Socket.listen() and Socket.connect() (#172)
    
    By leveraging `GSocketClient` and `GSocketListener`, we get to re-use our
    existing bindings for `GInputStream` and `GOutputStream`, and only need to add
    bindings for `GIOStream` and `GSocketConnection`.
    
    One could argue that this could be implemented in pure JavaScript by using
    `NativeFunction`, but considering how many platform considerations need to be
    taken into account, and that we already have this functionality in GIO (which
    Frida depends on for its own needs), we might as well expose these APIs.
    
    This will allow a Frida-specific `net` module to easily be built on top of these
    building blocks. Consequently the idea is making it easy to use off-the-shelf
    network modules from npm, e.g. for serving HTTP requests directly from an agent.

commit 9c84be5821b57bbaf4ebddeb18722873cf608813
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 10 01:51:37 2016 +0200

    Use Object.defineProperties() when possible

commit 174541b5b9bf32051744c3b83aa7584814ca9ac1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 10 01:06:06 2016 +0200

    Improve set{Timeout,Interval}() to support args
    
    Also avoid scheduling multiple timers for immediates.

commit a9e1ab33359940bedcb7edf0720f921407f73870
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Oct 9 23:40:46 2016 +0200

    Implement setImmediate() and clearImmediate()

commit 1e555085e51e82cd31adaacfd602b67255ddaa05
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Oct 9 02:07:53 2016 +0200

    Clear transaction's dirty state on no-op end()

commit 62b1f5d867e7300f5d3f4a7ffa7f6ce2c56a2060
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 8 05:09:52 2016 +0200

    Speed up transaction_end() on an empty transaction
    
    For Interceptor dual-callback overhead this means ~6% with V8 and ~8%
    with Duktape.

commit c9a63af337c547ba8c531bafabb6c701976bcd1d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 8 04:18:35 2016 +0200

    Speed up gum_process_get_current_thread_id() on Darwin
    
    For Interceptor dual-callback overhead this means ~17% with V8 and ~33%
    with Duktape.

commit cf48f682c0675dd1c9a71dadd125838a0f7d1498
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 8 03:59:55 2016 +0200

    Reduce Interceptor dual-callback overhead
    
    We can cache the `is_ignored` result in `on_enter` and avoid doing it
    again in `on_leave`. Results in a base overhead improvement of ~15% with V8,
    and ~25% with Duktape.

commit a43006982519d96c44c1cda438b5d8fa1010ec6b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 8 03:25:48 2016 +0200

    Reduce Interceptor overhead by ~20-30% on Darwin
    
    For the case where only one of onEnter/onLeave is specified we can avoid
    one of the two “is this thread ignored?” lookups.

commit 8f44b2f47413ff8ba72999c7014ff18df6aa9bf8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 8 00:25:41 2016 +0200

    Optimize Interceptor GC churn in the V8 runtime also
    
    This means we recycle the invocation context, args, and retval objects
    when possible. (Exactly like in the Duktape runtime.)

commit 60fb92fd509a4d48b6a9ec00993ef4c67aba14b5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 8 00:11:41 2016 +0200

    Fix cast

commit a720d1b26f6914c99f09ef115aa9c85353106033
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 6 18:15:38 2016 +0200

    Handle recv().wait() from our JS thread
    
    We would previously deadlock in such scenarios.

commit bc4b7ebf3cad61c2158462e5dda1459e34c59482
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 4 21:07:13 2016 +0200

    Work around macOS Sierra export enumeration crash
    
    One or more of the resolvers in CoreGraphics seem to be broken. Need to
    investigate whether this went unnoticed due to interposing, or we are
    missing something else.

commit 91d0aeb539b7e4ac6b5cf14749075daea1053537
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 3 19:24:09 2016 +0200

    Fix warnings in the Valgrind header

commit 6ee210029e135cf5babcb5f696e480e0d493b441
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 3 19:24:00 2016 +0200

    Fix the filters in the gumpp-static project file

commit b690dfc4aa304a7ed08828e9d36e9932b0de56e3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 3 19:23:31 2016 +0200

    Fix warning in our Duktape accessor patch

commit f49c923d6f68691f1a5a9a10b7e78a68797bf3b0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 3 18:39:56 2016 +0200

    Fix warning regressions reported by MSVC

commit 7d40d54fa33887e275c8a8fdca2d8a73be4be53e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 30 19:39:29 2016 +0200

    Provide a default value for post()'s data argument

commit 628d7a95445340a88c393c804acacf86a6aff6be
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 30 16:26:43 2016 +0200

    Add support for posting out-of-band data to scripts
    
    This is consistent with how we support it in the other direction, i.e. as
    the second argument to `send()`.

commit cf7c4d9a088cef0614cc8e2a727185929600e288
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 26 13:54:47 2016 +0200

    Perform exceptor rollback in a transaction

commit 94842c2855d49c5eafa09d6264821aff69ef5cb2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 23 20:46:05 2016 +0200

    Add support for running on Valgrind

commit 0c75b915cf39a4a385c50c589d9314a18371eb63
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 3 01:29:05 2016 +0200

    Fix `hexdump()` default `length` regression

commit e200a81668dd7b5656d3ef199d0521f817e0d0e6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 3 01:25:18 2016 +0200

    Improve `hexdump()` to support any NativePointer-conforming object
    
    This means you can pass an object with a `handle` property, e.g. for
    dumping an ObjC.Object instance.

commit bd61621f4e0ae357e3c8e7f284ccaca67bfeed93
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 1 03:26:11 2016 +0200

    Fix handling of the `L` type
    
    Unlike `l` it is actually dependent on the size of long.

commit 0bec212456545fd0e4c7d747912fc35eafb57095
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 1 03:19:51 2016 +0200

    Remove pointless loop

commit 421a404e13f865d09998d5c1f9c73880c63db784
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 26 20:43:36 2016 +0200

    Improve the accessor API and improve its test coverage
    
    It's better to just return the value and exclude `undefined` as a valid
    value, now that the Duktape accessor patch no longer expects us to provide
    a getter function.

commit caa20056c5e9cf253f949394442a0b39b0b2f088
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 26 20:41:02 2016 +0200

    Fix the globals accessor logic so it's only applied to reads
    
    We obviously don't want to intercept writes.

commit 6fb7aa05fcf1fdde9d61159f6c736b8239cd2766
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 24 18:07:40 2016 +0200

    Don't protect global handlers against recursion
    
    This is better left up to the application, as some applications may need
    reentrant behavior.

commit 21d9522ad7900a608e76dc4ed99242026dad4aab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 23 20:03:08 2016 +0200

    Add support for auto-converting to an array of objects
    
    This is handy for calling `+[NSArray arrayWithObjects:count:]`.

commit e8102aa561391dc57cbe00fa0aaf0d11b830d453
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 23 20:00:30 2016 +0200

    Convert Number to NSNumber when an object is expected

commit e613e73e98dbe623f3258117431351ca89b51c26
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 23 19:58:43 2016 +0200

    Fix scoping of `singularTypeById`

commit 5dfd767b7b82f7fc641ba5ea01e6a7d4f3e05d93
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 22 02:10:41 2016 +0200

    Fix crash when the global access handler throws

commit 4581b69f3cafcb3fdb9ba6f15d8142322239e65a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 22 01:15:49 2016 +0200

    Add API for dynamically generating global variables
    
    This is handy for implementing REPLs.

commit 6c973af84825157bcb5a59793ce8be54cdee1b28
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 22 01:10:44 2016 +0200

    Add Duktape API to be able to provide accessors for globals
    
    Could not get this working by using a Proxy object and messing with the
    global object's prototype.

commit c6d88a1d27fc1eb4a0ebcf4e34ef87f9fddd6383
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 16 00:56:08 2016 +0200

    Fix relocation of LDRPC with FP/SIMD destination register

commit 990dce1a3696930e0804b936c1f2ca5f1b92ff7f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 16 00:36:58 2016 +0200

    Add support for emitting loads and stores of FP/SIMD values

commit 21fc1ff9778f63efcaf2417302d35e9805767884
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 15 17:59:43 2016 +0200

    Avoid clobbering `ebx` as it might be used for PIC

commit 422c197f811680ef002e6869d1679b197b9c860f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 14 01:34:20 2016 +0200

    Fix crash on teardown
    
    Turns out that V8::Dispose() may ask us to perform a task on our
    background thread.

commit c7b33d40bf887ef77641357b862d6567a53e268b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 13 23:55:55 2016 +0200

    Fix variable shadowing warnings reported by MSVC

commit da164d1b00906cf586bef076c1e88006465ffbeb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 13 16:34:38 2016 +0200

    Fix thread enumeration on Linux/x86-32
    
    We forgot to tell the compiler that we're clobbering `ebx`, meaning it
    was allowed to allocate that register to hold one of the values that we
    needed to pass. Oops.

commit eedb7e809ebcf9f6fa3746386dbc00908a693e8f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 12 03:06:35 2016 +0200

    Upgrade Proxy traps to the final spec

commit b1dfaef6d3e2f214161f54ac7e803dbac85cb4b6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 12 01:23:32 2016 +0200

    Fix test expectation now that V8 has better stacktraces

commit 7aa4bb8c31489cb37be425ddea09d2d50a3a260a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 12 01:15:33 2016 +0200

    Fix Symbol API usage in the Thread module
    
    The API now requires a Context to be entered.

commit 040d2fa697d893c65515f6f75c35cbc55d4ac0fd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 12 00:48:02 2016 +0200

    Update the V8 flags

commit 4c567ab4337d5fd0adb992ad8f6360f6df4646bb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 11 23:12:14 2016 +0200

    Update to the V8 5.x API

commit b5755c425e2b430a59b0a99897003a6e30b492dc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 10 21:52:44 2016 +0200

    Tweak the test paths to make it easy to run all Script tests
    
    The newer GTest only allows either the exact path to a test, or to its
    parent. So we should avoid having a level of nesting per test for V8 vs
    DUK.

commit 6a61662951c953252e42e74e8c5fda063e623ee8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 8 04:20:34 2016 +0200

    Fix test name collisions
    
    Newer versions of GLib don't like them.

commit 0ff55c12b3684890f31d16478f8a2348f95818e4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 5 23:21:15 2016 +0200

    Fix slice allocator enable logic
    
    It got inverted by the previous commit, plus we also want to disable it
    when ASan is enabled.

commit 16895937c75c6fb88ceb25f8578c36a555f15838
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 5 23:12:21 2016 +0200

    Add support for running tests with AddressSanitizer

commit 97b6e506ff21f12376a5585bd3e55bc3912bb95a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 5 05:30:02 2016 +0200

    Fix warning regression

commit 9c62ddff1e23c68383a7f5ea3ae2c0963f8d8324
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 5 05:11:11 2016 +0200

    Fix use-after-free of the WeakRef callback

commit 6bc9d3a25d6c50fc2fa65343c46b990e83550c5c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 4 03:10:32 2016 +0200

    Fix use-after-free bugs in ModuleApiResolver
    
    Duplicates would result in the old value getting destroyed, and as the
    key was borrowing memory from the value (to avoid an extra copy) this
    would then result in a UAF whenever a duplicate was encountered.

commit 5279d18f693354f5cb2fa603d7e3038817be4d01
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 4 02:46:19 2016 +0200

    Fix ODR violation detected by AddressSanitizer

commit 0b98ff111316b63aefbb16c7610bb94af99991a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 3 21:27:48 2016 +0200

    Clear exception handler as part of unload
    
    Instead of waiting until the dispose phase, which happens right after
    unload.
    
    This makes life a bit easier for exception handler implementors, and
    avoids the risk of masking bugs in our unload logic.

commit b46b8b3c93044e30beb4eb3703cff619c5bfa2ea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 3 02:31:52 2016 +0200

    Port JS engines to the new Interceptor `flush()` API
    
    This means we defer the script unload until we are positive that we won't
    be receiving any more callbacks from Interceptor, and our listeners have
    been released.

commit 370effa47158a0dc5965fa160bd85684a42d97a3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 3 02:26:37 2016 +0200

    Make `gum_interceptor_flush()` non-blocking
    
    Now returns a boolean indicating whether we succeeded in flushing any
    pending work. The application should keep calling it until it returns
    TRUE.
    
    The previous implementation was, aside from being quite dangerous wrt.
    deadlocks, quite broken as it wouldn't wait for anything if another
    thread had begun a transaction but not yet ended it.

commit f0828fef7738f314d5dc255e0e50651a3f4375b4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 3 02:20:59 2016 +0200

    Ensure we only call `flush_notify` once
    
    There is a chance that another thread, e.g. an exceptor callback, grabs
    the lock right after the first callback has been queued but not yet
    processed by the JS main context.

commit 4a63893c3677d689dabbc7015557cec4019a229d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 2 22:52:55 2016 +0200

    Avoid pinning twice if timeout was already cleared

commit 5421c70dcdf4e322aa4f7ecd3ef82633c6d14974
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 2 21:41:38 2016 +0200

    Keep timers until everything else has been flushed
    
    Otherwise we risk deadlocks if a timer is scheduled to `Script.unpin()`.

commit d42e3fdf49c98a4891697e7ec3e5c07c66dfd0f1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 2 02:57:30 2016 +0200

    Add a `dealloc` event to the ObjC proxy API
    
    This makes it possible to know when a proxy object is dead, e.g. in order
    to unpin the script.

commit db393b4c7dfdab226f9b79f97473d5903fb7d82f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 1 23:22:14 2016 +0200

    Get rid of gum_script_scheduler_flush_by_tag()
    
    We no longer need it now that we have fully asynchronous unload logic
    in both runtimes.

commit 287fac6c72ef3182a50e70d47831322557776f01
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 1 23:11:37 2016 +0200

    Rework the V8 runtime's lifetime logic
    
    - Make the unload logic asynchronous and introduce the notion of a usage
      count, which asynchronous internal APIs now make use of. This provides
      a clean way to extend the script's life-time in case an `unload()`
      request comes in the last moment.
    - Add `Script.pin()` and `Script.unpin()` so advanced low-level scripts
      can influence the usage count. The primary use-case for this is our
      own `ObjC.schedule()`, but this is quite essential for any runtime
      integration that requires the script to stay alive until a scheduled
      callback has been executed.

commit f63a87ab73c9fe8bfcc05855ff114d75655478c6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 1 22:24:57 2016 +0200

    Remove unnecessary local variable

commit 002e77010bef4c302e5500f3d3a1c9726f384195
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 1 22:24:43 2016 +0200

    Make the scope pinning logic a bit clearer

commit 6e309611513f4e4e29ff556a3f3c55bca0076907
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 1 22:24:10 2016 +0200

    Fix memory scanning unpin logic
    
    We were unpinning too early.

commit df03e23c7c4cc158ddbff229cbe2577bc3854289
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 1 19:47:02 2016 +0200

    Rework the Duktape runtime's lifetime and locking
    
    - Make the unload logic asynchronous and introduce the notion of a usage
      count, which asynchronous internal APIs now make use of. This provides
      a clean way to extend the script's life-time in case an `unload()`
      request comes in the last moment.
    - Add `Script.pin()` and `Script.unpin()` so advanced low-level scripts
      can influence the usage count. The primary use-case for this is our
      own `ObjC.schedule()`, but this is quite essential for any runtime
      integration that requires the script to stay alive until a scheduled
      callback has been executed.
    - Handle reentrancy by using a recursive mutex.

commit 9b953096e41dfdd292a1bd6194424d824e02a41f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 1 19:36:59 2016 +0200

    Improve ObjC.schedule() to keep the script alive
    
    This uses the about-to-be-implemented pinning API.

commit 2a3ce822e7a12f946e0207a5353aa94068386d7a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 1 19:35:08 2016 +0200

    Add test for ObjC.schedule() lifetime issue

commit 707b2ca5087f47c47680621cde1a2d4f529dc432
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 1 19:22:23 2016 +0200

    Fix leak of GSource for the scheduled callback object

commit 15dd8bb82e8d554b4b906fc6662cd402a3067386
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 30 02:40:37 2016 +0200

    Remove obsolete kludge

commit c4df184b27a4514374cd30035d9eafe2020377a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 30 02:40:06 2016 +0200

    Simplify stashing in the Duktape preemption patch

commit 80db5816e69fc6d767bbe32976ada737e727fd48
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 29 17:56:47 2016 +0200

    Improve the Duktape preemption patch to fix lifetime-issue
    
    We need to avoid `value1` and `value2` getting GCed.

commit 30ecc30fd14eea33c62eafa29aad37c7a6e9ca77
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 28 17:03:57 2016 +0200

    Add missing includes to the umbrella header

commit 8ee8a8d03d2d570fb2e3e25d1d5e5ad905711381
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 28 03:45:25 2016 +0200

    Fix regression in LDR literal slots alignment logic
    
    Slots should obviously be padded if /any/ of the literal references is
    a T1 LDR instruction, and not just the first one.
    
    Caught by the Interceptor/Darwin tests on 32-bit ARM.

commit 9eda4e4d816f359a3b196ca12f36383374252676
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 27 00:37:11 2016 +0200

    Fix build regression

commit 8f73aba66f743f07a369d36b2d7b26650660e15d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 23 02:51:00 2016 +0200

    Remove the dangerous Kernel.enumerateThreads() API
    
    It never really worked well, and beside being prone to cause kernel panic
    it also just sent an iPhone 5S on iOS 9.1 into bootloop land.

commit 87d16ae15e14b378384fa7e5a0e2cada42999975
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 23 02:43:52 2016 +0200

    Implement the Kernel API in the Duktape runtime also

commit 55bd7d1fe2830063a4e1538ee6c1f24739013495
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 23 02:43:24 2016 +0200

    Fix API usage in test
    
    The `length` argument should be unsigned.

commit ac966aba9a68b4418720db422a54dac0ef33d176
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 23 02:40:48 2016 +0200

    Clean up some cruft in the Duktape runtime
    
    - Get rid of the unused/misused GUMJS_RO and GUMJS_RW.
    - Move GumRangeDetails handling to the value module.

commit 4d79895df552f0ef0dbfa84aafebd3c44f220d53
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 23 02:37:29 2016 +0200

    Improve naming consistency

commit 316a10f4411f39c489aca7cbc83d53e152a4884b
Merge: 00d7513b 3c5088cf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 20 02:22:48 2016 +0200

    Merge branch 'feature/preemptible-duktape'

commit 00d7513b6f45b766aa55e92dfc2453d7367d8d76
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 20 02:22:38 2016 +0200

    Make sure we're holding the lock while releasing the callback

commit 3c5088cf1b90fcdb8283ac70952297c0e7b8f51c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 20 02:21:00 2016 +0200

    Make the Duktape runtime preemptible
    
    This means we can let go of our JavaScript lock while for example calling
    out to a potentially long-running `NativeFunction`, and avoids dead-lock
    situations where the called function needs a lock that another thread is
    holding while trying to get the JS lock (e.g. because of an intercepted
    function).
    
    Our V8 runtime already behaves this way, and with these changes plus our
    Duktape patch we finally have the same behavior on the Duktape runtime.

commit 79cd01d694eda61a156fe914c151b23a948622d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 20 01:15:18 2016 +0200

    Add API to be able to save and restore Duktape's native thread state
    
    This makes it possible to suspend execution and let another native thread
    execute JavaScript in the meantime.

commit 84f8fccd616f56cfd0c33a199ebf11658a991792
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 15 17:15:16 2016 +0200

    Revert accidental format-string change

commit 0a85e4b0a840bc4b0c46ba575752a48bd730a344
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 15 17:12:07 2016 +0200

    Unregister Objective-C classes on unload and GC
    
    This also has the pleasant side-effect of crashing earlier than when
    methods are invoked after NativeCallback objects are gone.

commit efff27b4f0dafa0921e163e6dbc088259e177e13
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 13 22:17:54 2016 +0200

    Fix Android regression introduced in 6e0093e
    
    We should assume that we're in an app process if readlink() fails.

commit 202b4bf1500429638938431f61f15e16c292d4b9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 13 21:07:56 2016 +0200

    Add support for mapping into iOS Simulator processes

commit 722e9cdfaa3ede3cea51c90f315c544b401fafbd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 13 21:07:03 2016 +0200

    Improve module resolving on iOS Simulator processes
    
    This allows modules to be resolved by their sysroot-relative path also.

commit 69d5b527c3f9447192a04efad8fbae5f9eec93da
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 13 21:01:03 2016 +0200

    Fix resolving of reexports during mapping on modern Apple OSes

commit 504c938e5b5e0dccf0171bf4a31ff0fd44f502db
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 13 20:57:53 2016 +0200

    Expose the Darwin-specific module resolver API
    
    It is very useful for out-of-process use-cases, like Frida's injector.

commit eee8f43e996e0a8bf08a3816b792b3a886b874ba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 13 20:44:44 2016 +0200

    Replace reexports checks with a slightly more portable approach
    
    We have the same issue on newer versions of macOS, plus we also have
    the iOS Simulator to worry about.

commit 668436716444f16fdfef26f3aa033aef7105908c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 12 22:53:50 2016 +0200

    Fix bug preventing registers from being written in the V8 runtime

commit 048a20a0d7164a73f868cf6d05dfd68da6e1fdd1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 11 17:36:38 2016 +0200

    Add support for including type hints
    
    Whereas 'object' still translates to @, specifying { type: 'NSError' }
    will include a hint, i.e. @"NSError".

commit ea47f830c5fa881e9f0f101532d3bb9192fe2519
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 11 17:34:44 2016 +0200

    Add support for properly declaring `void *`

commit ea8b35b24a8559f191a510c59879dec11cb3ebf5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 11 17:34:22 2016 +0200

    Make ObjC.Block's `types` field public
    
    This is very useful for reverse-engineering APIs.

commit 9495d93a1aabab47ae5cc840727765dc24bda090
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 11 17:32:52 2016 +0200

    Fix parsing of type hints
    
    This long-standing bug was left undiscovered because the type with the
    hint was usually last and there was no data following it to choke on.

commit f3d462e7add099e5012db2761081235a18536727
Author: s1341 <s1341@users.noreply.github.com>
Date:   Mon Jul 11 07:04:51 2016 -0400

    Fix stack offset when getting/setting stack arguments (#169)

commit cf85df458aab98fd37e799741e94e51a4d2fceee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 7 03:50:52 2016 +0200

    Fix warning regressions

commit f375bb3172f516fa0da8e604678c75f06cb4a77a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 7 03:49:51 2016 +0200

    Update the hexdump() implementation to match the test

commit 801e6b13a46b608e4344aa3b9ff3f0d09be3e583
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 7 03:49:04 2016 +0200

    Improve the hexdump() test to reflect the desired output
    
    The recent changes broke alignment and left the test expecting the old
    design.

commit eb4f43dfa2318140b4f5a7204ba0d32dd5c12916
Author: Itay R <itayro77@gmail.com>
Date:   Sun Jul 3 15:19:56 2016 +0300

    Remove "0x" prefix from hexdump offsets (#168)
    
    hexdump() is now reversible with "xxd -r"

commit 1c37141a2b1458862143c45ae14637e58ca37644
Author: s1341 <s1341@users.noreply.github.com>
Date:   Wed Jun 29 10:17:15 2016 -0400

    Enhance mips fuzzy backtracer with more branch-and-link instructions (#167)

commit 99c3070d3035b9da114273a09cb5c57c0f1e4d67
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 29 04:03:04 2016 +0200

    Fix ARM build regression

commit 9c803172a92f2cbb9c812208d2c1b6551f9ab82e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 29 04:00:47 2016 +0200

    Fix style inconsistency

commit fa5ea180a1f9ccae708ea68fd150e1af2e582a38
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 29 03:49:49 2016 +0200

    Fix source map regression caught by test

commit 5214f3140ae95a90adeb8eae4df16549e2db3c54
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 29 03:45:59 2016 +0200

    Add support for accessing Objective-C instance variables
    
    Accessible through the `$ivars` property, which keeps metadata lookups
    to a minimum by resolving instance variables lazily.

commit 7571819fa85e205d11f136368d90b3c757268efe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 29 03:44:16 2016 +0200

    Omit "prototype" prototypes from the ObjC.Object keys() query

commit f3b30263eb89494fa061519d6bd7f7fc7e5e3684
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 29 03:42:31 2016 +0200

    Make assign-once variable const as it should be

commit b15eee9091d8a1661ffc0f79eb2a6bcdce131656
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 29 03:41:20 2016 +0200

    Forward `prototype` and `constructor` properties

commit 220663508ebb22cdf9feff2d966826e528755a30
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 29 03:39:13 2016 +0200

    Fix confusing naming

commit ea5f4d6b49528c59ba92fd8ec19341dc58d41be5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 29 03:36:52 2016 +0200

    Avoid swallowing exception when a Proxy object misbehaves
    
    The `getTypeName()` call on the stack frame may end up reading from a
    Proxy object that misbehaves, resulting in an unhandled exception getting
    swallowed.

commit 6753c1e0c579c20b96f09d79b3891454bf6f94d7
Merge: cf9e1929 0c4ffe3c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 27 12:58:12 2016 +0200

    Improve MIPS support

commit 0c4ffe3cabb064401490f57dfdfabb19bb0c1260
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 13:57:14 2016 +0300

    Fix style issue

commit a02c2e9cef0e4efde95f96dc7ba4b6b4863ca8e5
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:22:25 2016 +0300

    Fix missing semicolon

commit 11208f9e762969f865430d9e8ad7362d76b6d554
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:11:11 2016 +0300

    Add mips b and beq instruction writers

commit daa2dd59ee5bfdcc58aec33a390bf56b6546dafe
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:09:33 2016 +0300

    Always call through t9

commit 6ff8ef6d9baff74d2dd8a651da9a5e4b72888cf1
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:08:31 2016 +0300

    Rename 'mov' to 'move'

commit da8a7d6612871efc9e486c03bb7cac32ce7a8496
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:07:26 2016 +0300

    Add check and mask for INT18

commit cf9e1929fad65809fb27a70294a55fde7f3461e4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 23 23:39:34 2016 +0200

    Fix arm64 regressions caused by mislabeled define

commit 871be223050f3a0cc74820127a2777cc79522b16
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 23 23:38:47 2016 +0200

    Fix warning regressions

commit afa316b7f0ea7b0968c837bd616dc6ce167d0b47
Merge: 7a3cfa04 24cfc3d9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jun 23 13:23:11 2016 +0200

    Merge pull request #163 from s1341/master
    
    Add mips support to frida-gum

commit 24cfc3d9b6ec0a092c9ad6a4da584efda95138bc
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 23 13:48:04 2016 +0300

    Add GUM_CPU_MIPS cpu type

commit 1a669e2eda9da7ac819223d390b5994ea2e27fd0
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 23 09:54:50 2016 +0300

    Fix stylistic issues

commit 8e48bf7c6d5d71d6f6ede359dcdc030f4dfcac50
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 18:16:25 2016 +0300

    Make gumjs v8 pkgconfig requirement dependent on whether you're using v8

commit 0bf56ef22719847e8bd4591865de5bd25dc22357
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 18:13:45 2016 +0300

    Get rid of debug 'dump' function

commit 96966b5ef7fb57202bc32cc6baec2d6064d8f451
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 17:40:55 2016 +0300

    Clean up commented out code

commit 8d30946bd3068088350abdbf18fe038b2a90e4de
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 17:33:11 2016 +0300

    Fix lines greater than 80 cols

commit 889de881dd23ae582455a8b0d4da99e64c7caa01
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 17:03:03 2016 +0300

    Use /etc/passwd instead of /etc/hosts as the latter is not actually required to exist (and doesn't on my mips test hardware)

commit 2b2ecbbe901ca52133f424a9ca6bb9920d48469e
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 17:02:26 2016 +0300

    Disable socket_endpoints_can_be_inspected for now on mips

commit 0a86bb676094c2d0d5933f24160741347501faba
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 17:01:50 2016 +0300

    Disable process_threads_can_be_enumerated for now on mips

commit 63392f5f3923fc3dac896b4d464e721ced41b9c4
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 16:24:14 2016 +0300

    Fix exceptor on mips to set t9 for PIC code

commit 62dcd4346fce65b42520938d608391f388f958d9
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 16:23:43 2016 +0300

    Add CpuContext accessors for mips

commit f305dd1e90638c5de3c5edb6e839d5b64c858cb8
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 16:23:17 2016 +0300

    Disable backtracer test on mips for the moment

commit 5e6cec9a9be368d659d42e2da51e1496bb876909
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 15:44:11 2016 +0300

    Disable backtracer tests on mips

commit 5740204f7e4f73aba537fca0890d7cd0e07d6a2b
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 15:43:47 2016 +0300

    Disable process_threads test on mips till we implement getcontext/setcontext

commit 1cbb6361d108260e7bea64c748922ab32d2bddfa
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 15:40:29 2016 +0300

    Wire up gum_mips_backtracer for fuzzy backtraces

commit 02a31b09b5d7b6fe609f8c48b84be274ef8ec67a
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 15:39:52 2016 +0300

    Fix sp retrieval on mips

commit 923f2e60dc6aaf40011696ef6501d020715ba2bf
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 22 15:38:16 2016 +0300

    Use t9 as jr register, so that PIC works correctly; Add t9 restoration to invoke_trampoline

commit 3ae2774c4d4ac02ee304ebceb345a8c6d47a2389
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 20 18:06:57 2016 +0300

    Match uClibc when determining system module

commit f2d7c13e7dd4999893ea60a4ae89cbe41e633f24
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 20 18:06:26 2016 +0300

    Bump the code slice size on mips

commit 427ddc33d91f52934997f39871104c0e0bb85066
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 20 18:06:07 2016 +0300

    Working interceptor on mips

commit b9d1499ec31811d4f8f324834b4f09e991a0f17c
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 20 18:04:25 2016 +0300

    Set capstone mips mode to 32bit

commit e7c88ae74d01ae9c8a3290b318c5cf674ce786b7
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 20 18:02:36 2016 +0300

    Don't use the map on uClibc

commit 65086c5299fc56691644ee465f9c663d73cd6fab
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 20 18:02:00 2016 +0300

    Turn on cache clearing for mips

commit 38f48d7cb540c0fccc386dda1ab485f4e6d66591
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 20 10:08:06 2016 +0300

    Add target/specialfunctions for mips

commit 387fe6e834d5bca163c8fa0b4e310dae7298b23b
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 20 09:48:11 2016 +0300

    Add defines for GLIBC and UCLIBC

commit 7a24a1a9bafc6abfc2b695284745754fb2370f9f
Author: s1341 <github@shmarya.net>
Date:   Sun Jun 19 19:07:39 2016 +0300

    Make sure that we have an l_name before trying to g_file_read_link

commit 14177767904bf17f02f9e076b76c67b8378555aa
Author: s1341 <github@shmarya.net>
Date:   Sun Jun 19 16:30:50 2016 +0300

    mips reader/writer/relocator/interceptor compiling

commit c957dafa1239d5e3a9400bc52585d7c293bb10a8
Author: s1341 <github@shmarya.net>
Date:   Sun Jun 19 16:28:26 2016 +0300

    Change order of mips registers in GumCpuContext to ease prolog/epilog code

commit 21f0e4ee76be7dea22b4709771767b21c3df3250
Author: s1341 <github@shmarya.net>
Date:   Sun Jun 19 14:31:32 2016 +0300

    Mips registers in CpuContext should be 32bit

commit 43528531d7315d8a9fb721361fa887508ad758fe
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 19:39:45 2016 +0300

    Fix GUM_INT28_MASK

commit ffb1895ea66e892426f66bf73e881eb5ba863bb7
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 19:39:19 2016 +0300

    Add GUM_IS_WITHIN_INT16 and GUM_INT16_MASK

commit df54ae5c3851245201d159dfd5c6e3f08814ff1f
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 13:49:05 2016 +0300

    Add stubs for stalker on mips

commit 4e367f95d109a2dbfc576882d4db9c80d83f99af
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 13:48:07 2016 +0300

    Add gumspinlock-mips.c

commit d52716bde20584d6630597742b423db17c71ec08
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 13:40:53 2016 +0300

    Implement backtracer for mips

commit e7bd7163e9aad1e1548e310ce07083ff91093042
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 13:40:08 2016 +0300

    Add arch-mips/backend-mips to makefile

commit 2ddd3a8b8182a67ffed6f24ad53ed1a88bcb7b7f
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 12:27:56 2016 +0300

    Add dummy getcontext/setcontext for mips

commit ed5655f83edb430852a3d1c13a1edb5c42bf4d28
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 12:06:43 2016 +0300

    Add regs parse/unparse for mips

commit bbf18a651bb3ef8386372656ed02c5c4b74ca598
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 12:05:53 2016 +0300

    Add register_name for mips

commit e2815300fec28be64eb66c9f9aa9d76ab74816ef
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 12:05:25 2016 +0300

    Add GUM_TEST_SHLIB_ARCH for mips/mipsel

commit 8869154f1206847ac4ccb12b6b0f54c1ed1b2e2a
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 12:04:36 2016 +0300

    Add CpuContext unpacking for mips

commit 5adea1a833f9452c792fe2e31ae0a10edf15fa17
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 12:03:08 2016 +0300

    Add GUM_SCRIPT_ARCH for mips

commit 4b95007eab5222662d0d60da10aebae3445f5c78
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 12:02:39 2016 +0300

    Add GUM_DEFAULT_CS_{ARCH,MODE} for mips

commit b862d764b036dfd7d73d9934b536d0a5ffb6841e
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 16 12:01:32 2016 +0300

    Get rid of unnecessary typedef

commit fa3f383a9d36ca49a2e00b1d5314fc37f61090ed
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 9 16:15:48 2016 +0300

    Fix error text

commit 9326b3866fc302025fc863b43c4583d1eb7bfc68
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 9 16:12:11 2016 +0300

    Add missing #error Unsupported architecture

commit 836529bcc531b1f01c452533bc7e4001bf6e1aac
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 9 16:11:33 2016 +0300

    Fix access to MIPS registers by parse/unparse

commit 4c7249a2721a666eeb825d817b838f4f4e50c234
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 9 16:10:27 2016 +0300

    MIPS registers should always be 64bit

commit 367ffe4e56289eb7dbe672c661e8beca7291f1b7
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 9 15:33:51 2016 +0300

    Add MIPS support to gum_invocation_context_get_return_address

commit 7b84ebc4b053337fdbf1bb15a6e22f19284c57aa
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 9 15:31:38 2016 +0300

    Add MIPS support to _gum_function_context_{begin,end}_invocation

commit 242f56cbdcd67bcf58bc23f098f36abd3d592f5d
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 9 15:27:42 2016 +0300

    Add MIPS support to exceptor

commit b0de633506a27e9dbf282835ee4752f32cb9e460
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 9 15:20:14 2016 +0300

    Add MIPS GumCpuContext registers

commit ebaf6a1ff6a2f8a6b3d9c45687a22b85ab97105b
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 9 15:17:16 2016 +0300

    Add HAVE_MIPS and ARCH_MIPS preprocessor defines

commit 7a3cfa046c3b70efe775747b8cc9156284d5e6d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 22 03:32:00 2016 +0200

    Handle Objective-C methods returning a struct in registers on x86-64

commit e201b3a6d8c570bce4d520742d0f8158277a8523
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 14 00:36:05 2016 +0200

    Make Interceptor's mutex recursive
    
    In the unlikely case that someone replaced one of the functions that we
    use, especially during our commit phase, we need to be prepared for
    reentrancy.

commit d418257a189782bbdfefa1ed31de5935bf6c4143
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 14 00:33:52 2016 +0200

    Ignore the current thread while committing the transaction
    
    This avoids some noise in case the APIs we use are instrumented.

commit 696feefb103be8b5eedfc080ebd9589fee7874e2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 13 22:00:16 2016 +0200

    Fix the version test

commit 503a11577979bbfc0ab13a12e002394668925e5a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 13 22:00:06 2016 +0200

    Initialize the runtime natives too

commit cb2e95f6ff846e0ba935a18e9bed5aec857f09a2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 13 21:48:02 2016 +0200

    Use a lower-level API to get the Android version
    
    This is just so we can run before the VM has been fully initialized.

commit 6e0093ed556a3d24dd45a0d464cbf626bd9ff2c7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 13 21:46:16 2016 +0200

    Improve the Java.perform() logic
    
    - Improve robustness in case of exceptions.
    - Don't try too hard to get a class-loader when process is not an app.

commit 299a3cd2e4bc49b6571969afa789f90d5da848f8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 11 23:45:02 2016 +0200

    Add boilerplate for an Android Java interop test harness

commit 8f1a897954eb6c3561e1fb23e24a6de6b65c3d06
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 9 17:54:36 2016 +0200

    Make it possible to disable the language bindings

commit 0161aaa756969946bb94649680dec09392af6c1c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 9 00:45:00 2016 +0200

    Expose the raw handle of Objective-C methods

commit 9b9a47ceea99558e156229a777ff86431591f9d7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 7 21:41:10 2016 +0200

    Use the proper fpret version of objc_msgSend() variant when needed

commit 33462f83869568d6977ea89952fca1f8ff170216
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 7 21:08:14 2016 +0200

    Fix handling of Objective-C functions returning structs

commit dc766efc52dd2be2ea5c37f1d713441126e2480f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 7 20:42:14 2016 +0200

    Add failing test for Objective-C method returning a struct
    
    Passes or fails depending on the architecture.

commit bf6d87139f30fbbbebb0afa703afd36e6881d28d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 7 14:48:48 2016 +0200

    Add support for resolving methods on minimal Objective-C proxies
    
    For example TrustKit's `TSKNSURLConnectionDelegateProxy` only implements
    `respondsToSelector:` and `forwardingTargetForSelector:`, but does not
    implement `methodSignatureForSelector:`.

commit 3968dd1da074a0f761f85fc5dd0e85584f86b236
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 2 21:46:18 2016 +0200

    Fix the vapi

commit 5da1fa9d45d7f2a77d815d2725af1c12d4b0be87
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 2 19:31:14 2016 +0200

    Add support for compiling and loading to/from bytecode
    
    Only supported in the Duktape runtime for now, but the V8 runtime has all
    the necessary plumbing, making it easy to add this later. Once we upgrade
    V8 we should be able to implement it there by using WebAssembly.

commit 421b127a803a9c285c92d026e3e803bcf0cd2fbf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 2 16:04:25 2016 +0200

    Include error name in RPC error replies

commit 30356f5f41748b84425d7eaf1c2436e6bf709680
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 2 13:36:14 2016 +0200

    Add stack trace to RPC error replies

commit 9a626fc063d117d0b4c02404993cf28da9878527
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 28 18:20:20 2016 +0200

    Fix variable declaration that was meant to be `let` not `const`

commit 43689c689f20f2f8c61f32294875648c902e291b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 27 21:18:57 2016 +0200

    Improve ART support by taking OS version and arch into account

commit c26377310d24be23cf79b00b1807eb2345791f15
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 27 15:31:38 2016 +0200

    Fix "Java API not available" error on Android 6.0

commit c9dc3cba093c2c22f3b01b26f3f4d19bb04b0824
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 27 13:54:52 2016 +0200

    Fix export address calculation for libraries with a preferred base
    
    This is assuming that exports are all in the text section and that it is
    in the segment with file offset 0, which theoretically may not always be
    the case, but allows us to keep things simple.

commit 9b8bf7c88f49ed3949f98b4fdda566f4b5dee3e2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 27 13:47:33 2016 +0200

    Strengthen the export matching test to catch more inconsistencies

commit 01dcca3a988cfb5437e57c79abc17079396c5c31
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 27 13:39:16 2016 +0200

    Fix indentation

commit fc2c301f11f1b3f1332e319bf733adf0929cd46a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 19 18:40:03 2016 +0200

    Fix the return value of Memory.readByteArray() for size = 0
    
    This was correct in the Duktape runtime but not in V8. Oops.

commit ab433f7db5e1e6225f9795a51118fffde68de281
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 19 18:36:43 2016 +0200

    Fix warnings about unused return values

commit 5a5f97c62043cb54529909bbc3a2d597107d1b24
Author: s1341 <s1341@users.noreply.github.com>
Date:   Tue May 17 10:40:34 2016 -0400

    Fix implementation of gum_module_find_export_by_name

commit 2cba0c6843079f7068b165dbaec049f28cf13a66
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 17 16:36:29 2016 +0200

    Fix crash when closed File object gets GCed

commit af28b51b611929ee35ca92c9be515972ace2258e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 14 00:44:17 2016 +0200

    Fix setTimeout() so the delay is optional and defaults to 0
    
    This is required by the browserify shim.

commit 3c65ffe54541d978d7653705208a6741566aaac0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 14 00:38:21 2016 +0200

    Only run the malloc vs TLS test on QNX for now

commit d5a2294d544f908dff0b6baba8798fb0c221d0c6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 14 00:37:44 2016 +0200

    Fix warning regressions

commit 26c0dc3edfc61598dc72c7640be86c8d748afe2f
Author: s1341 <s1341@users.noreply.github.com>
Date:   Tue May 10 21:09:33 2016 +0300

    Implement temporary TLS storage
    
    This is needed because malloc() may get called by pthread_setspecific().

commit 59868f5329a200740e552ea21932d92e85614637
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 8 23:45:41 2016 -0700

    Work around warning caused by broken header declaration in dbghelp.h

commit 2845d438b60eff6742f5cb9f8d313daba0e1e6fa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 8 23:44:38 2016 -0700

    Fix page size rounding

commit a63389cf1939eee609908a97e0fac293f8df9d3a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 8 23:44:17 2016 -0700

    Fix shadow declaration warnings

commit 464b47257981bbdf79e7a986a9e80b4552d7bc1f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 8 23:42:51 2016 -0700

    Upgrade to VS2015

commit e7a87678b67f411ef005af6c3fb777a8539ef929
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 21 21:19:20 2016 +0200

    Add ObjC.registerProtocol() for dynamic protocol creation

commit ae9de630d50db404f1597606859da4e5fff6e48c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 21 21:17:28 2016 +0200

    Fix handling of class name conflicts

commit 57a006ffe04c50efe1f046d30d068b3bc054de39
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 21 21:15:32 2016 +0200

    Allow proxies to be named

commit c5666c13a2801380a870e8eba38a4c01bf34bda8
Merge: 12fa177e 4e0cf8d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 14 00:03:10 2016 +0200

    Merge branch 'feature/enumerate-darwin-module-symbols'

commit 4e0cf8d31f96e18cad98c7d661712f25ec6d21cc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 14 00:02:47 2016 +0200

    Fix page size computation

commit 52b9c041a925aefa85db3c59770bf8ec7c322615
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 14 00:01:51 2016 +0200

    Add support for enumerating and looking up symbols

commit 12fa177ef1f79194f7fefbecc2f1f779a52e2b8b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Apr 3 15:27:12 2016 +0200

    Downgrade to Capstone 3.x for now
    
    The `next` branch has some non-trivial issues preventing Stalker from
    handling certain instructions. According to @elvanderb this is not likely
    to be resolved in the near-term, so for now we will revert to 3.x, as we
    don't really depend on any 4.x features.
    
    /cc @aquynh

commit 21f2698122dfb6c73a3611dae50d4b5a19ae60b4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Apr 3 15:23:18 2016 +0200

    Only run the 32-bit PC thunk tests on 32-bit for now
    
    Still need to improve X86Relocator so its input pointer and PC address
    are decoupled, like it is on the other architectures.

commit ef013387ac16335618be251be9d744f2324ebae5
Merge: 6c7a2d46 e11869b6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Mar 31 16:02:03 2016 +0200

    Merge pull request #156 from s1341/master
    
    Fix missing include on QNX

commit e11869b66ec10566b56dc602b0caa6ccf9201865
Author: s1341 <github@shmarya.net>
Date:   Thu Mar 31 16:26:01 2016 +0300

    Move unix.h include to the correct file

commit 4e99c6c13e30eeb8d5005e15919f2fee8e1ee5b3
Author: s1341 <github@shmarya.net>
Date:   Thu Mar 31 14:07:06 2016 +0300

    Fix missing include on QNX

commit 6c7a2d46c9b279f0aedadd452736535e9d3c574a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Mar 30 22:49:05 2016 +0200

    Tweak GumJS to be self-contained
    
    - Include gum/gum.h so `gum_init()` is always available
    - Depend on json-glib-1.0 for ease of use

commit a4ef79b8a25101c2b9cc41faf918e027e542d662
Merge: cc4f5757 8fdfe31d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Mar 24 16:22:46 2016 +0100

    Merge pull request #155 from yusitek/master
    
    Check method type just for the invoked method, instead of method[0]

commit 8fdfe31d592717b91208db4fdac5f080bad82d59
Author: zhiwei <wei@yusi.tech>
Date:   Thu Mar 24 16:47:44 2016 +0800

    Check method type just for the invoked method, instead of method[0]

commit cc4f575769764a3abe90c374b8f1a01b5219103d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Mar 20 22:44:19 2016 +0100

    Fix deadlock on unload
    
    We should flush our main context so cancellations are processed before
    waiting for in-flight scheduler tasks to complete.

commit 024fcd513647247614a59f27fff05e442575951d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Mar 18 02:24:44 2016 +0100

    Fix build regression

commit ae58247098963893ff9cb733c558c0de8cbb976e
Merge: 755f1c87 b37441f3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Mar 18 02:06:34 2016 +0100

    Merge pull request #154 from frida/feature/streams
    
    Add stream APIs for working with GIO streams

commit b37441f34a8473dcc8de5aebcdc00727de23dee1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Mar 18 01:54:27 2016 +0100

    Add stream APIs for working with GIO streams
    
    For now we only expose constructors for the lowest level streams that
    allow working with file-descriptors (UNIX) and HANDLEs (Windows), but
    the JavaScript wrappers can obviously be used with any GInputStream and
    GOutputStream implementation.

commit 755f1c87889e7e156f4be4c019300a14e6912d19
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Mar 17 03:16:37 2016 +0100

    Add API for scheduling asynchronous jobs

commit b8e3734cd290e6a60e388d9eb70b6e01aed77314
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Mar 14 22:52:16 2016 +0100

    Fix warning

commit 7132cf139faf9ec20de8dcef6716cdca6841390c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Mar 14 22:29:48 2016 +0100

    Add support for the new task_for_pid(0) method on the iOS 9.1 JB
    
    Untested but so easy to implement that it would be worth trying out if
    I get my hands on a jailbroken iOS 9.1 device.

commit 19db35d15ee70665f6d4a9552a62efc6a609e694
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Mar 14 22:09:30 2016 +0100

    Fix behavior of Memory.readUtf8String() when a size is specified
    
    The optional second argument was meant to be the size in bytes, not the
    number of characters. Presumably nobody is using this considering how
    broken this API was.

commit 83d7f2d5b911f4d203dc3fe4347cb6ed0638963c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Mar 14 22:00:36 2016 +0100

    Fix indentation mistakes

commit a0b5acf270ff416200d40d7b717cb624de48a4e3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Mar 14 21:54:02 2016 +0100

    Fix handling of wrapper objects in `retval.replace()`
    
    It is perfectly valid to pass an object with a `handle` property anywhere
    a NativePointer is expected. A typical example is `ObjC.Object` wrappers.

commit a5398c37fea033da2e9830352ea27365ae153298
Merge: dc8eed6c 9af222c6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Mar 13 21:13:42 2016 +0100

    Merge pull request #153 from s1341/master
    
    Implement enumerate_threads and modify_thread for qnx

commit 9af222c63d0ad01b29e63fa259c92de8a5438879
Author: s1341 <github@shmarya.net>
Date:   Sun Mar 13 11:10:51 2016 +0200

    Fix style error

commit 1bdeb996b41ade20e401dba99b545163c7508638
Author: s1341 <github@shmarya.net>
Date:   Tue Mar 8 18:02:13 2016 +0200

    Implement enumerate_threads and modify_thread for qnx
    
    Currently this implementation uses a vfork to spawn a new process which can then inspect the threads of the original process, as inspecting the currently running process with procfs is broken on qnx

commit dc8eed6c0f86fac9d7714e5045d25934d0c55d8a
Merge: 2781c06d dea0ac62
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Mar 7 17:11:52 2016 +0100

    Merge pull request #152 from s1341/master
    
    Don't use cbnz which is not available in arm mode on some processors

commit dea0ac622a428cc547c0c695479a4fefb1e6c512
Author: s1341 <github@shmarya.net>
Date:   Mon Mar 7 16:28:25 2016 +0200

    Add cc to clobber list

commit 41d8b8867fdb5c54b4c28e5e51c0ead1bc3bc167
Author: s1341 <github@shmarya.net>
Date:   Mon Mar 7 14:27:05 2016 +0200

    Don't use cbnz which is not available in arm mode on some processors

commit 2781c06d49934216627d2b5b5f122f3d4fa1ebcd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Mar 7 14:01:09 2016 +0100

    Allow passing a NativePointer to hexdump()

commit d3748ce2d86cc7cab534926ec570b7b0f85b2643
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Mar 7 02:40:50 2016 +0100

    Add simple hexdump() API to the Script runtimes

commit 38eea3e7c7623ff7b818fac27356395d3b685d2c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Mar 7 02:40:02 2016 +0100

    Simplify the ifdef logic a bit

commit 5eea8342ff1da91ca17e7e5c9a7d93db4838594c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Mar 7 00:20:25 2016 +0100

    Make the Duktape runtime's CpuContext serializable to JSON

commit 9cebca51ef0964af381b0375d486425c26929abd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Mar 6 21:40:18 2016 +0100

    Fix interception of half-word aligned functions on 32-bit ARM

commit d654588309f66b305d281b3b49ee3fd01448ec7c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Mar 5 20:36:55 2016 +0100

    Don't tell GCC that we're clobbering ebx
    
    We will save and restore it anyway, and as it might be used for the PIC
    register we don't need to worry about our inputs/outputs getting assigned
    to the same register.

commit 56dadd4c58f2342530e79c127912572d1c81e64d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Mar 5 20:24:41 2016 +0100

    Fix thread enumeration on Linux
    
    It seems like the only reliable way to read/write the registers of
    another thread is to use ptrace(). We used to accomplish this by
    hi-jacking the target thread by installing a signal handler and sending a
    real-time signal directed at the target thread, and thus relying on the
    signal handler getting called in that thread. The signal handler would
    then provide us with read/write access to its registers. This hack would
    however not work if a thread was for example blocking in poll(), as the
    signal would then just get queued and we'd end up waiting indefinitely.
    
    It is however not possible to ptrace() another thread when we're in the
    same process group. This used to be supported in old kernels, but it was
    buggy and eventually dropped. So in order to use ptrace() we will need to
    spawn a new thread in a different process group so that it can ptrace()
    the target thread inside our process group. This is also the solution
    recommended by Linus:
    
    https://lkml.org/lkml/2006/9/1/217
    
    Because libc implementations don't expose an API to do this, and the
    thread setup code is private, where the TLS part is crucial for even just
    the syscall wrappers - due to them accessing `errno` - we cannot make any
    libc calls in this thread. And because the libc's clone() syscall wrapper
    typically writes to the child thread's TLS structures, which we cannot
    portably set up correctly, we cannot use the libc clone() syscall wrapper
    either.

commit 722d6bb939bafb84cfdbd4bb2a68b4509576e21b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Mar 5 20:22:40 2016 +0100

    Add two-way conversions for the latest GumCpuContext additions

commit 01c44cab81af31765a4f8c2b1dbe2813852512a3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Mar 5 20:10:12 2016 +0100

    Add missing volatile qualifier

commit 09cd6643996c82e164fef89f927b24ff43bfaf25
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Mar 5 20:08:35 2016 +0100

    Improve the thread enumeration tests and enable them on all platforms

commit b6f0a55e69198d6e3d92d34c06943ee919a68208
Merge: 4df0755d bbad2fc9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 29 11:49:23 2016 +0100

    Merge pull request #151 from s1341/master
    
    Change assertion to if, so that we silently handle some pathologicall…

commit bbad2fc95b341c062738eb4baf6618fb79141c53
Author: s1341 <github@shmarya.net>
Date:   Mon Feb 29 12:46:29 2016 +0200

    Change assertion to if, so that we silently handle some pathologically broken files when trying to enumerate exports

commit 4df0755d75f0eaf94a096da925118656e5757913
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 22:52:42 2016 +0100

    Fix syntax error

commit 6c4db3ff9af9340e77fcd9846a16fe29f4a8ce2b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 22:50:06 2016 +0100

    Soften up a bit on the symbol matching test

commit 2039145709e87d2a31517be32a77a8ee6dce7deb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 22:47:39 2016 +0100

    Fix warnings and tidy up a bit

commit c5368b1a581670ba45b5371152c135f8a99e05af
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 22:44:45 2016 +0100

    Use the correct ELF magic define

commit d7b3575b40d79160e47476564737db5afb05ab8a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 22:39:15 2016 +0100

    Fix warnings

commit 33888e28626c28b2a7ffc7afe3177113450ab454
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 22:39:08 2016 +0100

    Fix silly mistake in the 32-bit code-path

commit e90ea3f21f721bd1406f50796ba566c7eb557f57
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 22:38:41 2016 +0100

    Plug deflector leak

commit 8511b046a29a40066f048d80a6b4571446f34ccf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 22:27:52 2016 +0100

    Improve the deflector logic to retain the code-signing status

commit 9bd28e201af5d3ad38ee8a4f0bcd262dbd183e3a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 18:32:57 2016 +0100

    Fix the dedicated deflector logic

commit 40c3afc2b381fc5fe6950aa83a13115c82ee8d0d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 18:23:55 2016 +0100

    Improve the Interceptor ARM64 backend to use deflectors when necessary

commit 1b6e34a142916affa1a3a114b54b5e4565c90354
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 18:21:57 2016 +0100

    Port the deflector logic to ARM64

commit e56b2e93a5140071474fecd175b839fc4c86fcbd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 18:15:23 2016 +0100

    Improve the 32-bit ARM CodeDeflector to avoid clobbering R9 and R12

commit c7f0d7b76734abb8f145d80ece6840c862ccf991
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 03:39:43 2016 +0100

    Fix calculation of the `sp` field

commit bf7ab3d080f17a3272f39819a092e8ef446f3d08
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 03:39:21 2016 +0100

    Simplify trampoline jumps

commit 90bdaf6cc34a13e123f31ab84f29ce3c05b79a0d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 03:38:05 2016 +0100

    Simplify put_call_address_with_arguments()

commit 028617370bb6614ba81f5376e2a817b27e72f471
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 03:37:47 2016 +0100

    Improve put_{ldr,str}_reg_reg*() to support upper registers

commit f933e5b481b212c9e6faed483715a064c473f73c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 03:35:42 2016 +0100

    Fix gum_thumb_writer_put_add_reg_reg_reg() for upper registers

commit 52870c5f993294954e27b16eedffbd2eb5c60680
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 28 03:34:38 2016 +0100

    Fix gum_thumb_writer_put_ldr_reg_u32() for upper registers

commit 4eb8c197bf0e8a591f18d3b3192fb8509d704fa1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 27 20:01:58 2016 +0100

    Split out the Darwin tests into their own suite

commit be832e74539e5841153076b4cd64153e0c4ed88e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 27 19:22:19 2016 +0100

    Improve the Interceptor arm backend to be able to hook tiny functions

commit 4bc84e957ea19e22412a5cef98aa27b63a004cd7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 27 19:21:48 2016 +0100

    Port the deflector logic to Darwin
    
    Modulo code-signing issues which is still TBD.

commit 62c770596f5c7eb1adcb6284945991ceaf1a82da
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 27 19:20:30 2016 +0100

    Consider trailing alignment NOP part of the relocatable region
    
    An empty function that just does `bx lr` will typically be followed by a
    `nop` for alignment purposes.

commit 34dfbdd6406f42273d10f3b06795a4c74afe8d0e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 27 19:15:16 2016 +0100

    Make internal function static as it should be

commit 456e9a82774ad94797f2f5fd2fa6c5e96682ca90
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 27 19:14:44 2016 +0100

    Improve gum_thumb_writer_put_ldr_reg_u32() to support upper registers
    
    We can emit a Thumb-2 instruction in such cases.

commit 21e8c25103879d853271e9bb1306f4cf2ad0c498
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 27 19:13:49 2016 +0100

    Add gum_thumb_writer_put_{b,blx}_imm()

commit 219d208f3b93eb178048cb1cbb55fa40f7bf46a9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 27 19:11:24 2016 +0100

    Test more problematic Darwin functions

commit ed4a15a191bdde5b5fb922ead6c368bb22dd9e77
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Feb 26 02:19:09 2016 +0100

    Fix regression caused by implicit ref-counting in the finalizer

commit 1f716aad6854e5e85a7764875f5a5d9e8679b346
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Feb 26 02:18:07 2016 +0100

    Fix warning regression

commit 3637ff822333c162e4c7e8cb9c853dfe89d3e3a8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Feb 26 01:35:36 2016 +0100

    Fix _gum_duk_steal_data() for relative indexes

commit 2581c285c721369b5f18b5bb8f83359b96f10c4b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Feb 26 01:26:12 2016 +0100

    Fix race-condition where listener gets destroyed mid-call

commit fa52b9797dfa3127b50fc301c0d697e53fd50a8a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Feb 25 19:48:43 2016 +0100

    Add test for Interceptor race-condition observed in the wild

commit 175cd9657f192b9eda356bef06dbfa9c2218afdc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Feb 25 17:20:43 2016 +0100

    Fix handling of nested Exceptor scopes

commit f293aa2269f483bf58c2c7e6af4c68bfcfbd075a
Merge: 4286fa10 a996cd1c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Feb 25 15:11:43 2016 +0100

    Merge pull request #148 from s1341/master
    
    More QNX integration patches

commit a996cd1c5854beecfa448df3046acc6a1d779af8
Author: s1341 <github@shmarya.net>
Date:   Thu Feb 25 16:06:26 2016 +0200

    Fix style

commit 0ce844ca34015f521e1629d39d94ffab10c7b933
Author: s1341 <github@shmarya.net>
Date:   Thu Feb 25 16:02:15 2016 +0200

    Revert un-staticizing dummy functions; Use a symbol guaranteed to be in debug symbols for functions_can_be_found_by_matching test

commit b7a03d34d3992ee8fd7138604b6b273cc36ee2bb
Author: s1341 <github@shmarya.net>
Date:   Thu Feb 25 15:34:24 2016 +0200

    Simplify the QNX sigsetjmp kludge conditions

commit 9b50b59544beb5240a2137c6ed2253091971dc22
Author: s1341 <github@shmarya.net>
Date:   Thu Feb 25 15:30:56 2016 +0200

    Switch defines checked to be compiler builtin ones to avoid reliance on config.h

commit 538105465361efcd245b656257961ad95555d695
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 24 17:46:48 2016 +0200

    Disable some tests for missing functionality on qnx

commit c4722148a838bd67bf22c9a7d5a1da7f0069d480
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 24 17:45:23 2016 +0200

    Make dummy symbols accessible in script tests
    
    Otherwise the linker prunes the symbols from the executable and the test fails

commit f5352dbe7c49b14b89f02138369b1afae23ac0d3
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 24 12:03:00 2016 +0200

    Use sigsetjmp macro on qnx-arm, as sigsetjmp function is broken
    
    For this to work we need _gum_exceptor_prepare_try to allow re-entrance, which
    means initializing the (scope)->impl value.

commit cde80b3b9ef641cd364313bcc49b8aa88e27358d
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 24 11:58:22 2016 +0200

    Implement ucontext parsing/unparsing for qnx signal context

commit 4286fa106d4bd752c0af5d39c5f46cf9c3ea73d3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 24 19:18:42 2016 +0100

    Fix test regression

commit 34b62d52f41de56ee19693fa430f391115246d8c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 24 18:51:37 2016 +0100

    Fix handling of $protocols on instances

commit 643785dcb8b75441b72207a79e53e0522d72cfca
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 24 18:25:18 2016 +0100

    Allow Int64 and UInt64 to be passed as-is to all relevant APIs

commit 30279bb88e8015827c5dea6a2fb5f73a819976b4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 24 04:08:13 2016 +0100

    Fix warning regressions

commit 811d84698cb782f4cf3124c5785c919af6900cc4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 24 04:06:22 2016 +0100

    Fix Int64/UInt64 field capacity on 32-bit architectures

commit 8ee2ef6b2d46daad1b2db4b12b82cbad3ec85497
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 24 02:39:40 2016 +0100

    Handle opaque struct and union types

commit e104061db17faaacaecbe34242b1712041e8df92
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 24 02:14:27 2016 +0100

    Update type-check to match the recent API changes

commit e484101e55f07c971121ed4afcd39a7e8b5603ab
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 24 02:04:50 2016 +0100

    Rework handling of 64-bit integers in the Duktape runtime also

commit 091d8b5fb6b92330d8abd8720609371970e29c8f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 24 02:01:17 2016 +0100

    Improve strictness of constructors

commit 2987272537cb35a2ba858fa2a4ff5de2b2fa4481
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Feb 23 17:40:05 2016 +0100

    Update tests to match the new behavior

commit 589f0ee0bd9dca8703241069fd441e26664512f8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Feb 23 17:39:51 2016 +0100

    Update to the new API

commit a1816d328487582e47ae5ad35c4fbac09950af62
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Feb 23 17:39:26 2016 +0100

    Implement valueOf() to simplify implementations

commit adf7ca154355d6ae84445bcf62abf66e2aa60157
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Feb 23 17:35:53 2016 +0100

    Always return longs as 64-bit values
    
    Otherwise the caller would need to handle the return type differently
    depending on the platform.

commit a3f1817f01a017184a963ef45779a5e9f57b0552
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Feb 23 17:35:05 2016 +0100

    Add shorthands for Int64 and UInt64

commit d94ccef9af246982bebf3faf32db2e870c5bc3f4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Feb 23 03:24:31 2016 +0100

    Start reworking the handling of 64-bit integers

commit 4947a729de17033e7ac87a8ed84e929204d2b5c0
Merge: 0b4fb0d8 c09cb3ce
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Feb 23 15:37:41 2016 +0100

    Merge pull request #147 from s1341/master
    
    Wrap copy-on-write with suspend/resume all other threads

commit c09cb3cefba7b9426183436dda4c9329a3fe224a
Author: s1341 <github@shmarya.net>
Date:   Tue Feb 23 14:08:04 2016 +0200

    Enable script tests on QNX

commit 32aa99bfaeede0e5084bda7fa8e74543665246fe
Author: s1341 <github@shmarya.net>
Date:   Tue Feb 23 13:56:59 2016 +0200

    Wrap copy-on-write with suspend/resume all other threads

commit 0b4fb0d854c40ef3e7f9ebfa86408b1259108860
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 21 18:32:15 2016 +0100

    Fix copy-pasta mistake

commit 264010a992169c528a2648b38be2657b992f7256
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 21 18:30:29 2016 +0100

    Attach Exceptor after it's been fully initialized

commit c3b9285132765f63f4ea8378b068a6c5c2cd9f48
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Feb 18 21:08:18 2016 +0100

    Fix module name of resolved imports

commit 8e2984de97121e9eebb2c994da1eb46031764653
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Feb 18 20:17:55 2016 +0100

    Fix regression on non-jailbroken iOS systems
    
    We will eventually have to implement proper code-signing, and not just
    pseudo-signing, in order to retain CS_VALID when hooking APIs.

commit 302a5e76b4d38eb4fb550ba139bdc27d3dcf3fc2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Feb 18 20:15:44 2016 +0100

    Fix Interceptor regression in the Duktape runtime

commit 6b930824cb0c10b5bc306cf5d2aff172bf94f39e
Merge: 5a3b0d2d 64565e61
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 17 20:26:17 2016 +0100

    Merge branch 'dt-gnu-hash'

commit 64565e61c944a0747a842f85621177985329a557
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 17 18:57:53 2016 +0200

    Implement exports lookup for DT_GNU_HASH exports

commit 5a3b0d2df91162a04e2af90642789e6e6c6328fc
Merge: e772e8f1 1797973e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 17 17:56:16 2016 +0100

    Merge pull request #145 from s1341/master
    
    Make frida-gum compile on qnx again

commit 1797973e0c1479159f25cdfadf6fb0ff6fb6b815
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 17 09:43:56 2016 +0200

    Fix ifdef for sigsetjmp; Fix style issues

commit 602ad45b4a65c1b354344ba084b6c28228236624
Author: s1341 <github@shmarya.net>
Date:   Tue Feb 16 18:28:04 2016 +0200

    Make frida-gum compile on qnx again

commit e772e8f1c584119849f707aefbbf905a750b92d7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 15 01:55:31 2016 +0100

    Expose r8 through r12 to the JavaScript runtimes

commit 767742f76b29b3ba586df1a5743381e7e4236cf5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 15 01:55:04 2016 +0100

    Improve Interceptor to preserve r12 aka IP on ARM

commit d04cfd6f14589870abca59d1810f7d7152ca5927
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 15 01:54:41 2016 +0100

    Add r8 through r12 to GumCpuContext for 32-bit ARM

commit 0d0490701b4536bd1e97ac08a2bc18dea089fc4a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 15 01:27:19 2016 +0100

    Add support for emitting push/pop for high registers

commit b062d2e499b8a8311bdcdae55b2e6ea6804948a6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Feb 14 19:44:35 2016 +0100

    Add Memory.scanSync()

commit 5be4288d10a10bf3e88dbbb280c4305d0a794e23
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 13 10:27:22 2016 -0600

    Implement safe live-adding of listeners
    
    The array could previously get freed during a resize, and could also
    grow indefinitely as it was never compacted. These issues are now
    resolved by creating a new version of the array that we atomically
    swap in, and schedule the old one for destruction once the trampoline
    is idle.

commit cf284dcd68a5a4190c172d05f961c0c6f39be212
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 13 10:51:37 2016 +0100

    Recompute on_leave listener state on remove

commit cc189ab79e71784fcd760a8a4a7df2a77203c4c1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 13 10:35:59 2016 +0100

    Implement the instruction probe API

commit 378bf096b5561c9874e65491f23c68a3bd3e2f71
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 13 10:11:32 2016 +0100

    Add failing test for instruction probe API

commit 37eb822d20dc01d96b0638ee5ab3bc291826c6c7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 13 09:54:23 2016 +0100

    Implement the new detach() API in the V8 runtime

commit 5df900d856349126072fcb8f56a471def1b07612
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 13 01:26:18 2016 -0600

    Improve gum_memcpy() to avoid unaligned accesses

commit f4236650649413944c4ce13ac6620f7e8be6b1e3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 13 01:25:40 2016 -0600

    Allow _gum_duk_{protect,unprotect}() to be called with NULL

commit 25b29b6ce1d67d17c2cdbb0d1ad768e5319c6b51
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 13 01:24:57 2016 -0600

    Implement the new detach() API in the Duktape runtime

commit 5510531bdbe511ae877f562ed1ed924a85656bc3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 13 01:22:27 2016 -0600

    Add failing test for detach() API

commit 8dd6e20531889df0d3323b9a9121eb70f55ddb62
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 13 01:21:33 2016 -0600

    Add get_depth() to InvocationContext

commit a2db00759b4cc0a006aeab2305d8f8faf675ff8b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 13 01:20:47 2016 -0600

    Allow listeners to be detached synchronously from their callbacks
    
    We also get rid of the `wait_for_idle_trampoline()` logic and instead
    defer destruction until a future transaction is ending, or brutally
    free the memory if the usage counter hasn't dropped by the time the
    Interceptor is destroyed.

commit dd63e0f4b622722406d161899d7a8b74c164a23a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Feb 11 10:13:40 2016 -0600

    Make on_enter and on_leave optional
    
    We also avoid trapping the return when possible. Beside avoiding a little
    bit of overhead, it more importantly allows hooking at arbitrary points,
    not just at the start of a function. This means you could attach a
    listener with only on_enter provided, and use that to hook at arbitrary
    points. An example use-case is measuring code coverage.

commit 91e8b1e4c72e31d94d7fc938b946f1c95da8c536
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 6 03:01:39 2016 +0100

    Fix source-map handling for eval code
    
    Forgot to include one function from the node-source-map-support project.

commit e956c6deded3c9feaac1cb0077c87e6a98954053
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 6 03:00:21 2016 +0100

    Fix Python 3.x regression

commit 90d72b07726d9584d3e5b7be3bd566c59eb16220
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Feb 4 17:40:53 2016 +0100

    Fix silly NULL-pointer dereference

commit ae22e0fa94970a9df140757e4aa0467e9deea9aa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 21:58:42 2016 +0100

    Fix warning

commit 285609fb7d50e94b63913039a57347a54c8455f5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 21:00:57 2016 +0100

    Fix ApiResolver tests on Windows

commit 1d9eaa4994719f376cde85a9741a59ac5c7b8ce5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 19:30:43 2016 +0100

    Use the fully-qualified module name

commit 58c40cf3078710aceabce7b0352ce2bd1fac44d8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 19:23:13 2016 +0100

    Emit fully-qualified names

commit 75ea59c4466acd34874e0dc179517aa64737e16d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 19:20:57 2016 +0100

    Skip unresolved imports

commit d014b6ed34005dcb9c3c4b81c669c2d8e25c503d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 19:00:02 2016 +0100

    Fix warnings

commit c28d038e92cd98a398a57c126eaca824dabd7b20
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 18:49:05 2016 +0100

    Add missing include

commit 5e6463e21ad14e5987e8a3bb59183f673e8d5761
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 18:40:51 2016 +0100

    Fix a search-and-replace mistake that went unnoticed

commit 2da0142ef6f26b68e1807e3d46d6f61190f3e6db
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 18:37:24 2016 +0100

    Expose the ApiResolver API to the JS runtimes

commit 9d6f83ce90e4f56b0eed7fd249f347b725c91b85
Merge: 880f353e aa1b419d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 03:40:31 2016 +0100

    Merge branch 'feature/api-resolver'

commit aa1b419d74b1aa3fc1175dfc77abecd68ac3f2ac
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 03:39:53 2016 +0100

    Implement base functionality of ModuleApiResolver

commit e7b476162cc9acdb29def5b25afb323ec4727dbe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 03:37:05 2016 +0100

    Tweak style

commit 8a9c85abeffe723b4f23418c53c4211efb593225
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 01:59:07 2016 +0100

    Fix resolving of class methods

commit e55649774e18a132389e9a5d9c8fc4317b57638a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 01:48:49 2016 +0100

    Rename internal helper class

commit 11d25b15478e8be5c3febb640da0ba75063fd288
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 1 00:18:24 2016 +0100

    Add failing test and stub for ModuleApiResolver

commit b64c795ad813f8bb53e5db2a5d245af0dbb3231c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jan 31 23:28:08 2016 +0100

    Fix leak

commit 7650e6eaafd2d6991e19f87b71a64a4fbc14c2c9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jan 31 23:21:33 2016 +0100

    Ensure we only visit classes once

commit 7e21fe6b2af9817ca4884813822e816fde7c1cc7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jan 31 22:45:00 2016 +0100

    Implement most of the Objective-C ApiResolver

commit dfcceeee18a65e22d70c575ff681b5c3705dbad3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jan 31 22:44:43 2016 +0100

    Fix minor inconsistency

commit aeaf11cb04be414cba7649210d9c53cb904d2387
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jan 31 22:44:28 2016 +0100

    Refine the ApiResolver interface

commit 94c34807de1c1a8beb8df50171aa6f73a0dc7e4d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jan 31 03:59:57 2016 +0100

    Add new ApiResolver API and one failing test

commit 880f353e723df979000dd15a04bebb6ebdf8bb40
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 06:16:09 2016 +0100

    Destroy scheduled callbacks before flushing the main context

commit 0fe0ae8953e47f36731c5d9cf29c87e4ff0f3f4e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 06:00:31 2016 +0100

    Destroy scheduled callbacks before flushing the main context

commit 4f080098b72e7204aee3740c1ebaf4ea38d8da58
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 05:59:45 2016 +0100

    Fix crash when scheduled callbacks are freed late

commit e339afd46b2489fddb3ed54c9606cd81b66027f2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 04:33:57 2016 +0100

    Fix warnings

commit e69a6c7dfe2c5e0f972b9a139e68b4a458a86dbf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 04:32:08 2016 +0100

    Fix `this` binding for module functions

commit a4ed27809a7dc0d3e5fd627aacb437d2de8f8d7c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 03:40:02 2016 +0100

    Update the heap access counter helper to ignore GLib's allocator

commit 6592ab7d289a809ecb0c2aeef111cf47de3be316
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 03:32:24 2016 +0100

    Fix warning regression

commit b3101b70d98191ee97fc834f8ff262ac47633f40
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 03:26:57 2016 +0100

    Fix Windows build regressions

commit 0a30f34eddbe8b059d58610cbc45c21020b751d9
Merge: df107110 72d232d7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 03:00:34 2016 +0100

    Merge branch 'fix/ios9-cs-valid'

commit 72d232d784b442ec19ec14d9b5c3c4833c6467bd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 02:06:14 2016 +0100

    Improve performance by increasing the batch size to 7 pages
    
    There's an extra page of overhead with the current API, but we will
    optimize that out later.

commit ced97b745af6aecc6aee6fcaabdf88d20273778a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 01:41:55 2016 +0100

    Enable the performance tests for Mac too

commit 183def3fd2ae3de0313a9ccfaadd48079f7a3157
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 00:37:17 2016 +0100

    Add performance tests to check how we stack up against CydiaSubstrate

commit 8391cb617afd4168581811378bd8f9be67593580
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 00:36:53 2016 +0100

    Fix error-handling when nearby allocation fails

commit 0330b9e04cb4473aa10ceff2ef7036c91534f10d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 23:38:48 2016 +0100

    Use transactions for our internal Interceptor use-cases

commit b669bbcb4a5e88131ea817d4aa469d87c6db90ba
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 23:25:00 2016 +0100

    Update Interceptor's C++ binding while at it

commit 66dd13ecef1c176dfefbba5492d9410f33a5057a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 23:18:44 2016 +0100

    Update the vapi

commit ff178570fe808f0a6064c9717db63166e5628dc3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 23:11:40 2016 +0100

    Revise the Interceptor transaction handling
    
    - Finish the current transaction before emitting the message.
    - Revise locking order so it's always JS -> Interceptor.

commit 3e92d10fd3246f0aa83b1e79b01762528e5cef99
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 22:44:59 2016 +0100

    Also emit proper psuedo-signed code for thunks on iOS >= 9

commit 1601993dc23b212050fbe456c2f47fb9543f8f5f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 22:00:10 2016 +0100

    Move the last bits to slice allocation

commit ccc3d3e6c836df438dc9b9b004bb8a9dbc0c06ec
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 21:31:35 2016 +0100

    Fix handling of attach()->detach() sequence

commit 89689c6490958473e9f7ff1da69e6cdccb62f179
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 21:30:34 2016 +0100

    Make gum_code_slice_free() behave like other free functions

commit 4ac60abee0275a3f14ee67fd2b27fa018edc4241
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 19:58:41 2016 +0100

    Update tests to match new behavior

commit 447b3bd483bd960ea4e55734ad5a1b0500e3c9bd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 17:53:40 2016 +0100

    Simplify and fix the handling of literal references from unaligned PC

commit e0e1d4b5eb72b66b14a61b5de25d52e556a3c01e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 17:51:52 2016 +0100

    Fix PC calculation when cross-relocating from a 64-bit system

commit d69709017aec9abcae5016d9da9855f858b9b39a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 15:18:09 2016 +0100

    Wrap JavaScript callbacks with an Interceptor transaction
    
    This allows many calls to Interceptor APIs to be batched, which is
    important on iOS 9 where we need to jump through hoops to satisfy
    the code-signing requirements.

commit f77a875147ef635b76db04d7bcfe3da9298659bb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 14:46:07 2016 +0100

    Configure the Duktape runtime to use the GLib memory allocator API
    
    It's wired to our allocator anyway, but gives us some flexibility to
    disable this when running tests with memory checking tools.

commit a3b34bdcf7f9063426a026194d6307dbba159a19
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 14:42:26 2016 +0100

    Clear caches after code changes

commit 990e38c28567e0bf250e1c4db55e8e1075d7f2b1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 04:00:15 2016 +0100

    Fix function address handling on arm

commit a770af37a15d984adc85d40417f40debcedb9372
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 03:53:40 2016 +0100

    Fix some code vs PC mixups

commit 7c810c66f389b7ef87e96664072f2cbcf34bc84d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 02:31:10 2016 +0100

    Add a test to check code-signing status

commit b8f1d916896543249ddd4b49ceeb8fda1838c05e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 01:32:11 2016 +0100

    Port the ar4 InterceptorBackend to the new API

commit 1a978220accb485070e83ed3e109c5270bb73401
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 01:24:03 2016 +0100

    Make the Deflector API consistent with the rest

commit 977a62ba9b068a55ddb9b4dd2a5febd97ae6ca2e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 01:14:19 2016 +0100

    Port the arm64 InterceptorBackend to the new API

commit d087d3fafc0623ff7e5d7a0c78976a3efaa1e203
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 01:13:23 2016 +0100

    Remove unused API

commit db6b3d2b66f07b4dc9ce40c05fd3879005e6c03e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 01:10:47 2016 +0100

    Fix silly off-by-one

commit 446ad57778e80961177eab5dc6c352b858dd0152
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 28 01:01:55 2016 +0100

    Generate a truly temporary file

commit 18fa5afae69a71143e2456e5c5edd4c75c936aab
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 23:26:28 2016 +0100

    Improve CodeAllocator to emit signed code on non-RWX Darwin systems

commit 934065a2b22e42fe316ccc33a6e7c8cf05056b17
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 23:25:25 2016 +0100

    Add support for allocating according to an AddressSpec

commit 96ed4f68a058d5f8c07ff52e061f1c846126b36a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 18:11:37 2016 +0100

    Fix leak

commit 0c272ba73922baf9665dc3eb4fb478689e3ffb30
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 18:11:31 2016 +0100

    Use GLib for regular memory allocation throughout

commit 658143b876fc98e361590e744e6cb6afbe8af49b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 17:35:59 2016 +0100

    Avoid useless range enumeration on non-Linux OSes

commit 462493b94cb7d040856c12a96883bfd38797faff
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 17:29:03 2016 +0100

    Remove the side-stack support
    
    It is no longer needed -- stack-space constrained environments should
    be using the Duktape runtime.

commit 740741b4d4eae0134fadeadb4dda9ebe37feef7e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 17:20:32 2016 +0100

    Get rid of unnecessary collection classes
    
    Because it's been a long time since we started requiring our own
    private version of GLib, we can assume that GLib's heap vtable has
    been replaced, meaning it is safe to use GLib's collection classes
    without worrying about reentrancy issues with malloc() etc.

commit 89f0963ce7da5318de26232c376b2a7a6684036f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 16:00:05 2016 +0100

    Refactor CodeAllocator to implement the new transactional model

commit 3efd9cf9fe349e6065ee2b0b0ee550b3ebf0312b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 02:25:11 2016 +0100

    Assert that the file was opened successfully for now

commit 152930cf4b4e7b6727c681d13948c792cb5e587e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 02:24:45 2016 +0100

    Fix output pointer vs program counter logic

commit 0d11dde4863ce6c889484ed1f46bccedf3672871
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 02:15:04 2016 +0100

    Decouple program counter from output pointer

commit fe7c77e68a48bf3a69dd05b4fb2982fcd5f42ee7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 01:08:23 2016 +0100

    Wire up CodeSegment for the no-RWX fallback

commit 6eca11772a10e665f90ae9a052a667dfa45ab609
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 27 01:07:38 2016 +0100

    Move the DarwinCodeSegment API up to the public API

commit a95894390e24c4d26094e917cf7393b0b4e9dab3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 26 20:24:46 2016 +0100

    Start integrating the new CodeSegment API

commit 80590a8c2ce0977eae551b411abcf46903c35a81
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 26 20:15:23 2016 +0100

    Remove ref-counting logic

commit 471c447c5fb1e9aeba8999db10c842a03861c257
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 25 22:20:40 2016 +0100

    Implement the core of the Mach-O generator logic

commit df1071108b08062f43e76bde89076f493ac602dc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jan 24 20:39:38 2016 +0100

    Add regenerator runtime for improved Babel compatibility

commit 361b3a02985fc8399161dc339a27b43dedc1b4b5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 22 02:40:40 2016 +0100

    Fix initialization order regression

commit fdce44029f615e1a3f1bcbecf9a41cbd750d6b83
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 22 01:42:24 2016 +0100

    Make InvocationContext available to replaced functions also

commit e29eb4c0656e790224fc8802c686563b4bd978a1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 22 00:34:58 2016 +0100

    Move the reentrancy guard as early as possible

commit 52a1642f5be29c6796387952ebc410ea9701b64f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 22 00:05:18 2016 +0100

    Avoid implicit memmove calls emitted by the compiler

commit 4fb01ccac67a7294672c44e9fa7951780a2a3c16
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 21 23:57:51 2016 +0100

    Avoid memset and memmove in low-level code paths

commit 84a57ba262ae2c3d143f141f0277b1177fbb86a0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 21 01:48:18 2016 +0100

    Fix atexit stub for mapped dependencies

commit b448457030ae9b798850bf68329467b79325d860
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 21 01:46:51 2016 +0100

    Fix library initialization ordering

commit d97ec3ceac3223ba3f13b4e0ae3b92fa04e098c4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 20 13:57:52 2016 +0100

    Cache the page size to reduce libc dependency while hooking
    
    This allows us to hook more low-level APIs on iOS 9.

commit 2c92ed43405ea2651130737b5bfb5804af5d1a1c
Merge: b14bb2d8 ccfafb7a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jan 17 15:17:35 2016 +0100

    Merge pull request #140 from riverar/py3_buildfix_jan16
    
    Python 3.x build regression fix

commit ccfafb7a3f7a38c6bcda3406da6ab9d067877ff3
Author: Rafael Rivera <rafael@withinwindows.com>
Date:   Sat Jan 16 23:45:17 2016 -0800

    Python 3.x build regression fix

commit b14bb2d810ee8e70a3ef5346fcd62f0dfbfabd68
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 16 02:35:02 2016 +0100

    Fix synchronization logic in the Duktape runtime
    
    Turns out that Duktape does not support pausing JS execution to allow
    other native threads to execute JS in the same heap. The only possible
    workaround is using coroutines, but those have strict limitations on when
    a yield is possible.
    
    So to keep things simple we adapt our runtime to never yield, and switch
    our mutex to a recursive one, so we can still support re-entrancy through
    NativeFunction calls.

commit f87cead256a8a88d13f2510d440a020eeb60a5ef
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 15 23:34:55 2016 +0100

    Tweak return type

commit e3a6c9c0778974987fa30ff1920a5b80d9a067a4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 15 23:34:36 2016 +0100

    Fix warnings

commit 7ece667c9482df54b2588a304a98cdd072e27639
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 15 23:33:55 2016 +0100

    Fix exception-handling in the enumeration APIs

commit 3e6d320f1d5df08a2b0863be4a917fd560b0194f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 15 23:32:56 2016 +0100

    Adjust buffer sizes used to generate the protected name

commit 28a1cbf5e4e07d47a08f36f023d83f9c0977bc10
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 15 23:07:20 2016 +0100

    Revert "Fix "concurrent" execution in the Duktape runtime"
    
    This reverts commit cf5dce03a80f9e819752dd94d6562c22461be3bf.

commit 4b92a4f95949ff6562d25f036b439fd98a812603
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 15 23:07:11 2016 +0100

    Revert "Remove NativePointer recycling logic for now"
    
    This reverts commit 32cedf06add2d0eaf7225ac4007fecaafb99e8fe.

commit 31b412b7c74feeda9dd55e448947a5a5b3284ee3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 15 20:15:31 2016 +0100

    Fix native exception object's address fields
    
    They should be NativePointer objects.

commit 32cedf06add2d0eaf7225ac4007fecaafb99e8fe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 15 19:28:53 2016 +0100

    Remove NativePointer recycling logic for now
    
    Seems to trigger some bug in Duktape.

commit cf5dce03a80f9e819752dd94d6562c22461be3bf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 15 19:23:35 2016 +0100

    Fix "concurrent" execution in the Duktape runtime

commit 51d5f61f4c4d829560533def32c764afbd2c325a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 15:32:42 2016 +0100

    Add a visual clue to know which runtime is being tested

commit 6b73efbf3cdd6bb90e9868f1970547a7a31307a4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 15:23:21 2016 +0100

    Skip the Script test suites with V8 when the backend isn't available
    
    This is the case on iOS 9 where RWX pages are not available.

commit e228aa8b77a03172cc4bd0c9771b6559ef2d10b4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 14:12:41 2016 +0100

    Fix warning

commit 88ac622dc831e43b08d47690ba6309a3e97118d3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 03:06:43 2016 +0100

    Allow the ignore API to be used without a backend
    
    This is a bit ugly but we will get rid of the need for this API later
    anyway.

commit f1302834120acf70ab03aa87aec6a292bb0c7b2d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 02:58:15 2016 +0100

    Fix assumption about test only getting run once

commit de4ab0f6a19216aba2e0c705c997c8a58f9058ed
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 01:50:26 2016 +0100

    Remove ScriptBackend.supports_unload()
    
    We no longer need this.

commit 56f0f9690c8de8e7491f0224ebe548c7ad4665df
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 01:41:22 2016 +0100

    Add missing include paths

commit 9944f4de44c6eb137ffaaa9721ea5c751699937b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 01:18:03 2016 +0100

    Fix test relying on Interceptor getting destroyed at the end of it

commit a97b6289dbcbd4fe91ee5efe6a9c73ad4f959a47
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 01:05:26 2016 +0100

    Instantiate script test-suites for both the V8 and Duktape runtimes

commit ebd2893cdfc9c58445aa9bd25d912239107eedef
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 01:04:42 2016 +0100

    Improve test macros to support passing data to the fixture

commit 053b03102e79130d6ac8f6a96d35e47ca93263d5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 00:46:06 2016 +0100

    Update tests to match the new build configuration

commit a53081c10c17571b51fac58a1b9a9ab015231876
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 00:32:21 2016 +0100

    Update UNIX build system to always include the duktape runtime

commit ef66292347a29f1ca66bf3560ec546e506e30907
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 00:28:57 2016 +0100

    Update to match the new behavior of always having the duktape runtime

commit 7c70237e2d0da6b8c7a966ed7617ea1029862567
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 00:17:21 2016 +0100

    Fix remaining warnings

commit 4549c34726706bfeb27dee02a4eb00dae3d70743
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 00:01:16 2016 +0100

    Fix warnings

commit d0e9c0266eadc58295ec309b7e1f9dfd727f5ff5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 00:00:42 2016 +0100

    Fix includes

commit 21234ed5d2344fab1c104ca39ed7b3ab2b2b3a04
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 00:00:12 2016 +0100

    Fix inconsistent stub

commit d224e680b4bbfe595fdf16dd0ef6474d994bf9d6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 23:59:14 2016 +0100

    Throw instead of #error on missing MemoryAccessMonitor API

commit 098e3b4d6977e929a6b8b2c66a2b478d99633202
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 23:58:37 2016 +0100

    Add missing include

commit cfffe2ef02cb932034ffbfcf2c7a92b8357bcb5b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 23:57:11 2016 +0100

    Add Windows build system for the duktape runtime

commit 61dbfc6239c7632e1044bcb6666b225189ed33e2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 23:56:23 2016 +0100

    Don't assume the MIN macro is available

commit b28f4f28c51f44144d339be3f16d2418c4d18dec
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 23:55:29 2016 +0100

    Declare that the duktape backend supports being unloaded

commit c4eacfca0b6d221beaecb19c691f9402fe238107
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 23:54:54 2016 +0100

    Remove unused runtime file

commit 2e8fae005749a49fb330c6d995fd1b39509d6e2a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 21:06:15 2016 +0100

    Fix warning

commit f7f63a163eb903d4789c4cfcbbb362fba00ae8c9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 16:16:23 2016 +0100

    Move weak_callback_is_triggered_on_gc to slow mode only for duktape

commit 13437a8f917dde974745e9eae7ae59df9ba2d59b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 16:02:49 2016 +0100

    Fix test regression

commit 97ffad0062161598f2996bc77b50a47f180e012b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 16:02:15 2016 +0100

    Skip deinit when not debugging heap leaks

commit 54d991fdfd5b2668e3d7a3deb5db0742fedd04b9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 15:43:06 2016 +0100

    Fix test regressions

commit 7491b3f08ec19aefcd0548171593b1fe19b770c5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 14:42:52 2016 +0100

    Fix syntax error

commit 4a5171d98525805ef3e289e5a3deb7cd6f48c1e0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 14:28:10 2016 +0100

    Remove the JavaScriptCore runtime
    
    The duktape runtime is a better choice on mobile and embedded, and for
    desktop we already have V8.

commit e307e4119fe9f07d1d98fb5699af1fe2920bd0fb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 13:47:38 2016 +0100

    Fix warning on non-Darwin

commit c79e61c60265b52750c39cd54667dfb4a6fe2062
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 13:40:15 2016 +0100

    Configure duktape to use our own heap

commit 8ce43a2a6f1bb47a3deacd75dc6dbf84845d6692
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 13:29:07 2016 +0100

    Allocate a large GString to avoid reallocations with a different heap
    
    The {target,special}functions libraries have a statically linked version
    of GLib and we don't want them trying to realloc the GString that we
    already allocated with a potentially different heap.

commit aea383f9d6888e92241d3e680b9853a662bf04ba
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 13:27:41 2016 +0100

    Fix accidental mixups of heap APIs

commit 2c52d5f59a298fd22257a98678e8145b1e1e3832
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 13:26:38 2016 +0100

    Use our own heap for running the test-suite
    
    This gets us closer to the behavior in production.

commit 158a11026cde5b942e62df893041ba81d90ebd60
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 01:47:24 2016 +0100

    Fix performance-bottleneck in the memory range lookup API

commit 34e3e72c8259ad47540758310ef49706c32ff318
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 01:12:32 2016 +0100

    Avoid duk_safe_to_string() when possible

commit 654245ae11ea90d46fe16c328ea83c6d72beeb7a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 00:53:05 2016 +0100

    Avoid memory-allocations when recycling pointers

commit f048bf9ef3f7cefb015e0a3dac1c332635bc8190
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 23:21:02 2016 +0100

    Update duktape with fix from upstream
    
    Latest master with 28687dbf67956e9140a90f56fc3ccd93a480ee1d cherry-picked
    on top.

commit b4be5d016dd06056256cc95758a197cac74f4fc9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 17:59:32 2016 +0100

    Fix deadlocks on unload

commit c153fb208a7afd5e7806d331592ea820bd077630
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 15:27:23 2016 +0100

    Fix performance bottleneck caused by NativePointer allocations

commit 04f43a1a87e2ca6c8ce2e719b0187c9a7c5abdcf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 15:22:37 2016 +0100

    Don't hide the protected keys

commit f097fd7ab9893bcee8645ac01c6623fa19b0f724
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 15:22:11 2016 +0100

    Update duktape to latest from git

commit 54b0ee86b78632dbfeae2dc5a9fc75bff89231a4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 15:21:36 2016 +0100

    Add _gum_duk_get_data()

commit eac518292c492a95bb8b7695f3831640b1f741aa
Merge: 12659e14 27ce0c54
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 12:07:23 2016 +0100

    Merge pull request #139 from s1341/master
    
    Fix configure ARM detection for armhf

commit 27ce0c54ec5df9a79a10802b230e4d1dcc270c6f
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 12 12:47:51 2016 +0200

    Fix configure ARM detection for armhf

commit 12659e14a7ef8d3de02d1e64d61057288e004f74
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 02:55:20 2016 +0100

    Fixup coding style

commit 660b94ddafc6bb2f7249e4eeadec10c16f81b3f0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 02:43:23 2016 +0100

    Fix inconsistent namespacing

commit 53cc8cfe69d7acb1fcfb4e42c8b6c3c6bf9dea55
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 02:35:33 2016 +0100

    Keep moving towards stack-oriented APIs

commit 374df6b06ba91d66e5e8e492e6327da4f539f819
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 00:25:12 2016 +0100

    Simplify ArrayBuffer construction

commit 74273184b19de0bda27d4dfbfe1674c633770a24
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 00:00:56 2016 +0100

    Fix resource cleanup and keep moving towards stack-oriented APIs

commit 8349043fad7d71df53358fe682d393e25acc0e08
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 21:33:24 2016 +0100

    Fix some leaks and get rid of GumDukValue

commit 3b928b74745315174f7f8de5dc7077d4667d4431
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 15:55:29 2016 +0100

    Fix error-handling and leaks in NativeFunction and NativeCallback

commit 22a343b564bf01c4c6def721c31d06bd6ee2c6ae
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 15:54:47 2016 +0100

    Add helpers for dealing with 64-bit integers

commit 2819cacc54a00897cb5c4a19edee9a5e31796cc6
Merge: 944d3a98 a8113a1b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 14:49:36 2016 +0100

    Merge pull request #138 from s1341/master
    
    Fix warnings and duktape library dependencies

commit a8113a1b5783e761eb5118d09713d0d035d2dae2
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 11 15:28:20 2016 +0200

    Fix duktape library dependency in generate-runtime.py

commit 105c109b4b21acc0017ac0eb2426e074fafb185d
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 11 15:21:13 2016 +0200

    Fix warnings

commit 944d3a98330daec6d5285f3c61830b8d7429c020
Merge: 9e5c44f4 06d5d1ca
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 13:31:51 2016 +0100

    Merge pull request #137 from s1341/master
    
    Add missing libm dependency

commit 06d5d1ca07d195d145f30e99c037ed64cf8b26f3
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 11 14:26:19 2016 +0200

    Only require -lm on linux

commit 17c76ff4405c319c5452251ed589ec6e9e88bb62
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 11 14:23:22 2016 +0200

    Duktape require -lm to build on linux

commit 72d6ef68088532a2d7bcf377e1a56cabc07da35f
Author: s1341 <github@shmarya.net>
Date:   Sun Jan 10 10:36:55 2016 +0200

    Add missing libm dependency

commit 9e5c44f49385379912a3aaefb1cff12ce44381f8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 13:06:40 2016 +0100

    Get rid of the unprotect_later() functionality
    
    It's not needed in the duktape runtime.

commit f72db4583387856cb0989984bb02ca250cf4be60
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 01:29:15 2016 +0100

    Fix remaining use-after-frees in the ObjC test-suite

commit 6f9419a3559e8d837536240520bf9ff79a38a4fc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 01:23:09 2016 +0100

    Add missing autorelease-pool to fix use-after-free on shutdown

commit 04eb89b16bbe9be6cef96dd91c8bb77ef437e338
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 01:16:57 2016 +0100

    Fix memory leaks and use-after-frees in Native{Function,Callback}

commit 1077d9888741e827a4265e352e8f83268eb20055
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 01:14:55 2016 +0100

    Get rid of the instance_size field
    
    We don't get the base class' finalizers like in JavaScriptCore, so this
    part was broken.

commit a2fa7d032b77cdbf215053d0b3229e07a5dd4cab
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 01:12:36 2016 +0100

    Make our finalizers re-entrant

commit 0141a4bc8a9d8c611c8e2580de07ce6c22fd7891
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 11 01:10:23 2016 +0100

    Add API for stealing the private data
    
    This allows us to easily write finalizers that are re-entrant.

commit e9d8f4cbf340468e4a087bb26dc4d0344ad69c62
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jan 10 23:47:19 2016 +0100

    Fix protect/unprotect() with multiple callers for the same object

commit 4d213d370a7981c7ec5be8524720184b179ef031
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jan 10 13:12:15 2016 +0100

    Soften up the invalid argument test a bit

commit 95e70882f5aeed03b400bab8c3b8e4e3bef9c6fd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 9 20:40:46 2016 +0100

    Fix NativeFunction

commit 8365b056518ea0796f8410ad613f1ad131ac218d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 9 20:20:54 2016 +0100

    Fix finalizers of NativePointer, CpuContext, and File

commit 9c061e34fbd27bf3a6190f7f0803ff2e1a441466
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 9 20:02:41 2016 +0100

    Fix NativeFunction and NativeCallback argument list parsing

commit f2462cc7b69882369d04a7d9005ec47c8b4e7107
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 9 20:01:42 2016 +0100

    Fix coding style violation

commit 39d0b6d9699331ea1ebfab936b86b5e6c77e4081
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 9 19:43:50 2016 +0100

    Remove finalizer hack that shouldn't be necessary anymore

commit f1be8fdedc857b45b2dd429f8edc08024c0d13f2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 9 19:43:08 2016 +0100

    Fix crash when an error is thrown before assigning private data
    
    This typically happens when parsing arguments.

commit a35ac687b967a3f0a7f53ac78820e55ca6fc3816
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 9 19:20:26 2016 +0100

    Always set the libtool tag when building tests

commit 5612e65898faee03185446f11ffe525cad26e17a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 9 19:19:55 2016 +0100

    Fix NativePointer construction

commit 068e7ae312aa4eab81c9b2dbbf5c372aa5a3148e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 9 19:19:17 2016 +0100

    Remove left-behind g_print

commit 5dd1ed5d27aecccb6d03b6e1c31f0eaf525e5f72
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 8 20:08:20 2016 +0100

    Refactor argument list parsing

commit e55f4a4d427ea2e9b626d04605895f9466b650f3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 8 11:46:24 2016 +0100

    Remove stack comments
    
    After getting used to the duktape API these now feel redundant and just
    add noise.

commit 17e27a9208b555a33a2bfa16467e55f3ab0bf969
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 8 11:37:19 2016 +0100

    Remove dead code

commit 417ba7227b2dd87cb7acc5953a571fea9db89bbd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 8 11:36:31 2016 +0100

    Fix the DebugSymbol object so it's serializable to JSON

commit a134b6ba21eebb25f98c38b271910c11cb096f48
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 8 11:36:12 2016 +0100

    Move properties off the prototype and into the module object itself

commit 139b71e7f5a5e912863238dcbdeeb6cec9c95b81
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 8 10:31:16 2016 +0100

    Fix the Instruction object so it's serializable to JSON

commit d746a8d3c2fb0ad92a01bdfa4c5989390bd97bb4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 8 10:30:02 2016 +0100

    Fix lifetime issue with the Interceptor types
    
    We should not borrow the references held by the global object.

commit ed78cf64409693e79e8f3265f238ddd18b2fa2d3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 22:25:51 2016 +0100

    Add missing dependencies for the script-runtime-stamp target

commit 97531b40eef803e99e26c954295c6ef672d00adc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 22:22:19 2016 +0100

    Hold onto Exceptor to avoid recreating it many times

commit e745271da24d7602839a4cf4463fe07f4e59aa85
Merge: 1270dd53 5fb850db
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 19:26:06 2016 +0100

    Merge pull request #136 from s1341/master
    
    Switch to a minimal subset of the babel polyfill.

commit 5fb850dbfc7ca10221300180d25263e5e7715174
Author: s1341 <github@shmarya.net>
Date:   Thu Jan 7 19:07:34 2016 +0100

    Switch to a minimal subset of the babel polyfill.
    
    The subset was generated using the following command in the core-js repo:
    npm run grunt build:es6.promise,es6.symbol,es6.set,es6.array.from,es6.array.iterator,es7.array.includes,es6.array.find uglify

commit 1270dd53728df37e15384a19f441a4fc3f33b303
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 05:26:40 2016 +0100

    Refactor to improve performance and safety

commit 6e49e927bc18ce03c4118d108af7b64574bbc035
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 01:19:00 2016 +0100

    Fold gumdukobject into gumdukvalue
    
    Lines were a bit blurry between them.

commit 0a01bb80af904404e26781bdd8fc8ca3ed9d6fb3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 00:27:39 2016 +0100

    Factor out the function overhead measurement

commit 9dfb483445fea530b3177dd9ba6faa7aa2b64d06
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 00:27:19 2016 +0100

    Tweak the coding style

commit 295c1f47a8123e9454b9ef6d29e1c779bbefa032
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 00:27:09 2016 +0100

    Fix leak of the cached invocation return value

commit c6ba18fd77ad2586dce3e4513e32cb4d748047e1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 00:20:40 2016 +0100

    Remove left-behind print calls

commit 3f385b0d433bd775104aea372cf12da7e36fed32
Merge: 5ab86dfc 48380451
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 00:18:00 2016 +0100

    Merge pull request #135 from s1341/master
    
    Add cached InvocationArgs and InvocationContext to speed up interception

commit 5ab86dfc7265da0febcb1182d14a4326fab6a1cc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 00:13:02 2016 +0100

    Remove unused collections polyfill

commit be75e44adfc224353d358253142c0e851be2ec07
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 7 00:12:28 2016 +0100

    Don't babelify the babel polyfill

commit 4838045162ef252c8e9a200fe6a9414485af8db3
Author: s1341 <github@shmarya.net>
Date:   Thu Jan 7 00:08:17 2016 +0100

    Style fixups

commit 27bc5753c963bc2762ef8a002f47b696d4a9ccad
Author: s1341 <github@shmarya.net>
Date:   Thu Jan 7 00:06:31 2016 +0100

    Add caching for InvocationReturnValue

commit ad4911c4cf421e0cfcbf8301cb97a17822ac456a
Author: s1341 <github@shmarya.net>
Date:   Wed Jan 6 23:51:47 2016 +0100

    Improve performance of onLeave

commit 3eeb151171ca9e2b706e70814ee82ff1f6cceda6
Author: s1341 <github@shmarya.net>
Date:   Wed Jan 6 23:27:29 2016 +0100

    Fix style issues

commit 792b8f2d87722e66a079c359800f5ee640c201d1
Author: s1341 <github@shmarya.net>
Date:   Wed Jan 6 23:18:52 2016 +0100

    Make gum_duk_native_function_finalize safe for reentrance

commit 21307d4e05f535e394414288362785313055687d
Author: s1341 <github@shmarya.net>
Date:   Wed Jan 6 22:49:21 2016 +0100

    Add cached InvocationContext for great speedups

commit 6c8089c21aaa2890cef6b43a78b8e0b0f83b68e6
Author: s1341 <github@shmarya.net>
Date:   Wed Jan 6 21:06:36 2016 +0100

    Implement initial InvocationArgs to save on creating InvocationArgs objects for each on_enter invocation

commit 3795442c10c633c775cc9f09b12fac36c382fa00
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 22:39:15 2016 +0100

    Fix imports and exports objects so they're JSON-serializable

commit bcdfbc522dc541e0557cb4ce18a2a02dd3ce4df8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 20:24:20 2016 +0100

    Eliminate some unreachable code

commit 98dedda0303bb6b11fd4fa45018476e52305ef64
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 20:23:59 2016 +0100

    Fix the “missing” behavior of module import properties

commit 3abaebdddb7c2851aeddc0a05fd9517b3edb15f7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 20:23:07 2016 +0100

    Let go of the runtime lock while sleeping

commit 41c54d2a7e09ed46eeff5eeeb1edc9aee13f15dd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 20:22:42 2016 +0100

    Use the native mechanism for returning undefined

commit fb6312a7ad9a26931e7beddae4097ca822eba2eb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 18:16:42 2016 +0100

    Fix finalizers assuming that the finalized object is in `this`

commit 501805d0c0a7ee85df8c45f03a2f7f2f98c48302
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 17:42:56 2016 +0100

    Ensure serialization also works

commit c1cd8c1970f88cbe303938f63f110bd23ebfd8e1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 17:32:30 2016 +0100

    Strengthen a couple of the enumeration tests

commit e1f21d1645c2c07e480754e55de79c9f811752d0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 16:07:32 2016 +0100

    Fix handling of invoking constructors without new

commit 0668213334b2374478913f048d445232ace70df2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 03:09:08 2016 +0100

    Fix coding style inconsistencies

commit b4105e53ad491d5fe9c71aadd0fc5c4f37f3576b
Merge: 8af85268 bf034af1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 03:05:05 2016 +0100

    Merge remote-tracking branch 's1341/master'

commit 8af85268dc3e769cd2c9414a4f22cecad2542d36
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 6 03:03:05 2016 +0100

    Compile duktape runtime sources to bytecode

commit bf034af18ae806b9e58e331637c98c2a2918a7dd
Author: s1341 <github@shmarya.net>
Date:   Wed Jan 6 02:32:59 2016 +0100

    Make NativeFunction/NativeCalback with structure arguments work

commit 541cd096d558b373cb604f45d7f692d6b8b80cc2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 23:46:06 2016 +0100

    Hold onto the replaced method to avoid it getting GCed

commit d6559e76f9fafc053385e76caab16cc67792543f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 23:26:28 2016 +0100

    Add missing locking

commit eec7268e5a24a3e99e05bb67fe34a0711c54b769
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 23:26:13 2016 +0100

    Turn printfs into asserts and improve fatal logging

commit e2ea133fdf80179d8078117caf65b3731012ce35
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 21:49:03 2016 +0100

    Fix source-map handling in the duktape runtime

commit 7f1279534f7c49182724e5a8fcf443fb7854d734
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 21:33:43 2016 +0100

    Improve the duktape exception augmentation

commit 6dcca603b0bb5b77530b174cbef8c1513b6b01e5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 21:26:08 2016 +0100

    Fix warning

commit 4e25f76e7b78531f66e1bdffb2bdb9ef44057e22
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 21:24:52 2016 +0100

    Improve the stack trace reformatting logic

commit 8c1c3703d7c123e81827684025fb71d73ec1f602
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 21:24:36 2016 +0100

    Fix coding style violations

commit 89ab1cd502a61f56496181fbcdbd02f5d6601709
Merge: 3853a768 9e0ecb61
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 21:23:21 2016 +0100

    Merge pull request #133 from s1341/master
    
    Fix bug in creation of NativePointers: use pointer duktape type inste…

commit 9e0ecb612616b5e2a958ca5b2fec5ac069ce344d
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 21:13:45 2016 +0100

    Fix bug in creation of NativePointers: use pointer duktape type instead of number

commit 3853a7686c0a7bd8e6636d67e7c0c62c7b1c5ba3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 20:58:44 2016 +0100

    Remove obsolete TODOs

commit 1c35981b5350571ba2a9cd4584836515d9ba2385
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 20:58:04 2016 +0100

    Fix coding style inconsistency

commit 44a9fc76c96ceb7dd9a4e25350e68d3622bdfa6a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 20:28:32 2016 +0100

    Add kludge for V8's old Proxy behavior

commit 90d500e28046a7a1f4b05116e91270807a647f46
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 20:24:57 2016 +0100

    Fix the get() trap for ObjC.Object

commit 468686a754f0993aa30292f4963a3e7f66dfb096
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 20:24:36 2016 +0100

    Update the JSC Proxy polyfill to get closer to the new spec

commit 2c7c8f6f12b1a0fd2566b7fb0532b74492ae6d7b
Merge: a4ab76e7 1ea9a141
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 19:58:54 2016 +0100

    Merge pull request #132 from s1341/master
    
    Script properties should be on the Script itself, not the prototype

commit 1ea9a141673551e4205a33e68d4b12dee407e526
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 19:55:51 2016 +0100

    Script properties should be on the Script itself, not the prototype

commit a4ab76e7a0512d2a392534f0afe1b75adf390345
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 19:38:41 2016 +0100

    Remove relic from the old Proxy API

commit f8752e91a3bd5f7b798cb6a1fe2b603be9690946
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 19:37:52 2016 +0100

    Polyfill the new Proxy API in runtimes that implement the old spec

commit 5069f4fad0c73474fbff8b1a8b8dab842e64d815
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 19:23:21 2016 +0100

    Rewrite duktape stack-traces and apply source map if available

commit d53bf4028ff2bd28d3c5a2fdc4871f3d842eee0c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 19:22:48 2016 +0100

    Rename macro to be a bit clearer

commit c015fefe23ab847f4f9fc50c2349ad578ef455ad
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 19:22:07 2016 +0100

    Fix indentation

commit 244a41a1266256c1dce649dd2f4aabc3cf99e667
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 18:31:40 2016 +0100

    Fix the iOS build with --enable-diet

commit b0f0db2ea35a08786f498c75d37bb81dc8d1cd26
Merge: b6849f3f 777bd22a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 18:28:27 2016 +0100

    Merge pull request #131 from s1341/master
    
    Switch to babel's polyfill for duktape; use 'new Proxy' instead of 'Proxy.create'

commit 777bd22a39cc09070055b2fdbd59806af7c79b52
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 18:18:03 2016 +0100

    Switch to 'new Proxy' instead of non-standard Proxy.create

commit c460d9d856ea944f84ec965b1a378e8d743ece38
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 18:17:19 2016 +0100

    Do a pcompile and pcall so we get file name in stack traces

commit 63841a62e3d6c7570075f1f00c498ea6e9a4e2fa
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 18:16:45 2016 +0100

    Switch to babel's polyfill; get rid of Proxy.create polyfill

commit b6849f3f397fc08f39e314aeb1ab5724f1da778b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 15:13:49 2016 +0100

    Upgrade duktape to the latest from git

commit 66a7f8798b9ce6d605368d7d9fff23f96aaad24a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 14:56:26 2016 +0100

    Split the unhandled exception handling for each runtime individually

commit b265aa94ee1260ec3d32812052b51c5c18b76b58
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 05:24:18 2016 +0100

    Fix warning

commit 7fab6a0118afb436550f26d7541b474840664f45
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 05:23:20 2016 +0100

    Fix error-propagation

commit ecfc01ac88bc9d5b86a4abfb74be5f1bc545b31f
Merge: 34030781 2686ceaf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 03:22:13 2016 +0100

    Merge pull request #130 from s1341/master
    
    More duktape integration

commit 2686ceaf5d23168115eabcb3fa0e90119c331a08
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 03:09:45 2016 +0100

    Fix more style issues

commit 71cd295a2d16c9aabe1218a9c08ec36beaaa1d9f
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 03:07:41 2016 +0100

    Fix style issues

commit a599fe7c6bd24fb867dd5e035c6e333604e2d732
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 02:57:26 2016 +0100

    Add workaround for v8 passing only one argument to has(); support for Duktape ownKeys trap

commit 5d9cd51356a475ad58063240082c2fbe0904c8a5
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 02:56:27 2016 +0100

    Release the lock while calling NativeFunctions

commit 34030781272408610788ae28cc2408885aa06a68
Merge: c3bbb8aa 42abf202
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 01:08:37 2016 +0100

    Merge pull request #129 from s1341/master
    
    Add polyfills for Array.from and Array.prototype.includes and fix a bug with NativeFunctions returning void

commit 42abf2020dbeb2375e4ee2035569f42e99dd3a9f
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 01:07:12 2016 +0100

    Fix style issue

commit c3bbb8aa057afc2daa30e7cf1424df723c79d05c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 00:52:51 2016 +0100

    Remove temporary logging

commit 8fec511d3003fee98942273724c8fc1d5c092a19
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 00:52:33 2016 +0100

    Simplify _gumjs_throw()
    
    This also provides us with the augmentation hook that we'll need for
    applying source-maps.

commit 5570655d133d8a714edb9ffdf1db85769eea81f2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 00:51:50 2016 +0100

    Fix ownership of exception created by _gumjs_parse_exception_details()

commit 1b16cff7be40de36dc78f04179b2e62893f7c91b
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 00:44:29 2016 +0100

    Fix bug with NativeFunctions which return void

commit 06b06c1634d0a18514110304b9bb12c24c03ae64
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 5 00:43:49 2016 +0100

    Add polyfills for Array.from and Array.prototype.includes

commit 4a0ee127e7e859671d1edd29a363c48d4d76d98f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 00:26:09 2016 +0100

    Remove unused variable

commit b1c062b66e2c7a7556f7f11fb51d8012ea5219ae
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 5 00:23:27 2016 +0100

    Tweak coding style

commit 83b9fa13e3adf4279054dcd32691bb4e6eb58ac4
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 4 23:17:31 2016 +0100

    Fixing stylistic issues

commit 023610d38eee441311ef132bbbaa67f21d8c4d3a
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 4 23:11:10 2016 +0100

    Move Proxy.create polyfill into JS

commit 09c6d8a8d1c9fbbf0a89c697455a99b1c47db102
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 4 23:02:59 2016 +0100

    Rename harmony-collections.js to gumjs-collections.js

commit 9d41788ad2e386ecc7444ee0b358c91089362347
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 4 20:11:00 2016 +0100

    Add Stalker stubs

commit d69f276cbb1aebd8cee3fc81fec8d93c86717190
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 4 22:30:36 2016 +0100

    Add polyfills for Duktape: Proxy.create (native), Symbol, Set (harmony-collections)

commit 334d1d836ffd5e0b3ba8f2ed384beabc7ed9e5c7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 4 22:06:48 2016 +0100

    Fix warnings

commit eee7eda35249edd31908888574ee3d2d4373940b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 4 21:47:48 2016 +0100

    Fix coding style inconsistencies

commit 54b9682209e2b16f6ff7cd199e909bc4048016f5
Merge: e7580b4f b33bb563
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 4 20:44:57 2016 +0100

    Merge branch 'feature/duk-runtime'

commit b33bb563a400db1403b8639e32385e60a74755bc
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 4 18:56:36 2016 +0100

    Fix WeakRef bugs

commit 64540e9cb4739c078d2825b9e9dc5a414fceb268
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 4 17:36:09 2016 +0100

    Implement File

commit 2a2e4125df166bac7c0c37eb67ad1596dacca35c
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 4 00:44:36 2016 +0100

    Add Instruction implementation

commit f7123b7d3d3d3baadfc568f519a72c8405ad28d7
Author: s1341 <github@shmarya.net>
Date:   Sun Jan 3 23:35:38 2016 +0100

    NativeFunction callables should be instances of NativeFunction and NativePointer

commit 015eee29adce395400c88bf15a9798c41a4722da
Author: s1341 <github@shmarya.net>
Date:   Sun Jan 3 22:34:06 2016 +0100

    Fix bugs in DebugSymbol

commit 6bd3b4d490483046cc45a79e147233d1129710c1
Author: s1341 <github@shmarya.net>
Date:   Sun Jan 3 22:12:16 2016 +0100

    Add gumduksymbol

commit 7f65eb81d6b8f7728339d62a22db3f3a83e201de
Author: s1341 <github@shmarya.net>
Date:   Sun Jan 3 20:47:42 2016 +0100

    Fix bugs in NativeCallback

commit 0714afe867e7c31a113be2d1e007aac480334f98
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 31 23:27:32 2015 +0100

    Add working Socket implementation

commit 8feb53ad6fc4a2bdb595226904183459cfa9b57a
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 31 22:52:48 2015 +0100

    Add working Module implementation

commit 3d79e4cf6bed3cc35314bcd5856a65e0c272b46c
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 31 18:02:09 2015 +0100

    Fix bugs in Memory and Process. Also don't overwrite ints, uints and numbers when we get an undefined while parsing args

commit 870f6ec3e746e0e9f46c3b59219bb4232d86dd5f
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 31 15:38:53 2015 +0100

    Add Process implementation

commit 622006a95ec2617aa43898ad0f5ab4352c042356
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 31 05:32:46 2015 +0200

    Add Thread duktape implementation

commit e7580b4f10a131913ad7955960fdac14b348be2a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 31 04:04:52 2015 +0100

    Fix hooking of recursive functions
    
    It's fine if an instruction back-branches into the part we'd like to
    overwrite if it's to the first instruction.

commit c02347d052ee8f7ceae5092908670e05c7702841
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 31 03:24:04 2015 +0200

    Split utils off into their own file

commit 13f4581e88587711c0a5cd359676452af170161e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Dec 30 22:04:05 2015 +0100

    Prevent InvocationContext CpuContext from getting GCed prematurely

commit 93d3569037f83955f70e2acddaeff92b32f1f020
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Dec 30 21:54:23 2015 +0100

    Make the InvocationContext `context` read-write as it should be

commit 9fa55cb05e541a5ffab81032b14484e2ce8cec6d
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 30 21:59:03 2015 +0200

    RPC test now passing

commit 503be040e81ef93427a97422463a79e394266b60
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 30 21:02:07 2015 +0200

    Push broken array_get_data_ to consult with oleavr

commit 97255391e114850759a90b838ae3cd39ba0dabea
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 30 19:19:49 2015 +0200

    Initial Memory implememntation for duktape

commit df8062e9fd481d0d63a8fe5db4e1d0bd0d277a2b
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 30 17:37:31 2015 +0200

    NativeCallback working

commit 4116e555c58e063fa302c61bfd9469d99dfc678a
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 30 16:28:44 2015 +0200

    Fix index bug in protect/unprotect

commit 202767da109c336ec02cd47a05b5278a3f19088c
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 30 16:27:55 2015 +0200

    Protect the unhandled exception callback

commit bcf8d6ed6186e3d3cc606b98e20ec5e6f908cb9e
Author: s1341 <github@shmarya.net>
Date:   Tue Dec 29 21:21:13 2015 +0200

    More tests passing

commit 048f76c91dd6223946c87185002a90433b7589ac
Author: s1341 <github@shmarya.net>
Date:   Tue Dec 29 21:20:46 2015 +0200

    Add promise runtime js to duk generated runtime

commit ab1b5a713eacd2e0567175e69beaea2d7ffb700e
Author: s1341 <github@shmarya.net>
Date:   Tue Dec 29 13:28:44 2015 +0200

    /GumJS/Script/recv_can_be_waited_for now passing

commit d4d5cdefe35c3872f1fe98d403ef4c4740cb9256
Author: s1341 <github@shmarya.net>
Date:   Mon Dec 28 22:18:13 2015 +0200

    Making dukinterceptor work

commit 10de2874b1cb731b1241bdd0cccaa7e3a9704023
Author: s1341 <github@shmarya.net>
Date:   Mon Dec 28 22:17:00 2015 +0200

    Add compiling gumdukinterceptor

commit f90ca38de7874e685ead199b9b3e0caa7afd4e32
Author: s1341 <github@shmarya.net>
Date:   Mon Dec 28 19:21:56 2015 +0200

    Check for obj === class.prototype in finalizers

commit fcaf6310507720a659bc017495ec8b54260b0874
Author: s1341 <github@shmarya.net>
Date:   Mon Dec 28 18:01:10 2015 +0200

    Add duktape support to tests

commit 9e71869694e2f385d78b4ecfa51fa77b405491fa
Author: s1341 <github@shmarya.net>
Date:   Mon Dec 28 17:59:59 2015 +0200

    Add duktape support to gumscriptbackend

commit 104e5a0df7baf1e1c7be6894ac474b83b42b48fb
Author: s1341 <github@shmarya.net>
Date:   Mon Dec 28 17:59:26 2015 +0200

    Update makefile to add dukglue and dukbundle

commit 8bd5f0781bd270863d356ad1d2da360050608dfb
Author: s1341 <github@shmarya.net>
Date:   Mon Dec 28 17:58:57 2015 +0200

    Working NativePointer and passing send/recv tests

commit abdd6db342a15fc9b4152f04409d8cbfe8b3ad03
Author: s1341 <github@shmarya.net>
Date:   Mon Dec 28 17:57:13 2015 +0200

    Add duktape support to generate-runtime.py

commit ab56e9a3b579927e9bfeaf77ff086f1ceb0107ca
Author: s1341 <github@shmarya.net>
Date:   Mon Dec 28 17:56:08 2015 +0200

    Also install node tools on linux

commit 5d2a791fb5defc8004545ae7ddfcce607c2f1a44
Author: s1341 <github@shmarya.net>
Date:   Sun Dec 27 23:06:37 2015 +0200

    gumdukvalue.c compiling

commit d4836292e093f0c912d731ad90845f0c69215ca3
Author: s1341 <github@shmarya.net>
Date:   Sun Dec 27 22:39:41 2015 +0200

    gumdukcore.c now compiles

commit 75d8a52eac8a4410e26b0d472f28d43a8f02bc5c
Author: s1341 <github@shmarya.net>
Date:   Sun Dec 27 20:37:57 2015 +0200

    Further work on the duktape JS engine integration

commit 87e5bdba8c2e048c84ff73630f120a9a162ab991
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Dec 26 15:49:41 2015 +0100

    Avoid static C++ objects to allow use from library initializer

commit 0a0492bda7d110ab2431450594934d1ed215d1c4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Dec 25 15:48:21 2015 +0100

    Add a fallback strategy for partially resolved symbols

commit cf2f2c507c60ba87c51c7877ffafbdab5d5a24cd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Dec 25 00:13:29 2015 +0100

    Only run the recursive test in slow mode for now
    
    We cannot yet hook this function on ios-arm.

commit d952006a3acceb017e040e21d7b32cb7d2c9190b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 24 23:34:00 2015 +0100

    Fix crashes when invoking APIs with the wrong `this`
    
    This was an anti-pattern that resulted in a crash when trying things
    like: `.map(DebugSymbol.fromAddress)`

commit 90212a28ada2c82911e865462fd5f14c07bd7684
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 24 20:24:04 2015 +0200

    Initial gumdukscriptbackend and gumdukscript

commit aadb0ebb69fe67688eb2e98f3cee7948c9e7dc4d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 24 18:04:16 2015 +0100

    Add build system for duktape runtime

commit 8a1355fb025753b2608c56d3939fb7980c59d95c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 24 17:50:28 2015 +0100

    Add duktape 1.3.1

commit 0bac577d2a5737134f7143a2bf91462343f51a3a
Merge: 0d5bb468 dafbd46d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 24 18:24:31 2015 +0100

    Merge pull request #127 from s1341/master
    
    Support linux-arm

commit dafbd46dd651e47a8d809a360ba747b5ad15d455
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 24 19:17:58 2015 +0200

    Ammend comments

commit 687df44f2347ffc8b29b3e32962b5b42290be413
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 24 19:16:14 2015 +0200

    Unset thumb bit in cpsr if we don't need it

commit 9420f1f8eed740ad14a7a0e08035dd7715b6d532
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 24 16:22:01 2015 +0200

    Fix timing of free and destruction in gum_script_job_free

commit db8a7e75813b8a08aebe5c058c7e6c288887b8aa
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 24 16:20:42 2015 +0200

    Don't run socket_endpoints_can_be_inspected test on linux-arm

commit 8a611b7db797867be05f6a4f307b3b45ea6099b9
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 24 10:41:02 2015 +0200

    Remove dummy argument used to work around the r0 being set to 0 issue, as we have now resolved that

commit 0ed192e22aa225ef01a9e7bde7ed64a222834bfc
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 24 10:36:43 2015 +0200

    Add CPSR to GumCpuContext on ARM
    
    This resolves the issue we were seeing on linux-arm where we would get
    a second unexpected SIGSEGV while processing a signal in the exceptor code.
    
    This manifested as an unexpected SIGSEGV and the r0 register being overwritten
    to 0.
    
    The root cause of the issue was that we were not correctly setting the CPSR
    register in the context, resulting in the kernel's `valid_user_regs` call
    failing, causing us to fall into the 'badframe' label of sys_rt_sigreturn.

commit 4d380f214bd8d511053d80003c0c807eb4e932d3
Author: s1341 <github@shmarya.net>
Date:   Thu Dec 24 09:53:23 2015 +0200

    Make the detection of _test_util_system_module_name much more robust

commit b12894873e2b53a3b2cb0e892e310e6d14c58e6e
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 23 12:42:26 2015 +0200

    Add a workaround for the r0 being overridden to 0 issue experienced on linux-arm.

commit f0b705ab787d4769872af200d0a6ae377eff24bf
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 23 12:39:29 2015 +0200

    Skip known problematic process_threads test on linux-arm

commit 869046c24f64e8bf3409f0cecfa2f0c1003dcbc0
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 23 12:38:48 2015 +0200

    Make _test_util_system_module_name search a little more generic.
    
    Specifically, deal with the case where there is no libc-XX.so and there is only a libc.so.XX

commit 452ecf49edc4eca870063a9fe1af5eb77e34dc33
Author: s1341 <github@shmarya.net>
Date:   Tue Dec 22 14:26:43 2015 +0200

    Remove unnecessary __ANDROID__ ifdef

commit 3ff4aea264aa0823211a7b362694beaaedfb4b29
Author: s1341 <github@shmarya.net>
Date:   Tue Dec 22 14:27:14 2015 +0200

    Add specialfunctions and targetfunctions for linux-arm

commit 0d5bb4685bf5ffe64028c857a5af021832221493
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Dec 22 09:06:08 2015 +0100

    Fix warning

commit 6a091b3b63d75f596c97a1431ca45b6e172d69e3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 14 15:42:07 2015 +0100

    Fix regression caught by test-suite on Darwin
    
    This kludge will no longer be necessary once we implement
    gum_thread_{get,set}_system_error() for Darwin.

commit 3f0e4563b00083ee853ae80d1bd02bdc6572d30b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 14 15:19:02 2015 +0100

    Fix warning

commit 025bcc4baa0fb41ab2d876b8008e9c5d641ebc6f
Merge: e91485ff 9054f46f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 10 21:28:36 2015 +0100

    Merge pull request #124 from elvanderb/master
    
    Add TLS Emulation for Windows

commit e91485ff6289ca095e638dd15ffc2ce7cc91c839
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 10 21:24:06 2015 +0100

    Use the new Deflector API in the ARM backend

commit 6ae79dda5a25d95cb11e8fb3eee59808fd0658dd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 10 21:23:12 2015 +0100

    Add Deflector API for making long-distance jumps
    
    This makes it possible to reach a far-away destination with a minimal amount
    of instructions. Only implemented on Linux/ARM for now. Works by looking for
    a nearby ELF header and inserting a trampoline in an unused part, and taking
    care of routing calls from multiple callers based on their return address.
    
    This will allow us to hook tiny functions, and functions where there
    is an early CALL/BL that prevents us from overwriting beyond it.

commit 21012b56a486773e0710d52d51fa3a869febe254
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 10 21:12:37 2015 +0100

    Add gum_thumb_writer_put_bl_imm()

commit 61bddbcd338aa651d82dc98c9236882a41670dfe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 10 10:44:13 2015 +0100

    Implement gum_thread_{get,set}_system_error() in the UNIX backends

commit bb409c9feefe4c63865e2809ca2600bc05b6c8e2
Merge: d6a59275 b613f879
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 10 17:10:35 2015 +0100

    Merge pull request #125 from elvanderb/logical_shift
    
    Add logical shift right and left operations on pointers

commit b613f87935c7469d5990c4ac221fcefb64c1edc5
Author: Eloi Vanderbeken <eloi.vanderbeken@gmail.com>
Date:   Thu Dec 10 11:11:00 2015 +0100

    Add logical shift right and left operations on pointers

commit 9054f46f9229e0a58de2b02e67e7eda4cb2419e7
Author: Eloi Vanderbeken <eloi.vanderbeken@gmail.com>
Date:   Tue Dec 8 18:03:11 2015 +0100

    add TLS Emulation for Windows

commit d6a5927549b0543325d9890016db8c568a9b1347
Merge: 89a5bf54 5ae51a1e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Dec 8 16:42:01 2015 +0100

    Merge pull request #123 from elvanderb/master
    
    Emulate {Get/Set}LastErrror on Windows

commit 5ae51a1eac700f22962abcb88d0f0215ec8f75aa
Author: Eloi Vanderbeken <eloi.vanderbeken@gmail.com>
Date:   Tue Dec 8 15:44:41 2015 +0100

    Emulate {Get/Set}LastErrror on Windows

commit 89a5bf547d1732cfcea5d51673504a17dac22aa5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 17:31:33 2015 +0100

    Remove left-over include

commit 83a042c4aa68331182d4ee82f9317ee0286b2c32
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 17:14:31 2015 +0100

    Add missing include
    
    This was previously masked by the gumtls header.

commit 802df26c9e3029f09c587a4e72fe58d023fffb89
Merge: fdfe5318 5329a7c0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 16:18:13 2015 +0100

    Merge branch 'feature/interceptor-unified-trampolines'

commit 5329a7c0253a2b461eda7053e86f8cad3568676e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 16:17:31 2015 +0100

    Add a Darwin-specific TLS implementation

commit 9ef2b758714cc9acd181525204873c7d4502faf9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 16:16:36 2015 +0100

    Add a minimal test-suite for GumTLS

commit 5755d855f583c79d9597498fc392b6c53710df15
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 16:15:06 2015 +0100

    Add GumTLS to the public API

commit a82202ebec97e19b3e577563d08133f3363245f1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 13:10:13 2015 +0100

    Fix TLS key leaks

commit 959c5fc7c142bffe3712334ea8eeb95991082aef
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 13:10:03 2015 +0100

    Split the TLS implementation into platform-specific backends

commit 34e73efde3257c69178244d069c06a898fe1b6d5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 12:34:10 2015 +0100

    Update the slice sizes
    
    Based on empirical observations where the maximum slice size seen was:
    
    x86 32-bit: 40 bytes
    x86 64-bit: 62 bytes
    ARM 32-bit: 68 bytes
    ARM 64-bit: 132 bytes

commit 1a273e15a441a35f8b25af987f036f2b4e9bd4de
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 12:16:44 2015 +0100

    Fix the ARM64 backend

commit 7c463e4e5be20c9efb8e0a891b6705f2739fff7c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 12:15:31 2015 +0100

    Port the ARM backend to using thunks

commit da4d037fe445cfb4dba68ab8d8ef52bc6a28c4bc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 7 11:46:15 2015 +0100

    Port the x86 backend to using thunks

commit d5685c7f8690c3693723e37361f0621f149c3351
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Dec 4 19:41:07 2015 +0100

    Fix the ARM backend

commit 30a75e4088db6e73195fa2b12f58fc1925fb05d1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Dec 4 19:39:44 2015 +0100

    Improve consistency in the ARM and x86 backends

commit b36430762808b610a0383ff042612ba20e563d77
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Dec 4 19:39:16 2015 +0100

    Port the ARM64 backend to the new API

commit f626ed01b43d6af875d410fc249e25313a94c232
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Dec 4 17:23:04 2015 +0100

    Port the ARM backend to the new API

commit 3c8b77085bc30409401ec5dff3f8587a692414d2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Dec 4 17:22:44 2015 +0100

    Tweak the x86 backend style

commit 2522a8aff20aa646d8da362402e10223219dd683
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Dec 4 02:16:56 2015 +0100

    Fix handling of recursive functions

commit da6b9f2b4c6cb697c7320ba94045d3b3b1c4f51b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Dec 4 01:34:54 2015 +0100

    Fix the xip value exposed in the CpuContext

commit e9aa9ac8ec3fcabe2702c2bbdf9a10e2144e41d3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 23:22:59 2015 +0100

    Fix CpuContext access for replacement functions

commit 95e0aa9cdd8ba614bce8fb5faa452da914664b6a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 23:22:37 2015 +0100

    Improve the errno/LastError handling

commit aad49641f998fb6f160da0339ac470225a2c3a78
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 22:38:26 2015 +0100

    Fix argument access on x86-32

commit 48f8f455e9f997b0d53521a622e11f366836c4ca
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 22:22:53 2015 +0100

    Fix accidental clobbering of CPU flags

commit 68dea1f7fd827ed11c31b88ffd6a43c791f4ae14
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 22:18:49 2015 +0100

    Bring back the live attach/detach robustness

commit a7e62868a0d18eb5b7f63e4f5d1f07dbd45c2b60
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 20:50:36 2015 +0100

    Simplify the detach logic

commit 7493316f575dc0089d77a8da11e1498e178cc1b1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 20:46:31 2015 +0100

    Clean up completely when Interceptor is destroyed
    
    We only destroyed the backend and allocator, which means that hooked
    functions would be left behind jumping into deallocated memory.

commit d7bf930638fea593fb6a7b10b472f0f7498db813
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 20:16:44 2015 +0100

    Fix the conditional destruction logic

commit 09c0ad6cf630e833c53d235109bd1242ed4971aa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 19:59:41 2015 +0100

    Port remaining logic to allow attaching to a replaced function

commit 4ce2e23de18792c2e6e04d1807da19590b3419dc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 18:45:04 2015 +0100

    Fix handling of ignored threads

commit 7d1995a55fae10d26e30472bfa78090051bf8cf2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 16:40:08 2015 +0100

    Fix basics of the trampoline logic

commit bc22cc3715215d4f6938903e82dbf712eac8ee52
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 16:06:04 2015 +0100

    Fix stack alignment when invoking on_leave

commit 062d46b53a4c500556be825d2032e1808c80a165
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 15:03:06 2015 +0100

    Simplify the Interceptor trampoline semantics even further

commit 1c4ea797f74c949cf7a6f72f60e74dd84f53074c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 3 02:20:30 2015 +0100

    Start unifying the Interceptor's trampolines
    
    This will allow attaching to a replaced function, and vice versa, fixing
    a long-standing issue where this resulted in undefined behavior. It will
    also simplify the architecture-specific backends, as they only need to
    generate one kind of trampoline. This lays the groundwork for additional
    complexity in the backends to support hooking tiny functions, which has
    become a priority for Android/ARM.

commit fdfe531836831eecf5137fc14d8c82c00f04e8a2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Dec 2 20:10:53 2015 +0100

    Add function hooking test for fork() on Android
    
    Currently fails to hook the 32-bit ARM implementation on my Android L
    test-device.

commit c1b9f2b67e31594034f84d5da1ee4c3f8e7b36a0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 27 04:41:20 2015 +0300

    Fix the module enumeration slow-path for freshly created processes
    
    This was preventing us from spawning processes on Mac.

commit 4a8ede8492ad924cb574c59cd355406d83f15d99
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 22 15:50:58 2015 +0100

    Limit the performance test to slow mode on Windows

commit 5ea61ec454581625d09ca23d1e75799f9569d123
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 20 01:58:55 2015 +0100

    Fix crash when parsing the dyld_sim module in the iOS Simulator

commit 8b602ac9221deadece7defc9e4bc4fb9e581d6e6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Nov 19 23:14:34 2015 +0100

    Fix build issue on ios-i386

commit 4c86fdd33f2d13c7c846b152fb7fd6f0c5f2bf95
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Nov 19 16:54:25 2015 +0100

    Improve iOS detection

commit 0fe576614e84b1f507d6d807c1602e77926b2e49
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 17 00:14:56 2015 +0100

    Add API for getting a specific script backend
    
    This will allow us to link to gum_script_backend_obtain_jsc() and avoid
    pulling V8 code into our footprint. This is much simpler than having
    special build configurations to disable V8 for frida-gadget's iOS build.

commit dcccd3ecaaf318d71ef84f85cef21915c3c27007
Merge: 6b2e6a2f 3a1076e4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Nov 12 17:03:11 2015 +0100

    Merge pull request #120 from elvanderb/master
    
    Add the possibility to monitor any combination of R, W or X operations

commit 6b2e6a2fe8ca0c10a19f0346685cd84018771803
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 11 22:51:59 2015 +0100

    Limit some of the Stalker tests to slow mode
    
    Not yet stable on all OSes.

commit f691732ed4964feb164e667d5ea9f83a4bd4f845
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 11 00:43:02 2015 +0100

    Move v8 into the private requires to fix Android linking issue

commit e212e169f192dd02f37491ef8b022bdf06d35a11
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 14:43:56 2015 +0100

    Add missing files

commit c1d5738e98ae238de162b5635b9dfeee3848c0df
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 14:40:11 2015 +0100

    Fix warning about forcing value to bool

commit 3a1076e45139c5fe4e9a978e7c6da73564e7712e
Author: Eloi Vanderbeken <eloi.vanderbeken@gmail.com>
Date:   Tue Nov 10 02:37:04 2015 +0100

    Add the possibility to monitor any combination of R, W or X operations on a page
    
    Also add an auto-reset switch that can be used to monitor all the access
    or only the first one.

commit a79eedf8f9729bcc58cfc2a5afb93636aea620bc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 03:02:22 2015 +0100

    Enable the attach_to_darwin_apis test on all architectures
    
    With a few parts disabled for 32-bit ARM until Interceptor has better
    handling of short functions on this architecture.

commit f3183fb640e5e904c5dc548fc6cdf0007085a0ea
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 02:55:21 2015 +0100

    Resolve redirects for Thumb functions also

commit 8251b837c6fa2ca04ba2c71731a880b124e66a9e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 02:52:18 2015 +0100

    Adjust the code readers to gracefully handle invalid code

commit 1a155fc3388fe331358372bb47324f713d7def0b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 02:36:34 2015 +0100

    Avoid instrumenting functions that loop back to an early instruction
    
    Eventually we should improve the Thumb hooking logic so it's able to
    jump to its trampoline with fewer instructions.

commit a0064bca5a4a73e0eb12e58602cb1f8e166ce795
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 01:50:56 2015 +0100

    Add support for relocating B.cond

commit cfda7309465433c90ef1d227a1e7c7311246930a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 01:50:23 2015 +0100

    Remove redundant scope

commit 08ddf93b2e28753a621d3bea57be8d290fb7ffb6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 01:50:12 2015 +0100

    Add gum_thumb_writer_put_b_cond_label()

commit 17d1a4fa4b7e8260555fc410326854f7591bbe71
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 00:28:13 2015 +0100

    Add support for relocating IT (if-then) blocks

commit d511a33ea79ac7736273a300744111af066fb4b4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 00:27:46 2015 +0100

    Avoid memcpy() calls in the code-writers and relocators

commit dedff3782b8b8cb9e58a92f5d99cbbe6dea62920
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Nov 9 23:23:20 2015 +0100

    Embed our own version of mach_vm_protect() on ios-arm and -arm64
    
    This lets us hook read() and other important functions on kernels without
    kernel support for RWX pages.

commit 41047349e891cf83e948edd1621657ccdc36c31b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 8 20:49:05 2015 +0100

    Improve support for hooking libc code on kernels prohibiting RWX pages

commit 2d927e09ecddb2a62d66bc6c5e991d37acc2544e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 8 20:47:34 2015 +0100

    Add a tiny libc module
    
    This is needed when we're running on kernels that don't support RWX pages
    and we'd like to hook a function residing on the same memory page as for
    example memcpy in the libc. As we need to flip the memory page to RW,
    memcpy() our new data, and then flip it back to RX, we cannot use for
    example memcpy() while the libc page is RW (i.e. not executable).

commit 59d48a113e9eb7fc3d69fb6c17e1b2ec09608d0f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 8 19:43:31 2015 +0100

    Fix gum_exceptor_try/catch on 32-bit ARM
    
    Until our CpuContext contains cpsr we will have to encode Thumb IP values
    this slightly convoluted way.

commit 9e7bc1fb4847faa14369f4c3464f00b6d745d7c2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 8 18:52:24 2015 +0100

    Sign the Mac and iOS test binaries

commit e5c3f87259f45206f2fd0276a5a65afc121b4324
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 8 18:51:01 2015 +0100

    Rebuild the ios-arm test binaries to satisfy new alignment requirements

commit f89a2fe0f71ef9e2b444abbdf76cd8cfc448ef90
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 8 15:13:05 2015 +0100

    Destroy the kernel task port on gum_deinit()

commit d74e1240d1111231191f49b42aeff9474f4bed03
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 8 15:08:43 2015 +0100

    Improve handling of Kernel API availability
    
    - Expose Kernel.available to JS.
    - Throw if calling any methods when !Kernel.available.
    - Skip test-suite when not available.

commit 36ef4f4f3c103e4ae90faff20a4b62bd4d1d12d0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 8 15:07:18 2015 +0100

    Add gum_kernel_api_is_available()

commit d274dcf56f82f8d9409e2370d58580594006df1c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 8 15:06:54 2015 +0100

    Add gumkernel.h to the toplevel header

commit 2c1b395f560ec222e3d9545ec18d949ddbc70154
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Nov 7 23:39:26 2015 +0100

    Improve module export resolving in the Darwin backend
    
    - There may well be more than one section containing code.
    - Don't limit ourselves to regular sections only, in case of symbol stubs.
    - Call the resolver if we're in the same process as the module.

commit dd367cce38e453986119dbd88f93de06b5527222
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Nov 7 22:02:26 2015 +0100

    Link JavaScriptCore weakly so we can run on older iOS versions too

commit 363a19cc5c082af3db379d941a97d171a3e31def
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Nov 7 05:39:46 2015 +0100

    Revert "Lazy-load JavaScriptCore"
    
    We do actually have a data reference to it.
    
    This reverts commit 8d49653361b0d47d035125bf50040b3d3ce9d24c.

commit 8d49653361b0d47d035125bf50040b3d3ce9d24c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Nov 7 05:38:42 2015 +0100

    Lazy-load JavaScriptCore

commit 1847f0ccaae73d9fd9c6d61d877e5445c03710ae
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Nov 7 05:38:25 2015 +0100

    Only enable the JSC runtime on iOS

commit 028d7927f3f454100188b9f187ce19f68f8b0b36
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 6 15:08:37 2015 +0100

    Fix stability issue when using registerProxy/registerClass
    
    NativeCallback objects were not kept alive and got GCed prematurely.

commit 2301ec755d364fe8411ad86eeb5e3b3aa77059f7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 6 04:41:29 2015 +0100

    Finish reworking the locking in the JavaScriptCore engine

commit 66949347899c737a95640630d641a1a90c6c457a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 6 04:15:33 2015 +0100

    Start reworking the locking in the JavaScriptCore engine

commit 280b8281f942c279259e19a97299e4872d95ec50
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 6 02:41:24 2015 +0100

    Fix bad indentation

commit a3afa086847f614495081f7b5212b16272361c2e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 6 02:40:09 2015 +0100

    Revert "Fix yield logic to avoid deadlock scenarios"
    
    Turns out that JavaScriptCore does drop all locks before calling out to us.
    We need to stop holding our own locks when calling into JSC.
    
    This reverts commit 368f1ef7dcf3e16bf7c9e7b3bb1b7aa9df9347da.

commit 368f1ef7dcf3e16bf7c9e7b3bb1b7aa9df9347da
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 6 01:21:49 2015 +0100

    Fix yield logic to avoid deadlock scenarios
    
    Turns out JSC does its own internal locking and there's no public API
    for letting go of those lock(s) when our C callbacks need to perform
    a blocking operation, e.g. calling a NativeFunction.

commit abbb95b27d991809f9e928dce54f4e9200023ff4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Nov 5 16:46:21 2015 +0100

    Get rid of the script flavor and just expose a Kernel API regardless

commit 03626c8cad3a77c0b58a04b23b939a946e8e8705
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Nov 5 15:57:49 2015 +0100

    Fix inconsistent toString() behavior between V8 and JSC runtimes

commit 7d7de887086ec322149e850907998b331378857d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 4 16:35:52 2015 +0100

    Add support for relocating tbz and tbnz instructions

commit b62ddee397fd34857bfc673874b61d0c247aeb21
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 4 16:34:56 2015 +0100

    Add support for emitting tbz and tbnz instructions

commit f29ad095aa797256a29819aa65964d9942ade29a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 3 21:39:06 2015 +0100

    Fix catch-22 resulting in calls from our JS thread not being ignored
    
    Our logic that hooks the thread creation API in order to blacklist our
    own threads needs the ScriptBackend instance, however, obtaining that
    instance resulted in the JS thread being spawned. We solve this catch-22
    by spawning this thread lazily.

commit df722618611bdb2b7978274b62bf9de12560de16
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 3 18:47:08 2015 +0100

    Add node_modules to gitignore

commit ad0f021f8eda1f2ce98d479015922d5888e35397
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 3 18:46:07 2015 +0100

    Fix the JSC build steps

commit c3a0cdf038e645cf7cb3e08f546a91275daae751
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 3 18:34:18 2015 +0100

    Improve the Babel build integration

commit 9637d77038e0951bd17f5acec1a90212a333cdad
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 3 18:14:41 2015 +0100

    Fix the Babel build step

commit e2a2c2ea3e06930c566c935501d34e0dbb7e552c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 3 18:11:21 2015 +0100

    Install npm modules in the intermediate directory
    
    Otherwise we prevent parallel builds.

commit a5734cf9ea16cac9df0f741b7fed95740bddcd39
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 3 18:07:08 2015 +0100

    Update autogen script to match the latest version of Babel

commit 8a6211d7426a928943db715f21df5beb585f38c0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 3 17:42:50 2015 +0100

    Rename the runtime files for consistency

commit 8b1f2543c9b5e98522140155c6899b0faa94ec2c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 3 17:36:52 2015 +0100

    Update the babel install hint

commit 9354b35811602895123c2480f35dcd0f8035afa5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 3 17:36:38 2015 +0100

    Don't assume that the `stack` property is always available

commit 8b26c124560780bb9bb4e7ecc9d040ca42117423
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 3 00:01:50 2015 +0100

    Fix warnings

commit 1a106c14d8f9289e5c4465f6e66c62cbec389d7b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Nov 2 23:45:31 2015 +0100

    Update the Windows build system (untested)

commit 24786e788a9a8f409953abb72204e81a61615443
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Nov 2 22:50:18 2015 +0100

    Ignore requests to unprotect after the context has been destroyed

commit f0c61a4e8e06f99bf56fb589f45a77e5dd862d99
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Nov 2 22:36:36 2015 +0100

    Add ScriptBackend.supports_unload()
    
    Turns out that JavaScriptCore isn't deterministic about when a GC will
    clean up everything, which means our code cannot be unloaded from the
    process until some point in the future. Otherwise our finalizers might
    get called when we're unloaded, or after we threw away our heap.

commit 0264d8b642aaf66dfe50c6b81f53f6945d224225
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Nov 2 19:06:07 2015 +0100

    Never call JSValueUnprotect() from finalizers

commit f5d23b4e18d0e39459b8bd79476276867e630fbe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Nov 2 14:01:35 2015 +0100

    Fix ScriptBackend reference leak

commit 9245b4bf6819e7c12e0c164e74c7b9270b1c219e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 21:18:23 2015 +0100

    Handle modules without any exports trie

commit e85094818231ccd96f0cafb417922b7d54a1a6bb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 13:53:53 2015 +0100

    Update the GumJS vapi to match the new API

commit e7b00f314a719959a8dab8d624fcdde0deb53cf8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 13:42:44 2015 +0100

    Fix remaining tests on JavaScriptCore

commit 0a85de9490d4cd2287a90c5c068676159c424796
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 13:42:14 2015 +0100

    Only use the JavaScriptCore backend on Darwin

commit e62ffab0f3867a4eec857527385b81373f61242a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 13:15:43 2015 +0100

    Fix crash due to initialization depending on property set later

commit b82317f15c42a587686a2fd9d1849c4d3d04aef4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 02:47:09 2015 +0100

    Allow attempt to revert a function we didn't replace

commit ec27eaf9e3a518f27704b2d04f7591c45c893875
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 02:45:01 2015 +0100

    Fix initialization of private data

commit 2b0e40ba79169c1ac987630f07f519dadd357754
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 02:29:36 2015 +0100

    Fix warning caused by disabled test

commit 75e5c280f9ae9ff64e61f9da189538f801db9acd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 02:24:38 2015 +0100

    Update GumJS tests to the new API

commit 09f59c18c4a459d53399508efafe4e8917dcbd22
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 02:07:27 2015 +0100

    Add gum_script_backend_obtain()

commit be298a8f298cb8e42e5cc2ebbcfc8f7fedf34331
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 02:06:37 2015 +0100

    Remove redundant cast

commit 86d31eb6f6f2a9a70ce888d0a6b7a4a17b9d6dff
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 01:26:13 2015 +0100

    Keep reworking GumJS towards its new API

commit c92d0874edb2eb86736cf9163a4bc3c83add69ec
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 31 04:55:37 2015 +0100

    Move the V8 thread ignore logic to where it belongs

commit c4f2226f20cbb7503abd5f08c32f9a28b1c121e3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 31 04:19:22 2015 +0100

    Keep wiring up the V8 runtime

commit 5b93cd72bcb34fde3d922567fa7ee2d5649144bd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 31 04:11:17 2015 +0100

    Fix typo

commit 205a8ffee77510e67725821262e62d946410ca9b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 31 04:10:43 2015 +0100

    Wire up most of the V8 Script logic

commit 353228ecc838086a6f2bc3190ae936cc98d766fe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 31 03:26:04 2015 +0100

    Wire up script creation from the backend's perspective

commit 0c1f6728c7cd18d49aaaccce7ca7329f9d894dc1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 31 02:56:26 2015 +0100

    Implement basics of the V8 ScriptBackend

commit f41edc3b76d3f93d3a15088404d9b3d58c604727
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 31 02:56:04 2015 +0100

    Fix copy-pasta errors

commit 5c0da2d762f6749a324ebc5a65b53d08e9fa1b7d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 31 00:29:17 2015 +0100

    Fix ScriptFlavor type mixups

commit d02bff01ea1c3ed77125176fa44d568054dd0e73
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 31 00:28:35 2015 +0100

    Add missing G_END_DECLS

commit 200f3eeeec6dab0dc232e2179f91b59be418cfcc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 31 00:15:41 2015 +0100

    Keep adding missing pieces

commit 5bfd71ead78896078441e833c63333b7c75b8c45
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 30 23:23:37 2015 +0100

    Fix some naming mixups and start updating the build system too

commit ca7f0db7e2cc4db934aca9d92ac94305a18e57a5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 30 15:34:04 2015 +0100

    Rename the two backends

commit 45d2b14df48dfc08df6de933bbec4379eb457990
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 30 11:07:54 2015 +0100

    Start splitting Gum.Script into two interfaces

commit da8d8dad885efa7001c1b574806d15781ed23c52
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 30 11:07:12 2015 +0100

    Fix coding style inconsistency

commit 790e652f992d78d4e40c463a142a05314724a9de
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 30 00:33:43 2015 +0100

    Code-sign the mapper-test program

commit 0f194953aa51e25a04fcdb7f17ab67141a549588
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 20:33:04 2015 +0100

    Fix another strict mode violation

commit 954c2799f64fcb80d63643cd601ed12b05412c06
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 20:29:22 2015 +0100

    Fix accidental strict mode violation

commit aee04788aac303b09555b4f9a3554dc5bc527063
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 20:08:41 2015 +0100

    Fix accidental strict mode violation in test

commit 8e3cf1b6d9fd39505424fbd7e64b2e76189dc81f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 20:03:00 2015 +0100

    Fix confusing behavior when trying to access inexistent properties
    
    Also, emulating the same kind of weird behavior on JavaScriptCore is
    tricky due to the runtime checking if the property exists before trying
    to get it.

commit e7cbbbdede150ed4e8c17cfef6190959a95700d2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 19:56:54 2015 +0100

    Avoid losing bits when converting large integers from JS to FFI
    
    We will still lose some due to the nature of JavaScript numbers, but no
    need to truncate to a 32-bit integer.

commit 0c189520451dd84e0fcc2be9444d75916fe00553
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 19:53:02 2015 +0100

    Add value conversion helpers for 64-bit integers

commit 56a5092f61dfdeabf62f6cd8a4835a0995c73f1b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 19:51:58 2015 +0100

    Fix inconsistent return value of has() trap

commit db2b919caef94bb2f71a203f6974955ca2b036ad
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 19:19:07 2015 +0100

    Fix NativeCallback callback life-time

commit 4b3c2e5e9d8ab3d1d5200e04d9a522b10b7b8948
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 18:35:29 2015 +0100

    Avoid ES6 in the ObjC tests

commit 89db77395ab6276e64f8de6870484d064be42510
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 18:34:50 2015 +0100

    Run all test code in strict mode

commit 4cda068536bcf42841bf77fe4d89838bcd0ba9b3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 18:16:59 2015 +0100

    Add 'O' argument format specifier

commit 8247d94ddfed26297abc5266a0688ec937b21ba9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 18:16:32 2015 +0100

    Add support for choosing the Proxy's prototype

commit 068366a5e5446d89f89270a02d5b3fafecf33ec2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 03:43:59 2015 +0100

    Avoid ES6 in the generated code passed to eval()
    
    Otherwise it won't be portable to JavaScriptCore.

commit 8237629ccfc8ce931a6becd1f717338f5503abb0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 03:43:36 2015 +0100

    Add support for passing object with `handle` property as NativePointer

commit e6a90db17da7e514ffc4cde0fcea01aab94c9392
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 03:31:09 2015 +0100

    Add a minimal polyfill for ES6 Proxy

commit ec83bb22cb4375876302e342d0a0724920f09374
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 01:02:00 2015 +0100

    Implement the Kernel module

commit 9f33682cf29818a2e2d6a5469c9297d6e7484449
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 01:01:41 2015 +0100

    Fix constness of bytes argument of gum_{memory,kernel,darwin}_write()

commit b034ae1c5bd7e7eb540b192c9ca2e6f1f682e4e5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 29 00:24:28 2015 +0100

    Implement the File module

commit 4e3d821946fab712531e1e4a0e24c13c0b170d0b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 23:37:48 2015 +0100

    Implement the Instruction module

commit 04e3f5eb9b8dbee8af97b02540dbfe43294328fd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 23:37:38 2015 +0100

    Fix disassembly of Thumb instructions

commit 065f27159046bd1f6751633a1409b6a1253e754d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 20:09:09 2015 +0100

    Implement the DebugSymbol module

commit 9b4bf88255dcf562e1655fe91dedf4c7fc1458f3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 20:08:33 2015 +0100

    Add macros for declaring and defining converters

commit d5997f34504c432321dbcf3a49165bdf8b059033
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 20:08:15 2015 +0100

    Fix confusing naming

commit 29f731dfaa11294537db409bb5db543889087d6c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 18:36:59 2015 +0100

    Fix style inconsistencies

commit 0c58d0aaaeed249ee9fa41fb28add83f307bf8d8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 18:34:42 2015 +0100

    Implement the Socket module

commit c952d2fd9480105266cb64abd5f87e13ba11ce7b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 03:43:37 2015 +0100

    Implement Module.findExportByName()

commit 0dcc35736e539d0fa0a8f5dd7f5705429683c442
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 03:43:20 2015 +0100

    Add support for parsing nullable strings

commit 80d117ac63446975181354d6563bc80534c09f7f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 03:33:09 2015 +0100

    Implement Module.findBaseAddress()

commit 1c923ffef7f84a3acda0af0a61e7ca645b0f8946
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 03:27:47 2015 +0100

    Implement Module.enumerateRanges()

commit 72456f9e9f00a52b38a0f0c49204570c7e4b5210
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 03:18:42 2015 +0100

    Implement Module.enumerateImports()

commit 5b4c020b411044e4c412d68e10c2248317514c75
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 03:02:20 2015 +0100

    Fix minor inconsistency

commit 5230979717cde2d2f4afb372ea6597065c6273e3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 03:02:08 2015 +0100

    Implement Module.enumerateExports()

commit 595766a260328cde0113deaf11459525711f5783
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 02:28:33 2015 +0100

    Add support for source-maps in the JavaScriptCore runtime
    
    We also convert the stack-trace to the same format as used by V8.
    Note that JavaScriptCore doesn't provide a stack-trace preparation hook
    like V8 does with Error.prepareStackTrace(), so we expose a helper as
    Script.symbolicate() that we call automatically for unhandled exceptions,
    and allow this to be called explicitly by scripts that would like to
    handle and report exceptions themselves. It is also safe to call this
    from scripts running in the V8 runtime – it doesn't modify the value at
    all in that case.

commit e74f7482d23dfe9bf5bdbd13167919d8960ebbb1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 02:20:44 2015 +0100

    Ensure that the base64-encoded source-map is valid UTF-8

commit 2dede15ea47e121456022c8f67a9fc76fe014397
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 02:19:53 2015 +0100

    Implement Script._sourceMapData

commit 40c99b24d9ae11bd7c35d583b6baabdc7e842180
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 02:19:39 2015 +0100

    Implement Script.fileName

commit d4d9538edeecdcb3c004f7b20b1866506c9df1a8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 28 02:18:53 2015 +0100

    Add Script.runtime property to know which runtime is being used

commit 7b6ad60f7b130f401811cc695a8c304433a22447
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 14:52:28 2015 +0100

    Implement WeakRef.bind() and WeakRef.unbind()

commit 0d47efea450507c9eba8f5d97285df5cb58e3fd6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 14:51:59 2015 +0100

    Remove unnecessary atomic operations
    
    This code is protected by the V8 lock.

commit 2f833c7008e50f85063fffaf6377333c23b61f92
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 01:49:23 2015 +0100

    Implement Process.setExceptionHandler()

commit f3311a2eb1db3d9e21919e81ce7ed6c9af0b4a3a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 01:48:51 2015 +0100

    Implement the rest of the exception parsing logic

commit 32be6e2399fb288d1dfad4d53afcb58c0aad3319
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 01:48:20 2015 +0100

    Rename argument for clarity

commit 8f9730c0ff829b216fa9863948d0f611e7ba2e2a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 01:48:08 2015 +0100

    Add convenience API to get boolean values

commit 4030bb6515c48a85a79ef7bb032e9e81ccca8fff
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 01:12:35 2015 +0100

    Throw if attempting to enumerateMallocRanges() on an unsupported platform

commit 65e2aa001104e1ce3f3238d2c813efdeb5654c28
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 01:08:12 2015 +0100

    Implement Process.enumerateMallocRanges()

commit ea0724a19d67e853a4b215413e2120a6c3865939
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 01:03:47 2015 +0100

    Fix Process.enumerateRanges() in the V8 runtime
    
    The `file` fields were set on the wrong object.

commit b1d935e87e574450622e051ce73c44671b786596
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 01:03:19 2015 +0100

    Implement Process.enumerateRanges()

commit 0c1b17c13581dd3d1b8f18406b192def8d07a00d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 00:52:53 2015 +0100

    Implement Process.enumerateModules()

commit 48ad324695c830472e0d77bfd384b3fb886e58f2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 00:36:59 2015 +0100

    Implement Process.enumerateThreads()

commit 8229a5fa939a70b3f646d779b470725a1a9e8ac9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 27 00:35:55 2015 +0100

    Add GUM_SCRIPT_SCOPE_INIT for using an already entered scope

commit f7447574e8eb4667c1af061b9f4fb49aba7f14f7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 26 23:52:20 2015 +0100

    Fix Memory.writeUtf16String() typo

commit cc025ab47b8f176497c0d5862e7105f83f8b0ede
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 26 23:44:30 2015 +0100

    Implement Interceptor.replace() and Interceptor.revert()

commit 0c8194cc947fa9aafb032b75b9bb0c72ba0490aa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 26 21:33:11 2015 +0100

    Fix NativeCallback crash on finalize
    
    We should rather store a strong reference.

commit 95bc984251dde69093170bd1cc9eb4bbceb557f7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 26 19:55:02 2015 +0100

    Implement NativeCallback

commit ae68620be421e45837ba1fc06c9a212d2e5d3fe8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 26 16:29:04 2015 +0100

    Fix native_function_crash_results_in_exception test on JSC

commit a6cf5dd18121dfc71b7666a223f74208e057ce3e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 26 16:14:46 2015 +0100

    Implement NativeFunction

commit 7ae7767fab86c31a87a87952351aaafd073a145f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 26 16:14:24 2015 +0100

    Avoid unnecessary work for ignored exceptions

commit 67f8fd2a6e87322c3c676a3e7bffcb3cbcc9ee7c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 23:31:04 2015 +0100

    Start implementing NativeFunction

commit e0115517cf4c781cdb725b4cd6bf7d2c2188aebc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 23:30:22 2015 +0100

    Remove redundant return statements

commit 3c76a12490824e6d39a600c01df9d2fbe22c6d15
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 23:30:14 2015 +0100

    Add support for parsing any-values and arrays

commit b8abb91403ae760d07f88ec006fe05a4c3484713
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 22:46:13 2015 +0100

    Use g_clear_pointer() for some easy DRY improvements

commit efea3537c1e607fbace41be66dc5983cdc240af6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 22:22:24 2015 +0100

    Make the class registration logic a bit more DRY

commit 3cd96902d22dd22c58ae4e210348c841bf97b527
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 21:59:50 2015 +0100

    Add support for getting the thread id in on{Enter,Leave}

commit a68dacf0363fc7ca188e21d3faf84252efed6e03
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 21:46:19 2015 +0100

    Add Thread.backtrace()

commit cb19bb1b185cdcdd619c59619ea42253059b4b21
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 21:45:45 2015 +0100

    Fix syntax error on ARM

commit 6e1cd8dc82bd42dcbbdc1f86607c903cc58ccd6b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 21:03:19 2015 +0100

    Add support for parsing CpuContext values

commit 463199bbe159e5f28a925e712c19541b2958d418
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 19:40:32 2015 +0100

    Use “F” for function specifier

commit 29b4f271ec2bf8cf6fd5687c62f2ec45d73ead7c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 17:10:05 2015 +0100

    Add support for reading and writing errno/lastError

commit edeaedfbfe0ee3c510f8395c419618fcf9e9dc2e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 25 17:09:04 2015 +0100

    Introduce GUMJS_RO and GUMJS_WRITE for specifying attributes

commit 24c61d701c7529ab289a978b0dd13449375739bf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 24 12:52:19 2015 +0200

    Add support for reading and writing registers from on{Enter,Leave}

commit 55b4329345c162eb47b1c1ae91b3306a0371a2e0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 24 09:52:04 2015 +0200

    Guard Invocation{Args,ReturnValue} against use-after-on{Enter,Leave}

commit fdd44cae9c4410158f1c21d742d5a9221ce92fb0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 24 09:13:09 2015 +0200

    Add basics of the `this`-bound context object for onEnter/onLeave

commit 0591bc620c7641057089cb2c6eb340ed72ba4d87
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 24 01:33:18 2015 +0200

    Add support for replacing return values

commit 9be1177d0882d7e2c55fe5833294776fb8509631
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 24 01:32:24 2015 +0200

    Improve NativePointer to support subclassing with native data

commit 4ff2f58c2970c2e32a9dec7dc8456d338e9c3ab8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 23:46:05 2015 +0200

    Add support for reading return values

commit 89e6371c20fced7376f5c5b028ad86726d1e04b5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 23:45:41 2015 +0200

    Add convenience macro for updating a NativePointer

commit cb129531fc0ff655bc5fb5dc6c24f6ab07ec0d9e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 23:32:01 2015 +0200

    Add support for reading and replacing arguments

commit fab668d24e395efa4a595a2be8e687208457135d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 23:31:07 2015 +0200

    Add helper for parsing JSStringRef containing an uint

commit d1b3bf00013a9a09149f8779e95924ee4fc211d1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 16:19:18 2015 +0200

    Let Thread.sleep() return immediately if delay is negative

commit c36d513301ab1e34161e5b7538dfdf1bbf2c9615
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 16:17:25 2015 +0200

    Add Thread.sleep()

commit 70911a17c90f884f65da57c84ef60dbacaa1860e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 16:17:11 2015 +0200

    Add API for yielding the JS runtime

commit 82c7c7c5108751444e5536b6297dd9dd84db44fe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 16:03:16 2015 +0200

    Add stub properties to the DebugSymbol module

commit a1e7c8675ec7db6dd3286604db0305a07acc59e1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 16:01:21 2015 +0200

    Add stub property to the Instruction module

commit 6fcfdd01cd6d7ae9a7f48c7f42af22bac24007f9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 15:58:58 2015 +0200

    Add Stalker properties

commit 65d2dc66a2e71f046c977919315bb9e8d7416c98
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 15:58:39 2015 +0200

    Remove unused field

commit f90b6e3b4417410ffb4449fcdf45831c523d299f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 15:58:29 2015 +0200

    Add property setter macros and improve consistency

commit 7d3e60e6f9c751808817e7d36b07a9364687079b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 14:52:43 2015 +0200

    Add stub properties to the Stalker module

commit 205e743ce6d23b7e75c0b4b26e1362cff347e56b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 14:50:37 2015 +0200

    Use stubs for unimplemented Interceptor APIs

commit 0236c24eeafe4c000cd4ee5979cd1e785b01f93a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 14:47:25 2015 +0200

    Add stub properties to the Socket module

commit cc7cb6df30528de6fae1a75d00b1d59ff2707463
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 14:45:03 2015 +0200

    Add stub properties to the Module module

commit 939e4a19eede2c810841463654b0395062d5f927
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 14:41:54 2015 +0200

    Add stub properties to the Thread module

commit ce1e11681d3ba65e70fa50c87002f5394f6da44f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 14:37:09 2015 +0200

    Add stub methods to the File module

commit 43d4d679b5050b968e22aa7a0c256525d977e138
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 14:28:00 2015 +0200

    Add placeholders for the remaining modules

commit d0941e2e0ce0abcd21514b7472dba700af7d0cb6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 13:55:58 2015 +0200

    Add placeholder Kernel module

commit 09a5facc1df20216db33d74e4b2bffb636610ae0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 13:36:17 2015 +0200

    Rename macros for consistency

commit 718396d6bc07dd98edaaaac202d6ff8ab795cd74
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 13:30:52 2015 +0200

    Add MemoryAccessMonitor stubs

commit 11c789c6e8b45d5f509e377996924d0701c4b031
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 13:25:07 2015 +0200

    Add Memory.scan()

commit 5570097721921f9cd35e96654f72b3ac39d5772e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 13:24:48 2015 +0200

    Fix “p~” for NativePointer values

commit f44db22b0d81f77a5fc7135ccefa0aea23cc5f11
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 13:23:20 2015 +0200

    Protect on_enter and on_leave callbacks

commit 1a5d3f4b03a3d522cf6304ff0e56869668f2bc2b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 13:23:09 2015 +0200

    Add API for scheduling jobs on the thread pool

commit a91a5a5e3ef72e20defacae7bbe690027b56de10
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 13:22:50 2015 +0200

    Allow flushing any pending exception in a scope without leaving it

commit 4fb5c919d2af013f759bef385ae7ca30f68dd359
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 11:50:03 2015 +0200

    Add Memory.allocAnsiString()

commit dab763018d05168cc628fb45031fed3f3991e033
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 11:46:05 2015 +0200

    Add Memory.allocUtf16String()

commit 3cb94f02a1849ddbd922c9a4624d561e80b1c4e7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 11:43:16 2015 +0200

    Add Memory.allocUtf8String()

commit e4516fe12788a0b7d8ba2256259283c4b776a9a0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 11:36:25 2015 +0200

    Add Memory.protect() and improve Memory.copy()

commit 8474e1acb58a2aa693b060b88ac64bc62c35a124
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 11:36:00 2015 +0200

    Fix return value of Memory.protect(size=0)

commit ab0f2c0a1403d55052189ae278c9fa550ac39b69
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 11:35:40 2015 +0200

    Add “m” conversion specifier for getting PageProtection from a string

commit 4553e9197bc245980fc969c21cdf8f43d8df0659
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 11:15:28 2015 +0200

    Add Memory.copy()

commit bada5542c6a842aabd8932c4ec2bc7d7a44112a4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 11:15:00 2015 +0200

    Add support for the remaining JSC error metadata

commit 49290e55eff121b729a45619d324689b9db69368
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 00:34:29 2015 +0200

    Add Process module and wire up the basics

commit fa193f825c7787b2fa695b776064ec2a813ff911
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 23 00:33:46 2015 +0200

    Add convenience API for setting ints and uints

commit be4ebb2434043a58f672892506a9e7d5169ad88f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 23:57:32 2015 +0200

    Remove redundant namespace prefix

commit f49066c05eca99e3b019ff98ce73999b2eb49d58
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 23:56:52 2015 +0200

    Add gc() for testing purposes

commit 1c0ee3668825260bb5b23ed98a787c0359b346d0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 23:56:34 2015 +0200

    Implement the weak ref API based on JSC internals

commit db368350969c3327ed9005288040d0a17cd4c3ca
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 19:19:53 2015 +0200

    Start implementing a weak ref API

commit ded3fcea48576bec4e335d44f7a80321f14e0d16
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 17:17:03 2015 +0200

    Implement NativePointer arithmetic operations

commit c107b43316c911fac1a535280331effdcb629530
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 16:39:40 2015 +0200

    Start implementing missing NativePointer functions

commit 33ed1054c1e68207d4a57f0b4cd8170c1a313314
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 16:09:50 2015 +0200

    Add NativePointer.isNull()

commit e5bc2dc2338b839bcfd5e0e6748688e140b47af8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 16:01:44 2015 +0200

    Implement Memory.alloc() modulo weak ref

commit c953c8cbc2fb8ecb0d152586aec0e1473c1acea2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 16:01:14 2015 +0200

    Improve helper macro consistency

commit 3dbc3f49044fe60fa75c50723ee54f9808fe2a96
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 15:15:32 2015 +0200

    Implement Memory.write*()

commit 5c31f4eada04a1e7a07374a1f7d49424a671293b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 15:15:23 2015 +0200

    Improve the value parsing API to fix some corner-cases

commit 4558951a3681c7ee1388553d44c56abc80e771c7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 14:01:15 2015 +0200

    Simplify argument parsing in Memory.read*()

commit 304077bdb59f434eb614fde239a5ca68082e421f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 14:01:00 2015 +0200

    Improve argument list parsing to handle optionals better

commit 0e06318eb3dc6dca8e289ce5eb5b94a3e1408421
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 13:35:32 2015 +0200

    Remove unused argument

commit 8ab3241572c3444005b5d0d4ea0e567cd52a3dcd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 13:35:03 2015 +0200

    Add a Promise polyfill for the JSC runtime

commit c300eaf2facc221e8b5b0ff8902817fccc00eeae
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 13:17:33 2015 +0200

    Implement setInterval() and clearInterval()

commit 1f85619d6547cc3c8663e130388ab046a19846aa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 02:41:45 2015 +0200

    Fix argument parsing past the optional boundary

commit 789ad9a0de8bd59a2ae74a61a2e03891932c6ea1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 02:35:46 2015 +0200

    Fix leaks in the argument list parsing logic

commit c823fcb71b2412d25973ac7af4cd83e9a17ceb1a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 02:20:10 2015 +0200

    Remove temporary logging statement

commit 913f2aa2560f84c4066f8efad9498ef45b1f59c8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 02:19:30 2015 +0200

    Implement argument parsing for remaining types
    
    Also adjust the type specifiers while at it.

commit 8484848548274335496e972448bef40f81126d46
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 01:16:49 2015 +0200

    Also move GumScriptArgs to where it belongs

commit b71b700c77c6e9573398d752c77af42e44a32a43
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 01:14:32 2015 +0200

    Move the argument list parsing code to where it belongs

commit 3de3126f8392a7a64d04dbce0ad4d2bee822b345
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 01:07:48 2015 +0200

    Clean up the value conversion API

commit 0f2c666367c5ceaecd61f1a76e62613bad02b73e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 00:29:45 2015 +0200

    Handle nullable function arguments

commit eb22211d0e636d52f91e48c82195a4fbd76c64e9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 00:29:02 2015 +0200

    Remove obsolete parsing helper

commit 96c71a5ac69064cc39a2b66e671b42ba6605f493
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 00:17:32 2015 +0200

    Remove some cruft

commit de5ca6865b2f6619bf5ff1c28a1810fa4f6522fc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 22 00:14:27 2015 +0200

    Improve argument parsing to reduce friction

commit 9cab3cec5c0f1be5831bc417dc6c08f5090436d3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 21 22:54:29 2015 +0200

    Tweak argument list order

commit e651396c2b6f6299f9bc0f03ad2309959c051bd6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 21 22:52:42 2015 +0200

    Fix _gumjs_panic()

commit e07c0c4fb57d847431ea6967c0307c87c9b6cc8b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 21 17:07:22 2015 +0200

    Start implementing setTimeout() and friends
    
    Also start factoring out argument list parsing.

commit e5b1fd02dd29c4f46dcab987f7e3e1d5ace2587e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 21 17:06:32 2015 +0200

    Fix generate-runtime.py regression on Python 2.x

commit c97ff18a37477fac7d670af8307379c5384b7ed6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 21 00:32:12 2015 +0200

    Add support for parsing an ArrayBuffer into a native buffer

commit 1d4ec96dd7976dfca92101b596eb977ae41192c9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 21 00:30:51 2015 +0200

    Remove assertions that conflict with dynamic linking

commit b15a81b0f9e37ca2db5be20f76c5c077838ea592
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 21 00:11:13 2015 +0200

    Clean up ArrayBuffer logic

commit 72a1e660880357e7126226a7c0b5a5fce02f62d9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 21 00:10:54 2015 +0200

    Use the ArrayBuffer API to add support for Memory.readByteArray()

commit 6841f75b641d11672691cbb21c74b71b13e936cc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 21 00:10:37 2015 +0200

    Add support for interacting with ArrayBuffer objects
    
    Still needs some debugging.

commit 42c0539e2ec7267e43fa097453125b8084e30209
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 20 14:24:38 2015 +0200

    Remove misplaced comment

commit 015d27a0bf8a6cb6a4db58ad2831ba2e811c81f1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 20 14:24:31 2015 +0200

    Fix style inconsistency

commit 47ac4cd144ba7c04e3f2842b7eb6878cad762eff
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 20 14:23:58 2015 +0200

    Implement most of the Memory.read*() API

commit 0519a4d17f43e706af610ca01e281cca11d26f0c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 20 01:31:50 2015 +0200

    Avoid ES6 syntax in the rpc test

commit 5197eac5fa4f39d2f875eed4ffb7a4149377e927
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 20 01:30:40 2015 +0200

    Print error before asserting

commit a8ff932f02ae71008687b8ddd7978dc53b402292
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 20 01:13:49 2015 +0200

    Wire up on_enter() and on_leave() callbacks modulo arguments

commit e061b3f46bcf1109a2e2d51c3917743b6a6ef189
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 19 17:58:43 2015 +0200

    Wire up the attach logic

commit ee363b59294fb99b7123f2ec47d66fca887fbefe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 19 17:48:54 2015 +0200

    Improve the value marshalling API

commit 0edc2eda4e819dea9af48416695182c830169796
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 19 15:40:55 2015 +0200

    Fix NativePointer constructor

commit b1c2864e665d9c13f7e13211c5e5b74c7b92206b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 19 13:31:36 2015 +0200

    Parse the first argument passed to attach()

commit 581158a441dbddc418ec3de4cee6ab48880803d5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 19 13:25:14 2015 +0200

    Add helper API for parsing NativePointer values

commit e3e2c59254a7e4727bd1287ede259e16518a1620
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 19 13:00:40 2015 +0200

    Add scaffolding and basic wiring for Interceptor

commit 5c46e049f7a7b7b221a67d5082378a3119734283
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 17 00:02:22 2015 +0200

    Use `global` instead of `this` in the runtime

commit a4bc64bafa00dc07bfd6af1fbed68376cff6e85d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 23:49:48 2015 +0200

    Wire up synchronization and refactor

commit 97ddcb562b6d4101094a5b1fa2af5504a91be059
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 20:41:10 2015 +0200

    Wire up basics of recv()

commit 394a8d29588794ac469b6b4a8100e7222f6902b3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 20:11:16 2015 +0200

    Add basic handling of the data argument to send()

commit 433c6019922b23ecbc86ecf72dd0f4db3b621108
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 19:46:17 2015 +0200

    Wire up the basics of send()

commit 740bad36c8aa026c184a79d5396415d4e71c9aed
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 18:43:09 2015 +0200

    Add more scaffolding

commit 0d752e0ae9c6a12cbe85b93b5f447d7d0a6b5834
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 15:27:34 2015 +0200

    Add `Frida.version` and more convenience API

commit 83a716c455de1d1177b0535db0c6a07c429630a3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 15:10:31 2015 +0200

    Add stub implementation of _setIncomingMessageCallback()

commit 7db1cbc6af9005c32c3ac6adf54296921ca4f6e1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 14:56:14 2015 +0200

    Implement NativePointer constructor

commit 2cd0c29c22e7454f03b8901f4042279a08ec0379
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 13:40:18 2015 +0200

    Start wiring up the core module

commit d1bffa747451cc1f88999704f0d1ea01bdf3aa5d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 11:26:39 2015 +0200

    Load runtime and handle errors

commit 3fcccd26216de1ae813ef5cd1daa9a0c596dd471
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 11:10:19 2015 +0200

    Fix conversion of error details

commit 2fab93d7ffdc2882e3616f07f5d25566077555ed
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 10:35:41 2015 +0200

    Switch to the plain C API of JavaScriptCore
    
    Objective-C is not too happy about dynamic unloading, and will also
    block us from using that engine on non-Apple platforms.

commit cfc98d5b1497e32e30418f53a3e2f7a82d8b25af
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 01:08:37 2015 +0200

    Add scaffolding for the core module

commit fa01e2b0acb1725e1d8bf78abc9ce6ab849b0986
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 16 00:20:44 2015 +0200

    Load runtime scripts into the JSC runtime also

commit 6e4f4f3e35e0083bd0f3692c7239d80be22a49a3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 15 23:04:23 2015 +0200

    Wire up the basics of the JSC runtime
    
    First two tests green.

commit aaac2884d7a59a4d4c41e4baf2657c77a0c20d2a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 15 16:38:05 2015 +0200

    Fix minor style inconsistency

commit f8cd8cb6d41699cb32790d4d5ce90d6a32afa9e2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 15 16:37:39 2015 +0200

    Add scaffolding for a JS binding based on JavaScriptCore

commit 8f262ee5924a9bfda7081bd603cbf1fe95a17a87
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 23:46:51 2015 +0200

    Skip the GumJS test suiteswhen rwx pages aren't supported

commit ddce97f365546bc4cf32ecc096237af4fe21349b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 23:42:45 2015 +0200

    Skip the attach_to_darwin_apis test when rwx pages aren't supported

commit b75b4634975afe3b334762301a82d4b2faa4abd2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 23:13:53 2015 +0200

    Make the export resolving logic a bit more explicit

commit ad2a31a15841c9ae7739c0235c4130a140cea710
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 23:09:46 2015 +0200

    Fix enumeration of reexports on iOS 9

commit 513bb50b8f76f2fbcb1cf11612dd1d1c4fc91cd8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 23:09:14 2015 +0200

    Add gum_darwin_is_ios9_or_newer() to the Darwin API

commit 3833c6d9871c26580fbd76b7fba475a4b8168661
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 22:42:42 2015 +0200

    Avoid platform-dependent formatting of exception message

commit 278b4a73fc4176e2206e28ac1bd1865ac19af082
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 17:25:41 2015 +0200

    Improve ModuleResolver to also consider reexports
    
    Symbols of reexported libraries are no longer included in the exports
    trie of libraries that reexport them.

commit 82d6a0050e2b954e54e7eccc4740357e2ca9e784
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 17:24:10 2015 +0200

    Add reexports to the Gum.Darwin.Module API

commit e0d2c344a4ae8d2deeef8b8090c7078b6ddfcf9d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 16:40:20 2015 +0200

    Fix remote page size detection on iOS 9 and beyond

commit 525a72dac2e78621183f2e8ec2077e3eff375d3e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 15:31:09 2015 +0200

    Temporarily disable test until after the next release

commit 798cffc54f60becedc1040e72b4fc448b0eb3246
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 00:42:23 2015 +0200

    Add failing test for attaching to replaced function

commit 6d2f65f7f5031ff4429b9bec942b49e2a5f31c1b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 13 23:43:53 2015 +0200

    Relax the native_function_crash_results_in_exception test
    
    We might get a spurious error message on x86-64.

commit f2e91bcf2d6f9c184ea37c7064a6e21d8cbc5fcc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 13 23:43:19 2015 +0200

    Abort when we're stuck in an exception loop

commit 667572275fb2a06bf0b9c68b810676d8e0186fad
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 13 19:43:33 2015 +0200

    Fix relocation of ldr.w instructions on arm64

commit e2177c3bde2e756adf6faaa093628aa8020916fa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 13 18:49:54 2015 +0200

    Fix GUM_ARM64_ADRP_MAX_DISTANCE constant

commit 639bd672b2620d98b8aea69fdf7a8d9cad838089
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 13 18:38:13 2015 +0200

    Fix GUM_ARM64_B_MAX_DISTANCE constant

commit 577901e25051a86628839c7d9ebc61abec5f9b12
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 13 17:31:29 2015 +0200

    Improve locking behavior in the ignore logic

commit 891c0e47cc5e1c33562b2740fa43a3bc48e4fc1b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 8 17:26:08 2015 +0200

    Add gum_script_unignore_later()
    
    This allows us to avoid a deadlock situation where the GThread cleanup
    acquires the slice allocator lock, which triggers a callback into the
    runtime, waiting for the V8 lock. Meanwhile another thread is holding
    the V8 lock, but a C++ callback tries to allocate memory and tries to
    acquire the slice allocator lock.

commit d39bbdd0daf8aacd8d2ceda106022e3de169489a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 8 14:05:26 2015 +0200

    Fix deadlock and improve locking in the GumJS Interceptor integration
    
    - We need to make sure the interceptor ignores us before we acquire the
      lock, which might reenter back and lead to deadlock.
    - Keep a reference to the interceptor to avoid it getting constructed
      and destructed violently when no scripts are instantiated.
    - Use an RWLock instead of a Mutex.

commit be98a7652b3b46f407ae80c209a064ae70ce6e28
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 8 14:00:12 2015 +0200

    Remove G_LIKELY and G_UNLIKELY hints
    
    They were meant for documentation but just make the code less readable.

commit ac9b69b7b385072489ecf537def392a18a1b84be
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 7 13:07:10 2015 +0200

    Fix instrumentation of arm64 functions with early usage of IP registers

commit 7ef8bbeefbfe25edb4e90458a00bbb42a33ef371
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 5 03:07:39 2015 +0200

    Don't install a default exception handler for now
    
    Needs more testing.
    
    This reverts commit 456f8212df3704184f7da5e81914d4d1f759d3bb.

commit d2db19d5322236f9c2400a9283ea9d1d3051366b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 5 02:13:17 2015 +0200

    Add missing include

commit c05eb4410b22329c5c757e24a7f99c9ee87ebe51
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 5 02:03:22 2015 +0200

    Fix Linux build issues

commit 456f8212df3704184f7da5e81914d4d1f759d3bb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 5 01:52:39 2015 +0200

    Install a default exception handler that emits error messages

commit 897404ade8594e4d984b7f53aa9c75d1a3ad518d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 5 01:35:53 2015 +0200

    Improve the signal handling and remove the exit exception type for now

commit 43ca5967bba26140fedd88a7fa8936e924d34756
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 5 01:22:47 2015 +0200

    Improve ExceptionDetails error message

commit c402dcb79e282a77a8cc06447540534c2c11a72e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 5 01:22:14 2015 +0200

    Improve MemoryOperation detection logic

commit 09418d8730a9521ccb7dd4840f2ffae5e77c1fde
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 5 00:50:10 2015 +0200

    Turn NativeFunction invocation crash into a JS exception when possible

commit 4fe46f2aee70154f0bdab2b4e637709452d3e981
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 5 00:49:20 2015 +0200

    Throw proper native exceptions everywhere

commit efddb2bf5c3b249916d6e0ee500840ffc35ce483
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Oct 5 00:46:16 2015 +0200

    Provide a proper Error object to the exception handler

commit 93a21148c39ada8acf15e8fda085efe67947762d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 4 22:29:02 2015 +0200

    Improve handling of fatal signals

commit 01a4bfa489993f9f6263a3a66fd25f7031555bd3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 4 21:45:25 2015 +0200

    Fix warnings

commit 47ce9eadbf2de1335f6970d649c60ac0a0c73851
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 4 21:45:19 2015 +0200

    Gracefully handle it if we cannot replace native functions

commit 0f6e682a506ff5c128269540c73eafd78ebf4ec5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 4 21:36:10 2015 +0200

    Fix Stalker regression

commit d8281e44d79829af1b09cd11cde37dcb166457ac
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 4 21:25:12 2015 +0200

    Fix teardown logic

commit daaffec9a64df0446f1c825f591bc8347219d7d5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 4 19:44:06 2015 +0200

    Improve Exceptor and start porting it to Windows

commit 0a798594e9b79954358ab9a810fd6637f68eda06
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 4 14:33:49 2015 +0200

    Start porting remaining components to Exceptor

commit 8e682dda9e90302f8183dd2588485bfda2147caf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 4 02:26:04 2015 +0200

    Port Exceptor to Linux

commit bbdd2de9c6873bcfd555392b2f39bd1be5b5aa23
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 4 00:44:35 2015 +0200

    Fill in the exception object with all of the details

commit f8f4f04e219c0f6b1d5f0f59f7258e77aa183809
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Oct 4 00:14:58 2015 +0200

    Wire up exception handler modulo details about the exception

commit 844583b065cbe060b8631ecda086a4d7eb703265
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 3 23:33:42 2015 +0200

    Handle future calls to `signal()` and `sigaction()`

commit 0d7a07b423cffa707c9dc5c66b40aab04d2793c3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 3 21:33:14 2015 +0200

    Implement backend bits needed for ARM 32- and 64-bit too

commit cb7e6f46e51d030b17a2534359a0cd58b7ddbc5a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 3 21:18:29 2015 +0200

    Wire up remainder of the exception handling basics

commit 28f2d7a6e5f6aaf842997234b0e96f886a0b3541
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 3 21:14:54 2015 +0200

    Move GUM_RED_ZONE_SIZE to gumdefs.h

commit fe53c80dce93b832f51916a10ffd24b90984493f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 3 20:39:23 2015 +0200

    Refine the exception handling API

commit 63c9c5980118c09824490b13041a980ef5f07c03
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 3 16:35:30 2015 +0200

    Start wiring up exception handling logic

commit c92aca69f2c5dea0041104a74694362200a69538
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 3 16:35:15 2015 +0200

    Expose the Darwin thread state conversion helpers

commit ab766ae965f938d59701fb5b60beafb7cd7f151f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 3 05:20:09 2015 +0200

    Add failing test drafting a JS API for handling exceptions

commit 3091838f4ef9493c24a55144b6f6a48a7eaf318a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 3 05:19:33 2015 +0200

    Rename callback for consistency

commit 6d4de429589450eea9bdea895c4be6745b802b5a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 3 05:19:13 2015 +0200

    Start drafting a generic exception handling API

commit af283657db87e38c51ffad7ca49e9fe9f8e4555d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Oct 3 04:39:26 2015 +0200

    Extract exception handling into a helper class

commit 6d702edfe6c468a640b4e7345ef5c1f57fe1d0bd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 2 14:40:54 2015 +0200

    Tweak the rpc logic's ArrayBuffer handling for backwards compatibility

commit 5e355f9ce3005080bf90c9efd85078fdc3b1aa73
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 2 14:22:51 2015 +0200

    Allow RPC exports to return ArrayBuffer values

commit a46a6be05c534a2d752d03b2f1a6e81a1f1ba010
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 2 00:35:11 2015 +0200

    Only run the malloc ranges tests in slow mode

commit cbdb1479c770ac6690a1531cd26c3cc2a1172db8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 2 00:29:25 2015 +0200

    Only use the fuzzy backtracer in slow mode
    
    For compatibility with ASAN.

commit 8d74efd62bb8f93581f479bda90fb562bb479e57
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 2 00:06:45 2015 +0200

    Restrict the malloc ranges test to slow mode
    
    It's not compatible with ASAN.

commit 1e733a5a4ea6aabcc28a9d7d497a7019e393f822
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 2 00:06:21 2015 +0200

    Improve the exports test to use a less popular symbol
    
    Turns out that AddressSanitizer is quite eager about replacing `malloc()`,
    so we should pick a different function for a more reliable comparison.

commit b0f1e6ab08cbc37ba637ccc68ec40f6b546340b7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 1 21:48:56 2015 +0200

    Fix module name resolving

commit 0e02f9d37149ef6195f224b42bb4203cfb1caff5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 1 21:48:26 2015 +0200

    Also consider ET_EXEC images as valid modules

commit 3ebdb2d34b7b6e07b4266855d69794750ae043a3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 1 19:03:53 2015 +0200

    Fix the range check macros with 64-bit values

commit 772a4b875527ed661870b20ee90708aaaafe6a94
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 1 15:45:37 2015 +0200

    Use new GLib shutdown API to fix crashes on teardown

commit 4f4a8f7885f154ca1bf7adaf6912d18c6b98d410
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 1 03:27:37 2015 +0200

    Fix warning regressions

commit bf6c6a140c5c417fbd96303e24db52eeecbbcb26
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 1 03:17:15 2015 +0200

    Capstonify {Arm,Thumb}Writer and {Arm,Thumb}Relocator

commit 7276f615e731a049eb630342d1fbe5fd5ec8f933
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 30 17:13:03 2015 +0200

    Improve Interceptor's arm64 backend to produce better trampolines

commit 1683f9b228a3ca0d5cf14ec96ffca6ab5eee8030
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 30 17:04:52 2015 +0200

    Improve code-generation for conditional branch rewrites

commit 65a8bfdfafe3097e01160d608c63afa450a1c406
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 30 13:51:30 2015 +0200

    Refactor Interceptor backends to allow backend-specific state
    
    This will allow us to JIT code shared between trampolines.

commit 4014b8960e044f0fdc5c71c1e31c5dbca72ad845
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 30 12:15:34 2015 +0200

    Fix error parsing in the KScript test fixture

commit b0b9d3f3dda45ef83706c43daf9e35a82029da0a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 30 00:00:55 2015 +0200

    Bump the code slice size

commit 3074dce4238c91a08f5e458b64ea06e24b1ded50
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 29 23:51:04 2015 +0200

    Never relocate instructions after a BL/BLR/SVC instruction
    
    Other threads might be calling the function and will return there later.

commit 8111de87871a13332d28cf5c2f1eec4da0896f43
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 29 22:10:50 2015 +0200

    Fix gum_arm64_writer_put_ret()

commit 187fb3a5f3889b4340b1cb06551e3e059ce598d8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 29 21:42:46 2015 +0200

    Capstonify Arm64Writer and Arm64Relocator

commit 2e725d078ff3310b79126211809e2bbf63dd6e55
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 29 18:17:39 2015 +0200

    Add failing test for hooking read() while a call is in progress

commit ad389a2afa9a278c3eba088e2e7d5d4244d7b813
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 29 15:52:38 2015 +0200

    Add test instrumenting accept() on iOS/arm64

commit 61f7ee03c30a9383c466c7f34291420b9a19b79c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 29 14:59:09 2015 +0200

    Also consider cbz and cbnz for dependencies on code to be relocated

commit b1a9a657f24c31e67de72c3d2bac549646c5734d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 29 14:29:25 2015 +0200

    Avoid relocating instructions that other instructions depend on

commit 1c81325e3ef87705cc6a0241a1c34e29e6494ffa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 29 01:53:06 2015 +0200

    Fix regression caught by the CI
    
    TLS API touches LastError on Windows. Yuck.

commit 11324e3e9b3d334e984022b123c017de66abed18
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 29 00:14:30 2015 +0200

    Fix warning properly this time

commit 1601d52e0ae16a3ded13bbcaf38a778274e4c4f3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Sep 28 23:28:39 2015 +0200

    Fix warning regression

commit 016aadb9008c02fec3f4b646c808e7648bd44728
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Sep 28 23:17:30 2015 +0200

    Improve Interceptor's arm64 backend to be able to hook short functions
    
    Functions were previously required to be at least 4 instructions long
    to be able to hook them. We are now able to handle even shorter ones,
    basically:
    
    - 4+ instructions: ldr + br + data [16 bytes], just like it was before;
    - 2+ instructions: adrp + br, trampoline is placed on a 4k boundary;
    - 1  instruction: b imm, if able to allocate a trampoline near enough.

commit 30e4741d611c8c593bbef625eb4f69bdc878cab1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Sep 28 23:07:17 2015 +0200

    Add gum_try_alloc_n_pages_near() as some requests may fail

commit 48e145bf982e6ce818d69a8934b79be10880808c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Sep 28 22:59:27 2015 +0200

    Add gum_arm64_writer_put_adrp_reg_address()

commit a268910d00eb8c90c3071921371cb2c5e805e765
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Sep 28 16:19:41 2015 +0200

    Resolve simple redirects on arm64 too

commit 00ec12e67502fe5e4b3f5670ec50a7d1b546ca87
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Sep 28 16:19:06 2015 +0200

    Add failing test coverage for iOS/arm64 wrapper function

commit 3a01efa8e48f58d4a54f00c99e68d8595c05e282
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Sep 28 00:07:19 2015 +0200

    Add failing test for hooking pid_for_task() on iOS/arm64

commit 6da8af782969a9e4dc25204448d4ca0975433e76
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Sep 27 23:58:14 2015 +0200

    Guard against re-entry before touching `errno`
    
    This avoids stack overflow when hooking `__error` on Darwin. It is safe
    to assume that TLS get/set operations won't clobber `errno`.

commit 9bdba4c774d960fea03848c4e206e7fcef7ddf6a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Sep 27 23:55:33 2015 +0200

    Add failing test for __error() on iOS/arm64

commit fef848dc4cd98ea051f2c20d5af383fd2a6a52fe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Sep 27 22:29:47 2015 +0200

    Increase code slice size to accomodate iOS/arm64

commit e9f833c6c733ae647eeb646b9f463b46eae98f94
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Sep 27 22:29:26 2015 +0200

    Add failing test for posix_spawnattr_setbinpref_np() on iOS/arm64

commit cc3bd9b10dc676b5a47313c481ee7fb1bb9aa70d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 16:27:13 2015 +0200

    Fix image loading logic

commit 59fa9e5dc252eb000bfe1689d5c180eea323b01d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 15:49:42 2015 +0200

    Add console.warn() and console.error()

commit 0e30a203161619d5a0067ac01f03d77a0bf1dea0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 15:32:49 2015 +0200

    Avoid copying module data when module is local

commit a46d99e6a5cc05616d12a774bf5e1057f777e14b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 15:29:52 2015 +0200

    Short-circuit to local module enumeration when possible

commit 037651c788cf77718e9bf6c9201255bfebc9604c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 04:31:15 2015 +0200

    Simplify the Linux version of gum_module_find_export_by_name()

commit 2f0b9b10a2915e9e0871b21d957b4dd8cc5adf00
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 04:30:50 2015 +0200

    Avoid calling dlopen() with NULL if we fail to resolve the module

commit fee238fa5943544ea9e03e0181d8011f0129de4f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 03:58:05 2015 +0200

    Fix gum_module_find_export_by_name(module_name=NULL) on Linux

commit 5f741ed0888aa0983247b330ad21eff88f82dba0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 03:57:27 2015 +0200

    Update to allow omitting module name on Windows too

commit 803f65f7a07686c9cbacf02c91551ccbb0510df6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 03:42:32 2015 +0200

    Update Windows backend to support the import enumeration API

commit 254482fbad8ddf2f80a9917f2c2644571c19f4dc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 02:12:28 2015 +0200

    Update Darwin backend to the new import enumeration API

commit 098f32bb84dc53ad669c6de49b7341a823b3cfa6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 00:01:43 2015 +0200

    Update Linux backend to the new import enumeration API

commit 760de33db66f52c0e3ea122df1773e2b20b51410
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 25 00:00:17 2015 +0200

    Update GumJS to the new import enumeration API

commit fb34ffa81db216d478db2d28d052093cf7df5613
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 23:59:36 2015 +0200

    Add GUM_IMPORT_UNKNOWN to the GumImportType enum
    
    There's no guarantee we're able to resolve all of them.

commit 6ff91d36f7a5b67f310ad9369bee6ffb2e2265cd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 23:58:28 2015 +0200

    Add MemoryMap and ModuleMap to the public header

commit 1309048855361f4e6058a10e0b876e180b77c867
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 23:58:07 2015 +0200

    Fix some style inconsistencies

commit 77b9997846b7df77bb31a942233fdaaee1c0aded
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 23:57:45 2015 +0200

    Add a ModuleMap helper class based on MemoryMap

commit 555589da472de5528e862ac0610e1378837e8648
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 18:06:35 2015 +0200

    Refine the import enumeration API

commit a3809345d1613ba6d3bcd1d7cebbcfbda0d98902
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 16:45:30 2015 +0200

    Handle the case where GumImportDetails.module is NULL

commit e0f743dd51cabb3632102961d86f375994824a4d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 16:40:42 2015 +0200

    Only disable the imports tests on QNX

commit bd34b536c5aa7f7cb14f310c675fb971012e828f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 16:40:29 2015 +0200

    Implement gum_module_enumerate_imports() for Linux/Android

commit 8300428e40d9c5e1b30dea47d46cdcdc5cb965ec
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 03:05:28 2015 +0200

    Fix X86Writer regression on non-x86

commit 0c7b1abcb5710de3a61eaf2dcfe698e7e9cb71b9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 03:01:08 2015 +0200

    Revert the newly introduced Linux backend dlsym() approach
    
    We cannot rely on `RTLD_NOLOAD` on Android.

commit 2674dbfa94dcbfdd9f9987999e2e53363c6da466
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 02:53:11 2015 +0200

    Fix the Linux backend

commit c9c49e6c3f8e0d9d496405a85144a2683eb9fb60
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 02:50:18 2015 +0200

    Add `Module.enumerateImports()` to the Script runtime

commit ae2284eebc5995b14baa6aeab2d6774412075fc7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 02:49:38 2015 +0200

    Shorten the ImportDetails field names

commit 0eba27fe278ec8ba6d01ad8d405049d39020187b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 02:12:06 2015 +0200

    Don't apply slide twice
    
    Because gum_darwin_module_enumerate_sections() already does it.

commit a94c332cec6861ede6cbc64f4a81b6c169cc7a1b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 02:11:42 2015 +0200

    Revert wrong slide fix

commit ece58f25a9f2ec375258e11bc3f6eff4a680f19f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 01:09:08 2015 +0200

    Take slide into account when enumerating exports

commit 28172f21a0eb270865002cf7c77c2918a626cdd4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 00:43:10 2015 +0200

    Include Mapper and Module headers from gumdarwin.h

commit c204ace787ed97d8366b1fed59c0658375747527
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 00:38:03 2015 +0200

    Add new helper class “DarwinMapper” to the Darwin API
    
    Extracted from frida-core.

commit 81daf013200d1fba3d9a6ba5a90f2cc64637c3fa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 23 22:43:02 2015 +0200

    Allow null module name when calling Module.findExportByName()

commit 9d9d0d47c99e7cb21e3cac01a4ceec332e6a6654
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 23 22:38:06 2015 +0200

    Refine behavior of gum_module_find_export_by_name()
    
    - Allow `module_name` to be NULL for doing a RTLD_DEFAULT search on
      systems that support this. This is needed on those systems in order
      to resolve imports that aren't bound to a specific module.
    - Use dlsym() on Darwin and Linux.

commit fbe1bee34f4ccb7eb98974bffc86b9472cccee0d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 23 22:28:32 2015 +0200

    Fix inconsistent naming

commit f33c702281d93e2cb90d41f51fb48fbd2f558f59
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 23 21:42:19 2015 +0200

    Refactor and consolidate imports and exports enumeration logic

commit cfaa6f37c555375a32ec47e84acdad6c5f03d489
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 23 01:49:53 2015 +0200

    Add gum_module_enumerate_imports()
    
    Only implemented on Darwin for now.

commit fd623924fb41d2bb88a35921cc07ff2e16b1b4b4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 23 01:45:54 2015 +0200

    Tweak DarwinModule to have interruptible enumerators like elsewhere

commit 9b42b3b4bde78e14a162fa9e5f1bdf3f8be14738
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 23 00:40:03 2015 +0200

    Fix assumptions about linkedit pointer being available

commit 5c5fdc00c55e2d3c326cc38ca45734f05a9e1a46
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 22 23:40:00 2015 +0200

    Ensure image is loaded before operating on relevant data

commit 9468405ce0f9aab7e7c0f648dafeee9225095a53
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 22 23:36:09 2015 +0200

    Improve the DarwinModule API for consistency with the rest

commit 57f7f819724b406b46f698cfc6ab559a0d84f682
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 22 22:27:09 2015 +0200

    Add gum_darwin_module_resolve() to the public API

commit 797bc7927206fdfddeca68416ae436ec1865d96c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 22 22:23:28 2015 +0200

    Add new helper class “DarwinModule” to the Darwin API
    
    Extracted from frida-core's Mapper with the intention of helping
    implement enumeration of imports in the Darwin backend.

commit 677f716f134a69fae2361a8c54c64d983e7537eb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 22 22:20:19 2015 +0200

    Use GUM_NATIVE_CPU constant in X86Writer

commit 0a429507b2f44647d485e6ac41497d37b5cd1e46
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 22 22:20:06 2015 +0200

    Introduce a GUM_NATIVE_CPU constant to avoid duplication

commit 439c379ef63e02b0eeed1b0ad6bb8570486056e5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 22 22:19:22 2015 +0200

    Use new helper API for parsing LEB128 in the Darwin backend

commit cb063d5da401cd2a5b084f40441a3cf02352dea9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 22 22:18:43 2015 +0200

    Add internal helper API for parsing LEB128 integers

commit 473682aef87688724a960d7d2c71359c516a36ab
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 18 22:58:22 2015 +0200

    Apply source-map to unhandled exceptions too

commit e25e2ffde8d2d07a913db240e7738c0957fa52ed
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 18 20:01:14 2015 +0200

    Override Error.prepareStackTrace to use source-map when available
    
    This makes the first part of the source_maps_should_be_supported test
    pass. The only part remaining is unhandled exceptions.

commit 339ff3421b61fe601e550d1b0e649dbfed6097ae
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 18 19:59:45 2015 +0200

    Fix some minor style issues

commit e8e8779867b0de58776ad84c70d3ca5423499307
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 18 18:18:16 2015 +0200

    ES6ify a couple of left-overs

commit e62162b8eb9aebeb4dec6de53c1efa087cf7e4c9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 18 18:17:37 2015 +0200

    Add `Script.sourceMappingURL` property

commit a85c3e3cb1f9b6e3b78217c29cc7e9ecba03e04d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 18 18:16:54 2015 +0200

    Fix linter complaints

commit f4987b5dd77f39591fd918221a8af0a0fb1bbccf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 18 15:10:22 2015 +0200

    Add failing test for handling of source-maps

commit df4396d94eb8f0fbc6b109a60e86bce7ab1f7f82
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Sep 12 17:57:41 2015 +0200

    Port the Windows-only V8 bits to V8 3.5

commit 24500e3300bdec531c70af83055f0152983e7067
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Sep 12 17:57:14 2015 +0200

    Fix Windows warning regressions

commit a5b3aaaedc52a46db0ae7c050a9a3d4facf3059d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Sep 12 02:13:17 2015 +0200

    Port GumJS to V8 4.5.103.30

commit f7be349fd22ccc6313eb80d0ffde583f35f97567
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 11 21:22:09 2015 +0200

    Include both class and instance methods in `$methods` and `$ownMethods`

commit 8680465f0458fe7972cf31f6ef847675581b3c60
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 10 02:59:42 2015 +0200

    Fix Dalvik hooking regression
    
    The direct code-path cannot be used on Dalvik, and it isn't necessary
    there anyway.

commit b79e5fc7055a624084408661a74f262ce306fb64
Merge: 888fea5f 2598a3a8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 3 20:35:52 2015 -0500

    Merge pull request #109 from marc1006/ArraySetter
    
    Fix for array conversion and fix for field setter

commit 2598a3a8c43b4c207d0c804b1530c75ef9c73da0
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Sep 3 00:30:39 2015 +0200

    Fix for array conversion and fix for the field setter

commit 888fea5f6ed4f72db476b278c979fed0a026e6e0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 2 15:58:15 2015 +0200

    Skip relocator test suites that Capstone doesn't support
    
    Our UNIX build system is a bit more fine-tuned and now only includes
    support for the architecture being built, which reduces our footprint
    significantly.

commit 4e1eaf401e46f907f35a6bfef39088a9a7c96980
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 1 09:59:39 2015 +0200

    Get rid of unnecessary references to global module name

commit 95897f4e420d2542f26a4fd91f893a295a72c5ac
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 1 09:07:04 2015 +0200

    Fix PC alignment when rewriting BLX instructions

commit c835969e6004b14dc519a90a65a6f997cd2508f9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 1 09:06:21 2015 +0200

    Improve the BL sequence test so it mirrors objdump exactly

commit 25005aedead6d30df84d1ecb4a9ee29c1c375fae
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 1 00:53:56 2015 +0200

    Add failing test for BL not being properly rewritten

commit 177e3a7b0d1dc606c11e41d8d6563a6b0abb0ef8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 1 00:52:05 2015 +0200

    Add cbnz test coverage

commit 427ffe5ede73a7a4e3fb70b38e9d7ca352f43201
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 31 15:50:48 2015 +0200

    Handle interacting with the VM before any package has been loaded
    
    Our early instrumentation gives us control earlier than what the official
    “wait for debugger” support does. Hence we need to let `Java.perform()`
    handle this case by calling the function once the first package has been
    loaded, and introduce `Java.performNow()` for instrumenting system classes
    early on.

commit ba1a8ce86063c9f0596ff68089660237f799cbb1
Merge: 0897ef61 4795c5b1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 30 23:51:59 2015 +0200

    Merge pull request #101 from marc1006/openDexFile
    
    Implement method to load classes at runtime

commit 4795c5b19627302a976e597b6b68c8723536a4dc
Author: Marc H <marc.diplom@googlemail.com>
Date:   Sun Aug 30 23:40:29 2015 +0200

    Change 'Dalvik' to 'factory' so we avoid the usage of globals such as 'Java'/'Dalvik'

commit 0897ef61e77cf23dd7723e3ead23317b18c4a805
Merge: a5dd098a c185ca16
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 30 21:38:16 2015 +0200

    Merge pull request #102 from marc1006/GetCreatedJavaVMs
    
    Also use `JNI_GetCreatedJavaVMs` in Dalvik to get the VM

commit c185ca16da73e0961e5b54810f0e81599e654325
Author: Marc H <marc.diplom@googlemail.com>
Date:   Fri Aug 28 13:43:15 2015 +0200

    Sytle corrections

commit 888c6739ae0389caf539eb5621e244b12ec52fc0
Author: Marc H <marc.diplom@googlemail.com>
Date:   Fri Aug 28 10:23:16 2015 +0200

    Also use `JNI_GetCreatedJavaVMs` in Dalvik to get the VM

commit a5dd098ae7bb49cce11e9ceb4a2e9d1652f36fa4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 25 19:05:10 2015 +0200

    Fix automatic rollback of overridden method implementations
    
    - Dalvik: Also revert overridden methods that were never called.
    - ART: Auto-revert on this runtime also.

commit 05dead0e949d167d317c3ff4e4a402b7fdb756cd
Author: Marc H <marc.diplom@googlemail.com>
Date:   Tue Aug 25 13:19:19 2015 +0200

    Rename 'openDexFile' to a more generic name 'openClassFile'

commit 4360cd851dd99c52f9cdc009f432630acaccea6d
Author: Marc H <marc.diplom@googlemail.com>
Date:   Mon Aug 24 23:30:27 2015 +0200

    Implement method to load classes at runtime
    
    Java.openDexFile(filePath) will return an object with two methods:
     - load: load the dex-file
     - getClassNames: get the classNames

commit 164f1488cd63842e29774962c8894bdc69c87175
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Aug 21 23:11:23 2015 +0200

    Fix NativeFunction's handling of small return types
    
    Thanks to Rafael Rivera for reporting and tracking down this issue.

commit 9fa1a8fa92ab444fa1719b7a3b2a0afca9d51cd7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Aug 21 23:07:47 2015 +0200

    Fix warning about cast resulting in truncation

commit fa075b5cccfbd874221780322f6f24a3e5a4a69a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Aug 21 15:32:22 2015 +0200

    Speed up the fallback enumeration of modules
    
    We only need to examine ranges that have an associated file mapping.

commit 40df269aa86c8aec105d7fbf6b1fd3a87f6931c8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Aug 21 03:28:47 2015 +0200

    Disable a potentially dangerous KScript test

commit 32946380ef49ba62d7aedf8e45f0dc7355350a2a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Aug 21 03:28:26 2015 +0200

    Optimize enumeration of module exports in a remote process
    
    We now use the exports trie to avoid transferring huge amounts of data
    from the remote process.
    
    This was a hotspot when attaching to processes, and was previously so
    slow that it was reportedly causing timeouts for some users. Today I
    experienced this myself, and upon investigating I discovered that this
    enumeration was taking many seconds on my desktop.

commit 74eca7662475c5f6df92461eba4185e31f4999ad
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Aug 20 18:25:57 2015 +0200

    Define G_LOG_DOMAIN so log items are properly tagged

commit 4ddb07dc92059e2c5daa74c40b65fa4a8e02f968
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Aug 20 15:17:42 2015 +0200

    Fix Android/ARM64 warnings

commit 70149001f83afea508a05f350a12c365532233da
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Aug 20 14:54:09 2015 +0200

    Fix warning on 32-bit Android/ARM

commit 5045601ce6d3873db8e66da5d3007c237fb084a6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 23:39:26 2015 +0200

    Fix out-of-bounds read caught by AddressSanitizer
    
    Turns out `String::Utf8Value::length()` returns the length in bytes,
    not characters.

commit e1d53e71a33930bff0d8821c8e3570b06985c279
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Aug 15 03:50:50 2015 +0200

    Add support for overriding methods on ART

commit 31cdd7bc26ed64f159874451fe6849521c40c0a7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Aug 14 15:54:58 2015 +0200

    Fix pointer parsing portability in the `memory_can_be_allocated` test

commit 3d4d98181bba5aa0761f41203e06dc8c884765a7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Aug 14 15:12:50 2015 +0200

    Let `Memory.alloc()` allocate raw pages when size >= page size

commit fa37b00594fdce1628d5e356a33fb0f92a0bb1a2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Aug 14 12:45:53 2015 +0200

    Add `Process.pageSize` constant

commit f70b105b59b0e5872617efc666156c8eb16da4a1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Aug 13 13:01:21 2015 +0200

    Port basics of the Dalvik integration to Art
    
    Basically:
    - Rename it to `Java`.
    - Keep `Dalvik` name around for backwards compatibility.
    - Simplify logic for acquiring the application's class loader.
      Kudos to @dmchell for the tip!
    
    Remaining features for parity with Dalvik:
    - Method override support
    - enumerateLoadedClasses()
    - choose()

commit 4971f249395fc7d1bb39ce99d1ccd3df1789b1cb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Aug 13 05:21:32 2015 +0200

    Fix typo

commit e887d722302a60e2874036f031ec01437617ec08
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Aug 13 05:20:29 2015 +0200

    Fix crash during enumeration of modules on Linux
    
    - Don't touch mappings backed by /dev
    - Skip shared mappings

commit 9fc4e7fea4ec6c93e6ddc1a994d0fc827009a0a2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 12 20:28:05 2015 +0200

    Only run SymbolUtil tests in slow mode on Android

commit f86aff9c7acf7f04aff3c5c6001f40db7cdd06bc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 12 20:08:27 2015 +0200

    Fix UnwBacktracer on arm64

commit d7a3a517d992e81de2cef24c7705cf9c5f951fdb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 12 19:50:25 2015 +0200

    Only run symbol resolving tests in slow mode on Android

commit 914790cfd3a2ecde1c7fafefebca2a9145b3c6ca
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 12 19:41:15 2015 +0200

    Work around broken sigsetjmp on Android
    
    The implementation in Bionic up to and including L is quite broken and
    doesn't store the process' signal mask.

commit ecf27b619742d531f63951c3c67673de2884ab8f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jul 31 15:40:53 2015 +0200

    Rename `Api` to `rpc.exports`

commit 2491536e91d28063691064db0e9b5fdf5606a036
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jul 31 15:25:14 2015 +0200

    Add first draft of an RPC API

commit e1ce290011d345f1e827debf22f5964d8a8a6bd2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 30 02:58:45 2015 +0200

    Handle blocks being migrated to the heap behind our back

commit df7fd25cdcc9f40445ae0822abfdfd506144eb04
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 30 02:57:04 2015 +0200

    Convert between null and NULL in both directions

commit a0ccf727fac38878f91a6d70bd33a604a89cf831
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 29 23:48:56 2015 +0200

    Fix marshaling of non-trivial types when invoking block

commit c33caadc69e725a69d5ce9347afa07521b736825
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 29 23:13:25 2015 +0200

    Add `ObjC.Block` for implementing and interacting with blocks

commit c8203a739f5fbbe36bccaac81aff27945e5d8105
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 23 22:31:40 2015 +0200

    Bump the Interceptor code slize size to 512

commit f270626af87c404f9ed8916dfbc24d81c1ebc8bf
Merge: 2471ca17 2f6123fa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 23 18:20:11 2015 +0200

    Merge pull request #96 from marc1006/FixForEnumerateLoadedClasses
    
    Fix for `Dalvik.enumerateLoadedClasses`

commit 2f6123fa792e55b48ee573680cb8b44baecf3d4b
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Jul 23 18:18:05 2015 +0200

    Fix for `Dalvik.enumerateLoadedClasses`

commit 2471ca17df1babd60269a60aab4705737c5485dd
Merge: 4c8ca22b 1aac4486
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jul 20 12:03:02 2015 +0200

    Merge pull request #95 from marc1006/AndroidVersion
    
    `Dalvik.androidVersion` and `Dalvik.choose` for Android 4.2.2...

commit 1aac4486e402248d4124093f7764639098494ebe
Author: Marc H <marc.diplom@googlemail.com>
Date:   Mon Jul 20 01:32:38 2015 +0200

    `Dalvik.androidVersion` and `Dalvik.choose` for Android 4.2.2

commit 4c8ca22be2bded3495fb2b078f360b394e5ed997
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jul 18 16:39:52 2015 +0200

    Fix exception type thrown when attach() and replace() fail

commit f4c3517d629e29590e6f57747cd2e822458bdf7b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jul 18 16:21:43 2015 +0200

    Throw an exception when Interceptor's attach() and replace() fail
    
    The existing behavior wasn't documented and is considered a bug. This
    change fixes it.

commit 382ac14cb3b1b736da904903e2a8a2175a9ca772
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jul 18 16:15:01 2015 +0200

    Temporarily disable the invalid construction test on mac-x86_64

commit ac1fdbd05dc19e68f84aee3dbb45ba13fe42f328
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jul 18 15:35:25 2015 +0200

    Fix spelling

commit 881c5b861e65be946443bb47dbeea896605b26ac
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jul 18 15:32:02 2015 +0200

    Gracefully handle attempts to replace functions
    
    Both functions that:
    - have already been replaced;
    - cannot be replaced for now.

commit dbf27bd02097d382bc93bc90af82d8aa933152d2
Merge: e2f3ea99 2a90aec3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jul 17 21:04:20 2015 +0200

    Merge pull request #94 from marc1006/scheduleOnMainThreadAndSynchronized
    
    `Dalvik.synchronized`, `Dalvik.scheduleOnMainThread` and `Dalvik.isMainThread` implemented

commit 2a90aec3fc826d3be6df6e3e0a56d0874d504840
Author: Marc H <marc.diplom@googlemail.com>
Date:   Fri Jul 17 14:58:59 2015 +0200

    `Dalvik.synchronized`, `Dalvik.scheduleOnMainThread` and `Dalvik.isMainThread` implemented
    
     - add `Dalvik.synchronized(obj/objHandle, fn);`. It's almost equivalent to following Java code `synchronized (obj) { fn(); }`
     - add `Dalvik.scheduleOnMainThread(fn);`
     - if we set an implementation to `null`, set it really to `null`
     - add `Dalvik.isMainThread()` to check if we are in the main thread
     - refactoring: assertions
     - increase GUM_MAX_SCRIPT_SOURCE_CHUNKS to 6

commit e2f3ea99d9ac86874d7724694bc5de92ff7d7e55
Merge: 90f06e0c 68bd480e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 16 23:33:37 2015 +0200

    Merge pull request #93 from marc1006/FixField
    
    Fix for invalid caching

commit 68bd480eb68ef26a0c763d37628aea8d948d0b99
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Jul 16 23:11:28 2015 +0200

    Fix for invalid caching

commit 90f06e0c480da05efeadca01edbb44a9e9ccf055
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 16 01:20:57 2015 +0200

    Fix the byte_array_can_be_read test

commit 25dd5b884e920cddc1f971c66174b6edcaba7035
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 16 00:42:33 2015 +0200

    Leave out the {get,find}ModuleByAddress() test on Linux for now

commit da0e787b5c1e3dc4b04e13947f0366161b774123
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 16 00:36:48 2015 +0200

    Fix silly copy-pasta accident

commit be379b20caea124c8a6c8a9b8837df9a25783afa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 16 00:34:47 2015 +0200

    Increase the Interceptor code slice size
    
    Some trampolines may need 468 bytes on arm64, so we bump to 480 to have
    a little bit of headroom.

commit 719a83ca243cb6c32dec763c281ac1ac24af8f0d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 16 00:30:28 2015 +0200

    Add support for relocating PC-relative CBZ on arm64

commit 7166164d98a3fe9e464be454fe2936376ce91477
Merge: 8f9a0f33 3cad8e3f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 15 00:30:14 2015 +0200

    Merge pull request #92 from marc1006/SeveralAdjustments
    
    Several adjustments

commit 3cad8e3f877ac9e4ee5d5ae3739e06355cb5d334
Author: Marc H <marc.diplom@googlemail.com>
Date:   Tue Jul 14 23:57:06 2015 +0200

    Instance and static fields
    
     - implement access to fields. Usage: get `...fieldname.value;`, set `...fieldname.value = ...;`

commit 4b8d094a42df4c74159e0b8268dd8a6b8ef985f0
Author: Marc H <marc.diplom@googlemail.com>
Date:   Tue Jul 14 21:24:41 2015 +0200

    Improve `getTypeName` and `getArrayTypeName`
    
     - add javaLangReflectTypeVariable, javaLangReflectWildcardType and javaLangReflectParameterizedType
     - improve `getTypeName` and `getArrayTypeName`
     - indentation fixed

commit 8f9a0f33f273fc08e83db71638592b1a1929aecd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jul 13 21:43:35 2015 +0200

    Fix Interceptor vector register clobbering issue on arm64
    
    The calling convention allows q0 through q7 to be used for argument
    passing, so we must take care not to clobber them.

commit aa04d1f684103b5ca4e8289d58b1360c1ebca800
Author: Marc H <marc.diplom@googlemail.com>
Date:   Mon Jul 13 15:54:20 2015 +0200

    Use instance handle only as parameter for `Env.prototype.getObjectClassName`

commit 77e2ed60e35994a3443b8a0c26330f6278b8abc1
Author: Marc H <marc.diplom@googlemail.com>
Date:   Mon Jul 13 15:07:23 2015 +0200

    `makeMethodFromOverloads` restructured

commit b1f3715a28a513e29cd8cdaf72355bf719ae71af
Author: Marc H <marc.diplom@googlemail.com>
Date:   Mon Jul 13 15:04:13 2015 +0200

    Check if it's possible to cast
    
     - check if it's possible to cast a value and add `env.isAssignableFrom(klass1, klass2)`
     - make `getObjectClassName` to a `Env` method

commit 3bee2fb0a73a240d1d45fa55bf0b305cb034a684
Author: Marc H <marc.diplom@googlemail.com>
Date:   Mon Jul 13 14:54:18 2015 +0200

    Allow instances to call static methods and some small adjustments/fixes
    
    - New constant `NULL_OBJECT` (just for clartiy)
    - Ensure that the localReference `superHandle` will be deleted
    - Allow instances to call static methods (now it's the same (bad) behaviour like in Java)
    - Rename `env.checkForExceptionAndHandleIt` to `env.checkForExceptionAndThrowIt`
    - fix for `toJniPrimitiveArray`: we have to alloc memory only if length > 0
    - allow "null" for primitive arrays and object arrays
    - fix for `Dalvik.choose`: delete the localReference as soon as possible

commit 28070e9d68a305b2effe5ecf7d79fa45650c79ab
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 9 13:27:54 2015 +0200

    Add `$ownMethods` to `ObjC.Object`
    
    When reverse-engineering internal classes it's often more interesting to
    look at the methods defined by a given class

commit 2572e1bf66e4dcd1a01e77caa74bce9128f10cb6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 9 13:26:27 2015 +0200

    Bump the maximum number of script source chunks
    
    The Dalvik runtime has grown a bit recently.

commit a143900329eb030f20357b512a561d15b890be0b
Merge: de8253c4 97607768
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jul 7 11:29:18 2015 +0200

    Merge pull request #91 from marc1006/arrays
    
    Implement primitive arrays, objectarrays and some smaller changes

commit 97607768b7286ec63aa8432dcf2261a196720bfb
Author: Marc H <marc.diplom@googlemail.com>
Date:   Tue Jul 7 11:05:05 2015 +0200

    Implement primitive arrays, objectarrays and some smaller changes
    
     - Implement primitive arrays and objectarrays
     - Refactored and renamed `typeFromClassName`
     - Add function `env.getObjectRefType(obj)` to check for `objectRefType`
     - Add method `env.checkForExceptionAndHandleIt()` and refactoring

commit de8253c4f58a33379b7b7535d449e4ba2d32bc9d
Merge: eb488cd1 dd536140
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 2 11:29:43 2015 +0200

    Merge pull request #88 from marc1006/letConst
    
    Replace 'var' with 'let' or 'const' and some other modifcations

commit dd536140424cddf04d1866f81f861ebd9a0ac560
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Jul 2 11:18:33 2015 +0200

    Replace 'var' with 'let' or 'const' and some other modifcations
    
     - Replace 'var' with 'let', 'const'
     - Replace function-expressions with function-declarations
     - Add remaining Java modificators
     - Insert missing and remove unnecessary semicolons

commit eb488cd1de3247c4f70294258402b578c6bf05e1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 2 00:13:38 2015 +0200

    Fix the MessageHandler signature

commit 4f87a574cb53ad0ac42385625126af2018ef3558
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 1 23:30:41 2015 +0200

    Add memory read/write safe-guards for addresses in the first page

commit f6c027c457083c65670648090cd7223f118a8071
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 1 23:30:15 2015 +0200

    Fix `enumerate_threads()` so it deallocates in the right task

commit 908b1be9dbc6c411554cc0f935281f5778af40d5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 1 23:29:16 2015 +0200

    Add more useful KScript APIs

commit bb200a497a6761283cfd61e1e4eb93987eab53f9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 1 23:13:35 2015 +0200

    Fix test failure on Linux

commit bf75b7b4c11dc1f558f3fca57f138fda1280e3cf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 1 23:13:18 2015 +0200

    Pass `send()` data as a ref-counted GBytes object

commit 002100ffc7498a937df9acf85a25bbff2b7902e4
Merge: 3594c17d df0bdd2f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 1 19:45:53 2015 +0200

    Merge pull request #86 from Tyilo/objc-classes-getOwnPropertyNames
    
    Add getOwnPropertyNames property to ObjC.classes

commit df0bdd2f2d72c710bdfb6e7684c2d9acd77d0b40
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Wed Jul 1 19:22:26 2015 +0200

    Add getOwnPropertyNames property to ObjC.classes
    
    Needed for autocompletion in repl

commit 3594c17d93d27dd95a950c8a494aa3f64e585b32
Merge: b524f6d2 37c10975
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 1 17:25:54 2015 +0200

    Merge pull request #85 from s1341/master
    
    Implement side-stack for replaced functions on QNX

commit 37c10975c2e65417ef74e9c4d832c7124fd72e98
Author: s1341 <github@shmarya.net>
Date:   Wed Jul 1 11:58:00 2015 +0300

    Fix style issues

commit b524f6d2ab9fd2236d5cd947bf9c4eebf4c8e3d8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 1 01:48:50 2015 +0200

    Add API for enumerating kernel memory mappings on iOS

commit bb99bf82584b40d21b2b8a5da1979485b974e5b8
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 30 19:41:06 2015 +0300

    Implement side-stack for replaced functions on QNX

commit ced3edf30122a7a187aa02149543a1ee9c130945
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 29 18:56:49 2015 +0200

    Fix access to arguments 4 through 7 on arm64

commit ca2e9d438f428cfab84a87a31ceb2d6f76c759fc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 29 18:53:02 2015 +0200

    Fix one more style regression while at it

commit 0cb087b368ea6034cf0c1e58905c9195409fb738
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 29 18:51:20 2015 +0200

    Fix minor coding style issues

commit 56809fc5c81311369a4838ae00fab54f8bdb7b3a
Merge: 46980318 d21191e2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 29 18:49:56 2015 +0200

    Merge pull request #83 from marc1006/DOUBLEANDFLOAT
    
    Various 'Memory' operations added

commit 4698031895feca1ab9007bce98f7dc5d4d24c368
Merge: d4b16194 30cb7ba1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 29 17:03:12 2015 +0200

    Merge pull request #81 from s1341/master
    
    Implement side-stack for on_enter/on_leave on QNX

commit d21191e243bc6d8a28562316573a8054f63b2714
Author: Marc H <marc.diplom@googlemail.com>
Date:   Mon Jun 29 15:52:03 2015 +0200

    Fix style issues

commit 30cb7ba1228f4caf71bd3693803228b67ac0f167
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 29 14:58:19 2015 +0300

    Fix style issues

commit d4b16194572ebcaf61cdeeebd1cd88fd7d41afbd
Merge: 054a88ff 947d92b5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 29 12:32:30 2015 +0200

    Merge pull request #82 from marc1006/FEWADDITIONS
    
    Some improvements

commit 592dc213033ff98b3491aec752f6c82e37b68ad0
Author: Marc H <marc.diplom@googlemail.com>
Date:   Sun Jun 28 18:05:38 2015 +0200

    Memory.readFloat, Memory.writeFloat, Memory.readDouble and Memory.writeDouble added

commit 947d92b57ca551bd2d87843e5dbd12903d7b70c6
Author: Marc H <marc.diplom@googlemail.com>
Date:   Sun Jun 28 16:24:18 2015 +0200

    Add 'Env.prototype.javaLangString'

commit 3335db6cff5bc32047482f9bf64610bc476eeb3b
Author: Marc H <marc.diplom@googlemail.com>
Date:   Sun Jun 28 15:54:10 2015 +0200

    Using functionnames

commit dd5ab7b75c06425520bbd3f0d1a2854c1fbad43b
Author: Marc H <marc.diplom@googlemail.com>
Date:   Sun Jun 28 15:53:32 2015 +0200

    Improved 'isCompatible' functions and now we will throw an error if a new 'function'-implementation has a wrong return type

commit 122cd9157621636f913e502845d820b861d2b461
Author: s1341 <github@shmarya.net>
Date:   Sun Jun 28 13:31:27 2015 +0300

    Implement side-stack for on_enter/on_leave on QNX
    
    QNX has very small default stack sizes - just 128kb. This is insufficient
    for V8 to run on top of. We've already patched glib and v8 to create new
    threads with larger stacks, but that still leaves a problem with pre-existing
    threads created by the target process. This patch works around this problem
    by implementing a 'side-stack' which all the on_enter/on_leave handlers run
    under instead of the original/real stack. This side-stack is sufficiently
    large to run v8 code without issues (currently 2Mb).

commit 054a88ff7224a1de452b81fe04fe96f609c4f91c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 26 23:19:01 2015 +0200

    Add a fuzzy backtracer for ARM64

commit f5ee829225ad0d3eb2c5fc6ac3fc69c13c762bfe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 26 22:12:04 2015 +0200

    Fix return-address seen by the invocation-context on ARM64

commit 99584d7c79e7f838325c3137fd0e629673f9eea4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 26 21:19:14 2015 +0200

    Optimize Interceptor callback logic
    
    If one of the callbacks is omitted we can save a lot of overhead by being
    a bit smarter. This effectively doubles the performance for such cases.
    When measuring with the performance test on an iPhone 6 the best-case was
    30μs before this change, and 15μs after.

commit 1a1b7cbf9a52a3081ed37eeab6f872ceb6e21f9c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 26 01:05:40 2015 +0200

    Fix crash when interacting with not-yet-realized classes

commit 89c34e1aaedc700b364738cf5166fd04e7c31e05
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 24 19:08:54 2015 +0200

    Make JSHint happy and switch -core into strict mode
    
    Fixes #57.

commit 6ab388bc446407afd4e5b18d6172e94f82b45308
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 24 19:08:10 2015 +0200

    Fix hard-coded path buffer size

commit df5ad74929f0ffdf5ebd2b23be018e7d415f187a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 24 19:07:48 2015 +0200

    Fix iOS build regression

commit dbc190dbca271769ec1949e6b4ac90bdb3eb1a7f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 24 19:07:18 2015 +0200

    Only run the `ObjC.choose()` test in slow mode

commit a35a565bf2222d7c9e4768999c426c1e65e6c1c1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 24 19:06:49 2015 +0200

    Fix crash when handling exceptions without a message object

commit 12019d6d94fd26a2675049e48e6e9863752eefb4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 24 17:26:10 2015 +0200

    Fix the life-time of CpuContext JS wrappers
    
    Thanks to @trufae for reporting.

commit 95bf02e2a1d11795708c40233ef1db84fec68e62
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 24 14:12:30 2015 +0200

    Make it possible to coalesce neighboring ranges when enumerating
    
    Fixes #79.

commit 8b661a5cf46ebbeb62560913f2450b1cb1926a94
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 24 13:44:24 2015 +0200

    Add convenience API for looking up modules and ranges
    
    - Process.findModuleByAddress(address)
    - Process.getModuleByAddress(address)
    - Process.findModuleByName(name)
    - Process.getModuleByName(name)
    - Process.findRangeByAddress(address)
    - Process.getRangeByAddress(address)

commit cf26c5a223a8bbb406b565cc68a22720d007b5b8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 24 13:42:32 2015 +0200

    Fix uninitialized file offset value
    
    Untested; spotted when comparing the different implementations.

commit bfd2fc66d1211edb88d7e56eb6107cbb581a901c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 24 13:40:49 2015 +0200

    Add file mapping info to the Darwin backend
    
    Fixes #78

commit 7113dee94a9e4bb81b14640d32a8019fd690bbd1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 24 13:39:54 2015 +0200

    Expose the file mapping info to `Process.enumerateRanges()`

commit 8684bb9f116f174443c79923de9cde002aa2e96b
Merge: e2561735 5cc76818
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jun 23 20:31:18 2015 +0200

    Merge pull request #80 from marc1006/null
    
    Convert 'null' in JavaScript to the 'NULL object' in JNI

commit 5cc768188f7834ef3bfd6d60196da615e20eb4bc
Author: Marc H <marc.diplom@googlemail.com>
Date:   Tue Jun 23 20:21:24 2015 +0200

    Allow 'null' as call parameter

commit 3ded8d346733aeb2219bf4cd8e7b7f034893e83d
Author: Marc H <marc.diplom@googlemail.com>
Date:   Tue Jun 23 19:18:15 2015 +0200

    Convert 'null' in JavaScript to the NULL object in JNI

commit e2561735dd47a879548d258e2e0521b867f1547a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jun 23 17:06:55 2015 +0200

    Fix conversion of structs with simple field types

commit eebf156cd962c6a5936472818f49ebd39f94dfde
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jun 23 17:06:28 2015 +0200

    Speed up implicit string conversion by caching wrapper object

commit 1658a0dec3bb1ba22e3ceaa82e33a56cf1369283
Merge: 115f0dec 2a7ac5cf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jun 21 16:10:04 2015 +0200

    Merge pull request #77 from s1341/master
    
    Make the mprotect read in a loop instead of just the once

commit 2a7ac5cfe7b6be91a168af753166f1fa2e71ccc0
Author: s1341 <github@shmarya.net>
Date:   Sun Jun 21 17:05:27 2015 +0300

    Make the mprotect read in a loop instead of just the once

commit 115f0dece1553c5d054a65c668e4d5a0973a49f9
Merge: 9af26e5c 425b7566
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 19 01:06:08 2015 +0200

    Merge pull request #75 from marc1006/EnsurePopLocalFrameWillBeCalled
    
    Ensure env.popLocalFrame will be called

commit 425b75665221b8b73672170ea94326c44c133bda
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Jun 18 12:35:58 2015 +0200

    Ensure env.popLocalFrame will be called
    
    It's possible that 'toJni' or 'fromJni' throws an error so we have to ensure that env.popLocalFrame(...) will be called.

commit 9af26e5cca080f6236e609a2b06c1c30c47b5709
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jun 18 01:01:27 2015 +0200

    Improve portability of `NativePointer.toMatchPattern()`

commit 95d8161e175f6baded8fb97b85c14c4092e9c75c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jun 18 00:33:25 2015 +0200

    Fix `toJSON()` of `ObjC.classes` and `ObjC.protocols`

commit 92b2a4f34d484b1e88f9e0051dd55210380dfd4c
Merge: 994e67ba f6086ce0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jun 18 00:15:03 2015 +0200

    Merge remote-tracking branch 'Tyilo/objc-improvements'

commit 994e67ba36e9dde6cb408ee40fec39e17bd66146
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 17 23:46:01 2015 +0200

    Make the ObjC module compatible with iOS 7
    
    Based on patch by @trufae.

commit 2f02e911edc4a5df80051fdaed72e0281ea751e7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 17 19:35:57 2015 +0200

    Fix exception handling weirdness on ios-arm
    
    Turns out `v8::Trycatch` must be stack-allocated, and we were implicitly
    allocating it on the heap by making it part of a heap-allocated object.

commit f6086ce0af86d8069a4d545beb7d02597dee3add
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Wed Jun 17 16:25:34 2015 +0200

    Re-add support for classname in ObjC.choose

commit 023c8e99cea202e8485ee550b1877b482c2bf421
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Tue Jun 16 20:52:58 2015 +0200

    Various ObjC improvements
    
    - ObjC.nil
    - ObjC.api: various ObjC runtime functions
    - ObjC.Object.equals
    - ObjC.Object.isNil
    - ObjC.Object.$superClass
    - ObjC.Object.$methods: list of methods prefixed with +/-

commit 03d4a6246374e41f22ff742d8afa41e563ac05df
Merge: fa6cfe96 0e461ab2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jun 16 15:31:24 2015 +0200

    Merge pull request #73 from marc1006/CharSequence
    
    JavaScript 'string' is also compatible with 'java.lang.CharSequence'

commit 0e461ab2c0685537bddcb2ca959881cc9fb91289
Author: Marc H <marc.diplom@googlemail.com>
Date:   Tue Jun 16 14:52:00 2015 +0200

    JavaScript 'string' is also compatible with 'java.lang.CharSequence'

commit fa6cfe96c7a7f463aaf91c90d770e43ff868dc77
Merge: e9780fd1 4da052bc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jun 16 14:17:35 2015 +0200

    Merge pull request #72 from s1341/master
    
    Fix bugs introduced by PR #71

commit 4da052bc9bed2701c7718ebfe4ad45693e04463d
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 16 13:57:39 2015 +0300

    Fix bugs introduced by PR #71

commit e9780fd1acfab87630220e25880031644b212ca3
Merge: 6fa260f8 f8eb4761
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jun 16 12:43:47 2015 +0200

    Merge pull request #71 from s1341/master
    
    Switch from fopen to open for memory read/writes

commit f8eb476189abdb42cb5de1d8a42b91d5f340bfb9
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 16 12:46:33 2015 +0300

    Switch from fopen to open for memory read/writes
    
    fopen/fread/fwrite might be buffered, open/read/write is not.

commit 6fa260f822be0ee60aad16d61f2fa00e5849e474
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 15 19:12:50 2015 +0200

    Fix the `$class` property so it also does the right thing for classes

commit 5a7217ea314c516d4495066d96dc84f30a940cfe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 15 19:12:10 2015 +0200

    Add `ObjC.Object.$kind` property

commit 484d3a8228f9497221d877dba8a7a887743b670a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 15 19:10:41 2015 +0200

    Fix crash when looking up inexistent method

commit 361415691d784d3909fa0359cacbee54d9f5975b
Merge: 86708914 668486bf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 15 14:27:07 2015 +0200

    Merge pull request #70 from s1341/master
    
    Use PT_DYNAMIC to enumerate dynamic symbols on QNX

commit 668486bf0247d39fb5da1efb1bcef60fece4dfe0
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 15 15:24:35 2015 +0300

    Fix style issues

commit 0e9757c39fba78fd6a538f99bde3b0d6df073b96
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 15 14:40:41 2015 +0300

    Use PT_DYNAMIC to enumerate dynamic symbols on QNX

commit 867089149550a8064ec5a9b7966d2bee6499cf9a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jun 14 23:18:24 2015 +0200

    Add `this.returnAddress` to Interceptor's onEnter and onLeave

commit c68ac521b7942733c22048706ea61d1e87e19b21
Merge: 46a9a902 2b549ca2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jun 14 16:15:50 2015 +0200

    Merge pull request #63 from Tyilo/objc-choose
    
    Implement ObjC.choose

commit 2b549ca2b1e0267c95f9a551c9d5862e3f626625
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Sun Jun 14 02:26:05 2015 +0200

    Implement ObjC.choose{,Sync}

commit 46a9a902db370a0fcaff13a338762b618d23383d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jun 13 19:34:57 2015 +0200

    Remove test dependency on Cocoa types

commit 9ff648e95306ddeda0e251ce2ff1191ae703b30c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jun 13 19:21:29 2015 +0200

    Fix accidental case-sensitivity in `Process.getModuleByName()`

commit dc8294ff2f7adb66fc1318fca48164b5d375d897
Merge: bda79fc3 f2a2ef82
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jun 13 19:15:37 2015 +0200

    Merge pull request #67 from marc1006/getObjectClassname
    
    Get object classname

commit bda79fc3250b91302e742066937f1681e3f0f37d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jun 13 19:13:45 2015 +0200

    Improve FFI type conversion
    
    - Fix handling of struct types
    - Take alignment into account
    - Improve error-handling when JS returns the wrong type to NativeCallback
    - Do not leak V8 handles in NativeCallback

commit 9045ae568466fd0d7c21dff38d61a70ef760c585
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 12 19:01:46 2015 +0200

    Start fixing up the Objective-C type marshalling
    
    It dates back to the original implementation and was built on hacks that
    result in unpredictable behavior when interacting with some method
    signatures.

commit f2a2ef82f169c14e0274496ade1b4d2f66b18527
Author: Marc H <marc.diplom@googlemail.com>
Date:   Fri Jun 12 14:58:48 2015 +0200

    'klass.$className' added and parameter renamed for clarity

commit 8f0fd1567ce8f46296220109a18f261d76dca4c4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 12 03:02:49 2015 +0200

    Fix Windows regression caught by the CI

commit dc082734e04a28957c70a41bbe714cc1b48f503f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 12 02:36:53 2015 +0200

    Add failing test for methods involving structs

commit 965b1cfb875095b9a2176ca28f61b29d1de93160
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 12 01:59:39 2015 +0200

    Move as much as possible into the Runtime scope

commit adb60dc49eab8d0fcc1ecde338b805b7cf3d961f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 12 01:52:37 2015 +0200

    Massively improve the ObjC integration
    
    - Add support for invoking and overriding methods on proxies
    - Allow the equivalent of `id<ProtocolName>` through an extra parameter:
      `new ObjC.Object(handle, ObjC.protocols.ProtocolName)`
      The produced binding will have keys based on how much of the protocol
      the object actually implements, and will use the protocol for finding
      method metadata.
    - Add `$class` property to ObjC.Object
    - Revert method implementations when script is unloaded
    - Fix auto-generation of class-name

commit 1332804eb7fa9eeb81888a79240a818c3454d4fb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 12 01:30:16 2015 +0200

    Fix silly bug in auto-generation of class-name

commit eb8baa187bb63802523cb39e0c50cba9461aae90
Merge: b856fc3b 5189fae4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jun 12 00:06:35 2015 +0200

    Merge pull request #68 from marc1006/DalvikChoose
    
    Implemented 'Dalvik.choose(classname, callbacks);'

commit 5189fae4659a98e45ccf62d516e8f6ae77111d3f
Author: Marc H <marc.diplom@googlemail.com>
Date:   Fri Jun 12 00:01:57 2015 +0200

    Some small adjustments

commit b856fc3b7f0f5f2c8bcc88b6754ca03fe0e8c770
Merge: a27cd2c2 e6cb4046
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jun 11 15:44:37 2015 +0200

    Merge pull request #66 from marc1006/Tests
    
    Added tests for 'Process.getModuleByName(...)' and 'NativePointer.toM…

commit a0445ee9e898839467ce73b50ae1bd1e5fb15140
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Jun 11 13:42:28 2015 +0200

    Style issues

commit 356b9e8f53b61916b81b92680cb545ca06fc1a0c
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Jun 11 12:27:41 2015 +0200

    Implemented 'Dalvik.getObjectClassname(obj)'

commit 4c1043539221fac76b151ac6b2381f7d6749d977
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Jun 11 12:11:23 2015 +0200

    Implemented 'Dalvik.choose(classname, callbacks);'

commit e6cb4046892b5e1013b4182bebae3395553b425e
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Jun 11 10:13:23 2015 +0200

    Added copyright note

commit 7d42ba870e0d8455ffd52c6cd007c7b2fd376528
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Jun 11 10:07:53 2015 +0200

    Added tests for 'Process.getModuleByName(...)' and 'NativePointer.toMatchPattern()'

commit a27cd2c2cf6b0d482d1f4d796690a768ec8cb3e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 10 00:21:54 2015 +0200

    Add `ObjC.Object.$super` property

commit 517ac173af158abed37fc8e428e268b141889816
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 10 00:21:26 2015 +0200

    Add basic test for `ObjC.registerClass()`

commit 9dfc1375763714fa5663d56626149267afc88947
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 9 23:00:58 2015 +0200

    Add `ObjC.Object.$className` property

commit ceb82a303281e0761134dc5f4a8e07e8d3e0b30d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 9 22:42:47 2015 +0200

    Fix regression in implicit conversion from JS string to NSString

commit 049810a9ae438b402b2d75787b5a578e515cec0f
Merge: 347b60a7 f6f73eee
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jun 9 22:06:14 2015 +0200

    Merge pull request #65 from marc1006/toMatchPattern
    
    Implemented NativePointer.toMatchPattern(pointer)

commit f6f73eee2fa95c947c765b4bc06a7529120d6824
Author: Marc H <marc.diplom@googlemail.com>
Date:   Tue Jun 9 21:47:02 2015 +0200

    Ignore IntelliJ '.idea' directory

commit 6d463bc884942858cd6e5051ba504ec4f3830c39
Author: Marc H <marc.diplom@googlemail.com>
Date:   Tue Jun 9 21:46:03 2015 +0200

    Copyright added

commit 6f392c7cbd350c14c10991e50a6c8e087a57722b
Author: Marc H <marc.diplom@googlemail.com>
Date:   Tue Jun 9 21:34:45 2015 +0200

    Style issues fixed

commit 469638443185cf55d841687add8c3e36f08a7c1d
Author: Marc H <marc.diplom@googlemail.com>
Date:   Tue Jun 9 18:20:12 2015 +0200

    Implemented NativePointer.toMatchPattern(pointer)

commit 347b60a751debd01ca34eeb536422db97c2efdcf
Merge: c6b407ab d20f8ee0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jun 8 17:29:51 2015 +0200

    Merge pull request #64 from Tyilo/cmp
    
    Add NativePointer.cmp for comparing pointers

commit d20f8ee098206a5fe629db8c63d9c72ca6f62d8d
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Mon Jun 8 16:52:16 2015 +0200

    Add NativePointer.equals and rename cmp to compare

commit 10d5a15839b3e4e6867fe9d3d57316f949105626
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Mon Jun 8 14:43:38 2015 +0200

    Add NativePointer.cmp for comparing pointers

commit c6b407ab28a12ada1b64a8ba32c5041da170ba00
Merge: 4b58adbd 454b90a9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 8 02:20:24 2015 +0200

    Merge pull request #62 from Tyilo/malloc-ranges-js
    
    Add Process.enumerateMallocRanges{,Sync}

commit 454b90a9063cae43adb0f284d954c31be745b607
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Mon Jun 8 01:53:10 2015 +0200

    Fix warnings for non-Darwin architectures

commit f9dfb960feff4b87643b15360fc1b1d2e8c11076
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Mon Jun 8 00:20:21 2015 +0200

    Add missing return statement

commit d532d1753ef986b1017f6255e2c5294a50ec3fea
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Mon Jun 8 00:15:01 2015 +0200

    Add Process.enumerateMallocRanges{,Sync}

commit 4b58adbdb242bda46e51ff4b32fbd2bdabab3bce
Merge: 33344273 a760e556
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 7 16:28:46 2015 +0200

    Merge pull request #61 from marc1006/getmodulebyname
    
    Process.getModuleByName(name) implemented

commit a760e55661a6f981acb07449630eb2a2103c1254
Author: Marc H <marc.diplom@googlemail.com>
Date:   Sun Jun 7 01:34:22 2015 +0200

    Consistent error message

commit 3334427397837bdbd0c45d8bac70174a20d91079
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 7 00:55:22 2015 +0200

    Release the V8 lock while calling NativeFunction

commit 021e48b49bd7b6680a12de5d2f93e5ee8b1f5b7b
Author: Marc H <marc.diplom@googlemail.com>
Date:   Sat Jun 6 17:48:40 2015 +0200

    Process.getModuleByName(name) implemented

commit 8d337b73cfe18d8ed469eb3890fc929571e8322f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 4 14:41:28 2015 +0200

    Fix warning

commit d44034e91f67eff78e9f72a9d077750809df78dd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 4 03:51:49 2015 +0200

    Add `ObjC.registerProxy()` utility API
    
    This is useful when you only want to override a few methods and don't
    want to write boilerplate for forwarding the rest to another object.

commit d68636111c901753f53ab92849207c251ed31f42
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 3 22:01:35 2015 +0200

    Refine the `registerClass()` API
    
    - Rename `parent` to `super`
    - Drop `overrides` and just sniff the values in the `methods` mapping

commit 9a65f025345843dd5ebe8c8e8289dc022fcb67af
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 3 21:37:20 2015 +0200

    Improve the ObjC custom class support
    
    - Easily associate JavaScript state with instances
    - Access to super-class
    - Reduced boilerplate when overriding methods, i.e. types are taken from
      the parent method
    
    Example code:
    
    ```JavaScript
    const NSAutoreleasePool = ObjC.classes.NSAutoreleasePool;
    const pool = NSAutoreleasePool.alloc().init();
    
    const NSObject = ObjC.classes.NSObject;
    const NSURLConnectionDataDelegate = ObjC.protocols.NSURLConnectionDataDelegate;
    const MyConnectionDelegateProxy = ObjC.registerClass({
        name: 'MyConnectionDelegateProxy',
        parent: NSObject,
        protocols: [NSURLConnectionDataDelegate],
        overrides: {
            '- init': function () {
                const self = this.super.init();
                if (self !== null) {
                    ObjC.bind(self, {
                        foo: 1234
                    });
                }
                return self;
            },
            '- dealloc': function () {
                ObjC.unbind(this.self);
                this.super.dealloc();
            },
            '- connection:didReceiveResponse:': function (connection, response) {
                /* this.data contains `foo` with a value of 1234 */
            }
        }
    });
    const proxy = MyConnectionDelegateProxy.alloc().init();
    
    pool.release();
    ```

commit dd9006e7faa7b11338441e40da14dde25048e68c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 3 02:48:51 2015 +0200

    Add partial support for protocols and class creation
    
    This is very much a work in progress and the API is subject to change.

commit 1e4e8e4be32ecef7a968911e5c5295444fd37035
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 3 02:47:01 2015 +0200

    Eliminate usage of `scratchBuffer` in the Dalvik integration
    
    We'd like to be able to yield the V8 context while calling out to a
    NativeFunction in a future version of Frida, and thus we should avoid
    shared buffers like this one.

commit 5abbf2d8a2640779685a108958a7ba81e5bed3b8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 31 22:49:45 2015 +0200

    Fix handling of the `ADRP` instruction
    
    The lower 12 bits of `PC` should be cleared to zero.

commit e9cbe9ba8a7a9a464f6812b611fcf5721ff5d871
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 31 21:51:15 2015 +0200

    Add tests for relocation of `BR` instruction

commit ccfa66321acd25983fc29c43c8458ca5ca8fb18b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 31 21:35:10 2015 +0200

    Add support for relocating PC-relative LDR on arm64

commit 51478a85fde07dcd68aafb9bd3be24f215faa431
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 31 13:13:25 2015 +0200

    Add support for relocating LDRPC T2
    
    Fixes frida/frida#45.

commit 942e966f8d62d8caad00ad7357f127f3e777cdc8
Merge: 56e0c90d 947441ff
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 05:29:26 2015 +0200

    Merge pull request #59 from marc1006/ZeroInitialize
    
    Zero-initialize retvalue

commit 947441ff7ee70b8ff0c4efbb6195fa776b7d0ed8
Author: Marc H <marc.diplom@googlemail.com>
Date:   Fri May 29 00:51:18 2015 +0200

    Zero-initialize retvalue

commit 56e0c90d2baf2af596bb89d3c3f118c310c6f4cf
Merge: 29d0b7ab bd3285c2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 28 01:32:59 2015 +0200

    Merge pull request #58 from marc1006/Fix
    
    Fix overriding of static methods

commit bd3285c280134619f51f2555a770ab35a75eb806
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu May 28 01:28:56 2015 +0200

    Fixed code style

commit 449d098df255d56d1aea89a7dc31f91726d1ebb6
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu May 28 00:37:05 2015 +0200

    Fix for https://github.com/frida/frida-gum/issues/56

commit 29d0b7abeb8961d2705ade774ca531e3c6907482
Merge: 05f9afac 315fd33b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 26 12:05:32 2015 +0200

    Merge pull request #55 from marc1006/loadedClasses
    
    enumerateLoadedClasses implemented and some fixes to use strict mode

commit 315fd33b71c2716cc714831a2d473bdfb9e8cf4f
Author: Marc H <marc.diplom@googlemail.com>
Date:   Mon May 25 21:48:22 2015 +0200

    Indentation fixed

commit 14a540d2b52b7be1ca5c6c8f23761e70ccdcadb9
Author: Marc H <marc.diplom@googlemail.com>
Date:   Mon May 25 21:27:38 2015 +0200

    enumerateLoadedClasses implemented and some fixes to use strict mode

commit 05f9afac3a92ecae35add0163193a121b1de4de6
Merge: 8bddc04a 27adaa3e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 25 13:05:14 2015 +0200

    Merge pull request #54 from s1341/master
    
    Fix error in ARM redirect calculation when rotation is 0

commit 27adaa3e215bb5f1c656a6a4f44962868d9df65e
Author: s1341 <github@shmarya.net>
Date:   Mon May 25 12:45:22 2015 +0300

    Fix error in ARM redirect calculation when rotation is 0

commit 8bddc04a1da42cb9c26da784f83de03cf1f74a98
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 19 20:06:04 2015 +0200

    Add `gum_arm64_writer_put_call_reg_with_arguments()`

commit 9354229ce57e9d645cc3fdca3421608f06e37a70
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 19 20:05:39 2015 +0200

    Add missing include for `rindex()`

commit 8e3ef773d52f1f01861d948b89af9676bfcbf557
Merge: 543e2489 859a7534
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 19 15:02:18 2015 +0200

    Merge pull request #52 from s1341/master
    
    Set details.name when enumerating modules on QNX

commit 859a75348a23982db8c94d829579e1ed27adefa3
Author: s1341 <github@shmarya.net>
Date:   Tue May 19 16:00:13 2015 +0300

    Get rid of errant printf

commit dffe9afad84679febdc9f8a6c421297deb79e6f2
Author: s1341 <github@shmarya.net>
Date:   Tue May 19 15:52:22 2015 +0300

    Set details.name when enumerating modules

commit 543e24891c2f13d967d75582ed195a2f2650a446
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 17 16:15:06 2015 +0200

    Allow readByteArray() with length < 1

commit 91dbf6a569b8886616c48ea681fc93466d4cb68a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 16 22:22:20 2015 +0200

    Add support for passing an array of data to `send()`
    
    Fixes #48.

commit d623c4918996dc88492f33389a6ad29885d3d834
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 16 21:40:44 2015 +0200

    Make the jecxz/jrcxz labels unique

commit c887be19a18914001eb7748804626148ab9ce047
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 16 21:40:04 2015 +0200

    Add support for relocating cbz/cbnz instructions

commit fdf2de5d6760308d57eee424e8d313a97c72d398
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 13 22:08:50 2015 +0200

    Fix gum_clear_cache() on android-arm64

commit d0a4685236780d8e15deb2a9bea0122ee3c15f9c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 13 22:08:35 2015 +0200

    Temporarily disable some tests for android-arm64

commit 0a0e5c6e27a00e00aabcea17856c7f413edbaf3a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 13 22:08:09 2015 +0200

    Improve the Android `check` target

commit ed48636eefedabc30833c05b1e9a6e458acb2287
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 13 21:35:01 2015 +0200

    Improve the Android `check` target
    
    - Push arm64 binaries too.
    - Don't delete old files before pushing.
    - Strip binary before pushing it to minimize transfer time.
    - Remove now-redundant LD_LIBRARY_PATH.

commit d6fdaf771031f649d790fe6b9c08cb34a548b8ec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 13 21:29:36 2015 +0200

    Add targetfunctions binaries for android-arm64

commit bbe6e47e15d6e92ee278d1c1ac36eb064bf2e8ee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 13 21:15:08 2015 +0200

    Port GumCpuContext to android-arm64

commit 72794c381bb66ac07a247a671e303a5078051112
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 12 18:33:11 2015 +0200

    Add support for “o instanceof ObjC.Object”
    
    Also update to pass the wrapper itself instead of `wrapper.handle`, now
    that we support that.
    
    Fixes #45.

commit e8054787c643b94134333d504a76ca4854b23ca6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 12 18:24:40 2015 +0200

    Allow passing object with a `handle` property as a NativePointer
    
    It's not possible to inherit from NativePointer when using ES6 proxies.
    
    Fixes #47.

commit 51958d12e834b8016677a7b43772d201d40c675a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 11 19:10:42 2015 +0200

    Remove unused NativeFunction

commit 76e09d254d28a9ef0edda71805a5dba86bfccd08
Merge: 0f6736d6 e024a937
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 11 19:00:16 2015 +0200

    Merge remote-tracking branch 'Tyilo/fix-objc-types'

commit 0f6736d6be8a1e0be539377f32ef4cc18d80a749
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 11 18:58:48 2015 +0200

    Fix signatures used for calling `objc_msgSend()`
    
    It is actually not a varargs function. This resulted in crashes on arm64,
    where the ABI difference between non-variadic and variadic is quite huge.

commit c32df7ff3ad17083b44d739a8b66cde7145cfd1a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 11 17:27:08 2015 +0200

    Enable the ObjC test-suite on iOS too

commit e024a937b083427809024af0d99d2da537375199
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Sat May 9 03:35:39 2015 +0200

    Fix test and coding style

commit 0327babad43baa859787b8d2d0f2c8a74b76675d
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Fri May 8 18:30:24 2015 +0200

    Fix all ObjC types

commit bb731125cf7f638f5783ca9a355cedc1e8fead78
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 7 21:10:04 2015 +0200

    Fix the toJSON() implementations

commit 68a81200bb099197dbf1ce0ef9b2279aa2b8e666
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 7 20:56:06 2015 +0200

    Handle serialization to JSON

commit 4ec1a1c7ed94c21e3b4e34d32b04427a0529b3c3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 7 20:05:51 2015 +0200

    Fix minor coding style issues and disable WIP test

commit 4d220f9db26bcfdba11c929e237e4afaf580322f
Merge: cf658472 6c317d69
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 7 20:01:05 2015 +0200

    Merge pull request #43 from Tyilo/test-objc-weird-methods
    
    Add 2 ObjC tests

commit 6c317d696ea78de0f9b8da74e58bf895cec64836
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Thu May 7 19:12:47 2015 +0200

    Add 2 ObjC tests

commit cf6584724c684c9366bd8051d2148022b5606773
Merge: 2317f046 3cd58d46
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 7 04:06:26 2015 +0200

    Merge branch 'fix/objc-api'

commit 3cd58d46062e193908b512e4238ed7be409a8010
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 7 04:06:06 2015 +0200

    Rework the ObjC implementation
    
    - Unify class enumeration and `.use()` into a much more intuitive API.
    - Wrap classes and instances the same way.
    - Do things lazily and improve performance massively.

commit 2317f046d4b4b52d612074acff8c67224e655c50
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 6 19:01:27 2015 +0200

    Beef up the ES6 support

commit 66e073453a75c8072fb50fb9c8dd2caa92360b0f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 6 15:25:47 2015 +0200

    Add a method implementation override test for ObjC

commit 8c7fd50fb304538ba7bb54dcfc213db30a43d57c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 6 15:25:29 2015 +0200

    Improve the handling of uncaught exceptions

commit f06624c02cd6db8211676458120868167711cef0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 6 14:14:41 2015 +0200

    Fix crash when NativeCallback throws instead of returning a value

commit fe9991e6866557fe8462b2895e98589eb9628a31
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 6 13:58:58 2015 +0200

    Handle exceptions without a message

commit 7b0f525ae1094eaf3e69a90104aeef6c7f744efb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 6 13:35:35 2015 +0200

    Add a couple of basic tests for the ObjC integration

commit 4824330271fed49982b16f5b6ece8ca47262322b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 6 02:54:48 2015 +0200

    Generate ObjC method wrappers lazily
    
    This improves performance quite a bit.

commit d5ae4f88142f0fb27645febe8b48ecd0ce87eefe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 6 01:00:29 2015 +0200

    Fix Linux build regression

commit 780c80b77362ce65f7d5a35aa9ade4c485af19a6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 5 23:59:55 2015 +0200

    Add a really basic performance test for ObjC.use()

commit d4fb81ac0610885912c9a4b9a114482aa5d8a747
Merge: 953156e4 87e6cf5f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 5 16:45:50 2015 +0200

    Merge pull request #42 from s1341/master
    
    Fix bug in calculating ADD arm instruction immediate

commit 87e6cf5f47c2fd45a09ebaec213a2572546ee124
Author: s1341 <github@shmarya.net>
Date:   Tue May 5 17:43:34 2015 +0300

    More style fixes

commit 81d94e4a88380a0b813cc049eed79a80462203a5
Author: s1341 <github@shmarya.net>
Date:   Tue May 5 17:39:41 2015 +0300

    Fix style issues

commit 82c3037f17fd2a9e655edcea0548455d3d27361a
Author: s1341 <github@shmarya.net>
Date:   Tue May 5 17:05:28 2015 +0300

    Fix bug in calculating ADD arm instruction immediate

commit 953156e4f01dd10c66051b278e0f3764c615502c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 4 18:45:30 2015 +0200

    Rename `get*()` to `enumerate*Sync()`

commit 47efadf4219ce47e6476d02215f2e444dda5e44f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 4 17:36:57 2015 +0200

    Add convenience API for getting all items
    
    These are guaranteed to be blocking, whereas the enumerate* API may run
    asynchronously in the future.

commit 31481e68010af56dc6da7132d14de44f790d5f84
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 4 15:59:16 2015 +0200

    Fix shutdown of ScriptEventSink
    
    The callbacks were scheduled in the wrong MainContext and there was no
    guarantee that they would get processed before destroying the V8 context.

commit cc2bb30667450dd8dcacaae9954fea422c33495d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 3 23:24:41 2015 +0200

    Fix rewrite of the B.cond “false” branch

commit 1845e4db22c8ffdc89540d6a6ba4bbab2163cbcb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 3 23:24:03 2015 +0200

    Improve the read() test to cover both branches

commit e4155dc3d65a0143175ba29c08924206614dea49
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 3 20:06:00 2015 +0200

    Add support for relocating B.cond on ARM64

commit c01a416f1bb36d8f5cdc66e31b33bea4300f2233
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 3 20:05:02 2015 +0200

    Improve the attach_to_read test

commit e04ba2ab647b88b868d73e9f000a150d7f83d07c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 3 20:04:17 2015 +0200

    Remove redundant environment variable

commit f1e73f616810250ec13fb40daa59622875bb3665
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 3 16:28:47 2015 +0200

    Add failing test for attaching to read() on ios-arm64

commit 8a912105fd8a962f7766b82c64e9b02d24815e79
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 3 16:28:16 2015 +0200

    Fix the iOS and Android “check” targets

commit e4574436fe37bcb02caa5de77fd5ec7d087d44d8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 1 16:12:21 2015 +0200

    Eliminate trailing whitespace

commit 93cb5a8359998f19c1a1fa6f913818df0b06ef54
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 1 15:56:59 2015 +0200

    Change findFunctionByName() to getFunctionByName()
    
    The `get` part of the name hints at the fact that an exception will be
    thrown if we're not able to resolve the function name.

commit 95ba465ccb431029252e0fc57bb5878b457b1a3b
Merge: 011f2697 c0556669
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 1 15:40:27 2015 +0200

    Merge pull request #41 from Fitblip/master
    
    Docstrings

commit c0556669dba2a644e6fc05c704ba8ec4ecce5ec4
Author: Fitblip <fitblip@gmail.com>
Date:   Fri May 1 04:22:26 2015 -0700

    Formatting fixes

commit f27ba7470efca97a0707e3f777649aa3c37e6cb4
Author: Fitblip <fitblip@gmail.com>
Date:   Fri May 1 03:16:57 2015 -0700

    Use the memcpy names in gum_script_memory_on_copy

commit 64369aaee9c7a704fb99359e05b110a07897600f
Author: Fitblip <fitblip@gmail.com>
Date:   Fri May 1 03:16:06 2015 -0700

    Initial docstrings

commit 011f2697b1ff6a747f995ff47baca263165721a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 28 19:17:45 2015 +0200

    Remove the long gone init_with_features() API from the vapi

commit 74e5f8479f20ae4c63b1ecebaf690d2b5a201630
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 27 01:57:41 2015 +0200

    Provide V8 with an array buffer allocator
    
    Fixes frida/frida-python#15.

commit 11e8d57789c08ee8d3b96c66d28ed13f9cf70647
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 27 01:34:38 2015 +0200

    Sanity-check pointers handed to Interceptor and Instruction APIs
    
    These checks only check the first byte, but that already goes a long way
    to catch the most common API usage mistakes.
    
    Fixes #7.

commit 711bfef6b8d8413022ebc3cc5f210e63e49bc136
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 27 00:29:21 2015 +0200

    Handle invalid construction attempts

commit 12bc6b993da7de281cc5699afa25d4801b3dfad2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 17:13:06 2015 +0200

    Add support for stalking jecxz and jrcxz

commit fcf21b613d1dc9695c495810a4ee56b761f44e7d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 17:05:44 2015 +0200

    Fix the jcxz tests

commit d0facadf4c14838369358e6332201f3124ab14b9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 16:43:09 2015 +0200

    Add failing tests for stalking jecxz/jrcxz instructions

commit 2268171d7cde2b6533cd003c736f54b50ff0e1d6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 16:25:11 2015 +0200

    Add support for relocating jecxz and jrcxz

commit daf352a359693097d49973786e3a9a30dce4899f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 04:26:12 2015 +0200

    Replace placeholder test with a failing test for `jecxz`

commit 0a04f6065bfa526c754ca282f20b0edcef0937f6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 04:07:47 2015 +0200

    Add a temporary test for tracking potential capstone regression

commit 14dc017b029959a08b01deb95d4d54aaae401080
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 01:54:44 2015 +0000

    Only enable BoundsChecker and Gum++ tests on Windows for now

commit 2ec5bf5069bd838a2643e35d1eb313b948e1153e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 03:17:30 2015 +0200

    Update Script fixture path

commit dc82df1867264ea538f4932186eecd4cba42d103
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 03:17:20 2015 +0200

    Update the GumJS canonical name

commit b8ef17d7e992761b1501a8e6933b0415ed4fbbf7
Merge: 0fc88743 b3f6f85e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 02:53:46 2015 +0200

    Merge branch 'feature/gumjs'

commit b3f6f85e3dbc0e8e64177869f8dfb60a7934dc52
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 02:51:19 2015 +0200

    Move the Script runtime into its own binding
    
    Beyond the obvious architectural reasons, the motivation behind this is
    so that frida-gum can be consumed by an application or library that's
    embedding a V8 of their own. For Frida that means frida-node can embed
    frida-core without any risk of mixing up the V8 symbols.

commit 0fc88743b4ad3962ba16679da146eb73f85ada01
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 24 23:46:53 2015 +0200

    Clean up and get rid of GUM_EXTRA_LIBS

commit 538480a4236afba0d520d0ff9869762d4d4863d5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 24 23:33:48 2015 +0200

    Remove V8 from libfrida-gum-1.0.la
    
    We really want to avoid V8 symbols ending up in the static library, and
    just rely on the pkg-config to link in V8's static library. Otherwise we
    run into issues when frida-gum is linked into a library that itself
    depends on another version of V8, which is the case for a Node.js binding.
    
    This is obviously a hack, and the longer term plan is to move all of
    gum/gumscript* out into either its own library, or frida-core/lib/agent.

commit dda07504600f0a5108ab32343f1a560b0dd0589c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 24 19:08:31 2015 +0200

    Disable BoundsChecker and Sampler test suites on iOS for now

commit 9657d2623a858b1d25f1b742845b4778186d3327
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 24 19:08:11 2015 +0200

    Handle ios-arm64 in the backtracer test
    
    There isn't yet any fuzzy backtracer available for ARM64.

commit adcad6bdc398d5e036bb7a46db2ddbc66ed56d59
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 24 19:06:34 2015 +0200

    Improve the Script fixture teardown

commit 807185d00ddff6863ef2846b38f36a5fc7143042
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 22:18:12 2015 +0000

    Fix Linux warning regressions

commit 09568035bdb8578c64459cc27e41ee6bfaa8db8b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 23:17:31 2015 +0200

    Run Script tests after all the lower level suites

commit 56f0337c702d8c84b00ef0fb9bc779abfa4d5bcf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 23:16:58 2015 +0200

    Fix the page rounding logic on 64-bit

commit a7786a2662441ef10eb73f7456cdcc117c24ecd4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 21:20:25 2015 +0200

    Revert warning fix
    
    It was a false positive.

commit 9bcd4e5523b553e28584ca8dc2eafdb8320a1981
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 19:58:35 2015 +0200

    Fix warning reported by MSVC

commit 3bd1d02390b76ab156c869f3f0952f2a92d0caef
Merge: e43cc036 7c32e04a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 16:45:15 2015 +0200

    Merge pull request #40 from s1341/master
    
    Fix the pc relative add

commit 7c32e04ab3b2648b6cc9d49045871ecbfffaab7c
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 23 16:54:59 2015 +0300

    Fix the pc relative add

commit e43cc0363c6ea8b5a54246048519ef094a0e8e15
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 23 15:39:06 2015 +0200

    Fix parsing of process ranges with non-filesystem inodes

commit 622c665a4849cccb6b7409c35032c3f8b843e0f8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 15:17:49 2015 +0200

    Revert bad simplification of PC-relative add
    
    Also fix the test while at it.

commit e41ef422229f2943e81e554282a4af9a1195b746
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 23 11:35:59 2015 +0200

    Fix UNIX warning regressions

commit b55c09a9c15158dc9cc5614b06c58237aac96339
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 11:22:06 2015 +0200

    Simpliy rewrite of PC-relative add
    
    Also fix test harness usage in the new ArmRelocator tests.

commit e443490b46b8bc39eedc8d07fa3cfd0c67d93f7e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 22 20:39:17 2015 +0200

    Add `MemoryAccessMonitor` to the Script runtime

commit 0dee3ef19ab770a65ef2b833e754a045a8a45e9b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 22 20:37:19 2015 +0200

    Provide range index instead of the actual range

commit 2b0f294604ede7171b8336891e275cc2799d4d98
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 22 18:49:29 2015 +0200

    Improve MemoryAccessMonitor
    
    - Refine the API to allow multiple ranges
    - Allow monitoring anywhere in an allocated range
    - Move implementation into backend-windows

commit 68987aac3335063be079aaa79d94d056edf266d6
Merge: 076789d0 23a4c18e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 22 13:54:36 2015 +0200

    Merge pull request #39 from s1341/master
    
    Fix bugs in gumarmrelocator and gumarmreader related to improper instruction assembly/decoding.

commit 23a4c18e4445c3368d6817b522b0e2c7d9745f56
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 22 14:46:10 2015 +0300

    Disable failing tests on QNX for now

commit 076789d0681a633c82bea920c9af35d6be81e30b
Merge: b0baee25 56cf67d5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 22 13:45:38 2015 +0200

    Merge pull request #38 from s1341/master
    
    Fix bugs in gumarmrelocator and gumarmreader related to improper instruction assembly/decoding. Also, implement rewrite for pc-relative add.

commit 56cf67d5e94a689e083fe543bfaa479f8a0c37c3
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 22 14:15:17 2015 +0300

    Add tests for ldr and add rewrites

commit 1fdebebbb273d24ac203203376d1783844e25346
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 22 12:48:36 2015 +0300

    Implement rewrite of pc-relative add

commit 089c458df6e7ba418faebdc6a30eb5e32cdcb300
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 22 11:57:03 2015 +0300

    Fix instruction decoding in try_get_indirect_jump

commit 157b5b22881035bb9aa15f366a50ddcaece9e156
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 22 11:55:01 2015 +0300

    Fix ldr rewrite for large displacements

commit b0baee25edf4b6bd2ddaee198c682f0f502a7edf
Merge: e9b24166 9fa4ebc8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 21 19:18:39 2015 +0200

    Merge pull request #36 from SomeoneWeird/c-type-memory-shortcuts
    
    Add additional shortcuts for reading and writing memory.

commit e9b24166cb60d0ca8804eca020602204c1bac799
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 21 16:09:12 2015 +0200

    Add `Memory.readCString()` to the Script runtime

commit 9fa4ebc8be812f624fa694ade9e4cf27c37ce104
Author: Adam Brady <adam@boxxen.org>
Date:   Tue Apr 21 23:11:20 2015 +1000

    Add additional shortcuts for reading and writing memory

commit 75aff71455823416a822ab824acc1b922175a544
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 21 15:45:06 2015 +0200

    Make the ANSI API available as throwing stubs on non-Windows
    
    This is less confusing than methods being missing.

commit 19f1637b5c25d33e439564c5e3b168fec7d889b8
Merge: c44101dc 368ea859
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 21 15:30:44 2015 +0200

    Merge pull request #37 from s1341/master
    
    Fix replace_function test case

commit 368ea859c7e5d6a0359736de778aebc6d3c349b9
Author: s1341 <github@shmarya.net>
Date:   Tue Apr 21 16:19:49 2015 +0300

    Fix replace_function test case
    
    The ret variable in this case needs to be volatile so that the
    compiler doesn't aggressively optimize, resulting in an assert
    0x42 == 0x42.

commit c44101dcb22efcf4d74ca1c5007e9f125e7bcdc8
Merge: ee9d8bb6 3f3adcc3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 21 15:15:16 2015 +0200

    Merge pull request #35 from s1341/master
    
    Add capstone to armrelocator; implement PC relative ldr rewrite.

commit 3f3adcc3d51446281389168a8c0360b98a711682
Author: s1341 <github@shmarya.net>
Date:   Tue Apr 21 12:26:08 2015 +0300

    Implement PC relative ldr rewrite
    
     - Add capstone to the ARM Relocator, allowing for parsing instructions
       using the capstone API.
    
     - Implement rewrite of PC relative ldr instructions (where PC
       is the base register for the second operand).

commit ee9d8bb6ba23f96506bc1ca3ab811266109a6f2b
Merge: 2e588935 13085be2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 21 11:22:37 2015 +0200

    Merge pull request #34 from s1341/master
    
    Make interceptor replace/revert function follow redirects

commit 13085be2d9d2e370f2be7bbd23780744bdb9c934
Author: s1341 <github@shmarya.net>
Date:   Tue Apr 21 12:18:06 2015 +0300

    Make interceptor replace/revert function follow redirects

commit 2e588935fbf0b3694ccc9c4b1dee3a9ec40122fc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 21 01:55:45 2015 +0200

    Fix crashes when GC kicks in during disposal of weak refs
    
    Two scenarios:
    - Script destruction removes all weak refs, and while executing the
      callback for one entry that may lead to a GC that triggers a callback
      to one of the next ones. The call to remove it does nothing, because
      we are already in `g_hash_table_remove_all()`. V8 detects that we did
      not actually trigger any state change, and aborts.
    - WeakRef.unbind() is called but GC kicks in during execution of the
      callback, which was executed before `ClearWeak()`.

commit 9b0da879254f01b99d5a5588a6650e621c6dff60
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 20 19:38:50 2015 +0200

    Fix warning regressions

commit ad08643314aa954d14dc18a0c0102c6f5aabe191
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 20 19:33:28 2015 +0200

    Clear weak state when disposing weak reference

commit de4ea8e752ab75072bb79985a6b50c1aa77c9fa5
Merge: 11a83226 46c5eb7a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 20 18:07:36 2015 +0200

    Merge pull request #33 from s1341/master
    
    Implement _gum_interceptor_resolve_redirect for ARM

commit 46c5eb7a8d3965fb8dd94ca88cb29a484bed1394
Author: s1341 <github@shmarya.net>
Date:   Mon Apr 20 18:46:40 2015 +0300

    Add another thunk form as a redirect
    
    This is an indirect jump through a table at a PC-relative offset.

commit 39acfdab33c4941958422c9a571181137aa3c371
Author: s1341 <github@shmarya.net>
Date:   Mon Apr 20 12:32:47 2015 +0300

    Implement _gum_interceptor_resolve_redirect for ARM
    
    Add the gumreader.c/h files. Look for relative imm jumps when
    attempting to resolve redirects.

commit 11a83226257085cc6d39099645d40cfefa5304aa
Merge: 5fb2e1e5 722af54f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 20 15:42:08 2015 +0200

    Merge pull request #32 from s1341/master
    
    Make mprotect hack mmap with PROT_EXEC

commit 722af54fe31d9fa0c8f7b5260b0db69720b7355a
Author: s1341 <github@shmarya.net>
Date:   Mon Apr 20 16:33:48 2015 +0300

    Make mprotect hack mmap with PROT_EXEC
    
    This is better for the case where we are changing permissions for
    the same page as something we are executing.

commit 5fb2e1e59bc872c98c2d2bdbdd36794f80ed2a83
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 20 15:15:07 2015 +0200

    Turn fatal V8 errors into fatal GLib log events

commit 45142357a6c5189f16add7847cc7f9014c83b5f1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 19 20:57:37 2015 +0200

    Improve Dalvik performance and type support
    
    - Create wrappers for constructors and methods lazily. Constructors are
      pretty simple given that we only need to know something about them once
      they're accessed. For methods we need to know their names, but that's
      enough as it lets us define a property getter that creates the actual
      wrapper when a method is first accessed.  The combined effect of these
      optimizations is typically a 1000+% speed-up.
    - Add support for vararg methods.

commit 8aa98e830251bb92e9e3408b7ac8dc2397105bc5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 19 18:29:39 2015 +0200

    Fix minor coding style inconsistency

commit 5b06cf88fdfeab7abd0229d98ea677cd0348f613
Merge: badca783 941a4a22
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 19 18:28:39 2015 +0200

    Merge pull request #30 from s1341/master
    
    Implement gum_try_mprotect and gum_clear_cache for QNX

commit 941a4a2267571cf2beca53675c807084b6241fac
Author: s1341 <github@shmarya.net>
Date:   Sun Apr 19 17:21:30 2015 +0300

    Implement gum_try_mprotect and gum_clear_cache for QNX
    
    gum_try_mprotect includes special handling for the case
    where an area cannot be marked PROT_WRITE because it is
    a shared memory mapping which was opened read-only. This
    appears to be the case for all .so code sections mapped.
    
    The special handling includes remapping the necessary
    areas in order to allow PROT_WRITE.

commit badca78316a9a46a7c2e0d4430264ea8b87926fa
Merge: a02d453f 63844c83
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 19 15:14:42 2015 +0200

    Merge pull request #29 from s1341/master
    
    Move gum_try_mprotect from backend-posix to backend-linux

commit 63844c83471fb434d70f707f79f0c40d6c5a46a0
Author: s1341 <github@shmarya.net>
Date:   Sun Apr 19 16:06:27 2015 +0300

    Fix too long line

commit 3bd09856d58e7aae8df09ce87ed4ca18f17d6e0a
Author: s1341 <github@shmarya.net>
Date:   Sun Apr 19 15:54:55 2015 +0300

    Move _gum_page_protection_to_posix into private header

commit 5131111e9ea6149c3b950ccced0d34ee0a555f9a
Author: s1341 <github@shmarya.net>
Date:   Sun Apr 19 15:28:02 2015 +0300

    Move gum_try_mprotect from backend-posix to backend-linux

commit a02d453ff8bfa5b1f57cf9ea3f446240697b76a8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 19 13:53:58 2015 +0200

    Add `class` property for accessing the java.lang.Class for a given type

commit 223c7b8cb2eda2411416f1c84557a9f76394dbf3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 19 13:52:58 2015 +0200

    Avoid leak if `ensureClass()` fails

commit e17c599bc4bf2bbc5c3624fd87eded25eefda243
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 19 01:21:28 2015 +0200

    Avoid VM crash if a JS exception is thrown during argument conversion

commit 8d1285216d94141d6ad75279fdbc79658f0a7fe1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 18 12:32:04 2015 +0200

    Fix warnings

commit 017a28b2eb499fdc75c2dce0a46b92a9877d900d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 17 21:48:30 2015 +0200

    Add `Frida.version` to the Script runtime

commit 069d5b40825c913b49b50d23ac5e57cac3565658
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 17 15:48:26 2015 +0200

    Fix minor coding style inconsistency

commit d51c9325d9c6dc2a1f5fe0b962a70af88f633ec3
Merge: ff2a12e3 1eb085c4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 17 15:46:35 2015 +0200

    Merge pull request #28 from s1341/master
    
    Implement QNX specific process and memory functions

commit 1eb085c4e0bf2bf9687da58e761990cc4c0f9780
Author: s1341 <github@shmarya.net>
Date:   Fri Apr 17 16:07:22 2015 +0300

    Create targetfunctions binaries for QNX
    
    Also, move gum_memory_get_protection later in file

commit 20fb7cc80158adc7c7d3714980ce26630d144ec2
Author: s1341 <github@shmarya.net>
Date:   Fri Apr 17 15:58:11 2015 +0300

    Disable symbolutil tests for QNX for now

commit db58de8eb542d8d021794278f8c79726044955d3
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 16 20:46:17 2015 +0300

    Use libbacktrace to test exports enumeration on QNX
    
    Because the real system module (libc.so.3) doesn't have a DYNSYM
    section.
    
    Also, lots of style fixes

commit b1e56c93e7f566b1f03aed9f6c68c4ed2c18c60e
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 16 20:36:56 2015 +0300

    Reimplement gum_process_enumerate_modules
    
    By reverse engineering dl_iterate_phdr in QNX 6.6 and dlopen in
    ldqnx.so.2, determined how best to extract the module file names.
    
    Currently a combination of /proc/self/as devctl queries and the
    dlopen/dl_iterate_phdr hack is used as the former provides module
    size which the latter does not.

commit 3f3d4f143f157111f48b957618dc154dc65a1824
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 16 12:47:34 2015 +0300

    Implement gum_process_modify_thread

commit 03b869f717a02b8287f947a061533cddcbb5c330
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 16 09:45:32 2015 +0300

    Get rid of printf

commit d2d6c75a1281c4c56fa36986184c17c90b24bc4f
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 16 09:29:19 2015 +0300

    Modify gum_memory_read/write to use /proc/self/as

commit bd2da7d4c31fdf6a7679c36dec7a93358b15a2a0
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 15 17:32:15 2015 +0300

    Begin implementation of qnx specific process/memory
    
    - Add gummemory-qnx.c
    - Add gumqnx-priv.h
    - Fix compilation errors in gumprocess-qnx.

commit ff2a12e39724fa495ba6e17b31973dd31f64eee3
Merge: 58dac919 11237d9f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 16 11:46:00 2015 +0200

    Merge pull request #27 from s1341/master
    
    Fix gum_enumerate_free_ranges prot filtering

commit 11237d9ff5d822b0f174de2797c9c426ce00e01b
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 16 12:43:53 2015 +0300

    Fix gum_enumerate_free_ranges prot filtering

commit 58dac919345f61b5963de66739bede417f8b08f2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 16 01:28:14 2015 +0200

    Fix build system reference to dead file on Windows

commit cd93f3f311aaab1bb680ceace54db0b42e861504
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 16 00:40:50 2015 +0200

    Update the project filters

commit f05be543864fab3b3b81c9aab58daaed064d92c3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 16 00:38:15 2015 +0200

    Add Windows build step for generating the script runtime

commit 8e9116620ee7be3daec4a3a1905692fb6e0eea35
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 16 00:37:58 2015 +0200

    Fix Windows regressions

commit 14391ca7f90a17f30dbb001857e24c4460f88b21
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 15 23:59:59 2015 +0200

    Refactor the script runtime handling and build system
    
    - Automatically generate the runtime as part of the build system.
    - Do not minify the source code. This makes it easy to debug it.
    - Keep the files separate so file names and line numbers match 1:1 with
      the files in git.
    
    The Windows build system is TBD.

commit b7c7062d1a6649f0fce2c9d97201cce28254c229
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 15 20:10:12 2015 +0200

    Move script runtime into its own script and only compile it once
    
    This speeds up creation of subsequent scripts and lets us embed a non-
    minified version, making it easy to set breakpoints to explore the Frida
    runtime.

commit df4cb7e0c7a9bc3a2382492b4c7c89cafced28b4
Merge: d991af35 11d0019e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 15 16:25:28 2015 +0200

    Merge pull request #26 from s1341/master
    
    Fix missing -lz

commit 11d0019e382afedc574b7a41cda472185726b9fc
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 15 17:23:13 2015 +0300

    Fix missing -lz

commit d991af355e54825575e6a6b8749cf1afc4d0071b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 15 16:03:03 2015 +0200

    Fix up the refactored memory backend

commit 55a41a65be538bf09c38c30283795942ed812da4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 15 15:56:18 2015 +0200

    Fix `gum_alloc_n_pages_near()`

commit 0074fb281f8403150e1a752fde897c129092c7e0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 15 15:53:08 2015 +0200

    Fix `gum_enumerate_free_ranges()`

commit 00d259e60beccb738991541d581d0dde146a7a10
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 15 15:34:53 2015 +0200

    Split gummemory-unix into -posix and -linux

commit 7101017c545a4c296e1c0d213d514025cce2948f
Merge: f631c530 bbd13e1b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 15 15:13:26 2015 +0200

    Merge pull request #25 from s1341/master
    
    Define _QNX_SOURCE for frida-gum

commit bbd13e1b1b7612009bb9f2750426837d8773f7c1
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 15 16:06:26 2015 +0300

    Define _QNX_SOURCE for frida-gum

commit f631c53064fb2798b76bd523e1327455a32f9984
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 19:13:10 2015 +0200

    Fix handling of jobs without any `data_destroy` provided

commit 4a45644736a5f500dc6b93aedd1877b408e865cf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 18:51:36 2015 +0200

    Fix `gum_script_*load_finish()` signatures

commit 44f2ada065b16eaa48efdd8e6dfaeca4622067df
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 18:43:34 2015 +0200

    Fix vapi regressions

commit 92e6b06a68e0d793e2b0bd0fcfb22c6842e9450d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 18:30:42 2015 +0200

    Fix the Script deinit logic

commit 4949f960606a49ef2731a03d534c498434931a28
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 18:04:36 2015 +0200

    Make the debug API asynchronous as well

commit 1db9cae3bf9eed41b8d3a3160e9f9861bc2ecf99
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 03:57:29 2015 +0200

    Update the `memory_can_be_protected` test to the new behavior

commit 6a3246a2f25bde258e4080e413bbb88a6783d19b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 03:52:27 2015 +0200

    Update Script tests to match the new MainContext behavior

commit 7204852cdacdee018284c9bed84bdb8ea9a5817f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 03:47:14 2015 +0200

    Avoid lingering timeout sources in Script test fixture

commit 7b56039cb1e90873f0ee985c1566a9bed3c4e195
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 03:40:09 2015 +0200

    Update Script test fixture to handle async message delivery

commit d2e56a3f9f5f4aafbf0d93a3a8e781cd68b2f029
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 03:21:45 2015 +0200

    Emit messages to the MainContext that created the script

commit 25bc5fbe021bf7bd6a2ef26e33df0cd6cb071e07
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 02:09:12 2015 +0200

    Tighten up the locking

commit eb02a01167d70e8f3fa8d00dcc610738fe942577
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 01:30:36 2015 +0200

    Process incoming messages in the V8 thread

commit ca08295a30215bf37aebbf4ad12207ff3566b713
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 01:16:27 2015 +0200

    Move scheduled callbacks to the V8 thread

commit e469e1b01f9d6be655594691f416d480ff3c35be
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 01:07:42 2015 +0200

    Wire up ScriptTask logic

commit a26cd234d9025111d54d5812be686c875ab2d69a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 13 23:06:51 2015 +0200

    Refine the scheduling API and start wiring up ScriptTask

commit cf48f95ca7acdbc165f6d6cd73eec878713942d0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 11 17:52:49 2015 +0200

    Start moving towards a dedicated MainContext for V8

commit 0a8e44f11433ace05c85f68601418bfaef2fbb22
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 10 17:36:34 2015 +0200

    Make gum_script_*load() asynchronous

commit 40a17a513681488c96e7ca34b291ef723de90f60
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 10 14:44:38 2015 +0200

    Make gum_script_from_string() asynchronous
    
    This is the first part of moving the Script API to be fully asynchronous,
    meaning that we never do any V8 calls from our MainContext thread.
    
    The motivation is to be able to support debugging, where V8 goes into
    a blocking loop waiting for commands when handling breakpoints and the
    likes of. As we rely on our MainContext for exchanging messages with V8,
    we must make sure that V8 stays out of our MainContext thread.

commit ae7426ad17919b79f259a9efd7cabc2574401885
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 20:16:15 2015 +0200

    Spice up the debugger test with a couple of scripts

commit c7e699713fc1c82e4a173661fd2fff776ee25855
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 20:15:34 2015 +0200

    Add a minimal compatibility shim for Node.js debuggers
    
    This is just to make debuggers like node-inspector think they're talking
    to a Node.js runtime.

commit 2ff5c7f2461db64722b4307b7abf1ff1119a97a8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 20:13:05 2015 +0200

    Name the compiled scripts
    
    This is very useful now that a debugger can be attached.

commit 953183c041bf26e36ea0af79c2d115a517ec8271
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 16:25:41 2015 +0200

    Fix the set_debug_message_handler() signature

commit 8a61b40acead524ee37bc4cf8f4f7d70476fefc5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 11:48:44 2015 +0200

    Add new debug API to vapi

commit 0294e4a61904f548d1601a8d605d051ed8b2f651
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 11:46:44 2015 +0200

    Change the debug API to only concern itself with message-passing
    
    We may be running inside a sandboxed process, which means we need to
    make it possible to have the server running elsewhere.

commit 0dfba70e8f52a5b56250caff8384c6018fda57d3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 02:53:58 2015 +0200

    Fix buffer shift logic

commit cdac2c82737fe537ad79aa7708eb1f470293d435
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 8 19:52:07 2015 +0200

    Add early beginnings of a remote debugging API
    
    Just the scaffolding for now; enough to get node-inspector to be able
    to connect and issue a few requests.

commit 280cb4262f95fd45e427343e91cb623a0aa08ff2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 8 19:50:16 2015 +0200

    Fix connection life-time issue causing spurious test failures

commit 98f2ed7f743ad801a6e7855284ad87f1682bbbbc
Merge: 72a83ff0 b001a89e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 7 17:16:29 2015 +0200

    Merge branch 'feature/universal-backtracer-api'

commit b001a89e0aeb7c5661e7dd3d9acbdc57d67abef4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 7 00:36:34 2015 +0200

    Add `Thread.backtrace([context, type])`
    
    Both arguments are optional. The former is a CpuContext object as returned
    by `this.context` in Interceptor#onEnter/onLeave, or `null` to capture a
    backtrace at the current location.
    The latter argument is either `Backtrace.ACCURATE`, `Backtrace.FUZZY`,
    or `null` to pick the default, which is `Backtrace.ACCURATE`.

commit 03f4a91f086e11c2684f9c29f2f6b1d62b5a9676
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 7 16:18:14 2015 +0200

    Split `gum_backtracer_make_default()` into two functions
    
    One for instantiating an `accurate` backtracer that's relying on debug
    symbols, and another one for the `fuzzy` kind which does not rely on
    any symbols at all.

commit 72a83ff0e7fedd3f27607fa8159711a4a53f59fa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 7 14:17:04 2015 +0200

    Fix handling of classes without any constructors
    
    Thanks to Dominic Chell for reporting and helping track down this issue.

commit fd83b2f9595e27041ff74c463a3258f3cb14ca6b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 7 01:00:14 2015 +0200

    Update Script test to the new API

commit b2f2f2eabb51c37f7c42a3935ad262ec85e98083
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 7 00:59:59 2015 +0200

    Fix construction of the CpuContext template instance

commit ac8fb1db07969ddac8df9a27ab099b2897909945
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 7 00:36:20 2015 +0200

    Add a generic CpuContext wrapper providing full read/write access

commit 57eb9ea5416ea71df6c8984bf0c8974c0821a841
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 16:03:19 2015 +0200

    Lower the BusyCycleSampler test's diff threshold

commit ed9e7d5d3a6ca307afe4b75fba94533baa9cbb48
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 15:59:15 2015 +0200

    Add stub CycleSampler for Darwin on non-x86

commit 0a4c05e51e6f7097f06b1928f2e06e6d414eee3e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 15:16:09 2015 +0200

    Also disable the detailed test asserts on Android for now

commit dc76218c8b3aefd4571f9c948d986eaaf192d80a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 14:43:16 2015 +0200

    Only forward exception when we didn't handle it
    
    This also means we only handle it once.

commit 7ea6711beae970fe5c0e3da9082d9210c5b5d053
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 14:42:01 2015 +0200

    Only forward memory access errors to our own handlers
    
    Android installs its own handlers, and we really don't want to forward
    to them in our tests.

commit cfa00abd6eac03fcb5bf334434e191a00d864d8d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 12:50:43 2015 +0200

    Switch WallClockSample to `g_get_monotonic_time()`

commit d4f91053a8956c1155a12c50748c60321b318c66
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 12:46:56 2015 +0200

    Port CycleSampler to Linux on non-x86

commit 35d2b883ee6e1b9f6726bb6ca189bf68189e0036
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 01:28:23 2015 +0200

    Fix warnings when building on Linux

commit 972bdb4d8414ade464c3b75dcd89f3d2ed0c733f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 01:27:57 2015 +0200

    Limit exported gumpp symbols on Linux also

commit 24e53b98a8ef6699bd5b7674ac0b81c8416ae911
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 01:27:14 2015 +0200

    Fix the Android `check` target

commit b7d79168d2e4fe056b5899012772386603afae6f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 5 22:19:36 2015 +0200

    Remove the special-casing of libffi 4.x

commit b7c738d488246938ecc55208743421992dc93664
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 5 21:23:50 2015 +0200

    Fix hard-coded assumption about page size

commit e4433e449ee98227be906b5ad36af24945db4003
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 5 21:23:38 2015 +0200

    Make the BusyCycleSampler test a bit less timing-sensitive

commit 43ad075b8233e5b3b0fab76dad676ec9df1aa87d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 5 21:22:50 2015 +0200

    Bump the default listener data capacity
    
    This is required for AllocatorProbe's memory requirements on ARM64.

commit 007f9492ad13155fc8e3353d3e8a073381b105d9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 5 20:58:40 2015 +0200

    Port `gum_try_read_and_write_at()` to Darwin

commit 772495d0d5ba9a725a538214386848677822dce0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 5 15:29:37 2015 +0200

    Fix the iOS `check` target

commit bbf2c7054d741b50ad9e70cc69c42530a6dfef1c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 5 15:21:00 2015 +0200

    Enable gumpp on iOS also

commit 86db9adb32fa37f6d3c99503f545ed0a08494693
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 5 15:19:23 2015 +0200

    Fix warning

commit 0fca32d6593bb6ef2c7473c96fc199facc1c0b20
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 4 20:04:18 2015 +0200

    Eliminate accidental CRLFs

commit b0e536c8fc5bebaa3d08baff07e403eb96b50492
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 4 20:03:48 2015 +0200

    Update to the Capstone 4.x API

commit 3f150bf1619815d773ceb9b26eeaece914e027e0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 4 14:31:27 2015 +0200

    Add support for sysenter instruction on windows-i386

commit 41b1e3ddf98cc2fd2425293d3e8bcfc0fab3f8e6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 4 11:43:19 2015 +0200

    Fix test failures when IPv6 is not available

commit 0950be3f36f56e66431e04a1c3d20c5f87de232b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 3 15:33:40 2015 +0200

    Switch to the XP toolset

commit aa8f9d46793609bb9d001be291282ce2c2436097
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 2 23:56:51 2015 +0200

    Implement and inject our v8::Platform
    
    This is the final piece of the puzzle to make all tests pass with the
    latest V8.

commit 1a04b2ebeef21cef32ac036443f96baecc5f122a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 2 18:32:41 2015 +0200

    Explicitly create the Isolate as required by the new V8

commit 0fbbd7cd9fdec9197cc20fd94e8f0174076523d3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 2 18:31:56 2015 +0200

    Fix warnings reported by MSVC

commit b870c91a97560666320c45aa1a9be904bd91b7f4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 2 16:50:00 2015 +0200

    Port Script runtime to the latest V8 API

commit 00b13ad9c65117608d037f48fee3c16f5b64da62
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 2 16:48:28 2015 +0200

    Fix Windows build regressions

commit 3a3a0b69df1ba239be229855da90267d9f67267f
Merge: 1174b540 3bc6033e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 2 13:43:32 2015 +0200

    Merge pull request #24 from s1341/master
    
    Improve QNX enumerate_ranges and enumerate_modules

commit 3bc6033e0709bcf37692bf59412702442f75920b
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 2 12:30:42 2015 +0300

    Improve enumerate_ranges and enumerate_modules
    
    Using info from reverse engineering the 'info meminfo' gdb command
    implement improved enumeration of ranges (now with file names) and
    implement enumeration of modules.

commit 1174b54034b3eeece98685bac39d1b0804fa1ff9
Merge: 4c1572c5 a43043f1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 31 23:47:52 2015 +0200

    Merge pull request #22 from Tyilo/simplify-ptr-op
    
    Make creation ptr arithmetic functions more DRY

commit a43043f16e877fc5e33c689d145cdf8d025f4560
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Tue Mar 31 23:45:35 2015 +0200

    Rename macro to GUM_DEFINE_NATIVE_POINTER_OP_IMPL

commit 4c1572c5bfd897d5471aa16938b9c200784f69d4
Merge: 22eafb4a c4bc75fb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 31 23:37:00 2015 +0200

    Merge pull request #23 from Tyilo/copyright
    
    Add my name to various copyright headers

commit c4bc75fbd18d31f61aa099042c05c49ee6746d45
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Tue Mar 31 23:35:37 2015 +0200

    Add my name to various copyright headers

commit c8226edfe1edbce525f3d2c467bc82f4fdb193d4
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Tue Mar 31 23:29:20 2015 +0200

    Make creation ptr arithmetic functions more DRY

commit 22eafb4a890cdac662b60fad7aa649e76679421c
Merge: 51c74d65 bfdd31bd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 31 23:13:03 2015 +0200

    Merge pull request #21 from Tyilo/malloc-ranges
    
    Add gum_process_enumerate_malloc_ranges

commit bfdd31bdd8c7712c17f3bd18daa2883958d43631
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Tue Mar 31 20:49:53 2015 +0200

    Add gum_process_enumerate_malloc_ranges

commit 51c74d652bf4cee4ec45fd0278afc5b22562a9f7
Merge: 14a6f982 b8aa6488
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Mar 29 05:03:37 2015 +0200

    Merge pull request #19 from Tyilo/ptr-and-or
    
    Add and & or method to NativePointer

commit b8aa6488a59011df3635ca78d5da626ac18beff0
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Sun Mar 29 04:48:20 2015 +0200

    Simplify logic in NativePointer arithmetic

commit 14a6f982f6ac0f596d7155a031b3ba462bd5b12f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 29 04:40:11 2015 +0200

    Do proper cacheflush on QNX

commit fc4cd86da9d24305a2dc1b462bcddf2fc49d5fdf
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Sun Mar 29 03:57:33 2015 +0200

    Add and & or method to NativePointer

commit 4b602237768c23c5ea5ade13d64374c332287e2e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 29 03:51:38 2015 +0200

    Add missing include for QNX

commit 36fa7b7ed6d85c5ed947832e0cf42c11ade7ab1f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 29 03:48:53 2015 +0200

    Remove blacklisting of BusyCycleSampler on Linux

commit b8071ea38bbb6e6cf5b2916a56acba521edceb47
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 29 03:41:18 2015 +0200

    Add a stub BusyCycleSampler for Linux

commit d4355ab031e42192271d62cf85495e8cc35aacbd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 29 03:40:47 2015 +0200

    Adjust ordering of checks for consistency

commit 68329ccb7b5ef6f6049c3884195b0e71b67e6b45
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 29 03:37:04 2015 +0200

    Add a stub BusyCycleSampler implementation for QNX

commit 35e37a00ea6639fed579fbfa077620019fcf4d81
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 29 03:15:32 2015 +0200

    Add a CycleSampler implementation for QNX

commit 1488cfb664f0b46609147a16c479a0b5850ba642
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 29 01:57:58 2015 +0100

    Move CycleSampler implementation for future expansion

commit c9d722b1fba8b22790ed79f7e9e975eba5bcad8c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 29 01:45:51 2015 +0100

    Link against libbfd on non-Linux OSes also

commit c8f451df7793d5add6d61ec4b35b73c0c3bce068
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 29 01:12:16 2015 +0100

    Fix a warning in the QNX backend

commit 31b46228625eac4df16c38b6b73938697a319d40
Merge: 19cc714b a95270b2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Mar 29 00:13:10 2015 +0100

    Merge pull request #18 from Tyilo/patch-1
    
    Optimize ObjC's ClassFactory.refresh

commit a95270b22fc152184db2a224f98e2c066f0fc435
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Sun Mar 29 00:00:05 2015 +0100

    Fix inconsistent coding style

commit 3b63d47cfb9537f0d83de1435e566a6d90c3e2f3
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Sat Mar 28 23:57:13 2015 +0100

    Optimize ObjC's ClassFactory.refresh
    
    It now does nothing if the number of classes hasn't changed.

commit 19cc714b14e0fa8726f586928f42a99189de70dc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 28 14:38:58 2015 +0100

    Port the BFD SymbolUtil backend to QNX

commit 1e36b1e1c6fb38f53b75309d651adc137f320e32
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 28 14:34:51 2015 +0100

    Port UnwBacktracer to QNX

commit e8584c6cefd778deb9b6e631e8e2f9dc5faa3d3a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 28 14:34:24 2015 +0100

    Eliminate some casts

commit a98f730da1197e7d4691a221dae1d32380ed0173
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 28 14:33:47 2015 +0100

    Add and install header-file for QNX-specific APIs

commit 5653bca481d82ee0571a8291b18d46f128647c53
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 28 14:33:20 2015 +0100

    Remove the QNX SymbolUtil stub backend
    
    We can now use the bfd-based backend instead.

commit fdd3f36ad6cdb045f58638a645cb17766571874b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 28 14:17:57 2015 +0100

    Require libunwind and libbfd on QNX also

commit fdf95c77a700fbbbed57e61442890dbd2eba1038
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 28 14:17:40 2015 +0100

    Disable the sysenter handling on QNX/x86 for now

commit d680dd52bb408883f9bc961c3f9316aebdd85e66
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 28 14:17:17 2015 +0100

    Improve the QNX Process backend

commit dc6c37b16ff958ec3d0defc20ba58f9d9e56728f
Merge: cc399ada 3d00a72e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 27 11:37:04 2015 +0100

    Merge remote-tracking branch 's1341/master'

commit 3d00a72eedcd9c13905975e6e518bb81d2a7ac41
Author: s1341 <github@shmarya.net>
Date:   Thu Mar 26 18:11:23 2015 +0200

    Fix missing <cstddef> include

commit b679d454b1f323fa9c181f324ec17d515a7c2f81
Author: s1341 <github@shmarya.net>
Date:   Thu Mar 26 17:33:24 2015 +0200

    Fix comment style

commit b6cbffaac869e6da163aa00f03aa9365e60a7169
Author: s1341 <github@shmarya.net>
Date:   Thu Mar 26 17:28:03 2015 +0200

    Add cacheflush for qnx-arm

commit 39cd91883716013127cb9ccac06d2e8cd3490ab9
Author: s1341 <github@shmarya.net>
Date:   Thu Mar 26 17:26:47 2015 +0200

    Add initial attempt at gumprocess implementations for QNX
    
    This code is just an initial attempt which passes compilation and
    linking. It is almost certainly not going to actually work.

commit 0f00970b217cd582c77a59caad7e5787b5133882
Author: s1341 <github@shmarya.net>
Date:   Thu Mar 26 11:52:03 2015 +0200

    Implement test_util_get_data_dir for QNX

commit 6805846c1c3387fac7e883fa15ec73a81c477932
Author: s1341 <github@shmarya.net>
Date:   Thu Mar 26 11:48:34 2015 +0200

    Add QNX as an OS
    
    Add GUM_OS_QNX and set the GUM_SCRIPT_PLATFORM and GUM_TEST_SHLIB_OS

commit 04cbf5a5069279ade9e39659adc4dfe773d5f237
Author: s1341 <github@shmarya.net>
Date:   Thu Mar 26 11:47:42 2015 +0200

    Add OS_QNX and HAVE_QNX to configure

commit cc399ada5ca921fa6aeefe017a552cfcb1da43a4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 26 16:00:14 2015 +0100

    Fix minor coding style inconsistency

commit 2824852953520de4095ab0e4d4dcce093c463896
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 26 15:56:00 2015 +0100

    Replace two bad backtracers with a much better one
    
    This one is based on libunwind and puts the GumCpuContext to good use.

commit 2f07865f5f2fe53b932743ac9c64362302d430ce
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 25 00:38:20 2015 +0100

    Add `DebugSymbol.findFunctionByName()` to the Script runtime

commit 4a828add74b1262d8eede1784398ebac5657d8d0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 25 00:28:04 2015 +0100

    Add `DebugSymbol.findFunctionsNamed()` to the Script runtime

commit b99cd50e3221eaf7127d49a8d35085e8fb9ba715
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 25 00:13:07 2015 +0100

    Add `DebugSymbol.findFunctionsMatching()` to the Script runtime

commit 61246a2f1f0434b019c869d9a0637c9c9109cb53
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 23:00:37 2015 +0100

    Improve the bfd symbol backend
    
    - Take base address into account for PIE executables
    - Handle thumb functions

commit e20782da00029760698fed40d84a98f52ba1144e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 22:57:12 2015 +0100

    Test for symbol that is guaranteed to be present in the binary

commit 756f69124ef51ab95ad98f7b7d900755579ea302
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 20:52:43 2015 +0100

    Fix the libbfd linker flags and improve error message

commit 99626734194cf75f82eef45668f3eacd3c322211
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 20:22:07 2015 +0100

    Remove unused CoreSymbolication declarations

commit 8f5d73289f482b8a6042c5d438c9c3cf36a3e810
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 20:20:04 2015 +0100

    Load CoreFoundation so we can test the symbol backend

commit b2f358f090139f45358f74efc5e52df1b8b83033
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 20:19:27 2015 +0100

    Enable backtracer tests on iOS also

commit 134a649ddc6749ddaf15804bed9df0a6dcd69e1d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 20:19:10 2015 +0100

    Fix the SymbolUtil tests on iOS

commit 17642afdb78b804c681fbca3312b449a75609dc3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 20:18:44 2015 +0100

    Fix the returned function pointer address for Thumb functions

commit 8541253930ba0a60578fe63a093676ab4c965e06
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 16:49:53 2015 +0100

    Replace NsBacktracer with the brand new DarwinBacktracer
    
    This new backtracer walks the stack like the underlying implementation
    of NsBacktracer does (`backtrace` in libSystem.B.dylib), but makes
    use of the GumCpuContext.

commit e43e277221b67b2242e75a83e3009c73e5415791
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 16:30:19 2015 +0100

    Fix minor coding style inconsistency

commit da568d166da063fc7e415182e0a58b24dcbd20a5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 16:30:06 2015 +0100

    Borrow the existing CoreFoundation reference
    
    Otherwise we might end up holding the last reference.

commit f88df9fff70b620e30908bef3f9892c706f04072
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 15:31:10 2015 +0100

    Remove unused headers

commit f615326654b8728c4fa8523ba2fe7c68f00723b7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 03:03:39 2015 +0100

    Remove left-behind debug code

commit 14752485e08653b9a45149cd45d8f02ca6866dd6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 02:38:14 2015 +0100

    Fix DEBUG_HEAP_LEAKS preprocessor check

commit e3db041b54169e14377b88cc892def432969a435
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 24 02:37:52 2015 +0100

    Rewrite the Darwin symbol backend to use CoreSymbolication
    
    This is the API available on modern Mac and iOS.

commit 9972695f5e9a8695f9997e1e09c4092eb4e45802
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 23 01:38:15 2015 +0100

    Fix silly typo

commit 4d9a8d1ba864882da9f14188c5d83178e19931a1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 23 01:35:56 2015 +0100

    Rework the Cocoa backends to do late binding

commit 3ff9eaabc649cbaff723332e844da2349cba2e07
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 20:35:43 2015 +0100

    Handle formatting of limited debug symbol information

commit 70fe3b4410c1a71d5b6c925d4f3d4458f91696f5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 17:34:41 2015 +0100

    Fix warning reported by MSVC

commit 02cb40a005548191aaa48f91517c0d0595134dbd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 17:34:33 2015 +0100

    Add X86Backtracer to the Windows build system

commit e60e7271d499a325328afa1708f4c66bb30934aa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 17:33:59 2015 +0100

    Only instantiate dbghelp backtracer if the API is available

commit ff628eea25c4e36c82a3f0c8a0eed2637526b6da
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 04:39:13 2015 +0100

    Add `DebugSymbol.fromName()` to the Script runtime

commit 6108e7827bae96e128f7ead18fa83e29d3c51bed
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 04:38:45 2015 +0100

    Consider `lineNumber` null when symbol wasn't resolved

commit 5245b4a0e6670cdc99785b72be654f59ba0587b4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 04:38:00 2015 +0100

    Fix formatting of addresses

commit 8c113c309aa20d45ac8744b5b7b9c93e2b89a181
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 03:43:19 2015 +0100

    Only run the Backtracer basics test in slow mode

commit feafbb69d305e258059f01af65b822d36e6ac3fa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 03:42:55 2015 +0100

    Adjust backtracer hack to no longer apply for Debug only

commit f06de856f16eb38051a6a54baf72abc79e7a06e4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 03:29:06 2015 +0100

    Add `DebugSymbol.fromAddress()` to the Script runtime

commit aa6b11f63b8766479c4550edd24b9ae267c2afba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 02:17:51 2015 +0100

    Add support for generating a backtrace from an onEnter/onLeave callback

commit 0dacfc3a3d5f83e57da74d2b1db36e24f32cb6a3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 01:27:39 2015 +0100

    Load dbghelp based on where the module containing Gum resides
    
    Instead of where the application executable is.

commit 068c3df27d4e88f3879e016428969eabce9510a9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 01:26:04 2015 +0100

    Add gumprocess.h to the MSVS projects

commit 830cb5d51d76ddc79cc4d265333d7bc5f4bd1f16
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 00:54:33 2015 +0100

    Defer initialization of the symbolutil backend until the last moment

commit 57a1f9377d38d360e29382e339ae9b678bf1d3e3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 21 23:56:35 2015 +0100

    Fix backtracer test

commit 8a95a56648bb276af6c11a2d1d1fa457641007c4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 21 23:44:39 2015 +0100

    Remove optional support for the symbol backend
    
    We should instead just delay loading until the last possible moment,
    and handle load failure gracefully.

commit cc3fc044f032a93895df865a61bbaa31a13b1f33
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 21 23:43:33 2015 +0100

    Update dbghelp loading logic to match new naming scheme

commit 9909ab835490d4120f7bb1b1b18eb63fffb3ccc9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 21 23:42:52 2015 +0100

    Update dbghelp and revise naming scheme

commit 2db3f9fefe704e45a68f331507b4b89ae2c04538
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 19 22:02:55 2015 +0100

    Only perform deinit when debugging heap leaks

commit d58302eef89ef49d8d4cd699f52abc7b4db32380
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 22:45:48 2015 +0100

    Actually compare using the module path as intended

commit b071e06e27d05ee449d773c977756d821dcad520
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 22:21:14 2015 +0100

    Normalize handling of module names
    
    We should always allow the full module path to be specified.

commit c450e875477a5ba82e1b91db0056eab934eab9cf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 21:00:36 2015 +0100

    Remove bad assumption that also Thumb functions are 4 byte aligned

commit 56896f67981575379f34cc3e6656d88bb0b0dda7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 20:59:41 2015 +0100

    Update ARM breakpoint instruction to match the Linux kernel

commit 18a292b0ea63ef4996b4333f5e6a1b66eb118ee6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 16:06:11 2015 +0100

    Rename `put_int3()` to `put_breakpoint()` for consistency

commit 3949c098b600c56c5bc66d68a35c4866b5a7baf8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 16:04:16 2015 +0100

    Add support for generating Linux/Android breakpoints

commit 7cb031b31bd8bcdf49bf8f13eba9447c65063d96
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 15:54:01 2015 +0100

    Add `gum_process_get_native_os()`

commit 60774e1cb579821bcb3866f7b5f9acdcdef808fd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 16 23:14:27 2015 +0100

    Add missing GUM_API markers

commit c4cf028724a5eebd9a7b92499a0b25e609d242d3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 16 23:13:49 2015 +0100

    Add file-mapping stub to the Windows backend

commit ec577e1ffff0d0df9ad5c43222faff3e8746d414
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 16 23:13:41 2015 +0100

    Add file-mapping stub to the Darwin backend

commit cb1b048c1dba042d1cc64787ed0f9a4123d7866d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 16 23:13:07 2015 +0100

    Add file-mapping details to the Linux backend's range enumeration

commit 48220c5b4c6e0faaf05ef546ee7e6e9b93149f1e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 16 23:12:05 2015 +0100

    Add file-mapping info to the `GumRangeDetails` API

commit 7204d2ec99be0d23d547b2d43f9089facb811481
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 16 10:47:07 2015 +0100

    Add `check` target support for Android/i386

commit 519e1103b541e2b598bc56c2aa3809ea820fdfdb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 16 10:46:58 2015 +0100

    Pick the correct test-library on Android

commit e0499835fe8dd1735cba08ddc7ea18c448e8ec1d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 16 10:46:36 2015 +0100

    Fix naming of Android/i386 Interceptor test-libraries

commit 7997f5ca7a5ab0692f36b0e3df85a08aabf4d4a2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 16 10:39:56 2015 +0100

    Improve the Interceptor test-library build script

commit a59c73f455d4b3a8579800dc6d3f37fe368e5929
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 16 10:39:30 2015 +0100

    Add Interceptor test-libraries for Android/i386

commit f5091526ae5b872c8862798d968045afc253e9db
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 21:00:21 2015 +0100

    Fix `gum_linux_cpu_type_from_file()`

commit c0e2b0c7dd7ba1db72a1eceb09943bc9771809a4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 19:51:39 2015 +0100

    Add minimal vapi for the Linux API

commit aff22e2a4ba2ca17439f618927ef746760e0e0dc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 19:51:19 2015 +0100

    Add Linux API for determining CPU type from file or pid

commit ee511320e7f0626cbdf811e38d6b3880d7c2f921
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 19:50:46 2015 +0100

    Add `GumCpuType` enum to the vapi

commit d74a5e78aea6dfc9fefd79f904c2ea391be5eea1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 00:27:13 2015 +0100

    Add support for sysenter instruction on linux-i386

commit 5c091dca1862d1484cf72245375232a1ed6adb8d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 13 21:59:41 2015 +0100

    Allow 32-bit register arguments for `_put_call()` on 64-bit

commit e8f3823b5e6550b02f10a58d4afac78ebfcf0976
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 13 11:05:21 2015 +0100

    Remove libstdc++/libc++ linking hack

commit 49cab0c97ccbaa4e7fd2316e7dea80008dd642f7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 12 23:58:14 2015 +0000

    Fix warnings in Stalker debug code

commit 640f3c64a196730eff532ffe81c70fcbee09dc6a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 12 23:46:03 2015 +0000

    Rewrite get_pc_thunk references used on linux-i386

commit d83e334dd41e52d96e22c857614ff42f602cd24b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 12 22:37:32 2015 +0000

    Add Interceptor test-libraries for 32-bit Linux
    
    Also bring OS into the mix, to allow future test-libraries for Android/ia32.

commit 3f63f5f624e3a929edcbf711fc32fc688b10b046
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 12 21:42:04 2015 +0000

    Fix gum_memory_get_protection() in the UNIX backend

commit f829fb41379d6adca44015086e282c2053daf097
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 11 11:00:26 2015 +0000

    Fix warnings reported by GCC 4.9.1

commit fd7469a4db3e45be1f63aa42d5844811abc459d6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 10 22:58:21 2015 +0000

    Remove stdc++ from the GCC extra libs

commit 1a403bb6cb0d17f1c5639e06d51c1076095d1da0
Merge: 5b1d82ca 3891e8da
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 4 01:33:59 2015 +0100

    Merge pull request #17 from Tyilo/arm64-add-triple-reg
    
    Add gum_arm64_writer_put_add_reg_reg_reg function

commit 3891e8daae331142a761c59eff425600ed63858a
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Wed Mar 4 01:30:42 2015 +0100

    Move flags declaration to top of function

commit 2deb0a3f1b7f6c1807fb6b1051dcc4e6ab45d370
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Wed Mar 4 01:25:35 2015 +0100

    Obey 80 column limit

commit 4be3a0dec578de2dab0640cc2f81c78e6714cf15
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Wed Mar 4 01:23:38 2015 +0100

    Fix style of code

commit 480a526876535eb7a1c56ae06f468c8c7a4736da
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Wed Mar 4 01:17:50 2015 +0100

    Add gum_arm64_writer_put_add_reg_reg_reg function

commit 5b1d82ca4ed3351e1240da2f165f7fb29c5ece6f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 28 22:15:57 2015 +0100

    Change `console.log()` to send a message instead of writing to stdout
    
    The integrator, which is typically a language-binding, must handle this
    message and present it as it would like to.

commit 777380d0ec07f7cf9122b0f4451c36c50bf70aaf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 28 16:29:36 2015 +0100

    Fix warning reported by MSVC

commit 6ebaef5dfad1b21c4ba7268a816ba55fae940563
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 25 02:15:40 2015 +0100

    Only run the Stalker Cocoa test in slow mode
    
    There's a heisenbug in Stalker that needs investigation; perhaps some
    RIP-relative atomic operation instruction that's not rewritten correctly.

commit 4a806f2d6f7e41a35f5f1dab32dd7d4bce939547
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 25 02:09:46 2015 +0100

    Use two different read strategies on OS X and iOS

commit 149eef8d2c1c3f486fe4572b4569b2542cb2132f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 25 00:55:50 2015 +0100

    Initialize the size argument passed to mach_vm_region_recurse

commit f5b2994bbb1f771e085f89d8cadbb81ca98e6a5f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 24 13:20:30 2015 +0100

    Add Process.isDebuggerAttached() to the script runtime

commit 65817929f79bb20265d5668a2fb5180c6b51f779
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 24 13:19:11 2015 +0100

    Add gum_process_is_debugger_attached() to the public API

commit ab3574389ed7075f87b91b17dbbf27925eead36f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 24 00:29:25 2015 +0100

    Add read-beyond-page handling to gum_memory_read() on Linux

commit d403c7ab3b1d01dba856c953fef51f23dcc7534b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 24 00:28:52 2015 +0100

    Disable /Core/Stalker/follow_thread test on Linux
    
    This isn't stable yet on Linux.

commit fd83f45fe6273c0e8fc576e6a22bfb936d02e1ba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 24 00:27:43 2015 +0100

    Fix warning regressions

commit 360c19bed26b9e6f7789502b66f288af56cc20c8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 23 18:09:58 2015 +0100

    Fix get_pc_thunk handling for the x86 relocator's 64-bit mode

commit 4bda3b56ab6d36072fe38094895491903c8230cb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 23 18:02:24 2015 +0100

    Add read-beyond-page handling to gum_memory_read() on Windows

commit 3647d7cb7778f8f2663cc3768840dfcc3174315e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 23 17:37:09 2015 +0100

    Fix broken X86_WIN32 check

commit 8b6b741fd7f35d0ffcbc07c2215408d87d0dce2a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 23:41:16 2015 +0100

    Fix 64-bit test regressions

commit 23ef905c19a09bd52d934ab91a9d8d2a8087244a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 23:29:59 2015 +0100

    Rewrite get_pc_thunk references used on android-i386

commit 39f78f0b0dff904694552705d6a20410cbd0f026
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 23:28:01 2015 +0100

    Remove target_cpu and target_abi from the x86 relocator
    
    Just let the code-writer decide.

commit 9f4aaa88ca122e192c176508f8a8f17fea27e831
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 17:10:13 2015 +0100

    Add support for libffi 3.99999

commit 4fe81adce6b6435c5aad59c2db52885eecb5b83b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 20 20:44:00 2015 +0100

    Refactor gum_darwin_read a tiny bit

commit f39c538430d12bfaf02a96bdcb46cfc6ed584d51
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 20 20:37:00 2015 +0100

    Deallocate memory in the right process

commit b052c8b0f42c7fbb8a25431428576826f7634a3a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 20 20:13:30 2015 +0100

    Simplify gum_darwin_read

commit 54f57c5b13dceba98399c0510a4d523a8ff66099
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 20 19:26:41 2015 +0100

    Fix handling of read beyond page not returning partial data

commit 32ff819ff71d080f072075132ec12d4b9e3e43c4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 20 18:56:36 2015 +0100

    Rename test for consistency

commit 5e601545685e1d66cec65c6d9eaa8c74c2ef9d37
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 20 18:54:57 2015 +0100

    Add a couple of tests to ensure gum_memory_read works

commit ecca6b0e4667f58dc6130fed5bb036093b80600e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 20 18:11:09 2015 +0100

    Improve the read strategy in gum_darwin_read

commit 9533440b304e54b54d3e83d64f453b3693d37d2c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 20 18:10:34 2015 +0100

    Simplify enumeration of free ranges

commit f611b57cee98e867f122a61cf9c89555e460d680
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 20 18:10:00 2015 +0100

    Remove redundant call to gum_mprotect

commit 90e69850ddb0aa23d4279c605981253c4f5c9e8a
Merge: 0be9e9f6 e1385148
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 19 02:22:21 2015 +0100

    Merge pull request #12 from Tyilo/fix-darwin-read
    
    Fix reading memory from a subregion in Darwin

commit e138514880e8b843de2147524df252f86242e6d8
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Thu Feb 19 02:06:08 2015 +0100

    Fix reading memory from a subregion in Darwin
    
    The problem before was that if two subregions was contained inside a larger one, you would always get back the address of the first subregion even when the address you were reading from was in the second subregion.

commit 0be9e9f62c6fad5ed4f89770b4b4243ffa26e00d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 17 01:04:34 2015 +0100

    Provide onEnter and onLeave with read-only access to registers

commit 54cf174a2631bd430b94cb2431b8927ae2a59b29
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 17 01:00:00 2015 +0100

    Improve CpuContext binding to include all registers

commit 42b69917976f43ba3ec4297046b319970dc037dd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 11 23:46:08 2015 +0800

    Add `cmp`, `beq` and `bne` to ThumbWriter
    
    Also fix `cbz` and `cbnz` to disallow negative branch offsets, as the
    instructions actually only support positive offsets (the immediate is
    unsigned).

commit 0d0895b468764c0de2d26a00212ae2d2117eb0b7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 9 01:13:57 2015 +0800

    Fix missing constness in newly public Darwin API

commit 50b6af56022ac8ae3e71216a8bfde7fb153021aa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 8 14:35:00 2015 +0800

    Fix Thumb code writer negative branch calculations

commit 03e158089ba34d113b0de024d7adf7e2c2f448c6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 8 00:28:53 2015 +0800

    Fix ARM64 code writer range check macros

commit 361bdaa3a14a1a2d99a3b1fb693e7ee8d2679dfa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 5 22:18:45 2015 +0800

    Fix generation of inc and dec instructions with 64-bit registers

commit 45dc62100b95327bfa42c54456b3aebc20edea3b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 3 11:39:07 2015 +0800

    Expose some handy Mach-O utilities

commit 97bed93a054c01f396dd57bd30b606e878b9fdd2
Merge: 810020fd 08dcf068
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 5 15:53:00 2015 +0100

    Merge pull request #5 from imcu/imcu-master
    
    Remove flag to disable static build for frida-gumpp library

commit 08dcf068a036232836b8eea6b70c836ebe962c64
Author: Mihai Cimpoesu <mihai@jivaro.com>
Date:   Mon Jan 5 16:42:10 2015 +0200

    Remove flag to disable static build for frida-gumpp library

commit 810020fddc7b7f33d963c57498d6b01bdebbfede
Merge: 05aa54e3 ff70debc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 2 17:36:51 2014 +0100

    Merge pull request #4 from imcu/master
    
    Option to generate PDB files with the same name as the project

commit ff70debc73f445b968d3a2139d87f07d762223e9
Author: Mihai Cimpoesu <mihai@jivaro.com>
Date:   Fri Nov 28 14:37:33 2014 +0200

    Option to generate PDB files with the same name as the project

commit 05aa54e38c3fbfc8937d87b36537c3c345a83482
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Nov 17 22:05:19 2014 +0100

    Remove consistency check logic from GumMetalHash

commit 71bdc93f3f918c56d17a63e612a2e8beadb8779d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Nov 8 21:08:56 2014 +0100

    Consolidate to use the `re.frida` namespace

commit c555745982713f83660ff48aa068a010719304fb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Nov 4 23:41:33 2014 +0100

    Gracefully handle lower-case thread states on Linux
    
    Thanks to @v-p-b for reporting.
    
    Fixes #3.

commit c5510ba17d61e481e248a104c8bc2d4acfa7cea5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Nov 3 15:57:09 2014 +0100

    Fix module exports enumeration regression

commit c2de3365cb939b011ce6959ef452dabe6b14c4f3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Nov 3 15:43:03 2014 +0100

    Avoid growing the Isolate's eternal memory with every script instance

commit 36793fb3484684267315bbd0218e9d8ca86e923a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Nov 3 13:34:12 2014 +0100

    Fix silly regression

commit c18ce432c478fb99bbda06256a4f753b15f92800
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Nov 3 13:02:51 2014 +0100

    Add Darwin module enumeration fallback
    
    This is required when spawning a process, as we cannot rely on
    TASK_DYLD_INFO in that case.

commit ce3cdd7f24126588a99532a1ee72bb6cfbacd0e4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Nov 3 13:01:26 2014 +0100

    Fix heap corruption in gum_darwin_read() corner-case

commit 6c2348cc4ab78875804d32371a6fee92806fbf5f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Nov 3 11:46:50 2014 +0100

    Make module export enumeration ~75% faster

commit 4bdd9bed48ec8f48237d0d17e2db689252dbf54e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Nov 1 11:08:54 2014 +0100

    Fix gum_darwin_read() region clamp logic on ARM64

commit 9daacb303b2361a6d2f1b0ba98481fe3309f02bc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Nov 1 10:33:51 2014 +0100

    Optimize Darwin module enumeration
    
    We make use of `task_info(TASK_DYLD_INFO)` instead of scanning the memory
    ranges for Mach-O headers.

commit 975af8bbf2d2209f68c0de55831f44c13a5f61d7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 30 17:06:51 2014 +0100

    Optimize gum_darwin_enumerate_exports()
    
    When enumerating the exports of a library composed of sub-libraries it's
    very often the case that they share the string table. An example is
    `libSystem.B.dylib` on Mac, where we'd previously re-read the same 20+ MB
    of data with every single sub-library.

commit 75b7e8211a18f6154d0ac9deb0f382077b6cf593
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 28 09:55:56 2014 +0100

    Simplify page size query logic on Darwin

commit 960fca7671c0586ebfe96bf8854c82353640e0ba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 26 01:02:52 2014 +0200

    Improve the RWX page support detection
    
    The iOS 8.1 kernel with the Pangu 1.0.1 jailbreak exhibits a new behavior
    where the result is `r--`, and not `---` like before.

commit 445f9ff762351a6843b112a760e94b1d99ee6fb5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 25 21:15:27 2014 +0200

    Assume 4096 byte alignment of Mach-O images in memory

commit 5cb3f8a2813de64906ef36b34512c1bb8d87cd9e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 25 21:12:59 2014 +0200

    Hard-code page size on iOS/ARM64
    
    The iOS 8.1 kernel reports 4096 instead of 16384. Either a bug in the
    latest kernel, or in the Pangu jailbreak.

commit 5878c2e2dcd316cd01806334bf4acf22e6933075
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 25 21:11:54 2014 +0200

    Remove bad memory readability assumptions
    
    The page before the first one allocated might actually be readable.
    Especially if the implementation uses that page for storing metadata.

commit eace9f5deeca2de6e3fc92f73da71f43d9325d63
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 10 01:04:20 2014 +0200

    Re-generate the script runtime

commit c364db532027158557814298befb1347b89b2b36
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 10 01:00:56 2014 +0200

    Improve the Dalvik integration
    
    It's now possible to load classes owned by the app, and a bunch of
    marshalling bugs have been fixed.

commit b6fa5b1db8c6cca5cbb5c69c7facb68e78d4907e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 9 19:26:07 2014 +0200

    Fix accidental collisions in hash tables meant to be used as sets
    
    Creating two NativeFunction objects for the same function pointer would
    typically result in a use-after-free.

commit 355b0c0f0769e6e1bf39af5e218ff0508b31c351
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 9 19:23:13 2014 +0200

    Fix linking of gum-tests on non-Mac UNIX OSes

commit ed3876faec6106ffae0ed1338305c6dfbf2e12a1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Sep 25 01:46:25 2014 +0200

    Fix 32-bit compatibility by avoiding ARC in the Stalker Cocoa test

commit 61f1613b07fcb500572d8c69506d53aee31306d0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Sep 25 01:18:11 2014 +0200

    Use GumMetalHashTable for keeping track of address mappings
    
    The old implementation was buggy as some values were inserted never to be
    found, resulting in lots of redundant compilation work and an ever-
    growing cache. This approach eliminates that issue, handles dynamic growth,
    and improves performance.

commit 3a41ce2f994f492f3c903a8b5aa9065495add8a9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Sep 25 01:13:06 2014 +0200

    Add GumMetalHashTable data structure based on GHashTable
    
    It's a copy of GHashTable modified to run on “bare metal”, which means
    it doesn't wait for other user-mode threads after construction. So no
    calls to malloc() or friends. This means it's suitable for use-cases
    like the Stalker runtime.

commit d2ef62949dd7e1134483f9dee7dd178d2b4f71ea
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Sep 25 01:03:48 2014 +0200

    Fix license header mixup

commit b618402a22d54565afe45043d1babae0838cea81
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 24 21:38:48 2014 +0200

    Allocate code slabs dynamically to reduce Stalker memory usage
    
    We can assume that `gum_alloc_n_pages()` only involves syscalls and thus
    won't cause any issues with reentrancy.

commit 7bceabfd6c873c7c0e2f1aaeb0947c54682f622a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 24 17:08:46 2014 +0200

    Fix relocation of RIP-relative cmpxchg instruction

commit 133c233c0ac5bf0a8097bdbb961276c89faa22b1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 24 17:07:50 2014 +0200

    Fix inconsistent indentation

commit 77a8d2fb11c4ba54c6aa9b0f78b194a4510350e1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 24 17:07:12 2014 +0200

    Fix warning in Stalker debug logic

commit c13bfe6dd54a947172f0b18dd0dba50a917b2c44
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 24 17:06:52 2014 +0200

    Add a Stalker test involving Cocoa on Mac

commit 5e7bf91f91d388acf0121f8f135cb6d1a3ffd033
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 23 09:39:20 2014 +0200

    Remove left-over dlmalloc implementation from the Darwin backend

commit 55086a6e00c1c0c18bdf4affec8c1721fadae57a
Merge: a0dc077e 1b18af5e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@soundrop.com>
Date:   Thu Aug 28 20:07:18 2014 +0200

    Merge pull request #2 from imcu/master
    
    Add gumpp-static project

commit 1b18af5ea3110e4bc25a0a813341f6a4b80105a0
Author: Mihai Cimpoesu <mihai@jivaro.com>
Date:   Thu Aug 28 20:56:15 2014 +0300

    Add GUMPP_STATIC on all configurations for gumpp-static project
    Remove redundant prefixes from gumpp.vcxproj.filters file

commit 315a372ce6b348612e7c23fde051c295fcaead0d
Author: Mihai Cimpoesu <mihai@jivaro.com>
Date:   Thu Aug 28 20:42:24 2014 +0300

    Remove the wrong GUMPP_EXPORTS  macro from gumpp-static project

commit ede842d7be1146ce0e438906f08dbd31c05dde62
Author: Mihai Cimpoesu <mihai@jivaro.com>
Date:   Thu Aug 28 20:38:56 2014 +0300

    Remove prefixes from gumpp-common.props

commit e8c519002126af99f87b6d0df00233865659cb22
Author: Mihai Cimpoesu <mihai@jivaro.com>
Date:   Thu Aug 28 15:26:57 2014 +0300

    Add gumpp-common.props
    Move gumpp-static project files in the gumpp dir

commit 91b867a5535cf65eb9b6fda18829782caef92fdd
Author: Mihai Cimpoesu <mihai@jivaro.com>
Date:   Thu Aug 28 12:44:23 2014 +0300

    Add gumpp-static project

commit a0dc077e6e90e0a3195ce8cf13d084b862723599
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 23:26:38 2014 +0200

    Fix performance warning reported by MSVC

commit a29d0c37444352856b6af2380ecefd1aa5e8cd7b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 20:54:37 2014 +0200

    Add `Memory.protect()` to the Script runtime

commit 67cb686bffaa9e76858d12cca0cdb28f9fb20e2b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 20:54:05 2014 +0200

    Add `gum_try_mprotect()` to the memory API

commit 11f96a1f20b4baca187a476336faf18fe3a0d8f0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 18:55:20 2014 +0200

    Re-enable follow_thread test on Linux

commit 2799acb2010cdd259da5c85b5df5ebb2f96434ad
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 18:53:44 2014 +0200

    Remove Stalker test workaround that's no longer needed

commit 0c9bb2836c3b5401cb268a6b8f7b53b34466ef12
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 18:52:36 2014 +0200

    Bump Stalker footprint to 256 MB
    
    Apparently 128 MB is not enough for a typical Cocoa 64-bit application on
    Mac. In the future there should be a background thread adding new slabs
    periodically.

commit 8c74386f9a64a406b84d1bd8bb099d94b662f8fc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 18:50:44 2014 +0200

    Rename define to be clearer

commit 9b1afb7168281809e4a32e60754142c6f48f14ea
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 18:50:31 2014 +0200

    Remove unused constant

commit 4b520f5bc630c7d040b4d46933d3ee214995d6f9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 18:50:05 2014 +0200

    Fix red zone clobber in relocated RIP-relative code on SysV x86-64

commit 0133ef11ee7644a64486e2211dee038e59dd2ad3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 16:56:25 2014 +0200

    Remove test guards now that Stalker works well on Windows

commit 172e1e18b5897f6d350326a136da2e17c7a2376c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 16:55:28 2014 +0200

    Improve Stalker WoW64 handling

commit c7d7fec4ebde25f4807117d62d5f02715765609a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 16:53:31 2014 +0200

    Fix exception hook removal mixup

commit daccc058c6afce3dbcadae55ac23f79274d2a125
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 13:49:11 2014 +0200

    Fix accidental pointer truncation in Stalker test

commit 0c34e34aac39b6ec72a0763d2ffd84cb1240ec7e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 12:25:03 2014 +0200

    Fix Stalker debug logic

commit 9d292ef24df53e77c6746e335ddb78bff8916fe7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 11:57:33 2014 +0200

    Fix crash when call probe branch target has extended register

commit fa951c94f1eff58c8896f029f477758e138b323a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 23 03:31:13 2014 +0200

    Fix 64-bit regression in WinExceptionHook

commit 658efa318faebcb4fd30f889855db8b1b9a9d18c
Merge: ba45aa6b 8bfa9541
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 23 03:22:47 2014 +0200

    Merge branch 'feature/capstone'

commit 8bfa9541dd3ab181a53fb9db30eb57a2427a7880
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 23 03:21:32 2014 +0200

    Fix Windows regressions

commit 74f3b1488ea4447340c889e48db8c2546356d157
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 23 03:11:02 2014 +0200

    Fix Windows-specific warnings in the Socket script API

commit c9bc258ba801a7a494f255f618586c5c98b8ca36
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 22:48:04 2014 +0200

    Update to use the new modrm_offset field in our capstone branch

commit 5be722789027c33823b6c326e257ff2960d90784
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 22:07:02 2014 +0200

    Update to the capstone 3.0 API

commit a3c3da76b2328104993fef1a3e452b6d4519d990
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 22:06:35 2014 +0200

    Fix shrinking logic in `gum_capstone_realloc`

commit dbe9aa9021abab09d9eb7990ef8403d8441097b6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 20:40:08 2014 +0200

    Fix memory leak on relocator wrap-around

commit 1a0d6edf96495a9fdb48646dcdb22e63bc49515e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 19:04:00 2014 +0200

    Fix Stalker regressions

commit 19b9b617abe7454ad875341d38fb2e2e7fc1e076
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 19:02:52 2014 +0200

    Fix stack alignment in the `no_register_clobber` test

commit 0f07d5ee3966d65fd73375effe8d127127dbe526
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 02:05:17 2014 +0200

    Fix Relocator regressions

commit 7ebe42d818b84c6e92252242f7b1fefa0c423ced
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 01:38:18 2014 +0200

    Fix incorrect handling of X86_OP_IMM

commit ab1f889acfee928438cbc9f5ed43fbc51e5dbd36
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 01:25:24 2014 +0200

    Update Relocator tests to the new API

commit 3926af9b6f45aa49ad1eea93424cbd3fbd5f8f1a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 01:21:42 2014 +0200

    Port Stalker to capstone

commit ff7020b052370021481bcb6b65d6fca66c28fdec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 01:21:22 2014 +0200

    Bring back gum_x86_reader_jcc_opcode_negate()

commit ea55be25ebfba3ff8e5b89e99366f55e661700db
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 00:47:10 2014 +0200

    Start migrating the last part of Gum from udis86 to capstone

commit 5d7eb195491383030b530e409a889ef6d4f6690d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 00:45:39 2014 +0200

    Make Script runtime's capstone allocations short-lived
    
    Our capstone allocator is grow-only, so we want to keep the heap small.

commit 58d7aae1584a3bed3beac46081fa1b8c545f3242
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 00:41:56 2014 +0200

    Use a minimal non-blocking allocator for capstone
    
    This is the only way it's possible to use it in a Stalker thread.

commit ba45aa6b40e6e8547361f363d8940f6e3551d0ec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 19:06:40 2014 +0200

    Fix gum_free_pages size detection issue on Darwin
    
    We cannot ask the system as two consecutive allocations may form a
    contiguous range, and this is considered one range when querying.
    Thus we have to allocate an extra page to store the allocation size,
    like we do on other UNIXes.

commit ef37a24094e768065cdfe49d9a8d3e7ff4420b3c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 10 23:20:26 2014 +0200

    Fix handling of direct branches with target in R8-R15

commit bcfd4070819a5f44c5ec3e29315c7f458bc597bf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 4 16:22:17 2014 +0200

    Improve the Script thread ignore API

commit 829dbf1f9ce7ebbf5bb0406e572efdd3cf876254
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 4 16:21:49 2014 +0200

    Switch Interceptor to `gum_process_get_current_thread_id()`

commit 6df55f5425356c82cbcb064bbe0ec06194cbaef7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 3 22:01:29 2014 +0200

    Omit ignored threads when enumerating threads

commit 7a34c736e4f89656a0a9e1c455f824356667bdba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 3 15:52:58 2014 +0200

    Fix sentinel warning

commit b9b1a453f503d5ebca85395e7cb9da4a4341d58c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 3 15:27:43 2014 +0200

    Fix leak of FFI objects when script is unloaded before GC

commit 25db52a5ba1dabaf7777a73b0a61a8cb8ff2482f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 3 15:26:31 2014 +0200

    Remove redundant `g_hash_table_remove_all()` calls

commit 558ec555f661287309afd723a27af26f273ae249
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 3 14:59:06 2014 +0200

    Fix leak of File instances when script is unloaded before GC

commit e411bfb9004e87a142f80cc84e35f671b6567a87
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 3 14:47:02 2014 +0200

    Add `Instruction.parse()` for convenient disassembly

commit a9998657446b4c9ccb534c3fe06df9a485aad1c3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jul 26 18:11:40 2014 +0200

    Plug leaks in dlmalloc on UNIX

commit c11a2e74fda462bf10167672dc3564dd5da3d2dc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jul 26 17:16:46 2014 +0200

    Fix handling of iOS kernels without RWX page support
    
    This is the case with the latest Pangu jailbreak on ARM64, even though
    the 32-bit kernel supports RWX just fine.

commit 2374575d57d6bcddc6bdc407aab7a85d4b41fca3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 24 21:06:27 2014 +0200

    Initialize TLS key before the first script is created

commit becae377b7b8a143d27e9a4cde082c77c697e5ee
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 22 00:37:26 2014 +0200

    Update memory footprint assertion

commit 87a6e03b7874dd349498090c8009b7cdbf986fda
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 22 00:29:17 2014 +0200

    Fix warning

commit 54523c6e1a1a1700d7492dfbe87c8d96592d7672
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 22 00:19:49 2014 +0200

    Add missing includes hidden by the dlmalloc include

commit 2c56ad2085e5f0137d612e2281d52ceaa939eaf4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 22 00:02:57 2014 +0200

    Fix warnings reported by MSVC

commit 39262c919f5504ff713849f4c45ddd8020d4bd39
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 20 21:26:27 2014 +0200

    Decouple Script from Gum's core
    
    Otherwise applications that don't need it will link in V8 regardless.

commit 81c923856178b6e08affb387d3bd5bcdd7ebbcfa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 20 16:40:13 2014 +0200

    Don't dispose V8 if it was never initialized

commit 1367cc367c99ba500cb23dd1ea64b136fddfc9e3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 20 16:39:56 2014 +0200

    Fix mach port leak

commit 69666f55211dcfdaf6ca421ac6050fcf4543cb85
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 20 16:39:38 2014 +0200

    Fix usage of deprecated API

commit 0458b07a506ecb78e8d1085b413560c529ea3141
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jul 19 10:44:18 2014 +0200

    Fix Script byte array and heap block leaks

commit fe2b4b948fc0e0b148bd4d92858b107ad560a6ad
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jul 19 10:43:38 2014 +0200

    Use dlmalloc on all OSes and allow early initialization

commit a4d2ac8bad01ee3c96f9be74fcb0c04bf1cb1ce1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 17 21:43:55 2014 +0200

    Fix silly test assuming there are other threads running

commit 0aae9b32e514153a7140b0cac1951d5ba7e861ca
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 17 21:17:11 2014 +0200

    Don't initialize V8 until the last possible moment

commit aaaff16a3f2f9d7a3b2bcb0385bc25cff54fe943
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 17 21:16:48 2014 +0200

    Add thread ignore API for Script's Interceptor integration

commit b45f530b52dd471d9d0d4076c74b17fee705a774
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 17 21:13:37 2014 +0200

    Update to the latest GLib API

commit 53ad5126875ba6d896492b39d35911ae8c04e85d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 15 00:33:48 2014 +0200

    Update gumpp to the new GLib init API

commit 60733738e060161d9b8d631b1333405ff59beb08
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 13 23:44:01 2014 +0200

    Remove unnecessary object reference bump

commit ca4e869d44aebaf5231bde1b4bc55765824cb16d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 13 23:43:19 2014 +0200

    Fix deadlock on teardown of thread pool

commit edc670151e40a05c22dfa940c8b4c2df50ddd81b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 13 23:29:05 2014 +0200

    Update to the latest GLib API

commit 5f602a5055e3390d3d1136c6bd9b68ca55715c6a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 13 21:34:46 2014 +0200

    Update vapi to the latest Vala syntax

commit 3ff760e69ee3b739c77ee7e27f2ef458394330b3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 10 23:27:31 2014 +0200

    Change license to wxWindows Library Licence
    
    This is essentially the LGPL, with an exception stating that derived
    works in binary form may be distributed on the user's own terms.
    This is a solution that satisfies those who wish to produce GPL'ed
    software using Frida, and also those producing proprietary software.

commit 2b6e8e2b4e7b52d69b79a29cf84de39ac594f4d5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 6 21:01:58 2014 +0200

    Fix `replace_function` test on GCC 4.8.x

commit 767c2c297098ebe15979cf937957ec5c70e60f6c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 6 19:25:25 2014 +0200

    Fix warnings reported by GCC 4.8.2

commit 9095dac413fae7bdf4625659ad299bc72e99e06a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 20:13:17 2014 +0200

    Re-generate the script runtime to make MSVC happy

commit 2c814d30e3e8be5ba1c0f7227b0b63be1ca8c43b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 20:07:02 2014 +0200

    Fix js2c's handling of trailing backslashes

commit 6089540ae35b96a38a66688bf319a020bfa01f4e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 19:59:27 2014 +0200

    Improve the js2c script to avoid MSVC string literal limits

commit bdb2c6d6eda8a5511fcd555c0ea6b4e30fb0eaba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 15:31:07 2014 +0200

    Re-generate the script runtime

commit c690ccabc8a4ddda89846585a92aef5fe991b168
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 15:30:13 2014 +0200

    Fix teardown in non-Dalvik environments and squash linter errors while at it

commit 8f650642544f45d453ca773ed4eddf84e12d6e27
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 15:28:00 2014 +0200

    Tweak uglifyjs options to disable IE-specific quirks

commit 4540931db185de4ea6f59a0d524ad25cfeb06913
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 14:18:56 2014 +0200

    Remove embedded test code from the Dalvik integration

commit d1570e0addfd4788189d30adef040f809bb0757b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 14:18:45 2014 +0200

    Update Dalvik integration to use new Memory API

commit f5875aa00ca82eb768e69f2a678dfc17306fbec0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 14:15:09 2014 +0200

    Update runtime autogen script to use the new uglifyjs CLI tool name

commit 7a2f6e892fec2b1032680fbfac5462d329f485e4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 14:13:56 2014 +0200

    Add `Memory.copy()` and `Memory.dup()`

commit ccad08684446aff039bd99868a3d13d8831262a4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 13:28:22 2014 +0200

    Make use of new `Memory.write` methods in runtime

commit 48d37d66606d6fafc7ffd775c9b79c8980886f8d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 13:11:32 2014 +0200

    Add `Memory.writeAnsiString()`

commit d1b3bb3f59549ae293a24d5570687ef07655e413
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 13:11:08 2014 +0200

    Improve Memory.writeUtf implementations to trap bad pointer early

commit 1efa324736bdacc6a689648d5638b8e7b42e08df
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 29 12:16:06 2014 +0200

    Add missing `Memory.write` counterparts modulo AnsiString

commit 41a6810d79516d279daa222bb379afbe7f8aab5e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 28 00:11:41 2014 +0200

    Add `Memory.writeS16()`

commit a49eff6b03384b7b4ef35a60f807794fb8c7cfc9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 27 23:28:33 2014 +0200

    Add `Memory.writeU16()`

commit fcd352b5430a7ee437472b95d39312264fe3b88f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 27 23:21:38 2014 +0200

    Replace redundant writePointer implementation

commit 663bb9378e92ac2cd29fb3a3a9cf0638fc449d58
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 27 23:16:17 2014 +0200

    Make use of `NativePointer.isNull()` in runtime

commit 872d94547484f275c256692a207dceb860e0b059
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 27 23:11:46 2014 +0200

    Add `isNull()` to NativePointer

commit bebba0b0c6239177abc71ce4c3e1d1685c49737f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 27 22:52:39 2014 +0200

    Make use of NULL constant in runtime

commit a56aaf7ca5cda94e45e82f19ce810e59be7a850e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 27 22:51:25 2014 +0200

    Add NULL constant to the global object

commit 6d61b7e6532648661b494ebef65f619439a3dc0f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 27 22:46:39 2014 +0200

    Make use of Process.pointerSize in runtime

commit aaca228992115919233ab39146058283bc4532d1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 27 22:44:06 2014 +0200

    Add `pointerSize` property to Process

commit be3b5049b3ce02a83aefe681bcde23af147e6d75
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 27 22:07:49 2014 +0200

    Refactor Dalvik wrapper and add cleanup using WeakRef

commit c5fbea771c4a95a16944ab1a0bab512fa43f9f3b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 27 22:07:35 2014 +0200

    Clear weak refs before disposing anything

commit 0b1a0f5213bbb3258d72bddd8c6034600754b89f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 27 20:27:01 2014 +0200

    Add WeakRef API for scripts managing external resources

commit 06decf177f77393df3d1012e31344774105b1aa3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 25 22:01:11 2014 +0200

    Allow method implementation to throw a Java throwable

commit ffb4e51886e929b0720e50176596006599de5423
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 25 21:40:26 2014 +0200

    Revert back to original implementation when assigning `null`

commit ed21c126e8a4c04574aa76efc66fbdc7faebd2e8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 25 21:23:58 2014 +0200

    Simplify the implementation override API

commit 8b57613c49610eeeed26e59384a73210ecf67d3e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 25 21:18:41 2014 +0200

    Add support for calling the original method implementation

commit 538d25b2a324694d267e4fe698292a5d18f8ac78
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 23 23:47:00 2014 +0200

    Make the Dalvik example a bit clearer

commit 8347fed98998d7ece12b5c04d543c6c9e0a19092
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 23 23:46:40 2014 +0200

    Retain JS implementation function in the ObjC and Dalvik integrations

commit 72feaa88bbfe5792a4017efa830fdbf93b00f3d4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 23 23:45:27 2014 +0200

    Use the correct JNIEnv in the constructor

commit 7fc144599b81e0c5bbe94b00d47c5052187553a1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 22 22:50:54 2014 +0200

    Add (broken) support for hooking methods

commit 8ad6b837e312e352126f399b790629c3e12a0655
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 22 09:30:36 2014 +0200

    Add rough skeleton for `Dalvik.implement`

commit 954c7c20213ef16496974b513d079c345beb840e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 22 00:33:09 2014 +0200

    Improve method type marshalling

commit e33da126850e2428c91e8afdabe51c80beb5e49e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 21 22:13:42 2014 +0200

    Handle static vs non-static methods and fix valueOf() semantics

commit d7614f0276f93cadef7b4ca06f7413744d27c569
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 21 09:39:19 2014 +0200

    Add partial support for invoking methods

commit 430077e0b905eb2443a6058c1cd00df8a07aa8ad
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 20 23:33:57 2014 +0200

    Add skeleton of an extremely barebone Dalvik integration

commit 552131dc9c3cc28799ea495abbb35f56002f99d5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 20 23:32:38 2014 +0200

    Fix ObjC pointerSize constant on ARM64

commit caa93325a8ea2e660ffd162d2fd30dcc932536d7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 14 20:37:00 2014 +0200

    Fix X86Relocator's handling of indirect jmp
    
    Was very tempted to port X86Relocator to capstone (the plan is to
    gradually remove the remaining dependencies on udis86). Unfortunately it
    is a big undertaking to do this part, as it is used by the Stalker, which
    means we need to plug in a memory allocator that only uses pre-allocated
    memory. Sigh.
    
    Fixes frida/frida-core#5.

commit 0a88662e13c0e036dc851ee95bd59fbb2d0ae979
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 9 22:36:48 2014 +0200

    Update Windows build system to match new frida-build-env layout

commit 41dbb1d27a784fd8b5e233929a317cd41beb9c2d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 2 00:55:12 2014 +0200

    Fix warning reported by MSVC

commit 8e04c5f3061a411431ad523063b2b7926a64cea5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 2 00:54:59 2014 +0200

    Explicitly state that capstone should be linked in

commit 0252617eaafd2f44630021ff243ae84ef3b5b2f0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 2 00:45:59 2014 +0200

    Add capstone to pkgconfig requires

commit f5cb8859e52edfa35ed214dd2c3d95b1cc8232f3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 2 00:38:02 2014 +0200

    Add project references for capstone

commit d649c571bc94dbe11c62473d42f80112d73cbcf6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 1 22:39:38 2014 +0200

    Fix the Android `check-gdb` target

commit 58a1348fc40af585613a5fa922c081fad3be197b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 1 22:38:41 2014 +0200

    Override capstone's memory API to fix reentrancy issues

commit d3375c5a0ae2ef1b387823b28dfb0ffc1f387d0a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 1 22:31:22 2014 +0200

    Add `gum_calloc` to the memory API

commit e825f7265010d18626beaea4dc82548251cd88d8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 1 22:31:00 2014 +0200

    Add an internal printf module to have reentrancy-safe implementations

commit adc47a4448ca5565e6e7658708b33e9914a6d0b2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 1 13:25:43 2014 +0200

    Add FIXME for later

commit 356aa171f5569ba6aeeea573a37fc0a8c97f3179
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 1 13:25:28 2014 +0200

    Fix Thumb-2 instruction length decoding by using capstone

commit b8c7e9087dfa80436611a10c45797cdeb5c473e6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 1 13:25:03 2014 +0200

    Depend on capstone
    
    The plan is to gradually migrate to using it everywhere.

commit 5d1f490cd77c4c3c83e549103594391b337f6536
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 1 13:24:09 2014 +0200

    Add failing ThumbRelocator test for Thumb-2 stmdb instruction

commit 37420752b190ceb67e810b2f79da9afffdefddb3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 27 02:55:02 2014 +0200

    Add ThumbWriter convenience API for calling functions

commit bb2e5be28110bbe800e24afc7d97cd829f7166b9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 23 22:47:35 2014 +0200

    Move V8 into @GUM_EXTRA_LIBS@
    
    It's only needed for static linking.

commit 71f6fcdbaf864f22b6fb1637adac461f54023029
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 23 22:43:21 2014 +0200

    Improve ARM detection

commit c99bcaf4751b95ba42dd77a39669d075a84f35a8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 23 00:15:51 2014 +0200

    Use Android NDK's libc++

commit 0294de8f656d03802b87abd7ed8bb07de41dcf38
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 21 14:29:17 2014 +0200

    Improve ARM64 relocator to support `b` and `bl`

commit f85008c741eb43d077e996a50c02b1603608cd80
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 18 18:18:30 2014 +0200

    Fix thumb branch rewriting for immediate same-mode branches

commit 1598c5a8df253c5f3fbe5e4abd345bcb71354c5f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 16 18:00:27 2014 +0200

    Fix endian issues in Arm64Relocator tests

commit 9fc26b24c358862cfe79cbdc42dc910db734609c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 16 18:00:18 2014 +0200

    Fix endian issues in ArmRelocator tests

commit 1ebf8a51231286148c303669e4f5da35e951bf78
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 16 17:56:11 2014 +0200

    Add detection of unsupported functions on ARM64

commit df65e2b84682409c8325098d119091adb0713821
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 16 17:56:01 2014 +0200

    Add detection of unsupported functions on ARM

commit 6ee5d5523f7bbc02a8e723265af67794c7120ce0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 16 17:55:33 2014 +0200

    Add test coverage for unsupported functions on Thumb and ARM64

commit 5f2c69f21fe5f2839f5436b70fb607dde0f01af6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 16 17:54:32 2014 +0200

    Add basic `eob` and `eoi` handling to Arm64Relocator

commit 9cd10cc11f8cd7ac37bd72ba8624cb0e2252102d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 16 17:53:34 2014 +0200

    Add basic `eob` and `eoi` handling to ThumbRelocator

commit 1348df9ebb535ebfe7ba77c623a19c3537860cc7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 16 17:52:18 2014 +0200

    Fix endian issues in ThumbRelocator tests

commit 402fc59cfd65bb8294df3586dab044a0efecd8ac
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 16 00:38:39 2014 +0200

    Fix warnings reported by MSVC

commit 83fefd011d5b89129dbfc59f57e64d52c067e07e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 15 20:58:02 2014 +0200

    Flush data cache on Darwin
    
    This is needed because of instructions like `ldr`.

commit f26b0f157c87bb356b82bb0da3afb8690f894852
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 15 20:56:42 2014 +0200

    Tweak coding style

commit 3635815bec71a35fef3a7514335ab263756d479c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 15 18:03:59 2014 +0200

    Improve ARM64 relocator to support `adr` and `adrp`

commit 39eedc73c1fe4ad21c6dad0ee01a9557daecd20a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 15 18:03:12 2014 +0200

    Simplify raw instruction treatment

commit fc6aa86e6c830686f32cf1c3f338778a9c6aebc3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 15 16:07:26 2014 +0200

    Use the task's page size and not that of the local process

commit e203b7bf4957e5281c084d8938bd2e4f8c5219ca
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 15 16:06:54 2014 +0200

    Add API for remotely querying the page size

commit 268af8c5f6050eaed879d3b8e2472afd5010fb61
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 12 02:30:00 2014 +0200

    Fix Linux warning regressions

commit 2ff857b4f7699836954c3ad1e2185a9e1af4c8dc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 12 00:41:10 2014 +0200

    Fix Windows regressions

commit 019f1e97280a9d0cb51beb859e47a4d846bd6466
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 11 21:22:21 2014 +0200

    Link against libc++ when using clang, libstdc++ otherwise

commit 2361d6baee68390662d9b2ca06bf64b649341228
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 10 23:54:00 2014 +0200

    Add missing endian-conversion

commit 5d85c760bdce3e0a4902691dd6c13fd98f9888e4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 10 09:18:23 2014 +0200

    Add ARM64 detection to `gum_darwin_cpu_type_from_pid`

commit 85c5c4b132e4a883ab12fd79567196b4c802a837
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 9 20:20:26 2014 +0200

    Fix `x86` arch tests on non-x86
    
    The usefulness of this is rather limited, but simplifies build system and
    makes it easier to detect regressions.
    
    This is however not fully endian-neutral.

commit 0f39770dbba4a287e6280958839a9e890e52abad
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 9 09:31:39 2014 +0200

    Fix `arm` code writers and relocators so they support cross-arch

commit 93dd395b3dff83d8568aee2ad4e02088bec195bf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 8 23:49:44 2014 +0200

    Build `x86` and `arm` code writers and relocators on all architectures

commit c82d73311f49641e0e6af28e300dc5f655f80a31
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 6 20:49:08 2014 +0200

    Fix process arch test on ARM64

commit 34741017c1b78c4ac8e305456cd83033c970f264
Merge: af03ab4a 9e063df9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 6 19:30:15 2014 +0200

    Merge branch 'feature/arm64'

commit 9e063df9e8a7da976066abd0211bf513f36705a5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 6 19:29:25 2014 +0200

    Port to ARM64

commit af03ab4aeddf7ff40417c1af850048b04db256c0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 22 00:51:05 2014 +0100

    Use the default isolate for all scripts to conserve memory

commit 82fb7f2fd546ca548e3858dffc81ab1db6e91d3e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 22 00:50:48 2014 +0100

    Improve CodeAllocator slicing strategy to handle page_size > 4096

commit 010a1b1abd8f568b987b0423855dd28262d7dba4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 16 20:53:49 2014 +0100

    Add `subdir-objects` automake option as suggested by automake

commit 645e501810a165fe8b6b47044f5b99928e741600
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 28 21:48:49 2014 +0100

    Initialize Interceptor's global state when initializing the library
    
    This fixes the crash scenario where a backtrace is captured before the
    Interceptor has been used for the first time.

commit cc5e83d0f2d498f15f05c001d726e6795e52bf47
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 28 21:47:31 2014 +0100

    Adjust glibc backtracer skip count

commit a8a62d0b30e4a44b428c14677bcf74f1e35b10e2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 28 21:47:12 2014 +0100

    Skip symbols without an address
    
    This typically happens due to inlining.

commit 7c379eba4d305bc66feca055b9d9f203559ac796
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 28 21:46:50 2014 +0100

    Fix symbolutil and backtracer tests on Linux

commit 54d14ee7c84aa09101ee2fe637162768feba469b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 28 21:46:04 2014 +0100

    Remove assertions assuming overly deterministic dlmalloc behavior

commit 71220f28d24f04f0d32f7d5794765be6e9bdab6c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 28 21:45:12 2014 +0100

    Fix test data directory discovery on Linux

commit 263b092502455e15e7bf081f7ae4b118dd03f02b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 28 21:44:44 2014 +0100

    Fix glibc detection

commit e95124f7b53f96316370349ace6afc70cf11afc7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 27 02:38:43 2014 +0100

    Fix asm vs PIC linker issue on Linux

commit c5280a3c7867492f433939587e16314e55957569
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 24 23:45:46 2014 +0100

    Remove unused prototype

commit b2569f03abc173e469e8251bd66229b5468d0815
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 24 23:45:36 2014 +0100

    Fix clang compilation error

commit 79c10396e74a85cbbefe3db2ce5ac3e9305fa4e9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 23 22:22:14 2014 +0100

    Fix handling of optional callbacks

commit b9d9a6554ece1ba1be360396a6d8c64cfaa53745
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 23 22:07:57 2014 +0100

    Upgrade to VS2013

commit 124ca259e0499575f965a56fd5500fafba981c2c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 23 21:49:19 2014 +0100

    Fix failing MemoryAccessMonitor tests in case of optimizations

commit e4240ac687f6844667a28f951b78784072a911f9
Merge: ff9e0cd6 0b111a4b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 23 21:33:19 2014 +0100

    Merge branch 'feature/v8-3.24'

commit ff9e0cd68643a6ed0d31fdc2506f1188fabadf6f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 23 21:32:22 2014 +0100

    Remove FunctionParser
    
    It was an unfinished experimented that didn't prove very useful.

commit 0b111a4b7b41409aa1b8682d6d4fee678a41dec5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 17 00:09:15 2014 +0100

    Update Script runtime to the V8 3.24 API

commit 93ae586e0a78b5f68a1275f908dc3d37d01919ab
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 23 00:43:53 2014 +0100

    Fix system_error behavior on Windows

commit b3fa0272b2c7fe35f3996f88f43b36ea2e692126
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 15 23:51:09 2014 +0100

    Add script API access to system_error

commit 02bb1305831045460e08ec00b5b779aa417f27c1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 15 23:50:44 2014 +0100

    Allow invocation listener to update the system error value

commit 23351ca55b4f93438d105fabdba533f8848b8f69
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 11 01:49:49 2014 +0100

    Fix inconsistent JS style

commit da9cfa65ba1e209488d70379b0e75cd9d51b8753
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 11 01:48:12 2014 +0100

    Add API for replacing return value

commit 73e521bf6980ea259b2c0c54861d92c66239d79a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 11 01:42:17 2014 +0100

    Add gum_invocation_context_replace_return_value

commit a32f62bb8226c67feb26f52958ae680fb981e4f0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 11 00:14:45 2014 +0100

    Improve ARM relocator branch instruction coverage

commit dbbf5f62353ac027337bc16180aef93d9061c9df
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 9 00:35:42 2014 +0100

    Fix relocation of BLX imm T2

commit 28578992f48647071d5eb2b2b9bf00e10c86ac3f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 8 02:25:05 2014 +0100

    Fix exception code-path in _send

commit aaf47ae05828603d650fff8ad54a21234ebea79c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 25 23:20:23 2014 +0100

    Re-generate the script runtime

commit 5a32896fb1858b8ed33adad2fee45b9b47be866f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 25 23:16:59 2014 +0100

    Update runtime build script

commit 7aea61ed6c1b5b7151c74e9d4ddcaa76f9dbb212
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 25 23:16:41 2014 +0100

    Fix uglify2 warnings

commit 1e2ca4389fb66a31f5b953b68d4e822b35618a6a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 25 23:11:24 2014 +0100

    Fix jshint errors in ObjC runtime

commit 0feaf0499bab8df72e389892db49d708517e472d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 25 23:11:02 2014 +0100

    Rewrite the script runtime core in JavaScript
    
    It used to be CoffeeScript.

commit ccf8a180049a1c536ec0770223803a22c028f637
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 25 22:19:47 2014 +0100

    Remove temporary test code

commit 43feb269109640a1526dbd8134175d555da5fa8e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 25 22:19:29 2014 +0100

    Avoid regex on iOS for now

commit 621ec633c1e1e5f1b8446f4cebb1362320b88d13
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 25 21:08:45 2014 +0100

    Make it so NativeFunction is a NativePointer

commit 036c947528fc3453df3c14a748fd38d29132c7c4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 25 20:30:05 2014 +0100

    Add ObjC API for scheduling work in the main thread

commit 1269edfa73b049e159ab80bcf6f7d8e336e6fd91
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 22:56:28 2014 +0100

    Update some copyright year ranges

commit cedff1fbed9c120766d10af291154c3188e0c513
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 22:56:06 2014 +0100

    Avoid usage of reserved JavaScript keyword

commit 01ed953590b61cf155ba28f38597339ee46e1589
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 22:55:42 2014 +0100

    Fix warnings reported by MSVC

commit 73ecaba03f42195539832b93aa8ef4dc5450f215
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 22:55:32 2014 +0100

    Update Windows backend to the new process API

commit 3ee068c95da6918a841252bb361e8fc0d6c7c5dc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 21:58:55 2014 +0100

    Update Linux backend to the new process API

commit c1ec9183c573819d151e58671dc4a538fec94c38
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 21:28:20 2014 +0100

    Update Darwin backend to the new process API

commit 9cb7896772759171b4e19d275378c1900280f28a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 21:28:08 2014 +0100

    Update gum-heap library to the new process API

commit aa5009c256db2fb8fdd2ca178aa6692115c3cad6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 21:19:59 2014 +0100

    Update vapi to the new API and fill some of the existing blanks

commit facb55c50aa36efd7e593e459e388534389322bf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 21:19:28 2014 +0100

    Update Script to the new process API

commit 651548f6c3e91a585f5c7b21dd0239542dd57c54
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 21:17:11 2014 +0100

    Update MemoryMap to the new process API

commit eebc84274ec5f07cfe819e812f8b2c27f4c8e465
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 21:16:53 2014 +0100

    Revise API to provide both function and variable exports
    
    Also move arguments into GumFooDetails structs across the board for
    consistency and to allow future additions without breaking the API or
    ABI.

commit 3fedab79afc826579ef97e158a101dd6a8a494e3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 19:41:33 2014 +0100

    Fix erratic X86FunctionParser behavior
    
    - Only relevant in 32-bit mode
    - Don't read RET operand value unless there is an operand

commit f26618b48d7777c4852a9155d8796dedccda35d9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 22 23:59:39 2014 +0100

    Add rough sketch of an ObjC API

commit b5a09269af7d5b9f465d271ebc889831dfe5d376
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 19 21:38:49 2014 +0100

    Improve NativeFunction to support variadic functions

commit 71f9a1cf1364927274cf0a1b215d1a64a95300f0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 19 18:51:05 2014 +0100

    Throw exception if parsing of ffi type or abi fails

commit fc0e54bdc049c5c2276a69fda6f284faa6621210
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 19 18:50:52 2014 +0100

    Escape exception string when generating error message JSON

commit 2b207e3a1811b6cbbbd56226c7691df3cf411b8a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 15 22:35:08 2014 +0100

    Run V8 in "safe mode" on ARM for now

commit a447c0b3b55dbff6d8a156b460a9048196173f40
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 15 00:21:59 2014 +0100

    Remove Darwin/ARM special-casing assuming RWX is not allowed
    
    This restriction is no longer the case with modern jailbreaks.

commit 419f0aeaf3f6539363d11f51fd8fa0efce4911c5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 12 21:03:00 2014 +0100

    Update e-mail addresses and convert non-UTF-8 encodings

commit 94dc2c389213a9c27d0c3e76aec2036ad9844be4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 3 13:51:20 2014 +0100

    Update to the new Stalker API to allow graceful shutdown

commit 1f2539454119e8890c8846ae7d06c2dcfa2565e2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 3 13:50:24 2014 +0100

    Improve Stalker to allow graceful shutdown

commit 8a99a36106f1c7a022bb5accc3dc8096f49769fb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 2 23:13:44 2014 +0100

    Fix MSVC warning regression

commit e5eb5bc7d44afb2ec946c7a0345ed4d4b7a7b145
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 2 22:59:24 2014 +0100

    Check for pending unfollow after sysenter and event submission
    
    This resolves situations where the stalker would get stuck.

commit d71c24374829a88f1afb9e862a6bf4b88a74cb21
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 2 17:43:55 2014 +0100

    Optimize unfollow of dormant threads
    
    We can detect the case where we followed a thread while it was asleep and
    later try to unfollow before the thread woke up. Without this optimization
    we may run out of memory if we accumulate dormant threads at a higher rate
    than the rate at which they wake up.

commit afe8bd856434bcda26676ca404075b859b227712
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 2 14:24:48 2014 +0100

    Remove erronous operand base checks for UD_OP_JIMM
    
    An operand of type UD_OP_JIMM never has a base, so we should not check it
    as its value is undefined.

commit 94fecf51113507186cf3788c79e5c34b32bb2461
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 2 14:22:53 2014 +0100

    Update udis86 build steps on Windows

commit 685fe0cdd870fa4de2b74e81869640efd8b1bc80
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 2 13:17:24 2014 +0100

    Fix unref re-entrancy issues

commit e1cb38cefe2480f3530cdf3479dbcff5b6163088
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 2 13:16:52 2014 +0100

    Update to the latest udis86 API

commit 89169d07997bff607a2a55e1fe0a39a2d84501e4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 2 13:16:30 2014 +0100

    Add Stalker test for popcnt
    
    This is to ensure we support newer instruction sets.

commit 968c3457cf762d32db79ce2cc51ac54fb9161ea3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Dec 30 15:46:14 2013 +0100

    Fix warnings reported by MSVC

commit f1d974cc3fce14c735644e31e21c6ae38ed8733a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Dec 27 23:48:23 2013 +0100

    Fix typo in assignment

commit 120aa6719a97b59a09f7876e25ec826cae6fc6cf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Dec 27 23:29:38 2013 +0100

    Add support for relocating jmp/call <reg>

commit f04c2d35c9e97c909ece1a4346b428aa47984bd4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Dec 27 23:28:46 2013 +0100

    Configure dlmalloc to avoid sbrk() on Darwin
    
    Otherwise we quickly run out of memory, as sbrk() is legacy and shouldn't
    be used on Darwin.

commit c56957a32768fb665da4607c986470ffdcfe7fdd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Dec 27 22:52:24 2013 +0100

    Improve robustness of remote module/exports enumeration
    
    Reading from memory while enumerating ranges may interfere with the
    enumeration. Make a copy of ranges first, and reduce I/O strain by only
    reading the beginning of each page to look for Mach-O magic.

commit 6bda7a9ec09b60592807e1a6d7e739a646f42e1c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 24 14:26:47 2013 +0100

    Fix Darwin entrypoint detection for ASLR binaries

commit c6b34df7e260d5d834da62008c659a38e7c8201e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 24 11:12:30 2013 +0100

    Implement re-entrancy guard on Linux
    
    This is best-effort as we'd otherwise have to make a lot of assumptions
    about libc internals. The limitation is that a listener cannot be attached
    to pthread_getspecific/pthread_setspecific.

commit b85a4617a6f653232c272b95803c0bfb6e6c3c0b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 24 03:18:27 2013 +0100

    Implement re-entrancy guard on Darwin/ARM

commit edf0ef5c18d6b60dcb14db6e5701edeb2b02ce5a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 24 03:17:12 2013 +0100

    Add gum_thumb_writer_put_sub_reg_reg for consistency

commit 38d232412c70f7295a07c05ba96c5006c8d1ee07
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 24 01:54:43 2013 +0100

    Implement re-entrancy guard on Darwin/x86

commit 30f8b08324e0f26c39d8b7e01d59e3df781d9934
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Dec 23 11:51:23 2013 +0100

    Skip data entries when enumerating exports in the Darwin backend

commit fc1d8dd86a6ec1d04eb95a6ef8efe1f670c32eef
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Dec 22 23:11:33 2013 +0100

    Fix `check` target for iOS

commit d4929a6efe5ff842c23f1af1a10b9c6315b1a19c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 21 12:26:37 2013 +0100

    Fix ifdefs for tests temporarily limited to Windows

commit 52b13cd9437e0453a0d070a7f30da203fe5c0e25
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 14 23:43:15 2013 +0100

    Replace GPrivate with GumTlsKey to fix resource leak

commit 53117f3cd415538c564a3487d9491cc1682a397a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 14 23:26:37 2013 +0100

    Don't leak V8 isolate when disposing script

commit 751189eea4ad3251e99a67f4ac2e48da5229c935
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 3 22:58:40 2013 +0100

    Fix declaration after statement to make MSVC happy

commit ae2e02af2ef2a39465f87aa93bf9572a376b2884
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 3 22:52:29 2013 +0100

    Fix Windows warning regressions

commit 09fafde0a1ced940d977730d457f886d1a2b30d3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 3 22:49:40 2013 +0100

    Fix Windows regression

commit 6bff70b7e05afc0acd15faba581a75f2ccab2023
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 3 22:47:31 2013 +0100

    Fix another silly MSVC issue

commit a5d6e3cdedc3dd4d20b91f91b9f0eb1e6955b422
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 3 22:44:36 2013 +0100

    Fix silly MSVC C99 compatibility issue

commit 097a2252f09a8aae588c82aad3d3d5b6cf0d6129
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Nov 14 09:13:16 2013 +0100

    Pass CPU context to backtracer

commit fab39f0bfadad49623f8f0127522daadae25368e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Nov 14 09:12:50 2013 +0100

    Fix sbrk() deprecation warning on Mavericks

commit 5f02e8e7af6256a9a8ccfc991c6e133cc17ecf0b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Nov 13 09:12:20 2013 +0100

    Include backtraces of alloc and free calls

commit cf35a82782424a54006c46a3d0a3e19ec9aaeb47
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Nov 10 23:23:42 2013 +0100

    Include a backtrace showing where the invalid access happened

commit 5edd7f39939e87f1849d32a5cdab2927e8e15087
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Nov 10 21:14:46 2013 +0100

    Output diagnostics info on invalid memory access

commit e5aeb617c062086391f800cb2dba59465110b02c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Nov 10 21:13:06 2013 +0100

    Improve exception handling to include SIGSEGV and SIGBUS

commit 640f5f1be3ce3f9ebc1e3b8561d53fbc1eeb6c45
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Nov 5 15:30:03 2013 +0100

    Cache invocation context and args to reduce memory allocator pressure

commit 206f93d611f32d0366e9610b0db86344ef2117af
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Nov 5 14:16:43 2013 +0100

    Fix silly use-after-free in file write logic

commit 6cfac649c538710ffb893de6071fd8605f33d14f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Nov 5 13:17:35 2013 +0100

    Add missing function that got lost in the refactoring

commit b4d3a34310abd2d39c55ea63af4676046e790cc3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 31 02:17:25 2013 +0100

    Add simple script support for writing to files

commit e39d82ba2396680d09d0d3239f28535ac9d3f9da
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 29 22:45:14 2013 +0100

    Split script engine into multiple modules
    
    It had gotten way too painful to add new features to the monolithic beast
    that the poor script engine had turned into.

commit 2da35e86d5c352c36377657348cb99b28e79de18
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 29 17:45:43 2013 +0100

    Handle malloc/calloc/realloc for size=0

commit e38e530281bb339c868d8f0229efe169b8e9a42d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 29 16:09:13 2013 +0100

    Fix installation paths of library and binding headers

commit ef72e20ac7e3d3d91a30d7620cc6d9bce6b1141d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 29 16:08:37 2013 +0100

    Add a rough ARM backtracer based on the x86 backtracer

commit 41e40f0a406880df31370b76c74979f4c592a1ad
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 29 16:07:17 2013 +0100

    Add Interceptor API for resolving return addresses
    
    This is essential for making sense of stacktraces.

commit 96a132be107363331e4c2609a0d9f87711e72a4c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Oct 28 19:06:45 2013 +0100

    Handle relocation of ARM B[ranch] imm24 instructions

commit 6e61ade7dd72c5532375c1de2c899dfac4648985
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Oct 28 19:04:28 2013 +0100

    Improve readability of thumb PC calculations

commit f604e80ada4df31e79515f01d242afe0b6e777fa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 27 20:55:04 2013 +0100

    Add Interceptor#detachAll() and Interceptor#revert()

commit 61b85ea2f0ed498260da212b37335fdd77de44c6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 27 19:34:51 2013 +0100

    Add Interceptor#replace() for replacing functions

commit 73651ad6d8211299ab39690110cc2edf46a67ed6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 27 18:52:12 2013 +0100

    Add NativeCallback for passing JS functions as callbacks to native code

commit d29e21758c14ea5560876478d0fee96e74b0838b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 26 00:08:09 2013 +0200

    Expose the V8 gc() function to the script runtime

commit 8077872d17ed16cde9b58ffe483291ed4dfba893
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 25 23:20:52 2013 +0200

    Improve heap API detection

commit c99741e8043103a852341a844df0c15f5b5604eb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 25 16:14:07 2013 +0200

    Limit non-core tests for now and fix the low-hanging ones

commit 2224ebc89839324e812a888ddd3bd21f822fba80
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 25 16:11:23 2013 +0200

    Fix find_functions_named() for unknown functions in bfd backend

commit 5a6fa9f8f34dc98e3dce476fb909dc61dbaed150
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 25 16:10:18 2013 +0200

    Fix incomplete Interceptor function replacement support on ARM

commit 9f08674d624af86aea52bb14b27e545227eb8421
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 25 16:07:58 2013 +0200

    Add minimal branch instruction support to ThumbWriter

commit d5c6324f3b371f638ae91565a9d4ff7171c3ea32
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 25 16:07:15 2013 +0200

    Rename internal X86Writer types to avoid clashes

commit 1b4f0ed6785f77a9d2b7d8893598bcf26b377a0c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 25 00:37:14 2013 +0200

    Fix warnings in and revive helper libraries and bindings on UNIX

commit ac1d3ba9f82836679705913bf3c83b4505eac6b1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 24 15:32:00 2013 +0200

    Fix padding instruction check

commit 8d76e5ea585697b4fb1ac96d7f65c37095ee3a93
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 24 15:31:19 2013 +0200

    Fix Linux module enumeration for memory map with non-readable pages

commit ef0f939a46dcc17b2140c07c7b75f8a1f17ea4c2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 24 00:30:34 2013 +0200

    Disable remaining tests for functionality missing on Android and non-x86

commit 917bca1771a35e1888de53149daec02bcccd78f8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 24 00:29:15 2013 +0200

    Fix Thumb relocator's pc register computation

commit bfc932e854d238a0556da923c3bafe45e8f3c77b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 22 23:06:18 2013 +0200

    Disable Linux backend's thread manipulation logic on Android for now

commit b7e7502fda423e01fe27a6ab1b8e8317f77d3a89
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 22 23:05:43 2013 +0200

    Fix warning reported by Clang 3.3 on Android

commit 1aba1926dc26a1386e90bf69d9df988d64bce5f6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 22 23:05:15 2013 +0200

    Improve ARM detection autofoo

commit 72db8d29e9c303188c9ce5b4230dca35d768fa7f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 20 19:09:04 2013 +0200

    Don't hold the V8 lock while computing call target frequencies

commit eed892feb26b45cfa401b2964506d14784c86733
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 20 19:03:49 2013 +0200

    Fix mixed up argument type

commit ae63615ef033bcd28e2d06d528cf7e2c2ca8d37a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 20 14:53:54 2013 +0200

    Generate a Stalker call summary if onCallSummary callback is provided
    
    The summary is an object mapping call target to frequency, which is useful
    for applications that want to display a heat map without potentially
    transferring huge amounts of data across process boundaries.

commit 519f40c19dc53a8003394898122d37be2e53cb88
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 20 14:48:09 2013 +0200

    Fix callback-argument declaration in gum_script_callbacks_get[_opt]

commit 93b245ad29932e50d0a180d413151ebe33d9f0a3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 20 14:46:56 2013 +0200

    Expose NativePointer C++ API to other script modules

commit a404705f5c7b1d2d12d2006fb657d7bb366ec69f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 20 14:43:43 2013 +0200

    Improve NativePointer#toString and add toJSON
    
    If no radix is specified for toString() we should make the string human-
    readable by defaulting to base 16 and adding a "0x" prefix.

commit a235a11146225678dc8dcab204548914f322b3df
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 6 17:37:51 2013 +0200

    Fix Win32 include directories typo

commit 5bf80ff9992645593a4364d4d37ced2cdf467342
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 6 17:24:34 2013 +0200

    Auto-detect system module name on Linux
    
    This means the Gum tests can be run on different libc versions without
    manually tweaking the hard-coded constant.

commit 24d14023f0b80ed490ce6aa17985f1539a0b059a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 6 16:42:06 2013 +0200

    Fix gum-tests include paths on Windows

commit 7f3f0f2ef298199c5ac3c264a698ebd16d0d2455
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 6 15:01:18 2013 +0200

    Update gum-heap to the new Process API

commit cd11587727d25935af9648e09cc8a434d2bff716
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 6 15:00:58 2013 +0200

    Fix unused argument warnings

commit 655ed72e17ae319bb616c29da0dd33f2fbb88a27
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 6 15:00:35 2013 +0200

    Fix signed/unsigned comparison warnings

commit bb09ff956056b2f5935630a003e30dc265ea7024
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 6 15:00:15 2013 +0200

    Update gum-64 filters

commit a232d2e658ba20d6ef673a3ae12251a9369286e3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 29 22:01:19 2013 +0200

    Add performance test for interceptor integration

commit 6abd09445e54735bab115bef32e56d79f8dfc7bb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 29 21:40:46 2013 +0200

    Speed up native construction of pointer objects by ~24x

commit 9382f936a56b265411cfb2b633980c3d73add441
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 29 21:28:16 2013 +0200

    Fix crash when an on_match callback throws an exception

commit a42c022e524f83a96282e13318e04b4baf73fe13
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 29 21:27:10 2013 +0200

    Improve formatting of stalker performance test output

commit 5bf32ecdd17de557f88b7b5cfda611aa8cd3e393
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 29 18:58:57 2013 +0200

    Fix Stalker.follow() argument parsing for options-only argument list

commit 9b1520c6f5e5d0cc0b9e45b74f04a1ce0609f794
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 28 17:44:58 2013 +0200

    Add error-checking for absence of required callback functions

commit cb52ce7966a9238efea61611223aad6240b7103f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 28 17:33:51 2013 +0200

    Make it possible to specify stalker event mask

commit 2d522232a1d4cd819b7df2c3a65427633df02058
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 28 15:48:36 2013 +0200

    Fix jmp backpatch logic when there is an opened prolog

commit c83795a41df46270ee5a8fe88f6ce17e8456a335
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 28 15:34:10 2013 +0200

    Remove predictive call probe prolog opening logic
    
    This is too complicated now that probes aren't always inserted, and the
    performance gain is only when combined with EXEC and/or CALL events.

commit b442d5de33863c0550f28456df88845960e10f64
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 28 15:15:56 2013 +0200

    Invalidate caches after adding or removing a call probe

commit 043c68d970724ed362e4da81407cd97a097b21c2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 28 14:24:07 2013 +0200

    Optimize out call probe logic for unprobed static targets

commit 1204cad735a86a150d317b805b980f00edb076a6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 28 13:20:57 2013 +0200

    Emit RET event after sysenter completes

commit eb5e9884f398ee68c02329125e11b750e31f6526
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 28 13:20:47 2013 +0200

    Improve sysenter performance on Mac by making use of our stack

commit fb3e4d3842e1a2a9db378ffc0cc32308b9ed392c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 17 21:02:09 2013 +0200

    Optimize drain logic to minimize memory usage

commit 5862d9c5dbccebe350b5897dc16c3a0578651347
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 17 01:16:21 2013 +0200

    Fix code generation logic for call to excluded range

commit c0a906c7efa3b6b55ee0fd27192a3e0f72cd3e1f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 17 00:19:01 2013 +0200

    Improve gum_process_enumerate_modules to also provide the module size

commit 071d8a5d5681c2fd79c31d51913670f28f940de7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 17 00:17:13 2013 +0200

    Fix warning

commit 706c04f14adfe8d26440fde6a52f6054f8a613e0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 16 22:02:14 2013 +0200

    Avoid following and unfollowing from within a V8 script
    
    This is not a great idea because of multiple threads and self-modifying
    code. It is possible to solve by adding more complexity to the stalker,
    but this optimization provides a middle-ground solution until then.

commit 03f38867970c959f0eb82b9251d922e976c56d38
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 16 22:00:08 2013 +0200

    Add basic support for excluding certain ranges from stalking

commit 73dbed97118194e0bd895cd56e1910be23aa782c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 15 22:14:24 2013 +0200

    Fix naming inconsistency

commit 73770a8095a6c854fc6518aeb551555eb2d6e6d7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 15 22:06:33 2013 +0200

    Fix stalker event blob length calculation

commit 165ccb9dcf0baef99ae0dc376b5b5c37383e93c2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 15 21:45:41 2013 +0200

    Expose Stalker events as a raw blob
    
    Creating an object per event is too costly.

commit d795c46297a18fe06d6f2a1867c40fcb6b92bbca
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 15 21:44:51 2013 +0200

    Add missing length property to the byte array object

commit 984fa543cb91db2fd2f6020a08dd8d5f026d2c37
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 15 20:50:25 2013 +0200

    Increase call backpatch padding to be sufficient for 64-bit

commit c85b80f6346193d6feb0146c7b40c6bba3d740b7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 15 20:49:37 2013 +0200

    Fix register load logic for upper 64-bit registers

commit 9245ee738016a2059fe1d848a9087963d4d798d9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 13 01:58:59 2013 +0200

    Explicitly set trust threshold to 0 for the performance test

commit 58796b0ac44fe1fb99ca161ff4f2917cbeb055b7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 13 01:58:42 2013 +0200

    Enable performance test

commit 78b986d5e08160c0efec19b620f7282205f1a17e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 13 01:58:22 2013 +0200

    Improve code generation to avoid redundant context switches
    
    Also remove remaining stack swapping logic by instead avoiding the red-
    zone.

commit b49c67abc25cf40c875e0fced9d7f05315a33f88
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 13 01:54:14 2013 +0200

    Add helper for generating padding instructions

commit f17d1c89d0a6e30fb48f0aa51a2a63c012f05f39
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Sep 12 00:12:13 2013 +0200

    Refactor remainder bulk of code generation to use generator context
    
    This will allow optimizations like merging multiple prolog/epilog emit
    sequences in order to reduce the cost of probing code.

commit e884da285105195c2a04810192341b709ef69250
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 11 23:32:54 2013 +0200

    Avoid confusing V8 by sticking to the application's stack
    
    V8 stores the original esp so it can guard against stack overflow, so
    using our stack while in a callback potentially going into the V8 VM
    is not a good idea. So instead of swapping our stack we just avoid
    writing to the red zone.

commit a78b668c43d9f2216008d41952e4cdda097bbea0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 11 23:27:35 2013 +0200

    Improve SMC detection by checking the entire block for changes

commit ff9b9dbc34e765beadc8026cea6d8d36013e731d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 7 20:55:12 2013 +0200

    Fix gum_mnemonic_is_jcc for the jno instruction

commit 8d06edeae7a4d6b1c0ecaf569ed6db4910b7c719
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 7 20:54:28 2013 +0200

    Fix warning reported by clang

commit 85c50f2445b668ced2f27051dd1e01e90ba4d750
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 7 20:53:58 2013 +0200

    Restore edx register after sysenter completes

commit 52814f6e540fe4453a70de77bfcc469bfdae46bd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 7 20:38:32 2013 +0200

    Skip the ret instruction as we replace it with our own code
    
    Not really an issue since a block always ends at a ret, but improves
    consistency.

commit 6b6c6026ab29e4493e1059bc3191892d4389cc3d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 7 20:37:11 2013 +0200

    Fix stalker memory overrun for trust_threshold of -1
    
    With this threshold we will never re-cycle any blocks, so instead of
    relying on an allocator thread adding more slabs we will simply just
    wrap around and overwrite the first block we generated.

commit 469aefea89dd461ca318bd09ded6d43eac60d590
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 27 23:11:11 2013 +0200

    Clear direction flag before calling on_enter and on_leave

commit 45c99d1b691f34298607838b203e0dacb2507833
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 27 23:08:49 2013 +0200

    Fix indentation inconsistency

commit dc89b310bbafcb42706f581f42f4cdd1d1c76ea4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 27 23:06:49 2013 +0200

    Clear direction flag before calling a stalker C function
    
    This is required by the ABI.

commit fd2d548f9cd3d91fafba212102cf53f1237a26b8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 27 23:05:18 2013 +0200

    Add cld and std for controlling the direction flag

commit 44683f819579e3837cc2ee785ac0c2453fe7b743
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 27 15:51:41 2013 +0200

    Fix leak in event sink drain logic

commit d7f9e91dbd90fc0953f42d2045ae639c70b07e80
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 27 15:51:17 2013 +0200

    Use a dedicated v8 isolate per script
    
    This improves concurrency and should make it easier to track down bugs.

commit a4a8ce2d0772d33aae179b452e3b427d895a9444
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 27 14:22:50 2013 +0200

    Make the stalker queue capacity and drain interval configurable

commit f46156d8a5721644cfabf2a83bad56cbe1d50a69
Merge: de5ebca4 126e4384
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 19:54:30 2013 +0200

    Merge branch 'feature/stalker-performance'

commit 126e43847fcc9a73c279eda44d1d264c17eaa969
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 19:30:21 2013 +0200

    Also consider block ended at CALL

commit ccad4628243df8d5151420c4a627fb3f7726834d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 19:16:09 2013 +0200

    Add a workaround for 64-bit syscall issue

commit 14acb6c35aa9337256fd928069ad1b1519778d0a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 19:14:57 2013 +0200

    Tune register allocation to avoid unintentional clobbers on 64-bit

commit cb28a5bf638e5bc5ba7e6440c1f41b3c1a9fb029
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 18:38:37 2013 +0200

    Fix short vs near 64-bit regressions

commit 7518d76749e5efc5232f5fbda90b3c3ed7db6052
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 18:38:14 2013 +0200

    Fix backpatch logic when context is about to be destroyed

commit ed43baa3c5ba82c596f5a25893dd4b55fbcf8745
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 18:36:52 2013 +0200

    Remove left-over logging code

commit 5e7c881b52c5c57a84b9f2e10d43f4d738fb8ae4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 18:36:39 2013 +0200

    Add jmp_near_label

commit e8cb717ce77ee92148bdc7212e235536ecc237f0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 18:36:23 2013 +0200

    Fix declaration of sub_reg_near_ptr

commit 52b19397cabf1f2e33ac287d79b51e858fac3c19
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 18:35:54 2013 +0200

    Fix cmp_reg_offset_ptr_reg for 64-bit mode

commit f54e8fee049eae2a86ff94918d85b66de80caee1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 16:37:02 2013 +0200

    Replace depth code with calculations off the frame stack

commit 63bef409047d39a83b59aa45c7e0ade1b15dc6f3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 16:35:33 2013 +0200

    Add {add,sub}_reg_near_ptr and shr_reg_u8

commit 6a7a428cdd77cd6a240bb527dfcad1349d306a84
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 15:33:16 2013 +0200

    Add backpatching of ret code

commit c8595365e132457bf3818d3834971e89fc6df9ff
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 04:54:54 2013 +0200

    Add fast-path for ret instructions

commit 0106c291fb0b308eff8e27ecd7a1809eb645b48f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 25 04:54:08 2013 +0200

    Add test_reg_u32 and cmp_reg_offset_ptr_reg

commit 8b8896bec31d51240c42b5bf1ea96ebfeecb1620
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 24 20:59:18 2013 +0200

    Improve stalker debug logging

commit 0e44a06bd53fd60a4b09cb54dfa7f178598496e0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 24 20:58:31 2013 +0200

    Fix parsing of JCC opcode with hint prefix

commit 586c0bf92ba887695847b34f5f491b7d56ec5188
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 24 18:54:42 2013 +0200

    Improve the performance test

commit 41aba62584c35a2b571ccd7c1bac858a76bf037b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 24 18:36:07 2013 +0200

    Expose Stalker's trust threshold to the script runtime

commit 6159ad4090c4da40ff7abf88d1bf07782b44f934
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 24 18:35:39 2013 +0200

    Replace cache setting with a trust threshold

commit ed9c6d732bf8ffe1ac8360f6fa3f658bdddc30a8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 24 16:12:40 2013 +0200

    Backpatch static call and jmp branches

commit 18b56385bb5ace82f524a7c680206164de1e2171
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 24 00:09:20 2013 +0200

    Rework code allocation to improve performance

commit de5ebca45be8bc14f4bac512560747751a9c27cb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 18:53:09 2013 +0200

    Move experimental Stalker tests to slow mode

commit 003680286c9827a3eaf694e9cbe5600f6ae82c23
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 18:31:03 2013 +0200

    Remove the unmaintained Tracer
    
    It was an experiment that didn't prove very useful.

commit ba9d740089ef7ed7444c6fdbcd241d38e4024a8f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 18:20:27 2013 +0200

    Adapt Windows build system to the updated build environment

commit b0e36bdfdc5bdf60d910640bbf32d8a7eda98b66
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 13 19:17:11 2013 +0200

    Rename vapi to be consistent with the rest

commit f208acffc8a349258b057ade8d5cdec4e7f7dbec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 13 18:57:36 2013 +0200

    Fix include directory for arch-specific headers

commit ebd32a22e1b000cabed11c3955f8ce13f142e456
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 13 02:55:32 2013 +0200

    Fix build issue when building with helper libs disabled

commit 5e85d3cfd8aef349b9a678a041cf125cc36c7363
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 13 02:55:18 2013 +0200

    Add udis86 package dependency for x86

commit 1d3d999bfc6825161a507082c1c3dc6037dbd555
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 13 02:20:40 2013 +0200

    Rename to frida-gum and remove embedded udis86

commit a8f8b734b937fc2dda3803e972af43909df701cc
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Thu Apr 11 01:09:10 2013 +0200

    Add rest of header files necessary for compiling against udis86

commit d295850c1368626acbcc3d13f0ac160b143df49c
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Thu Apr 11 01:02:05 2013 +0200

    Add udis86.h to list of installed headers; necessary for libfrida-core

commit b134c262970c131ac826464302a8f5265633d95c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 01:31:24 2013 +0200

    Make it possible to run tests for out of tree builds

commit 4aaf746f863cdf1380345283e2f48abb656fd1da
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 21:34:45 2013 +0200

    Don't launch configure from autogen.sh

commit 897c70edc1a01dccf8124365d130e3bd67a330cc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 21:33:39 2013 +0200

    Update gitignore

commit 3e81a96583e1c0e758d86a819d5afee1dd2ad9a2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 21:18:03 2013 +0200

    Explicitly set an aux dir to avoid unreliable autofoo auto-detection

commit bc0210e235471deab9b19d2bf521bf1beebe62e9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 19:14:12 2013 +0200

    Fix autotools deprecation warnings

commit 62a2eb177071e839fae43f5fbd1c064cb8a83a7b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 18 02:29:11 2013 +0100

    Fix warning

commit e72b8326333cac9351ca9b0eca15e4b9d206f349
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 18 02:12:20 2013 +0100

    Take slide into account when calculating text segment base

commit 1c18c1f3e029bcc773021f114cdc184ca4c76a91
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 18 00:29:17 2013 +0100

    Fix 64 bit argument list setup

commit 647c65ceefdda51cf0341cdaf1ebefffafcbe0eb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 18 00:28:58 2013 +0100

    Improve the x86 codewriter's handling of the mov instruction

commit cb5c28f46d082e3a064edcd69bafbfa64e993cdf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 17 18:14:09 2013 +0100

    Add support for code generation of call with more than 4 arguments

commit 2ee693d7fab7e4cf5769a400f18ba24b9238594f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 17 18:13:38 2013 +0100

    Add gum_darwin_cpu_type_from_pid utility function

commit e60979444b8859f25ae5607121d4c14569fd8f5e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 17 01:33:30 2013 +0100

    Fix Darwin ARM build regression

commit 84b9122e10736fa9f35498f7bec3fc06a2bfcb09
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 17 01:22:45 2013 +0100

    Expose gum_process_enumerate_threads's core as gum_darwin_enumerate_threads

commit 96bf9193cf4528abd70516256ee8b97e23845e43
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 16 19:57:01 2013 +0100

    Add gum_darwin_find_entrypoint for finding the entrypoint of a process

commit 462289e99fcb18143556747dd514ac37d8d33af5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 3 17:03:26 2013 +0100

    Add call depth to script invocations
    
    This is essential when hooking APIs that internally call other functions
    from the same public API; where we obviously want to ignore those.

commit 240eede4289f8a0cc34b5562034fefdf05f454d5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 3 17:01:55 2013 +0100

    Fix argument list access beyond the six first arguments on SysV AMD64 ABI

commit ec5bef6a58222b9b8ac66d546f7497b882b83d0a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 17 18:05:03 2013 +0100

    Fix ARM code generation of ADD instruction with high ARM registers

commit 45b6ff6eda173511c0e5deee4cbe2d89737fb2de
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 13 01:14:34 2013 +0100

    Update the FFI ABI mappings

commit b31b116ad3103784ade2993d298478c62933cf8f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 13 00:54:34 2013 +0100

    Fix remaining pointer issues and improve the Memory API

commit 6c147916692c63a8b775c81b4d9ff10e547846eb
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Tue Feb 12 02:00:25 2013 +0100

    Add support for "lossless" 64-bit pointers in the script runtime

commit 7a84601c03a238471b1290c731759ef03220811a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 11 22:42:50 2013 +0100

    Update FFI ABI mappings for 32 bit Windows

commit bd746e45e444d973ee80e59d46cb93cf350cd036
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 11 22:38:58 2013 +0100

    Remove left-over assertion

commit 60e0e0ee9f542e6d17e55ff378087248144d9324
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 11 22:36:47 2013 +0100

    Add libffi to required modules

commit 827d155fb52048bc4843fab87a29ffe0d8beccff
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 11 21:24:55 2013 +0100

    Add NativeFunction() constructor to allow invoking native functions through libffi

commit 237d77891fd84364302dc9d4d7e61bbf88ac01e8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 9 18:11:17 2013 +0100

    Change Stalker's follow_thread test to be exclusive to slow mode on Linux

commit 1d9b556dd286edfd481494940248688c8ceece73
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 9 18:03:04 2013 +0100

    Fix silly test regression

commit 96ceb8343fba69844e658afffa4d2ead9b5e5876
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 9 17:51:22 2013 +0100

    Fix x86_64 assembly typo

commit f3a6842ee67c68e9e601011fb9104495bfa70a29
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 9 01:48:21 2013 +0100

    Port Stalker x86 assembly glue to AT&T syntax to make Clang happy

commit f34d9047187089e49820fd520e1a7f247ab28160
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 8 22:42:39 2013 +0100

    Fix stack address computation in the relocator fixture

commit 8ecfadde995c7d5a34426e0dc15f0feb4ca824f2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 8 22:42:10 2013 +0100

    Make the x86 backtracer unavailable when using Clang for now

commit 009b457d996a24e621ea7e5f27fda1953dd1161f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 4 23:38:42 2013 +0100

    Disable Stalker tests on ARM for now

commit 03e88cf7bc299cb300162da188635273c7c4ff94
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 28 02:20:30 2013 +0100

    Fix Stalker regression on Windows
    
    Return address pointer must be volatile, otherwise the optimizer will
    optimize it out.

commit f210235b5cac03e7d78f01fe7e8458d756c14476
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 28 02:05:53 2013 +0100

    Fix silly C99 issue

commit 3a5925d76d45480b5d23bf1fff8aa4a84b144c4c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 28 01:53:42 2013 +0100

    Add ARM stub for gum_stalker_garbage_collect()

commit 23d81d8c76a24dfb1327a4c6dbdf3c73b31e2a47
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 28 01:41:38 2013 +0100

    Make the Stalker-specific Script tests only run in slow mode

commit e84b9cc9b4283a06ef2ee554a72eb23e050b022f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 28 01:41:24 2013 +0100

    Add garbageCollect() to Script's Stalker API

commit 03fc44c802929e3e84d8074cfb527953f41a13d5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 28 01:40:32 2013 +0100

    Fix test failure on Windows by making Script's UTF16 read predictable

commit b232ddadfcd8548af854c980baf8ad3f8ee647cc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 28 01:38:48 2013 +0100

    Fix Stalker red zone corruption issues by always using a private stack

commit 15bee518b8528334f82d427f6d7cbc56a6625ed8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 28 01:36:52 2013 +0100

    Fix 32-bit specific Relocator warnings

commit 32444b0c37d2ce0efc42a951efce5d412d3b282c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 28 01:36:16 2013 +0100

    Add some more useful instructions to the X86Writer

commit 280eec90937e451adc3a36f891c3d561175dbdd1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 28 01:34:50 2013 +0100

    Update Windows project filters

commit ae34e1cc4b13ce23f84879f677fa3404d70c4ee8
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Tue Jan 22 00:13:53 2013 +0100

    Relaxed const requirement since we write to the expected output variable

commit cce95718e229544e598068118a1e0c7cfe21704d
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Tue Jan 22 00:04:58 2013 +0100

    Add FIXME for possible red zone corruption

commit 425924feb1275ed358a8e73c715d52766dd4382e
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Tue Jan 22 00:03:58 2013 +0100

    Add support for rip relative push in relocator

commit 0a799729f7e47209599b24daa430a224634e3c38
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Mon Jan 21 21:25:20 2013 +0100

    Comment out unused code to prevent unused warning

commit 253e39ee7d79e7aa5ac7ea687b8daab97975aea3
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Mon Jan 21 21:22:31 2013 +0100

    Fix continuation code in gum_process_modify_thread where register optimization would prevent passing conditions across context jump

commit 8a0b838e941982c5b081897eeda2ed98ec93450e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 17 02:48:55 2013 +0100

    Fix Windows regressions

commit be8817b0934abdf3d56727576ab0cb78d8375d4f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jan 15 21:08:01 2013 +0100

    Fix the Mac 64-bit build

commit f1f2d34463b7f473c460cb164efa6cd786a9c033
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jan 15 02:48:41 2013 +0100

    Fix warnings reported by GCC 4.6

commit 71f4812918057abc5a43d26647824d2ae9be2cc3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jan 15 02:48:28 2013 +0100

    Fix Linux backend by filling in the missing thread backend bits

commit 5d7bf6cc29843f9293c41a4ef10c2e8024520e03
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 14 03:23:40 2013 +0100

    Improve Script's Stalker API to support passing a thread id to follow

commit 389ab16dc6b4562325801b40228ef452edea9cdd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 14 03:23:07 2013 +0100

    Add Script API for getting the current thread id

commit 48f1de3742e232dc28b4755d3b2b8bcff1c0f587
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 14 03:03:57 2013 +0100

    Add Script API for enumerating threads

commit 8447a358165e17e7a3e369328cde781e0054645d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 14 02:42:47 2013 +0100

    Improve Stalker to support following and unfollowing any running thread

commit ea66fc1bfaf0a5816169f14ff16340308a65d67f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 14 02:41:10 2013 +0100

    Add API for enumerating and manipulating threads
    
    Only fully implemented by the Darwin backend for now.

commit 6d3a7622c9000479b8f8acd19ce37dc0e36123fb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 13 18:55:48 2013 +0100

    Move process bits out of symbolutil and into its own module

commit dfa02528d0b789e452d0b91c015e86d5e79b5384
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 13 17:17:03 2013 +0100

    Fix Stalker performance test when building with optimizations turned on

commit 51104464c5fd191beeb0da6f77fd7b08b111624e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 13 17:16:29 2013 +0100

    Fix mprotect page boundary handling in UNIX backends
    
    Resulted in random crashes when the Interceptor was trying to
    patch the prologue of functions starting just before a page
    boundary.

commit 39b601f2ae5ae5b77b1feb1d82aab9a3d50f0e97
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 13 04:08:06 2013 +0100

    Fix disassembly debug output

commit 5c338591feefc1b679bc18c340844bc651c83984
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Sun Jan 13 03:00:26 2013 +0100

    Allocate new code blocks near existing blocks to avoid random code length variation due in the code writer due to near/far jumps

commit bb31cb790920d5f302f58c2fcc2b6c4494e48691
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Sun Jan 13 02:09:34 2013 +0100

    Fix name mangling in assembler code across Darwin and Linux toolchains

commit 4740bebf7956c69e76ca35bf0fb197aa62b70b9d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 10 18:16:02 2013 +0000

    Speed up Stalker performance test by tweaking number of repeats

commit 0044f14f07bd3ec113dca67afb58e37db0084123
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 10 16:31:19 2013 +0000

    Improve Stalker's performance by introducing caching support
    
    This is disabled by default and must be explicitly enabled when
    the code is known to be sane and not self-modifying.

commit f1f42ae2d6d5140233761749d9a44a65877039a6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 2 17:01:26 2013 +0100

    Add Script API for adding and removing call probes

commit d7cf4f04e86285a06fbd83b60db1d614b8f140c1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 2 17:00:50 2013 +0100

    Fix ScriptEventSink lifetime issues

commit f78d41593f7d9b6f5bde461e65742a4f804ee84e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 2 17:00:03 2013 +0100

    Flush the main context before deinitializing the test app

commit 3c03628e1765e6ec4002329b2e7df35efc4c70e7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 2 16:59:31 2013 +0100

    Fix stack alignment for call probe callback and preserve all registers

commit 871d4373671b3a45353f245f6b8404c0cb72fd2b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 2 16:56:22 2013 +0100

    Add a destroy notify for the call probe user data

commit 486edb1339accc31ff30ffebc70e2ad050bbee98
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 29 15:34:51 2012 +0100

    Make ScriptEventSink MT-safe by making use of start/stop notifications

commit 2f3572c33ed894827d2af59c7f2290504ce63026
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 29 15:33:42 2012 +0100

    Notify event sink when starting and stopping

commit 388139fd5dc89159c0acc44c43031dcfe93a3c9b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 29 15:33:24 2012 +0100

    Add optional start() and stop() notifications to the EventSink interface

commit 094c1c2603287203e685e8fd75473deeaf96b38c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 29 15:32:03 2012 +0100

    Preserve FPU/MMX/SSE state while stalking

commit d4dcaee9ad1ff843830bb30340b44f08c0db9764
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 29 01:11:17 2012 +0100

    Add basic stalking support to the script runtime

commit b7a8a7b3c214a1b7fbfcc737bc062349fd89c299
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 29 01:10:05 2012 +0100

    Implement handling of sysenter instruction on Mac OS X 32 bit

commit b55b98e6ac58822606830168056a23a1a50bc82f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 29 01:08:55 2012 +0100

    Fix stack alignment when calling GumEventSink process() implementation

commit 34677caac586064da68587bf51c910f26d71d8d8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 25 01:23:05 2012 +0100

    Port the x86 Stalker to UNIX
    
    Basically just AMD64 SysV ABI and stack alignment adjustments.

commit 5012d731137d6ae60165d124d9eb541203d4d013
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 16 00:11:13 2012 +0200

    Move x86 Stalker into backend-x86 and add boilerplate for an ARM Stalker

commit c416bb288a23f1d10fc5c696af02897077bec9b3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 15 17:03:09 2012 +0200

    Restrict replace tests to Windows for now
    
    Suspect there's some FPU state clobbering going on.

commit 93eb7e2cce8638683ed11459aaa69a740b3e483a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 15 16:42:15 2012 +0200

    Add Linux-specific API for enumerating ranges of a foreign process

commit de883f2f3807d5ad365ad995cb2d688b82c23f78
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 9 19:07:18 2012 +0200

    Add a temporary workaround to Interceptor's replace_function test

commit f2444f109057277fbc77bf6940d414d038bb073b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 9 19:04:53 2012 +0200

    Replace Interceptor's GPtrArray usage with GumArray to avoid the system heap

commit 9267bebc13061b814aa071b4efefe5ab09f254e2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 9 19:04:24 2012 +0200

    Bring Linux symbol util backend to the same level as the other backends

commit b407317e9ab950a19f7832f6c185a79fedca0c2c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 9 19:03:17 2012 +0200

    Update system module name for Linux

commit ec4fd2b4ff1976c4eed3ad82d89a617071ef0834
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 8 21:18:44 2012 +0200

    Fix gum_darwin_enumerate_exports by taking slide into account

commit 47dbcdc1f49a5796c21ef18a82f9cc74f56ab5ba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 8 21:18:11 2012 +0200

    Only enable S64/U64 invalid read tests for 64 bit builds

commit 56ff08a0f2501b406d8aea95e952c76ad5d92cb7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 8 21:17:31 2012 +0200

    Use rsync for transferring files

commit 69a34ad19e3f8386a7f83d466ec34eff84d2eb9e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 7 00:28:28 2012 +0200

    Trap read errors during memory scan to avoid crashing the host process

commit 1176ee2ea1630f6a11fea23c3a6abe05e2aad1a0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 7 00:27:24 2012 +0200

    Fix a couple of scope/context and cleanup issues

commit b37c5ac161c55f5ac23221aad4939aea096a4655
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 7 00:25:07 2012 +0200

    Avoid sigsetjmp on Darwin
    
    It's not necessary on that OS and causes issues on iOS/ARM.

commit 160eaa71eca8147827da8b7f37afc936f4ab484d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 7 00:20:37 2012 +0200

    Fix Script leak in test fixture

commit 0cab4c5231589f51dbda7711de71978518759928
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 5 02:29:26 2012 +0200

    Expose architecture and platform on the Process object

commit f957f7844b7db23dfd786c2de8069284f3f6b8f6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 5 02:01:52 2012 +0200

    Fix socket type detection for bound sockets

commit b83ea659655b7ba8e5088e76849eca53c481c6c8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 5 00:04:46 2012 +0200

    Fix invalid statement
    
    Weird that clang let this one pass but not MSVC.

commit fa2cb876e84ba2e8bf6987f4e3fa53c4d4462f0a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 4 23:44:04 2012 +0200

    Add some missing pieces to the Script API

commit f93df465098a3a0cf1a9f9e24f156577b7e754b5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 4 23:42:50 2012 +0200

    Fix signal handler infinite loop on unexpected crashes

commit 73bbf709cff4cfe674ef6b930a0bb92d95633fe8
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Tue Sep 4 00:06:47 2012 +0200

    Disable guessing Unix sockets for Linux

commit 3e2987649d1026668a6aeb2d9e2734c416ed4762
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 3 01:15:15 2012 +0200

    Fix Script UNIX regressions

commit 6becae44d43666fdb1584aac3c85c7d155525435
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 3 00:59:28 2012 +0200

    Fix Script regressions on Windows
    
    Breaking UNIX on purpose, need some further adjustments there.

commit 5f841b247e20474d98c76cfba8eba7c0db544400
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 3 00:56:36 2012 +0200

    Add missing HandleScope to array free callback

commit 18de409f6f11e893b1652119da41b3e5ac98ac06
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 2 17:13:43 2012 +0200

    Add preliminary UNIX address inspection support

commit a65fa62926ef0e15a7e438b311bd68fe01a94c54
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 2 16:46:07 2012 +0200

    Add Socket.localAddress() and Socket.peerAddress() for further inspection

commit c55a976754e54b5587f768c45f8790048c78db6f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 2 16:43:02 2012 +0200

    Preserve errno across Interceptor's on_enter and on_leave callbacks

commit bcc468bb4104e98faed19f84751a5251c7911e21
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 2 02:05:35 2012 +0200

    Add Socket.type() for querying for socket type

commit 81d9315f88b450c6c1d0913edfd2af805ea9ed89
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 1 23:16:58 2012 +0200

    Fix Linux build issues

commit 918ae0e9894678887717a29e5fde2893a8853527
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 1 23:16:14 2012 +0200

    Make libbfd optional regardless

commit fd2dad1b8723e57cde1d1bcecfb55b2184a1e054
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 1 23:15:15 2012 +0200

    Use sigsetjmp on UNIX
    
    Otherwise the old signal mask may be restored after the first trigger.

commit 93f8716cb1f060af59cbecd57ee2b9926ad3b079
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 1 22:51:17 2012 +0200

    Provide per-invocation storage across onEnter/onLeave calls

commit 99e9b02ae8b6b0fe68f313122a9519cb584e1a50
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 25 20:01:45 2012 +0200

    Fix minor test regression in symbol lookup test

commit 2f31f8d2a26a7ff521102d0f31c3358a306adc9d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 25 15:38:53 2012 +0200

    Fix another Mac reference

commit 7bf6b03e13b64a8a35e4854d8dd1a94be999ed57
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 25 15:36:54 2012 +0200

    Adjust Mac wording

commit d5a188c78a3c2a68cd0ea637b435d7d06ee8895a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 25 15:32:43 2012 +0200

    Rename OS X references to Mac

commit 4b0e472710cdabb41dc0b1364debf1574a3901c4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 24 21:34:26 2012 +0200

    Add Memory.readByteArray()

commit d850e2593d5b5086e23976cf4f45fbe8d0cd1bec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 1 00:38:42 2012 +0200

    Fix GumScript exception handler for trapping write exceptions on Windows

commit c8e01caedbe3fb61b98a78d03b379b71f7cd33d7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 1 00:38:18 2012 +0200

    Fix Windows build regressions

commit f867f630e4c00d049d30301010d487313b0ca8fa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 1 00:36:32 2012 +0200

    Adjust code-signing parameters for consistency with Developer ID

commit 473ed7c5876c8a514342be6e03eeab43d461286f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 20:19:54 2012 +0200

    Shut down V8 when Gum is deinitialized
    
    Also pre-initialize it because we can.

commit 929708f88e90eed9cf2129332f5648a34749a433
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 20:19:13 2012 +0200

    Switch off Obj-C dependent code by default
    
    Including Obj-C code in a library means that the Obj-C runtime will block
    the shared library from ever being unloaded. This is obviously very bad
    when Gum is embedded in a payload that is injected into existing
    processes.

commit d1b0ffbcc321e0f7f0491bee47d3ec9900116a0c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@soundrop.com>
Date:   Sun Jul 29 02:20:45 2012 +0200

    Fix vapi

commit 7cc53c318cc4af50009a0302dbc5c030bbf47ddc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@soundrop.com>
Date:   Sun Jul 29 02:16:28 2012 +0200

    Fix warnings emitted by GCC for 32 bit builds

commit c798ec075f7e86b1a65fee813b05fc00c88242df
Author: Ole André Vadla Ravnås <ole.andre.ravnas@soundrop.com>
Date:   Sun Jul 29 02:09:42 2012 +0200

    Silence make when codesign fails

commit 6a9d6123cafc5d1727a407d0a970b1de9a4888af
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jul 28 23:34:30 2012 +0200

    Improve memory and symbolutils APIs
    
    Also add some Darwin-specific utility API.

commit 1db4b715d6f842eaa14bbdfd27ccbfaeb2d69862
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 16 03:39:06 2012 +0200

    Fix out of tree build.

commit 525660683a2d4ea5a47038b5f4aa194aafd92b99
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 26 01:09:12 2012 +0200

    Change Script runtime to trap SIGBUS on OS X/32. Ick.

commit 3b1bc321ea4b10fa0f830339d92c3edd050475cb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 25 23:56:37 2012 +0200

    Handle cdecl name mangling in Darwin backend.

commit 9416addd6e11079e4d6aaddc8d5256edf3c0e6f7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 24 07:22:51 2012 +0100

    Fix OS X check in configure.ac.

commit 7cc64004dcc2b71bf95676404dac086e0bf415fd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 24 02:10:39 2012 +0100

    Bring back libstdc++ dependency for now.

commit f7cd3f11e4a8ff2390bcf2e8c7f7ff70a66c64fa
Merge: ba26cc07 2ebd2b38
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 14 02:51:54 2012 +0100

    Merge remote-tracking branch 'ieei/darwin_x86_64'

commit ba26cc0718e3803deb916d682b6716151aa44318
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 14 02:50:46 2012 +0100

    Fix Android check-gdb target.

commit dc9c7f77cbef5f63cb34b51fcb5632eace8aaf20
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 14 02:50:34 2012 +0100

    Remove libstdc++ and adjust so build environment may add such flags.

commit 4a8486bd634885a1af57ba27920d04168cfd2774
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 13 03:20:48 2012 +0100

    Fix V8 automake conditional.

commit 176ccba1d6748eca233ae4e2ef0ab82bf4a2726d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 11 00:15:20 2012 +0100

    Disable module base and export tests for Linux backend for now.

commit ff826dd1cb025fc72f4a697874b867cf53a024af
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 11 00:14:56 2012 +0100

    Don't build gumpp for Android.

commit e2ef55dc3982ee72e73454fcbe669a23199c3386
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 11 00:14:17 2012 +0100

    Adjust Android Makefile rules to not depend on busybox.

commit 2ebd2b382d28d6011d3153465b1fc935d4b967b6
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Feb 7 17:49:48 2012 +0100

    Add Gum NS/Cocoa backtracer.

commit 1ebf7ddc0bc82b5ca7e8eb514492314949b18a66
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Feb 7 15:10:31 2012 +0100

    Fix darwin symbolutil by not requiring source info, only symbole info.

commit 8536bd2e1f7c6dc9a32632c4781ed6c125d27f4f
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Mon Feb 6 17:54:22 2012 +0100

    Make pointers volatile so that GCC doesn't optimize out malloc/free calls.

commit 7d6a71862c6d735621b15352408c087c299c0044
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Mon Feb 6 17:42:33 2012 +0100

    Only enable Gum.Script support when v8 is present.

commit 5154841d7e573a8e723ec5dc64dd4ebdcbeaf8c0
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Mon Feb 6 16:09:46 2012 +0100

    Add .gitignore based on Mercurial ignores.

commit 272414bf7f55dbddd151badfad1acc2a06ae7d5f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 23 14:29:37 2011 +0200

    Make Memory.scan() asynchronous.

commit a9bbc459be8337a1dfa8da3f456982ff335b177e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 23 13:46:44 2011 +0200

    Add basic Memory.write support to Script engine.

commit b10043daaf03759fafcdc80b334142f627481ed2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 23 01:20:30 2011 +0200

    Watch out for the appropriate memory access signal on iOS also.
    
    iOS < 5.0 used to signal SIGBUS here, but starting with 5.0 it is
    finally SIGSEGV like on OS X.

commit 95b9a04bf85ef798439e412e83f59dfd489801ee
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 23 01:18:05 2011 +0200

    Add workaround for unavailable header in iOS 5.0 SDK.

commit 0713b4b77be5edbbd966bf9e80ce48a51d8e77e1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 23 01:13:04 2011 +0200

    Add Gum.Script support for enumerating process memory ranges and scanning memory for pattern.

commit 05e0739d625ca29a54f61865359719716e2bf808
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Oct 19 14:31:45 2011 +0200

    Fix Memory.readUtf16String() on Darwin/Unix.

commit 551eb236241166b54b4ae6d63c919fa647ef5137
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Oct 19 14:30:21 2011 +0200

    Fix OS X detection of Lion.

commit 15a85e4666d141fae745f685a9a5c21bb336a1d8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 5 03:01:29 2011 +0200

    Add Int32() typically used for casting signed arguments.

commit 244601b2b5cf59537fbfc6f6f7cf7770cca8f52d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 5 02:39:12 2011 +0200

    Adjust Script string functions to return null for read*String(0).

commit 2d9ce576df02b91bd145e6508f0cba82fc0bcdcb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 5 02:30:21 2011 +0200

    Add Script support for reading strings that aren't NUL-terminated.
    
    Also improve unicode handling and robustness.

commit 3b35543678be93bccbd879f55159b665535c1721
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 5 00:57:11 2011 +0200

    Add Script.post_message() to vapi.

commit 94d20056f1b363fdd067abd7f8ce6f2bcff4189d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 5 00:05:57 2011 +0200

    Make vapi parameter name match the canonical name.

commit 4810cf53a71ccfc45fcfc973921e0cec499f00bb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 3 18:51:03 2011 +0200

    Update Windows build system to use new toolchain and SDK.

commit 677e9b8ae52a2dbcab864f530a46484c78ef152e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 21:57:37 2011 +0200

    Include extra libraries in .pc to get rid of build system hacks.

commit 1608a7915bd7041993aa9c15f52d9516d27f8179
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 16:49:01 2011 +0200

    Fix Windows Release build regressions.

commit b0098584d18cf15d6dad4d1db6414fd0d97f8b78
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 16:43:06 2011 +0200

    Fix Windows regression.

commit 208ab74d5cbad207b06f80970e8b551fe6b0b6d8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 16:01:53 2011 +0200

    Adjust invalid memory address so it is aligned on a 16 byte boundary.

commit aba16caf38ed70a2bb0199786d6d6043486ef3c5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 16:01:18 2011 +0200

    Trap SIGBUS on Darwin/ARM, SIGSEGV on others.
    
    All Script tests green on Darwin/x64.

commit 94725936f1fb620a830b5e2c9314c27156a996b6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 02:20:34 2011 +0200

    Fix format strings used for pointers to be 64 bit compatible.

commit d1f3085f42816733d4837be8bbd944b81f1266f1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 01:21:08 2011 +0200

    Remove module ranges are within module regin test.
    
    Doesn't seem to be the case on Darwin/x64 as some mappings may be placed before the module header in memory. Could need some further investigation though.

commit 26fe1d6745f205100156c4741efeece99d9ad7ff
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 01:13:57 2011 +0200

    Fix Darwin module exports enumeration for x64.

commit b22f5077f9faa503408da7e89a44f6e00cadeaa9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 20 18:29:13 2011 +0200

    Add missing file and remove trailing whitespace.

commit 0fb7b104c13c843b364c3827502199dc2a706403
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 20 17:52:17 2011 +0200

    Set code RX on x86 also, and clear CPU cache for consistency.

commit 8fc82c6ddbd8eefa9f9ee399c005708c49ca104b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 20 17:51:52 2011 +0200

    Clear CPU cache in Closure's ARM backend.

commit a3f462e413170391b3b8a144728b31c668c4f233
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 20 17:43:27 2011 +0200

    Implement gum_clear_cache() in Darwin backend and remove g_usleep() hack.

commit c29a41f74c56cdcb985541abff256879d80cf58a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 20 17:42:32 2011 +0200

    Remove left-over prototype.

commit 30a3f629380a4eeb8ee04cb72928c44121f69156
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 20 17:21:21 2011 +0200

    Make it possible to wait for recv() to complete.

commit 4c4d807b63c290d03f1cb0541448cb507301945f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 20 13:46:08 2011 +0200

    Implement message handling and filtering in js runtime.
    
    Also add console.log() for debugging purposes.

commit 79909ee5971e3d4cfabbf0ec09877b475035ed2f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 20 12:12:56 2011 +0200

    Move Script runtime out and generate it from CoffeeScript.

commit af377208fd61fe1d7c71d8dc8712889504ce1753
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 19 15:43:19 2011 +0200

    Fix Script UNIX regressions by porting access guard logic.

commit e472cfd5e803732579965f2171b98e88d6e1ad2f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 19 15:33:53 2011 +0200

    Make COMPILE_AND_LOAD_SCRIPT macro GCC compatible.

commit a7e969aa5878e5f7a8e320f9ba117df11b6691c2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 19 15:33:32 2011 +0200

    Only try memory access of address at 4 byte boundary.
    
    Otherwise we cannot reliably check the error message on ARM.

commit 9973cf26de3b5099bbbf062669862418b29f82cf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 19 00:08:01 2011 +0200

    Add first draft of test for recv() with message type specified.

commit 9cebb744a69045a0511ffa35f267a700f2f18f81
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 18 22:06:27 2011 +0200

    Implement message posting and reception.

commit bad2c7a36d14aca79bfee68717760cda2e9a6140
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 18 15:51:17 2011 +0200

    Add failing test and skeleton implementation for recv(), and isolated test for send().

commit 8e8ccdfb32e626e5fee3a7b0f9e0d70684be5c71
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 18 13:15:48 2011 +0200

    Trap invalid memory access and throw JavaScript exception.

commit 2fb5a5875afb6d0a4e108ac804fbc6705781599a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 18 10:19:17 2011 +0200

    Implement allocation of UTF-16 and ANSI strings also.

commit 6b21b24e4f9805bfde3630faa1cd7bc7a6c64535
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 14 03:37:02 2011 +0200

    Update .pc.in to reflect new dependencies.

commit 9d8c88a7fed32200e0b36f1660fc3cf3d58d5e1a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 14 03:28:26 2011 +0200

    Add v8 to list of required packages.

commit 52230832e89253d9cd503fa8f1c21c80f67d8405
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 14 03:12:05 2011 +0200

    Add support for replacing arguments and allocating UTF-8 strings.

commit b85a096312fc5a0e5eace030ad178a9ec5277d03
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 17:50:33 2011 +0200

    Update Gum.Script vapi.

commit 7abc21d9db39fa319b313178d10a8ffa716928cc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 17:47:49 2011 +0200

    Add Process.findModuleExportByName().

commit 1c8c3a0ec9e3e1f361927ad6fb043b8a9d6c4d34
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 17:15:03 2011 +0200

    Add Memory.readAnsiString() for Windows.

commit f6254eca370ed03bf0ea3e551557ac3c01c2cfcc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 17:01:15 2011 +0200

    Rename argument and return value read tests to be clearer.

commit 87f64278432b1126afb7e1e463480b891b289583
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 16:59:26 2011 +0200

    Add Memory.readSWord() and Memory.readUWord().

commit 55bb257b3498fb6fddf96ba84818f04ff9895e6e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 16:52:35 2011 +0200

    Add Memory.readS64() and Memory.readU64().

commit f419bbd2d7f2bbdd41a0abe139990896f88a3391
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 16:46:34 2011 +0200

    Add Memory.readS32() and Memory.readU32().

commit 0819dfd896260b4ceb06089cf1f925617dc9f854
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 16:42:52 2011 +0200

    Add Memory.readS16() and Memory.readU16().

commit 28297720afa2b4f95018bda4bcbb45e4b1afd75b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 16:36:10 2011 +0200

    Add Memory.readS8().

commit 5a4893e34df94f038212c47bee0073a8e79133c0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 16:31:44 2011 +0200

    Add Memory.readU8() and also add test coverage for Memory.readUtf*().

commit e733b0562ca3ddfa7771e44d548af7581c0ef368
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 16:04:58 2011 +0200

    Add support for onLeave and refactor Script tests.

commit 3a7acb8e3f15d482602c9cfec249ffda055051e7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 15:05:11 2011 +0200

    Finish implementing onEnter argument access.

commit bb3d97942d8ff013e9436692de3ebc329d264eae
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 12:02:39 2011 +0200

    Invoke onEnter callback.
    
    Argument list is still fake though.

commit abbac053679fcb0752ff289651b4438e866bb497
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 12 15:28:49 2011 +0200

    Start redesigning the Script API and behaviour.

commit 373fd1731f5b0308a6c01f26839ff4019ce9b76a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 12 12:45:15 2011 +0200

    Remove redundant unused argument suppression statement.

commit 6d66c7682b96048bcd291bc744cf19d6f8b8b1b4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 12 12:34:26 2011 +0200

    Add support for reading utf8 strings from memory.

commit 8eafdf0dfb433aed563dee0358ad683133b50c7c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 12 12:19:11 2011 +0200

    Add support for reading utf16 strings from memory.

commit 1c9f8a45c52f8c686445050b2362702a399b973b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 12 11:47:25 2011 +0200

    Add basic support for accessing argument list.

commit 79c4d7807a06891448fe257a0758c4e30a1f35ba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 12 11:19:53 2011 +0200

    Handle runtime errors and deliver as message with line number and description.

commit 449c5fd2388afb23180955c0bcb1037a3d19dffc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 12 11:04:59 2011 +0200

    Update copyright header.

commit 1f85af6e3864d27fe44e45d91b342c7fb8603c35
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 12 11:01:58 2011 +0200

    Box messages sent by send() so other message types can be added later.

commit d2717db46cf90e15954cc171c1bdae32a8511de3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 12 02:14:54 2011 +0200

    Implement send() so scripts can send strings.

commit 694d0b50fdd62d58a7241221ebc690f994be5f69
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 12 00:23:49 2011 +0200

    Start rewriting GumScript to use Google V8

commit ad6af23051e812dab8893caf595914774d2ca0c1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 11 23:36:55 2011 +0200

    Explicitly link against gum-32.lib or gum-64.lib depending on Platform.

commit 06097ad3d5541fd8189a85016798a0998ccdcf0a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 7 03:23:27 2011 +0200

    Add ARM backend for GumClosure.

commit 8892712488ba5f913fa002a6a3fe304ddbddce37
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 7 03:22:48 2011 +0200

    Add GumClosure files to UNIX build system.

commit d808967155a505ac3473baf4b34052c67d0ae712
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 7 01:36:31 2011 +0200

    Fix module ranges enumeration by taking vmaddr_slide into account.

commit d08c10e81dc36c9047f21a0c4b523c069153020f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 7 01:07:22 2011 +0200

    Fix module exports enumeration by taking vmaddr_slide into account.

commit a8fad1bee9b65df5472c36bafc8cde7a5b7fda2d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 7 00:57:43 2011 +0200

    Follow LC_REEXPORT_DYLIB and implement export by name lookup.

commit 8e035ed31f7ad83251b553af59ccd4ad50a39d82
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 6 23:07:28 2011 +0200

    Don't build C++ bindings on iOS for now.

commit 6f8cef5fab267031765f00d14dfa2507b15fd8d4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 6 23:07:13 2011 +0200

    Fix GumCallingConvention typedef for C++ bindings.

commit 88ce63d213f29104265fa0897f7da33d063aaff0
Author: Ole AndrÃ© Vadla RavnÃ¥s <oleavr@gmail.com>
Date:   Fri Feb 18 14:45:09 2011 +0100

    Revise Closure API to make bindings easier, and add vapi coverage.

commit d75ecddd6ff0cd9284b27340e53d777c974bd500
Author: Ole AndrÃ© Vadla RavnÃ¥s <oleavr@gmail.com>
Date:   Fri Feb 18 10:33:06 2011 +0100

    Introduce GumClosure for calling arbitrary functions in memory.

commit 6c522d1d52c5287f7af85f9f4fec4303758605ff
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 17 20:23:49 2011 +0100

    Add gum_module_find_base_address and extend test coverage a bit.

commit ce89320bf2213da03eeb02b4742b376e1c4c0f18
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Feb 13 14:15:05 2011 +0100

    Remove explicit FixedBaseAddress=false as this is now the default, as it should be.

commit f064d065e4278368d9287d516779f4569b3bb987
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 12 15:44:55 2011 +0100

    Clean up the conditional jump API mess, and add support for near JCCs.

commit d800b5cc4be345a67cbd7afa5565c982b0d88fac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 4 19:06:01 2011 +0100

    Add first draft of breakpoint support.
    
    Patch by: Haakon Sporsheim <haakon.sporsheim@gmail.com>

commit 2eb32a6f5203291f0d3eab18fd5f6e5b6b321306
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 3 20:29:14 2011 +0100

    Handle _gum_symbol_util_deinit being called multiple times.

commit f6ca592580533bffb9c0c6c032ba997b19e8a241
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 3 19:46:09 2011 +0100

    Build gumpp on all platforms, but fail to create BusyCycleSampler on some.

commit 68530cbcf755305b687c9c07e6e49b75b9049858
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Thu Feb 3 13:49:06 2011 +0100

    Use libc.so as test library for Android in /Core/SymbolUtil tests.

commit 0845cc6a8f4c446dd42ff9c5ee94ae6dd2c4cf2b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 3 01:58:07 2011 +0100

    Use an appropriate start address.

commit ea0793ba82da01756059ea1f2459060cd0b88658
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 3 01:50:45 2011 +0100

    Implement gum_module_enumerate_ranges in Linux backend.

commit 0433a471cc95c6f41f96a9914ece71ddcf5391e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 3 01:38:58 2011 +0100

    Implement gum_module_enumerate_exports in Linux backend.

commit 32b5146334e001a5303408b1377a45c14e91f2e0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 2 22:39:51 2011 +0100

    Implement gum_process_enumerate_ranges in Linux backend.

commit 2200c4b93b4aad08c1e6fecbf67591b49d5f267b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 2 22:29:25 2011 +0100

    Implement gum_process_enumerate_modules in Linux backend.

commit 461752798a3a67940c3f17606f31fe1a76d40b58
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 2 19:56:45 2011 +0100

    Add missing include.

commit 3d470c53857ea45fae9d743742a9a4aa76096239
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 2 14:29:13 2011 +0100

    Add stub implementation of gum_clear_cache in Darwin backend.

commit 81086a4448bc09213d19db818afe95b652c96b12
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 2 04:21:08 2011 +0100

    Implement gum_clear_cache on Windows.

commit 6926a4ddc8609a2070e5a71cdf55b538bf1973b5
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Feb 2 04:12:49 2011 +0100

    Add missing symbol util stubs in linux backend.

commit 0039740e36a80c43fb0d9eb977fe1980ef6932e6
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Feb 2 01:26:41 2011 +0100

    Make use of gum_clear_cache.

commit c4cb8a4c885caeb656cf875dad16ea213a001915
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Feb 2 01:25:37 2011 +0100

    Add gum_clear_cache for clearing instruction cache.

commit 28cc56fcf5bf637b2dca3fdbdabccf0f799b64d3
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Feb 2 01:21:34 2011 +0100

    Dont build gumgccbacktracer for Android.

commit e4a91a4fbd56c54a681b4ab23e7cdc4b5b7d915e
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Feb 2 01:19:47 2011 +0100

    Improve Android build environment.

commit 31897173d235812f0905f43a4fa1fb364df9e3b1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Feb 1 12:09:06 2011 +0100

    Loosen up Backtracer GUM++ test on Mac.

commit c6b8866b2e4e71d70a26b86c77646ec17c9a960e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Feb 1 12:07:35 2011 +0100

    Get data dir even when libtool has generated a wrapper script and put us in a .libs subdir.

commit 7dee0f38361f86904bafa06c42bfad105ec9a6ee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 31 17:28:02 2011 +0100

    Fix UNIX build.

commit f71e133104305676ea92f1e13ca984035e04644b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 31 17:04:51 2011 +0100

    Add wrapping for Backtracer and ReturnAddress, and some gumpp test coverage.

commit d9af5b4e4f742bb75c17231b734fe37919b1def1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 31 13:42:14 2011 +0100

    Update ARM backend to match new internal API.

commit dfef653715e087b09671f322d802ed3f95de243f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 31 13:33:43 2011 +0100

    No bindings on iOS for now.

commit 5a3be8e49b5ba26bfcf6d3be8224c5e40efb94dd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 31 13:18:39 2011 +0100

    Fix stack alignment on ia32.

commit 23ec39dda1005f2b3ebe3bc61db0e45b24d4a4ae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 31 13:05:42 2011 +0100

    Tweak return address trickery so stack looks normal to listeners on_enter and on_leave.

commit 93ac65f870eba9b14d4bd024583ee71817d661c7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 31 13:04:31 2011 +0100

    Add support for Darwin's libc.

commit c0dfb9c6bb38da29cfbd0cf5dcdb55eeb66eba96
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 28 19:28:43 2011 +0100

    Fix silly Windows regression.

commit 41a0cdea5440a11483409ec592669c6fad5d8c9f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 28 17:52:43 2011 +0100

    Only export public gumpp symbols.

commit e0a6375d0d533887f1e1ef63b50ee9c5fa9e3853
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 28 15:31:45 2011 +0100

    Add and install pkg-config for gumpp.

commit f9730e8b0728696065ec9d4c985fa2dfbfa8bff9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 28 15:23:48 2011 +0100

    Build gumpp on UNIX also, fix GCC compilation and port BusyCycleSampler to Darwin.

commit e3051494ad2a7ec2b4ba28bac2758b8d197123d5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 20:23:46 2011 +0100

    Disable symbol backend code entirely when building without it.

commit 5aa1840518ddf86060acb0d49aa95b2733561954
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 20:17:58 2011 +0100

    Fix iOS build and disable symbol and backtrace support there for now.

commit e1c8eee01f8c9cced95d24ed4538ee74ba832ae9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 19:53:13 2011 +0100

    Pick a register that doesn't get clobbered with any ABI.

commit 30c313ac1249d8b1b4e4bce4426ec3f02b19df3d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 19:47:01 2011 +0100

    Bump slice size.

commit 4404d790b665097680d88cbd855a2ba820cecbae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 19:43:51 2011 +0100

    Fix warning reported by MSVC.

commit ac6ae1b929426d98babad9a033a03534145b1633
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 19:41:57 2011 +0100

    Fix register clash on Windows.

commit e7df0e755c58dc24287c25f13844390ada4513b0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 19:33:59 2011 +0100

    Fix stack alignment on amd64.

commit 3a30b48c408390bbb1430c10c98fb6bae09893c7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 18:45:06 2011 +0100

    Implement relocation of call-next-instruction on amd64 also.

commit 5173789fe8773b9055d92ba8852e7192d1bd3cb1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 18:38:55 2011 +0100

    Add amd64 portion of call_near_relative_to_next_instruction.

commit 991ad072b8694190fefad2ce417e59ddae7e3001
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 18:21:51 2011 +0100

    Fix stack alignment in on_leave() in case of stdcall.

commit 19f80b7a146b670407f2ca9a3088870fa5e5e5d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 16:50:11 2011 +0100

    Rewrite call-to-next-instruction so Interceptor supports typical PIC functions.

commit ad2a668045cc7b7352643b369d54e046ae7f8ae4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 16:19:08 2011 +0100

    Most tests green on OS X/ia32.

commit b1373dfab2938f04db1f9fcaaa14704d980fd544
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 14:29:24 2011 +0100

    Only reserve space for register spill on amd64/Windows ABI.

commit 9eca7f33c51e9bc0ffa7ca2b03e35c630637a9b3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 14:04:08 2011 +0100

    Fix warnings reported by GCC on OS X/ia32.

commit b122f64b7a45a405fa9204956e891ff35de093bb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 13:35:59 2011 +0100

    Fix regressions on Windows/amd64.

commit e49d0b145fb5a1243ae0f5632bb13b2360e2eecd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 12:41:46 2011 +0100

    Fix leak.

commit cdc294e332740e1de2757de04e1d1bb3c0ffb00f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 12:26:13 2011 +0100

    Optimize tests and make AllocatorProbe init faster by extending SymbolUtil API.

commit 7dee50bd8113f45db2f506a6f5fef15da5473bc2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 27 11:48:31 2011 +0100

    Dramatically speed up Darwin backend's gum_alloc_n_pages_near().

commit 8e11f38e2139f41578515b1e2d71014958ead6ad
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 26 19:49:30 2011 +0100

    Loosen up on the backtracer tests on non-Windows for now.

commit c395c256013f15dc6c96a93b31b7c839400a040e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 26 19:41:55 2011 +0100

    Revert back to generic x86 backtracer.

commit 0ae39c4da01b9af894e30fa2cc78203429a9b4ab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 26 17:25:24 2011 +0100

    Add experimental libgcc-based backtracer.

commit 92ac1caf5401a51f16a60ba778f8f577158a8a5b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 26 15:06:40 2011 +0100

    Improve test resilience to OS threads invoking APIs, and fix BoundsChecker-related tests on Mac.

commit 9bbfb7d8e94ffde7e202001e4125adb45cf1d93c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 26 13:12:54 2011 +0100

    Add Interceptor API for ignoring other threads, and rename existing ignore current thread API for consistency.

commit 03f4abc16deb6d08521c321956facc6fe777f5b3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 22:42:55 2011 +0100

    Fix warnings when building with MSVC.

commit 94e51e34cfaa323c94b884e64097e4447bae75d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 21:21:33 2011 +0100

    Fix CycleSampler on amd64 System V ABI.

commit e8af63fce327758464cd402bce585802d16f7b82
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 21:21:02 2011 +0100

    Make ia32 mapping consistent with the rest.

commit c73d0b5dc6f3aceb460f9873aa8042c485dc1673
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 21:10:35 2011 +0100

    Fix distance calculation (oops).

commit bef3f7c95da61baaf146616302591ccf00e92a9d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 21:09:52 2011 +0100

    Assert that we never write more than expected.

commit b3e9fdbef1a25889f39019185cf67acd7d2ab598
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 20:09:46 2011 +0100

    Enable heap access counter on all OSes.

commit d936d37ecd7c8c4002daa57ab044a2b68aeec5de
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 20:07:44 2011 +0100

    Implement remainder of SymbolUtil backend on Darwin. All SymbolUtil tests green.

commit 00a187b70a98b22feb95530afc031f3dae75ffc8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 19:22:54 2011 +0100

    Backtracer basics test green on OS X/amd64.

commit 758a084049ae2a6c583545f9713081a13ef48810
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 19:22:21 2011 +0100

    Add and adapt headers for additional Symbolication parts that we need.

commit 2168be4d5fe34a72beb17c2e6d16f2f1dc8bc2cc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 16:38:31 2011 +0100

    Turn Darwin symbolutil backend into Obj-C.

commit 2b28597feb21a4e13d915e49bb24bd1522da0a4b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 16:37:48 2011 +0100

    Add VMUSymbolicator header generated by class-dump.

commit 458c6e98a10731185d5b0c5b10764de0709efb70
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 16:06:23 2011 +0100

    Fix up X86Backtracer so it builds and runs.

commit 223773ffb0c805d5f97c879a8c556be5ca9b5bba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 15:19:39 2011 +0100

    Enable backtracer tests for all platforms.

commit 70aed598596a801b5edde29cfd5187801324a8dd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 15:19:18 2011 +0100

    Use X86Backtracer on x86.

commit 880eb3218a7b74cb745d6ec7486fd6cccde1f1a4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 25 15:17:53 2011 +0100

    Rename GenericBacktracer to X86Backtracer and move it where it belongs.

commit aedcf42ce693c9e7df5a3faded2484c1a0edc5be
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 21 23:51:39 2011 +0100

    Add Script support for sending GUID, and handle invalid scripts.

commit 8b65487dc427dc61360e164952a89543bded8851
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 21 22:55:24 2011 +0100

    All tests green on Windows.

commit 0a2531599e99ffb5c75a4f239dad2e94a70c7aa6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 21 22:37:09 2011 +0100

    Fix warning.

commit c421b312257d5a507de3966f317084c3cc8cc910
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Jan 19 01:53:09 2011 +0100

    Apply similar sleep hack to UNIX backend's mprotect() and update comments.

commit 107e34e45ecce7e7c8dee4ad6bf9cf006cd94c7f
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Jan 19 01:51:58 2011 +0100

    Also disable backtracer, heap and prof tests on Android for now.

commit 6078ed52e13a3d8928dd0cf283c6ed7ad21564bb
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Jan 19 01:51:31 2011 +0100

    Use RTLD_NOW for now, until Interceptor handles PIC trampolines.

commit 2c02f8beb190ddbab739f0ffeec774fb65e663aa
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Jan 19 01:49:42 2011 +0100

    Fix relocation of LDRPC, was missing a de-reference.

commit 180b2187bdbb44aa3bce13a7e62605fb2e176557
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Jan 19 00:22:48 2011 +0100

    Tweak compiler flags and add targets for Android remote debugging.

commit f0dcebe8532dd7d99bf46aead0ac344b12dffa10
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Jan 18 21:12:06 2011 +0100

    Add work in progress deploy/check target for Android.

commit f0cb6b94d88644d18eaa00d042929337cf6326b9
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Jan 18 21:11:17 2011 +0100

    Add Interceptor crash testing libraries for Android.

commit 61204dd1ea2b48e32884fa3e08c8693a5a988290
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Jan 18 19:54:45 2011 +0100

    Disable x86 and glibc dependent code on other archs/libcs.

commit 4ff6450bb35968704757f835128157760fed4510
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Jan 18 19:41:29 2011 +0100

    Handle libc with mallinfo struct, like on Android.

commit 634f0e8603ae0eaff6f3a6d14f9c92395285032d
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Jan 18 19:29:39 2011 +0100

    Only build glibc backtracer when libc is actually glibc.

commit c90d40f01aaa069702fc0511e12cf9964c478bc3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 13 20:15:56 2011 +0100

    All tests green on Mac OS X/amd64.

commit 36346fd8e7e374a5faad9c359aee2e0ab23739e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 11 02:22:04 2011 +0100

    Revive a bit more tests on Linux/amd64.

commit 26410e91980bd7918cb3cc7f6539df4225087d72
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 10 17:35:25 2011 +0100

    Fix silly MSVC/Windows regressions.

commit da598de8dd5cc4f3bc49363bd2f957aa53ab08e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 10 00:55:10 2011 +0100

    Optimize UNIX backend implementation of gum_alloc_n_pages_near.
    
    Instead of walking page by page from the near_address we now instead iterate
    over unmapped ranges and consider both ends of each if close enough.

commit d2fd866cba59b0a7129401f07781d98642951e14
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 9 18:30:19 2011 +0100

    All Script tests green on Linux/amd64!

commit 58874afe8213dbaf9fbf58c01f10cc53aea8ce60
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 8 17:27:04 2011 +0100

    First Script test green on Linux/amd64!

commit 65328a1e249a3193944b207bc00252ba1db3f864
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 8 16:59:40 2011 +0100

    All enabled Interceptor tests green on Linux/amd64!

commit 798c1c8a89751bf745c12f65efea3625519d19ab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 8 16:51:42 2011 +0100

    Limit some of the Interceptor ia32 tests to Windows for now.

commit 3600abcda4d89597a8c24b3045c5e1f8f849b0d5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 8 16:38:34 2011 +0100

    First bunch of Interceptor tests passing on Linux/amd64!

commit 9b3f285ab84dff68906f5ec1ff4c927c6022e34c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 8 15:17:44 2011 +0100

    Take native ABI into account on amd64.

commit 06848118e7f5a286395d5908f554be9af78cc804
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 8 15:09:16 2011 +0100

    Update copyright header.

commit 94262fa85ea64e04236ac66e8cdda36ff88f6351
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 8 14:20:37 2011 +0100

    Fix UNIX page allocation logic so basic tests pass on every run.

commit e1ec0f0faa0fade106e0ebf7a66cdf5809b806fd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 7 23:35:44 2011 +0100

    A few steps closer to Interceptor tests passing on Linux/amd64.

commit 8f0ec3157b86ff3fb1c61b816e3c4086d9e890ba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 7 02:01:56 2011 +0100

    Port test_util_get_filesystem_path_of_self() to Linux.

commit 826b097cff847ff44e05522636d9fe6897479edd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 7 00:57:53 2011 +0100

    Strengthen page alloc tests and fix UNIX backend.

commit cef539e3724587d12531faa9f2411f263e908c56
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 6 03:15:59 2011 +0100

    Poke at UNIX memory backend. Needs more work.

commit 4146dc4c750045ca944223f46459c5b8f6f8475f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 6 02:50:19 2011 +0100

    Add a couple of tests for alloc_n_pages_near(), and start implementing in UNIX backend.

commit 7581a76e27d754e6c522791564654aa696fb6d20
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 6 02:03:46 2011 +0100

    Fix warnings reported by GCC 4.4.5.

commit d59394a7fe8a8db94373359bbdadcaa46924082d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 4 23:42:49 2011 +0100

    Fix POSIX memory backend and improve test coverage.

commit 72d41fd8a74e8ebf58fe49857637d178c5a32fa4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 4 23:09:25 2011 +0100

    Fix Linux build.

commit cc5af4109b7efe211bfd372238d2b07ef569bf98
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 29 02:54:47 2010 +0100

    Fix memory scanning so it doesn't match the match tokens themselves.

commit 79bcb7e00c3b790df449a95e6241ac633aa63b95
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 29 01:59:52 2010 +0100

    Update vapi binding to cover new gum_process_enumerate_ranges() API.

commit b59d9867e4d9fcb761105eea763ecdda6148d865
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 29 01:59:19 2010 +0100

    Don't enumerate guard pages.

commit e35987d2b95b009646c16fd8f41f0b55b2dcb78e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 29 00:38:01 2010 +0100

    Implement gum_process_enumerate_ranges in Windows backend also.

commit 469c560347707227fb77a51d85836e4443378bcc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 29 00:08:34 2010 +0100

    Remove unused variable.

commit da270328ea1dafbb26e889aeccf5cca5b47c578b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 29 00:08:18 2010 +0100

    Mirror the same symbolutil behaviour on Windows.

commit fb10f2ea33a8cc5e667e16971d2861db07de5d79
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 28 19:22:39 2010 +0100

    Add gum_process_enumerate_ranges and implement in Darwin backend.
    
    Also change semantics of gum_module_enumerate_ranges so all protection
    bits must match.

commit cbe9c84ed9e4392eebcea2a5dfaee3d057b6b72b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 27 19:39:24 2010 +0100

    Fix x86/MSVC build.

commit b28702baee043bd715400e55af7a9e6df73d309c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 27 19:13:37 2010 +0100

    Improve deploy and check targets.
    
    - Delete old files so metadata gets replaced.
    - Handle remote paths with embedded whitespace.

commit 8ebcebb329ee96841ab1acbcda518e2717b1d948
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 24 02:33:22 2010 +0100

    Fix ARM headers so they can be used while installed also.

commit cb16cc756c79227d0b3adf94b681b08a4f24552c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 24 02:32:24 2010 +0100

    Install arch headers.

commit 374a01bd70446042350da7f9ec6b542e0449452b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 23 19:56:54 2010 +0100

    Fix libgum regressions on ARM.

commit 41caa6c165e4bb2ba90faf5027e473785595faa2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 22 22:48:18 2010 +0100

    Make it so empty scripts and scripts with no code in leave point cut are also executable.

commit 4a7dc025a7b94bd99a9e22e3e09365474f56d556
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 22 22:32:58 2010 +0100

    Support scripts that target the LEAVE point cut, and factor compiler out of script runtime.

commit b18878182f41b1769d275e06ec2d9d00f5d3a47a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 22 18:07:19 2010 +0100

    Add InvocationContext.get_point_cut() for future use in Gum.Script.

commit 49575525b97aaf7af94c1d594d56cc824739c499
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 22 17:28:48 2010 +0100

    Add support for sending return value.

commit 5279fdc0a9de70a290984861f10d498de3c055af
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 22 17:04:48 2010 +0100

    Rename Script tests so each describes the intention.

commit cb9bdf1085458d61c50e2983d9feb0fc8bd39d8d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 22 16:44:04 2010 +0100

    Change Gum.Script's syntax to look a bit more C/python-ish.

commit 4253dfda7298cfcc1ffd85475c2602aba7f5e9fc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 21 03:09:19 2010 +0100

    Implement gum_memory_write() in Darwin backend, and add test coverage for both read and write.

commit 8ce6ee32a2c7f01c4e56d04e8644137b5ecf5e64
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 21 02:44:05 2010 +0100

    Only build udis86 on x86.

commit 41b0587e2289366db9cf1d9433e7ffd22a6ca8d6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 21 02:41:14 2010 +0100

    Build prof tests on UNIX.

commit db4a00e0003588f98c08735ce0085ad395c6b39d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 21 02:32:01 2010 +0100

    Build heap tests on UNIX, and make some of them pass.

commit 542e86457c021b1beae3ec137b64bc4e02670779
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 21 00:59:06 2010 +0100

    Implement gum_module_enumerate_ranges in Darwin backend.

commit 6c0b35db53b276e846f0f2ddd5f88b44c6d00e85
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 20 22:06:17 2010 +0100

    Add heap and prof files to UNIX build system and restore build on Darwin.
    
    Next up is getting tests to pass again.

commit e1d42ca3963b109433628ea9a282a82902b9409f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 18 16:06:48 2010 +0100

    Update vapi to match new GUM API.

commit f1d3de041065a725cb3dcf61ea6bfc34414f458b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 17 17:00:33 2010 +0100

    Fix SanityChecker leaks and make it handle multiple checks at once.

commit db6db72d88fad1947f59b632ec8331b2b18afb76
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 16 14:48:01 2010 +0100

    Simplify Interceptor wrapper.

commit 3a63ef6ea98810f19049dbb6c465edf1614bc126
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 16 14:05:33 2010 +0100

    Rename user_data argument names Interceptor's attach and replace API.

commit 6b6983cb73fe95a7525dcf1c4b0ee1d3c484b393
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 16 14:00:58 2010 +0100

    Update gumpp to match new API.

commit b81d6afcedca1c9eca60da2e4c179109a2053ebc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 16 03:07:28 2010 +0100

    Move memset to make things a bit clearer.

commit 5c9c237cf57f8e6d782bf4ad5af395d6ee7d5b95
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 16 03:04:53 2010 +0100

    Fix Profiler regressions.

commit 12dc97391e6f7fdedd2f3ccc624976cf08037063
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 15 21:40:41 2010 +0100

    Remove dead Interceptor code and fix up test and implementation to align with new semantics.

commit d37e3609448ea813f30a1415a839d1437e92709a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 15 14:46:44 2010 +0100

    Fix BoundsChecker regressions.

commit 8823f746ef60272940fa191372a2ef16f80fbab7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 15 14:43:47 2010 +0100

    Fix CObjectTracker regressions.

commit 6df9e8e8774df087abbe1c3ebe52eed1acf02ae9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 15 14:36:52 2010 +0100

    Fix AllocatorProbe regressions.

commit 97adc4727013cb6a9701dfae305965d420b4d873
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 15 13:39:45 2010 +0100

    All Interceptor tests back to green, new semantics fully implemented.

commit 717011e53243154b71b87e1e6e9bf926338b25fa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 14 18:44:08 2010 +0100

    Start simplifying InvocationListener and InvocationContext semantics for most common use-cases.

commit d3923a17d6caf1b0d06a73923f1221766777373b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 14 13:31:56 2010 +0100

    Add convenience templates for getters.

commit 0a7f5c9a99e879cc90f9e96f6679c51fa07d3c17
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 14 13:17:20 2010 +0100

    Make get_user_data() a bit more convenient.

commit b6b9ac03ad1e2a44da21fe220eac7627997dae0c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 14 13:00:25 2010 +0100

    Add get_function() wrapping and constness.

commit cbf9e2672908520bc85e444fa72aad3b3e027585
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 14 13:00:05 2010 +0100

    Fix Release build.

commit 9399fe7b567bb5fb9522064b79126002ebca1012
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 13 18:54:27 2010 +0100

    Optimize AllocationTracker's backtrace mode so it uses 46 bytes per allocation where it used to eat 41k.

commit 640bfb9170667bba927e9d7fe72d3e7872c427a6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 13 17:04:19 2010 +0100

    Strengthen AllocationTracker memory usage test coverage and fix leaks.

commit 3071079acf2224335efd2927c31391ad43dd14f8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 9 01:14:35 2010 +0100

    Set subsystem and dynamic base address.

commit 8770b3293058b8bfa03d4a6b31e153e8d08251fa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 8 00:20:16 2010 +0100

    Add gum_memory_write and implement in Windows backend.

commit e575ce4cce88b234f64545ce6c4d9a12887d4050
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 7 17:50:01 2010 +0100

    Fix SanityChecker C++ wrapper binding for heap_api=0.

commit 3376abe574e34aa9f5020c12d979bed70d7fd233
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 7 15:58:52 2010 +0100

    Fix lack of constness and tweak RefPtr naming.

commit ebd4f847181c0e0fa85fddae332cb02214d6c6cb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 7 15:02:56 2010 +0100

    Improve SanityChecker's backtrace config API.

commit 5ba500562f97634341431e694f759b041f9f46d5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 7 14:53:01 2010 +0100

    Add API for setting front alignment granularity on SanityChecker's BoundsChecker.

commit b4069d05c46dca633138ce70c879398cedb09b68
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 7 14:34:06 2010 +0100

    Add gumpp coverage of gum_sanity_checker_new_with_heap_api().

commit 8589add0e485398a4324510f3b047f70aa053fa5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 7 13:58:34 2010 +0100

    Wrap up consolidation of heap api lookup. All tests green.

commit 068a2e84c5341bb5d136485c92406636c50f0361
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 6 18:10:38 2010 +0100

    Start consolidating heap API lookup.

commit 98eac876e74e6502ae6b5978ef0969b7f20a8db6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 6 10:35:06 2010 +0100

    Fix PodWrapper destroy semantics.

commit de136f38a76ebcb7135465c577a5a7fd9395707c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 5 03:17:37 2010 +0100

    Add vapi coverage for MemoryAccessMonitor.

commit 1a38d47d10aae2f3faa58a61bae701c8c94fd412
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 5 02:26:46 2010 +0100

    Strengthen progress test a bit.

commit 3fd39eb511ee65cbb7a6e36651cef4efb1376583
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 5 02:16:03 2010 +0100

    Include progress in MemoryAccessDetails.

commit 322aacaf2f9ec1cf1d216820917db174359a81a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 5 01:58:21 2010 +0100

    Make it so MemoryAccessMonitor reports R/W/X and address and doesn't swallow execute accesses.

commit a70b6674a1abace9a0e82d783ac839e4bc95306c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 5 00:43:03 2010 +0100

    Add basic MemoryAccessMonitor implementation.

commit afdc4b9a37e1feb02aa3f0a778b3be1315810951
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 22:31:14 2010 +0100

    Make it so gum_memory_scan() stops enumerating when callback returns FALSE.

commit dc102d56819904fc8f013de1a02825b0153edd76
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 22:29:00 2010 +0100

    Fix leak in PodWrapper.

commit e93b51e2df838506e093627edf52afc1f2bc0977
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 22:12:59 2010 +0100

    Add vapi coverage for Module.enumerate_ranges() and Memory.scan().

commit 2ae5075a2404abe29a5b1a738792cb35cef83449
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 22:12:24 2010 +0100

    Tweak API slightly so binding to Vala is as effortless as possible.

commit 7b447fa6ac4728626e14740b388b1babc249e990
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 16:57:46 2010 +0100

    Add FIXME about SanityChecker's bounds feature being broken.

commit 67f2a9b6ff14358c9039197da8649fa3da877ec5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 16:56:39 2010 +0100

    Make it possible to enable backtraces for blocks of a specific size.

commit 4b00173e427a307a7b19a803be2a031862b356e5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 14:38:29 2010 +0100

    Add API for registering additional malloc/free functions.

commit b2cd75dada8f09e1936e1ebac10e76941600b594
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 14:27:23 2010 +0100

    Empty return address array before adding entries to it.

commit 309d920bd5926dd16dc894271938a767a3a49353
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 14:19:38 2010 +0100

    Change semantics of filter function so it only decides whether backtrace should be made.

commit 30062e7199621f073ec9835738ad1618acbf024c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 14:02:14 2010 +0100

    Bump thread count limit.

commit 2492678c961fbac8064c13b69fd9d45e0a6cb7ca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 13:54:36 2010 +0100

    Update to latest DbgHelp (6.12.2.633 - February 26, 2010).

commit 6de0839070a3f5095140165ed73b73637a2de95c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 09:35:07 2010 +0100

    Remove user_data from InvocationListener wrapper, and expose accessor on InvocationContext instead.

commit c4fc6f087af5e091bc3a2f1a4badbf2fd551f850
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 3 00:19:52 2010 +0100

    Add gum_memory_scan() and refactor a bit.

commit dd50c40bf64936228122dc66f1b739417e7b8572
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 2 20:07:13 2010 +0100

    Add gum_module_enumerate_ranges and implement it in Windows backend.

commit 21fd19a40d243084ae66df4626382fd8fdf23975
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 2 17:45:39 2010 +0100

    Cover remainder of Interceptor API and finish CallCountSampler wrapper.

commit 68d436ede2ef769730f0f8df0ac04f8bed6a0384
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 2 17:44:50 2010 +0100

    Add valist constructors to CallCountSampler.

commit a16af1d666b651676bb8a3601adee736fa8d69df
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 2 13:03:59 2010 +0100

    Beginnings of Profiler bindings, and some refactoring.

commit 52dd680629cb21e95ec5754ef34cb8412aa9d196
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 2 13:03:27 2010 +0100

    Add user data to Profiler callbacks.

commit f79d741ea39edaafb19565b56ae78f401d72cfdb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 2 09:49:21 2010 +0100

    Move heap wrappers to the end, core at the top.

commit 18c54b693149c7ed8f2f93fc4487ebf516e37dd0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 2 09:45:23 2010 +0100

    Move RefPtr to the beginning of the 'utility' section of the header.

commit 6ef76850c28bcb5a7ea9ac70ff5b61e8eac1d916
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 20:48:14 2010 +0100

    Remove listener array spinlock for now, it burns too many cycles in a typical application.

commit 61da06ec4d10d6141ce7db56498d4ad7180021c7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 20:29:06 2010 +0100

    Reduce typical AllocationTracker memory usage per allocation from 40k to 19 bytes.

commit 5cd789916fb84baaf820416ec086d20338c7af4e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 18:41:18 2010 +0100

    Add suppressions for all loaded GLib libraries, and cache suppression list.

commit 18958dbb97d8dce22057788c55b2673eb5dfecce
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 17:37:47 2010 +0100

    Make SanityChecker ignore GParam-derived instances by default.

commit faad46da09ce818a3acdb174c5d583441c461e68
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 16:47:23 2010 +0100

    Make it so SanityChecker uses the same vtable as InstanceTracker.

commit 1e9d88a1e3912ce984849ca86e13ab5be1b96f00
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 16:32:48 2010 +0100

    Look for GObject library dynamically when no vtable is specified.

commit 4ba9467ddb497cd3e5a057d2befe49a01312f1d5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 16:12:44 2010 +0100

    Remove locking from AllocatorProbe, it isn't needed.

commit c119d59374fc00fa2ff93ab375ed45dd6101ee1d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 15:57:49 2010 +0100

    Don't show allocation groups where no blocks are alive.

commit 7571f99d602a55fe3334bff2d5e78efe86fdb03e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 15:53:32 2010 +0100

    Instrument allocators of all loaded CRTs.

commit e576f3afb9a3609337b08f538ed16c8d5e52b7fe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 14:36:21 2010 +0100

    Switch to GObjectish C++ style.

commit bfefa6a1301b7d444dabf3847c003e6792dc8773
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 13:28:01 2010 +0100

    Wrap function by name lookup API.

commit bf6a2d848cdfa2b61e8b17fb2cf9f51fe5669c85
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 1 12:33:58 2010 +0100

    Add basic C++ bindings for GUM.

commit 7753cc8e89927f6edac9301f89d1bb1bcfe43cd0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 30 11:12:00 2010 +0100

    Add support for running sanity checks standalone.

commit 7ee73495b3043e58da60da0cbc954cc5fca6fa8d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 9 17:09:20 2010 +0200

    Fix regression caused by switch to mach_vm_region(), where we should have used the new data type as well.

commit ba273bc91e172a11f886fee2aea6e0a665291cb7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 9 16:05:37 2010 +0200

    Fix libgum build and warnings on OS X.

commit 4b7b36804c1b538845f6aab6a47a5ce2e3f4fdcd
Author: Johann Prieur <johann.prieur@gmail.com>
Date:   Thu Oct 7 23:56:49 2010 +0200

    Start porting to Linux.

commit b15abebc92839a15597d7b9b92a96dceb98a8356
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 6 01:53:16 2010 +0200

    Add Script support for sending byte arrays.

commit 42b9c1505d6352359f4970060940cdfeb5802cc0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 6 01:06:30 2010 +0200

    Interceptor now supports ARM as well as Thumb! \o/

commit 7722121781b74197a15234f8b2777271f55fe7e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 6 01:05:40 2010 +0200

    Extend ArmWriter and ThumbWriter with skip().

commit 5046b969ddc32f95cf0549c2aa638aadd93377af
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 6 00:02:23 2010 +0200

    First ArmRelocator test green.

commit d3029d0e7eb252a5000f4e84ee5a906e18622f53
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 5 23:34:38 2010 +0200

    Add test coverage for ldr_reg_u32 with reg=pc.

commit 0e1a8b472ac259112b1ee1a11d94b9d5a864f0df
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 5 23:23:02 2010 +0200

    Implement ArmWriter put_nop() and put_ldr_u32().

commit 35862f0290092091895b36f10400c38bfcbbd7a4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 5 22:31:53 2010 +0200

    Add boilerplate for ArmWriter and ArmRelocator.

commit 0d12d313966470f3f6ecd2903831999d49881973
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 5 22:00:43 2010 +0200

    Add failing Interceptor test for ARM.

commit e3756c1e8844b2d17a7f871f6444ab6954e7ba25
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Oct 3 21:44:18 2010 +0200

    Disable warnings on generated code, remove most of the suppressions, and fix all warnings.

commit 27bfc1c42062a58cf5dd6f6418f49b93bf2442a6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Oct 3 17:49:20 2010 +0200

    Remove all warning suppressions and tune project files a bit.

commit 341f30c887927dababd845e7609abceb9adaa12a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 2 20:09:25 2010 +0200

    Add put_call_reg_with_arguments() to X86Writer and refactor a bit.

commit b8037bc755d2880af167e32ea7b74854ae9e7821
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 2 18:21:36 2010 +0200

    Add put_call_reg_offset_with_arguments() to X86Writer.

commit 9ad32119387061dc3ce0d7b940b3ecd8b21151b9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 2 04:06:03 2010 +0200

    Fix all remaining heap and object leaks so all zed tests are 100% leak free.

commit 985dad842c4c90aef5be9eab77582903433ebc5b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 1 22:08:33 2010 +0200

    Closing in on zero leaks for agent tests.

commit a10651684da5e71120510fccd5c3ec586e58a7a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 1 01:28:26 2010 +0200

    Improve Agent init/deinit, both implementation and tests.

commit 0ef44fd2c044d09165b1a35a82e25da4f2eaafae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 30 02:51:40 2010 +0200

    All GUM code with test coverage is now 100% leak free on Windows/x86.

commit 52edf99142eb3a59909cc9f290c1a31801f4a6ea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 29 23:37:20 2010 +0200

    Fix GVariantBuilder leak in Script implementation, and simplify a bit.

commit 3cc96218d52112985ddd811f5e44c51491cc2790
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 29 23:36:38 2010 +0200

    Fix heap leaks in Script tests.

commit 2cbf0b0f97008e8e6ae0124a41433c565771d624
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 29 23:36:16 2010 +0200

    Add call to g_mem_deinit() to clean up last leaks in GLib.

commit 5c4ccf1a938eedd2cf75e31f8375023558a66d4e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 29 23:29:55 2010 +0200

    Move file into the right filter.

commit 690f6c378bf328526a493804fc86fd7495480bbf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 29 02:06:40 2010 +0200

    Heap leaks be gone! \o/

commit 78170bbb5101f0344125f5d3ccc6a47f3d3c6b34
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 29 02:04:39 2010 +0200

    Initialize GThread first, otherwise g_type_init() will do it.

commit 9c3cf32d25c90f940c6ff39516eab87ebe3d0077
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 28 01:52:03 2010 +0200

    Add some convenience code for heap leak hunting.

commit 75db0cc623ec1a4d054ce7f34d93fa6d54024afb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 27 23:52:14 2010 +0200

    Fix object leak.

commit 9c68ace5201c141fa954d106cea7e349be6abcf3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 27 23:40:23 2010 +0200

    Improve cleanup and remove g_setenv() fiddling, and fix regressions hidden by g_setenv().

commit 26cd1d19855c2bfeef8a239e5e7466041bab592a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 27 22:54:38 2010 +0200

    Garbage collect Interceptor's thread contexts on deinit.

commit 478c43b33dcd64bdf68a9626535242e1046ae1e2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 27 20:59:43 2010 +0200

    Fix a couple of typos.

commit 3e5235c5b6c308181d320473e6ef3544b65740a9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Sep 26 21:47:45 2010 +0200

    Add gum_deinit() and implement deinit of Interceptor.

commit ddb6396f1c5ad239221c02abac9f64b67a615c6f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 25 17:09:02 2010 +0200

    Update vapi to reflect ownership change.

commit bfd9c514599723401c510e7e2c4456910cd04238
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 25 17:05:17 2010 +0200

    Change Script MessageHandler ownership so handler needs to ref message if it wants to keep it.

commit 3693c6cc047279ec90c487bd2c7c139202c693b7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 25 14:33:38 2010 +0200

    Implement gum_memory_read() in Windows backend.

commit 464a9a12d2be963376358dbef48c0657045058fb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 25 13:09:08 2010 +0200

    Support argument access beyond first four arguments in Interceptor's ARM backend.

commit c1fd53fcf5b962484a2d80e9bb5f41a02e9899d0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 25 01:50:25 2010 +0200

    Make it so Script reports the actual code size.

commit 01b0428ccbc65cf6499f3754b7d86e7bcead868e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 25 01:45:32 2010 +0200

    Tell Interceptor to ignore our Agent's code.

commit 92afc197cd029582fe70756221cfc5398faf3406
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 25 01:28:00 2010 +0200

    Implement read_memory() in iOS agent.

commit 3ffff8907ada73616b710dfd22446a8e7ae9e1b8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 24 23:13:11 2010 +0200

    Fix Windows regressions.

commit 7d6de0c02c77ed1f51e75b1bcc132a2948fa3f74
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 24 22:58:29 2010 +0200

    All Script tests green on ARM.

commit 5c4fe9493e5b4c88bc65b17a1558d61e05f66c51
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 24 21:22:41 2010 +0200

    First Script test green on ARM.

commit 14db10d3b1c3b9fc0b80ab065b7fc73ba626ab5e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 24 01:17:01 2010 +0200

    Four more Interceptor tests green on ARM.

commit 88c6dfbae853abed90f9901f546de6b40047d457
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 24 00:51:32 2010 +0200

    Correctly relocate extended instructions.

commit bfb859db766bd6f7a76cbcbb955296a5fc1a669a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 24 00:38:18 2010 +0200

    Port Interceptor's ARM backend to use ThumbRelocator.

commit dacbf57eb0fa3d7e7f1bfeb1f967f593cfe8e1a0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 24 00:28:17 2010 +0200

    Parse/skip extended instructions.

commit 7bb511a5201b57ea5d8028477c85973189c4710e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 24 00:17:56 2010 +0200

    Support relocation of PC relative ADDH.

commit 20f3f9f9e88fc574ae6a56bd5e79153b549a0a1e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 23 23:26:17 2010 +0200

    Support relocation of PC relative LDR.

commit 00d82dc23d99081a20a703639b7011f01d3ebc53
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 23 22:28:46 2010 +0200

    First ThumbRelocator test green.

commit 3d1b249e8c8b7aaa9ae385a4874002173dcef126
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 23 19:34:32 2010 +0200

    Introduce GumThumbRelocator by putting a skeleton into place, and add first failing test.

commit 2331eea5abd9ad1a6341a61b2d3ad1fcb6898a9e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 23 00:30:10 2010 +0200

    Some more Interceptor tests green on ARM.

commit 2e48d9bacb3f065cf56dd5789c417de7ed5ea70e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 22 23:51:27 2010 +0200

    Seems like vm_protect() isn't sync on Mach, and vm_sync() doesn't help either, so hack around this problem with a sleep for now.

commit f016340eeb1ad654dc40dd4dbc2480aa4a5f3df6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 22 23:11:37 2010 +0200

    Improve consistency slightly.

commit b572a67602fc8133832714ca4ac1fdbfbb85f8cc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 22 23:11:18 2010 +0200

    Fix gum_free_pages and tweak the Darwin memory backend a bit.

commit 8bc61003aa7b4956cf79f1f5166841bdecb88ae5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 22 23:10:17 2010 +0200

    Fall back to hard-coded path in case tests are linked into app.

commit 0268c58750c61df407387a5b5a4c22cafc8811ff
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 22 23:09:40 2010 +0200

    Build a library out of the test runner as well, so external Xcode project can easily link it in.

commit 80c4f837194abddfd63d0bdd65f30181ea821343
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 22 23:08:59 2010 +0200

    Enable attach_two test on ARM as well.

commit 2aa3e6963d6c229211698214803bf5cdc0e2e906
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 22 20:44:09 2010 +0200

    Change prefix from /Developer/Frida to /Library/Frida to avoid conflicts with Xcode.

commit 12b7d60cecf3b3149381c36513c32c2bffcc78e3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 22 01:27:36 2010 +0200

    Implement on_leave() trampoline code and remove debug. First Interceptor test green on ARM! \o/

commit d728aab274821cd2dad6371a306ed854332703a4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 22 00:55:03 2010 +0200

    Fix on_enter trampoline bounce; remember +1 so we remain in Thumb mode.

commit 0aa553048b65832c39c076ae8d370cc1b77dd2e2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 21 23:24:43 2010 +0200

    Put remainder of on_enter trampoline code into place. Now it looks like we need a Relocator for ARM.

commit bfb44b823c120a83dbd6ca9c8d8e8d8ade35469f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 21 23:22:53 2010 +0200

    Fix silly put_bytes() bug.

commit 1d8e2cd39b59242280fdb34eec4044b60ce4d949
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 21 22:24:48 2010 +0200

    Refactor LDR and STR generation to share their common bits.

commit a7650cdf8ad45baa2b650b2529c3b64146a7aafe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 21 22:16:38 2010 +0200

    Add STR instruction, which is quite essential.

commit ec94ba026fbefdc66b6e36097cf16c9c1d200860
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 21 21:38:47 2010 +0200

    Extend ldr_reg_reg_offset to also support SP as src_reg.

commit 9993ce7a6de27d08aa3c90fccf1f59d78c9313f0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 21 21:29:46 2010 +0200

    Cover another LDR variant and add put_bytes() method.

commit eae59a99e0f09958a04bb17dc9915269c3577675
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 21 20:32:53 2010 +0200

    Replace hand-written ARM/Thumb machine code with ThumbWriter.

commit dcfd0505685f746a92c1932b3ba0821711e9f0ce
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 21 20:30:01 2010 +0200

    Add a couple of convenience methods to ThumbWriter.

commit 5077f8a253abf20e13f454e746905651e667a870
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 21 19:49:00 2010 +0200

    Add a bare minimum of instructions to ThumbWriter, should now be sufficient for using it in Interceptor's ARM backend.

commit 31e199189795b8b1aa514f4f661df0de8fea5132
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 18 15:09:41 2010 +0200

    Add early beginnings of ThumbWriter, to be used for ARM code generation.

commit ecf4c895a25dd8e54287be128f10baa9b9001460
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 14 02:08:08 2010 +0200

    Interceptor's ARM backend now handles flow all the way into on_enter(). Also move InvocationContext handling into backends.

commit f4fbe26dfb30e1fcbb362aecfc94108ecb6b8765
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 14 02:04:30 2010 +0200

    Disable CodeAllocator's pooling on Darwin/ARM, due to RWX being unavailable.

commit 0e2c1a4240344bdd92b67cf295a00a6ffc3b455d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 14 00:29:40 2010 +0200

    Add Darwin implementation of alloc_n_pages_near(), and switch remainder of backend to Mach API (instead of POSIX).

commit c830964c70b46819dbfdb691d24e11c7d983e14e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 14 00:00:46 2010 +0200

    Implement spinlock for ARM.

commit 6d9928c603e35b1dfe85c9b0b41ba22ab6be940d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 11 16:24:55 2010 +0200

    Tweak THUMB dump formatting a bit.

commit 08334032c6dd8515b32381210717b0cbd08c977e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 11 16:19:44 2010 +0200

    Add some temporary debug to Interceptor's ARM backend.

commit 614710e82f1690f7304e58b5d8a47404b76575a2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 11 15:43:08 2010 +0200

    Start moving target functions out into a separate shared library on UNIX. This is in order to isolate target function code to separate pages for platforms where RWX protection is unavailable.

commit b78b959706bdd1c07b7cf822868d36efe907a2e5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 10 19:29:42 2010 +0200

    Fix Windows regressions.

commit 4f4a39bab3ed8a64fd061c98bc028a45c29ed834
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 10 19:14:36 2010 +0200

    Prepare for porting Interceptor to ARM.

commit e9d9546872ceb8e796bc16c59c1ad1c0923b5c71
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 10 02:51:06 2010 +0200

    Strip one leading underscore from symbol names in Darwin backend.

commit 9b92eaf16c589bf2043e4bcff4a05211f4e40008
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 10 02:22:48 2010 +0200

    Implement gum_module_enumerate_exports in Darwin backend.

commit 011dbe8ba128020dc71da61542aeda612bbbefb3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 23:41:37 2010 +0200

    Implement gum_process_enumerate_modules in Darwin backend.

commit bf245dac6fe98e880b02dac9e97948805851489f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 19:40:42 2010 +0200

    Add Module export enumeration binding.

commit 2086eaa5a76b1f5f38b48ef179d76745e34e2377
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 19:40:18 2010 +0200

    Make SymbolUtil backend provide some dummy values in enumerations.

commit c2b1aac40beb44c19975a77b215fd4cc84f59874
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 19:12:16 2010 +0200

    Add missing public headers to build system.

commit baf33925fdf9cc40413bdefd5ff4fcd64216efb1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 18:57:28 2010 +0200

    Hard-code remote prefix for now.

commit 5b70916c22952d35436cf675da4b32846ef4c2d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 18:57:11 2010 +0200

    Update libgum.la reference.

commit eef6c85ee7b932b932599b3482347fa1dd802ceb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 18:46:30 2010 +0200

    Update project file references to vapi.

commit e65e6fff4cf0fd457a49bbbc2caca20498042eb6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 18:39:34 2010 +0200

    Define HAVE_I386 and HAVE_SYMBOL_BACKEND on Windows.

commit e026acfc931556de5099fa8ab214fb88814c2069
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 18:36:03 2010 +0200

    Improve AC_DEFINE wording a bit.

commit fb5cb8ff1ee2b4cab0a5ff63eb6f7256e47a447d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 18:34:11 2010 +0200

    Improve autogen.sh cleanup.

commit 6c193c95a98ecef73341264b5218faa6323539bb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 18:33:28 2010 +0200

    Introduce HAVE_ARM and HAVE_SYMBOL_BACKEND.

commit 70af2dff389697a778012e269c25c875a75ca835
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 18:32:47 2010 +0200

    Remove unmaintained OAH build system files.

commit df1b2bcd2a2de9e1937dc6780d1c3491c80cbe4c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 18:17:41 2010 +0200

    Introduce pkg-config, install vapi and improve build system.

commit 6fc7a594cbb7a181f17e91513a0b5d6742643cee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 16:18:36 2010 +0200

    Improve build system, add Darwin stubs for symbolutil, and make gum-tests link.

commit 08c5838e31c58d65e7b625e1806072f5a0141ddf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 15:56:27 2010 +0200

    Introduce HAVE_I386 and fix most of the build issues.

commit b5d522e419ff41ee16062447d988ec0ca4eb8f09
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 15:35:50 2010 +0200

    Bare minimum compiles but does not yet link.

commit d0eb0dff025ece517538d629cc95b0ae355bdf89
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 29 14:56:28 2010 +0200

    Add basic boilerplate for GUM UNIX build system, replacing outdated WAF infrastructure.

commit 67ea8b61aa74ba3b57007642042818a62d11e669
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 26 20:15:03 2010 +0200

    Rename x86 specific modules to reflect that they are x86 specific.

commit 49b7e1837d8db3b086d094c752c0ce05ba47e006
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 22 18:59:23 2010 +0200

    Narrow user32_{start,end} to fix potential crashes.

commit beeec12043e427f301805ebbb312950a89feeb7c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 22 18:58:47 2010 +0200

    Fix provide_thread_data() declaration.

commit 79d1c2d3e119b54a37c5ac70dcb97ad1d52c6d94
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 11 22:04:24 2010 +0200

    Add Gum.Script support for Send{Ansi,Wide}FormatStringFromArgument.

commit ccbd942b6534e7b99ee8b388a0953fe4e4bbd9fa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 3 14:36:57 2010 +0200

    Add getters/setters for BoundsChecker and add Vala binding.

commit 5a3a8c8b89f88445d4adb40220b54b518d2a525f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 3 01:22:43 2010 +0200

    Improve Vala binding quite a bit.

commit 28eae439346ddade71317e222aeef136f5e3796b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 3 01:22:13 2010 +0200

    Add gum_module_find_export_by_name() for convenience.

commit 98b5db42b44c607cb6057cf62b8eaf4952253d68
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 2 21:54:19 2010 +0200

    Move and rename filter function typedef.

commit 082b905044a8ead02c86fb4410e8ef7850d11fca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 2 21:43:36 2010 +0200

    Update copyright header.

commit 0e4ba4735b458c3956404d455fca192ed08a33a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 2 21:16:11 2010 +0200

    Switch InstanceTracker to begin()/end() semantics with optional vtable, add walk_instances() and rename peek_stale().

commit 1f56f696c0ab242234426513986ef6fcf07d456a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 2 21:11:56 2010 +0200

    Fix potential deadlock in Intercpetor's on_enter/on_leave.

commit 6e36f87a16228267530cb5b383bce2d4898b32eb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 2 21:11:09 2010 +0200

    Beginnings of InstanceTracker binding.

commit bc6e0f8acf4a280d55ccc9d29414b6c14a0d11ec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 2 16:02:40 2010 +0200

    Make a first call without instrumentation, and do bounds-checking last if no leaks.

commit 2e011ccad02df34e057ac19c237eb8ae68ea70cd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 2 15:42:00 2010 +0200

    Add block leak summary before details.

commit 4929973f530d1fbbbaf71925b161a0934d548854
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 1 23:49:30 2010 +0200

    Tweak test readability.

commit 9d48acdc48cee438ae4edccc96851de1d76d867f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 1 23:07:04 2010 +0200

    Improve output and sorting.

commit 993095745bf02e70a7c6249c69b2b7e91e2e6137
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 1 19:35:44 2010 +0200

    Make SanityChecker also check for block leaks.

commit 2dea6ad417d71309db95f5ba77b802909ca9d6d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 1 18:34:50 2010 +0200

    Correct reporting of zero leaks.

commit e95df134ebf1728d0bf7fb869d227e35e60746cf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 1 18:27:27 2010 +0200

    Beginnings of Gum.SanityChecker.

commit b304ac2b2b1dd851c4cfbd98f741cbdcb7fdbea3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 1 15:32:28 2010 +0200

    Move vapi inside a filter.

commit 5593a4195e6f2aabe42241fa19263d9ca6d0eab9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 1 15:30:48 2010 +0200

    Move GUM's vapi to where it belongs, and hook up GUM in zed-tests.

commit 175ac7c60edbd61cc4a7b642ba9cdf3df9774579
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 29 15:30:51 2010 +0200

    Move test list to the top.

commit fc20f30318d98949bda75674a8b82144c2ba9ffe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 29 02:49:42 2010 +0200

    Fix test failures in Release.

commit 9d69ead002d68db5739f6dd17ba955d866f4a4ef
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 29 02:35:36 2010 +0200

    Fix worst case inspector tests by working around pass-by-value difference between ia32/cdecl and amd64.

commit 87aad575a6f75221136e189b2b20cefa3c05ebb5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 29 02:18:09 2010 +0200

    Finally re-enable disabled tests relying on profiling functionality. GUM is now fully restored! \o/

commit e4440de92335713d3063e8b0b80e731a2f08a759
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 29 02:13:38 2010 +0200

    Revive Profiler tests.

commit 9d9a943ecbaed6b83e7d35b14da994b6d94c4b0a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 29 00:38:32 2010 +0200

    Revive Sampler tests and fix CycleSampler on 64 bit.

commit 0e0d8df63a4b83cb3d17a5cf48fd4c2dcbbff2fa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 28 23:05:14 2010 +0200

    Start reviving Profiler, and refactor quite a bit while at it.

commit 48763928791344b329ca0e6ec7bc60a5f6d3bbad
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 28 21:06:21 2010 +0200

    Revive InstanceTracker tests.

commit 316c4c4e60c8bc1ca049d7101bd0c5adc73882a0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 28 20:50:07 2010 +0200

    Revive CObjectTracker tests.

commit 6de6a38850202235c8c71eacd44e684351327202
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 28 03:29:11 2010 +0200

    Fix KiUserExceptionDispatcher unpatching. Oops.

commit 07a27caa8a88c4a5a723cf56b79d03eb0c9cc065
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 28 03:06:52 2010 +0200

    Interceptor support for calling one replaced function from within another, and heavily refactored to share state between attach/detach and replace/revert.

commit 44946872568f3594262937e8efb13d964fcbb86e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 27 21:29:31 2010 +0200

    Revive a bunch of BoundsChecker tests.

commit 30647004e1b8d4414b32cc196c7256e61361cd11
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 27 20:15:20 2010 +0200

    Revive PagePool tests.

commit aace62488b8163097523b8b04e62e198a79dbb45
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 27 19:46:35 2010 +0200

    All GUM tests green in all platforms and configurations.

commit 6a87c0f7be06e4de8a44d91028f04ee73ef72ee5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 27 19:13:56 2010 +0200

    Make most of the tests pass in Release as well.

commit 8172481f318966d3822c608cc0a5e2310cd8e6d8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 27 18:57:14 2010 +0200

    Bring Backtracer tests back to life.

commit 330a6c0ed53b0db9ef882f066c061600bd598e99
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 27 18:35:04 2010 +0200

    Bring AllocationTracker and AllocatorProbe back to life.

commit 8bc3c3fb9a804fb22d35e9845e6fa5f8fea392c5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 26 19:56:07 2010 +0200

    Improve Interceptor thread safety of dynamic attach/detach.

commit 15147324ad581e146f07be94140c428b7959350d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 26 16:17:24 2010 +0200

    Interceptor's replace_function test finally green on 64 bit! Interceptor's 64 bit support is now aligned with its 32 bit support!

commit a68e9bbe8dd1051bb0d15b273c389bc57285f0d9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 26 00:37:28 2010 +0200

    Fix Interceptor's relocation_of_early_call test on 64 bit.

commit 91738c6fdb2f86cef72ea63a841424a9512defe0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 26 00:37:08 2010 +0200

    Only reserve 32 bytes for argument spill.

commit cdbdc402d0cf8a16c51ef437c7e84a404b6345c8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 26 00:09:18 2010 +0200

    Fix Interceptor's relative_proxy_function test on 64 bit.

commit 9fec302e5a41b7478b30572415213a73b3200f0f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 25 23:59:11 2010 +0200

    Add guard around windows.h include.

commit c21a61c863327884cc571cc7203034afa4677737
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 25 23:56:49 2010 +0200

    Clean up test code layout and make things consistent.

commit 693271fd9496850c3d14327c39a34e2fbb78bd94
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 25 23:46:08 2010 +0200

    Use VC_EXTRALEAN all over the place.

commit dfe4822d93899f3f4d635fe52065fa75493ac798
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 25 23:43:19 2010 +0200

    Add Relocator fixture and clean up a bit.

commit 029b7a1ef882fd4244f011860be38dda8519dfa6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 25 23:39:47 2010 +0200

    Add FunctionParser fixture and clean up a bit.

commit cb883f4dd0cafc5e7b9a9ff7cbef2d00199c34fd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 25 23:27:20 2010 +0200

    Add Interceptor 64 bit test coverage for CPU registers and flags, and refactor quite a bit.

commit 47c83e16818501d2cda8c2af1c2a0c11161fd3a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 25 20:12:22 2010 +0200

    All Tracer tests green on 64 bit! \o/

commit da873a530368f1ee2d71c62e1ed7d518019ee89d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 24 21:21:44 2010 +0200

    Start porting Tracer to 64 bit.

commit 64b55abe3220d3b6ac9ce6b6076f82bc74b49499
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 24 20:00:13 2010 +0200

    Implement proper reentrancy guards in Interceptor, for both 32 and 64 bit -- attach_to_own_api test now green.

commit 816207aec42dea357f54dc79def6d5e494d4a7ac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 23 22:21:28 2010 +0200

    Gum.Script now ported to 64 bit! \o/

commit ef56b9da0ed27196245ffbedb4a00db931c8dc5d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 23 18:54:13 2010 +0200

    Add failing test for attaching to API used by on_enter().

commit 3dfee275dbd4b337e538a453d5f32d7b2bf71d91
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 23 16:44:52 2010 +0200

    Allocate trampolines near patched functions in order to improve Interceptor's success-rate on 64 bit. It is now as good as on 32 bit.

commit 813b9e1846eb6d851d4c56d6960644c5b7a20d15
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 22 21:25:06 2010 +0200

    Refactor Interceptor to use CodeWriter and Relocator to get rid of inline assembly and improve portability.

commit 44b1ddcc299e98f17017a600c0c4efc72f7d6338
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 22 17:54:07 2010 +0200

    Switch TestUtil to new test infrastructure, and refactor tests a bit.

commit d69529be9f563ce5fdbaf851939f6bd873bb1535
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 22 02:29:01 2010 +0200

    Refactor GumInvocationListener and Interceptor tests.

commit 40e8a6197c02595edeb3dac44e9fac213cf40152
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 19 18:33:56 2010 +0200

    Only run win32_indirect_call_seg on 32 bit, and only do exception handler hooking on 32 bit where we actually need it.

commit 7383c6077e0ca4b4d5abcdc0291e0845c1fdf53a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 19 18:02:32 2010 +0200

    Implement relocation of RIP relative instructions. Stalker's heap_api test now green on 64 bit! \o/

commit e8a18e6e572551371a9b2b2cc48899ca649274a7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 19 18:01:04 2010 +0200

    Make udis86 expose the offset of the modrm byte.

commit f54062aa727cec8b37ba7ee5765ea8699a455bc9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 19 14:44:37 2010 +0200

    Fix udis86 warnings reported by IntelliSense.

commit f6b82d9659f7f16217ab42774dd1e0709dbaed43
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 19 14:38:06 2010 +0200

    Fix udis86 warnings reported by MSVC.

commit c5e0e7f4f077360d251bc9a8e1c7914165265938
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 19 14:34:15 2010 +0200

    Fix udis86 compilation errors when building with MSVC.

commit 88ed90060a89e3c35baecacaad7854e8dcbdff4f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 19 14:30:53 2010 +0200

    Overwrite udis86 sources with latest from master (e05c7b8c0dd2760c8ae517ff83fd974e63c42020).

commit 8ff5f8adeca61f5b05157d4028baa6f08b9dcc88
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 19 03:15:16 2010 +0200

    Add failing Relocator test for RIP relative MOV.

commit ceebf0ffc1663267b3e0a5d7035cbc02f7cc585c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 19 00:46:36 2010 +0200

    Add test for conditional long jump and refactor a bit.

commit 4522186fa78eb2263a437cc9039439537bd320c6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 18 20:04:48 2010 +0200

    All pure Stalker tests green on 64 bit! \o/

commit a9f3d65989cf1f4612ba524ddbbe50b3a4baaf4e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 17 18:17:42 2010 +0200

    Stalker's indirect_call_with_register_and_no_immediate green on 64 bit.

commit c10aec03e77a294516f182033cb762c862b5b31d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 17 17:05:57 2010 +0200

    Stalker's indirect_call_with_immediate test green on 64 bit!

commit 41dd519e461cb720237a7e0e4c5260360dfd160e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 17 03:49:18 2010 +0200

    First 13 Stalker tests now green on 64 bit! \o/

commit 8a310a0ee47485d05e2ef63eb111a279f5a2e8b4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 16 22:57:27 2010 +0200

    Stalker's 'call' test green on 64 bit. Call events!

commit d2d393ba0e8ea7eee5b9ae4fabb9d41a29edc0e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 16 20:19:36 2010 +0200

    First Stalker test green on 64 bit! \o/

commit 4795c3bff1b90aa129e0b5e0a1cf8bde6da12d48
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 15 19:38:45 2010 +0200

    Align stack when generating a 64 bit CALL.

commit 0cb9463c3ace9cecf6160b2e5eba859747b72f09
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 15 19:38:06 2010 +0200

    Simplify return address retrieval and avoid inline asm.

commit 6eb1534d51dc2cc5d0d2eb3cf9cadec8e797dbb5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 15 18:49:56 2010 +0200

    Stalker test fixture is now 64 bit ready, implementation is next.

commit 5a3a75464e94e32c477869c62bc78dc2b46ec3a9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 15 03:18:48 2010 +0200

    A few baby-steps towards 64 bit support.

commit 80461ffd268d4778bb8c038213288fca8a86f33e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 14 19:17:16 2010 +0200

    Add Spinlock implementation for amd64.

commit cfa1a79bccfb2fa57a3e5b0fd7045a468f51826d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 14 19:16:22 2010 +0200

    Run Stalker tests a bit earlier.

commit 5203627ece80cbbffc2b35be1bfff2e26c918638
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 13 22:49:35 2010 +0200

    Relocator tests green on x86-64. Getting there.

commit 508fdd2d708bded9d0217fda9292d961df01fb05
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 13 20:23:50 2010 +0200

    CodeWriter is now pretty generic, except for 4 MMX/SSE functions.

commit ef3792401e05351c7213e256f77749c781171aaf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 13 19:56:48 2010 +0200

    Make 'lock xadd [rA], rB' generic as well.

commit 1c3e7c9098ace63895cb163461ca0a447397ea05
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 13 19:35:28 2010 +0200

    Make CodeWriter even more generic.

commit bc71ce7f3eedcf2ce981bd059257005b650eba32
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 12 17:25:27 2010 +0200

    Make most of CodeWriter's remaining put_mov_* methods generic.

commit 8677df4df68538943f1bf93c9254956235b12bbb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 12 14:45:20 2010 +0200

    Another round of CodeWriter cleanup.

commit edb36439f2e062cc571fac4ec3ab0e86ed76ebe5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 11 21:12:43 2010 +0200

    Start moving towards generic CodeWriter functions.

commit 47142ade60eb55c52ed5d121f01bc3f2ab3468ab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 11 15:34:26 2010 +0200

    Add Tracer tests and fix Relocator so they're green again.

commit 188f2d97c5c50c1457b9d66a0c3c5194d45da7e8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 11 15:04:50 2010 +0200

    Bring Gum.Tracer back to life.

commit 09ef71c7014c11e49cabfeb5d1e15835eebabf69
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 10 12:30:41 2010 +0200

    Add gum_process_enumerate_modules.

commit 2340418212307375d46a434dfd387a5f69d56a96
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 18 02:37:11 2010 +0200

    Show messages from scripts in console UI.

commit c5bbd3ab43681f326e781d7cd9be7d0529e6c6c3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 18 00:51:57 2010 +0200

    Gum.Script support for sending function arguments of type int32 and string.

commit 1ac847d8f1251cd9ea84cdb4b727bf3b00057daf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 17 19:57:01 2010 +0200

    Report script address and size to help debug scripts.

commit ef0cad330ddf59939451343eff064137c8d0d75f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 17 14:44:29 2010 +0200

    First Script test green! \o/

commit 52c495c43ab61d96bacff8312a2551fec211f433
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 17 01:51:33 2010 +0200

    Add failing test for Gum.Script, and refactor a bit.

commit 3d998fb592b900870852ec1908ae0218174e1e94
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 17 01:29:00 2010 +0200

    Implement all of the Agent-side Gum.Script housekeeping and use fake implementation of Gum.Script.

commit e769dcb18b1608fa724e5b55893d0a15df141e14
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 15 21:57:28 2010 +0200

    Start integrating CodeService.

commit 41615d876bb053cee0c2cd0f8924e401bc7015d8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 14 19:58:01 2010 +0200

    Fix a bunch of warnings and update suppressions.

commit 119cd335277bb3663926c1803d03f4e8050138e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 14 13:04:23 2010 +0200

    Make all Gum tests green in Release as well.

commit d58a862224996bdc1f5ba3670badbbee52f193a4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 13 02:21:19 2010 +0200

    enumerate_exports should not assert if GetModuleHandle fails.

commit d7b3458c0f611bfc59c3bffdef1286f8c414b395
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 12 01:36:43 2010 +0200

    Define VC_EXTRALEN before including windows.h.

commit 9801dfc966ca0c37dc0629a19d81b0f694c3a0a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 11 01:05:02 2010 +0200

    Add missing files.

commit 54fd5ce25b75584475f2fa9c53f0f136020844d9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 11 00:55:22 2010 +0200

    Stalker call probe test green! \o/

commit 266bbf1b338527207f54a4018d3f11c2553e1cef
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 10 21:43:01 2010 +0200

    Failing test for Stalker call probe support.

commit cc2494b364ab6604ed6cf94a5036dbe16cb0b11d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 9 21:35:47 2010 +0200

    Be paranoid about contents of [fs:4], and improve debuggability a bit.

commit 7945c5f0e89f38d732d2929e3f07a6b347de0797
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 9 02:47:10 2010 +0200

    Print warning instead of going g_critical() when running Stalker tests with debugger attached.

commit 49acb7529034e2c1ac2842de92a12bfd5e1f0f88
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 9 02:43:45 2010 +0200

    Clean up message processing logic and rename helper function.

commit 31ffc3cf41c61bb77a049e3274e8119e25e6ae57
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 9 02:21:14 2010 +0200

    Remove debug code.

commit d5d2a51bfb91775c5f0a760f79d15d987f4b68e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 9 02:19:12 2010 +0200

    Add check for debugger in Stalker fixture setup to avoid confusion.

commit 3a84ced87ae01604aa8c7b0119968ac2d4eb40f9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 9 02:09:47 2010 +0200

    Stalker's callback->kernel->user test green.

commit 2ce7c9bae2af88b09aa4aab80fa7edaf57040560
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 9 00:36:07 2010 +0200

    Refactor user->kernel->callback test and add failing test for reverse scenario.

commit daaf35645423f8edd35afb288f0bb3cff18ae840
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 8 23:46:05 2010 +0200

    Trace user->kernel->callback using hardware breakpoints.

commit 0cf2f45c195826c06b2f69be734d28407785b56f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 8 01:53:24 2010 +0200

    A bit more skeleton, still some way to go.

commit 9136d95eb71b7ec5dd062fe80b3e7e38fc59d506
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 8 00:16:40 2010 +0200

    First part of single-stepping state machinery implemented.

commit 3766337a3a6c27983c15c3fd9f0cc551036e56e2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 7 02:50:07 2010 +0200

    Work in progress on following calls that go user<->kernel<->user.

commit 92905175b622229b4ecd58c48be10d50819c8b24
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 6 16:32:37 2010 +0200

    Change Windows windowing API test into a failing test for following through KiUserCallbackDispatcher.

commit 584b1065c30df24469639b2592882450856c6ae5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 6 16:17:10 2010 +0200

    Add test for Stalking Windows windowing API and add is_following_me() to Stalker.

commit cc9de5f56acbd21ca98d13e11b29c47c23dd0e53
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 5 21:53:36 2010 +0200

    Keep track of call depth and add to CALL and RET events.

commit cdb564d15125b268422152cce6c1de2555fd225f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 5 03:29:33 2010 +0200

    Optimize Stalker mappings and make use of new _no_label() Relocator write API.

commit f1d6aa8eed62e4904f330656a0cef5d68efa911c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 5 03:24:24 2010 +0200

    Optimize Relocator to use a circular buffer and provide _no_label() write methods.

commit 80bc6a74b52b35b4bbba7b15f100e094e5016df9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 5 00:51:54 2010 +0200

    Split big basic blocks using continuations in order to support huge linear functions.

commit 3676422bc8153fb4538893a644d79d00bb63c49d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 4 23:53:30 2010 +0200

    Get rid of block stack.

commit ea914349b1d375689095f48bf177c348da3715f5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 4 23:42:40 2010 +0200

    Stalker support for call followed by invalid code, typical for obfuscated code.

commit 0f21e4b7e6fd8b23b29bd14b7ce711018c9d4814
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 4 23:41:32 2010 +0200

    Basic block should terminate at a call too.

commit c81cefec0ba55b212546200f371ad137584fc0a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 1 02:56:14 2010 +0200

    Support negative immediates in indirect branch instructions.

commit f01b777bfdc4ad8cc52342c2fcf994f8c8c2d1e6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 1 02:00:30 2010 +0200

    Support indirect call with register and no immediate.

commit 5733cca3a805e8a5416e742f7f04def19e4771ec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 1 01:53:47 2010 +0200

    Bump CodeWriter and Relocator limits.

commit 24d3981b5a77bddb9f4327fa15448684502b6e6c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 1 01:11:33 2010 +0200

    Enumerate exports until callback return FALSE.

commit bc840a54400c9cf727728ddae427ed35eb2323c6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 1 00:54:23 2010 +0200

    Use VC_EXTRALEAN instead of _WIN32_LEAN_AND_MEAN.

commit 43fce3a7a1202c96a884bbd8e84f234e4aa64c03
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 1 00:52:41 2010 +0200

    Separate non-dbghelp symbolutils from the dbghelp-specific.

commit 254455929a038d6e12d1a41d1b1993173b0f0fde
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 31 23:24:08 2010 +0200

    Extend stdcall test a bit.

commit e38e4e36ae643f1766c5819219107f8eb67e257e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 31 23:23:49 2010 +0200

    Add some commented out code for debugging purposes.

commit 292e8052635d791009d22027274dfb90291c91ac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 31 01:31:19 2010 +0200

    Fix Stalker regression. All tests green.

commit 3a9b171ce138433e3e319551a944d80cc6260967
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 31 01:26:42 2010 +0200

    Disable debug code (to be removed later).

commit 89a14d97de5216ecb8ab7e41ed3b97464a76f757
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 31 01:25:48 2010 +0200

    Fix pool configuration and add guard assert to prevent future mistakes.

commit 25c1266d235c193dda43322d0ee50b45f13358c7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 30 23:27:05 2010 +0200

    Remove last_jump_site debug and clean up a bit.

commit 9ddb5004ddb85aebf1e8e7449b51f3528f2ed748
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 30 23:22:16 2010 +0200

    Add some hackish debug code and tweak branch handling.

commit 9758ae921e2c46b57e19a6f44cb78c7743d53cca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 30 19:14:27 2010 +0200

    Remove unused argument.

commit df40562c53305323a84ace8facbea504e99b2fa7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 30 18:39:50 2010 +0200

    Bump static limits and conditionalize debug.

commit 9fdd5cb013323620a67aad214ef28414a38d97b2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 30 03:24:58 2010 +0200

    Refactor branch target handling and support jumps with immediate and scaled register.

commit a80ae52911c0969941e731b19c99767aefa3e21e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 30 00:12:17 2010 +0200

    Stalker support for indirect call through esp with immediate.

commit 57f78d25ddc6fffbdc0ff0a8e37d4c42f0494c9c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 29 23:14:17 2010 +0200

    Move Stalker fixture into separate file and update copyright headers.

commit 66de158702cc567fea64d694856c5bee11975527
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 29 23:04:59 2010 +0200

    Refactor most of the Stalker call tests.

commit c79860c972bf9547120cd98fa0dd7f7d822c14e8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 29 20:56:12 2010 +0200

    Remove CRs that snuck in.

commit 0db07125ce3f1d97c421f801075172b257dcae7d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 29 20:52:19 2010 +0200

    Stalker support for indirect call with register and immediate.

commit f5d75fabc95d6f77c24ec3c8c388673f513f09d0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 29 19:23:44 2010 +0200

    Gum Stalker test code cleanup and new naming scheme.

commit 8d4c714fd4910860c73cc1b46ea67527979ef668
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 29 18:55:58 2010 +0200

    Remove CRs that were accidentally added.

commit 4d1dc910435c1e744d69152d3276234d3a50be44
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 29 02:04:19 2010 +0200

    Gum.Stalker support for indirect call to address in register.

commit 1c5c0085a67d06167a946ffaadd43dd1d619c7e5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 29 02:02:43 2010 +0200

    Add Gum.Stalker to project files.

commit 093749243c3fb8f47076223dba56497d37d37ef2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 19 23:37:16 2010 +0200

    Interceptor support for relocating position-dependent prologue instructions.
    
    Only 32 bit for now, 64 bit to follow later once Relocator supports it.

commit 6bbd126290f79c7ae707d76b00fa8eba88d2eee9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 17 03:16:28 2010 +0200

    Update gum project file filters.

commit 1c5ea64a034943f19bdbb987c5a8c0eda5eb4f91
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 17 00:58:25 2010 +0200

    Add project files for Gum, reorganize and fix some warnings.

commit 62f881eecc0579f5d86559cd2483bec0070e5b9f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 6 12:32:48 2010 +0200

    Import libgum for the time being, possibly to be used prebuilt later.
