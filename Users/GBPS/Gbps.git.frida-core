======================: FILES :======================
======================: BRANCHES :======================
======================: LOGINFO :======================
commit be99168562af83c049926b2c4d206721cc2dc295
Author: Gbps <Gbps@users.noreply.github.com>
Date:   Fri May 1 20:36:01 2020 -0400

    Error message text refactor
    
    Co-authored-by: Ole André Vadla Ravnås <oleavr@gmail.com>

commit 486eb8238040057a9a970edfd5bdc34a3da1821b
Author: Gbps <Gbps@users.noreply.github.com>
Date:   Fri May 1 20:35:42 2020 -0400

    Spacing
    
    Co-authored-by: Ole André Vadla Ravnås <oleavr@gmail.com>

commit 3493de8488e857c69c871ebf7df29551bb10997c
Author: Gbps <Gbps@users.noreply.github.com>
Date:   Fri May 1 20:35:25 2020 -0400

    Spacing
    
    Co-authored-by: Ole André Vadla Ravnås <oleavr@gmail.com>

commit ea7cb85a1456850ddf69862889a620c327d79e8d
Author: Michael <gbps@ctf.re>
Date:   Fri May 1 20:23:38 2020 -0400

    Format as switch statement

commit 96aebbe726a6f198693d830ed95a4d568cec964a
Author: Michael <gbps@ctf.re>
Date:   Fri May 1 19:54:52 2020 -0400

    Relaxed post restriction LOADING state

commit ea252f38ab509723409f3d52a06dcf5ee2bced21
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 30 04:46:59 2020 +0200

    Rename Tcp backend to Socket
    
    As it's confusing given that it supports UNIX sockets.

commit 15c777ca7ea82ed89fc3422472dcebbad5581fb6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 30 04:05:10 2020 +0200

    Add frida.Error to the public vapi
    
    And move enum types to the bottom for improved readability.
    
    Fixes #298.

commit 085789c95e41437270c6c4e864d12f8c73a30d03
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 29 18:36:15 2020 +0200

    Consistently use HAVE_WINDOWS instead of G_OS_WIN32

commit 7aa41e65c0d1d539e48cbbb715c50e34b7d4c951
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 27 19:53:30 2020 +0200

    Skip cloak test on macOS/x86
    
    As Xcode's vmmap tool may not support 32-bit processes.

commit dfc72365473677b4d4b1710352ec5d8025377861
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 27 18:14:39 2020 +0200

    Disable b_asneeded for frida-helper on i/macOS
    
    As the linker eliminates Foundation even though it's actually needed.

commit bd7e2077bb846731a094a9665e81d5fbd123b8bd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 27 18:13:41 2020 +0200

    Always link agent and gadget with b_asneeded
    
    So any system libraries covered by the libc shim are eliminated.

commit 8b5a368bbd6df53c5c9ba13e1f8cd7ad232eb0ec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 25 09:23:37 2020 +0200

    Fix usage of deprecated BIND_LAZY constant

commit 9637197ff166e60060bfafd513ce90106bedaca1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 25 09:22:57 2020 +0200

    Fix remaining dynamic casts intended to be static

commit 0bbd1cceaed9df12c2d33a02b83566a4639ead1a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 25 09:03:14 2020 +0200

    Actually embed gumjs-inspector in frida-core.lib

commit c372666bcd344e029ac462b713376892d8e71aa2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 25 08:43:47 2020 +0200

    Update build system to use MACOS_CERTID like elsewhere

commit d3c0b7c17f8caaae26a074a963f83562bc985410
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 25 08:16:19 2020 +0200

    Embed gumjs-inspector in frida-core.lib

commit 7a7a449c43ae2954b28549e44c78fde9d6633368
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 25 07:30:07 2020 +0200

    Fix dynamic casts intended to be static

commit 82431a4503280e942bd49f010226e8632c252bb5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 25 03:01:17 2020 +0200

    Link frida-core with gumjs-inspector on Windows
    
    Which contains the InspectorServer that's been split out of GumJS. This
    way no C++ object files end up in frida-core.lib, which means frida-clr
    can target the dynamic C-runtime without the linker realizing that it's
    linking in static libraries that are targeting the static CRT.

commit 1f0081bd3d99927c47f6da3cf343669a4d65ceb4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 18:28:04 2020 +0000

    Use Meson's b_ndebug option to decide on checks

commit 72a9eaecd443221a562dfcf0112f880cc6a04b86
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Apr 23 00:06:45 2020 +0200

    Add four essential i/macOS syscalls to the libc shim (#307)
    
    Covering:
    - read()
    - write()
    - mmap()
    - munmap()

commit 99715484cd1ac0bda2092cf10eb83d5a496a44cb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 22 17:10:54 2020 +0000

    Fix the libc shim on newer GNU toolchains
    
    - Handle early calls to __cxa_atexit() as the .init function might
      call a libstdc++ constructor which in turn calls it.
    - Mark shim functions as internal to ensure they're not exported.
      GNU gold doesn't seem to honor the version script in all cases.

commit 747ca5fbb22adbe4abc9a94fabe39c6007ec2e5a
Author: Eloi Benoist-Vanderbeken <eloi.vanderbeken@gmail.com>
Date:   Wed Apr 22 11:38:48 2020 +0200

    Add the skip-library-validation entitlement to iOS executables (#309)
    
    To facilitate library injection in Frida processes.

commit 3a900ee4f0f64aa43157a1e6014abb51712a33c3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 21 03:28:59 2020 +0000

    Add memalign() to the libc shim

commit c6fb4ec1f4c1e6f2d373a9249f16925ac645824a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 21 03:27:02 2020 +0000

    Fix the libc shim on Linux
    
    Need to use -Bsymbolic in order to ensure our local definitions always
    take precedence.

commit 7b77988359c203d93452ada723a38dfd63df2be6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 19 01:21:59 2020 +0200

    Update remaining Windows bits to new GIO module names
    
    Fixes #306.

commit 42137d85e8870805cd90a67f75cb997aa04c8923
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 18 02:22:27 2020 +0200

    Fix compilation with older system headers on Linux

commit bfb342333d618107b29f2e9aab4a07d95bf8a871
Author: WorksButNotTested <62701594+WorksButNotTested@users.noreply.github.com>
Date:   Fri Apr 17 01:58:37 2020 +0100

    Fix variable names colliding with MUSL libc defines (#304)

commit b495e77a1d8bd8e24d37a3fbfbce8c6ebfbaa060
Author: Shane G <pachoo@gmail.com>
Date:   Fri Apr 10 04:47:10 2020 -0400

    Fix usbmux pairing record plist parsing (#302)
    
    Should not assume that the ReadPairRecord response is always XML.
    
    Fixes #301.

commit 0b3a3a9d879b92dc29c7edd114cc93968de3a6dc
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Wed Apr 8 09:38:01 2020 +0200

    Fix iOS jailed spawn() w/o closure on arm64e (#300)

commit 02cce0893574ed7a36ac8536313ac5ca62feab91
Author: Zmurf <crax0r@gmail.com>
Date:   Tue Apr 7 17:58:36 2020 +0200

    Add support for leanback-only Android apps (#299)

commit 2fc380e368d189f6271b1a0f591ae94260b8648c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 4 07:03:25 2020 +0200

    Fix check deciding on assertions and checks
    
    Instead of relying on “buildtype”, consider “optimization” and “debug”.
    
    Thanks @nirbheek!

commit 5b5d3c41a2eef82ae5789c70dc0ce1f1b382b70e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 4 03:21:50 2020 +0200

    Update to the revised GIO module naming conventions

commit dc24f182cce6b00e8a0a5696e590a5e30d3811b9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 4 03:15:00 2020 +0200

    Move away from deprecated GLib APIs

commit 1dacedc40fff6578f456f09e814aeea4be04aa71
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 4 03:04:12 2020 +0200

    Fix casts caught by modern Vala compiler versions
    
    And refactor to take advantage of improved support for generics.

commit 95b1ef4df83aac1e44adf97ba2f22da3af4f6c4d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 31 01:57:04 2020 +0200

    Port to Meson 0.54

commit 3209d34ac1fad7e380cf3c314768678bdb005d3c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 30 19:02:48 2020 +0200

    Fix remove_remote_device()
    
    Broken by the refactoring that happened in bafea86.
    
    Kudos to @ChiChou for reporting.

commit 8ae70fcd7769ee09d5c30b3d1a1ed563601271c0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 25 20:52:50 2020 +0100

    Revert the i/macOS injector wait-for-newborn logic
    
    Introduced in f4c2f49.
    
    Turns out that notifyd on iOS 12.4 is a case where libSystemInitialized
    is not getting set. Need to dig deeper to figure out why, so walking
    back this logic for now.
    
    Kudos to @mrmacete for helping track down this issue.

commit 7b990a27a5f817a63594e1dc8c3d4aebe1579d97
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 25 17:35:24 2020 +0100

    Fix use-after-free in the i/macOS attach() wait logic
    
    The task is borrowed so we need to re-borrow it on each tick.
    
    Kudos to @mrmacete for reporting and helping track this one down.

commit 76597f5201c0233f3cf51b150a56b6e770c327e3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 24 05:20:15 2020 +0100

    Handle frontmost iOS app name query failing

commit aefd6eaccd94b5927772ea7e36b9607d1c0250f8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 24 05:19:21 2020 +0100

    Simplify creation of empty POD objects

commit cd8fd64f662c93193a579387cedb829bf21006d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 24 03:30:39 2020 +0100

    Tweak the iOS/arm64e package name

commit e4f7651286be48528d143b33d946d313f305ed2a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 24 02:47:43 2020 +0100

    Omit LD_LIBRARY_PATH from frida-helper's env
    
    As it might contain 64-bit library paths that become problematic when we
    try to spawn our 32-bit helper.
    
    Kudos to @enovella for helping track this one down.
    
    Fixes #295.

commit fe03dff2069db66b3bb78300d0af383a6a230508
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 24 02:36:33 2020 +0100

    Recreate Android ZygoteAgent instances if they die

commit 0f703d2560e5994c8a2a1ba055268eef901ba9fb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 24 02:33:04 2020 +0100

    Recreate the Android SystemServerAgent if it dies

commit 72fa9a2919fa2e532343404899cc5255533d53f4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 24 01:14:59 2020 +0100

    Detect cross-arch support at build time
    
    But leave the code in so build regressions are detected sooner rather
    than later.

commit f4c2f490c0534eeaa8b1d682b5e41e816ae48ae1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 23 22:38:14 2020 +0100

    Fix injection into live newborn targets on i/macOS
    
    By polling whether libSystem is initialized.

commit 0438d7993c8d7075eb700abc017331efab1a2695
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 23 21:54:58 2020 +0100

    Skip cross-arch tests in case of a thin build

commit 243f020efead101a4fb76fb60ef4a73b86dc1fe9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 23 21:36:23 2020 +0100

    Fix the Gadget test on macOS/x86

commit e58b12a368be8bfffa00007c486043a4a59089b9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Mar 22 06:57:03 2020 +0100

    Improve the i/macOS injection preparation check
    
    To not only check that the process is suspended, but also that libSystem
    is indeed not initialized. Otherwise we risk tampering with processes
    that have been deliberately suspended, such as WebKit's WebContent
    processes.

commit e2a8f91fd35aef6a3567246d2aed0e2f08bda1ca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 21 07:04:53 2020 +0100

    Add iOS .deb packaging logic for arm64e

commit 4320cb01be5ae763fd893dc821fafe8e96a4b030
Author: David Asraf <dasraf9@gmail.com>
Date:   Mon Feb 17 19:29:11 2020 +0200

    Fix target crash when Windows DLL injection fails
    
    We also make the injected thread return the error code reported by
    LoadLibrary() in such cases, and ERROR_SUCCESS otherwise. This is
    something we should wire up in the injector at some point.

commit 966964b688d0618eb78b88f59a939820ec419961
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 20 20:48:32 2020 +0100

    Improve error message about needing Gadget on jailed iOS

commit 7fff026d6f1c29cae88362ef79b12df9930079e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 20 20:45:36 2020 +0100

    Make LLDB.Client always strip pointers on arm64
    
    As the dynamic linker is the same for both arm64 and arm64e processes,
    we need to be prepared for signed pointers in some cases.

commit b083ea0cb74e0bc9a6242692090fac721f0688aa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 20 20:33:21 2020 +0100

    Port Fruity backend to iOS/arm64e

commit 4f851d3d7718f773a72df0c16b5fbdefc84370bd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 20 20:32:41 2020 +0100

    Improve the manual lockdown test

commit 2aebd725aafd8833e55ea933c9d78f5825cda119
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 22:00:37 2020 +0100

    Revive and improve the manual lockdown test

commit 6e665709af00d660c1c5bfab7d961c369435f750
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 20:00:58 2020 +0100

    Tweak tests/run-ios.sh to ensure remote prefix exists

commit b3027ae7294cd674883077dc525217a45e29bc4d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 04:08:44 2020 +0100

    Fix the HostSession tests on iOS/arm64e

commit 91870c747a6f6dcbd52599c865ebca0bf45073e8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 04:07:44 2020 +0100

    Revive the Gadget test and port it to iOS

commit afdb1dc056907e21875d4f36859aee7e7c71cc03
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 04:06:01 2020 +0100

    Fix the memory range detection logic on iOS/arm64e

commit e6e01d6fba45e2bb49c907a3e3a69bb9185bec0b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 02:16:47 2020 +0100

    Fix the “other arch” tests on iOS/arm64e
    
    There's no way we can specify the CPU subtype to spawn, so we use a
    separate thin executable named wih a specific suffix.

commit 1c2e045ddf715a630537145798e0b1a5dc1f1e95
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 02:07:23 2020 +0100

    Fix a stylistic inconsistency

commit c3f9e0b23286817191ff6f02fff59871150c27e3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 18 19:25:18 2020 +0100

    Fix i/macOS race when agent entrypoint returns instantly

commit e92cd25722375b7f33aa161bca016e254303ff74
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 04:33:25 2020 +0100

    Bump Injector tests' wait_for_uninject() timeout

commit 64b99083ab509c2a80f8c83f48b8145c7e729db6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 18 17:51:11 2020 +0100

    Regenerate the iOS labrats to add arm64e binaries

commit c62d265de3ff6ec9651e496d4fc66d6a3da353ba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 18 19:10:54 2020 +0100

    Tweak tests/run-ios.sh to do a full build

commit b5f67d62eee1f954c1ac6a72b4f2220e5ecd94de
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 18 17:49:26 2020 +0100

    Tweak tests/run-ios.sh to default to arm64e

commit 81006527651de6d22f25074bf60dbf98b8b714a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 18 17:49:14 2020 +0100

    Tweak tests/run-ios.sh to use a better remote prefix
    
    To avoid sandboxing issues.

commit 9000a341236b1b43e589cc86a033d8f50f24d9be
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 18 05:34:04 2020 +0100

    Improve the crash report summary logic on iOS/arm64e
    
    Seems the termination reason isn't always available.

commit 000693dc235211efe2963e94b251e6551d488304
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 18 03:43:22 2020 +0100

    Fix the ReportCrash integration on iOS/arm64e

commit cbbc9fc365f9f9383d88b1643aed2f8200620c52
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 17 05:35:56 2020 +0100

    Fix spawn() of non-PAC apps on iOS/arm64e

commit b431677ad7edde5c707ef1e09377a83576597112
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 17 03:31:55 2020 +0100

    Update to the new Gum.DarwinModule API

commit 97ff37984b6da48db18b8d7c5c09a829169ce64c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 16 01:46:19 2020 +0100

    Rename the agent and helper options
    
    To avoid confusion when distinguishing between arm64 vs arm64e.

commit 7e1824ac3eb34c6cf4412a4afdebd2506390b68d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Mar 15 04:26:56 2020 +0100

    Set a “clean” LR when injecting on iOS/arm64e

commit f52537c96309cf3735cd22a804582e8460d89872
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 14 07:32:26 2020 +0100

    Port the early instrumentation logic to iOS/arm64e

commit 663a65568ebfb46b5fe7a60f7464e5673f93dc88
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 14 06:27:15 2020 +0100

    Fix the Substrate detection on iOS/arm64e

commit f0c75aad613d96a54c0c24c6364570b09605bd52
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 12 18:45:41 2020 +0100

    Port the i/macOS injector to iOS/arm64e

commit 1c74e88df7206bcb08e2117e814de7b9391630a8
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Mar 10 01:17:10 2020 +0100

    Ensure Chimera’s pspawn_payload-stg2.dylib initialized (#293)

commit 6a1d1634f05f31359cd0b072d7ab2bb8095f5bbd
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Mar 9 22:12:19 2020 +0100

    Avoid calling substitute_setup_process() on null port (#292)

commit ab17fab0fcc77278fbcb5672f1c6287b9865583e
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Mar 9 21:05:55 2020 +0100

    Add support for Unc0ver 4.3.1 (#291)
    
    - Use the substitute_setup_process() MIG call to “substituted” to enable
      early instrumentation.
    - Ensure substitute-inserter.dylib is initialized right after attaching.
    
    Thanks to @pwn20wndstuff for the kind help!

commit 2b22759ba340577673fea2ec3ba899c47b59e35c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 6 07:08:20 2020 +0100

    Fix the iOS PAC removal mask

commit 65251464e3aa983c778c07f5d22d199bc2b57ac2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 4 03:01:17 2020 +0100

    Also look in parent dir for gadget.config on iOS
    
    As Xcode likes to put resources next to the app executable.
    
    But only look there if Gadget is in a directory named “Frameworks”, which
    means it's probably inside an app.
    
    Kudos to @dweinstein for the suggestion!

commit 9e8f89f886a8759bbb9737a8819b1dec53e44b5a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 28 17:56:15 2020 +0100

    Add a basic README

commit fbbe4e64251a5281c90e3649eacf2ae1637ad15b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 27 00:50:34 2020 +0100

    Improve Linux process name enumeration heuristics

commit 65cecd2f97712a90337fa58a045807dfd9fa5338
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 26 18:31:59 2020 +0100

    Optimize Android device enumeration
    
    Use “host:track-devices-l” if ADB supports it, and if not, don't bother
    querying for the manufacturer. (We could batch the two shell commands,
    but there's no point as we want consistency with what we'd get from the
    newer ADB's long format.)

commit 7a4d383b5456637c0ec0af1a6d87e028e000b05a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 17 04:04:08 2020 +0100

    Improve handling of ios-arm64e in modulate.py
    
    As newer versions of “file” seem to correctly identify the binaries as
    arm64e.

commit f7c5d1d4b31becc9b99c75189bdc8df0d26c28c6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 31 21:59:21 2020 +0100

    Revive support for running Gadget on iOS without a debugger
    
    Policy must be set before obtaining the Exceptor, as it uses Interceptor
    to hook functions and this will fail gracefully if the “code_signing”
    option is set to “required”.
    
    Fixes #289.

commit 7c73febaa87bdce0dd8c4cdc838cf240bbd666ab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 22 23:55:50 2020 -0500

    Fix Gadget deadlock regression on Android/Linux
    
    For early instrumentation use-cases where Gadget's entrypoint gets
    called with dynamic linker lock(s) held.
    
    Due to Exceptor now using dlsym() to avoid running into PLT/GOT issues
    during early instrumentation, we need to ensure that Exceptor gets
    initialized from the entrypoint thread, and not the Gadget thread.
    
    This closes #285, and also closes #286.

commit 51eb252c804cbf02ce5f6e2928849006bcee3eaa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 4 02:36:23 2020 +0100

    Fix dangerous libc hooking anti-patterns
    
    Should not count on PLT/GOT entries being initialized.
    
    Also move to Gum.Process.query_libc_name() for improved portability.

commit 76172f64573ef80bc1293442750b41867e3157b3
Author: Sergio Paganoni <sergio.paganoni@gmail.com>
Date:   Sat Nov 23 18:32:20 2019 +0100

    Make parent FDs available to child processes on i/macOS (#279)

commit 91527e9959c73224b2acdaa87cb79ea7d03aa46b
Author: Jon Wilson <jonwilson@zepler.net>
Date:   Fri Nov 15 00:02:10 2019 +0000

    Port to ARMBE8 (#275)

commit 69f9f1baf0bdb744ed651652b0e546eae624b071
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 12 15:59:54 2019 +0100

    Fix the iOS package scripts launch daemon logic
    
    For some reason the launchctl path was hardcoded.

commit fc490dd08dd0164800d3ac7add8ff90f551a0532
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 12 15:59:09 2019 +0100

    Remove trailing whitespace

commit b19baa78d8571758cffa638a3133281d152cd776
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 12 03:43:51 2019 +0100

    Add support for iOS 13 on the checkra1n jailbreak
    
    - Support apps launched directly instead of through xpcproxy.
    - Tweak xpcproxy agent to also handle SubstrateBootstrap.dylib.
    - Update ReportCrash integration to account for API changes in iOS 13.
    
    Tested on iOS 13.2.2.

commit 8726e6998b05d70fcaf1fa79a3b28abb53083603
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Nov 7 17:40:56 2019 +0100

    Expose the paired lockdown channel itself using "lockdown:"

commit 975e4618997d6c4eac0c07f511e1a42c07f5d418
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Nov 7 13:08:40 2019 +0100

    Support both cleartext and encrypted lockdown channels
    
    By default the channel is encrypted, unless the service name includes
    the “?tls=handshake-only” suffix. Internally, the
    “com.apple.debugserver” and “com.apple.instruments.remoteserver”
    channels are kept cleartext.

commit bafea861663c3e9316d3f672ea96ddc7d822ef96
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 6 04:50:07 2019 +0100

    Enable TCP_NODELAY and add support for UNIX sockets

commit fbfbdf4f89bdb07a7f382b74dc25e9fb1fcce9bc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 5 19:18:56 2019 +0100

    Fix crash caused by missing SELinux rule on Android 10
    
    Which resulted in a failing assertion due to mprotect() failing when
    reverting hooks at a critical point of an exec transition.

commit 5eb6469a6ce7cdbc003d8d6b199a54f6de2936ea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 5 17:17:11 2019 +0100

    Kill orphans if a client spawn()s then disappears
    
    Without getting around to calling resume() or kill().

commit b22fb700d91c5e428211e88349a1a46eb82ad745
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 5 02:03:24 2019 +0100

    Talk directly to the iOS/Android agent when possible
    
    By establishing a fresh TCP connection to the frida-server and having
    its file-descriptor passed to the agent. This means frida-server can
    remove itself from the data path, improving performance and reliability.

commit 886237ad008a33ae5c41010ab24ce08108acf885
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 4 16:46:01 2019 +0100

    Fix kill() before resume() on jailed iOS
    
    When called after attach().

commit c883b09f840417887d3b80ed5a17dc7c88b60cfa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 26 03:08:05 2019 +0200

    Throw early when trying to attach(0) on jailed iOS
    
    So we can display a more helpful error message, and avoid firing up the
    LLDB debugserver only to have it fail right away.

commit bc4177664815606532ac3f9ef609d93ba8d241a7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 26 03:06:22 2019 +0200

    Fix inconsistent iOS DDI-related error message

commit d2161c00ee7681350cf41d980446654e9242745b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 24 23:13:21 2019 +0200

    Speed up get_frontmost_application() on jailed iOS
    
    By using the DTX application listing service.

commit 17582f86bf925ec2c934fa68e55c378fa8e575d1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 24 20:13:29 2019 +0200

    Improve error feedback when an iOS DDI isn't mounted

commit 33b47a21a9b9966214bb0166541603384fcc104f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 24 04:24:19 2019 +0200

    Enable glib-schannel-static when building for Windows

commit d92872e62e9851ea746ccc6c89d5c36c25147acd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 24 04:15:48 2019 +0200

    Fix detection of recent iOS devices on Windows
    
    Need to disregard dashes in UDID when matching against registry entries.

commit ec0e0f9c36e5e77b890ab1489fc9f7f16c1a334e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 24 03:27:18 2019 +0200

    Ensure lockdown client is fresh before re-using it

commit be89285ba6ebffec279a0dfae079c4ea1e38fd65
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 24 03:11:55 2019 +0200

    Simplify the server check timer logic

commit dcf2dd8337b7b6e9686970121c8529e64a7a6822
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 24 00:36:52 2019 +0200

    Update the Windows build system

commit 44b86a6934d3487d951b538faf43315fbdac9e7c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 17 21:44:22 2019 +0200

    Implement attach() and process APIs on jailed OS
    
    Basically get_frontmost_application(), enumerate_processes(), kill(),
    and attach_to().

commit 005e253c8b2f21592ebb57c3df75f685c2d6b1ea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 24 00:14:15 2019 +0200

    Bump the PlistServiceClient message size limit to 1 MB
    
    Messages can get quite large when interacting with Apple's Mobile
    Installation Proxy.

commit 9e1fdf2bf581c01082359a760c904cc4a9a40eb8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 24 00:15:44 2019 +0200

    Improve the InstallationProxyClient API
    
    - Make lookup() more flexible.
    - Add resolve_id_from_path() for resolving a path to a bundle ID.

commit 07e5924a2690883aa1dbaa899ec839f70dd36bed
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 24 00:12:37 2019 +0200

    Add Plist.to_binary()
    
    Needed to speak the DTX protocol.
    
    Also refactor Plist APIs to avoid copying data unless needed.

commit 2b649985a29cf1f537a6b91f72a5361b9b1507a6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 24 00:14:27 2019 +0200

    Fix stylistic inconsistency

commit 38777530431994662ae429f3f8606dfc3f61301f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 23 23:45:31 2019 +0200

    Re-use already injected gadget when possible
    
    To avoid piling up OS resources.

commit 13bd5c95549d5bc1a69ba9a0ad80646bd3e2fe45
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 23 23:44:12 2019 +0200

    Configure injected gadget to use ports >= 27043
    
    To avoid interfering with an existing gadget or server.

commit 0f93f32efcb8e5f9acda59da09ccbe6de061c4f4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 23 23:33:47 2019 +0200

    Add listening port to gadget's main thread name
    
    To make it easy to determine if we've already injected the gadget in a
    given process, and which TCP port it's listening on.
    
    Also tweak the default name while at it.

commit 4ccf5cb35f38dc7e90f052b859cbb3353b2788f6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 23 23:29:32 2019 +0200

    Expose thread names in the LLDB client

commit 3bd1a3b02e3a55cee4f695715b1b0f6b58aa92ca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 18 04:42:34 2019 +0200

    Implement bounds-checking in the PlistArray API
    
    To simplify working with data from untrusted sources.

commit 4accfea87be64e560310c91dfc4f7018c3f9eeb4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 18 04:40:44 2019 +0200

    Add Plist{Dict,Array} methods for working with UIDs

commit ffa0e4773eab76d4d2da9de5d750f1690a59b55e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 18 03:59:28 2019 +0200

    Implement Plist XML serialization of UID values

commit 239b051127584f4a3ca7fa7f290dfca980b515ac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 17 21:04:21 2019 +0200

    Remove leftover logging

commit d95e8dfb3b8ab4c484e70bd9e0e61c42b868d338
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 17 21:04:04 2019 +0200

    Fix the session ID lookups

commit 35f04ae4521d3f076505b7975030e6dd6fff7bac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 17 17:34:05 2019 +0200

    Fix the Windows build system

commit 91b630cef7e6c13371c64e8ce7323b75366806d1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 17 05:12:28 2019 +0200

    Unify the Fruity devices
    
    Now that the basic functionality is done.

commit 427b74221f99546e4c0a446cf51fd5867ba248d5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 17 03:10:15 2019 +0200

    Add Fruity.Injector to the Windows build system

commit aa153572ed851e7c0e217c3c7f8a607edbafd7de
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 26 22:36:32 2019 +0200

    Implement attach() and kill() in the lockdown backend
    
    For now only spawned apps can be attached to and killed.

commit e741daca2f215c484018d99db85b04b983ad9976
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 15 23:28:02 2019 +0200

    Extend gadget ABI to support signaling a result
    
    For now only on i/macOS, where the presence of a “frida_gadget_config”
    entry in the apple[] string vector signals that the constructor function
    is passed an extra argument that receives the result.
    
    The result is an “int” that receives a non-negative value on success,
    and a negative value on error. The “listen” interaction emits the TCP
    listening port being used, and the other interactions emit zero.

commit d03bda457a5f97e80969f195c6ce1c48817545f9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 15 23:18:42 2019 +0200

    Allow gadget to pick the next available port
    
    When overriding the default conflict behavior.

commit 0f1beef51d2965664c77d16ec4c04677944fb12f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 14 20:48:43 2019 +0200

    Fix harmless error in the ReportCrash close() hook
    
    As close() may be called while not generating a crash report.

commit 2f1193c0e6b1376b6d62280f5bf757c2d574af6d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 14 20:31:00 2019 +0200

    Fix iOS/ARM compilation with latest SDKs

commit 28b8e0615b50146352400cdb2b110a440e581166
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 12 03:32:16 2019 +0200

    Allow config to be passed to frida-gadget
    
    Implemented on i/macOS by looking for a special entry in the
    apple[] array.

commit 155583757051a93353a685cdad9b821d54d969da
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 12 03:30:51 2019 +0200

    Improve location detection logic in frida-gadget
    
    - Make “path” nullable, as the gadget may not exist on disk.
    - Don't go looking for the range if we already know it.

commit 4bd1085f07a8bc6b99c2dfcafb27114f6790142c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 12 01:35:37 2019 +0200

    Remove system loop integration from frida-gadget
    
    As we don't know exactly which initializers have run before us, there
    might be pending I/O that assumes some of main() has already been run,
    making this a very dangerous feature.
    
    So far I haven't actually encountered any use-cases where we need to
    iterate the system loop early, but it is still possible to emulate this
    if needed: while waiting for resume, the GLib.MainContext used by GumJS
    is serviced by the thread calling the initializer, so that means user
    scripts can run a modal system loop if needed.
    
    Note that this feature was only implemented for i/macOS, so removing it
    means we now get the same behavior on all OSes – which is to block on the
    GumJS' GLib.MainContext while waiting for resume().

commit 77d5ae0faba6a123abadc57d354357c10a413392
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 11 19:11:53 2019 +0200

    Fix kill_application() stub on macOS

commit 55310e25c797a6b81413b646b3a5d98a4772bd82
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Fri Oct 11 18:14:01 2019 +0200

    Kill pending iOS processes on launchd agent unload (#270)
    
    So that frida-server dying won't leave processes stuck in a suspended state.

commit a0be55734310c8f29cfbe65e808fee8a1e1ee2c9
Author: Muhammed Ziad <air.oamyst517@yahoo.com>
Date:   Fri Oct 11 04:35:24 2019 +0200

    Improve spawn()-handling for Android apps (#271)
    
    To allow using the activity param in case the app doesn't have a
    launcher activity.

commit f87dddf9ee086566d937dc9ebcc070676981c0e4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 10 14:40:13 2019 +0200

    Improve the SELinux-related error messages

commit 117f1510bbc64b05ed5c29f5f7c50bd5cc9d6043
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 10 14:39:47 2019 +0200

    Consider the “map” SELinux permission optional
    
    As it's not available on older versions of Android.
    
    Fixes frida/frida#1041.

commit 894c7bb6eab478bb26b31447c24f087c51a1b687
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 10 01:47:07 2019 +0200

    Add support for iOS/arm64e in modulate.py

commit 9058d9c56f16d587fa19175d80f7bb17bbd8dd3c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 10 01:46:11 2019 +0200

    Improve error-handling in modulate.py

commit a575f53c8a01d3f415e67990b46a57596c7884b1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 9 20:02:40 2019 +0200

    Port basics to iOS/arm64e
    
    Untested for now.

commit 4e511d91bc5803fdaf576dc72981dc7824bfff0a
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Wed Oct 9 19:05:59 2019 +0200

    Add missing revert() calls to ThreadSuspendMonitor (#267)

commit 05a8e913db2c59a2f302279c72f15f77613ee808
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Wed Oct 9 19:04:55 2019 +0200

    Keep eternalized entries alive (#268)
    
    So that they can be reused for future connections to the same process,
    avoiding the need to have more than one agent, at least during the
    lifetime of frida-server.

commit 5328de88a29222559fb2883be54ccae3b705a8b6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 8 17:40:30 2019 +0200

    Improve i/macOS error-handling involving remote tasks
    
    I.e. never make assertions about operations involving a remote task.

commit 300fecf9b081fb41e893d906c1152fae0d2ad82b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 8 17:38:09 2019 +0200

    Update to the new Gum.DarwinModule API

commit 8cf758b403521cd6ed44eed2e72fbdb14b940896
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Oct 8 14:42:39 2019 +0200

    Split the state by thread id in the ReportCrash agent (#264)
    
    Because in some cases more than one crash can be processed in parallel
    in different threads.

commit 072571cf551d4645351a43f0299227d663b5fff5
Author: BAYET <corentin.bayet@gmail.com>
Date:   Tue Oct 8 04:01:47 2019 +0200

    Add the “map” permission to the “frida_file” SELinux rule (#265)
    
    Needed on Samsung devices.

commit 19e5e3997d1c9f23876139fe19c4c229c721c574
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 26 22:35:14 2019 +0200

    Improve frida-inject to support -D/--device

commit 5ea24c6efedb24b4b428a2ac4356b98198025ac5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 24 05:17:38 2019 +0200

    Fix the find_device() timeout logic
    
    The initial timeout=0 case was not handled correctly.

commit 0f318b3db0e2d261dd17dfabf3e9d525add15179
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 20 03:50:44 2019 +0200

    Add support for opening backend-specific channels
    
    Allows connecting to TCP services on a tethered iOS or Android device,
    as well as lockdown services on a tethered iOS device.
    
    Our Fruity and Droidy backends already need to do these things for their
    own needs, so exposing this functionality to applications is very cheap
    footprint-wise, and eliminates external dependencies in some cases.

commit 6d42b94970e94e01ce3f9787577249b834479b02
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 24 00:17:24 2019 +0200

    Ignore the XNU driver build directory

commit 65f068c37cd188914901ced0c5624e6a192b1a2e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 23 23:44:05 2019 +0200

    Handle lockdown services requiring TLS handshake
    
    Required by some Developer Disk Image services for iOS >= 13.

commit 373dabd78e754c871637113bb3e3f77bbab5c662
Author: hunterli <hunterli@hotmail.com>
Date:   Fri Sep 20 00:58:20 2019 +0800

    Improve frida-inject to support spawn() (#260)

commit a72848caf298d11c5f4747418c3908a0a16f1b7e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 5 19:58:08 2019 +0200

    Fix crash when HostSession gets lost mid-request
    
    Fixes frida/frida#1009.

commit 5690e820a37124a80a2b80bfd9bc433de595b429
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 5 17:37:56 2019 +0200

    Disable Fruity and Droidy backends on iOS and Android
    
    Such systems are not going to have other iOS/Android devices attached
    to them via USB.
    
    This reduces bloat and improves performance, and most importantly avoids
    the extra copy of OpenSSL because of the Fruity backend.

commit fd291aa93dbcc80f9682511239be9375bb466fa9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 5 17:24:54 2019 +0200

    Fix crash in RpcClient when post_rpc_message() fails
    
    Also refactor it a little bit.

commit a740031ce20af1ee53cb461812ee299814aa05c2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 5 17:02:55 2019 +0200

    Wire up the “detached” signal in frida-inject
    
    Making it a whole lot more useful as a debugging tool.

commit 3e4841dd7302441e2c3c898a7d47923937580db1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 5 16:43:05 2019 +0200

    Move scripts back to LOADED when an exec transition fails
    
    So they may still receive further calls to dispose() on UNLOAD or EXIT,
    or even another EXEC.

commit 7c0b6c1ee81e31f6d9e2782a77f08f55c3abd2e8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 5 16:39:23 2019 +0200

    Add termination reason parameter to dispose()
    
    So agent can discern between process definitely terminating, after e.g.
    exit(), vs. potentially terminating, e.g. after execve(); which might
    fail.

commit 29fb405f01dffcd2aaf8ccb52878eb86473239f7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 5 16:27:51 2019 +0200

    Allow eternalize() and post() in DISPOSED state also
    
    As e.g. execve() might change the state unexpectedly.

commit 9fb76d30949fb07c66f607cae903a656f242e152
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 5 16:25:42 2019 +0200

    Improve validation of -P/--parameters in frida-inject

commit a3b53190169f9c0e5a279f05c08f70caf01ae0c3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 5 16:24:35 2019 +0200

    Simplify JSON-GLib API usage

commit 85cb99d867cc434f742283ef8a51ce5020ebdbfb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 5 16:16:46 2019 +0200

    Add to_nick() helper to public enum types
    
    Useful for applications and debugging convenience.

commit ea3c21024f3b97600535750b18ec1c7dcb4c94cb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 4 16:54:02 2019 +0200

    Fix crash when Future.wait_async() is cancelled last-minute
    
    When the Promise was just fulfilled.

commit 7082c921484dd243dc7a145fa1744db4fa4ba87c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 4 03:35:54 2019 +0200

    Fix crash in find_device() on startup
    
    The ensure_service_and_then_call() helper should defer its work so
    find_device() gets a chance to yield before receiving callbacks.

commit a81325009c94c3de22cd233b17e708cd397b845c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 4 03:29:50 2019 +0200

    Only fetch MainContext once during Droidy start()

commit 0f6ec2c386d1b28a175116270df296a0df98ece1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 4 00:16:06 2019 +0200

    Use CancellableSource where appropriate

commit 5251f9d1f3415f76f1d6a0b2dacf0a29bffb1e46
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 3 11:12:12 2019 +0200

    Fix the find_device() ensure logic

commit fe0e8d2ec8acb6c1e7ed4c0f6720b7e9cd1c1fa7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 2 22:49:59 2019 +0200

    Refactor a little to improve clarity

commit 9248d2ebb4d70febba73403f628dc036a06851ea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 2 18:09:20 2019 +0200

    Speed up early device lookups
    
    No need to wait for all devices to appear if a matching device appears
    before that happens.

commit 1d07c8f2579cc8081e04d59729dc17f25af556d1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 2 18:06:51 2019 +0200

    Tweak declaration to improve clarity

commit 92eb658894624e9d18449fd08f6d690453ddb26f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 2 18:05:54 2019 +0200

    Refactor the DeviceManager start/stop logic

commit cb17b17c34d9b8a32cb7fde63ead7f793c9db3f1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 2 14:20:55 2019 +0200

    Fix cancellation logic in the Droidy and Fruity backends

commit cc323098ab9c34847d85eb7ccbbd4af029c2ad5f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 2 14:20:09 2019 +0200

    Simplify async callbacks

commit 77ffc319827cd2f342ee581bd7d86242d27cc6de
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 5 06:17:43 2019 +0200

    Refactor APIs to support cancellation

commit de2ea6d2cfca636c3958aa9b697867dea3246aec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 26 18:22:38 2019 +0200

    Strip Gadget when “strip” option is enabled

commit fa452624eb105d8432d4b283f0408bb6fa1cd1e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 24 01:08:17 2019 +0200

    Fix library name of the i/macOS agent
    
    The default looks pretty ugly.

commit 74fdb535d99cd50587c30423b6107848ab1d6614
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 24 00:37:33 2019 +0200

    Remove unused property from the ReportCrash agent

commit ea517c0172e082b9b87624cdf3f47549a9140648
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 24 00:00:52 2019 +0200

    Improve ReportCrash agent to support iOS 12.4
    
    Support for older OSes is probably a bit degraded, i.e. crash reports
    won't be augmented with our own agents, but that can be improved later
    if needed.

commit 6f8b242eae0a79f4ebb3556cf092fd0ea58017d7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 23 23:57:39 2019 +0200

    Eliminate use of deprecated APIs in tests

commit 89c5b1677bea8fb3d1ef3409a90e3270b8dafe3c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 22 02:55:10 2019 +0200

    Update to the new Gum.Darwin.ModuleResolver API

commit c6488bf39803b912fd6ec5841d6c8807172267c5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 22 01:30:11 2019 +0200

    Update to the new Gum.Darwin.Mapper API

commit 493ceab1aeb34d5de8f6f4093950ccacd7272730
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 21 22:28:50 2019 +0200

    Emulate dup2() using dup3() to improve portability

commit 389c8cd225d87325b7782dbf0011548a6bc7e2ee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 21 21:19:31 2019 +0200

    Update to the new Interceptor API

commit 86b50ec2c139674417278c7f425db3c764cda9dd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 20 18:37:43 2019 +0200

    Add dup*() syscall wrappers to the libc shim on Linux

commit 4d0fc4eb49e76bb12a5df7733df77d9e34c58f11
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 12 23:06:37 2019 +0200

    Enable frida-server signal handlers on Windows also
    
    The API is there and Ctrl+C emits SIGINT.

commit 35871d58b0fdbb8863826d5d0c4bbdb0e1684723
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 12 19:39:32 2019 +0200

    Fix tempdir cleanup regressions

commit a12569f18d13a7ea642108b43fae0fdbc9522515
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 9 04:49:43 2019 +0200

    Bring back atexit() shim on i/macOS
    
    It's used by OpenSSL for teardown, so it's important that we handle it
    on i/macOS as we're using our own dynamic linker there. On the other
    OSes we can count on the dynamic linker calling the registered functions
    when FreeLibrary()/dlclose() is called.

commit 56f263c5d26aead9f836e822542c9fe47a9aefb6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 9 04:42:31 2019 +0200

    Fix libc shim on Windows

commit cb1a4eb40767a61d50c363761fabe01eb7285097
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 9 04:40:03 2019 +0200

    Omit atexit() from libc shim for now
    
    As it conflicts with crtbegin_so.o on Android.

commit 7b77cce26f2c3275f59006e984b284f17ea524d1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 9 04:38:16 2019 +0200

    Fix gadget's destruction logic
    
    And omit frida_on_unload() on i/macOS.

commit 5ad80e86499dfbb7e7288c64f56ba19d3a805c38
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 9 04:27:57 2019 +0200

    Avoid destructors on i/macOS
    
    Modern toolchain versions now emit a constructor per destructor, each
    calling __cxa_atexit().
    
    We want to make sure we release our heap as the very last thing we do,
    so we shim __cxa_atexit() to make sure any destructors registered that
    way will be run before we deallocate our internal heap.
    
    It would be possible to detect these special constructors and reorder
    them, but it would make modulate.py very complex. We would basically
    have to start parsing the assembly code of each such constructor.

commit d01bc3e73ba91f5dcfec5168dfea045a1612f3ee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 9 04:17:11 2019 +0200

    Add __cxa_atexit() and atexit() to the libc shim

commit e4a44be9f6fa3f255afe772f56e58695d03074cf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 9 00:15:23 2019 +0200

    Improve modulate.py to handle __cxa_atexit() modules
    
    Where destructors are registered from auto-generated constructors.
    
    For now we just ignore them, as we would have to disassemble each
    constructor to know which destructor is being registered. So instead
    of actually solving that, we will avoid using destructors on i/macOS
    for now.

commit db6cfd1532782a5762058ce26f1b301c615a8d02
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 8 23:38:14 2019 +0200

    Improve modulate.py to support ios-arm

commit 8af2e79257642d895d21cab2b7d4d95a92e855cd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 8 23:37:41 2019 +0200

    Port modulate.py to Python 3.5
    
    So we can still use the system Python on distros like Ubuntu 16.04.

commit f1aeac472a979de788b7cc706640a909b893f1bf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 8 20:57:50 2019 +0200

    Refactor the API auto-generation helper script

commit 114ee3c0e1d3c2e027728f2a4edeaa05b2c0dadb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 8 20:57:32 2019 +0200

    Fix constructor/destructor ordering on UNIX platforms
    
    Introduce a new internal tool to manipulate the binaries after linking,
    as this seems like the least terrible solution that works on all UNIX
    platforms and toolchains.

commit 244a47ec32f85d85e236dba1d5b66ddd7f574565
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 5 19:25:06 2019 +0200

    Fix extraction of Android package name from cmdline
    
    Resulting name got truncated in cases where “:” was not found.
    
    Kudos to @xiaobaiyey for reporting.

commit 92dc8f5ef32f06f94b31d4b874797bfb1bdcd385
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 5 00:28:03 2019 +0200

    Fix ownership of string getters in the Plist API

commit 9e3d6597e66a746ca8e2939ba656837d0e9de559
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 5 00:27:13 2019 +0200

    Refactor test to use multi-line string for readability

commit 1736fabf1ac4e5705c9079e7c93f9d677c445976
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 5 00:11:12 2019 +0200

    Suppress glib-openssl warnings by default

commit 455c7162dca287b0a5cd38f206be36229dcd96b0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 5 00:10:22 2019 +0200

    Refactor (de)init logic
    
    Also skip deinit() in frida-server and frida-inject, as it's only useful
    for testing purposes.

commit 32e074e6c1b521e2da9a7b0ef38947252cf3172b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 4 23:28:29 2019 +0200

    Add TLS provider to .pc
    
    Also move registration to the backend so the TLS provider is only pulled
    in when the backend is part of the application being built.

commit d857a3ba50e3f5462f14ade831736f67f325e41f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 4 22:56:12 2019 +0200

    Add test for fast start-stop scenario

commit 00f08f04cec61ef110fce393312660a5212dabdf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 4 21:11:28 2019 +0200

    Remove trailing whitespace

commit 95433bedb4365909ba22d48bdf01653824c16b50
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 11 22:28:44 2018 +0200

    Add beginnings of a native lockdown integration
    
    This is considered unstable API.

commit 82954a77eb43c7ffc1e862089846d1bc87098df8
Author: Ole André Vadla Ravnås <oleavr@frida.re>
Date:   Sun Aug 4 08:44:35 2019 +0200

    Fix libc shim allocator logic (#254)

commit cb598079d7dd4dca4ea7a7c667a774cf0cbc0c66
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 4 05:03:51 2019 +0200

    Fix error-handling when system session fails to start

commit 001cb5e5cb05cddbd5b5b282d8b1369dcf599f6d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 4 05:01:16 2019 +0200

    Remove redundant statement

commit cd9d2c2e454daaf6eb4d20ea2e66650f515331f0
Author: Ole André Vadla Ravnås <oleavr@frida.re>
Date:   Sun Aug 4 04:22:45 2019 +0200

    Handle failure to create temporary files (#253)
    
    Instead of crashing.

commit ba27195656cc63544e6da62812c859c849d4f8f8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 3 07:57:25 2019 +0200

    Fix exec() regression caused by missing FD_CLOEXEC
    
    Our Linjector FIFO lost its FD_CLOEXEC bit when we moved it.
    
    Also make our padding FDs close-on-exec while at it.

commit bbffde52fd658ce9f2277b522f09d8e1e45d0cc0
Author: Ole André Vadla Ravnås <oleavr@frida.re>
Date:   Sat Aug 3 07:19:53 2019 +0200

    Fix crash on unload with latest NDKs on Android/ARM (#252)
    
    We previously relied on the libc++ destructors only calling free() but
    not actually touching the memory before doing so, and this assumption
    broke once the TLS emulation entered the picture.

commit 97fdd168f14eb1c7418cd0dbe4f7ca9c7d7ccf01
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 3 04:49:56 2019 +0200

    Move State enum back where it belongs
    
    This was a temporary debugging hack that got committed by accident.

commit 3436ee251ef14deefb08ceab9053d166284ab839
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 2 07:04:04 2019 +0200

    Allocate file-descriptors in a higher range
    
    To avoid surprises when an application suddenly decides to dup2()
    before execve(). This happens on Android as part of Runtime.exec(),
    where fd 3 is used for feedback from the child process.

commit d6b79c4dce186996ad56b25b00717c2deba3e8cd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 26 01:25:58 2019 +0200

    Fix child-gating deadlock when script unload blocks
    
    E.g. when a NativeCallback is indirectly calling fork().

commit 4b10fe1b6fc3152cddc7c26558148b75156de342
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 24 17:59:14 2019 +0200

    Fix accidental implicit .begin in frida-inject

commit f4abb1e1e1f4c345dc1786e6fbabda1393558da8
Author: Eugene Kolo <eugene@kolobyte.com>
Date:   Tue Jul 23 13:14:07 2019 -0400

    Add -P/--parameters to frida-inject (#249)
    
    To allow specify parameters using a JSON string similar to frida-gadget.

commit bf2c538908995d07e288f28703639a1a7c54463a
Author: CodeColorist <ChiChou@users.noreply.github.com>
Date:   Wed Jul 17 22:38:42 2019 +0800

    Add missing entitlement for app icons on iOS >= 12 (#248)
    
    The “com.apple.springboard.iconState” entitlement is now required
    for SBSCopyIconImagePNGDataForDisplayIdentifier().

commit fecc2dbcf4a4fb88ba8d38517d2757144c6f7863
Author: 葛兵 <gebing@foxmail.com>
Date:   Fri Jul 5 20:43:30 2019 +0800

    Add Gadget executable and package name detection for Android apps (#247)

commit 5fc9e82321868f558622a65009b3bb7e9902680b
Merge: efe63e83 b935cf59
Author: Ole André Vadla Ravnås <oleavr@frida.re>
Date:   Tue Jul 2 21:06:21 2019 +0200

    Merge pull request #245 from frida/fix/spawn-on-ios-12
    
    Improve early instrumentation on i/macOS

commit b935cf590aeb0404a264774980d732165db3b36f
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Jul 2 21:01:09 2019 +0200

    Fix the BAS bits when setting breakpoints in thumb code

commit efe63e83f77a9946fda6a5cb3f2bcde07a02ab88
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 2 15:58:07 2019 +0200

    Fix accidental timeout of 25s for child-gating resume()
    
    Kudos to @trufae for reporting.

commit 52a62ae29eaf46f04958691c446fb8bbc201b9ea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 2 00:31:16 2019 +0200

    Improve early instrumentation on i/macOS
    
    - Always set up the fake helpers, as also the latest OSes need them now.
    - Fix the ret gadget behavior when used for both helpers and strcmp()
      in combination with single-stepping (x86).
    
    This means iOS 12 is now fully supported.

commit 13af015531ce73c92c9630df240be07a456b2453
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 28 21:54:13 2019 +0200

    Try to platformize when running on unc0ver
    
    We rely on launchd to restart us, but also leave a hint before exiting
    in case we are running interactively. (It appears we cannot execve()
    ourselves due to a system policy issue, which I will ignore for now as
    we are normally under launchd's control.)

commit ba70157b22bf301652cc81179a1b9d64c6371307
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 28 21:41:49 2019 +0200

    Improve the Substrate detection logic
    
    To make it handle multiple injections.

commit dd69ad9be80eda6e172d16d924c3db3080f6e40c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 19 03:18:04 2019 +0200

    Improve Linux injector's success rate on Android
    
    The module name might be ambiguous in the remote process, so we resolve
    it using the absolute path of the module that matched locally.

commit 2fe99f8bc30fa0fc9c1c4b99bdada1d27bc936b5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 19 03:13:26 2019 +0200

    Add support for the latest Chimera iOS jailbreaks
    
    The jbd_call() symbol is no longer visible, so we improvise.

commit a37515462d792dcade5c7b567c2e70633a400107
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 1 23:08:00 2019 +0200

    Fix unicode-handling in generate.py
    
    Which just became evident now that one of the source-files contains
    unicode characters.

commit d7e721d038659b16a1057a708b556c25957de334
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 1 22:31:22 2019 +0200

    Fix support for talking to old versions of Frida
    
    This was an oversight when adding the script options API, where our
    server implementations did support old clients, but our new client
    did not support old servers.
    
    Big thanks to @eugenekolo for reporting this issue.

commit bd16b6fbbf43da4f27019d7534be4d3a3deef1d6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 31 18:27:41 2019 +0200

    Remove leftover blank line

commit 76299807d02aafd1cbd29eeddc349de2e7d8d25f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 27 17:13:27 2019 +0200

    Fix libc shim regression on i/macOS
    
    The system headers #define memcpy.

commit f69e46e6dc39c5d3ad1cb95c1271940f1e3acd7e
Author: iGio90 <giovanni.rocca.90@gmail.com>
Date:   Sun May 26 18:47:10 2019 +0200

    Add memcpy() to the libc shim (#244)

commit 7ac423c74a68b1452fb7a61a7adf013d1d86c9e8
Author: 葛兵 <gebing@foxmail.com>
Date:   Fri May 24 16:44:59 2019 +0200

    Fix deadlock when fork+exec child is not followed
    
    We should release child gating before letting the fork() complete in the
    child, so that if the application does not enable child gating the child
    will not end up getting stuck.
    
    Fixes #243.

commit ec7c235ed3dce773ffd99c99254f4910e0d98c03
Author: 葛兵 <gebing@foxmail.com>
Date:   Fri May 24 22:36:28 2019 +0800

    Fix child-gating when child changes architecture (#242)
    
    If resume() fails to due invalid PID, we retry on the other helper.
    
    Fixes #241.

commit 4f1b7d62e240b14c66758647ff9bb1a84118ed27
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 19 19:49:23 2019 +0200

    Add SuperSU support to CrashMonitor
    
    And improve its teardown logic.

commit e4735d00b495cbb76f16fb7eac6ae5d8f7c5f7e2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 19 19:48:22 2019 +0200

    Add teardown and cancellation logic to SuperSU.Process

commit 978d1a789550488f589c7a1b2cd53ad53189613b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 19 18:33:26 2019 +0200

    Fix teardown crash on Android
    
    When CrashMonitor is unable to spawn logcat.

commit 39c70bec6b5f676e5ea37e736ebc32b260e9efa2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 19 02:31:50 2019 +0200

    Disable libc shim when building with ASan

commit 8f3d1f218b42f7bdc6dc6ec68e9d2c6395b1252b
Author: xiofee <xiofee@gmail.com>
Date:   Tue May 14 12:05:27 2019 +0800

    Improve detection of Apple USB devices on Windows
    
    - Use “Label” when “FriendlyName” is missing.
    - Try matching UDID against device path as well.

commit a5c573c608d4c42df9ef9ca3c3b15bc9c4d28a94
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 15 18:09:01 2019 +0200

    Add strdup() to the libc shim
    
    Our libunwind dependency uses it.

commit fafd26f4317c6bf1af80df39ec221ed14bcb86e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 15 01:22:11 2019 +0200

    Fix crash on i/macOS when remote thread creation fails
    
    The policy softener was seeing a release() before a retain(), as the
    on_inject_instance_unloaded() callback was called without checking if
    on_inject_instance_loaded() actually happened.
    
    This has been reported by people trying to use Frida on A12 devices,
    which we don't fully support yet.
    
    Fixes frida/frida#870.

commit 6b4216ef4aa9a63159600ad1d1886e53590e6ae4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 13 17:44:50 2019 +0200

    Add missing SELinux rule for LineageOS 15.1

commit 5cf5bf0f6a2aa08ba5b8e423742351033ce56d57
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 11 04:41:10 2019 +0200

    Factor out gadget entrypoint on UNIX
    
    So we can play with the linker's command-line and put the entrypoint
    object file last, which means it will run _after_ V8's initializer has
    been run. This is a terrible hack, but will have to do until we find a
    better solution.

commit 887438b40593f8d2c7e3e5cd083f2c895bfe5c73
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 10 21:21:12 2019 +0200

    Use Module.getExportByName() where appropriate

commit 45fa16b33eb3b6cf35388ca174fb0eb4475899ac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 10 21:18:04 2019 +0200

    Remove redundant 'use strict' directives

commit fe56cbac0be6bf511d9807e8807a873b6577c62e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 10 19:21:20 2019 +0200

    Align compile_script() with create_script()
    
    For consistency and to allow future expansion.

commit 71df6a0018cf25c2b689c10695f62aa553b8230a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 10 18:52:52 2019 +0200

    Remove Duktape debugger support
    
    Debugger functionality is exclusive to V8 for now, as script runtime
    selection conflicts with it. The fix is to write an internal gateway
    that translates between Duktape's binary debug messages and the JSON
    protocol spoken by V8.

commit e4639e1c46f0c06e104a2ad767dde2c3f0415fa5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 10 18:46:40 2019 +0200

    Fix backend selection logic wrt enable_jit()

commit cc51064c866004d2ff34185ae16d31a3fadaff4a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 10 18:38:15 2019 +0200

    Add support for specifying script options (#238)
    
    The only supported option for now is for explicitly picking a JavaScript
    runtime. This means that enable_jit() is now deprecated, but works
    better than before as there is no longer any restriction on when it may
    be called. All it does now is change the default for scripts created
    without specifying which runtime to use.

commit b34bfa70eb14051ffe9b26ccd74e1ca74dc366de
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 10 00:30:58 2019 +0200

    Fix typo preventing frida-gadget from linking

commit a33afae6a4818189b3a8056453e9a9295b471139
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 9 21:10:42 2019 +0200

    Canonicalize the Meson option names and declarations
    
    And use GumJS' new .pc file variables to detect whether we need to force
    C++ linking.

commit 2ce62908995a8e535e6372d0cceb15ec868d13a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 7 22:20:17 2019 +0200

    Don't enable diet mode by default on embedded Linux

commit 5a2a54e8a380825d68a83ac8c5168a2a74892462
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 18:47:12 2019 +0000

    Fix tests on non-x86 Linux targets
    
    The resident agent labrat is available for all architectures.

commit aaee5bbeaad7460e98db329d8ec8cd7d244a0401
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 18:45:12 2019 +0000

    Fix injector on linux-arm64
    
    By making a bit more room for the pthread_create() call.

commit 119e61982c380f6c38fbdae3162c0b65b3caee17
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 18:40:31 2019 +0000

    Include asm/ptrace.h on all architectures
    
    Instead of relying on it implicitly being included, which is not always
    the case.

commit e9555069720f864d72189ce03e20e0a49c270586
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 17:30:42 2019 +0000

    Add labrats for linux-arm64

commit 52aa42f314ab847cec23d871d1355159bd49a24f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 04:01:01 2019 +0200

    Suggest disabling Magisk Hide when attaching to zygote fails

commit baa93d85c4ab0a7f179da141328e6b27a2ba582b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 03:28:54 2019 +0200

    Build frida-helper executables without any exported symbols

commit 0c5d984b83006223bc76a2b5de7dccd6c6168b77
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 03:02:29 2019 +0200

    Only use a helper process for cross-arch interactions on Linux
    
    Makes our binaries smaller and startup times shorter.

commit fe9f9e32e9f0a14767e173ab8a64a6d713004917
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 00:26:07 2019 +0200

    Limit frida-server preload warning to verbose mode
    
    Attaching may still work, and the same error will be seen by the user
    when trying to spawn().

commit b6aeac806a32f973801735e98607d93e38880e58
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 20:49:09 2019 +0200

    Simplify the Linux injector's Android bits
    
    By using the new Gum.Android API.

commit ce10a2c3d640089fc58d37184f907d920233c27c
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Wed May 1 22:09:57 2019 +0200

    Fix spawn on Chimera jailbreak (#236)
    
    By reimplementing jb_connect(), jb_disconnect() and jb_entitle_now(),
    which are now just empty stubs in libjailbreak.dylib.

commit 95d8f2ac24b29405bcf55c0a72bb85b7654ea983
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Wed May 1 18:19:21 2019 +0200

    Fix buggy iOS kernel check (#237)
    
    By explicitly excluding 12.0 GM to 12.0.1 from the buggy set.

commit a4abd22212351ca3c5cecfb036d02b25976ff3a0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 22:39:08 2019 +0200

    Fix stylistic inconsistency

commit 2a9752475e55c4da09639d0c0eb7c49dfe01e5b4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 16:04:58 2019 +0200

    Remove the C++ allocator to fix crash on Android
    
    It's covered by the libc shim, and we don't want to deal with the same
    edge-cases in two places.

commit 7fa2b5adb1c676882c38f34c717b913333c204c3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 13:16:16 2019 +0200

    Add teardown to the resident injection test

commit f37872d8238d13cefa866905e372b9a347079f90
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 01:02:58 2019 +0200

    Prefix errno helper with underscore for consistency

commit feb2e1c3c4af0b0268dd27d2d4b7e2c6ed7a2bd0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 01:00:41 2019 +0200

    Fix linking on android-arm64
    
    The distance between our syscall wrapper and frida_set_errno() is no
    longer within the range supported by a conditional BR instruction, so
    we need to fix this brittle assumption.

commit 9ca150a7c052e0d6d77cb4d140fc3197c96779bc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 28 22:19:39 2019 +0000

    Fix crash when agent/gadget gets loaded at a high 32-bit address
    
    Which would end up breaking the reflective logic that determines where
    in memory it's loaded.
    
    Casting directly from a 32-bit function pointer to a uint64_t means that
    the function pointer will be sign-extended, i.e. if MSB is set the
    resulting value will have all of its upper 32 bits set.

commit 9ee73a4c246245f0299812090b571cf1065fb13a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 28 21:13:23 2019 +0200

    Build executables without any exported symbols
    
    This means the linker can make them smaller, but more importantly also
    avoids conflicts with dynamic symbols from system libraries. The latter
    has already caused some pain due to Frida's proxy-libintl clashing with
    a symbol in glibc.

commit 0d1e70d90c7e1cf75d3c0ee381541dfbab171bb0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 28 20:47:14 2019 +0200

    Fix unused result warnings reported by GCC

commit 98e531b97ea5e8305ca3391fdcd29990e87d8cd4
Author: Florian Märkl <info@florianmaerkl.de>
Date:   Sun Apr 28 18:29:43 2019 +0200

    Add g_set_prgname() to frida_init() (#235)
    
    Co-Authored-By: thestr4ng3r <info@florianmaerkl.de>

commit 675b520828e83be8415ef34bea867bd30e013704
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 28 04:31:58 2019 +0200

    Improve libc shim to handle early and late heap API usage
    
    E.g. libstdc++ constructor calling malloc(), and a corresponding
    destructor calling free().
    
    This solution does however have one dangerous assumption: allocations
    may not be used during destruction, only freed. We can however verify
    this statically through manual inspection.

commit 564f4c12eefb7a0c0b0bb1fdd250c49ebf806030
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 26 21:47:03 2019 +0200

    Move C++ allocator shim to frida-payload
    
    And add missing `noexcept` specifier.

commit b15cb49018da8f3d265820769a019288ff2e4595
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 26 21:21:01 2019 +0200

    Run agent tests with V8

commit a09eea3699e47c888aa364683dbf87500a75c634
Author: Fernando Urbano <fdiazmalaga@outlook.com>
Date:   Fri Apr 26 15:34:21 2019 +0200

    Fix child gating on older Windows versions (#234)

commit d690acfb0a54db2df3529a2a30eb1c3c75126130
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 25 23:42:50 2019 +0200

    Don't override new and delete on Windows
    
    As we're using a static runtime there and don't want to worry about
    early calls from constructor functions.

commit 0a4ec82162158a5c3a51f7b75abf34cebbb806c0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 25 23:41:47 2019 +0200

    Only provide a throwing delete operator override
    
    As the throwing new and delete are at the root of the graph, i.e. the
    default implementations of the other overloads end up calling them.

commit 29ffd2f78062bad50b0bfc5cfddb6efc82dd6213
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 24 15:36:47 2019 +0200

    Fix the C++ allocator shim

commit 70b581ad768e17260d2e24dec591bc4f8372abaa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 24 15:36:05 2019 +0200

    Remove the iOS JIT server
    
    It is only useful on old versions of iOS, and it's a better long-term
    strategy to always have a fallback code-path for non-RWX systems.

commit 8f4a3e837e26d895f1c38ebe9e4ba515c0b99104
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 23 21:48:28 2019 +0200

    Factor out common logic into frida-payload
    
    To avoid duplicated logic across agent and gadget.

commit 1376cf9a15159231434a327a51b11f89126d4a68
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 18 02:41:19 2019 +0200

    Redirect C++ new and delete to our internal heap
    
    Also redirect calls to C APIs, as this part is not pluggable in V8.

commit 307478b0c6aa37ab0b1ee92bc28e669b989193aa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 13 01:34:57 2019 +0200

    Suppress frida-server debug output by default
    
    Unless “-v” is specified.

commit 6da9c9ee6959921f54125ac15d3078351c50241d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 13 01:14:26 2019 +0200

    Remove signing logic for gadget and server
    
    Latest Meson does fixups at install time, which invalidates the code
    signature. This means we need to move this logic to the meta build-
    system level.

commit 2d2b3982e78a7cc81b6d58aeca42b002efafe55c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 12 22:27:25 2019 +0200

    Fix assertion usage in implementation vs test code
    
    Implementation code should never use g_assert_cmp*(), and test code
    should never use g_assert().

commit c6aa4020285421557967dd357ae082817596bc8c
Author: stevielavern <stevie.lavern@gmail.com>
Date:   Fri Apr 12 14:32:17 2019 +0200

    Make it possible to disable tests (#232)

commit a80d3ee43664a691ac9b582bddb77e41c948172a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 11 23:49:39 2019 +0200

    Revive the iOS backend on the new Vala compiler

commit 5aa3530a3ce1356cab6776d11e960adefd5d5e8a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 11 22:06:09 2019 +0200

    Port to the latest Capstone API
    
    Now tracking upstream's “next” branch.

commit 3cab36c160216c82c7c6a26d664dedac84966f31
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 11 21:04:46 2019 +0200

    Tweak custom targets further to satisfy latest Meson

commit e7965238d8aa32b4b926d82f32335895dae4e9de
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 11 20:41:46 2019 +0200

    Improve custom targets to satisfy latest Meson
    
    Inputs should never point to not yet existent files unless they're to be
    generated by the build system.

commit b4cfac55d6982dc0898345833d30873c63ebe0a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 7 01:29:15 2019 +0200

    Fix constructor visibility
    
    Constructors of abstract classes should not be public, and this is
    enforced by the latest version of Vala.

commit eeeb8d2e1a977fa837885b4dd6e0ea0c78e4fdd1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 7 00:54:03 2019 +0200

    Fix inconsistent ownership declaration

commit 67c1542d8608c4158c402be3f5f863f912becd27
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 6 18:23:35 2019 +0200

    Port to latest GLib and Vala

commit fdb31dbfe42e0324a0852b4ba393c14b6b9183dc
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Fri Apr 5 18:45:17 2019 +0200

    Improve iOS crash reporting (#233)
    
    - Avoid trying to deliver crash reports to dying xpcproxy processes.
    - Bump all delivery timeouts which aren't still expired at the time a
      crash report process is detected, in case it takes too much time to be
      attached and instrumented (especially when recovering from memory
      pressure after a Jetsam event).

commit 79c60f46d868fd4c61ea515b13222115967df19f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 30 01:40:21 2019 +0100

    Fix reference loop preventing proper teardown
    
    Typically resulting in temporary files left behind.

commit 7185d1a69e90bf988571aeb6e14b63ce30545dec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 30 01:16:13 2019 +0100

    Preload when starting frida-server on Android
    
    To speed up the first app enumeration and launch.

commit d0f881bded9555cf6150438492b0b0ff336f3b0e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 29 20:15:49 2019 +0100

    Improve probing of dyld internals
    
    The module initialization function's end boundary is hard to detect
    through disassembly, so we use the starting address of the function
    following it instead.

commit 32eea21c00a9bb18c6f26bedd10575a062349916
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 29 19:20:12 2019 +0100

    Fix macOS spawn() regression
    
    By reverting to the old dyld helper detection logic for now. This means
    it may not work as well on iOS 12, but I suspect we are depending on
    undefined behavior as it is currently.

commit 35e0c72448462f418fb5557454f92eabceecec28
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Fri Mar 22 00:36:24 2019 +0100

    Fix iOS memory limit adjustment logic reliability
    
    Some daemons were mistaken for apps, resulting in Frida not adjusting
    their memory limits.
    
    Instead of keying off whether there's a plist next to the executable,
    parse the executable headers and look for a dependency on UIKit.

commit d0c22cba6eb7bdba91fa53fd9d898da32d4936d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 27 11:32:29 2019 +0100

    Fix double close() in the Linux injector
    
    This typically resulted in Zygote getting stuck on Android.
    
    Kudos to @giantpune for reporting and helping track this one down.

commit c6c0ddde7895111b07b88f0944ac94727dfc057c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 27 02:41:03 2019 +0100

    Revert "Fix FIFO race condition in the Linux injector"
    
    Turns out the issue is still reproducible, just way harder to reproduce.
    
    This reverts commit aa14493b26858770b62cbcda22f81a55ac101262.

commit aa14493b26858770b62cbcda22f81a55ac101262
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 27 02:16:27 2019 +0100

    Fix FIFO race condition in the Linux injector
    
    The cancel() logic should flush the main context so it is safe to close
    the file-descriptor as soon as it returns.
    
    This typically resulted in Zygote getting stuck on Android.
    
    Kudos to @giantpune for reporting and helping track this one down.

commit 0e04f59f9372abc4a51cd924ac8402782ed3aa95
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 15 01:25:31 2019 +0100

    Tweak the internal iOS agents to improve readability

commit 270d34dbadaab9261366fb48520575934a3b8e61
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 15 00:19:57 2019 +0100

    Fix fragile assumption in the spawn hook
    
    The user might hook functions in launchd and confuse our internal agent's
    hook. The depth should eventually become per-script and not per-agent,
    though.

commit 33e293b030eb1d6caffc6fbb96df8a879cd2b0a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 15 00:03:33 2019 +0100

    Port internal agents to the modern memory r/w API

commit c332d73f9a67c6352213eef349ff4624d2a9239b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 14 21:45:03 2019 +0100

    Fix spawn() on substrated-based iOS jailbreaks

commit d52a1cd30eaceb6a922aff4d93f462e87b0bfcf5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 13 00:52:08 2019 +0100

    Fix build regression with older kernel headers

commit 343ac70b83fe11065a1226e4add82416858c2c62
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 12 23:41:24 2019 +0100

    Fix unreliable child gating on UNIX
    
    It's very common practice to close() all file-descriptors between
    vfork() and execve(). Because of this we need to guard our FDs against
    close() when child gating.
    
    This was easily reproducible when following Android's Runtime.exec().
    
    Kudos to @giantpune for reporting.

commit ec9abc6e705a4faf4ffb17ea46ef46fc2aed640e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 12 23:39:41 2019 +0100

    Improve frida-agent memory range detection
    
    So it can be renamed without breaking the algorithm.

commit 09740e4b0a34613e556daed3dc884c600b91a973
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 12 21:18:09 2019 +0100

    Use PTRACE_SEIZE when supported by the kernel
    
    This makes our injector less intrusive and speeds up exec()-transitions.

commit 44fb2bc407691066d3ca3fb25ce57925bacc3be9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 12 20:09:17 2019 +0100

    Fix accidental SIGPIPE in parent during fork()
    
    We were closing the FIFO before the parent's agent thread had a chance
    to stop.

commit 9edbe3271475f148c21bdc2a918e08874fc31ae1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 12 20:06:14 2019 +0100

    Always use a typedef when defining FridaRegs

commit f60f42f5d59d8a736f9d41872110317763f6eaa4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 11 22:02:32 2019 +0100

    Fix race where frida-helper connects too early
    
    We need to give DBusServer an iteration on the main-context before
    launching frida-helper.

commit b716c7105ec6cfd4e746f847dc93ef8a63d25ecd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 11 21:59:12 2019 +0100

    Bump frida-helper setup timeout

commit fedebbaec82d8f71a0cad7023dcb82da788c930c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 11 20:20:13 2019 +0100

    Fix error propagation when unable to spawn helper

commit ffe2c7fb16f34a8fddc46d25e1903ddae54d300b
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Fri Mar 8 17:07:08 2019 +0100

    Add preliminary support for iOS 12.x (#230)
    
    - Avoid calling into SpringBoardServices during app launch.
    - Let `need_helpers` to always be `TRUE` for now.
    - Include iOS 12.0 in the buggy set because the beta is still buggy.
    - Deal with `SBSCopyFrontmostApplicationDisplayIdentifier` returning
      garbage of length 1 when no frontmost app is there.
    - Add the `com.apple.private.security.container-required` entitlement
      set to `false`.

commit 8cd0355fe23c84cff35da75543812e80a6ff1ea6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Feb 19 14:04:00 2019 +0100

    Fix deadlock when JS thread terminates process
    
    E.g. by directly or indirectly calling abort().

commit c9d577539ff73a83f89d7bf028ca0b10edc516dc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Feb 12 21:48:24 2019 +0100

    Fix injection into 32-bit processes on Android 9
    
    By taking Thumb vs non-Thumb into account when parsing the dlopen()
    implementation.
    
    Kudos to @giantpune for reporting and helping track this one down.

commit 839ab54e1475334a2cd50ca3446fb6e177e8b28c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 4 23:13:42 2019 +0100

    Revert erroneous Windows build system changes

commit d9c749cf98546defcd96c4a1468de9498ae84286
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 4 22:05:51 2019 +0100

    Revive the Windows build system

commit b0bf8b799ab98cff342bd304824cf114490a7690
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 4 21:56:12 2019 +0100

    Add spawner labrats for Android

commit 4da3d2d687fa862f9af538c1f214e111af974a7e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 4 19:24:16 2019 +0100

    Fix child-gating of "bad" exec() followed by "good"
    
    Also update some of the labrats, and remove the outdated ones that we'll
    have to re-add later.

commit f8e002be0a2feea5d5895cea980f85e05a5daed8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 4 13:22:36 2019 +0100

    Fix buffering logic in the SuperSU client

commit 122d80e719f74e0181a0587bcb419f5c3152a46d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 2 01:27:36 2019 +0100

    Add Crash summary
    
    Also improve the logcat crash builder and fix the buffering logic.

commit de5903e3fc8fe44a3caf50f6244b5d8435c2c56a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 1 16:50:54 2019 +0100

    Fix the RPC message handling

commit 292e7bec0bc31a8ecb1e16735052c7eb16a6d15f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 31 17:26:29 2019 +0100

    Handle bogus stack frames in the ReportCrash agent

commit c5a8ec319ec70d5f55708d399b491024ef47bcc1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 31 14:22:29 2019 +0100

    Factor out RPC logic into a helper class

commit c8713fcb820d64289770fd2b9f52d7d6a9559cca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 29 15:39:36 2019 +0100

    Canonicalize iOS crash report parameter names
    
    So `bundleID` becomes `bundle_id` for consistency with the other names.

commit 2450398e27141e6398c6e89d86ae553ac5ac2d3c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 29 15:13:29 2019 +0100

    Refactor JSON-related logic for improved consistency

commit 22b0686c2268e6a89befa1e44bade13025663755
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 28 23:55:03 2019 +0100

    Add crash reporting APIs (#225)
    
    Introducing:
    
    - Crash class with: `pid`, `process_name`, `report`, `parameters`
    - Device::process-crashed(Crash crash) signal
    - Session::detached(SessionDetachReason reason) signal is passed an
      additional parameter: `Crash? crash`
    
    Only implemented on iOS and Android for now.

commit a337a275124f65005fff6e750a4c6cf95c6fd100
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Jan 21 13:50:30 2019 +0100

    Fix additional deadlock scenarios on i/macOS (#224)
    
    By handling cloaked threads in task_threads() and thread_resume().

commit 3c54610353f503c10c4fb86e706019e410bf36a3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 12 02:10:49 2019 +0100

    Make i/macOS process enumeration more robust
    
    So we avoid undefined behavior in case a process dies after we've listed
    the processes but before we've resolved all of their names.
    
    The undefined behavior has been observed to result in entries where the
    name is the same as the previous alive process. It could obviously also
    result in junk.

commit 0e9eaf0d2b265a59e0b0d36144bfa9dcbb1ab3fa
Author: Giovanni Rocca <giovanni.rocca.90@gmail.com>
Date:   Sat Jan 12 00:47:59 2019 +0100

    Improve frida-inject to accept script on stdin (#222)
    
    By specifying dash as the script path.

commit 646ef30f271891d4a041d454dbdac8ed6cad4c44
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 12 00:13:12 2019 +0100

    Fix iOS early instrumentation stability regression
    
    The dynamic memory limit adjustments introduced in fbbdf4b made the
    policy softening stateful, keeping track of whether a given PID that
    we've got an agent in has already been policy-softened. That means a
    cache invalidation bug may break exec-transitions because we fail to
    entitle/platformize the post-exec version of the process. I.e. when
    xpcproxy becomes the app or service being spawned.
    
    Turns out we did not take into account the case where the invalidation
    happened after we considered the exec-transition complete. This meant
    that the spawned/spawn-gated process would die pretty quick, and make
    attach() fail with the following error:
    
        Expecting to read a single byte for receiving credentials but read
        zero bytes
    
    We fix this issue by explicitly notifying the backend when an exec has
    completed. The backend is then able to flush its dispatch queue, and
    eagerly clean up any injection instances for the given PID.

commit 538c592f1a9882ebd2affda734dca566f74ae2cf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 11 23:49:53 2019 +0100

    Fix outdated comment explaining exec-related quirk

commit 8525fa253625817a2d2f11a1cb6dd7abe2ef9f13
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Fri Dec 14 16:22:28 2018 +0100

    Keep a task port ref while spawn instance is alive (#221)
    
    To avoid it being destroyed too early in case the app takes too long to
    be loaded.

commit 5be90d75f8d86f59e34c358bbb1ded952a4f7d89
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 5 03:26:08 2018 +0100

    Refactor the iOS memory limit logic

commit fbbdf4b770bd88488b89b26cd99d1b846fd4cbc7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 5 00:15:10 2018 +0100

    Bump iOS memory limits for non-apps before attaching
    
    To be able to instrument daemons with low memory limits.
    
    We revert back to the previous limit when the last injection payload
    gets unloaded.

commit 1e1c517897f7a83c78b4b74f8764189934a1a0b6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 29 02:52:16 2018 +0100

    Only build ElectraPolicySoftener for iOS

commit 10e011882304e14ad2175f7e43c18d892410c665
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 29 02:51:13 2018 +0100

    Simplify the kernel agent availability logic

commit 60fb74ab40542e63f52bc4b963103a1fcc26123b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 29 02:04:08 2018 +0100

    Speed up the Electra integration
    
    By using libjailbreak.dylib and re-using the same connection. This also
    works even if the daemon dies.

commit 56b8b55815c67b1fa7b5c483bf92e1724c600175
Author: Rory McNamara <psychomario@users.noreply.github.com>
Date:   Thu Nov 15 17:46:52 2018 +0000

    Add -d/--directory for overriding the temp directory name (#220)

commit 946837a98508686f21fe3e0198622d6b213896ba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 9 01:46:03 2018 +0100

    Update to the new Gum.Darwin.Module API

commit 713e1b85018f29a633de1aba99124bef19f178b5
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Nov 8 15:18:25 2018 +0100

    Avoid deadlock when a thread suspends itself (#219)

commit 99d7ded2b3dd5ba4666a462f6e3158712f431a3b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 6 22:24:47 2018 +0100

    Improve SELinux rules to better support Magisk

commit d915fe2d18750a552cf5ca10d5506f33d0f5a40f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 6 21:56:13 2018 +0100

    Fix stylistic inconsistency

commit 0b54dae6b0efcf1ded930162649223ef6223c2ad
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 5 21:22:13 2018 +0100

    Fix warning regression on non-Darwin

commit ca58d8990bb7f4b5fe51901e6bc5aef31a08d5df
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 5 21:14:52 2018 +0100

    Flush Stalker before exit

commit 535d5f7f243b488f00bc54c1db33f9cf33467ca4
Author: tobypetrice <44373012+tobypetrice@users.noreply.github.com>
Date:   Mon Nov 5 15:13:40 2018 -0500

    Add support for systemless root on Android (#215)

commit 07280a21993beb0bb88afd022b8c751dae6c40a9
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Oct 30 16:33:02 2018 +0100

    Add retry logic around task_info call (#217)
    
    Apparently `task_info()` fails randomly with “invalid argument” (and sometimes
    “mig server died”) because we’re calling it too early in task’s lifetime. It
    will now retry at most 3 times before giving up.

commit 8f1892beba3bb473601d971c4c32adfbaccfa5b2
Author: tobypetrice <44373012+tobypetrice@users.noreply.github.com>
Date:   Mon Oct 22 20:21:13 2018 -0400

    Fix stack alignment for 32-bit ARM targets (#214)
    
    Should be 8, not 16.

commit 3fe24c3a1e12abb54d7d89d6d5ca601211fcef8a
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Fri Aug 10 19:29:54 2018 +0200

    Fix thread_suspend() deadlock
    
    - Prevent Frida's own threads from being suspended.
    - Ensure that the target thread is not waiting to acquire our JS lock
      at the time when it is suspended. This is quite tricky because XNU
      happily hands over lock ownership to waiting threads even while
      they're suspended.

commit a2020dd183a89b308e133e28a3d6f610d80eebd7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 23 01:59:28 2018 +0200

    Fix a few minor stylistic inconsistencies

commit 9afe797f2f27d1a094211fbd83700b3625a3629d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 22 18:54:47 2018 +0200

    Add failing test for thread_suspend() deadlock
    
    Kudos to @mrmacete for helping track down the root cause of this issue.

commit 31f42414689fd81878fd0d2466d88933bbceed2e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 19 00:25:24 2018 +0200

    Refactor the system-server agent

commit c4d827d3f2f6d73e9c5ab583e018d71a65d29ab0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 19 00:22:06 2018 +0200

    Disable launch timeout when spawn()ing Android apps

commit e90f52fa695084dcf702b22e1f3c42bd18aa563b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 18 23:20:44 2018 +0200

    Fix unreliable spawn() of already running Android app
    
    By leaving it to the system to stop it correctly.

commit aa1b19e51da6d7d6dd5dbdd02be7bd48e59d3b13
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 18 23:08:45 2018 +0200

    Make kill() gracefully stop Android apps
    
    Which is consistent with how we do it on iOS.

commit 149ad00b7487c1aab16fca96abe89e47e9852873
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 18 19:55:40 2018 +0200

    Pick the most important PID in Android app listings
    
    Typically one presenting a UI.

commit f529e19a3d2881df8d03bb8855b0c8eb38de97a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 18 19:14:12 2018 +0200

    Move Android agent from systemui to system_server
    
    So we can hook Process.start() and other interesting things.

commit c4f0ed02d2bda1e06d248fa34ce4e9eda8ac4ffa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 17 02:35:02 2018 +0200

    Speed up initial app listing and launching on Android
    
    By kicking off the systemui agent on startup instead of waiting for the
    first request.

commit 5243fe00ee9545c4865b2e69ba67f577fe978a2d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 17 02:13:52 2018 +0200

    Speed up app listing and launching on Android
    
    By making the systemui agent run on V8 instead of Duktape (the default).
    
    Measuring enumerate_applications() on a Nexus 5X with a freshly started
    frida-server this brings the first call, the "cold" case, down from
    2322 ms to 1601 ms. For a subsequent "hot" call it goes from 448 ms to
    231 ms. These measurements include RTT over USB.

commit 6193db218e9f31cfe2246bdd48afd13a20147a8a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 10 22:55:52 2018 +0200

    Wire up TLS providers in agent and gadget

commit f4361c2d9d8be7774ee52b60eb78be578cccde0e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 9 02:46:40 2018 +0200

    Disable diet mode by default on iOS
    
    Now that it is once again possible to use V8 on iOS.

commit 823c7f9117deeae1cc1567ffa07e8bbbd0d66e72
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 3 19:06:47 2018 +0200

    Fix the Android class name canonicalization logic

commit 661d7f20db8b3be59548a880bfc11656f2d559ba
Author: Dr Zoidberg <0x3430D@gmail.com>
Date:   Wed Oct 3 03:46:31 2018 +0200

    Add support for spawning Android broadcast receivers (#213)
    
    By specifying the `receiver` and `action` aux options.
    
    Also be as forgiving as the system if the class name is bare and does
    not start with a period.

commit 6858f43cf24b03128168eb0399d457b1c22ab585
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 29 02:58:27 2018 +0200

    Add watchdog logic to the XNU driver
    
    Disable spawn gating if an entry is still pending after 20 seconds.

commit 22f5dcf06ec28f9efc24c2822e1ab77fb4bdc0fe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 29 02:55:13 2018 +0200

    Don't rely on “realpath” in the XNU reload script

commit c1a527b8c00a01a4cc82835b41cbc2dd59a99948
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 28 20:02:10 2018 +0200

    Fix regression in the XNU symbol resolution logic

commit c3e7d1dafc0968f55faa4503c1a048df874e11d6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 28 19:46:25 2018 +0200

    Improve XNU driver to support kqueue/poll()

commit 206c13bf1aaf191a3ff0c110e153ad279c0d4cee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 18 01:58:37 2018 +0200

    Also emit `uninjected` regardless on Windows

commit db8041eb4b478fdd5947e3d50d66805ed7b1da6e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 18 01:34:13 2018 +0200

    Fix child-gating regression
    
    Broken by 92a18955c86d390a81df28099a49ba4672f016fe.

commit 684ba45f8f2a722d82c317e3c1c7d7d3ebdf5ae6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 18 01:33:19 2018 +0200

    Update injector resident test to the new behavior

commit d63ac9d9da8a610452db5b55afe8410a107649e6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 18 00:36:56 2018 +0200

    Add -n/--name for specifying process by name
    
    And improve error-handling while at it.

commit 973048514bbeaef74fb0c88334a54e220781a61f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 18 00:17:20 2018 +0200

    Add -e/--eternalize for permanent instrumentation
    
    Handy for applying tweaks that should never be unloaded.

commit e895c916e61053dff7f8ec856ddf8806c4745162
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 18 00:16:33 2018 +0200

    Exit if unable to start

commit 832e647577013313aa8f8cea86bbff319c536a67
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 17 23:14:04 2018 +0200

    Also emit `uninjected` when unload policy is RESIDENT
    
    So the client knows when the remote agent's entrypoint has been run.

commit 92a18955c86d390a81df28099a49ba4672f016fe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 17 22:11:59 2018 +0200

    Add support for eternalizing scripts
    
    Such scripts stay loaded indefinitely, and the agent stays resident
    for the remainder of the process lifetime.

commit b7fe0fc30e9d029438df9c29da58a701c91060fc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 12 02:31:02 2018 +0200

    Improve helper process teardown performance and safety
    
    We have already closed the connection so the helper knows it can stop,
    and since we're on UNIX we can obviously unlink the files at any time.
    
    This improves performance on teardown, but also avoids relying on GLib's
    signal watching logic, which becomes problematic when more than one copy
    of Frida is loaded in the same process. The issue is that each will call
    sigaction() with the same signal number, meaning that only one of them
    actually gets the callback. It may sound weird to have more than one copy
    of Frida in the same process, but this may happen in case two Node.js
    modules require different versions of Frida's Node.js bindings.

commit 12322c165989d8d7b40918fbf28f6471b099b307
Author: BAYET <corentin.bayet@gmail.com>
Date:   Mon Sep 3 15:14:53 2018 +0200

    Fix attach() to program with non-executable ELF-header (#208)

commit 66fa65d1751dd8b480d26fa4867aeeff9bd70eed
Author: Corentin Bayet <corentin.bayet@synacktiv.com>
Date:   Fri Aug 31 11:33:35 2018 +0200

    Bump stack size of the remote-executed code
    
    As one page is sometimes not enough and results in crash during attach.

commit 1ea7496106927091656cc9bc3119bd7d713aa041
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 23 21:54:26 2018 +0200

    Fix warning about unused result

commit b294f0c0f801ef0a5fc8203d8f2df6d847a1da35
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 23 21:13:00 2018 +0200

    Fix build system on arm64
    
    Also improve consistency a bit. It's tempting to use Meson's name in
    filenames, but that would make it inconsistent with the code.

commit 153cbcb5142abfd801bd780b04c36bb4d2549ad0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 23 20:46:09 2018 +0200

    Fix warning in Linux production builds

commit cb78db3c814905c53ad05940f2eda0605bf1cfe5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 21 23:21:37 2018 +0200

    Embed symbols in object files
    
    Like our SDK does.

commit b14689ac72bd52c12bb1c6b9ed269135e2eb3af8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 21 20:38:52 2018 +0200

    Fix dangling project file reference to gadget.vala

commit f786676768117d3d0c65e448468460e7583d03da
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 21 20:24:07 2018 +0200

    Fix warning in production builds

commit 0cf8b26688048e97d27340c0af3c4b534130219f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 21 20:12:15 2018 +0200

    Disable assertions and checks in production builds

commit e32be07ab3b70a19baf7a0496247ad233c1d9bc5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 20 23:17:51 2018 +0200

    Fix the Windows build system

commit ac2105b6964ddce8e7cca1b771b84aad66dcf36e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 20 23:17:40 2018 +0200

    Ignore .user files generated by VS

commit 893e1eaf9310ce23b96b5b2407074f7c0f8f1cb2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 11 05:08:35 2018 +0200

    Add GumJS to private requirements

commit 1a502bfc1f099b96189052985d10749977e164ad
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 11 04:54:11 2018 +0200

    Wire up Chrome Inspector compatible debug server
    
    Only when using V8 for now, but we should eventually be able to support
    it for Duktape too, once that backend also speaks the same protocol.

commit 840d7947746611e1cc3c0ed65e179d92d231b90e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 10 16:58:48 2018 +0200

    Use the correct Meson CPU family name for arm64

commit 306e288ceba0ad95a1c3a4a167e9840a6717de37
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 30 22:45:27 2018 +0200

    Fix launching of Android apps with custom process name
    
    Specified through `android:process`.
    
    Kudos to @giantpune for reporting and helping track this one down.

commit 76aef766cb09273441d1d532d5f96d285a29aed4
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Jul 26 11:49:28 2018 -0500

    Fix early instrumentation on iOS 11.3.1 through 11.4.1 (#199)
    
    Apple introduced a regression in 11.3.1 breaking hardware breakpoint support,
    which later got fixed in the iOS 12 betas. Because of this we detect affected
    OS versions and fall back to using software breakpoints on those.
    
    Also refactor i/macOS early instrumentation while at it.

commit d9f5b3a2363005a6d6e68e3881f1f40346b2b7d1
Author: Carl Hurd <carl.m.hurd@gmail.com>
Date:   Wed Jul 25 12:22:28 2018 -0400

    Add missing labrats for ARM and MIPS (#198)

commit c0ef49b5dc5969f8ee593bdeb399f610cd8deae3
Author: Carl Hurd <carl.m.hurd@gmail.com>
Date:   Fri Jul 20 10:37:49 2018 -0400

    Fix syntax error in the syscall wrapper for MIPS (#197)

commit 8fe9eb1dc2ddc73517a9221eda1e0c8a2f7cb781
Author: Carl Hurd <carl.m.hurd@gmail.com>
Date:   Wed Jul 18 17:38:44 2018 -0400

    Fix MIPS regressions (#195)

commit f17e2773dafe6411bdda49cfcd2bb32ac7d018ef
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Fri Jul 13 13:57:19 2018 -0500

    Fix i/macOS libc++ initialization on early instrumentation (#194)
    
    In this case, `dlopen()` takes a different code path and hits this check
    in `ImageLoaderMachO::doModInitFunctions()`:
    
    ```
    if ( ! dyld::gProcessInfo->libSystemInitialized ) {
        const char* installPath = getInstallPath();
        if ( (installPath == NULL) || (strcmp(installPath, LIBSYSTEM_DYLIB_PATH) != 0) )
            dyld::throwf("initializer in image (%s) that does not link with libSystem.dylib\n", this->getPath());
    }
    ```
    
    When we call it to initialize libSystem it throws an exception when loading
    `libc++.dylib` which is a dependency but it's not libSystem itself, leaving
    libc++ uninitialized and leading to potential crashes.
    
    This solution boils down to hooking dyld's `strcmp()` and make it successful
    in any case when called from the context of the above code.

commit 0bd5f5ae4cb005d72e927aab4efb87b67fec470d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 12 00:13:01 2018 +0200

    Port to Capstone's next branch

commit 0c9ccc6af90c1a338385ff23c7e4ffd1e7f51dc7
Author: Carl Hurd <carl.m.hurd@gmail.com>
Date:   Mon Jul 9 06:55:55 2018 -0400

    Fix typos in the linux-{arm,arm64} injector codepaths (#192)

commit 46bd73e7bd5a7ab7285a209bca7e20a4c002182f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 29 00:39:43 2018 +0200

    Bump interface versions to upcoming major version

commit 9af53164dae9f7b5829c2e331beafc1f9957bd7a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 29 00:38:15 2018 +0200

    Rename TETHER to USB for consistency with bindings

commit 30cf9a3df4dfbff7ec5e9331b845b457a142ffe5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 25 14:41:38 2018 +0200

    Make the ScriptEngine state machine a bit clearer
    
    And avoid calling unload() if script wasn't load()ed.

commit 9ee840093b672a65f42467354cb6b1b061c0d008
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 25 14:24:02 2018 +0200

    Only call dispose() if script was loaded
    
    Also eliminate race between load() and teardown.

commit 29a784e39a4306a42dced23d5f29bfdef78e2af9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 7 02:38:45 2018 +0200

    Fix early instrumentation on Mojave and iOS 12

commit b2d1dbaa960da7d3228c2ee773df4b871ab02aa1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 4 23:10:46 2018 +0200

    Fix race resulting in crash on system session setup
    
    We were starting the worker thread before calling Pipe.open(), which e.g.
    on Linux meant that the agent, being the client, might connect() to the
    server end of the UNIX socket before the server was ready.

commit e6541666e9b65183559f1023fff37bd7c463531e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 4 20:16:05 2018 +0200

    Improve the argv-parsing logic on Windows
    
    Backslashes are not escaped.

commit fe815b3b0c31c3604f017cd2f16894e596a840e7
Author: ineedblood <fernandou@google.com>
Date:   Mon Jun 4 11:06:54 2018 +0200

    Improve Windows child-gating API coverage
    
    By intercepting calls to CreateProcessInternalW(), which is used under
    the hood to implement e.g. CreateProcessW().

commit a5298fd0ae0394248c2ea174e372450acad6234e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 2 02:38:56 2018 +0200

    Fix truncated names in process listings on iOS

commit 99a9837f9a4455b8e28879ba08fc576bd287914a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 2 02:29:16 2018 +0200

    Fix compatibility with Electra's Tweak Injector

commit baf29a70c87de83a870b7caffdc1370e36cfca27
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 31 00:38:08 2018 +0200

    Adjust shebang to target Python 3.x

commit 158021c128d2e82401fb22bdc5e434955f0f914e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 10 20:51:06 2018 +0200

    Plug Mach ports leaks
    
    - Backend of resume() was stealing the task without deallocating it.
    - Storage for the received Mach exception message got recycled without
      clearing it first.

commit 6a8618d6464849356ae52d45406530f8c2da7f77
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 9 01:04:46 2018 +0200

    Fix stack alignment of agent thread on 32-bit ARM
    
    Which resulted in some interesting undefined behavior.

commit 897f42d04c608c09154c2ecbf0387c30a49aad65
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 9 01:03:40 2018 +0200

    Improve robustness of ScriptEngine.teardown()

commit 49ca131808ca3455c0809531c04e27d69fba8452
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 8 20:13:47 2018 +0200

    Also log prepare_to_fork() failure reason on non-Android

commit 5a838ad40489cfba8892c40ef8dae0445c59ad25
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 8 20:12:12 2018 +0200

    Log error to help track down SELinux issues

commit 4aee8fc645778cfd76ffe1a25f9c2a321121f1fa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 8 16:40:06 2018 +0200

    Fix fragile SELinux rule patching
    
    By dynamically detecting the SELinux context that Frida is running in.

commit a75fda16252f5d032ebf2a070e4b60e436af023b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 5 23:50:19 2018 +0200

    Revive the Windows backend

commit 27ab17e167adeb6bf997694fa6cf297a5acc79c9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 5 23:31:57 2018 +0200

    Fix inconsistent naming of error labels

commit 7b140d7f819fbb44e8c7151d2cabd52857ac3298
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 5 03:21:11 2018 +0200

    Improve error-handling and feedback for aux options

commit a4e2ca506d51e3840122e4b8229d056a493547f4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 5 01:19:09 2018 +0200

    Rename the `class` aux option to `activity`

commit b6eabfea1810baf1e9744e9ce5e662f186c6e8db
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 5 01:00:20 2018 +0200

    Refine how Android app launching is customized
    
    Instead of parsing the `program` parameter looking for a slash, use an
    aux option to specify the `class` to launch with. This is consistent
    with the new behavior for iOS app launching.

commit 730448254e8abcb818cfd52bd1c79f7e7521645c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 5 00:39:36 2018 +0200

    Tweak output in the spawn-ios-app test

commit d7e51eee550ed74fce3d13a88f27f01ba24c239b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 5 00:38:39 2018 +0200

    Add `env` to SpawnOptions
    
    So it's possible to provide just a few environment variables to overlay
    on top of the ones in Frida's execution environment.
    
    This also means we can refuse to set `envp` in cases where this isn't
    supported by the underlying OS implementation, like when spawning an iOS
    app. It will however always be possible to provide `env`, as this is the
    lowest common denominator on the platforms currently supported.

commit 8fb61ea8c6010f54555dc8992d985699f232b698
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 4 21:04:30 2018 +0200

    Rename spawn()'s `path` argument to `program`
    
    As it may also be an application ID on iOS and Android.

commit 30aec36df93654efc6ff95b61c8a4aafbe5fb358
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 4 20:56:04 2018 +0200

    Tighten up the auto-generated header
    
    - Omit SpawnStartState.
    - Group strv-getters with other property getters.

commit bfb3c49a9ce46a7dcdd6dd0de434a3e9c26e6d1b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 4 05:07:37 2018 +0200

    Fix iOS stdio redirection line-endings
    
    Turns out closing the slave file-descriptors before the app has opened
    the slaves through /dev results in the pseudo-terminal getting reset back
    to defaults, so `c_oflag` once again contains ONLCR.

commit e7dd0c4e1161be995659a3692b9a131311669b87
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 4 04:17:15 2018 +0200

    Add some more examples in the spawn-ios-app test

commit d6d769b3e8ba2c123c45312ef2bbd542782e98c1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 4 01:45:27 2018 +0200

    Add support for spawning iOS apps with Stdio.PIPE

commit 828621045aafd26e344e2d6a0a470a2ff055cada
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 4 01:45:27 2018 +0200

    Add support for passing `argv` to spawned iOS app

commit dd476058ed9abe55e3cf72a2748322b37c503e67
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 4 01:27:32 2018 +0200

    Add support for disabling ASLR on spawned iOS app

commit 0855173ae5bec025041291b91bdb2890305d23ec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 4 01:15:27 2018 +0200

    Add support for passing `envp` to spawned iOS app

commit 52e161bbef3fa4f310a4089295cd9b980d55fa9f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 4 00:42:44 2018 +0200

    Use FrontBoardServices for iOS app launching
    
    Keep using SpringBoardServices as fallback for older iOS versions.

commit 67f9d7f628e5bc1758caff766dd986666cc07aa7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 3 23:45:15 2018 +0200

    Fix ordering of keywords for extern static methods

commit faf7a7d4b0e3793600df2b0128ee557ffbe99691
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 3 23:41:52 2018 +0200

    Refactor iOS launch logic
    
    In preparation of new FrontBoardServices code-paths.

commit a5a80a95b162a23e57d2420ab3bd266ba6f28778
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 3 23:38:55 2018 +0200

    Tweak `cwd` checks to improve clarity

commit 02d4dee58285985f25837f0ae4d7550cdb329f56
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 3 21:32:12 2018 +0200

    Add support for auxiliary spawn options
    
    And move `aslr` there, as it's only really supported on Apple OSes.

commit f334cdb06e935f54320fa8cf67ac74c4f4bf0551
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 3 19:55:13 2018 +0200

    Modernize the iOS app launching test

commit dd6accce9f2308c2180d2e9a56a632c523610778
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 3 19:54:54 2018 +0200

    Move iOS app launching checks where they belong

commit 252f7feac17232a2835311c7942ea789b993b0e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 3 03:32:11 2018 +0200

    Fix warning

commit e2ac115cd1cc146f13da393213d00d3c88f1a4b0
Author: radare <pancake@nopcode.org>
Date:   Thu May 3 03:09:53 2018 +0200

    Use TMPDIR envvar when not running as root on Android (#186)

commit 773b92b079cb68176693858c6534f137465ead43
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed May 2 21:53:40 2018 +0200

    Rework spawn() API and tweak child gating metadata (#185)

commit 9a6532e6003cca3c026056953d8faaf3eaf7caae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 2 03:38:01 2018 +0200

    Bump interface versions to upcoming major version

commit cfb2bf6e350ae05587ed402cc78b19fdfe921068
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 2 02:09:32 2018 +0200

    Rename gating signals and provide counterparts
    
    As it's very useful to know when a pending spawn or child gets removed.

commit 4f885ab573fb9f3534db4d0ec1346e3c12552909
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 2 01:16:33 2018 +0200

    Rename enumerate_pending_spawns()
    
    “Spawn” in plural is still just “spawn”.

commit dbdbbf77d684fe70a28d1e756c46b253b39466ae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 2 01:12:38 2018 +0200

    Revise the spawn() API so envp is nullable
    
    So backends are able to provide a sensible default.
    
    Up until now language bindings have provided a fallback, which doesn't
    make sense given that they're on the client side, i.e. might be running
    on a different machine.

commit c25e6f147692f3dd7610a5e19771bdb0e59a2910
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 1 04:10:10 2018 +0200

    Refactor RoboLauncher's signal wiring logic

commit eba778ce2963a14907db89171baee50c9fe4492a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 1 04:07:57 2018 +0200

    Fix stale spawn on resume()

commit ecb0c2e0edc2e94727a2ac51b70299725b6d75a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 1 04:06:14 2018 +0200

    Notify internally about children being resumed

commit 89408955fe40ccaa69381c1370c1a1dde66e9e5b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 1 03:33:59 2018 +0200

    Fix "spawns" English grammar violation in internals
    
    We cannot rename enumerate_pending_spawns() without breaking API, though,
    so we'll leave that for a future major bump.

commit 09bd4006ee76416962168981fe7734d55b8cc0d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 1 03:30:07 2018 +0200

    Avoid grinding Zygote to a halt on Android
    
    When our Android backend is the sole user of child gating it's vital that
    it resumes any children that appear.

commit f296c423251cfdc5ef8557194d67a1e7e46d3369
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 1 03:27:23 2018 +0200

    Revive spawn gating in the Linux backend

commit 573df0db8b0f787d6046e81cf5c4d2fa0d9f767f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 1 03:18:50 2018 +0200

    Auto-resume pending children when disabling gating

commit 848ee493433329f30ee1a37835574f0b68b7ee81
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 1 03:16:33 2018 +0200

    Wire up internal propagation of child gating state

commit 699b7226d51b4916bd6bbdf3abc483744ea33320
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 1 03:11:16 2018 +0200

    Tweak naming to improve consistency

commit a8fbbcc0873789349ae363974a0cfd5b525aaa8b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 1 02:10:04 2018 +0200

    Fix crash in case target process is suddenly dead

commit c565c96074a8f8ab3339e345821c5fe0a639c259
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 28 06:06:35 2018 +0200

    Skip cleanup if there is evidence that an exec() happened

commit 4f47b09282a051133011d959a729f996a6e95306
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 28 06:02:05 2018 +0200

    PTRACE_DETACH if we manage to ATTACH but fail to wait

commit 3df29771f49b10978f4242cd1e146d07d86e0cf4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 28 06:01:10 2018 +0200

    Improve ForkMonitor's Android-specific logic
    
    - Only defer child recovery in direct children of Zygote, not in grand-
      children.
    - Ignore Process.setArgV0() calls that happen later on.

commit 3078f619ef2d38bde80f477fb227cfdb8294d440
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 28 05:56:30 2018 +0200

    Fix SpawnMonitor's teardown logic
    
    It is illegal to ref/unref `this` in a finalizer.

commit 421927af592c24b0fe2068958328fdabf7ea2cff
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 28 05:53:43 2018 +0200

    Loosen up the SELinux policy a little bit more
    
    To allow early instrumentation of even more targets.

commit 9bf6e8d17cd756802093a745215e12a6c1b356c8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 28 00:27:25 2018 +0200

    Clean up pending children when their processes die
    
    To avoid accumulating stale state.

commit 7eaf45638d2c1cedb0ce6cb223f6e21373856bfa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 27 21:47:46 2018 +0200

    Call rpc.exports.dispose() in injected mode also
    
    And when using Gadget in the `listen` interaction.
    
    This provides scripts with a uniform way to flush buffered data on
    unload as well as process termination.

commit b85ef99f585e8c0872e8c93552f300c39b2b5ce2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 27 04:43:56 2018 +0200

    Disable create-process test on 64-bit for now

commit f060ca812830ea7904145989d97fad6da1fa028b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 27 02:04:35 2018 +0200

    Fix Script.is_destroyed() logic
    
    Broken by the refactoring in 9bbdbb6.

commit 9c0401887be33e695d2ab28ed7ed3075c708c7b8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 27 01:52:57 2018 +0200

    Fix Script.check_open() logic
    
    Broken by the refactoring in 9bbdbb6.

commit d0e7234022059dfc02b70779cdb27de1f243dd3e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 26 20:06:48 2018 +0200

    Improve the child gating API
    
    So it provides a lot more context.

commit faf4c04f1171b5b06cc6191d022c111fa85e7b55
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 26 21:34:48 2018 +0200

    Add missing NUL-byte to environment block terminator

commit 9bbdbb61033afbd0e6134c6c6e0726be9c18b657
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 26 20:05:41 2018 +0200

    Refactor to use more construct-only properties

commit aaf7a9ab3e40337f1c4bd8b82d7b42e39449f188
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 26 04:49:47 2018 +0200

    Revive the system session

commit 462ac1f0d54cf24a5582d1ad35986ee301a48242
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 26 04:09:23 2018 +0200

    Revert execve() on teardown

commit 331c5dbf272ecb571a3d8dfe1715f8f71a6e99fd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Apr 26 03:52:55 2018 +0200

    Wire up child gating for exec*() and subprocesses (#183)
    
    This means it is finally possible to follow subprocesses all the way
    through fork(), exec(), posix_spawn(), etc.

commit 0ca72a12faf95caaf4a316a6d841bdfee170034c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 25 20:46:57 2018 +0200

    Drop 32-bit ARM padding hack by priming ARM_ORIG_r0 instead

commit 3caedf9a6e19443e64bf439ff7e528729c99acae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 25 20:41:44 2018 +0200

    Fix spawn() of 32-bit ARM executables on Android
    
    Entrypoint initializes r12 so it points at the GOT, and apparently using
    the libc before this has happened results in undefined behavior.

commit 378f138d78d2399a34d237b605bd5d2685acab36
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Apr 24 12:55:01 2018 -0500

    Keep client alive until idle handler has been called (#184)

commit 0e3c6b8050226ac89b75d510f1aa2745d06f9f13
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 18 21:09:09 2018 +0200

    Fix stylistic inconsistency

commit 03a2012558fe778668d60ed8a8688eaf140db0f0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 18 21:07:18 2018 +0200

    Make Linux injector's FIFO close-on-exec

commit a29e40f0130fbefcefe72ad1db454fac02b0b674
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 17 02:14:53 2018 +0200

    Regenerate forker labrats without sleep() hack

commit 5d0b6a32a3301b81f52b29e3268c753ecd5d25b0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 17 02:03:09 2018 +0200

    Improve teardown logic

commit 72ee2cab29b40cc71621f2b0529677912c57dfa0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 16 22:04:40 2018 +0200

    Remove sleep()-hack from the forker labrat
    
    It is no longer needed due to the new flush-on-exit behavior.

commit 349d1aeeb0f755102210868d395736c8db65bb32
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 16 22:03:27 2018 +0200

    Flush pending I/O when process is about to exit
    
    This used to be left up to the application, but has since been observed
    to cause quite a bit of confusion. It is also somewhat tricky to get
    right, so it seems better to solve it in Frida itself.

commit ffbd81b26d75e72ff1f901b452a034f3a2a91102
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 16 16:12:39 2018 +0200

    Fix unreliable fork()-handling
    
    By re-creating the FIFO, so we don't depend on the writer opening it
    before the reader when recreating the injectee thread.

commit ccae1a144a3332060bbc7094319a42b0dd8cea53
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 16 14:25:47 2018 +0200

    Fix frida-server build system on Windows

commit 430153ac494ad01a5ef25271ecf53a24778fa5ca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 14 03:05:42 2018 +0200

    Fix stylistic inconsistency

commit c30afddefcfeb9c019894630ab5f0c36cca6715a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 14 03:03:19 2018 +0200

    Add support for specifying the activity to launch

commit db02cbd259e0e44e44c9aa1a6ec08cfcf719082a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 14 03:01:53 2018 +0200

    Bump Android app launch timeout to 20 seconds

commit fe4fab4332ceb2bebe4e913c1928c8ee25d247d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 13 23:57:53 2018 +0200

    Revive the Windows build system

commit 22a31a4226feda556adc786bcb65f9ba0ec26e4a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Apr 14 01:18:03 2018 +0200

    Improve stability on Android (#182)
    
    By leveraging the new `fork()`-handling instead of relying on a
    specialized agent, i.e. `frida-loader-{32,64}.so`.

commit c54ac5f9fd9d622304e20d2b3d523a1d7e9ea257
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 6 13:48:38 2018 +0200

    Modernize the Android app spawning test

commit fe9a285c9c6d8c0c56b74a50d97589187b677d3f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 6 03:12:15 2018 +0200

    Fix test-suite compilation on Windows

commit 6fee837d5073214aeeaf2a7cbbea03aa6d0603d6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 6 02:52:54 2018 +0200

    Add forker labrat for Linux/x86

commit 2c526143be31c245547ae3b3be1e71355073ae42
Author: Ole AndrÃ© Vadla RavnÃ¥s <oleavr@gmail.com>
Date:   Wed Apr 4 00:13:50 2018 +0200

    Port Linux backend to the new injector semantics

commit 934e9949e1b006edbe2ed26b362621335a0eacb4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 4 14:04:16 2018 +0200

    Implement expiry logic in the Darwin backend
    
    In case we never hear back after a successful demonitor operation.

commit 781a1a729382997fa1ce66ef93af2bca3763a930
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 6 02:19:10 2018 +0200

    Tweak Darwin backend's style a bit

commit 9aa804455beeb1e39aa21eb897f5200c61b52af0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 6 02:24:26 2018 +0200

    Report the full path to the child's executable

commit dcc3b56b5958ad1b6038f9ba97fdc1d9a690da27
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 6 02:12:27 2018 +0200

    Fix the Agent test-suite on Android
    
    Loading the agent with global binding means it won't get unloaded, which
    means the second test is going to fail.

commit 06cc5cc1a6bf0ab857e6848159500f150b17a73b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 6 02:27:58 2018 +0200

    Add runner scripts for Android

commit 2fd02b783b6edd8a2039f1715c5ea3e670c0f16c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 6 02:24:54 2018 +0200

    Add forker labrats for Android

commit 09f07e04a52608c0efad1f6d388f2d60329de686
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 6 02:26:48 2018 +0200

    Also deploy agent in the iOS runner script

commit ebabbe10a7f7ef942bf009c2a02ca2f6e2e8a462
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 4 16:55:05 2018 +0200

    Adjust agent test location strategy on iOS and Android

commit 179029ab8c0fe76082cfc7c09e126e53f09aaedf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 4 00:06:43 2018 +0200

    Add failing test for fork()-handling on Linux

commit c523233239417b8abb2b48039b61695590e5cd07
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 2 01:25:17 2018 +0200

    Fix the API autogen logic
    
    So it groks the latest Vala compiler's output.

commit c27717e7f089b43423c40dd83bb316cbc9c01462
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 1 17:24:24 2018 +0200

    Revive the Windows backend

commit a5467ddc112efd5a3f2b7292dfc1dcdcfe9f3ae5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 1 15:50:02 2018 +0200

    Add missing typedefs

commit 95b5122953d5212dcf7c8ef1bfa085faab0cc686
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 1 15:45:14 2018 +0200

    Fix function name collision

commit a2099942eef964f4b0ce98ae1401813117c32fc7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 1 15:40:33 2018 +0200

    Define _GNU_SOURCE for `program_invocation_name`

commit 75c3b7c05259c4a8644a6af26585435cc93e4a82
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 1 15:33:49 2018 +0200

    Add missing WINDOWS define to frida-pipe

commit e56ef32970a2766a33f87313ca8c04a36453e609
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 1 15:32:02 2018 +0200

    Remove leftover methods from the recent refactoring

commit ff84611c748cbcb45e2c396183439c257e68f726
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 1 15:31:17 2018 +0200

    Fix frida-pipe compilation on Android

commit e237f4894622004c09cbfa25242bc90e0c96ea02
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 1 15:30:54 2018 +0200

    Add missing include for `program_invocation_name`

commit 146c31ae5253f0a413a5b873739fe0dc263f2c89
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 1 15:30:35 2018 +0200

    Add missing casts

commit 9424ec674d73f9dadffe0c9ae1d79d1462ed35aa
Merge: 289a08b2 e86160c4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Mar 31 23:29:30 2018 +0200

    Merge pull request #178 from frida/feature/fork-handling
    
    Add fork()-handling

commit e86160c4ca26791c55f489e62ba947727a2227dc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 27 20:26:49 2018 +0200

    Revise fork()-handling to avoid touching locks
    
    Doing this as a separate change in case it turns out to be necessary on
    some platform.

commit fd602e29c2954ab06fc93c71809d15ad8943d28d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 16 20:15:33 2018 +0100

    Add fork()-handling
    
    Also rework frida-pipe to be use UNIX sockets on i/macOS, and avoid
    additional threads altogether on all platforms except Windows.

commit 289a08b237eeab1fb8ec3e2f41ed726de44b5d66
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Sat Mar 24 11:59:45 2018 +0100

    Allow mapped_range to be passed on gadget load() (#177)
    
    Implemented on i/macOS by looking for a special entry in the
    apple[] array.

commit fbde342c65ff32a005c513504ad5c66d919a1ef3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 16 20:16:28 2018 +0100

    Refactor thread ignore logic

commit 102798a3981de367c3200850963a6dab0c02e5f1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 16 20:15:55 2018 +0100

    Add convenience script for running tests on macOS

commit 42c026301fb837ab3757c555a65e479804a9344c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 15 20:34:16 2018 +0100

    Reformat robot-agent.js for consistency

commit 563285d26c1efee07122f51a6d24145161ccfaf1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 15 17:21:06 2018 +0100

    Fix temp directory cleanup in frida-server
    
    On Linux/Android this meant that the frida-agent libraries in the temp
    directory would be left behind.

commit 91ed0f5956bd6c0fe68ebad3b184377cb1611195
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 14 22:54:01 2018 +0100

    Tweak early instrumentation docs a bit further

commit 6d96e105732fb5eaf077f6510ed0f3e9e66f56f6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 14 22:52:28 2018 +0100

    Update early instrumentation docs to match code

commit 41b284e1fcf6c29da63aa476359d4d6c9b483408
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 14 15:14:16 2018 +0100

    Add support for early instrumentation of dyld v3
    
    Fixes #176.

commit 03d3b8f0a203a553b05136559cb87a6849b15277
Merge: ac3b172b ede80693
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Mar 13 21:04:19 2018 +0100

    Merge pull request #175 from frida/feature/electra-support
    
    Add support for Electra on iOS

commit ede80693076b12fce9bc23065f2161290c43bfcf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 13 20:48:01 2018 +0100

    Bypass Electra's jbd_call() for PIDs launched by us

commit cd8585792ea62aaaf77e3c79ed36022dfd11a60f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 13 19:24:50 2018 +0100

    Entitle and platformize when Electra is detected

commit ac3b172b1e97385d2516ab047123a94cad5fadb3
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Mar 12 20:02:43 2018 +0100

    Potentially cloak multiple ranges from threads (#174)

commit e9f071a72f4b5e986a8198a99a280eb9eee06e0f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 6 02:23:18 2018 +0100

    Properly fix the Linux/Android injector on x86
    
    My analysis in a90b441 was incorrect, and the issue was simply that esp
    was treated as a long, so the alignment calculation would end up going in
    the wrong direction whenever the esp's MSB was set.

commit a90b4413c2b836dae755ce55f381dd604fd7704f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 6 00:42:27 2018 +0100

    Fix stack corruption in Linux/Android injector on x86
    
    The stack pointer points above the saved registers, so we should take
    this into account when we make use of the stack.

commit b46081304f904773882f6efac4507c627a38fcdb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 26 20:22:44 2018 +0100

    Fix deadlock regression on 32-bit Android apps
    
    Because of our bsd_signal() wrapper that calls dlopen() the first time it
    is called, which may happen on a non-main thread while the main thread is
    holding the dynamic linker's lock.

commit 139339ea5ddea4fc83a54276a11e86bb4dc68531
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 16 02:35:04 2018 -0600

    Use executable's location if we fail to detect ours
    
    To support use-cases where frida-gadget is mapped in manually.

commit 8ecbc7cafa1a52c2c96d92b3f18722dac154862e
Author: Yuri Shapira <yuri@puresec.io>
Date:   Thu Feb 15 23:12:23 2018 +0200

    Fix array out-of-bounds access (#169)
    
    When the specified script is empty.

commit 7fd3e69508e1aab5a3bd6700e06651113e3e7e3f
Author: Yuri Shapira <yuri@puresec.io>
Date:   Wed Feb 14 18:23:38 2018 +0100

    Add support for bytecode loading in frida-gadget (#168)
    
    Fixes frida/frida#427.

commit 594b262d9f5f80cb2d83bd966918b23519bcf23d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 20:29:34 2018 +0100

    Add missing SELinux libraries to libfrida-core-1.0.a

commit e38424a8f743dada8d96a5066bf011e44e867f5c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 20:28:53 2018 +0100

    Fix forgotten library name artifact

commit 0ba743ccf90e8632d3e4f1063b1e79efd928feeb
Author: Sheng-Fu Chang <csf@csftech.net>
Date:   Sat Jan 27 02:19:47 2018 +0800

    Fix iOS 32-bit device (iOS 10) compatibility (#165)

commit e6ed0a053b2bf833eebf8df9b333825719d9d9e2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 22 05:47:15 2018 +0100

    Only perform the dlopen() hackery on Android 8 and above
    
    It won't work on older versions, and we won't need it there anyway.

commit 417747ea984e1c4c1d4cdfe2187bb28da4c1a050
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 22 04:30:05 2018 +0100

    Improve injector to support Android 8 on x86 and x86_64

commit 0af215e87f10d58c956a8aae081a42dfb7760f8a
Author: Vinícius Henrique Marangoni <viniciusmarangoni@users.noreply.github.com>
Date:   Tue Jan 16 19:48:44 2018 -0200

    Also try gadget.config.so on Android (#156)
    
    As `.config` files may be dropped by the build process if placed in `libs`.

commit a95431bdff864c65092daa181db82f8bc110dbfa
Author: Madushan Nishantha <madushan1000@users.noreply.github.com>
Date:   Tue Jan 16 21:36:51 2018 +0530

    Fix injector on Android 8 w/32-bit processes (#162)

commit 213c7426b018b872b32c2e37c9e324411fb9dab0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 4 04:30:36 2018 +0100

    Fix injection on Android N and above
    
    Calling dlopen() from outside a system library will now result in it
    refusing to load libraries that are outside the app. We work around this
    by finding the inner implementation and telling it that the caller is
    somewhere inside libc.so.
    
    Only fully implemented and tested on arm and arm64 – x86 support is only
    partially implemented.

commit 39cf642bbfdcf6fc884b035a9699a81133ddea87
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 3 23:14:16 2018 +0100

    Don't assume that Android's dlfcn APIs reside in the linker
    
    In newer versions they're in libdl.so.

commit 139a945c7881a729a8c81c6043f5f5b0cf22b1c4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 3 23:10:34 2018 +0100

    Improve Linux/Android injector to avoid RWX pages
    
    For improved compatibility with the latest versions of Android.

commit 9505584b61083bf09bb04acf4f79105d34ddf7fa
Author: Sheng-Fu Chang <csf@csftech.net>
Date:   Fri Dec 29 23:22:10 2017 +0800

    Fix legacy iOS 32-bit device (pre-ARMv8) spawn issue (#160)

commit 616a03d470afe24487af8a7c79f8f99643cb732f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 13 17:29:37 2017 +0100

    Allow kill() to succeed when it terminates the peer
    
    The primary use-case for this is when asking the Gadget to kill itself,
    but it might as well be the frida-server being killed.

commit ef039d340b1516f4f8b9c696572f35c753d903e3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 13 16:49:40 2017 +0100

    Revise kill() to just go ahead and kill right away
    
    There's no easy way to guarantee a reply, so this should be solved on
    the client side, i.e. hidden by frida-core.

commit 591685bc3dcfceb4c56afe49902730d6bf4ab725
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 4 15:15:22 2017 +0100

    Disable spawn gating if client disappears
    
    To avoid leaving the system in a broken state.

commit 9ad66206c6b57a262701954424657ca82529ef27
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 21 02:19:39 2017 +0200

    Look for script relative to Documents first on iOS
    
    This means it can be overridden through iTunes file sharing, or by
    vending the whole container, which is allowed for debuggable apps.

commit 184e2425a12914e1af276d18da80e972da9b8504
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 20 22:53:09 2017 +0200

    Make the code-signing policy configurable
    
    In the Gadget config file.

commit c8e7f8d5aa3d0cca1ec5ccb6c22427581a17b723
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Oct 15 21:08:18 2017 +0200

    Fix PIC violation in x86 syscall() implementation

commit b27e1d9d54f44b7425ffcaa4751e790a834d326f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 11 19:32:41 2017 +0200

    Tweak the XNU driver README

commit b3707b1708ad3d852fc9ce70fbcc54d73b1d7c8e
Author: Adam Wallner <wallner@bitbaro.hu>
Date:   Wed Oct 11 19:31:27 2017 +0200

    On MacOS, create a hidden subdirectory to use for tmp (#145)
    
    This way the trash icon can remain empty.

commit 8b11057353ad08a7f0a8b2bb6db58e742c30b935
Author: Viktor Oreshkin <solteke.st@gmail.com>
Date:   Wed Oct 11 20:30:27 2017 +0300

    Improve XNU driver reload.sh and README (#150)

commit a8af12fe06c52b8c8456491f9fb51ba63a440470
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 10 17:26:07 2017 +0200

    Clarify the XNU driver README a bit further

commit d364c52cc2326ddf6f4c4d40b3317e720c8ac0ea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 10 17:21:22 2017 +0200

    Add a few notes about using the XNU driver

commit 3827085068f78064ab8cc7458680d791293a8a10
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 10 03:02:44 2017 +0200

    Improve the FridaKernelAgent README

commit d3cfa0e55eaccf0378d4c67d02d70c6483889871
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 10 02:08:10 2017 +0200

    Fix stylistic inconsistency

commit 238bbdae6bd387694f6f82435762e711b0816cc4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 10 01:51:49 2017 +0200

    Fix leftover from refactoring

commit 7b3cd369e05fd6eee7ec0bfc9003a3fbef265255
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 10 01:36:07 2017 +0200

    Add experimental kernel driver for macOS
    
    - Implements spawn gating.
    - Makes attach() able to attach to any process.
    - Improves stealthiness as external task modification stats are left
      untouched, which task_for_pid() does touch.

commit 1745cab66fadeb33af9d7ae3bcdbb2a2cfcd24ca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 02:44:38 2017 +0200

    Also recreate Script when `on_change` is different

commit c5c51ceef143987233390322cdbcfd5cd5b06c2a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 02:34:45 2017 +0200

    Simplify the scan() logic

commit 831df01e2532602b2bb3dd5063595a94b1aef147
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 02:08:01 2017 +0200

    Add support for specifying script parameters

commit a72c53b00738443c877ba1b066c8f3685dc689e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 01:09:56 2017 +0200

    Pass the current stage to init()
    
    Which is either `early` or `late`, to provide more context so scripts
    can implement different strategies depending on the current stage.

commit 749587852b746b8ba5180946155111c1cb5dda4a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 01:05:42 2017 +0200

    Move to STARTED immediately when possible

commit 00ea54125af60e8b89bd16c2162d88cef99825cf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 00:55:03 2017 +0200

    Refactor the init() and dispose() logic

commit 57a5d24c6f968b1353a594b7315907fca051975c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 00:50:48 2017 +0200

    Remove unused state

commit 64d7a5770af8c4bdfd2d80b6658035c78ec198b7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 00:43:10 2017 +0200

    Let Gadget resume when it fails to start

commit a0994bafaede18d12d13a2946d127e1076557813
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 00:39:12 2017 +0200

    Make Gadget issue warnings instead of fatal errors

commit dc08e1feec0288a085f9fed003d6a024cb9249eb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 00:05:16 2017 +0200

    Tweak Gadget config schemas to improve clarity
    
    Also add support for specifying "on_load": "resume|wait" in the listen
    interaction to override the default behavior of waiting for a client to
    connect and resume it.

commit ca9d6b233c5d6542b296cb0e9606032e8b002b65
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 21 19:11:10 2017 +0200

    Add support for a third interaction called `script-directory`
    
    E.g.:
    
        {
          "interaction": {
            "type": "script-directory",
            "path": "/Library/Frida/Scripts",
            "watch": true
          }
        }
    
    Then plopping a new file named "twitter.js" into that directory:
    
        'use strict';
    
        rpc.exports = {
          init: function () {
            console.log('[init]');
          },
          dispose: function () {
            console.log('[dispose]');
          }
        };
    
    It will be loaded automatically no matter which process it is in.
    Note that the above watches the directory for changes, but not its
    scripts.
    
    Then by creating a file named "twitter.config" next to it containing:
    
        {
          "filter": {
            "executables": ["Twitter"],
            "bundles": ["com.twitter.twitter-mac"],
            "objc_classes": ["TwitterAPI"]
          },
          "watch": true
        }
    
    This will ensure it is only loaded if the process' executable is named
    "Twitter", or its bundle ID matches the above, or it has an Objective-C
    class loaded named "TwitterAPI".
    
    We also tell it that we would like to watch this particular script for
    changes.

commit ca750cb0e8416ff5085facb7b51d32a049081f6b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 21 11:22:36 2017 +0200

    Drop support for Gadget's environment variables
    
    It was always a pain to use these, and they were only intended as a
    band-aid for lack of configuration support.

commit 1cf2c6b3dd803ffff6ed4f754c865f3b13c7059f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 21 11:19:27 2017 +0200

    Split `environment` into `skip_teardown` and `watch`

commit bc86329d9e240b12b185518d4b3c7dabc5a67c32
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 20 17:53:27 2017 +0200

    Improve the Gadget configuration format
    
    For example to listen on a specific host and port:
    
        {
          "interaction": {
            "type": "listen",
            "address": "192.168.168.105",
            "port": 1337
          },
          "environment": "development",
          "jit": false
        }
    
    Or, to load a script:
    
        {
          "interaction": {
            "type": "script",
            "path": "/Users/oleavr/woot.js"
          },
          "environment": "development",
          "jit": false
        }

commit 597030300b2060354d9018f044acc3ba0a4f0a82
Merge: 0cb448b5 54ea21b5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 20 13:03:13 2017 +0200

    Merge pull request #144 from frida/feature/gadget-config
    
    Read configuration from <gadget>.config if present

commit 54ea21b5073d8c876dfcbd5415c4dc7548895929
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 20 12:50:26 2017 +0200

    Read configuration from <gadget>.config if present

commit 8d2adaacd420213839249446e5b06a09ac40c26b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 20 12:47:31 2017 +0200

    Move listen address parsing into the Server class

commit 3384f92a704f54eb3baad95b92bbd1642517ffaa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 20 11:38:19 2017 +0200

    Improve Gadget's memory range detection
    
    There's no need to look at the filename, we can just take the address
    of one of our functions and find the module whose range contains it.

commit 11819ee07dd5b8abd803b92e1640041abc5a2b7c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 19 16:12:31 2017 +0200

    Refactor frida-gadget's configuration logic

commit 0cb448b5a754cb4d6963fb7fa906ffe15aff0467
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 19 14:42:15 2017 +0200

    Remove trailing whitespace

commit 81044a378501dfc144931784f66e836245fbbba6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 9 01:10:08 2017 +0200

    Fix Gadget on Windows

commit c2018869870e23b9d1c2f0753c731730458e1077
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 8 22:55:56 2017 +0200

    Improve style

commit ae7ed1f4c61dc160f6ddada1337ab3584becd9ba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 8 20:12:25 2017 +0200

    Fix stylistic inconsistency

commit 86299204cd9abdb3c6e3607a75ba380a6ac3d0be
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 8 20:09:25 2017 +0200

    Run the JS context on the main thread until resume()
    
    To avoid deadlocks on Android.

commit 3a0a5b3b005e846e250a13d324b93b779e1fe470
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 23 03:32:09 2017 +0200

    Remove Stalker garbage_collect() logic
    
    It is now taken care of by the script runtimes.

commit ec9346649dea770cec4635e9eddb2f796606672b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 14 19:32:11 2017 +0200

    Update to the new X86Writer API

commit a2abc25cb1655356bc4efe777c0f7a7722020be5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 14 18:28:10 2017 +0200

    Update to the new code-writer APIs

commit a54dff0836cd070f0319d01dafaf53d56c6ffaa1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 31 00:13:52 2017 +0200

    Update to the new X86CodeWriter API

commit 073bf90536cb55e31cc490a8cceeb429eadb6ef6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 27 00:33:03 2017 +0200

    Give adb a bit more time before we consider the backend started
    
    This should be enough in most cases, even when using WiFi.
    
    The list of devices may still be monitored to cover the extreme cases,
    which the frida-python CLI tools do when using -U.

commit 19344153457224136010b722ccf39b7a0ee9f19c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 20:06:20 2017 +0200

    Fix the x86 syscall() implementation

commit 3800fc303d757969b1fde4ea6cf80dbf26e967ee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 00:24:51 2017 +0200

    Supply a local copy of syscall() on Linux
    
    So the libc's syscall() can be hooked without causing deadlocks.

commit 090e8291d6a165a55c7a34eebb1dae6fb391e304
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 22 00:51:57 2017 +0200

    Make the xattr check stricter to support newer Android NDKs
    
    Due to the unified headers we need to check that the symbol is actually
    defined.
    
    Also add a missing include.

commit 20f18c386e1db2ce9cccb5169bcfbcc0e315a19c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 13 15:38:50 2017 +0200

    Plug port leak
    
    The incoming message must be destroyed after handling it.

commit 0e827c28570aace9c330df88e2cb9d146fe40558
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 12 20:14:07 2017 +0200

    Implement a JIT allocation server on iOS (#136)
    
    This means Gum can talk to it to allocate RWX pages from non-entitled
    processes.
    
    Kudos to qwertyoruiop for the original idea in JITSupport ❤️.

commit 43b18be091c2be70f932a6a20622a56dcbc11596
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 10 20:03:51 2017 +0200

    Add -D/--daemonize for detaching and becoming a daemon
    
    This is useful when launching frida-server through e.g. adb.

commit e5eab2c14e3db3f740806318edc98d1c0b4dc8d9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 8 16:24:39 2017 +0200

    Remove a trailing space

commit b3abbcb811118d3b659dd3e5caa6f052df9f2099
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 2 02:47:35 2017 +0200

    Make sure AgentContainer cleans up after itself
    
    - Let go of the transport eagerly.
    - Plug leak by starting worker thread from an instance method.

commit 14430b186ee2db1ea519ce9dd7128a30612e3b61
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 2 02:43:08 2017 +0200

    Refactor to improve clarity

commit 3d58fac988d838d84f692b881dd3eec65e2f3534
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 2 02:42:16 2017 +0200

    Disconnect agent_session_closed signal on close() for consistency

commit 3f467f1ae9fd3295abc417e5ce754d95834f3da6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 30 05:46:05 2017 +0200

    Speed up app enumeration and launching on Android
    
    By using V8 for RoboAgent.

commit 2fcbed4a701e6098bc4e3048b3067ff9117a1dfa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 30 05:45:06 2017 +0200

    Fix handling of overlapping app enumeration and launch requests

commit ffbce12353e3f655b3cddb7de1d4d93cffe70d03
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 15 02:41:19 2017 +0200

    Include V8 by default in linux-armhf builds

commit 2765b38ba9aed54f724f75b9097f5f803f773a28
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 30 02:53:14 2017 +0200

    Make the performance test a bit less aggressive
    
    Time may not appear to move forward if we don't enter the kernel,
    resulting in a timeout.

commit c8033bd6eec093df18604c68e8ad77fd6ffdb12a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 30 02:38:48 2017 +0200

    Upgrade to VS2017

commit 1c46df242abdadb81cf1c135fea6b04aca48f7d9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 23:10:19 2017 +0200

    Fix iOS stability regression
    
    Caused by accidental dependency on libresolv.dylib. Overlooked this
    detail when porting the build system to Meson.
    
    Kudos to @mrmacete for discovering this unexpected dependency.

commit 3d63202a569072f3eae94e412fce9cdfc8c5aad5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 02:26:17 2017 +0200

    Fix inconsistent style

commit 8c495bddf23ed6fdad1d3f2fb27b88084a089669
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 02:26:08 2017 +0200

    Don't expose SuperSU types on non-Android OSes

commit 9c9bc941da187f5ba5d7c6f8bc6f3cb314b97ada
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 02:24:50 2017 +0200

    Add Libc enum member for QNX

commit 36c6851bc82fecbc8b3f97e17ffb5a9c0584e02f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 02:24:12 2017 +0200

    Throw error instead of crashing in a partial implementation

commit 7657062e82fb8fe88da0b2de0dba8e2f743bf03b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 02:06:15 2017 +0200

    Work around the QNX toolchain's broken NULL define

commit d35dfe94f4853d67bd29f4d5e5bb57433f22fbf6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 02:03:19 2017 +0200

    Implement agent embed logic for QNX

commit 39af062bf7236ce0dd2268ef9780f0b853c96dea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 01:48:34 2017 +0200

    Implement the original diet mode auto-detection logic

commit 52f196df9a2a0560e376578ed5ea4a984c891ef6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 01:27:22 2017 +0200

    Switch to gnu99

commit 44351f89c2fec2f2f1ee25d83c380307deafc893
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 01:05:39 2017 +0200

    Explicitly use C99

commit 0d47e4258b3b3dbb405dfa3a35f1b046f61ea9c6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 24 22:04:09 2017 +0200

    Explicitly use C++11
    
    Now that we're no longer hard-coding this in the build environment.

commit 333edbaf6d870339e17168e2134ac3e7dbfc619c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 24 19:57:36 2017 +0200

    Fix labrats target for armhf and mipsel hosts

commit a24a47bf20a6a2c6e29f4cc68c70209b0b0e4e21
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 24 17:29:57 2017 +0200

    Remove vapi workaround no longer needed

commit 995ddb99d6f529a8049a07c148a65f726a83bf0f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 24 17:25:59 2017 +0200

    Remove the last Vala compiler workaround no longer needed

commit 92f851d40cb0820453e24cbcf6a9a9832d51ba09
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 24 17:10:55 2017 +0200

    Remove workarounds for Vala compiler bug
    
    We now have a patch for this issue in our local Vala compiler.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=783002

commit a592a63a1325f40fcf24987c13a840de0dd1611a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 22 23:44:40 2017 +0200

    Fix racy port destruction
    
    It isn't safe to drop the DEAD_NAME right just in case, because the
    port might not be dead until right after, in which case the DEAD_NAME
    right will leak. Instead use mach_port_destroy(), unless our process
    owns both rx endpoints. In that case mach_port_destroy() of rx will
    also take care of the tx.

commit b00b30a1df7b9782c12f4bba1ec459de603e872b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 22 22:53:39 2017 +0200

    Plug Mach port leak in the Pipe backend for i/macOS

commit 730afe75e584a57d7bac39123fe9efe9cf662a72
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 21 18:56:31 2017 +0200

    Fix assumption about host_machine.system()
    
    It is only meant to be the system family.

commit e30f63cb96456fc0c74f1110ed35818a79ea06f3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 21 17:40:34 2017 +0200

    Fix macOS build regression

commit 737382d5ba449e862018cf0df795f3ff45785402
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 21 16:59:21 2017 +0200

    Fix leftover i386 references

commit 0c9ed7459db57bd4a3cafc434db674cdf31e5ae7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 21 14:42:59 2017 +0200

    Remove hacks necessitated by the autotools build system

commit c6339ff2e3bbf0000f5bbb0b5424c0d79429ae31
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 20 03:40:50 2017 +0200

    Remove the autotools build system

commit 21ccd941742fabe2cb83e84075b4427d02cd0e0b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat May 20 03:17:13 2017 +0200

    Port to Meson (#129)

commit a7c5c535bea5fb8de8323f48109ed75db579f929
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 19 13:25:05 2017 +0200

    Port frida-helper backend bits to the iOS Simulator
    
    Untested and just enough to make it compile for now, to keep the build
    system simple.

commit be5d9f4be90adcc51b1049801e5c3a5342cbf192
Author: Eloi Sanfelix <eloi@limited-entropy.com>
Date:   Sun May 14 14:57:47 2017 +0200

    Add support for FRIDA_GADGET_LISTEN_ADDRESS (#126)

commit a4a023d08e1dd8dca39147bd0962084937a97214
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 13 20:14:21 2017 +0200

    Add missing stdlib.h include for abort()

commit fd8abe58f1e48a4eacfda9e01408e94634ecdde3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 13 20:03:44 2017 +0200

    Decouple frida-inject's glue code from its Vala-generated header

commit 3b3bc6c4779eca14f3c9cdf48c45f28f5b3944d5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 13 17:50:50 2017 +0200

    Fix Python 2.6 compatibility regression in generate-api.py

commit ad4058df325dde1eb51c1d2411a7fe89ac6fc752
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 13 03:40:18 2017 +0200

    Avoid hard-coding the API version in generate-api.py

commit 46ace5c0ebfd43e9f708f5cec5343c7618b54aea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 13 02:56:06 2017 +0200

    Rename --output-type to --output and improve style

commit f4dfd44ce45e83417c379c407529853868f2142b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 13 02:43:48 2017 +0200

    Refactor the API autogen logic to support selective output

commit 891a0c4c53ce2b2945b7b5cf03eef23c2ca4ae29
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 13 00:50:49 2017 +0200

    Decouple glue code from Vala-generated headers
    
    Meson won't generate them for executables.

commit 7bc11a9553223423d67cc4db336dede871e2e720
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 12 20:08:37 2017 +0200

    Install resource-compiler and prefix it accordingly

commit ff4beb13ebe5e76a23918a0123dcd8dd28073290
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 12 04:37:32 2017 +0200

    Rename macOS Vala define for consistency

commit be54663a1179f0917c6b355aa298bd1d49c7ef7d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 12 03:17:35 2017 +0200

    Simplify glue code by using the generated Vala header

commit ace95e9a49c302179b0c6bb22b86a3369202c9eb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 11 23:49:39 2017 +0200

    Fix session teardown stability regression
    
    By disconnecting the signals before unloading.

commit d71df9234fd633cfefff81d251cb72c0ae8202fd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 11 17:58:06 2017 +0200

    Simplify and improve the agent session lifetime logic
    
    This fixes the issue where a session being closed while another is being
    opened could result in the closed session being considered the last one,
    and the shared agent getting told to unload midway through.

commit 4a19f46e0a1f90ef84b6b593c07321162027c1ad
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 11 15:20:40 2017 +0200

    Fix crash when attaching to an agent about to unload
    
    This happens in the unlikely case where provider.open() succeeds and the
    session is closed during the following connection.get_proxy().
    
    Kudos to @mrmacete for this nice catch.

commit 6e309eb2ecf3bc5f4a83a2832b57ebbf23f9c8a0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 11 00:29:08 2017 +0200

    Remove redundant includes

commit 861d48857f9db6529eeef66a38e6b854910a678a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 11 00:08:11 2017 +0200

    Decouple agent glue to simplify build systems

commit e03cac34e50a71ada6998d54521459b4987608d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 11 00:09:14 2017 +0200

    Rename pipe-impl.h to pipe-glue.h for consistency

commit 626f9657179e87e822a642170e8d98b55246dd8d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 10 22:50:29 2017 +0200

    Rework frida-pipe to simplify build systems
    
    The underlying issue that we used to work around is that the Vala
    compiler doesn't propagate the return value in case an error occurs,
    which means the return value is 0 instead of -1, and this is treated
    as EOF instead of an error.
    
    While this is something worth fixing in the Vala compiler, our specific
    use-case is actually better off by having each implementation implement
    the entire {Input,Output}Stream classes. This way they can implement
    different interfaces, e.g. when the underlying handle is pollable.

commit fb1b277c8756449c8ef5576f2a14ea6ac0ca5772
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 10 15:12:47 2017 +0200

    Update HAVE_MAC → HAVE_MACOS

commit 1d2fd77ba8397bb33275cdf4450f5771174c2113
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 10 14:38:40 2017 +0200

    Update mac → macos

commit 17f6241861b01e3c335a3bdccdfd8f184e2cb7bc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 4 21:46:38 2017 +0200

    Add Injector constructor for inprocess use
    
    This is for embedders that have the required permissions to inject, and
    don't want or aren't able to spawn a child process. This means reduced
    footprint at the cost of build system complexity.
    
    For now this is only implemented on i/macOS. On iOS this requires the
    caller process to have the `task_for_pid-allow` entitlement.

commit abd87ed68e3101bde29d883d54db516738ecfab9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 4 21:40:14 2017 +0200

    Always initialize Gum as part of frida_init()
    
    So inprocess backend components may use it.

commit fb5105631ac260961f21d11e7ad4cba3f4be9df2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 3 02:56:13 2017 +0200

    Fix yield race in Fruity.Client.query()
    
    In the unlikely case that a response is received before the write
    completes.

commit 37c8633f5e970eeabf063a1518ca9450f8acbf8c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 2 02:32:35 2017 +0200

    Update Gadget to the new HostSession API

commit c6fdb565204b304a2905bb14ebe359f66808c73e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 2 00:59:25 2017 +0200

    Bump interface versions to upcoming major version

commit 1461531765ce7210e0ffaec3d8eeb2213de5e4bc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 2 00:56:07 2017 +0200

    Update to GumJS' revised bytecode API

commit bfb03f95d496cf5bfaeda39b314cdba5729cf4f3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 2 00:54:32 2017 +0200

    Drop the deprecated agent_session_destroyed signal

commit d065b8d353a2461642c6b7cd38d197a1d942c090
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 30 23:59:01 2017 +0200

    Tell pkg-config to statically link modules
    
    Instead of forcing this into the PKG_CONFIG environment variable.

commit 37a0d7c9518f4c96c78d6901711a3be495697471
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 2 01:43:00 2017 +0200

    Fix last-minute build regression and warnings

commit ede4748c3ce0b383e844009f17f98f53c618db02
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Sun Apr 2 00:24:22 2017 +0200

    Rewrite i/macOS early instrumentation using thread hijacking (#119)
    
    - Get hold of the main thread to read its instruction pointer, which
      will tell us where dyld is in memory.
    - Walk backwards to find dyld's Mach-O header.
    - Walk its symbols and find a function that's called at a point where
      the process is sufficiently initialized to load frida-agent, but early
      enough so that app's initializer still didn't run. In this case we
      choose `dyld::initializeMainExecutable()`. At the beginning of this
      function dyld is initialized but libSystem is still missing.
    - Set a hardware breakpoint at the beginning of this function.
    - Swap out the thread's exception ports with our own.
    - Resume the task.
    - Wait until we get a message on our exception port, meaning our
      breakpoint was hit.
    - Hijack thread's instruction pointer to call
      `dlopen("/usr/lib/libSystem.B.dylib")` and then return back to the
      beginning of `initializeMainExecutable()` and restore previous thread
      state.
    - Swap back the thread's orginal exception ports.
    - Clear the hardware breakpoint by restoring the thread's debug
      registers.
    
    It's actually more complex than that, because:
    - This doesn't work on newer versions of dyld because to call `dlopen()`
      it's necessary to `registerThreadHelpers()` first, which is normally
      done by libSystem itself during its initialization.
    - To overcome this catch-22 we alloc a fake `LibSystemHelpers` object
      and register it (also by hijacking thread's instruction pointer as
      described above).
    - On older dyld versions, registering helpers before loading libSystem
      led to crashes, so we detect this condition and unset the helpers
      before calling `dlopen()`, by writing a `NULL` directly into the
      global `dyld::gLibSystemHelpers` because in some dyld versions calling
      `registerThreadHelpers(NULL)` causes a `NULL` dereference.
    - At the end of `dlopen()`, we set the global `libSystemInitialized`
      flag present in the global `dyld::qProcessInfo` structure, because on
      newer dyld versions that doesn't happen automatically due to the
      presence of our fake helpers.
    - One of the functions provided by the helper should return a buffer for
      the errors, but since our fake helpers object implements its functions
      only using a return, it will not return any buffer. To avoid this to
      happen, we set a breakpoint also on `dyld:dlerrorClear()` function and
      inject an immediate return, effectively disabling the function.
    - At the end of `dlopen()` we finally deallocate our fake helpers
      (because now they've been replaced by real libSystem ones) and the
      string we used as a parameter for dlopen.

commit d7dca299b2bd6a89dc338ca429246c72161d4b6b
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Mar 28 01:41:26 2017 +0200

    Fix regression on iOS 8.4 (#117)
    
    - dyld's ImageLoader::recursiveInitialization has a different signature
      than on following versions of iOS.
    - Improve error handling when that symbol cannot be resolved.

commit 9ae97018b91fb9dba426cd0eadab0399378a8188
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Sat Mar 25 12:31:43 2017 +0100

    Fix deadlock caused by breaking inside libSystem initialization (#116)
    
    Place a second hardware breakpoint at the end of dylb's
    `ImageLoader::recursiveInitialization` to let it release the spinlock and
    notify the end of libSystem initialization. This is done reusing the live
    disassembly tool. dyld is found in memory like before, going back from
    main thread's instruction pointer.

commit ea3f3850f179a39439d6f92e382ab7a062960cc2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 24 19:45:00 2017 +0100

    Tweak style

commit bd2e54c47dc50d84319f675937a4ddb047487191
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Fri Mar 24 15:05:03 2017 +0100

    Move hardware breakpoint to libSystem initializer (#115)
    
    - Find the libSystem.B.dylib module in memory.
    - Find its initializer (it's the only one in the __mod_init_func section).
    - Find the exit point of the initializer by disassembling the function's code.
    - Place the breakpoint there.
    
    This allows earlier instrumentation than before.

commit 59f7d90e5d7b782735aa9d6d2cd65905151e03b2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 22 15:14:47 2017 +0100

    Ignore calls made by agent/gadget's main thread

commit 4b826e3c687c577b06871a648c6ae2cc57096fe4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 22 04:13:32 2017 +0100

    Wire up GThread garbage collection logic

commit 57bfab990ebb38f32ada3d1843a2971ff7ca557b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 15 21:53:06 2017 +0100

    Add manual test for reproducing iOS app launch leak

commit dde88276cf489e307bbd9e85f60036f05bdb15f0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 15 21:52:23 2017 +0100

    Add resume() to Frida.Test.Process on Darwin

commit 0a7033d9d010cddc2362e2a1544a764bfefc3b87
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 15 03:17:00 2017 +0100

    Bump the AsyncHarness timeout to 60s
    
    For when CI machines are suffering under heavy load.

commit e10ab279093ec2bc51640d122841b4664abff636
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 15 03:09:04 2017 +0100

    Improve robustness of the resource leak tests

commit 5b0df70ab0244bdccd1557a3af3e3243dd42d957
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 14 00:36:01 2017 +0100

    Replace thread ignore logic with the new cloaking API

commit 99e109521bfc687e872a60f3c0f00967a79c9847
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 11:42:54 2017 +0100

    Improve accuracy of the memory cloaking test

commit b54e332901991736a121725e634ee3c7f99ae5e9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 02:55:24 2017 +0100

    Cloak the main agent/gadget thread also

commit 8c9f281bc7bcb2a47e620a8f524c1ffa587ecc61
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 02:38:05 2017 +0100

    Cloak stack guard pages

commit df6dc47ce95c3a2cf5014b061ac11915cd68d597
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 02:01:19 2017 +0100

    Cloak the stack memory ranges of our own threads

commit 4feb0e8052f936a3d78c435a2308231fd59331f4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 01:33:37 2017 +0100

    Cloak the agent's own memory range

commit 19005f96d7ab14bfd09f56fc5d18275524183a6c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 01:26:48 2017 +0100

    Tweak formatting of uncloaked ranges

commit f7c27a34e68d682032306ec0120a578ed0dc9404
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 01:25:10 2017 +0100

    Add test for memory range cloaking on Darwin

commit dad48843ca7ffbd98936af20f689fc14e98d9d8e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 01:24:07 2017 +0100

    Reduce injection cleanup delay
    
    A delay of two seconds is a bit excessive.

commit 0811dc0da4d781e624e360bc55d6c441cbbcb1ff
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 10 14:16:01 2017 +0100

    Fix teardown of Gum

commit bc92d3a206d25aa6d54f62b230fe2c320db3ad83
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 9 22:43:56 2017 +0100

    Fix race-condition in the Agent test harness
    
    We need to create the local Pipe object before launching the agent,
    otherwise it might connect() before we've had a chance to listen().

commit dea59043753b9f0129094fcf92f93671c4650a01
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 7 20:53:20 2017 +0100

    Fix app launching stability issue on iOS < 10
    
    Upon detecting that the remote xpcproxy agent was uninjected we would
    go ahead and deallocate the remote payload that we allocated. Only issue
    is that an exec transition may have happened, and we risk deallocating
    memory that we didn't allocate.

commit ec4e2de4db37ebd622739161ec7069a65b7d14de
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 6 18:54:10 2017 +0100

    Improve iOS app launching error-handling
    
    In case launch() fails but somehow manages to spawn a process we need
    to resume() it so it doesn't get stuck in limbo.

commit 0b8d37af845554cb5d6ce2812db590c21bdf5291
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Feb 28 02:57:23 2017 +0100

    Fix race during disable_spawn_gating()
    
    We might be somewhere in prepare_xpcproxy() when disable_spawn_gating()
    is called, which means such inbound spawns get stuck and require being
    manually resumed.
    
    Kudos to @ftamagni for reporting.

commit 2aa3a8eed0518f98a2f3ff5e474c333cbef63317
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 25 02:01:01 2017 +0100

    Await finalization before considering script destroyed
    
    We don't want a script to keep the ScriptBackend alive as we're about
    to unload, as it may result in the ScriptScheduler's JS thread staying
    alive after the point of unload.

commit 73f4455acf6d12a618492847481738e464ca10c7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Feb 21 00:55:51 2017 +0100

    Fix reference loop resulting in Client objects leaking

commit 7c82f332a4c520e7cb676e3364511bbd7540401d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 20 14:53:37 2017 +0100

    Fix agent entrypoint stack alignment on 32-bit ARM

commit d95648f98e350fb9b091d7103a708dd846f15213
Author: Antonio Ken Iannillo <ak.iannillo@gmail.com>
Date:   Sun Feb 19 01:23:20 2017 +0100

    Tweak SELinux rules for better Android N support

commit 2fa45040124dfd2d19cadb9c182a8f94232fd515
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 18 19:24:23 2017 +0100

    Fix typo introduced in a last-minute refactoring

commit 8c85aea87b48ef32250671c2a522e72deada327b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 18 19:14:29 2017 +0100

    Add support for SELinux policy patching on Android N (#109)
    
    Add support for SELinux policy patching on Android N

commit 153071fe510282c683a53fd0381776bb894d4041
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 17 15:00:56 2017 +0100

    Enable system extensions universally

commit a11bf171e671b7c0bbf7e720f74937887de8a6cd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 15 12:42:28 2017 +0100

    Simplify state management logic

commit 4023fa904662e26c7318234098ab9fd41fad9790
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 15 12:19:18 2017 +0100

    Fix state collisions with multiple clients
    
    Kudos to @dweinstein and @ftamagni for tracking this one down.

commit 305c1f5d60b3a71d2e66b44cfe4b7fea473f09b7
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Feb 7 12:40:37 2017 +0100

    Avoid racing on agent thread creation / monitoring (#105)
    
    
    Resuming the newly created thread only after `dispatch_resume()` greatly
    decreases the probability to miss the `DISPATCH_MACH_SEND_DEAD` event.

commit 2847a78e0a654ac8dc53a1cd9edc430194ba0979
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 21 03:34:13 2017 +0100

    Always allow enable_jit() when already enabled

commit 0e180478fe4f5fc5a06156f58cce8834dae7a7c9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 18 21:07:24 2017 +0100

    Enable ASLR on frida-server
    
    These overrides were probably added by a project file format migration.

commit f108f27abc3e22d5be883f660488b45b7392b23c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 18 21:06:38 2017 +0100

    Port Gadget to Windows

commit 2b2e324032e0d3d5a088d2b0b3e6c174f3ddc019
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 16 15:16:05 2017 +0100

    Fix injection when Gum.CodeSegment is unsupported

commit 1805298f58edc1fff1bd251b2c14e0a6696107a6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 14 05:45:58 2017 +0100

    Improve the interactive iOS app launching test

commit 7ace0115bcb4c1e25985429732bf56bd621d8183
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 14 05:45:10 2017 +0100

    Fix stale state if the app launch fails

commit 854a43d26ebfaa943c5af8553672af92d853fa49
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 14 04:17:39 2017 +0100

    Fix usage of illegal Vala constructs

commit 5542ac7147a0dd0f7e3528c0e7554f6c615f3ce3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 14 02:33:00 2017 +0100

    Remove GLib version checks
    
    For now we only support building with our GLib fork.

commit ce819128cc20d07a5032400368e9e0c28fd36371
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 13 21:50:45 2017 +0100

    Update to match vapi fixes in latest Vala

commit c5a9414d9b3fa5c5371b0e27600ae8d46f1b7156
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 13 03:43:20 2017 +0100

    Fix the spawn gating logic
    
    - Guard against invalid enable()/disable() calls.
    - Fix race-condition where daemons were wrongfully gated if spawned while
      an app was being launched.

commit 482b96d29c51c0230595e938581cd8006920df20
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 13 02:58:10 2017 +0100

    Migrate FileMonitor wrapper from frida-python
    
    This is such a common use-case that it's useful for other bindings
    also, and simplifies frida-python.

commit 803925bb72d36463f0609ec0787c78b8fb2bf6b2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 11 04:46:49 2017 +0100

    Fix API autogen on Windows
    
    Because frida-interfaces isn't a separate library at the build system
    level, we have to do some filtering for now.

commit 8342459eb813605f4de34a92e0542267bb50c9d9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 11 03:43:53 2017 +0100

    Add `reason` argument to Session#detached

commit ef524f626a2dc7683a708d866584b190f2c56f11
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 10 13:56:40 2017 +0100

    Fix resume() logic for the spawn-gating use-case

commit b1f1f73a9115a715dcc4cff0000d22dd7195d450
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 10 01:47:52 2017 +0100

    Fix stale injection state after an exec transition
    
    We read back the `stay_resident` value when the remote POSIX thread
    terminates. This is however very risky in case the process is being
    replaced, for example through posix_spawn(POSIX_SPAWN_SETEXEC), as the
    entire address space is being replaced. With a bit of bad luck that
    means the same address is still readable, and with even more bad luck
    we'll read back a non-zero boolean. Thus, thinking the agent told us
    it wanted to stay resident, we skip emitting the `uninjected` signal,
    and DarwinHostSession has no idea that this happened. And then, on the
    next request to attach to the same PID, we are stuck waiting forever
    for the signal that never comes.
    
    To solve this we allocate the data portion of the remote payload
    locally, and create a shared mapping to where the data portion of the
    remote payload is. This way we own that data, and are able to safely
    examine it no matter what happens to the target process.
    
    Thanks to @mrmacete for his awesome assistance in debugging and
    brainstorming this issue.

commit 12be27ab171c8bac9b4a60db5b3957f30f4be938
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 8 21:32:25 2017 +0100

    Bump interface versions to upcoming major version

commit b657ce64e79d6db4b600b403f268a0667feeef5e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 8 21:26:44 2017 +0100

    Disable JIT by default
    
    This ensures we always use the same JS runtime on all platforms, as
    V8 is not available everywhere. It also eliminates some issues with
    stack-constrained threads.

commit 9a947ed0898b95b8919788bcd8aff09d4b211273
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 8 20:19:00 2017 +0100

    Fix task port ownership for Frida.InjectInstance

commit c7b8a62a2314c1a2fdb4d9ef984c86cc647b3403
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 8 20:01:23 2017 +0100

    Add a manual test for gathering performance metrics

commit 0865ebcf7ecadcc9a2f9c09d1cdb5c291a163453
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 8 18:59:50 2017 +0100

    Clean up timers and tasks on close()

commit 61b2c34ba897bcd60af2d4aa33b7cd0f59c79f02
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 8 18:25:42 2017 +0100

    Fix wait_until_suspended() on iOS 10
    
    The task port becomes invalid during “exec” transition.

commit 7ad0f1015ff73e230c878d745e8044b44ed78661
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 8 18:23:44 2017 +0100

    Keep task ports around a bit longer

commit a2dc275f6c3e799155067eecc8ac2e04fcf5ba54
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 5 09:10:22 2017 +0100

    Add teardown to the spawn gating test

commit 8f9262e343c60873cd2dea81d51914a0169cbff9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 5 06:50:26 2017 +0100

    Add more diagnostics to the spawn gating test

commit ea656015baefaee6e0598ba4d1a2b5f9e2a2d196
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 5 06:49:36 2017 +0100

    Fix premature spawn completion on iOS
    
    The observation that the remote Mach port got destroyed does not mean
    that the posix_spawn() finished replacing the process.

commit cc830380df77f9ba267b4095fd0ec8a9332b138e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 4 20:48:11 2017 +0100

    Bump the initial receive's buffer size
    
    This means we get away with just one syscall for most of the messages.

commit 4715d2b069b574b58e7f36937995d14c0901ee86
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 4 20:45:58 2017 +0100

    Make rounding operation a bit more explicit

commit edcdeefe55debebed4e431dcff5597e01d79024a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 4 05:34:58 2017 +0100

    Revive spawn gating support

commit 7c0b88498ce203f2f71382d741f93f33addfe0f0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 4 02:32:39 2017 +0100

    Tweak pipe setup to avoid mach_port_insert_right()
    
    Due to the issue mentioned in 706d0ea215a50276a613aa837d5dffad9e5f340a,
    it's safest to avoid this API. We instead leave a message containing
    the send right on the endpoint(s) that we're unable to give one to
    directly without guessing at a port name.

commit 999352c7a822e0245175c5bd8b10bb935be5dfed
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 2 20:50:55 2017 +0100

    Rework iOS app launching to avoid CydiaSubstrate (#100)

commit b706b5a4a1ad9c311ac1ed2a544d42de2af32ac8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 1 04:49:55 2017 +0100

    Add support for injecting into a suspended process
    
    We essentially move the process initialization from spawn() to attach(),
    which also means that a straight spawn() -> resume() -- without attach()
    in between -- will be much faster. More importantly, though, this allows
    us to instrument externally spawned processes.
    
    This is very useful for hooking posix_spawn() in an external process,
    e.g. launchd, in order to add POSIX_SPAWN_START_SUSPENDED. Such an agent
    would then just notify the Frida application of the spawned PID, and it
    is then able to attach() to it, apply instrumentation, and then call
    resume(pid).
    
    The goal is to stop piggy-backing on CydiaSubstrate for app launching on
    iOS, and this is the first step towards that goal. This also opens up
    other interesting use-cases to advanced Frida users.

commit f9d67200391df8674a499847807490f3bc7d9044
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 1 04:18:41 2017 +0100

    Add support for spawning test binaries suspended
    
    Only implemented on Darwin for now.

commit c7be9172ef37c33e739e210c389cd286295156e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 1 04:16:42 2017 +0100

    Avoid leaving behind temporary files after tests

commit 997c2efdef438153104d7d18bfcf082c34ea2fb3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 1 04:15:29 2017 +0100

    Add Injector.close() for deterministic teardown

commit f6ff1dded150271e6eed81bedb2a743958000ff5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 31 00:17:06 2016 +0100

    Improve the iOS packaging script
    
    We now provide one package per architecture to minimize bandwidth and
    disk waste.

commit 8b5c39eb07a5355f5597cfe11dee5877ffd32420
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 30 22:49:09 2016 +0100

    Fix handling of optional launch URL

commit 1f5bae9a7b885c8b8ea778e78b99dd9b975d6921
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 30 05:26:37 2016 +0100

    Pass the canonical flags argument to mach_vm_allocate()

commit d3fb4c9c46db8125084575c8cb2c95562ae3232d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 30 04:34:53 2016 +0100

    Fix iOS build regression

commit b73300a97c36809f1bc5f21156397726fb5de57d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 30 03:59:33 2016 +0100

    Simplify the Darwin backend through the new API
    
    This means we no longer need to proxy host<->agent on SIP-enabled
    systems.

commit 474bbfcc58cbb35f0e2a8b52487c160fcbdae14b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 30 03:44:46 2016 +0100

    Improve cleanup in the torture test

commit 360ab8b7e0b9ebf37f78f9200f893c7e0c78339b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 30 03:44:23 2016 +0100

    Rework frida-helper RPC in the Darwin backend
    
    Turns out we were failing to get frida-helper's task port in most
    situations, which meant we were not able to make use of our recent
    mmap support (resulting in frida-agent.dylib getting written out to
    the filesystem). This will also allow us to simplify host<->agent
    communications when embedded in a system process, like Apple's Python,
    where we were previously forced to proxy this over our UNIX socket.

commit 25dd7e11f4858820ab2af2221666d411591ff983
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 29 15:43:59 2016 +0100

    Improve proxy transport teardown

commit 23c4bf280f794f5c857fd50d496dacd53003a762
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 29 15:43:38 2016 +0100

    Fix proxy transport timeout after 25 s of idle time
    
    This code-path is only used when Frida is embedded in a system process,
    e.g. Apple's Python, on systems with SIP enabled.

commit d29a6f2ad177a8583ff5749125f5d805d89c5199
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 29 05:48:24 2016 +0100

    Fix system session regression on macOS

commit 373306bed1e2266bc369ac1b9ad4113ea7ff447c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 29 05:21:09 2016 +0100

    Fix Darwin build regressions

commit f342473b36f7d1db6c47faf9a3b83ebc9a4d179f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 29 05:03:56 2016 +0100

    Fix frida-core linking regression on non-Darwin

commit 9f31fbc334bd77d7e70cee2d00d071db06124d49
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 29 04:35:47 2016 +0100

    Fix frida-server linking regression on non-Darwin
    
    The fact that one of the conditionally included sources was Objective-C
    resulted in the Objective-C linker also being used on platforms where
    this source was not included (and this is pretty iffy).

commit 95b739966575d6ffb9c31769bb1c83ace21d1861
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 29 03:10:08 2016 +0100

    Fix warning about unreachable code
    
    This is due to a recent internal API change.

commit cf4748b21661c8d9ac6af754dbbde0726805afcc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 29 02:44:09 2016 +0100

    Fix Linux build regression

commit 39a1bbc7c277e0eb105036174e21035462ac7e28
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 28 20:24:09 2016 +0100

    Simplify iOS app launching to avoid symlinking

commit 72b7aed79bab7118589913706bd502ce197d8401
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 28 20:13:58 2016 +0100

    Use our injector when spawning iOS apps
    
    This means we avoid writing out the .dylib to the filesystem when our
    mapper is available.

commit 4515fbe55fe1e3be4522ebd08d53025ecab98b27
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 28 20:12:27 2016 +0100

    Update frida-loader to the new agent API

commit 95a58f6ff2aaf5c1b5d220017a21b005d31e18bf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 28 19:36:12 2016 +0100

    Use our injector to set up the system session on i/macOS
    
    This means we avoid writing out the .dylib to the filesystem when our
    mapper is available.

commit 6244148e599c5bbd3d64e9befd7a0a35f0e6c1cd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 26 14:55:51 2016 +0100

    Fix frida-server on Darwin
    
    Need to initialize Gum before using it.

commit 4d5f8b794e633b9aa119d1ded33320b0b3f8da09
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 24 04:52:39 2016 +0100

    Only emit `.subsections_via_symbols` for Apple's toolchain

commit c9391b67709bb71156f34a3e8d8737d8290a76f8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 24 04:48:51 2016 +0100

    Drive an NSRunLoop on the main thread of frida-server
    
    This is useful for system session scripts, which are provided this
    guarantee when they are running in frida-helper.

commit b499576a32bf229514af07984a09c3bb5c601733
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 24 04:25:48 2016 +0100

    Sign frida-server and give it entitlements
    
    This is necessary now that frida-helper is embedded. The entitlements
    are the same as frida-helper.

commit a1565bdf578bc7aa3d08aa7084a9deece88fb5e5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 24 04:11:52 2016 +0100

    Fix the blob injection logic

commit 33d4ae62385abe872cbb9450f4297b53c801b79e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 24 02:54:49 2016 +0100

    Improve the generated resources for Darwin
    
    - Allow unused data resources to be `-dead_strip`ped out.
    - Align dylib resources on a 16384 boundary to make them easy to mmap.

commit ae96e5b2b46d9a7dce52b2cc41a1a36e305bb4c6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 23 21:51:24 2016 +0100

    Refactor to allow in-process frida-helper
    
    This means we can shave off megabytes of footprint for use-cases like
    frida-server, where we are able to guarantee things like proper
    code-signing, entitlements, etc. It also means we can avoid wasting
    precious space on the filesystem, which is a good thing on jailbroken
    devices without stashing.

commit 044fec64459428fecd10aa8dd2dff9b395fee47b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 23 02:44:31 2016 +0100

    Update test to reflect that Mapper is now used on iOS also

commit b5ecf873fffe9916689a43e09539702b50c287d7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 23 02:33:25 2016 +0100

    Eliminate frida-agent's -lresolv dependency

commit cf0b5f916a8e04375b444717e9e10db865b81226
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 23 01:52:11 2016 +0100

    Improve test to avoid leaving garbage behind

commit 7a613b1f8da82bf4fd5ccad9e3316b3f0c1aaa80
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 23 01:51:24 2016 +0100

    Improve Fruitjector's teardown when used standalone

commit b1651e4bd6a11f0d5e70d05755c726b111094aaa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 23 01:49:07 2016 +0100

    Bump the retry timeout to 10 ms

commit 8cd710120c77e3a8fd82b4295542458cce1d89c2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 22 16:30:48 2016 +0100

    Preload helper and dylib when frida-server starts

commit 55c6291ba7c3467508b56ff56d6e3be1936225e4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 22 15:26:49 2016 +0100

    Fix inconsistent coding style

commit df78a1636c9e791bfc3b4d4923f37170ca88ec8a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 21 02:15:24 2016 +0100

    Plug pthread_t leak on Linux/mips
    
    /cc @s1341

commit 52e96e33b0ff4caa715b06a20a0b9c99b6be2b59
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 21 01:41:22 2016 +0100

    Plug pthread_t leak on Android/arm64

commit 77effaa3a41dd3bd7d4d187f99c505705f9f3554
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 21 01:31:55 2016 +0100

    Plug pthread_t leak on Linux/arm

commit e2b1da84acabb65ce9d49ef5827265f97dad2756
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 21 01:18:39 2016 +0100

    Plug pthread_t leak on Android/arm

commit 9b627951da5aaadac1d7e39b2212e664be3947ca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 21 01:00:41 2016 +0100

    Plug pthread_t leak on Android/i386 and Android/x86-64

commit 503121dc771a093b71362199c6ad20fe0f9973a7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 20 21:02:52 2016 +0100

    Revive tests on Android/i386

commit da957fe4333a36287e98107fcbdd929f84f9a70f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 20 15:57:46 2016 +0100

    Keep helper alive until all injections finish
    
    This means we get to free memory allocated in the remote processes,
    which is important for the stability of long-running processes.

commit 04521678a71f765fb9a5ff02d339dba8500666f6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 20 14:50:26 2016 +0100

    Plug pthread_t leak on Linux/i386 and Linux/x86-64

commit 58ce85be415e243994c5d615593d9cf2d0bf8e8c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 18 23:29:36 2016 +0100

    Remove erroneous unref left from refactoring

commit c9cb0b808d44ae410dfc5098c6f5e4766a76f933
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 18 18:16:17 2016 +0100

    Bump expiry timeout to 2 seconds

commit 2647648277bd66f408ce1d608c35454b1e17a106
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 18 18:15:51 2016 +0100

    Fix the port expiry logic

commit 31cb12c6f36882b282ba54e264dc9687ab177c67
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 18 18:06:26 2016 +0100

    Fix warning about unused function

commit 1f97cf1946215ab7c76fee42f6e945cfd5883c7c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 18 02:34:58 2016 +0100

    Fix build regression by exposing MappedLibraryBlob internally

commit 087351a8af16a50c0e29cc16b3776651f5de3858
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 17 17:50:17 2016 +0100

    Add experimental support for injecting from memory

commit 87082abe7eb0f7923a94cbb468159147e0ec49dd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 17 01:35:22 2016 +0100

    Improve naming

commit c3cf1dbad26529af1e623ecb91565b08e17da130
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 17 01:29:27 2016 +0100

    Strive to only call task_for_pid() once during attach()
    
    This improves performance and means we're a bit nicer to the OS, as
    task_for_pid() isn't a trivial system call.

commit 5bb7cac03290905be15143fd2ec409c48f2869e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 16 19:36:22 2016 +0100

    Update to the new Gum.Darwin API

commit ebb1c688e56bf89d899939cc9b6eeeb2c7e635a4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 14 14:31:55 2016 +0100

    Fix the 32-bit injector

commit d5b63f199cd3658b5c95c51cc4c0d2d98022210a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Dec 14 06:23:51 2016 +0100

    Improve injectors (#96)
    
    - Avoid private APIs on i/macOS
    - Fix stability issue on i/macOS
    - Fix Mach port leak on i/macOS
    - Revise the agent entrypoint API to allow agents to stay resident. The old API was officially:
    
    ```C
    void
    frida_agent_main (const char * data)
    {
      /*
       * Agent will stay loaded until this function returns, after which Frida
       * will emit the `uinjected` signal.
       */
    }
    ```
    
    But it actually had two extra arguments for internal use:
    
    ```C
    void
    frida_agent_main (const char * data,
                      const GumMemoryRange * mapped_range,
                      GumThreadId parent_thread_id)
    {
    }
    ```
    
    * `mapped_range`: was (and is still) used to tell [Stalker](https://github.com/frida/frida-gum/blob/master/gum/backend-x86/gumstalker-x86.c) to ignore our memory range when our shared library was manually mapped into the process. This means it is `NULL` if it was loaded by e.g. `dlopen()`, in which case frida-agent walks the loaded libraries to find the memory range.
    * `parent_thread_id`: on i/macOS we used to have a Mach thread sticking around, waiting for our POSIX thread to stop. We needed to know its thread ID so we could exclude it from `Process.enumerateThreads()`. As of this PR, this thread no longer sticks around, so this argument is now gone.
    
    The new API is officially:
    
    ```C
    #include <stdbool.h>
    
    void
    frida_agent_main (const char * data,
                      bool * stay_resident)
    {
      /*
       * Uncomment to prevent agent from getting unloaded after returning from this function.
       * This also means the `uninjected` signal is not emitted, and Frida will stop keeping track
       * of this injected thread.
       */
      // *stay_resident = true;
    }
    ```
    
    But internally it is actually:
    
    ```C
    #include <stdbool.h>
    
    void
    frida_agent_main (const char * data,
                      bool * stay_resident,
                      const GumMemoryRange * mapped_range)
    {
      *stay_resident = true;
    }
    ```
    
    Though I think we should consider the third argument public now, as it's useful for some applications, e.g. using Stalker.
    
    @s1341: I didn't dare to port the Linux/MIPS and QNX/ARM portions as I'm not able to test them, but as those are passing `NULL, NULL` for the last two arguments, it just means that `stay_resident` is unavailable for those ports (for now).

commit 808482b1c14efb1a1d39934376b23b961558d0f3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 14 00:44:36 2016 +0100

    Fix resource usage logic on Android

commit 2350f241aa25aa9d1ce52733e1d0509246d75d29
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 13 17:35:58 2016 +0100

    Improve test error output

commit d80257708d2868c5b9e02a786110b3daf06847d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 13 04:24:04 2016 +0100

    Port resource usage collectors to iOS

commit d6f01db7bf4795997be59707c064599cf196279d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 23:39:03 2016 +0100

    Remove accidentally added code

commit 1cc6bd48dfca8cdef65e7d044b9e728c9af17824
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 04:24:40 2016 +0100

    Add a metric collector for memory footprint on Linux

commit e5a768f335608ceff99e41820d6524d07846b9e9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 04:11:21 2016 +0100

    Adjust collector name for consistency

commit e366be48691f54b988807e5ae204aa9b969d6ba4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 04:10:42 2016 +0100

    Add a metric collector for file descriptors on Linux

commit b4b1f24272a3ea0d76276b669cb872bbffb12718
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 03:59:51 2016 +0100

    Fix test regression on Linux

commit b946941864cbe73742a24894ae37715888938edd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 03:38:38 2016 +0100

    Add a metric collector for memory footprint on Windows

commit ec165fb0bccf29188b48570696b930925cf42702
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 03:31:40 2016 +0100

    Warm up static allocations before measuring for leaks

commit afc1956f2649eb33ea9a0394bcda5b2a98ef1d5b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 03:28:56 2016 +0100

    Add a metric collector for OS handles on Windows

commit 46ec65df45bc12158efa28bbe7fa909e6e78d754
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 03:23:01 2016 +0100

    Make Frida.Test.Process kill its child once finalized

commit 767191c04ca7051f44c0da389b9f63ad32d2c77e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 03:02:08 2016 +0100

    Update sleeper and cycler labrats for Windows

commit 04cafeb2c876665b71c07ea42e800199a531955c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 03:01:14 2016 +0100

    Improve Windows labrats so they terminate after 60 seconds
    
    This is consistent with the UNIX version, and means that failing tests
    won't result in processes sticking around indefinitely.

commit e1c2aafd0fe8365e3cdaff54bbe613c508524a01
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 02:38:11 2016 +0100

    Fix HostSession tests on Windows and refactor

commit db8cee2370a7aa1dc85ca0d80cf05e643e540bbc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 02:37:14 2016 +0100

    Update simple-agent labrats for Windows

commit 8fc0e98db9f379f2dab457c0c0cd151c13bb7f0b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 02:37:00 2016 +0100

    Fix simple-agent crash on process exit on Windows
    
    Cannot use stdio during DLL_PROCESS_DETACH when the process is exiting.

commit 3edd6efaee6f3690c0c421c88925a9e49d6f0bf1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 02:35:11 2016 +0100

    Add missing ignores for labrats

commit 3966924a02d476f1442bbd465da48e9918e1d6c0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 02:34:23 2016 +0100

    Bring Frida.Test.Process for Windows to parity with UNIX
    
    This is now required by the Injector tests.

commit 8c6379e63000da16f294c34df82114e4a262b948
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 02:31:51 2016 +0100

    Fix naming of the cycler labrats for Windows

commit 95ccc4ce10747d45598f995bb59bbfbca0010f95
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 02:21:02 2016 +0100

    Fix the DllMain implementation

commit acb3182fc7c7aa5416c91cd49ecff22b73957a32
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 02:20:52 2016 +0100

    Bring back log statement lost in the refactoring

commit 3d6d131360997bddced1dec1c579e661f01ffa7f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 02:19:52 2016 +0100

    Output labrats on top of the existing ones

commit a1edc92d4da0a2175fff5bcfbb8686c45c9874d6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 00:05:42 2016 +0100

    Ensure helper factory is ready before first use

commit cb41128253a1fbec0ef1ee4df43b2fbc886102dd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 00:05:42 2016 +0100

    Update test to remove special-casing for Windows

commit 8c9dec72d2903da8bdef725c1ae606f1673b1854
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 00:05:42 2016 +0100

    Add helper for getting a location for test output

commit e9d539709cc8d183d4711737ca776c084d76bfab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 00:05:42 2016 +0100

    Fix the labrat path logic on Windows

commit a1c4950b7533d5f3d3c4aa8f5ad13144632735d5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 00:05:16 2016 +0100

    Add missing gitignores for labrats on Windows

commit e47f32fde306cb4d3ed7cc42229a17640c5ae1e2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 00:05:03 2016 +0100

    Upgrade labrat project files to MSVS2015

commit c4e89f5b1fdbc7b4012fab8f373a15062bef3994
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 00:04:20 2016 +0100

    Disable silly CRT-warnings for the labrat build system

commit 9c8bb4e1e6e35e441bd7faff8ae391dddca1d515
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 00:03:36 2016 +0100

    Fix the Windows labrat binary names

commit 01486ff0d76336da35c9fb9cc5e7a2a2fc014637
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 00:02:31 2016 +0100

    Consolidate simple-agent for UNIX and Windows

commit 1eebb3b9b1bcd0fc27d6c0d486a217158038683b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 11 21:28:18 2016 +0100

    Add resource leak test also covering frida-agent

commit 8c65be1ceff5ce45e6e3dd04921046f0521cdb42
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 11 21:26:26 2016 +0100

    Improve naming

commit 121b81b3a581dae2209c28a44a1234f0e55b9575
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 11 03:59:57 2016 +0100

    Temporarily disable the assertion in case of detected leaks

commit 962c7bb5af0c71fb3581df1d84f615861482d810
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 11 03:57:56 2016 +0100

    Warm up any static allocations before measuring

commit c555e7e4395f537d267e819c62a0de683c81a34e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 11 03:57:13 2016 +0100

    Add a metric collector for memory footprint on Darwin

commit ae6ba1ec61f5ada067bd3a2d884d24b1f7604926
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 11 03:56:00 2016 +0100

    Add introspection API for dumping the snapshot

commit 38e37b7de621dc53ecffd5ce9ea0c71c11e762df
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 11 01:20:43 2016 +0100

    Plug task port leak

commit 7b85827cecc040966961fccdd35e8a1c1d1b0353
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 11 01:18:14 2016 +0100

    Add a metric collector for Mach ports

commit 851b905ebc97fc248ea14764a3efb0e6ae329a8e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 11 00:50:46 2016 +0100

    Improve the collector API

commit 6396d6935f4d3dceb399aff94ca28232c9fd02b2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 11 00:37:04 2016 +0100

    Add a basic Injector resource leak test
    
    For now we don't have any metrics collectors so this test will always
    pass.

commit c3373bcb8adb00b63f879a645a0544fe66c4d9d9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 11 00:36:17 2016 +0100

    Add skeleton for measuring process resource usage

commit f7cdb4b0186bf6451efbc0ec3ef4ab3dd0a350c7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 10 23:43:33 2016 +0100

    Fix the Darwin spawn tests

commit fce137cc2e097287197849b0a51c157060eea5a9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 10 23:42:36 2016 +0100

    Remove unused helper function

commit bb9f24b97c9653b48dd48128212578411ea0b03c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 10 23:18:57 2016 +0100

    Refactor tests
    
    - Consolidate the injector test-suites now that there is a unified API.
    - Make it easier to get hold of test data.
    - Improve naming and consistency across labrats.

commit 57b372170674c5cb1cb9e82e7d56f1f0120b4a68
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 10 04:24:48 2016 +0100

    Fix API autogen so delegate typedefs are included

commit f4a2d9f47c75ca5b69bf2d33073d6894ca8d3518
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 9 22:45:27 2016 +0100

    Use new convenience API for retrieving processes

commit 70f649f85d6b79717ba3f142e32ab53a867d8979
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 9 22:44:04 2016 +0100

    Add convenience API for looking up processes
    
    This will allow us to push down the high-level convenience APIs that we
    ended up adding to our language bindings, and also avoid some duplication
    in our tests.

commit 169eb5f1cfdb7f22564e9411c4d9b311a18e9240
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 9 22:43:02 2016 +0100

    Add find_device{_by_id,by_type}() convenience APIs

commit 1016adcce218c073fd6d85074fafeea184a828c4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 9 15:47:44 2016 +0100

    Improve style of the generated header and vapi

commit 3d67208739d6911039054829708be8c960565d0d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 9 15:46:01 2016 +0100

    Use new convenience API for retrieving devices

commit 3c83bf8abc9a55593fff9f62ca021063d1d1baba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 9 15:41:44 2016 +0100

    Add convenience API for getting devices
    
    This will allow us to push down the high-level convenience APIs that we
    ended up adding to our language bindings, and also avoid quite a bit of
    duplication in our tests.

commit e015e5bb40b87ea52a1d35fb375866e5e0e98a7f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 9 02:40:06 2016 +0100

    Fix unreffing of the port set

commit 56dfa8182889ef57aa949fd3ee11a96a3c88d944
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 9 01:57:35 2016 +0100

    Use mach_port_deallocate() for send rights
    
    The only exception is when we are in control of the receiving end, in
    which case we don't need to worry about the send right having turned
    into a dead right.

commit 7c428c187414552608493fb36e5834b0f781f363
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 7 23:57:29 2016 +0100

    Simplify EOF-detection in the Mach Pipe backend

commit 07dd7bafe6ab25c38c9dedd697943bf7ac02d21f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 7 22:49:38 2016 +0100

    Use mach_port_t everywhere

commit 15971b879b7519d5cac63e61e599d5a4bd03edbc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 7 23:57:46 2016 +0100

    Remove dead define

commit 706d0ea215a50276a613aa837d5dffad9e5f340a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 8 22:42:40 2016 +0100

    Fix long-standing stability issue on i/macOS
    
    Our Mach port allocation strategy was triggering an interesting bug in
    the XNU kernel.
    
    Mach allows a Mach port right owned by task A to be sent in a Mach
    message to task B, which is typically used if task A has a receive right
    and wants to give task B a send right, so it can receive messages from
    it.
    
    This is however not always feasible, e.g. in Frida's case, where there
    isn't necessarily an established channel between task A and B, over
    which a port right can be sent.
    
    However, if task A and task B's task ports are available to an entity,
    like frida-helper in our case, it is possible to directly insert a port
    right into those tasks. The only challenge is that the API to do so,
    `mach_port_insert_right()`, requires you to pick a unique port name. You
    may go ahead and guess, and the API will tell you if the name is already
    taken.
    
    The port name is just a 32-bit unsigned integer, and is local to the
    task, or more precisely, the IPC space. So this part was easy enough.
    We had just allocated a port in that other task, which is really easy to
    do through `mach_port_allocate()`, because a port name is chosen for you
    by the kernel. Our strategy was simply to take that name incremented by
    one, and try inserting that. Then if that fails, just keep incrementing
    and trying. A few dozen system calls later and off we'd go, with freshly
    punched Mach ports ready for task A and B to be able to communicate in
    both directions.
    
    This was around Easter 2013, when the Mach port transport was born. Up
    until then we had been using TCP over loopback to communicate between
    frida-core and the injected frida-agent. But I had been planning on
    writing a transport per OS that would use a really low-level primitive
    to avoid issues with firewalls, sandboxing, etc., and also give us a bit
    more stealth.
    
    I remember how I was planning to spend my Easter holiday just doing
    this, and the goal was to do the pipe transport for Windows, i/macOS,
    and Linux. Needless to say there wasn't much time to write these three
    different backends, so I missed one important detail when writing the
    Mach backend. Mach port names have a particular encoding where the lower
    8 bits are used to identify which generation of IDs this name belongs
    to, and the upper 24 bits is the index. My simple increment-and-retry
    algorithm would thus be scrambling through the generation part and not
    just the index.
    
    Over the last 3 years that followed, I've been noticing some really odd
    crashes on i/macOS, but always assumed it was caused by a memory
    corruption issue. Indeed, there were a few bugs that caused memory
    corruptions, but those have since been hunted down and fixed. With those
    out of the way, AddressSanitizer happy, Valgrind not finding anything,
    and hours on end in front of LLDB, this last corruption was nowhere to
    be found.
    
    After testing different components in isolation and binary-searching my
    way through possible error-sources, it got quite clear that the Mach
    pipe transport backend was somehow causing this, or at least making the
    corruptions very reproducible. I also found another stability issue
    caused by the Darwin library injector, but there wasn't anything weird
    about that.
    
    Turns out that trying to insert Mach port names with the generation
    part and index all over the place is not really a good idea. I suspect
    that the internal reshuffling that this triggers results in ports
    briefly looking like they're gone, i.e. a race condition. We avoid this
    kernel bug entirely by only incrementing the index and leaving the
    generation part as-is.

commit 63db648f62e40c6940f8aaee845910cacb616347
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 7 13:42:33 2016 +0100

    Fix retry bailout check

commit c02886b18a25ead79fc60e931b724ce7343e1539
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 2 17:04:27 2016 +0100

    Fix the pkgconfig metadata
    
    This reverts commit e9191b030f1934f0e1e7e7b69b6c752f567566ab.

commit 7f55d5b4863a332cc6d2aa59664617b7893d270a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 2 04:02:06 2016 +0100

    Handle injection into PIDs w/introspection pthread

commit 0da63a177eb3c2606e1bafed1361d4ea48188462
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 2 03:57:16 2016 +0100

    Use pthread_create_from_mach_thread() on new OSes
    
    This seems to be what Apple recommends in order to avoid introspection
    hooks on "naked" Mach threads, as those hooks may depend on being called
    from a real pthread thread.

commit 3e8ffed18c2948fbd2a7021006c2193a363d8c4d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 1 21:55:09 2016 +0100

    Ensure system session uses the correct tempdir
    
    We do this in the last minute to avoid writing out the helper
    prematurely.

commit a719a6d631802af6771b1dd98c60086ec5a38dd5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 30 04:28:19 2016 +0100

    Auto-generate the API on Windows also

commit e9191b030f1934f0e1e7e7b69b6c752f567566ab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 30 04:27:55 2016 +0100

    Remove unused dependency from pkg-config metadata

commit 102016634306bb762007b28911061c59d977a0fb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 28 02:39:49 2016 +0100

    Migrate loader to gum_{init,deinit}_embedded()

commit 831deeb9972c5a521dfe12acaea1e1a1fd29fefe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 28 02:39:23 2016 +0100

    Leave it to Gum to depend on liblog

commit 2fba9e957cccc76097ddb8e799cf436e7f774248
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 28 02:08:34 2016 +0100

    Prepare to reenable Mapper on macOS
    
    This reverts commit 34b2a6e182f504db60cc657f7225608c625bbb07.

commit ca71e1d291775cf4e184df24e74771f25322e096
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 28 00:08:37 2016 +0100

    Make use of gum_{init,deinit}_embedded()

commit a76f9eb2eb45894b57465ab6fe76d492aac7d80a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Nov 27 21:19:01 2016 +0100

    Expose the “uninjected” signal to Device

commit 29f57323b93f1ff5d622b7ebcf1db0811491c178
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Nov 27 21:07:32 2016 +0100

    Improve API autogeneration to handle interfaces
    
    Also strip out a few unnecessary macros for class types, as those are
    not exposed anyway.

commit b6e4a75d2196badda02b93134f9fce945f80574b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Nov 27 19:56:00 2016 +0100

    Fix Android build regression

commit 9367528884b922ea0305bafccaa5e0a9c1a9f171
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 25 18:36:20 2016 +0100

    Expose the raw library injection API (#93)

commit 1c007ff9c7058b19c9b04ece7f3317ce7eb2cba3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 24 16:48:52 2016 +0100

    Improve the manual debugger test

commit a7ae89ef169ebeb0b8bbbccc9c80e9a6cd60859d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 24 15:45:01 2016 +0100

    Split out Debugger to a separate file

commit 24de9304dc7fbf4c30badff7e92455a7facc5346
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 24 03:46:44 2016 +0100

    Improve the manual debugger test to allow some interactivity

commit 0726b8170e469457dce4f863d3fc85e6d79e7f8d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 23 23:27:18 2016 +0100

    Wire up support for the Duktape debugger
    
    For simplicity we listen on multiple ports, one per script, so Duktape's
    official GUI can be used unmodified. We might want to revisit this once
    we have our own debugger.

commit 5720d342a4b55884ca0d951964e16e198af7267a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 14 00:29:53 2016 +0100

    Disable LTCG on Windows

commit e15a7c60b2685f63ab9e58606898e69693d3372a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 11 01:40:06 2016 +0100

    Make sure Exceptor's threads gets ignored
    
    We cannot batch these two in case the Exceptor's backend spawns a new
    thread that AutoIgnorer misses out on.

commit 20b10c399ba8247189cd2f1171a74ef80918d03e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 11 01:18:00 2016 +0100

    Hold on to Exceptor and batch early interception
    
    This avoids lazily creating the Exceptor when the first script is
    created, so we minimize our runtime impact and also improve performance.
    
    As an added bonus we get to batch all of our setup and teardown
    interception, which means improved performance and potentially lower
    memory usage (depending on the platform).

commit 320df7d5a8f13ae0dd6660bd936f1d1ffd77f902
Author: s1341 <s1341@users.noreply.github.com>
Date:   Wed Nov 9 22:29:07 2016 +0200

    Remove -lm hack for QNX (#92)

commit ad5635b5c1ff9ea3a3e5f052010f0fe0c2582e21
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 2 16:07:05 2016 +0100

    Determine method field offsets dynamically
    
    This should improve our success-ratio across the different flavors of
    Android.

commit 96532ef586608b3c00f269e5d5ac6b208b4977b7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 1 23:37:04 2016 +0100

    Fix constraint warning on Linux/arm64

commit 0ff77c1c8ee0082b6a1e9f459e7e0aa1399a5ca8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 1 17:44:35 2016 +0100

    Fix unload issue on newer versions of Android
    
    Using `RTLD_GLOBAL` means that the dynamic linker won't ever unload us,
    as we're made part of the global namespace. This is not something we
    need or want.

commit e9941e0e8ddd8ff752c20655c3fdfee17a288d76
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 1 17:42:45 2016 +0100

    Only use RTLD_NOW when necessary

commit ffa9f9e9fba2dea2742226e2c559c5a899e6d9ec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 1 17:38:10 2016 +0100

    Tweak ordering of dlopen() flags

commit 2146b976aad08565da445938e303bcd8b6337d12
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 28 19:39:14 2016 +0200

    Fix error-handling in the Android agent
    
    Also convert to ES5 for Duktape-compatibility.

commit a7c09d2c2b0d41be18299a05df444fd2413c60ba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 28 03:16:33 2016 +0200

    Fix crash when spawning apps on newer Android
    
    We need to give `dlopen()` the absolute path.

commit 34b2a6e182f504db60cc657f7225608c625bbb07
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 22 02:47:02 2016 +0200

    Prepare to temporarily disable Mapper on Mac

commit b4246bf2f19c33a4e732de91d2a29f9524ba4ac9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 4 21:26:04 2016 +0200

    Fix handling of overlapping destroy() requests

commit 407647d711a50c434188b5276defff0a2f9c103c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 4 15:32:02 2016 +0200

    Revert "Fix heap corruption caused by use-after-free"
    
    This reverts commit 4bef5e6d51e7347c505d66bd3de872a4d0d257cb.

commit 4bef5e6d51e7347c505d66bd3de872a4d0d257cb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 4 03:19:39 2016 +0200

    Fix heap corruption caused by use-after-free
    
    Seems like `entry` getting cleaned up results in a weak pointer being
    updated on an object that we just released. This seems like a bug in
    libgee, so this workaround will be reverted once we have a proper fix
    in libgee.
    
    Details:
    
    ==73504==ERROR: AddressSanitizer: heap-use-after-free on address 0x6040000218f0 at pc 0x0001088ba31b bp 0x7fff577285b0 sp 0x7fff577285a8
    WRITE of size 8 at 0x6040000218f0 thread T0
        #0 0x1088ba31a in g_nullify_pointer gutils.c:2051
        #1 0x108812656 in weak_refs_notify gobject.c:2638
        #2 0x10885865c in g_data_set_internal gdataset.c:407
        #3 0x10880d1fb in g_object_unref gobject.c:3148
        #4 0x108549333 in frida_darwin_host_session_on_uninjected darwin-host-session.c:4176
    
    0x6040000218f0 is located 32 bytes inside of 40-byte region [0x6040000218d0,0x6040000218f8)
    freed by thread T0 here:
        #0 0x1108a7e29 in wrap_free (libclang_rt.asan_osx_dynamic.dylib+0x4ae29)
        #1 0x108659586 in gee_hash_map_unset_helper hashmap.c:1692
        #2 0x108657554 in gee_hash_map_real_unset hashmap.c:1520
        #3 0x108549326 in frida_darwin_host_session_on_uninjected darwin-host-session.c:4175
    
    previously allocated by thread T0 here:
        #0 0x1108a7c60 in wrap_malloc (libclang_rt.asan_osx_dynamic.dylib+0x4ac60)
        #1 0x108880688 in g_malloc gmem.c:95
        #2 0x10889ea55 in g_slice_alloc gslice.c:1012
        #3 0x10889f0be in g_slice_alloc0 gslice.c:1038
        #4 0x108658c47 in gee_hash_map_node_new hashmap.c:2084
        #5 0x108657297 in gee_hash_map_real_set hashmap.c:1494
        #6 0x10855011e in frida_darwin_host_session_real_perform_attach_to_co darwin-host-session.c:4046

commit a41c35e58d752e8ff075fca6ce21d9614c603ade
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 4 03:06:59 2016 +0200

    Update frida-inject to the new API

commit 84192e25d5b7bb1396045a13afd10121ae3c849e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 3 19:25:01 2016 +0200

    Fix warnings in the Valgrind header

commit b599c9bf4c6e9c0223cacf45783cc71d1e43d27a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 1 02:58:38 2016 +0200

    Improve teardown of the helper processes on Linux

commit e4fb83443ddd01d2853c2009e42e79b6fb7beff7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 1 02:57:44 2016 +0200

    Fix crash on teardown when helper process is still alive

commit 914e953e62dd7fb6713eac515fce129ffea776dc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 30 19:38:19 2016 +0200

    Switch the rest of the public API to use GLib.Bytes

commit 44c3a15671411e26fcfc6633a1c80aa636617aca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 30 19:18:37 2016 +0200

    Improve the message-passing API
    
    - Rename `post_message()` to `post()` and add support for passing raw data;
    - Change the `message` signal to emit a GBytes? instead of an array.

commit 3ec32603dfcc8de9b5bd849a4615d80cf1197e17
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 30 15:06:29 2016 +0200

    Improve the teardown logic
    
    We would sometimes get `on_connection_closed()` called during teardown
    and end up in “assertion failed: (entry_to_remove != null)”.

commit 142c6f24393fac3db3ef3ee883c4e0185224166a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 30 03:27:42 2016 +0200

    Add support for multiple agent sessions (#85)
    
    This addresses a long-standing design flaw where each `attach()` request would
    return the same object, or more precisely, the same shared session. The result
    was that clients would need to coordinate so that two clients interested in
    attaching to the same process wouldn't step on each other in case one decided
    to detach() once it was done.

commit ab1e83e5bcf5f950affd3febdcd826627f981fec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 23 20:51:29 2016 +0200

    Add basic support for running on Valgrind

commit cb8fe931a7dc6825115a6504131212a68b47dfbc
Author: s1341 <s1341@users.noreply.github.com>
Date:   Tue Aug 16 12:59:35 2016 +0300

    Add missing include (#83)

commit bd36c797e8e170d36afe18c01f050f0eff87cce3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 15 00:59:43 2016 +0200

    Fix leak when our internal thread function doesn't return
    
    An example is GLib's internal GThread proxy function on Windows, which
    calls `_endthreadex()`. This meant that we'd leak some memory in the
    target process every time we injected frida-agent there.

commit f28d988b0dd715b144d5f01cd0b833c8bbe321e6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 14 02:09:04 2016 +0200

    Fix warnings reported by the new Vala compiler

commit c1ace20c7259a30a1759c586fae64d254d994e0a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 10 04:30:36 2016 +0200

    Improve error message

commit 2c862c9b51f6d2cedffd7a8feaa580a0a05774b3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 10 04:30:19 2016 +0200

    Fix handling of XPC_ERROR_CONNECTION_INTERRUPTED
    
    We still need to wait for XPC_ERROR_CONNECTION_INVALID when closing the
    channel.

commit 4b21ba4a8dd011c4cac5863c2b23ca37cc2b5989
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 10 03:24:44 2016 +0200

    Handle XPC_ERROR_CONNECTION_INTERRUPTED also
    
    Otherwise apps will hang when frida-server closes the connection on them
    because it's not interested in instrumenting them.

commit a6395cff20f42c0861bf6c414dd13de4e584b6e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 10 03:01:49 2016 +0200

    Fix default main context assumption in the Linux backend

commit f4dc15c72ec99e0cdb25c0f3c672848d40618545
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 10 02:42:02 2016 +0200

    Remove temporary logging code

commit 37fd96b7fbdf5a69af32601ead53791d8d6c493c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 10 02:41:21 2016 +0200

    Tweak style a bit

commit 675b91e07bb18117dc61854df5dd8d8519c181eb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 9 21:54:26 2016 +0200

    Rework the iOS app launching machinery to use XPC
    
    The `container` sandbox profile on iOS 9.3.3 no longer allows connecting to a
    UNIX socket.

commit 349acbab4247c311ae52b9420fda5dd99d30cc68
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 9 21:56:51 2016 +0200

    Use the DISPATCH_QUEUE_SERIAL constant for clarity

commit 79c8c6944ea46bb252571e56a4ff7023db56a311
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 6 02:24:48 2016 +0200

    Fix "hang" on detach when others are attached
    
    If we end up keeping the session open we need to notify the client that
    just closed it, as it will be waiting for an acknowledgement.
    
    Longer term we should consider getting rid of this session sharing logic
    in the server and instead make the agent handle multiple clients.

commit 3230df7fed7b39bd401d87e045f4f86901999d91
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 5 23:37:29 2016 +0200

    Fix preprocessor logic mixup

commit b8d646b6385445f9d67d1ef90a333a9b599578d7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 5 23:22:29 2016 +0200

    Add support for running with AddressSanitizer

commit 8e64048abc444bbb79ad354b74c9099e3f192e74
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 5 22:29:24 2016 +0200

    Add `--enable-mapper` for build-time tweaking
    
    It's handy to be able to disable it when debugging Frida itself.

commit d64a47378af67f6aea2f6fa48dea25e28e278977
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 2 21:45:50 2016 +0200

    Handle abrupt connection loss during close()

commit 52203173463a610ce1700cf2ac0d7ba3d595b9c9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 2 04:00:01 2016 +0200

    Fix race-condition in the shutdown logic
    
    This resulted in `perform_close()` getting stuck.

commit 2883597b4950e69dbbc705a72c2f687ea2c2c034
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 28 20:55:25 2016 +0200

    Only do the loader deployment once
    
    There's no point in doing it on every launch.

commit 55ff06d94f7cc10c33a5e7c7a046b2a3c7fb60a0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 28 20:30:59 2016 +0200

    Also clean up FridaLoader.dylib on teardown

commit dd1e6a5ef9b2ff70fdb1102a8198ae2f2d0e8248
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 28 20:01:23 2016 +0200

    Fix race-condition by simply overwriting our existing mapping

commit 2ff3f0d3f4fd2277df8108ef4cfd6616176763e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 28 17:09:54 2016 +0200

    Improve injector so it injects psuedo-signed code
    
    This means we avoid breaking the dynamic code-signing status of the target
    process. It's weird we got away with this most of the time, although it
    seems XNU eventually catches us, causing the target process to lose its
    `CS_VALID` status. At least that's the current theory, this will need some
    testing to say for sure.

commit ad7b7b075da5b8b80b3d6bcf0542fc4a71dc4bb8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 28 13:19:54 2016 +0200

    Fix session teardown regression

commit 4b5d16a702f20c117fd4197558cf6c820467bf51
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 27 23:29:04 2016 +0200

    Factor out the kill timeout

commit a081f8ff2211dbb0ae074b54cf9fb3b2f87c9034
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 27 23:20:56 2016 +0200

    Fix iOS 7 regression
    
    Bring back the old kill logic as fallback.

commit 0cb3bac0acd936efa94153ab231744c9cafc4a3a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 27 22:33:42 2016 +0200

    Fix deadlock when pending calls exist at detach time
    
    This was triggered by for example requesting to destroy a script and then
    immediately also requesting to detach from the process.
    
    We fix this by using a connection filter, allowing us to elegantly keep
    track of pending incoming calls without having to add complexity to all
    of our yielding server-side methods.

commit ba6dfd6bb155ba1a127e73ead2a951e9bb1adaa4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 27 02:48:42 2016 +0200

    Fix dlsym() hang
    
    It might be dangerous to call `dlsym()` if we're being called from the
    dynamic linker, so force linker stub warmup by calling `pthread_create()`
    instead.

commit 07d06a6b0fa68e40a560ebf50420b095442809bf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 27 02:42:08 2016 +0200

    Fix coding-style inconsistencies

commit 47be73e643e582bc2155da613420d7b43e2ba2c4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 27 01:29:37 2016 +0200

    Respawn frida-helper if it crashes
    
    This way frida-server never ends up in a state where all requests fail
    with “the connection is closed”.

commit 33a759c3ef88fd907d408ffe66da6f50fee5ffc1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 24 21:33:55 2016 +0200

    Improve Session.detach() to wait until the agent session is closed

commit 0f70cae2d0aca37f19d2895825ddfced6de3f2fa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 24 21:28:22 2016 +0200

    Wait for any previous injection for the same pid to complete
    
    We enforce this at the HostSession level as the injector allows injecting
    multiple payloads into the same process.

commit 1da3070edb20b1d210ae70a5024636c329fe1346
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 24 21:25:07 2016 +0200

    Add an attach/detach torture test

commit cc697a0defa7ce46a1464680b356013206eac730
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 19 00:43:42 2016 +0200

    Fix application kill logic on iOS 9
    
    Turns out that `pidForApplication:` on iOS 9 returns -1 if the app isn't
    running, and not 0 like on 8.4. I didn't do thorough enough QA when adding
    this timeout logic at the very end.
    
    Also improve the timeout logic to take actual elapsed time into account.

commit baea4d6f4bba72a37a4d0d7e2961ece0cc9d13a5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 14 03:53:12 2016 +0200

    Always kill iOS apps through SpringBoard
    
    This way we use the tried and tested iOS code-paths and avoid running
    into obscure implementation bugs.

commit 584a336b440b9613ef0fe9199dbf16d2f1557971
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 13 21:16:41 2016 +0200

    Add support for injecting into iOS Simulator processes
    
    This should also make the injection faster on all Apple OSes.

commit c5d013647f3dd655c007c79b7145e3e93baefe63
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 13 00:10:40 2016 +0200

    Fix warning on Apple OSes

commit 7438c1d26fe9176520bd14c95f8fbad2cb91d749
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 7 03:26:31 2016 +0200

    Fix build regressions

commit 3d7a5915279d9eb78fb6321fc5cdfc61c065fb50
Merge: b72fdbce 01e2e107
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 29 16:03:41 2016 +0200

    Merge pull request #80 from s1341/master
    
    Add mips support to frida-core

commit 01e2e107c58fceb06a363cf275e7396ff0aeec64
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 29 16:56:54 2016 +0300

    Fix style issues

commit 454de440ea3f7d2e1da38676610a99e69bb0a9e1
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 29 16:56:28 2016 +0300

    Release libpthread library after resolving pthread_create

commit 296925594379a36ffe5fa10fba41a01aa6418845
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 28 18:24:26 2016 +0300

    Detect linker and ldso full paths based on filename prefixes

commit 8d23cbaee9ea1ddb487d239fb92544ddad89f136
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 28 18:14:31 2016 +0300

    Fix spaces instead of tabs in vala source

commit 0582a312f207c8d0288b1b0319a67f96e505ff55
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 28 18:13:49 2016 +0300

    Get rid of unnecessary underscores

commit b4dcd2af4c479f68be3af04e841d4aead4c0557c
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 28 18:12:45 2016 +0300

    Get rid of unnecessary extern and extra newline

commit 0811d11d83b647b13c7236c2bfa6bf035e3fae47
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 28 18:09:16 2016 +0300

    Fix comment styles

commit 30a0a36bca194d25398e326b7aafe21ffdb3b9fb
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 28 18:07:54 2016 +0300

    Remove unnecessary variable initialization

commit 240820215e8421e4ebcb6f83837e0445ef161656
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 28 18:07:27 2016 +0300

    Add remainder_offset variable to avoid repeated code

commit 59634fa3595b1463d78fbf7281077e39d06cce32
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 28 18:01:55 2016 +0300

    Silence warning on GumAddress to gpointer copy

commit 319ef9c2c3925d519985af05dc8dc8d02c1ff448
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 28 18:01:16 2016 +0300

    Get rid of leftover debug code

commit e00c2b2a3cc4925c5d34c0ee7e759219ea8f2238
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 28 18:00:50 2016 +0300

    Add frida_find_libc_base function

commit 869e495e90460519521ac02993bfc308994080f9
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 14:37:30 2016 +0300

    Working mips linjector support

commit 0f10b9d3275462952d3d10fa7abe52c24cf1c56e
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 14:36:36 2016 +0300

    For uClibc, need to load pthread.so.0 in case it wasn't already loaded

commit f4978329213787a1212aae975367ad91a60ef284
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:38:35 2016 +0300

    uClibc destructor not firing, temporarily disable detection

commit 844151b128533896f751aadd21e930d7a7876ddd
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:37:23 2016 +0300

    Add MIPS/MIPSEL to CPU, and add the Libc enum and retrieval function

commit 1334c145eb2f76b5be7d1fef4d37e24be5f0c8f3
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:36:33 2016 +0300

    Add mips support

commit 32ef96747171d4044c8f856723dc3d8c6f3150c3
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:35:43 2016 +0300

    Add mips unixattacker/unixvictim to makefile

commit 484cd5cb370f97101cd82f2695562d3beee286ca
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:33:25 2016 +0300

    Only do frida_libdl_prevent_unload on linux glibc

commit 720a9eec46163d7c34bb26609f945ff037e4188d
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:19:34 2016 +0300

    Fix bugs in frida_remote_write for unaligned writes

commit 2c4ea09fadf1b2b025821d8cbfb9a5b7fdb82154
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:13:01 2016 +0300

    Add mips and libc detection

commit 355ca60b438fe0e4c0baf3acd04a99720b3fde67
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 23 11:36:53 2016 +0300

    Add mips unixvictim/unixattacker

commit b72fdbce33f61f3ff46c1918da088ea180963b9e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 3 00:57:07 2016 +0200

    Fix gadget build regression

commit 956b97334efd179019cf040fb4305bf19ebd5d5b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 2 22:55:40 2016 +0200

    Add API for bytecode compilation and script creation

commit f10cb3f5240b0cf100fb085547cb015a9b3e8943
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 18 21:53:50 2016 +0200

    Provide a proper error message when the remote Frida is incompatible
    
    Fixes #72.

commit 0c9acf22847bd144d3881f04793a117cf8cff9f9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 18 17:22:37 2016 +0200

    Ignore attempts to detach from the system session

commit 9675b103178344d8925b656f2526bffc217d6dbc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 18 17:21:56 2016 +0200

    Guard against create_script() and detach() overlapping
    
    Apps shouldn't do this, but we should still handle this gracefully.

commit a266c0045dc999635bdaea0ff7de8ae1109b44a4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 18 17:19:02 2016 +0200

    Allow the close() operation to fail

commit 2a01aab20cad2092bb20c88889c12f7c50cf6b6f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 8 23:49:20 2016 -0700

    Fix shadow declaration warning

commit 8d89521c89c3964c4b8e2ae20be3603b6ddf73c3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 8 23:49:09 2016 -0700

    Upgrade to VS2015

commit 263429685789ee0e134affe2199196858959cd1f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 27 02:29:14 2016 +0200

    Improve frida-server to always recycle the same temporary directory

commit a39321f4d17d33ebe55fa12bc9b10716ce42622a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 27 01:33:52 2016 +0200

    Fix handling of overlapping requests to attach to the same pid
    
    We need to handle this at both the client and server end. The client end
    may not seem obvious and is because of the state we need to keep track of.

commit ad4687b5ff89658f7bee6ca1a57a85db006744cc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 27 01:28:01 2016 +0200

    Fix crash when shutdown requests overlap

commit e20d08c18d81bf9d61830784485d53762efb390b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 26 21:20:57 2016 +0200

    Fix spawn() without attach() on Darwin
    
    The handler type we were using resulted in the kernel clearing the debug
    state back to the previous one, where the breakpoint we just cleared was
    still set.

commit 84d630b1062f89b2d3f846a13a9e4eabae2b6c26
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 26 13:53:51 2016 +0200

    Fix wait loop

commit a0b902ca1908c1dbd98b71f3607ba80017f08177
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 26 13:38:09 2016 +0200

    Make the test a bit clearer and robust

commit 20a9b0ff6845356d9ba083c9247826c159c6a756
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 26 13:29:40 2016 +0200

    Add failing test for spawn without attach on Darwin

commit 58c896bacd1efb4b4a5c063b6d3aa705b5ca3128
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 15 02:27:55 2016 +0200

    Revert temporary hack

commit ccacb5b9e066d71ddfab0530b1ef351397aab693
Merge: f1c963de 4734ea18
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 15 02:05:54 2016 +0200

    Merge branch 'fix/darwin-spawn'

commit 4734ea1896ce02daa93510778694e798be7ac573
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 15 02:05:39 2016 +0200

    Rework the spawn() implementation on Darwin
    
    /cc @trufae @Tyilo

commit f1c963de203b7827c822fb214c49d60b0049aacf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 13 20:04:00 2016 +0200

    Add missing include

commit 738ae070fb4cd42d06a7062e984a45c15f487f7a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 9 12:11:21 2016 +0200

    Fix intermittent crash in spawn()

commit 38413a3a523786c8d2977a4777ac9fa3cd7dce74
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Apr 3 04:06:37 2016 +0200

    Don't allocate a new console when spawning

commit 99a2d14617f344154beca763994ec3c9facd0c14
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Apr 3 03:46:25 2016 +0200

    Implement the new spawn() stdio behavior in the Windows backend

commit 17820560339db2ea31dd62a21657ba01b47a030b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Apr 2 22:10:09 2016 +0200

    Fix Darwin regression

commit d61de186ceb9ae57fcbc095247f27f7b0be6b4a5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Apr 2 22:06:09 2016 +0200

    Reap children and simplify the logic a bit

commit 33428031c6c24837bdf4ae34cb0e0478d215e349
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Apr 2 22:05:42 2016 +0200

    Implement the new spawn() stdio behavior in the Linux backend

commit dcaa570e2fbf5f688cc69b693e178aacfb6ea883
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Apr 2 22:00:04 2016 +0200

    Avoid writing uninitialized data to the remote payload

commit 6e0bcefc8cc39f977e09e5da2b66d25f32c47ff5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Apr 2 03:02:07 2016 +0200

    Add stub for Device.input() to gadget's HostSession implementation

commit 06f236240ed81591cf1de0288fcf82b711fcce3c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Apr 2 03:01:19 2016 +0200

    Add stub implementation of Device.input() to the other backends

commit 516d6393ff226ce856f6d08c5c30161aa3651572
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Apr 2 03:00:52 2016 +0200

    Implement Device.input() in the Darwin backend

commit 71f4288e1c4cf5b315ba818d4f91924f65051c04
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Apr 2 03:00:04 2016 +0200

    Add Device.input() API for writing to stdin of spawned processes

commit 4830dee0acd57eab47627b91ac0121f9c8aec1c3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Apr 1 23:10:04 2016 +0200

    Implement the new spawn() stdio behavior in the Darwin backend

commit 519aced92611447efa6444cbe75e006589057c08
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Apr 1 23:09:03 2016 +0200

    Add `output` signal to propagate output from spawned processes
    
    The current backends let the spawned process inherit stdin/stdout/stderr,
    which means that the behavior is very hard to predict, and often wrong.
    To keep things simple we will instead move backends to always redirect
    these to pipes. In the future we could consider making the API more
    flexible, or just encourage users with advanced needs to call `dup2()`
    early from inside their scripts. At least they will know that file-
    descriptors 0 through 2 are valid and be able to customize this from a
    known starting point.

commit c6405a9df53d6ef2f87d4f300651826d06cf9fbb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Apr 1 22:58:00 2016 +0200

    Fix frida-inject build regression

commit 62f37110bd3f67240ce03b588c1d0a68a997da79
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Mar 30 22:50:35 2016 +0200

    Depend on json-glib-1.0 for ease of use

commit ddb4f0b031cd51a717b22d3c7a1c3624e1adf960
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Mar 24 22:38:28 2016 +0100

    Spin the main CFRunLoop while waiting for permission to resume
    
    This allows thread-sensitive early instrumentation to be applied in the
    main thread.

commit c0f1725001c4d48299fe9c07b368ee43060c8394
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Mar 16 14:41:24 2016 +0100

    Run a CFRunLoop in the main thread of frida-helper on Darwin
    
    This means that `ObjC.schedule(ObjC.mainQueue)` works and it's possible
    to interact with APIs that require the main run-loop to be serviced.

commit 78855ec363e912c0eebd526bfb722c6b870f7e83
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Mar 16 13:14:41 2016 +0100

    Force CoreFoundation's constructors to run before using it
    
    This issue was found while using FridaGadget.dylib with an iOS app
    launched by ios-deploy. Interestingly this did not happen when launching
    lldb with Xcode, so presumably Xcode's early scripts cause CoreFoundation
    to be lodaed.

commit a13d1837eb36016007789bb1bfe2a44d14ba2889
Merge: 7fe01959 71b0dd74
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Mar 13 21:14:08 2016 +0100

    Merge pull request #74 from s1341/master
    
    Handle zombie processes gracefully

commit 71b0dd74567f680d030b9cba61e35e9a8ceaab7b
Author: s1341 <github@shmarya.net>
Date:   Sun Mar 13 11:12:00 2016 +0200

    Fix style issue

commit a938a0815ec1cdfdf105209c6f180f3e39fd16de
Author: s1341 <github@shmarya.net>
Date:   Tue Mar 8 17:57:07 2016 +0200

    Handle zombie processes gracefully
    
    These are processes which appear in /proc, but which you cannot open a /proc/<pid>/as for

commit 7fe01959862a51e081a5d9177611d5242ed76547
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 29 02:02:29 2016 +0100

    Spin the main CFRunLoop while waiting for permission to resume
    
    This allows thread-sensitive early instrumentation to be applied in the
    main thread.

commit 33bc42e198a5c098234738946811f6cd7c119ab1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 24 02:50:22 2016 +0100

    Bump the DBus interface versions to match the upcoming major version

commit d763dbdf890a9b6825533e845665e74bd0655828
Merge: 87f63541 bf66393f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Feb 23 15:37:02 2016 +0100

    Merge pull request #71 from s1341/master
    
    Deal with double definition of ARM_REG_*

commit bf66393f1a24aaecaeda3f7367898f790b829e37
Author: s1341 <github@shmarya.net>
Date:   Tue Feb 23 12:56:17 2016 +0200

    Add missing -lm for linking duktape on qnx

commit e7c009926892b35a25cbbc4c919c62bf56e5690a
Author: s1341 <github@shmarya.net>
Date:   Tue Feb 23 12:53:12 2016 +0200

    Deal with double definition of ARM_REG_*

commit 87f63541eeeb5d6eb79d44dc9a5be05e94a350d9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Feb 19 02:44:54 2016 +0100

    Add an official way to override frida-server's default listen address

commit 6321be97b53853bda9f12f7ba85f45659b22d6c3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Feb 19 02:44:11 2016 +0100

    Add API for specifying which host to connect to

commit ab00caffde61318219006af4f420e395c262962e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Feb 19 02:41:19 2016 +0100

    Fix the frida-inject build system on Mac

commit eead1bb6716ea7f7bcdd573c12f80eed19935af1
Merge: 39eca7c0 de68c659
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Feb 16 21:10:15 2016 +0100

    Merge pull request #70 from riverar/fruity_win32_tweaks
    
    If device location retrieval fails, handle correctly

commit de68c6598fb5d9bf716dfdea0db9372cb4835ad8
Author: Rafael Rivera <rafael@withinwindows.com>
Date:   Tue Feb 16 12:06:18 2016 -0800

    If location retrieval fails, handle correctly

commit 39eca7c03fcc619290cd844a19a1141647d8da9f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 6 03:03:13 2016 +0100

    Add missing gitignore entry

commit 990a247cab5cbb15082f6075e35a1b436644d96e
Merge: 09e5020e e894d444
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 6 01:06:16 2016 +0100

    Merge pull request #68 from riverar/missing_x_bit
    
    Missing execute bit (fixes #67)

commit e894d4441e2f664efa54b3aeef973bee2f9e8220
Author: Rafael Rivera <rafael@withinwindows.com>
Date:   Fri Feb 5 15:32:00 2016 -0800

    Missing execute bit (fixes #67)

commit 09e5020e8406edaab0a6539bce69bd4530dad231
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Feb 5 19:51:38 2016 +0100

    Fix race-condition on rapid uninject
    
    Kudos to @crowell for reporting.

commit a3947039d361f99dfa20a2f5537c3f380137aed7
Merge: 66d9ea5c d93040d3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Feb 5 13:36:43 2016 +0100

    Merge pull request #66 from s1341/master
    
    Prevent libdl from unloading to work around TLS destructor bug

commit d93040d3ac903b21c46e1e22497fbaeb447b035c
Author: s1341 <github@shmarya.net>
Date:   Fri Feb 5 14:06:14 2016 +0200

    Fix minor issues

commit 2793d8f17df3c7254bcbe0df72cb39b9edd4d937
Author: s1341 <github@shmarya.net>
Date:   Thu Feb 4 19:24:18 2016 +0200

    Prevent libdl from unloading to work around TLS destructor bug
    
    Keep a handle to libdl.so.2 so that it is never unloaded even when
    libfrida-agent.so unloads in a process that did not previously have
    libdl loaded.
    
    This is to prevent a bug which was encountered where libdl tries to
    perform a TLS key destructor after the libdl code has been unloaded,
    resulting in a segfualt at thread cleanup time.

commit 66d9ea5c9defc632c5b08a279f83014e7089a929
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 3 21:48:29 2016 +0100

    Fix minor style issues

commit 7cbdda604267af10be2ff36592d92a20eb6b8d7c
Merge: 43742292 3aa41b56
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 3 21:45:09 2016 +0100

    Merge pull request #65 from s1341/master
    
    Implement frida-inject, a new tool with similar semantics to frida-gadget

commit 3aa41b56ae098670238fae921d932ba02ec0d8a0
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 3 19:12:59 2016 +0200

    Get rid of cruft; Call gum_init/deinit

commit 98d081d2567af0513edecc0378870e18292bce66
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 3 18:49:05 2016 +0200

    Style fixes

commit 4bba293c9548bed46783fc1c92db10c7aa644943
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 3 18:32:35 2016 +0200

    Fix spaces instead of tabs

commit 0cdff3030180a905936f24d03934c78b296b63bf
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 3 18:31:29 2016 +0200

    Make sure to call device_manager.close() in stop so that temp files are cleaned up

commit 64bda57654bc3988c51395f1fc1735d4ea91506a
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 3 18:21:21 2016 +0200

    Switch to tabs instead of spaces

commit 7b41593c4de3041c4c3e2e87caf7c7dbe2d625e6
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 3 18:19:25 2016 +0200

    Get rid of unnecessary locking/state

commit 5bf4a6fe20ae46ba893b33d9c3d32c5dc428a339
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 3 18:12:30 2016 +0200

    Get rid of Frida.init/.shutdown

commit c8f60cd9172a730eddee8745d7a797162da5bb19
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 3 17:44:56 2016 +0200

    Fix LDFLAGS

commit c1f3a88ade24baceb4260c02ae2d36e54f53c369
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 3 16:56:21 2016 +0200

    Add frida-inject, a tool to inject an agent into a running process with similar semantics to frida-gadget

commit 43742292957d8a2b7d92ed85a0ad7e782a4cb32d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 03:10:52 2016 +0100

    Bundle multiple replace() calls into a transaction

commit 947381bc09c3a11fd90da2e2fa8c5ed1dfe5afcb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 21 02:35:29 2016 +0100

    Fix test regression on iOS

commit 8ae58e44ab06cd48a3d2f5886ba74a2afbad608a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 21 02:24:20 2016 +0100

    Fix warning regressions

commit 2c120f0e6f97bd7a97cc7c7fb2b9a9837208dff5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 21 01:58:20 2016 +0100

    Remove temporary debug kludge accidentally left in

commit 7b4234429c1d22f5a79dbc6bf5ece4309427d8ef
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 21 01:51:44 2016 +0100

    Implement raw spawn() for iOS also

commit 955263cf8058d03bd60883be87c9fa1586503b97
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 20 13:58:28 2016 +0100

    Call Gum.init() before using any Gum APIs

commit e18e6910a829129cebd4831ecfb8090ea6616b7c
Merge: aac08e1f df345afa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 19 21:45:40 2016 +0100

    Merge pull request #62 from riverar/temp_appcontainer
    
    Changes to support AppContainer ACL on temporary directory/files within

commit df345afaa229d4fdee250b3c0ae2e925ec480dca
Author: Rafael Rivera <rafael@withinwindows.com>
Date:   Tue Jan 19 01:43:19 2016 -0800

    Changes to support AppContainer ACL on temporary directory/files within

commit aac08e1f39ff41fe29dde24280a01e4c2b946031
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 19 21:21:12 2016 +0100

    Give frida-helper all the entitlements that the Preferences app has
    
    This is very useful for interacting with system configuration from the
    session script, which is what that session is meant for.

commit 15688b79f4911ce79097760334731e13563b04ec
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 18 14:41:14 2016 +0100

    Fix Android regression resulting in crash on inject
    
    Fixes #61.

commit 3227965ed87c8c20b5c62509b3b827cccb33d16e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 04:34:54 2016 +0100

    Fix build regression

commit 470807c72680b3191b81262a154d5f8bd6e6b52f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 03:50:10 2016 +0100

    Add disable_jit() to allow users to try out the new Duktape engine

commit bd351de01fc340e433413e5931777d380f960654
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 01:53:13 2016 +0100

    Update to the new GumJS API where all backends support unloading

commit 70a4325c36adfe4e4fad83297fce7edb9d8655d1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 21:03:49 2016 +0100

    Fix build regression

commit 37ee55745ff6842f93d4205625cc925687367ffa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 20:40:38 2016 +0100

    Get rid of C++ linking hacks no longer needed

commit 34caacedf8d0dc7dbfc3a757bc7ddd9f600a41db
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 20:40:23 2016 +0100

    Avoid C++ linkage in the gadget also when possible

commit cc2e5a86db5efc6a405741a8e7ab98d8a852a8e3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 20:39:46 2016 +0100

    Update the thread creation logic to match the latest in agent

commit f03e9c2b0026ab5449612afdbd273e6c2ceefa06
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 20:39:20 2016 +0100

    Fix agent regression on Darwin
    
    We cannot use `RTLD_NEXT` when we are calling from an image that we
    manually mapped into memory, and consequently dyld knows nothing about.
    As we don't actually need to resolve the address anyway we can do it the
    way we used to on Darwin and leave the `dlsym()` for other UNIXes.

commit 1c257b8e653facc50f024b00d550f9ddc52a7a3e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 20:32:41 2016 +0100

    Remove trailing line

commit b00f903eebb4744dc1712ead5b14fa854f784674
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 14:51:45 2016 +0100

    Fix gadget regression

commit 22b244900f21cea43c4dee599f0a2e6502533cfd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 14:30:11 2016 +0100

    Update to the new API now that the JavaScriptCore runtime is gone

commit 11a647b1e5d6d028590ed190a2174b123a3f1317
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 13:54:33 2016 +0100

    Fix missing quoting in the LINK definition

commit 7343c7a15a9855df5963e9cb3f260e4784f426ab
Merge: 7105ccb8 5a64866b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 12:36:27 2016 +0100

    Merge pull request #59 from s1341/master
    
    Fix bug when hooking pthread_create before it has been properly resol…

commit 5a64866b2b5a2e8861aebf142033a3ba3c54e876
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 12 13:32:16 2016 +0200

    Use RTLD_NEXT instead of -1

commit 8a124fc42ec2d69fee314cbea1c2763c571b841d
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 12 13:14:53 2016 +0200

    Fix bug when hooking pthread_create before it has been properly resolved by the target application

commit 7105ccb8d04bc5cfe11eda1b88cf4dd21087f8bc
Merge: 3b37d49c 111a0287
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 12:12:05 2016 +0100

    Merge pull request #58 from s1341/master
    
    armhf support; better DIET (Duktape) integration

commit 111a02877d96473040656c3521421024f0fb7f3a
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 12 13:09:37 2016 +0200

    Fix style issues

commit ed08218fda845edb11a30ccc516a866e5edb9a82
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 12 12:45:58 2016 +0200

    Add labrats for linux-armhf

commit 18b92c58fca23413e5fd8ce96274d29058729b61
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 12 12:45:11 2016 +0200

    Remove dummy.cpp file no longer needed

commit 1e90c6eef63d5fc4b8d252f967fabcf2b0041f05
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 11 18:15:38 2016 +0200

    Fix conditional CXX linkage

commit 9461069a2c4b15983eaf31ee1718eabf255a5a8f
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 11 14:47:57 2016 +0200

    Do not link with CXX when using Duktape

commit 39556119f9dee1845f86379a001e61a7d9ba23bc
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 11 14:47:37 2016 +0200

    Add armhf  support

commit 83c2b2c945c2fc97b75be7d9171f76eb8a3a7ab2
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 11 14:47:23 2016 +0200

    Add ENABLE_DIET for Duktape support

commit 3b37d49c1270d12af3fd09d43d9fee30ac752d95
Merge: 17362764 05133455
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 2 22:15:25 2016 +0100

    Merge pull request #56 from riverar/patch-2
    
    Expanded update of security attributes on named pipe (fixes #54)

commit 05133455abb12e06ca77a5ec32c69b9c1cb8d0b1
Author: Rafael Rivera <rafael@withinwindows.com>
Date:   Fri Jan 1 23:22:21 2016 -0800

    Update security attributes on named pipe (fixes #54) r2
    
    Windows XP-Windows 10 xplat
    ConvertStringSecurityDescriptorToSecurityDescriptor support fixing
    regression #54.

commit 173627648ed9c7c5d89b6e098df690cbea3f19dd
Merge: 5c3ba993 59c498bf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 2 21:48:06 2016 +0100

    Merge pull request #57 from riverar/patch-3
    
    Add CreateProcessW flags to prevent IFEO loop

commit 59c498bfd29670f7d11c12e97493629f273a90e4
Author: Rafael Rivera <rafael@withinwindows.com>
Date:   Fri Jan 1 23:56:13 2016 -0800

    Add CreateProcessW flags to prevent IFEO loop
    
    DEBUG_* flags added to skip Image File Execution Options (IFEO) lookup second time around. Allows use of frida in IFEO scenarios.

commit 5c3ba99351fdc3cd6ac51bfc3f46e37d68b855fa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 31 01:47:23 2015 +0100

    Prevent stale HostSession objects in case of network errors
    
    Kudos to @dweinstein for reporting this long-standing issue.

commit 6dab332f2715c2461d0a7bbc1dda3ff515e00d31
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Dec 30 22:20:09 2015 +0100

    Add missing include

commit 21c7988db456329a4ce2c0a2f21a7037a23979fc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Dec 30 21:52:05 2015 +0100

    Add a temporary workaround for Windows pipe creation regression
    
    Fixes #54.

commit b68bc6bd7ddfcb9547a40333a421369eb8c7f394
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Dec 30 17:33:16 2015 +0100

    Fix assignment of the device name

commit 2fc38a3ec488c426ec6f30ad5bbc0e350d5f3d52
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Dec 30 17:30:24 2015 +0100

    Port the Fruity backend to remaining platforms

commit ebfaacc77efe4379fd9e3a2fbf30a7d958c907cf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 28 01:14:57 2015 +0100

    Only run deinit logic when FRIDA_GADGET_ENV is “development”
    
    This shaves off unnecessary delay when LD_PRELOADed into short-lived
    processes.

commit cec4ecb3e7368f766b469c24f6a83d6b45f701a1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 28 01:11:10 2015 +0100

    Invoke the dispose() method on stop

commit b9411140904136513c58ba5675b0d34da35887eb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 28 00:26:12 2015 +0100

    Watch and auto-reload when FRIDA_GADGET_ENV is set to “development”

commit 3c1a7ec7c2eefd1c448938a206a3a779eb9843e8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 28 00:25:19 2015 +0100

    Use g_print()/g_printerr() for console.{log,warn,error}() logging

commit 85a37970799acf9e7157ee6a7b1009d042148006
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Dec 27 00:59:42 2015 +0100

    Fix Gadget teardown

commit a0d00c7dee8437f5ced1f5e46ac2549c9d8e55a7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Dec 26 22:31:47 2015 +0100

    Wire up most of the remaining pieces for running in standalone mode

commit d83299811550fa5e36c692dc19cbf50261feed67
Merge: 3a009828 695fcb66
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Dec 23 18:36:48 2015 +0100

    Merge pull request #53 from s1341/master
    
    Support linux-arm

commit 695fcb66c48e1d3ab8f93f2eddf0b70c2c898df8
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 23 15:02:06 2015 +0200

    Skip spawn test on linux-arm too

commit ba184ceacccdf7312aa51d01c1c7786dd2be511c
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 23 15:01:41 2015 +0200

    Make frida_find_library_base a little more generic to deal with the libc.so.6 variants as well as libc-2.21.so variants

commit 1790c519533725199fb2bc83aa276241563a521e
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 23 14:59:35 2015 +0200

    Add emitted code for linux-arm

commit 565f15ea7687890dd92199ca09fb527fe58d417c
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 23 14:56:36 2015 +0200

    Add labrats for linux-arm

commit 3a009828827e8139ae4db4ac1a596d366883f8db
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Dec 22 00:21:33 2015 +0100

    Leave the embedded dylibs unchanged
    
    We need the code-signatures to stay intact.

commit 62b095db481625833559103b4806e30f1835869f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 21 17:48:01 2015 +0100

    Improve the launchd plist
    
    - Auto-respawn
    - Fix a warning on iOS 9

commit 2244bf5aadccc1136bd4021fe4c4f27442a029ff
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 21 17:46:35 2015 +0100

    Bump the Jetsam memory limit on iOS

commit b29ec5d4cf9be55c953e53b127ab1ad43e829268
Merge: c293d654 a95a5e6d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 21 12:46:36 2015 +0100

    Merge pull request #52 from riverar/patch-1
    
    Update security attributes on named pipe

commit a95a5e6d88d205ccd8f7faadbafdc929c044bb3f
Author: Rafael Rivera <rafael@withinwindows.com>
Date:   Mon Dec 21 03:40:25 2015 -0800

    Update security attributes on named pipe
    
    - Removed a bit of complexity with use of ConvertStringSecurityDescriptorToSecurityDescriptor
    - Migrated DACL ACE for Everyone
    - Added DACL ACE for AppContainer
    - Added SACL ACE for Low Integrity

commit c293d654207f1923db189c0e5de75d7e4d2c514e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Dec 1 01:24:53 2015 +0100

    Add partial support for using the gadget standalone

commit bd8ca07cbdadf775a9a8f6083164c9f40370c831
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Nov 19 16:55:04 2015 +0100

    Improve iOS detection

commit db032f981ecbb0fc0c64fe180c1aeffa7bfe6da2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 18 15:55:42 2015 +0100

    Improve gadget to start suspended

commit 01eba48b8412a5caa7c2c40aaac4f7fd3ca53ff2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 17 16:48:21 2015 +0100

    Fix build regressions
    
    Thanks to @anantshri for reporting.

commit d35481043c5efd6777028f6570805fa78532bbe7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 17 15:55:49 2015 +0100

    Add missing FRIDA_VALAFLAGS to agent and gadget

commit 8506ab1581a1e948799bddb80b1d5403e14a0324
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 17 15:44:19 2015 +0100

    Always use JSC on Darwin for the gadget

commit b34e69b25710eb0970d92e5a4d2e4a5e37419f3a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 17 03:27:22 2015 +0100

    Refactor Gadget to the point where it compiles and links

commit 33396f66eba552f1413380cc23a1723dd32c290c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 17 02:14:10 2015 +0100

    Trim dependencies that shouldn't be there

commit 15242a82e5f1e43efb8f134c70f3c2b24f473dc4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 17 02:10:39 2015 +0100

    Move gadget into lib

commit 2fd0b6c90b0e5001a8795b38cafbf2946a4d584e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 17 02:05:40 2015 +0100

    Remove dependency on frida-agent

commit c0f2a091ecbba21e8fb234a77798d7a2e669336f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 17 02:05:15 2015 +0100

    Explicitly target JavaScriptCore on iOS

commit a27cfdb5c5a6e7c2b901314cef9b56f7dcbd16a7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 17 02:04:42 2015 +0100

    Fix gadget AgentSession registration

commit 3b6f9604c8032fc1ce55eb031999c65d98775286
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 11 03:04:43 2015 +0100

    Bump the DBus interface versions to match the upcoming major version

commit 5691d9efe2f36f7504001da5b29d0b858979ee9b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 11 02:53:41 2015 +0100

    Update the Cydia package metadata to reflect our weight-loss

commit 6fed73238c456a23d9ca82fed19ebc4e8f334d2f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 11 02:38:50 2015 +0100

    Bump the DBus interface versions

commit 28f237a956fb1cc55d5ad866fd280038b6b30164
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 11 02:08:47 2015 +0100

    Add missing gmodule-2.0 package

commit c1e4be646f3480c58fb0a563eb39e80bf226f665
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 11 01:52:37 2015 +0100

    Update the Windows build system too (untested)

commit f98aeddf947ef9363e8681414d7b63be7205dfad
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 11 01:44:46 2015 +0100

    Reimplement the host session cross-platform by loading frida-agent
    
    This means we avoid linker issues where a statically linked V8 ends up
    in frida-core, that in turn gets statically linked into a Node.js binding
    that also depends on its own V8, et cetera...

commit c8b14492df87ec4ba15f4aa3716656eaa900b0de
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 20:36:54 2015 +0100

    Move main() to the top for consistency

commit 211d34a4244973ca780327408f283771827ed5e1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 19:14:43 2015 +0100

    Revert system session to prepare for a better approach

commit e7ec422ebdba8e0186fd63a8dd45bcfc8dc667cd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 15:24:25 2015 +0100

    Add missing dependency on gumjs

commit ac185bc07d63106a532dbb6a0b14053403b90265
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 15:17:55 2015 +0100

    Revert "Add missing dependency on frida-agent"
    
    This reverts commit 9882c0b4b419de0a7dc0b118fa327c4a942b5be5.

commit 9882c0b4b419de0a7dc0b118fa327c4a942b5be5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 14:54:36 2015 +0100

    Add missing dependency on frida-agent

commit d7668f8c047afdda64ca54f4b5ed963dd1d6bba8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 13:56:28 2015 +0100

    Fix creation of pipe endpoints when a task refers to the local process

commit 9ff083642ab0a74de950419e60753f02fcd2cd4e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 04:50:14 2015 +0100

    Update the Cydia package metadata

commit f01e6837eb2cf250aad81acf216359b8739a53e0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 04:45:10 2015 +0100

    Replace fakeroot with sudo for now
    
    There's not yet any El Capitan-compatible fakeroot release.

commit f513448957bdf8daaf7f2ad534b1d310562d241c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Nov 7 05:13:34 2015 +0100

    Improve the cross-arch manual test

commit 883e8e8d1bf4f6072c32c36039412ed1e16e5534
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Nov 7 05:13:17 2015 +0100

    Fix circular reference preventing teardown

commit 60b9ae9cbda71f10a8d2df020bd6a9515b588016
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Nov 7 04:45:14 2015 +0100

    Fix the pipe proxying logic

commit 94a7d73a37b896a6042c53138f8e6c196892a5fe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Nov 7 03:58:28 2015 +0100

    Proxy pipe through the helper when a direct connection isn't possible

commit 1d992419af7f5b8a429d628cab82570acc5b156e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 6 21:07:46 2015 +0100

    Fix hangs caused by forgetting to call Gum.init()

commit 586831b0ab6ada3a04aef24e337c5020bac6673a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 6 21:06:58 2015 +0100

    Simplify construction of the system session

commit 369869c6d40848901f35e4aa71b653935a41313c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 6 15:33:39 2015 +0100

    Limit the Substrate loader plugin to just UIKit apps for now
    
    Need to investigate why Substrate, or we, bring some system processes to
    their knees and ultimately cause a full system meltdown.

commit 7a37dcacb542416cf16327ebd42a6a345a23c7ae
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Nov 5 19:39:15 2015 +0100

    Fix Gum life-cycle on non-Darwin OSes

commit 4f3ce2c3ad3e66faff49478c6e7e8e0e40eb856e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Nov 5 17:48:02 2015 +0100

    Implement the system session on non-Darwin OSes

commit 17c03c888fc216950a4a64973f6230119bd9f223
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Nov 5 16:50:44 2015 +0100

    Update to the new GumJS API

commit 6932f6bed6f79d5acfe2a8a78d7d40b18dffa096
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Nov 5 14:52:56 2015 +0100

    Bring back the .plist file to satisfy newer Cydia Substrate versions

commit 22b7a3db71144cbf588ea35cf314e44addaacf70
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 4 21:15:19 2015 +0100

    Drop our `.` prefix so temporary files are easier to discover

commit 15ab7cfa114094b20727619c1c3818200a30bca8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 4 21:15:00 2015 +0100

    Pick a better temporary location on iOS

commit d0d558ba4e58d8962943c8b893d7801264a4882f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 4 19:12:10 2015 +0100

    Update gadget to the new API (untested)

commit ca4d05114d375fabba6def09b31e715cbaa608e0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 4 19:11:59 2015 +0100

    Fix crash on subsequent attach when unable to unload

commit a3a11383700f3f618997323499ec0e363d908d94
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Nov 2 23:21:49 2015 +0100

    Stick around if script runtime doesn't support unloading

commit 69f5bf49b557354616b6876201708e0cb8ab24c1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 14:13:10 2015 +0100

    Update to the new GumJS API

commit 50487b3f1aee5a58ab2e031471e4a117612551f8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 30 01:12:32 2015 +0100

    Only enable Mapper on Mac for now

commit f27e79681fc2a80f77596818bae7fb90dfe73d76
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 22:08:15 2015 +0200

    Fix build regression

commit 82c2da2298376d2cb0362696b49bf29ae35c50fe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 13 23:37:06 2015 +0200

    Simplify tracking of TLS state
    
    We might as well clean up everything at the end, as our internally used
    TLS keys are cleaned up towards the end anyway.

commit ffe654e3ff7eeef01429d5802b5f39c9eec06558
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 13 17:36:42 2015 +0200

    Improve the Frida.Agent.AutoIgnorer behavior to avoid deadlocks
    
    - Replace the thread creation function instead of attaching a listener,
      so we don't miss any calls to it because our internals call the function
      from our listener callbacks.
    - Ignore calls made from inside our own TLS destructor callbacks.

commit eb80ed0e286ca606a1042b0aaee41bd40c748a92
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 8 17:27:36 2015 +0200

    Use gum_script_unignore_later()
    
    This allows us to avoid a deadlock situation where the GThread cleanup
    acquires the slice allocator lock, which triggers a callback into the
    runtime, waiting for the V8 lock. Meanwhile another thread is holding
    the V8 lock, but a C++ callback tries to allocate memory and tries to
    acquire the slice allocator lock.

commit a47c2161f0e33706dd8b7fd0837c7051f5fe314c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 1 15:45:12 2015 +0200

    Fix crash on teardown by using new API provided by our GLib patch
    
    Because frida-agent inserts a shim function for threads spawned by us,
    for the purpose of ignoring Frida's own threads, we need to shut down
    GLib's internal threads before cleaning up Gum's memory (which the
    shim implicitly depends on).

commit cdfd2a3fce3f7292dd3d279fb8189eef786c3c65
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 1 03:28:57 2015 +0200

    Fix some left-over usage of the old enum type

commit 1b4789647d8982acc62e2d09dfd587ef58931b0e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 1 03:19:53 2015 +0200

    Update to the new {Arm,Thumb}Writer API

commit fcc366465ee847d5d577ca6a7574ef4286d88743
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 29 21:44:54 2015 +0200

    Update to the new Arm64Writer API

commit cd81fb3f090d93a037abb398b46a2351a0e2f712
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 01:10:06 2015 +0200

    Ensure temporary file doesn't exist before trying to create it

commit 5581332ea157ebc6f499ca42bca13e8e14f416e8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 00:49:00 2015 +0200

    Move Mapper to Gum

commit 534b5ba5a78fdc20b74445ade2610052f5dafa44
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 17 02:01:10 2015 +0200

    Update the Droidy device icon

commit ebadc09b8753bfdc3a97cc6c935449b3ad90fe63
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 17 01:18:22 2015 +0200

    Improve device probing robustness

commit 4d73a8351b401b21bb3bb3b46d0b7a4e82d6753d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 17 00:33:20 2015 +0200

    Normalize the fallback iOS device name for consistency with Android

commit 81ae99f3dfc057d9fe03be9d28f538c5c52220cf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 17 00:32:59 2015 +0200

    Adjust iPhone 5+ device name on Darwin

commit 2783e5ca69a78612ff22cb7ce31aa4aec06eb7de
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 16 23:02:33 2015 +0200

    Bump the DBus interface versions

commit 4a343ef3d9b39bb0b0be1c6d2c874397b371305e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 16 22:41:15 2015 +0200

    Add missing Droidy .c files to the Windows build system

commit c72f14bc9ea32b6b32674e992ac5ca10d71404e4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 16 22:30:22 2015 +0200

    Start and stop backends in parallel

commit c701593add9744cda597f9d4ea717a514f4d7a85
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 16 22:08:04 2015 +0200

    Add Droidy backend to the Windows build system

commit 89a747aa2bfb30886da3f7f46f01c9017fda80fb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 16 21:58:59 2015 +0200

    Enable the Droidy backend on all platforms

commit b190806aef7783338707654789e30f7a186df422
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 16 21:58:50 2015 +0200

    Ensure that the Droidy backend starts within 100 ms
    
    This is consistent with the Fruity backend.  The reason we don't consider
    the backend started until devices have been enumerated is that we want to
    make the first enumerate_devices() call return as many devices as possible.

commit fbe40abe23df51fe2358a71211c515d248eff5ae
Merge: 1905ee78 7abb1df2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 16 20:54:25 2015 +0200

    Merge branch 'feature/droidy-backend'

commit 7abb1df2caeb2965a5a7ff835efaee3ea78b98f0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 16 20:52:22 2015 +0200

    Consolidate teardown across Droidy, Fruity and TCP backends

commit 051b90326522a39867ae512fc0b5391eee59b78f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Sep 14 15:57:24 2015 +0200

    Add new Droidy backend for interfacing with Android devices
    
    Relies on ADB, and requires it to be running when Frida is initialized.

commit 1905ee7891046f652f67bc49faaa2cba819165ba
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 15 23:39:44 2015 +0200

    Remove temporary test app

commit 37af4d6c18c140607f4049ddf0d914f873936d12
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Sep 13 18:53:55 2015 +0200

    Change Device.id to represent individual devices across reconnects

commit 6ad36a8e842886388c52a23429469c8b1d3e56ac
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 10 20:01:41 2015 +0200

    Fix `ensure_host_session()` error propagation

commit a4f5ffe2b18068e3705f63b2ded34b4f04b802b3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 10 04:18:53 2015 +0200

    Remove temporary development-mode hack
    
    We used to inject twice; once to flush out the old version of the loader,
    once more to load the current version.

commit c64dec25958d22692cfe9cbd5c77566ca92be909
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 10 03:25:54 2015 +0200

    Add spawn gating API
    
    - Call `enable_spawn_gating()` to become the desktop-wide gateway for
      processes being spawned. Listen to the `spawned` signal to get notified
      when a new process has been spawned, call `attach()` to apply desired
      instrumentation (if any), and finally call `resume()` to let it start
      executing.
    - At any time, call `enumerate_pending_spawns()` to get up to speed on
      which processes are waiting for us to `resume()` them.
    - Once done, call `disable_spawn_gating()` to relinquish process gating.
    
    This API has only been implemented on iOS and Android for now, but could
    later be implemented in the other backends too.

commit a802f3a388e86a9174774e38eeaa669f860f88e0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 1 16:02:22 2015 +0200

    Fix Darwin build regression

commit fd4abf557a3cd87ebdc89a9ae3fa1f5fc299fcaa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 1 15:49:45 2015 +0200

    Fix build regression on non-Android OSes

commit d50b50e47c7c61150847ea81c7d780c2ce25b33e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 1 15:37:20 2015 +0200

    Fix Dalvik fallback logic

commit e2a10d1bc74a8c3e2fbd107314bc087520bf00de
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 31 16:14:37 2015 +0200

    Simplify SuperSU.Connection.read_string()

commit 9257b8fe49c0eea3ea6d682be43ff4aadb728308
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 31 16:13:33 2015 +0200

    Add missing NUL byte when reading string from Loader

commit 57152a46b7d55b5141287d9a885827bde7a732a4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 31 15:27:15 2015 +0200

    Fix handling of systems where ART is the secondary VM

commit 76e1b3ca6aa832dd62ea8e18859fb9d97d54529b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 31 15:04:24 2015 +0200

    Forward GLib assertion failures and logging to Android's logger

commit 2df6e77902a7a688134d82c91f75fb568e7ab141
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 31 14:54:51 2015 +0200

    Parasitize com.android.systemui instead of system_server
    
    Also simplify `startActivity()` to avoid relying on a Process hook.

commit 400e10fb8c4b129f2781602af930a066ee978dd0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 31 14:22:14 2015 +0200

    Throw a proper error when spawning an app not currently installed

commit 5ba24791c81fa52ea5565c246efd326fc9784dd0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 31 00:49:52 2015 +0200

    Improve compatibility with emulators
    
    If we're not allowed to save the policy back to the kernel, SELinux is
    enforcing, and we can set it to non-enforcing, we use that opportunity
    to make the `shell` type permissive and flip the kernel back to enforcing.
    The `shell` type is normally made permissive when rooting a real Android
    device, so this is just a quirk needed for emulators.
    
    Also allow zygote->shell to `sigchld`.

commit 9ee8bdeb968f70b493255a6c5e040193e17d392b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 30 21:18:20 2015 +0200

    Fix crash in Linjector test

commit 29005bfb7855fc11eb4535a019f9c70c527e0e5e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Aug 29 18:30:24 2015 +0200

    Add support for Dalvik too

commit e1d92db3e8feef702a237cfbfeeafa4cbd337988
Merge: fe3ca4c1 3846e95c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Aug 28 00:20:58 2015 +0200

    Merge pull request #45 from marc1006/getFrontmostApplication
    
    Implement ```getFrontmostApplication```

commit 3846e95cdb4288b2d282207c39d2fe9946a0a332
Author: Marc H <marc.diplom@googlemail.com>
Date:   Fri Aug 28 00:14:24 2015 +0200

    Consistency with iOS

commit ca6792dfb7582b2a80a6c92f7db3c2a7651dff99
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Aug 27 23:56:46 2015 +0200

    Implement ```getFrontmostApplication```

commit fe3ca4c16de7c2eb76b3aad201ab4fa812b18d61
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Aug 27 23:37:47 2015 +0200

    Remove temporary hacks
    
    We might want to bring back force-enabling of the debugger later.

commit b2818cbdc1b6f41e84e94ca835e446965118a33c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Aug 27 20:26:16 2015 +0200

    Improve the Darwin backend based on recent Linux changes

commit 4066ae92fc1b76ae5a73a91070a5b11b45a3a1d5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Aug 27 20:25:00 2015 +0200

    Implement spawning of Android apps in suspended state
    
    We currently stop a bit early so our Java integration isn't able to find
    the class loader. Needs further investigation.

commit 304437ad02fdbea5d5fca9f0137ffb8b16ce9323
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 25 15:22:53 2015 +0200

    Try a custom jdwp configuration

commit 410a6a0b0b730a62e035d056599f5fd3df0aebee
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 25 14:54:24 2015 +0200

    Make the spawned app debuggable regardless of its manifest

commit abf482f9fcc0b74b4c817749b5d85a2928b0d3fa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 25 14:39:00 2015 +0200

    Add some temporary logging to the Android app spawn test

commit 5a716d9472a3c5c9ccec46c1bd9225e394dd2f35
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 25 14:38:37 2015 +0200

    Fix the script used in the Android app spawn test

commit 094fccdfaf2648af0cfdb5bcbb66be412a95f974
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 25 14:37:50 2015 +0200

    Patch the SELinux policy when booting up the test harness

commit edd51b092152dac70c92ff61baed9b92a93da7b6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 25 14:36:47 2015 +0200

    Don't try to spawn until system_server considers the app dead

commit 1ff637c1c5f82590c9560cfebb1ca2572ed89231
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 25 14:16:12 2015 +0200

    Add partial support for spawning Android apps
    
    The missing part is spawning them in suspended state, which we will
    accomplish by adding zygote args when we intercept `Process.start()`.

commit 580f83cba4961c74be35f4b7cd4182c6f2a4b657
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 25 01:28:52 2015 +0200

    Implement enumerate_applications() on Android
    
    Related to #27.
    
    Fixes #33.

commit 7ca4c0a2df05e52cca5d21798f09013b81813195
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 24 19:50:34 2015 +0200

    Relax the SELinux policy slightly to allow injecting into system apps

commit ff8f50de6dd54890c6f9ff0cf371502008577cd6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Aug 21 18:39:15 2015 +0200

    Strip agent before uploading it on arm and i386 Android targets too

commit d64e5e589b4fb235b2f04e8e797845fcf4d5f977
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Aug 21 16:05:47 2015 +0200

    Only run the Darwin spawn() test in slow mode
    
    The underlying implementation needs more work.

commit 50923f6cacf762373440202881a10d4083fd2aa2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Aug 20 18:37:50 2015 +0200

    Relax the SELinux policy to allow any domain access

commit d061c8c909b90cea863bcafec5f4b1578b8dc312
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Aug 20 18:27:12 2015 +0200

    Define G_LOG_DOMAIN so log items are properly tagged

commit efa60914b83ad58dee4917e001b58cbd5a95dbb3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 19 23:40:30 2015 +0200

    Add support for injecting into zygote on Android M

commit 37bb8d320fda6c1ded8f7fab476d03f188cbb291
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 19 22:44:55 2015 +0200

    Add an access vector to allow injecting into zygote

commit 634ecb0dd768ab05a095e30406840a9323826a33
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 19 22:07:35 2015 +0200

    Add the new type to class constraints referencing attribute
    
    For some reason the binary policy stores a bitmap with each class
    constraint containing all the types that have the attributes referenced
    in the expressions. No idea why this isn't computed by the kernel when
    loading the policy instead of adding redundant data to the policy.

commit 59eb20a9ccda8aeb39972911b199134492e3fca6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 19 22:01:22 2015 +0200

    Make the rule registration logic a bit clearer

commit d91a2bd7b480464c6252a390e30cf3c4327f4b94
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 19 22:00:58 2015 +0200

    Update the in-memory attribute indexes just to keep the model sane
    
    Even if these aren't written to the binary policy.

commit 8c698a383a35283992af79fe045ba3f580f8f6d2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 19 21:56:39 2015 +0200

    Add `mlstrustedobject` attribute to our `frida_file` type
    
    This is required for Android M support due to class constraints. Apps
    are now assigned categories and this means that there's a difference in
    MLS level, so we need the `mlstrustedobject` attribute to pass the
    constraints.

commit 21b6aad24ac97c3c60ac803b61da9eb9b9f81988
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 18 10:20:08 2015 +0200

    Initialize the `ops` field in `frida_ensure_rule`

commit 6b1ed12efd4a28f7bc6e222578490c35da4b46fc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 18 08:35:27 2015 +0200

    Update libsepol to the upstream android-m branch

commit d009d11f861a2e079950ec7dfcc702b01f6629a6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 18 00:45:04 2015 +0200

    Print SELinux warnings to stderr for now

commit b50d30a177dd2ac5c13a45ded829fe1ad21438c6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 18 00:44:37 2015 +0200

    Fix bad free in error-path

commit a42246f8ca31d01dcda4de9c9732402ec7e16f9a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 17 23:49:18 2015 +0200

    Handle unsupported policy formats gracefully

commit 545d03e01b2d3bde4942808054528154fd2b4208
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 17 23:35:06 2015 +0200

    Fix memory errors in the SELinux policy update logic

commit 414687520d2e111d2548281c0126c5fb724bf387
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 17 14:54:26 2015 +0200

    Fix test regressions on Android emulators

commit e5b2a0ba27618b1d942d5eccc51a48094a3ca7d8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 23:49:21 2015 +0200

    Exclude a few unused libselinux files to fix linker issue

commit 78c161256a27951b7da1749ec915bf7446d1d2cf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 19:57:00 2015 +0200

    Fix libsepol compiler warnings for Android platform version 14

commit bac8550df76e5f25d5ba0559e0e1f12bf71a146d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 19:53:04 2015 +0200

    Fix libsepol build regression

commit 38c9d159568e138040caaa565822e4483c356533
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 19:45:40 2015 +0200

    Update sepol to b11ffdd29040a6cdac247145aed57a26ab7c0661

commit d8554847d98c30fc6726cb95072f01535db0845d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 17:49:28 2015 +0200

    Remove temporary test app

commit 0da6bfda385e63217571260aa8832d309dbe2ac6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 17:49:19 2015 +0200

    Patch the system's SELinux policy on frida-server startup

commit 192639288d42efdceee3cd1d75ebdeaf6135b3d3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 17:48:37 2015 +0200

    Disable verbosity when reading the policy database

commit 5d81f011875d7712b079ab5ba8199d778851e424
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 17:48:15 2015 +0200

    Issue warnings instead of printing to stderr on policy errors

commit 7f040634e2f2e1ef82451980167035e263f8dd03
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 17:37:19 2015 +0200

    Remove unused code

commit 807e7e2516107eee5e238f45a590f7e9bddef392
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 17:36:48 2015 +0200

    Move the policy patching logic to frida-selinux

commit 425157ea3fa96c1cf3132edb3e039a138aed3eae
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 15:12:36 2015 +0200

    Add temporary experiment exploring having a `frida` domain

commit a4cedb25ef6908baa9b79a2ab261a9170b402832
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 03:28:29 2015 +0200

    Add missing access vectors for injecting into apps and zygote

commit f8014090cdc1b64015c050f1283f1fb72462f614
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 03:11:25 2015 +0200

    Tag our files with the new SELinux type that we registered
    
    Automatic registration will be integrated into frida-server soon.

commit be48cfbe2dcf0364f990702e6cfa5de6b43255d2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 03:10:07 2015 +0200

    Rename type to `frida_file` and add the `file_type` attribute
    
    Also add some basic rules covering the basics of injecting into apps.

commit 7dd9f721c6071a6bc02a96f1ffabe425958f1d33
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 02:00:45 2015 +0200

    Simplify and fix type registration

commit b51cf8b8f70be83905b1f7bf0b5f21339b9f8215
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 01:08:17 2015 +0200

    Start sketching SELinux policy update logic

commit 8617a8bb372ebf2e12492a20402fa03a86fc0ba8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Aug 15 17:18:21 2015 +0200

    Fix the two reported warnings in libsepol

commit 4b4d51d7f1d2d18ccd31b1127134691a136a4e88
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Aug 15 17:12:04 2015 +0200

    Add libsepol library for automating SELinux policy changes

commit 8fe8dbd2858938aa6197030ae0447d7865dcb527
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 12 01:41:36 2015 +0200

    Fix Linux build regression

commit c4c45d45605682ac61b4b82c98126cee161ac064
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 12 01:37:04 2015 +0200

    Only build libfrida-selinux.la for Android

commit 2d949de51b4e438ac6a040fc9e0604e11b0a9e70
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 12 01:08:53 2015 +0200

    Improve the full-cycle test to auto-select process when possible

commit f1d460cd8bf68c3434e042871c5ae14f7fee3b8d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 12 01:08:06 2015 +0200

    Tweak SELinux context on temporary files to allow injecting into apps

commit 9c0ef121c274bb6d9faec910c2fe38502c534090
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 12 01:05:17 2015 +0200

    Add a minimal libselinux vapi

commit cebb681f71cf50dd107a13cbd671dd2cc28d5a4a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 12 01:05:03 2015 +0200

    Move libfrida-selinux.la into lib

commit 67f7eb3cb519f5a5225c8a993115b83bb808b931
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 26 15:46:49 2015 +0200

    Port libselinux to support Android 4.0's bionic

commit 4cc40cd7354a90b1017162db7792e685f318f3b9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 22 13:21:54 2015 +0200

    Add internal libselinux to the build system

commit d108fd3898da9b8553ffab887033b5bf1452b438
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 21 17:32:23 2015 +0200

    Add copy of libselinux from Android's fork
    
    Copy of bf0ef3a1efe7e195d1f06d628e0abe2ca8fc5b74 with
    build system and documentation removed.

commit 2d5a9db39584bd8e98545d3f222d3db2048edbbf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 11 20:55:55 2015 +0200

    Fix injection on 64-bit Android

commit 3d3aa7de1be9eae1d2ff4c80b14e29f5b00bc7bc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 11 20:55:32 2015 +0200

    Skip the Linux spawn() test on Android unless in slow mode
    
    This is iffy with Samsung's kernel patch, plus it's not that useful, as
    one would normally want to spawn an app and not a standalone binary.

commit 7071d14fcf0e9252e39354f0ad2546b7c6dd7fde
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 11 20:34:47 2015 +0200

    Use SuperSU to spawn test binaries on Android

commit cf1a279e4517fc2551a99c01510c752c72a22b82
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 11 16:51:06 2015 +0200

    Use SuperSU to spawn the helper process when available

commit 09e935cae926d609672ebb6d55919544c8548e46
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 11 14:29:39 2015 +0200

    Add test-app with prototype SuperSU integration
    
    This will allow us to spawn processes even when our executable is deployed
    to /data on Samsung devices.

commit 50408c69968321f653030f5b3fb515f66b846a93
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jul 21 00:13:28 2015 +0200

    Improve resource tracking

commit 4f9e9195a218bfff16f36bca2795e4267853332c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jul 21 00:08:08 2015 +0200

    List backends in the usual order

commit e7aedc19046d443e28e8a35ea9175e90ad0b3303
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jul 20 23:13:24 2015 +0200

    Fix pruning of session that's gone

commit 27d8a664dce814cdb7a26ed3bc338a0aeb8d495f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jul 20 19:54:18 2015 +0200

    Fix Darwin build regression

commit 082c3d4a6459b39f31653727c9c187c7209b0f28
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jul 20 14:45:03 2015 +0200

    Fix clean-up of agent sessions
    
    We would previously leave agent sessions opened if the connection
    suddenly got dropped, and we did not handle multiple connections
    using the same session.

commit 44e8980569cbdd461c937c86d969ad4c22ad55dd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jul 18 01:08:02 2015 +0200

    Fix compilation errors reported by the CI servers

commit 38027b617cee541ce1993492d01eda7bc63be9ac
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jul 18 00:51:44 2015 +0200

    Fix assertion logging and log to CFLog on Darwin
    
    This will make it a lot easier to track down intermittent crashes
    caused by failing assertions.

commit 0de0380f64ca1ec2c06eead319c28a2115c54c19
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jul 17 03:03:15 2015 +0200

    Re-enable the mapper after accidentally disabling it

commit 4eebb010ab3b27603aa861e441ba00ea9fc7a139
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 16 23:56:31 2015 +0200

    Add support for launching an iOS app with a URL
    
    If argv[1] is provided it will be used as the URL that the app gets
    launched with.

commit 0073f33b713b676bb40c5eabafba03b35f0cf819
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 16 21:49:35 2015 +0200

    Improve iOS app launching
    
    - Propagate error if the launch() call fails
    - Time out after 10 seconds in any case
    - Avoid future spawn() attempts hanging if a previous one failed
    - Serialize spawn() requests
    - Unlock device if possible
    - Report error message from the iOS API

commit bdb6efeb404ed6372b132a4640f83ef2268af5c1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 15 03:45:53 2015 +0200

    Add support for getting details about the frontmost application
    
    Only implemented on iOS for now.

commit 52a09f1cb8ad8565ea3cc2f79f4025ad7b4625fb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jul 12 17:39:33 2015 +0200

    Remove accidental whitespace

commit 8194e9b3d62a40b7ccd6af73c026b10dd230e05c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jul 12 16:43:08 2015 +0200

    Remove special-casing of temporary directory location on Android
    
    This didn't actually solve anything, as the root cause was misdiagnosed.

commit 7380a4e4537834b994c950e9494e5b134111b503
Merge: e3ea4f6a d7b943e8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 2 11:26:36 2015 +0200

    Merge pull request #37 from marc1006/Fix
    
    Fix for compiler messages

commit d7b943e8fa8cffb001b2194bc8294eb42100eac5
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Jul 2 10:09:12 2015 +0200

    Fix for compiler messages
    
    ```../../../../frida-core/src/linux/system-linux.c: In function 'frida_system_enumerate_applications':
    ../../../../frida-core/src/linux/system-linux.c:69:10: warning: assignment from incompatible pointer type [-Wincompatible-pointer-types]
         info = &g_array_index (applications, FridaHostProcessInfo, applications->len - 1);
              ^
    ../../../../frida-core/src/linux/system-linux.c:81:10: warning: return from incompatible pointer type [-Wincompatible-pointer-types]
       return g_array_free (applications, FALSE);
              ^
    ../../../../frida-core/src/linux/system-linux.c: In function 'frida_system_enumerate_processes':
    ../../../../frida-core/src/linux/system-linux.c:139:10: warning: return from incompatible pointer type [-Wincompatible-pointer-types]
       return g_array_free (processes, FALSE);```

commit e3ea4f6a71cb5000a581edb85e88de6e1785f6a3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 2 00:13:59 2015 +0200

    Update to the new Gum.Script API

commit e0cf712c9e8fdde9f77737f101f37cca1f8b3d1f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 2 00:03:23 2015 +0200

    Remove iOS restriction check

commit 167e69972e2392d56827c2281eceb0fc35563fd6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 1 17:53:47 2015 +0200

    Wire up support for `attach(pid=0)` for kernel session

commit 2134336431dc1841bb7258206ab807b453e97918
Merge: 04698bcb 67980708
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jun 16 14:32:01 2015 +0200

    Merge pull request #35 from s1341/master
    
    Check to see that the target is still alive before deallocing

commit 67980708eaa4867700a9ca74bcf00b91248be43c
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 16 13:47:13 2015 +0300

    Don't assert when failing to open the /proc/<pid>/as file
    
    Instead, return -1 to indicate failure. This stops the frida-server from
    aborting if the target process unexpectedly disappears.

commit 49a69461fe68b2870d53d4542eb5cda20333b964
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 15 15:57:58 2015 +0300

    Check to see that the target is still alive before deallocing

commit 04698bcb4e444d70ae30c34b87cab6af97fd767f
Merge: 3feb9483 8cae5eea
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jun 11 15:30:54 2015 +0200

    Merge pull request #32 from trufae/master
    
    Add support to enumerate FirefoxOS applications

commit 8cae5eea4c2abecb4b0302b465e3fc2f90925082
Author: pancake <pancake@nowsecure.com>
Date:   Thu Jun 11 03:22:23 2015 +0200

    Add support to enumerate FirefoxOS applications

commit 3feb94835b693f2354e11e5ab8745283c5c60f45
Merge: 2a4513eb 01dae1fd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 10 19:09:10 2015 +0200

    Merge pull request #30 from s1341/master
    
    Fix qinjector/injected thread race condition

commit 01dae1fd29eb90cf90b4d8b239528ff1c80302b1
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 10 19:32:32 2015 +0300

    Fix qinjector/injected thread race condition
    
    Fix qinjector so that it waits until the injected thread sends some data
    on the pipe before waiting for the EOF which indicates that the injected
    thread is done.

commit 2a4513eb4ef9925da66d01f51989639de2992ad0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 8 17:22:37 2015 +0200

    Fix `spawn()` by working around Vala compiler bug
    
    Async methods fail to make a copy of arguments to be accessed after the
    first yield statement.

commit b0c70ea658c8ed840b83770c9007020757a12d3b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 7 21:46:49 2015 +0200

    Improve frida-server robustness
    
    - Call `setsid()` to detach from parent
    - Trap SIGINT and SIGTERM and clean up properly
    - Fix leak of agent session book-keeping

commit 622221b9f8ec6dd81013639531d55e35f70eb909
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 7 21:39:24 2015 +0200

    Decouple helper from its parent process
    
    This means that e.g. a SIGINT sent to the parent won't be delivered to
    the helper process as well. The helper will shut itself down when the
    parent closes the connection anyway.

commit fca32efd3e9c4fc1bae4fa74c76dee66feb3bf7b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 7 19:16:38 2015 +0200

    Improve the agent connection teardown logic

commit 88fed1a8127253052311fff1cc3d98c5c5ae3d10
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 7 18:40:39 2015 +0200

    Don't assume that `connection.close()` will always succeed
    
    Closing the session will also teardown the connection, so we may not be
    able to win that race.

commit 418de2d195cd1a87929c54134d5a92c42e013a99
Merge: d0b096c8 fa3fdc8a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 7 16:28:14 2015 +0200

    Merge pull request #29 from s1341/master
    
    Fix stream seek and increase stack size of injected thread

commit fa3fdc8a13499ee5252aad49026fb9812c13ab65
Author: s1341 <github@shmarya.net>
Date:   Sun Jun 7 16:26:39 2015 +0300

    Increase stack size of injected thread to 2Mb

commit 3a9c704db92fc4436ac8ecf939c76ea3542a74fe
Author: s1341 <github@shmarya.net>
Date:   Sun Jun 7 16:25:57 2015 +0300

    Fix stream seek to seek to start of file

commit d0b096c85b0e3ffdcb6627b8c406179dc86325d2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 7 00:50:02 2015 +0200

    Eliminate delays when shutting down the agent
    
    These hacks should no longer be needed.

commit a2c6c2880daaa574de5b973c50987d41a98bd9e5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 2 14:45:13 2015 +0200

    Add `pid` to `enumerate_applications()`

commit 07d1df32c7e201d8ba4c5b1b094d57b121050857
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 1 02:17:59 2015 +0200

    Fix spawning of child processes that write to stdout
    
    We can't use stdin/stdout for communicating with `frida-helper`.

commit 4f91bf809eca52ab80cfabdc9ab7805864502a53
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 22:42:47 2015 +0200

    Fix Linux build regression
    
    We need to specify a tag as libfrida-helper-glue.la has Obj-C code on
    Darwin but not on Linux.

commit 319670c220d267760066f7d95c7700543f17be03
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 22:12:35 2015 +0200

    Reorder variables for consistency

commit d076cf415ebb21d8bfa731a4837971aff2b3d0b7
Merge: dc677531 ebddb48e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 09:02:31 2015 +0200

    Merge branch 'feature/ios-spawn-app'

commit ebddb48e152ba4f7834198106e30242b94a61726
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 08:59:06 2015 +0200

    Improve the iOS app spawn test

commit 377ecfaab970f7042035045fed6b298d319259f6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 08:43:40 2015 +0200

    Substitute all callback path occurences in loader
    
    This is needed due to universal binaries.

commit b6c8f6912e39c97f1d209049d8286e64824b4b1a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 08:38:37 2015 +0200

    Fix race condition between kill and launch
    
    We have to make sure that SpringBoard considers the app dead before we
    try to launch it again.

commit 04e939fc473f8e99eb0b5d04b8e8dfce1fa71cae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 08:33:14 2015 +0200

    Add missing stub implementation for Mac

commit 515b4c303060411623a099f0373f5f89d6694d12
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 08:29:49 2015 +0200

    Validate application identifier before attempting to launch it

commit 70272cf267f0778107503fa4573162ac82acc4f9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 08:17:11 2015 +0200

    Add support for enumerating installed applications
    
    Only implemented on iOS for now.

commit 36838044d485407e33b65e065e380e8858a2cfb8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 07:01:23 2015 +0200

    Delete UNIX socket and loader files as soon as possible

commit 27f80c98e5f9e977ad33a2d180ab42e5dc0d419c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 06:53:10 2015 +0200

    Add missing include

commit b37c30ec99c1ec31c82def86e626cca4e7079b2f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 06:52:33 2015 +0200

    Remove temporary logging code

commit b507d63d18a0d28a05046a52e2ef356018f2d5a9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 06:51:08 2015 +0200

    Add missing null-terminator

commit 0d68fcd4ebb4a138006c1f6bc18583a92e506ba5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 06:43:45 2015 +0200

    Add `com.apple.springboard.launchapplications` entitlement
    
    This is required to be able to launch applications from our helper.

commit e01cccc366e770c1b5281e93044ed927673b513f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 06:38:36 2015 +0200

    Fix the signature of `SBSLaunchApplicationWithIdentifier`

commit d7894be88c310a0fc197645a4e24e5e80a2d2ca0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 06:29:23 2015 +0200

    Kill existing process and ask SpringBoard to launch a new one

commit f71d3736262850c99fac887113907fa2a115b374
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 04:17:51 2015 +0200

    Ensure agent is written to disk before using it

commit 9c5b7efb6cc043240851aa8fc2879b88db2e4256
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 04:11:28 2015 +0200

    Wire up most of the remaining bits

commit 5b44f6a7ab06d6cd16a1dfaba7ec7cf6de16980a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 04:00:33 2015 +0200

    Wire up most of the FruitLauncher logic

commit 05f982ce7d8cd597ca2bff82ee0b91489203dad0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 02:25:33 2015 +0200

    Disable timeout in the iOS app spawn test

commit 251595b1f85ddba067b60bb46c0952db98df3081
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 02:25:18 2015 +0200

    Implement most of the loader logic

commit 04228b9beffab09a65397c25ca3362d967e0d348
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 29 21:27:15 2015 +0200

    Add some temporary logging

commit 3009f40d455376ba5fd07857b4e44da109a05687
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 29 21:12:54 2015 +0200

    Generate plist for the loader and split out Springboard API lookup

commit ffb47832c9177135cc53b1a4f288870944e9d95f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 29 20:06:49 2015 +0200

    Piggy-back on Cydia Substrate for launching apps

commit 49a9669a2d9e09c8de7ca451d9f009e219179240
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 29 14:57:24 2015 +0200

    Fix minor coding style inconsistency

commit 48fdde95616c50dba3b40433b9a273f64f6837c8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 29 14:56:45 2015 +0200

    Experiment with SpringBoard injection to launch apps on iOS

commit dc677531205fc18cf951a3fe454f91ba7123e0dd
Merge: c56baed0 251f64b2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 27 14:51:51 2015 +0200

    Merge pull request #25 from s1341/master
    
    Add dummy.cpp file to force frida-server to link as C++

commit 251f64b2bea22799073b839f11cf7e65a21263fc
Author: s1341 <github@shmarya.net>
Date:   Wed May 27 15:45:42 2015 +0300

    Get rid of unnecessary -static

commit 6ed8616f48c16c5a95a6cb715207207976c87a99
Author: s1341 <github@shmarya.net>
Date:   Wed May 27 15:35:07 2015 +0300

    Add dummy.cpp file to force frida-server to link as C++

commit c56baed0e2805c27ded54f5fadf3d259d9062622
Merge: 7145d71e 6e6ed5b5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 26 12:15:32 2015 +0200

    Merge pull request #24 from s1341/master
    
    Use QnxHostSession from Server and enable Agent tests for QNX

commit 6e6ed5b5c5d8818da2946d9830ed030566a53e62
Author: s1341 <github@shmarya.net>
Date:   Tue May 26 13:12:50 2015 +0300

    Enable Agent tests for QNX

commit 537bd4dfca0c8592fc6e87c77b7db44d88c13aa9
Author: s1341 <github@shmarya.net>
Date:   Tue May 26 12:06:12 2015 +0300

    Use QnxHostSession in Server

commit 7145d71e8ae5fc8d9b1f6e7139ed7697ebbb98f6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 25 23:44:18 2015 +0200

    Clean up the Pipe POSIX backend

commit 39eb54fab1b1867bebc3a853f4c8b8854b99dc3b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 25 20:31:24 2015 +0200

    Replace the POSIX pipe transport with a UNIX socket
    
    This is cleaner and more portable.

commit 368b51d63945bc8d338b7f9caa99f0bc286f367e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 22 13:24:48 2015 +0200

    Use GETREGS/SETREGS when GETREGSET/SETREGSET isn't supported

commit d37a73360f45a61aa7edff2f539ba831b10b4123
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 20 13:11:46 2015 +0200

    Add android-arm64 check targets

commit c77d936e8f29394d06a821ae23a05fbb8e000548
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 20 13:11:33 2015 +0200

    Add android-arm64 attacker/victim binaries

commit 124181cbb33efa3b9ff6d4fc19c125e18c833430
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 19 20:23:19 2015 +0200

    Fix up register allocation in the ARM64 code generation

commit e0cdc0b96a729f4893af867b2d32adf280f64eb4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 19 20:11:14 2015 +0200

    Add support for building with older libc headers

commit 9eda2d55ebd8f07c5894c93b7198733c8def2448
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 19 19:41:11 2015 +0200

    Port most of Linjector to ARM64

commit bf734475703849ed9ad07092971320bd5b01862d
Merge: a919c7ee cb595fe3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 19 15:08:39 2015 +0200

    Merge pull request #22 from s1341/master
    
    Update gitignore and fix tmpdir path on QNX

commit cb595fe30a2fc83bcf56ed0059c4c7ddf25e5ad7
Author: srubenst <srubenstein@cisco.com>
Date:   Tue May 19 16:05:12 2015 +0300

    Fix tmpdir path on QNX

commit 12bd1f1a9f8bd55e1284596680fdeed20aac8ab7
Author: srubenst <srubenstein@cisco.com>
Date:   Tue May 19 16:03:49 2015 +0300

    Update gitignore

commit a919c7ee4446190bdc0c93cbb05cce36f5c8d48c
Merge: 6ac04b67 738ce44b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 19 15:01:00 2015 +0200

    Merge pull request #21 from s1341/master
    
    Use linker file to only export frida_agent_main on QNX

commit 738ce44bfcc1557652a4ce70e0dd32fe28f1c942
Author: srubenst <srubenstein@cisco.com>
Date:   Tue May 19 15:57:19 2015 +0300

    Use linker file to only export frida_agent_main on QNX

commit 6ac04b676300a78194f5d8b0c3e7ae846189ceba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 7 05:32:40 2015 +0200

    Update gitignore

commit c8330575e75fa66ccf41420ac4bc4deccd1b7986
Merge: e01a6c45 16f813e6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 6 17:33:04 2015 +0200

    Merge pull request #20 from s1341/master
    
    Implement injector for QNX

commit 16f813e6193900fb6d27d5a03bf12b4d191e5988
Author: s1341 <github@shmarya.net>
Date:   Wed May 6 18:06:14 2015 +0300

    Fix stylistic issues

commit 7c70809ad72e00232103c98e09eae197a3578436
Author: s1341 <github@shmarya.net>
Date:   Wed May 6 10:11:56 2015 +0300

    Fix style issues and HostSession api mismatch

commit 733bcd2a161a130b682872201e8172acb3c3cfc1
Author: s1341 <github@shmarya.net>
Date:   Tue May 5 15:43:06 2015 +0300

    Handle the case where the hijacked thread is blocked

commit ec4ed19698a677377b46dbb71a356b152be5eece
Author: s1341 <github@shmarya.net>
Date:   Mon May 4 18:12:17 2015 +0300

    Get rid of printfs

commit b8e23ae39e24c6462afe9a9cc40f1af79908d586
Author: s1341 <github@shmarya.net>
Date:   Mon May 4 17:59:23 2015 +0300

    Add the qinjector test

commit 06e4468612ba6da364d30f20e322c838edfb6488
Author: s1341 <github@shmarya.net>
Date:   Mon May 4 17:52:36 2015 +0300

    Cleanup: remove prints and add some comments

commit bfef4a022ea25839babee618978906b1e2d96dd5
Author: s1341 <github@shmarya.net>
Date:   Mon May 4 17:45:35 2015 +0300

    Make thread-function work

commit 715ea239ee33cc7062cd8f0c3ff962b131c7f972
Author: s1341 <github@shmarya.net>
Date:   Sun May 3 17:19:55 2015 +0300

    Call pthread_create 'directly' instead of from emitted code

commit 33f8550cdcb258eccc55835a7c1943e83c7e6895
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 30 17:50:40 2015 +0300

    Fix bugs in remote_call

commit f6a70ccec99b756269d23b74c0f2cc7da5909d33
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 30 17:49:51 2015 +0300

    Make tests run for qnx

commit c36d51184d0ed4e34ce0d3834864203fe861d1b7
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 30 17:45:11 2015 +0300

    Rename QAgentDescriptor back to AgentDescriptor

commit 94bda004f1878995fa987a916bc513d24de0b42b
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 30 17:43:02 2015 +0300

    Add a tmp path for qnx at /fs/tmpfs/
    
    This is actually target specific and should probably be more configurable.

commit bdc5a84395e6a92b37ef223da449b75fb9f8069d
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 29 19:07:00 2015 +0300

    Implement /proc/self/exe equivalent for qnx

commit 5a7d42f2d9e3a632064c122e3523cfcb4b76e3c9
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 29 18:39:31 2015 +0300

    Fix conditional compilation for qnx

commit 12904fcae215c0a43191128a70fd8117e62c5593
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 29 18:38:28 2015 +0300

    Add dummy.cpp to force libtool to link frida-tests as C++

commit fbb1bbf983b7ce737483d51129326620daa02b79
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 29 17:07:10 2015 +0300

    Add qnx attacker/victim binaries

commit fb6d37abee54a088a2035cbc4a3fc4761d6768f6
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 29 16:59:31 2015 +0300

    Get qnx code compiling

commit 8f758918b9b8b05e50b28eba29845130ebe01fdb
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 29 15:14:35 2015 +0300

    Fix qnx detection in configure.ac

commit 6efa909ee7b98907f75909b8b929d5719919dd0f
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 29 15:09:13 2015 +0300

    Start implementing injector for qnx

commit e01a6c457b0790cf9fd30c85c7d1b0c8e0ce6735
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 3 20:06:49 2015 +0200

    Increase the session establishment timeout to 10 seconds
    
    It may take a bit of time when a debugger is attached.

commit 2d780fa76b3a8a7179f79f0ee3b073c9639b5f1e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 2 19:56:48 2015 +0200

    Use a separate temporary directory strategy for Android
    
    Fixes #19.

commit efcaf22d05d26008ee4d1845e82c9f551ae535d2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 30 17:13:18 2015 +0200

    Allow future retries if we fail to obtain the helper

commit 60cb7b15767cb9ad9b0f664826d7b84fab4c3609
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 30 04:05:25 2015 +0200

    Fix inconsistency

commit 9d2d98bdb62dd4f33c9380dff4a9a3562175d7f8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 30 04:03:36 2015 +0200

    Register frida.Error with GDBus as early as possible

commit 19252f88185fe13fc46117ed9cda8875df1c55e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 30 02:36:50 2015 +0200

    Fix exception type thrown by interfaces exposed by proxies
    
    We cannot declare them as throwing frida.Error due to the fact that
    Vala's GDBus code generator produces proxy objects that also throw
    transport errors (IOError). Because of this constraint we have to
    declare these methods as throwing GLib.Error to cover the transport
    error cases. Otherwise we'll end up with failing runtime assertions
    when suddenly an IOError appears instead of a frida.Error.

commit a175ca44be9959b16ae680c84fbddb0508bc9636
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 30 01:59:10 2015 +0200

    Fix typo

commit d5ad88ab52e789d92241621db826187c2f891899
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 30 01:59:03 2015 +0200

    Simplify Darwin frida-helper by using GSubprocess
    
    Our recent GLib upgrade means we can get rid of our custom code for
    spawning subprocesses, and switch these helpers to use peer-to-peer
    DBus over stdin/stdout instead of UNIX sockets.

commit e362187a183a0ce669d3a42cf928c66677a17c5b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 30 01:47:07 2015 +0200

    Use TimeoutSource.seconds() when possible

commit 53c3739226605b80e06113c7f476cbcb646b733a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 30 01:45:40 2015 +0200

    Simplify Linux frida-helper by using GSubprocess
    
    Our recent GLib upgrade means we can get rid of our custom code for
    spawning subprocesses, and switch these helpers to use peer-to-peer
    DBus over stdin/stdout instead of UNIX sockets.
    
    Fixes #19.

commit 5220bdbb8a6effcbf6113ba83e1926604d9d5fa4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 29 22:34:17 2015 +0200

    Revert to simple quotes in error messages

commit 93c07e4920164a6ec993f1a815892dffcaa19393
Merge: be4f5365 9a40d1bb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 29 22:19:42 2015 +0200

    Merge branch 'fix/port-forward-galore'

commit 9a40d1bb0b38f74d7a79bd100aa21a512f38c9d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 29 21:26:09 2015 +0200

    Multiplex agent sessions over a single port

commit be4f53650dfde166114e8398e0fff3b6784c2f10
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 29 22:02:36 2015 +0200

    Always enable the mapper
    
    Turns out it's working fine.

commit 71523056a7e8ef1c57f5714cf394fbbea86bb826
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 29 21:57:36 2015 +0200

    Fix debug server version string

commit 67a21733c6102840c1d488163cff71b02b8ae005
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 29 01:50:15 2015 +0200

    Add missing dependency on session.vala

commit 596b87c6fca248ee35da1aeb475d482d280ff8ee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 28 22:56:32 2015 +0200

    Add function prototype for the error quark getter

commit 3dfe1e2a1a000ae74b556e01670f0fe8dddba96d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 28 22:00:52 2015 +0200

    Add errors to the generated public API header

commit 0c22df0112f7433c3b5c989f4722c66a522fd5db
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 28 21:07:01 2015 +0200

    Remove Frida.Error.PROCESS_GONE
    
    Also remove the `error` argument from the `agent_session_closed` signal,
    as we no longer use it for anything.

commit aa7e9c38e9513fc96413eb26bfdb54f5b0783150
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 28 20:49:32 2015 +0200

    Add Frida.Error.PROCESS_NOT_FOUND

commit bb9f9c9cfcca7c7abc384f00b6215f55e3bbfe75
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 28 20:47:15 2015 +0200

    Add Frida.Error.EXECUTABLE_NOT_SUPPORTED

commit 67ea469ab5edc4de5eb82e80e09bc4f9b6d116ac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 28 20:44:13 2015 +0200

    Add Frida.Error.EXECUTABLE_NOT_FOUND

commit 8f9a76710882ae5fc78626d1a8a8b88f8f91e068
Merge: 547c4688 a6723293
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 28 16:23:48 2015 +0200

    Merge branch 'fix/error-feedback'

commit a6723293c3774830a2ebe559811392795f03b854
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 27 23:20:42 2015 +0200

    Fix error feedback
    
    - Provide consistent error messages across backends for common errors
    - Introduce a Frida.Error errordomain registered with GDBus
    - Make all error messages consistently follow the scheme used by GIO
    - Translate remote errors into local ones at the facade layer

commit 75d56a154358eefd72d9e7c1a5cb4f5fc213e287
Merge: 547c4688 02143c01
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 27 00:12:37 2015 +0200

    Merge pull request #18 from marc1006/master
    
    Open the files in text mode, not binary mode

commit 547c468844e32d461d540fb0b3b6e27a5698cc2b
Merge: 44a2a663 0d23017f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 02:54:09 2015 +0200

    Merge branch 'feature/gumjs'

commit 0d23017fa99c7c7790da3a610e5b26caa95eee8e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 02:51:40 2015 +0200

    Update to use the newly split out frida-gumjs-1.0

commit 44a2a663eaca5bc1e0eb61127b5d3a4dce5231f4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 25 01:05:42 2015 +0200

    Remove $(FRIDA_LDFLAGS) from libfrida-core-1.0.la

commit f21a252f6dcddf45697c25382e1f5ecf105d75b0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 25 00:56:34 2015 +0200

    Fix linking of the pipe test

commit 014d305df7656246f4652c31adbc2b95d389abc5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 25 00:45:47 2015 +0200

    Remove $(FRIDA_LIBS) from libfrida-pipe.la

commit 5a2c9e5193f12bcf8faf22455f0db5da880cd68b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 25 00:14:55 2015 +0200

    Remove $(FRIDA_LIBS) from libfrida-core-1.0.la
    
    This is until we've split gum's Script runtime out of frida-gum.

commit 96f4429d0d60bdc3c0ebe04a722798c90cf20678
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 24 19:17:05 2015 +0200

    Only enable the mapper on Mac for now
    
    Turns out there's an issue on 32-bit devices. As the mapper isn't that
    useful on iOS we just disable it there for now.
    
    Thanks to @radare for helping track this down.

commit 02143c01ba539af275d1c52b60fedf1a28ee3116
Author: Marc H <marc.diplom@googlemail.com>
Date:   Fri Apr 24 10:50:34 2015 +0200

    Open the files in text mode, not binary mode
    
    Fix for:
    Traceback (most recent call last):
    File "../../../../frida-core/src/generate-api.py", line 180, in <module>
    output_deps_file.write("glib-2.0")
    TypeError: 'str' does not support the buffer interface mode

commit 17de3049838759debb8bf6971efd954e24adfdd4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 23 23:38:38 2015 +0200

    Ensure the FIFO filename is unique

commit 2ff867ff4fdf19d526cdfca0b56043e264f2374a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 10:25:07 2015 +0200

    Fix spawn() command-line generation on Windows

commit ea75a170f934e43946e83bc69cf43fb40e8807ed
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 02:25:48 2015 +0200

    Fix warnings reported by MSVC

commit 2637fd13ebe134184414651374830c8245c69fdd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 21 11:18:12 2015 +0200

    Fix warning reported by MSVC

commit 609ac53e9601051509a93097d14c61793c2f00b1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 20 15:50:04 2015 +0200

    Forward GLib's log output to Android's logging system

commit c35ddec2e5c5c8383473874368cbdf9fccf0bc7d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 19 00:23:54 2015 +0200

    Fix the temporary frida-agent filename on Linux

commit e5602f47b01c688150f3b168138af9ab9f9df603
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 18 01:28:01 2015 +0200

    Add --version option to frida-server

commit fbd28969f1b488720c5741fa0c50ecfd3f0b0290
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 17 22:16:27 2015 +0200

    Add library versioning API

commit b6deac433953f9beb555625aca26df2f2ce62596
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 16 01:59:39 2015 +0200

    Update remaining tests to the new API

commit 6f8402f2e3c9dda700e0162b3e52daf43f255c56
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 16 00:55:38 2015 +0200

    Update tests to the new API

commit f542f9f5f567b00fd898e1641e28ccef5582af25
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 20:03:29 2015 +0200

    Use the default Node.js debugger port when 0 is specified

commit abb909644f04ff192b387d888a736a6491de264d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 19:06:26 2015 +0200

    Work around lack of nullable strings in Vala's GDBus generator

commit cc8177af39dad419010f5393296dd4ea9d036d1c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 18:51:58 2015 +0200

    Update to the new Script API

commit 2f8f755623449edbd01e2f99f937e040e9a5114c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 10 00:01:58 2015 +0200

    Make the script name optional
    
    Leave it up to the agent to auto-generate one if missing.

commit 4c99b53fe154209e4d99df14a516b57603d0257a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 23:14:58 2015 +0200

    Update to the new Gum.Script API

commit c5fca8a7486b0ed08b9f0708fee116c7e2c7fa98
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 16:26:08 2015 +0200

    Fix post_message_to_debugger()

commit 372296c3fcc9c64b9ec799b113e95373242f11f5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 11:54:34 2015 +0200

    Wire up the new debug API

commit 6cf49d041bff9823eb71e6b8fd287d86b507c613
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 10:40:45 2015 +0200

    Wire up message delivery to the V8 debugger

commit 1ee3c3fba6f9362365784b3e9599d983090c4ffa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 10:30:22 2015 +0200

    Wire up the send() logic

commit 9cf88b71e06211ec63b4d94f84985296d22c5718
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 10:11:43 2015 +0200

    Refactor the DebugSession buffer management logic

commit e26d7c35f014ec903f8b94f4a316c56395508184
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 02:56:49 2015 +0200

    Add scaffolding for new remote debugging APIs

commit 901c8e5777015b9b3581f6e626a2e995559cedec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 16:30:38 2015 +0200

    Remove obsolete reference to zed-server

commit dd1c79a8960be532e11ec9974987e8de623ab250
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 16:23:36 2015 +0200

    Update the iOS packaging metadata

commit f11a72e1c144ed9cd1059b9ea3e68c82f45e1c89
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 16:21:07 2015 +0200

    Remove the timeout support from frida-server
    
    It is no longer used.

commit fd5d29334f011369e408a4e369dd59c72b87d12f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 3 15:56:18 2015 +0200

    Set `SubSystem` on frida-agent-32 and frida-agent-64

commit 43ff99cae3b855bfe81dee19abf0ea67c47acb20
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 3 15:32:56 2015 +0200

    Switch to the XP toolset

commit 49902f39a91592e12c55f50e5ad1cc2e1c84c190
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 20:42:35 2015 +0100

    Deploy dbghelp DLLs alongside the frida-agent DLLs

commit a7c2d3adfb113452c0432debbb61d013cd61af8d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 04:46:32 2015 +0100

    Fix dbghelp resource paths

commit e4e9d0e85ce29863fae909515bb2ebb29bf0461a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 21 23:47:39 2015 +0100

    Update to the new Gum init API

commit 0c4f328a8553c070e4a03792461ec08e33fe9cb8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 21 23:47:30 2015 +0100

    Embed dbghelp so it can be deployed side-by-side with frida-agent

commit 981cfbf2abfad961b254b51ab6506be873428f28
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 21 23:46:23 2015 +0100

    Update dbghelp copy rules to match new naming scheme

commit bb23a18c94a9dfadbe4407635169b52296dd87b0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 19 22:03:08 2015 +0100

    Only perform deinit when debugging heap leaks

commit 361ba59145ca521ab463d7253269b6da0b98f662
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 23:18:12 2015 +0100

    Improve robustness and simplify error-handling

commit 7da5ca17a8d92c33ccff94fb138982385f9544fc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 22:43:35 2015 +0100

    Clean up session resources as soon as the connection is closed

commit 9d63b960eb8cb25a843f73e50e245ba76c73ed28
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 21:02:17 2015 +0100

    Fix entrypoint calculation for PIE binaries

commit f1fbba06a6732a12dc460b36664aa6c6c789056e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 21:01:31 2015 +0100

    Update ARM breakpoint opcodes to match the Linux kernel

commit 0cd35fad1bfefbc8919b87e32a1eea2a05f32794
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 20:20:44 2015 +0100

    Consider injection successful if process exits in the final phase
    
    Our payload may call exit() early or process may decide to exit around
    the same time. We consider the injection successful and let the detach
    logic handle what happens next.
    
    This fixes random test failures where our test payload calls exit().

commit b13741988d62082175924c46adce727aae1360ae
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 16:13:20 2015 +0100

    Update to the new Gum API

commit 5f3c0191d322e55440200f0d3f459632c80eecc7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 17 17:55:23 2015 +0100

    Align stack and avoid red-zone in `frida_remote_call()`

commit 03f10b522112f4aa08e32f06cd5bd93da128a252
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 17 01:07:25 2015 +0100

    Improve the Linux `spawn()` entrypoint detection

commit 2ff661876897aa0cd4ea95795003c6eeff9be3ef
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 17 00:48:31 2015 +0100

    Improve the Linux backend support for 32-/64-bit only builds

commit 13878017bf24e7d77081480f5c1ae95e86e8e43c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 17 00:46:10 2015 +0100

    Remove redundant glue implementation

commit a980675a6d45c49f9ae52b504bf6eda7a354cc34
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 16 01:44:17 2015 +0100

    Port Linux helper process glue to Android

commit 373d890d5da5de41bde516f1e1cd32fdb729c36c
Merge: b58583c3 127af9ba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 21:38:44 2015 +0100

    Merge branch 'feature/linux-cross-arch'

commit 127af9ba46ad76a81c6feb71005f377f125f527e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 21:38:30 2015 +0100

    Update Darwin backend to match build system changes

commit 63708ea6c531d171da91af52d201a248bf85c5f9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 21:32:40 2015 +0100

    Wire up remainder of the Linux helper logic

commit e05417a9321ac166fa79ab845243f88bd4e950f6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 21:32:18 2015 +0100

    Fix null-resource references

commit 32699ae9f815050d72a98e602e6771e05b92c3d2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 20:25:38 2015 +0100

    Fix glue function name

commit 83f53a8c35c660def2302f1e55d2134198aa745a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 20:06:37 2015 +0100

    Add missing implementation of `spawn_helper()`

commit 1b6f74aacb960725c6198d63a1902d3a9a00d54b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 20:06:08 2015 +0100

    Use `g_get_environ()` instead of `_NSGetEnviron()`

commit 8b135963aa25fafd3d46e0dfdf7dcabd94fa7f4e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 19:53:02 2015 +0100

    Wire up most of the Linux helper logic

commit b8eb014c8dc6e68d00bb9a1f7c9091da78e5c273
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 19:52:49 2015 +0100

    Avoid ID collisions

commit 3c6da0351393916658320000f3b88a61b2da3c92
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 19:52:13 2015 +0100

    Make use of the new frida-gum-linux vapi on Linux

commit 16f4159113c766fb54317a5a1ce4e5431ee83268
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 14:19:49 2015 +0100

    Start fleshing out the Linux helper process implementation

commit 313c2a292e4ddb179d14095ef2345b9c361139df
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 13:52:46 2015 +0100

    Improve the build system

commit 20e4f323bbf3bb1e506130eda741457e5c51ddca
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 13:52:01 2015 +0100

    Allow file names to be specified inline to resource-compiler

commit 5a5c8de922d38f6bf50da8f77bfa92abd8e7fcd8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 13:08:04 2015 +0100

    Move Linux spawn and inject logic into the helper

commit 244c12095fb99e24a8a7bb589d84de57531d7868
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 11:21:12 2015 +0100

    Add most of the scaffolding for the Linux frida-helper

commit 728d0dc57e2233f29e70c5ea1bcdb09f1811c39b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 11:19:55 2015 +0100

    Tidy up the Darwin frida-helper glue code a bit

commit b58583c3cb75165a0be81e02e2ebe89a4a56a1e9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 13 22:05:59 2015 +0100

    Revert mistaken ARM stack alignment adjustments
    
    It was already aligned.

commit 73290bbaf5e2d22912a5da86f5f42ff9a3ba4465
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 13 21:58:23 2015 +0100

    Fix Linjector stack alignment on 32-bit architectures

commit a9c38fcaefa55261e6bc8283acbd3381e85b5b49
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 13 15:53:28 2015 +0100

    Fix frida-agent symbol visibility on Linux
    
    There's a bug in libtool where `-export-symbols-regex` doesn't work for
    C++ libraries, only C libraries.

commit b36ff8535910532bd245a47645853e84633c0952
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 13 11:06:29 2015 +0100

    Force usage of C++ linker when linking frida-agent

commit a683aa65fec966c0e33aafaa96f847eb2ae8410f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 13 00:19:49 2015 +0000

    Fix Linjector on linux-i386

commit 1279a1ad054cee99526407f46cea7ab91f6ee766
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 13 00:09:50 2015 +0000

    Add labrats for linux-i386

commit 3673ad5beabe7546ab1fc25245a2130592de5e9d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 8 15:38:27 2015 +0100

    Improve port allocation logic
    
    - Allow previously used ports to be reused. This means a lot less manual
      work for Android users who would have to keep forwarding new ports even
      if the number of concurrent agent sessions remained constant.
    - Only forward agent sessions over TCP when requested to do so. This is
      only needed by frida-server after all.

commit ef534f95fa5dbb319ff85707835cecb43e91a23f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 7 21:04:43 2015 +0100

    Allow bindings to always know whether objects are still alive

commit 2c53d3aa658edc19b3374055b00cd9745e2362ba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 7 21:02:53 2015 +0100

    Don't emit any signals while starting the service
    
    The signals are meant for notifying the user of changes *after* the first
    call to `enumerate_devices()`, so there is no point in emitting these
    signals while the first call is booting the service.

commit b56f0b395cab7183ed70fb51f84acbf6c5871261
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 6 03:17:27 2015 +0100

    Move state validation to the operation itself
    
    We also want to guard against calls made in the wrong state when using
    the asynchronous API directly, and not just through the _sync() path.

commit bf1e05df8742c98736f9198bdec091ad83c1e0fa
Merge: 6dececf4 7952b52a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 4 01:24:44 2015 +0100

    Merge pull request #13 from Tyilo/arm-mapper-fix
    
    Fix arm and arm64 mapping

commit 7952b52a942e2fcff7e23f081a27fabfbfa0e912
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Wed Mar 4 01:19:04 2015 +0100

    Fix arm and arm64 mapping

commit 6dececf46cd77b8074c9acd98efd5ba57aa316b1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 1 10:42:02 2015 +0100

    Fix device extraction out parameter ownership

commit be9d5c62221d79812f9be43e26bf9ac313f00f24
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 1 02:03:21 2015 +0100

    Fix Mapper base footprint sizes for ARM and ARM64

commit 69394ca475e3a0715aecff13c52a59becb14e264
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 28 19:52:01 2015 +0100

    Update frida-helper's bundle identifier for consistency

commit eb9ac7b5216c323543e6c4de512ac6b9ae4d7cde
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 28 18:24:04 2015 +0100

    Fix race condition where ensure_service() calls overlap
    
    This may happen when using the async API

commit e246abff6886e714659961cd4f47b989435d3763
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 28 18:22:47 2015 +0100

    Bump Fruity start timeout to 100 ms
    
    It's been observed to take up to 50-60 ms in a Windows VM, so we should
    allow some leeway to boost the chances of the initial enumerate_devices()
    including Fruity devices also.

commit 29d13db57338ce0356a2704b8b551a4e4b311502
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 28 18:20:44 2015 +0100

    Perform a dummy-request to flush out pending attach notifications

commit 1864ac79464a496cb2836e5b61a6111bfa901c89
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 28 18:20:07 2015 +0100

    Handle Fruity devices without a corresponding image device
    
    This is the case if using iCloud.

commit 2ffb9c5e2c3e780c67d899a38e9eb0ae73e22f2e
Merge: 3a57a7e1 38d0bf8a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 28 12:44:54 2015 +0100

    Merge branch 'feature/fruity-smart-start'

commit 38d0bf8a89eb21b7f3e72b3ca536bab4f31f580f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 26 03:35:44 2015 +0100

    Improve Fruity backend to only allow start() to block briefly

commit 3a57a7e141c94b6f9bbfbc8a116db231cdda685e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 25 03:43:14 2015 +0100

    Establish Fruity client before considering the backend started
    
    This will require an additional tweak for systems without usbmuxd in
    order to avoid a startup delay.

commit 897aaa84e1bcbe6ab15b50ab0745f7e45d5da285
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 25 03:27:24 2015 +0100

    Don't try to load image from cache without a cache file

commit ea977948912cfd85a35e76d461cfb4024f575ae4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 25 02:33:13 2015 +0100

    Remove commented test timeout example

commit 14180e3072a7e8a84f2ae7f81edc175e10f067de
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 25 02:32:48 2015 +0100

    Bump HostSession test timeout

commit bbd10b32f6e210404194247d887689648a9f736e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 25 02:30:30 2015 +0100

    Bump the default AsyncHarness timeout

commit bf6dd3de4637c7731af429e0d96852229c65d0ea
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 25 02:16:16 2015 +0100

    Disable compilation of the gadget for now

commit 313f2460c7130884c116bba0ee243f087b95f8e4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 25 00:23:42 2015 +0100

    Switch back to the modern Mach API once again

commit 5063992341bf69e37c24a978a9dcd81101fce54e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 24 23:30:33 2015 +0100

    Fix cache file arch-selection and only mmap it once
    
    Otherwise we may hit resource limits.

commit 54747f230979084a69e49ece5031133233ebb36f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 24 23:28:53 2015 +0100

    Revert to the older Mach API for compatibility with 32-bit devices

commit f94830cecb7f88084363e8c27584af915c280c86
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 24 00:35:34 2015 +0100

    Disable warnings when building pipe on Linux

commit 70f21699a6d9c8662dfdea6e61a423708524d1f2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 19:59:19 2015 +0100

    Fix i386 argument list setup by pushing from right to left

commit 7bd87927406e13d139fbd1df12c09c54908e8f03
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 19:58:41 2015 +0100

    Add missing cast to pass the correct argument size

commit 00408492d579e8ce3c4f6e7ff6c5c4c1ec478c9a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 19:57:59 2015 +0100

    Fix error-handling in frida_remote_alloc()

commit 3ab69aa1bbd7e3549174db588a46546aeb77ca7f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 19:08:49 2015 +0100

    Add missing arch suffix handling

commit eecd312122a9d6c25d50a0d08620173b14e7c55e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 19:08:20 2015 +0100

    Fix check target for android-i386

commit 0b6746d9e60c54d11ec3fc21ba182b6c1a9e005d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 18:59:22 2015 +0100

    Add unixvictim and unixattacker binaries for android-i386

commit abf737029922955c725514e68cc2c4657d20af08
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 18:49:05 2015 +0100

    Port Linjector to android-i386

commit bf843c0eb2fa555c417db50ef07b14cf44d040fe
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 01:34:50 2015 +0100

    Add Device.kill() to the public API

commit e95bf159362cf44b0aad8b55705b92f5f3026897
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 21 03:14:01 2015 +0100

    Neutralize atexit handlers in mapped libraries

commit 3e8e9ec8f3607db0862fc75975de30fad602ddc0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 21 01:34:46 2015 +0100

    Fix failing frida-tests when running 32-bit version on a 64-bit system

commit 2b664a4744cdc459dcd737284da18e9f844276fa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 21 01:30:53 2015 +0100

    Tweak test output

commit cdc34ac62d088841be5ec29cdffef444e178d8fa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 20 20:37:36 2015 +0100

    Use the newer Mach API

commit 37067239778ed0e3d4524ef41323bec295525268
Merge: 935461f5 fe8abde4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 12 20:41:00 2015 +0100

    Merge branch 'feature/darwin-mapper'

commit fe8abde46ad4f79e2ae22fe1e495b8c88ec1604f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 12 18:58:08 2015 +0100

    Communicate memory range to the agent when mapped by us

commit c96ef803aae61a29b4b0ee4768dc5e51bfe0fc8d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 12 03:02:11 2015 +0800

    Adjust test relying on dyld behavior
    
    We won't even try to emulate the `exit()` behavior of calling the term
    functions of currently loaded shared libraries.

commit e4103e05ff76259ae5e3447a2d725817abb22c5f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 12 02:55:44 2015 +0800

    Fix stack alignment on 32-bit

commit 017a513319f167f7e1ae873bd0ee2bfa5ea6c202
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 12 01:28:17 2015 +0800

    Port Fruitjector to conditionally make use of FridaMapper
    
    For now it is enabled by default by a compile-time flag. Note that this
    code hasn't yet been tested.

commit 618e7a77127f2cbceee563bb8f0521b62225c94d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 11 23:54:39 2015 +0800

    Fix ARM init and term invocation loops
    
    The cbnz instruction cannot be used as it only allows positive/unsigned
    branch offsets.

commit 58eb6505792801fcfe8671c64f8cbce70dbd176c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 10 01:43:06 2015 +0800

    Adjust ARM footprint constants to account for alignment

commit 8a85687407c589ab111684833f6569fcfd834b12
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 10 01:21:14 2015 +0800

    Fix mapping of dyld_shared_cache images

commit 8f20fec94488fb802aa79571de22ad63645d8a79
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 9 21:16:11 2015 +0800

    Add missing ARM and ARM64 runtime code generation

commit e66cb0aa4e01dc722787191e2a91676bca3b3af0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 9 20:35:39 2015 +0800

    Fix crash when freeing library without any image loaded

commit eac70ea53316bcce6d3e21b116241f0ece6bd91b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 9 18:06:09 2015 +0800

    Remove left-over debug hack

commit 8aff0bb83feb1e4b44549d08d0de93ed2dcb8ad0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 9 18:00:56 2015 +0800

    Implement proper mapping of dyld_shared_cache libraries

commit f0bd8a450734490deb70bac4424d84fa5ade2cec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 9 01:52:23 2015 +0800

    Implement loading from dyld_shared_cache

commit 02ca85e4905d88a3c644b10b8a9b64b51b01bfbd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 8 15:48:26 2015 +0800

    Add scaffolding for loading from dyld_shared_cache

commit fb6b3d282a48261870806a1a84dfc4ba37a7ad6c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 8 14:56:17 2015 +0800

    Implement handling of init and term calls in the ARM runtime

commit e243f556bff63c37c8e4c3ea1b42ff7ac3c6df6f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 8 00:36:55 2015 +0800

    Implement handling of init and term calls in the ARM64 runtime

commit 1ff43ba1388f87d0d45b905ba2037881bcd87f1d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 7 23:58:07 2015 +0800

    Start implementing ARM64 init calls runtime

commit 83ed9ad71b850c5866c98f63715d81c5c5fbb372
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 7 23:41:23 2015 +0800

    Add partial ARM and ARM64 runtime

commit 5d114ac8d62d642320d74ffc7cf85d6097fc530f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 7 22:57:27 2015 +0800

    Improve runtime size calculation

commit 20414da1fc9cb1251fd8a1c2465e891ad039d4d4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 7 22:31:34 2015 +0800

    Improve runtime size calculations

commit 0973c3995a542ce2eec8c00c2c2db348ef5a93b8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 7 22:06:13 2015 +0800

    Generate code for calling term functions

commit 9ae8cfadf7b6f0d800e21f04e74499c0d702df63
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 7 21:22:13 2015 +0800

    Fix handling of REBASE_OPCODE_DO_REBASE_ULEB_TIMES

commit bdd8f1491646d817d55e6c88168421186f3fbb1a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 6 22:59:12 2015 +0800

    Fix handling of BIND_OPCODE_SET_ADDEND_SLEB

commit 743c861a3cc44920e7903bacc4a2feb94cc3d9b6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 5 22:39:45 2015 +0800

    Fix runtime stack alignment on i386

commit c1b78d492c7e172e6ba32fb73349c7140a19a431
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 5 20:56:20 2015 +0800

    Fix runtime stack alignment on x86-64

commit 04cbb23fdbb4d119cf3424ddc4e4ef1a3610dab7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 5 03:41:17 2015 +0800

    Limit opcode range to file_size and not vm_size

commit ad5a8fd34b2d4e8d77fbe9292b45b6988364aae6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 5 03:34:57 2015 +0800

    Generate code for calling init functions

commit b00f02b8001819ea4e7fb23754a52cdae35118a6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 5 03:11:21 2015 +0800

    Add scaffolding for init and term pointers handling

commit 24f3867a05264b2fe6f7439cdeb12c77ccadb21a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 5 01:33:05 2015 +0800

    Implement rebasing

commit 715556156b2bd04b0b21a4e19fb06f5d4f3eed16
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 5 00:06:53 2015 +0800

    Add infrastructure for handling rebase opcodes

commit a9ee5fccd1c4e6bbb215f0d9a9a69005981a649a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 4 23:32:00 2015 +0800

    Map dependencies and call resolvers on construction

commit d29fcca7997824db93540abe0d9c1806ba533c9c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 4 20:16:22 2015 +0800

    Add skeleton for dynamic runtime creation

commit dbb0b7b0dbd42e10010bf238cf9283623028e347
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 4 15:17:39 2015 +0800

    Improve the API and symbol handling

commit 672654d51c6551e43e56b229eb2047e80af3e71a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 4 01:32:50 2015 +0800

    Fix loading of exports in unmapped libraries

commit 83514bf0f5ecbb4d34abb1ec6b89dcb81977d9ed
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 4 01:08:36 2015 +0800

    Improve symbol handling

commit 0d2599cf3a0271650e382522f34c5760636aeb46
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 3 23:40:04 2015 +0800

    Implement the actual bind logic

commit f912cd6f72344eeb285ec07825a27b220a8e50ca
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 3 23:04:15 2015 +0800

    Improve the bind enumeration API

commit f57017d5df9b036f1e77812169b4c1eec71ea30d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 3 22:19:01 2015 +0800

    Add enumeration of lazy binds also

commit bd737b81fff2dfb9fc57e4cdbd7267f8b3e08eef
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 3 18:27:43 2015 +0800

    Fix the exports handling

commit 9074db8629edbef30909b15837d9cf85926e4624
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 3 18:07:21 2015 +0800

    Add remaining symbol resolving logic

commit 0318a00687cc3543161fb2bf8ce6552d5439569d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 3 17:53:29 2015 +0800

    Refactor and improve metadata logic

commit 5aa5f2a7b6a935e45c0d35a04ee0fbe16e3eb268
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 3 15:25:34 2015 +0800

    Improve symbol resolving logic

commit 09f3a81d953bf92cd9e768c5dbf3d567dc318f5a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 3 13:59:10 2015 +0800

    Start implementing symbol resolving using the exports trie

commit 3b7f21b4fd53fd4839e1fd2af717825713a1f732
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 2 15:52:51 2015 +0800

    Improve mapper bind opcode infrastructure

commit ef9cec9d2537becf41a7a8ef15957ab27991fa86
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 2 14:50:10 2015 +0800

    Improve the data model to take existing mappings into account

commit d480acaabc48fb52672b4e8da83d91037f995467
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 29 01:08:43 2015 +0800

    Start adding handling of dylib dependencies

commit bece4953fc34be017919c26993c560f8e11073cb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 28 22:52:46 2015 +0800

    Improve the Mapper API

commit b71ff34d3f98a5e1a8c0322334294c98f05fbaf5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 28 21:11:41 2015 +0800

    Refactor segment handling

commit 6d8a07a36651057c9a582640168718f42c0bc969
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 28 12:22:27 2015 +0800

    Start sketching support for bind opcodes

commit 314dc64118a3b19763162ab2bba827aac331167a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 28 10:44:38 2015 +0800

    Implement symbol resolving

commit 6e69d4b8f2b268089a4c7f61012345bda0359c2d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jan 27 23:54:58 2015 +0800

    Implement really basic mapping

commit 5a79f5589388ad163a2da6c78c3b81bc47cec27d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jan 27 23:06:20 2015 +0800

    Implement mapped size calculation

commit f2f5a0d5b42f8936fda93d1a3d626a789331ed17
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jan 27 22:32:37 2015 +0800

    Improve the API and handle fat dylibs

commit 4cbb1ae15e6a9ad46e84ebec88c5a34b1ee30c60
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jan 27 18:14:31 2015 +0800

    Add boilerplate for a Darwin-specific dylib mapper

commit 935461f529fd78aaae3997494ca11e3dc8ab8f35
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 24 18:56:31 2015 +0800

    Fix compatibility issue with Linux containers
    
    The file-system path provided by `/proc/$pid/maps` is the same inside
    the container, which means we can't rely on it when we `dlopen()`.
    We can however rely on the basename of that path.
    
    Kudos to @shitsecurity for helping get to the bottom of this.
    
    Fixes frida/frida#12

commit dfe22923e1c7e987592c9eea2dca32de534c8a44
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Nov 17 23:03:13 2014 +0100

    Improve starting points when inserting mach ports

commit c873075ece5516a20aef1146fa52756bf292ef5f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Nov 17 15:32:08 2014 +0100

    Fix ARM64 build regression

commit 63a673a78d70c204bed01beb28a22f66fd360595
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Nov 17 14:55:37 2014 +0100

    Move Darwin spawn() implementation into the helper process
    
    This means that spawn() now works regardless of whether the application
    has the appropriate entitlements.

commit 43bc6d1c6feb4838319cbee393af341e8c9def92
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Nov 17 13:59:21 2014 +0100

    Remove left-over logging

commit c84fb8801253a05305e43b0da38a832736da838c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Nov 15 19:16:10 2014 +0100

    Start migrating FruitjectorHelper into a backend-specific helper

commit 074c4eedc5677c0db5c15a845b43dc89fbeebbc5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Nov 8 21:53:06 2014 +0100

    Consolidate to use the `re.frida` namespace

commit 442c7de3d49c729e11fe81bccfa49789740b57b1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Nov 1 12:08:31 2014 +0100

    Fix crash on shutdown in the Linux backend
    
    This was 100% reproducible when closing the backend while still injected
    into two or more processes.

commit 30ca1fbbf6cb5b3758a742f3471d12c4505f1ce3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Nov 1 12:08:22 2014 +0100

    Fix crash on shutdown in the Darwin backend
    
    This was 100% reproducible when closing the backend while still injected
    into two or more processes.

commit 51f326e782a975982821b7c2106f3d8282147ecb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Nov 1 11:15:16 2014 +0100

    Fix dynamic symbol lookup in the Darwin spawn() implementation

commit 43980fbd2fdf99366711a608af7c84e81a810936
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Nov 1 11:12:44 2014 +0100

    Remove dynamic symbols lookup fast-paths from Darwin backends
    
    After the recent optimizations in frida-gum's Darwin backend, the “slow”
    paths are no longer slow and we can just get rid of the fast-path
    special-cases.

commit d1220bf062e9e664c3dc02e929272856e62442e7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Oct 29 12:38:46 2014 +0100

    Add test for large messages with the Fruity backend

commit a0f54dcd247cc9e32a38ed5fe10f5b619f9417d3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 28 16:29:05 2014 +0100

    Limit Mach port writes to 10 MB at a time

commit e8cae2ff387950146cbbbef07ba103398a0c45a0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 28 13:35:05 2014 +0100

    Add `frida_unref()` helper API for synchronous bindings
    
    The non-POD objects (DeviceManager, Device, Session, and Script) must be
    released using `frida_unref()` in bindings that don't integrate into the
    GLib main loop. This ensures that the object is released in the Frida
    thread.
    
    However, POD objects (DeviceList, Device, ProcessList, Process, and Icon)
    should still be released using `g_object_unref()`.

commit 3ef7fcd918ad76b78510d3b23fc68d5fd376e472
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 28 12:03:07 2014 +0100

    Fix thread_id and register clobber in the ARM64 injector

commit c0d330cd947c85a97de04ba85d927a99931f679e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 23 12:35:18 2014 +0200

    Consolidate permissions of temporary files on UNIX
    
    Kudos to dmc for testing and figuring out the details.

commit 2ab707bff543354b495e277e8bc581df77f179ef
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 21:16:02 2014 +0200

    Add missing static modifiers in pipe implementations

commit 60a6230651c8096c85cd767bc4a2bf64b0ed222c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 22:08:47 2014 +0200

    Remove unused udis86 dependency

commit 6b6e96b1d55cf2cee63ed1e72f9114c45d470017
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 19 23:19:35 2014 +0200

    Update pipe build system to match the one on Windows
    
    Otherwise we run into PIC issues with GCC on Linux.

commit c4b646d3717b0d17b1182caabe0e70bc3a410c61
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 4 17:20:49 2014 +0200

    Fix Android regression in the Linux injector

commit a59fe576df033d59ea535b909c17238690d036a9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 4 16:58:13 2014 +0200

    Fix ARM build regression

commit 742d20510784a29248dd499ebd1e340fc9d15f66
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 4 16:37:51 2014 +0200

    Update to the new Gum API to ignore the Mach thread on Darwin

commit 3c2714f751aa45252939a6fbc7b6914999645ad1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 3 16:27:02 2014 +0200

    Fix the frida-pipe Windows build system

commit a018dae4b935c1c146a7ebbc4bc2adb751e0a45c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 3 10:25:51 2014 +0200

    Fix crash on teardown by waiting for `_do_close()` to finish

commit 3070e59ac15472265a9966620494be8d42234154
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 3 10:24:33 2014 +0200

    Fix crash caused by bad return values from stream methods
    
    Must return -1 on error.

commit 335810651b07d2001faf299d7ee14be17c749a0f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jul 26 17:17:58 2014 +0200

    Fix Darwin backend test on iOS

commit b43c4f9df9d21b7a18703731f1ef0c358ba408b3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jul 26 17:17:43 2014 +0200

    Fix iOS check target so it deploys the agent correctly

commit c9a33a111c9cdda96c571449701669bae6c64005
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 24 21:27:28 2014 +0200

    Simplify the Linux injector logic

commit 6399c5184da0310b292f0f662f720afb34ccb452
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 22 21:45:25 2014 +0200

    Update Linjector tests to the latest Vala syntax and vapi

commit 42878cce2a064425f83a21d85a360487cb403972
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 22 00:29:01 2014 +0200

    Fix left-over deprecation issues

commit d4efab0e07143d165f2839749f5e82af0ff55a78
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 22 00:03:56 2014 +0200

    Fix initialization order

commit b734041fa864c5f818e97b6330376212219987d0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 20 21:04:48 2014 +0200

    Fix leak of dead port right

commit a0494f82e53b75bcd57e2fe2a07cf95592adbd36
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 20 16:41:51 2014 +0200

    Fix remaining UNIX regressions

commit 605748256a4e6e04ccd645489d9844dfa5d46020
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jul 19 10:45:43 2014 +0200

    Replace GLib's memory allocator with our own

commit 7647b8389296ed6e44090c85dc43e6dba6844241
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 17 21:44:41 2014 +0200

    Fix connection close logic

commit 5a28e77a45c06387dbb883d317355e9e5d024876
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 17 21:21:17 2014 +0200

    Improve the logic for ignoring own threads

commit 8850b8617cd30d25daadb3c33f2d1bab191a7e4c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 17 21:19:34 2014 +0200

    Update to the latest GLib API

commit eec7f3d2731c4460f697279a50c3411fd4bbd221
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 15 00:36:42 2014 +0200

    Update to match the latest GLib API

commit 59a65438b86c21709981622875c626e293afc378
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 13 21:33:30 2014 +0200

    Make `attach_to` omnipotent and upgrade to the latest Vala syntax

commit 5eab871ad3293a8a513dc7496c5c2ee327f39bd5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 10 23:00:06 2014 +0200

    Change license to wxWindows Library Licence
    
    This is essentially the LGPL, with an exception stating that derived
    works in binary form may be distributed on the user's own terms.
    This is a solution that satisfies those who wish to produce GPL'ed
    software using Frida, and also those producing proprietary software.

commit ab7467f3ebc4f1cc752a3bdc63db9e2a07865b4c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jun 26 00:40:18 2014 +0200

    Fix gadget initialization and session handling

commit 89a5d06f562c6502f54c9af8424f93fa95bc2e9a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 25 01:29:16 2014 +0200

    Add a gadget library for hosting Frida inside the target process

commit d7e6fa8542d0209023418e06fe5b8cce78fd64f2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 25 00:45:14 2014 +0200

    Fix memory leak in Linux process enumeration

commit e6d953add5b9a48416f35dccacb395754eebe382
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 21 21:04:23 2014 +0200

    Fix Darwin backend test

commit c0610f19563e126d9c0f5a2f03195cf0be047273
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 21 19:53:46 2014 +0200

    Add icon for the TCP device

commit c0e40d3536595b671967c0db0f37497ed05fa0ce
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 21 19:28:30 2014 +0200

    Add icon for Fruity devices on Mac

commit be2d608e447688c5c01603c644fa5c03768926a6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 21 19:27:48 2014 +0200

    Tighten up the Mac model enumeration

commit 3c12f429f5bde25efa386afd5799f266f306b3f8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 21 15:58:44 2014 +0200

    Add icon for the local system device on Mac

commit a50f151e7e9ee9764ca8bfe4efb542be905edb87
Merge: 575c52af 74f562c2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jun 19 23:16:14 2014 +0200

    Merge branch 'feature/mac-icons'

commit 74f562c2b90c9585a1e8b1dad447195b8db6252e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jun 19 23:15:54 2014 +0200

    Fix icon extraction in the Mac backend

commit e309c4fb79325654205d0be9c421f429be5d1eb2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 3 00:35:12 2014 +0100

    Add support for icons in the Mac backend
    
    This is just an experiment hacked as offline-friendly entertainment while
    traveling, and is as such untested and probably wrong.

commit 575c52afc1daaf422c58ca3e5652d837843dcfdc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jun 5 23:19:52 2014 +0200

    Make script unload omnipotent as it should be

commit 41e66163a9454fb092f58f1e94a7081d5ac8ec64
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 1 15:49:51 2014 +0200

    Add signals for device addition and removal

commit 044477c4fd1884d202f7349f20a7a2d834f313f7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 1 15:49:35 2014 +0200

    Add missing private requires to the pkg-config file

commit 1fd0ba84d938a0c966799de9e05497646c35bc39
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 13 23:48:57 2014 +0200

    Improve Linux spawn() test so it's libc-agnostic

commit 5ca0d84452e100bda9314f369de7f38de8b434b1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 13 23:48:16 2014 +0200

    Fix Linux spawn() so it doesn't skip the start of the entry point

commit f992865457f4abd79148bf01c590a777801ebdbe
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 13 22:32:35 2014 +0200

    Give the test child process a bit of time after spawning it

commit e6bda22ea991c4327d8e0b78ef3ed4bbe4691a49
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 13 22:27:35 2014 +0200

    Delay remote Linux injector cleanup to minimize impact of race-condition
    
    The last instructions need to be given a chance to run before we free the
    memory it's executing.

commit 9ff3ce436dd63e2da35580b578ed2dca4f8e3e0c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 13 22:18:08 2014 +0200

    Fix Linux injection crash on newer kernels
    
    This worked by accident, as ptrace expects `orig_eax` / `orig_rax` to be
    set to -1 if we resume the inferior without resuming the current syscall,
    in case there is one ongoing (which is usually the case). So this means
    the instruction pointer would be subtracted by 2 in such cases, and we
    could only hope for `mmap` to have valid and harmless instructions in
    the 2 bytes in front of it.
    
    Fixes #4

commit 1186f26a59ec6991adca7e1e2738672a3e33c05a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 9 22:36:06 2014 +0200

    Update Windows build system to match new frida-build-env layout

commit ceb3689b9c9ff63e1f12b650003a0839c2d6fb13
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 6 08:42:47 2014 +0200

    Add missing conditionals around Linux-specific test code

commit c0892aefdabcfff64cda1a2f6f815447c9913787
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 6 08:40:59 2014 +0200

    Simplify Linux spawn() implementation

commit 7f9bcf60bd4e9589bd9fad8852336f5c4d8e0d0b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 5 23:40:35 2014 +0200

    Enable the Linux spawn() test to see what breaks

commit 31a4d6d60f8859407cb0cdb75c519bc3abe37065
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 5 23:24:56 2014 +0200

    Improve Linux spawn() implementation so it works on Android/ARM
    
    Untested on other Linux OSes and architectures.

commit 0a34257bbe142cb5ae0cb29fca2b0685e70507c3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 4 22:23:23 2014 +0200

    Properly disable the Linux spawn test

commit 125ea7f5391bcaa4e6216a430c43e5d1efd8adc6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 4 22:20:36 2014 +0200

    Add rough sketch of Linux support for spawning processes
    
    Not yet in a working state.

commit 70b71fa04bdacc7888c6ea699080f28ff0ad10b8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 4 19:46:26 2014 +0200

    Add support for spawning processes on Windows

commit 9e36059f9c41b4b6ea27fdca2913ec464370ede0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 4 02:25:55 2014 +0200

    Relax permissions on Linjector FIFO

commit 7187f27b2d86f463bad4fe2c24b875ab5edb7984
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 4 01:49:59 2014 +0200

    Improve Linux process enumeration to use `cmdline`

commit 09ec8262e4d55f5fb925bfac9eca5059ff4601cf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 3 23:58:15 2014 +0200

    Fix syntax error regression in x86-64 Linjector code-path

commit e9d6d51ec270ee780b64312dc209ce45d56d765b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 3 23:34:50 2014 +0200

    Fix resource-compiler Linux regression

commit 8f115198235a0871a55431afdf46c579eb898272
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 3 23:34:09 2014 +0200

    Update UNIX build system to use the new resource-compiler

commit bc888f38954421030b796436e54734e56b7dece9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 3 18:27:26 2014 +0200

    Fix `.rdata` alignment padding logic

commit 5c93c0b54f1836931b3849b85d8645bde4163ee6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 3 18:15:10 2014 +0200

    Update build system to use the new resource-compiler

commit 6d5c6ae3f91cba75e95f4cfd8865b53e1936fb92
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 3 18:14:48 2014 +0200

    Improve resource compiler to output object files for MSVC

commit 877f5e233f91d45446365644e703afbeecd9e500
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 2 00:56:07 2014 +0200

    Add missing defines

commit 310591007443e3a053b517db2d8a3313446091cc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 1 16:34:14 2014 +0200

    Change Android `check` target back to running all tests

commit 3de054cb1e20f48c7a5b9c7a513abf9c2577814e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 27 02:47:36 2014 +0200

    Improve the `check-gdb` target

commit fe407a6c78f5aa887984ffe51037bf0e744dfb25
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 27 02:03:22 2014 +0200

    Fix pipe transport temp path handling on Android

commit bdb097c0375ac3b9f25beb70f240073722fa3bab
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 27 01:52:29 2014 +0200

    Simplify FIFO filename

commit 45c9bacb9dbbff52d39cd705b2e0910d1643b30f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 27 01:51:37 2014 +0200

    Put Linjector FIFO inside the temp directory

commit 32d4282e5293effc0c9d3f0cd3cd585d290f2d11
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 27 01:43:42 2014 +0200

    Port the remaining Linjector bits to Android/ARM

commit 827d215c5e8291389cebaf8080a0fc998f7f7642
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 27 01:42:07 2014 +0200

    Fix the non-`spawn()` code-path so `envp` is used

commit 0f4399c53116712079de9c45f4f05c37dccae477
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 26 23:40:21 2014 +0200

    Port most of the Linjector to ARM

commit 79d87f9dc1fd802eeee5bdabf5ece7fed291f06d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 24 08:47:39 2014 +0200

    Adjust temporary directory used on Android

commit 3d25bcef2bc112d1262e507fadb7e709a0bda670
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 24 08:46:50 2014 +0200

    Fix Linjector test harness on Android

commit 53198b7ddbbc969cd9b3b8d5447540e4ec2d8f53
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 24 08:44:28 2014 +0200

    Limit Android `unixattacker` exports to the bare minimum

commit 13cb885682fd7d2ac35694275e445a8098662421
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 23 23:28:24 2014 +0200

    Add Android `unixattacker` and `unixvictim`

commit be706478fcab3bc0625a22511cb541b9136827fc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 23 23:12:25 2014 +0200

    Revive the `vfork()` + `execv()` codepath for OSes like Android

commit 330de2e309f8d6188a67f06f016ad2b904a6fe32
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 23 22:42:54 2014 +0200

    Allow $(RESOURCE_COMPILER) to include arguments

commit 74f9dfd79ad6e3634f93bddfa9b387bb3cade965
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 23 22:41:49 2014 +0200

    Add support for cross-compiling resources

commit 19523f0d1465f3b3571797d39c3adb7d5d925605
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 23 22:40:51 2014 +0200

    Improve ARM detection

commit 26a6c7b0d0af5116cab36b4094271e7bfaa0d1aa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 17 15:00:40 2014 +0200

    Update the dylib UUID before writing it out to the filesystem
    
    This way multiple instances of Frida can inject into the same process.
    
    Fixes #3

commit b8ce952692f752367825548ad121b9382c4e2653
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 16 00:38:59 2014 +0200

    Fix warnings reported by MSVC

commit d40df0b4be43b1d43dc83821462f1eafddba04b3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 16 00:11:02 2014 +0200

    Fix Windows regressions

commit 8135c8efa8db838b372d656d9eff0a9b6d88a8cd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 15 21:48:55 2014 +0000

    Fix Linux regressions

commit c0806e90ae9ccd8ac5dbdc755be717529a3cb5c6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 15 15:36:55 2014 +0200

    Fix ARM cross-arch injection

commit 8e592aab4741137fde4eb7d8e4d2bd88e90312af
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 15 14:24:52 2014 +0200

    Fix Fruitjector cross-arch test and fine-grained OS detection

commit 2e5e624db6fc44f33290676b7320fd81bdbb7878
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 14 15:00:48 2014 +0200

    Add Mac and iOS cross-arch injection test

commit a024bc5ba491b72914ed28dca41a36df5c873093
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 14 14:59:21 2014 +0200

    Improve process spawn helper to support passing an argv
    
    Only implemented on UNIX for now.

commit e6cdf7d961ec92ce591cd94155700a482bac82b3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 14 13:40:16 2014 +0200

    Replace injection test subject sources with prebuilt binaries
    
    This will allow cross-arch testing of injectors.

commit c8153752b70cd434e7e3f7e0625641cc31098251
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 12 02:42:09 2014 +0200

    Add missing dependencies to Makefile

commit eee992f4cd431e588cda401d370e0d99d1f1d6c3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 11 21:20:56 2014 +0200

    Fix x86 Fruitjector regressions

commit 07563567a7fc1e86317e6e77ef4a155e7c14d6a0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 11 00:06:52 2014 +0200

    Fix regression in Fruitjector's ARM32 logic

commit c81bd0be6aad6b0b80296d86f801426a45a008ce
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 10 09:22:39 2014 +0200

    Implement remainder of Fruitjector's ARM64 logic

commit 459ef9ea72d2c2ffd086f1c509a9fe69e2ad6ffb
Merge: ddc2d431 8c7b13cc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 8 23:57:59 2014 +0200

    Merge branch 'feature/arm64'

commit 8c7b13ccbaa0aa99fbbc4dd279c174542bc31471
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 7 00:09:06 2014 +0200

    Add base skeleton for porting Fruitjector to ARM64

commit ddc2d431832c62cd5ffe35900dcdd0994d7f4c86
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 8 23:54:32 2014 +0200

    Avoid redundant $(builddir) based paths causing problems

commit 8e48c099d617550274b2fdda6d4356e036db52e4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 16 20:57:37 2014 +0100

    Add `subdir-objects` automake option as suggested by automake

commit b5736deae51885ad6e541ba696b9caa21ab238de
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 9 03:09:08 2014 +0100

    Improve Windows injection compatibility
    
    Fixes #2

commit 0a71027c938f5f86eb6a8ee5b93eb1cb604c670d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 9 03:07:13 2014 +0100

    Add interactive test for injection

commit 7f5119891c26b4dc0a277d0982f805008f3a18ee
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 6 00:47:01 2014 +0100

    Fix injecting as Administrator on Windows 7 and newer
    
    Making use of a Windows service whenever possible is not a good idea given
    that Windows 7 and newer have a tighter policy for CreateRemoteThread.
    We now only try the service approach as a last resort, which is when the
    target process actually is a Windows service.
    
    Thanks to markwo and egirault for helping track down this issue.
    
    Fixes #2

commit 1ddca113654ee72826fb5c19650f117c55be6a95
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 6 00:41:53 2014 +0100

    Update frida-agent filters

commit f757fe30b46c9bb9704ec8161790fc0ba6a8da1d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 24 00:22:31 2014 +0100

    Remove obsolete gitignore entries

commit c1475ac6b1772d0deea700161bd76d9c73ae46ab
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 23 22:07:23 2014 +0100

    Upgrade to VS2013

commit 9c71115402861c5a5fec390d756144c5209596ff
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 21:29:47 2014 +0100

    Update to the new Gum process API

commit ff77c880072e33d3a43fec50980453e1ea76ea73
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 18 19:45:21 2014 +0100

    Improve dpkg description

commit 974ec047439f456e655031c5de2654455b2931b9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 15 00:33:45 2014 +0100

    Fix permissions of LaunchDaemon plist
    
    Thanks to Memphiz for reporting!

commit 9e57b82a43f10b1e7903e548181bf9f53f0a84c0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jan 14 22:05:25 2014 +0100

    Fix injection into Mac App Store apps

commit 211fa2e8ed8c6b629d4a9c2b73845b42004822eb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 11 20:49:14 2014 +0100

    Add COPYING and change license to LGPLv2+

commit 543d1c1bb2fecb6e69f915974774cc7bd18eb111
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 3 14:43:51 2014 +0100

    Fix pipe read/write error return value

commit 9c2a6f5b91871e78b562ef0ab9f863b2c690b433
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 3 14:43:15 2014 +0100

    Change stalker poll interval to 50 ms

commit cfe13f41f4fcb4aed15f9861d3363b591993ce46
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 3 14:42:55 2014 +0100

    Tweak close delays

commit 1d91c684a6c0f4730fe6f25e9eb676ccc1c3e40c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 3 13:57:28 2014 +0100

    Improve shutdown
    
    - Wait for stalkers to finish garbage-collecting
    - Let the async close() return early
    - Reject requests during close()

commit 88c95f664abbbaf95442e7a3d55bec76b41132b4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 31 11:29:31 2013 +0100

    Add remaining essentials to the iOS packaging script

commit cd30f175c645cb24947e156697a86194b7f77d9e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Dec 30 23:12:20 2013 +0100

    Add script for building frida-server iOS package

commit af01af8dbcb80b7ef0cc23246e330fa34ce97f7c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 24 17:29:40 2013 +0100

    Fix unreliable injector behavior
    
    The optional function pointer was not initially NULL.

commit 78691da2b5a8f0690b9f732f2e71760e94bd9259
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 24 13:17:52 2013 +0100

    Limit Darwin spawn test to 64-bit for now

commit 7fe8a429d6b6e11cbd254aa321c29c48431316df
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Dec 22 23:13:25 2013 +0100

    Limit Darwin tests not yet available on iOS to Mac only

commit 37c443a55f1ac7a5f379cfc44f07f9dd664347ee
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Dec 22 23:12:04 2013 +0100

    Adjust `check` remote prefix to match that of frida-gum

commit 5ed9054c34bf7eb5e299e399b65c2916edbb6bb6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 3 21:03:28 2013 +0100

    Fix Fruitjector on OS X Mavericks
    
    The legacy cthread_set_self() API is finally gone.

commit ea23bd3acfc0b8e145aa8f70116d67619a143bfc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 22 23:04:45 2013 +0200

    Improve ARM detection autofoo

commit ff7c4ebc166237b5638319d2eeb28bd848ea1de1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 17 00:42:53 2013 +0200

    Exclude frida-agent from stalking

commit 30bb74897e09fac672fa0ebd9f77468f369f8e2b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 26 02:23:49 2013 +0200

    Fix Vala-declaration of Frida.get_main_context()

commit 865282d4bc0ec9872b13568173b655f5b79f76c5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 23 02:17:57 2013 +0200

    Only depend on udis86 on x86

commit 428580af9f06d5bcfce74f51bf21020616e7ca6b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 23 02:05:45 2013 +0200

    Fix frida-tests linking issue on Linux

commit 35ef39354182252a6a4e253c6bcf3fa0982584bb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 23 02:05:33 2013 +0200

    Remove symbol export regex
    
    Frida core is a static library for the time being.

commit 624e16f90b5ec0c9f01f3e7619f1c66fe55f36f8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 23 02:04:52 2013 +0200

    Add proper dependency on udis86 through pkg-config

commit 03c2a0af28168601ebcc5042b39d899d54e2b8ba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 22 00:23:12 2013 +0200

    Improve API generator to also support enums

commit c31b0613e9e9f5e7342716863deb8bd46ba10f9e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 21 20:35:26 2013 +0200

    Add icon property to Frida.Device

commit 1f97d76e7b54cdf79171c4ce9d7684ead603abe0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 21 20:35:07 2013 +0200

    Turn Device.kind property into an enum and rename it dtype

commit 4488a39799cf084c04f379f75c9f58d105e4cb2e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 21 00:41:58 2013 +0200

    Avoid startup delay for systems where the fruity backend won't be able to provide anything

commit bf2df3bbd38d3aa1d32573b436c0521dfdf9a914
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 21 00:00:21 2013 +0200

    Revive the Windows build system for frida-server

commit e2db21d605b9ee557e00831f4574d1fdc967ce1e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 23:49:20 2013 +0200

    Add freshly compiled attacker DLLs with new entrypoint name

commit 6623a665802ed7fde7cb14b2e304e264e9e7ccb2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 23:48:50 2013 +0200

    Adjust buffer size for entrypoint name string

commit a4e3cc6a9fb5217f4b05828083428db9b4bd2564
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 23:48:32 2013 +0200

    Adjust labrats path calculation to new directory layout

commit 1b9b67d4855f430aa3ef5047981561c6368f5434
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 23:47:36 2013 +0200

    Improve shutdown of winjector-helper

commit 49e2ba70fed5aebcc2b9ee8fea3005d7936fe10d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 20:27:08 2013 +0200

    Add a helpful debug message when the primary Winjector test fails

commit 0d24ea07d64446ea1e53e93ef065fac01bf2f73f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 20:26:41 2013 +0200

    Fix warnings reported by MSVC

commit 236359c3b86e28f7e98a807eeef26bec09be145c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 20:26:31 2013 +0200

    Fix Windows build regressions

commit ab0af01e8de418e3cd257235c21cb0a88815112c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 19:12:34 2013 +0200

    Revive the Windows build system

commit 32fda5ceab955293b02dd98da54ff12d553c14df
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 19:11:40 2013 +0200

    Rename resource compiler binary

commit 82a44f38f58098e223620b02b788ee85f417d630
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 16:56:13 2013 +0200

    Remove legacy build system leftovers

commit 66f171e88bd2f50a87ed3c3b7099358e722a3489
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 16:11:54 2013 +0200

    Allow calling frida_init more than once

commit 6a0988bee5903e7d764e62b0be088700fd4daece
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 16 23:01:08 2013 +0200

    Bring back frida-server

commit bc910b1f5934fcff6293fdbbb61735a24daadfbe
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 16 01:15:08 2013 +0200

    Make it possible to override the path to the helper binary to be linked in

commit c7eeb123a0736b9050032b5be9be9fd6096465d2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 16 01:14:47 2013 +0200

    Fix iOS xcent path

commit b3c401aef79a5aa63354aec3136812914feb5088
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 16 01:14:15 2013 +0200

    Don't install the resource compiler

commit a81ed29454e7aa844611a1e3b7c8e843f731d6e0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 16 01:13:59 2013 +0200

    Don't install the agent
    
    This is very much legacy stuff. It is linked into frida-core now.

commit f169eb45ffec08426658d108fec104760ef8be51
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 15 02:30:45 2013 +0200

    Add G_BEGIN_DECLS and G_END_DECLS to generated header

commit ff4740d17565b69297e616cef8645268fb7a86aa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 15 01:57:15 2013 +0200

    Add GType and standard boilerplate macros to frida-core.h

commit 764b7c5ddfa32e0be340eb3f1754ba515fbb4703
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 15 01:56:54 2013 +0200

    Add frida_shutdown() when two-stage deinit is needed

commit 02657824e93efb3497691fe4da40df256868e230
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 15 00:24:56 2013 +0200

    Generate and install deps file

commit 1459d91460bb22e467dcf95afc78b7d21433e931
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 15 00:06:28 2013 +0200

    Install vapi and improve API generation logic

commit ae14ed115c92236cd6309b843234d92c5a8b9741
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 14 18:14:59 2013 +0200

    Fix pipe creation issues on Mac/iOS
    
    The helper process obviously needs to be the one creating them, as it is
    the only one likely to have the required permissions.

commit d3b8b8e20d58be35e2dd5a89a8e33aa9a0cf91d6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 14 02:40:50 2013 +0200

    Fix silly screw-up in the backend linker flags setup

commit 9a45d8d4953a31f6eb5a944d958cd67f85d4ede8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 14 02:25:30 2013 +0200

    Improve the API header autogen script

commit 9cf8c7c47d8576046902f3f739aac1e672be391d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 14 02:25:17 2013 +0200

    Add libs for static linking to the .pc

commit 98a88e01a374e527c7a600dbdb14a4e3d5731791
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 13 21:46:49 2013 +0200

    Improve the spawn code generation to avoid crashing in 32 bit mode

commit dabd7f564ea626bced447bd7b09c54154f29f47a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 13 20:20:01 2013 +0200

    Fix iOS build regression

commit eaa2fc78cb8f54aeebaf32304f72b68b4117f656
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 13 20:06:21 2013 +0200

    Install the resource compiler

commit e54b48853837a8329f1cf805d14a2071af9e6ede
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 13 19:58:01 2013 +0200

    Remove special-casing of path to resource compiler

commit c2ff2b62b34fbb3803701b73a1771865bae72eaf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 13 19:29:38 2013 +0200

    Add libtool tag to fix compilation on Mac

commit b84c8e137153b6fb9345b614a56c7f1f73642fbf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 13 19:20:25 2013 +0200

    Depend on frida-core-1.0 instead of gum-1.0

commit 53ffcf039195205ca8e41828e110e897dedee881
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 12 22:09:17 2013 +0200

    Fix build order issue for frida.h autogen

commit 7a5d9249448cbdee59be7533102005891df0d758
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Thu Apr 11 00:51:40 2013 +0200

    Update after agent API change

commit b46810064023edea3e9c05ac0eead8dc3d7863fd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 10 01:34:54 2013 +0200

    Generate and install a trimmed down public header

commit 2aa641b08c98355c9dac06d1d08866b348e64943
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 10 01:33:14 2013 +0200

    Add glib, gobject and gio to the .pc requires

commit a710ff7124885e473f8e0ee0f3bf0f17826c39c7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 10 01:09:17 2013 +0200

    Disable building of shared libfrida-core
    
    There's no point in building a shared library.

commit dae17766c1ecc104e4a314c23d6613a151d73062
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 10 01:06:20 2013 +0200

    Add init and deinit and drive the default main context behind the scenes

commit 3c7eb8ba6f6f38bfa6e59b40b2e2383e46a1fc75
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 10 00:26:41 2013 +0200

    Improve the public API to hide more internals

commit d4a399170d7c26c3aff76848e40806f490bddcd6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 9 01:52:15 2013 +0200

    Fix build order

commit c94cd508a55e383014143a33297bea2f366ee281
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 9 01:45:18 2013 +0200

    Install header, .pc and libraries

commit 736b475e07059b7654c50a411eaa19816991c509
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 9 00:58:31 2013 +0200

    Fix circular dependency in fruitjector helper build logic

commit f01ebbb71422bcc61abbba9493aa5d7a6f6d93d2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 9 00:35:44 2013 +0200

    Remove the server
    
    It does not belong in core.

commit bee53ab45070fb504da83134ec04c4e757320307
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 9 00:14:30 2013 +0200

    Flush main context when closing the injector harnesses

commit c3a6af4124c5585bdf8c4a24471f47c36265f83a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 9 00:06:39 2013 +0200

    Remove usage of non-default main context from tests
    
    This is not a good idea because of an issue with GDBusServer, or actually
    GThreadedSocketService, which constructs a GDBusConnection in a thread
    pool, and GDBusConnection gets constructed and stores the thread-default
    main context, which is always the default main context in such a thread...

commit cc58a584dd0fb90657cbf35f8e0c990294d6d347
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 9 00:04:20 2013 +0200

    Improve fruitjector robustness by handling disconnections and doing proper cleanup

commit 68083bdad219a81ea076235b78afa99e48d4eca6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 9 00:02:50 2013 +0200

    Clear reply port after spending the send once right

commit 8a3ae7699a0290b4752d7af9d4bf3d1977e5d8f2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 8 02:18:40 2013 +0200

    Improve teardown of fruitjector

commit 93a7eb30ac5ecbb25cb8cd0c79f41e2be0c593fe
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 8 01:46:55 2013 +0200

    Fix initialization of fruitjector helper service' context

commit 1e84b4e061e6af8305b41f988e4bef1f74543cfe
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 8 01:46:40 2013 +0200

    Fix code signing build order

commit bc217a1c19a062dc141d11734999d1670b471c2f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 8 01:26:06 2013 +0200

    Add most of the remaining bits for fruitjector to work

commit aac8f3d981a4c803042b7ba3a9209594e8dc4440
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 8 00:23:51 2013 +0200

    Implement spawning of the fruitjector helper

commit ebf5cd725fb396c14aaa1646d471e22c0e85175f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 8 00:23:27 2013 +0200

    Improve error-handling in the darwin spawn implementation

commit 91ce2c18ef57e37b6888138c8317f23aca96da01
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 23:44:17 2013 +0200

    Update gitignore

commit 579b06c24ff1b29449187637d7d819f051cd9355
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 23:43:15 2013 +0200

    Improve teardown of winjector helper

commit f686b89a30871e305e97163ba40978fd9613d8c1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 23:42:57 2013 +0200

    Bring the fruitjector a few more steps back towards life

commit 1fe936d6d3fce0e68b5b07a7af25596951b0e0ae
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 19:26:48 2013 +0200

    Improve the fruitjector helper

commit 4fe766b391da5176e7f23a1d931a6db62213323c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 18:24:10 2013 +0200

    Remove left-over echo statement

commit 88160b6cc1925e7428c0b3def9dc20bf2a5a97da
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 18:23:59 2013 +0200

    Add more build system for the fruitjector

commit 89acf4c8901b6e1d1d6c00eb37795d747b896248
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 18:12:27 2013 +0200

    Update gitignore

commit 89913612d488e8a1caab7328294a3d9277ba81db
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 18:06:17 2013 +0200

    Strip down conditional build options and start putting Fruitjector data into place

commit 434d279f5286e82843883a3d343ded2da90984e5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 17:11:04 2013 +0200

    Start refactoring Fruitjector to having a helper process doing its work

commit c600c7c812111f49744fa8e25feda0b65e4f9097
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 15:35:33 2013 +0200

    Improve the high-level API based on lessons learned from pyfrida

commit e7835f81eb9b0dd2abd35a01d060d54a93b6b549
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 15:20:41 2013 +0200

    Refactor the high-level API to have both async and sync support

commit 42d3a101cef38d9c971ec3594456713178520e03
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 14:50:37 2013 +0200

    Update gitignore

commit 57853cae4323a118b92e73b3bb002497f780bc55
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 14:49:31 2013 +0200

    Start consolidating temporary file handling

commit 5bdc725b79485cebcb5f9ca7df28e55697b6d078
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 14:48:17 2013 +0200

    Implement kill in the Linux backend

commit 1982674b71723bdcc2490e8c28444d5721bc0e20
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 01:55:59 2013 +0200

    Fix out-of-tree build issues

commit 15ffc215fecce6160bcd5d7648810d80ccf841d0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 23:03:56 2013 +0200

    Fix build by #ifdefing platform-specific Vala code

commit 0a9d59437424c8a340adc9b8d8bad8b3feec14ce
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 22:28:00 2013 +0200

    Update gitignore

commit db94d429f4f750056ce19a2e86735f10bceb9ea8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 22:02:19 2013 +0200

    Improve the build system

commit 101d7c5b6f1624ab352b3c824a77a47e406bb56a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 22:02:01 2013 +0200

    Update gitignore

commit 0e46361ffe20db17c334eb1515d91a78e33222d3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 21:45:31 2013 +0200

    Explicitly set an aux dir to avoid unreliable autofoo auto-detection

commit 65fcee7d793118234c9595dbe00833269510f1a1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 21:44:31 2013 +0200

    Don't launch configure from autogen.sh

commit 588aee84d9e373f76a82885fb7a814e88409f737
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 21:42:29 2013 +0200

    Rename libgum directory to gum

commit cb318726a13a2ad428bdce51c907827f4109bcfa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 19:16:24 2013 +0200

    Improve toolchain build exclusions

commit 8ba705e6660f932287219198ce101629babd2884
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 18:49:11 2013 +0200

    Fix toolchain fixup logic

commit d3ec824b5752a7917ae91e9ba6ecd2f0a639288e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 18:43:29 2013 +0200

    Bump toolchain

commit 7534308c82bdd5a21ef4b42a7e632c0181678ae2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 18:43:25 2013 +0200

    Fix toolchain filename

commit a897c61658e59841ff6d7fabfbe88c62372057eb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 18:26:39 2013 +0200

    Fix PKG_CONFIG config for toolchain build

commit 0c1c4fd62d348fba84bec24b1eb2937ef7db0a4f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 18:19:32 2013 +0200

    Update gitignore

commit 23b2e921e3d40b8c9f17240f65d85318796cf354
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 18:19:08 2013 +0200

    Add pkg-config to toolchain build script

commit 410ebebe79133260517970e89e44502a9da214b6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 17:59:01 2013 +0200

    Move build directory back

commit 3115d5c1a6abb0cd7c31da311b9200186d79d16c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 17:56:41 2013 +0200

    Fix syntax error in bashrc

commit d5943883f4523993568ebd009772f6bc20cb3eb1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 17:52:29 2013 +0200

    Update gitignore

commit 5ed246df113d3c29f9d219dc673d3afde1b3d675
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 17:51:52 2013 +0200

    Move build and remove JHBuild support

commit 88d42fb4feec66f4bd14b7c83e2f6e894485c3e9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 17:44:03 2013 +0200

    Update expand_target's mac64 constant

commit ada3e3dd884120f43f6f1b95841710115d30570c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 17:40:12 2013 +0200

    Improve build-deps script so it builds the toolchain from scratch

commit e536a856fd6ddd5684de460af9653d12032a9658
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 15:49:39 2013 +0200

    Add gitignore

commit 99e38ec3bc1c8f8f9bae370f67742a6ac16b8205
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 15:39:39 2013 +0200

    Rename left-over references in Windows project file

commit 1270c93eb16f2386d7eb96bcd3e63eb54dfe7826
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 15:32:10 2013 +0200

    Fix basic build issues

commit 4f2bcf3d8378ca8ae3217978aa8cd72a8139ebec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 15:20:42 2013 +0200

    Rename Zed to Frida in .xcent files also

commit 36648054c71250a421d38489e16c7314cedea27c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 15:14:10 2013 +0200

    Rename some left-over zed names to frida

commit d57c09ad08f9d009f4f125447793b63bf83632e0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 15:11:09 2013 +0200

    Rename left-over zed names to frida

commit adeb0208ea065033ab9d3610bfa2fb366ff894f1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 15:08:01 2013 +0200

    Move system glue and icon helpers

commit 386055c8843a7de8e1809b9ce2b9d8112bf3e91a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 15:00:17 2013 +0200

    Rename zed to frida

commit fe490dd80e088d58db21f9ac103c95462823e1eb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 13:43:13 2013 +0200

    Start reworking the structure

commit 45249b0a2e33622b836c51ca86f6be09c8f4af73
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 21:15:47 2013 +0200

    Remove retry logic when stablishing an agent session over TCP
    
    There is no longer a race condition since the host session is the one
    listening.

commit 6d856b6bed0969a60d986ad5cfd3dc46c9258379
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 21:10:33 2013 +0200

    Replace usage of get_proxy_sync with the async get_proxy

commit 652ae24c3d34b925556391bbd933f0bd73a8f3b7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 21:09:39 2013 +0200

    Time out if establishing an agent session takes too long

commit 065cfdda9bb9a3b2a6717a5bda43c3c66ff7b7a3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 17:01:06 2013 +0200

    Improve robustness of Mach port allocation logic

commit 932ba1f139e393f786f9a0ca905edd45263069ed
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 15:59:03 2013 +0200

    Improve the Linux injector to support injection into pthread-less processes

commit 899d85b4ae83e3c7809cb71f07f578f88b10ca3d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 15:58:34 2013 +0200

    Update LinuxHostSession to the new API

commit 73a3b87b55c3699d819acf36f3915a8c71cf8448
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 15:57:54 2013 +0200

    Add a POSIX backend for zed-pipe

commit 5c7b2f190f6f2e1e28ea804bb935549e08a58ef2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 15:57:15 2013 +0200

    Add autotools build system for the pipe test app

commit ccc715d3c8847867924f250ba2d6e7845a54138d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 15:56:25 2013 +0200

    Improve pipe test app to handle EOF

commit 6a2086d591b7143feb9ed9510f58896d21ac4371
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 01:54:43 2013 +0100

    Lower shutdown delays and improve cleanup of temporaries on Windows

commit ec6fb96144e1df9ad7bd5fa0394a34b04f5ba70e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 00:38:21 2013 +0100

    Fix injection across session boundaries
    
    We simply detect that the session id is different from ours and try the
    stealth injection technique.

commit b8f369bf5be1c6a86ffb134625f547a369601c1a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 00:37:14 2013 +0100

    Update project filters

commit 139bfbc86589e53497818f01ce705a1a285b4ba6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 00:07:55 2013 +0100

    Fix remaining pid type refactoring

commit e9d001e6d5759dd04b969a5c113962442b7dfa85
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 30 23:58:52 2013 +0100

    Replace winipc with zed-pipe/GDBus and refactor a bit

commit 5549433d3b75c9d7d732a4fe48f71c800037b4ba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 30 17:08:57 2013 +0100

    Add an interactive test app for zed-pipe

commit 03c220f179053a6fae38dbfef66fd82ecd941ccc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 30 16:33:09 2013 +0100

    Fix pipe permission issues on Windows by making the pipe world writable

commit 1cf289c76af98d7d1ea4f3d39751a07d7f9bd4eb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 30 03:05:59 2013 +0100

    Fix Pipe mach backend regressions

commit e0e29830473c9e65251e65ee1d521c2e0c898c0e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 30 03:01:07 2013 +0100

    Complete most of the pipe backend for Windows

commit 9d1c8eb2e5e75464f848b86d477668adbd114f8e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 29 21:45:34 2013 +0100

    Update WindowsHostSession to the new BaseDBusHostSession API

commit 174a21fec2eae770757f743ca8b0f8e81a42a3d6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 29 21:44:16 2013 +0100

    Fix winjector tests on 32-bit systems

commit a772ee402fe3fe2dfdbf842a6e8f59392870c046
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 29 21:43:37 2013 +0100

    Add boilerplate for a pipe backend for Windows

commit 94534affb0e3c29199cc1ce3537eb8bbc45b2169
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 29 21:42:45 2013 +0100

    Add Windows build system for zed-pipe

commit a6b225d2e05834e634309c967678a39820a0f472
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 28 20:58:17 2013 +0100

    Revert a left-over change

commit 7d835662f3dde86d708dd8486f8fc23de632dffa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 28 20:54:35 2013 +0100

    Revert the Fruitjector API changes

commit 1a98c76daf665fcd4805063a9c45ffc0eecb42b4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 28 19:58:28 2013 +0100

    Make cancellable optional in the Pipe mach backend

commit ddd2508eae2b49d53d262899528eaec5f2833324
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 28 19:44:17 2013 +0100

    Fix error reporting in the fruitjector

commit 8126cc207080ad50185f70097c7f8c7ce24a2528
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 28 19:43:51 2013 +0100

    Fix the agent test regressions

commit d55b8d73d78b2a541cda6f38cdc17166648996d6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 28 19:43:04 2013 +0100

    Improve the Pipe mach backend and allow instantiating the pipe transport

commit e626ef954204100f715bda2b27287a6c8d458c04
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 28 01:21:51 2013 +0100

    Improve selection of temporary directory for the agent on Darwin
    
    When running as root it is preferable to use /private/var/root as that
    directory is more likely to be allowed by sandboxed daemons.

commit d0ea0281d47029ae36258a64a8751fe347fff05d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 28 01:20:17 2013 +0100

    Port the Darwin backend to use the new Pipe transport

commit 2bc48e675bf045a329a8675fcbf8018e3905eed1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 28 01:16:23 2013 +0100

    Port agent to use Pipe as its transport

commit 0827aece8a79073f7802da6280ade6f1da3dc362
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 28 01:15:16 2013 +0100

    Add beginnings of an IPC helper library
    
    This will use a native transport mechanism in order to avoid issues with
    firewalls and sandboxes that trip on TCP (even on loopback).

commit 6d08487d7a8e79c6ac5506c5707cb6efeedf082c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 18 02:12:54 2013 +0100

    Fix argv in Darwin spawn test

commit af69a64b2da3eb611b490eb28aac7ad5e5c809a4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 18 00:46:32 2013 +0100

    Change Darwin kill implementation to be a bit more subtle

commit 5b76d8a7d31e47e2009b26bacc37747838c1df1f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 18 00:31:08 2013 +0100

    Complete the Darwin spawn() and resume() implementation
    
    Also add kill() for convenience.

commit ea4f20cd57787311032d9584198e829677229822
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 17 18:16:21 2013 +0100

    Advance the Darwin spawn() implementation closer to something working

commit 2b5367bc98ca9d3b03d915255ca8dbbc2a41b010
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 17 18:14:59 2013 +0100

    Update Fruitjector to use the new Gum API and clean it up a bit

commit 36939e3eccdbc55e7e5d260cf876a88836f7f375
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 17 01:21:11 2013 +0100

    Add spawn() and resume() to HostSession and implement partially in Darwin backend

commit e334f57387b1b80fdaa6024625e63d8e1af00689
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 9 18:42:28 2013 +0100

    Bump Mac and iOS SDK versions to get carbon-free GLib

commit c1b8c233385a3cfb20c49d23858d8ec02265cec2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 9 18:41:56 2013 +0100

    Adjust GLib build config

commit 27608d0bf32efebfd91d42c47bdee01fcc5ff1fa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 9 18:41:46 2013 +0100

    Allow setting ZED_TARGET_PID environment variable for overriding target pid

commit a2fcecf70a336722d1da75c35f845c138a3418e0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 9 18:41:28 2013 +0100

    Trim inject victim down to a pure libc app
    
    This way we'll catch whenever the injected agent depends on things it
    shouldn't, like CoreFoundation on Darwin.

commit bbc5188b2415435ed5229ddfac8f81bd9b71bce4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 20 21:35:39 2013 +0100

    Add Windows project file for pyfrida

commit d30e78ac53ce9c5013c2dbc6caaff47cb5234476
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 13 00:56:39 2013 +0100

    Update the Windows include directories and preprocessor definitions

commit c43f689d829abfbd1d3cad3616ab9494c61f31d5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 13 00:56:17 2013 +0100

    Bump SDK/toolchain versions to fix build issues

commit dc62b51fc839d3db579187f4b6c894c8d93705e2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 12 22:41:32 2013 +0100

    Update agent tests to new Script API

commit ff4f522cf43874eaeb0575fab5a93e56d5785af9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 12 22:38:54 2013 +0100

    Improve build script

commit 851af489ce711e5d64ad25e9308e98b140910de7
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Mon Feb 11 22:32:22 2013 +0100

    Bump SDK version

commit 06949540d1ce3f157d8bcfa1b9e1bed4f01379f2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 11 22:19:39 2013 +0100

    Fix SDK globbing

commit 5d7b36f2d874d5f025e6f980e0ae15ab101320c5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 11 22:12:52 2013 +0100

    Add lib/arm* to the SDK whitelist

commit afa5361973324e72b85d023a33a80705484d4aa1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 11 22:10:24 2013 +0100

    Add lib/x86* to the SDK whitelist

commit 7c8b8f192c166582afe3d0435fbcaed81229108c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 11 22:01:43 2013 +0100

    Add libffi* to whitelist for inclusion in SDK

commit 138ed4e56358ab350bd8ce7e6fe8bc73bb07fe90
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 9 16:58:22 2013 +0100

    Bump Windows toolchain and SDK versions

commit a0283dbad488b7fda698765aa97e2b53cea44419
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 9 16:47:22 2013 +0100

    Build v8 with GCC on iOS for now

commit 4f352beec428ef5efbbceecf5ee58f4fa5171965
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 9 16:47:11 2013 +0100

    Update toolchain and SDK versions

commit b33a886088fabc4c226c5c9ef49773e9d8702d1b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 9 16:39:45 2013 +0100

    Update config.site to match glib-2.0.pc changes

commit 777a65d6ad13fef2f16073278b25f906064ebbba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 9 16:39:15 2013 +0100

    Fix the dependency build script

commit d26a44de6af72fbb0161f8e65fceed25e80dfc43
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 9 13:14:01 2013 +0100

    Add a performance test for agent script data transfer

commit 9ebf57903cd965d9724172aa23c24b90b1ea0255
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 9 13:13:40 2013 +0100

    Change Mac linker from ld to clang

commit 59954f3cc22e7a4582c4b32eedbe7e2b26f76fce
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 8 22:43:12 2013 +0100

    Switch mac32 and mac64 targets to Clang

commit c4d0f4a631df37767a75f6a1b6bb6c535e552683
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 4 23:41:46 2013 +0100

    Update iOS toolchain and SDK environment

commit ddd60f39fa742df1bae40ed07a7ddab5b336c4ec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 4 23:41:28 2013 +0100

    Default to resource-compiler from toolchain on ARM

commit 0ac6d3f46efd4cf95494530bcf9d9d6ed96af8ee
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 4 23:40:24 2013 +0100

    Fix bug in Fruitjector error-handling caught by Clang

commit 4bdfab6af926b316b66726fa3edf96ac87a527cf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 28 01:54:07 2013 +0100

    Bump iOS SDK version to 6.0

commit 1b7fe46498ff26128823fd0b5f0336db2ffb9a72
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 12 14:02:19 2013 +0100

    Make pyfrida functional on OS X by copying cloud-spy's bundled server approach

commit d7db4a2ff791632c35a2c3f52bfac8841370e4bf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 12 13:57:50 2013 +0100

    Fix pyfrida linking on OS X

commit fc46b9b6c93443bf7c4bf7e8940fe91af9beb237
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Sat Jan 12 02:21:38 2013 +0100

    Add initial binding for session manager

commit 75d09e6aee39a72b3d6c84e12697be3ce96b4da1
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Sat Jan 12 00:53:39 2013 +0100

    Add skeleton for python bindings

commit 8e20510c00323ecbe4882124dd3ccd68baa7d27e
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Sat Jan 12 00:20:55 2013 +0100

    Add detection of Python interpreter to configure script

commit 43e7529d0ad41206e57aad6790bb7712a83674ec
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Sat Oct 6 23:43:00 2012 +0200

    Add workaround for bug in Vala 0.14 compiler

commit 6fd049ad663af37a306b26f138550ee1535a6768
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 15 17:52:12 2012 +0200

    Don't build Linjector test if local backends are disabled

commit b3362dccbf59a4799956c8d12360e5ae94870200
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 15 16:48:53 2012 +0200

    Add a simple Linux host session backend

commit 48a4683d9c0827a89d77044127f02584ab0bd975
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 15 16:48:04 2012 +0200

    Add missing bits to make the Linjector operational on x86_64

commit 7c6bebfd5844cf9a463bb31cc5231a8df498b7ae
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 15 16:44:54 2012 +0200

    Make resource-compiler's asm output compatible with the GNU toolchain

commit 6efbd53c0e1a5fc83463ec1e4a86d9b086a5cff3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 9 19:48:48 2012 +0200

    Start reviving Linjector by replacing skeleton with Fruitjector code

commit fcfd664fc633096f5acbde89b122867b5771f55c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 9 19:47:51 2012 +0200

    Disable Fruity-related code on Linux

commit 8d17d8af1140f40749c9837ad7f6df51d4a2acf0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 9 19:46:50 2012 +0200

    Add an explicit libtool tag to fix Linux build

commit 6764bb318f8390c87c574681b96230c8b22b3841
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 9 19:46:25 2012 +0200

    Fix build-deps.sh install steps for V8 on Linux

commit 9c3037ae60c2f9df1e2a233b09aebae9af62c735
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 9 19:45:45 2012 +0200

    Omit .const from generated .S for GNU toolchain support

commit 5a44357b17af9e1e657e7b850a1b2310ecb7c58a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 8 21:22:20 2012 +0200

    Fix CPU type detection on ARM

commit 048b495e21c6c115c5c0b50c057585eee63dbbbf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 8 21:21:51 2012 +0200

    Update Fruitjector test to reflect new file name

commit eb3bbb701f4c0eeeeab800f4c5b4ff4492f9ba76
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 8 21:21:25 2012 +0200

    Sign inject-victim on iOS
    
    Also make sure to replace signatures.

commit 68f84b24135523a3babaed0ae535ba7816e5684c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 8 21:19:08 2012 +0200

    Use rsync for transferring files

commit f913e5436326e06a72102824b8f66d1254f7f68c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 2 00:23:13 2012 +0200

    Fix warnings reported by MSVC

commit f2ab63d5e6fd4949f128d6d46cec3470f006551e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 1 23:38:08 2012 +0200

    Adjust Linux SDK versions

commit 2cc4ba90c209103c01090aa075707c2756f8ce85
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 1 23:35:33 2012 +0200

    Inform Interceptor about internal worker threads
    
    Otherwise we won't be able to spy on read() without GDBus' internal
    worker thread creating a disastrous feedback loop.

commit f3d90b503968e32ac3596151d29c808e145985af
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 1 23:30:10 2012 +0200

    Improve build-deps script to handle building Linux SDK

commit 3cf2f662b637860526afc9b19a3c9b4bfd6f294c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 1 23:29:28 2012 +0200

    Fill in some blanks for the Linux environment

commit 1ea9b035705eead10b9f6a4d11d76dd71bdaec32
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 27 18:32:28 2012 +0200

    Improve Fruity client to handle socket closing while reading

commit 008ab56c167572e7d05230a1653ae6246776e90f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 27 18:31:09 2012 +0200

    Make zed-server's idle timeout configurable

commit 81159388bcf993772e727450681f9e1221b7dbba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 27 00:18:05 2012 +0200

    Bump iOS SDK version

commit e4a7ba674cdd1d284be2a97f0d016043ab916595
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 27 00:03:31 2012 +0200

    Make it possible to override which resource compiler to use

commit 15d9d5aab50d783665ea0c1ac5831f7a827c01c3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 26 23:54:04 2012 +0200

    Tweak v8 build procedure for iOS

commit 0e9fac86be3da2e7341742239426a4dcc657a83c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 26 21:10:06 2012 +0200

    Add support for building v8 for iOS

commit 676e29d12a0eaeaa5bcd2458da5a3c4ddafaf437
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 26 21:09:52 2012 +0200

    Update iOS build environment to support latest Xcode

commit f5578c07d50b1579cfb66b7759807fccfdd9d590
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 26 15:15:23 2012 +0200

    Add missing preprocessor define to enable local backends

commit a5e971b8fed6a2db754d6614751c9628257463a8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 26 15:02:05 2012 +0200

    Fix Agent test failure with optimized builds

commit 0c5cd683870ada33ac43b4a4c5570a6f915b9219
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 26 04:49:19 2012 +0200

    Bump Mac SDK versions

commit 25d82c1eee99e9063fe259b121b8f2355cd19bc4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 26 04:47:20 2012 +0200

    Update v8 build script

commit f721a1cfc54e83ca4ee0013fd5bbb08d2fb92790
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 26 03:34:02 2012 +0200

    Upgrade Windows SDK

commit fdb59468ac4f032a0fd3f9c92fe06c6412ba6384
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 25 15:39:49 2012 +0200

    Rename OS X references to Mac

commit 119fb785d2450f4f012df91973e2aff8c1c3f921
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 25 15:06:23 2012 +0200

    Rename osx{32,64} to mac{32,64}

commit 1d0062a73e8ba55cd89c936c6245375fe7e9c36f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 25 03:45:31 2012 +0200

    Upgrade libgum and bring byte array support to cloud-spy

commit a455861bc3def13be982a6d76a713dcb7e9aef33
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 1 01:58:32 2012 +0200

    Bump Windows toolchain and SDK versions

commit 8b5f6403abc438a0e13aee5c99f0d12ce9381197
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 1 00:42:02 2012 +0200

    Fix Windows build regressions

commit 9b96de4f4e27af19d968c8fd29d5bde05efbb262
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 30 23:13:02 2012 +0200

    Adjust code-signing parameters for consistency with Developer ID

commit d2400ed3074cb445e70e445f58a108a59076b86a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 30 02:27:38 2012 +0200

    Fix silly compilation error

commit a586385d9b6049d84600d9c37fe4429b5f0994d7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 30 02:25:41 2012 +0200

    Add configure switch for disabling local backends

commit 8697cbce609068a5df76a1590094c529d2d39df2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 23:58:13 2012 +0200

    Make it possible to pass a server address to TcpHostSessionProvider

commit dfb2ba5cbff3f43c9044e1a0a400d99a26addcb4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 23:54:56 2012 +0200

    Allow zed-server to accept a listen address in its argument list

commit 771cd5bb788b9708ea860b5318d5679bb0cd855e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 23:53:49 2012 +0200

    Make timeout constant a bit clearer

commit c4f2dc7417b1b6fa69361536cc935d49ce4f1669
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 23:53:28 2012 +0200

    Improve BaseDBusHostSession port allocation
    
    Should at least check if the port is taken. This is obviously racy but
    better than nothing.

commit 3a017afea8b71f43de1f2ce1baafe5d2a1ce4c51
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 23:51:04 2012 +0200

    Make sure Fruitjector cleans up temporary .dylib files

commit 0167b2ac8c6be6272ef09a41f93e457a1ce6cf64
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 20:21:58 2012 +0200

    Link apps against the Obj-C runtime
    
    This used to be the case implicitly because Gum depended on it.

commit 4bee907829bc9d17b179dda69cffa679e76ca8d4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 03:07:50 2012 +0200

    Fix Fruitjector cross-arch handling

commit 01fdd03a1c24894ce0869e18ea11772a7be4c30a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 01:18:06 2012 +0200

    Add assembler tool to the configure script

commit 16e65b2c7d138ef3b35addb3d0d57898e61b4bd5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 01:15:08 2012 +0200

    Don't replace code signatures
    
    Otherwise it will leave the build system needlessly being in a dirty state.

commit d8975b3d6117288e336e0331f4c663add6f86f2f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 01:12:29 2012 +0200

    Make use of new resource-compiler asm support for the agent

commit bbf4f4f4d0605c80ac4e2ea2a1959c4f9be47ce1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 01:09:53 2012 +0200

    Improve resource-compiler to support generating asm for blobs
    
    Compiling huge C files with GCC is slow and requires gigabytes of RAM,
    so being able to generate .S files that include the blobs directly
    leads to much less pain when testing out small changes requiring
    recompiles.

commit 7aca1ac504610d9653c297d19ed0c5aadce5dfc8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jul 28 23:52:37 2012 +0200

    Add configure switch for disabling bindings

commit e2ad1f9725cab1c4b8c040acc1202ceba03209e8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 23 01:16:09 2012 +0200

    Bring cloud-spy to full show-case quality.
    
    It should now be possible to do a meaningful presentation on it with the
    missing marshalling bits now in place.

commit fb8d371df19db6e1998d5dc376c983b7bd6e78c8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 16 03:54:47 2012 +0200

    Fix build issues hidden by incremental build and remove a left-over debug message.

commit a0d33ebea2f4de8c2642829c594282a55b40d847
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 16 03:30:42 2012 +0200

    Add build system for cloud-spy and wire up resource embedding for both agent and server.

commit fdbf4aad1d852811d42442d99ed0cca00f667f9a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 16 03:29:22 2012 +0200

    Add HostSessionService.with_tcp_backend_only() constructor for convenience.

commit 07868e1dcc0a98cdf6bfbddb61ba35063dc2a614
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 16 03:28:08 2012 +0200

    Make server auto-shutdown after 3 seconds without any connections.

commit 321b9cf24f36885cc71cc996b3cdd04b93ad1c38
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 16 03:27:12 2012 +0200

    Embed agent in Darwin backend like the Windows backend does.

commit d10399ad9b62dbd6806012580e9f8ea86da7e1d1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 16 03:24:30 2012 +0200

    Change TCPHostSession to retry in case of connection refused.

commit 872402611ade57288f5135cf807ff2d013aaa836
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 16 03:21:58 2012 +0200

    Make it so Fruitjector generates x86 code based on target process flavor.

commit 76a2304c6282170814ce343bca2cb73e8d62c29f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 26 02:58:08 2012 +0200

    Improve Fruitjector to also support x86-32 in addition to x86-64 and ARM.

commit 9227d11656e496282bc15981aed19903ece3096e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 26 02:56:40 2012 +0200

    Remove left-over newline.

commit 3ee261efddb8aa9ae3cfefe28d3fa646ab65787a
Author: Karl Trygve Kalleberg <karltk@strategoxt.org>
Date:   Mon Mar 26 01:23:55 2012 +0200

    Add support for cross-compiling to ARM on Ubuntu x86_64 host.

commit 3567e14a15ff80e62328831a2504413779a3e754
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 24 07:57:18 2012 +0100

    Fix v8 x86_64 build.

commit b3c6172f87fd440c3e9a119caca8c644514b82bf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 24 07:22:29 2012 +0100

    Fix OS X check in configure.ac.

commit 6604b4ea3ca391bb456702d6d77a9c07f2f6f795
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 24 07:00:24 2012 +0100

    Improve build system for osx and integrate v8 build into build-deps.sh.

commit 1291a0358d47f678107148f983fe88ee791c5a64
Author: Karl Trygve Kalleberg <karltk@strategoxt.org>
Date:   Sat Mar 24 04:33:06 2012 +0100

    Linux build system fixes and bump of toolchain.

commit bec30851a63e5b796d468ae3bf853b867b51a925
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 24 03:31:47 2012 +0100

    Split osx target into osx32 and osx64.

commit 55361594d605e08ac9bcb95fab5ab9edf8eefe16
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 14 02:23:59 2012 +0100

    Adjust Android flags to align with how V8 is built.

commit 7107e7557f161cfff7d194fb5996259d73a2c66e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 13 01:43:29 2012 +0100

    Bump SDK version for Android.

commit 1ef6d9d3f1882cd790c5543b14136d965e22b4c7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 13 01:42:31 2012 +0100

    Update config.site's GLib build config to support Android target also.

commit 7c7f096a78c74980047115dc5e8c72f2e5dba88c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 13 01:42:02 2012 +0100

    Improve build-deps.sh to handle libffi subdirectory for Android.

commit 9e33cdb8ca29f8e722d41513cfa605a835e36fd5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 11 01:23:49 2012 +0100

    Adjust Android NDK environment.

commit ed27b0b6246087079e1229c187b59644b61dc5ed
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 10 23:47:07 2012 +0100

    Remove libgum, as it is now an external repository on GitHub.

commit 65aa29b6403a09eb48c807b76831ad37427cd133
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 23 13:47:32 2011 +0200

    Improve CLI to handle reading script inline and from file.

commit 84cc85c58772dc5e74ad226c03599bf01928f3db
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 23 01:20:54 2011 +0200

    Use LLVM GCC on OS X and iOS, and bump to iOS 5.0 SDK.

commit 99c7d707cd849ed1229dd180ed90a7f0d138fb4b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 23 01:11:47 2011 +0200

    Make it so CLI reads script from file instead of inline.

commit 6a47ae9b12ceeb02d2c431839f8ff80f16b9af3a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 21 08:03:46 2011 +0200

    Add a tiny bit of usefulness to the CLI.

commit 9d16f19f063f2c0ec7229972f68d6dce37a84be6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 21 08:02:58 2011 +0200

    Implement Darwin host session backend and refactor a bit.

commit 37088d9fe438c817ff86a1050f3de70cae72dc83
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 21 07:59:48 2011 +0200

    Fix naming of installed agent dylib.

commit 2795e908d338f4debd8f4afb14008e15eeb33305
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 21 07:59:13 2011 +0200

    Define OSX when compiling Vala code on OS X.

commit 1d7aa03ede9f77289c0696b78a60c12d112ee1cc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Oct 19 14:38:08 2011 +0200

    Port Fruitjector to Mac/Intel 64-bit.

commit 6cea8bb2552c7fe0185d78a3d3d7d9e67eb975d4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Oct 19 14:33:35 2011 +0200

    Implement basic readline handling in CLI

commit b1bfc358fd9ae0b499207a8dece9b8325b3d6bf5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Oct 19 14:32:38 2011 +0200

    Disable C code warnings when building cli.

commit bece13fbf927131ee48ad0f296a009fe897fae3a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Oct 19 14:32:04 2011 +0200

    Fix OS X detection of Lion and add missing readline dependency.

commit 1bf25377673b94455a4b57e19654ee6dedafa2c9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 5 03:43:42 2011 +0200

    Fix silly SessionManager shutdown bug.

commit fdae929dbfead614a0771629bd85ad8574deb60a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 5 00:57:43 2011 +0200

    Add support for posting message to script.

commit 2c436cf1a3534a05675feb5bd67eca3e6ed048a4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 5 00:08:13 2011 +0200

    Revise Agent's Script API to avoid losing early script messages.
    
    Load needs to be an explicit action so the client may connect to the
    message_from_script signal before the first message is received.

commit 75fc35bff8f890e1485e51c53bdd8339c7c8facd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 3 20:35:19 2011 +0200

    Fix remaining Windows regressions.

commit d28f16941b2082816793d7625cfe81ccda9d7808
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 3 18:51:28 2011 +0200

    Port resource-compiler to new gio-2.0 vapi.

commit b739b6cd976d56efe691b8a5696bac9a0e0d6e18
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 3 18:51:03 2011 +0200

    Update Windows build system to use new toolchain and SDK.

commit 57815624f673cc7c2d4b20032c36bc192725ccb2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 27 09:12:56 2011 +0200

    Ensure DBusConnection gets closed even when the peer disconnects.
    
    Fixes crash on unload. All tests now green.
    
    This concludes a chapter in Frida history. :-)

commit 2b597d7f10060a91ae053a13a410cf3e86cff380
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 26 16:28:18 2011 +0200

    Only assert on icons on Windows and iOS, and only check performance on iOS.

commit 64a88cdced83d65879e8f1ec27365790a37f124b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 26 16:27:53 2011 +0200

    Improve agent test suite path building on UNIX OSes.

commit 66d114a3653a3a103c49360751fb80b5f4e77738
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 26 16:27:19 2011 +0200

    Do a quick fix-up of path returned by ProcessBackend.
    
    May contain "/./" inside path, which makes things a bit less
    deterministic.

commit 22574ac0de1ff03eda6ef8bddeeeceb2b730545c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 26 16:08:56 2011 +0200

    Move target_function out to avoid inlining.

commit 2288240827a1109f25fdab09eb515cbe404951ff
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 26 15:45:15 2011 +0200

    Fix warning caused by left-over prototype.

commit c6999b50373ccdd760a890e1b964389c4891fdf0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 26 15:42:37 2011 +0200

    Revamp iOS dylib injector payload so it behaves properly.
    
    Previous attempt at doing pthread setup turned out to be a
    flawed solution and dead end, resulting in undefined behavior
    whenever pthread decided to reap thread contexts.
    
    So now we revert back to something close to the original approach, where the naked mach-thread's pthread state is
    just a zero-filled structure, and it just calls pthread_create
    to spawn a proper pthread, where dlopen() and friends get called. This time around we also put a guard page at the
    bottom of the stack, so stack overflows get caught as early
    as possible.

commit 2aae26b68d5eeeb419c46f9b7f3f927a7dc9099a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 26 14:12:43 2011 +0200

    Verify that dylib exists and is a file before trying to inject.

commit 3637bcde5e24af8d147860482e3359454e3dd3ee
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 25 12:52:07 2011 +0200

    Move everything into libzed-tests, so tests can be easily glued into an iPhone app and debugged with Xcode's gdb.

commit 009b30ddccf5003df05dcd6c3c4158998a8114d4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 25 12:50:43 2011 +0200

    Refactor and update to new vapi.

commit 1da4203ec5dbbe16e436099b704b11f8eaa32765
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 25 12:48:38 2011 +0200

    Fix crash by initializing structures to 0 before calling _copy().

commit 61ff65e538113f7a04ce726a426a699ad99f2bb0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 25 12:48:06 2011 +0200

    Revert hack using local repos.

commit 73a6585f9dad73c4ae829fef6cd487adfa29823c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 25 11:37:22 2011 +0200

    Don't build GLib's tests to avoid hitting linker bug in iOS toolchain, and add glib_cv_have_qsort_r define to fix cross-compilation.

commit 1db019da3e44f0357e2926bbf458dfd1408cc2ac
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 25 11:36:09 2011 +0200

    Add missing tool to toolchain, and bring SDK procedure up to date.

commit 4459da982c208d0a0188105b225a9e053ee8a6bf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 25 10:35:27 2011 +0200

    Bump osx+ios toolchain and SDK version.

commit 78e065941c1ec05f24b0223f2e248d01e81a12a1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 24 00:49:35 2011 +0200

    Remove jhbuild stuff, leaving it for later.

commit ac824cf7dfbb0c544d142cda53a7045d026ee5d2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 24 00:48:52 2011 +0200

    Move config.cache into prefix.

commit 3f095171098d8ab9d4b8f4d1809ef2d063c9e730
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 24 00:48:34 2011 +0200

    Rename build-sdk script and add support for building toolchain.

commit e892c4f82b984663377fdb3275248988bed27b57
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 24 00:48:18 2011 +0200

    Bump toolchain version for osx+ios, and bump Vala version also.

commit 400052fcb4270a4737c1396780b5856f54d9adb6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 23 03:40:21 2011 +0200

    Remove left-over shutdown hack.

commit 5a1362e54c315d6d6868d7f4651b5a8e540df411
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 23 03:36:07 2011 +0200

    Remove ugly DBusConnection shutdown hacks.
    
    No longer needed after patching GDBus to do proper teardown as part of its close() implementation.

commit a9de97ee6165d87f76193a7497b7a38a51c11386
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 23 03:34:45 2011 +0200

    Fix socket file-descriptor shutdown race in Fruity.Client.

commit e0d85daf0ee3110d6612679dc63d1ca23c750c43
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 22 23:35:14 2011 +0200

    Update code to conform to Vala master/0.14.

commit e9b5ffd77f1773364b908a06d9ed224ee6381fbf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 22 23:34:24 2011 +0200

    Disable warnings for Vala-generated resource-compiler code.

commit a8dfbd74de3b0af4ee218bfff5b6fed3417d28b2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 22 21:54:34 2011 +0200

    Disabling ld's unwind compacting for osx and ios.
    
    Fixes warnings when linking against libffi.

commit 34aab24f77a86ef1012c0b10acd664bca18ada95
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 22 21:51:49 2011 +0200

    Enable proxy-libintl for osx and ios targets also, and add handling of libffi.

commit 9ace3cb423fab0f904d1d5a3dc66316d2398bc7c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 22 14:10:57 2011 +0200

    Fix up build system for tests a bit.

commit abeafc4a270bc959001fb1bae10c489bfc5c1696
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 22 14:10:23 2011 +0200

    Add missing frameworks for iOS build.

commit 2f62c54a100908dd8287f4b307a861bd49c8412b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 22 13:53:44 2011 +0200

    Disable warnings for Vala-generated zed-server code.

commit 5ed8f1eb0e271b5426df8e5697845cb38b0ce4c2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 22 13:31:04 2011 +0200

    Port Fruity backend to Darwin.

commit f61acf4d7103334c18865fe4fed53c68a44f4214
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 23:38:33 2011 +0200

    Fix build system for CLI.

commit 038f6e24f0d5124b438cf634729fccb5887f090b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 23:38:25 2011 +0200

    Update build system.

commit 05740d7ad70552f170798266345fb62b224d3fae
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 23:38:10 2011 +0200

    Remove old test code.

commit facb75eb3d419d493e2b818d4a441a5841705b43
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 23:37:51 2011 +0200

    Fix warning.

commit ea0c22fc95f77e01e92333bd3eb8b6e050d46013
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 22:54:54 2011 +0200

    Update zed-core file list and disable warnings for its Vala-generated code.

commit f22701f3b8092972a1205c438005e2afbfef739c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 22:54:11 2011 +0200

    Partially port System backend to Mac.

commit 733fda415153a29e55fd907c070e90226dfbb300
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 22:53:45 2011 +0200

    Add Fruitjector stub x86 implementation as skeleton for later.

commit 8143a7528fc61f14e4cc2cfd4bd9b3fd6728a49c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 21:59:06 2011 +0200

    Temporarily remove data subdirectory until we actually use it.

commit 7ccf1c8d7126a220d8ca3b3df8c725512e4c783b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 21:58:00 2011 +0200

    Disable warnings for Vala-generated code in interfaces and agent.

commit 93d000a2840762bf5ef3d79b45bd4cea155d0227
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 21:43:33 2011 +0200

    Fix UNIX build system regressions.

commit da18f2e2e3af7ccdf804776b8b5872bf53e54cec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 21:32:28 2011 +0200

    Kill GTK+ GUI, needs rethinking.

commit a4ae42b10fa9da33559f5d151916b82836c55cf9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 20:33:00 2011 +0200

    Strip implementation of old API from agent.

commit 5ed9792b8afe5fddd275f7f643984d78b89d3cde
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 20:28:14 2011 +0200

    Remove Session API to be replaced by Gum.Script later.

commit 5ae4a8df6d43793e1bc9dc71e5d5e04e9837ad54
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 20:27:25 2011 +0200

    Add skeleton for CLI application.

commit f734dd57bac503189ee714f66850b4a86c1a6f4c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 19:27:38 2011 +0200

    Rename zed-ui to zed-gui and improve consistency.

commit 8d9497d70acb7eef2826403e06a2a1311475a2d3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 16:58:08 2011 +0200

    Fix load_and_receive_messages test so it passes in Windows/Release also.

commit de7384c008dbdb917668045cbad19cc693ce7308
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 14 04:51:32 2011 +0200

    Update to new Script API.

commit b13bee4ad0beab45abdb297cac90f8b6290c1e0c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 14 04:12:51 2011 +0200

    Bump Windows SDK version.

commit 49ac513b8c036ffa8799bc16d3e7473713fd488d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 14 03:53:27 2011 +0200

    Bring Agent test up to date with current API.

commit 75b311225990a19898aed8dd13ff69458a19c1a2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 14 03:53:11 2011 +0200

    Rename Agent's Script load/unload functions for clarity.

commit 07c545bf8e6caf700b99ad0c4c0904168604540d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 14 03:29:01 2011 +0200

    Update SDK version selections.

commit c0f9863e11854194ec58175ae314392a5bace07c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 18:06:40 2011 +0200

    Update zed-core and zed-agent to new Script API.

commit 22b8a48e9c0066aa86ef07aa70419737a7be5ffa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 12 00:23:49 2011 +0200

    Start rewriting GumScript to use Google V8

commit 832f37525ff6efb42d61db2b77e60095e09a5042
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 7 03:26:10 2011 +0200

    Add missing zed-agent files to UNIX build system.

commit a46c83328238a1eea31328fb7bde3a2cb2769505
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 7 03:25:42 2011 +0200

    Add stub Stopwatch implementation for POSIX systems.

commit 58834612f70012c4543c35f5e6783d4037862076
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 6 23:06:40 2011 +0200

    Bump iOS SDK version to 4.3.

commit 1bcafaf09d049a16d3259e2db0076ba320f4760c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 17 21:31:15 2011 +0100

    Report stats for queues and jitterbuffers also.

commit b2e4afb2d1aae6743bb055f65b1ff62c711ad48b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 17 16:08:28 2011 +0100

    Add wallclock time, latency and render-delay to each measurement.

commit 68c322d1bb10ba86b91e3aaf9fe3d31e72a6b39c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 28 17:43:39 2011 +0100

    Add timing history to GstPadStats.

commit 79c41d7c05c7cd0c5b28cfa7b358841fd575518d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 28 17:43:21 2011 +0100

    Shutdown GstMonitor on close.

commit 51c0f7180036bf93e0a0b84ee8576b2b4c2f2cda
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 24 22:37:43 2011 +0100

    Implement really basic GStreamer monitoring.

commit 61c437196aeabeb7ffa5a0f127d07e0b0e824ab4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 18 18:35:46 2011 +0100

    Temporarily unignore Agent while invoking closure.

commit 233029df25855c6fd095c6735a3abcf3ed53548b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 18 15:39:48 2011 +0100

    Fix SessionManager wrapper for scan_module_for_code_pattern().

commit 79c2e03902040d7198427410dd94ad4bb56be983
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 18 15:25:17 2011 +0100

    Expose scan_module_for_code_pattern() in CLR binding.

commit bd137f3a85c0509b1619bc3e344bde5c017e5b18
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 18 14:45:33 2011 +0100

    Add Agent API for invoking function.

commit fc333948382ded8ce70c0f8c1b38866f2635f136
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 17 23:38:13 2011 +0100

    Add timestamp to GLogProbe.

commit f69a2b7f195ecbbb3ac22cc4d8a14eaa9562051f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 17 21:19:22 2011 +0100

    Reshape Script API and expose it in CLR binding.

commit 9c67a824c1c1f416839e7ba3bb32a9b2bb7962d7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 13 23:21:11 2011 +0100

    Make GMainWatchdog max duration configurable.

commit 23fbc2cdb52299f84e0e29a1125993a2d5f62e3b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 13 21:56:52 2011 +0100

    Treat null log_domain as 'Default'.

commit d3b84e529fa7e4ff539fe0d4092710ad574b972a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 13 21:40:21 2011 +0100

    Detach listeners when shutting down GLogProbe and GMainWatchdog.

commit 4075357c00cb70bf647334e5bf459d7e4d785253
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 13 21:27:29 2011 +0100

    Add closed signal for tracking Session lifetime.

commit 862085f807d78eff72fa0b8fa8ec508b873703cc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 13 16:04:57 2011 +0100

    Improve error-handling and resolve kernel32 exports in a safe manner (to avoid getting redirected to apphelp.dll wrappers).

commit ef25ba6fefb016951e164e9a82aa2f8e8b1fe8c0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 13 14:43:16 2011 +0100

    Bump SDK version.

commit 9cf2292f2d5fd93f90b5303156e8528fd402312c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 13 14:10:32 2011 +0100

    Do not use fixed base address in Release. Really.

commit 854152e71b8bcdb47f020ec4d04a8ae22d17eab9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 13 02:55:03 2011 +0100

    Make retry timers a bit more aggressive.

commit ecc97c296e995dc94c6d52cca859352fd9944031
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 13 02:44:57 2011 +0100

    Wait for existing agent to unload before injecting a new one, and throw breakpoint if LoadLibrary fails.

commit 053a7246fe22de327b1ebf15c4df843828c94f2c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 13 00:54:41 2011 +0100

    Make it so Manager can be disposed before Session is closed.

commit 96e590d6589cc01194f12b7ce72b50e211f2d016
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 12 19:45:37 2011 +0100

    Chance ownership semantics once again.

commit 5b5ccec5f108daab26bc6db89c17b504a3b395c6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 12 18:17:47 2011 +0100

    Implement proper cleanup of SessionManager and Session.

commit 00e108dc1f8a87d9b55932b085f9b490918f3931
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 12 15:56:06 2011 +0100

    Revert unfinished code that wasn't meant to be part of previous commit.

commit 031d18fc3c56b8dd271e54d5b3b1287eaf0b8db3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 12 15:44:55 2011 +0100

    Clean up the conditional jump API mess, and add support for near JCCs.

commit 243a3e17bbf58e4ed8a3181efb71cb968b0f35c1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 11 19:37:52 2011 +0100

    Fix warnings reported by MSVC/x64.

commit 664e5211d34ce345853840750c117fa0a0a031c7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 10 20:02:13 2011 +0100

    Cover new GLog support in CLR binding.

commit 8bfa4ba50d3877f88ce40f24ab17db00c64e5a07
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 10 20:01:51 2011 +0100

    ï»¿Add basic support for intercepting GLog.

commit 0697c2470df2b0c3558134f8d56ed1c55d211eb7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 10 16:06:57 2011 +0100

    Add prototype CLR binding.

commit 214e58c79b9e0eb008a8483b50e433a89ed818eb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 10 16:06:32 2011 +0100

    ï»¿Add GMainContext watchdog for debugging misbehaving applications.

commit e76111c803d35f1dc441a3e77df7079c496f41df
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 6 01:32:01 2011 +0100

    Don't drink and code.

commit 69811d8d7eb249c1999e9a2862fa67fc5bf2c113
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 6 00:04:40 2011 +0100

    Fix a couple of stupid bugs.

commit 4f81a40596167ef0ef5de6b651270bdb2cf9b5e2
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Sat Feb 5 18:42:26 2011 +0100

    Enable AgentTests on all platforms (incl. Android).

commit 9d55b6228ea621f2565a79055d6f28d63c96c572
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Sat Feb 5 18:30:15 2011 +0100

    Update android check target and add check-gdb target.

commit ade7ee4db31b3306bb98984627925fb3d128b055
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Sat Feb 5 18:26:51 2011 +0100

    Include pthread.h in linjector-glue.c.

commit f6c519101b7c8ca8b7df844fca5a2988f7be8802
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 5 18:20:07 2011 +0100

    Do injection in two steps, to ensure pthread library is loaded before step two.

commit 29260347555b5e15f39909ea1f8fa35888afe99a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 5 02:46:01 2011 +0100

    Basic injection almost there.

commit 2e61edda04e887f898afc10a36d64801ac11e047
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 4 19:08:35 2011 +0100

    Start fleshing out Android/ARM support in Linjector.
    
    Based on patch by: Haakon Sporsheim <haakon.sporsheim@gmail.com>

commit cf82e7b94a48f195db96c55bdcaed937f920747d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 4 18:15:55 2011 +0100

    Fix a minor case of inconsistent style.

commit 541accb2456baec73190235c238ded4905ad8931
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 4 04:53:21 2011 +0100

    Add early prototype of Linjector.

commit 58b30f22bb215ba6b05baa402835ea8da8d5c059
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 3 20:50:59 2011 +0100

    Clean up OS ifdefs and disable scan-module-for-code-pattern on non-Windows.

commit 379dc63fe7f73cce2af78023bdc1797c003d71ec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 3 20:26:10 2011 +0100

    Make a copy of connection list as it might change while we're iterating over it.

commit a61a4c3f866735ba64eadf720b9b4bafbc36200f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 3 20:11:56 2011 +0100

    Rename FruityServer to AgentServer.

commit dde011438893c15290c487cf68245674043f694e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 3 20:07:29 2011 +0100

    Schedule timeout on the right MainContext.

commit fec2bd810b9ef174ba96f677b4b323c9dacb8dae
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 3 19:53:39 2011 +0100

    Set SYSTEM_LIBRARY on Linux, and look for zed-agent in-tree also.

commit bc1321a48cbbf2675ff6824e9a786f01f51efd35
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 3 19:52:48 2011 +0100

    Fix LD and clean up GCC/binutils environment variables.

commit 22bf6688f44dd24cfbf6ad563a35ccd2e4fb3b2a
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Feb 2 04:19:16 2011 +0100

    Make sure Zed tests run on Android.

commit 4a122f68d801d61fccc31d6a05e95554bc3ea88b
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Feb 2 04:15:25 2011 +0100

    Support building Zed and running Zed tests for Android.

commit 41f2050edc41d14ee99a0fc9dead4c71148232cc
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Feb 2 04:10:32 2011 +0100

    Add Linux backend for Zed.System.

commit 3dbea3f909310419f69cb0a75db8e8d9b1d7ed45
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 2 01:51:54 2011 +0100

    Add missing file.

commit 324c664d9cc5eeafe817405f41c9bad6b83160c4
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Feb 2 01:19:47 2011 +0100

    Improve Android build environment.

commit f6d77ec088fda4e91e7b2a4a3ca977d59db34058
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 2 00:41:33 2011 +0100

    Fix Windows regressions.

commit d70afa977bc31ed19fb85f838ccd37dd631129de
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 1 23:59:15 2011 +0100

    Migrate remainder of server code, build tests on UNIX and make first batch pass on iOS.

commit d56b184052ec2aa6cf1e3b3f51678ea5015e18ab
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 1 17:26:10 2011 +0100

    Move most of zed-server into DarwinHostSession, preparing for Android support.

commit b9d85e08bec949eb9e8c2e9cb10783eb12a820cd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 28 22:47:42 2011 +0100

    Use the current MainContext and not the default one.

commit 137f7c06cf182eb0a908b0e57ad11883a747b76b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 28 03:45:09 2011 +0100

    Implement a fake attach_to() which involves zed-core.

commit e080e5c7e493067cc89d2a64b6aceeafeabcd25a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 26 13:14:45 2011 +0100

    Update zed-agent to new Interceptor API.

commit cb57c0b62c187e8e61ecfbfe19cf950eb2ec719a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 24 14:32:50 2011 +0100

    Rename cloudspy to cloud-spy.

commit 5af3444290653a61b7acc39f8f149ae117a84e53
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 23 23:04:19 2011 +0100

    Add basic boilerplate for cloudspy.

commit e97c5e030e73f5595852e90a5fa76626eef148d5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 23 02:22:48 2011 +0100

    Move members of Zed.Service namespace to Zed namespace.

commit 9ed6d97146ffe18ccca1dd79bc75aa729b31dca0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 23 02:22:12 2011 +0100

    Add missing file.

commit 8ffeba696c2a4c3885f54b7c2f5f912916f6c758
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 23 00:40:22 2011 +0100

    Add placeholder for pyfrida, and move HostSessionService backend registration into a convenience constructor.

commit 4a550b390d47e11e00e0e6632c4b764d54b15f4a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 22 17:58:24 2011 +0100

    Split UI bits out into zed-ui so zed-core can be used standalone.

commit b9828e51a97e0ac7cd3ac2c4e8d4ae2d06dce8b5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 22 16:25:19 2011 +0100

    Output symbols file.

commit 1f6a6f239c2350b1a0e1a11652d3aec064e9c22c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 22 04:42:29 2011 +0100

    Support attaching script to an array of functions, like in a vtable.

commit b9284291d3e1cc3a841ab050fdfc5825c425adc7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 20:47:36 2011 +0100

    Fix Frida gitorious URL.

commit 8a1e59eae216de19a7ab26f7bf89f848979201cd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 20:46:24 2011 +0100

    Add gtk-quartz-engine to sdk-osx module set.

commit 76892b5ae06f961b760de155b8cb9f6651823c64
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 20:26:21 2011 +0100

    Disable Clutter/Mx on non-Windows for now.

commit a20ea52fabf6d03ca7ac8fb098344c0431eccc8a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 19:51:30 2011 +0100

    Fix resource generation in autotools build system.

commit 89e96a1577fc150ad9a59939ef4a824d81202cfe
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 19:25:32 2011 +0100

    Add libgee to sdk-osx module set.

commit a6550701db72eff01a7685601eccefdb0bdc88e5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 19:19:34 2011 +0100

    Fix PKG_CONFIG / PKG_CONFIG_PATH regressions.

commit 41bb1c225b3c445e52cfd6febdc1aea66ca78957
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 19:03:31 2011 +0100

    Add mx to sdk-osx module set.

commit 49b62d191da94483e29b60c14fffc9ff86338fd6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 18:30:31 2011 +0100

    Add wocky to sdk-osx module set.

commit f228791f667a98968d4986570074b9fa840de8b7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 18:19:01 2011 +0100

    Remove fontconfig and freetype, and switch to Release mode.

commit c4a302059748de241495ffe0f8100ad97c518df1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 13:20:28 2011 +0100

    Add support for entering a minimalistic environment for JHBuild purposes.

commit 106a5725bba0432948556e2c84260468873b2ef0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 13:19:37 2011 +0100

    Enable proxy-libintl when building GLib.

commit 3271f48653098baa4c9b57c82743765e5ff23ac6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 03:01:02 2011 +0100

    Fix PSL1GHT search paths.

commit a33883f36ea9e2dfbd4bd50fbccab9c2c79e1bbd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 01:44:55 2011 +0100

    Add build system support for PS3, refactor and introduce Linux toolchain.

commit 121e30181c74c019f35af6aeb21d95a3ec60a723
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 01:43:49 2011 +0100

    This script requires bash.

commit 2a0cf102cc787b5155779cc7913de2e331bf6303
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 19 14:22:18 2011 +0100

    Add clutter and clutter-gtk to sdk-osx jhbuild module set.

commit 6bd6d6ccb0c0491fca009d61e3e6c3e4bf48cdff
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Jan 19 00:22:48 2011 +0100

    Tweak compiler flags and add targets for Android remote debugging.

commit 3151b4d2d4aa7e89b6bfe2ebe30f7fc58551306e
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Jan 18 19:03:16 2011 +0100

    Hack around static libbfd requiring zlib on Android.

commit 3b31b67b2b26558f3d77d2d6f3c68a67e9964b40
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Jan 18 18:28:42 2011 +0100

    Also add FRIDA_PREFIX's include dir to search path for GLib.

commit da51e310e28849edfd0c41602a5e2d0555120657
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Jan 18 18:28:17 2011 +0100

    Add SDK search paths for Android.

commit eacc7afd00281759d4205f70a543dd098ced688e
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Jan 18 17:39:09 2011 +0100

    Only enable maintainer mode for libgum and zed.

commit cb1958793a42826d54ce803b25f7d79c0dba84fd
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Jan 18 17:27:42 2011 +0100

    Bump toolchain version and enable SDK for Android.

commit 6652dfaf2bb46d24c0c34980ef3fb7a83e7a6612
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Jan 18 17:08:17 2011 +0100

    Add preliminary Android support to build system.

commit a4e407d8806f0695848cdb46491815ab406e35d6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 13 20:08:05 2011 +0100

    Bump bootstrap module versions.

commit c7d63b32fad6d0a333aa45159d68221adcea9066
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Jan 12 20:17:30 2011 +0100

    Start adding Android cross-compilation support.

commit 242f4283ebc06bcc56744c428a456c2e5a018372
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 7 23:29:18 2011 +0100

    Add size trimming flags to Linux environment.

commit ba3ebc326a972cb651deebdf33c0b455a366955d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jan 4 23:09:13 2011 +0100

    Don't override LANG env var.

commit 96bee5d33e5e3793a1f3b219edebd28706bdf72a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 29 19:40:42 2010 +0100

    Add encode command for encoding text and integers.

commit 2f88e4b335faacb5ae0326b29494255bf59d7f36
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 29 19:08:49 2010 +0100

    Improve scan usage message.

commit f3515389586f3cb57dac1d22c62f3b4d4bac188f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 29 18:32:44 2010 +0100

    Support new memory scanning now available in zed-agent.

commit ebce160a5c2234db95bbfa0a00e26e82174eded6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 29 02:54:47 2010 +0100

    Fix memory scanning so it doesn't match the match tokens themselves.

commit 9a3265fb5b816cc9f270cbf141e564b5a0813349
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 29 02:01:57 2010 +0100

    Add scan_memory_for_pattern() to AgentSession and implement in zed-agent.

commit 5db4aff2f479ee061c79697d9e6846cc4b399a2d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Dec 27 19:15:49 2010 +0100

    Clear newstyle bit in pthread_self so pthread_exit() does the right thing. All zed-server tests green.

commit 658d2f1911c393a50fd69cd367c7666df4bc419f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Dec 27 19:08:45 2010 +0100

    Improve deploy and check targets.
    
    - Delete old files so metadata gets replaced.
    - Handle remote paths with embedded whitespace.

commit 47af6324708ca33bb54e7c39a0be34fdbd35dbfc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 25 18:49:05 2010 +0100

    Fruitjector almost back in a working state.

commit 81e37aa361d3d4ac59d09cd3df4b204be73c1aad
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Dec 24 17:45:30 2010 +0100

    Start reworking Fruitjector trampoline code to do proper pthread setup.

commit 8867ffe845c991c388ca1b88432e43f137b167b0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Dec 23 18:50:24 2010 +0100

    Bring Fruity backend back in business.
    
    For some odd reason, the port number in the PropertyList XML needs to be
    byteswapped. This is most likely a bug in Apple's implementation.

commit d88ec715698d8e12698e522961b054eb88fc4b34
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Dec 23 02:19:29 2010 +0100

    Clear history iterator whenever a new entry is added.

commit d0437745ce51938a1721fd0f9f14f8e5d7c57123
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Dec 23 01:35:42 2010 +0100

    Hide entire chat frame when it isn't possible to chat.

commit 659272ff6dd26fae74466126a974079597948110
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Dec 23 01:23:58 2010 +0100

    Fix console entry auto-focus.

commit 92f908736a7950903486e4f75f966df23f8f7030
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Dec 23 01:17:11 2010 +0100

    Implement console command history.

commit 9427f276aaa8b210ff5af7c80e43dfb918aff95d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 22 23:48:00 2010 +0100

    Extend hex dump to also include ASCII printable characters.

commit d12ea1a9e4cfe0f8c73a6b4d2a16a81afe275ac4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 22 22:49:15 2010 +0100

    Execute script on_leave() as well, now that it makes sense.

commit e3f29cd90adc82cd506876bc116ace303426e35d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 22 17:38:41 2010 +0100

    Fix test regression caused by Script syntax change.

commit 388a39263a04fa58b9213af30850d27200982fc3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 21 03:12:11 2010 +0100

    Fix warning.

commit 58b1318c0adb068cd8de6bb3d35e4079f52c4b34
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 21 02:48:50 2010 +0100

    Memory monitor is only available on Windows for now.

commit 19669c7db7d6ae380a966351f1983c1bb99e2179
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Dec 20 20:56:10 2010 +0100

    Update Darwin/iOS build system.
    
    - Bump iOS SDK version to 4.2
    - Set minimum iOS version to 4.0
    - Bump OS X toolchain version to get libtool -no-undefined support for Darwin
    - Add -no-undefined to LDFLAGS

commit 57618b2d6ae03b6a1f8df33c65a6310d65513e0e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Dec 20 20:33:48 2010 +0100

    Rename IPHONE to IOS.

commit 43d59dbe9c1622ef6197e63c90bd647eefa38997
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Dec 20 20:22:22 2010 +0100

    Add support for new usbmuxd protocol, and add timeout sources to the appropriate MainContext.

commit 895ac42276ade70efdfe4498a89a93f05f83ad07
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Dec 20 20:21:38 2010 +0100

    Attach TimeoutSource to the thread's default MainContext.

commit d939552ee8ab30f8bce452a88c2a7249586464f7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Dec 20 20:21:14 2010 +0100

    Attach TimeoutSource to the thread's default MainContext.

commit 8c4eb0360165b1c34c37f6750f4d702caa88f7c0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Dec 20 20:20:42 2010 +0100

    Attach TimeoutSource to the thread's default MainContext.

commit f09ca9293dc4f6655241e825d2dde3eb0a99372c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Dec 19 20:52:00 2010 +0100

    Support insertion of values into PropertyList, and also serializing it to XML.

commit 69f26dbb0c67923646140d528b8fcb7093606245
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 18 21:13:32 2010 +0100

    Refactor Fruity backend into multiple files.

commit ac2629b022d2e43e320079e8096b37eb4caff7a5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 18 18:19:32 2010 +0100

    Support constructing PropertyList from XML containing nested lists.

commit 0d839e2165f4983ea8297cfd94fda2ab995516fd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 18 15:52:48 2010 +0100

    Add missing dependency on zed-agent-{32,64}.

commit ebcb2d2e3507cefbec4699fd96ae39fc8a3b9161
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 15 02:09:52 2010 +0100

    Implement basic PropertyList which supports construction from XML.

commit f1f969b2a88a42b3abc81310e408bc4d85d04602
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 8 00:20:48 2010 +0100

    Add write command for patching live memory.

commit c86694488e9f1e3cf817e9e2d0a83b687f171cec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Dec 5 04:08:15 2010 +0100

    Only show reads from new readers, include address being read and improve output a bit.

commit 1bb4efe491d9ef960d04ebde07896cc7de5b743b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Dec 5 03:18:24 2010 +0100

    Implement module memory read monitoring in agent by using Gum's MemoryAccessMonitor.

commit 06fa66dc1d64fa7609d941889ba092e4d17ddf8f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 4 20:19:12 2010 +0100

    Add skeleton and dummy implementation of monitor feature.

commit a994c22e92e224180fb5942e7879d0023ab0454d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 4 00:22:17 2010 +0100

    Add clear command.

commit c31f8d15c1d94ae0df662ca30781cd16c2383aec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 4 00:14:32 2010 +0100

    Fix hex dump spacing so the padding is at the right spot.

commit ca430cb35fe65c374a9b2a115eedbb601cdd6bb2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Dec 3 23:12:32 2010 +0100

    Add scan command which uses AgentSession.scan_module_for_code_pattern().

commit 564e12699f97148fb1f9b5e0b81f13079c9dbca7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Dec 3 22:18:32 2010 +0100

    Rename and finish implementation of AgentSession.scan_module_for_code_pattern().

commit 4b233ad47894fa8bba261b3a3d8921510d6e35e9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Dec 3 19:36:40 2010 +0100

    Remove Vala GDBus bug workaround which is no longer needed.

commit fb72618c89e303f72bac237da8025549d4f65270
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 1 23:53:00 2010 +0100

    Add failing test and early sketch of implementation of memory scanning support.

commit 0bcba22b67e2d2a73e67ce60c11b077efd7f75c9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 1 12:33:58 2010 +0100

    Add basic C++ bindings for GUM.

commit e569abd0f56effd0db4b7fc026c0a553a04cbba7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Nov 25 01:28:27 2010 +0100

    Complete pending requests on protocol error and sudden disconnect.

commit ca85ac1e8217357a914d440225c82fae61684cdb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Nov 17 22:13:39 2010 +0100

    Remove debug printouts.

commit faec990b510d8c37255b0f96ad23e825df58a81d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Nov 17 21:48:59 2010 +0100

    Beat module set a bit further into shape.

commit 9aa896b74735c3dbd22d7c4a39c8e4e03a2e903a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Nov 5 18:48:30 2010 +0100

    Bump iOS SDK requirement to 4.1 and refer to correct version of Vala compiler.

commit 855c4321e17fe7b5c1c6a5351679d343e81d6ed6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 30 17:22:02 2010 +0200

    Trim module set and bump versions of misc modules.

commit 01071c58b27b740685d2b00c28e4371a8b5e9dec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 30 17:01:21 2010 +0200

    Rename and add boilerplate modules file from gtk-osx.

commit a1338e05840ab019c2f1f84e7a03e51609c66f85
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 30 16:57:57 2010 +0200

    Add jhbuildrc from gtk-osx.

commit 1b46853cff40b71d11626b4d4d7f89ebd661e40d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 30 15:30:48 2010 +0200

    Bump OS X toolchain version.

commit d26ef38fb3c619c326bc238e6b40dc71191d4dd4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 30 13:23:26 2010 +0200

    Add more basic structure to HexView.

commit 6ae9d07312031ac391ce22b4a4b2f1998e975116
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 24 22:10:53 2010 +0200

    HexView: Draw using background color from css

commit 4575a9a3b44a6c7905b9d2c83c0309bc4c46e46a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 23 15:03:37 2010 +0200

    Add test infrastructure for HexView widget.

commit 2585c8851b985b7423db33884821d1c780c4da7f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 21 17:01:33 2010 +0200

    Support redirecting raw script output to a folder.

commit b5061287368f9e1488400e1f5f67fc94e203b5db
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Oct 18 23:53:45 2010 +0200

    Bump Windows toolchain/SDK version.

commit 549e923f72df7770c69cb837b116ced17ee252b8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Oct 18 02:28:56 2010 +0200

    Extend resource compiler and use it to load image resources for Mx.ResourceProvider.

commit 7ff66ab12ee79c436bed6a1e79cc123b7c0d1121
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 17 15:53:50 2010 +0200

    Move ResourceProvider implementation to an internal class to avoid vapi dependency on Mx.

commit 34e78a93b4be98bb91b49c993e1b9616a0e2f518
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 14 01:25:48 2010 +0200

    Start integrating Mx default style using ResourceProvider patch to load from memory.

commit 956b2f4d145bd88a4aefb20d844a02663766ef16
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 14 01:24:07 2010 +0200

    Add missing includes.

commit 113aa14e21cac77fa1265fe4c1e6ca34ef37888c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 12 02:07:40 2010 +0200

    Apply a couple of ClutterBehaviours to the button.

commit d483e2c40e073da7a28cb44d57ff8095ff4f1024
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 12 01:01:32 2010 +0200

    Plug in Clutter, ClutterGtk, Mx and MxGtk. Also split up resource generation to shorten manual test cycle.

commit 2cd2dd9dd5e03ffb6c6c4a9f06775930c44a365c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Oct 11 23:14:11 2010 +0200

    Only overwrite .h and .vapi if the new content is different.

commit b26ed79f72256ba49e8be102f3d79c4112bd4ce6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 9 23:28:37 2010 +0200

    Add Tcp backend last so it ends up at the end of the list. Should rather sort by type, but leaving that for later.

commit a93eeab6a4394dbe8a0b256827d86e4b5b3e9d4c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 9 23:27:47 2010 +0200

    Add new Tcp backend to Windows build system.

commit 50f7765f60a4b1fad0bb57e8cd36390f6e1715c2
Author: Johann Prieur <johann.prieur@gmail.com>
Date:   Sat Oct 9 22:30:44 2010 +0200

    Add Local TCP backend, and fix some minor UI issues.

commit 1f60bd79e6b6436d6dc641805d7afae9aea8e303
Author: Johann Prieur <johann.prieur@gmail.com>
Date:   Sat Oct 9 17:31:37 2010 +0200

    Fix linking the Zed client on Linux.

commit ac090d06cd1aa02be8618ea5c73beb75257c30c6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 9 16:47:20 2010 +0200

    Fix build-ios script.

commit eaf1f32d2a82e4f643e087b5b507e7d3ba7b10e3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 9 16:38:19 2010 +0200

    Serialize UI and image data like we do on Windows.

commit b1e975850a4b415f6174ee5e42da00910e46a2ea
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 9 16:37:24 2010 +0200

    Support building SDK for any target.

commit 5a9c2c9a7704aee43ba8aed66a357ef48e2286ce
Author: Johann Prieur <johann.prieur@gmail.com>
Date:   Sat Oct 9 13:36:35 2010 +0200

    Build the zed/tools/resource-compiler program on Linux.

commit c81b051dbea2588a15eb05fcfb75cb9262cc1bcd
Author: Johann Prieur <johann.prieur@gmail.com>
Date:   Fri Oct 8 17:38:13 2010 +0200

    Add a config.vapi to bind config.h when building Zed on Linux.

commit 4b90748b084a085009a6c6af31a9ec5bc914ae2e
Author: Johann Prieur <johann.prieur@gmail.com>
Date:   Fri Oct 8 17:34:57 2010 +0200

    Build the Zed client with the required Vala packages (Linux build system).

commit 8e55831b7be79060ef6090ef6ade66f2c630a645
Author: Johann Prieur <johann.prieur@gmail.com>
Date:   Fri Oct 8 17:29:18 2010 +0200

    Set the required glib version to 2.26.0.
    
    GDBus got introduced in gio 2.26.

commit 0e741a2b36479d3de86b30920eea88f7daa8a3e9
Author: Johann Prieur <johann.prieur@gmail.com>
Date:   Thu Oct 7 23:56:49 2010 +0200

    Start porting to Linux.

commit 3caaa7875aae64f819b69f8bf707636dad6a4c99
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 7 02:20:23 2010 +0200

    Fix build-ios script.

commit 7ea5bbf6d8685c10dbfd381e421dd63ed2b3816e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 7 02:15:07 2010 +0200

    Fix UNIX build system and refactor quite a bit.

commit 73862e2a6037214fbb8e5d385e5b332dda22f9c7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 7 01:25:37 2010 +0200

    Make sure we only signal provider_unavailable() if we ever signalled provider_available() for a given provider.

commit 1f3f938582ceef21de9c3b1274e14ad282f7bfb9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 7 01:18:30 2010 +0200

    Update UI when an Agent disappears behind our back, and clean up agent session state properly.

commit 372e57cb0beaab537021637a47c93665ab37f93c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Oct 6 23:21:30 2010 +0200

    WinAgent is dead, long live Agent. One agent to rule them all! \o/

commit 8345bd9dc80ac2b2639375baf916549fb73eff79
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 23:20:34 2010 +0200

    Fix regression caused by switching to GetProcessImageFileName() and forgetting to convert to logical DOS path.

commit 40d2d3df220bcf7c1bd0178ef93781cf9c4e8c27
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 22:08:50 2010 +0200

    And remove an invalid and redundant option.

commit 32b7360f043c6d2a44775eb162910fd09c14388e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 22:06:48 2010 +0200

    Fix Optimization setting for Release.

commit 7a63006bc37b09dbb25fdba8587e431a30d0db24
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 22:04:18 2010 +0200

    Cache md5sums of modules.

commit 89a8887edc4706b4eee386cd9eda52dbf053999c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 21:51:21 2010 +0200

    Typo.

commit cd8c061d204a7b5a9b20927c32ba7f580908f87a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 21:50:43 2010 +0200

    Skip Fruity backend test unless tests are run in slow mode.

commit a2ef9f4dd2d2d9972c6328d9d41a67a209985a61
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 21:44:18 2010 +0200

    Disable warnings on generated code, remove most of the suppressions, and fix all warnings.

commit 2d60dd397f1d032ec03786a7252ce1023fb2567d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 17:49:20 2010 +0200

    Remove all warning suppressions and tune project files a bit.

commit aacc2fb14bc7a0c53840749bf00fb4e532ff79cf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 17:47:49 2010 +0200

    Support Windows XP too, was only using two Vista-and-newer calls anyway.

commit cc53d5317acaa9f1e2b374cd2fefc9375faff8b5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 16:57:46 2010 +0200

    Update additional dependencies of resource target.

commit c580ded38aed9cc1a14d4e21394720431df2bb66
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 16:51:05 2010 +0200

    Fix crash on exit, where the view might just have been destroyed.

commit 3237751b622f78f45c4fbf748b1f73e6cc887687
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 16:44:43 2010 +0200

    Bump unload wait to 100 ms. Need to find a real solution here at some point.

commit 16f3f7d02607ed343d4c6798e3b364519763f82e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 16:40:31 2010 +0200

    Improve shutdown somewhat, reducing the chances of leaving temporary files behind.

commit 691e4b01a2966f408d6f3d70af5a902133a2474a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 15:52:03 2010 +0200

    Make it so WinjectorHelper's Manager process shuts down itself and its children if its connection to parent (the Winjector/UI) gets dropped, for example if the UI crashes.

commit 068a8bedda2adf43b2fe2de158a82b8841a75484
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 15:36:35 2010 +0200

    Unload WinAgent if remote peer vanishes.

commit a9118578a642d9a27579ba0b9e3c1b4ad81a42cc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 15:05:39 2010 +0200

    Emit closed signal when closed or the other end of a WinIpc.Proxy disappears.

commit 6ce1d1c836e57a4f40cc661f87fae4b91bf3a75f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 15:02:39 2010 +0200

    Bump SDK version.

commit 3dc8d6a735c21a773c52aa939544b0c1bf754fef
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 14:18:43 2010 +0200

    Tweak agent LDFLAGS, primarily to only export zed_agent_main.

commit f754a54dc5ce1af0df65a193b9533ea17a03723a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 13:53:24 2010 +0200

    Bump toolchain version.

commit 67dd4b0987cac0deb1765cd27b5a0f1b25249f01
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 03:37:39 2010 +0200

    Minor refactoring.

commit c9fadd15f096588ad79f3d4eed1a228e4204521e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 03:36:10 2010 +0200

    Clean up state when GDBusConnection is closed.

commit 02d6f2f687370fde3581b872b1cd2be36c54dcaa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 03:27:11 2010 +0200

    Unload agent when the last connection is closed.

commit 0625112ae9ca164d94629cbfe62675b35390a5b4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 02:22:24 2010 +0200

    Deallocate payload memory in remote process when agent gets unloaded.

commit cad055d22f0557502c325da9ddc9908fbf50043e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 02:03:56 2010 +0200

    Bump iOS SDK version.

commit 13893edb3c81c0ddb6967b14ae02cfcb23144986
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 02:03:46 2010 +0200

    Automate iOS SDK packaging.

commit 5adc7e032f8772dac15552537ba2ad80f2fbf8e1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 01:32:15 2010 +0200

    Fix UNIX build system.

commit afbe5dfa8fd8bff1e594bfa02b3d3e390b8bf564
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 2 23:06:52 2010 +0200

    Rewrite winjector's thread trampoline code to use GumX86Writer, fix register clobbering and passing wrong pointer to VirtualFree.

commit 82f2d4a80c4980267dc151abf6d3449a7b118c87
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 2 15:02:24 2010 +0200

    Bump SDK version.

commit 129269d66886adcf489eecca7cba657ae1c98454
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 2 04:48:00 2010 +0200

    Add functionality test for WinAgent and ensure init/deinit ordering.

commit dbbb21560e82106e1ba1eb3743144e77bfebea12
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 2 04:06:03 2010 +0200

    Fix all remaining heap and object leaks so all zed tests are 100% leak free.

commit 0ccc56d1030d7969745cd881ade9a8382bc8b53f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 1 22:08:33 2010 +0200

    Closing in on zero leaks for agent tests.

commit 6fdeddb0dcef52f291dece2e419eef449f58ad02
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 1 01:28:26 2010 +0200

    Improve Agent init/deinit, both implementation and tests.

commit e7cc25c2135042c3bf69fa93de6152e9a4551a27
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 27 20:59:43 2010 +0200

    Fix a couple of typos.

commit afa77c43cfd833718671a169d319169ef3dafc07
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 27 20:59:37 2010 +0200

    Update libgee git URL.

commit cc9c4f40a6f677cc451914199f04ece4670bf697
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 27 04:16:15 2010 +0200

    Fix Agent module/function query regressions.

commit 23b4abcdf201808a5e78626cae976d11a892ba33
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 27 03:57:26 2010 +0200

    Bump Windows SDK version.

commit 0c26261853448d6695995cbfd5d0ea0880147d2b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 27 03:52:15 2010 +0200

    Update iOS code to build with latest Vala compiler.

commit 6195500aced6288cf1d1d00aa9b699002ec99c5c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 27 03:45:30 2010 +0200

    Update OS X toolchain and iOS SDK.

commit 80aa5a18b9ace5a996e36376c432cd8bf929de9e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 27 03:45:06 2010 +0200

    Update SDK build script.

commit b57aeecd3eb2479352e9db62b79c0092bf741983
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 27 01:20:11 2010 +0200

    Keep trying to get Fruity device metadata as it may take some time.

commit 64e61167399cf062787a7079342278f05b4b83f9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 27 01:08:16 2010 +0200

    Improve teardown in WinAgent.

commit b5ba9ff02e79bc3b6559f4cac02e70fc063950cd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 27 01:00:49 2010 +0200

    Fix lifetime issues.

commit d04da66dd7e6c55053c9d2f567374d891ef9e9cd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 26 21:47:53 2010 +0200

    Deinitialize Gum.

commit 67656fb478545dc5036ecb4a65ca143aeebd99c4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 26 21:28:12 2010 +0200

    Improve teardown.

commit d54e0c466c986cb2434e3a1a2616e1638fbedd5e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 26 16:58:21 2010 +0200

    Make it so Agent test passes with 0 object leaks.

commit d0322ee30583d6b6ddbd63e15f32839673b4026f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 26 04:02:54 2010 +0200

    Fix compilation with Vala 0.10.0.

commit 225643158d6f9cf02dfbbab87bb2f342c0552a4d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 25 15:55:21 2010 +0200

    Add first black box test for Agent.

commit e617386f12624fb4278a05e6b69e387717af7d95
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 25 14:40:21 2010 +0200

    Build the iOS agent on Windows, so it can be easily tested with tools available there. The longer term plan is to migrate to using the same agent on Windows as well.

commit 6be270c755b7c51cfae194296d48992dc296f533
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 25 13:34:57 2010 +0200

    Throw an error if gum_memory_read fails.

commit d62c164b4ca98e1a0af7148f04f23b6887baed55
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 25 02:01:05 2010 +0200

    Ensure that script messages are marshalled to the correct thread.

commit 70a53c9b29a783a2d82a820acf5fb2c9856cabd8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 25 01:45:32 2010 +0200

    Tell Interceptor to ignore our Agent's code.

commit 7430952ceaaef1b0b13284691bdf91ed4b3a673e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 25 01:28:00 2010 +0200

    Implement read_memory() in iOS agent.

commit 70c3b83ceda6a8cf4de57e92fc50b8935c40df1d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 24 23:42:02 2010 +0200

    Early beginnings of iOS ScriptEngine.

commit f22f15c1e7e837d2e38dea83446e0193ac0956c1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 22 20:44:09 2010 +0200

    Change prefix from /Developer/Frida to /Library/Frida to avoid conflicts with Xcode.

commit 55b41c9af725c0855ef94657d0d9c0c2cc991d12
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 11 15:43:08 2010 +0200

    Start moving target functions out into a separate shared library on UNIX. This is in order to isolate target function code to separate pages for platforms where RWX protection is unavailable.

commit 31f8f862e2e7f84894d8a654ab5f373b1a1f31e2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 10 02:52:04 2010 +0200

    Add temporary workaround for Vala GDBus empty list marshalling bug that's probably fixed by now.

commit 980f9b34b069004950354916444f8fbb875ceadc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Sep 9 18:55:11 2010 +0200

    Bump SDK version.

commit cf57f704afe68ba40428bbe00311a392fd03eee4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 7 01:21:33 2010 +0200

    Finally display provider icons in the UI! \o/

commit 3b3764d3b9b6aee32e7e6729947b5944de8fac92
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 7 01:08:09 2010 +0200

    Factor Pixbuf creation and lifetime management out into ImageFactory.

commit efb0e2a02c3ad18179f1c147900a4182b7da84b1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 7 01:07:19 2010 +0200

    Fix warnings.

commit 44781e4c71e76fa0a0eef10c2e9ae625ab93774e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 7 00:52:00 2010 +0200

    Finally provide an icon in the Windows backend as well.

commit 9ea66f5b72dce8f7bda801f80ced2e2e7dfdb3be
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 6 23:30:24 2010 +0200

    Fruity test finally green again, now with user-defined device name and icon.

commit 536c3d6329a89e4929c56f77cd557b0cd0a9902e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 6 02:41:30 2010 +0200

    UDID is now used to find the location, which will be used to find the image device which holds the interesting metadata.

commit 6fdfd5fa90b3e2294218f3bcb371562db38f9409
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 5 23:32:23 2010 +0200

    USB device enumeration mostly implemented.

commit 029bf7390caee906068bc557337912bc49491efb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 3 18:51:47 2010 +0200

    Bring iOS code up to date with the recent API changes.

commit 655a560a07c24c624a13809e670d5c47e1842005
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 3 00:14:56 2010 +0200

    Extract UDID and pass it to glue function which will extract its icon. Work in progress.

commit 1dbac33f968b634c057ba4adc223a55da9f576c9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 1 16:01:22 2010 +0200

    Add failing test for provider icon and refactor a bit.

commit c0d5bf546c363f3f6a3171b6ce2f94cc507a0dd8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 31 01:07:27 2010 +0200

    Get application names from SpringBoard and refactor a bit.

commit c572e05ea02214e11991b363a883bc894a91e535
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 31 00:35:01 2010 +0200

    Sort processes by icon, name and pid.

commit d92c426ed688537b44afd3a73ea5fb1cf103c8ec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 30 23:58:51 2010 +0200

    Speed up subsequence process enumerations by caching icons.

commit c408411d5cc2bfbc173cb188918ada33fc8c1077
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 30 23:24:04 2010 +0200

    Make icon check a bit stricter.

commit 54429d34ba250c4c6aa77e8e6388ec88e72212fa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 30 22:49:38 2010 +0200

    Implement remaining bits of icon extraction.

commit 0fb3b15488d86fa4a4c0ec2567263e03845f37b6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 30 17:48:43 2010 +0200

    Add failing test for process enumeration with icons, and beginnings of implementation.

commit 53bf10d602785a15fe6c1991868b422096e5551d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 30 14:08:51 2010 +0200

    Use a more descriptive constant when setting pc.

commit f103514e6d86c4ad0a07d288353d0725b36597dc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 30 13:02:27 2010 +0200

    Make exit code deterministic.

commit 3d8247f06826f5cd23f1f5f245170a4110cbfa05
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 30 12:18:02 2010 +0200

    Add script for automating ios build.

commit 2173aac0c452e103624b5e516c2226d0fe9643cd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 30 12:06:10 2010 +0200

    Automatically download and deploy toolchain and SDK.

commit 9fcb3880b1dc1be0686befa0da2651af1c8fea4d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 23:41:01 2010 +0200

    Remove debug printout.

commit c23daf4d3512c238a6bbd3afb3f1116ea3405dc2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 23:40:46 2010 +0200

    Initialize Gum.

commit 041f0a6add193386cf33106fc0719b6d031b9bde
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 23:38:24 2010 +0200

    Be a bit less aggressive when trying to connect and recreate client between each try.

commit f9e44191cd00efac6b5e0749ae316f2b5c60a4d0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 19:43:51 2010 +0200

    Remove debug print.

commit 039a9ae87e04218185ac17733f0bece6e7761c4e
Merge: 8b504b9c 58339513
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 19:41:27 2010 +0200

    Merge.

commit 8b504b9cf67491ccf162cd2e4a91a39982d8d8bf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 19:40:56 2010 +0200

    Implement query_modules and query_module_functions by using Gum.

commit 58339513b29fbce036d5169a89cfa9c0e0d85ff8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 19:37:27 2010 +0200

    Only set winsock function as default if there is a winsock module in the list.

commit a8af016d06a6b61813e5fe33015a68d16d785445
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 19:09:47 2010 +0200

    Add gum-1.0 to list of dependencies.

commit 28d275e77c2314f3447fe363f31d4ee07c227186
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 19:09:15 2010 +0200

    Add FRIDA_PREFIX's vapi dir to vapi include path.

commit c1ba066767db2997fc7625d73e0e089bc0fdcf74
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 18:49:28 2010 +0200

    Rename iphone to ios.

commit a403393bc580a3fa96aa0d09adee50becd2d376c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 18:42:34 2010 +0200

    Update GUM vapi references to point to gum-1.0.

commit 01868e8bf507cb40c6234db27ad1611292759f23
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 18:17:41 2010 +0200

    Introduce pkg-config, install vapi and improve build system.

commit 07c5ee9f90d5640640933e94e76e793d8aeff334
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 04:58:29 2010 +0200

    Implement obtain_agent_session() in Fruity backend.

commit d04bebbda39768240e5389538ef26030940b4fe8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 04:57:41 2010 +0200

    Initialize type system on load, tweak close behaviour and remove debug.

commit bbda9abbfe32b8f3a8aa2dc03a61bf7f9cf4ad1a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 04:25:44 2010 +0200

    More agent skeleton in place.

commit 77ffc5a7511fea5184b8ef1dc0404e75b17fbd48
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 04:07:41 2010 +0200

    Move zed-interfaces into a separate convenience library and build agent so it actually dlopens correctly.

commit 17a26c2f270b35a9c265ec3d31bc5eacdd92f396
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 02:56:27 2010 +0200

    Add agent boilerplate and tweak build system.

commit 9ec35f17f6f4bce10efa424b1b3d4f31b625581e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 02:33:42 2010 +0200

    Fruitjector support for data string, lifetime tracking and improved cleanup.

commit c0dcc397de7b6de86724be03cc786b0f84b2830c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 28 05:01:12 2010 +0200

    Remotely run tests as part of 'make check'.

commit 914ee35fe9b89b4e2baab6f08e2e4a107c414d2c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 28 04:56:11 2010 +0200

    Remove debug cruft.

commit 368d5b7f94fe464ceebbea2787c2a24b9539f1e8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 28 04:50:28 2010 +0200

    First Fruitjector test green! \o/

commit 59350e6e99ed519fec077d470a92beedb17983d1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 27 23:23:32 2010 +0200

    Most of Fruitjector's payload code generation in place.

commit a26bae0a13117d8cb54b3665e9301db0e7ab04de
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 27 02:21:59 2010 +0200

    Prototype of remote code execution is working.

commit 118f177d4ea92601241891c4636188ae97035c01
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 26 22:27:28 2010 +0200

    Fruitjector now crashes the target process.

commit e045894527dc5328fdc6a6f98affe26874e40b72
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 26 14:26:19 2010 +0200

    Test infrastructure mostly in place.

commit 23d8758956e7c704e86eca3cc399deb63c5855fd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 26 01:59:08 2010 +0200

    Implement process spawn and wait.

commit e944c446bf72cc3ca6a35c39f8da70355249458c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 25 21:40:41 2010 +0200

    Early beginnings of zid test infrastructure and Fruitjector.

commit 71de57a49f494cabc2b61a8fdf2669919c91e72f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 25 19:55:56 2010 +0200

    Do automatic code-signing, and add 'deploy' target.

commit 73c2d4f39e90ed2f3c920e25dd1fa74ea479a24b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 24 18:46:56 2010 +0200

    Add toolchain's vapidir to default vapidir path.

commit 6e6e135f4aefadbf987b83d1a6e1e15704debb26
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 24 15:28:50 2010 +0200

    Build system WIP.

commit aadb425b9e593a90147e9519c7a3cbdbe460fc64
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 23 17:22:27 2010 +0200

    Work in progress fixup script.

commit ca9b231965d3f95c5ef770fd1557915a4e9954d3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 23 17:08:43 2010 +0200

    Start moving towards generic build infrastructure on UNIX.

commit 3583f1aa08a07dd23c16622affa4e827fcd46789
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 22 19:48:25 2010 +0200

    And finally the last piece of the puzzle -- instance tracker is back!

commit 634617afa91e415aaf5c2bf49e330bbc3c39a732
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 22 19:24:46 2010 +0200

    Finally bring back memory dumping and disassembly.

commit 53dcbfda61b6c20534557982c8c3622999c8b648
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 22 19:06:27 2010 +0200

    Revert accidental change.

commit 9631ed09a9840ab1d90e13444edc9c118eb5dfec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 22 19:00:02 2010 +0200

    Bring stalker feature back to life.

commit 4c65621978f5c3d0a7e0e6861eca0a97ca233503
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 20 13:52:13 2010 +0200

    Fix subtle race condition in WinIpc.

commit 29bc88de70b5dc147d9107a2d9bcb861d8d47c3b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 20 13:36:24 2010 +0200

    Tweak root hpaned default position.

commit c35bd32f8fcd18225104d642003d641724641bf1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 20 13:32:53 2010 +0200

    Tweak not yet implemented message.

commit 59cf98bcdf0f1ce16855d0b749436bbb4dc0873f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 20 13:07:29 2010 +0200

    Bump SDK version.

commit 0c8be79999bc4bedbfb3a77852b900670746f8cc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 20 11:48:03 2010 +0200

    Add dummy implementation of attach_to which just kills the process in question.

commit 1e8fbbda476da4ab047d95c95f90a8327fe5a7be
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 20 01:04:24 2010 +0200

    Bring script message back to life.

commit 5e90a44e862a308edf91594c680e6bdd7b80e169
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 20 00:52:16 2010 +0200

    Bring back proper cleanup.

commit 51fa1f549af81d27014e789087b92311eb7bcd33
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 20 00:30:38 2010 +0200

    Bring Script functionality back to life.

commit 79ffc5529c4be3d8ab6acacafde23289d830fa5c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 20 00:15:36 2010 +0200

    Bring module enumeration back to life.

commit a64f726b512250108321905538f726bd89000dc4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 23:23:28 2010 +0200

    Start moving stuff into Windows backend.

commit 998ba0563969ded7aeb700d05ac7e0660b44065a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 19:58:24 2010 +0200

    Auto-refresh process selector.

commit 6e932f5dcd87e1fb3f76b811e332f5d054546213
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 19:31:51 2010 +0200

    Adjust focus chain and rename a bit.

commit ce66cdd9b2a4e1150ca4b6ab3b5350426c5c37ce
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 18:51:53 2010 +0200

    Get rid of ProcessList, move ProcessInfo and rename add button.

commit c65993e4c88731e163c06179b64896fb1623b2cb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 15:37:44 2010 +0200

    Always show session scroll window.

commit d746d320e5f42ea0fc96be0b8c0df04838547ed0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 15:34:00 2010 +0200

    May get double add/remove, so handle that silently.

commit ec6033f04819498248c7c7144ed8cdc173f2b224
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 15:33:24 2010 +0200

    Update UI when the currently active provider is no longer available.

commit dbdf5d907d0699518f35ecbe72ce8b5504f92e59
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 15:18:19 2010 +0200

    Tweak root hpaned position.

commit 9f3f067bd724ab98320ab16981310accb41392d4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 15:14:18 2010 +0200

    Clear entry text when switching session.

commit c2c710dfac2a9dfea527561637605911227665dd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 15:09:14 2010 +0200

    Update zid-server to new API.

commit 4ba57bbbae6fe358335b1d8b6dbd0d9beef140f5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 14:44:12 2010 +0200

    Report error when failing to activate provider, and fall back to previous.

commit 44075ae77c86c088918e05a1bedd6f5cc58cbabc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 13:47:39 2010 +0200

    Update with pid when making a selection.

commit 48ea16eaf8a4e1eec4abde3376d94832133ccb63
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 13:03:41 2010 +0200

    Don't do anything if new session is the same.

commit e1f0767321017f5811093464da9a297fcc11ecda
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 18 23:02:16 2010 +0200

    Bring icons back and make ProcessSelector show things properly.

commit 88d23e325ada94421dc923864d84cbd6a7082b08
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 18 19:59:11 2010 +0200

    Remove escaping of newlines as it confuses MSBuild and leads to unnecessary rebuilds.

commit c3fe8669e31a6265685e0e31804f61e6312d2f6c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 17 23:10:34 2010 +0200

    Further integration work in progress.

commit 08eaace138730c09d4db370532da03822a8d85cb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 13 20:55:13 2010 +0200

    Bump SDK version to get fix for GdkPixbuf's GDI+ loader.

commit 15213b188bcdf2e75d3c95dc9bbbfc571cbac1f6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 13 20:53:19 2010 +0200

    Introducing ProcessSelector, work in progress on moving towards new architecture.

commit 2ddb284d36d62136856762e07a7de9927a2c88d1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 13 18:09:31 2010 +0200

    Remove response_id property from login.ui, not supported by our old version of GTK+.

commit e1cf8265e7fe938f2d6231a599805d3062d56049
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 13 12:59:54 2010 +0200

    Finish integrating resource compiler.

commit b121a09b49d22e6e321b63a70f90989e01fb6682
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 13 03:56:31 2010 +0200

    Work in progress on doing proper resource integration.

commit bb0f9cc7499443d08e651fa98816621945ac1154
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 13 00:26:19 2010 +0200

    Add first image resource.

commit bae0e60183bf5f17b42a443bf10b1a2fdd0f8941
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 21:59:02 2010 +0200

    Bump SDK version.

commit d745b1365fdab42ed702ab897861c4c65a868b8d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 21:58:30 2010 +0200

    Revert accidental project file change.

commit 23fabecbc8aed2887293866a9fa51cbb10e9740c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 21:50:49 2010 +0200

    A few steps closer on integration.

commit cca5223b62e530c3bf7f5111c399da807a8a2f62
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 21:21:16 2010 +0200

    Auto-attach to local provider implemented.

commit 2a25dc5321f1f37e396429481bcf208011e09396
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 20:35:36 2010 +0200

    Oops, make sure the code actually compiles before committing.

commit ed871d08edda49be944d2399f4ac3cf668071192
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 18:32:34 2010 +0200

    Work in progress on HostSessionService integration.

commit f845715a21ac3071e460dbb6f38897a45f5429e8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 17:37:24 2010 +0200

    Refactor and prepare for UI integration of HostSessionService.

commit 50e119cec08d91e92e719aebf5c0caa58cbdbc14
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 15:34:13 2010 +0200

    Fix Windows backend regression.

commit a63bbe58a258410d91d7852b0f43ca5dadd92ff3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 15:29:35 2010 +0200

    Make Fruity test print processes.

commit 0e254c7fa0abbe48b80ec21257f14ecf80e4b047
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 15:27:57 2010 +0200

    zid-server now implements HostSession interface.

commit b94b76dbd9677a8fc74e2c73f5d24c98925451ac
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 14:11:20 2010 +0200

    Move IPC types into lib/interfaces.

commit ec8d682df6faaa9b08d9d4a08fcb4d7b698c8905
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 01:52:30 2010 +0200

    Hook up Fruity backend to DBus and actually make a function call across the wire.

commit 3be637fcea407f055dcde65cc68a1d1206fdf06d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 01:19:13 2010 +0200

    Fix Fruity.Client so it's actually able to establish a TCP connection.

commit 9832836fefb49592c0f0f1c23f989cdd42ed5f10
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 11 23:10:53 2010 +0200

    Improve feedback when attaching script.

commit af6ec77e54f9199f356d02522de41c10eb186236
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 11 23:10:33 2010 +0200

    Explicitly shutdown ScriptEngine to break any cyclic references.

commit 8edd63da891bceb885470f93022bf8f81fc5b996
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 11 18:57:56 2010 +0200

    Use different ResourceStore for normal and elevated factories to avoid IPC clash, and improve cleanup.

commit 95deb099940c251c5238b6ee7134f597b33097c0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 11 18:56:10 2010 +0200

    Adjust dummy name for unknown processes.

commit 273643033feb4bb7ac9fcdaa89f310e6f2f5c902
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 11 18:55:33 2010 +0200

    Connect request's port is a short.

commit acf1d4ccd4787b0c74e7174b57b7826093143a13
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 11 12:20:49 2010 +0200

    Bump SDK version.

commit 0789d2ba3cfb7efd11fe41dadadc89ee675f3fc8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 10 18:35:08 2010 +0200

    Work in progress on FruityHost support.

commit aec607b1f2f82266b939cc3917b12cdcc6335bc0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 10 00:29:32 2010 +0200

    Fruity implementation is getting there.

commit d4b1cec0efc509a88de6cec5907fb7bd59ea07fc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 9 20:03:47 2010 +0200

    HostSession* is shaping up, Windows backend in progress.

commit 9d1376983bfbef934ac46324096f0089d6894c2a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 9 00:23:58 2010 +0200

    Boilerplate for HostSession{Factory,Provider} infrastructure.

commit 7f8f1e98db3f7792056d504061f52788f3d36947
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 7 12:51:27 2010 +0200

    Bump SDK.

commit 12af156590cd09b1b05a8e741f4f62f24d197b42
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 7 02:02:37 2010 +0200

    Invoke dummy method on iPhone server. It actually works! \o/

commit 5ae554e4610dbedfb730a5de6106be6348a91f6f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 7 00:02:03 2010 +0200

    Add temporary hack to make it possible to interactively establish a D-Bus connection to zid-server on the iPhone (over TCP).

commit 63ee9ad0b553337f8f0cb671407aa81c10d5fed6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 6 23:05:42 2010 +0200

    Update SDK and port async glue code to new Vala API.

commit 0d9988d164a7047d201799b500d400e0ce881eda
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 6 19:47:21 2010 +0200

    Get some D-Bus boilerplate in place.

commit a61b61fe60eca2c55bcb49469dbf727d5f2bb7d0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 6 16:07:06 2010 +0200

    iPhone hello world.

commit 50408fec2f6c048f112a4b2082279e9349f4da86
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 4 18:40:37 2010 +0200

    Add beginnings of iPhone build infrastructure.

commit 8009659c10e9f86b0d4db41862d86697f7ee5e5f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 3 15:41:06 2010 +0200

    Add GUM to list of packages, useful while debugging.

commit 9d0d89898a78201bfdd2e06b1018cf0362465679
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 3 15:40:15 2010 +0200

    Fix two heap corruptions and IntelliSense warnings.

commit 109743c14ff10e2fa3c0f85fc3f09c1902666fac
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 3 02:13:54 2010 +0200

    Implement important feature request from MikeS.

commit 199018df0bc2b0b0ca7c6ba3bc3d93747046a60b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 3 01:23:17 2010 +0200

    Instance tracking implemented.

commit 77ab10cf800421dd7487e9e292f835d247d4c334
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 2 21:43:53 2010 +0200

    Work in progress on MemoryTracker.

commit 0e77e2418cd489f7b34b83d8a5c24e7ceb59abe2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 1 15:30:48 2010 +0200

    Move GUM's vapi to where it belongs, and hook up GUM in zed-tests.

commit 97fab797f2d7e3e894c3b639d99df3240752d6e4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jul 28 23:10:23 2010 +0200

    Fix x64 build and one warning.

commit 99552a637a16ed89d5f915695c90e6c435fad7f7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jul 28 23:05:14 2010 +0200

    Start reviving Profiler, and refactor quite a bit while at it.

commit ad2c445ffc6d518162908fb8f437a3dd66e80e3e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 27 18:35:04 2010 +0200

    Bring AllocationTracker and AllocatorProbe back to life.

commit f46e0bca2ec194a9c58cc90e3a6a85a39e3e3e44
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 25 23:46:08 2010 +0200

    Use VC_EXTRALEAN all over the place.

commit ecfaaf6d88491dd974e61cba7478fe8ea697f7d0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jul 23 22:21:28 2010 +0200

    Gum.Script now ported to 64 bit! \o/

commit d2ee5817171db15ccbe46b54a8f14b8fb2c63c23
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 22 02:29:01 2010 +0200

    Refactor GumInvocationListener and Interceptor tests.

commit 40b6d91f06cb920be454348b770b1c961d11f517
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jul 7 00:42:25 2010 +0200

    Fix race condition where response is received just before we've queued a handler.

commit fae940c4e5cca3a243036b3549e45c4e97dd908d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jul 7 00:39:39 2010 +0200

    Change 'secret' navigation hotkeys to avoid function keys, as they're a bit annoying to use on some systems.

commit 3137cda7c7e18973b19d84375c4a04548464d4c6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jul 7 00:37:16 2010 +0200

    Add some debug code to winagent, disabled by default.

commit 5707b72561ee52901ae957822545a56ae594e873
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jul 7 00:36:02 2010 +0200

    Bump SDK version.

commit 3da37614c5a5b39f3d499743ab492ae60c8b90c6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jun 18 02:39:55 2010 +0200

    Enable word-char wrapping on console.

commit bc081c6c317c7f765ef7ad37ebf1605dae77c39e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jun 18 02:37:11 2010 +0200

    Show messages from scripts in console UI.

commit de861c2066e81a19f5af56046a9a0b29887e0c4a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jun 17 19:57:01 2010 +0200

    Report script address and size to help debug scripts.

commit 433f79f40b678217f382e1b755a9acca28710425
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jun 17 01:51:33 2010 +0200

    Add failing test for Gum.Script, and refactor a bit.

commit 2f72abe5d0c0367204bc6b9788f6ea09997ff57f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jun 17 01:29:00 2010 +0200

    Implement all of the Agent-side Gum.Script housekeeping and use fake implementation of Gum.Script.

commit 8abb4d05fd66a89c1f46cf7ac01d23be81e6cb80
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 23:47:07 2010 +0200

    Add attach and detach script commands and refactor a bit.

commit 0ab0d8f6cfc6d36e982adbf5ae66ebb44f85d71b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 23:46:49 2010 +0200

    Suppress another warning for now.

commit ddd6b1d8cb2d7d359cdda83df40b931b32243c9a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 19:05:43 2010 +0200

    Tell udis86 about the PC so we get higher quality disassembly output.

commit 2a3944ce9bf4c2e01aeb4a510f717909651c9e14
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 18:51:15 2010 +0200

    Make console input text in white.

commit 85b476983690a3aefef06cc3c9edbe834d0f97ad
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 18:36:51 2010 +0200

    Add dasm command for disassembling code in live memory.

commit 215d45d4b65db92dcd69c98fd99e7988a758838c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 17:03:16 2010 +0200

    Sync modules after injecting, and only flush to disk after 5 seconds without any changes.

commit 098bd783c1ad8ecd62c1b0ba393d677d3658f2eb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 16:37:12 2010 +0200

    Extract memory region spec argument list parsing and refactor a bit.

commit 50156baea56842dbfde37fc8cbb3ec3decf012a6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 15:14:02 2010 +0200

    Implement memory dumping and improve console UI.

commit e4f80f64632e5c2e0862e9b99837e23427ea42a3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 13:33:07 2010 +0200

    Console input improvements. Beginnings of a dump command.

commit 4b85b8b19875c33606fe65123b224d0170c77d9b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 13:32:28 2010 +0200

    Ignore a couple of extra warnings for now.

commit 9b39cec58d105d59ff39904a47930859bee22788
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 11:59:52 2010 +0200

    Style the console view and entry, and add API to easily write to console.

commit 8d9cedf20bac1b9826116d25cd03733abe9c94ac
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 11:11:37 2010 +0200

    Add Console tab which will be used for debugging and advanced tricks.

commit 34406d7a83198186cbcc32cdd0749d93de11cf18
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 10:26:06 2010 +0200

    Add renaming support to the UI.

commit 8e252b7139452131448f41e2260ffd3e82482f45
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 00:28:56 2010 +0200

    Render FunctionCall objects and fix call location offset calculation.

commit 93de7ced91deecf859f7e92e6faa02e5e73e2b90
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jun 15 23:50:57 2010 +0200

    Add an assert to ensure proper ordering.

commit a85a2e30b73c603ca906c4dee1ee73c5a3252221
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jun 15 23:50:42 2010 +0200

    Fix some bugs in the processing code.

commit 74dcb18e60805fc8a05728c2fef868eda798ff31
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jun 15 23:25:08 2010 +0200

    Continue integration of CodeService, and evolve it a bit further.

commit 2fddaa2e48bc76ecf6dcdae2d8477d10d73443e7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jun 15 22:49:50 2010 +0200

    Support dynamic functions (functions not belonging to any module).

commit 9db981ed328bafa794741d36dcfc909903319558
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jun 15 21:57:28 2010 +0200

    Start integrating CodeService.

commit ff7a63b5cab48085af0e4928b7264b8fe450a86b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jun 15 17:48:54 2010 +0200

    First CodeService tests green.

commit b6c4afedf05c6db6132121e432b6f7b084b6436b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jun 15 14:07:04 2010 +0200

    Remove CRs from vala source code.

commit 9d671a41f00a068031c67783534e6919ffca8ff6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jun 15 13:21:14 2010 +0200

    Introduce StorageBackend, use it in Configuration and start prototyping CodeService.

commit 6c293133b78b752f4a35b9d1c313820f8feea6d1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jun 14 20:40:06 2010 +0200

    Add unfinished test for sudden disconnect.

commit 14c53ae645199601b9921cf7b0862856742d15da
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jun 14 20:29:57 2010 +0200

    Simplify Agent's module and function query implementation by using GVariant directly.

commit e44984d4edc631dfd4b0f29302f5936560b6e82f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jun 14 20:02:53 2010 +0200

    Show session view immediately, don't wait for injection to finish.

commit 5dd8e4d916b947d367ec8170b535e5c69ace9248
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jun 14 19:58:01 2010 +0200

    Fix a bunch of warnings and update suppressions.

commit d7f58d8ecc06708092f0c476a0cc1ac4aca03577
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jun 14 03:23:16 2010 +0200

    Display clues in UI and end investigation properly.

commit 4d669d3af08e5ad2480601306b5be6e23c4f7037
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jun 14 02:54:09 2010 +0200

    Investigator is getting there.

commit 15fa49387ffd942d32f7665b9efb6e520afc65e4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jun 14 01:24:58 2010 +0200

    Remove auto-steal of focus in Chat UI.

commit a547605f12949d2020ecac815111c41b1090365c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jun 14 01:22:00 2010 +0200

    Start with a default module and function in FunctionSelector.

commit 3d0844cba40863d05fae4fe5ff14105bf6709e54
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jun 14 00:53:07 2010 +0200

    Yield when closing each session in Presenter.Spy.close().

commit 19b978c0101d21afefd5cfec08db1f2b7c9ee1ed
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jun 14 00:51:03 2010 +0200

    Update filters.

commit da58835b5a1699cad122c7cd8bb1f11c80321d31
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jun 14 00:49:53 2010 +0200

    Make active session's entry bold and switch to first in list if it goes away.

commit a15ec9668f37f8142883668a948bfedfa8665ca5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 23:37:34 2010 +0200

    Change ProcessInfoLabel to use the app's large icon and move text to tooltip.

commit 0c3da69dfca386b4b6389d0effb99f932c1f3981
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 23:02:11 2010 +0200

    Set a default position on the HPaned between session list and session view.

commit 88665e7c17bfb05e17ce25132206bc00aea75522
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 22:57:42 2010 +0200

    Move ProcessList to Zed.Service namespace.

commit a14df0d7e55b8855b0a69f03967d612004a4a744
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 22:40:13 2010 +0200

    Improve UI and refactor a bit.

commit d64973a50387ea2a43691f556f2259a182e11065
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 19:06:28 2010 +0200

    Investigator should only attach once when start and stop trigger functions are the same.

commit 0d89b65e3883d9ffedd71260e2e5d19e1fe82808
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 05:04:24 2010 +0200

    Moving towards Investigator.

commit 8d54bbd45a14b949ffefeaf812aadaad50e70f37
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 03:15:21 2010 +0200

    Only enable Go button when start and stop details have been provided.

commit a519bdb98e9cd7b23df205239675ae3f03e1b7c5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 02:35:51 2010 +0200

    Revert accidental change to project file.

commit b175efb2a7d7600e5c372fde66de26a1f2f9bf52
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 02:35:14 2010 +0200

    Disable session actions when not injected.

commit bcafc69ec2f7500c3c179ab749b175366d26d2f4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 02:23:30 2010 +0200

    Add missing vala source files.

commit 104ce9f13041977543ff37c042e6071c6c10e0da
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 02:23:23 2010 +0200

    Fetch functions when a module is selected.

commit 550e237758bc925e56baf02cda0623ea8e431df7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 02:21:58 2010 +0200

    Bump pipe buffer size to 1 MB for now.

commit d52942151f501a3ebbe144b5d2245df9a46e8ffb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 01:48:21 2010 +0200

    Fetch list of modules from target process.

commit 2e8df17dfa7ca23ebd52909aab21dd291db226d3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 01:47:39 2010 +0200

    Use GPtrArray instead of GArray.

commit c47e4334126f38e1d9815a67e8b382e187311da0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 01:02:45 2010 +0200

    Add some more meat to the session view.

commit a761f8afedf987363f683f76ed91114922836c95
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 12 19:27:12 2010 +0200

    Refactor Spy presenter and view a bit, preparing for the next step.

commit 1556f1b825c03c7bdc4d62463d42add551aa8397
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 12 19:03:13 2010 +0200

    Replace AgentSession's pid member with a ProcessInfo object, and show icon and name in session view.

commit ab284ad7e169ab2de0b14c3ea1d41293d5eca6bc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 12 18:09:45 2010 +0200

    Add icons to process ID completion list and schedule update on focus-in.

commit 5dc3fca512836ff4543a02c985f6cf13d6d97049
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 12 01:37:46 2010 +0200

    Implement completion of process IDs, refactor and handle terminating a session.

commit ca13e6f1fa6e5728b10c582978df7daa766844cc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 12 01:36:43 2010 +0200

    Define VC_EXTRALEN before including windows.h.

commit b8f947e5528245dad66bf6b2d98ee1730ca8fbda
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 6 14:58:01 2010 +0200

    Switch to new SDK which adds Clutter and Clutter-Gtk.

commit 4ccd10f9e70832a069ef2d28fcea78497ac87f49
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 6 14:47:39 2010 +0200

    Bump capacity to half a million calls and add overflow assert.

commit 0e5bd148c9896bc468d090fa6f83838361df1b36
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 6 14:47:06 2010 +0200

    Don't disable g_assert() in Release.

commit 01ba4a2d4d38c585930aa091c16494bdf45dfba0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 6 01:52:30 2010 +0200

    Support DLL injection with the traditional CreateRemoteThread approach, and default to that for now.

commit 67d4a2bea60324c5ba173df9f5e5e95519343c29
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 5 22:31:25 2010 +0200

    Send Call location and target across to the UI and tweak a bit.

commit 178b62c860591abeae43b0b40654a36c2929b83c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 5 21:54:03 2010 +0200

    Stuff a dummy event at the end.

commit 6da396adef9aa7828e74d18c49578bfcb40da1d6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 5 03:35:50 2010 +0200

    Stalker kicks ass, seems to no longer lose track of the stalked thread, hence we can now unfollow() it! \o/

commit 0bcf1b04175cef92c46af1bccf81a3813ffcfeb3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 2 00:45:58 2010 +0200

    Fix resolving of function name by fixing silly lifetime bug.

commit 95431fcf88089255f91af9414585a46de344193f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jun 1 03:31:33 2010 +0200

    Make FuncTracer a bit more useful.

commit 19f0e56dd87922d07b9d75edd0b9569872cd2389
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 31 02:55:00 2010 +0200

    Bind remaining event types.

commit d6f707d0081b2d45feecbbe2e2db33a933a587e7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 31 01:55:35 2010 +0200

    Don't unfollow for now. Need to figure out why we lose track of the thread.

commit dcd71f7026ab7386e363ac1ee4a70f88305e6624
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 31 01:54:53 2010 +0200

    Add number of functions as first element for now, as we truncate it currently.

commit a1c039e7529005f4ee380ab41a30278f373c4b59
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 31 01:53:57 2010 +0200

    Fix signature of FuncEvent.

commit 4ba98ae602ae8c5466239ce5a2f82826e512e1e3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 30 18:40:40 2010 +0200

    Do bounds-check before writing out of bounds.

commit 3fd45e818848cd43a849b0432239c65c07fcd1ea
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 29 02:06:38 2010 +0200

    Start prototyping function tracer which stalks each thread between two first calls to a given function.

commit dd77123df3bf95b8267126dadddeda1565f42186
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 29 01:59:27 2010 +0200

    Leave WinIpc.Proxy arbitrary blob size support for later.

commit 6d2194bc06bdad7377619dac3096fddfc5ac8c69
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 28 20:28:30 2010 +0200

    Closing in on arbitrarily sized blob support.

commit c680270f423129b3d5d7ed5bb01f314819f17a19
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 25 22:34:19 2010 +0200

    Start moving WinIpc.Proxy towards arbitrarily sized blobs.

commit 3e2fc0bd5ae03ae10513973a8aa62d0f02b43a75
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 20 00:49:01 2010 +0200

    Add failing test for WinIpc Proxy notify with huge payload.

commit 6dff49ebf4aab936fa030e8e709a3939f61aea06
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 18 19:06:12 2010 +0200

    More GstTracer basics.

commit fac344f92d4681fd57ea6ffcc4a26051e55e069d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 17 22:18:08 2010 +0200

    Improve error-reporting in case of unsupported signature. Move to Gum later.

commit 4307a780e5d83a68c9da78c96605c0576611ecbd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 17 03:17:36 2010 +0200

    Start prototyping a live GStreamer tracer.

commit e0fb6269aa98ab1eebf0e53ff6370f050109f416
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 17 01:06:28 2010 +0200

    Switch remaining files to UNIX line endings for consistency.

commit c5545811c92125afa81728648b233ba371d31da6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 17 00:58:25 2010 +0200

    Add project files for Gum, reorganize and fix some warnings.

commit 9cf1935075540a123001f60ec1e7830d064a637f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 9 23:37:52 2010 +0200

    Send fake FunctionCall events from agent every 1500 ms and show in GUI.

commit e84dafc2a27c2ab4b1fa3ba669e56c6364a4b97b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 9 23:24:20 2010 +0200

    Don't assume that all entries have Proxy objects.

commit fa2db1d33a772e882ed5af90d3142cd3de91deef
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 9 23:16:51 2010 +0200

    Stop agents and do proper teardown of Winjector on exit.

commit 9c5570504d6a6b9900836ef7a88355e6b9968d58
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 9 02:54:46 2010 +0200

    Add prototype UI and boilerplate for agent to be used for spying on processes.

commit 0199582c290bb5e430aef8d483a302cbd2cb651c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 9 01:17:16 2010 +0200

    Make Winjector take care of file storage for injected agents.

commit 37353158c072f266eaa8df9249697a6fe47fb635
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 9 01:14:08 2010 +0200

    Tweak post-build serialization step.

commit 7f11bcfc83156fa067c27d0ed1a54f3a0345a332
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 9 01:12:57 2010 +0200

    Fix inconsistent line endings.

commit 774a7db1da0f06f85f04ddfef24936799442800b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 6 00:47:13 2010 +0200

    Change Winjector to take care of setting up an IPC proxy transparently.

commit 5bbcc99a0b87e111a7bb15ab6aa2ee3ac6daa843
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 6 00:45:59 2010 +0200

    Remove redundant element in Release props.

commit 1c61ea87bbdd447f25c81219bb89106cd7c77638
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 6 00:45:15 2010 +0200

    Make winattacker conform to the next Winjector API and refresh binaries.

commit 02d1d9ba6ad679610cf58394d96bad4576f17842
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 5 21:13:04 2010 +0200

    Upgrade labrats project files to VS2010.

commit dbe8a98c54383bf68758dba4abd2c68d1f52e7f4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 5 20:21:06 2010 +0200

    Winjector x64 test green!

commit addcdde99fb83a20734b596da98c96bfd02e6a7c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 29 01:23:18 2010 +0200

    Add failing Winjector test for x64, and partial implementation.

commit c61997397c7125e12f569cc4ee7994cdc291a9de
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 26 02:16:49 2010 +0200

    Winjector fix for unlikely process handle leak.

commit 9053df99c2e07819d4917bcb7050dd7247cbffd1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 26 02:11:33 2010 +0200

    Update warning suppressions.

commit e3f3838cf276cbccca1eda51ca5cd8315e53e66b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 26 02:04:59 2010 +0200

    Winjector should wait for helper process before trying to delete temporary files.

commit 1d22608331e6bc86a4aec3c8d52ad3e7c4334d59
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 26 01:24:59 2010 +0200

    Winjector should hide its helper's console window.

commit 7f4822bb5478a34f1f80ba807eea2620eccf3066
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 26 01:22:14 2010 +0200

    Winjector standalone (non-privileged) mode now implemented.

commit 4004aad12d302746da02bd2d589ebdf37512ed93
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 25 04:10:04 2010 +0200

    Winjector test green again! \o/
    
    Now using proper Windows services that allow injection into most processes, even in other sessions.
    
    Remaining TODO:
    - Finish standalone (non-privileged) mode.
    - Improve clean-up so we wait for the manager process to exit before deleting temporary files.
    - Add x64 injection handling to backend (winjector_process_inject).

commit d53c6d09eedff5d1232301fae41d55ff4e69185d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 24 17:26:19 2010 +0200

    WinjectorHelper getting closer.

commit 85a7bb92ab5f95cb3b50450f5ba4e6b1aaa8c1e3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 24 17:01:41 2010 +0200

    WinIpc.Proxy support for overlapping queries.

commit 3000e0b805786984eefc64fa571e4fa808482e9d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 24 16:18:12 2010 +0200

    WinIpc.Proxy support for async query handlers.

commit f4e89866a2f4a0920d9b71760679a09b9284ddd7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 24 14:20:00 2010 +0200

    WinIpc.ServerProxy support for custom pipe address.

commit 03b8d4d518cab93557a3e99f295f8a34bf21b39e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 24 02:02:46 2010 +0200

    Beginnings of Winjector managed service implementation.

commit 4469a6399e4b7b50862eed5b7459a407912ff45e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 23 20:11:51 2010 +0200

    Winjector service management mostly implemented.

commit 51e39d9d40dc370540b10c780b70c110a1624e10
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 23 16:22:11 2010 +0200

    Add more meat to WinjectorHelper.

commit 639415404ea5d695dfb275aa06899e56ceb45905
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 23 16:21:10 2010 +0200

    WinIpc.ServerProxy.establish() support for timeout.

commit bf16a81a766eb0a8efdb0f43de0cbb67d06fc852
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 20 23:04:07 2010 +0200

    Another take on WinjectorHelper. Work in progress.

commit 9d1b6c0a3186c06d2f301263dbc5bd0b04544632
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 18 20:02:16 2010 +0200

    Enable word wrapping for chat textview.

commit 8d82d5434aa147050f33d3cc8f8c3dc8888a1f4d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 18 19:21:14 2010 +0200

    Rename proxy-impl.c to proxy-backend.c and move a typedef where it belongs.

commit 1e596bb9d6d6f6c7689483abcb58a575e129fb7f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 18 19:05:17 2010 +0200

    WinIpc.Proxy support for unregistering query handlers.

commit f2e7237a994d1001102ccc904a0a6d7d70efb648
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 18 18:54:11 2010 +0200

    WinIpc.Proxy support for removing notify handlers.

commit 8d83fda3fd15b4e7e3a8c8da920e34d88f71f0d4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 18 18:37:38 2010 +0200

    WinIpc.Proxy support for notify with argument.

commit a0adb54d37443136293031b3233680bfdc9a2d63
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 18 17:32:32 2010 +0200

    Upgrade project files and SDK to VS2010.

commit 4fc95afb0f887e8d466ed010704f5de650e8faf3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 14 00:48:04 2010 +0200

    WinIpc.Proxy support for basic notify.

commit b5bb9005d9a5272ea918eca480ea0ca929b571c0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 13 02:21:31 2010 +0200

    WinIpc.Proxy support for empty query handler response and validation.

commit 496eacd5bae3a81a1a0e184509bd56830bd6c8da
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 13 01:31:37 2010 +0200

    WinIpc.Proxy support for query handler response validation.

commit e89dcd8104f00741d9502c2f8e54db7ee942d357
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 13 00:59:48 2010 +0200

    WinIpc.Proxy support for query handler argument validation.

commit d62aac11e740315f5a5d7cf4fdc98f93adf225de
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 12 22:21:54 2010 +0200

    WinIpc.Proxy support for query argument, and some refactoring.

commit d952fa147ce4a753093a2d4f48c67ad32bd64508
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 12 03:03:44 2010 +0200

    Refactor WinIpc.Proxy to use GVariant and an actual wire protocol.

commit ed97e828f322f2a36dc610d37b39071b1f120a40
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 11 01:51:00 2010 +0200

    Output zed-tests executable to intermediate directory instead of output directory.

commit 520e91ac289a48b911f283dede6caa1b5851f479
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 11 01:28:31 2010 +0200

    Update SDK URL to latest, which updates Vala to the latest and greatest.

commit 259217c740cfad0ff21c74fe925c6893372ea660
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 11 01:22:42 2010 +0200

    Fix C stubs so they compile warning-free with latest Vala.

commit 435abeb008c2d88fe4583414e6731896e9ad4911
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 11 01:21:59 2010 +0200

    Remove has_target hacks no longer needed, Ali fixed the underlying Vala bug.

commit fb91476fcd2fab62704170a9f33fab08038effc3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 11 01:20:20 2010 +0200

    Refactor tests and move WinIpc test sequences out of harness.

commit 1bb4f570e033b23f8b25b6a85faa9f99db82345f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 10 05:46:14 2010 +0200

    Query test green! \o/ Time for fixing the protocol -- GVariant here we come.

commit fc6d3601b8ee0de06ae1740b09114ea64821ed73
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 10 03:56:58 2010 +0200

    First WinIpc send/recv test. Work in progress.

commit 17a4d431dfc3e9c8d18b479d95a7692f837888e5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 9 22:56:04 2010 +0200

    Test coverage for ClientProxy error handling, and improvements to the actual handling.

commit 8655ef24287480716ca731a893768fef319dcf62
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 9 22:04:02 2010 +0200

    High-level logic at the top.

commit 83abc99a4c6e07a95c8e358aa2f04242fe2d3f34
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 9 21:42:04 2010 +0200

    Don't use the default GMainContext in WinIpc tests, for increased strictness.

commit f39a8a5acb9d91a11003941f8ff44644c4cbc6cd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 9 21:28:16 2010 +0200

    Refactor WinIpc tests to reduce duplication.

commit 012d66bad17c2885e568d15a8ab3d5a233a79579
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 9 21:03:56 2010 +0200

    Revert code that was supposed to have been reverted some time ago.

commit 493d19bce272c64524bd0288a741d7cc3e4f7569
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 9 21:00:22 2010 +0200

    Add beginnings of a simple Windows IPC library.

commit 442e75bfd007b2fb731134a8a6cb5d0dbf63fa44
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 9 00:05:12 2010 +0200

    Rename InputContext to InputHandler.

commit 34716a59d8640ca2afa658a99ecd585f7bd6f218
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 8 21:23:32 2010 +0200

    Adjust manifests so helpers are run as administrator.

commit 08a48890d4ebc9f2d9ccce49476194de9fb74ff9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 8 21:21:39 2010 +0200

    Disable ASLR and force fixed base for executables in order to reduce footprint.

commit ca0b70c0f125330ac7c0f94112c03aa1c79b5b29
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 8 21:05:47 2010 +0200

    Remove UPX compression in Release post-build for now, it should rather be in a deploy script.

commit 86ba2cfcd215c86bd4a3604ac84e1cbf21033039
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 8 21:05:21 2010 +0200

    Remove post-build step not supposed to be there.

commit 233e51f936f1d1aef91a24a9b7d2ad6b3ca7140c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 8 20:56:52 2010 +0200

    Remove some left-over cruft.

commit 97377fc511c245adbf8153ec3333a24beecea6b7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 8 20:53:17 2010 +0200

    First Winjector test green! \o/

commit 979e0b15c5416ce7190afdb918638c30ccac672f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 8 02:27:34 2010 +0200

    Fix inconsistent line-endings.

commit 7ee91a01ff24513928d92b76eb67115bed316fec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 8 02:03:28 2010 +0200

    Work in progress on Winjector, getting closer...

commit e3a73c93f1ecb34e1e2a9160dc51c2a696018db4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 3 06:53:49 2010 +0200

    Fix cancellation check.

commit 1a8f52caa4e45ce986b3e72891afa87479645190
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 3 06:49:52 2010 +0200

    Beginnings of DLL injector.

commit c7597ea773b0b0317d3f8fa086b8831a738cd1d7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 3 02:27:45 2010 +0200

    Remove redundant dependency.

commit 9742bdad90816b20c3da5cbaf765bf3c601fec19
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 3 02:24:11 2010 +0200

    Add first winjector test and a stub implementation.

commit 0060794dddf5e0263369a95588bb27abe65b4ab9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 2 07:29:07 2010 +0200

    Add boilerplate for labrats to be used by tests.

commit ed4a6b55b4ac86df45d05d226f87f8c096d861c4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 2 06:43:45 2010 +0200

    Add test infrastructure.

commit e0c5a0675c3bf3197d5872594dd8bdff21e36485
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 2 06:15:06 2010 +0200

    Refactor common build config into vsprops.

commit 4b141806baaa788d2092c1bcd1cb0a7e937874ae
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 1 23:36:15 2010 +0200

    Basic chat functionality working.

commit a28dd7fc291437bc3e32d6b467dd83619fccf204
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 1 07:06:31 2010 +0200

    Chat feature is getting closer.

commit 94694899f5563752cac90ad9efe19228dd185191
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 31 15:17:10 2010 +0200

    Bump SDK version.

commit d6a7dcec6749a4de981f287db5ed13c9f0e8414a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 31 14:29:14 2010 +0200

    Early beginnings of UI for chat.

commit 3c1dbbae8618df3fb595fc8209967e8def594357
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 30 04:12:03 2010 +0200

    Login UI usability improvements.

commit feeae7603923891ee0a70b6da07a8e0c213be182
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 30 03:54:30 2010 +0200

    Remember username and password.

commit 2517e515d09ddd3379eb9b9ae4ef5729547dfb42
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 30 00:23:02 2010 +0200

    Add boilerplate for workspace UI.

commit cf3976e210d7a0e2268b334e27d6d6bd1562ea67
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 29 21:40:47 2010 +0200

    Login UI interaction improvements and cleaner generated output.

commit 14d1cd66c6da79be0c0d951035bc9fd8c74aced5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 29 08:02:33 2010 +0200

    Minor cleanup in root UI.

commit 5a6f3e7a411677cfe749366d6c05f054e0facf93
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 29 06:56:51 2010 +0200

    Hook up Wocky and actually log in, but don't publish presence yet.

commit b8f71375d35d7279481e995bc3d0f087d5a9a603
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 29 03:19:21 2010 +0200

    UPX compress executable in Release builds.

commit 10eebaac1a28331bfa520bf4e52397439bf2b541
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 29 02:49:36 2010 +0200

    Rename kahlo to zed and add some meat.
======================: FILES :======================
======================: BRANCHES :======================
======================: LOGINFO :======================
commit be99168562af83c049926b2c4d206721cc2dc295
Author: Gbps <Gbps@users.noreply.github.com>
Date:   Fri May 1 20:36:01 2020 -0400

    Error message text refactor
    
    Co-authored-by: Ole André Vadla Ravnås <oleavr@gmail.com>

commit 486eb8238040057a9a970edfd5bdc34a3da1821b
Author: Gbps <Gbps@users.noreply.github.com>
Date:   Fri May 1 20:35:42 2020 -0400

    Spacing
    
    Co-authored-by: Ole André Vadla Ravnås <oleavr@gmail.com>

commit 3493de8488e857c69c871ebf7df29551bb10997c
Author: Gbps <Gbps@users.noreply.github.com>
Date:   Fri May 1 20:35:25 2020 -0400

    Spacing
    
    Co-authored-by: Ole André Vadla Ravnås <oleavr@gmail.com>

commit ea7cb85a1456850ddf69862889a620c327d79e8d
Author: Michael <gbps@ctf.re>
Date:   Fri May 1 20:23:38 2020 -0400

    Format as switch statement

commit 96aebbe726a6f198693d830ed95a4d568cec964a
Author: Michael <gbps@ctf.re>
Date:   Fri May 1 19:54:52 2020 -0400

    Relaxed post restriction LOADING state

commit ea252f38ab509723409f3d52a06dcf5ee2bced21
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 30 04:46:59 2020 +0200

    Rename Tcp backend to Socket
    
    As it's confusing given that it supports UNIX sockets.

commit 15c777ca7ea82ed89fc3422472dcebbad5581fb6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 30 04:05:10 2020 +0200

    Add frida.Error to the public vapi
    
    And move enum types to the bottom for improved readability.
    
    Fixes #298.

commit 085789c95e41437270c6c4e864d12f8c73a30d03
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 29 18:36:15 2020 +0200

    Consistently use HAVE_WINDOWS instead of G_OS_WIN32

commit 7aa41e65c0d1d539e48cbbb715c50e34b7d4c951
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 27 19:53:30 2020 +0200

    Skip cloak test on macOS/x86
    
    As Xcode's vmmap tool may not support 32-bit processes.

commit dfc72365473677b4d4b1710352ec5d8025377861
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 27 18:14:39 2020 +0200

    Disable b_asneeded for frida-helper on i/macOS
    
    As the linker eliminates Foundation even though it's actually needed.

commit bd7e2077bb846731a094a9665e81d5fbd123b8bd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 27 18:13:41 2020 +0200

    Always link agent and gadget with b_asneeded
    
    So any system libraries covered by the libc shim are eliminated.

commit 8b5a368bbd6df53c5c9ba13e1f8cd7ad232eb0ec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 25 09:23:37 2020 +0200

    Fix usage of deprecated BIND_LAZY constant

commit 9637197ff166e60060bfafd513ce90106bedaca1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 25 09:22:57 2020 +0200

    Fix remaining dynamic casts intended to be static

commit 0bbd1cceaed9df12c2d33a02b83566a4639ead1a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 25 09:03:14 2020 +0200

    Actually embed gumjs-inspector in frida-core.lib

commit c372666bcd344e029ac462b713376892d8e71aa2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 25 08:43:47 2020 +0200

    Update build system to use MACOS_CERTID like elsewhere

commit d3c0b7c17f8caaae26a074a963f83562bc985410
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 25 08:16:19 2020 +0200

    Embed gumjs-inspector in frida-core.lib

commit 7a7a449c43ae2954b28549e44c78fde9d6633368
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 25 07:30:07 2020 +0200

    Fix dynamic casts intended to be static

commit 82431a4503280e942bd49f010226e8632c252bb5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 25 03:01:17 2020 +0200

    Link frida-core with gumjs-inspector on Windows
    
    Which contains the InspectorServer that's been split out of GumJS. This
    way no C++ object files end up in frida-core.lib, which means frida-clr
    can target the dynamic C-runtime without the linker realizing that it's
    linking in static libraries that are targeting the static CRT.

commit 1f0081bd3d99927c47f6da3cf343669a4d65ceb4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 18:28:04 2020 +0000

    Use Meson's b_ndebug option to decide on checks

commit 72a9eaecd443221a562dfcf0112f880cc6a04b86
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Apr 23 00:06:45 2020 +0200

    Add four essential i/macOS syscalls to the libc shim (#307)
    
    Covering:
    - read()
    - write()
    - mmap()
    - munmap()

commit 99715484cd1ac0bda2092cf10eb83d5a496a44cb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 22 17:10:54 2020 +0000

    Fix the libc shim on newer GNU toolchains
    
    - Handle early calls to __cxa_atexit() as the .init function might
      call a libstdc++ constructor which in turn calls it.
    - Mark shim functions as internal to ensure they're not exported.
      GNU gold doesn't seem to honor the version script in all cases.

commit 747ca5fbb22adbe4abc9a94fabe39c6007ec2e5a
Author: Eloi Benoist-Vanderbeken <eloi.vanderbeken@gmail.com>
Date:   Wed Apr 22 11:38:48 2020 +0200

    Add the skip-library-validation entitlement to iOS executables (#309)
    
    To facilitate library injection in Frida processes.

commit 3a900ee4f0f64aa43157a1e6014abb51712a33c3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 21 03:28:59 2020 +0000

    Add memalign() to the libc shim

commit c6fb4ec1f4c1e6f2d373a9249f16925ac645824a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 21 03:27:02 2020 +0000

    Fix the libc shim on Linux
    
    Need to use -Bsymbolic in order to ensure our local definitions always
    take precedence.

commit 7b77988359c203d93452ada723a38dfd63df2be6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 19 01:21:59 2020 +0200

    Update remaining Windows bits to new GIO module names
    
    Fixes #306.

commit 42137d85e8870805cd90a67f75cb997aa04c8923
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 18 02:22:27 2020 +0200

    Fix compilation with older system headers on Linux

commit bfb342333d618107b29f2e9aab4a07d95bf8a871
Author: WorksButNotTested <62701594+WorksButNotTested@users.noreply.github.com>
Date:   Fri Apr 17 01:58:37 2020 +0100

    Fix variable names colliding with MUSL libc defines (#304)

commit b495e77a1d8bd8e24d37a3fbfbce8c6ebfbaa060
Author: Shane G <pachoo@gmail.com>
Date:   Fri Apr 10 04:47:10 2020 -0400

    Fix usbmux pairing record plist parsing (#302)
    
    Should not assume that the ReadPairRecord response is always XML.
    
    Fixes #301.

commit 0b3a3a9d879b92dc29c7edd114cc93968de3a6dc
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Wed Apr 8 09:38:01 2020 +0200

    Fix iOS jailed spawn() w/o closure on arm64e (#300)

commit 02cce0893574ed7a36ac8536313ac5ca62feab91
Author: Zmurf <crax0r@gmail.com>
Date:   Tue Apr 7 17:58:36 2020 +0200

    Add support for leanback-only Android apps (#299)

commit 2fc380e368d189f6271b1a0f591ae94260b8648c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 4 07:03:25 2020 +0200

    Fix check deciding on assertions and checks
    
    Instead of relying on “buildtype”, consider “optimization” and “debug”.
    
    Thanks @nirbheek!

commit 5b5d3c41a2eef82ae5789c70dc0ce1f1b382b70e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 4 03:21:50 2020 +0200

    Update to the revised GIO module naming conventions

commit dc24f182cce6b00e8a0a5696e590a5e30d3811b9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 4 03:15:00 2020 +0200

    Move away from deprecated GLib APIs

commit 1dacedc40fff6578f456f09e814aeea4be04aa71
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 4 03:04:12 2020 +0200

    Fix casts caught by modern Vala compiler versions
    
    And refactor to take advantage of improved support for generics.

commit 95b1ef4df83aac1e44adf97ba2f22da3af4f6c4d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 31 01:57:04 2020 +0200

    Port to Meson 0.54

commit 3209d34ac1fad7e380cf3c314768678bdb005d3c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 30 19:02:48 2020 +0200

    Fix remove_remote_device()
    
    Broken by the refactoring that happened in bafea86.
    
    Kudos to @ChiChou for reporting.

commit 8ae70fcd7769ee09d5c30b3d1a1ed563601271c0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 25 20:52:50 2020 +0100

    Revert the i/macOS injector wait-for-newborn logic
    
    Introduced in f4c2f49.
    
    Turns out that notifyd on iOS 12.4 is a case where libSystemInitialized
    is not getting set. Need to dig deeper to figure out why, so walking
    back this logic for now.
    
    Kudos to @mrmacete for helping track down this issue.

commit 7b990a27a5f817a63594e1dc8c3d4aebe1579d97
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 25 17:35:24 2020 +0100

    Fix use-after-free in the i/macOS attach() wait logic
    
    The task is borrowed so we need to re-borrow it on each tick.
    
    Kudos to @mrmacete for reporting and helping track this one down.

commit 76597f5201c0233f3cf51b150a56b6e770c327e3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 24 05:20:15 2020 +0100

    Handle frontmost iOS app name query failing

commit aefd6eaccd94b5927772ea7e36b9607d1c0250f8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 24 05:19:21 2020 +0100

    Simplify creation of empty POD objects

commit cd8fd64f662c93193a579387cedb829bf21006d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 24 03:30:39 2020 +0100

    Tweak the iOS/arm64e package name

commit e4f7651286be48528d143b33d946d313f305ed2a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 24 02:47:43 2020 +0100

    Omit LD_LIBRARY_PATH from frida-helper's env
    
    As it might contain 64-bit library paths that become problematic when we
    try to spawn our 32-bit helper.
    
    Kudos to @enovella for helping track this one down.
    
    Fixes #295.

commit fe03dff2069db66b3bb78300d0af383a6a230508
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 24 02:36:33 2020 +0100

    Recreate Android ZygoteAgent instances if they die

commit 0f703d2560e5994c8a2a1ba055268eef901ba9fb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 24 02:33:04 2020 +0100

    Recreate the Android SystemServerAgent if it dies

commit 72fa9a2919fa2e532343404899cc5255533d53f4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 24 01:14:59 2020 +0100

    Detect cross-arch support at build time
    
    But leave the code in so build regressions are detected sooner rather
    than later.

commit f4c2f490c0534eeaa8b1d682b5e41e816ae48ae1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 23 22:38:14 2020 +0100

    Fix injection into live newborn targets on i/macOS
    
    By polling whether libSystem is initialized.

commit 0438d7993c8d7075eb700abc017331efab1a2695
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 23 21:54:58 2020 +0100

    Skip cross-arch tests in case of a thin build

commit 243f020efead101a4fb76fb60ef4a73b86dc1fe9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 23 21:36:23 2020 +0100

    Fix the Gadget test on macOS/x86

commit e58b12a368be8bfffa00007c486043a4a59089b9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Mar 22 06:57:03 2020 +0100

    Improve the i/macOS injection preparation check
    
    To not only check that the process is suspended, but also that libSystem
    is indeed not initialized. Otherwise we risk tampering with processes
    that have been deliberately suspended, such as WebKit's WebContent
    processes.

commit e2a8f91fd35aef6a3567246d2aed0e2f08bda1ca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 21 07:04:53 2020 +0100

    Add iOS .deb packaging logic for arm64e

commit 4320cb01be5ae763fd893dc821fafe8e96a4b030
Author: David Asraf <dasraf9@gmail.com>
Date:   Mon Feb 17 19:29:11 2020 +0200

    Fix target crash when Windows DLL injection fails
    
    We also make the injected thread return the error code reported by
    LoadLibrary() in such cases, and ERROR_SUCCESS otherwise. This is
    something we should wire up in the injector at some point.

commit 966964b688d0618eb78b88f59a939820ec419961
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 20 20:48:32 2020 +0100

    Improve error message about needing Gadget on jailed iOS

commit 7fff026d6f1c29cae88362ef79b12df9930079e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 20 20:45:36 2020 +0100

    Make LLDB.Client always strip pointers on arm64
    
    As the dynamic linker is the same for both arm64 and arm64e processes,
    we need to be prepared for signed pointers in some cases.

commit b083ea0cb74e0bc9a6242692090fac721f0688aa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 20 20:33:21 2020 +0100

    Port Fruity backend to iOS/arm64e

commit 4f851d3d7718f773a72df0c16b5fbdefc84370bd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 20 20:32:41 2020 +0100

    Improve the manual lockdown test

commit 2aebd725aafd8833e55ea933c9d78f5825cda119
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 22:00:37 2020 +0100

    Revive and improve the manual lockdown test

commit 6e665709af00d660c1c5bfab7d961c369435f750
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 20:00:58 2020 +0100

    Tweak tests/run-ios.sh to ensure remote prefix exists

commit b3027ae7294cd674883077dc525217a45e29bc4d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 04:08:44 2020 +0100

    Fix the HostSession tests on iOS/arm64e

commit 91870c747a6f6dcbd52599c865ebca0bf45073e8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 04:07:44 2020 +0100

    Revive the Gadget test and port it to iOS

commit afdb1dc056907e21875d4f36859aee7e7c71cc03
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 04:06:01 2020 +0100

    Fix the memory range detection logic on iOS/arm64e

commit e6e01d6fba45e2bb49c907a3e3a69bb9185bec0b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 02:16:47 2020 +0100

    Fix the “other arch” tests on iOS/arm64e
    
    There's no way we can specify the CPU subtype to spawn, so we use a
    separate thin executable named wih a specific suffix.

commit 1c2e045ddf715a630537145798e0b1a5dc1f1e95
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 02:07:23 2020 +0100

    Fix a stylistic inconsistency

commit c3f9e0b23286817191ff6f02fff59871150c27e3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 18 19:25:18 2020 +0100

    Fix i/macOS race when agent entrypoint returns instantly

commit e92cd25722375b7f33aa161bca016e254303ff74
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 19 04:33:25 2020 +0100

    Bump Injector tests' wait_for_uninject() timeout

commit 64b99083ab509c2a80f8c83f48b8145c7e729db6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 18 17:51:11 2020 +0100

    Regenerate the iOS labrats to add arm64e binaries

commit c62d265de3ff6ec9651e496d4fc66d6a3da353ba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 18 19:10:54 2020 +0100

    Tweak tests/run-ios.sh to do a full build

commit b5f67d62eee1f954c1ac6a72b4f2220e5ecd94de
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 18 17:49:26 2020 +0100

    Tweak tests/run-ios.sh to default to arm64e

commit 81006527651de6d22f25074bf60dbf98b8b714a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 18 17:49:14 2020 +0100

    Tweak tests/run-ios.sh to use a better remote prefix
    
    To avoid sandboxing issues.

commit 9000a341236b1b43e589cc86a033d8f50f24d9be
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 18 05:34:04 2020 +0100

    Improve the crash report summary logic on iOS/arm64e
    
    Seems the termination reason isn't always available.

commit 000693dc235211efe2963e94b251e6551d488304
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 18 03:43:22 2020 +0100

    Fix the ReportCrash integration on iOS/arm64e

commit cbbc9fc365f9f9383d88b1643aed2f8200620c52
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 17 05:35:56 2020 +0100

    Fix spawn() of non-PAC apps on iOS/arm64e

commit b431677ad7edde5c707ef1e09377a83576597112
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 17 03:31:55 2020 +0100

    Update to the new Gum.DarwinModule API

commit 97ff37984b6da48db18b8d7c5c09a829169ce64c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 16 01:46:19 2020 +0100

    Rename the agent and helper options
    
    To avoid confusion when distinguishing between arm64 vs arm64e.

commit 7e1824ac3eb34c6cf4412a4afdebd2506390b68d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Mar 15 04:26:56 2020 +0100

    Set a “clean” LR when injecting on iOS/arm64e

commit f52537c96309cf3735cd22a804582e8460d89872
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 14 07:32:26 2020 +0100

    Port the early instrumentation logic to iOS/arm64e

commit 663a65568ebfb46b5fe7a60f7464e5673f93dc88
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 14 06:27:15 2020 +0100

    Fix the Substrate detection on iOS/arm64e

commit f0c75aad613d96a54c0c24c6364570b09605bd52
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 12 18:45:41 2020 +0100

    Port the i/macOS injector to iOS/arm64e

commit 1c74e88df7206bcb08e2117e814de7b9391630a8
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Mar 10 01:17:10 2020 +0100

    Ensure Chimera’s pspawn_payload-stg2.dylib initialized (#293)

commit 6a1d1634f05f31359cd0b072d7ab2bb8095f5bbd
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Mar 9 22:12:19 2020 +0100

    Avoid calling substitute_setup_process() on null port (#292)

commit ab17fab0fcc77278fbcb5672f1c6287b9865583e
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Mar 9 21:05:55 2020 +0100

    Add support for Unc0ver 4.3.1 (#291)
    
    - Use the substitute_setup_process() MIG call to “substituted” to enable
      early instrumentation.
    - Ensure substitute-inserter.dylib is initialized right after attaching.
    
    Thanks to @pwn20wndstuff for the kind help!

commit 2b22759ba340577673fea2ec3ba899c47b59e35c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 6 07:08:20 2020 +0100

    Fix the iOS PAC removal mask

commit 65251464e3aa983c778c07f5d22d199bc2b57ac2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 4 03:01:17 2020 +0100

    Also look in parent dir for gadget.config on iOS
    
    As Xcode likes to put resources next to the app executable.
    
    But only look there if Gadget is in a directory named “Frameworks”, which
    means it's probably inside an app.
    
    Kudos to @dweinstein for the suggestion!

commit 9e8f89f886a8759bbb9737a8819b1dec53e44b5a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 28 17:56:15 2020 +0100

    Add a basic README

commit fbbe4e64251a5281c90e3649eacf2ae1637ad15b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 27 00:50:34 2020 +0100

    Improve Linux process name enumeration heuristics

commit 65cecd2f97712a90337fa58a045807dfd9fa5338
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 26 18:31:59 2020 +0100

    Optimize Android device enumeration
    
    Use “host:track-devices-l” if ADB supports it, and if not, don't bother
    querying for the manufacturer. (We could batch the two shell commands,
    but there's no point as we want consistency with what we'd get from the
    newer ADB's long format.)

commit 7a4d383b5456637c0ec0af1a6d87e028e000b05a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 17 04:04:08 2020 +0100

    Improve handling of ios-arm64e in modulate.py
    
    As newer versions of “file” seem to correctly identify the binaries as
    arm64e.

commit f7c5d1d4b31becc9b99c75189bdc8df0d26c28c6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 31 21:59:21 2020 +0100

    Revive support for running Gadget on iOS without a debugger
    
    Policy must be set before obtaining the Exceptor, as it uses Interceptor
    to hook functions and this will fail gracefully if the “code_signing”
    option is set to “required”.
    
    Fixes #289.

commit 7c73febaa87bdce0dd8c4cdc838cf240bbd666ab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 22 23:55:50 2020 -0500

    Fix Gadget deadlock regression on Android/Linux
    
    For early instrumentation use-cases where Gadget's entrypoint gets
    called with dynamic linker lock(s) held.
    
    Due to Exceptor now using dlsym() to avoid running into PLT/GOT issues
    during early instrumentation, we need to ensure that Exceptor gets
    initialized from the entrypoint thread, and not the Gadget thread.
    
    This closes #285, and also closes #286.

commit 51eb252c804cbf02ce5f6e2928849006bcee3eaa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 4 02:36:23 2020 +0100

    Fix dangerous libc hooking anti-patterns
    
    Should not count on PLT/GOT entries being initialized.
    
    Also move to Gum.Process.query_libc_name() for improved portability.

commit 76172f64573ef80bc1293442750b41867e3157b3
Author: Sergio Paganoni <sergio.paganoni@gmail.com>
Date:   Sat Nov 23 18:32:20 2019 +0100

    Make parent FDs available to child processes on i/macOS (#279)

commit 91527e9959c73224b2acdaa87cb79ea7d03aa46b
Author: Jon Wilson <jonwilson@zepler.net>
Date:   Fri Nov 15 00:02:10 2019 +0000

    Port to ARMBE8 (#275)

commit 69f9f1baf0bdb744ed651652b0e546eae624b071
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 12 15:59:54 2019 +0100

    Fix the iOS package scripts launch daemon logic
    
    For some reason the launchctl path was hardcoded.

commit fc490dd08dd0164800d3ac7add8ff90f551a0532
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 12 15:59:09 2019 +0100

    Remove trailing whitespace

commit b19baa78d8571758cffa638a3133281d152cd776
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 12 03:43:51 2019 +0100

    Add support for iOS 13 on the checkra1n jailbreak
    
    - Support apps launched directly instead of through xpcproxy.
    - Tweak xpcproxy agent to also handle SubstrateBootstrap.dylib.
    - Update ReportCrash integration to account for API changes in iOS 13.
    
    Tested on iOS 13.2.2.

commit 8726e6998b05d70fcaf1fa79a3b28abb53083603
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Nov 7 17:40:56 2019 +0100

    Expose the paired lockdown channel itself using "lockdown:"

commit 975e4618997d6c4eac0c07f511e1a42c07f5d418
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Nov 7 13:08:40 2019 +0100

    Support both cleartext and encrypted lockdown channels
    
    By default the channel is encrypted, unless the service name includes
    the “?tls=handshake-only” suffix. Internally, the
    “com.apple.debugserver” and “com.apple.instruments.remoteserver”
    channels are kept cleartext.

commit bafea861663c3e9316d3f672ea96ddc7d822ef96
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 6 04:50:07 2019 +0100

    Enable TCP_NODELAY and add support for UNIX sockets

commit fbfbdf4f89bdb07a7f382b74dc25e9fb1fcce9bc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 5 19:18:56 2019 +0100

    Fix crash caused by missing SELinux rule on Android 10
    
    Which resulted in a failing assertion due to mprotect() failing when
    reverting hooks at a critical point of an exec transition.

commit 5eb6469a6ce7cdbc003d8d6b199a54f6de2936ea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 5 17:17:11 2019 +0100

    Kill orphans if a client spawn()s then disappears
    
    Without getting around to calling resume() or kill().

commit b22fb700d91c5e428211e88349a1a46eb82ad745
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 5 02:03:24 2019 +0100

    Talk directly to the iOS/Android agent when possible
    
    By establishing a fresh TCP connection to the frida-server and having
    its file-descriptor passed to the agent. This means frida-server can
    remove itself from the data path, improving performance and reliability.

commit 886237ad008a33ae5c41010ab24ce08108acf885
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 4 16:46:01 2019 +0100

    Fix kill() before resume() on jailed iOS
    
    When called after attach().

commit c883b09f840417887d3b80ed5a17dc7c88b60cfa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 26 03:08:05 2019 +0200

    Throw early when trying to attach(0) on jailed iOS
    
    So we can display a more helpful error message, and avoid firing up the
    LLDB debugserver only to have it fail right away.

commit bc4177664815606532ac3f9ef609d93ba8d241a7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 26 03:06:22 2019 +0200

    Fix inconsistent iOS DDI-related error message

commit d2161c00ee7681350cf41d980446654e9242745b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 24 23:13:21 2019 +0200

    Speed up get_frontmost_application() on jailed iOS
    
    By using the DTX application listing service.

commit 17582f86bf925ec2c934fa68e55c378fa8e575d1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 24 20:13:29 2019 +0200

    Improve error feedback when an iOS DDI isn't mounted

commit 33b47a21a9b9966214bb0166541603384fcc104f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 24 04:24:19 2019 +0200

    Enable glib-schannel-static when building for Windows

commit d92872e62e9851ea746ccc6c89d5c36c25147acd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 24 04:15:48 2019 +0200

    Fix detection of recent iOS devices on Windows
    
    Need to disregard dashes in UDID when matching against registry entries.

commit ec0e0f9c36e5e77b890ab1489fc9f7f16c1a334e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 24 03:27:18 2019 +0200

    Ensure lockdown client is fresh before re-using it

commit be89285ba6ebffec279a0dfae079c4ea1e38fd65
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 24 03:11:55 2019 +0200

    Simplify the server check timer logic

commit dcf2dd8337b7b6e9686970121c8529e64a7a6822
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 24 00:36:52 2019 +0200

    Update the Windows build system

commit 44b86a6934d3487d951b538faf43315fbdac9e7c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 17 21:44:22 2019 +0200

    Implement attach() and process APIs on jailed OS
    
    Basically get_frontmost_application(), enumerate_processes(), kill(),
    and attach_to().

commit 005e253c8b2f21592ebb57c3df75f685c2d6b1ea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 24 00:14:15 2019 +0200

    Bump the PlistServiceClient message size limit to 1 MB
    
    Messages can get quite large when interacting with Apple's Mobile
    Installation Proxy.

commit 9e1fdf2bf581c01082359a760c904cc4a9a40eb8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 24 00:15:44 2019 +0200

    Improve the InstallationProxyClient API
    
    - Make lookup() more flexible.
    - Add resolve_id_from_path() for resolving a path to a bundle ID.

commit 07e5924a2690883aa1dbaa899ec839f70dd36bed
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 24 00:12:37 2019 +0200

    Add Plist.to_binary()
    
    Needed to speak the DTX protocol.
    
    Also refactor Plist APIs to avoid copying data unless needed.

commit 2b649985a29cf1f537a6b91f72a5361b9b1507a6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 24 00:14:27 2019 +0200

    Fix stylistic inconsistency

commit 38777530431994662ae429f3f8606dfc3f61301f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 23 23:45:31 2019 +0200

    Re-use already injected gadget when possible
    
    To avoid piling up OS resources.

commit 13bd5c95549d5bc1a69ba9a0ad80646bd3e2fe45
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 23 23:44:12 2019 +0200

    Configure injected gadget to use ports >= 27043
    
    To avoid interfering with an existing gadget or server.

commit 0f93f32efcb8e5f9acda59da09ccbe6de061c4f4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 23 23:33:47 2019 +0200

    Add listening port to gadget's main thread name
    
    To make it easy to determine if we've already injected the gadget in a
    given process, and which TCP port it's listening on.
    
    Also tweak the default name while at it.

commit 4ccf5cb35f38dc7e90f052b859cbb3353b2788f6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 23 23:29:32 2019 +0200

    Expose thread names in the LLDB client

commit 3bd1a3b02e3a55cee4f695715b1b0f6b58aa92ca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 18 04:42:34 2019 +0200

    Implement bounds-checking in the PlistArray API
    
    To simplify working with data from untrusted sources.

commit 4accfea87be64e560310c91dfc4f7018c3f9eeb4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 18 04:40:44 2019 +0200

    Add Plist{Dict,Array} methods for working with UIDs

commit ffa0e4773eab76d4d2da9de5d750f1690a59b55e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 18 03:59:28 2019 +0200

    Implement Plist XML serialization of UID values

commit 239b051127584f4a3ca7fa7f290dfca980b515ac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 17 21:04:21 2019 +0200

    Remove leftover logging

commit d95e8dfb3b8ab4c484e70bd9e0e61c42b868d338
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 17 21:04:04 2019 +0200

    Fix the session ID lookups

commit 35f04ae4521d3f076505b7975030e6dd6fff7bac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 17 17:34:05 2019 +0200

    Fix the Windows build system

commit 91b630cef7e6c13371c64e8ce7323b75366806d1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 17 05:12:28 2019 +0200

    Unify the Fruity devices
    
    Now that the basic functionality is done.

commit 427b74221f99546e4c0a446cf51fd5867ba248d5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 17 03:10:15 2019 +0200

    Add Fruity.Injector to the Windows build system

commit aa153572ed851e7c0e217c3c7f8a607edbafd7de
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 26 22:36:32 2019 +0200

    Implement attach() and kill() in the lockdown backend
    
    For now only spawned apps can be attached to and killed.

commit e741daca2f215c484018d99db85b04b983ad9976
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 15 23:28:02 2019 +0200

    Extend gadget ABI to support signaling a result
    
    For now only on i/macOS, where the presence of a “frida_gadget_config”
    entry in the apple[] string vector signals that the constructor function
    is passed an extra argument that receives the result.
    
    The result is an “int” that receives a non-negative value on success,
    and a negative value on error. The “listen” interaction emits the TCP
    listening port being used, and the other interactions emit zero.

commit d03bda457a5f97e80969f195c6ce1c48817545f9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 15 23:18:42 2019 +0200

    Allow gadget to pick the next available port
    
    When overriding the default conflict behavior.

commit 0f1beef51d2965664c77d16ec4c04677944fb12f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 14 20:48:43 2019 +0200

    Fix harmless error in the ReportCrash close() hook
    
    As close() may be called while not generating a crash report.

commit 2f1193c0e6b1376b6d62280f5bf757c2d574af6d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 14 20:31:00 2019 +0200

    Fix iOS/ARM compilation with latest SDKs

commit 28b8e0615b50146352400cdb2b110a440e581166
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 12 03:32:16 2019 +0200

    Allow config to be passed to frida-gadget
    
    Implemented on i/macOS by looking for a special entry in the
    apple[] array.

commit 155583757051a93353a685cdad9b821d54d969da
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 12 03:30:51 2019 +0200

    Improve location detection logic in frida-gadget
    
    - Make “path” nullable, as the gadget may not exist on disk.
    - Don't go looking for the range if we already know it.

commit 4bd1085f07a8bc6b99c2dfcafb27114f6790142c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 12 01:35:37 2019 +0200

    Remove system loop integration from frida-gadget
    
    As we don't know exactly which initializers have run before us, there
    might be pending I/O that assumes some of main() has already been run,
    making this a very dangerous feature.
    
    So far I haven't actually encountered any use-cases where we need to
    iterate the system loop early, but it is still possible to emulate this
    if needed: while waiting for resume, the GLib.MainContext used by GumJS
    is serviced by the thread calling the initializer, so that means user
    scripts can run a modal system loop if needed.
    
    Note that this feature was only implemented for i/macOS, so removing it
    means we now get the same behavior on all OSes – which is to block on the
    GumJS' GLib.MainContext while waiting for resume().

commit 77d5ae0faba6a123abadc57d354357c10a413392
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 11 19:11:53 2019 +0200

    Fix kill_application() stub on macOS

commit 55310e25c797a6b81413b646b3a5d98a4772bd82
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Fri Oct 11 18:14:01 2019 +0200

    Kill pending iOS processes on launchd agent unload (#270)
    
    So that frida-server dying won't leave processes stuck in a suspended state.

commit a0be55734310c8f29cfbe65e808fee8a1e1ee2c9
Author: Muhammed Ziad <air.oamyst517@yahoo.com>
Date:   Fri Oct 11 04:35:24 2019 +0200

    Improve spawn()-handling for Android apps (#271)
    
    To allow using the activity param in case the app doesn't have a
    launcher activity.

commit f87dddf9ee086566d937dc9ebcc070676981c0e4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 10 14:40:13 2019 +0200

    Improve the SELinux-related error messages

commit 117f1510bbc64b05ed5c29f5f7c50bd5cc9d6043
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 10 14:39:47 2019 +0200

    Consider the “map” SELinux permission optional
    
    As it's not available on older versions of Android.
    
    Fixes frida/frida#1041.

commit 894c7bb6eab478bb26b31447c24f087c51a1b687
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 10 01:47:07 2019 +0200

    Add support for iOS/arm64e in modulate.py

commit 9058d9c56f16d587fa19175d80f7bb17bbd8dd3c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 10 01:46:11 2019 +0200

    Improve error-handling in modulate.py

commit a575f53c8a01d3f415e67990b46a57596c7884b1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 9 20:02:40 2019 +0200

    Port basics to iOS/arm64e
    
    Untested for now.

commit 4e511d91bc5803fdaf576dc72981dc7824bfff0a
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Wed Oct 9 19:05:59 2019 +0200

    Add missing revert() calls to ThreadSuspendMonitor (#267)

commit 05a8e913db2c59a2f302279c72f15f77613ee808
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Wed Oct 9 19:04:55 2019 +0200

    Keep eternalized entries alive (#268)
    
    So that they can be reused for future connections to the same process,
    avoiding the need to have more than one agent, at least during the
    lifetime of frida-server.

commit 5328de88a29222559fb2883be54ccae3b705a8b6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 8 17:40:30 2019 +0200

    Improve i/macOS error-handling involving remote tasks
    
    I.e. never make assertions about operations involving a remote task.

commit 300fecf9b081fb41e893d906c1152fae0d2ad82b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 8 17:38:09 2019 +0200

    Update to the new Gum.DarwinModule API

commit 8cf758b403521cd6ed44eed2e72fbdb14b940896
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Oct 8 14:42:39 2019 +0200

    Split the state by thread id in the ReportCrash agent (#264)
    
    Because in some cases more than one crash can be processed in parallel
    in different threads.

commit 072571cf551d4645351a43f0299227d663b5fff5
Author: BAYET <corentin.bayet@gmail.com>
Date:   Tue Oct 8 04:01:47 2019 +0200

    Add the “map” permission to the “frida_file” SELinux rule (#265)
    
    Needed on Samsung devices.

commit 19e5e3997d1c9f23876139fe19c4c229c721c574
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 26 22:35:14 2019 +0200

    Improve frida-inject to support -D/--device

commit 5ea24c6efedb24b4b428a2ac4356b98198025ac5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 24 05:17:38 2019 +0200

    Fix the find_device() timeout logic
    
    The initial timeout=0 case was not handled correctly.

commit 0f318b3db0e2d261dd17dfabf3e9d525add15179
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 20 03:50:44 2019 +0200

    Add support for opening backend-specific channels
    
    Allows connecting to TCP services on a tethered iOS or Android device,
    as well as lockdown services on a tethered iOS device.
    
    Our Fruity and Droidy backends already need to do these things for their
    own needs, so exposing this functionality to applications is very cheap
    footprint-wise, and eliminates external dependencies in some cases.

commit 6d42b94970e94e01ce3f9787577249b834479b02
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 24 00:17:24 2019 +0200

    Ignore the XNU driver build directory

commit 65f068c37cd188914901ced0c5624e6a192b1a2e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 23 23:44:05 2019 +0200

    Handle lockdown services requiring TLS handshake
    
    Required by some Developer Disk Image services for iOS >= 13.

commit 373dabd78e754c871637113bb3e3f77bbab5c662
Author: hunterli <hunterli@hotmail.com>
Date:   Fri Sep 20 00:58:20 2019 +0800

    Improve frida-inject to support spawn() (#260)

commit a72848caf298d11c5f4747418c3908a0a16f1b7e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 5 19:58:08 2019 +0200

    Fix crash when HostSession gets lost mid-request
    
    Fixes frida/frida#1009.

commit 5690e820a37124a80a2b80bfd9bc433de595b429
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 5 17:37:56 2019 +0200

    Disable Fruity and Droidy backends on iOS and Android
    
    Such systems are not going to have other iOS/Android devices attached
    to them via USB.
    
    This reduces bloat and improves performance, and most importantly avoids
    the extra copy of OpenSSL because of the Fruity backend.

commit fd291aa93dbcc80f9682511239be9375bb466fa9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 5 17:24:54 2019 +0200

    Fix crash in RpcClient when post_rpc_message() fails
    
    Also refactor it a little bit.

commit a740031ce20af1ee53cb461812ee299814aa05c2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 5 17:02:55 2019 +0200

    Wire up the “detached” signal in frida-inject
    
    Making it a whole lot more useful as a debugging tool.

commit 3e4841dd7302441e2c3c898a7d47923937580db1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 5 16:43:05 2019 +0200

    Move scripts back to LOADED when an exec transition fails
    
    So they may still receive further calls to dispose() on UNLOAD or EXIT,
    or even another EXEC.

commit 7c0b6c1ee81e31f6d9e2782a77f08f55c3abd2e8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 5 16:39:23 2019 +0200

    Add termination reason parameter to dispose()
    
    So agent can discern between process definitely terminating, after e.g.
    exit(), vs. potentially terminating, e.g. after execve(); which might
    fail.

commit 29fb405f01dffcd2aaf8ccb52878eb86473239f7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 5 16:27:51 2019 +0200

    Allow eternalize() and post() in DISPOSED state also
    
    As e.g. execve() might change the state unexpectedly.

commit 9fb76d30949fb07c66f607cae903a656f242e152
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 5 16:25:42 2019 +0200

    Improve validation of -P/--parameters in frida-inject

commit a3b53190169f9c0e5a279f05c08f70caf01ae0c3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 5 16:24:35 2019 +0200

    Simplify JSON-GLib API usage

commit 85cb99d867cc434f742283ef8a51ce5020ebdbfb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 5 16:16:46 2019 +0200

    Add to_nick() helper to public enum types
    
    Useful for applications and debugging convenience.

commit ea3c21024f3b97600535750b18ec1c7dcb4c94cb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 4 16:54:02 2019 +0200

    Fix crash when Future.wait_async() is cancelled last-minute
    
    When the Promise was just fulfilled.

commit 7082c921484dd243dc7a145fa1744db4fa4ba87c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 4 03:35:54 2019 +0200

    Fix crash in find_device() on startup
    
    The ensure_service_and_then_call() helper should defer its work so
    find_device() gets a chance to yield before receiving callbacks.

commit a81325009c94c3de22cd233b17e708cd397b845c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 4 03:29:50 2019 +0200

    Only fetch MainContext once during Droidy start()

commit 0f6ec2c386d1b28a175116270df296a0df98ece1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 4 00:16:06 2019 +0200

    Use CancellableSource where appropriate

commit 5251f9d1f3415f76f1d6a0b2dacf0a29bffb1e46
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 3 11:12:12 2019 +0200

    Fix the find_device() ensure logic

commit fe0e8d2ec8acb6c1e7ed4c0f6720b7e9cd1c1fa7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 2 22:49:59 2019 +0200

    Refactor a little to improve clarity

commit 9248d2ebb4d70febba73403f628dc036a06851ea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 2 18:09:20 2019 +0200

    Speed up early device lookups
    
    No need to wait for all devices to appear if a matching device appears
    before that happens.

commit 1d07c8f2579cc8081e04d59729dc17f25af556d1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 2 18:06:51 2019 +0200

    Tweak declaration to improve clarity

commit 92eb658894624e9d18449fd08f6d690453ddb26f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 2 18:05:54 2019 +0200

    Refactor the DeviceManager start/stop logic

commit cb17b17c34d9b8a32cb7fde63ead7f793c9db3f1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 2 14:20:55 2019 +0200

    Fix cancellation logic in the Droidy and Fruity backends

commit cc323098ab9c34847d85eb7ccbbd4af029c2ad5f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 2 14:20:09 2019 +0200

    Simplify async callbacks

commit 77ffc319827cd2f342ee581bd7d86242d27cc6de
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 5 06:17:43 2019 +0200

    Refactor APIs to support cancellation

commit de2ea6d2cfca636c3958aa9b697867dea3246aec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 26 18:22:38 2019 +0200

    Strip Gadget when “strip” option is enabled

commit fa452624eb105d8432d4b283f0408bb6fa1cd1e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 24 01:08:17 2019 +0200

    Fix library name of the i/macOS agent
    
    The default looks pretty ugly.

commit 74fdb535d99cd50587c30423b6107848ab1d6614
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 24 00:37:33 2019 +0200

    Remove unused property from the ReportCrash agent

commit ea517c0172e082b9b87624cdf3f47549a9140648
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 24 00:00:52 2019 +0200

    Improve ReportCrash agent to support iOS 12.4
    
    Support for older OSes is probably a bit degraded, i.e. crash reports
    won't be augmented with our own agents, but that can be improved later
    if needed.

commit 6f8b242eae0a79f4ebb3556cf092fd0ea58017d7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 23 23:57:39 2019 +0200

    Eliminate use of deprecated APIs in tests

commit 89c5b1677bea8fb3d1ef3409a90e3270b8dafe3c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 22 02:55:10 2019 +0200

    Update to the new Gum.Darwin.ModuleResolver API

commit c6488bf39803b912fd6ec5841d6c8807172267c5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 22 01:30:11 2019 +0200

    Update to the new Gum.Darwin.Mapper API

commit 493ceab1aeb34d5de8f6f4093950ccacd7272730
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 21 22:28:50 2019 +0200

    Emulate dup2() using dup3() to improve portability

commit 389c8cd225d87325b7782dbf0011548a6bc7e2ee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 21 21:19:31 2019 +0200

    Update to the new Interceptor API

commit 86b50ec2c139674417278c7f425db3c764cda9dd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 20 18:37:43 2019 +0200

    Add dup*() syscall wrappers to the libc shim on Linux

commit 4d0fc4eb49e76bb12a5df7733df77d9e34c58f11
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 12 23:06:37 2019 +0200

    Enable frida-server signal handlers on Windows also
    
    The API is there and Ctrl+C emits SIGINT.

commit 35871d58b0fdbb8863826d5d0c4bbdb0e1684723
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 12 19:39:32 2019 +0200

    Fix tempdir cleanup regressions

commit a12569f18d13a7ea642108b43fae0fdbc9522515
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 9 04:49:43 2019 +0200

    Bring back atexit() shim on i/macOS
    
    It's used by OpenSSL for teardown, so it's important that we handle it
    on i/macOS as we're using our own dynamic linker there. On the other
    OSes we can count on the dynamic linker calling the registered functions
    when FreeLibrary()/dlclose() is called.

commit 56f263c5d26aead9f836e822542c9fe47a9aefb6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 9 04:42:31 2019 +0200

    Fix libc shim on Windows

commit cb1a4eb40767a61d50c363761fabe01eb7285097
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 9 04:40:03 2019 +0200

    Omit atexit() from libc shim for now
    
    As it conflicts with crtbegin_so.o on Android.

commit 7b77cce26f2c3275f59006e984b284f17ea524d1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 9 04:38:16 2019 +0200

    Fix gadget's destruction logic
    
    And omit frida_on_unload() on i/macOS.

commit 5ad80e86499dfbb7e7288c64f56ba19d3a805c38
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 9 04:27:57 2019 +0200

    Avoid destructors on i/macOS
    
    Modern toolchain versions now emit a constructor per destructor, each
    calling __cxa_atexit().
    
    We want to make sure we release our heap as the very last thing we do,
    so we shim __cxa_atexit() to make sure any destructors registered that
    way will be run before we deallocate our internal heap.
    
    It would be possible to detect these special constructors and reorder
    them, but it would make modulate.py very complex. We would basically
    have to start parsing the assembly code of each such constructor.

commit d01bc3e73ba91f5dcfec5168dfea045a1612f3ee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 9 04:17:11 2019 +0200

    Add __cxa_atexit() and atexit() to the libc shim

commit e4a44be9f6fa3f255afe772f56e58695d03074cf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 9 00:15:23 2019 +0200

    Improve modulate.py to handle __cxa_atexit() modules
    
    Where destructors are registered from auto-generated constructors.
    
    For now we just ignore them, as we would have to disassemble each
    constructor to know which destructor is being registered. So instead
    of actually solving that, we will avoid using destructors on i/macOS
    for now.

commit db6cfd1532782a5762058ce26f1b301c615a8d02
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 8 23:38:14 2019 +0200

    Improve modulate.py to support ios-arm

commit 8af2e79257642d895d21cab2b7d4d95a92e855cd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 8 23:37:41 2019 +0200

    Port modulate.py to Python 3.5
    
    So we can still use the system Python on distros like Ubuntu 16.04.

commit f1aeac472a979de788b7cc706640a909b893f1bf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 8 20:57:50 2019 +0200

    Refactor the API auto-generation helper script

commit 114ee3c0e1d3c2e027728f2a4edeaa05b2c0dadb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 8 20:57:32 2019 +0200

    Fix constructor/destructor ordering on UNIX platforms
    
    Introduce a new internal tool to manipulate the binaries after linking,
    as this seems like the least terrible solution that works on all UNIX
    platforms and toolchains.

commit 244a47ec32f85d85e236dba1d5b66ddd7f574565
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 5 19:25:06 2019 +0200

    Fix extraction of Android package name from cmdline
    
    Resulting name got truncated in cases where “:” was not found.
    
    Kudos to @xiaobaiyey for reporting.

commit 92dc8f5ef32f06f94b31d4b874797bfb1bdcd385
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 5 00:28:03 2019 +0200

    Fix ownership of string getters in the Plist API

commit 9e3d6597e66a746ca8e2939ba656837d0e9de559
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 5 00:27:13 2019 +0200

    Refactor test to use multi-line string for readability

commit 1736fabf1ac4e5705c9079e7c93f9d677c445976
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 5 00:11:12 2019 +0200

    Suppress glib-openssl warnings by default

commit 455c7162dca287b0a5cd38f206be36229dcd96b0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 5 00:10:22 2019 +0200

    Refactor (de)init logic
    
    Also skip deinit() in frida-server and frida-inject, as it's only useful
    for testing purposes.

commit 32e074e6c1b521e2da9a7b0ef38947252cf3172b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 4 23:28:29 2019 +0200

    Add TLS provider to .pc
    
    Also move registration to the backend so the TLS provider is only pulled
    in when the backend is part of the application being built.

commit d857a3ba50e3f5462f14ade831736f67f325e41f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 4 22:56:12 2019 +0200

    Add test for fast start-stop scenario

commit 00f08f04cec61ef110fce393312660a5212dabdf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 4 21:11:28 2019 +0200

    Remove trailing whitespace

commit 95433bedb4365909ba22d48bdf01653824c16b50
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 11 22:28:44 2018 +0200

    Add beginnings of a native lockdown integration
    
    This is considered unstable API.

commit 82954a77eb43c7ffc1e862089846d1bc87098df8
Author: Ole André Vadla Ravnås <oleavr@frida.re>
Date:   Sun Aug 4 08:44:35 2019 +0200

    Fix libc shim allocator logic (#254)

commit cb598079d7dd4dca4ea7a7c667a774cf0cbc0c66
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 4 05:03:51 2019 +0200

    Fix error-handling when system session fails to start

commit 001cb5e5cb05cddbd5b5b282d8b1369dcf599f6d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 4 05:01:16 2019 +0200

    Remove redundant statement

commit cd9d2c2e454daaf6eb4d20ea2e66650f515331f0
Author: Ole André Vadla Ravnås <oleavr@frida.re>
Date:   Sun Aug 4 04:22:45 2019 +0200

    Handle failure to create temporary files (#253)
    
    Instead of crashing.

commit ba27195656cc63544e6da62812c859c849d4f8f8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 3 07:57:25 2019 +0200

    Fix exec() regression caused by missing FD_CLOEXEC
    
    Our Linjector FIFO lost its FD_CLOEXEC bit when we moved it.
    
    Also make our padding FDs close-on-exec while at it.

commit bbffde52fd658ce9f2277b522f09d8e1e45d0cc0
Author: Ole André Vadla Ravnås <oleavr@frida.re>
Date:   Sat Aug 3 07:19:53 2019 +0200

    Fix crash on unload with latest NDKs on Android/ARM (#252)
    
    We previously relied on the libc++ destructors only calling free() but
    not actually touching the memory before doing so, and this assumption
    broke once the TLS emulation entered the picture.

commit 97fdd168f14eb1c7418cd0dbe4f7ca9c7d7ccf01
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 3 04:49:56 2019 +0200

    Move State enum back where it belongs
    
    This was a temporary debugging hack that got committed by accident.

commit 3436ee251ef14deefb08ceab9053d166284ab839
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 2 07:04:04 2019 +0200

    Allocate file-descriptors in a higher range
    
    To avoid surprises when an application suddenly decides to dup2()
    before execve(). This happens on Android as part of Runtime.exec(),
    where fd 3 is used for feedback from the child process.

commit d6b79c4dce186996ad56b25b00717c2deba3e8cd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jul 26 01:25:58 2019 +0200

    Fix child-gating deadlock when script unload blocks
    
    E.g. when a NativeCallback is indirectly calling fork().

commit 4b10fe1b6fc3152cddc7c26558148b75156de342
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 24 17:59:14 2019 +0200

    Fix accidental implicit .begin in frida-inject

commit f4abb1e1e1f4c345dc1786e6fbabda1393558da8
Author: Eugene Kolo <eugene@kolobyte.com>
Date:   Tue Jul 23 13:14:07 2019 -0400

    Add -P/--parameters to frida-inject (#249)
    
    To allow specify parameters using a JSON string similar to frida-gadget.

commit bf2c538908995d07e288f28703639a1a7c54463a
Author: CodeColorist <ChiChou@users.noreply.github.com>
Date:   Wed Jul 17 22:38:42 2019 +0800

    Add missing entitlement for app icons on iOS >= 12 (#248)
    
    The “com.apple.springboard.iconState” entitlement is now required
    for SBSCopyIconImagePNGDataForDisplayIdentifier().

commit fecc2dbcf4a4fb88ba8d38517d2757144c6f7863
Author: 葛兵 <gebing@foxmail.com>
Date:   Fri Jul 5 20:43:30 2019 +0800

    Add Gadget executable and package name detection for Android apps (#247)

commit 5fc9e82321868f558622a65009b3bb7e9902680b
Merge: efe63e83 b935cf59
Author: Ole André Vadla Ravnås <oleavr@frida.re>
Date:   Tue Jul 2 21:06:21 2019 +0200

    Merge pull request #245 from frida/fix/spawn-on-ios-12
    
    Improve early instrumentation on i/macOS

commit b935cf590aeb0404a264774980d732165db3b36f
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Jul 2 21:01:09 2019 +0200

    Fix the BAS bits when setting breakpoints in thumb code

commit efe63e83f77a9946fda6a5cb3f2bcde07a02ab88
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 2 15:58:07 2019 +0200

    Fix accidental timeout of 25s for child-gating resume()
    
    Kudos to @trufae for reporting.

commit 52a62ae29eaf46f04958691c446fb8bbc201b9ea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 2 00:31:16 2019 +0200

    Improve early instrumentation on i/macOS
    
    - Always set up the fake helpers, as also the latest OSes need them now.
    - Fix the ret gadget behavior when used for both helpers and strcmp()
      in combination with single-stepping (x86).
    
    This means iOS 12 is now fully supported.

commit 13af015531ce73c92c9630df240be07a456b2453
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 28 21:54:13 2019 +0200

    Try to platformize when running on unc0ver
    
    We rely on launchd to restart us, but also leave a hint before exiting
    in case we are running interactively. (It appears we cannot execve()
    ourselves due to a system policy issue, which I will ignore for now as
    we are normally under launchd's control.)

commit ba70157b22bf301652cc81179a1b9d64c6371307
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 28 21:41:49 2019 +0200

    Improve the Substrate detection logic
    
    To make it handle multiple injections.

commit dd69ad9be80eda6e172d16d924c3db3080f6e40c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 19 03:18:04 2019 +0200

    Improve Linux injector's success rate on Android
    
    The module name might be ambiguous in the remote process, so we resolve
    it using the absolute path of the module that matched locally.

commit 2fe99f8bc30fa0fc9c1c4b99bdada1d27bc936b5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jun 19 03:13:26 2019 +0200

    Add support for the latest Chimera iOS jailbreaks
    
    The jbd_call() symbol is no longer visible, so we improvise.

commit a37515462d792dcade5c7b567c2e70633a400107
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 1 23:08:00 2019 +0200

    Fix unicode-handling in generate.py
    
    Which just became evident now that one of the source-files contains
    unicode characters.

commit d7e721d038659b16a1057a708b556c25957de334
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 1 22:31:22 2019 +0200

    Fix support for talking to old versions of Frida
    
    This was an oversight when adding the script options API, where our
    server implementations did support old clients, but our new client
    did not support old servers.
    
    Big thanks to @eugenekolo for reporting this issue.

commit bd16b6fbbf43da4f27019d7534be4d3a3deef1d6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 31 18:27:41 2019 +0200

    Remove leftover blank line

commit 76299807d02aafd1cbd29eeddc349de2e7d8d25f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 27 17:13:27 2019 +0200

    Fix libc shim regression on i/macOS
    
    The system headers #define memcpy.

commit f69e46e6dc39c5d3ad1cb95c1271940f1e3acd7e
Author: iGio90 <giovanni.rocca.90@gmail.com>
Date:   Sun May 26 18:47:10 2019 +0200

    Add memcpy() to the libc shim (#244)

commit 7ac423c74a68b1452fb7a61a7adf013d1d86c9e8
Author: 葛兵 <gebing@foxmail.com>
Date:   Fri May 24 16:44:59 2019 +0200

    Fix deadlock when fork+exec child is not followed
    
    We should release child gating before letting the fork() complete in the
    child, so that if the application does not enable child gating the child
    will not end up getting stuck.
    
    Fixes #243.

commit ec7c235ed3dce773ffd99c99254f4910e0d98c03
Author: 葛兵 <gebing@foxmail.com>
Date:   Fri May 24 22:36:28 2019 +0800

    Fix child-gating when child changes architecture (#242)
    
    If resume() fails to due invalid PID, we retry on the other helper.
    
    Fixes #241.

commit 4f1b7d62e240b14c66758647ff9bb1a84118ed27
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 19 19:49:23 2019 +0200

    Add SuperSU support to CrashMonitor
    
    And improve its teardown logic.

commit e4735d00b495cbb76f16fb7eac6ae5d8f7c5f7e2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 19 19:48:22 2019 +0200

    Add teardown and cancellation logic to SuperSU.Process

commit 978d1a789550488f589c7a1b2cd53ad53189613b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 19 18:33:26 2019 +0200

    Fix teardown crash on Android
    
    When CrashMonitor is unable to spawn logcat.

commit 39c70bec6b5f676e5ea37e736ebc32b260e9efa2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 19 02:31:50 2019 +0200

    Disable libc shim when building with ASan

commit 8f3d1f218b42f7bdc6dc6ec68e9d2c6395b1252b
Author: xiofee <xiofee@gmail.com>
Date:   Tue May 14 12:05:27 2019 +0800

    Improve detection of Apple USB devices on Windows
    
    - Use “Label” when “FriendlyName” is missing.
    - Try matching UDID against device path as well.

commit a5c573c608d4c42df9ef9ca3c3b15bc9c4d28a94
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 15 18:09:01 2019 +0200

    Add strdup() to the libc shim
    
    Our libunwind dependency uses it.

commit fafd26f4317c6bf1af80df39ec221ed14bcb86e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 15 01:22:11 2019 +0200

    Fix crash on i/macOS when remote thread creation fails
    
    The policy softener was seeing a release() before a retain(), as the
    on_inject_instance_unloaded() callback was called without checking if
    on_inject_instance_loaded() actually happened.
    
    This has been reported by people trying to use Frida on A12 devices,
    which we don't fully support yet.
    
    Fixes frida/frida#870.

commit 6b4216ef4aa9a63159600ad1d1886e53590e6ae4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 13 17:44:50 2019 +0200

    Add missing SELinux rule for LineageOS 15.1

commit 5cf5bf0f6a2aa08ba5b8e423742351033ce56d57
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 11 04:41:10 2019 +0200

    Factor out gadget entrypoint on UNIX
    
    So we can play with the linker's command-line and put the entrypoint
    object file last, which means it will run _after_ V8's initializer has
    been run. This is a terrible hack, but will have to do until we find a
    better solution.

commit 887438b40593f8d2c7e3e5cd083f2c895bfe5c73
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 10 21:21:12 2019 +0200

    Use Module.getExportByName() where appropriate

commit 45fa16b33eb3b6cf35388ca174fb0eb4475899ac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 10 21:18:04 2019 +0200

    Remove redundant 'use strict' directives

commit fe56cbac0be6bf511d9807e8807a873b6577c62e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 10 19:21:20 2019 +0200

    Align compile_script() with create_script()
    
    For consistency and to allow future expansion.

commit 71df6a0018cf25c2b689c10695f62aa553b8230a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 10 18:52:52 2019 +0200

    Remove Duktape debugger support
    
    Debugger functionality is exclusive to V8 for now, as script runtime
    selection conflicts with it. The fix is to write an internal gateway
    that translates between Duktape's binary debug messages and the JSON
    protocol spoken by V8.

commit e4639e1c46f0c06e104a2ad767dde2c3f0415fa5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 10 18:46:40 2019 +0200

    Fix backend selection logic wrt enable_jit()

commit cc51064c866004d2ff34185ae16d31a3fadaff4a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 10 18:38:15 2019 +0200

    Add support for specifying script options (#238)
    
    The only supported option for now is for explicitly picking a JavaScript
    runtime. This means that enable_jit() is now deprecated, but works
    better than before as there is no longer any restriction on when it may
    be called. All it does now is change the default for scripts created
    without specifying which runtime to use.

commit b34bfa70eb14051ffe9b26ccd74e1ca74dc366de
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 10 00:30:58 2019 +0200

    Fix typo preventing frida-gadget from linking

commit a33afae6a4818189b3a8056453e9a9295b471139
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 9 21:10:42 2019 +0200

    Canonicalize the Meson option names and declarations
    
    And use GumJS' new .pc file variables to detect whether we need to force
    C++ linking.

commit 2ce62908995a8e535e6372d0cceb15ec868d13a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 7 22:20:17 2019 +0200

    Don't enable diet mode by default on embedded Linux

commit 5a2a54e8a380825d68a83ac8c5168a2a74892462
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 18:47:12 2019 +0000

    Fix tests on non-x86 Linux targets
    
    The resident agent labrat is available for all architectures.

commit aaee5bbeaad7460e98db329d8ec8cd7d244a0401
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 18:45:12 2019 +0000

    Fix injector on linux-arm64
    
    By making a bit more room for the pthread_create() call.

commit 119e61982c380f6c38fbdae3162c0b65b3caee17
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 18:40:31 2019 +0000

    Include asm/ptrace.h on all architectures
    
    Instead of relying on it implicitly being included, which is not always
    the case.

commit e9555069720f864d72189ce03e20e0a49c270586
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 17:30:42 2019 +0000

    Add labrats for linux-arm64

commit 52aa42f314ab847cec23d871d1355159bd49a24f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 04:01:01 2019 +0200

    Suggest disabling Magisk Hide when attaching to zygote fails

commit baa93d85c4ab0a7f179da141328e6b27a2ba582b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 03:28:54 2019 +0200

    Build frida-helper executables without any exported symbols

commit 0c5d984b83006223bc76a2b5de7dccd6c6168b77
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 03:02:29 2019 +0200

    Only use a helper process for cross-arch interactions on Linux
    
    Makes our binaries smaller and startup times shorter.

commit fe9f9e32e9f0a14767e173ab8a64a6d713004917
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 6 00:26:07 2019 +0200

    Limit frida-server preload warning to verbose mode
    
    Attaching may still work, and the same error will be seen by the user
    when trying to spawn().

commit b6aeac806a32f973801735e98607d93e38880e58
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 5 20:49:09 2019 +0200

    Simplify the Linux injector's Android bits
    
    By using the new Gum.Android API.

commit ce10a2c3d640089fc58d37184f907d920233c27c
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Wed May 1 22:09:57 2019 +0200

    Fix spawn on Chimera jailbreak (#236)
    
    By reimplementing jb_connect(), jb_disconnect() and jb_entitle_now(),
    which are now just empty stubs in libjailbreak.dylib.

commit 95d8f2ac24b29405bcf55c0a72bb85b7654ea983
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Wed May 1 18:19:21 2019 +0200

    Fix buggy iOS kernel check (#237)
    
    By explicitly excluding 12.0 GM to 12.0.1 from the buggy set.

commit a4abd22212351ca3c5cecfb036d02b25976ff3a0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 22:39:08 2019 +0200

    Fix stylistic inconsistency

commit 2a9752475e55c4da09639d0c0eb7c49dfe01e5b4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 16:04:58 2019 +0200

    Remove the C++ allocator to fix crash on Android
    
    It's covered by the libc shim, and we don't want to deal with the same
    edge-cases in two places.

commit 7fa2b5adb1c676882c38f34c717b913333c204c3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 13:16:16 2019 +0200

    Add teardown to the resident injection test

commit f37872d8238d13cefa866905e372b9a347079f90
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 01:02:58 2019 +0200

    Prefix errno helper with underscore for consistency

commit feb2e1c3c4af0b0268dd27d2d4b7e2c6ed7a2bd0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 29 01:00:41 2019 +0200

    Fix linking on android-arm64
    
    The distance between our syscall wrapper and frida_set_errno() is no
    longer within the range supported by a conditional BR instruction, so
    we need to fix this brittle assumption.

commit 9ca150a7c052e0d6d77cb4d140fc3197c96779bc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 28 22:19:39 2019 +0000

    Fix crash when agent/gadget gets loaded at a high 32-bit address
    
    Which would end up breaking the reflective logic that determines where
    in memory it's loaded.
    
    Casting directly from a 32-bit function pointer to a uint64_t means that
    the function pointer will be sign-extended, i.e. if MSB is set the
    resulting value will have all of its upper 32 bits set.

commit 9ee73a4c246245f0299812090b571cf1065fb13a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 28 21:13:23 2019 +0200

    Build executables without any exported symbols
    
    This means the linker can make them smaller, but more importantly also
    avoids conflicts with dynamic symbols from system libraries. The latter
    has already caused some pain due to Frida's proxy-libintl clashing with
    a symbol in glibc.

commit 0d1e70d90c7e1cf75d3c0ee381541dfbab171bb0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 28 20:47:14 2019 +0200

    Fix unused result warnings reported by GCC

commit 98e531b97ea5e8305ca3391fdcd29990e87d8cd4
Author: Florian Märkl <info@florianmaerkl.de>
Date:   Sun Apr 28 18:29:43 2019 +0200

    Add g_set_prgname() to frida_init() (#235)
    
    Co-Authored-By: thestr4ng3r <info@florianmaerkl.de>

commit 675b520828e83be8415ef34bea867bd30e013704
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 28 04:31:58 2019 +0200

    Improve libc shim to handle early and late heap API usage
    
    E.g. libstdc++ constructor calling malloc(), and a corresponding
    destructor calling free().
    
    This solution does however have one dangerous assumption: allocations
    may not be used during destruction, only freed. We can however verify
    this statically through manual inspection.

commit 564f4c12eefb7a0c0b0bb1fdd250c49ebf806030
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 26 21:47:03 2019 +0200

    Move C++ allocator shim to frida-payload
    
    And add missing `noexcept` specifier.

commit b15cb49018da8f3d265820769a019288ff2e4595
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 26 21:21:01 2019 +0200

    Run agent tests with V8

commit a09eea3699e47c888aa364683dbf87500a75c634
Author: Fernando Urbano <fdiazmalaga@outlook.com>
Date:   Fri Apr 26 15:34:21 2019 +0200

    Fix child gating on older Windows versions (#234)

commit d690acfb0a54db2df3529a2a30eb1c3c75126130
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 25 23:42:50 2019 +0200

    Don't override new and delete on Windows
    
    As we're using a static runtime there and don't want to worry about
    early calls from constructor functions.

commit 0a4ec82162158a5c3a51f7b75abf34cebbb806c0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 25 23:41:47 2019 +0200

    Only provide a throwing delete operator override
    
    As the throwing new and delete are at the root of the graph, i.e. the
    default implementations of the other overloads end up calling them.

commit 29ffd2f78062bad50b0bfc5cfddb6efc82dd6213
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 24 15:36:47 2019 +0200

    Fix the C++ allocator shim

commit 70b581ad768e17260d2e24dec591bc4f8372abaa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 24 15:36:05 2019 +0200

    Remove the iOS JIT server
    
    It is only useful on old versions of iOS, and it's a better long-term
    strategy to always have a fallback code-path for non-RWX systems.

commit 8f4a3e837e26d895f1c38ebe9e4ba515c0b99104
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 23 21:48:28 2019 +0200

    Factor out common logic into frida-payload
    
    To avoid duplicated logic across agent and gadget.

commit 1376cf9a15159231434a327a51b11f89126d4a68
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 18 02:41:19 2019 +0200

    Redirect C++ new and delete to our internal heap
    
    Also redirect calls to C APIs, as this part is not pluggable in V8.

commit 307478b0c6aa37ab0b1ee92bc28e669b989193aa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 13 01:34:57 2019 +0200

    Suppress frida-server debug output by default
    
    Unless “-v” is specified.

commit 6da9c9ee6959921f54125ac15d3078351c50241d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 13 01:14:26 2019 +0200

    Remove signing logic for gadget and server
    
    Latest Meson does fixups at install time, which invalidates the code
    signature. This means we need to move this logic to the meta build-
    system level.

commit 2d2b3982e78a7cc81b6d58aeca42b002efafe55c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 12 22:27:25 2019 +0200

    Fix assertion usage in implementation vs test code
    
    Implementation code should never use g_assert_cmp*(), and test code
    should never use g_assert().

commit c6aa4020285421557967dd357ae082817596bc8c
Author: stevielavern <stevie.lavern@gmail.com>
Date:   Fri Apr 12 14:32:17 2019 +0200

    Make it possible to disable tests (#232)

commit a80d3ee43664a691ac9b582bddb77e41c948172a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 11 23:49:39 2019 +0200

    Revive the iOS backend on the new Vala compiler

commit 5aa3530a3ce1356cab6776d11e960adefd5d5e8a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 11 22:06:09 2019 +0200

    Port to the latest Capstone API
    
    Now tracking upstream's “next” branch.

commit 3cab36c160216c82c7c6a26d664dedac84966f31
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 11 21:04:46 2019 +0200

    Tweak custom targets further to satisfy latest Meson

commit e7965238d8aa32b4b926d82f32335895dae4e9de
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 11 20:41:46 2019 +0200

    Improve custom targets to satisfy latest Meson
    
    Inputs should never point to not yet existent files unless they're to be
    generated by the build system.

commit b4cfac55d6982dc0898345833d30873c63ebe0a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 7 01:29:15 2019 +0200

    Fix constructor visibility
    
    Constructors of abstract classes should not be public, and this is
    enforced by the latest version of Vala.

commit eeeb8d2e1a977fa837885b4dd6e0ea0c78e4fdd1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 7 00:54:03 2019 +0200

    Fix inconsistent ownership declaration

commit 67c1542d8608c4158c402be3f5f863f912becd27
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 6 18:23:35 2019 +0200

    Port to latest GLib and Vala

commit fdb31dbfe42e0324a0852b4ba393c14b6b9183dc
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Fri Apr 5 18:45:17 2019 +0200

    Improve iOS crash reporting (#233)
    
    - Avoid trying to deliver crash reports to dying xpcproxy processes.
    - Bump all delivery timeouts which aren't still expired at the time a
      crash report process is detected, in case it takes too much time to be
      attached and instrumented (especially when recovering from memory
      pressure after a Jetsam event).

commit 79c60f46d868fd4c61ea515b13222115967df19f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 30 01:40:21 2019 +0100

    Fix reference loop preventing proper teardown
    
    Typically resulting in temporary files left behind.

commit 7185d1a69e90bf988571aeb6e14b63ce30545dec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Mar 30 01:16:13 2019 +0100

    Preload when starting frida-server on Android
    
    To speed up the first app enumeration and launch.

commit d0f881bded9555cf6150438492b0b0ff336f3b0e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 29 20:15:49 2019 +0100

    Improve probing of dyld internals
    
    The module initialization function's end boundary is hard to detect
    through disassembly, so we use the starting address of the function
    following it instead.

commit 32eea21c00a9bb18c6f26bedd10575a062349916
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 29 19:20:12 2019 +0100

    Fix macOS spawn() regression
    
    By reverting to the old dyld helper detection logic for now. This means
    it may not work as well on iOS 12, but I suspect we are depending on
    undefined behavior as it is currently.

commit 35e0c72448462f418fb5557454f92eabceecec28
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Fri Mar 22 00:36:24 2019 +0100

    Fix iOS memory limit adjustment logic reliability
    
    Some daemons were mistaken for apps, resulting in Frida not adjusting
    their memory limits.
    
    Instead of keying off whether there's a plist next to the executable,
    parse the executable headers and look for a dependency on UIKit.

commit d0c22cba6eb7bdba91fa53fd9d898da32d4936d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 27 11:32:29 2019 +0100

    Fix double close() in the Linux injector
    
    This typically resulted in Zygote getting stuck on Android.
    
    Kudos to @giantpune for reporting and helping track this one down.

commit c6c0ddde7895111b07b88f0944ac94727dfc057c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 27 02:41:03 2019 +0100

    Revert "Fix FIFO race condition in the Linux injector"
    
    Turns out the issue is still reproducible, just way harder to reproduce.
    
    This reverts commit aa14493b26858770b62cbcda22f81a55ac101262.

commit aa14493b26858770b62cbcda22f81a55ac101262
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 27 02:16:27 2019 +0100

    Fix FIFO race condition in the Linux injector
    
    The cancel() logic should flush the main context so it is safe to close
    the file-descriptor as soon as it returns.
    
    This typically resulted in Zygote getting stuck on Android.
    
    Kudos to @giantpune for reporting and helping track this one down.

commit 0e04f59f9372abc4a51cd924ac8402782ed3aa95
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 15 01:25:31 2019 +0100

    Tweak the internal iOS agents to improve readability

commit 270d34dbadaab9261366fb48520575934a3b8e61
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 15 00:19:57 2019 +0100

    Fix fragile assumption in the spawn hook
    
    The user might hook functions in launchd and confuse our internal agent's
    hook. The depth should eventually become per-script and not per-agent,
    though.

commit 33e293b030eb1d6caffc6fbb96df8a879cd2b0a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 15 00:03:33 2019 +0100

    Port internal agents to the modern memory r/w API

commit c332d73f9a67c6352213eef349ff4624d2a9239b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 14 21:45:03 2019 +0100

    Fix spawn() on substrated-based iOS jailbreaks

commit d52a1cd30eaceb6a922aff4d93f462e87b0bfcf5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 13 00:52:08 2019 +0100

    Fix build regression with older kernel headers

commit 343ac70b83fe11065a1226e4add82416858c2c62
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 12 23:41:24 2019 +0100

    Fix unreliable child gating on UNIX
    
    It's very common practice to close() all file-descriptors between
    vfork() and execve(). Because of this we need to guard our FDs against
    close() when child gating.
    
    This was easily reproducible when following Android's Runtime.exec().
    
    Kudos to @giantpune for reporting.

commit ec9abc6e705a4faf4ffb17ea46ef46fc2aed640e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 12 23:39:41 2019 +0100

    Improve frida-agent memory range detection
    
    So it can be renamed without breaking the algorithm.

commit 09740e4b0a34613e556daed3dc884c600b91a973
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 12 21:18:09 2019 +0100

    Use PTRACE_SEIZE when supported by the kernel
    
    This makes our injector less intrusive and speeds up exec()-transitions.

commit 44fb2bc407691066d3ca3fb25ce57925bacc3be9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 12 20:09:17 2019 +0100

    Fix accidental SIGPIPE in parent during fork()
    
    We were closing the FIFO before the parent's agent thread had a chance
    to stop.

commit 9edbe3271475f148c21bdc2a918e08874fc31ae1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 12 20:06:14 2019 +0100

    Always use a typedef when defining FridaRegs

commit f60f42f5d59d8a736f9d41872110317763f6eaa4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 11 22:02:32 2019 +0100

    Fix race where frida-helper connects too early
    
    We need to give DBusServer an iteration on the main-context before
    launching frida-helper.

commit b716c7105ec6cfd4e746f847dc93ef8a63d25ecd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 11 21:59:12 2019 +0100

    Bump frida-helper setup timeout

commit fedebbaec82d8f71a0cad7023dcb82da788c930c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 11 20:20:13 2019 +0100

    Fix error propagation when unable to spawn helper

commit ffe2c7fb16f34a8fddc46d25e1903ddae54d300b
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Fri Mar 8 17:07:08 2019 +0100

    Add preliminary support for iOS 12.x (#230)
    
    - Avoid calling into SpringBoardServices during app launch.
    - Let `need_helpers` to always be `TRUE` for now.
    - Include iOS 12.0 in the buggy set because the beta is still buggy.
    - Deal with `SBSCopyFrontmostApplicationDisplayIdentifier` returning
      garbage of length 1 when no frontmost app is there.
    - Add the `com.apple.private.security.container-required` entitlement
      set to `false`.

commit 8cd0355fe23c84cff35da75543812e80a6ff1ea6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Feb 19 14:04:00 2019 +0100

    Fix deadlock when JS thread terminates process
    
    E.g. by directly or indirectly calling abort().

commit c9d577539ff73a83f89d7bf028ca0b10edc516dc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Feb 12 21:48:24 2019 +0100

    Fix injection into 32-bit processes on Android 9
    
    By taking Thumb vs non-Thumb into account when parsing the dlopen()
    implementation.
    
    Kudos to @giantpune for reporting and helping track this one down.

commit 839ab54e1475334a2cd50ca3446fb6e177e8b28c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 4 23:13:42 2019 +0100

    Revert erroneous Windows build system changes

commit d9c749cf98546defcd96c4a1468de9498ae84286
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 4 22:05:51 2019 +0100

    Revive the Windows build system

commit b0bf8b799ab98cff342bd304824cf114490a7690
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 4 21:56:12 2019 +0100

    Add spawner labrats for Android

commit 4da3d2d687fa862f9af538c1f214e111af974a7e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 4 19:24:16 2019 +0100

    Fix child-gating of "bad" exec() followed by "good"
    
    Also update some of the labrats, and remove the outdated ones that we'll
    have to re-add later.

commit f8e002be0a2feea5d5895cea980f85e05a5daed8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 4 13:22:36 2019 +0100

    Fix buffering logic in the SuperSU client

commit 122d80e719f74e0181a0587bcb419f5c3152a46d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 2 01:27:36 2019 +0100

    Add Crash summary
    
    Also improve the logcat crash builder and fix the buffering logic.

commit de5903e3fc8fe44a3caf50f6244b5d8435c2c56a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 1 16:50:54 2019 +0100

    Fix the RPC message handling

commit 292e7bec0bc31a8ecb1e16735052c7eb16a6d15f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 31 17:26:29 2019 +0100

    Handle bogus stack frames in the ReportCrash agent

commit c5a8ec319ec70d5f55708d399b491024ef47bcc1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 31 14:22:29 2019 +0100

    Factor out RPC logic into a helper class

commit c8713fcb820d64289770fd2b9f52d7d6a9559cca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 29 15:39:36 2019 +0100

    Canonicalize iOS crash report parameter names
    
    So `bundleID` becomes `bundle_id` for consistency with the other names.

commit 2450398e27141e6398c6e89d86ae553ac5ac2d3c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 29 15:13:29 2019 +0100

    Refactor JSON-related logic for improved consistency

commit 22b0686c2268e6a89befa1e44bade13025663755
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 28 23:55:03 2019 +0100

    Add crash reporting APIs (#225)
    
    Introducing:
    
    - Crash class with: `pid`, `process_name`, `report`, `parameters`
    - Device::process-crashed(Crash crash) signal
    - Session::detached(SessionDetachReason reason) signal is passed an
      additional parameter: `Crash? crash`
    
    Only implemented on iOS and Android for now.

commit a337a275124f65005fff6e750a4c6cf95c6fd100
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Jan 21 13:50:30 2019 +0100

    Fix additional deadlock scenarios on i/macOS (#224)
    
    By handling cloaked threads in task_threads() and thread_resume().

commit 3c54610353f503c10c4fb86e706019e410bf36a3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 12 02:10:49 2019 +0100

    Make i/macOS process enumeration more robust
    
    So we avoid undefined behavior in case a process dies after we've listed
    the processes but before we've resolved all of their names.
    
    The undefined behavior has been observed to result in entries where the
    name is the same as the previous alive process. It could obviously also
    result in junk.

commit 0e9eaf0d2b265a59e0b0d36144bfa9dcbb1ab3fa
Author: Giovanni Rocca <giovanni.rocca.90@gmail.com>
Date:   Sat Jan 12 00:47:59 2019 +0100

    Improve frida-inject to accept script on stdin (#222)
    
    By specifying dash as the script path.

commit 646ef30f271891d4a041d454dbdac8ed6cad4c44
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 12 00:13:12 2019 +0100

    Fix iOS early instrumentation stability regression
    
    The dynamic memory limit adjustments introduced in fbbdf4b made the
    policy softening stateful, keeping track of whether a given PID that
    we've got an agent in has already been policy-softened. That means a
    cache invalidation bug may break exec-transitions because we fail to
    entitle/platformize the post-exec version of the process. I.e. when
    xpcproxy becomes the app or service being spawned.
    
    Turns out we did not take into account the case where the invalidation
    happened after we considered the exec-transition complete. This meant
    that the spawned/spawn-gated process would die pretty quick, and make
    attach() fail with the following error:
    
        Expecting to read a single byte for receiving credentials but read
        zero bytes
    
    We fix this issue by explicitly notifying the backend when an exec has
    completed. The backend is then able to flush its dispatch queue, and
    eagerly clean up any injection instances for the given PID.

commit 538c592f1a9882ebd2affda734dca566f74ae2cf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 11 23:49:53 2019 +0100

    Fix outdated comment explaining exec-related quirk

commit 8525fa253625817a2d2f11a1cb6dd7abe2ef9f13
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Fri Dec 14 16:22:28 2018 +0100

    Keep a task port ref while spawn instance is alive (#221)
    
    To avoid it being destroyed too early in case the app takes too long to
    be loaded.

commit 5be90d75f8d86f59e34c358bbb1ded952a4f7d89
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 5 03:26:08 2018 +0100

    Refactor the iOS memory limit logic

commit fbbdf4b770bd88488b89b26cd99d1b846fd4cbc7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 5 00:15:10 2018 +0100

    Bump iOS memory limits for non-apps before attaching
    
    To be able to instrument daemons with low memory limits.
    
    We revert back to the previous limit when the last injection payload
    gets unloaded.

commit 1e1c517897f7a83c78b4b74f8764189934a1a0b6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 29 02:52:16 2018 +0100

    Only build ElectraPolicySoftener for iOS

commit 10e011882304e14ad2175f7e43c18d892410c665
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 29 02:51:13 2018 +0100

    Simplify the kernel agent availability logic

commit 60fb74ab40542e63f52bc4b963103a1fcc26123b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 29 02:04:08 2018 +0100

    Speed up the Electra integration
    
    By using libjailbreak.dylib and re-using the same connection. This also
    works even if the daemon dies.

commit 56b8b55815c67b1fa7b5c483bf92e1724c600175
Author: Rory McNamara <psychomario@users.noreply.github.com>
Date:   Thu Nov 15 17:46:52 2018 +0000

    Add -d/--directory for overriding the temp directory name (#220)

commit 946837a98508686f21fe3e0198622d6b213896ba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 9 01:46:03 2018 +0100

    Update to the new Gum.Darwin.Module API

commit 713e1b85018f29a633de1aba99124bef19f178b5
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Nov 8 15:18:25 2018 +0100

    Avoid deadlock when a thread suspends itself (#219)

commit 99d7ded2b3dd5ba4666a462f6e3158712f431a3b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 6 22:24:47 2018 +0100

    Improve SELinux rules to better support Magisk

commit d915fe2d18750a552cf5ca10d5506f33d0f5a40f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 6 21:56:13 2018 +0100

    Fix stylistic inconsistency

commit 0b54dae6b0efcf1ded930162649223ef6223c2ad
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 5 21:22:13 2018 +0100

    Fix warning regression on non-Darwin

commit ca58d8990bb7f4b5fe51901e6bc5aef31a08d5df
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 5 21:14:52 2018 +0100

    Flush Stalker before exit

commit 535d5f7f243b488f00bc54c1db33f9cf33467ca4
Author: tobypetrice <44373012+tobypetrice@users.noreply.github.com>
Date:   Mon Nov 5 15:13:40 2018 -0500

    Add support for systemless root on Android (#215)

commit 07280a21993beb0bb88afd022b8c751dae6c40a9
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Oct 30 16:33:02 2018 +0100

    Add retry logic around task_info call (#217)
    
    Apparently `task_info()` fails randomly with “invalid argument” (and sometimes
    “mig server died”) because we’re calling it too early in task’s lifetime. It
    will now retry at most 3 times before giving up.

commit 8f1892beba3bb473601d971c4c32adfbaccfa5b2
Author: tobypetrice <44373012+tobypetrice@users.noreply.github.com>
Date:   Mon Oct 22 20:21:13 2018 -0400

    Fix stack alignment for 32-bit ARM targets (#214)
    
    Should be 8, not 16.

commit 3fe24c3a1e12abb54d7d89d6d5ca601211fcef8a
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Fri Aug 10 19:29:54 2018 +0200

    Fix thread_suspend() deadlock
    
    - Prevent Frida's own threads from being suspended.
    - Ensure that the target thread is not waiting to acquire our JS lock
      at the time when it is suspended. This is quite tricky because XNU
      happily hands over lock ownership to waiting threads even while
      they're suspended.

commit a2020dd183a89b308e133e28a3d6f610d80eebd7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 23 01:59:28 2018 +0200

    Fix a few minor stylistic inconsistencies

commit 9afe797f2f27d1a094211fbd83700b3625a3629d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 22 18:54:47 2018 +0200

    Add failing test for thread_suspend() deadlock
    
    Kudos to @mrmacete for helping track down the root cause of this issue.

commit 31f42414689fd81878fd0d2466d88933bbceed2e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 19 00:25:24 2018 +0200

    Refactor the system-server agent

commit c4d827d3f2f6d73e9c5ab583e018d71a65d29ab0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 19 00:22:06 2018 +0200

    Disable launch timeout when spawn()ing Android apps

commit e90f52fa695084dcf702b22e1f3c42bd18aa563b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 18 23:20:44 2018 +0200

    Fix unreliable spawn() of already running Android app
    
    By leaving it to the system to stop it correctly.

commit aa1b19e51da6d7d6dd5dbdd02be7bd48e59d3b13
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 18 23:08:45 2018 +0200

    Make kill() gracefully stop Android apps
    
    Which is consistent with how we do it on iOS.

commit 149ad00b7487c1aab16fca96abe89e47e9852873
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 18 19:55:40 2018 +0200

    Pick the most important PID in Android app listings
    
    Typically one presenting a UI.

commit f529e19a3d2881df8d03bb8855b0c8eb38de97a1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Oct 18 19:14:12 2018 +0200

    Move Android agent from systemui to system_server
    
    So we can hook Process.start() and other interesting things.

commit c4f0ed02d2bda1e06d248fa34ce4e9eda8ac4ffa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 17 02:35:02 2018 +0200

    Speed up initial app listing and launching on Android
    
    By kicking off the systemui agent on startup instead of waiting for the
    first request.

commit 5243fe00ee9545c4865b2e69ba67f577fe978a2d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 17 02:13:52 2018 +0200

    Speed up app listing and launching on Android
    
    By making the systemui agent run on V8 instead of Duktape (the default).
    
    Measuring enumerate_applications() on a Nexus 5X with a freshly started
    frida-server this brings the first call, the "cold" case, down from
    2322 ms to 1601 ms. For a subsequent "hot" call it goes from 448 ms to
    231 ms. These measurements include RTT over USB.

commit 6193db218e9f31cfe2246bdd48afd13a20147a8a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 10 22:55:52 2018 +0200

    Wire up TLS providers in agent and gadget

commit f4361c2d9d8be7774ee52b60eb78be578cccde0e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 9 02:46:40 2018 +0200

    Disable diet mode by default on iOS
    
    Now that it is once again possible to use V8 on iOS.

commit 823c7f9117deeae1cc1567ffa07e8bbbd0d66e72
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 3 19:06:47 2018 +0200

    Fix the Android class name canonicalization logic

commit 661d7f20db8b3be59548a880bfc11656f2d559ba
Author: Dr Zoidberg <0x3430D@gmail.com>
Date:   Wed Oct 3 03:46:31 2018 +0200

    Add support for spawning Android broadcast receivers (#213)
    
    By specifying the `receiver` and `action` aux options.
    
    Also be as forgiving as the system if the class name is bare and does
    not start with a period.

commit 6858f43cf24b03128168eb0399d457b1c22ab585
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 29 02:58:27 2018 +0200

    Add watchdog logic to the XNU driver
    
    Disable spawn gating if an entry is still pending after 20 seconds.

commit 22f5dcf06ec28f9efc24c2822e1ab77fb4bdc0fe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 29 02:55:13 2018 +0200

    Don't rely on “realpath” in the XNU reload script

commit c1a527b8c00a01a4cc82835b41cbc2dd59a99948
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 28 20:02:10 2018 +0200

    Fix regression in the XNU symbol resolution logic

commit c3e7d1dafc0968f55faa4503c1a048df874e11d6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 28 19:46:25 2018 +0200

    Improve XNU driver to support kqueue/poll()

commit 206c13bf1aaf191a3ff0c110e153ad279c0d4cee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 18 01:58:37 2018 +0200

    Also emit `uninjected` regardless on Windows

commit db8041eb4b478fdd5947e3d50d66805ed7b1da6e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 18 01:34:13 2018 +0200

    Fix child-gating regression
    
    Broken by 92a18955c86d390a81df28099a49ba4672f016fe.

commit 684ba45f8f2a722d82c317e3c1c7d7d3ebdf5ae6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 18 01:33:19 2018 +0200

    Update injector resident test to the new behavior

commit d63ac9d9da8a610452db5b55afe8410a107649e6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 18 00:36:56 2018 +0200

    Add -n/--name for specifying process by name
    
    And improve error-handling while at it.

commit 973048514bbeaef74fb0c88334a54e220781a61f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 18 00:17:20 2018 +0200

    Add -e/--eternalize for permanent instrumentation
    
    Handy for applying tweaks that should never be unloaded.

commit e895c916e61053dff7f8ec856ddf8806c4745162
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 18 00:16:33 2018 +0200

    Exit if unable to start

commit 832e647577013313aa8f8cea86bbff319c536a67
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 17 23:14:04 2018 +0200

    Also emit `uninjected` when unload policy is RESIDENT
    
    So the client knows when the remote agent's entrypoint has been run.

commit 92a18955c86d390a81df28099a49ba4672f016fe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Sep 17 22:11:59 2018 +0200

    Add support for eternalizing scripts
    
    Such scripts stay loaded indefinitely, and the agent stays resident
    for the remainder of the process lifetime.

commit b7fe0fc30e9d029438df9c29da58a701c91060fc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 12 02:31:02 2018 +0200

    Improve helper process teardown performance and safety
    
    We have already closed the connection so the helper knows it can stop,
    and since we're on UNIX we can obviously unlink the files at any time.
    
    This improves performance on teardown, but also avoids relying on GLib's
    signal watching logic, which becomes problematic when more than one copy
    of Frida is loaded in the same process. The issue is that each will call
    sigaction() with the same signal number, meaning that only one of them
    actually gets the callback. It may sound weird to have more than one copy
    of Frida in the same process, but this may happen in case two Node.js
    modules require different versions of Frida's Node.js bindings.

commit 12322c165989d8d7b40918fbf28f6471b099b307
Author: BAYET <corentin.bayet@gmail.com>
Date:   Mon Sep 3 15:14:53 2018 +0200

    Fix attach() to program with non-executable ELF-header (#208)

commit 66fa65d1751dd8b480d26fa4867aeeff9bd70eed
Author: Corentin Bayet <corentin.bayet@synacktiv.com>
Date:   Fri Aug 31 11:33:35 2018 +0200

    Bump stack size of the remote-executed code
    
    As one page is sometimes not enough and results in crash during attach.

commit 1ea7496106927091656cc9bc3119bd7d713aa041
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 23 21:54:26 2018 +0200

    Fix warning about unused result

commit b294f0c0f801ef0a5fc8203d8f2df6d847a1da35
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 23 21:13:00 2018 +0200

    Fix build system on arm64
    
    Also improve consistency a bit. It's tempting to use Meson's name in
    filenames, but that would make it inconsistent with the code.

commit 153cbcb5142abfd801bd780b04c36bb4d2549ad0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Aug 23 20:46:09 2018 +0200

    Fix warning in Linux production builds

commit cb78db3c814905c53ad05940f2eda0605bf1cfe5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 21 23:21:37 2018 +0200

    Embed symbols in object files
    
    Like our SDK does.

commit b14689ac72bd52c12bb1c6b9ed269135e2eb3af8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 21 20:38:52 2018 +0200

    Fix dangling project file reference to gadget.vala

commit f786676768117d3d0c65e448468460e7583d03da
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 21 20:24:07 2018 +0200

    Fix warning in production builds

commit 0cf8b26688048e97d27340c0af3c4b534130219f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 21 20:12:15 2018 +0200

    Disable assertions and checks in production builds

commit e32be07ab3b70a19baf7a0496247ad233c1d9bc5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 20 23:17:51 2018 +0200

    Fix the Windows build system

commit ac2105b6964ddce8e7cca1b771b84aad66dcf36e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 20 23:17:40 2018 +0200

    Ignore .user files generated by VS

commit 893e1eaf9310ce23b96b5b2407074f7c0f8f1cb2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 11 05:08:35 2018 +0200

    Add GumJS to private requirements

commit 1a502bfc1f099b96189052985d10749977e164ad
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 11 04:54:11 2018 +0200

    Wire up Chrome Inspector compatible debug server
    
    Only when using V8 for now, but we should eventually be able to support
    it for Duktape too, once that backend also speaks the same protocol.

commit 840d7947746611e1cc3c0ed65e179d92d231b90e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 10 16:58:48 2018 +0200

    Use the correct Meson CPU family name for arm64

commit 306e288ceba0ad95a1c3a4a167e9840a6717de37
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 30 22:45:27 2018 +0200

    Fix launching of Android apps with custom process name
    
    Specified through `android:process`.
    
    Kudos to @giantpune for reporting and helping track this one down.

commit 76aef766cb09273441d1d532d5f96d285a29aed4
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Thu Jul 26 11:49:28 2018 -0500

    Fix early instrumentation on iOS 11.3.1 through 11.4.1 (#199)
    
    Apple introduced a regression in 11.3.1 breaking hardware breakpoint support,
    which later got fixed in the iOS 12 betas. Because of this we detect affected
    OS versions and fall back to using software breakpoints on those.
    
    Also refactor i/macOS early instrumentation while at it.

commit d9f5b3a2363005a6d6e68e3881f1f40346b2b7d1
Author: Carl Hurd <carl.m.hurd@gmail.com>
Date:   Wed Jul 25 12:22:28 2018 -0400

    Add missing labrats for ARM and MIPS (#198)

commit c0ef49b5dc5969f8ee593bdeb399f610cd8deae3
Author: Carl Hurd <carl.m.hurd@gmail.com>
Date:   Fri Jul 20 10:37:49 2018 -0400

    Fix syntax error in the syscall wrapper for MIPS (#197)

commit 8fe9eb1dc2ddc73517a9221eda1e0c8a2f7cb781
Author: Carl Hurd <carl.m.hurd@gmail.com>
Date:   Wed Jul 18 17:38:44 2018 -0400

    Fix MIPS regressions (#195)

commit f17e2773dafe6411bdda49cfcd2bb32ac7d018ef
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Fri Jul 13 13:57:19 2018 -0500

    Fix i/macOS libc++ initialization on early instrumentation (#194)
    
    In this case, `dlopen()` takes a different code path and hits this check
    in `ImageLoaderMachO::doModInitFunctions()`:
    
    ```
    if ( ! dyld::gProcessInfo->libSystemInitialized ) {
        const char* installPath = getInstallPath();
        if ( (installPath == NULL) || (strcmp(installPath, LIBSYSTEM_DYLIB_PATH) != 0) )
            dyld::throwf("initializer in image (%s) that does not link with libSystem.dylib\n", this->getPath());
    }
    ```
    
    When we call it to initialize libSystem it throws an exception when loading
    `libc++.dylib` which is a dependency but it's not libSystem itself, leaving
    libc++ uninitialized and leading to potential crashes.
    
    This solution boils down to hooking dyld's `strcmp()` and make it successful
    in any case when called from the context of the above code.

commit 0bd5f5ae4cb005d72e927aab4efb87b67fec470d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 12 00:13:01 2018 +0200

    Port to Capstone's next branch

commit 0c9ccc6af90c1a338385ff23c7e4ffd1e7f51dc7
Author: Carl Hurd <carl.m.hurd@gmail.com>
Date:   Mon Jul 9 06:55:55 2018 -0400

    Fix typos in the linux-{arm,arm64} injector codepaths (#192)

commit 46bd73e7bd5a7ab7285a209bca7e20a4c002182f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 29 00:39:43 2018 +0200

    Bump interface versions to upcoming major version

commit 9af53164dae9f7b5829c2e331beafc1f9957bd7a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 29 00:38:15 2018 +0200

    Rename TETHER to USB for consistency with bindings

commit 30cf9a3df4dfbff7ec5e9331b845b457a142ffe5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 25 14:41:38 2018 +0200

    Make the ScriptEngine state machine a bit clearer
    
    And avoid calling unload() if script wasn't load()ed.

commit 9ee840093b672a65f42467354cb6b1b061c0d008
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 25 14:24:02 2018 +0200

    Only call dispose() if script was loaded
    
    Also eliminate race between load() and teardown.

commit 29a784e39a4306a42dced23d5f29bfdef78e2af9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 7 02:38:45 2018 +0200

    Fix early instrumentation on Mojave and iOS 12

commit b2d1dbaa960da7d3228c2ee773df4b871ab02aa1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 4 23:10:46 2018 +0200

    Fix race resulting in crash on system session setup
    
    We were starting the worker thread before calling Pipe.open(), which e.g.
    on Linux meant that the agent, being the client, might connect() to the
    server end of the UNIX socket before the server was ready.

commit e6541666e9b65183559f1023fff37bd7c463531e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 4 20:16:05 2018 +0200

    Improve the argv-parsing logic on Windows
    
    Backslashes are not escaped.

commit fe815b3b0c31c3604f017cd2f16894e596a840e7
Author: ineedblood <fernandou@google.com>
Date:   Mon Jun 4 11:06:54 2018 +0200

    Improve Windows child-gating API coverage
    
    By intercepting calls to CreateProcessInternalW(), which is used under
    the hood to implement e.g. CreateProcessW().

commit a5298fd0ae0394248c2ea174e372450acad6234e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 2 02:38:56 2018 +0200

    Fix truncated names in process listings on iOS

commit 99a9837f9a4455b8e28879ba08fc576bd287914a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jun 2 02:29:16 2018 +0200

    Fix compatibility with Electra's Tweak Injector

commit baf29a70c87de83a870b7caffdc1370e36cfca27
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 31 00:38:08 2018 +0200

    Adjust shebang to target Python 3.x

commit 158021c128d2e82401fb22bdc5e434955f0f914e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 10 20:51:06 2018 +0200

    Plug Mach ports leaks
    
    - Backend of resume() was stealing the task without deallocating it.
    - Storage for the received Mach exception message got recycled without
      clearing it first.

commit 6a8618d6464849356ae52d45406530f8c2da7f77
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 9 01:04:46 2018 +0200

    Fix stack alignment of agent thread on 32-bit ARM
    
    Which resulted in some interesting undefined behavior.

commit 897f42d04c608c09154c2ecbf0387c30a49aad65
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 9 01:03:40 2018 +0200

    Improve robustness of ScriptEngine.teardown()

commit 49ca131808ca3455c0809531c04e27d69fba8452
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 8 20:13:47 2018 +0200

    Also log prepare_to_fork() failure reason on non-Android

commit 5a838ad40489cfba8892c40ef8dae0445c59ad25
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 8 20:12:12 2018 +0200

    Log error to help track down SELinux issues

commit 4aee8fc645778cfd76ffe1a25f9c2a321121f1fa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 8 16:40:06 2018 +0200

    Fix fragile SELinux rule patching
    
    By dynamically detecting the SELinux context that Frida is running in.

commit a75fda16252f5d032ebf2a070e4b60e436af023b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 5 23:50:19 2018 +0200

    Revive the Windows backend

commit 27ab17e167adeb6bf997694fa6cf297a5acc79c9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 5 23:31:57 2018 +0200

    Fix inconsistent naming of error labels

commit 7b140d7f819fbb44e8c7151d2cabd52857ac3298
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 5 03:21:11 2018 +0200

    Improve error-handling and feedback for aux options

commit a4e2ca506d51e3840122e4b8229d056a493547f4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 5 01:19:09 2018 +0200

    Rename the `class` aux option to `activity`

commit b6eabfea1810baf1e9744e9ce5e662f186c6e8db
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 5 01:00:20 2018 +0200

    Refine how Android app launching is customized
    
    Instead of parsing the `program` parameter looking for a slash, use an
    aux option to specify the `class` to launch with. This is consistent
    with the new behavior for iOS app launching.

commit 730448254e8abcb818cfd52bd1c79f7e7521645c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 5 00:39:36 2018 +0200

    Tweak output in the spawn-ios-app test

commit d7e51eee550ed74fce3d13a88f27f01ba24c239b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 5 00:38:39 2018 +0200

    Add `env` to SpawnOptions
    
    So it's possible to provide just a few environment variables to overlay
    on top of the ones in Frida's execution environment.
    
    This also means we can refuse to set `envp` in cases where this isn't
    supported by the underlying OS implementation, like when spawning an iOS
    app. It will however always be possible to provide `env`, as this is the
    lowest common denominator on the platforms currently supported.

commit 8fb61ea8c6010f54555dc8992d985699f232b698
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 4 21:04:30 2018 +0200

    Rename spawn()'s `path` argument to `program`
    
    As it may also be an application ID on iOS and Android.

commit 30aec36df93654efc6ff95b61c8a4aafbe5fb358
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 4 20:56:04 2018 +0200

    Tighten up the auto-generated header
    
    - Omit SpawnStartState.
    - Group strv-getters with other property getters.

commit bfb3c49a9ce46a7dcdd6dd0de434a3e9c26e6d1b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 4 05:07:37 2018 +0200

    Fix iOS stdio redirection line-endings
    
    Turns out closing the slave file-descriptors before the app has opened
    the slaves through /dev results in the pseudo-terminal getting reset back
    to defaults, so `c_oflag` once again contains ONLCR.

commit e7dd0c4e1161be995659a3692b9a131311669b87
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 4 04:17:15 2018 +0200

    Add some more examples in the spawn-ios-app test

commit d6d769b3e8ba2c123c45312ef2bbd542782e98c1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 4 01:45:27 2018 +0200

    Add support for spawning iOS apps with Stdio.PIPE

commit 828621045aafd26e344e2d6a0a470a2ff055cada
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 4 01:45:27 2018 +0200

    Add support for passing `argv` to spawned iOS app

commit dd476058ed9abe55e3cf72a2748322b37c503e67
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 4 01:27:32 2018 +0200

    Add support for disabling ASLR on spawned iOS app

commit 0855173ae5bec025041291b91bdb2890305d23ec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 4 01:15:27 2018 +0200

    Add support for passing `envp` to spawned iOS app

commit 52e161bbef3fa4f310a4089295cd9b980d55fa9f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 4 00:42:44 2018 +0200

    Use FrontBoardServices for iOS app launching
    
    Keep using SpringBoardServices as fallback for older iOS versions.

commit 67f9d7f628e5bc1758caff766dd986666cc07aa7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 3 23:45:15 2018 +0200

    Fix ordering of keywords for extern static methods

commit faf7a7d4b0e3793600df2b0128ee557ffbe99691
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 3 23:41:52 2018 +0200

    Refactor iOS launch logic
    
    In preparation of new FrontBoardServices code-paths.

commit a5a80a95b162a23e57d2420ab3bd266ba6f28778
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 3 23:38:55 2018 +0200

    Tweak `cwd` checks to improve clarity

commit 02d4dee58285985f25837f0ae4d7550cdb329f56
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 3 21:32:12 2018 +0200

    Add support for auxiliary spawn options
    
    And move `aslr` there, as it's only really supported on Apple OSes.

commit f334cdb06e935f54320fa8cf67ac74c4f4bf0551
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 3 19:55:13 2018 +0200

    Modernize the iOS app launching test

commit dd6accce9f2308c2180d2e9a56a632c523610778
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 3 19:54:54 2018 +0200

    Move iOS app launching checks where they belong

commit 252f7feac17232a2835311c7942ea789b993b0e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 3 03:32:11 2018 +0200

    Fix warning

commit e2ac115cd1cc146f13da393213d00d3c88f1a4b0
Author: radare <pancake@nopcode.org>
Date:   Thu May 3 03:09:53 2018 +0200

    Use TMPDIR envvar when not running as root on Android (#186)

commit 773b92b079cb68176693858c6534f137465ead43
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed May 2 21:53:40 2018 +0200

    Rework spawn() API and tweak child gating metadata (#185)

commit 9a6532e6003cca3c026056953d8faaf3eaf7caae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 2 03:38:01 2018 +0200

    Bump interface versions to upcoming major version

commit cfb2bf6e350ae05587ed402cc78b19fdfe921068
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 2 02:09:32 2018 +0200

    Rename gating signals and provide counterparts
    
    As it's very useful to know when a pending spawn or child gets removed.

commit 4f885ab573fb9f3534db4d0ec1346e3c12552909
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 2 01:16:33 2018 +0200

    Rename enumerate_pending_spawns()
    
    “Spawn” in plural is still just “spawn”.

commit dbdbbf77d684fe70a28d1e756c46b253b39466ae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 2 01:12:38 2018 +0200

    Revise the spawn() API so envp is nullable
    
    So backends are able to provide a sensible default.
    
    Up until now language bindings have provided a fallback, which doesn't
    make sense given that they're on the client side, i.e. might be running
    on a different machine.

commit c25e6f147692f3dd7610a5e19771bdb0e59a2910
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 1 04:10:10 2018 +0200

    Refactor RoboLauncher's signal wiring logic

commit eba778ce2963a14907db89171baee50c9fe4492a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 1 04:07:57 2018 +0200

    Fix stale spawn on resume()

commit ecb0c2e0edc2e94727a2ac51b70299725b6d75a8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 1 04:06:14 2018 +0200

    Notify internally about children being resumed

commit 89408955fe40ccaa69381c1370c1a1dde66e9e5b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 1 03:33:59 2018 +0200

    Fix "spawns" English grammar violation in internals
    
    We cannot rename enumerate_pending_spawns() without breaking API, though,
    so we'll leave that for a future major bump.

commit 09bd4006ee76416962168981fe7734d55b8cc0d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 1 03:30:07 2018 +0200

    Avoid grinding Zygote to a halt on Android
    
    When our Android backend is the sole user of child gating it's vital that
    it resumes any children that appear.

commit f296c423251cfdc5ef8557194d67a1e7e46d3369
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 1 03:27:23 2018 +0200

    Revive spawn gating in the Linux backend

commit 573df0db8b0f787d6046e81cf5c4d2fa0d9f767f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 1 03:18:50 2018 +0200

    Auto-resume pending children when disabling gating

commit 848ee493433329f30ee1a37835574f0b68b7ee81
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 1 03:16:33 2018 +0200

    Wire up internal propagation of child gating state

commit 699b7226d51b4916bd6bbdf3abc483744ea33320
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 1 03:11:16 2018 +0200

    Tweak naming to improve consistency

commit a8fbbcc0873789349ae363974a0cfd5b525aaa8b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 1 02:10:04 2018 +0200

    Fix crash in case target process is suddenly dead

commit c565c96074a8f8ab3339e345821c5fe0a639c259
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 28 06:06:35 2018 +0200

    Skip cleanup if there is evidence that an exec() happened

commit 4f47b09282a051133011d959a729f996a6e95306
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 28 06:02:05 2018 +0200

    PTRACE_DETACH if we manage to ATTACH but fail to wait

commit 3df29771f49b10978f4242cd1e146d07d86e0cf4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 28 06:01:10 2018 +0200

    Improve ForkMonitor's Android-specific logic
    
    - Only defer child recovery in direct children of Zygote, not in grand-
      children.
    - Ignore Process.setArgV0() calls that happen later on.

commit 3078f619ef2d38bde80f477fb227cfdb8294d440
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 28 05:56:30 2018 +0200

    Fix SpawnMonitor's teardown logic
    
    It is illegal to ref/unref `this` in a finalizer.

commit 421927af592c24b0fe2068958328fdabf7ea2cff
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 28 05:53:43 2018 +0200

    Loosen up the SELinux policy a little bit more
    
    To allow early instrumentation of even more targets.

commit 9bf6e8d17cd756802093a745215e12a6c1b356c8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 28 00:27:25 2018 +0200

    Clean up pending children when their processes die
    
    To avoid accumulating stale state.

commit 7eaf45638d2c1cedb0ce6cb223f6e21373856bfa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 27 21:47:46 2018 +0200

    Call rpc.exports.dispose() in injected mode also
    
    And when using Gadget in the `listen` interaction.
    
    This provides scripts with a uniform way to flush buffered data on
    unload as well as process termination.

commit b85ef99f585e8c0872e8c93552f300c39b2b5ce2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 27 04:43:56 2018 +0200

    Disable create-process test on 64-bit for now

commit f060ca812830ea7904145989d97fad6da1fa028b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 27 02:04:35 2018 +0200

    Fix Script.is_destroyed() logic
    
    Broken by the refactoring in 9bbdbb6.

commit 9c0401887be33e695d2ab28ed7ed3075c708c7b8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 27 01:52:57 2018 +0200

    Fix Script.check_open() logic
    
    Broken by the refactoring in 9bbdbb6.

commit d0e7234022059dfc02b70779cdb27de1f243dd3e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 26 20:06:48 2018 +0200

    Improve the child gating API
    
    So it provides a lot more context.

commit faf4c04f1171b5b06cc6191d022c111fa85e7b55
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 26 21:34:48 2018 +0200

    Add missing NUL-byte to environment block terminator

commit 9bbdbb61033afbd0e6134c6c6e0726be9c18b657
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 26 20:05:41 2018 +0200

    Refactor to use more construct-only properties

commit aaf7a9ab3e40337f1c4bd8b82d7b42e39449f188
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 26 04:49:47 2018 +0200

    Revive the system session

commit 462ac1f0d54cf24a5582d1ad35986ee301a48242
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 26 04:09:23 2018 +0200

    Revert execve() on teardown

commit 331c5dbf272ecb571a3d8dfe1715f8f71a6e99fd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Apr 26 03:52:55 2018 +0200

    Wire up child gating for exec*() and subprocesses (#183)
    
    This means it is finally possible to follow subprocesses all the way
    through fork(), exec(), posix_spawn(), etc.

commit 0ca72a12faf95caaf4a316a6d841bdfee170034c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 25 20:46:57 2018 +0200

    Drop 32-bit ARM padding hack by priming ARM_ORIG_r0 instead

commit 3caedf9a6e19443e64bf439ff7e528729c99acae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 25 20:41:44 2018 +0200

    Fix spawn() of 32-bit ARM executables on Android
    
    Entrypoint initializes r12 so it points at the GOT, and apparently using
    the libc before this has happened results in undefined behavior.

commit 378f138d78d2399a34d237b605bd5d2685acab36
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Apr 24 12:55:01 2018 -0500

    Keep client alive until idle handler has been called (#184)

commit 0e3c6b8050226ac89b75d510f1aa2745d06f9f13
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 18 21:09:09 2018 +0200

    Fix stylistic inconsistency

commit 03a2012558fe778668d60ed8a8688eaf140db0f0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 18 21:07:18 2018 +0200

    Make Linux injector's FIFO close-on-exec

commit a29e40f0130fbefcefe72ad1db454fac02b0b674
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 17 02:14:53 2018 +0200

    Regenerate forker labrats without sleep() hack

commit 5d0b6a32a3301b81f52b29e3268c753ecd5d25b0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 17 02:03:09 2018 +0200

    Improve teardown logic

commit 72ee2cab29b40cc71621f2b0529677912c57dfa0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 16 22:04:40 2018 +0200

    Remove sleep()-hack from the forker labrat
    
    It is no longer needed due to the new flush-on-exit behavior.

commit 349d1aeeb0f755102210868d395736c8db65bb32
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 16 22:03:27 2018 +0200

    Flush pending I/O when process is about to exit
    
    This used to be left up to the application, but has since been observed
    to cause quite a bit of confusion. It is also somewhat tricky to get
    right, so it seems better to solve it in Frida itself.

commit ffbd81b26d75e72ff1f901b452a034f3a2a91102
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 16 16:12:39 2018 +0200

    Fix unreliable fork()-handling
    
    By re-creating the FIFO, so we don't depend on the writer opening it
    before the reader when recreating the injectee thread.

commit ccae1a144a3332060bbc7094319a42b0dd8cea53
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 16 14:25:47 2018 +0200

    Fix frida-server build system on Windows

commit 430153ac494ad01a5ef25271ecf53a24778fa5ca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 14 03:05:42 2018 +0200

    Fix stylistic inconsistency

commit c30afddefcfeb9c019894630ab5f0c36cca6715a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 14 03:03:19 2018 +0200

    Add support for specifying the activity to launch

commit db02cbd259e0e44e44c9aa1a6ec08cfcf719082a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 14 03:01:53 2018 +0200

    Bump Android app launch timeout to 20 seconds

commit fe4fab4332ceb2bebe4e913c1928c8ee25d247d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 13 23:57:53 2018 +0200

    Revive the Windows build system

commit 22a31a4226feda556adc786bcb65f9ba0ec26e4a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Apr 14 01:18:03 2018 +0200

    Improve stability on Android (#182)
    
    By leveraging the new `fork()`-handling instead of relying on a
    specialized agent, i.e. `frida-loader-{32,64}.so`.

commit c54ac5f9fd9d622304e20d2b3d523a1d7e9ea257
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 6 13:48:38 2018 +0200

    Modernize the Android app spawning test

commit fe9a285c9c6d8c0c56b74a50d97589187b677d3f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 6 03:12:15 2018 +0200

    Fix test-suite compilation on Windows

commit 6fee837d5073214aeeaf2a7cbbea03aa6d0603d6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 6 02:52:54 2018 +0200

    Add forker labrat for Linux/x86

commit 2c526143be31c245547ae3b3be1e71355073ae42
Author: Ole AndrÃ© Vadla RavnÃ¥s <oleavr@gmail.com>
Date:   Wed Apr 4 00:13:50 2018 +0200

    Port Linux backend to the new injector semantics

commit 934e9949e1b006edbe2ed26b362621335a0eacb4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 4 14:04:16 2018 +0200

    Implement expiry logic in the Darwin backend
    
    In case we never hear back after a successful demonitor operation.

commit 781a1a729382997fa1ce66ef93af2bca3763a930
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 6 02:19:10 2018 +0200

    Tweak Darwin backend's style a bit

commit 9aa804455beeb1e39aa21eb897f5200c61b52af0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 6 02:24:26 2018 +0200

    Report the full path to the child's executable

commit dcc3b56b5958ad1b6038f9ba97fdc1d9a690da27
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 6 02:12:27 2018 +0200

    Fix the Agent test-suite on Android
    
    Loading the agent with global binding means it won't get unloaded, which
    means the second test is going to fail.

commit 06cc5cc1a6bf0ab857e6848159500f150b17a73b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 6 02:27:58 2018 +0200

    Add runner scripts for Android

commit 2fd02b783b6edd8a2039f1715c5ea3e670c0f16c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 6 02:24:54 2018 +0200

    Add forker labrats for Android

commit 09f07e04a52608c0efad1f6d388f2d60329de686
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 6 02:26:48 2018 +0200

    Also deploy agent in the iOS runner script

commit ebabbe10a7f7ef942bf009c2a02ca2f6e2e8a462
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 4 16:55:05 2018 +0200

    Adjust agent test location strategy on iOS and Android

commit 179029ab8c0fe76082cfc7c09e126e53f09aaedf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 4 00:06:43 2018 +0200

    Add failing test for fork()-handling on Linux

commit c523233239417b8abb2b48039b61695590e5cd07
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 2 01:25:17 2018 +0200

    Fix the API autogen logic
    
    So it groks the latest Vala compiler's output.

commit c27717e7f089b43423c40dd83bb316cbc9c01462
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 1 17:24:24 2018 +0200

    Revive the Windows backend

commit a5467ddc112efd5a3f2b7292dfc1dcdcfe9f3ae5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 1 15:50:02 2018 +0200

    Add missing typedefs

commit 95b5122953d5212dcf7c8ef1bfa085faab0cc686
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 1 15:45:14 2018 +0200

    Fix function name collision

commit a2099942eef964f4b0ce98ae1401813117c32fc7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 1 15:40:33 2018 +0200

    Define _GNU_SOURCE for `program_invocation_name`

commit 75c3b7c05259c4a8644a6af26585435cc93e4a82
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 1 15:33:49 2018 +0200

    Add missing WINDOWS define to frida-pipe

commit e56ef32970a2766a33f87313ca8c04a36453e609
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 1 15:32:02 2018 +0200

    Remove leftover methods from the recent refactoring

commit ff84611c748cbcb45e2c396183439c257e68f726
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 1 15:31:17 2018 +0200

    Fix frida-pipe compilation on Android

commit e237f4894622004c09cbfa25242bc90e0c96ea02
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 1 15:30:54 2018 +0200

    Add missing include for `program_invocation_name`

commit 146c31ae5253f0a413a5b873739fe0dc263f2c89
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 1 15:30:35 2018 +0200

    Add missing casts

commit 9424ec674d73f9dadffe0c9ae1d79d1462ed35aa
Merge: 289a08b2 e86160c4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Mar 31 23:29:30 2018 +0200

    Merge pull request #178 from frida/feature/fork-handling
    
    Add fork()-handling

commit e86160c4ca26791c55f489e62ba947727a2227dc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 27 20:26:49 2018 +0200

    Revise fork()-handling to avoid touching locks
    
    Doing this as a separate change in case it turns out to be necessary on
    some platform.

commit fd602e29c2954ab06fc93c71809d15ad8943d28d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 16 20:15:33 2018 +0100

    Add fork()-handling
    
    Also rework frida-pipe to be use UNIX sockets on i/macOS, and avoid
    additional threads altogether on all platforms except Windows.

commit 289a08b237eeab1fb8ec3e2f41ed726de44b5d66
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Sat Mar 24 11:59:45 2018 +0100

    Allow mapped_range to be passed on gadget load() (#177)
    
    Implemented on i/macOS by looking for a special entry in the
    apple[] array.

commit fbde342c65ff32a005c513504ad5c66d919a1ef3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 16 20:16:28 2018 +0100

    Refactor thread ignore logic

commit 102798a3981de367c3200850963a6dab0c02e5f1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 16 20:15:55 2018 +0100

    Add convenience script for running tests on macOS

commit 42c026301fb837ab3757c555a65e479804a9344c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 15 20:34:16 2018 +0100

    Reformat robot-agent.js for consistency

commit 563285d26c1efee07122f51a6d24145161ccfaf1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 15 17:21:06 2018 +0100

    Fix temp directory cleanup in frida-server
    
    On Linux/Android this meant that the frida-agent libraries in the temp
    directory would be left behind.

commit 91ed0f5956bd6c0fe68ebad3b184377cb1611195
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 14 22:54:01 2018 +0100

    Tweak early instrumentation docs a bit further

commit 6d96e105732fb5eaf077f6510ed0f3e9e66f56f6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 14 22:52:28 2018 +0100

    Update early instrumentation docs to match code

commit 41b284e1fcf6c29da63aa476359d4d6c9b483408
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 14 15:14:16 2018 +0100

    Add support for early instrumentation of dyld v3
    
    Fixes #176.

commit 03d3b8f0a203a553b05136559cb87a6849b15277
Merge: ac3b172b ede80693
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Mar 13 21:04:19 2018 +0100

    Merge pull request #175 from frida/feature/electra-support
    
    Add support for Electra on iOS

commit ede80693076b12fce9bc23065f2161290c43bfcf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 13 20:48:01 2018 +0100

    Bypass Electra's jbd_call() for PIDs launched by us

commit cd8585792ea62aaaf77e3c79ed36022dfd11a60f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 13 19:24:50 2018 +0100

    Entitle and platformize when Electra is detected

commit ac3b172b1e97385d2516ab047123a94cad5fadb3
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Mon Mar 12 20:02:43 2018 +0100

    Potentially cloak multiple ranges from threads (#174)

commit e9f071a72f4b5e986a8198a99a280eb9eee06e0f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 6 02:23:18 2018 +0100

    Properly fix the Linux/Android injector on x86
    
    My analysis in a90b441 was incorrect, and the issue was simply that esp
    was treated as a long, so the alignment calculation would end up going in
    the wrong direction whenever the esp's MSB was set.

commit a90b4413c2b836dae755ce55f381dd604fd7704f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 6 00:42:27 2018 +0100

    Fix stack corruption in Linux/Android injector on x86
    
    The stack pointer points above the saved registers, so we should take
    this into account when we make use of the stack.

commit b46081304f904773882f6efac4507c627a38fcdb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 26 20:22:44 2018 +0100

    Fix deadlock regression on 32-bit Android apps
    
    Because of our bsd_signal() wrapper that calls dlopen() the first time it
    is called, which may happen on a non-main thread while the main thread is
    holding the dynamic linker's lock.

commit 139339ea5ddea4fc83a54276a11e86bb4dc68531
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 16 02:35:04 2018 -0600

    Use executable's location if we fail to detect ours
    
    To support use-cases where frida-gadget is mapped in manually.

commit 8ecbc7cafa1a52c2c96d92b3f18722dac154862e
Author: Yuri Shapira <yuri@puresec.io>
Date:   Thu Feb 15 23:12:23 2018 +0200

    Fix array out-of-bounds access (#169)
    
    When the specified script is empty.

commit 7fd3e69508e1aab5a3bd6700e06651113e3e7e3f
Author: Yuri Shapira <yuri@puresec.io>
Date:   Wed Feb 14 18:23:38 2018 +0100

    Add support for bytecode loading in frida-gadget (#168)
    
    Fixes frida/frida#427.

commit 594b262d9f5f80cb2d83bd966918b23519bcf23d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 20:29:34 2018 +0100

    Add missing SELinux libraries to libfrida-core-1.0.a

commit e38424a8f743dada8d96a5066bf011e44e867f5c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Feb 1 20:28:53 2018 +0100

    Fix forgotten library name artifact

commit 0ba743ccf90e8632d3e4f1063b1e79efd928feeb
Author: Sheng-Fu Chang <csf@csftech.net>
Date:   Sat Jan 27 02:19:47 2018 +0800

    Fix iOS 32-bit device (iOS 10) compatibility (#165)

commit e6ed0a053b2bf833eebf8df9b333825719d9d9e2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 22 05:47:15 2018 +0100

    Only perform the dlopen() hackery on Android 8 and above
    
    It won't work on older versions, and we won't need it there anyway.

commit 417747ea984e1c4c1d4cdfe2187bb28da4c1a050
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 22 04:30:05 2018 +0100

    Improve injector to support Android 8 on x86 and x86_64

commit 0af215e87f10d58c956a8aae081a42dfb7760f8a
Author: Vinícius Henrique Marangoni <viniciusmarangoni@users.noreply.github.com>
Date:   Tue Jan 16 19:48:44 2018 -0200

    Also try gadget.config.so on Android (#156)
    
    As `.config` files may be dropped by the build process if placed in `libs`.

commit a95431bdff864c65092daa181db82f8bc110dbfa
Author: Madushan Nishantha <madushan1000@users.noreply.github.com>
Date:   Tue Jan 16 21:36:51 2018 +0530

    Fix injector on Android 8 w/32-bit processes (#162)

commit 213c7426b018b872b32c2e37c9e324411fb9dab0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 4 04:30:36 2018 +0100

    Fix injection on Android N and above
    
    Calling dlopen() from outside a system library will now result in it
    refusing to load libraries that are outside the app. We work around this
    by finding the inner implementation and telling it that the caller is
    somewhere inside libc.so.
    
    Only fully implemented and tested on arm and arm64 – x86 support is only
    partially implemented.

commit 39cf642bbfdcf6fc884b035a9699a81133ddea87
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 3 23:14:16 2018 +0100

    Don't assume that Android's dlfcn APIs reside in the linker
    
    In newer versions they're in libdl.so.

commit 139a945c7881a729a8c81c6043f5f5b0cf22b1c4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 3 23:10:34 2018 +0100

    Improve Linux/Android injector to avoid RWX pages
    
    For improved compatibility with the latest versions of Android.

commit 9505584b61083bf09bb04acf4f79105d34ddf7fa
Author: Sheng-Fu Chang <csf@csftech.net>
Date:   Fri Dec 29 23:22:10 2017 +0800

    Fix legacy iOS 32-bit device (pre-ARMv8) spawn issue (#160)

commit 616a03d470afe24487af8a7c79f8f99643cb732f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 13 17:29:37 2017 +0100

    Allow kill() to succeed when it terminates the peer
    
    The primary use-case for this is when asking the Gadget to kill itself,
    but it might as well be the frida-server being killed.

commit ef039d340b1516f4f8b9c696572f35c753d903e3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 13 16:49:40 2017 +0100

    Revise kill() to just go ahead and kill right away
    
    There's no easy way to guarantee a reply, so this should be solved on
    the client side, i.e. hidden by frida-core.

commit 591685bc3dcfceb4c56afe49902730d6bf4ab725
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 4 15:15:22 2017 +0100

    Disable spawn gating if client disappears
    
    To avoid leaving the system in a broken state.

commit 9ad66206c6b57a262701954424657ca82529ef27
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 21 02:19:39 2017 +0200

    Look for script relative to Documents first on iOS
    
    This means it can be overridden through iTunes file sharing, or by
    vending the whole container, which is allowed for debuggable apps.

commit 184e2425a12914e1af276d18da80e972da9b8504
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 20 22:53:09 2017 +0200

    Make the code-signing policy configurable
    
    In the Gadget config file.

commit c8e7f8d5aa3d0cca1ec5ccb6c22427581a17b723
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Oct 15 21:08:18 2017 +0200

    Fix PIC violation in x86 syscall() implementation

commit b27e1d9d54f44b7425ffcaa4751e790a834d326f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Oct 11 19:32:41 2017 +0200

    Tweak the XNU driver README

commit b3707b1708ad3d852fc9ce70fbcc54d73b1d7c8e
Author: Adam Wallner <wallner@bitbaro.hu>
Date:   Wed Oct 11 19:31:27 2017 +0200

    On MacOS, create a hidden subdirectory to use for tmp (#145)
    
    This way the trash icon can remain empty.

commit 8b11057353ad08a7f0a8b2bb6db58e742c30b935
Author: Viktor Oreshkin <solteke.st@gmail.com>
Date:   Wed Oct 11 20:30:27 2017 +0300

    Improve XNU driver reload.sh and README (#150)

commit a8af12fe06c52b8c8456491f9fb51ba63a440470
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 10 17:26:07 2017 +0200

    Clarify the XNU driver README a bit further

commit d364c52cc2326ddf6f4c4d40b3317e720c8ac0ea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 10 17:21:22 2017 +0200

    Add a few notes about using the XNU driver

commit 3827085068f78064ab8cc7458680d791293a8a10
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 10 03:02:44 2017 +0200

    Improve the FridaKernelAgent README

commit d3cfa0e55eaccf0378d4c67d02d70c6483889871
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 10 02:08:10 2017 +0200

    Fix stylistic inconsistency

commit 238bbdae6bd387694f6f82435762e711b0816cc4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 10 01:51:49 2017 +0200

    Fix leftover from refactoring

commit 7b3cd369e05fd6eee7ec0bfc9003a3fbef265255
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 10 01:36:07 2017 +0200

    Add experimental kernel driver for macOS
    
    - Implements spawn gating.
    - Makes attach() able to attach to any process.
    - Improves stealthiness as external task modification stats are left
      untouched, which task_for_pid() does touch.

commit 1745cab66fadeb33af9d7ae3bcdbb2a2cfcd24ca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 02:44:38 2017 +0200

    Also recreate Script when `on_change` is different

commit c5c51ceef143987233390322cdbcfd5cd5b06c2a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 02:34:45 2017 +0200

    Simplify the scan() logic

commit 831df01e2532602b2bb3dd5063595a94b1aef147
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 02:08:01 2017 +0200

    Add support for specifying script parameters

commit a72c53b00738443c877ba1b066c8f3685dc689e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 01:09:56 2017 +0200

    Pass the current stage to init()
    
    Which is either `early` or `late`, to provide more context so scripts
    can implement different strategies depending on the current stage.

commit 749587852b746b8ba5180946155111c1cb5dda4a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 01:05:42 2017 +0200

    Move to STARTED immediately when possible

commit 00ea54125af60e8b89bd16c2162d88cef99825cf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 00:55:03 2017 +0200

    Refactor the init() and dispose() logic

commit 57a5d24c6f968b1353a594b7315907fca051975c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 00:50:48 2017 +0200

    Remove unused state

commit 64d7a5770af8c4bdfd2d80b6658035c78ec198b7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 00:43:10 2017 +0200

    Let Gadget resume when it fails to start

commit a0994bafaede18d12d13a2946d127e1076557813
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 00:39:12 2017 +0200

    Make Gadget issue warnings instead of fatal errors

commit dc08e1feec0288a085f9fed003d6a024cb9249eb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 23 00:05:16 2017 +0200

    Tweak Gadget config schemas to improve clarity
    
    Also add support for specifying "on_load": "resume|wait" in the listen
    interaction to override the default behavior of waiting for a client to
    connect and resume it.

commit ca9d6b233c5d6542b296cb0e9606032e8b002b65
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 21 19:11:10 2017 +0200

    Add support for a third interaction called `script-directory`
    
    E.g.:
    
        {
          "interaction": {
            "type": "script-directory",
            "path": "/Library/Frida/Scripts",
            "watch": true
          }
        }
    
    Then plopping a new file named "twitter.js" into that directory:
    
        'use strict';
    
        rpc.exports = {
          init: function () {
            console.log('[init]');
          },
          dispose: function () {
            console.log('[dispose]');
          }
        };
    
    It will be loaded automatically no matter which process it is in.
    Note that the above watches the directory for changes, but not its
    scripts.
    
    Then by creating a file named "twitter.config" next to it containing:
    
        {
          "filter": {
            "executables": ["Twitter"],
            "bundles": ["com.twitter.twitter-mac"],
            "objc_classes": ["TwitterAPI"]
          },
          "watch": true
        }
    
    This will ensure it is only loaded if the process' executable is named
    "Twitter", or its bundle ID matches the above, or it has an Objective-C
    class loaded named "TwitterAPI".
    
    We also tell it that we would like to watch this particular script for
    changes.

commit ca750cb0e8416ff5085facb7b51d32a049081f6b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 21 11:22:36 2017 +0200

    Drop support for Gadget's environment variables
    
    It was always a pain to use these, and they were only intended as a
    band-aid for lack of configuration support.

commit 1cf2c6b3dd803ffff6ed4f754c865f3b13c7059f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Sep 21 11:19:27 2017 +0200

    Split `environment` into `skip_teardown` and `watch`

commit bc86329d9e240b12b185518d4b3c7dabc5a67c32
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 20 17:53:27 2017 +0200

    Improve the Gadget configuration format
    
    For example to listen on a specific host and port:
    
        {
          "interaction": {
            "type": "listen",
            "address": "192.168.168.105",
            "port": 1337
          },
          "environment": "development",
          "jit": false
        }
    
    Or, to load a script:
    
        {
          "interaction": {
            "type": "script",
            "path": "/Users/oleavr/woot.js"
          },
          "environment": "development",
          "jit": false
        }

commit 597030300b2060354d9018f044acc3ba0a4f0a82
Merge: 0cb448b5 54ea21b5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 20 13:03:13 2017 +0200

    Merge pull request #144 from frida/feature/gadget-config
    
    Read configuration from <gadget>.config if present

commit 54ea21b5073d8c876dfcbd5415c4dc7548895929
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 20 12:50:26 2017 +0200

    Read configuration from <gadget>.config if present

commit 8d2adaacd420213839249446e5b06a09ac40c26b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 20 12:47:31 2017 +0200

    Move listen address parsing into the Server class

commit 3384f92a704f54eb3baad95b92bbd1642517ffaa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Sep 20 11:38:19 2017 +0200

    Improve Gadget's memory range detection
    
    There's no need to look at the filename, we can just take the address
    of one of our functions and find the module whose range contains it.

commit 11819ee07dd5b8abd803b92e1640041abc5a2b7c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 19 16:12:31 2017 +0200

    Refactor frida-gadget's configuration logic

commit 0cb448b5a754cb4d6963fb7fa906ffe15aff0467
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Sep 19 14:42:15 2017 +0200

    Remove trailing whitespace

commit 81044a378501dfc144931784f66e836245fbbba6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Sep 9 01:10:08 2017 +0200

    Fix Gadget on Windows

commit c2018869870e23b9d1c2f0753c731730458e1077
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 8 22:55:56 2017 +0200

    Improve style

commit ae7ed1f4c61dc160f6ddada1337ab3584becd9ba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 8 20:12:25 2017 +0200

    Fix stylistic inconsistency

commit 86299204cd9abdb3c6e3607a75ba380a6ac3d0be
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 8 20:09:25 2017 +0200

    Run the JS context on the main thread until resume()
    
    To avoid deadlocks on Android.

commit 3a0a5b3b005e846e250a13d324b93b779e1fe470
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 23 03:32:09 2017 +0200

    Remove Stalker garbage_collect() logic
    
    It is now taken care of by the script runtimes.

commit ec9346649dea770cec4635e9eddb2f796606672b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 14 19:32:11 2017 +0200

    Update to the new X86Writer API

commit a2abc25cb1655356bc4efe777c0f7a7722020be5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 14 18:28:10 2017 +0200

    Update to the new code-writer APIs

commit a54dff0836cd070f0319d01dafaf53d56c6ffaa1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 31 00:13:52 2017 +0200

    Update to the new X86CodeWriter API

commit 073bf90536cb55e31cc490a8cceeb429eadb6ef6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 27 00:33:03 2017 +0200

    Give adb a bit more time before we consider the backend started
    
    This should be enough in most cases, even when using WiFi.
    
    The list of devices may still be monitored to cover the extreme cases,
    which the frida-python CLI tools do when using -U.

commit 19344153457224136010b722ccf39b7a0ee9f19c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 20:06:20 2017 +0200

    Fix the x86 syscall() implementation

commit 3800fc303d757969b1fde4ea6cf80dbf26e967ee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 25 00:24:51 2017 +0200

    Supply a local copy of syscall() on Linux
    
    So the libc's syscall() can be hooked without causing deadlocks.

commit 090e8291d6a165a55c7a34eebb1dae6fb391e304
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 22 00:51:57 2017 +0200

    Make the xattr check stricter to support newer Android NDKs
    
    Due to the unified headers we need to check that the symbol is actually
    defined.
    
    Also add a missing include.

commit 20f18c386e1db2ce9cccb5169bcfbcc0e315a19c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 13 15:38:50 2017 +0200

    Plug port leak
    
    The incoming message must be destroyed after handling it.

commit 0e827c28570aace9c330df88e2cb9d146fe40558
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 12 20:14:07 2017 +0200

    Implement a JIT allocation server on iOS (#136)
    
    This means Gum can talk to it to allocate RWX pages from non-entitled
    processes.
    
    Kudos to qwertyoruiop for the original idea in JITSupport ❤️.

commit 43b18be091c2be70f932a6a20622a56dcbc11596
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jul 10 20:03:51 2017 +0200

    Add -D/--daemonize for detaching and becoming a daemon
    
    This is useful when launching frida-server through e.g. adb.

commit e5eab2c14e3db3f740806318edc98d1c0b4dc8d9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jul 8 16:24:39 2017 +0200

    Remove a trailing space

commit b3abbcb811118d3b659dd3e5caa6f052df9f2099
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 2 02:47:35 2017 +0200

    Make sure AgentContainer cleans up after itself
    
    - Let go of the transport eagerly.
    - Plug leak by starting worker thread from an instance method.

commit 14430b186ee2db1ea519ce9dd7128a30612e3b61
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 2 02:43:08 2017 +0200

    Refactor to improve clarity

commit 3d58fac988d838d84f692b881dd3eec65e2f3534
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 2 02:42:16 2017 +0200

    Disconnect agent_session_closed signal on close() for consistency

commit 3f467f1ae9fd3295abc417e5ce754d95834f3da6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 30 05:46:05 2017 +0200

    Speed up app enumeration and launching on Android
    
    By using V8 for RoboAgent.

commit 2fcbed4a701e6098bc4e3048b3067ff9117a1dfa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 30 05:45:06 2017 +0200

    Fix handling of overlapping app enumeration and launch requests

commit ffbce12353e3f655b3cddb7de1d4d93cffe70d03
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 15 02:41:19 2017 +0200

    Include V8 by default in linux-armhf builds

commit 2765b38ba9aed54f724f75b9097f5f803f773a28
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 30 02:53:14 2017 +0200

    Make the performance test a bit less aggressive
    
    Time may not appear to move forward if we don't enter the kernel,
    resulting in a timeout.

commit c8033bd6eec093df18604c68e8ad77fd6ffdb12a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 30 02:38:48 2017 +0200

    Upgrade to VS2017

commit 1c46df242abdadb81cf1c135fea6b04aca48f7d9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 23:10:19 2017 +0200

    Fix iOS stability regression
    
    Caused by accidental dependency on libresolv.dylib. Overlooked this
    detail when porting the build system to Meson.
    
    Kudos to @mrmacete for discovering this unexpected dependency.

commit 3d63202a569072f3eae94e412fce9cdfc8c5aad5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 02:26:17 2017 +0200

    Fix inconsistent style

commit 8c495bddf23ed6fdad1d3f2fb27b88084a089669
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 02:26:08 2017 +0200

    Don't expose SuperSU types on non-Android OSes

commit 9c9bc941da187f5ba5d7c6f8bc6f3cb314b97ada
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 02:24:50 2017 +0200

    Add Libc enum member for QNX

commit 36c6851bc82fecbc8b3f97e17ffb5a9c0584e02f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 02:24:12 2017 +0200

    Throw error instead of crashing in a partial implementation

commit 7657062e82fb8fe88da0b2de0dba8e2f743bf03b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 02:06:15 2017 +0200

    Work around the QNX toolchain's broken NULL define

commit d35dfe94f4853d67bd29f4d5e5bb57433f22fbf6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 02:03:19 2017 +0200

    Implement agent embed logic for QNX

commit 39af062bf7236ce0dd2268ef9780f0b853c96dea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 01:48:34 2017 +0200

    Implement the original diet mode auto-detection logic

commit 52f196df9a2a0560e376578ed5ea4a984c891ef6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 01:27:22 2017 +0200

    Switch to gnu99

commit 44351f89c2fec2f2f1ee25d83c380307deafc893
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 25 01:05:39 2017 +0200

    Explicitly use C99

commit 0d47e4258b3b3dbb405dfa3a35f1b046f61ea9c6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 24 22:04:09 2017 +0200

    Explicitly use C++11
    
    Now that we're no longer hard-coding this in the build environment.

commit 333edbaf6d870339e17168e2134ac3e7dbfc619c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 24 19:57:36 2017 +0200

    Fix labrats target for armhf and mipsel hosts

commit a24a47bf20a6a2c6e29f4cc68c70209b0b0e4e21
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 24 17:29:57 2017 +0200

    Remove vapi workaround no longer needed

commit 995ddb99d6f529a8049a07c148a65f726a83bf0f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 24 17:25:59 2017 +0200

    Remove the last Vala compiler workaround no longer needed

commit 92f851d40cb0820453e24cbcf6a9a9832d51ba09
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 24 17:10:55 2017 +0200

    Remove workarounds for Vala compiler bug
    
    We now have a patch for this issue in our local Vala compiler.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=783002

commit a592a63a1325f40fcf24987c13a840de0dd1611a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 22 23:44:40 2017 +0200

    Fix racy port destruction
    
    It isn't safe to drop the DEAD_NAME right just in case, because the
    port might not be dead until right after, in which case the DEAD_NAME
    right will leak. Instead use mach_port_destroy(), unless our process
    owns both rx endpoints. In that case mach_port_destroy() of rx will
    also take care of the tx.

commit b00b30a1df7b9782c12f4bba1ec459de603e872b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 22 22:53:39 2017 +0200

    Plug Mach port leak in the Pipe backend for i/macOS

commit 730afe75e584a57d7bac39123fe9efe9cf662a72
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 21 18:56:31 2017 +0200

    Fix assumption about host_machine.system()
    
    It is only meant to be the system family.

commit e30f63cb96456fc0c74f1110ed35818a79ea06f3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 21 17:40:34 2017 +0200

    Fix macOS build regression

commit 737382d5ba449e862018cf0df795f3ff45785402
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 21 16:59:21 2017 +0200

    Fix leftover i386 references

commit 0c9ed7459db57bd4a3cafc434db674cdf31e5ae7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 21 14:42:59 2017 +0200

    Remove hacks necessitated by the autotools build system

commit c6339ff2e3bbf0000f5bbb0b5424c0d79429ae31
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 20 03:40:50 2017 +0200

    Remove the autotools build system

commit 21ccd941742fabe2cb83e84075b4427d02cd0e0b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat May 20 03:17:13 2017 +0200

    Port to Meson (#129)

commit a7c5c535bea5fb8de8323f48109ed75db579f929
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 19 13:25:05 2017 +0200

    Port frida-helper backend bits to the iOS Simulator
    
    Untested and just enough to make it compile for now, to keep the build
    system simple.

commit be5d9f4be90adcc51b1049801e5c3a5342cbf192
Author: Eloi Sanfelix <eloi@limited-entropy.com>
Date:   Sun May 14 14:57:47 2017 +0200

    Add support for FRIDA_GADGET_LISTEN_ADDRESS (#126)

commit a4a023d08e1dd8dca39147bd0962084937a97214
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 13 20:14:21 2017 +0200

    Add missing stdlib.h include for abort()

commit fd8abe58f1e48a4eacfda9e01408e94634ecdde3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 13 20:03:44 2017 +0200

    Decouple frida-inject's glue code from its Vala-generated header

commit 3b3bc6c4779eca14f3c9cdf48c45f28f5b3944d5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 13 17:50:50 2017 +0200

    Fix Python 2.6 compatibility regression in generate-api.py

commit ad4058df325dde1eb51c1d2411a7fe89ac6fc752
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 13 03:40:18 2017 +0200

    Avoid hard-coding the API version in generate-api.py

commit 46ace5c0ebfd43e9f708f5cec5343c7618b54aea
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 13 02:56:06 2017 +0200

    Rename --output-type to --output and improve style

commit f4dfd44ce45e83417c379c407529853868f2142b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 13 02:43:48 2017 +0200

    Refactor the API autogen logic to support selective output

commit 891a0c4c53ce2b2945b7b5cf03eef23c2ca4ae29
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 13 00:50:49 2017 +0200

    Decouple glue code from Vala-generated headers
    
    Meson won't generate them for executables.

commit 7bc11a9553223423d67cc4db336dede871e2e720
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 12 20:08:37 2017 +0200

    Install resource-compiler and prefix it accordingly

commit ff4beb13ebe5e76a23918a0123dcd8dd28073290
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 12 04:37:32 2017 +0200

    Rename macOS Vala define for consistency

commit be54663a1179f0917c6b355aa298bd1d49c7ef7d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 12 03:17:35 2017 +0200

    Simplify glue code by using the generated Vala header

commit ace95e9a49c302179b0c6bb22b86a3369202c9eb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 11 23:49:39 2017 +0200

    Fix session teardown stability regression
    
    By disconnecting the signals before unloading.

commit d71df9234fd633cfefff81d251cb72c0ae8202fd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 11 17:58:06 2017 +0200

    Simplify and improve the agent session lifetime logic
    
    This fixes the issue where a session being closed while another is being
    opened could result in the closed session being considered the last one,
    and the shared agent getting told to unload midway through.

commit 4a19f46e0a1f90ef84b6b593c07321162027c1ad
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 11 15:20:40 2017 +0200

    Fix crash when attaching to an agent about to unload
    
    This happens in the unlikely case where provider.open() succeeds and the
    session is closed during the following connection.get_proxy().
    
    Kudos to @mrmacete for this nice catch.

commit 6e309eb2ecf3bc5f4a83a2832b57ebbf23f9c8a0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 11 00:29:08 2017 +0200

    Remove redundant includes

commit 861d48857f9db6529eeef66a38e6b854910a678a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 11 00:08:11 2017 +0200

    Decouple agent glue to simplify build systems

commit e03cac34e50a71ada6998d54521459b4987608d3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 11 00:09:14 2017 +0200

    Rename pipe-impl.h to pipe-glue.h for consistency

commit 626f9657179e87e822a642170e8d98b55246dd8d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 10 22:50:29 2017 +0200

    Rework frida-pipe to simplify build systems
    
    The underlying issue that we used to work around is that the Vala
    compiler doesn't propagate the return value in case an error occurs,
    which means the return value is 0 instead of -1, and this is treated
    as EOF instead of an error.
    
    While this is something worth fixing in the Vala compiler, our specific
    use-case is actually better off by having each implementation implement
    the entire {Input,Output}Stream classes. This way they can implement
    different interfaces, e.g. when the underlying handle is pollable.

commit fb1b277c8756449c8ef5576f2a14ea6ac0ca5772
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 10 15:12:47 2017 +0200

    Update HAVE_MAC → HAVE_MACOS

commit 1d2fd77ba8397bb33275cdf4450f5771174c2113
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 10 14:38:40 2017 +0200

    Update mac → macos

commit 17f6241861b01e3c335a3bdccdfd8f184e2cb7bc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 4 21:46:38 2017 +0200

    Add Injector constructor for inprocess use
    
    This is for embedders that have the required permissions to inject, and
    don't want or aren't able to spawn a child process. This means reduced
    footprint at the cost of build system complexity.
    
    For now this is only implemented on i/macOS. On iOS this requires the
    caller process to have the `task_for_pid-allow` entitlement.

commit abd87ed68e3101bde29d883d54db516738ecfab9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 4 21:40:14 2017 +0200

    Always initialize Gum as part of frida_init()
    
    So inprocess backend components may use it.

commit fb5105631ac260961f21d11e7ad4cba3f4be9df2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 3 02:56:13 2017 +0200

    Fix yield race in Fruity.Client.query()
    
    In the unlikely case that a response is received before the write
    completes.

commit 37c8633f5e970eeabf063a1518ca9450f8acbf8c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 2 02:32:35 2017 +0200

    Update Gadget to the new HostSession API

commit c6fdb565204b304a2905bb14ebe359f66808c73e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 2 00:59:25 2017 +0200

    Bump interface versions to upcoming major version

commit 1461531765ce7210e0ffaec3d8eeb2213de5e4bc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 2 00:56:07 2017 +0200

    Update to GumJS' revised bytecode API

commit bfb03f95d496cf5bfaeda39b314cdba5729cf4f3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 2 00:54:32 2017 +0200

    Drop the deprecated agent_session_destroyed signal

commit d065b8d353a2461642c6b7cd38d197a1d942c090
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 30 23:59:01 2017 +0200

    Tell pkg-config to statically link modules
    
    Instead of forcing this into the PKG_CONFIG environment variable.

commit 37a0d7c9518f4c96c78d6901711a3be495697471
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 2 01:43:00 2017 +0200

    Fix last-minute build regression and warnings

commit ede4748c3ce0b383e844009f17f98f53c618db02
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Sun Apr 2 00:24:22 2017 +0200

    Rewrite i/macOS early instrumentation using thread hijacking (#119)
    
    - Get hold of the main thread to read its instruction pointer, which
      will tell us where dyld is in memory.
    - Walk backwards to find dyld's Mach-O header.
    - Walk its symbols and find a function that's called at a point where
      the process is sufficiently initialized to load frida-agent, but early
      enough so that app's initializer still didn't run. In this case we
      choose `dyld::initializeMainExecutable()`. At the beginning of this
      function dyld is initialized but libSystem is still missing.
    - Set a hardware breakpoint at the beginning of this function.
    - Swap out the thread's exception ports with our own.
    - Resume the task.
    - Wait until we get a message on our exception port, meaning our
      breakpoint was hit.
    - Hijack thread's instruction pointer to call
      `dlopen("/usr/lib/libSystem.B.dylib")` and then return back to the
      beginning of `initializeMainExecutable()` and restore previous thread
      state.
    - Swap back the thread's orginal exception ports.
    - Clear the hardware breakpoint by restoring the thread's debug
      registers.
    
    It's actually more complex than that, because:
    - This doesn't work on newer versions of dyld because to call `dlopen()`
      it's necessary to `registerThreadHelpers()` first, which is normally
      done by libSystem itself during its initialization.
    - To overcome this catch-22 we alloc a fake `LibSystemHelpers` object
      and register it (also by hijacking thread's instruction pointer as
      described above).
    - On older dyld versions, registering helpers before loading libSystem
      led to crashes, so we detect this condition and unset the helpers
      before calling `dlopen()`, by writing a `NULL` directly into the
      global `dyld::gLibSystemHelpers` because in some dyld versions calling
      `registerThreadHelpers(NULL)` causes a `NULL` dereference.
    - At the end of `dlopen()`, we set the global `libSystemInitialized`
      flag present in the global `dyld::qProcessInfo` structure, because on
      newer dyld versions that doesn't happen automatically due to the
      presence of our fake helpers.
    - One of the functions provided by the helper should return a buffer for
      the errors, but since our fake helpers object implements its functions
      only using a return, it will not return any buffer. To avoid this to
      happen, we set a breakpoint also on `dyld:dlerrorClear()` function and
      inject an immediate return, effectively disabling the function.
    - At the end of `dlopen()` we finally deallocate our fake helpers
      (because now they've been replaced by real libSystem ones) and the
      string we used as a parameter for dlopen.

commit d7dca299b2bd6a89dc338ca429246c72161d4b6b
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Mar 28 01:41:26 2017 +0200

    Fix regression on iOS 8.4 (#117)
    
    - dyld's ImageLoader::recursiveInitialization has a different signature
      than on following versions of iOS.
    - Improve error handling when that symbol cannot be resolved.

commit 9ae97018b91fb9dba426cd0eadab0399378a8188
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Sat Mar 25 12:31:43 2017 +0100

    Fix deadlock caused by breaking inside libSystem initialization (#116)
    
    Place a second hardware breakpoint at the end of dylb's
    `ImageLoader::recursiveInitialization` to let it release the spinlock and
    notify the end of libSystem initialization. This is done reusing the live
    disassembly tool. dyld is found in memory like before, going back from
    main thread's instruction pointer.

commit ea3f3850f179a39439d6f92e382ab7a062960cc2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 24 19:45:00 2017 +0100

    Tweak style

commit bd2e54c47dc50d84319f675937a4ddb047487191
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Fri Mar 24 15:05:03 2017 +0100

    Move hardware breakpoint to libSystem initializer (#115)
    
    - Find the libSystem.B.dylib module in memory.
    - Find its initializer (it's the only one in the __mod_init_func section).
    - Find the exit point of the initializer by disassembling the function's code.
    - Place the breakpoint there.
    
    This allows earlier instrumentation than before.

commit 59f7d90e5d7b782735aa9d6d2cd65905151e03b2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 22 15:14:47 2017 +0100

    Ignore calls made by agent/gadget's main thread

commit 4b826e3c687c577b06871a648c6ae2cc57096fe4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 22 04:13:32 2017 +0100

    Wire up GThread garbage collection logic

commit 57bfab990ebb38f32ada3d1843a2971ff7ca557b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 15 21:53:06 2017 +0100

    Add manual test for reproducing iOS app launch leak

commit dde88276cf489e307bbd9e85f60036f05bdb15f0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 15 21:52:23 2017 +0100

    Add resume() to Frida.Test.Process on Darwin

commit 0a7033d9d010cddc2362e2a1544a764bfefc3b87
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 15 03:17:00 2017 +0100

    Bump the AsyncHarness timeout to 60s
    
    For when CI machines are suffering under heavy load.

commit e10ab279093ec2bc51640d122841b4664abff636
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 15 03:09:04 2017 +0100

    Improve robustness of the resource leak tests

commit 5b0df70ab0244bdccd1557a3af3e3243dd42d957
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 14 00:36:01 2017 +0100

    Replace thread ignore logic with the new cloaking API

commit 99e109521bfc687e872a60f3c0f00967a79c9847
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 11:42:54 2017 +0100

    Improve accuracy of the memory cloaking test

commit b54e332901991736a121725e634ee3c7f99ae5e9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 02:55:24 2017 +0100

    Cloak the main agent/gadget thread also

commit 8c9f281bc7bcb2a47e620a8f524c1ffa587ecc61
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 02:38:05 2017 +0100

    Cloak stack guard pages

commit df6dc47ce95c3a2cf5014b061ac11915cd68d597
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 02:01:19 2017 +0100

    Cloak the stack memory ranges of our own threads

commit 4feb0e8052f936a3d78c435a2308231fd59331f4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 01:33:37 2017 +0100

    Cloak the agent's own memory range

commit 19005f96d7ab14bfd09f56fc5d18275524183a6c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 01:26:48 2017 +0100

    Tweak formatting of uncloaked ranges

commit f7c27a34e68d682032306ec0120a578ed0dc9404
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 01:25:10 2017 +0100

    Add test for memory range cloaking on Darwin

commit dad48843ca7ffbd98936af20f689fc14e98d9d8e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 13 01:24:07 2017 +0100

    Reduce injection cleanup delay
    
    A delay of two seconds is a bit excessive.

commit 0811dc0da4d781e624e360bc55d6c441cbbcb1ff
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Mar 10 14:16:01 2017 +0100

    Fix teardown of Gum

commit bc92d3a206d25aa6d54f62b230fe2c320db3ad83
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Mar 9 22:43:56 2017 +0100

    Fix race-condition in the Agent test harness
    
    We need to create the local Pipe object before launching the agent,
    otherwise it might connect() before we've had a chance to listen().

commit dea59043753b9f0129094fcf92f93671c4650a01
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Mar 7 20:53:20 2017 +0100

    Fix app launching stability issue on iOS < 10
    
    Upon detecting that the remote xpcproxy agent was uninjected we would
    go ahead and deallocate the remote payload that we allocated. Only issue
    is that an exec transition may have happened, and we risk deallocating
    memory that we didn't allocate.

commit ec4e2de4db37ebd622739161ec7069a65b7d14de
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Mar 6 18:54:10 2017 +0100

    Improve iOS app launching error-handling
    
    In case launch() fails but somehow manages to spawn a process we need
    to resume() it so it doesn't get stuck in limbo.

commit 0b8d37af845554cb5d6ce2812db590c21bdf5291
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Feb 28 02:57:23 2017 +0100

    Fix race during disable_spawn_gating()
    
    We might be somewhere in prepare_xpcproxy() when disable_spawn_gating()
    is called, which means such inbound spawns get stuck and require being
    manually resumed.
    
    Kudos to @ftamagni for reporting.

commit 2aa3a8eed0518f98a2f3ff5e474c333cbef63317
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 25 02:01:01 2017 +0100

    Await finalization before considering script destroyed
    
    We don't want a script to keep the ScriptBackend alive as we're about
    to unload, as it may result in the ScriptScheduler's JS thread staying
    alive after the point of unload.

commit 73f4455acf6d12a618492847481738e464ca10c7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Feb 21 00:55:51 2017 +0100

    Fix reference loop resulting in Client objects leaking

commit 7c82f332a4c520e7cb676e3364511bbd7540401d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Feb 20 14:53:37 2017 +0100

    Fix agent entrypoint stack alignment on 32-bit ARM

commit d95648f98e350fb9b091d7103a708dd846f15213
Author: Antonio Ken Iannillo <ak.iannillo@gmail.com>
Date:   Sun Feb 19 01:23:20 2017 +0100

    Tweak SELinux rules for better Android N support

commit 2fa45040124dfd2d19cadb9c182a8f94232fd515
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Feb 18 19:24:23 2017 +0100

    Fix typo introduced in a last-minute refactoring

commit 8c85aea87b48ef32250671c2a522e72deada327b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 18 19:14:29 2017 +0100

    Add support for SELinux policy patching on Android N (#109)
    
    Add support for SELinux policy patching on Android N

commit 153071fe510282c683a53fd0381776bb894d4041
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Feb 17 15:00:56 2017 +0100

    Enable system extensions universally

commit a11bf171e671b7c0bbf7e720f74937887de8a6cd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 15 12:42:28 2017 +0100

    Simplify state management logic

commit 4023fa904662e26c7318234098ab9fd41fad9790
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Feb 15 12:19:18 2017 +0100

    Fix state collisions with multiple clients
    
    Kudos to @dweinstein and @ftamagni for tracking this one down.

commit 305c1f5d60b3a71d2e66b44cfe4b7fea473f09b7
Author: Francesco Tamagni <mrmacete@protonmail.ch>
Date:   Tue Feb 7 12:40:37 2017 +0100

    Avoid racing on agent thread creation / monitoring (#105)
    
    
    Resuming the newly created thread only after `dispatch_resume()` greatly
    decreases the probability to miss the `DISPATCH_MACH_SEND_DEAD` event.

commit 2847a78e0a654ac8dc53a1cd9edc430194ba0979
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 21 03:34:13 2017 +0100

    Always allow enable_jit() when already enabled

commit 0e180478fe4f5fc5a06156f58cce8834dae7a7c9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 18 21:07:24 2017 +0100

    Enable ASLR on frida-server
    
    These overrides were probably added by a project file format migration.

commit f108f27abc3e22d5be883f660488b45b7392b23c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 18 21:06:38 2017 +0100

    Port Gadget to Windows

commit 2b2e324032e0d3d5a088d2b0b3e6c174f3ddc019
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jan 16 15:16:05 2017 +0100

    Fix injection when Gum.CodeSegment is unsupported

commit 1805298f58edc1fff1bd251b2c14e0a6696107a6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 14 05:45:58 2017 +0100

    Improve the interactive iOS app launching test

commit 7ace0115bcb4c1e25985429732bf56bd621d8183
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 14 05:45:10 2017 +0100

    Fix stale state if the app launch fails

commit 854a43d26ebfaa943c5af8553672af92d853fa49
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 14 04:17:39 2017 +0100

    Fix usage of illegal Vala constructs

commit 5542ac7147a0dd0f7e3528c0e7554f6c615f3ce3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Jan 14 02:33:00 2017 +0100

    Remove GLib version checks
    
    For now we only support building with our GLib fork.

commit ce819128cc20d07a5032400368e9e0c28fd36371
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 13 21:50:45 2017 +0100

    Update to match vapi fixes in latest Vala

commit c5a9414d9b3fa5c5371b0e27600ae8d46f1b7156
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 13 03:43:20 2017 +0100

    Fix the spawn gating logic
    
    - Guard against invalid enable()/disable() calls.
    - Fix race-condition where daemons were wrongfully gated if spawned while
      an app was being launched.

commit 482b96d29c51c0230595e938581cd8006920df20
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jan 13 02:58:10 2017 +0100

    Migrate FileMonitor wrapper from frida-python
    
    This is such a common use-case that it's useful for other bindings
    also, and simplifies frida-python.

commit 803925bb72d36463f0609ec0787c78b8fb2bf6b2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 11 04:46:49 2017 +0100

    Fix API autogen on Windows
    
    Because frida-interfaces isn't a separate library at the build system
    level, we have to do some filtering for now.

commit 8342459eb813605f4de34a92e0542267bb50c9d9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 11 03:43:53 2017 +0100

    Add `reason` argument to Session#detached

commit ef524f626a2dc7683a708d866584b190f2c56f11
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 10 13:56:40 2017 +0100

    Fix resume() logic for the spawn-gating use-case

commit b1f1f73a9115a715dcc4cff0000d22dd7195d450
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jan 10 01:47:52 2017 +0100

    Fix stale injection state after an exec transition
    
    We read back the `stay_resident` value when the remote POSIX thread
    terminates. This is however very risky in case the process is being
    replaced, for example through posix_spawn(POSIX_SPAWN_SETEXEC), as the
    entire address space is being replaced. With a bit of bad luck that
    means the same address is still readable, and with even more bad luck
    we'll read back a non-zero boolean. Thus, thinking the agent told us
    it wanted to stay resident, we skip emitting the `uninjected` signal,
    and DarwinHostSession has no idea that this happened. And then, on the
    next request to attach to the same PID, we are stuck waiting forever
    for the signal that never comes.
    
    To solve this we allocate the data portion of the remote payload
    locally, and create a shared mapping to where the data portion of the
    remote payload is. This way we own that data, and are able to safely
    examine it no matter what happens to the target process.
    
    Thanks to @mrmacete for his awesome assistance in debugging and
    brainstorming this issue.

commit 12be27ab171c8bac9b4a60db5b3957f30f4be938
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 8 21:32:25 2017 +0100

    Bump interface versions to upcoming major version

commit b657ce64e79d6db4b600b403f268a0667feeef5e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 8 21:26:44 2017 +0100

    Disable JIT by default
    
    This ensures we always use the same JS runtime on all platforms, as
    V8 is not available everywhere. It also eliminates some issues with
    stack-constrained threads.

commit 9a947ed0898b95b8919788bcd8aff09d4b211273
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 8 20:19:00 2017 +0100

    Fix task port ownership for Frida.InjectInstance

commit c7b8a62a2314c1a2fdb4d9ef984c86cc647b3403
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 8 20:01:23 2017 +0100

    Add a manual test for gathering performance metrics

commit 0865ebcf7ecadcc9a2f9c09d1cdb5c291a163453
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 8 18:59:50 2017 +0100

    Clean up timers and tasks on close()

commit 61b2c34ba897bcd60af2d4aa33b7cd0f59c79f02
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 8 18:25:42 2017 +0100

    Fix wait_until_suspended() on iOS 10
    
    The task port becomes invalid during “exec” transition.

commit 7ad0f1015ff73e230c878d745e8044b44ed78661
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 8 18:23:44 2017 +0100

    Keep task ports around a bit longer

commit a2dc275f6c3e799155067eecc8ac2e04fcf5ba54
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 5 09:10:22 2017 +0100

    Add teardown to the spawn gating test

commit 8f9262e343c60873cd2dea81d51914a0169cbff9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 5 06:50:26 2017 +0100

    Add more diagnostics to the spawn gating test

commit ea656015baefaee6e0598ba4d1a2b5f9e2a2d196
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jan 5 06:49:36 2017 +0100

    Fix premature spawn completion on iOS
    
    The observation that the remote Mach port got destroyed does not mean
    that the posix_spawn() finished replacing the process.

commit cc830380df77f9ba267b4095fd0ec8a9332b138e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 4 20:48:11 2017 +0100

    Bump the initial receive's buffer size
    
    This means we get away with just one syscall for most of the messages.

commit 4715d2b069b574b58e7f36937995d14c0901ee86
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 4 20:45:58 2017 +0100

    Make rounding operation a bit more explicit

commit edcdeefe55debebed4e431dcff5597e01d79024a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 4 05:34:58 2017 +0100

    Revive spawn gating support

commit 7c0b88498ce203f2f71382d741f93f33addfe0f0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jan 4 02:32:39 2017 +0100

    Tweak pipe setup to avoid mach_port_insert_right()
    
    Due to the issue mentioned in 706d0ea215a50276a613aa837d5dffad9e5f340a,
    it's safest to avoid this API. We instead leave a message containing
    the send right on the endpoint(s) that we're unable to give one to
    directly without guessing at a port name.

commit 999352c7a822e0245175c5bd8b10bb935be5dfed
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 2 20:50:55 2017 +0100

    Rework iOS app launching to avoid CydiaSubstrate (#100)

commit b706b5a4a1ad9c311ac1ed2a544d42de2af32ac8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 1 04:49:55 2017 +0100

    Add support for injecting into a suspended process
    
    We essentially move the process initialization from spawn() to attach(),
    which also means that a straight spawn() -> resume() -- without attach()
    in between -- will be much faster. More importantly, though, this allows
    us to instrument externally spawned processes.
    
    This is very useful for hooking posix_spawn() in an external process,
    e.g. launchd, in order to add POSIX_SPAWN_START_SUSPENDED. Such an agent
    would then just notify the Frida application of the spawned PID, and it
    is then able to attach() to it, apply instrumentation, and then call
    resume(pid).
    
    The goal is to stop piggy-backing on CydiaSubstrate for app launching on
    iOS, and this is the first step towards that goal. This also opens up
    other interesting use-cases to advanced Frida users.

commit f9d67200391df8674a499847807490f3bc7d9044
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 1 04:18:41 2017 +0100

    Add support for spawning test binaries suspended
    
    Only implemented on Darwin for now.

commit c7be9172ef37c33e739e210c389cd286295156e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 1 04:16:42 2017 +0100

    Avoid leaving behind temporary files after tests

commit 997c2efdef438153104d7d18bfcf082c34ea2fb3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jan 1 04:15:29 2017 +0100

    Add Injector.close() for deterministic teardown

commit f6ff1dded150271e6eed81bedb2a743958000ff5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 31 00:17:06 2016 +0100

    Improve the iOS packaging script
    
    We now provide one package per architecture to minimize bandwidth and
    disk waste.

commit 8b5c39eb07a5355f5597cfe11dee5877ffd32420
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 30 22:49:09 2016 +0100

    Fix handling of optional launch URL

commit 1f5bae9a7b885c8b8ea778e78b99dd9b975d6921
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 30 05:26:37 2016 +0100

    Pass the canonical flags argument to mach_vm_allocate()

commit d3fb4c9c46db8125084575c8cb2c95562ae3232d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 30 04:34:53 2016 +0100

    Fix iOS build regression

commit b73300a97c36809f1bc5f21156397726fb5de57d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 30 03:59:33 2016 +0100

    Simplify the Darwin backend through the new API
    
    This means we no longer need to proxy host<->agent on SIP-enabled
    systems.

commit 474bbfcc58cbb35f0e2a8b52487c160fcbdae14b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 30 03:44:46 2016 +0100

    Improve cleanup in the torture test

commit 360ab8b7e0b9ebf37f78f9200f893c7e0c78339b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 30 03:44:23 2016 +0100

    Rework frida-helper RPC in the Darwin backend
    
    Turns out we were failing to get frida-helper's task port in most
    situations, which meant we were not able to make use of our recent
    mmap support (resulting in frida-agent.dylib getting written out to
    the filesystem). This will also allow us to simplify host<->agent
    communications when embedded in a system process, like Apple's Python,
    where we were previously forced to proxy this over our UNIX socket.

commit 25dd7e11f4858820ab2af2221666d411591ff983
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 29 15:43:59 2016 +0100

    Improve proxy transport teardown

commit 23c4bf280f794f5c857fd50d496dacd53003a762
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 29 15:43:38 2016 +0100

    Fix proxy transport timeout after 25 s of idle time
    
    This code-path is only used when Frida is embedded in a system process,
    e.g. Apple's Python, on systems with SIP enabled.

commit d29a6f2ad177a8583ff5749125f5d805d89c5199
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 29 05:48:24 2016 +0100

    Fix system session regression on macOS

commit 373306bed1e2266bc369ac1b9ad4113ea7ff447c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 29 05:21:09 2016 +0100

    Fix Darwin build regressions

commit f342473b36f7d1db6c47faf9a3b83ebc9a4d179f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 29 05:03:56 2016 +0100

    Fix frida-core linking regression on non-Darwin

commit 9f31fbc334bd77d7e70cee2d00d071db06124d49
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 29 04:35:47 2016 +0100

    Fix frida-server linking regression on non-Darwin
    
    The fact that one of the conditionally included sources was Objective-C
    resulted in the Objective-C linker also being used on platforms where
    this source was not included (and this is pretty iffy).

commit 95b739966575d6ffb9c31769bb1c83ace21d1861
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 29 03:10:08 2016 +0100

    Fix warning about unreachable code
    
    This is due to a recent internal API change.

commit cf4748b21661c8d9ac6af754dbbde0726805afcc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 29 02:44:09 2016 +0100

    Fix Linux build regression

commit 39a1bbc7c277e0eb105036174e21035462ac7e28
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 28 20:24:09 2016 +0100

    Simplify iOS app launching to avoid symlinking

commit 72b7aed79bab7118589913706bd502ce197d8401
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 28 20:13:58 2016 +0100

    Use our injector when spawning iOS apps
    
    This means we avoid writing out the .dylib to the filesystem when our
    mapper is available.

commit 4515fbe55fe1e3be4522ebd08d53025ecab98b27
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 28 20:12:27 2016 +0100

    Update frida-loader to the new agent API

commit 95a58f6ff2aaf5c1b5d220017a21b005d31e18bf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 28 19:36:12 2016 +0100

    Use our injector to set up the system session on i/macOS
    
    This means we avoid writing out the .dylib to the filesystem when our
    mapper is available.

commit 6244148e599c5bbd3d64e9befd7a0a35f0e6c1cd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 26 14:55:51 2016 +0100

    Fix frida-server on Darwin
    
    Need to initialize Gum before using it.

commit 4d5f8b794e633b9aa119d1ded33320b0b3f8da09
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 24 04:52:39 2016 +0100

    Only emit `.subsections_via_symbols` for Apple's toolchain

commit c9391b67709bb71156f34a3e8d8737d8290a76f8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 24 04:48:51 2016 +0100

    Drive an NSRunLoop on the main thread of frida-server
    
    This is useful for system session scripts, which are provided this
    guarantee when they are running in frida-helper.

commit b499576a32bf229514af07984a09c3bb5c601733
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 24 04:25:48 2016 +0100

    Sign frida-server and give it entitlements
    
    This is necessary now that frida-helper is embedded. The entitlements
    are the same as frida-helper.

commit a1565bdf578bc7aa3d08aa7084a9deece88fb5e5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 24 04:11:52 2016 +0100

    Fix the blob injection logic

commit 33d4ae62385abe872cbb9450f4297b53c801b79e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 24 02:54:49 2016 +0100

    Improve the generated resources for Darwin
    
    - Allow unused data resources to be `-dead_strip`ped out.
    - Align dylib resources on a 16384 boundary to make them easy to mmap.

commit ae96e5b2b46d9a7dce52b2cc41a1a36e305bb4c6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 23 21:51:24 2016 +0100

    Refactor to allow in-process frida-helper
    
    This means we can shave off megabytes of footprint for use-cases like
    frida-server, where we are able to guarantee things like proper
    code-signing, entitlements, etc. It also means we can avoid wasting
    precious space on the filesystem, which is a good thing on jailbroken
    devices without stashing.

commit 044fec64459428fecd10aa8dd2dff9b395fee47b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 23 02:44:31 2016 +0100

    Update test to reflect that Mapper is now used on iOS also

commit b5ecf873fffe9916689a43e09539702b50c287d7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 23 02:33:25 2016 +0100

    Eliminate frida-agent's -lresolv dependency

commit cf0b5f916a8e04375b444717e9e10db865b81226
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 23 01:52:11 2016 +0100

    Improve test to avoid leaving garbage behind

commit 7a613b1f8da82bf4fd5ccad9e3316b3f0c1aaa80
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 23 01:51:24 2016 +0100

    Improve Fruitjector's teardown when used standalone

commit b1651e4bd6a11f0d5e70d05755c726b111094aaa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 23 01:49:07 2016 +0100

    Bump the retry timeout to 10 ms

commit 8cd710120c77e3a8fd82b4295542458cce1d89c2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 22 16:30:48 2016 +0100

    Preload helper and dylib when frida-server starts

commit 55c6291ba7c3467508b56ff56d6e3be1936225e4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 22 15:26:49 2016 +0100

    Fix inconsistent coding style

commit df78a1636c9e791bfc3b4d4923f37170ca88ec8a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 21 02:15:24 2016 +0100

    Plug pthread_t leak on Linux/mips
    
    /cc @s1341

commit 52e96e33b0ff4caa715b06a20a0b9c99b6be2b59
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 21 01:41:22 2016 +0100

    Plug pthread_t leak on Android/arm64

commit 77effaa3a41dd3bd7d4d187f99c505705f9f3554
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 21 01:31:55 2016 +0100

    Plug pthread_t leak on Linux/arm

commit e2b1da84acabb65ce9d49ef5827265f97dad2756
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 21 01:18:39 2016 +0100

    Plug pthread_t leak on Android/arm

commit 9b627951da5aaadac1d7e39b2212e664be3947ca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 21 01:00:41 2016 +0100

    Plug pthread_t leak on Android/i386 and Android/x86-64

commit 503121dc771a093b71362199c6ad20fe0f9973a7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 20 21:02:52 2016 +0100

    Revive tests on Android/i386

commit da957fe4333a36287e98107fcbdd929f84f9a70f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 20 15:57:46 2016 +0100

    Keep helper alive until all injections finish
    
    This means we get to free memory allocated in the remote processes,
    which is important for the stability of long-running processes.

commit 04521678a71f765fb9a5ff02d339dba8500666f6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 20 14:50:26 2016 +0100

    Plug pthread_t leak on Linux/i386 and Linux/x86-64

commit 58ce85be415e243994c5d615593d9cf2d0bf8e8c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 18 23:29:36 2016 +0100

    Remove erroneous unref left from refactoring

commit c9cb0b808d44ae410dfc5098c6f5e4766a76f933
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 18 18:16:17 2016 +0100

    Bump expiry timeout to 2 seconds

commit 2647648277bd66f408ce1d608c35454b1e17a106
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 18 18:15:51 2016 +0100

    Fix the port expiry logic

commit 31cb12c6f36882b282ba54e264dc9687ab177c67
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 18 18:06:26 2016 +0100

    Fix warning about unused function

commit 1f97cf1946215ab7c76fee42f6e945cfd5883c7c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 18 02:34:58 2016 +0100

    Fix build regression by exposing MappedLibraryBlob internally

commit 087351a8af16a50c0e29cc16b3776651f5de3858
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 17 17:50:17 2016 +0100

    Add experimental support for injecting from memory

commit 87082abe7eb0f7923a94cbb468159147e0ec49dd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 17 01:35:22 2016 +0100

    Improve naming

commit c3cf1dbad26529af1e623ecb91565b08e17da130
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 17 01:29:27 2016 +0100

    Strive to only call task_for_pid() once during attach()
    
    This improves performance and means we're a bit nicer to the OS, as
    task_for_pid() isn't a trivial system call.

commit 5bb7cac03290905be15143fd2ec409c48f2869e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 16 19:36:22 2016 +0100

    Update to the new Gum.Darwin API

commit ebb1c688e56bf89d899939cc9b6eeeb2c7e635a4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 14 14:31:55 2016 +0100

    Fix the 32-bit injector

commit d5b63f199cd3658b5c95c51cc4c0d2d98022210a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Dec 14 06:23:51 2016 +0100

    Improve injectors (#96)
    
    - Avoid private APIs on i/macOS
    - Fix stability issue on i/macOS
    - Fix Mach port leak on i/macOS
    - Revise the agent entrypoint API to allow agents to stay resident. The old API was officially:
    
    ```C
    void
    frida_agent_main (const char * data)
    {
      /*
       * Agent will stay loaded until this function returns, after which Frida
       * will emit the `uinjected` signal.
       */
    }
    ```
    
    But it actually had two extra arguments for internal use:
    
    ```C
    void
    frida_agent_main (const char * data,
                      const GumMemoryRange * mapped_range,
                      GumThreadId parent_thread_id)
    {
    }
    ```
    
    * `mapped_range`: was (and is still) used to tell [Stalker](https://github.com/frida/frida-gum/blob/master/gum/backend-x86/gumstalker-x86.c) to ignore our memory range when our shared library was manually mapped into the process. This means it is `NULL` if it was loaded by e.g. `dlopen()`, in which case frida-agent walks the loaded libraries to find the memory range.
    * `parent_thread_id`: on i/macOS we used to have a Mach thread sticking around, waiting for our POSIX thread to stop. We needed to know its thread ID so we could exclude it from `Process.enumerateThreads()`. As of this PR, this thread no longer sticks around, so this argument is now gone.
    
    The new API is officially:
    
    ```C
    #include <stdbool.h>
    
    void
    frida_agent_main (const char * data,
                      bool * stay_resident)
    {
      /*
       * Uncomment to prevent agent from getting unloaded after returning from this function.
       * This also means the `uninjected` signal is not emitted, and Frida will stop keeping track
       * of this injected thread.
       */
      // *stay_resident = true;
    }
    ```
    
    But internally it is actually:
    
    ```C
    #include <stdbool.h>
    
    void
    frida_agent_main (const char * data,
                      bool * stay_resident,
                      const GumMemoryRange * mapped_range)
    {
      *stay_resident = true;
    }
    ```
    
    Though I think we should consider the third argument public now, as it's useful for some applications, e.g. using Stalker.
    
    @s1341: I didn't dare to port the Linux/MIPS and QNX/ARM portions as I'm not able to test them, but as those are passing `NULL, NULL` for the last two arguments, it just means that `stay_resident` is unavailable for those ports (for now).

commit 808482b1c14efb1a1d39934376b23b961558d0f3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 14 00:44:36 2016 +0100

    Fix resource usage logic on Android

commit 2350f241aa25aa9d1ce52733e1d0509246d75d29
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 13 17:35:58 2016 +0100

    Improve test error output

commit d80257708d2868c5b9e02a786110b3daf06847d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Dec 13 04:24:04 2016 +0100

    Port resource usage collectors to iOS

commit d6f01db7bf4795997be59707c064599cf196279d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 23:39:03 2016 +0100

    Remove accidentally added code

commit 1cc6bd48dfca8cdef65e7d044b9e728c9af17824
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 04:24:40 2016 +0100

    Add a metric collector for memory footprint on Linux

commit e5a768f335608ceff99e41820d6524d07846b9e9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 04:11:21 2016 +0100

    Adjust collector name for consistency

commit e366be48691f54b988807e5ae204aa9b969d6ba4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 04:10:42 2016 +0100

    Add a metric collector for file descriptors on Linux

commit b4b1f24272a3ea0d76276b669cb872bbffb12718
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 03:59:51 2016 +0100

    Fix test regression on Linux

commit b946941864cbe73742a24894ae37715888938edd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 03:38:38 2016 +0100

    Add a metric collector for memory footprint on Windows

commit ec165fb0bccf29188b48570696b930925cf42702
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 03:31:40 2016 +0100

    Warm up static allocations before measuring for leaks

commit afc1956f2649eb33ea9a0394bcda5b2a98ef1d5b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 03:28:56 2016 +0100

    Add a metric collector for OS handles on Windows

commit 46ec65df45bc12158efa28bbe7fa909e6e78d754
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 03:23:01 2016 +0100

    Make Frida.Test.Process kill its child once finalized

commit 767191c04ca7051f44c0da389b9f63ad32d2c77e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 03:02:08 2016 +0100

    Update sleeper and cycler labrats for Windows

commit 04cafeb2c876665b71c07ea42e800199a531955c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 03:01:14 2016 +0100

    Improve Windows labrats so they terminate after 60 seconds
    
    This is consistent with the UNIX version, and means that failing tests
    won't result in processes sticking around indefinitely.

commit e1c2aafd0fe8365e3cdaff54bbe613c508524a01
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 02:38:11 2016 +0100

    Fix HostSession tests on Windows and refactor

commit db8cee2370a7aa1dc85ca0d80cf05e643e540bbc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 02:37:14 2016 +0100

    Update simple-agent labrats for Windows

commit 8fc0e98db9f379f2dab457c0c0cd151c13bb7f0b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 02:37:00 2016 +0100

    Fix simple-agent crash on process exit on Windows
    
    Cannot use stdio during DLL_PROCESS_DETACH when the process is exiting.

commit 3edd6efaee6f3690c0c421c88925a9e49d6f0bf1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 02:35:11 2016 +0100

    Add missing ignores for labrats

commit 3966924a02d476f1442bbd465da48e9918e1d6c0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 02:34:23 2016 +0100

    Bring Frida.Test.Process for Windows to parity with UNIX
    
    This is now required by the Injector tests.

commit 8c6379e63000da16f294c34df82114e4a262b948
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 02:31:51 2016 +0100

    Fix naming of the cycler labrats for Windows

commit 95ccc4ce10747d45598f995bb59bbfbca0010f95
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 02:21:02 2016 +0100

    Fix the DllMain implementation

commit acb3182fc7c7aa5416c91cd49ecff22b73957a32
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 02:20:52 2016 +0100

    Bring back log statement lost in the refactoring

commit 3d6d131360997bddced1dec1c579e661f01ffa7f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 02:19:52 2016 +0100

    Output labrats on top of the existing ones

commit a1edc92d4da0a2175fff5bcfbb8686c45c9874d6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 00:05:42 2016 +0100

    Ensure helper factory is ready before first use

commit cb41128253a1fbec0ef1ee4df43b2fbc886102dd
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 00:05:42 2016 +0100

    Update test to remove special-casing for Windows

commit 8c9dec72d2903da8bdef725c1ae606f1673b1854
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 00:05:42 2016 +0100

    Add helper for getting a location for test output

commit e9d539709cc8d183d4711737ca776c084d76bfab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 00:05:42 2016 +0100

    Fix the labrat path logic on Windows

commit a1c4950b7533d5f3d3c4aa8f5ad13144632735d5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 00:05:16 2016 +0100

    Add missing gitignores for labrats on Windows

commit e47f32fde306cb4d3ed7cc42229a17640c5ae1e2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 00:05:03 2016 +0100

    Upgrade labrat project files to MSVS2015

commit c4e89f5b1fdbc7b4012fab8f373a15062bef3994
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 00:04:20 2016 +0100

    Disable silly CRT-warnings for the labrat build system

commit 9c8bb4e1e6e35e441bd7faff8ae391dddca1d515
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 00:03:36 2016 +0100

    Fix the Windows labrat binary names

commit 01486ff0d76336da35c9fb9cc5e7a2a2fc014637
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Dec 12 00:02:31 2016 +0100

    Consolidate simple-agent for UNIX and Windows

commit 1eebb3b9b1bcd0fc27d6c0d486a217158038683b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 11 21:28:18 2016 +0100

    Add resource leak test also covering frida-agent

commit 8c65be1ceff5ce45e6e3dd04921046f0521cdb42
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 11 21:26:26 2016 +0100

    Improve naming

commit 121b81b3a581dae2209c28a44a1234f0e55b9575
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 11 03:59:57 2016 +0100

    Temporarily disable the assertion in case of detected leaks

commit 962c7bb5af0c71fb3581df1d84f615861482d810
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 11 03:57:56 2016 +0100

    Warm up any static allocations before measuring

commit c555e7e4395f537d267e819c62a0de683c81a34e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 11 03:57:13 2016 +0100

    Add a metric collector for memory footprint on Darwin

commit ae6ba1ec61f5ada067bd3a2d884d24b1f7604926
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 11 03:56:00 2016 +0100

    Add introspection API for dumping the snapshot

commit 38e37b7de621dc53ecffd5ce9ea0c71c11e762df
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 11 01:20:43 2016 +0100

    Plug task port leak

commit 7b85827cecc040966961fccdd35e8a1c1d1b0353
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 11 01:18:14 2016 +0100

    Add a metric collector for Mach ports

commit 851b905ebc97fc248ea14764a3efb0e6ae329a8e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 11 00:50:46 2016 +0100

    Improve the collector API

commit 6396d6935f4d3dceb399aff94ca28232c9fd02b2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 11 00:37:04 2016 +0100

    Add a basic Injector resource leak test
    
    For now we don't have any metrics collectors so this test will always
    pass.

commit c3373bcb8adb00b63f879a645a0544fe66c4d9d9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Dec 11 00:36:17 2016 +0100

    Add skeleton for measuring process resource usage

commit f7cdb4b0186bf6451efbc0ec3ef4ab3dd0a350c7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 10 23:43:33 2016 +0100

    Fix the Darwin spawn tests

commit fce137cc2e097287197849b0a51c157060eea5a9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 10 23:42:36 2016 +0100

    Remove unused helper function

commit bb9f24b97c9653b48dd48128212578411ea0b03c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 10 23:18:57 2016 +0100

    Refactor tests
    
    - Consolidate the injector test-suites now that there is a unified API.
    - Make it easier to get hold of test data.
    - Improve naming and consistency across labrats.

commit 57b372170674c5cb1cb9e82e7d56f1f0120b4a68
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Dec 10 04:24:48 2016 +0100

    Fix API autogen so delegate typedefs are included

commit f4a2d9f47c75ca5b69bf2d33073d6894ca8d3518
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 9 22:45:27 2016 +0100

    Use new convenience API for retrieving processes

commit 70f649f85d6b79717ba3f142e32ab53a867d8979
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 9 22:44:04 2016 +0100

    Add convenience API for looking up processes
    
    This will allow us to push down the high-level convenience APIs that we
    ended up adding to our language bindings, and also avoid some duplication
    in our tests.

commit 169eb5f1cfdb7f22564e9411c4d9b311a18e9240
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 9 22:43:02 2016 +0100

    Add find_device{_by_id,by_type}() convenience APIs

commit 1016adcce218c073fd6d85074fafeea184a828c4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 9 15:47:44 2016 +0100

    Improve style of the generated header and vapi

commit 3d67208739d6911039054829708be8c960565d0d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 9 15:46:01 2016 +0100

    Use new convenience API for retrieving devices

commit 3c83bf8abc9a55593fff9f62ca021063d1d1baba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 9 15:41:44 2016 +0100

    Add convenience API for getting devices
    
    This will allow us to push down the high-level convenience APIs that we
    ended up adding to our language bindings, and also avoid quite a bit of
    duplication in our tests.

commit e015e5bb40b87ea52a1d35fb375866e5e0e98a7f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 9 02:40:06 2016 +0100

    Fix unreffing of the port set

commit 56dfa8182889ef57aa949fd3ee11a96a3c88d944
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 9 01:57:35 2016 +0100

    Use mach_port_deallocate() for send rights
    
    The only exception is when we are in control of the receiving end, in
    which case we don't need to worry about the send right having turned
    into a dead right.

commit 7c428c187414552608493fb36e5834b0f781f363
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 7 23:57:29 2016 +0100

    Simplify EOF-detection in the Mach Pipe backend

commit 07dd7bafe6ab25c38c9dedd697943bf7ac02d21f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 7 22:49:38 2016 +0100

    Use mach_port_t everywhere

commit 15971b879b7519d5cac63e61e599d5a4bd03edbc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 7 23:57:46 2016 +0100

    Remove dead define

commit 706d0ea215a50276a613aa837d5dffad9e5f340a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 8 22:42:40 2016 +0100

    Fix long-standing stability issue on i/macOS
    
    Our Mach port allocation strategy was triggering an interesting bug in
    the XNU kernel.
    
    Mach allows a Mach port right owned by task A to be sent in a Mach
    message to task B, which is typically used if task A has a receive right
    and wants to give task B a send right, so it can receive messages from
    it.
    
    This is however not always feasible, e.g. in Frida's case, where there
    isn't necessarily an established channel between task A and B, over
    which a port right can be sent.
    
    However, if task A and task B's task ports are available to an entity,
    like frida-helper in our case, it is possible to directly insert a port
    right into those tasks. The only challenge is that the API to do so,
    `mach_port_insert_right()`, requires you to pick a unique port name. You
    may go ahead and guess, and the API will tell you if the name is already
    taken.
    
    The port name is just a 32-bit unsigned integer, and is local to the
    task, or more precisely, the IPC space. So this part was easy enough.
    We had just allocated a port in that other task, which is really easy to
    do through `mach_port_allocate()`, because a port name is chosen for you
    by the kernel. Our strategy was simply to take that name incremented by
    one, and try inserting that. Then if that fails, just keep incrementing
    and trying. A few dozen system calls later and off we'd go, with freshly
    punched Mach ports ready for task A and B to be able to communicate in
    both directions.
    
    This was around Easter 2013, when the Mach port transport was born. Up
    until then we had been using TCP over loopback to communicate between
    frida-core and the injected frida-agent. But I had been planning on
    writing a transport per OS that would use a really low-level primitive
    to avoid issues with firewalls, sandboxing, etc., and also give us a bit
    more stealth.
    
    I remember how I was planning to spend my Easter holiday just doing
    this, and the goal was to do the pipe transport for Windows, i/macOS,
    and Linux. Needless to say there wasn't much time to write these three
    different backends, so I missed one important detail when writing the
    Mach backend. Mach port names have a particular encoding where the lower
    8 bits are used to identify which generation of IDs this name belongs
    to, and the upper 24 bits is the index. My simple increment-and-retry
    algorithm would thus be scrambling through the generation part and not
    just the index.
    
    Over the last 3 years that followed, I've been noticing some really odd
    crashes on i/macOS, but always assumed it was caused by a memory
    corruption issue. Indeed, there were a few bugs that caused memory
    corruptions, but those have since been hunted down and fixed. With those
    out of the way, AddressSanitizer happy, Valgrind not finding anything,
    and hours on end in front of LLDB, this last corruption was nowhere to
    be found.
    
    After testing different components in isolation and binary-searching my
    way through possible error-sources, it got quite clear that the Mach
    pipe transport backend was somehow causing this, or at least making the
    corruptions very reproducible. I also found another stability issue
    caused by the Darwin library injector, but there wasn't anything weird
    about that.
    
    Turns out that trying to insert Mach port names with the generation
    part and index all over the place is not really a good idea. I suspect
    that the internal reshuffling that this triggers results in ports
    briefly looking like they're gone, i.e. a race condition. We avoid this
    kernel bug entirely by only incrementing the index and leaving the
    generation part as-is.

commit 63db648f62e40c6940f8aaee845910cacb616347
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Dec 7 13:42:33 2016 +0100

    Fix retry bailout check

commit c02886b18a25ead79fc60e931b724ce7343e1539
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 2 17:04:27 2016 +0100

    Fix the pkgconfig metadata
    
    This reverts commit e9191b030f1934f0e1e7e7b69b6c752f567566ab.

commit 7f55d5b4863a332cc6d2aa59664617b7893d270a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 2 04:02:06 2016 +0100

    Handle injection into PIDs w/introspection pthread

commit 0da63a177eb3c2606e1bafed1361d4ea48188462
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Dec 2 03:57:16 2016 +0100

    Use pthread_create_from_mach_thread() on new OSes
    
    This seems to be what Apple recommends in order to avoid introspection
    hooks on "naked" Mach threads, as those hooks may depend on being called
    from a real pthread thread.

commit 3e8ffed18c2948fbd2a7021006c2193a363d8c4d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Dec 1 21:55:09 2016 +0100

    Ensure system session uses the correct tempdir
    
    We do this in the last minute to avoid writing out the helper
    prematurely.

commit a719a6d631802af6771b1dd98c60086ec5a38dd5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 30 04:28:19 2016 +0100

    Auto-generate the API on Windows also

commit e9191b030f1934f0e1e7e7b69b6c752f567566ab
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 30 04:27:55 2016 +0100

    Remove unused dependency from pkg-config metadata

commit 102016634306bb762007b28911061c59d977a0fb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 28 02:39:49 2016 +0100

    Migrate loader to gum_{init,deinit}_embedded()

commit 831deeb9972c5a521dfe12acaea1e1a1fd29fefe
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 28 02:39:23 2016 +0100

    Leave it to Gum to depend on liblog

commit 2fba9e957cccc76097ddb8e799cf436e7f774248
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 28 02:08:34 2016 +0100

    Prepare to reenable Mapper on macOS
    
    This reverts commit 34b2a6e182f504db60cc657f7225608c625bbb07.

commit ca71e1d291775cf4e184df24e74771f25322e096
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 28 00:08:37 2016 +0100

    Make use of gum_{init,deinit}_embedded()

commit a76f9eb2eb45894b57465ab6fe76d492aac7d80a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Nov 27 21:19:01 2016 +0100

    Expose the “uninjected” signal to Device

commit 29f57323b93f1ff5d622b7ebcf1db0811491c178
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Nov 27 21:07:32 2016 +0100

    Improve API autogeneration to handle interfaces
    
    Also strip out a few unnecessary macros for class types, as those are
    not exposed anyway.

commit b6e4a75d2196badda02b93134f9fce945f80574b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Nov 27 19:56:00 2016 +0100

    Fix Android build regression

commit 9367528884b922ea0305bafccaa5e0a9c1a9f171
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 25 18:36:20 2016 +0100

    Expose the raw library injection API (#93)

commit 1c007ff9c7058b19c9b04ece7f3317ce7eb2cba3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 24 16:48:52 2016 +0100

    Improve the manual debugger test

commit a7ae89ef169ebeb0b8bbbccc9c80e9a6cd60859d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 24 15:45:01 2016 +0100

    Split out Debugger to a separate file

commit 24de9304dc7fbf4c30badff7e92455a7facc5346
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Nov 24 03:46:44 2016 +0100

    Improve the manual debugger test to allow some interactivity

commit 0726b8170e469457dce4f863d3fc85e6d79e7f8d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 23 23:27:18 2016 +0100

    Wire up support for the Duktape debugger
    
    For simplicity we listen on multiple ports, one per script, so Duktape's
    official GUI can be used unmodified. We might want to revisit this once
    we have our own debugger.

commit 5720d342a4b55884ca0d951964e16e198af7267a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Nov 14 00:29:53 2016 +0100

    Disable LTCG on Windows

commit e15a7c60b2685f63ab9e58606898e69693d3372a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 11 01:40:06 2016 +0100

    Make sure Exceptor's threads gets ignored
    
    We cannot batch these two in case the Exceptor's backend spawns a new
    thread that AutoIgnorer misses out on.

commit 20b10c399ba8247189cd2f1171a74ef80918d03e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Nov 11 01:18:00 2016 +0100

    Hold on to Exceptor and batch early interception
    
    This avoids lazily creating the Exceptor when the first script is
    created, so we minimize our runtime impact and also improve performance.
    
    As an added bonus we get to batch all of our setup and teardown
    interception, which means improved performance and potentially lower
    memory usage (depending on the platform).

commit 320df7d5a8f13ae0dd6660bd936f1d1ffd77f902
Author: s1341 <s1341@users.noreply.github.com>
Date:   Wed Nov 9 22:29:07 2016 +0200

    Remove -lm hack for QNX (#92)

commit ad5635b5c1ff9ea3a3e5f052010f0fe0c2582e21
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Nov 2 16:07:05 2016 +0100

    Determine method field offsets dynamically
    
    This should improve our success-ratio across the different flavors of
    Android.

commit 96532ef586608b3c00f269e5d5ac6b208b4977b7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 1 23:37:04 2016 +0100

    Fix constraint warning on Linux/arm64

commit 0ff77c1c8ee0082b6a1e9f459e7e0aa1399a5ca8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 1 17:44:35 2016 +0100

    Fix unload issue on newer versions of Android
    
    Using `RTLD_GLOBAL` means that the dynamic linker won't ever unload us,
    as we're made part of the global namespace. This is not something we
    need or want.

commit e9941e0e8ddd8ff752c20655c3fdfee17a288d76
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 1 17:42:45 2016 +0100

    Only use RTLD_NOW when necessary

commit ffa9f9e9fba2dea2742226e2c559c5a899e6d9ec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Nov 1 17:38:10 2016 +0100

    Tweak ordering of dlopen() flags

commit 2146b976aad08565da445938e303bcd8b6337d12
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 28 19:39:14 2016 +0200

    Fix error-handling in the Android agent
    
    Also convert to ES5 for Duktape-compatibility.

commit a7c09d2c2b0d41be18299a05df444fd2413c60ba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Oct 28 03:16:33 2016 +0200

    Fix crash when spawning apps on newer Android
    
    We need to give `dlopen()` the absolute path.

commit 34b2a6e182f504db60cc657f7225608c625bbb07
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 22 02:47:02 2016 +0200

    Prepare to temporarily disable Mapper on Mac

commit b4246bf2f19c33a4e732de91d2a29f9524ba4ac9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 4 21:26:04 2016 +0200

    Fix handling of overlapping destroy() requests

commit 407647d711a50c434188b5276defff0a2f9c103c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 4 15:32:02 2016 +0200

    Revert "Fix heap corruption caused by use-after-free"
    
    This reverts commit 4bef5e6d51e7347c505d66bd3de872a4d0d257cb.

commit 4bef5e6d51e7347c505d66bd3de872a4d0d257cb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 4 03:19:39 2016 +0200

    Fix heap corruption caused by use-after-free
    
    Seems like `entry` getting cleaned up results in a weak pointer being
    updated on an object that we just released. This seems like a bug in
    libgee, so this workaround will be reverted once we have a proper fix
    in libgee.
    
    Details:
    
    ==73504==ERROR: AddressSanitizer: heap-use-after-free on address 0x6040000218f0 at pc 0x0001088ba31b bp 0x7fff577285b0 sp 0x7fff577285a8
    WRITE of size 8 at 0x6040000218f0 thread T0
        #0 0x1088ba31a in g_nullify_pointer gutils.c:2051
        #1 0x108812656 in weak_refs_notify gobject.c:2638
        #2 0x10885865c in g_data_set_internal gdataset.c:407
        #3 0x10880d1fb in g_object_unref gobject.c:3148
        #4 0x108549333 in frida_darwin_host_session_on_uninjected darwin-host-session.c:4176
    
    0x6040000218f0 is located 32 bytes inside of 40-byte region [0x6040000218d0,0x6040000218f8)
    freed by thread T0 here:
        #0 0x1108a7e29 in wrap_free (libclang_rt.asan_osx_dynamic.dylib+0x4ae29)
        #1 0x108659586 in gee_hash_map_unset_helper hashmap.c:1692
        #2 0x108657554 in gee_hash_map_real_unset hashmap.c:1520
        #3 0x108549326 in frida_darwin_host_session_on_uninjected darwin-host-session.c:4175
    
    previously allocated by thread T0 here:
        #0 0x1108a7c60 in wrap_malloc (libclang_rt.asan_osx_dynamic.dylib+0x4ac60)
        #1 0x108880688 in g_malloc gmem.c:95
        #2 0x10889ea55 in g_slice_alloc gslice.c:1012
        #3 0x10889f0be in g_slice_alloc0 gslice.c:1038
        #4 0x108658c47 in gee_hash_map_node_new hashmap.c:2084
        #5 0x108657297 in gee_hash_map_real_set hashmap.c:1494
        #6 0x10855011e in frida_darwin_host_session_real_perform_attach_to_co darwin-host-session.c:4046

commit a41c35e58d752e8ff075fca6ce21d9614c603ade
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Oct 4 03:06:59 2016 +0200

    Update frida-inject to the new API

commit 84192e25d5b7bb1396045a13afd10121ae3c849e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Oct 3 19:25:01 2016 +0200

    Fix warnings in the Valgrind header

commit b599c9bf4c6e9c0223cacf45783cc71d1e43d27a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 1 02:58:38 2016 +0200

    Improve teardown of the helper processes on Linux

commit e4fb83443ddd01d2853c2009e42e79b6fb7beff7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Oct 1 02:57:44 2016 +0200

    Fix crash on teardown when helper process is still alive

commit 914e953e62dd7fb6713eac515fce129ffea776dc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 30 19:38:19 2016 +0200

    Switch the rest of the public API to use GLib.Bytes

commit 44c3a15671411e26fcfc6633a1c80aa636617aca
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 30 19:18:37 2016 +0200

    Improve the message-passing API
    
    - Rename `post_message()` to `post()` and add support for passing raw data;
    - Change the `message` signal to emit a GBytes? instead of an array.

commit 3ec32603dfcc8de9b5bd849a4615d80cf1197e17
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 30 15:06:29 2016 +0200

    Improve the teardown logic
    
    We would sometimes get `on_connection_closed()` called during teardown
    and end up in “assertion failed: (entry_to_remove != null)”.

commit 142c6f24393fac3db3ef3ee883c4e0185224166a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Sep 30 03:27:42 2016 +0200

    Add support for multiple agent sessions (#85)
    
    This addresses a long-standing design flaw where each `attach()` request would
    return the same object, or more precisely, the same shared session. The result
    was that clients would need to coordinate so that two clients interested in
    attaching to the same process wouldn't step on each other in case one decided
    to detach() once it was done.

commit ab1e83e5bcf5f950affd3febdcd826627f981fec
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Sep 23 20:51:29 2016 +0200

    Add basic support for running on Valgrind

commit cb8fe931a7dc6825115a6504131212a68b47dfbc
Author: s1341 <s1341@users.noreply.github.com>
Date:   Tue Aug 16 12:59:35 2016 +0300

    Add missing include (#83)

commit bd36c797e8e170d36afe18c01f050f0eff87cce3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Aug 15 00:59:43 2016 +0200

    Fix leak when our internal thread function doesn't return
    
    An example is GLib's internal GThread proxy function on Windows, which
    calls `_endthreadex()`. This meant that we'd leak some memory in the
    target process every time we injected frida-agent there.

commit f28d988b0dd715b144d5f01cd0b833c8bbe321e6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Aug 14 02:09:04 2016 +0200

    Fix warnings reported by the new Vala compiler

commit c1ace20c7259a30a1759c586fae64d254d994e0a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 10 04:30:36 2016 +0200

    Improve error message

commit 2c862c9b51f6d2cedffd7a8feaa580a0a05774b3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 10 04:30:19 2016 +0200

    Fix handling of XPC_ERROR_CONNECTION_INTERRUPTED
    
    We still need to wait for XPC_ERROR_CONNECTION_INVALID when closing the
    channel.

commit 4b21ba4a8dd011c4cac5863c2b23ca37cc2b5989
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 10 03:24:44 2016 +0200

    Handle XPC_ERROR_CONNECTION_INTERRUPTED also
    
    Otherwise apps will hang when frida-server closes the connection on them
    because it's not interested in instrumenting them.

commit a6395cff20f42c0861bf6c414dd13de4e584b6e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 10 03:01:49 2016 +0200

    Fix default main context assumption in the Linux backend

commit f4dc15c72ec99e0cdb25c0f3c672848d40618545
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 10 02:42:02 2016 +0200

    Remove temporary logging code

commit 37fd96b7fbdf5a69af32601ead53791d8d6c493c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Aug 10 02:41:21 2016 +0200

    Tweak style a bit

commit 675b91e07bb18117dc61854df5dd8d8519c181eb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 9 21:54:26 2016 +0200

    Rework the iOS app launching machinery to use XPC
    
    The `container` sandbox profile on iOS 9.3.3 no longer allows connecting to a
    UNIX socket.

commit 349acbab4247c311ae52b9420fda5dd99d30cc68
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 9 21:56:51 2016 +0200

    Use the DISPATCH_QUEUE_SERIAL constant for clarity

commit 79c8c6944ea46bb252571e56a4ff7023db56a311
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Aug 6 02:24:48 2016 +0200

    Fix "hang" on detach when others are attached
    
    If we end up keeping the session open we need to notify the client that
    just closed it, as it will be waiting for an acknowledgement.
    
    Longer term we should consider getting rid of this session sharing logic
    in the server and instead make the agent handle multiple clients.

commit 3230df7fed7b39bd401d87e045f4f86901999d91
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 5 23:37:29 2016 +0200

    Fix preprocessor logic mixup

commit b8d646b6385445f9d67d1ef90a333a9b599578d7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 5 23:22:29 2016 +0200

    Add support for running with AddressSanitizer

commit 8e64048abc444bbb79ad354b74c9099e3f192e74
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Aug 5 22:29:24 2016 +0200

    Add `--enable-mapper` for build-time tweaking
    
    It's handy to be able to disable it when debugging Frida itself.

commit d64a47378af67f6aea2f6fa48dea25e28e278977
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 2 21:45:50 2016 +0200

    Handle abrupt connection loss during close()

commit 52203173463a610ce1700cf2ac0d7ba3d595b9c9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Aug 2 04:00:01 2016 +0200

    Fix race-condition in the shutdown logic
    
    This resulted in `perform_close()` getting stuck.

commit 2883597b4950e69dbbc705a72c2f687ea2c2c034
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 28 20:55:25 2016 +0200

    Only do the loader deployment once
    
    There's no point in doing it on every launch.

commit 55ff06d94f7cc10c33a5e7c7a046b2a3c7fb60a0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 28 20:30:59 2016 +0200

    Also clean up FridaLoader.dylib on teardown

commit dd1e6a5ef9b2ff70fdb1102a8198ae2f2d0e8248
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 28 20:01:23 2016 +0200

    Fix race-condition by simply overwriting our existing mapping

commit 2ff3f0d3f4fd2277df8108ef4cfd6616176763e1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 28 17:09:54 2016 +0200

    Improve injector so it injects psuedo-signed code
    
    This means we avoid breaking the dynamic code-signing status of the target
    process. It's weird we got away with this most of the time, although it
    seems XNU eventually catches us, causing the target process to lose its
    `CS_VALID` status. At least that's the current theory, this will need some
    testing to say for sure.

commit ad7b7b075da5b8b80b3d6bcf0542fc4a71dc4bb8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 28 13:19:54 2016 +0200

    Fix session teardown regression

commit 4b5d16a702f20c117fd4197558cf6c820467bf51
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 27 23:29:04 2016 +0200

    Factor out the kill timeout

commit a081f8ff2211dbb0ae074b54cf9fb3b2f87c9034
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 27 23:20:56 2016 +0200

    Fix iOS 7 regression
    
    Bring back the old kill logic as fallback.

commit 0cb3bac0acd936efa94153ab231744c9cafc4a3a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 27 22:33:42 2016 +0200

    Fix deadlock when pending calls exist at detach time
    
    This was triggered by for example requesting to destroy a script and then
    immediately also requesting to detach from the process.
    
    We fix this by using a connection filter, allowing us to elegantly keep
    track of pending incoming calls without having to add complexity to all
    of our yielding server-side methods.

commit ba6dfd6bb155ba1a127e73ead2a951e9bb1adaa4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 27 02:48:42 2016 +0200

    Fix dlsym() hang
    
    It might be dangerous to call `dlsym()` if we're being called from the
    dynamic linker, so force linker stub warmup by calling `pthread_create()`
    instead.

commit 07d06a6b0fa68e40a560ebf50420b095442809bf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 27 02:42:08 2016 +0200

    Fix coding-style inconsistencies

commit 47be73e643e582bc2155da613420d7b43e2ba2c4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 27 01:29:37 2016 +0200

    Respawn frida-helper if it crashes
    
    This way frida-server never ends up in a state where all requests fail
    with “the connection is closed”.

commit 33a759c3ef88fd907d408ffe66da6f50fee5ffc1
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 24 21:33:55 2016 +0200

    Improve Session.detach() to wait until the agent session is closed

commit 0f70cae2d0aca37f19d2895825ddfced6de3f2fa
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 24 21:28:22 2016 +0200

    Wait for any previous injection for the same pid to complete
    
    We enforce this at the HostSession level as the injector allows injecting
    multiple payloads into the same process.

commit 1da3070edb20b1d210ae70a5024636c329fe1346
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jul 24 21:25:07 2016 +0200

    Add an attach/detach torture test

commit cc697a0defa7ce46a1464680b356013206eac730
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jul 19 00:43:42 2016 +0200

    Fix application kill logic on iOS 9
    
    Turns out that `pidForApplication:` on iOS 9 returns -1 if the app isn't
    running, and not 0 like on 8.4. I didn't do thorough enough QA when adding
    this timeout logic at the very end.
    
    Also improve the timeout logic to take actual elapsed time into account.

commit baea4d6f4bba72a37a4d0d7e2961ece0cc9d13a5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 14 03:53:12 2016 +0200

    Always kill iOS apps through SpringBoard
    
    This way we use the tried and tested iOS code-paths and avoid running
    into obscure implementation bugs.

commit 584a336b440b9613ef0fe9199dbf16d2f1557971
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 13 21:16:41 2016 +0200

    Add support for injecting into iOS Simulator processes
    
    This should also make the injection faster on all Apple OSes.

commit c5d013647f3dd655c007c79b7145e3e93baefe63
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Jul 13 00:10:40 2016 +0200

    Fix warning on Apple OSes

commit 7438c1d26fe9176520bd14c95f8fbad2cb91d749
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jul 7 03:26:31 2016 +0200

    Fix build regressions

commit 3d7a5915279d9eb78fb6321fc5cdfc61c065fb50
Merge: b72fdbce 01e2e107
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 29 16:03:41 2016 +0200

    Merge pull request #80 from s1341/master
    
    Add mips support to frida-core

commit 01e2e107c58fceb06a363cf275e7396ff0aeec64
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 29 16:56:54 2016 +0300

    Fix style issues

commit 454de440ea3f7d2e1da38676610a99e69bb0a9e1
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 29 16:56:28 2016 +0300

    Release libpthread library after resolving pthread_create

commit 296925594379a36ffe5fa10fba41a01aa6418845
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 28 18:24:26 2016 +0300

    Detect linker and ldso full paths based on filename prefixes

commit 8d23cbaee9ea1ddb487d239fb92544ddad89f136
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 28 18:14:31 2016 +0300

    Fix spaces instead of tabs in vala source

commit 0582a312f207c8d0288b1b0319a67f96e505ff55
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 28 18:13:49 2016 +0300

    Get rid of unnecessary underscores

commit b4dcd2af4c479f68be3af04e841d4aead4c0557c
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 28 18:12:45 2016 +0300

    Get rid of unnecessary extern and extra newline

commit 0811d11d83b647b13c7236c2bfa6bf035e3fae47
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 28 18:09:16 2016 +0300

    Fix comment styles

commit 30a0a36bca194d25398e326b7aafe21ffdb3b9fb
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 28 18:07:54 2016 +0300

    Remove unnecessary variable initialization

commit 240820215e8421e4ebcb6f83837e0445ef161656
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 28 18:07:27 2016 +0300

    Add remainder_offset variable to avoid repeated code

commit 59634fa3595b1463d78fbf7281077e39d06cce32
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 28 18:01:55 2016 +0300

    Silence warning on GumAddress to gpointer copy

commit 319ef9c2c3925d519985af05dc8dc8d02c1ff448
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 28 18:01:16 2016 +0300

    Get rid of leftover debug code

commit e00c2b2a3cc4925c5d34c0ee7e759219ea8f2238
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 28 18:00:50 2016 +0300

    Add frida_find_libc_base function

commit 869e495e90460519521ac02993bfc308994080f9
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 14:37:30 2016 +0300

    Working mips linjector support

commit 0f10b9d3275462952d3d10fa7abe52c24cf1c56e
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 14:36:36 2016 +0300

    For uClibc, need to load pthread.so.0 in case it wasn't already loaded

commit f4978329213787a1212aae975367ad91a60ef284
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:38:35 2016 +0300

    uClibc destructor not firing, temporarily disable detection

commit 844151b128533896f751aadd21e930d7a7876ddd
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:37:23 2016 +0300

    Add MIPS/MIPSEL to CPU, and add the Libc enum and retrieval function

commit 1334c145eb2f76b5be7d1fef4d37e24be5f0c8f3
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:36:33 2016 +0300

    Add mips support

commit 32ef96747171d4044c8f856723dc3d8c6f3150c3
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:35:43 2016 +0300

    Add mips unixattacker/unixvictim to makefile

commit 484cd5cb370f97101cd82f2695562d3beee286ca
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:33:25 2016 +0300

    Only do frida_libdl_prevent_unload on linux glibc

commit 720a9eec46163d7c34bb26609f945ff037e4188d
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:19:34 2016 +0300

    Fix bugs in frida_remote_write for unaligned writes

commit 2c4ea09fadf1b2b025821d8cbfb9a5b7fdb82154
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 27 12:13:01 2016 +0300

    Add mips and libc detection

commit 355ca60b438fe0e4c0baf3acd04a99720b3fde67
Author: s1341 <github@shmarya.net>
Date:   Thu Jun 23 11:36:53 2016 +0300

    Add mips unixvictim/unixattacker

commit b72fdbce33f61f3ff46c1918da088ea180963b9e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Jun 3 00:57:07 2016 +0200

    Fix gadget build regression

commit 956b97334efd179019cf040fb4305bf19ebd5d5b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Jun 2 22:55:40 2016 +0200

    Add API for bytecode compilation and script creation

commit f10cb3f5240b0cf100fb085547cb015a9b3e8943
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 18 21:53:50 2016 +0200

    Provide a proper error message when the remote Frida is incompatible
    
    Fixes #72.

commit 0c9acf22847bd144d3881f04793a117cf8cff9f9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 18 17:22:37 2016 +0200

    Ignore attempts to detach from the system session

commit 9675b103178344d8925b656f2526bffc217d6dbc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 18 17:21:56 2016 +0200

    Guard against create_script() and detach() overlapping
    
    Apps shouldn't do this, but we should still handle this gracefully.

commit a266c0045dc999635bdaea0ff7de8ae1109b44a4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 18 17:19:02 2016 +0200

    Allow the close() operation to fail

commit 2a01aab20cad2092bb20c88889c12f7c50cf6b6f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 8 23:49:20 2016 -0700

    Fix shadow declaration warning

commit 8d89521c89c3964c4b8e2ae20be3603b6ddf73c3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 8 23:49:09 2016 -0700

    Upgrade to VS2015

commit 263429685789ee0e134affe2199196858959cd1f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 27 02:29:14 2016 +0200

    Improve frida-server to always recycle the same temporary directory

commit a39321f4d17d33ebe55fa12bc9b10716ce42622a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 27 01:33:52 2016 +0200

    Fix handling of overlapping requests to attach to the same pid
    
    We need to handle this at both the client and server end. The client end
    may not seem obvious and is because of the state we need to keep track of.

commit ad4687b5ff89658f7bee6ca1a57a85db006744cc
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 27 01:28:01 2016 +0200

    Fix crash when shutdown requests overlap

commit e20d08c18d81bf9d61830784485d53762efb390b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 26 21:20:57 2016 +0200

    Fix spawn() without attach() on Darwin
    
    The handler type we were using resulted in the kernel clearing the debug
    state back to the previous one, where the breakpoint we just cleared was
    still set.

commit 84d630b1062f89b2d3f846a13a9e4eabae2b6c26
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 26 13:53:51 2016 +0200

    Fix wait loop

commit a0b902ca1908c1dbd98b71f3607ba80017f08177
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 26 13:38:09 2016 +0200

    Make the test a bit clearer and robust

commit 20a9b0ff6845356d9ba083c9247826c159c6a756
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 26 13:29:40 2016 +0200

    Add failing test for spawn without attach on Darwin

commit 58c896bacd1efb4b4a5c063b6d3aa705b5ca3128
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 15 02:27:55 2016 +0200

    Revert temporary hack

commit ccacb5b9e066d71ddfab0530b1ef351397aab693
Merge: f1c963de 4734ea18
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 15 02:05:54 2016 +0200

    Merge branch 'fix/darwin-spawn'

commit 4734ea1896ce02daa93510778694e798be7ac573
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 15 02:05:39 2016 +0200

    Rework the spawn() implementation on Darwin
    
    /cc @trufae @Tyilo

commit f1c963de203b7827c822fb214c49d60b0049aacf
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 13 20:04:00 2016 +0200

    Add missing include

commit 738ae070fb4cd42d06a7062e984a45c15f487f7a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 9 12:11:21 2016 +0200

    Fix intermittent crash in spawn()

commit 38413a3a523786c8d2977a4777ac9fa3cd7dce74
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Apr 3 04:06:37 2016 +0200

    Don't allocate a new console when spawning

commit 99a2d14617f344154beca763994ec3c9facd0c14
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Apr 3 03:46:25 2016 +0200

    Implement the new spawn() stdio behavior in the Windows backend

commit 17820560339db2ea31dd62a21657ba01b47a030b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Apr 2 22:10:09 2016 +0200

    Fix Darwin regression

commit d61de186ceb9ae57fcbc095247f27f7b0be6b4a5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Apr 2 22:06:09 2016 +0200

    Reap children and simplify the logic a bit

commit 33428031c6c24837bdf4ae34cb0e0478d215e349
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Apr 2 22:05:42 2016 +0200

    Implement the new spawn() stdio behavior in the Linux backend

commit dcaa570e2fbf5f688cc69b693e178aacfb6ea883
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Apr 2 22:00:04 2016 +0200

    Avoid writing uninitialized data to the remote payload

commit 6e0bcefc8cc39f977e09e5da2b66d25f32c47ff5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Apr 2 03:02:07 2016 +0200

    Add stub for Device.input() to gadget's HostSession implementation

commit 06f236240ed81591cf1de0288fcf82b711fcce3c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Apr 2 03:01:19 2016 +0200

    Add stub implementation of Device.input() to the other backends

commit 516d6393ff226ce856f6d08c5c30161aa3651572
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Apr 2 03:00:52 2016 +0200

    Implement Device.input() in the Darwin backend

commit 71f4288e1c4cf5b315ba818d4f91924f65051c04
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Apr 2 03:00:04 2016 +0200

    Add Device.input() API for writing to stdin of spawned processes

commit 4830dee0acd57eab47627b91ac0121f9c8aec1c3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Apr 1 23:10:04 2016 +0200

    Implement the new spawn() stdio behavior in the Darwin backend

commit 519aced92611447efa6444cbe75e006589057c08
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Apr 1 23:09:03 2016 +0200

    Add `output` signal to propagate output from spawned processes
    
    The current backends let the spawned process inherit stdin/stdout/stderr,
    which means that the behavior is very hard to predict, and often wrong.
    To keep things simple we will instead move backends to always redirect
    these to pipes. In the future we could consider making the API more
    flexible, or just encourage users with advanced needs to call `dup2()`
    early from inside their scripts. At least they will know that file-
    descriptors 0 through 2 are valid and be able to customize this from a
    known starting point.

commit c6405a9df53d6ef2f87d4f300651826d06cf9fbb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Apr 1 22:58:00 2016 +0200

    Fix frida-inject build regression

commit 62f37110bd3f67240ce03b588c1d0a68a997da79
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Mar 30 22:50:35 2016 +0200

    Depend on json-glib-1.0 for ease of use

commit ddb4f0b031cd51a717b22d3c7a1c3624e1adf960
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Mar 24 22:38:28 2016 +0100

    Spin the main CFRunLoop while waiting for permission to resume
    
    This allows thread-sensitive early instrumentation to be applied in the
    main thread.

commit c0f1725001c4d48299fe9c07b368ee43060c8394
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Mar 16 14:41:24 2016 +0100

    Run a CFRunLoop in the main thread of frida-helper on Darwin
    
    This means that `ObjC.schedule(ObjC.mainQueue)` works and it's possible
    to interact with APIs that require the main run-loop to be serviced.

commit 78855ec363e912c0eebd526bfb722c6b870f7e83
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Mar 16 13:14:41 2016 +0100

    Force CoreFoundation's constructors to run before using it
    
    This issue was found while using FridaGadget.dylib with an iOS app
    launched by ios-deploy. Interestingly this did not happen when launching
    lldb with Xcode, so presumably Xcode's early scripts cause CoreFoundation
    to be lodaed.

commit a13d1837eb36016007789bb1bfe2a44d14ba2889
Merge: 7fe01959 71b0dd74
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Mar 13 21:14:08 2016 +0100

    Merge pull request #74 from s1341/master
    
    Handle zombie processes gracefully

commit 71b0dd74567f680d030b9cba61e35e9a8ceaab7b
Author: s1341 <github@shmarya.net>
Date:   Sun Mar 13 11:12:00 2016 +0200

    Fix style issue

commit a938a0815ec1cdfdf105209c6f180f3e39fd16de
Author: s1341 <github@shmarya.net>
Date:   Tue Mar 8 17:57:07 2016 +0200

    Handle zombie processes gracefully
    
    These are processes which appear in /proc, but which you cannot open a /proc/<pid>/as for

commit 7fe01959862a51e081a5d9177611d5242ed76547
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Feb 29 02:02:29 2016 +0100

    Spin the main CFRunLoop while waiting for permission to resume
    
    This allows thread-sensitive early instrumentation to be applied in the
    main thread.

commit 33bc42e198a5c098234738946811f6cd7c119ab1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 24 02:50:22 2016 +0100

    Bump the DBus interface versions to match the upcoming major version

commit d763dbdf890a9b6825533e845665e74bd0655828
Merge: 87f63541 bf66393f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Feb 23 15:37:02 2016 +0100

    Merge pull request #71 from s1341/master
    
    Deal with double definition of ARM_REG_*

commit bf66393f1a24aaecaeda3f7367898f790b829e37
Author: s1341 <github@shmarya.net>
Date:   Tue Feb 23 12:56:17 2016 +0200

    Add missing -lm for linking duktape on qnx

commit e7c009926892b35a25cbbc4c919c62bf56e5690a
Author: s1341 <github@shmarya.net>
Date:   Tue Feb 23 12:53:12 2016 +0200

    Deal with double definition of ARM_REG_*

commit 87f63541eeeb5d6eb79d44dc9a5be05e94a350d9
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Feb 19 02:44:54 2016 +0100

    Add an official way to override frida-server's default listen address

commit 6321be97b53853bda9f12f7ba85f45659b22d6c3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Feb 19 02:44:11 2016 +0100

    Add API for specifying which host to connect to

commit ab00caffde61318219006af4f420e395c262962e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Feb 19 02:41:19 2016 +0100

    Fix the frida-inject build system on Mac

commit eead1bb6716ea7f7bcdd573c12f80eed19935af1
Merge: 39eca7c0 de68c659
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Feb 16 21:10:15 2016 +0100

    Merge pull request #70 from riverar/fruity_win32_tweaks
    
    If device location retrieval fails, handle correctly

commit de68c6598fb5d9bf716dfdea0db9372cb4835ad8
Author: Rafael Rivera <rafael@withinwindows.com>
Date:   Tue Feb 16 12:06:18 2016 -0800

    If location retrieval fails, handle correctly

commit 39eca7c03fcc619290cd844a19a1141647d8da9f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 6 03:03:13 2016 +0100

    Add missing gitignore entry

commit 990a247cab5cbb15082f6075e35a1b436644d96e
Merge: 09e5020e e894d444
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Feb 6 01:06:16 2016 +0100

    Merge pull request #68 from riverar/missing_x_bit
    
    Missing execute bit (fixes #67)

commit e894d4441e2f664efa54b3aeef973bee2f9e8220
Author: Rafael Rivera <rafael@withinwindows.com>
Date:   Fri Feb 5 15:32:00 2016 -0800

    Missing execute bit (fixes #67)

commit 09e5020e8406edaab0a6539bce69bd4530dad231
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Feb 5 19:51:38 2016 +0100

    Fix race-condition on rapid uninject
    
    Kudos to @crowell for reporting.

commit a3947039d361f99dfa20a2f5537c3f380137aed7
Merge: 66d9ea5c d93040d3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Feb 5 13:36:43 2016 +0100

    Merge pull request #66 from s1341/master
    
    Prevent libdl from unloading to work around TLS destructor bug

commit d93040d3ac903b21c46e1e22497fbaeb447b035c
Author: s1341 <github@shmarya.net>
Date:   Fri Feb 5 14:06:14 2016 +0200

    Fix minor issues

commit 2793d8f17df3c7254bcbe0df72cb39b9edd4d937
Author: s1341 <github@shmarya.net>
Date:   Thu Feb 4 19:24:18 2016 +0200

    Prevent libdl from unloading to work around TLS destructor bug
    
    Keep a handle to libdl.so.2 so that it is never unloaded even when
    libfrida-agent.so unloads in a process that did not previously have
    libdl loaded.
    
    This is to prevent a bug which was encountered where libdl tries to
    perform a TLS key destructor after the libdl code has been unloaded,
    resulting in a segfualt at thread cleanup time.

commit 66d9ea5c9defc632c5b08a279f83014e7089a929
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 3 21:48:29 2016 +0100

    Fix minor style issues

commit 7cbdda604267af10be2ff36592d92a20eb6b8d7c
Merge: 43742292 3aa41b56
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Feb 3 21:45:09 2016 +0100

    Merge pull request #65 from s1341/master
    
    Implement frida-inject, a new tool with similar semantics to frida-gadget

commit 3aa41b56ae098670238fae921d932ba02ec0d8a0
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 3 19:12:59 2016 +0200

    Get rid of cruft; Call gum_init/deinit

commit 98d081d2567af0513edecc0378870e18292bce66
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 3 18:49:05 2016 +0200

    Style fixes

commit 4bba293c9548bed46783fc1c92db10c7aa644943
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 3 18:32:35 2016 +0200

    Fix spaces instead of tabs

commit 0cdff3030180a905936f24d03934c78b296b63bf
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 3 18:31:29 2016 +0200

    Make sure to call device_manager.close() in stop so that temp files are cleaned up

commit 64bda57654bc3988c51395f1fc1735d4ea91506a
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 3 18:21:21 2016 +0200

    Switch to tabs instead of spaces

commit 7b41593c4de3041c4c3e2e87caf7c7dbe2d625e6
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 3 18:19:25 2016 +0200

    Get rid of unnecessary locking/state

commit 5bf4a6fe20ae46ba893b33d9c3d32c5dc428a339
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 3 18:12:30 2016 +0200

    Get rid of Frida.init/.shutdown

commit c8f60cd9172a730eddee8745d7a797162da5bb19
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 3 17:44:56 2016 +0200

    Fix LDFLAGS

commit c1f3a88ade24baceb4260c02ae2d36e54f53c369
Author: s1341 <github@shmarya.net>
Date:   Wed Feb 3 16:56:21 2016 +0200

    Add frida-inject, a tool to inject an agent into a running process with similar semantics to frida-gadget

commit 43742292957d8a2b7d92ed85a0ad7e782a4cb32d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jan 29 03:10:52 2016 +0100

    Bundle multiple replace() calls into a transaction

commit 947381bc09c3a11fd90da2e2fa8c5ed1dfe5afcb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 21 02:35:29 2016 +0100

    Fix test regression on iOS

commit 8ae58e44ab06cd48a3d2f5886ba74a2afbad608a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 21 02:24:20 2016 +0100

    Fix warning regressions

commit 2c120f0e6f97bd7a97cc7c7fb2b9a9837208dff5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 21 01:58:20 2016 +0100

    Remove temporary debug kludge accidentally left in

commit 7b4234429c1d22f5a79dbc6bf5ece4309427d8ef
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 21 01:51:44 2016 +0100

    Implement raw spawn() for iOS also

commit 955263cf8058d03bd60883be87c9fa1586503b97
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 20 13:58:28 2016 +0100

    Call Gum.init() before using any Gum APIs

commit e18e6910a829129cebd4831ecfb8090ea6616b7c
Merge: aac08e1f df345afa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 19 21:45:40 2016 +0100

    Merge pull request #62 from riverar/temp_appcontainer
    
    Changes to support AppContainer ACL on temporary directory/files within

commit df345afaa229d4fdee250b3c0ae2e925ec480dca
Author: Rafael Rivera <rafael@withinwindows.com>
Date:   Tue Jan 19 01:43:19 2016 -0800

    Changes to support AppContainer ACL on temporary directory/files within

commit aac08e1f39ff41fe29dde24280a01e4c2b946031
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 19 21:21:12 2016 +0100

    Give frida-helper all the entitlements that the Preferences app has
    
    This is very useful for interacting with system configuration from the
    session script, which is what that session is meant for.

commit 15688b79f4911ce79097760334731e13563b04ec
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jan 18 14:41:14 2016 +0100

    Fix Android regression resulting in crash on inject
    
    Fixes #61.

commit 3227965ed87c8c20b5c62509b3b827cccb33d16e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 04:34:54 2016 +0100

    Fix build regression

commit 470807c72680b3191b81262a154d5f8bd6e6b52f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 03:50:10 2016 +0100

    Add disable_jit() to allow users to try out the new Duktape engine

commit bd351de01fc340e433413e5931777d380f960654
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jan 14 01:53:13 2016 +0100

    Update to the new GumJS API where all backends support unloading

commit 70a4325c36adfe4e4fad83297fce7edb9d8655d1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 21:03:49 2016 +0100

    Fix build regression

commit 37ee55745ff6842f93d4205625cc925687367ffa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 20:40:38 2016 +0100

    Get rid of C++ linking hacks no longer needed

commit 34caacedf8d0dc7dbfc3a757bc7ddd9f600a41db
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 20:40:23 2016 +0100

    Avoid C++ linkage in the gadget also when possible

commit cc2e5a86db5efc6a405741a8e7ab98d8a852a8e3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 20:39:46 2016 +0100

    Update the thread creation logic to match the latest in agent

commit f03e9c2b0026ab5449612afdbd273e6c2ceefa06
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 20:39:20 2016 +0100

    Fix agent regression on Darwin
    
    We cannot use `RTLD_NEXT` when we are calling from an image that we
    manually mapped into memory, and consequently dyld knows nothing about.
    As we don't actually need to resolve the address anyway we can do it the
    way we used to on Darwin and leave the `dlsym()` for other UNIXes.

commit 1c257b8e653facc50f024b00d550f9ddc52a7a3e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 20:32:41 2016 +0100

    Remove trailing line

commit b00f903eebb4744dc1712ead5b14fa854f784674
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 14:51:45 2016 +0100

    Fix gadget regression

commit 22b244900f21cea43c4dee599f0a2e6502533cfd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 14:30:11 2016 +0100

    Update to the new API now that the JavaScriptCore runtime is gone

commit 11a647b1e5d6d028590ed190a2174b123a3f1317
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jan 13 13:54:33 2016 +0100

    Fix missing quoting in the LINK definition

commit 7343c7a15a9855df5963e9cb3f260e4784f426ab
Merge: 7105ccb8 5a64866b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 12:36:27 2016 +0100

    Merge pull request #59 from s1341/master
    
    Fix bug when hooking pthread_create before it has been properly resol…

commit 5a64866b2b5a2e8861aebf142033a3ba3c54e876
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 12 13:32:16 2016 +0200

    Use RTLD_NEXT instead of -1

commit 8a124fc42ec2d69fee314cbea1c2763c571b841d
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 12 13:14:53 2016 +0200

    Fix bug when hooking pthread_create before it has been properly resolved by the target application

commit 7105ccb8d04bc5cfe11eda1b88cf4dd21087f8bc
Merge: 3b37d49c 111a0287
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jan 12 12:12:05 2016 +0100

    Merge pull request #58 from s1341/master
    
    armhf support; better DIET (Duktape) integration

commit 111a02877d96473040656c3521421024f0fb7f3a
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 12 13:09:37 2016 +0200

    Fix style issues

commit ed08218fda845edb11a30ccc516a866e5edb9a82
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 12 12:45:58 2016 +0200

    Add labrats for linux-armhf

commit 18b92c58fca23413e5fd8ce96274d29058729b61
Author: s1341 <github@shmarya.net>
Date:   Tue Jan 12 12:45:11 2016 +0200

    Remove dummy.cpp file no longer needed

commit 1e90c6eef63d5fc4b8d252f967fabcf2b0041f05
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 11 18:15:38 2016 +0200

    Fix conditional CXX linkage

commit 9461069a2c4b15983eaf31ee1718eabf255a5a8f
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 11 14:47:57 2016 +0200

    Do not link with CXX when using Duktape

commit 39556119f9dee1845f86379a001e61a7d9ba23bc
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 11 14:47:37 2016 +0200

    Add armhf  support

commit 83c2b2c945c2fc97b75be7d9171f76eb8a3a7ab2
Author: s1341 <github@shmarya.net>
Date:   Mon Jan 11 14:47:23 2016 +0200

    Add ENABLE_DIET for Duktape support

commit 3b37d49c1270d12af3fd09d43d9fee30ac752d95
Merge: 17362764 05133455
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 2 22:15:25 2016 +0100

    Merge pull request #56 from riverar/patch-2
    
    Expanded update of security attributes on named pipe (fixes #54)

commit 05133455abb12e06ca77a5ec32c69b9c1cb8d0b1
Author: Rafael Rivera <rafael@withinwindows.com>
Date:   Fri Jan 1 23:22:21 2016 -0800

    Update security attributes on named pipe (fixes #54) r2
    
    Windows XP-Windows 10 xplat
    ConvertStringSecurityDescriptorToSecurityDescriptor support fixing
    regression #54.

commit 173627648ed9c7c5d89b6e098df690cbea3f19dd
Merge: 5c3ba993 59c498bf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jan 2 21:48:06 2016 +0100

    Merge pull request #57 from riverar/patch-3
    
    Add CreateProcessW flags to prevent IFEO loop

commit 59c498bfd29670f7d11c12e97493629f273a90e4
Author: Rafael Rivera <rafael@withinwindows.com>
Date:   Fri Jan 1 23:56:13 2016 -0800

    Add CreateProcessW flags to prevent IFEO loop
    
    DEBUG_* flags added to skip Image File Execution Options (IFEO) lookup second time around. Allows use of frida in IFEO scenarios.

commit 5c3ba99351fdc3cd6ac51bfc3f46e37d68b855fa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Dec 31 01:47:23 2015 +0100

    Prevent stale HostSession objects in case of network errors
    
    Kudos to @dweinstein for reporting this long-standing issue.

commit 6dab332f2715c2461d0a7bbc1dda3ff515e00d31
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Dec 30 22:20:09 2015 +0100

    Add missing include

commit 21c7988db456329a4ce2c0a2f21a7037a23979fc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Dec 30 21:52:05 2015 +0100

    Add a temporary workaround for Windows pipe creation regression
    
    Fixes #54.

commit b68bc6bd7ddfcb9547a40333a421369eb8c7f394
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Dec 30 17:33:16 2015 +0100

    Fix assignment of the device name

commit 2fc38a3ec488c426ec6f30ad5bbc0e350d5f3d52
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Dec 30 17:30:24 2015 +0100

    Port the Fruity backend to remaining platforms

commit ebfaacc77efe4379fd9e3a2fbf30a7d958c907cf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 28 01:14:57 2015 +0100

    Only run deinit logic when FRIDA_GADGET_ENV is “development”
    
    This shaves off unnecessary delay when LD_PRELOADed into short-lived
    processes.

commit cec4ecb3e7368f766b469c24f6a83d6b45f701a1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 28 01:11:10 2015 +0100

    Invoke the dispose() method on stop

commit b9411140904136513c58ba5675b0d34da35887eb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 28 00:26:12 2015 +0100

    Watch and auto-reload when FRIDA_GADGET_ENV is set to “development”

commit 3c1a7ec7c2eefd1c448938a206a3a779eb9843e8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 28 00:25:19 2015 +0100

    Use g_print()/g_printerr() for console.{log,warn,error}() logging

commit 85a37970799acf9e7157ee6a7b1009d042148006
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Dec 27 00:59:42 2015 +0100

    Fix Gadget teardown

commit a0d00c7dee8437f5ced1f5e46ac2549c9d8e55a7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Dec 26 22:31:47 2015 +0100

    Wire up most of the remaining pieces for running in standalone mode

commit d83299811550fa5e36c692dc19cbf50261feed67
Merge: 3a009828 695fcb66
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Dec 23 18:36:48 2015 +0100

    Merge pull request #53 from s1341/master
    
    Support linux-arm

commit 695fcb66c48e1d3ab8f93f2eddf0b70c2c898df8
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 23 15:02:06 2015 +0200

    Skip spawn test on linux-arm too

commit ba184ceacccdf7312aa51d01c1c7786dd2be511c
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 23 15:01:41 2015 +0200

    Make frida_find_library_base a little more generic to deal with the libc.so.6 variants as well as libc-2.21.so variants

commit 1790c519533725199fb2bc83aa276241563a521e
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 23 14:59:35 2015 +0200

    Add emitted code for linux-arm

commit 565f15ea7687890dd92199ca09fb527fe58d417c
Author: s1341 <github@shmarya.net>
Date:   Wed Dec 23 14:56:36 2015 +0200

    Add labrats for linux-arm

commit 3a009828827e8139ae4db4ac1a596d366883f8db
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Dec 22 00:21:33 2015 +0100

    Leave the embedded dylibs unchanged
    
    We need the code-signatures to stay intact.

commit 62b095db481625833559103b4806e30f1835869f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 21 17:48:01 2015 +0100

    Improve the launchd plist
    
    - Auto-respawn
    - Fix a warning on iOS 9

commit 2244bf5aadccc1136bd4021fe4c4f27442a029ff
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 21 17:46:35 2015 +0100

    Bump the Jetsam memory limit on iOS

commit b29ec5d4cf9be55c953e53b127ab1ad43e829268
Merge: c293d654 a95a5e6d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Dec 21 12:46:36 2015 +0100

    Merge pull request #52 from riverar/patch-1
    
    Update security attributes on named pipe

commit a95a5e6d88d205ccd8f7faadbafdc929c044bb3f
Author: Rafael Rivera <rafael@withinwindows.com>
Date:   Mon Dec 21 03:40:25 2015 -0800

    Update security attributes on named pipe
    
    - Removed a bit of complexity with use of ConvertStringSecurityDescriptorToSecurityDescriptor
    - Migrated DACL ACE for Everyone
    - Added DACL ACE for AppContainer
    - Added SACL ACE for Low Integrity

commit c293d654207f1923db189c0e5de75d7e4d2c514e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Dec 1 01:24:53 2015 +0100

    Add partial support for using the gadget standalone

commit bd8ca07cbdadf775a9a8f6083164c9f40370c831
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Nov 19 16:55:04 2015 +0100

    Improve iOS detection

commit db032f981ecbb0fc0c64fe180c1aeffa7bfe6da2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 18 15:55:42 2015 +0100

    Improve gadget to start suspended

commit 01eba48b8412a5caa7c2c40aaac4f7fd3ca53ff2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 17 16:48:21 2015 +0100

    Fix build regressions
    
    Thanks to @anantshri for reporting.

commit d35481043c5efd6777028f6570805fa78532bbe7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 17 15:55:49 2015 +0100

    Add missing FRIDA_VALAFLAGS to agent and gadget

commit 8506ab1581a1e948799bddb80b1d5403e14a0324
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 17 15:44:19 2015 +0100

    Always use JSC on Darwin for the gadget

commit b34e69b25710eb0970d92e5a4d2e4a5e37419f3a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 17 03:27:22 2015 +0100

    Refactor Gadget to the point where it compiles and links

commit 33396f66eba552f1413380cc23a1723dd32c290c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 17 02:14:10 2015 +0100

    Trim dependencies that shouldn't be there

commit 15242a82e5f1e43efb8f134c70f3c2b24f473dc4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 17 02:10:39 2015 +0100

    Move gadget into lib

commit 2fd0b6c90b0e5001a8795b38cafbf2946a4d584e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 17 02:05:40 2015 +0100

    Remove dependency on frida-agent

commit c0f2a091ecbba21e8fb234a77798d7a2e669336f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 17 02:05:15 2015 +0100

    Explicitly target JavaScriptCore on iOS

commit a27cfdb5c5a6e7c2b901314cef9b56f7dcbd16a7
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 17 02:04:42 2015 +0100

    Fix gadget AgentSession registration

commit 3b6f9604c8032fc1ce55eb031999c65d98775286
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 11 03:04:43 2015 +0100

    Bump the DBus interface versions to match the upcoming major version

commit 5691d9efe2f36f7504001da5b29d0b858979ee9b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 11 02:53:41 2015 +0100

    Update the Cydia package metadata to reflect our weight-loss

commit 6fed73238c456a23d9ca82fed19ebc4e8f334d2f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 11 02:38:50 2015 +0100

    Bump the DBus interface versions

commit 28f237a956fb1cc55d5ad866fd280038b6b30164
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 11 02:08:47 2015 +0100

    Add missing gmodule-2.0 package

commit c1e4be646f3480c58fb0a563eb39e80bf226f665
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 11 01:52:37 2015 +0100

    Update the Windows build system too (untested)

commit f98aeddf947ef9363e8681414d7b63be7205dfad
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 11 01:44:46 2015 +0100

    Reimplement the host session cross-platform by loading frida-agent
    
    This means we avoid linker issues where a statically linked V8 ends up
    in frida-core, that in turn gets statically linked into a Node.js binding
    that also depends on its own V8, et cetera...

commit c8b14492df87ec4ba15f4aa3716656eaa900b0de
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 20:36:54 2015 +0100

    Move main() to the top for consistency

commit 211d34a4244973ca780327408f283771827ed5e1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 19:14:43 2015 +0100

    Revert system session to prepare for a better approach

commit e7ec422ebdba8e0186fd63a8dd45bcfc8dc667cd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 15:24:25 2015 +0100

    Add missing dependency on gumjs

commit ac185bc07d63106a532dbb6a0b14053403b90265
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 15:17:55 2015 +0100

    Revert "Add missing dependency on frida-agent"
    
    This reverts commit 9882c0b4b419de0a7dc0b118fa327c4a942b5be5.

commit 9882c0b4b419de0a7dc0b118fa327c4a942b5be5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 14:54:36 2015 +0100

    Add missing dependency on frida-agent

commit d7668f8c047afdda64ca54f4b5ed963dd1d6bba8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 13:56:28 2015 +0100

    Fix creation of pipe endpoints when a task refers to the local process

commit 9ff083642ab0a74de950419e60753f02fcd2cd4e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 04:50:14 2015 +0100

    Update the Cydia package metadata

commit f01e6837eb2cf250aad81acf216359b8739a53e0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Nov 10 04:45:10 2015 +0100

    Replace fakeroot with sudo for now
    
    There's not yet any El Capitan-compatible fakeroot release.

commit f513448957bdf8daaf7f2ad534b1d310562d241c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Nov 7 05:13:34 2015 +0100

    Improve the cross-arch manual test

commit 883e8e8d1bf4f6072c32c36039412ed1e16e5534
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Nov 7 05:13:17 2015 +0100

    Fix circular reference preventing teardown

commit 60b9ae9cbda71f10a8d2df020bd6a9515b588016
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Nov 7 04:45:14 2015 +0100

    Fix the pipe proxying logic

commit 94a7d73a37b896a6042c53138f8e6c196892a5fe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Nov 7 03:58:28 2015 +0100

    Proxy pipe through the helper when a direct connection isn't possible

commit 1d992419af7f5b8a429d628cab82570acc5b156e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 6 21:07:46 2015 +0100

    Fix hangs caused by forgetting to call Gum.init()

commit 586831b0ab6ada3a04aef24e337c5020bac6673a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 6 21:06:58 2015 +0100

    Simplify construction of the system session

commit 369869c6d40848901f35e4aa71b653935a41313c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Nov 6 15:33:39 2015 +0100

    Limit the Substrate loader plugin to just UIKit apps for now
    
    Need to investigate why Substrate, or we, bring some system processes to
    their knees and ultimately cause a full system meltdown.

commit 7a37dcacb542416cf16327ebd42a6a345a23c7ae
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Nov 5 19:39:15 2015 +0100

    Fix Gum life-cycle on non-Darwin OSes

commit 4f3ce2c3ad3e66faff49478c6e7e8e0e40eb856e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Nov 5 17:48:02 2015 +0100

    Implement the system session on non-Darwin OSes

commit 17c03c888fc216950a4a64973f6230119bd9f223
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Nov 5 16:50:44 2015 +0100

    Update to the new GumJS API

commit 6932f6bed6f79d5acfe2a8a78d7d40b18dffa096
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Nov 5 14:52:56 2015 +0100

    Bring back the .plist file to satisfy newer Cydia Substrate versions

commit 22b7a3db71144cbf588ea35cf314e44addaacf70
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 4 21:15:19 2015 +0100

    Drop our `.` prefix so temporary files are easier to discover

commit 15ab7cfa114094b20727619c1c3818200a30bca8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 4 21:15:00 2015 +0100

    Pick a better temporary location on iOS

commit d0d558ba4e58d8962943c8b893d7801264a4882f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 4 19:12:10 2015 +0100

    Update gadget to the new API (untested)

commit ca4d05114d375fabba6def09b31e715cbaa608e0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Nov 4 19:11:59 2015 +0100

    Fix crash on subsequent attach when unable to unload

commit a3a11383700f3f618997323499ec0e363d908d94
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Nov 2 23:21:49 2015 +0100

    Stick around if script runtime doesn't support unloading

commit 69f5bf49b557354616b6876201708e0cb8ab24c1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Nov 1 14:13:10 2015 +0100

    Update to the new GumJS API

commit 50487b3f1aee5a58ab2e031471e4a117612551f8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Oct 30 01:12:32 2015 +0100

    Only enable Mapper on Mac for now

commit f27e79681fc2a80f77596818bae7fb90dfe73d76
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Oct 14 22:08:15 2015 +0200

    Fix build regression

commit 82c2da2298376d2cb0362696b49bf29ae35c50fe
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 13 23:37:06 2015 +0200

    Simplify tracking of TLS state
    
    We might as well clean up everything at the end, as our internally used
    TLS keys are cleaned up towards the end anyway.

commit ffe654e3ff7eeef01429d5802b5f39c9eec06558
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Oct 13 17:36:42 2015 +0200

    Improve the Frida.Agent.AutoIgnorer behavior to avoid deadlocks
    
    - Replace the thread creation function instead of attaching a listener,
      so we don't miss any calls to it because our internals call the function
      from our listener callbacks.
    - Ignore calls made from inside our own TLS destructor callbacks.

commit eb80ed0e286ca606a1042b0aaee41bd40c748a92
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 8 17:27:36 2015 +0200

    Use gum_script_unignore_later()
    
    This allows us to avoid a deadlock situation where the GThread cleanup
    acquires the slice allocator lock, which triggers a callback into the
    runtime, waiting for the V8 lock. Meanwhile another thread is holding
    the V8 lock, but a C++ callback tries to allocate memory and tries to
    acquire the slice allocator lock.

commit a47c2161f0e33706dd8b7fd0837c7051f5fe314c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 1 15:45:12 2015 +0200

    Fix crash on teardown by using new API provided by our GLib patch
    
    Because frida-agent inserts a shim function for threads spawned by us,
    for the purpose of ignoring Frida's own threads, we need to shut down
    GLib's internal threads before cleaning up Gum's memory (which the
    shim implicitly depends on).

commit cdfd2a3fce3f7292dd3d279fb8189eef786c3c65
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 1 03:28:57 2015 +0200

    Fix some left-over usage of the old enum type

commit 1b4789647d8982acc62e2d09dfd587ef58931b0e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Oct 1 03:19:53 2015 +0200

    Update to the new {Arm,Thumb}Writer API

commit fcc366465ee847d5d577ca6a7574ef4286d88743
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 29 21:44:54 2015 +0200

    Update to the new Arm64Writer API

commit cd81fb3f090d93a037abb398b46a2351a0e2f712
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 01:10:06 2015 +0200

    Ensure temporary file doesn't exist before trying to create it

commit 5581332ea157ebc6f499ca42bca13e8e14f416e8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 24 00:49:00 2015 +0200

    Move Mapper to Gum

commit 534b5ba5a78fdc20b74445ade2610052f5dafa44
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 17 02:01:10 2015 +0200

    Update the Droidy device icon

commit ebadc09b8753bfdc3a97cc6c935449b3ad90fe63
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 17 01:18:22 2015 +0200

    Improve device probing robustness

commit 4d73a8351b401b21bb3bb3b46d0b7a4e82d6753d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 17 00:33:20 2015 +0200

    Normalize the fallback iOS device name for consistency with Android

commit 81ae99f3dfc057d9fe03be9d28f538c5c52220cf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 17 00:32:59 2015 +0200

    Adjust iPhone 5+ device name on Darwin

commit 2783e5ca69a78612ff22cb7ce31aa4aec06eb7de
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 16 23:02:33 2015 +0200

    Bump the DBus interface versions

commit 4a343ef3d9b39bb0b0be1c6d2c874397b371305e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 16 22:41:15 2015 +0200

    Add missing Droidy .c files to the Windows build system

commit c72f14bc9ea32b6b32674e992ac5ca10d71404e4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 16 22:30:22 2015 +0200

    Start and stop backends in parallel

commit c701593add9744cda597f9d4ea717a514f4d7a85
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 16 22:08:04 2015 +0200

    Add Droidy backend to the Windows build system

commit 89a747aa2bfb30886da3f7f46f01c9017fda80fb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 16 21:58:59 2015 +0200

    Enable the Droidy backend on all platforms

commit b190806aef7783338707654789e30f7a186df422
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 16 21:58:50 2015 +0200

    Ensure that the Droidy backend starts within 100 ms
    
    This is consistent with the Fruity backend.  The reason we don't consider
    the backend started until devices have been enumerated is that we want to
    make the first enumerate_devices() call return as many devices as possible.

commit fbe40abe23df51fe2358a71211c515d248eff5ae
Merge: 1905ee78 7abb1df2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 16 20:54:25 2015 +0200

    Merge branch 'feature/droidy-backend'

commit 7abb1df2caeb2965a5a7ff835efaee3ea78b98f0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Sep 16 20:52:22 2015 +0200

    Consolidate teardown across Droidy, Fruity and TCP backends

commit 051b90326522a39867ae512fc0b5391eee59b78f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Sep 14 15:57:24 2015 +0200

    Add new Droidy backend for interfacing with Android devices
    
    Relies on ADB, and requires it to be running when Frida is initialized.

commit 1905ee7891046f652f67bc49faaa2cba819165ba
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 15 23:39:44 2015 +0200

    Remove temporary test app

commit 37af4d6c18c140607f4049ddf0d914f873936d12
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Sep 13 18:53:55 2015 +0200

    Change Device.id to represent individual devices across reconnects

commit 6ad36a8e842886388c52a23429469c8b1d3e56ac
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 10 20:01:41 2015 +0200

    Fix `ensure_host_session()` error propagation

commit a4f5ffe2b18068e3705f63b2ded34b4f04b802b3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 10 04:18:53 2015 +0200

    Remove temporary development-mode hack
    
    We used to inject twice; once to flush out the old version of the loader,
    once more to load the current version.

commit c64dec25958d22692cfe9cbd5c77566ca92be909
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Sep 10 03:25:54 2015 +0200

    Add spawn gating API
    
    - Call `enable_spawn_gating()` to become the desktop-wide gateway for
      processes being spawned. Listen to the `spawned` signal to get notified
      when a new process has been spawned, call `attach()` to apply desired
      instrumentation (if any), and finally call `resume()` to let it start
      executing.
    - At any time, call `enumerate_pending_spawns()` to get up to speed on
      which processes are waiting for us to `resume()` them.
    - Once done, call `disable_spawn_gating()` to relinquish process gating.
    
    This API has only been implemented on iOS and Android for now, but could
    later be implemented in the other backends too.

commit a802f3a388e86a9174774e38eeaa669f860f88e0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 1 16:02:22 2015 +0200

    Fix Darwin build regression

commit fd4abf557a3cd87ebdc89a9ae3fa1f5fc299fcaa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 1 15:49:45 2015 +0200

    Fix build regression on non-Android OSes

commit d50b50e47c7c61150847ea81c7d780c2ce25b33e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Sep 1 15:37:20 2015 +0200

    Fix Dalvik fallback logic

commit e2a10d1bc74a8c3e2fbd107314bc087520bf00de
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 31 16:14:37 2015 +0200

    Simplify SuperSU.Connection.read_string()

commit 9257b8fe49c0eea3ea6d682be43ff4aadb728308
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 31 16:13:33 2015 +0200

    Add missing NUL byte when reading string from Loader

commit 57152a46b7d55b5141287d9a885827bde7a732a4
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 31 15:27:15 2015 +0200

    Fix handling of systems where ART is the secondary VM

commit 76e1b3ca6aa832dd62ea8e18859fb9d97d54529b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 31 15:04:24 2015 +0200

    Forward GLib assertion failures and logging to Android's logger

commit 2df6e77902a7a688134d82c91f75fb568e7ab141
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 31 14:54:51 2015 +0200

    Parasitize com.android.systemui instead of system_server
    
    Also simplify `startActivity()` to avoid relying on a Process hook.

commit 400e10fb8c4b129f2781602af930a066ee978dd0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 31 14:22:14 2015 +0200

    Throw a proper error when spawning an app not currently installed

commit 5ba24791c81fa52ea5565c246efd326fc9784dd0
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 31 00:49:52 2015 +0200

    Improve compatibility with emulators
    
    If we're not allowed to save the policy back to the kernel, SELinux is
    enforcing, and we can set it to non-enforcing, we use that opportunity
    to make the `shell` type permissive and flip the kernel back to enforcing.
    The `shell` type is normally made permissive when rooting a real Android
    device, so this is just a quirk needed for emulators.
    
    Also allow zygote->shell to `sigchld`.

commit 9ee8bdeb968f70b493255a6c5e040193e17d392b
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 30 21:18:20 2015 +0200

    Fix crash in Linjector test

commit 29005bfb7855fc11eb4535a019f9c70c527e0e5e
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Aug 29 18:30:24 2015 +0200

    Add support for Dalvik too

commit e1d92db3e8feef702a237cfbfeeafa4cbd337988
Merge: fe3ca4c1 3846e95c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Aug 28 00:20:58 2015 +0200

    Merge pull request #45 from marc1006/getFrontmostApplication
    
    Implement ```getFrontmostApplication```

commit 3846e95cdb4288b2d282207c39d2fe9946a0a332
Author: Marc H <marc.diplom@googlemail.com>
Date:   Fri Aug 28 00:14:24 2015 +0200

    Consistency with iOS

commit ca6792dfb7582b2a80a6c92f7db3c2a7651dff99
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Aug 27 23:56:46 2015 +0200

    Implement ```getFrontmostApplication```

commit fe3ca4c16de7c2eb76b3aad201ab4fa812b18d61
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Aug 27 23:37:47 2015 +0200

    Remove temporary hacks
    
    We might want to bring back force-enabling of the debugger later.

commit b2818cbdc1b6f41e84e94ca835e446965118a33c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Aug 27 20:26:16 2015 +0200

    Improve the Darwin backend based on recent Linux changes

commit 4066ae92fc1b76ae5a73a91070a5b11b45a3a1d5
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Aug 27 20:25:00 2015 +0200

    Implement spawning of Android apps in suspended state
    
    We currently stop a bit early so our Java integration isn't able to find
    the class loader. Needs further investigation.

commit 304437ad02fdbea5d5fca9f0137ffb8b16ce9323
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 25 15:22:53 2015 +0200

    Try a custom jdwp configuration

commit 410a6a0b0b730a62e035d056599f5fd3df0aebee
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 25 14:54:24 2015 +0200

    Make the spawned app debuggable regardless of its manifest

commit abf482f9fcc0b74b4c817749b5d85a2928b0d3fa
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 25 14:39:00 2015 +0200

    Add some temporary logging to the Android app spawn test

commit 5a716d9472a3c5c9ccec46c1bd9225e394dd2f35
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 25 14:38:37 2015 +0200

    Fix the script used in the Android app spawn test

commit 094fccdfaf2648af0cfdb5bcbb66be412a95f974
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 25 14:37:50 2015 +0200

    Patch the SELinux policy when booting up the test harness

commit edd51b092152dac70c92ff61baed9b92a93da7b6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 25 14:36:47 2015 +0200

    Don't try to spawn until system_server considers the app dead

commit 1ff637c1c5f82590c9560cfebb1ca2572ed89231
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 25 14:16:12 2015 +0200

    Add partial support for spawning Android apps
    
    The missing part is spawning them in suspended state, which we will
    accomplish by adding zygote args when we intercept `Process.start()`.

commit 580f83cba4961c74be35f4b7cd4182c6f2a4b657
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 25 01:28:52 2015 +0200

    Implement enumerate_applications() on Android
    
    Related to #27.
    
    Fixes #33.

commit 7ca4c0a2df05e52cca5d21798f09013b81813195
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 24 19:50:34 2015 +0200

    Relax the SELinux policy slightly to allow injecting into system apps

commit ff8f50de6dd54890c6f9ff0cf371502008577cd6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Aug 21 18:39:15 2015 +0200

    Strip agent before uploading it on arm and i386 Android targets too

commit d64e5e589b4fb235b2f04e8e797845fcf4d5f977
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Aug 21 16:05:47 2015 +0200

    Only run the Darwin spawn() test in slow mode
    
    The underlying implementation needs more work.

commit 50923f6cacf762373440202881a10d4083fd2aa2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Aug 20 18:37:50 2015 +0200

    Relax the SELinux policy to allow any domain access

commit d061c8c909b90cea863bcafec5f4b1578b8dc312
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Aug 20 18:27:12 2015 +0200

    Define G_LOG_DOMAIN so log items are properly tagged

commit efa60914b83ad58dee4917e001b58cbd5a95dbb3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 19 23:40:30 2015 +0200

    Add support for injecting into zygote on Android M

commit 37bb8d320fda6c1ded8f7fab476d03f188cbb291
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 19 22:44:55 2015 +0200

    Add an access vector to allow injecting into zygote

commit 634ecb0dd768ab05a095e30406840a9323826a33
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 19 22:07:35 2015 +0200

    Add the new type to class constraints referencing attribute
    
    For some reason the binary policy stores a bitmap with each class
    constraint containing all the types that have the attributes referenced
    in the expressions. No idea why this isn't computed by the kernel when
    loading the policy instead of adding redundant data to the policy.

commit 59eb20a9ccda8aeb39972911b199134492e3fca6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 19 22:01:22 2015 +0200

    Make the rule registration logic a bit clearer

commit d91a2bd7b480464c6252a390e30cf3c4327f4b94
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 19 22:00:58 2015 +0200

    Update the in-memory attribute indexes just to keep the model sane
    
    Even if these aren't written to the binary policy.

commit 8c698a383a35283992af79fe045ba3f580f8f6d2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 19 21:56:39 2015 +0200

    Add `mlstrustedobject` attribute to our `frida_file` type
    
    This is required for Android M support due to class constraints. Apps
    are now assigned categories and this means that there's a difference in
    MLS level, so we need the `mlstrustedobject` attribute to pass the
    constraints.

commit 21b6aad24ac97c3c60ac803b61da9eb9b9f81988
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 18 10:20:08 2015 +0200

    Initialize the `ops` field in `frida_ensure_rule`

commit 6b1ed12efd4a28f7bc6e222578490c35da4b46fc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 18 08:35:27 2015 +0200

    Update libsepol to the upstream android-m branch

commit d009d11f861a2e079950ec7dfcc702b01f6629a6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 18 00:45:04 2015 +0200

    Print SELinux warnings to stderr for now

commit b50d30a177dd2ac5c13a45ded829fe1ad21438c6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 18 00:44:37 2015 +0200

    Fix bad free in error-path

commit a42246f8ca31d01dcda4de9c9732402ec7e16f9a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 17 23:49:18 2015 +0200

    Handle unsupported policy formats gracefully

commit 545d03e01b2d3bde4942808054528154fd2b4208
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 17 23:35:06 2015 +0200

    Fix memory errors in the SELinux policy update logic

commit 414687520d2e111d2548281c0126c5fb724bf387
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Aug 17 14:54:26 2015 +0200

    Fix test regressions on Android emulators

commit e5b2a0ba27618b1d942d5eccc51a48094a3ca7d8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 23:49:21 2015 +0200

    Exclude a few unused libselinux files to fix linker issue

commit 78c161256a27951b7da1749ec915bf7446d1d2cf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 19:57:00 2015 +0200

    Fix libsepol compiler warnings for Android platform version 14

commit bac8550df76e5f25d5ba0559e0e1f12bf71a146d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 19:53:04 2015 +0200

    Fix libsepol build regression

commit 38c9d159568e138040caaa565822e4483c356533
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 19:45:40 2015 +0200

    Update sepol to b11ffdd29040a6cdac247145aed57a26ab7c0661

commit d8554847d98c30fc6726cb95072f01535db0845d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 17:49:28 2015 +0200

    Remove temporary test app

commit 0da6bfda385e63217571260aa8832d309dbe2ac6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 17:49:19 2015 +0200

    Patch the system's SELinux policy on frida-server startup

commit 192639288d42efdceee3cd1d75ebdeaf6135b3d3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 17:48:37 2015 +0200

    Disable verbosity when reading the policy database

commit 5d81f011875d7712b079ab5ba8199d778851e424
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 17:48:15 2015 +0200

    Issue warnings instead of printing to stderr on policy errors

commit 7f040634e2f2e1ef82451980167035e263f8dd03
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 17:37:19 2015 +0200

    Remove unused code

commit 807e7e2516107eee5e238f45a590f7e9bddef392
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 17:36:48 2015 +0200

    Move the policy patching logic to frida-selinux

commit 425157ea3fa96c1cf3132edb3e039a138aed3eae
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 15:12:36 2015 +0200

    Add temporary experiment exploring having a `frida` domain

commit a4cedb25ef6908baa9b79a2ab261a9170b402832
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 03:28:29 2015 +0200

    Add missing access vectors for injecting into apps and zygote

commit f8014090cdc1b64015c050f1283f1fb72462f614
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 03:11:25 2015 +0200

    Tag our files with the new SELinux type that we registered
    
    Automatic registration will be integrated into frida-server soon.

commit be48cfbe2dcf0364f990702e6cfa5de6b43255d2
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 03:10:07 2015 +0200

    Rename type to `frida_file` and add the `file_type` attribute
    
    Also add some basic rules covering the basics of injecting into apps.

commit 7dd9f721c6071a6bc02a96f1ffabe425958f1d33
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 02:00:45 2015 +0200

    Simplify and fix type registration

commit b51cf8b8f70be83905b1f7bf0b5f21339b9f8215
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Aug 16 01:08:17 2015 +0200

    Start sketching SELinux policy update logic

commit 8617a8bb372ebf2e12492a20402fa03a86fc0ba8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Aug 15 17:18:21 2015 +0200

    Fix the two reported warnings in libsepol

commit 4b4d51d7f1d2d18ccd31b1127134691a136a4e88
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Aug 15 17:12:04 2015 +0200

    Add libsepol library for automating SELinux policy changes

commit 8fe8dbd2858938aa6197030ae0447d7865dcb527
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 12 01:41:36 2015 +0200

    Fix Linux build regression

commit c4c45d45605682ac61b4b82c98126cee161ac064
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 12 01:37:04 2015 +0200

    Only build libfrida-selinux.la for Android

commit 2d949de51b4e438ac6a040fc9e0604e11b0a9e70
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 12 01:08:53 2015 +0200

    Improve the full-cycle test to auto-select process when possible

commit f1d460cd8bf68c3434e042871c5ae14f7fee3b8d
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 12 01:08:06 2015 +0200

    Tweak SELinux context on temporary files to allow injecting into apps

commit 9c0ef121c274bb6d9faec910c2fe38502c534090
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 12 01:05:17 2015 +0200

    Add a minimal libselinux vapi

commit cebb681f71cf50dd107a13cbd671dd2cc28d5a4a
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Aug 12 01:05:03 2015 +0200

    Move libfrida-selinux.la into lib

commit 67f7eb3cb519f5a5225c8a993115b83bb808b931
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 26 15:46:49 2015 +0200

    Port libselinux to support Android 4.0's bionic

commit 4cc40cd7354a90b1017162db7792e685f318f3b9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 22 13:21:54 2015 +0200

    Add internal libselinux to the build system

commit d108fd3898da9b8553ffab887033b5bf1452b438
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 21 17:32:23 2015 +0200

    Add copy of libselinux from Android's fork
    
    Copy of bf0ef3a1efe7e195d1f06d628e0abe2ca8fc5b74 with
    build system and documentation removed.

commit 2d5a9db39584bd8e98545d3f222d3db2048edbbf
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 11 20:55:55 2015 +0200

    Fix injection on 64-bit Android

commit 3d3aa7de1be9eae1d2ff4c80b14e29f5b00bc7bc
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 11 20:55:32 2015 +0200

    Skip the Linux spawn() test on Android unless in slow mode
    
    This is iffy with Samsung's kernel patch, plus it's not that useful, as
    one would normally want to spawn an app and not a standalone binary.

commit 7071d14fcf0e9252e39354f0ad2546b7c6dd7fde
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 11 20:34:47 2015 +0200

    Use SuperSU to spawn test binaries on Android

commit cf1a279e4517fc2551a99c01510c752c72a22b82
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 11 16:51:06 2015 +0200

    Use SuperSU to spawn the helper process when available

commit 09e935cae926d609672ebb6d55919544c8548e46
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Aug 11 14:29:39 2015 +0200

    Add test-app with prototype SuperSU integration
    
    This will allow us to spawn processes even when our executable is deployed
    to /data on Samsung devices.

commit 50408c69968321f653030f5b3fb515f66b846a93
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jul 21 00:13:28 2015 +0200

    Improve resource tracking

commit 4f9e9195a218bfff16f36bca2795e4267853332c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jul 21 00:08:08 2015 +0200

    List backends in the usual order

commit e7aedc19046d443e28e8a35ea9175e90ad0b3303
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jul 20 23:13:24 2015 +0200

    Fix pruning of session that's gone

commit 27d8a664dce814cdb7a26ed3bc338a0aeb8d495f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jul 20 19:54:18 2015 +0200

    Fix Darwin build regression

commit 082c3d4a6459b39f31653727c9c187c7209b0f28
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Mon Jul 20 14:45:03 2015 +0200

    Fix clean-up of agent sessions
    
    We would previously leave agent sessions opened if the connection
    suddenly got dropped, and we did not handle multiple connections
    using the same session.

commit 44e8980569cbdd461c937c86d969ad4c22ad55dd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jul 18 01:08:02 2015 +0200

    Fix compilation errors reported by the CI servers

commit 38027b617cee541ce1993492d01eda7bc63be9ac
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sat Jul 18 00:51:44 2015 +0200

    Fix assertion logging and log to CFLog on Darwin
    
    This will make it a lot easier to track down intermittent crashes
    caused by failing assertions.

commit 0de0380f64ca1ec2c06eead319c28a2115c54c19
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Fri Jul 17 03:03:15 2015 +0200

    Re-enable the mapper after accidentally disabling it

commit 4eebb010ab3b27603aa861e441ba00ea9fc7a139
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 16 23:56:31 2015 +0200

    Add support for launching an iOS app with a URL
    
    If argv[1] is provided it will be used as the URL that the app gets
    launched with.

commit 0073f33b713b676bb40c5eabafba03b35f0cf819
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 16 21:49:35 2015 +0200

    Improve iOS app launching
    
    - Propagate error if the launch() call fails
    - Time out after 10 seconds in any case
    - Avoid future spawn() attempts hanging if a previous one failed
    - Serialize spawn() requests
    - Unlock device if possible
    - Report error message from the iOS API

commit bdb6efeb404ed6372b132a4640f83ef2268af5c1
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 15 03:45:53 2015 +0200

    Add support for getting details about the frontmost application
    
    Only implemented on iOS for now.

commit 52a09f1cb8ad8565ea3cc2f79f4025ad7b4625fb
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jul 12 17:39:33 2015 +0200

    Remove accidental whitespace

commit 8194e9b3d62a40b7ccd6af73c026b10dd230e05c
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Sun Jul 12 16:43:08 2015 +0200

    Remove special-casing of temporary directory location on Android
    
    This didn't actually solve anything, as the root cause was misdiagnosed.

commit 7380a4e4537834b994c950e9494e5b134111b503
Merge: e3ea4f6a d7b943e8
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 2 11:26:36 2015 +0200

    Merge pull request #37 from marc1006/Fix
    
    Fix for compiler messages

commit d7b943e8fa8cffb001b2194bc8294eb42100eac5
Author: Marc H <marc.diplom@googlemail.com>
Date:   Thu Jul 2 10:09:12 2015 +0200

    Fix for compiler messages
    
    ```../../../../frida-core/src/linux/system-linux.c: In function 'frida_system_enumerate_applications':
    ../../../../frida-core/src/linux/system-linux.c:69:10: warning: assignment from incompatible pointer type [-Wincompatible-pointer-types]
         info = &g_array_index (applications, FridaHostProcessInfo, applications->len - 1);
              ^
    ../../../../frida-core/src/linux/system-linux.c:81:10: warning: return from incompatible pointer type [-Wincompatible-pointer-types]
       return g_array_free (applications, FALSE);
              ^
    ../../../../frida-core/src/linux/system-linux.c: In function 'frida_system_enumerate_processes':
    ../../../../frida-core/src/linux/system-linux.c:139:10: warning: return from incompatible pointer type [-Wincompatible-pointer-types]
       return g_array_free (processes, FALSE);```

commit e3ea4f6a71cb5000a581edb85e88de6e1785f6a3
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 2 00:13:59 2015 +0200

    Update to the new Gum.Script API

commit e0cf712c9e8fdde9f77737f101f37cca1f8b3d1f
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jul 2 00:03:23 2015 +0200

    Remove iOS restriction check

commit 167e69972e2392d56827c2281eceb0fc35563fd6
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jul 1 17:53:47 2015 +0200

    Wire up support for `attach(pid=0)` for kernel session

commit 2134336431dc1841bb7258206ab807b453e97918
Merge: 04698bcb 67980708
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Tue Jun 16 14:32:01 2015 +0200

    Merge pull request #35 from s1341/master
    
    Check to see that the target is still alive before deallocing

commit 67980708eaa4867700a9ca74bcf00b91248be43c
Author: s1341 <github@shmarya.net>
Date:   Tue Jun 16 13:47:13 2015 +0300

    Don't assert when failing to open the /proc/<pid>/as file
    
    Instead, return -1 to indicate failure. This stops the frida-server from
    aborting if the target process unexpectedly disappears.

commit 49a69461fe68b2870d53d4542eb5cda20333b964
Author: s1341 <github@shmarya.net>
Date:   Mon Jun 15 15:57:58 2015 +0300

    Check to see that the target is still alive before deallocing

commit 04698bcb4e444d70ae30c34b87cab6af97fd767f
Merge: 3feb9483 8cae5eea
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Thu Jun 11 15:30:54 2015 +0200

    Merge pull request #32 from trufae/master
    
    Add support to enumerate FirefoxOS applications

commit 8cae5eea4c2abecb4b0302b465e3fc2f90925082
Author: pancake <pancake@nowsecure.com>
Date:   Thu Jun 11 03:22:23 2015 +0200

    Add support to enumerate FirefoxOS applications

commit 3feb94835b693f2354e11e5ab8745283c5c60f45
Merge: 2a4513eb 01dae1fd
Author: Ole André Vadla Ravnås <oleavr@nowsecure.com>
Date:   Wed Jun 10 19:09:10 2015 +0200

    Merge pull request #30 from s1341/master
    
    Fix qinjector/injected thread race condition

commit 01dae1fd29eb90cf90b4d8b239528ff1c80302b1
Author: s1341 <github@shmarya.net>
Date:   Wed Jun 10 19:32:32 2015 +0300

    Fix qinjector/injected thread race condition
    
    Fix qinjector so that it waits until the injected thread sends some data
    on the pipe before waiting for the EOF which indicates that the injected
    thread is done.

commit 2a4513eb4ef9925da66d01f51989639de2992ad0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 8 17:22:37 2015 +0200

    Fix `spawn()` by working around Vala compiler bug
    
    Async methods fail to make a copy of arguments to be accessed after the
    first yield statement.

commit b0c70ea658c8ed840b83770c9007020757a12d3b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 7 21:46:49 2015 +0200

    Improve frida-server robustness
    
    - Call `setsid()` to detach from parent
    - Trap SIGINT and SIGTERM and clean up properly
    - Fix leak of agent session book-keeping

commit 622221b9f8ec6dd81013639531d55e35f70eb909
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 7 21:39:24 2015 +0200

    Decouple helper from its parent process
    
    This means that e.g. a SIGINT sent to the parent won't be delivered to
    the helper process as well. The helper will shut itself down when the
    parent closes the connection anyway.

commit fca32efd3e9c4fc1bae4fa74c76dee66feb3bf7b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 7 19:16:38 2015 +0200

    Improve the agent connection teardown logic

commit 88fed1a8127253052311fff1cc3d98c5c5ae3d10
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 7 18:40:39 2015 +0200

    Don't assume that `connection.close()` will always succeed
    
    Closing the session will also teardown the connection, so we may not be
    able to win that race.

commit 418de2d195cd1a87929c54134d5a92c42e013a99
Merge: d0b096c8 fa3fdc8a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 7 16:28:14 2015 +0200

    Merge pull request #29 from s1341/master
    
    Fix stream seek and increase stack size of injected thread

commit fa3fdc8a13499ee5252aad49026fb9812c13ab65
Author: s1341 <github@shmarya.net>
Date:   Sun Jun 7 16:26:39 2015 +0300

    Increase stack size of injected thread to 2Mb

commit 3a9c704db92fc4436ac8ecf939c76ea3542a74fe
Author: s1341 <github@shmarya.net>
Date:   Sun Jun 7 16:25:57 2015 +0300

    Fix stream seek to seek to start of file

commit d0b096c85b0e3ffdcb6627b8c406179dc86325d2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Jun 7 00:50:02 2015 +0200

    Eliminate delays when shutting down the agent
    
    These hacks should no longer be needed.

commit a2c6c2880daaa574de5b973c50987d41a98bd9e5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Jun 2 14:45:13 2015 +0200

    Add `pid` to `enumerate_applications()`

commit 07d1df32c7e201d8ba4c5b1b094d57b121050857
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Jun 1 02:17:59 2015 +0200

    Fix spawning of child processes that write to stdout
    
    We can't use stdin/stdout for communicating with `frida-helper`.

commit 4f91bf809eca52ab80cfabdc9ab7805864502a53
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 22:42:47 2015 +0200

    Fix Linux build regression
    
    We need to specify a tag as libfrida-helper-glue.la has Obj-C code on
    Darwin but not on Linux.

commit 319670c220d267760066f7d95c7700543f17be03
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 22:12:35 2015 +0200

    Reorder variables for consistency

commit d076cf415ebb21d8bfa731a4837971aff2b3d0b7
Merge: dc677531 ebddb48e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 09:02:31 2015 +0200

    Merge branch 'feature/ios-spawn-app'

commit ebddb48e152ba4f7834198106e30242b94a61726
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 08:59:06 2015 +0200

    Improve the iOS app spawn test

commit 377ecfaab970f7042035045fed6b298d319259f6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 08:43:40 2015 +0200

    Substitute all callback path occurences in loader
    
    This is needed due to universal binaries.

commit b6c8f6912e39c97f1d209049d8286e64824b4b1a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 08:38:37 2015 +0200

    Fix race condition between kill and launch
    
    We have to make sure that SpringBoard considers the app dead before we
    try to launch it again.

commit 04e939fc473f8e99eb0b5d04b8e8dfce1fa71cae
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 08:33:14 2015 +0200

    Add missing stub implementation for Mac

commit 515b4c303060411623a099f0373f5f89d6694d12
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 08:29:49 2015 +0200

    Validate application identifier before attempting to launch it

commit 70272cf267f0778107503fa4573162ac82acc4f9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 08:17:11 2015 +0200

    Add support for enumerating installed applications
    
    Only implemented on iOS for now.

commit 36838044d485407e33b65e065e380e8858a2cfb8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 07:01:23 2015 +0200

    Delete UNIX socket and loader files as soon as possible

commit 27f80c98e5f9e977ad33a2d180ab42e5dc0d419c
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 06:53:10 2015 +0200

    Add missing include

commit b37c30ec99c1ec31c82def86e626cca4e7079b2f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 06:52:33 2015 +0200

    Remove temporary logging code

commit b507d63d18a0d28a05046a52e2ef356018f2d5a9
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 06:51:08 2015 +0200

    Add missing null-terminator

commit 0d68fcd4ebb4a138006c1f6bc18583a92e506ba5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 06:43:45 2015 +0200

    Add `com.apple.springboard.launchapplications` entitlement
    
    This is required to be able to launch applications from our helper.

commit e01cccc366e770c1b5281e93044ed927673b513f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 06:38:36 2015 +0200

    Fix the signature of `SBSLaunchApplicationWithIdentifier`

commit d7894be88c310a0fc197645a4e24e5e80a2d2ca0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 06:29:23 2015 +0200

    Kill existing process and ask SpringBoard to launch a new one

commit f71d3736262850c99fac887113907fa2a115b374
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 04:17:51 2015 +0200

    Ensure agent is written to disk before using it

commit 9c5b7efb6cc043240851aa8fc2879b88db2e4256
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 04:11:28 2015 +0200

    Wire up most of the remaining bits

commit 5b44f6a7ab06d6cd16a1dfaba7ec7cf6de16980a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 04:00:33 2015 +0200

    Wire up most of the FruitLauncher logic

commit 05f982ce7d8cd597ca2bff82ee0b91489203dad0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 02:25:33 2015 +0200

    Disable timeout in the iOS app spawn test

commit 251595b1f85ddba067b60bb46c0952db98df3081
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 30 02:25:18 2015 +0200

    Implement most of the loader logic

commit 04228b9beffab09a65397c25ca3362d967e0d348
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 29 21:27:15 2015 +0200

    Add some temporary logging

commit 3009f40d455376ba5fd07857b4e44da109a05687
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 29 21:12:54 2015 +0200

    Generate plist for the loader and split out Springboard API lookup

commit ffb47832c9177135cc53b1a4f288870944e9d95f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 29 20:06:49 2015 +0200

    Piggy-back on Cydia Substrate for launching apps

commit 49a9669a2d9e09c8de7ca451d9f009e219179240
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 29 14:57:24 2015 +0200

    Fix minor coding style inconsistency

commit 48fdde95616c50dba3b40433b9a273f64f6837c8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 29 14:56:45 2015 +0200

    Experiment with SpringBoard injection to launch apps on iOS

commit dc677531205fc18cf951a3fe454f91ba7123e0dd
Merge: c56baed0 251f64b2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 27 14:51:51 2015 +0200

    Merge pull request #25 from s1341/master
    
    Add dummy.cpp file to force frida-server to link as C++

commit 251f64b2bea22799073b839f11cf7e65a21263fc
Author: s1341 <github@shmarya.net>
Date:   Wed May 27 15:45:42 2015 +0300

    Get rid of unnecessary -static

commit 6ed8616f48c16c5a95a6cb715207207976c87a99
Author: s1341 <github@shmarya.net>
Date:   Wed May 27 15:35:07 2015 +0300

    Add dummy.cpp file to force frida-server to link as C++

commit c56baed0e2805c27ded54f5fadf3d259d9062622
Merge: 7145d71e 6e6ed5b5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 26 12:15:32 2015 +0200

    Merge pull request #24 from s1341/master
    
    Use QnxHostSession from Server and enable Agent tests for QNX

commit 6e6ed5b5c5d8818da2946d9830ed030566a53e62
Author: s1341 <github@shmarya.net>
Date:   Tue May 26 13:12:50 2015 +0300

    Enable Agent tests for QNX

commit 537bd4dfca0c8592fc6e87c77b7db44d88c13aa9
Author: s1341 <github@shmarya.net>
Date:   Tue May 26 12:06:12 2015 +0300

    Use QnxHostSession in Server

commit 7145d71e8ae5fc8d9b1f6e7139ed7697ebbb98f6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 25 23:44:18 2015 +0200

    Clean up the Pipe POSIX backend

commit 39eb54fab1b1867bebc3a853f4c8b8854b99dc3b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon May 25 20:31:24 2015 +0200

    Replace the POSIX pipe transport with a UNIX socket
    
    This is cleaner and more portable.

commit 368b51d63945bc8d338b7f9caa99f0bc286f367e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri May 22 13:24:48 2015 +0200

    Use GETREGS/SETREGS when GETREGSET/SETREGSET isn't supported

commit d37a73360f45a61aa7edff2f539ba831b10b4123
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 20 13:11:46 2015 +0200

    Add android-arm64 check targets

commit c77d936e8f29394d06a821ae23a05fbb8e000548
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 20 13:11:33 2015 +0200

    Add android-arm64 attacker/victim binaries

commit 124181cbb33efa3b9ff6d4fc19c125e18c833430
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 19 20:23:19 2015 +0200

    Fix up register allocation in the ARM64 code generation

commit e0cdc0b96a729f4893af867b2d32adf280f64eb4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 19 20:11:14 2015 +0200

    Add support for building with older libc headers

commit 9eda2d55ebd8f07c5894c93b7198733c8def2448
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 19 19:41:11 2015 +0200

    Port most of Linjector to ARM64

commit bf734475703849ed9ad07092971320bd5b01862d
Merge: a919c7ee cb595fe3
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 19 15:08:39 2015 +0200

    Merge pull request #22 from s1341/master
    
    Update gitignore and fix tmpdir path on QNX

commit cb595fe30a2fc83bcf56ed0059c4c7ddf25e5ad7
Author: srubenst <srubenstein@cisco.com>
Date:   Tue May 19 16:05:12 2015 +0300

    Fix tmpdir path on QNX

commit 12bd1f1a9f8bd55e1284596680fdeed20aac8ab7
Author: srubenst <srubenstein@cisco.com>
Date:   Tue May 19 16:03:49 2015 +0300

    Update gitignore

commit a919c7ee4446190bdc0c93cbb05cce36f5c8d48c
Merge: 6ac04b67 738ce44b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue May 19 15:01:00 2015 +0200

    Merge pull request #21 from s1341/master
    
    Use linker file to only export frida_agent_main on QNX

commit 738ce44bfcc1557652a4ce70e0dd32fe28f1c942
Author: srubenst <srubenstein@cisco.com>
Date:   Tue May 19 15:57:19 2015 +0300

    Use linker file to only export frida_agent_main on QNX

commit 6ac04b676300a78194f5d8b0c3e7ae846189ceba
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu May 7 05:32:40 2015 +0200

    Update gitignore

commit c8330575e75fa66ccf41420ac4bc4deccd1b7986
Merge: e01a6c45 16f813e6
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed May 6 17:33:04 2015 +0200

    Merge pull request #20 from s1341/master
    
    Implement injector for QNX

commit 16f813e6193900fb6d27d5a03bf12b4d191e5988
Author: s1341 <github@shmarya.net>
Date:   Wed May 6 18:06:14 2015 +0300

    Fix stylistic issues

commit 7c70809ad72e00232103c98e09eae197a3578436
Author: s1341 <github@shmarya.net>
Date:   Wed May 6 10:11:56 2015 +0300

    Fix style issues and HostSession api mismatch

commit 733bcd2a161a130b682872201e8172acb3c3cfc1
Author: s1341 <github@shmarya.net>
Date:   Tue May 5 15:43:06 2015 +0300

    Handle the case where the hijacked thread is blocked

commit ec4ed19698a677377b46dbb71a356b152be5eece
Author: s1341 <github@shmarya.net>
Date:   Mon May 4 18:12:17 2015 +0300

    Get rid of printfs

commit b8e23ae39e24c6462afe9a9cc40f1af79908d586
Author: s1341 <github@shmarya.net>
Date:   Mon May 4 17:59:23 2015 +0300

    Add the qinjector test

commit 06e4468612ba6da364d30f20e322c838edfb6488
Author: s1341 <github@shmarya.net>
Date:   Mon May 4 17:52:36 2015 +0300

    Cleanup: remove prints and add some comments

commit bfef4a022ea25839babee618978906b1e2d96dd5
Author: s1341 <github@shmarya.net>
Date:   Mon May 4 17:45:35 2015 +0300

    Make thread-function work

commit 715ea239ee33cc7062cd8f0c3ff962b131c7f972
Author: s1341 <github@shmarya.net>
Date:   Sun May 3 17:19:55 2015 +0300

    Call pthread_create 'directly' instead of from emitted code

commit 33f8550cdcb258eccc55835a7c1943e83c7e6895
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 30 17:50:40 2015 +0300

    Fix bugs in remote_call

commit f6a70ccec99b756269d23b74c0f2cc7da5909d33
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 30 17:49:51 2015 +0300

    Make tests run for qnx

commit c36d51184d0ed4e34ce0d3834864203fe861d1b7
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 30 17:45:11 2015 +0300

    Rename QAgentDescriptor back to AgentDescriptor

commit 94bda004f1878995fa987a916bc513d24de0b42b
Author: s1341 <github@shmarya.net>
Date:   Thu Apr 30 17:43:02 2015 +0300

    Add a tmp path for qnx at /fs/tmpfs/
    
    This is actually target specific and should probably be more configurable.

commit bdc5a84395e6a92b37ef223da449b75fb9f8069d
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 29 19:07:00 2015 +0300

    Implement /proc/self/exe equivalent for qnx

commit 5a7d42f2d9e3a632064c122e3523cfcb4b76e3c9
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 29 18:39:31 2015 +0300

    Fix conditional compilation for qnx

commit 12904fcae215c0a43191128a70fd8117e62c5593
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 29 18:38:28 2015 +0300

    Add dummy.cpp to force libtool to link frida-tests as C++

commit fbb1bbf983b7ce737483d51129326620daa02b79
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 29 17:07:10 2015 +0300

    Add qnx attacker/victim binaries

commit fb6d37abee54a088a2035cbc4a3fc4761d6768f6
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 29 16:59:31 2015 +0300

    Get qnx code compiling

commit 8f758918b9b8b05e50b28eba29845130ebe01fdb
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 29 15:14:35 2015 +0300

    Fix qnx detection in configure.ac

commit 6efa909ee7b98907f75909b8b929d5719919dd0f
Author: s1341 <github@shmarya.net>
Date:   Wed Apr 29 15:09:13 2015 +0300

    Start implementing injector for qnx

commit e01a6c457b0790cf9fd30c85c7d1b0c8e0ce6735
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun May 3 20:06:49 2015 +0200

    Increase the session establishment timeout to 10 seconds
    
    It may take a bit of time when a debugger is attached.

commit 2d780fa76b3a8a7179f79f0ee3b073c9639b5f1e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat May 2 19:56:48 2015 +0200

    Use a separate temporary directory strategy for Android
    
    Fixes #19.

commit efcaf22d05d26008ee4d1845e82c9f551ae535d2
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 30 17:13:18 2015 +0200

    Allow future retries if we fail to obtain the helper

commit 60cb7b15767cb9ad9b0f664826d7b84fab4c3609
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 30 04:05:25 2015 +0200

    Fix inconsistency

commit 9d2d98bdb62dd4f33c9380dff4a9a3562175d7f8
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 30 04:03:36 2015 +0200

    Register frida.Error with GDBus as early as possible

commit 19252f88185fe13fc46117ed9cda8875df1c55e7
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 30 02:36:50 2015 +0200

    Fix exception type thrown by interfaces exposed by proxies
    
    We cannot declare them as throwing frida.Error due to the fact that
    Vala's GDBus code generator produces proxy objects that also throw
    transport errors (IOError). Because of this constraint we have to
    declare these methods as throwing GLib.Error to cover the transport
    error cases. Otherwise we'll end up with failing runtime assertions
    when suddenly an IOError appears instead of a frida.Error.

commit a175ca44be9959b16ae680c84fbddb0508bc9636
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 30 01:59:10 2015 +0200

    Fix typo

commit d5ad88ab52e789d92241621db826187c2f891899
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 30 01:59:03 2015 +0200

    Simplify Darwin frida-helper by using GSubprocess
    
    Our recent GLib upgrade means we can get rid of our custom code for
    spawning subprocesses, and switch these helpers to use peer-to-peer
    DBus over stdin/stdout instead of UNIX sockets.

commit e362187a183a0ce669d3a42cf928c66677a17c5b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 30 01:47:07 2015 +0200

    Use TimeoutSource.seconds() when possible

commit 53c3739226605b80e06113c7f476cbcb646b733a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 30 01:45:40 2015 +0200

    Simplify Linux frida-helper by using GSubprocess
    
    Our recent GLib upgrade means we can get rid of our custom code for
    spawning subprocesses, and switch these helpers to use peer-to-peer
    DBus over stdin/stdout instead of UNIX sockets.
    
    Fixes #19.

commit 5220bdbb8a6effcbf6113ba83e1926604d9d5fa4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 29 22:34:17 2015 +0200

    Revert to simple quotes in error messages

commit 93c07e4920164a6ec993f1a815892dffcaa19393
Merge: be4f5365 9a40d1bb
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 29 22:19:42 2015 +0200

    Merge branch 'fix/port-forward-galore'

commit 9a40d1bb0b38f74d7a79bd100aa21a512f38c9d4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 29 21:26:09 2015 +0200

    Multiplex agent sessions over a single port

commit be4f53650dfde166114e8398e0fff3b6784c2f10
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 29 22:02:36 2015 +0200

    Always enable the mapper
    
    Turns out it's working fine.

commit 71523056a7e8ef1c57f5714cf394fbbea86bb826
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 29 21:57:36 2015 +0200

    Fix debug server version string

commit 67a21733c6102840c1d488163cff71b02b8ae005
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Apr 29 01:50:15 2015 +0200

    Add missing dependency on session.vala

commit 596b87c6fca248ee35da1aeb475d482d280ff8ee
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 28 22:56:32 2015 +0200

    Add function prototype for the error quark getter

commit 3dfe1e2a1a000ae74b556e01670f0fe8dddba96d
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 28 22:00:52 2015 +0200

    Add errors to the generated public API header

commit 0c22df0112f7433c3b5c989f4722c66a522fd5db
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 28 21:07:01 2015 +0200

    Remove Frida.Error.PROCESS_GONE
    
    Also remove the `error` argument from the `agent_session_closed` signal,
    as we no longer use it for anything.

commit aa7e9c38e9513fc96413eb26bfdb54f5b0783150
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 28 20:49:32 2015 +0200

    Add Frida.Error.PROCESS_NOT_FOUND

commit bb9f9c9cfcca7c7abc384f00b6215f55e3bbfe75
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 28 20:47:15 2015 +0200

    Add Frida.Error.EXECUTABLE_NOT_SUPPORTED

commit 67ea469ab5edc4de5eb82e80e09bc4f9b6d116ac
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 28 20:44:13 2015 +0200

    Add Frida.Error.EXECUTABLE_NOT_FOUND

commit 8f9a76710882ae5fc78626d1a8a8b88f8f91e068
Merge: 547c4688 a6723293
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Tue Apr 28 16:23:48 2015 +0200

    Merge branch 'fix/error-feedback'

commit a6723293c3774830a2ebe559811392795f03b854
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 27 23:20:42 2015 +0200

    Fix error feedback
    
    - Provide consistent error messages across backends for common errors
    - Introduce a Frida.Error errordomain registered with GDBus
    - Make all error messages consistently follow the scheme used by GIO
    - Translate remote errors into local ones at the facade layer

commit 75d56a154358eefd72d9e7c1a5cb4f5fc213e287
Merge: 547c4688 02143c01
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Mon Apr 27 00:12:37 2015 +0200

    Merge pull request #18 from marc1006/master
    
    Open the files in text mode, not binary mode

commit 547c468844e32d461d540fb0b3b6e27a5698cc2b
Merge: 44a2a663 0d23017f
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 02:54:09 2015 +0200

    Merge branch 'feature/gumjs'

commit 0d23017fa99c7c7790da3a610e5b26caa95eee8e
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sun Apr 26 02:51:40 2015 +0200

    Update to use the newly split out frida-gumjs-1.0

commit 44a2a663eaca5bc1e0eb61127b5d3a4dce5231f4
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 25 01:05:42 2015 +0200

    Remove $(FRIDA_LDFLAGS) from libfrida-core-1.0.la

commit f21a252f6dcddf45697c25382e1f5ecf105d75b0
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 25 00:56:34 2015 +0200

    Fix linking of the pipe test

commit 014d305df7656246f4652c31adbc2b95d389abc5
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 25 00:45:47 2015 +0200

    Remove $(FRIDA_LIBS) from libfrida-pipe.la

commit 5a2c9e5193f12bcf8faf22455f0db5da880cd68b
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Sat Apr 25 00:14:55 2015 +0200

    Remove $(FRIDA_LIBS) from libfrida-core-1.0.la
    
    This is until we've split gum's Script runtime out of frida-gum.

commit 96f4429d0d60bdc3c0ebe04a722798c90cf20678
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Fri Apr 24 19:17:05 2015 +0200

    Only enable the mapper on Mac for now
    
    Turns out there's an issue on 32-bit devices. As the mapper isn't that
    useful on iOS we just disable it there for now.
    
    Thanks to @radare for helping track this down.

commit 02143c01ba539af275d1c52b60fedf1a28ee3116
Author: Marc H <marc.diplom@googlemail.com>
Date:   Fri Apr 24 10:50:34 2015 +0200

    Open the files in text mode, not binary mode
    
    Fix for:
    Traceback (most recent call last):
    File "../../../../frida-core/src/generate-api.py", line 180, in <module>
    output_deps_file.write("glib-2.0")
    TypeError: 'str' does not support the buffer interface mode

commit 17de3049838759debb8bf6971efd954e24adfdd4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 23 23:38:38 2015 +0200

    Ensure the FIFO filename is unique

commit 2ff867ff4fdf19d526cdfca0b56043e264f2374a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 10:25:07 2015 +0200

    Fix spawn() command-line generation on Windows

commit ea75a170f934e43946e83bc69cf43fb40e8807ed
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Thu Apr 23 02:25:48 2015 +0200

    Fix warnings reported by MSVC

commit 2637fd13ebe134184414651374830c8245c69fdd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 21 11:18:12 2015 +0200

    Fix warning reported by MSVC

commit 609ac53e9601051509a93097d14c61793c2f00b1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 20 15:50:04 2015 +0200

    Forward GLib's log output to Android's logging system

commit c35ddec2e5c5c8383473874368cbdf9fccf0bc7d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 19 00:23:54 2015 +0200

    Fix the temporary frida-agent filename on Linux

commit e5602f47b01c688150f3b168138af9ab9f9df603
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 18 01:28:01 2015 +0200

    Add --version option to frida-server

commit fbd28969f1b488720c5741fa0c50ecfd3f0b0290
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 17 22:16:27 2015 +0200

    Add library versioning API

commit b6deac433953f9beb555625aca26df2f2ce62596
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 16 01:59:39 2015 +0200

    Update remaining tests to the new API

commit 6f8402f2e3c9dda700e0162b3e52daf43f255c56
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 16 00:55:38 2015 +0200

    Update tests to the new API

commit f542f9f5f567b00fd898e1641e28ccef5582af25
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 20:03:29 2015 +0200

    Use the default Node.js debugger port when 0 is specified

commit abb909644f04ff192b387d888a736a6491de264d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 19:06:26 2015 +0200

    Work around lack of nullable strings in Vala's GDBus generator

commit cc8177af39dad419010f5393296dd4ea9d036d1c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 14 18:51:58 2015 +0200

    Update to the new Script API

commit 2f8f755623449edbd01e2f99f937e040e9a5114c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 10 00:01:58 2015 +0200

    Make the script name optional
    
    Leave it up to the agent to auto-generate one if missing.

commit 4c99b53fe154209e4d99df14a516b57603d0257a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 23:14:58 2015 +0200

    Update to the new Gum.Script API

commit c5fca8a7486b0ed08b9f0708fee116c7e2c7fa98
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 16:26:08 2015 +0200

    Fix post_message_to_debugger()

commit 372296c3fcc9c64b9ec799b113e95373242f11f5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 11:54:34 2015 +0200

    Wire up the new debug API

commit 6cf49d041bff9823eb71e6b8fd287d86b507c613
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 10:40:45 2015 +0200

    Wire up message delivery to the V8 debugger

commit 1ee3c3fba6f9362365784b3e9599d983090c4ffa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 10:30:22 2015 +0200

    Wire up the send() logic

commit 9cf88b71e06211ec63b4d94f84985296d22c5718
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 10:11:43 2015 +0200

    Refactor the DebugSession buffer management logic

commit e26d7c35f014ec903f8b94f4a316c56395508184
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 9 02:56:49 2015 +0200

    Add scaffolding for new remote debugging APIs

commit 901c8e5777015b9b3581f6e626a2e995559cedec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 16:30:38 2015 +0200

    Remove obsolete reference to zed-server

commit dd1c79a8960be532e11ec9974987e8de623ab250
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 16:23:36 2015 +0200

    Update the iOS packaging metadata

commit f11a72e1c144ed9cd1059b9ea3e68c82f45e1c89
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 6 16:21:07 2015 +0200

    Remove the timeout support from frida-server
    
    It is no longer used.

commit fd5d29334f011369e408a4e369dd59c72b87d12f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 3 15:56:18 2015 +0200

    Set `SubSystem` on frida-agent-32 and frida-agent-64

commit 43ff99cae3b855bfe81dee19abf0ea67c47acb20
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 3 15:32:56 2015 +0200

    Switch to the XP toolset

commit 49902f39a91592e12c55f50e5ad1cc2e1c84c190
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 20:42:35 2015 +0100

    Deploy dbghelp DLLs alongside the frida-agent DLLs

commit a7c2d3adfb113452c0432debbb61d013cd61af8d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 22 04:46:32 2015 +0100

    Fix dbghelp resource paths

commit e4e9d0e85ce29863fae909515bb2ebb29bf0461a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 21 23:47:39 2015 +0100

    Update to the new Gum init API

commit 0c4f328a8553c070e4a03792461ec08e33fe9cb8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 21 23:47:30 2015 +0100

    Embed dbghelp so it can be deployed side-by-side with frida-agent

commit 981cfbf2abfad961b254b51ab6506be873428f28
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 21 23:46:23 2015 +0100

    Update dbghelp copy rules to match new naming scheme

commit bb23a18c94a9dfadbe4407635169b52296dd87b0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 19 22:03:08 2015 +0100

    Only perform deinit when debugging heap leaks

commit 361ba59145ca521ab463d7253269b6da0b98f662
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 23:18:12 2015 +0100

    Improve robustness and simplify error-handling

commit 7da5ca17a8d92c33ccff94fb138982385f9544fc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 22:43:35 2015 +0100

    Clean up session resources as soon as the connection is closed

commit 9d63b960eb8cb25a843f73e50e245ba76c73ed28
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 21:02:17 2015 +0100

    Fix entrypoint calculation for PIE binaries

commit f1fbba06a6732a12dc460b36664aa6c6c789056e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 21:01:31 2015 +0100

    Update ARM breakpoint opcodes to match the Linux kernel

commit 0cd35fad1bfefbc8919b87e32a1eea2a05f32794
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 20:20:44 2015 +0100

    Consider injection successful if process exits in the final phase
    
    Our payload may call exit() early or process may decide to exit around
    the same time. We consider the injection successful and let the detach
    logic handle what happens next.
    
    This fixes random test failures where our test payload calls exit().

commit b13741988d62082175924c46adce727aae1360ae
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 18 16:13:20 2015 +0100

    Update to the new Gum API

commit 5f3c0191d322e55440200f0d3f459632c80eecc7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 17 17:55:23 2015 +0100

    Align stack and avoid red-zone in `frida_remote_call()`

commit 03f10b522112f4aa08e32f06cd5bd93da128a252
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 17 01:07:25 2015 +0100

    Improve the Linux `spawn()` entrypoint detection

commit 2ff661876897aa0cd4ea95795003c6eeff9be3ef
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 17 00:48:31 2015 +0100

    Improve the Linux backend support for 32-/64-bit only builds

commit 13878017bf24e7d77081480f5c1ae95e86e8e43c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 17 00:46:10 2015 +0100

    Remove redundant glue implementation

commit a980675a6d45c49f9ae52b504bf6eda7a354cc34
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 16 01:44:17 2015 +0100

    Port Linux helper process glue to Android

commit 373d890d5da5de41bde516f1e1cd32fdb729c36c
Merge: b58583c3 127af9ba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 21:38:44 2015 +0100

    Merge branch 'feature/linux-cross-arch'

commit 127af9ba46ad76a81c6feb71005f377f125f527e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 21:38:30 2015 +0100

    Update Darwin backend to match build system changes

commit 63708ea6c531d171da91af52d201a248bf85c5f9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 21:32:40 2015 +0100

    Wire up remainder of the Linux helper logic

commit e05417a9321ac166fa79ab845243f88bd4e950f6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 21:32:18 2015 +0100

    Fix null-resource references

commit 32699ae9f815050d72a98e602e6771e05b92c3d2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 20:25:38 2015 +0100

    Fix glue function name

commit 83f53a8c35c660def2302f1e55d2134198aa745a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 20:06:37 2015 +0100

    Add missing implementation of `spawn_helper()`

commit 1b6f74aacb960725c6198d63a1902d3a9a00d54b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 20:06:08 2015 +0100

    Use `g_get_environ()` instead of `_NSGetEnviron()`

commit 8b135963aa25fafd3d46e0dfdf7dcabd94fa7f4e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 19:53:02 2015 +0100

    Wire up most of the Linux helper logic

commit b8eb014c8dc6e68d00bb9a1f7c9091da78e5c273
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 19:52:49 2015 +0100

    Avoid ID collisions

commit 3c6da0351393916658320000f3b88a61b2da3c92
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 19:52:13 2015 +0100

    Make use of the new frida-gum-linux vapi on Linux

commit 16f4159113c766fb54317a5a1ce4e5431ee83268
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 14:19:49 2015 +0100

    Start fleshing out the Linux helper process implementation

commit 313c2a292e4ddb179d14095ef2345b9c361139df
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 13:52:46 2015 +0100

    Improve the build system

commit 20e4f323bbf3bb1e506130eda741457e5c51ddca
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 13:52:01 2015 +0100

    Allow file names to be specified inline to resource-compiler

commit 5a5c8de922d38f6bf50da8f77bfa92abd8e7fcd8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 13:08:04 2015 +0100

    Move Linux spawn and inject logic into the helper

commit 244c12095fb99e24a8a7bb589d84de57531d7868
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 11:21:12 2015 +0100

    Add most of the scaffolding for the Linux frida-helper

commit 728d0dc57e2233f29e70c5ea1bcdb09f1811c39b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 14 11:19:55 2015 +0100

    Tidy up the Darwin frida-helper glue code a bit

commit b58583c3cb75165a0be81e02e2ebe89a4a56a1e9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 13 22:05:59 2015 +0100

    Revert mistaken ARM stack alignment adjustments
    
    It was already aligned.

commit 73290bbaf5e2d22912a5da86f5f42ff9a3ba4465
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 13 21:58:23 2015 +0100

    Fix Linjector stack alignment on 32-bit architectures

commit a9c38fcaefa55261e6bc8283acbd3381e85b5b49
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 13 15:53:28 2015 +0100

    Fix frida-agent symbol visibility on Linux
    
    There's a bug in libtool where `-export-symbols-regex` doesn't work for
    C++ libraries, only C libraries.

commit b36ff8535910532bd245a47645853e84633c0952
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 13 11:06:29 2015 +0100

    Force usage of C++ linker when linking frida-agent

commit a683aa65fec966c0e33aafaa96f847eb2ae8410f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 13 00:19:49 2015 +0000

    Fix Linjector on linux-i386

commit 1279a1ad054cee99526407f46cea7ab91f6ee766
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 13 00:09:50 2015 +0000

    Add labrats for linux-i386

commit 3673ad5beabe7546ab1fc25245a2130592de5e9d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 8 15:38:27 2015 +0100

    Improve port allocation logic
    
    - Allow previously used ports to be reused. This means a lot less manual
      work for Android users who would have to keep forwarding new ports even
      if the number of concurrent agent sessions remained constant.
    - Only forward agent sessions over TCP when requested to do so. This is
      only needed by frida-server after all.

commit ef534f95fa5dbb319ff85707835cecb43e91a23f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 7 21:04:43 2015 +0100

    Allow bindings to always know whether objects are still alive

commit 2c53d3aa658edc19b3374055b00cd9745e2362ba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 7 21:02:53 2015 +0100

    Don't emit any signals while starting the service
    
    The signals are meant for notifying the user of changes *after* the first
    call to `enumerate_devices()`, so there is no point in emitting these
    signals while the first call is booting the service.

commit b56f0b395cab7183ed70fb51f84acbf6c5871261
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 6 03:17:27 2015 +0100

    Move state validation to the operation itself
    
    We also want to guard against calls made in the wrong state when using
    the asynchronous API directly, and not just through the _sync() path.

commit bf1e05df8742c98736f9198bdec091ad83c1e0fa
Merge: 6dececf4 7952b52a
Author: Ole André Vadla Ravnås <oleavr@gmail.com>
Date:   Wed Mar 4 01:24:44 2015 +0100

    Merge pull request #13 from Tyilo/arm-mapper-fix
    
    Fix arm and arm64 mapping

commit 7952b52a942e2fcff7e23f081a27fabfbfa0e912
Author: Asger Hautop Drewsen <asgerdrewsen@gmail.com>
Date:   Wed Mar 4 01:19:04 2015 +0100

    Fix arm and arm64 mapping

commit 6dececf46cd77b8074c9acd98efd5ba57aa316b1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 1 10:42:02 2015 +0100

    Fix device extraction out parameter ownership

commit be9d5c62221d79812f9be43e26bf9ac313f00f24
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 1 02:03:21 2015 +0100

    Fix Mapper base footprint sizes for ARM and ARM64

commit 69394ca475e3a0715aecff13c52a59becb14e264
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 28 19:52:01 2015 +0100

    Update frida-helper's bundle identifier for consistency

commit eb9ac7b5216c323543e6c4de512ac6b9ae4d7cde
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 28 18:24:04 2015 +0100

    Fix race condition where ensure_service() calls overlap
    
    This may happen when using the async API

commit e246abff6886e714659961cd4f47b989435d3763
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 28 18:22:47 2015 +0100

    Bump Fruity start timeout to 100 ms
    
    It's been observed to take up to 50-60 ms in a Windows VM, so we should
    allow some leeway to boost the chances of the initial enumerate_devices()
    including Fruity devices also.

commit 29d13db57338ce0356a2704b8b551a4e4b311502
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 28 18:20:44 2015 +0100

    Perform a dummy-request to flush out pending attach notifications

commit 1864ac79464a496cb2836e5b61a6111bfa901c89
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 28 18:20:07 2015 +0100

    Handle Fruity devices without a corresponding image device
    
    This is the case if using iCloud.

commit 2ffb9c5e2c3e780c67d899a38e9eb0ae73e22f2e
Merge: 3a57a7e1 38d0bf8a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 28 12:44:54 2015 +0100

    Merge branch 'feature/fruity-smart-start'

commit 38d0bf8a89eb21b7f3e72b3ca536bab4f31f580f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 26 03:35:44 2015 +0100

    Improve Fruity backend to only allow start() to block briefly

commit 3a57a7e141c94b6f9bbfbc8a116db231cdda685e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 25 03:43:14 2015 +0100

    Establish Fruity client before considering the backend started
    
    This will require an additional tweak for systems without usbmuxd in
    order to avoid a startup delay.

commit 897aaa84e1bcbe6ab15b50ab0745f7e45d5da285
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 25 03:27:24 2015 +0100

    Don't try to load image from cache without a cache file

commit ea977948912cfd85a35e76d461cfb4024f575ae4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 25 02:33:13 2015 +0100

    Remove commented test timeout example

commit 14180e3072a7e8a84f2ae7f81edc175e10f067de
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 25 02:32:48 2015 +0100

    Bump HostSession test timeout

commit bbd10b32f6e210404194247d887689648a9f736e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 25 02:30:30 2015 +0100

    Bump the default AsyncHarness timeout

commit bf6dd3de4637c7731af429e0d96852229c65d0ea
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 25 02:16:16 2015 +0100

    Disable compilation of the gadget for now

commit 313f2460c7130884c116bba0ee243f087b95f8e4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 25 00:23:42 2015 +0100

    Switch back to the modern Mach API once again

commit 5063992341bf69e37c24a978a9dcd81101fce54e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 24 23:30:33 2015 +0100

    Fix cache file arch-selection and only mmap it once
    
    Otherwise we may hit resource limits.

commit 54747f230979084a69e49ece5031133233ebb36f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 24 23:28:53 2015 +0100

    Revert to the older Mach API for compatibility with 32-bit devices

commit f94830cecb7f88084363e8c27584af915c280c86
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 24 00:35:34 2015 +0100

    Disable warnings when building pipe on Linux

commit 70f21699a6d9c8662dfdea6e61a423708524d1f2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 19:59:19 2015 +0100

    Fix i386 argument list setup by pushing from right to left

commit 7bd87927406e13d139fbd1df12c09c54908e8f03
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 19:58:41 2015 +0100

    Add missing cast to pass the correct argument size

commit 00408492d579e8ce3c4f6e7ff6c5c4c1ec478c9a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 19:57:59 2015 +0100

    Fix error-handling in frida_remote_alloc()

commit 3ab69aa1bbd7e3549174db588a46546aeb77ca7f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 19:08:49 2015 +0100

    Add missing arch suffix handling

commit eecd312122a9d6c25d50a0d08620173b14e7c55e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 19:08:20 2015 +0100

    Fix check target for android-i386

commit 0b6746d9e60c54d11ec3fc21ba182b6c1a9e005d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 18:59:22 2015 +0100

    Add unixvictim and unixattacker binaries for android-i386

commit abf737029922955c725514e68cc2c4657d20af08
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 18:49:05 2015 +0100

    Port Linjector to android-i386

commit bf843c0eb2fa555c417db50ef07b14cf44d040fe
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 22 01:34:50 2015 +0100

    Add Device.kill() to the public API

commit e95bf159362cf44b0aad8b55705b92f5f3026897
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 21 03:14:01 2015 +0100

    Neutralize atexit handlers in mapped libraries

commit 3e8e9ec8f3607db0862fc75975de30fad602ddc0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 21 01:34:46 2015 +0100

    Fix failing frida-tests when running 32-bit version on a 64-bit system

commit 2b664a4744cdc459dcd737284da18e9f844276fa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 21 01:30:53 2015 +0100

    Tweak test output

commit cdc34ac62d088841be5ec29cdffef444e178d8fa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 20 20:37:36 2015 +0100

    Use the newer Mach API

commit 37067239778ed0e3d4524ef41323bec295525268
Merge: 935461f5 fe8abde4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 12 20:41:00 2015 +0100

    Merge branch 'feature/darwin-mapper'

commit fe8abde46ad4f79e2ae22fe1e495b8c88ec1604f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 12 18:58:08 2015 +0100

    Communicate memory range to the agent when mapped by us

commit c96ef803aae61a29b4b0ee4768dc5e51bfe0fc8d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 12 03:02:11 2015 +0800

    Adjust test relying on dyld behavior
    
    We won't even try to emulate the `exit()` behavior of calling the term
    functions of currently loaded shared libraries.

commit e4103e05ff76259ae5e3447a2d725817abb22c5f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 12 02:55:44 2015 +0800

    Fix stack alignment on 32-bit

commit 017a513319f167f7e1ae873bd0ee2bfa5ea6c202
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 12 01:28:17 2015 +0800

    Port Fruitjector to conditionally make use of FridaMapper
    
    For now it is enabled by default by a compile-time flag. Note that this
    code hasn't yet been tested.

commit 618e7a77127f2cbceee563bb8f0521b62225c94d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 11 23:54:39 2015 +0800

    Fix ARM init and term invocation loops
    
    The cbnz instruction cannot be used as it only allows positive/unsigned
    branch offsets.

commit 58eb6505792801fcfe8671c64f8cbce70dbd176c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 10 01:43:06 2015 +0800

    Adjust ARM footprint constants to account for alignment

commit 8a85687407c589ab111684833f6569fcfd834b12
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 10 01:21:14 2015 +0800

    Fix mapping of dyld_shared_cache images

commit 8f20fec94488fb802aa79571de22ad63645d8a79
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 9 21:16:11 2015 +0800

    Add missing ARM and ARM64 runtime code generation

commit e66cb0aa4e01dc722787191e2a91676bca3b3af0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 9 20:35:39 2015 +0800

    Fix crash when freeing library without any image loaded

commit eac70ea53316bcce6d3e21b116241f0ece6bd91b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 9 18:06:09 2015 +0800

    Remove left-over debug hack

commit 8aff0bb83feb1e4b44549d08d0de93ed2dcb8ad0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 9 18:00:56 2015 +0800

    Implement proper mapping of dyld_shared_cache libraries

commit f0bd8a450734490deb70bac4424d84fa5ade2cec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 9 01:52:23 2015 +0800

    Implement loading from dyld_shared_cache

commit 02ca85e4905d88a3c644b10b8a9b64b51b01bfbd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 8 15:48:26 2015 +0800

    Add scaffolding for loading from dyld_shared_cache

commit fb6b3d282a48261870806a1a84dfc4ba37a7ad6c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 8 14:56:17 2015 +0800

    Implement handling of init and term calls in the ARM runtime

commit e243f556bff63c37c8e4c3ea1b42ff7ac3c6df6f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 8 00:36:55 2015 +0800

    Implement handling of init and term calls in the ARM64 runtime

commit 1ff43ba1388f87d0d45b905ba2037881bcd87f1d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 7 23:58:07 2015 +0800

    Start implementing ARM64 init calls runtime

commit 83ed9ad71b850c5866c98f63715d81c5c5fbb372
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 7 23:41:23 2015 +0800

    Add partial ARM and ARM64 runtime

commit 5d114ac8d62d642320d74ffc7cf85d6097fc530f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 7 22:57:27 2015 +0800

    Improve runtime size calculation

commit 20414da1fc9cb1251fd8a1c2465e891ad039d4d4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 7 22:31:34 2015 +0800

    Improve runtime size calculations

commit 0973c3995a542ce2eec8c00c2c2db348ef5a93b8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 7 22:06:13 2015 +0800

    Generate code for calling term functions

commit 9ae8cfadf7b6f0d800e21f04e74499c0d702df63
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 7 21:22:13 2015 +0800

    Fix handling of REBASE_OPCODE_DO_REBASE_ULEB_TIMES

commit bdd8f1491646d817d55e6c88168421186f3fbb1a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 6 22:59:12 2015 +0800

    Fix handling of BIND_OPCODE_SET_ADDEND_SLEB

commit 743c861a3cc44920e7903bacc4a2feb94cc3d9b6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 5 22:39:45 2015 +0800

    Fix runtime stack alignment on i386

commit c1b78d492c7e172e6ba32fb73349c7140a19a431
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 5 20:56:20 2015 +0800

    Fix runtime stack alignment on x86-64

commit 04cbb23fdbb4d119cf3424ddc4e4ef1a3610dab7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 5 03:41:17 2015 +0800

    Limit opcode range to file_size and not vm_size

commit ad5a8fd34b2d4e8d77fbe9292b45b6988364aae6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 5 03:34:57 2015 +0800

    Generate code for calling init functions

commit b00f02b8001819ea4e7fb23754a52cdae35118a6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 5 03:11:21 2015 +0800

    Add scaffolding for init and term pointers handling

commit 24f3867a05264b2fe6f7439cdeb12c77ccadb21a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 5 01:33:05 2015 +0800

    Implement rebasing

commit 715556156b2bd04b0b21a4e19fb06f5d4f3eed16
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 5 00:06:53 2015 +0800

    Add infrastructure for handling rebase opcodes

commit a9ee5fccd1c4e6bbb215f0d9a9a69005981a649a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 4 23:32:00 2015 +0800

    Map dependencies and call resolvers on construction

commit d29fcca7997824db93540abe0d9c1806ba533c9c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 4 20:16:22 2015 +0800

    Add skeleton for dynamic runtime creation

commit dbb0b7b0dbd42e10010bf238cf9283623028e347
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 4 15:17:39 2015 +0800

    Improve the API and symbol handling

commit 672654d51c6551e43e56b229eb2047e80af3e71a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 4 01:32:50 2015 +0800

    Fix loading of exports in unmapped libraries

commit 83514bf0f5ecbb4d34abb1ec6b89dcb81977d9ed
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 4 01:08:36 2015 +0800

    Improve symbol handling

commit 0d2599cf3a0271650e382522f34c5760636aeb46
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 3 23:40:04 2015 +0800

    Implement the actual bind logic

commit f912cd6f72344eeb285ec07825a27b220a8e50ca
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 3 23:04:15 2015 +0800

    Improve the bind enumeration API

commit f57017d5df9b036f1e77812169b4c1eec71ea30d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 3 22:19:01 2015 +0800

    Add enumeration of lazy binds also

commit bd737b81fff2dfb9fc57e4cdbd7267f8b3e08eef
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 3 18:27:43 2015 +0800

    Fix the exports handling

commit 9074db8629edbef30909b15837d9cf85926e4624
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 3 18:07:21 2015 +0800

    Add remaining symbol resolving logic

commit 0318a00687cc3543161fb2bf8ce6552d5439569d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 3 17:53:29 2015 +0800

    Refactor and improve metadata logic

commit 5aa5f2a7b6a935e45c0d35a04ee0fbe16e3eb268
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 3 15:25:34 2015 +0800

    Improve symbol resolving logic

commit 09f3a81d953bf92cd9e768c5dbf3d567dc318f5a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 3 13:59:10 2015 +0800

    Start implementing symbol resolving using the exports trie

commit 3b7f21b4fd53fd4839e1fd2af717825713a1f732
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 2 15:52:51 2015 +0800

    Improve mapper bind opcode infrastructure

commit ef9cec9d2537becf41a7a8ef15957ab27991fa86
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 2 14:50:10 2015 +0800

    Improve the data model to take existing mappings into account

commit d480acaabc48fb52672b4e8da83d91037f995467
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 29 01:08:43 2015 +0800

    Start adding handling of dylib dependencies

commit bece4953fc34be017919c26993c560f8e11073cb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 28 22:52:46 2015 +0800

    Improve the Mapper API

commit b71ff34d3f98a5e1a8c0322334294c98f05fbaf5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 28 21:11:41 2015 +0800

    Refactor segment handling

commit 6d8a07a36651057c9a582640168718f42c0bc969
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 28 12:22:27 2015 +0800

    Start sketching support for bind opcodes

commit 314dc64118a3b19763162ab2bba827aac331167a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 28 10:44:38 2015 +0800

    Implement symbol resolving

commit 6e69d4b8f2b268089a4c7f61012345bda0359c2d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jan 27 23:54:58 2015 +0800

    Implement really basic mapping

commit 5a79f5589388ad163a2da6c78c3b81bc47cec27d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jan 27 23:06:20 2015 +0800

    Implement mapped size calculation

commit f2f5a0d5b42f8936fda93d1a3d626a789331ed17
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jan 27 22:32:37 2015 +0800

    Improve the API and handle fat dylibs

commit 4cbb1ae15e6a9ad46e84ebec88c5a34b1ee30c60
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jan 27 18:14:31 2015 +0800

    Add boilerplate for a Darwin-specific dylib mapper

commit 935461f529fd78aaae3997494ca11e3dc8ab8f35
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 24 18:56:31 2015 +0800

    Fix compatibility issue with Linux containers
    
    The file-system path provided by `/proc/$pid/maps` is the same inside
    the container, which means we can't rely on it when we `dlopen()`.
    We can however rely on the basename of that path.
    
    Kudos to @shitsecurity for helping get to the bottom of this.
    
    Fixes frida/frida#12

commit dfe22923e1c7e987592c9eea2dca32de534c8a44
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Nov 17 23:03:13 2014 +0100

    Improve starting points when inserting mach ports

commit c873075ece5516a20aef1146fa52756bf292ef5f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Nov 17 15:32:08 2014 +0100

    Fix ARM64 build regression

commit 63a673a78d70c204bed01beb28a22f66fd360595
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Nov 17 14:55:37 2014 +0100

    Move Darwin spawn() implementation into the helper process
    
    This means that spawn() now works regardless of whether the application
    has the appropriate entitlements.

commit 43bc6d1c6feb4838319cbee393af341e8c9def92
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Nov 17 13:59:21 2014 +0100

    Remove left-over logging

commit c84fb8801253a05305e43b0da38a832736da838c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Nov 15 19:16:10 2014 +0100

    Start migrating FruitjectorHelper into a backend-specific helper

commit 074c4eedc5677c0db5c15a845b43dc89fbeebbc5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Nov 8 21:53:06 2014 +0100

    Consolidate to use the `re.frida` namespace

commit 442c7de3d49c729e11fe81bccfa49789740b57b1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Nov 1 12:08:31 2014 +0100

    Fix crash on shutdown in the Linux backend
    
    This was 100% reproducible when closing the backend while still injected
    into two or more processes.

commit 30ca1fbbf6cb5b3758a742f3471d12c4505f1ce3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Nov 1 12:08:22 2014 +0100

    Fix crash on shutdown in the Darwin backend
    
    This was 100% reproducible when closing the backend while still injected
    into two or more processes.

commit 51f326e782a975982821b7c2106f3d8282147ecb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Nov 1 11:15:16 2014 +0100

    Fix dynamic symbol lookup in the Darwin spawn() implementation

commit 43980fbd2fdf99366711a608af7c84e81a810936
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Nov 1 11:12:44 2014 +0100

    Remove dynamic symbols lookup fast-paths from Darwin backends
    
    After the recent optimizations in frida-gum's Darwin backend, the “slow”
    paths are no longer slow and we can just get rid of the fast-path
    special-cases.

commit d1220bf062e9e664c3dc02e929272856e62442e7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Oct 29 12:38:46 2014 +0100

    Add test for large messages with the Fruity backend

commit a0f54dcd247cc9e32a38ed5fe10f5b619f9417d3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 28 16:29:05 2014 +0100

    Limit Mach port writes to 10 MB at a time

commit e8cae2ff387950146cbbbef07ba103398a0c45a0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 28 13:35:05 2014 +0100

    Add `frida_unref()` helper API for synchronous bindings
    
    The non-POD objects (DeviceManager, Device, Session, and Script) must be
    released using `frida_unref()` in bindings that don't integrate into the
    GLib main loop. This ensures that the object is released in the Frida
    thread.
    
    However, POD objects (DeviceList, Device, ProcessList, Process, and Icon)
    should still be released using `g_object_unref()`.

commit 3ef7fcd918ad76b78510d3b23fc68d5fd376e472
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 28 12:03:07 2014 +0100

    Fix thread_id and register clobber in the ARM64 injector

commit c0d330cd947c85a97de04ba85d927a99931f679e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 23 12:35:18 2014 +0200

    Consolidate permissions of temporary files on UNIX
    
    Kudos to dmc for testing and figuring out the details.

commit 2ab707bff543354b495e277e8bc581df77f179ef
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 24 21:16:02 2014 +0200

    Add missing static modifiers in pipe implementations

commit 60a6230651c8096c85cd767bc4a2bf64b0ed222c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 22 22:08:47 2014 +0200

    Remove unused udis86 dependency

commit 6b6e96b1d55cf2cee63ed1e72f9114c45d470017
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 19 23:19:35 2014 +0200

    Update pipe build system to match the one on Windows
    
    Otherwise we run into PIC issues with GCC on Linux.

commit c4b646d3717b0d17b1182caabe0e70bc3a410c61
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 4 17:20:49 2014 +0200

    Fix Android regression in the Linux injector

commit a59fe576df033d59ea535b909c17238690d036a9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 4 16:58:13 2014 +0200

    Fix ARM build regression

commit 742d20510784a29248dd499ebd1e340fc9d15f66
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 4 16:37:51 2014 +0200

    Update to the new Gum API to ignore the Mach thread on Darwin

commit 3c2714f751aa45252939a6fbc7b6914999645ad1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 3 16:27:02 2014 +0200

    Fix the frida-pipe Windows build system

commit a018dae4b935c1c146a7ebbc4bc2adb751e0a45c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 3 10:25:51 2014 +0200

    Fix crash on teardown by waiting for `_do_close()` to finish

commit 3070e59ac15472265a9966620494be8d42234154
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 3 10:24:33 2014 +0200

    Fix crash caused by bad return values from stream methods
    
    Must return -1 on error.

commit 335810651b07d2001faf299d7ee14be17c749a0f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jul 26 17:17:58 2014 +0200

    Fix Darwin backend test on iOS

commit b43c4f9df9d21b7a18703731f1ef0c358ba408b3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jul 26 17:17:43 2014 +0200

    Fix iOS check target so it deploys the agent correctly

commit c9a33a111c9cdda96c571449701669bae6c64005
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 24 21:27:28 2014 +0200

    Simplify the Linux injector logic

commit 6399c5184da0310b292f0f662f720afb34ccb452
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 22 21:45:25 2014 +0200

    Update Linjector tests to the latest Vala syntax and vapi

commit 42878cce2a064425f83a21d85a360487cb403972
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 22 00:29:01 2014 +0200

    Fix left-over deprecation issues

commit d4efab0e07143d165f2839749f5e82af0ff55a78
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 22 00:03:56 2014 +0200

    Fix initialization order

commit b734041fa864c5f818e97b6330376212219987d0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 20 21:04:48 2014 +0200

    Fix leak of dead port right

commit a0494f82e53b75bcd57e2fe2a07cf95592adbd36
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 20 16:41:51 2014 +0200

    Fix remaining UNIX regressions

commit 605748256a4e6e04ccd645489d9844dfa5d46020
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jul 19 10:45:43 2014 +0200

    Replace GLib's memory allocator with our own

commit 7647b8389296ed6e44090c85dc43e6dba6844241
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 17 21:44:41 2014 +0200

    Fix connection close logic

commit 5a28e77a45c06387dbb883d317355e9e5d024876
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 17 21:21:17 2014 +0200

    Improve the logic for ignoring own threads

commit 8850b8617cd30d25daadb3c33f2d1bab191a7e4c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 17 21:19:34 2014 +0200

    Update to the latest GLib API

commit eec7f3d2731c4460f697279a50c3411fd4bbd221
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 15 00:36:42 2014 +0200

    Update to match the latest GLib API

commit 59a65438b86c21709981622875c626e293afc378
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 13 21:33:30 2014 +0200

    Make `attach_to` omnipotent and upgrade to the latest Vala syntax

commit 5eab871ad3293a8a513dc7496c5c2ee327f39bd5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 10 23:00:06 2014 +0200

    Change license to wxWindows Library Licence
    
    This is essentially the LGPL, with an exception stating that derived
    works in binary form may be distributed on the user's own terms.
    This is a solution that satisfies those who wish to produce GPL'ed
    software using Frida, and also those producing proprietary software.

commit ab7467f3ebc4f1cc752a3bdc63db9e2a07865b4c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jun 26 00:40:18 2014 +0200

    Fix gadget initialization and session handling

commit 89a5d06f562c6502f54c9af8424f93fa95bc2e9a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 25 01:29:16 2014 +0200

    Add a gadget library for hosting Frida inside the target process

commit d7e6fa8542d0209023418e06fe5b8cce78fd64f2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 25 00:45:14 2014 +0200

    Fix memory leak in Linux process enumeration

commit e6d953add5b9a48416f35dccacb395754eebe382
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 21 21:04:23 2014 +0200

    Fix Darwin backend test

commit c0610f19563e126d9c0f5a2f03195cf0be047273
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 21 19:53:46 2014 +0200

    Add icon for the TCP device

commit c0e40d3536595b671967c0db0f37497ed05fa0ce
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 21 19:28:30 2014 +0200

    Add icon for Fruity devices on Mac

commit be2d608e447688c5c01603c644fa5c03768926a6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 21 19:27:48 2014 +0200

    Tighten up the Mac model enumeration

commit 3c12f429f5bde25efa386afd5799f266f306b3f8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 21 15:58:44 2014 +0200

    Add icon for the local system device on Mac

commit a50f151e7e9ee9764ca8bfe4efb542be905edb87
Merge: 575c52af 74f562c2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jun 19 23:16:14 2014 +0200

    Merge branch 'feature/mac-icons'

commit 74f562c2b90c9585a1e8b1dad447195b8db6252e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jun 19 23:15:54 2014 +0200

    Fix icon extraction in the Mac backend

commit e309c4fb79325654205d0be9c421f429be5d1eb2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 3 00:35:12 2014 +0100

    Add support for icons in the Mac backend
    
    This is just an experiment hacked as offline-friendly entertainment while
    traveling, and is as such untested and probably wrong.

commit 575c52afc1daaf422c58ca3e5652d837843dcfdc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jun 5 23:19:52 2014 +0200

    Make script unload omnipotent as it should be

commit 41e66163a9454fb092f58f1e94a7081d5ac8ec64
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 1 15:49:51 2014 +0200

    Add signals for device addition and removal

commit 044477c4fd1884d202f7349f20a7a2d834f313f7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 1 15:49:35 2014 +0200

    Add missing private requires to the pkg-config file

commit 1fd0ba84d938a0c966799de9e05497646c35bc39
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 13 23:48:57 2014 +0200

    Improve Linux spawn() test so it's libc-agnostic

commit 5ca0d84452e100bda9314f369de7f38de8b434b1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 13 23:48:16 2014 +0200

    Fix Linux spawn() so it doesn't skip the start of the entry point

commit f992865457f4abd79148bf01c590a777801ebdbe
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 13 22:32:35 2014 +0200

    Give the test child process a bit of time after spawning it

commit e6bda22ea991c4327d8e0b78ef3ed4bbe4691a49
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 13 22:27:35 2014 +0200

    Delay remote Linux injector cleanup to minimize impact of race-condition
    
    The last instructions need to be given a chance to run before we free the
    memory it's executing.

commit 9ff3ce436dd63e2da35580b578ed2dca4f8e3e0c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 13 22:18:08 2014 +0200

    Fix Linux injection crash on newer kernels
    
    This worked by accident, as ptrace expects `orig_eax` / `orig_rax` to be
    set to -1 if we resume the inferior without resuming the current syscall,
    in case there is one ongoing (which is usually the case). So this means
    the instruction pointer would be subtracted by 2 in such cases, and we
    could only hope for `mmap` to have valid and harmless instructions in
    the 2 bytes in front of it.
    
    Fixes #4

commit 1186f26a59ec6991adca7e1e2738672a3e33c05a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 9 22:36:06 2014 +0200

    Update Windows build system to match new frida-build-env layout

commit ceb3689b9c9ff63e1f12b650003a0839c2d6fb13
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 6 08:42:47 2014 +0200

    Add missing conditionals around Linux-specific test code

commit c0892aefdabcfff64cda1a2f6f815447c9913787
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 6 08:40:59 2014 +0200

    Simplify Linux spawn() implementation

commit 7f9bcf60bd4e9589bd9fad8852336f5c4d8e0d0b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 5 23:40:35 2014 +0200

    Enable the Linux spawn() test to see what breaks

commit 31a4d6d60f8859407cb0cdb75c519bc3abe37065
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 5 23:24:56 2014 +0200

    Improve Linux spawn() implementation so it works on Android/ARM
    
    Untested on other Linux OSes and architectures.

commit 0a34257bbe142cb5ae0cb29fca2b0685e70507c3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 4 22:23:23 2014 +0200

    Properly disable the Linux spawn test

commit 125ea7f5391bcaa4e6216a430c43e5d1efd8adc6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 4 22:20:36 2014 +0200

    Add rough sketch of Linux support for spawning processes
    
    Not yet in a working state.

commit 70b71fa04bdacc7888c6ea699080f28ff0ad10b8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 4 19:46:26 2014 +0200

    Add support for spawning processes on Windows

commit 9e36059f9c41b4b6ea27fdca2913ec464370ede0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 4 02:25:55 2014 +0200

    Relax permissions on Linjector FIFO

commit 7187f27b2d86f463bad4fe2c24b875ab5edb7984
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 4 01:49:59 2014 +0200

    Improve Linux process enumeration to use `cmdline`

commit 09ec8262e4d55f5fb925bfac9eca5059ff4601cf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 3 23:58:15 2014 +0200

    Fix syntax error regression in x86-64 Linjector code-path

commit e9d6d51ec270ee780b64312dc209ce45d56d765b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 3 23:34:50 2014 +0200

    Fix resource-compiler Linux regression

commit 8f115198235a0871a55431afdf46c579eb898272
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 3 23:34:09 2014 +0200

    Update UNIX build system to use the new resource-compiler

commit bc888f38954421030b796436e54734e56b7dece9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 3 18:27:26 2014 +0200

    Fix `.rdata` alignment padding logic

commit 5c93c0b54f1836931b3849b85d8645bde4163ee6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 3 18:15:10 2014 +0200

    Update build system to use the new resource-compiler

commit 6d5c6ae3f91cba75e95f4cfd8865b53e1936fb92
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 3 18:14:48 2014 +0200

    Improve resource compiler to output object files for MSVC

commit 877f5e233f91d45446365644e703afbeecd9e500
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 2 00:56:07 2014 +0200

    Add missing defines

commit 310591007443e3a053b517db2d8a3313446091cc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 1 16:34:14 2014 +0200

    Change Android `check` target back to running all tests

commit 3de054cb1e20f48c7a5b9c7a513abf9c2577814e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 27 02:47:36 2014 +0200

    Improve the `check-gdb` target

commit fe407a6c78f5aa887984ffe51037bf0e744dfb25
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 27 02:03:22 2014 +0200

    Fix pipe transport temp path handling on Android

commit bdb097c0375ac3b9f25beb70f240073722fa3bab
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 27 01:52:29 2014 +0200

    Simplify FIFO filename

commit 45c9bacb9dbbff52d39cd705b2e0910d1643b30f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 27 01:51:37 2014 +0200

    Put Linjector FIFO inside the temp directory

commit 32d4282e5293effc0c9d3f0cd3cd585d290f2d11
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 27 01:43:42 2014 +0200

    Port the remaining Linjector bits to Android/ARM

commit 827d215c5e8291389cebaf8080a0fc998f7f7642
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 27 01:42:07 2014 +0200

    Fix the non-`spawn()` code-path so `envp` is used

commit 0f4399c53116712079de9c45f4f05c37dccae477
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 26 23:40:21 2014 +0200

    Port most of the Linjector to ARM

commit 79d87f9dc1fd802eeee5bdabf5ece7fed291f06d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 24 08:47:39 2014 +0200

    Adjust temporary directory used on Android

commit 3d25bcef2bc112d1262e507fadb7e709a0bda670
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 24 08:46:50 2014 +0200

    Fix Linjector test harness on Android

commit 53198b7ddbbc969cd9b3b8d5447540e4ec2d8f53
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 24 08:44:28 2014 +0200

    Limit Android `unixattacker` exports to the bare minimum

commit 13cb885682fd7d2ac35694275e445a8098662421
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 23 23:28:24 2014 +0200

    Add Android `unixattacker` and `unixvictim`

commit be706478fcab3bc0625a22511cb541b9136827fc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 23 23:12:25 2014 +0200

    Revive the `vfork()` + `execv()` codepath for OSes like Android

commit 330de2e309f8d6188a67f06f016ad2b904a6fe32
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 23 22:42:54 2014 +0200

    Allow $(RESOURCE_COMPILER) to include arguments

commit 74f9dfd79ad6e3634f93bddfa9b387bb3cade965
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 23 22:41:49 2014 +0200

    Add support for cross-compiling resources

commit 19523f0d1465f3b3571797d39c3adb7d5d925605
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 23 22:40:51 2014 +0200

    Improve ARM detection

commit 26a6c7b0d0af5116cab36b4094271e7bfaa0d1aa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 17 15:00:40 2014 +0200

    Update the dylib UUID before writing it out to the filesystem
    
    This way multiple instances of Frida can inject into the same process.
    
    Fixes #3

commit b8ce952692f752367825548ad121b9382c4e2653
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 16 00:38:59 2014 +0200

    Fix warnings reported by MSVC

commit d40df0b4be43b1d43dc83821462f1eafddba04b3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 16 00:11:02 2014 +0200

    Fix Windows regressions

commit 8135c8efa8db838b372d656d9eff0a9b6d88a8cd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 15 21:48:55 2014 +0000

    Fix Linux regressions

commit c0806e90ae9ccd8ac5dbdc755be717529a3cb5c6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 15 15:36:55 2014 +0200

    Fix ARM cross-arch injection

commit 8e592aab4741137fde4eb7d8e4d2bd88e90312af
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 15 14:24:52 2014 +0200

    Fix Fruitjector cross-arch test and fine-grained OS detection

commit 2e5e624db6fc44f33290676b7320fd81bdbb7878
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 14 15:00:48 2014 +0200

    Add Mac and iOS cross-arch injection test

commit a024bc5ba491b72914ed28dca41a36df5c873093
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 14 14:59:21 2014 +0200

    Improve process spawn helper to support passing an argv
    
    Only implemented on UNIX for now.

commit e6cdf7d961ec92ce591cd94155700a482bac82b3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 14 13:40:16 2014 +0200

    Replace injection test subject sources with prebuilt binaries
    
    This will allow cross-arch testing of injectors.

commit c8153752b70cd434e7e3f7e0625641cc31098251
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 12 02:42:09 2014 +0200

    Add missing dependencies to Makefile

commit eee992f4cd431e588cda401d370e0d99d1f1d6c3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 11 21:20:56 2014 +0200

    Fix x86 Fruitjector regressions

commit 07563567a7fc1e86317e6e77ef4a155e7c14d6a0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 11 00:06:52 2014 +0200

    Fix regression in Fruitjector's ARM32 logic

commit c81bd0be6aad6b0b80296d86f801426a45a008ce
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 10 09:22:39 2014 +0200

    Implement remainder of Fruitjector's ARM64 logic

commit 459ef9ea72d2c2ffd086f1c509a9fe69e2ad6ffb
Merge: ddc2d431 8c7b13cc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 8 23:57:59 2014 +0200

    Merge branch 'feature/arm64'

commit 8c7b13ccbaa0aa99fbbc4dd279c174542bc31471
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 7 00:09:06 2014 +0200

    Add base skeleton for porting Fruitjector to ARM64

commit ddc2d431832c62cd5ffe35900dcdd0994d7f4c86
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 8 23:54:32 2014 +0200

    Avoid redundant $(builddir) based paths causing problems

commit 8e48c099d617550274b2fdda6d4356e036db52e4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 16 20:57:37 2014 +0100

    Add `subdir-objects` automake option as suggested by automake

commit b5736deae51885ad6e541ba696b9caa21ab238de
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 9 03:09:08 2014 +0100

    Improve Windows injection compatibility
    
    Fixes #2

commit 0a71027c938f5f86eb6a8ee5b93eb1cb604c670d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 9 03:07:13 2014 +0100

    Add interactive test for injection

commit 7f5119891c26b4dc0a277d0982f805008f3a18ee
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 6 00:47:01 2014 +0100

    Fix injecting as Administrator on Windows 7 and newer
    
    Making use of a Windows service whenever possible is not a good idea given
    that Windows 7 and newer have a tighter policy for CreateRemoteThread.
    We now only try the service approach as a last resort, which is when the
    target process actually is a Windows service.
    
    Thanks to markwo and egirault for helping track down this issue.
    
    Fixes #2

commit 1ddca113654ee72826fb5c19650f117c55be6a95
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 6 00:41:53 2014 +0100

    Update frida-agent filters

commit f757fe30b46c9bb9704ec8161790fc0ba6a8da1d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 24 00:22:31 2014 +0100

    Remove obsolete gitignore entries

commit c1475ac6b1772d0deea700161bd76d9c73ae46ab
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 23 22:07:23 2014 +0100

    Upgrade to VS2013

commit 9c71115402861c5a5fec390d756144c5209596ff
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 24 21:29:47 2014 +0100

    Update to the new Gum process API

commit ff77c880072e33d3a43fec50980453e1ea76ea73
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 18 19:45:21 2014 +0100

    Improve dpkg description

commit 974ec047439f456e655031c5de2654455b2931b9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 15 00:33:45 2014 +0100

    Fix permissions of LaunchDaemon plist
    
    Thanks to Memphiz for reporting!

commit 9e57b82a43f10b1e7903e548181bf9f53f0a84c0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jan 14 22:05:25 2014 +0100

    Fix injection into Mac App Store apps

commit 211fa2e8ed8c6b629d4a9c2b73845b42004822eb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 11 20:49:14 2014 +0100

    Add COPYING and change license to LGPLv2+

commit 543d1c1bb2fecb6e69f915974774cc7bd18eb111
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 3 14:43:51 2014 +0100

    Fix pipe read/write error return value

commit 9c2a6f5b91871e78b562ef0ab9f863b2c690b433
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 3 14:43:15 2014 +0100

    Change stalker poll interval to 50 ms

commit cfe13f41f4fcb4aed15f9861d3363b591993ce46
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 3 14:42:55 2014 +0100

    Tweak close delays

commit 1d91c684a6c0f4730fe6f25e9eb676ccc1c3e40c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 3 13:57:28 2014 +0100

    Improve shutdown
    
    - Wait for stalkers to finish garbage-collecting
    - Let the async close() return early
    - Reject requests during close()

commit 88c95f664abbbaf95442e7a3d55bec76b41132b4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 31 11:29:31 2013 +0100

    Add remaining essentials to the iOS packaging script

commit cd30f175c645cb24947e156697a86194b7f77d9e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Dec 30 23:12:20 2013 +0100

    Add script for building frida-server iOS package

commit af01af8dbcb80b7ef0cc23246e330fa34ce97f7c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 24 17:29:40 2013 +0100

    Fix unreliable injector behavior
    
    The optional function pointer was not initially NULL.

commit 78691da2b5a8f0690b9f732f2e71760e94bd9259
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 24 13:17:52 2013 +0100

    Limit Darwin spawn test to 64-bit for now

commit 7fe8a429d6b6e11cbd254aa321c29c48431316df
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Dec 22 23:13:25 2013 +0100

    Limit Darwin tests not yet available on iOS to Mac only

commit 37c443a55f1ac7a5f379cfc44f07f9dd664347ee
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Dec 22 23:12:04 2013 +0100

    Adjust `check` remote prefix to match that of frida-gum

commit 5ed9054c34bf7eb5e299e399b65c2916edbb6bb6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 3 21:03:28 2013 +0100

    Fix Fruitjector on OS X Mavericks
    
    The legacy cthread_set_self() API is finally gone.

commit ea23bd3acfc0b8e145aa8f70116d67619a143bfc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 22 23:04:45 2013 +0200

    Improve ARM detection autofoo

commit ff7c4ebc166237b5638319d2eeb28bd848ea1de1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 17 00:42:53 2013 +0200

    Exclude frida-agent from stalking

commit 30bb74897e09fac672fa0ebd9f77468f369f8e2b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 26 02:23:49 2013 +0200

    Fix Vala-declaration of Frida.get_main_context()

commit 865282d4bc0ec9872b13568173b655f5b79f76c5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 23 02:17:57 2013 +0200

    Only depend on udis86 on x86

commit 428580af9f06d5bcfce74f51bf21020616e7ca6b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 23 02:05:45 2013 +0200

    Fix frida-tests linking issue on Linux

commit 35ef39354182252a6a4e253c6bcf3fa0982584bb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 23 02:05:33 2013 +0200

    Remove symbol export regex
    
    Frida core is a static library for the time being.

commit 624e16f90b5ec0c9f01f3e7619f1c66fe55f36f8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 23 02:04:52 2013 +0200

    Add proper dependency on udis86 through pkg-config

commit 03c2a0af28168601ebcc5042b39d899d54e2b8ba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 22 00:23:12 2013 +0200

    Improve API generator to also support enums

commit c31b0613e9e9f5e7342716863deb8bd46ba10f9e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 21 20:35:26 2013 +0200

    Add icon property to Frida.Device

commit 1f97d76e7b54cdf79171c4ce9d7684ead603abe0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 21 20:35:07 2013 +0200

    Turn Device.kind property into an enum and rename it dtype

commit 4488a39799cf084c04f379f75c9f58d105e4cb2e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 21 00:41:58 2013 +0200

    Avoid startup delay for systems where the fruity backend won't be able to provide anything

commit bf2df3bbd38d3aa1d32573b436c0521dfdf9a914
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 21 00:00:21 2013 +0200

    Revive the Windows build system for frida-server

commit e2db21d605b9ee557e00831f4574d1fdc967ce1e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 23:49:20 2013 +0200

    Add freshly compiled attacker DLLs with new entrypoint name

commit 6623a665802ed7fde7cb14b2e304e264e9e7ccb2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 23:48:50 2013 +0200

    Adjust buffer size for entrypoint name string

commit a4e3cc6a9fb5217f4b05828083428db9b4bd2564
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 23:48:32 2013 +0200

    Adjust labrats path calculation to new directory layout

commit 1b9b67d4855f430aa3ef5047981561c6368f5434
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 23:47:36 2013 +0200

    Improve shutdown of winjector-helper

commit 49e2ba70fed5aebcc2b9ee8fea3005d7936fe10d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 20:27:08 2013 +0200

    Add a helpful debug message when the primary Winjector test fails

commit 0d24ea07d64446ea1e53e93ef065fac01bf2f73f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 20:26:41 2013 +0200

    Fix warnings reported by MSVC

commit 236359c3b86e28f7e98a807eeef26bec09be145c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 20:26:31 2013 +0200

    Fix Windows build regressions

commit ab0af01e8de418e3cd257235c21cb0a88815112c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 19:12:34 2013 +0200

    Revive the Windows build system

commit 32fda5ceab955293b02dd98da54ff12d553c14df
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 19:11:40 2013 +0200

    Rename resource compiler binary

commit 82a44f38f58098e223620b02b788ee85f417d630
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 16:56:13 2013 +0200

    Remove legacy build system leftovers

commit 66f171e88bd2f50a87ed3c3b7099358e722a3489
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 20 16:11:54 2013 +0200

    Allow calling frida_init more than once

commit 6a0988bee5903e7d764e62b0be088700fd4daece
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 16 23:01:08 2013 +0200

    Bring back frida-server

commit bc910b1f5934fcff6293fdbbb61735a24daadfbe
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 16 01:15:08 2013 +0200

    Make it possible to override the path to the helper binary to be linked in

commit c7eeb123a0736b9050032b5be9be9fd6096465d2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 16 01:14:47 2013 +0200

    Fix iOS xcent path

commit b3c401aef79a5aa63354aec3136812914feb5088
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 16 01:14:15 2013 +0200

    Don't install the resource compiler

commit a81ed29454e7aa844611a1e3b7c8e843f731d6e0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 16 01:13:59 2013 +0200

    Don't install the agent
    
    This is very much legacy stuff. It is linked into frida-core now.

commit f169eb45ffec08426658d108fec104760ef8be51
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 15 02:30:45 2013 +0200

    Add G_BEGIN_DECLS and G_END_DECLS to generated header

commit ff4740d17565b69297e616cef8645268fb7a86aa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 15 01:57:15 2013 +0200

    Add GType and standard boilerplate macros to frida-core.h

commit 764b7c5ddfa32e0be340eb3f1754ba515fbb4703
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 15 01:56:54 2013 +0200

    Add frida_shutdown() when two-stage deinit is needed

commit 02657824e93efb3497691fe4da40df256868e230
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 15 00:24:56 2013 +0200

    Generate and install deps file

commit 1459d91460bb22e467dcf95afc78b7d21433e931
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 15 00:06:28 2013 +0200

    Install vapi and improve API generation logic

commit ae14ed115c92236cd6309b843234d92c5a8b9741
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 14 18:14:59 2013 +0200

    Fix pipe creation issues on Mac/iOS
    
    The helper process obviously needs to be the one creating them, as it is
    the only one likely to have the required permissions.

commit d3b8b8e20d58be35e2dd5a89a8e33aa9a0cf91d6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 14 02:40:50 2013 +0200

    Fix silly screw-up in the backend linker flags setup

commit 9a45d8d4953a31f6eb5a944d958cd67f85d4ede8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 14 02:25:30 2013 +0200

    Improve the API header autogen script

commit 9cf8c7c47d8576046902f3f739aac1e672be391d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 14 02:25:17 2013 +0200

    Add libs for static linking to the .pc

commit 98a88e01a374e527c7a600dbdb14a4e3d5731791
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 13 21:46:49 2013 +0200

    Improve the spawn code generation to avoid crashing in 32 bit mode

commit dabd7f564ea626bced447bd7b09c54154f29f47a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 13 20:20:01 2013 +0200

    Fix iOS build regression

commit eaa2fc78cb8f54aeebaf32304f72b68b4117f656
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 13 20:06:21 2013 +0200

    Install the resource compiler

commit e54b48853837a8329f1cf805d14a2071af9e6ede
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 13 19:58:01 2013 +0200

    Remove special-casing of path to resource compiler

commit c2ff2b62b34fbb3803701b73a1771865bae72eaf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 13 19:29:38 2013 +0200

    Add libtool tag to fix compilation on Mac

commit b84c8e137153b6fb9345b614a56c7f1f73642fbf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 13 19:20:25 2013 +0200

    Depend on frida-core-1.0 instead of gum-1.0

commit 53ffcf039195205ca8e41828e110e897dedee881
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 12 22:09:17 2013 +0200

    Fix build order issue for frida.h autogen

commit 7a5d9249448cbdee59be7533102005891df0d758
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Thu Apr 11 00:51:40 2013 +0200

    Update after agent API change

commit b46810064023edea3e9c05ac0eead8dc3d7863fd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 10 01:34:54 2013 +0200

    Generate and install a trimmed down public header

commit 2aa641b08c98355c9dac06d1d08866b348e64943
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 10 01:33:14 2013 +0200

    Add glib, gobject and gio to the .pc requires

commit a710ff7124885e473f8e0ee0f3bf0f17826c39c7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 10 01:09:17 2013 +0200

    Disable building of shared libfrida-core
    
    There's no point in building a shared library.

commit dae17766c1ecc104e4a314c23d6613a151d73062
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 10 01:06:20 2013 +0200

    Add init and deinit and drive the default main context behind the scenes

commit 3c7eb8ba6f6f38bfa6e59b40b2e2383e46a1fc75
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 10 00:26:41 2013 +0200

    Improve the public API to hide more internals

commit d4a399170d7c26c3aff76848e40806f490bddcd6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 9 01:52:15 2013 +0200

    Fix build order

commit c94cd508a55e383014143a33297bea2f366ee281
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 9 01:45:18 2013 +0200

    Install header, .pc and libraries

commit 736b475e07059b7654c50a411eaa19816991c509
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 9 00:58:31 2013 +0200

    Fix circular dependency in fruitjector helper build logic

commit f01ebbb71422bcc61abbba9493aa5d7a6f6d93d2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 9 00:35:44 2013 +0200

    Remove the server
    
    It does not belong in core.

commit bee53ab45070fb504da83134ec04c4e757320307
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 9 00:14:30 2013 +0200

    Flush main context when closing the injector harnesses

commit c3a6af4124c5585bdf8c4a24471f47c36265f83a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 9 00:06:39 2013 +0200

    Remove usage of non-default main context from tests
    
    This is not a good idea because of an issue with GDBusServer, or actually
    GThreadedSocketService, which constructs a GDBusConnection in a thread
    pool, and GDBusConnection gets constructed and stores the thread-default
    main context, which is always the default main context in such a thread...

commit cc58a584dd0fb90657cbf35f8e0c990294d6d347
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 9 00:04:20 2013 +0200

    Improve fruitjector robustness by handling disconnections and doing proper cleanup

commit 68083bdad219a81ea076235b78afa99e48d4eca6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 9 00:02:50 2013 +0200

    Clear reply port after spending the send once right

commit 8a3ae7699a0290b4752d7af9d4bf3d1977e5d8f2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 8 02:18:40 2013 +0200

    Improve teardown of fruitjector

commit 93a7eb30ac5ecbb25cb8cd0c79f41e2be0c593fe
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 8 01:46:55 2013 +0200

    Fix initialization of fruitjector helper service' context

commit 1e84b4e061e6af8305b41f988e4bef1f74543cfe
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 8 01:46:40 2013 +0200

    Fix code signing build order

commit bc217a1c19a062dc141d11734999d1670b471c2f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 8 01:26:06 2013 +0200

    Add most of the remaining bits for fruitjector to work

commit aac8f3d981a4c803042b7ba3a9209594e8dc4440
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 8 00:23:51 2013 +0200

    Implement spawning of the fruitjector helper

commit ebf5cd725fb396c14aaa1646d471e22c0e85175f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 8 00:23:27 2013 +0200

    Improve error-handling in the darwin spawn implementation

commit 91ce2c18ef57e37b6888138c8317f23aca96da01
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 23:44:17 2013 +0200

    Update gitignore

commit 579b06c24ff1b29449187637d7d819f051cd9355
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 23:43:15 2013 +0200

    Improve teardown of winjector helper

commit f686b89a30871e305e97163ba40978fd9613d8c1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 23:42:57 2013 +0200

    Bring the fruitjector a few more steps back towards life

commit 1fe936d6d3fce0e68b5b07a7af25596951b0e0ae
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 19:26:48 2013 +0200

    Improve the fruitjector helper

commit 4fe766b391da5176e7f23a1d931a6db62213323c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 18:24:10 2013 +0200

    Remove left-over echo statement

commit 88160b6cc1925e7428c0b3def9dc20bf2a5a97da
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 18:23:59 2013 +0200

    Add more build system for the fruitjector

commit 89acf4c8901b6e1d1d6c00eb37795d747b896248
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 18:12:27 2013 +0200

    Update gitignore

commit 89913612d488e8a1caab7328294a3d9277ba81db
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 18:06:17 2013 +0200

    Strip down conditional build options and start putting Fruitjector data into place

commit 434d279f5286e82843883a3d343ded2da90984e5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 17:11:04 2013 +0200

    Start refactoring Fruitjector to having a helper process doing its work

commit c600c7c812111f49744fa8e25feda0b65e4f9097
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 15:35:33 2013 +0200

    Improve the high-level API based on lessons learned from pyfrida

commit e7835f81eb9b0dd2abd35a01d060d54a93b6b549
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 15:20:41 2013 +0200

    Refactor the high-level API to have both async and sync support

commit 42d3a101cef38d9c971ec3594456713178520e03
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 14:50:37 2013 +0200

    Update gitignore

commit 57853cae4323a118b92e73b3bb002497f780bc55
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 14:49:31 2013 +0200

    Start consolidating temporary file handling

commit 5bdc725b79485cebcb5f9ca7df28e55697b6d078
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 14:48:17 2013 +0200

    Implement kill in the Linux backend

commit 1982674b71723bdcc2490e8c28444d5721bc0e20
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 7 01:55:59 2013 +0200

    Fix out-of-tree build issues

commit 15ffc215fecce6160bcd5d7648810d80ccf841d0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 23:03:56 2013 +0200

    Fix build by #ifdefing platform-specific Vala code

commit 0a9d59437424c8a340adc9b8d8bad8b3feec14ce
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 22:28:00 2013 +0200

    Update gitignore

commit db94d429f4f750056ce19a2e86735f10bceb9ea8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 22:02:19 2013 +0200

    Improve the build system

commit 101d7c5b6f1624ab352b3c824a77a47e406bb56a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 22:02:01 2013 +0200

    Update gitignore

commit 0e46361ffe20db17c334eb1515d91a78e33222d3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 21:45:31 2013 +0200

    Explicitly set an aux dir to avoid unreliable autofoo auto-detection

commit 65fcee7d793118234c9595dbe00833269510f1a1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 21:44:31 2013 +0200

    Don't launch configure from autogen.sh

commit 588aee84d9e373f76a82885fb7a814e88409f737
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 21:42:29 2013 +0200

    Rename libgum directory to gum

commit cb318726a13a2ad428bdce51c907827f4109bcfa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 19:16:24 2013 +0200

    Improve toolchain build exclusions

commit 8ba705e6660f932287219198ce101629babd2884
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 18:49:11 2013 +0200

    Fix toolchain fixup logic

commit d3ec824b5752a7917ae91e9ba6ecd2f0a639288e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 18:43:29 2013 +0200

    Bump toolchain

commit 7534308c82bdd5a21ef4b42a7e632c0181678ae2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 18:43:25 2013 +0200

    Fix toolchain filename

commit a897c61658e59841ff6d7fabfbe88c62372057eb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 18:26:39 2013 +0200

    Fix PKG_CONFIG config for toolchain build

commit 0c1c4fd62d348fba84bec24b1eb2937ef7db0a4f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 18:19:32 2013 +0200

    Update gitignore

commit 23b2e921e3d40b8c9f17240f65d85318796cf354
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 18:19:08 2013 +0200

    Add pkg-config to toolchain build script

commit 410ebebe79133260517970e89e44502a9da214b6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 17:59:01 2013 +0200

    Move build directory back

commit 3115d5c1a6abb0cd7c31da311b9200186d79d16c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 17:56:41 2013 +0200

    Fix syntax error in bashrc

commit d5943883f4523993568ebd009772f6bc20cb3eb1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 17:52:29 2013 +0200

    Update gitignore

commit 5ed246df113d3c29f9d219dc673d3afde1b3d675
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 17:51:52 2013 +0200

    Move build and remove JHBuild support

commit 88d42fb4feec66f4bd14b7c83e2f6e894485c3e9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 17:44:03 2013 +0200

    Update expand_target's mac64 constant

commit ada3e3dd884120f43f6f1b95841710115d30570c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 17:40:12 2013 +0200

    Improve build-deps script so it builds the toolchain from scratch

commit e536a856fd6ddd5684de460af9653d12032a9658
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 15:49:39 2013 +0200

    Add gitignore

commit 99e38ec3bc1c8f8f9bae370f67742a6ac16b8205
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 15:39:39 2013 +0200

    Rename left-over references in Windows project file

commit 1270c93eb16f2386d7eb96bcd3e63eb54dfe7826
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 15:32:10 2013 +0200

    Fix basic build issues

commit 4f2bcf3d8378ca8ae3217978aa8cd72a8139ebec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 15:20:42 2013 +0200

    Rename Zed to Frida in .xcent files also

commit 36648054c71250a421d38489e16c7314cedea27c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 15:14:10 2013 +0200

    Rename some left-over zed names to frida

commit d57c09ad08f9d009f4f125447793b63bf83632e0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 15:11:09 2013 +0200

    Rename left-over zed names to frida

commit adeb0208ea065033ab9d3610bfa2fb366ff894f1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 15:08:01 2013 +0200

    Move system glue and icon helpers

commit 386055c8843a7de8e1809b9ce2b9d8112bf3e91a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 15:00:17 2013 +0200

    Rename zed to frida

commit fe490dd80e088d58db21f9ac103c95462823e1eb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 6 13:43:13 2013 +0200

    Start reworking the structure

commit 45249b0a2e33622b836c51ca86f6be09c8f4af73
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 21:15:47 2013 +0200

    Remove retry logic when stablishing an agent session over TCP
    
    There is no longer a race condition since the host session is the one
    listening.

commit 6d856b6bed0969a60d986ad5cfd3dc46c9258379
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 21:10:33 2013 +0200

    Replace usage of get_proxy_sync with the async get_proxy

commit 652ae24c3d34b925556391bbd933f0bd73a8f3b7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 21:09:39 2013 +0200

    Time out if establishing an agent session takes too long

commit 065cfdda9bb9a3b2a6717a5bda43c3c66ff7b7a3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 17:01:06 2013 +0200

    Improve robustness of Mach port allocation logic

commit 932ba1f139e393f786f9a0ca905edd45263069ed
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 15:59:03 2013 +0200

    Improve the Linux injector to support injection into pthread-less processes

commit 899d85b4ae83e3c7809cb71f07f578f88b10ca3d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 15:58:34 2013 +0200

    Update LinuxHostSession to the new API

commit 73a3b87b55c3699d819acf36f3915a8c71cf8448
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 15:57:54 2013 +0200

    Add a POSIX backend for zed-pipe

commit 5c7b2f190f6f2e1e28ea804bb935549e08a58ef2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 15:57:15 2013 +0200

    Add autotools build system for the pipe test app

commit ccc715d3c8847867924f250ba2d6e7845a54138d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 15:56:25 2013 +0200

    Improve pipe test app to handle EOF

commit 6a2086d591b7143feb9ed9510f58896d21ac4371
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 01:54:43 2013 +0100

    Lower shutdown delays and improve cleanup of temporaries on Windows

commit ec6fb96144e1df9ad7bd5fa0394a34b04f5ba70e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 00:38:21 2013 +0100

    Fix injection across session boundaries
    
    We simply detect that the session id is different from ours and try the
    stealth injection technique.

commit b8f369bf5be1c6a86ffb134625f547a369601c1a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 00:37:14 2013 +0100

    Update project filters

commit 139bfbc86589e53497818f01ce705a1a285b4ba6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 31 00:07:55 2013 +0100

    Fix remaining pid type refactoring

commit e9d001e6d5759dd04b969a5c113962442b7dfa85
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 30 23:58:52 2013 +0100

    Replace winipc with zed-pipe/GDBus and refactor a bit

commit 5549433d3b75c9d7d732a4fe48f71c800037b4ba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 30 17:08:57 2013 +0100

    Add an interactive test app for zed-pipe

commit 03c220f179053a6fae38dbfef66fd82ecd941ccc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 30 16:33:09 2013 +0100

    Fix pipe permission issues on Windows by making the pipe world writable

commit 1cf289c76af98d7d1ea4f3d39751a07d7f9bd4eb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 30 03:05:59 2013 +0100

    Fix Pipe mach backend regressions

commit e0e29830473c9e65251e65ee1d521c2e0c898c0e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 30 03:01:07 2013 +0100

    Complete most of the pipe backend for Windows

commit 9d1c8eb2e5e75464f848b86d477668adbd114f8e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 29 21:45:34 2013 +0100

    Update WindowsHostSession to the new BaseDBusHostSession API

commit 174a21fec2eae770757f743ca8b0f8e81a42a3d6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 29 21:44:16 2013 +0100

    Fix winjector tests on 32-bit systems

commit a772ee402fe3fe2dfdbf842a6e8f59392870c046
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 29 21:43:37 2013 +0100

    Add boilerplate for a pipe backend for Windows

commit 94534affb0e3c29199cc1ce3537eb8bbc45b2169
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Mar 29 21:42:45 2013 +0100

    Add Windows build system for zed-pipe

commit a6b225d2e05834e634309c967678a39820a0f472
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 28 20:58:17 2013 +0100

    Revert a left-over change

commit 7d835662f3dde86d708dd8486f8fc23de632dffa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 28 20:54:35 2013 +0100

    Revert the Fruitjector API changes

commit 1a98c76daf665fcd4805063a9c45ffc0eecb42b4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 28 19:58:28 2013 +0100

    Make cancellable optional in the Pipe mach backend

commit ddd2508eae2b49d53d262899528eaec5f2833324
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 28 19:44:17 2013 +0100

    Fix error reporting in the fruitjector

commit 8126cc207080ad50185f70097c7f8c7ce24a2528
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 28 19:43:51 2013 +0100

    Fix the agent test regressions

commit d55b8d73d78b2a541cda6f38cdc17166648996d6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 28 19:43:04 2013 +0100

    Improve the Pipe mach backend and allow instantiating the pipe transport

commit e626ef954204100f715bda2b27287a6c8d458c04
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 28 01:21:51 2013 +0100

    Improve selection of temporary directory for the agent on Darwin
    
    When running as root it is preferable to use /private/var/root as that
    directory is more likely to be allowed by sandboxed daemons.

commit d0ea0281d47029ae36258a64a8751fe347fff05d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 28 01:20:17 2013 +0100

    Port the Darwin backend to use the new Pipe transport

commit 2bc48e675bf045a329a8675fcbf8018e3905eed1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 28 01:16:23 2013 +0100

    Port agent to use Pipe as its transport

commit 0827aece8a79073f7802da6280ade6f1da3dc362
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 28 01:15:16 2013 +0100

    Add beginnings of an IPC helper library
    
    This will use a native transport mechanism in order to avoid issues with
    firewalls and sandboxes that trip on TCP (even on loopback).

commit 6d08487d7a8e79c6ac5506c5707cb6efeedf082c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 18 02:12:54 2013 +0100

    Fix argv in Darwin spawn test

commit af69a64b2da3eb611b490eb28aac7ad5e5c809a4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 18 00:46:32 2013 +0100

    Change Darwin kill implementation to be a bit more subtle

commit 5b76d8a7d31e47e2009b26bacc37747838c1df1f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 18 00:31:08 2013 +0100

    Complete the Darwin spawn() and resume() implementation
    
    Also add kill() for convenience.

commit ea4f20cd57787311032d9584198e829677229822
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 17 18:16:21 2013 +0100

    Advance the Darwin spawn() implementation closer to something working

commit 2b5367bc98ca9d3b03d915255ca8dbbc2a41b010
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 17 18:14:59 2013 +0100

    Update Fruitjector to use the new Gum API and clean it up a bit

commit 36939e3eccdbc55e7e5d260cf876a88836f7f375
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 17 01:21:11 2013 +0100

    Add spawn() and resume() to HostSession and implement partially in Darwin backend

commit e334f57387b1b80fdaa6024625e63d8e1af00689
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 9 18:42:28 2013 +0100

    Bump Mac and iOS SDK versions to get carbon-free GLib

commit c1b8c233385a3cfb20c49d23858d8ec02265cec2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 9 18:41:56 2013 +0100

    Adjust GLib build config

commit 27608d0bf32efebfd91d42c47bdee01fcc5ff1fa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 9 18:41:46 2013 +0100

    Allow setting ZED_TARGET_PID environment variable for overriding target pid

commit a2fcecf70a336722d1da75c35f845c138a3418e0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 9 18:41:28 2013 +0100

    Trim inject victim down to a pure libc app
    
    This way we'll catch whenever the injected agent depends on things it
    shouldn't, like CoreFoundation on Darwin.

commit bbc5188b2415435ed5229ddfac8f81bd9b71bce4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 20 21:35:39 2013 +0100

    Add Windows project file for pyfrida

commit d30e78ac53ce9c5013c2dbc6caaff47cb5234476
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 13 00:56:39 2013 +0100

    Update the Windows include directories and preprocessor definitions

commit c43f689d829abfbd1d3cad3616ab9494c61f31d5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 13 00:56:17 2013 +0100

    Bump SDK/toolchain versions to fix build issues

commit dc62b51fc839d3db579187f4b6c894c8d93705e2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 12 22:41:32 2013 +0100

    Update agent tests to new Script API

commit ff4f522cf43874eaeb0575fab5a93e56d5785af9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 12 22:38:54 2013 +0100

    Improve build script

commit 851af489ce711e5d64ad25e9308e98b140910de7
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Mon Feb 11 22:32:22 2013 +0100

    Bump SDK version

commit 06949540d1ce3f157d8bcfa1b9e1bed4f01379f2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 11 22:19:39 2013 +0100

    Fix SDK globbing

commit 5d7b36f2d874d5f025e6f980e0ae15ab101320c5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 11 22:12:52 2013 +0100

    Add lib/arm* to the SDK whitelist

commit afa5361973324e72b85d023a33a80705484d4aa1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 11 22:10:24 2013 +0100

    Add lib/x86* to the SDK whitelist

commit 7c8b8f192c166582afe3d0435fbcaed81229108c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 11 22:01:43 2013 +0100

    Add libffi* to whitelist for inclusion in SDK

commit 138ed4e56358ab350bd8ce7e6fe8bc73bb07fe90
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 9 16:58:22 2013 +0100

    Bump Windows toolchain and SDK versions

commit a0283dbad488b7fda698765aa97e2b53cea44419
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 9 16:47:22 2013 +0100

    Build v8 with GCC on iOS for now

commit 4f352beec428ef5efbbceecf5ee58f4fa5171965
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 9 16:47:11 2013 +0100

    Update toolchain and SDK versions

commit b33a886088fabc4c226c5c9ef49773e9d8702d1b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 9 16:39:45 2013 +0100

    Update config.site to match glib-2.0.pc changes

commit 777a65d6ad13fef2f16073278b25f906064ebbba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 9 16:39:15 2013 +0100

    Fix the dependency build script

commit d26a44de6af72fbb0161f8e65fceed25e80dfc43
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 9 13:14:01 2013 +0100

    Add a performance test for agent script data transfer

commit 9ebf57903cd965d9724172aa23c24b90b1ea0255
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 9 13:13:40 2013 +0100

    Change Mac linker from ld to clang

commit 59954f3cc22e7a4582c4b32eedbe7e2b26f76fce
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 8 22:43:12 2013 +0100

    Switch mac32 and mac64 targets to Clang

commit c4d0f4a631df37767a75f6a1b6bb6c535e552683
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 4 23:41:46 2013 +0100

    Update iOS toolchain and SDK environment

commit ddd60f39fa742df1bae40ed07a7ddab5b336c4ec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 4 23:41:28 2013 +0100

    Default to resource-compiler from toolchain on ARM

commit 0ac6d3f46efd4cf95494530bcf9d9d6ed96af8ee
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 4 23:40:24 2013 +0100

    Fix bug in Fruitjector error-handling caught by Clang

commit 4bdfab6af926b316b66726fa3edf96ac87a527cf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 28 01:54:07 2013 +0100

    Bump iOS SDK version to 6.0

commit 1b7fe46498ff26128823fd0b5f0336db2ffb9a72
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 12 14:02:19 2013 +0100

    Make pyfrida functional on OS X by copying cloud-spy's bundled server approach

commit d7db4a2ff791632c35a2c3f52bfac8841370e4bf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 12 13:57:50 2013 +0100

    Fix pyfrida linking on OS X

commit fc46b9b6c93443bf7c4bf7e8940fe91af9beb237
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Sat Jan 12 02:21:38 2013 +0100

    Add initial binding for session manager

commit 75d09e6aee39a72b3d6c84e12697be3ce96b4da1
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Sat Jan 12 00:53:39 2013 +0100

    Add skeleton for python bindings

commit 8e20510c00323ecbe4882124dd3ccd68baa7d27e
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Sat Jan 12 00:20:55 2013 +0100

    Add detection of Python interpreter to configure script

commit 43e7529d0ad41206e57aad6790bb7712a83674ec
Author: Karl Trygve Kalleberg <karltk@boblycat.org>
Date:   Sat Oct 6 23:43:00 2012 +0200

    Add workaround for bug in Vala 0.14 compiler

commit 6fd049ad663af37a306b26f138550ee1535a6768
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 15 17:52:12 2012 +0200

    Don't build Linjector test if local backends are disabled

commit b3362dccbf59a4799956c8d12360e5ae94870200
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 15 16:48:53 2012 +0200

    Add a simple Linux host session backend

commit 48a4683d9c0827a89d77044127f02584ab0bd975
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 15 16:48:04 2012 +0200

    Add missing bits to make the Linjector operational on x86_64

commit 7c6bebfd5844cf9a463bb31cc5231a8df498b7ae
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 15 16:44:54 2012 +0200

    Make resource-compiler's asm output compatible with the GNU toolchain

commit 6efbd53c0e1a5fc83463ec1e4a86d9b086a5cff3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 9 19:48:48 2012 +0200

    Start reviving Linjector by replacing skeleton with Fruitjector code

commit fcfd664fc633096f5acbde89b122867b5771f55c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 9 19:47:51 2012 +0200

    Disable Fruity-related code on Linux

commit 8d17d8af1140f40749c9837ad7f6df51d4a2acf0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 9 19:46:50 2012 +0200

    Add an explicit libtool tag to fix Linux build

commit 6764bb318f8390c87c574681b96230c8b22b3841
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 9 19:46:25 2012 +0200

    Fix build-deps.sh install steps for V8 on Linux

commit 9c3037ae60c2f9df1e2a233b09aebae9af62c735
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 9 19:45:45 2012 +0200

    Omit .const from generated .S for GNU toolchain support

commit 5a44357b17af9e1e657e7b850a1b2310ecb7c58a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 8 21:22:20 2012 +0200

    Fix CPU type detection on ARM

commit 048b495e21c6c115c5c0b50c057585eee63dbbbf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 8 21:21:51 2012 +0200

    Update Fruitjector test to reflect new file name

commit eb3bbb701f4c0eeeeab800f4c5b4ff4492f9ba76
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 8 21:21:25 2012 +0200

    Sign inject-victim on iOS
    
    Also make sure to replace signatures.

commit 68f84b24135523a3babaed0ae535ba7816e5684c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 8 21:19:08 2012 +0200

    Use rsync for transferring files

commit f913e5436326e06a72102824b8f66d1254f7f68c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 2 00:23:13 2012 +0200

    Fix warnings reported by MSVC

commit f2ab63d5e6fd4949f128d6d46cec3470f006551e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 1 23:38:08 2012 +0200

    Adjust Linux SDK versions

commit 2cc4ba90c209103c01090aa075707c2756f8ce85
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 1 23:35:33 2012 +0200

    Inform Interceptor about internal worker threads
    
    Otherwise we won't be able to spy on read() without GDBus' internal
    worker thread creating a disastrous feedback loop.

commit f3d90b503968e32ac3596151d29c808e145985af
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 1 23:30:10 2012 +0200

    Improve build-deps script to handle building Linux SDK

commit 3cf2f662b637860526afc9b19a3c9b4bfd6f294c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 1 23:29:28 2012 +0200

    Fill in some blanks for the Linux environment

commit 1ea9b035705eead10b9f6a4d11d76dd71bdaec32
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 27 18:32:28 2012 +0200

    Improve Fruity client to handle socket closing while reading

commit 008ab56c167572e7d05230a1653ae6246776e90f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 27 18:31:09 2012 +0200

    Make zed-server's idle timeout configurable

commit 81159388bcf993772e727450681f9e1221b7dbba
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 27 00:18:05 2012 +0200

    Bump iOS SDK version

commit e4a7ba674cdd1d284be2a97f0d016043ab916595
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 27 00:03:31 2012 +0200

    Make it possible to override which resource compiler to use

commit 15d9d5aab50d783665ea0c1ac5831f7a827c01c3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 26 23:54:04 2012 +0200

    Tweak v8 build procedure for iOS

commit 0e9fac86be3da2e7341742239426a4dcc657a83c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 26 21:10:06 2012 +0200

    Add support for building v8 for iOS

commit 676e29d12a0eaeaa5bcd2458da5a3c4ddafaf437
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 26 21:09:52 2012 +0200

    Update iOS build environment to support latest Xcode

commit f5578c07d50b1579cfb66b7759807fccfdd9d590
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 26 15:15:23 2012 +0200

    Add missing preprocessor define to enable local backends

commit a5e971b8fed6a2db754d6614751c9628257463a8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 26 15:02:05 2012 +0200

    Fix Agent test failure with optimized builds

commit 0c5cd683870ada33ac43b4a4c5570a6f915b9219
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 26 04:49:19 2012 +0200

    Bump Mac SDK versions

commit 25d82c1eee99e9063fe259b121b8f2355cd19bc4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 26 04:47:20 2012 +0200

    Update v8 build script

commit f721a1cfc54e83ca4ee0013fd5bbb08d2fb92790
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 26 03:34:02 2012 +0200

    Upgrade Windows SDK

commit fdb59468ac4f032a0fd3f9c92fe06c6412ba6384
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 25 15:39:49 2012 +0200

    Rename OS X references to Mac

commit 119fb785d2450f4f012df91973e2aff8c1c3f921
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 25 15:06:23 2012 +0200

    Rename osx{32,64} to mac{32,64}

commit 1d0062a73e8ba55cd89c936c6245375fe7e9c36f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 25 03:45:31 2012 +0200

    Upgrade libgum and bring byte array support to cloud-spy

commit a455861bc3def13be982a6d76a713dcb7e9aef33
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 1 01:58:32 2012 +0200

    Bump Windows toolchain and SDK versions

commit 8b5f6403abc438a0e13aee5c99f0d12ce9381197
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 1 00:42:02 2012 +0200

    Fix Windows build regressions

commit 9b96de4f4e27af19d968c8fd29d5bde05efbb262
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 30 23:13:02 2012 +0200

    Adjust code-signing parameters for consistency with Developer ID

commit d2400ed3074cb445e70e445f58a108a59076b86a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 30 02:27:38 2012 +0200

    Fix silly compilation error

commit a586385d9b6049d84600d9c37fe4429b5f0994d7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 30 02:25:41 2012 +0200

    Add configure switch for disabling local backends

commit 8697cbce609068a5df76a1590094c529d2d39df2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 23:58:13 2012 +0200

    Make it possible to pass a server address to TcpHostSessionProvider

commit dfb2ba5cbff3f43c9044e1a0a400d99a26addcb4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 23:54:56 2012 +0200

    Allow zed-server to accept a listen address in its argument list

commit 771cd5bb788b9708ea860b5318d5679bb0cd855e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 23:53:49 2012 +0200

    Make timeout constant a bit clearer

commit c4f2dc7417b1b6fa69361536cc935d49ce4f1669
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 23:53:28 2012 +0200

    Improve BaseDBusHostSession port allocation
    
    Should at least check if the port is taken. This is obviously racy but
    better than nothing.

commit 3a017afea8b71f43de1f2ce1baafe5d2a1ce4c51
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 23:51:04 2012 +0200

    Make sure Fruitjector cleans up temporary .dylib files

commit 0167b2ac8c6be6272ef09a41f93e457a1ce6cf64
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 20:21:58 2012 +0200

    Link apps against the Obj-C runtime
    
    This used to be the case implicitly because Gum depended on it.

commit 4bee907829bc9d17b179dda69cffa679e76ca8d4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 03:07:50 2012 +0200

    Fix Fruitjector cross-arch handling

commit 01fdd03a1c24894ce0869e18ea11772a7be4c30a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 01:18:06 2012 +0200

    Add assembler tool to the configure script

commit 16e65b2c7d138ef3b35addb3d0d57898e61b4bd5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 01:15:08 2012 +0200

    Don't replace code signatures
    
    Otherwise it will leave the build system needlessly being in a dirty state.

commit d8975b3d6117288e336e0331f4c663add6f86f2f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 01:12:29 2012 +0200

    Make use of new resource-compiler asm support for the agent

commit bbf4f4f4d0605c80ac4e2ea2a1959c4f9be47ce1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 29 01:09:53 2012 +0200

    Improve resource-compiler to support generating asm for blobs
    
    Compiling huge C files with GCC is slow and requires gigabytes of RAM,
    so being able to generate .S files that include the blobs directly
    leads to much less pain when testing out small changes requiring
    recompiles.

commit 7aca1ac504610d9653c297d19ed0c5aadce5dfc8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jul 28 23:52:37 2012 +0200

    Add configure switch for disabling bindings

commit e2ad1f9725cab1c4b8c040acc1202ceba03209e8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 23 01:16:09 2012 +0200

    Bring cloud-spy to full show-case quality.
    
    It should now be possible to do a meaningful presentation on it with the
    missing marshalling bits now in place.

commit fb8d371df19db6e1998d5dc376c983b7bd6e78c8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 16 03:54:47 2012 +0200

    Fix build issues hidden by incremental build and remove a left-over debug message.

commit a0d33ebea2f4de8c2642829c594282a55b40d847
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 16 03:30:42 2012 +0200

    Add build system for cloud-spy and wire up resource embedding for both agent and server.

commit fdbf4aad1d852811d42442d99ed0cca00f667f9a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 16 03:29:22 2012 +0200

    Add HostSessionService.with_tcp_backend_only() constructor for convenience.

commit 07868e1dcc0a98cdf6bfbddb61ba35063dc2a614
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 16 03:28:08 2012 +0200

    Make server auto-shutdown after 3 seconds without any connections.

commit 321b9cf24f36885cc71cc996b3cdd04b93ad1c38
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 16 03:27:12 2012 +0200

    Embed agent in Darwin backend like the Windows backend does.

commit d10399ad9b62dbd6806012580e9f8ea86da7e1d1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 16 03:24:30 2012 +0200

    Change TCPHostSession to retry in case of connection refused.

commit 872402611ade57288f5135cf807ff2d013aaa836
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jul 16 03:21:58 2012 +0200

    Make it so Fruitjector generates x86 code based on target process flavor.

commit 76a2304c6282170814ce343bca2cb73e8d62c29f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 26 02:58:08 2012 +0200

    Improve Fruitjector to also support x86-32 in addition to x86-64 and ARM.

commit 9227d11656e496282bc15981aed19903ece3096e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 26 02:56:40 2012 +0200

    Remove left-over newline.

commit 3ee261efddb8aa9ae3cfefe28d3fa646ab65787a
Author: Karl Trygve Kalleberg <karltk@strategoxt.org>
Date:   Mon Mar 26 01:23:55 2012 +0200

    Add support for cross-compiling to ARM on Ubuntu x86_64 host.

commit 3567e14a15ff80e62328831a2504413779a3e754
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 24 07:57:18 2012 +0100

    Fix v8 x86_64 build.

commit b3c6172f87fd440c3e9a119caca8c644514b82bf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 24 07:22:29 2012 +0100

    Fix OS X check in configure.ac.

commit 6604b4ea3ca391bb456702d6d77a9c07f2f6f795
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 24 07:00:24 2012 +0100

    Improve build system for osx and integrate v8 build into build-deps.sh.

commit 1291a0358d47f678107148f983fe88ee791c5a64
Author: Karl Trygve Kalleberg <karltk@strategoxt.org>
Date:   Sat Mar 24 04:33:06 2012 +0100

    Linux build system fixes and bump of toolchain.

commit bec30851a63e5b796d468ae3bf853b867b51a925
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 24 03:31:47 2012 +0100

    Split osx target into osx32 and osx64.

commit 55361594d605e08ac9bcb95fab5ab9edf8eefe16
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 14 02:23:59 2012 +0100

    Adjust Android flags to align with how V8 is built.

commit 7107e7557f161cfff7d194fb5996259d73a2c66e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 13 01:43:29 2012 +0100

    Bump SDK version for Android.

commit 1ef6d9d3f1882cd790c5543b14136d965e22b4c7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 13 01:42:31 2012 +0100

    Update config.site's GLib build config to support Android target also.

commit 7c7f096a78c74980047115dc5e8c72f2e5dba88c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 13 01:42:02 2012 +0100

    Improve build-deps.sh to handle libffi subdirectory for Android.

commit 9e33cdb8ca29f8e722d41513cfa605a835e36fd5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Mar 11 01:23:49 2012 +0100

    Adjust Android NDK environment.

commit ed27b0b6246087079e1229c187b59644b61dc5ed
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Mar 10 23:47:07 2012 +0100

    Remove libgum, as it is now an external repository on GitHub.

commit 65aa29b6403a09eb48c807b76831ad37427cd133
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 23 13:47:32 2011 +0200

    Improve CLI to handle reading script inline and from file.

commit 84cc85c58772dc5e74ad226c03599bf01928f3db
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 23 01:20:54 2011 +0200

    Use LLVM GCC on OS X and iOS, and bump to iOS 5.0 SDK.

commit 99c7d707cd849ed1229dd180ed90a7f0d138fb4b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 23 01:11:47 2011 +0200

    Make it so CLI reads script from file instead of inline.

commit 6a47ae9b12ceeb02d2c431839f8ff80f16b9af3a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 21 08:03:46 2011 +0200

    Add a tiny bit of usefulness to the CLI.

commit 9d16f19f063f2c0ec7229972f68d6dce37a84be6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 21 08:02:58 2011 +0200

    Implement Darwin host session backend and refactor a bit.

commit 37088d9fe438c817ff86a1050f3de70cae72dc83
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 21 07:59:48 2011 +0200

    Fix naming of installed agent dylib.

commit 2795e908d338f4debd8f4afb14008e15eeb33305
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 21 07:59:13 2011 +0200

    Define OSX when compiling Vala code on OS X.

commit 1d7aa03ede9f77289c0696b78a60c12d112ee1cc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Oct 19 14:38:08 2011 +0200

    Port Fruitjector to Mac/Intel 64-bit.

commit 6cea8bb2552c7fe0185d78a3d3d7d9e67eb975d4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Oct 19 14:33:35 2011 +0200

    Implement basic readline handling in CLI

commit b1bfc358fd9ae0b499207a8dece9b8325b3d6bf5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Oct 19 14:32:38 2011 +0200

    Disable C code warnings when building cli.

commit bece13fbf927131ee48ad0f296a009fe897fae3a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Oct 19 14:32:04 2011 +0200

    Fix OS X detection of Lion and add missing readline dependency.

commit 1bf25377673b94455a4b57e19654ee6dedafa2c9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 5 03:43:42 2011 +0200

    Fix silly SessionManager shutdown bug.

commit fdae929dbfead614a0771629bd85ad8574deb60a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 5 00:57:43 2011 +0200

    Add support for posting message to script.

commit 2c436cf1a3534a05675feb5bd67eca3e6ed048a4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 5 00:08:13 2011 +0200

    Revise Agent's Script API to avoid losing early script messages.
    
    Load needs to be an explicit action so the client may connect to the
    message_from_script signal before the first message is received.

commit 75fc35bff8f890e1485e51c53bdd8339c7c8facd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 3 20:35:19 2011 +0200

    Fix remaining Windows regressions.

commit d28f16941b2082816793d7625cfe81ccda9d7808
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 3 18:51:28 2011 +0200

    Port resource-compiler to new gio-2.0 vapi.

commit b739b6cd976d56efe691b8a5696bac9a0e0d6e18
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 3 18:51:03 2011 +0200

    Update Windows build system to use new toolchain and SDK.

commit 57815624f673cc7c2d4b20032c36bc192725ccb2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 27 09:12:56 2011 +0200

    Ensure DBusConnection gets closed even when the peer disconnects.
    
    Fixes crash on unload. All tests now green.
    
    This concludes a chapter in Frida history. :-)

commit 2b597d7f10060a91ae053a13a410cf3e86cff380
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 26 16:28:18 2011 +0200

    Only assert on icons on Windows and iOS, and only check performance on iOS.

commit 64a88cdced83d65879e8f1ec27365790a37f124b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 26 16:27:53 2011 +0200

    Improve agent test suite path building on UNIX OSes.

commit 66d114a3653a3a103c49360751fb80b5f4e77738
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 26 16:27:19 2011 +0200

    Do a quick fix-up of path returned by ProcessBackend.
    
    May contain "/./" inside path, which makes things a bit less
    deterministic.

commit 22574ac0de1ff03eda6ef8bddeeeceb2b730545c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 26 16:08:56 2011 +0200

    Move target_function out to avoid inlining.

commit 2288240827a1109f25fdab09eb515cbe404951ff
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 26 15:45:15 2011 +0200

    Fix warning caused by left-over prototype.

commit c6999b50373ccdd760a890e1b964389c4891fdf0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 26 15:42:37 2011 +0200

    Revamp iOS dylib injector payload so it behaves properly.
    
    Previous attempt at doing pthread setup turned out to be a
    flawed solution and dead end, resulting in undefined behavior
    whenever pthread decided to reap thread contexts.
    
    So now we revert back to something close to the original approach, where the naked mach-thread's pthread state is
    just a zero-filled structure, and it just calls pthread_create
    to spawn a proper pthread, where dlopen() and friends get called. This time around we also put a guard page at the
    bottom of the stack, so stack overflows get caught as early
    as possible.

commit 2aae26b68d5eeeb419c46f9b7f3f927a7dc9099a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 26 14:12:43 2011 +0200

    Verify that dylib exists and is a file before trying to inject.

commit 3637bcde5e24af8d147860482e3359454e3dd3ee
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 25 12:52:07 2011 +0200

    Move everything into libzed-tests, so tests can be easily glued into an iPhone app and debugged with Xcode's gdb.

commit 009b30ddccf5003df05dcd6c3c4158998a8114d4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 25 12:50:43 2011 +0200

    Refactor and update to new vapi.

commit 1da4203ec5dbbe16e436099b704b11f8eaa32765
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 25 12:48:38 2011 +0200

    Fix crash by initializing structures to 0 before calling _copy().

commit 61ff65e538113f7a04ce726a426a699ad99f2bb0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 25 12:48:06 2011 +0200

    Revert hack using local repos.

commit 73a6585f9dad73c4ae829fef6cd487adfa29823c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 25 11:37:22 2011 +0200

    Don't build GLib's tests to avoid hitting linker bug in iOS toolchain, and add glib_cv_have_qsort_r define to fix cross-compilation.

commit 1db019da3e44f0357e2926bbf458dfd1408cc2ac
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 25 11:36:09 2011 +0200

    Add missing tool to toolchain, and bring SDK procedure up to date.

commit 4459da982c208d0a0188105b225a9e053ee8a6bf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 25 10:35:27 2011 +0200

    Bump osx+ios toolchain and SDK version.

commit 78e065941c1ec05f24b0223f2e248d01e81a12a1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 24 00:49:35 2011 +0200

    Remove jhbuild stuff, leaving it for later.

commit ac824cf7dfbb0c544d142cda53a7045d026ee5d2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 24 00:48:52 2011 +0200

    Move config.cache into prefix.

commit 3f095171098d8ab9d4b8f4d1809ef2d063c9e730
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 24 00:48:34 2011 +0200

    Rename build-sdk script and add support for building toolchain.

commit e892c4f82b984663377fdb3275248988bed27b57
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 24 00:48:18 2011 +0200

    Bump toolchain version for osx+ios, and bump Vala version also.

commit 400052fcb4270a4737c1396780b5856f54d9adb6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 23 03:40:21 2011 +0200

    Remove left-over shutdown hack.

commit 5a1362e54c315d6d6868d7f4651b5a8e540df411
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 23 03:36:07 2011 +0200

    Remove ugly DBusConnection shutdown hacks.
    
    No longer needed after patching GDBus to do proper teardown as part of its close() implementation.

commit a9de97ee6165d87f76193a7497b7a38a51c11386
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 23 03:34:45 2011 +0200

    Fix socket file-descriptor shutdown race in Fruity.Client.

commit e0d85daf0ee3110d6612679dc63d1ca23c750c43
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 22 23:35:14 2011 +0200

    Update code to conform to Vala master/0.14.

commit e9b5ffd77f1773364b908a06d9ed224ee6381fbf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 22 23:34:24 2011 +0200

    Disable warnings for Vala-generated resource-compiler code.

commit a8dfbd74de3b0af4ee218bfff5b6fed3417d28b2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 22 21:54:34 2011 +0200

    Disabling ld's unwind compacting for osx and ios.
    
    Fixes warnings when linking against libffi.

commit 34aab24f77a86ef1012c0b10acd664bca18ada95
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 22 21:51:49 2011 +0200

    Enable proxy-libintl for osx and ios targets also, and add handling of libffi.

commit 9ace3cb423fab0f904d1d5a3dc66316d2398bc7c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 22 14:10:57 2011 +0200

    Fix up build system for tests a bit.

commit abeafc4a270bc959001fb1bae10c489bfc5c1696
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 22 14:10:23 2011 +0200

    Add missing frameworks for iOS build.

commit 2f62c54a100908dd8287f4b307a861bd49c8412b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 22 13:53:44 2011 +0200

    Disable warnings for Vala-generated zed-server code.

commit 5ed8f1eb0e271b5426df8e5697845cb38b0ce4c2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 22 13:31:04 2011 +0200

    Port Fruity backend to Darwin.

commit f61acf4d7103334c18865fe4fed53c68a44f4214
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 23:38:33 2011 +0200

    Fix build system for CLI.

commit 038f6e24f0d5124b438cf634729fccb5887f090b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 23:38:25 2011 +0200

    Update build system.

commit 05740d7ad70552f170798266345fb62b224d3fae
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 23:38:10 2011 +0200

    Remove old test code.

commit facb75eb3d419d493e2b818d4a441a5841705b43
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 23:37:51 2011 +0200

    Fix warning.

commit ea0c22fc95f77e01e92333bd3eb8b6e050d46013
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 22:54:54 2011 +0200

    Update zed-core file list and disable warnings for its Vala-generated code.

commit f22701f3b8092972a1205c438005e2afbfef739c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 22:54:11 2011 +0200

    Partially port System backend to Mac.

commit 733fda415153a29e55fd907c070e90226dfbb300
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 22:53:45 2011 +0200

    Add Fruitjector stub x86 implementation as skeleton for later.

commit 8143a7528fc61f14e4cc2cfd4bd9b3fd6728a49c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 21:59:06 2011 +0200

    Temporarily remove data subdirectory until we actually use it.

commit 7ccf1c8d7126a220d8ca3b3df8c725512e4c783b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 21:58:00 2011 +0200

    Disable warnings for Vala-generated code in interfaces and agent.

commit 93d000a2840762bf5ef3d79b45bd4cea155d0227
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 21:43:33 2011 +0200

    Fix UNIX build system regressions.

commit da18f2e2e3af7ccdf804776b8b5872bf53e54cec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 21:32:28 2011 +0200

    Kill GTK+ GUI, needs rethinking.

commit a4ae42b10fa9da33559f5d151916b82836c55cf9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 20:33:00 2011 +0200

    Strip implementation of old API from agent.

commit 5ed9792b8afe5fddd275f7f643984d78b89d3cde
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 20:28:14 2011 +0200

    Remove Session API to be replaced by Gum.Script later.

commit 5ae4a8df6d43793e1bc9dc71e5d5e04e9837ad54
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 20:27:25 2011 +0200

    Add skeleton for CLI application.

commit f734dd57bac503189ee714f66850b4a86c1a6f4c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 19:27:38 2011 +0200

    Rename zed-ui to zed-gui and improve consistency.

commit 8d9497d70acb7eef2826403e06a2a1311475a2d3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 21 16:58:08 2011 +0200

    Fix load_and_receive_messages test so it passes in Windows/Release also.

commit de7384c008dbdb917668045cbad19cc693ce7308
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 14 04:51:32 2011 +0200

    Update to new Script API.

commit b13bee4ad0beab45abdb297cac90f8b6290c1e0c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 14 04:12:51 2011 +0200

    Bump Windows SDK version.

commit 49ac513b8c036ffa8799bc16d3e7473713fd488d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 14 03:53:27 2011 +0200

    Bring Agent test up to date with current API.

commit 75b311225990a19898aed8dd13ff69458a19c1a2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 14 03:53:11 2011 +0200

    Rename Agent's Script load/unload functions for clarity.

commit 07c545bf8e6caf700b99ad0c4c0904168604540d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 14 03:29:01 2011 +0200

    Update SDK version selections.

commit c0f9863e11854194ec58175ae314392a5bace07c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 13 18:06:40 2011 +0200

    Update zed-core and zed-agent to new Script API.

commit 22b8a48e9c0066aa86ef07aa70419737a7be5ffa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 12 00:23:49 2011 +0200

    Start rewriting GumScript to use Google V8

commit 832f37525ff6efb42d61db2b77e60095e09a5042
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 7 03:26:10 2011 +0200

    Add missing zed-agent files to UNIX build system.

commit a46c83328238a1eea31328fb7bde3a2cb2769505
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 7 03:25:42 2011 +0200

    Add stub Stopwatch implementation for POSIX systems.

commit 58834612f70012c4543c35f5e6783d4037862076
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 6 23:06:40 2011 +0200

    Bump iOS SDK version to 4.3.

commit 1bcafaf09d049a16d3259e2db0076ba320f4760c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 17 21:31:15 2011 +0100

    Report stats for queues and jitterbuffers also.

commit b2e4afb2d1aae6743bb055f65b1ff62c711ad48b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Mar 17 16:08:28 2011 +0100

    Add wallclock time, latency and render-delay to each measurement.

commit 68c322d1bb10ba86b91e3aaf9fe3d31e72a6b39c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 28 17:43:39 2011 +0100

    Add timing history to GstPadStats.

commit 79c41d7c05c7cd0c5b28cfa7b358841fd575518d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Feb 28 17:43:21 2011 +0100

    Shutdown GstMonitor on close.

commit 51c0f7180036bf93e0a0b84ee8576b2b4c2f2cda
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 24 22:37:43 2011 +0100

    Implement really basic GStreamer monitoring.

commit 61c437196aeabeb7ffa5a0f127d07e0b0e824ab4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 18 18:35:46 2011 +0100

    Temporarily unignore Agent while invoking closure.

commit 233029df25855c6fd095c6735a3abcf3ed53548b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 18 15:39:48 2011 +0100

    Fix SessionManager wrapper for scan_module_for_code_pattern().

commit 79c2e03902040d7198427410dd94ad4bb56be983
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 18 15:25:17 2011 +0100

    Expose scan_module_for_code_pattern() in CLR binding.

commit bd137f3a85c0509b1619bc3e344bde5c017e5b18
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 18 14:45:33 2011 +0100

    Add Agent API for invoking function.

commit fc333948382ded8ce70c0f8c1b38866f2635f136
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 17 23:38:13 2011 +0100

    Add timestamp to GLogProbe.

commit f69a2b7f195ecbbb3ac22cc4d8a14eaa9562051f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 17 21:19:22 2011 +0100

    Reshape Script API and expose it in CLR binding.

commit 9c67a824c1c1f416839e7ba3bb32a9b2bb7962d7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 13 23:21:11 2011 +0100

    Make GMainWatchdog max duration configurable.

commit 23fbc2cdb52299f84e0e29a1125993a2d5f62e3b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 13 21:56:52 2011 +0100

    Treat null log_domain as 'Default'.

commit d3b84e529fa7e4ff539fe0d4092710ad574b972a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 13 21:40:21 2011 +0100

    Detach listeners when shutting down GLogProbe and GMainWatchdog.

commit 4075357c00cb70bf647334e5bf459d7e4d785253
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 13 21:27:29 2011 +0100

    Add closed signal for tracking Session lifetime.

commit 862085f807d78eff72fa0b8fa8ec508b873703cc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 13 16:04:57 2011 +0100

    Improve error-handling and resolve kernel32 exports in a safe manner (to avoid getting redirected to apphelp.dll wrappers).

commit ef25ba6fefb016951e164e9a82aa2f8e8b1fe8c0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 13 14:43:16 2011 +0100

    Bump SDK version.

commit 9cf2292f2d5fd93f90b5303156e8528fd402312c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 13 14:10:32 2011 +0100

    Do not use fixed base address in Release. Really.

commit 854152e71b8bcdb47f020ec4d04a8ae22d17eab9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 13 02:55:03 2011 +0100

    Make retry timers a bit more aggressive.

commit ecc97c296e995dc94c6d52cca859352fd9944031
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 13 02:44:57 2011 +0100

    Wait for existing agent to unload before injecting a new one, and throw breakpoint if LoadLibrary fails.

commit 053a7246fe22de327b1ebf15c4df843828c94f2c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 13 00:54:41 2011 +0100

    Make it so Manager can be disposed before Session is closed.

commit 96e590d6589cc01194f12b7ce72b50e211f2d016
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 12 19:45:37 2011 +0100

    Chance ownership semantics once again.

commit 5b5ccec5f108daab26bc6db89c17b504a3b395c6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 12 18:17:47 2011 +0100

    Implement proper cleanup of SessionManager and Session.

commit 00e108dc1f8a87d9b55932b085f9b490918f3931
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 12 15:56:06 2011 +0100

    Revert unfinished code that wasn't meant to be part of previous commit.

commit 031d18fc3c56b8dd271e54d5b3b1287eaf0b8db3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 12 15:44:55 2011 +0100

    Clean up the conditional jump API mess, and add support for near JCCs.

commit 243a3e17bbf58e4ed8a3181efb71cb968b0f35c1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 11 19:37:52 2011 +0100

    Fix warnings reported by MSVC/x64.

commit 664e5211d34ce345853840750c117fa0a0a031c7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 10 20:02:13 2011 +0100

    Cover new GLog support in CLR binding.

commit 8bfa4ba50d3877f88ce40f24ab17db00c64e5a07
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 10 20:01:51 2011 +0100

    ï»¿Add basic support for intercepting GLog.

commit 0697c2470df2b0c3558134f8d56ed1c55d211eb7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 10 16:06:57 2011 +0100

    Add prototype CLR binding.

commit 214e58c79b9e0eb008a8483b50e433a89ed818eb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 10 16:06:32 2011 +0100

    ï»¿Add GMainContext watchdog for debugging misbehaving applications.

commit e76111c803d35f1dc441a3e77df7079c496f41df
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 6 01:32:01 2011 +0100

    Don't drink and code.

commit 69811d8d7eb249c1999e9a2862fa67fc5bf2c113
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Feb 6 00:04:40 2011 +0100

    Fix a couple of stupid bugs.

commit 4f81a40596167ef0ef5de6b651270bdb2cf9b5e2
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Sat Feb 5 18:42:26 2011 +0100

    Enable AgentTests on all platforms (incl. Android).

commit 9d55b6228ea621f2565a79055d6f28d63c96c572
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Sat Feb 5 18:30:15 2011 +0100

    Update android check target and add check-gdb target.

commit ade7ee4db31b3306bb98984627925fb3d128b055
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Sat Feb 5 18:26:51 2011 +0100

    Include pthread.h in linjector-glue.c.

commit f6c519101b7c8ca8b7df844fca5a2988f7be8802
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 5 18:20:07 2011 +0100

    Do injection in two steps, to ensure pthread library is loaded before step two.

commit 29260347555b5e15f39909ea1f8fa35888afe99a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Feb 5 02:46:01 2011 +0100

    Basic injection almost there.

commit 2e61edda04e887f898afc10a36d64801ac11e047
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 4 19:08:35 2011 +0100

    Start fleshing out Android/ARM support in Linjector.
    
    Based on patch by: Haakon Sporsheim <haakon.sporsheim@gmail.com>

commit cf82e7b94a48f195db96c55bdcaed937f920747d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 4 18:15:55 2011 +0100

    Fix a minor case of inconsistent style.

commit 541accb2456baec73190235c238ded4905ad8931
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Feb 4 04:53:21 2011 +0100

    Add early prototype of Linjector.

commit 58b30f22bb215ba6b05baa402835ea8da8d5c059
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 3 20:50:59 2011 +0100

    Clean up OS ifdefs and disable scan-module-for-code-pattern on non-Windows.

commit 379dc63fe7f73cce2af78023bdc1797c003d71ec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 3 20:26:10 2011 +0100

    Make a copy of connection list as it might change while we're iterating over it.

commit a61a4c3f866735ba64eadf720b9b4bafbc36200f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 3 20:11:56 2011 +0100

    Rename FruityServer to AgentServer.

commit dde011438893c15290c487cf68245674043f694e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 3 20:07:29 2011 +0100

    Schedule timeout on the right MainContext.

commit fec2bd810b9ef174ba96f677b4b323c9dacb8dae
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 3 19:53:39 2011 +0100

    Set SYSTEM_LIBRARY on Linux, and look for zed-agent in-tree also.

commit bc1321a48cbbf2675ff6824e9a786f01f51efd35
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Feb 3 19:52:48 2011 +0100

    Fix LD and clean up GCC/binutils environment variables.

commit 22bf6688f44dd24cfbf6ad563a35ccd2e4fb3b2a
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Feb 2 04:19:16 2011 +0100

    Make sure Zed tests run on Android.

commit 4a122f68d801d61fccc31d6a05e95554bc3ea88b
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Feb 2 04:15:25 2011 +0100

    Support building Zed and running Zed tests for Android.

commit 41f2050edc41d14ee99a0fc9dead4c71148232cc
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Feb 2 04:10:32 2011 +0100

    Add Linux backend for Zed.System.

commit 3dbea3f909310419f69cb0a75db8e8d9b1d7ed45
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 2 01:51:54 2011 +0100

    Add missing file.

commit 324c664d9cc5eeafe817405f41c9bad6b83160c4
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Feb 2 01:19:47 2011 +0100

    Improve Android build environment.

commit f6d77ec088fda4e91e7b2a4a3ca977d59db34058
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Feb 2 00:41:33 2011 +0100

    Fix Windows regressions.

commit d70afa977bc31ed19fb85f838ccd37dd631129de
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 1 23:59:15 2011 +0100

    Migrate remainder of server code, build tests on UNIX and make first batch pass on iOS.

commit d56b184052ec2aa6cf1e3b3f51678ea5015e18ab
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Feb 1 17:26:10 2011 +0100

    Move most of zed-server into DarwinHostSession, preparing for Android support.

commit b9d85e08bec949eb9e8c2e9cb10783eb12a820cd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 28 22:47:42 2011 +0100

    Use the current MainContext and not the default one.

commit 137f7c06cf182eb0a908b0e57ad11883a747b76b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 28 03:45:09 2011 +0100

    Implement a fake attach_to() which involves zed-core.

commit e080e5c7e493067cc89d2a64b6aceeafeabcd25a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 26 13:14:45 2011 +0100

    Update zed-agent to new Interceptor API.

commit cb57c0b62c187e8e61ecfbfe19cf950eb2ec719a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jan 24 14:32:50 2011 +0100

    Rename cloudspy to cloud-spy.

commit 5af3444290653a61b7acc39f8f149ae117a84e53
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 23 23:04:19 2011 +0100

    Add basic boilerplate for cloudspy.

commit e97c5e030e73f5595852e90a5fa76626eef148d5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 23 02:22:48 2011 +0100

    Move members of Zed.Service namespace to Zed namespace.

commit 9ed6d97146ffe18ccca1dd79bc75aa729b31dca0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 23 02:22:12 2011 +0100

    Add missing file.

commit 8ffeba696c2a4c3885f54b7c2f5f912916f6c758
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jan 23 00:40:22 2011 +0100

    Add placeholder for pyfrida, and move HostSessionService backend registration into a convenience constructor.

commit 4a550b390d47e11e00e0e6632c4b764d54b15f4a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 22 17:58:24 2011 +0100

    Split UI bits out into zed-ui so zed-core can be used standalone.

commit b9828e51a97e0ac7cd3ac2c4e8d4ae2d06dce8b5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 22 16:25:19 2011 +0100

    Output symbols file.

commit 1f6a6f239c2350b1a0e1a11652d3aec064e9c22c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jan 22 04:42:29 2011 +0100

    Support attaching script to an array of functions, like in a vtable.

commit b9284291d3e1cc3a841ab050fdfc5825c425adc7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 20:47:36 2011 +0100

    Fix Frida gitorious URL.

commit 8a1e59eae216de19a7ab26f7bf89f848979201cd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 20:46:24 2011 +0100

    Add gtk-quartz-engine to sdk-osx module set.

commit 76892b5ae06f961b760de155b8cb9f6651823c64
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 20:26:21 2011 +0100

    Disable Clutter/Mx on non-Windows for now.

commit a20ea52fabf6d03ca7ac8fb098344c0431eccc8a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 19:51:30 2011 +0100

    Fix resource generation in autotools build system.

commit 89e96a1577fc150ad9a59939ef4a824d81202cfe
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 19:25:32 2011 +0100

    Add libgee to sdk-osx module set.

commit a6550701db72eff01a7685601eccefdb0bdc88e5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 19:19:34 2011 +0100

    Fix PKG_CONFIG / PKG_CONFIG_PATH regressions.

commit 41bb1c225b3c445e52cfd6febdc1aea66ca78957
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 19:03:31 2011 +0100

    Add mx to sdk-osx module set.

commit 49b62d191da94483e29b60c14fffc9ff86338fd6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 18:30:31 2011 +0100

    Add wocky to sdk-osx module set.

commit f228791f667a98968d4986570074b9fa840de8b7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 18:19:01 2011 +0100

    Remove fontconfig and freetype, and switch to Release mode.

commit c4a302059748de241495ffe0f8100ad97c518df1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 13:20:28 2011 +0100

    Add support for entering a minimalistic environment for JHBuild purposes.

commit 106a5725bba0432948556e2c84260468873b2ef0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 13:19:37 2011 +0100

    Enable proxy-libintl when building GLib.

commit 3271f48653098baa4c9b57c82743765e5ff23ac6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 03:01:02 2011 +0100

    Fix PSL1GHT search paths.

commit a33883f36ea9e2dfbd4bd50fbccab9c2c79e1bbd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 01:44:55 2011 +0100

    Add build system support for PS3, refactor and introduce Linux toolchain.

commit 121e30181c74c019f35af6aeb21d95a3ec60a723
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 21 01:43:49 2011 +0100

    This script requires bash.

commit 2a0cf102cc787b5155779cc7913de2e331bf6303
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jan 19 14:22:18 2011 +0100

    Add clutter and clutter-gtk to sdk-osx jhbuild module set.

commit 6bd6d6ccb0c0491fca009d61e3e6c3e4bf48cdff
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Jan 19 00:22:48 2011 +0100

    Tweak compiler flags and add targets for Android remote debugging.

commit 3151b4d2d4aa7e89b6bfe2ebe30f7fc58551306e
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Jan 18 19:03:16 2011 +0100

    Hack around static libbfd requiring zlib on Android.

commit 3b31b67b2b26558f3d77d2d6f3c68a67e9964b40
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Jan 18 18:28:42 2011 +0100

    Also add FRIDA_PREFIX's include dir to search path for GLib.

commit da51e310e28849edfd0c41602a5e2d0555120657
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Jan 18 18:28:17 2011 +0100

    Add SDK search paths for Android.

commit eacc7afd00281759d4205f70a543dd098ced688e
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Jan 18 17:39:09 2011 +0100

    Only enable maintainer mode for libgum and zed.

commit cb1958793a42826d54ce803b25f7d79c0dba84fd
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Jan 18 17:27:42 2011 +0100

    Bump toolchain version and enable SDK for Android.

commit 6652dfaf2bb46d24c0c34980ef3fb7a83e7a6612
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Tue Jan 18 17:08:17 2011 +0100

    Add preliminary Android support to build system.

commit a4e407d8806f0695848cdb46491815ab406e35d6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jan 13 20:08:05 2011 +0100

    Bump bootstrap module versions.

commit c7d63b32fad6d0a333aa45159d68221adcea9066
Author: Haakon Sporsheim <haakon.sporsheim@gmail.com>
Date:   Wed Jan 12 20:17:30 2011 +0100

    Start adding Android cross-compilation support.

commit 242f4283ebc06bcc56744c428a456c2e5a018372
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jan 7 23:29:18 2011 +0100

    Add size trimming flags to Linux environment.

commit ba3ebc326a972cb651deebdf33c0b455a366955d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jan 4 23:09:13 2011 +0100

    Don't override LANG env var.

commit 96bee5d33e5e3793a1f3b219edebd28706bdf72a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 29 19:40:42 2010 +0100

    Add encode command for encoding text and integers.

commit 2f88e4b335faacb5ae0326b29494255bf59d7f36
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 29 19:08:49 2010 +0100

    Improve scan usage message.

commit f3515389586f3cb57dac1d22c62f3b4d4bac188f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 29 18:32:44 2010 +0100

    Support new memory scanning now available in zed-agent.

commit ebce160a5c2234db95bbfa0a00e26e82174eded6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 29 02:54:47 2010 +0100

    Fix memory scanning so it doesn't match the match tokens themselves.

commit 9a3265fb5b816cc9f270cbf141e564b5a0813349
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 29 02:01:57 2010 +0100

    Add scan_memory_for_pattern() to AgentSession and implement in zed-agent.

commit 5db4aff2f479ee061c79697d9e6846cc4b399a2d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Dec 27 19:15:49 2010 +0100

    Clear newstyle bit in pthread_self so pthread_exit() does the right thing. All zed-server tests green.

commit 658d2f1911c393a50fd69cd367c7666df4bc419f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Dec 27 19:08:45 2010 +0100

    Improve deploy and check targets.
    
    - Delete old files so metadata gets replaced.
    - Handle remote paths with embedded whitespace.

commit 47af6324708ca33bb54e7c39a0be34fdbd35dbfc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 25 18:49:05 2010 +0100

    Fruitjector almost back in a working state.

commit 81e37aa361d3d4ac59d09cd3df4b204be73c1aad
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Dec 24 17:45:30 2010 +0100

    Start reworking Fruitjector trampoline code to do proper pthread setup.

commit 8867ffe845c991c388ca1b88432e43f137b167b0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Dec 23 18:50:24 2010 +0100

    Bring Fruity backend back in business.
    
    For some odd reason, the port number in the PropertyList XML needs to be
    byteswapped. This is most likely a bug in Apple's implementation.

commit d88ec715698d8e12698e522961b054eb88fc4b34
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Dec 23 02:19:29 2010 +0100

    Clear history iterator whenever a new entry is added.

commit d0437745ce51938a1721fd0f9f14f8e5d7c57123
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Dec 23 01:35:42 2010 +0100

    Hide entire chat frame when it isn't possible to chat.

commit 659272ff6dd26fae74466126a974079597948110
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Dec 23 01:23:58 2010 +0100

    Fix console entry auto-focus.

commit 92f908736a7950903486e4f75f966df23f8f7030
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Dec 23 01:17:11 2010 +0100

    Implement console command history.

commit 9427f276aaa8b210ff5af7c80e43dfb918aff95d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 22 23:48:00 2010 +0100

    Extend hex dump to also include ASCII printable characters.

commit d12ea1a9e4cfe0f8c73a6b4d2a16a81afe275ac4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 22 22:49:15 2010 +0100

    Execute script on_leave() as well, now that it makes sense.

commit e3f29cd90adc82cd506876bc116ace303426e35d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 22 17:38:41 2010 +0100

    Fix test regression caused by Script syntax change.

commit 388a39263a04fa58b9213af30850d27200982fc3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 21 03:12:11 2010 +0100

    Fix warning.

commit 58b1318c0adb068cd8de6bb3d35e4079f52c4b34
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Dec 21 02:48:50 2010 +0100

    Memory monitor is only available on Windows for now.

commit 19669c7db7d6ae380a966351f1983c1bb99e2179
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Dec 20 20:56:10 2010 +0100

    Update Darwin/iOS build system.
    
    - Bump iOS SDK version to 4.2
    - Set minimum iOS version to 4.0
    - Bump OS X toolchain version to get libtool -no-undefined support for Darwin
    - Add -no-undefined to LDFLAGS

commit 57618b2d6ae03b6a1f8df33c65a6310d65513e0e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Dec 20 20:33:48 2010 +0100

    Rename IPHONE to IOS.

commit 43d59dbe9c1622ef6197e63c90bd647eefa38997
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Dec 20 20:22:22 2010 +0100

    Add support for new usbmuxd protocol, and add timeout sources to the appropriate MainContext.

commit 895ac42276ade70efdfe4498a89a93f05f83ad07
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Dec 20 20:21:38 2010 +0100

    Attach TimeoutSource to the thread's default MainContext.

commit d939552ee8ab30f8bce452a88c2a7249586464f7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Dec 20 20:21:14 2010 +0100

    Attach TimeoutSource to the thread's default MainContext.

commit 8c4eb0360165b1c34c37f6750f4d702caa88f7c0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Dec 20 20:20:42 2010 +0100

    Attach TimeoutSource to the thread's default MainContext.

commit f09ca9293dc4f6655241e825d2dde3eb0a99372c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Dec 19 20:52:00 2010 +0100

    Support insertion of values into PropertyList, and also serializing it to XML.

commit 69f26dbb0c67923646140d528b8fcb7093606245
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 18 21:13:32 2010 +0100

    Refactor Fruity backend into multiple files.

commit ac2629b022d2e43e320079e8096b37eb4caff7a5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 18 18:19:32 2010 +0100

    Support constructing PropertyList from XML containing nested lists.

commit 0d839e2165f4983ea8297cfd94fda2ab995516fd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 18 15:52:48 2010 +0100

    Add missing dependency on zed-agent-{32,64}.

commit ebcb2d2e3507cefbec4699fd96ae39fc8a3b9161
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 15 02:09:52 2010 +0100

    Implement basic PropertyList which supports construction from XML.

commit f1f969b2a88a42b3abc81310e408bc4d85d04602
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 8 00:20:48 2010 +0100

    Add write command for patching live memory.

commit c86694488e9f1e3cf817e9e2d0a83b687f171cec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Dec 5 04:08:15 2010 +0100

    Only show reads from new readers, include address being read and improve output a bit.

commit 1bb4efe491d9ef960d04ebde07896cc7de5b743b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Dec 5 03:18:24 2010 +0100

    Implement module memory read monitoring in agent by using Gum's MemoryAccessMonitor.

commit 06fa66dc1d64fa7609d941889ba092e4d17ddf8f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 4 20:19:12 2010 +0100

    Add skeleton and dummy implementation of monitor feature.

commit a994c22e92e224180fb5942e7879d0023ab0454d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 4 00:22:17 2010 +0100

    Add clear command.

commit c31f8d15c1d94ae0df662ca30781cd16c2383aec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Dec 4 00:14:32 2010 +0100

    Fix hex dump spacing so the padding is at the right spot.

commit ca430cb35fe65c374a9b2a115eedbb601cdd6bb2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Dec 3 23:12:32 2010 +0100

    Add scan command which uses AgentSession.scan_module_for_code_pattern().

commit 564e12699f97148fb1f9b5e0b81f13079c9dbca7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Dec 3 22:18:32 2010 +0100

    Rename and finish implementation of AgentSession.scan_module_for_code_pattern().

commit 4b233ad47894fa8bba261b3a3d8921510d6e35e9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Dec 3 19:36:40 2010 +0100

    Remove Vala GDBus bug workaround which is no longer needed.

commit fb72618c89e303f72bac237da8025549d4f65270
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 1 23:53:00 2010 +0100

    Add failing test and early sketch of implementation of memory scanning support.

commit 0bcba22b67e2d2a73e67ce60c11b077efd7f75c9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Dec 1 12:33:58 2010 +0100

    Add basic C++ bindings for GUM.

commit e569abd0f56effd0db4b7fc026c0a553a04cbba7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Nov 25 01:28:27 2010 +0100

    Complete pending requests on protocol error and sudden disconnect.

commit ca85ac1e8217357a914d440225c82fae61684cdb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Nov 17 22:13:39 2010 +0100

    Remove debug printouts.

commit faec990b510d8c37255b0f96ad23e825df58a81d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Nov 17 21:48:59 2010 +0100

    Beat module set a bit further into shape.

commit 9aa896b74735c3dbd22d7c4a39c8e4e03a2e903a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Nov 5 18:48:30 2010 +0100

    Bump iOS SDK requirement to 4.1 and refer to correct version of Vala compiler.

commit 855c4321e17fe7b5c1c6a5351679d343e81d6ed6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 30 17:22:02 2010 +0200

    Trim module set and bump versions of misc modules.

commit 01071c58b27b740685d2b00c28e4371a8b5e9dec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 30 17:01:21 2010 +0200

    Rename and add boilerplate modules file from gtk-osx.

commit a1338e05840ab019c2f1f84e7a03e51609c66f85
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 30 16:57:57 2010 +0200

    Add jhbuildrc from gtk-osx.

commit 1b46853cff40b71d11626b4d4d7f89ebd661e40d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 30 15:30:48 2010 +0200

    Bump OS X toolchain version.

commit d26ef38fb3c619c326bc238e6b40dc71191d4dd4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 30 13:23:26 2010 +0200

    Add more basic structure to HexView.

commit 6ae9d07312031ac391ce22b4a4b2f1998e975116
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 24 22:10:53 2010 +0200

    HexView: Draw using background color from css

commit 4575a9a3b44a6c7905b9d2c83c0309bc4c46e46a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 23 15:03:37 2010 +0200

    Add test infrastructure for HexView widget.

commit 2585c8851b985b7423db33884821d1c780c4da7f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 21 17:01:33 2010 +0200

    Support redirecting raw script output to a folder.

commit b5061287368f9e1488400e1f5f67fc94e203b5db
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Oct 18 23:53:45 2010 +0200

    Bump Windows toolchain/SDK version.

commit 549e923f72df7770c69cb837b116ced17ee252b8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Oct 18 02:28:56 2010 +0200

    Extend resource compiler and use it to load image resources for Mx.ResourceProvider.

commit 7ff66ab12ee79c436bed6a1e79cc123b7c0d1121
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 17 15:53:50 2010 +0200

    Move ResourceProvider implementation to an internal class to avoid vapi dependency on Mx.

commit 34e78a93b4be98bb91b49c993e1b9616a0e2f518
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 14 01:25:48 2010 +0200

    Start integrating Mx default style using ResourceProvider patch to load from memory.

commit 956b2f4d145bd88a4aefb20d844a02663766ef16
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 14 01:24:07 2010 +0200

    Add missing includes.

commit 113aa14e21cac77fa1265fe4c1e6ca34ef37888c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 12 02:07:40 2010 +0200

    Apply a couple of ClutterBehaviours to the button.

commit d483e2c40e073da7a28cb44d57ff8095ff4f1024
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Oct 12 01:01:32 2010 +0200

    Plug in Clutter, ClutterGtk, Mx and MxGtk. Also split up resource generation to shorten manual test cycle.

commit 2cd2dd9dd5e03ffb6c6c4a9f06775930c44a365c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Oct 11 23:14:11 2010 +0200

    Only overwrite .h and .vapi if the new content is different.

commit b26ed79f72256ba49e8be102f3d79c4112bd4ce6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 9 23:28:37 2010 +0200

    Add Tcp backend last so it ends up at the end of the list. Should rather sort by type, but leaving that for later.

commit a93eeab6a4394dbe8a0b256827d86e4b5b3e9d4c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 9 23:27:47 2010 +0200

    Add new Tcp backend to Windows build system.

commit 50f7765f60a4b1fad0bb57e8cd36390f6e1715c2
Author: Johann Prieur <johann.prieur@gmail.com>
Date:   Sat Oct 9 22:30:44 2010 +0200

    Add Local TCP backend, and fix some minor UI issues.

commit 1f60bd79e6b6436d6dc641805d7afae9aea8e303
Author: Johann Prieur <johann.prieur@gmail.com>
Date:   Sat Oct 9 17:31:37 2010 +0200

    Fix linking the Zed client on Linux.

commit ac090d06cd1aa02be8618ea5c73beb75257c30c6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 9 16:47:20 2010 +0200

    Fix build-ios script.

commit eaf1f32d2a82e4f643e087b5b507e7d3ba7b10e3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 9 16:38:19 2010 +0200

    Serialize UI and image data like we do on Windows.

commit b1e975850a4b415f6174ee5e42da00910e46a2ea
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 9 16:37:24 2010 +0200

    Support building SDK for any target.

commit 5a9c2c9a7704aee43ba8aed66a357ef48e2286ce
Author: Johann Prieur <johann.prieur@gmail.com>
Date:   Sat Oct 9 13:36:35 2010 +0200

    Build the zed/tools/resource-compiler program on Linux.

commit c81b051dbea2588a15eb05fcfb75cb9262cc1bcd
Author: Johann Prieur <johann.prieur@gmail.com>
Date:   Fri Oct 8 17:38:13 2010 +0200

    Add a config.vapi to bind config.h when building Zed on Linux.

commit 4b90748b084a085009a6c6af31a9ec5bc914ae2e
Author: Johann Prieur <johann.prieur@gmail.com>
Date:   Fri Oct 8 17:34:57 2010 +0200

    Build the Zed client with the required Vala packages (Linux build system).

commit 8e55831b7be79060ef6090ef6ade66f2c630a645
Author: Johann Prieur <johann.prieur@gmail.com>
Date:   Fri Oct 8 17:29:18 2010 +0200

    Set the required glib version to 2.26.0.
    
    GDBus got introduced in gio 2.26.

commit 0e741a2b36479d3de86b30920eea88f7daa8a3e9
Author: Johann Prieur <johann.prieur@gmail.com>
Date:   Thu Oct 7 23:56:49 2010 +0200

    Start porting to Linux.

commit 3caaa7875aae64f819b69f8bf707636dad6a4c99
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 7 02:20:23 2010 +0200

    Fix build-ios script.

commit 7ea5bbf6d8685c10dbfd381e421dd63ed2b3816e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 7 02:15:07 2010 +0200

    Fix UNIX build system and refactor quite a bit.

commit 73862e2a6037214fbb8e5d385e5b332dda22f9c7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 7 01:25:37 2010 +0200

    Make sure we only signal provider_unavailable() if we ever signalled provider_available() for a given provider.

commit 1f3f938582ceef21de9c3b1274e14ad282f7bfb9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Oct 7 01:18:30 2010 +0200

    Update UI when an Agent disappears behind our back, and clean up agent session state properly.

commit 372e57cb0beaab537021637a47c93665ab37f93c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Oct 6 23:21:30 2010 +0200

    WinAgent is dead, long live Agent. One agent to rule them all! \o/

commit 8345bd9dc80ac2b2639375baf916549fb73eff79
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 23:20:34 2010 +0200

    Fix regression caused by switching to GetProcessImageFileName() and forgetting to convert to logical DOS path.

commit 40d2d3df220bcf7c1bd0178ef93781cf9c4e8c27
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 22:08:50 2010 +0200

    And remove an invalid and redundant option.

commit 32b7360f043c6d2a44775eb162910fd09c14388e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 22:06:48 2010 +0200

    Fix Optimization setting for Release.

commit 7a63006bc37b09dbb25fdba8587e431a30d0db24
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 22:04:18 2010 +0200

    Cache md5sums of modules.

commit 89a8887edc4706b4eee386cd9eda52dbf053999c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 21:51:21 2010 +0200

    Typo.

commit cd8c061d204a7b5a9b20927c32ba7f580908f87a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 21:50:43 2010 +0200

    Skip Fruity backend test unless tests are run in slow mode.

commit a2ef9f4dd2d2d9972c6328d9d41a67a209985a61
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 21:44:18 2010 +0200

    Disable warnings on generated code, remove most of the suppressions, and fix all warnings.

commit 2d60dd397f1d032ec03786a7252ce1023fb2567d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 17:49:20 2010 +0200

    Remove all warning suppressions and tune project files a bit.

commit aacc2fb14bc7a0c53840749bf00fb4e532ff79cf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 17:47:49 2010 +0200

    Support Windows XP too, was only using two Vista-and-newer calls anyway.

commit cc53d5317acaa9f1e2b374cd2fefc9375faff8b5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 16:57:46 2010 +0200

    Update additional dependencies of resource target.

commit c580ded38aed9cc1a14d4e21394720431df2bb66
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 16:51:05 2010 +0200

    Fix crash on exit, where the view might just have been destroyed.

commit 3237751b622f78f45c4fbf748b1f73e6cc887687
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 16:44:43 2010 +0200

    Bump unload wait to 100 ms. Need to find a real solution here at some point.

commit 16f3f7d02607ed343d4c6798e3b364519763f82e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 16:40:31 2010 +0200

    Improve shutdown somewhat, reducing the chances of leaving temporary files behind.

commit 691e4b01a2966f408d6f3d70af5a902133a2474a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 15:52:03 2010 +0200

    Make it so WinjectorHelper's Manager process shuts down itself and its children if its connection to parent (the Winjector/UI) gets dropped, for example if the UI crashes.

commit 068a8bedda2adf43b2fe2de158a82b8841a75484
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 15:36:35 2010 +0200

    Unload WinAgent if remote peer vanishes.

commit a9118578a642d9a27579ba0b9e3c1b4ad81a42cc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 15:05:39 2010 +0200

    Emit closed signal when closed or the other end of a WinIpc.Proxy disappears.

commit 6ce1d1c836e57a4f40cc661f87fae4b91bf3a75f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 15:02:39 2010 +0200

    Bump SDK version.

commit 3dc8d6a735c21a773c52aa939544b0c1bf754fef
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 14:18:43 2010 +0200

    Tweak agent LDFLAGS, primarily to only export zed_agent_main.

commit f754a54dc5ce1af0df65a193b9533ea17a03723a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 13:53:24 2010 +0200

    Bump toolchain version.

commit 67dd4b0987cac0deb1765cd27b5a0f1b25249f01
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 03:37:39 2010 +0200

    Minor refactoring.

commit c9fadd15f096588ad79f3d4eed1a228e4204521e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 03:36:10 2010 +0200

    Clean up state when GDBusConnection is closed.

commit 02d6f2f687370fde3581b872b1cd2be36c54dcaa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 03:27:11 2010 +0200

    Unload agent when the last connection is closed.

commit 0625112ae9ca164d94629cbfe62675b35390a5b4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 02:22:24 2010 +0200

    Deallocate payload memory in remote process when agent gets unloaded.

commit cad055d22f0557502c325da9ddc9908fbf50043e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 02:03:56 2010 +0200

    Bump iOS SDK version.

commit 13893edb3c81c0ddb6967b14ae02cfcb23144986
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 02:03:46 2010 +0200

    Automate iOS SDK packaging.

commit 5adc7e032f8772dac15552537ba2ad80f2fbf8e1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Oct 3 01:32:15 2010 +0200

    Fix UNIX build system.

commit afbe5dfa8fd8bff1e594bfa02b3d3e390b8bf564
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 2 23:06:52 2010 +0200

    Rewrite winjector's thread trampoline code to use GumX86Writer, fix register clobbering and passing wrong pointer to VirtualFree.

commit 82f2d4a80c4980267dc151abf6d3449a7b118c87
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 2 15:02:24 2010 +0200

    Bump SDK version.

commit 129269d66886adcf489eecca7cba657ae1c98454
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 2 04:48:00 2010 +0200

    Add functionality test for WinAgent and ensure init/deinit ordering.

commit dbbb21560e82106e1ba1eb3743144e77bfebea12
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Oct 2 04:06:03 2010 +0200

    Fix all remaining heap and object leaks so all zed tests are 100% leak free.

commit 0ccc56d1030d7969745cd881ade9a8382bc8b53f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 1 22:08:33 2010 +0200

    Closing in on zero leaks for agent tests.

commit 6fdeddb0dcef52f291dece2e419eef449f58ad02
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Oct 1 01:28:26 2010 +0200

    Improve Agent init/deinit, both implementation and tests.

commit e7cc25c2135042c3bf69fa93de6152e9a4551a27
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 27 20:59:43 2010 +0200

    Fix a couple of typos.

commit afa77c43cfd833718671a169d319169ef3dafc07
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 27 20:59:37 2010 +0200

    Update libgee git URL.

commit cc9c4f40a6f677cc451914199f04ece4670bf697
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 27 04:16:15 2010 +0200

    Fix Agent module/function query regressions.

commit 23b4abcdf201808a5e78626cae976d11a892ba33
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 27 03:57:26 2010 +0200

    Bump Windows SDK version.

commit 0c26261853448d6695995cbfd5d0ea0880147d2b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 27 03:52:15 2010 +0200

    Update iOS code to build with latest Vala compiler.

commit 6195500aced6288cf1d1d00aa9b699002ec99c5c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 27 03:45:30 2010 +0200

    Update OS X toolchain and iOS SDK.

commit 80aa5a18b9ace5a996e36376c432cd8bf929de9e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 27 03:45:06 2010 +0200

    Update SDK build script.

commit b57aeecd3eb2479352e9db62b79c0092bf741983
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 27 01:20:11 2010 +0200

    Keep trying to get Fruity device metadata as it may take some time.

commit 64e61167399cf062787a7079342278f05b4b83f9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 27 01:08:16 2010 +0200

    Improve teardown in WinAgent.

commit b5ba9ff02e79bc3b6559f4cac02e70fc063950cd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 27 01:00:49 2010 +0200

    Fix lifetime issues.

commit d04da66dd7e6c55053c9d2f567374d891ef9e9cd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 26 21:47:53 2010 +0200

    Deinitialize Gum.

commit 67656fb478545dc5036ecb4a65ca143aeebd99c4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 26 21:28:12 2010 +0200

    Improve teardown.

commit d54e0c466c986cb2434e3a1a2616e1638fbedd5e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 26 16:58:21 2010 +0200

    Make it so Agent test passes with 0 object leaks.

commit d0322ee30583d6b6ddbd63e15f32839673b4026f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 26 04:02:54 2010 +0200

    Fix compilation with Vala 0.10.0.

commit 225643158d6f9cf02dfbbab87bb2f342c0552a4d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 25 15:55:21 2010 +0200

    Add first black box test for Agent.

commit e617386f12624fb4278a05e6b69e387717af7d95
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 25 14:40:21 2010 +0200

    Build the iOS agent on Windows, so it can be easily tested with tools available there. The longer term plan is to migrate to using the same agent on Windows as well.

commit 6be270c755b7c51cfae194296d48992dc296f533
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 25 13:34:57 2010 +0200

    Throw an error if gum_memory_read fails.

commit d62c164b4ca98e1a0af7148f04f23b6887baed55
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 25 02:01:05 2010 +0200

    Ensure that script messages are marshalled to the correct thread.

commit 70a53c9b29a783a2d82a820acf5fb2c9856cabd8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 25 01:45:32 2010 +0200

    Tell Interceptor to ignore our Agent's code.

commit 7430952ceaaef1b0b13284691bdf91ed4b3a673e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 25 01:28:00 2010 +0200

    Implement read_memory() in iOS agent.

commit 70c3b83ceda6a8cf4de57e92fc50b8935c40df1d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 24 23:42:02 2010 +0200

    Early beginnings of iOS ScriptEngine.

commit f22f15c1e7e837d2e38dea83446e0193ac0956c1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 22 20:44:09 2010 +0200

    Change prefix from /Developer/Frida to /Library/Frida to avoid conflicts with Xcode.

commit 55b41c9af725c0855ef94657d0d9c0c2cc991d12
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Sep 11 15:43:08 2010 +0200

    Start moving target functions out into a separate shared library on UNIX. This is in order to isolate target function code to separate pages for platforms where RWX protection is unavailable.

commit 31f8f862e2e7f84894d8a654ab5f373b1a1f31e2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 10 02:52:04 2010 +0200

    Add temporary workaround for Vala GDBus empty list marshalling bug that's probably fixed by now.

commit 980f9b34b069004950354916444f8fbb875ceadc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Sep 9 18:55:11 2010 +0200

    Bump SDK version.

commit cf57f704afe68ba40428bbe00311a392fd03eee4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 7 01:21:33 2010 +0200

    Finally display provider icons in the UI! \o/

commit 3b3764d3b9b6aee32e7e6729947b5944de8fac92
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 7 01:08:09 2010 +0200

    Factor Pixbuf creation and lifetime management out into ImageFactory.

commit efb0e2a02c3ad18179f1c147900a4182b7da84b1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 7 01:07:19 2010 +0200

    Fix warnings.

commit 44781e4c71e76fa0a0eef10c2e9ae625ab93774e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Sep 7 00:52:00 2010 +0200

    Finally provide an icon in the Windows backend as well.

commit 9ea66f5b72dce8f7bda801f80ced2e2e7dfdb3be
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 6 23:30:24 2010 +0200

    Fruity test finally green again, now with user-defined device name and icon.

commit 536c3d6329a89e4929c56f77cd557b0cd0a9902e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Sep 6 02:41:30 2010 +0200

    UDID is now used to find the location, which will be used to find the image device which holds the interesting metadata.

commit 6fdfd5fa90b3e2294218f3bcb371562db38f9409
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Sep 5 23:32:23 2010 +0200

    USB device enumeration mostly implemented.

commit 029bf7390caee906068bc557337912bc49491efb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 3 18:51:47 2010 +0200

    Bring iOS code up to date with the recent API changes.

commit 655a560a07c24c624a13809e670d5c47e1842005
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Sep 3 00:14:56 2010 +0200

    Extract UDID and pass it to glue function which will extract its icon. Work in progress.

commit 1dbac33f968b634c057ba4adc223a55da9f576c9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Sep 1 16:01:22 2010 +0200

    Add failing test for provider icon and refactor a bit.

commit c0d5bf546c363f3f6a3171b6ce2f94cc507a0dd8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 31 01:07:27 2010 +0200

    Get application names from SpringBoard and refactor a bit.

commit c572e05ea02214e11991b363a883bc894a91e535
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 31 00:35:01 2010 +0200

    Sort processes by icon, name and pid.

commit d92c426ed688537b44afd3a73ea5fb1cf103c8ec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 30 23:58:51 2010 +0200

    Speed up subsequence process enumerations by caching icons.

commit c408411d5cc2bfbc173cb188918ada33fc8c1077
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 30 23:24:04 2010 +0200

    Make icon check a bit stricter.

commit 54429d34ba250c4c6aa77e8e6388ec88e72212fa
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 30 22:49:38 2010 +0200

    Implement remaining bits of icon extraction.

commit 0fb3b15488d86fa4a4c0ec2567263e03845f37b6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 30 17:48:43 2010 +0200

    Add failing test for process enumeration with icons, and beginnings of implementation.

commit 53bf10d602785a15fe6c1991868b422096e5551d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 30 14:08:51 2010 +0200

    Use a more descriptive constant when setting pc.

commit f103514e6d86c4ad0a07d288353d0725b36597dc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 30 13:02:27 2010 +0200

    Make exit code deterministic.

commit 3d8247f06826f5cd23f1f5f245170a4110cbfa05
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 30 12:18:02 2010 +0200

    Add script for automating ios build.

commit 2173aac0c452e103624b5e516c2226d0fe9643cd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 30 12:06:10 2010 +0200

    Automatically download and deploy toolchain and SDK.

commit 9fcb3880b1dc1be0686befa0da2651af1c8fea4d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 23:41:01 2010 +0200

    Remove debug printout.

commit c23daf4d3512c238a6bbd3afb3f1116ea3405dc2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 23:40:46 2010 +0200

    Initialize Gum.

commit 041f0a6add193386cf33106fc0719b6d031b9bde
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 23:38:24 2010 +0200

    Be a bit less aggressive when trying to connect and recreate client between each try.

commit f9e44191cd00efac6b5e0749ae316f2b5c60a4d0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 19:43:51 2010 +0200

    Remove debug print.

commit 039a9ae87e04218185ac17733f0bece6e7761c4e
Merge: 8b504b9c 58339513
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 19:41:27 2010 +0200

    Merge.

commit 8b504b9cf67491ccf162cd2e4a91a39982d8d8bf
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 19:40:56 2010 +0200

    Implement query_modules and query_module_functions by using Gum.

commit 58339513b29fbce036d5169a89cfa9c0e0d85ff8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 19:37:27 2010 +0200

    Only set winsock function as default if there is a winsock module in the list.

commit a8af016d06a6b61813e5fe33015a68d16d785445
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 19:09:47 2010 +0200

    Add gum-1.0 to list of dependencies.

commit 28d275e77c2314f3447fe363f31d4ee07c227186
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 19:09:15 2010 +0200

    Add FRIDA_PREFIX's vapi dir to vapi include path.

commit c1ba066767db2997fc7625d73e0e089bc0fdcf74
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 18:49:28 2010 +0200

    Rename iphone to ios.

commit a403393bc580a3fa96aa0d09adee50becd2d376c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 18:42:34 2010 +0200

    Update GUM vapi references to point to gum-1.0.

commit 01868e8bf507cb40c6234db27ad1611292759f23
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 18:17:41 2010 +0200

    Introduce pkg-config, install vapi and improve build system.

commit 07c5ee9f90d5640640933e94e76e793d8aeff334
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 04:58:29 2010 +0200

    Implement obtain_agent_session() in Fruity backend.

commit d04bebbda39768240e5389538ef26030940b4fe8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 04:57:41 2010 +0200

    Initialize type system on load, tweak close behaviour and remove debug.

commit bbda9abbfe32b8f3a8aa2dc03a61bf7f9cf4ad1a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 04:25:44 2010 +0200

    More agent skeleton in place.

commit 77ffc5a7511fea5184b8ef1dc0404e75b17fbd48
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 04:07:41 2010 +0200

    Move zed-interfaces into a separate convenience library and build agent so it actually dlopens correctly.

commit 17a26c2f270b35a9c265ec3d31bc5eacdd92f396
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 02:56:27 2010 +0200

    Add agent boilerplate and tweak build system.

commit 9ec35f17f6f4bce10efa424b1b3d4f31b625581e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 29 02:33:42 2010 +0200

    Fruitjector support for data string, lifetime tracking and improved cleanup.

commit c0dcc397de7b6de86724be03cc786b0f84b2830c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 28 05:01:12 2010 +0200

    Remotely run tests as part of 'make check'.

commit 914ee35fe9b89b4e2baab6f08e2e4a107c414d2c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 28 04:56:11 2010 +0200

    Remove debug cruft.

commit 368d5b7f94fe464ceebbea2787c2a24b9539f1e8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 28 04:50:28 2010 +0200

    First Fruitjector test green! \o/

commit 59350e6e99ed519fec077d470a92beedb17983d1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 27 23:23:32 2010 +0200

    Most of Fruitjector's payload code generation in place.

commit a26bae0a13117d8cb54b3665e9301db0e7ab04de
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 27 02:21:59 2010 +0200

    Prototype of remote code execution is working.

commit 118f177d4ea92601241891c4636188ae97035c01
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 26 22:27:28 2010 +0200

    Fruitjector now crashes the target process.

commit e045894527dc5328fdc6a6f98affe26874e40b72
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 26 14:26:19 2010 +0200

    Test infrastructure mostly in place.

commit 23d8758956e7c704e86eca3cc399deb63c5855fd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 26 01:59:08 2010 +0200

    Implement process spawn and wait.

commit e944c446bf72cc3ca6a35c39f8da70355249458c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 25 21:40:41 2010 +0200

    Early beginnings of zid test infrastructure and Fruitjector.

commit 71de57a49f494cabc2b61a8fdf2669919c91e72f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 25 19:55:56 2010 +0200

    Do automatic code-signing, and add 'deploy' target.

commit 73c2d4f39e90ed2f3c920e25dd1fa74ea479a24b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 24 18:46:56 2010 +0200

    Add toolchain's vapidir to default vapidir path.

commit 6e6e135f4aefadbf987b83d1a6e1e15704debb26
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 24 15:28:50 2010 +0200

    Build system WIP.

commit aadb425b9e593a90147e9519c7a3cbdbe460fc64
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 23 17:22:27 2010 +0200

    Work in progress fixup script.

commit ca9b231965d3f95c5ef770fd1557915a4e9954d3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 23 17:08:43 2010 +0200

    Start moving towards generic build infrastructure on UNIX.

commit 3583f1aa08a07dd23c16622affa4e827fcd46789
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 22 19:48:25 2010 +0200

    And finally the last piece of the puzzle -- instance tracker is back!

commit 634617afa91e415aaf5c2bf49e330bbc3c39a732
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 22 19:24:46 2010 +0200

    Finally bring back memory dumping and disassembly.

commit 53dcbfda61b6c20534557982c8c3622999c8b648
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 22 19:06:27 2010 +0200

    Revert accidental change.

commit 9631ed09a9840ab1d90e13444edc9c118eb5dfec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 22 19:00:02 2010 +0200

    Bring stalker feature back to life.

commit 4c65621978f5c3d0a7e0e6861eca0a97ca233503
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 20 13:52:13 2010 +0200

    Fix subtle race condition in WinIpc.

commit 29bc88de70b5dc147d9107a2d9bcb861d8d47c3b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 20 13:36:24 2010 +0200

    Tweak root hpaned default position.

commit c35bd32f8fcd18225104d642003d641724641bf1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 20 13:32:53 2010 +0200

    Tweak not yet implemented message.

commit 59cf98bcdf0f1ce16855d0b749436bbb4dc0873f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 20 13:07:29 2010 +0200

    Bump SDK version.

commit 0c8be79999bc4bedbfb3a77852b900670746f8cc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 20 11:48:03 2010 +0200

    Add dummy implementation of attach_to which just kills the process in question.

commit 1e8fbbda476da4ab047d95c95f90a8327fe5a7be
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 20 01:04:24 2010 +0200

    Bring script message back to life.

commit 5e90a44e862a308edf91594c680e6bdd7b80e169
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 20 00:52:16 2010 +0200

    Bring back proper cleanup.

commit 51fa1f549af81d27014e789087b92311eb7bcd33
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 20 00:30:38 2010 +0200

    Bring Script functionality back to life.

commit 79ffc5529c4be3d8ab6acacafde23289d830fa5c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 20 00:15:36 2010 +0200

    Bring module enumeration back to life.

commit a64f726b512250108321905538f726bd89000dc4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 23:23:28 2010 +0200

    Start moving stuff into Windows backend.

commit 998ba0563969ded7aeb700d05ac7e0660b44065a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 19:58:24 2010 +0200

    Auto-refresh process selector.

commit 6e932f5dcd87e1fb3f76b811e332f5d054546213
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 19:31:51 2010 +0200

    Adjust focus chain and rename a bit.

commit ce66cdd9b2a4e1150ca4b6ab3b5350426c5c37ce
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 18:51:53 2010 +0200

    Get rid of ProcessList, move ProcessInfo and rename add button.

commit c65993e4c88731e163c06179b64896fb1623b2cb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 15:37:44 2010 +0200

    Always show session scroll window.

commit d746d320e5f42ea0fc96be0b8c0df04838547ed0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 15:34:00 2010 +0200

    May get double add/remove, so handle that silently.

commit ec6033f04819498248c7c7144ed8cdc173f2b224
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 15:33:24 2010 +0200

    Update UI when the currently active provider is no longer available.

commit dbdf5d907d0699518f35ecbe72ce8b5504f92e59
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 15:18:19 2010 +0200

    Tweak root hpaned position.

commit 9f3f067bd724ab98320ab16981310accb41392d4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 15:14:18 2010 +0200

    Clear entry text when switching session.

commit c2c710dfac2a9dfea527561637605911227665dd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 15:09:14 2010 +0200

    Update zid-server to new API.

commit 4ba57bbbae6fe358335b1d8b6dbd0d9beef140f5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 14:44:12 2010 +0200

    Report error when failing to activate provider, and fall back to previous.

commit 44075ae77c86c088918e05a1bedd6f5cc58cbabc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 13:47:39 2010 +0200

    Update with pid when making a selection.

commit 48ea16eaf8a4e1eec4abde3376d94832133ccb63
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 19 13:03:41 2010 +0200

    Don't do anything if new session is the same.

commit e1f0767321017f5811093464da9a297fcc11ecda
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 18 23:02:16 2010 +0200

    Bring icons back and make ProcessSelector show things properly.

commit 88d23e325ada94421dc923864d84cbd6a7082b08
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 18 19:59:11 2010 +0200

    Remove escaping of newlines as it confuses MSBuild and leads to unnecessary rebuilds.

commit c3fe8669e31a6265685e0e31804f61e6312d2f6c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 17 23:10:34 2010 +0200

    Further integration work in progress.

commit 08eaace138730c09d4db370532da03822a8d85cb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 13 20:55:13 2010 +0200

    Bump SDK version to get fix for GdkPixbuf's GDI+ loader.

commit 15213b188bcdf2e75d3c95dc9bbbfc571cbac1f6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 13 20:53:19 2010 +0200

    Introducing ProcessSelector, work in progress on moving towards new architecture.

commit 2ddb284d36d62136856762e07a7de9927a2c88d1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 13 18:09:31 2010 +0200

    Remove response_id property from login.ui, not supported by our old version of GTK+.

commit e1cf8265e7fe938f2d6231a599805d3062d56049
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 13 12:59:54 2010 +0200

    Finish integrating resource compiler.

commit b121a09b49d22e6e321b63a70f90989e01fb6682
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 13 03:56:31 2010 +0200

    Work in progress on doing proper resource integration.

commit bb0f9cc7499443d08e651fa98816621945ac1154
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 13 00:26:19 2010 +0200

    Add first image resource.

commit bae0e60183bf5f17b42a443bf10b1a2fdd0f8941
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 21:59:02 2010 +0200

    Bump SDK version.

commit d745b1365fdab42ed702ab897861c4c65a868b8d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 21:58:30 2010 +0200

    Revert accidental project file change.

commit 23fabecbc8aed2887293866a9fa51cbb10e9740c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 21:50:49 2010 +0200

    A few steps closer on integration.

commit cca5223b62e530c3bf7f5111c399da807a8a2f62
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 21:21:16 2010 +0200

    Auto-attach to local provider implemented.

commit 2a25dc5321f1f37e396429481bcf208011e09396
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 20:35:36 2010 +0200

    Oops, make sure the code actually compiles before committing.

commit ed871d08edda49be944d2399f4ac3cf668071192
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 18:32:34 2010 +0200

    Work in progress on HostSessionService integration.

commit f845715a21ac3071e460dbb6f38897a45f5429e8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 17:37:24 2010 +0200

    Refactor and prepare for UI integration of HostSessionService.

commit 50e119cec08d91e92e719aebf5c0caa58cbdbc14
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 15:34:13 2010 +0200

    Fix Windows backend regression.

commit a63bbe58a258410d91d7852b0f43ca5dadd92ff3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 15:29:35 2010 +0200

    Make Fruity test print processes.

commit 0e254c7fa0abbe48b80ec21257f14ecf80e4b047
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 15:27:57 2010 +0200

    zid-server now implements HostSession interface.

commit b94b76dbd9677a8fc74e2c73f5d24c98925451ac
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 14:11:20 2010 +0200

    Move IPC types into lib/interfaces.

commit ec8d682df6faaa9b08d9d4a08fcb4d7b698c8905
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 01:52:30 2010 +0200

    Hook up Fruity backend to DBus and actually make a function call across the wire.

commit 3be637fcea407f055dcde65cc68a1d1206fdf06d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Aug 12 01:19:13 2010 +0200

    Fix Fruity.Client so it's actually able to establish a TCP connection.

commit 9832836fefb49592c0f0f1c23f989cdd42ed5f10
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 11 23:10:53 2010 +0200

    Improve feedback when attaching script.

commit af6ec77e54f9199f356d02522de41c10eb186236
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 11 23:10:33 2010 +0200

    Explicitly shutdown ScriptEngine to break any cyclic references.

commit 8edd63da891bceb885470f93022bf8f81fc5b996
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 11 18:57:56 2010 +0200

    Use different ResourceStore for normal and elevated factories to avoid IPC clash, and improve cleanup.

commit 95deb099940c251c5238b6ee7134f597b33097c0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 11 18:56:10 2010 +0200

    Adjust dummy name for unknown processes.

commit 273643033feb4bb7ac9fcdaa89f310e6f2f5c902
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 11 18:55:33 2010 +0200

    Connect request's port is a short.

commit acf1d4ccd4787b0c74e7174b57b7826093143a13
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 11 12:20:49 2010 +0200

    Bump SDK version.

commit 0789d2ba3cfb7efd11fe41dadadc89ee675f3fc8
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 10 18:35:08 2010 +0200

    Work in progress on FruityHost support.

commit aec607b1f2f82266b939cc3917b12cdcc6335bc0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 10 00:29:32 2010 +0200

    Fruity implementation is getting there.

commit d4b1cec0efc509a88de6cec5907fb7bd59ea07fc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 9 20:03:47 2010 +0200

    HostSession* is shaping up, Windows backend in progress.

commit 9d1376983bfbef934ac46324096f0089d6894c2a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 9 00:23:58 2010 +0200

    Boilerplate for HostSession{Factory,Provider} infrastructure.

commit 7f8f1e98db3f7792056d504061f52788f3d36947
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 7 12:51:27 2010 +0200

    Bump SDK.

commit 12af156590cd09b1b05a8e741f4f62f24d197b42
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 7 02:02:37 2010 +0200

    Invoke dummy method on iPhone server. It actually works! \o/

commit 5ae554e4610dbedfb730a5de6106be6348a91f6f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Aug 7 00:02:03 2010 +0200

    Add temporary hack to make it possible to interactively establish a D-Bus connection to zid-server on the iPhone (over TCP).

commit 63ee9ad0b553337f8f0cb671407aa81c10d5fed6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 6 23:05:42 2010 +0200

    Update SDK and port async glue code to new Vala API.

commit 0d9988d164a7047d201799b500d400e0ce881eda
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 6 19:47:21 2010 +0200

    Get some D-Bus boilerplate in place.

commit a61b61fe60eca2c55bcb49469dbf727d5f2bb7d0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Aug 6 16:07:06 2010 +0200

    iPhone hello world.

commit 50408fec2f6c048f112a4b2082279e9349f4da86
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Aug 4 18:40:37 2010 +0200

    Add beginnings of iPhone build infrastructure.

commit 8009659c10e9f86b0d4db41862d86697f7ee5e5f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 3 15:41:06 2010 +0200

    Add GUM to list of packages, useful while debugging.

commit 9d0d89898a78201bfdd2e06b1018cf0362465679
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 3 15:40:15 2010 +0200

    Fix two heap corruptions and IntelliSense warnings.

commit 109743c14ff10e2fa3c0f85fc3f09c1902666fac
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 3 02:13:54 2010 +0200

    Implement important feature request from MikeS.

commit 199018df0bc2b0b0ca7c6ba3bc3d93747046a60b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Aug 3 01:23:17 2010 +0200

    Instance tracking implemented.

commit 77ab10cf800421dd7487e9e292f835d247d4c334
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Aug 2 21:43:53 2010 +0200

    Work in progress on MemoryTracker.

commit 0e77e2418cd489f7b34b83d8a5c24e7ceb59abe2
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Aug 1 15:30:48 2010 +0200

    Move GUM's vapi to where it belongs, and hook up GUM in zed-tests.

commit 97fab797f2d7e3e894c3b639d99df3240752d6e4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jul 28 23:10:23 2010 +0200

    Fix x64 build and one warning.

commit 99552a637a16ed89d5f915695c90e6c435fad7f7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jul 28 23:05:14 2010 +0200

    Start reviving Profiler, and refactor quite a bit while at it.

commit ad2c445ffc6d518162908fb8f437a3dd66e80e3e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jul 27 18:35:04 2010 +0200

    Bring AllocationTracker and AllocatorProbe back to life.

commit f46e0bca2ec194a9c58cc90e3a6a85a39e3e3e44
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jul 25 23:46:08 2010 +0200

    Use VC_EXTRALEAN all over the place.

commit ecfaaf6d88491dd974e61cba7478fe8ea697f7d0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jul 23 22:21:28 2010 +0200

    Gum.Script now ported to 64 bit! \o/

commit d2ee5817171db15ccbe46b54a8f14b8fb2c63c23
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jul 22 02:29:01 2010 +0200

    Refactor GumInvocationListener and Interceptor tests.

commit 40b6d91f06cb920be454348b770b1c961d11f517
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jul 7 00:42:25 2010 +0200

    Fix race condition where response is received just before we've queued a handler.

commit fae940c4e5cca3a243036b3549e45c4e97dd908d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jul 7 00:39:39 2010 +0200

    Change 'secret' navigation hotkeys to avoid function keys, as they're a bit annoying to use on some systems.

commit 3137cda7c7e18973b19d84375c4a04548464d4c6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jul 7 00:37:16 2010 +0200

    Add some debug code to winagent, disabled by default.

commit 5707b72561ee52901ae957822545a56ae594e873
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jul 7 00:36:02 2010 +0200

    Bump SDK version.

commit 3da37614c5a5b39f3d499743ab492ae60c8b90c6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jun 18 02:39:55 2010 +0200

    Enable word-char wrapping on console.

commit bc081c6c317c7f765ef7ad37ebf1605dae77c39e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Jun 18 02:37:11 2010 +0200

    Show messages from scripts in console UI.

commit de861c2066e81a19f5af56046a9a0b29887e0c4a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jun 17 19:57:01 2010 +0200

    Report script address and size to help debug scripts.

commit 433f79f40b678217f382e1b755a9acca28710425
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jun 17 01:51:33 2010 +0200

    Add failing test for Gum.Script, and refactor a bit.

commit 2f72abe5d0c0367204bc6b9788f6ea09997ff57f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Jun 17 01:29:00 2010 +0200

    Implement all of the Agent-side Gum.Script housekeeping and use fake implementation of Gum.Script.

commit 8abb4d05fd66a89c1f46cf7ac01d23be81e6cb80
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 23:47:07 2010 +0200

    Add attach and detach script commands and refactor a bit.

commit 0ab0d8f6cfc6d36e982adbf5ae66ebb44f85d71b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 23:46:49 2010 +0200

    Suppress another warning for now.

commit ddd6b1d8cb2d7d359cdda83df40b931b32243c9a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 19:05:43 2010 +0200

    Tell udis86 about the PC so we get higher quality disassembly output.

commit 2a3944ce9bf4c2e01aeb4a510f717909651c9e14
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 18:51:15 2010 +0200

    Make console input text in white.

commit 85b476983690a3aefef06cc3c9edbe834d0f97ad
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 18:36:51 2010 +0200

    Add dasm command for disassembling code in live memory.

commit 215d45d4b65db92dcd69c98fd99e7988a758838c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 17:03:16 2010 +0200

    Sync modules after injecting, and only flush to disk after 5 seconds without any changes.

commit 098bd783c1ad8ecd62c1b0ba393d677d3658f2eb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 16:37:12 2010 +0200

    Extract memory region spec argument list parsing and refactor a bit.

commit 50156baea56842dbfde37fc8cbb3ec3decf012a6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 15:14:02 2010 +0200

    Implement memory dumping and improve console UI.

commit e4f80f64632e5c2e0862e9b99837e23427ea42a3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 13:33:07 2010 +0200

    Console input improvements. Beginnings of a dump command.

commit 4b85b8b19875c33606fe65123b224d0170c77d9b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 13:32:28 2010 +0200

    Ignore a couple of extra warnings for now.

commit 9b39cec58d105d59ff39904a47930859bee22788
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 11:59:52 2010 +0200

    Style the console view and entry, and add API to easily write to console.

commit 8d9cedf20bac1b9826116d25cd03733abe9c94ac
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 11:11:37 2010 +0200

    Add Console tab which will be used for debugging and advanced tricks.

commit 34406d7a83198186cbcc32cdd0749d93de11cf18
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 10:26:06 2010 +0200

    Add renaming support to the UI.

commit 8e252b7139452131448f41e2260ffd3e82482f45
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 16 00:28:56 2010 +0200

    Render FunctionCall objects and fix call location offset calculation.

commit 93de7ced91deecf859f7e92e6faa02e5e73e2b90
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jun 15 23:50:57 2010 +0200

    Add an assert to ensure proper ordering.

commit a85a2e30b73c603ca906c4dee1ee73c5a3252221
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jun 15 23:50:42 2010 +0200

    Fix some bugs in the processing code.

commit 74dcb18e60805fc8a05728c2fef868eda798ff31
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jun 15 23:25:08 2010 +0200

    Continue integration of CodeService, and evolve it a bit further.

commit 2fddaa2e48bc76ecf6dcdae2d8477d10d73443e7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jun 15 22:49:50 2010 +0200

    Support dynamic functions (functions not belonging to any module).

commit 9db981ed328bafa794741d36dcfc909903319558
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jun 15 21:57:28 2010 +0200

    Start integrating CodeService.

commit ff7a63b5cab48085af0e4928b7264b8fe450a86b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jun 15 17:48:54 2010 +0200

    First CodeService tests green.

commit b6c4afedf05c6db6132121e432b6f7b084b6436b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jun 15 14:07:04 2010 +0200

    Remove CRs from vala source code.

commit 9d671a41f00a068031c67783534e6919ffca8ff6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jun 15 13:21:14 2010 +0200

    Introduce StorageBackend, use it in Configuration and start prototyping CodeService.

commit 6c293133b78b752f4a35b9d1c313820f8feea6d1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jun 14 20:40:06 2010 +0200

    Add unfinished test for sudden disconnect.

commit 14c53ae645199601b9921cf7b0862856742d15da
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jun 14 20:29:57 2010 +0200

    Simplify Agent's module and function query implementation by using GVariant directly.

commit e44984d4edc631dfd4b0f29302f5936560b6e82f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jun 14 20:02:53 2010 +0200

    Show session view immediately, don't wait for injection to finish.

commit 5dd8e4d916b947d367ec8170b535e5c69ace9248
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jun 14 19:58:01 2010 +0200

    Fix a bunch of warnings and update suppressions.

commit d7f58d8ecc06708092f0c476a0cc1ac4aca03577
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jun 14 03:23:16 2010 +0200

    Display clues in UI and end investigation properly.

commit 4d669d3af08e5ad2480601306b5be6e23c4f7037
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jun 14 02:54:09 2010 +0200

    Investigator is getting there.

commit 15fa49387ffd942d32f7665b9efb6e520afc65e4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jun 14 01:24:58 2010 +0200

    Remove auto-steal of focus in Chat UI.

commit a547605f12949d2020ecac815111c41b1090365c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jun 14 01:22:00 2010 +0200

    Start with a default module and function in FunctionSelector.

commit 3d0844cba40863d05fae4fe5ff14105bf6709e54
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jun 14 00:53:07 2010 +0200

    Yield when closing each session in Presenter.Spy.close().

commit 19b978c0101d21afefd5cfec08db1f2b7c9ee1ed
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jun 14 00:51:03 2010 +0200

    Update filters.

commit da58835b5a1699cad122c7cd8bb1f11c80321d31
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Jun 14 00:49:53 2010 +0200

    Make active session's entry bold and switch to first in list if it goes away.

commit a15ec9668f37f8142883668a948bfedfa8665ca5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 23:37:34 2010 +0200

    Change ProcessInfoLabel to use the app's large icon and move text to tooltip.

commit 0c3da69dfca386b4b6389d0effb99f932c1f3981
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 23:02:11 2010 +0200

    Set a default position on the HPaned between session list and session view.

commit 88665e7c17bfb05e17ce25132206bc00aea75522
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 22:57:42 2010 +0200

    Move ProcessList to Zed.Service namespace.

commit a14df0d7e55b8855b0a69f03967d612004a4a744
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 22:40:13 2010 +0200

    Improve UI and refactor a bit.

commit d64973a50387ea2a43691f556f2259a182e11065
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 19:06:28 2010 +0200

    Investigator should only attach once when start and stop trigger functions are the same.

commit 0d89b65e3883d9ffedd71260e2e5d19e1fe82808
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 05:04:24 2010 +0200

    Moving towards Investigator.

commit 8d54bbd45a14b949ffefeaf812aadaad50e70f37
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 03:15:21 2010 +0200

    Only enable Go button when start and stop details have been provided.

commit a519bdb98e9cd7b23df205239675ae3f03e1b7c5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 02:35:51 2010 +0200

    Revert accidental change to project file.

commit b175efb2a7d7600e5c372fde66de26a1f2f9bf52
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 02:35:14 2010 +0200

    Disable session actions when not injected.

commit bcafc69ec2f7500c3c179ab749b175366d26d2f4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 02:23:30 2010 +0200

    Add missing vala source files.

commit 104ce9f13041977543ff37c042e6071c6c10e0da
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 02:23:23 2010 +0200

    Fetch functions when a module is selected.

commit 550e237758bc925e56baf02cda0623ea8e431df7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 02:21:58 2010 +0200

    Bump pipe buffer size to 1 MB for now.

commit d52942151f501a3ebbe144b5d2245df9a46e8ffb
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 01:48:21 2010 +0200

    Fetch list of modules from target process.

commit 2e8df17dfa7ca23ebd52909aab21dd291db226d3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 01:47:39 2010 +0200

    Use GPtrArray instead of GArray.

commit c47e4334126f38e1d9815a67e8b382e187311da0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 13 01:02:45 2010 +0200

    Add some more meat to the session view.

commit a761f8afedf987363f683f76ed91114922836c95
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 12 19:27:12 2010 +0200

    Refactor Spy presenter and view a bit, preparing for the next step.

commit 1556f1b825c03c7bdc4d62463d42add551aa8397
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 12 19:03:13 2010 +0200

    Replace AgentSession's pid member with a ProcessInfo object, and show icon and name in session view.

commit ab284ad7e169ab2de0b14c3ea1d41293d5eca6bc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 12 18:09:45 2010 +0200

    Add icons to process ID completion list and schedule update on focus-in.

commit 5dc3fca512836ff4543a02c985f6cf13d6d97049
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 12 01:37:46 2010 +0200

    Implement completion of process IDs, refactor and handle terminating a session.

commit ca13e6f1fa6e5728b10c582978df7daa766844cc
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 12 01:36:43 2010 +0200

    Define VC_EXTRALEN before including windows.h.

commit b8f947e5528245dad66bf6b2d98ee1730ca8fbda
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 6 14:58:01 2010 +0200

    Switch to new SDK which adds Clutter and Clutter-Gtk.

commit 4ccd10f9e70832a069ef2d28fcea78497ac87f49
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 6 14:47:39 2010 +0200

    Bump capacity to half a million calls and add overflow assert.

commit 0e5bd148c9896bc468d090fa6f83838361df1b36
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 6 14:47:06 2010 +0200

    Don't disable g_assert() in Release.

commit 01ba4a2d4d38c585930aa091c16494bdf45dfba0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Jun 6 01:52:30 2010 +0200

    Support DLL injection with the traditional CreateRemoteThread approach, and default to that for now.

commit 67d4a2bea60324c5ba173df9f5e5e95519343c29
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 5 22:31:25 2010 +0200

    Send Call location and target across to the UI and tweak a bit.

commit 178b62c860591abeae43b0b40654a36c2929b83c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 5 21:54:03 2010 +0200

    Stuff a dummy event at the end.

commit 6da396adef9aa7828e74d18c49578bfcb40da1d6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Jun 5 03:35:50 2010 +0200

    Stalker kicks ass, seems to no longer lose track of the stalked thread, hence we can now unfollow() it! \o/

commit 0bcf1b04175cef92c46af1bccf81a3813ffcfeb3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Jun 2 00:45:58 2010 +0200

    Fix resolving of function name by fixing silly lifetime bug.

commit 95431fcf88089255f91af9414585a46de344193f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Jun 1 03:31:33 2010 +0200

    Make FuncTracer a bit more useful.

commit 19f0e56dd87922d07b9d75edd0b9569872cd2389
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 31 02:55:00 2010 +0200

    Bind remaining event types.

commit d6f707d0081b2d45feecbbe2e2db33a933a587e7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 31 01:55:35 2010 +0200

    Don't unfollow for now. Need to figure out why we lose track of the thread.

commit dcd71f7026ab7386e363ac1ee4a70f88305e6624
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 31 01:54:53 2010 +0200

    Add number of functions as first element for now, as we truncate it currently.

commit a1c039e7529005f4ee380ab41a30278f373c4b59
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 31 01:53:57 2010 +0200

    Fix signature of FuncEvent.

commit 4ba98ae602ae8c5466239ce5a2f82826e512e1e3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 30 18:40:40 2010 +0200

    Do bounds-check before writing out of bounds.

commit 3fd45e818848cd43a849b0432239c65c07fcd1ea
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 29 02:06:38 2010 +0200

    Start prototyping function tracer which stalks each thread between two first calls to a given function.

commit dd77123df3bf95b8267126dadddeda1565f42186
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat May 29 01:59:27 2010 +0200

    Leave WinIpc.Proxy arbitrary blob size support for later.

commit 6d2194bc06bdad7377619dac3096fddfc5ac8c69
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri May 28 20:28:30 2010 +0200

    Closing in on arbitrarily sized blob support.

commit c680270f423129b3d5d7ed5bb01f314819f17a19
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 25 22:34:19 2010 +0200

    Start moving WinIpc.Proxy towards arbitrarily sized blobs.

commit 3e2fc0bd5ae03ae10513973a8aa62d0f02b43a75
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 20 00:49:01 2010 +0200

    Add failing test for WinIpc Proxy notify with huge payload.

commit 6dff49ebf4aab936fa030e8e709a3939f61aea06
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue May 18 19:06:12 2010 +0200

    More GstTracer basics.

commit fac344f92d4681fd57ea6ffcc4a26051e55e069d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 17 22:18:08 2010 +0200

    Improve error-reporting in case of unsupported signature. Move to Gum later.

commit 4307a780e5d83a68c9da78c96605c0576611ecbd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 17 03:17:36 2010 +0200

    Start prototyping a live GStreamer tracer.

commit e0fb6269aa98ab1eebf0e53ff6370f050109f416
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 17 01:06:28 2010 +0200

    Switch remaining files to UNIX line endings for consistency.

commit c5545811c92125afa81728648b233ba371d31da6
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon May 17 00:58:25 2010 +0200

    Add project files for Gum, reorganize and fix some warnings.

commit 9cf1935075540a123001f60ec1e7830d064a637f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 9 23:37:52 2010 +0200

    Send fake FunctionCall events from agent every 1500 ms and show in GUI.

commit e84dafc2a27c2ab4b1fa3ba669e56c6364a4b97b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 9 23:24:20 2010 +0200

    Don't assume that all entries have Proxy objects.

commit fa2db1d33a772e882ed5af90d3142cd3de91deef
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 9 23:16:51 2010 +0200

    Stop agents and do proper teardown of Winjector on exit.

commit 9c5570504d6a6b9900836ef7a88355e6b9968d58
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 9 02:54:46 2010 +0200

    Add prototype UI and boilerplate for agent to be used for spying on processes.

commit 0199582c290bb5e430aef8d483a302cbd2cb651c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 9 01:17:16 2010 +0200

    Make Winjector take care of file storage for injected agents.

commit 37353158c072f266eaa8df9249697a6fe47fb635
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 9 01:14:08 2010 +0200

    Tweak post-build serialization step.

commit 7f11bcfc83156fa067c27d0ed1a54f3a0345a332
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun May 9 01:12:57 2010 +0200

    Fix inconsistent line endings.

commit 774a7db1da0f06f85f04ddfef24936799442800b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 6 00:47:13 2010 +0200

    Change Winjector to take care of setting up an IPC proxy transparently.

commit 5bbcc99a0b87e111a7bb15ab6aa2ee3ac6daa843
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 6 00:45:59 2010 +0200

    Remove redundant element in Release props.

commit 1c61ea87bbdd447f25c81219bb89106cd7c77638
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu May 6 00:45:15 2010 +0200

    Make winattacker conform to the next Winjector API and refresh binaries.

commit 02d1d9ba6ad679610cf58394d96bad4576f17842
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 5 21:13:04 2010 +0200

    Upgrade labrats project files to VS2010.

commit dbe8a98c54383bf68758dba4abd2c68d1f52e7f4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed May 5 20:21:06 2010 +0200

    Winjector x64 test green!

commit addcdde99fb83a20734b596da98c96bfd02e6a7c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 29 01:23:18 2010 +0200

    Add failing Winjector test for x64, and partial implementation.

commit c61997397c7125e12f569cc4ee7994cdc291a9de
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 26 02:16:49 2010 +0200

    Winjector fix for unlikely process handle leak.

commit 9053df99c2e07819d4917bcb7050dd7247cbffd1
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 26 02:11:33 2010 +0200

    Update warning suppressions.

commit e3f3838cf276cbccca1eda51ca5cd8315e53e66b
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 26 02:04:59 2010 +0200

    Winjector should wait for helper process before trying to delete temporary files.

commit 1d22608331e6bc86a4aec3c8d52ad3e7c4334d59
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 26 01:24:59 2010 +0200

    Winjector should hide its helper's console window.

commit 7f4822bb5478a34f1f80ba807eea2620eccf3066
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 26 01:22:14 2010 +0200

    Winjector standalone (non-privileged) mode now implemented.

commit 4004aad12d302746da02bd2d589ebdf37512ed93
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 25 04:10:04 2010 +0200

    Winjector test green again! \o/
    
    Now using proper Windows services that allow injection into most processes, even in other sessions.
    
    Remaining TODO:
    - Finish standalone (non-privileged) mode.
    - Improve clean-up so we wait for the manager process to exit before deleting temporary files.
    - Add x64 injection handling to backend (winjector_process_inject).

commit d53c6d09eedff5d1232301fae41d55ff4e69185d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 24 17:26:19 2010 +0200

    WinjectorHelper getting closer.

commit 85a7bb92ab5f95cb3b50450f5ba4e6b1aaa8c1e3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 24 17:01:41 2010 +0200

    WinIpc.Proxy support for overlapping queries.

commit 3000e0b805786984eefc64fa571e4fa808482e9d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 24 16:18:12 2010 +0200

    WinIpc.Proxy support for async query handlers.

commit f4e89866a2f4a0920d9b71760679a09b9284ddd7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 24 14:20:00 2010 +0200

    WinIpc.ServerProxy support for custom pipe address.

commit 03b8d4d518cab93557a3e99f295f8a34bf21b39e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 24 02:02:46 2010 +0200

    Beginnings of Winjector managed service implementation.

commit 4469a6399e4b7b50862eed5b7459a407912ff45e
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 23 20:11:51 2010 +0200

    Winjector service management mostly implemented.

commit 51e39d9d40dc370540b10c780b70c110a1624e10
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 23 16:22:11 2010 +0200

    Add more meat to WinjectorHelper.

commit 639415404ea5d695dfb275aa06899e56ceb45905
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 23 16:21:10 2010 +0200

    WinIpc.ServerProxy.establish() support for timeout.

commit bf16a81a766eb0a8efdb0f43de0cbb67d06fc852
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 20 23:04:07 2010 +0200

    Another take on WinjectorHelper. Work in progress.

commit 9d1b6c0a3186c06d2f301263dbc5bd0b04544632
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 18 20:02:16 2010 +0200

    Enable word wrapping for chat textview.

commit 8d82d5434aa147050f33d3cc8f8c3dc8888a1f4d
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 18 19:21:14 2010 +0200

    Rename proxy-impl.c to proxy-backend.c and move a typedef where it belongs.

commit 1e596bb9d6d6f6c7689483abcb58a575e129fb7f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 18 19:05:17 2010 +0200

    WinIpc.Proxy support for unregistering query handlers.

commit f2e7237a994d1001102ccc904a0a6d7d70efb648
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 18 18:54:11 2010 +0200

    WinIpc.Proxy support for removing notify handlers.

commit 8d83fda3fd15b4e7e3a8c8da920e34d88f71f0d4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 18 18:37:38 2010 +0200

    WinIpc.Proxy support for notify with argument.

commit a0adb54d37443136293031b3233680bfdc9a2d63
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 18 17:32:32 2010 +0200

    Upgrade project files and SDK to VS2010.

commit 4fc95afb0f887e8d466ed010704f5de650e8faf3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Apr 14 00:48:04 2010 +0200

    WinIpc.Proxy support for basic notify.

commit b5bb9005d9a5272ea918eca480ea0ca929b571c0
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 13 02:21:31 2010 +0200

    WinIpc.Proxy support for empty query handler response and validation.

commit 496eacd5bae3a81a1a0e184509bd56830bd6c8da
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 13 01:31:37 2010 +0200

    WinIpc.Proxy support for query handler response validation.

commit e89dcd8104f00741d9502c2f8e54db7ee942d357
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Apr 13 00:59:48 2010 +0200

    WinIpc.Proxy support for query handler argument validation.

commit d62aac11e740315f5a5d7cf4fdc98f93adf225de
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 12 22:21:54 2010 +0200

    WinIpc.Proxy support for query argument, and some refactoring.

commit d952fa147ce4a753093a2d4f48c67ad32bd64508
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Apr 12 03:03:44 2010 +0200

    Refactor WinIpc.Proxy to use GVariant and an actual wire protocol.

commit ed97e828f322f2a36dc610d37b39071b1f120a40
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 11 01:51:00 2010 +0200

    Output zed-tests executable to intermediate directory instead of output directory.

commit 520e91ac289a48b911f283dede6caa1b5851f479
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 11 01:28:31 2010 +0200

    Update SDK URL to latest, which updates Vala to the latest and greatest.

commit 259217c740cfad0ff21c74fe925c6893372ea660
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 11 01:22:42 2010 +0200

    Fix C stubs so they compile warning-free with latest Vala.

commit 435abeb008c2d88fe4583414e6731896e9ad4911
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 11 01:21:59 2010 +0200

    Remove has_target hacks no longer needed, Ali fixed the underlying Vala bug.

commit fb91476fcd2fab62704170a9f33fab08038effc3
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sun Apr 11 01:20:20 2010 +0200

    Refactor tests and move WinIpc test sequences out of harness.

commit 1bb4f570e033b23f8b25b6a85faa9f99db82345f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 10 05:46:14 2010 +0200

    Query test green! \o/ Time for fixing the protocol -- GVariant here we come.

commit fc6d3601b8ee0de06ae1740b09114ea64821ed73
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 10 03:56:58 2010 +0200

    First WinIpc send/recv test. Work in progress.

commit 17a4d431dfc3e9c8d18b479d95a7692f837888e5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 9 22:56:04 2010 +0200

    Test coverage for ClientProxy error handling, and improvements to the actual handling.

commit 8655ef24287480716ca731a893768fef319dcf62
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 9 22:04:02 2010 +0200

    High-level logic at the top.

commit 83abc99a4c6e07a95c8e358aa2f04242fe2d3f34
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 9 21:42:04 2010 +0200

    Don't use the default GMainContext in WinIpc tests, for increased strictness.

commit f39a8a5acb9d91a11003941f8ff44644c4cbc6cd
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 9 21:28:16 2010 +0200

    Refactor WinIpc tests to reduce duplication.

commit 012d66bad17c2885e568d15a8ab3d5a233a79579
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 9 21:03:56 2010 +0200

    Revert code that was supposed to have been reverted some time ago.

commit 493d19bce272c64524bd0288a741d7cc3e4f7569
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 9 21:00:22 2010 +0200

    Add beginnings of a simple Windows IPC library.

commit 442e75bfd007b2fb731134a8a6cb5d0dbf63fa44
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 9 00:05:12 2010 +0200

    Rename InputContext to InputHandler.

commit 34716a59d8640ca2afa658a99ecd585f7bd6f218
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 8 21:23:32 2010 +0200

    Adjust manifests so helpers are run as administrator.

commit 08a48890d4ebc9f2d9ccce49476194de9fb74ff9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 8 21:21:39 2010 +0200

    Disable ASLR and force fixed base for executables in order to reduce footprint.

commit ca0b70c0f125330ac7c0f94112c03aa1c79b5b29
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 8 21:05:47 2010 +0200

    Remove UPX compression in Release post-build for now, it should rather be in a deploy script.

commit 86ba2cfcd215c86bd4a3604ac84e1cbf21033039
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 8 21:05:21 2010 +0200

    Remove post-build step not supposed to be there.

commit 233e51f936f1d1aef91a24a9b7d2ad6b3ca7140c
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 8 20:56:52 2010 +0200

    Remove some left-over cruft.

commit 97377fc511c245adbf8153ec3333a24beecea6b7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 8 20:53:17 2010 +0200

    First Winjector test green! \o/

commit 979e0b15c5416ce7190afdb918638c30ccac672f
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 8 02:27:34 2010 +0200

    Fix inconsistent line-endings.

commit 7ee91a01ff24513928d92b76eb67115bed316fec
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 8 02:03:28 2010 +0200

    Work in progress on Winjector, getting closer...

commit e3a73c93f1ecb34e1e2a9160dc51c2a696018db4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 3 06:53:49 2010 +0200

    Fix cancellation check.

commit 1a8f52caa4e45ce986b3e72891afa87479645190
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 3 06:49:52 2010 +0200

    Beginnings of DLL injector.

commit c7597ea773b0b0317d3f8fa086b8831a738cd1d7
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 3 02:27:45 2010 +0200

    Remove redundant dependency.

commit 9742bdad90816b20c3da5cbaf765bf3c601fec19
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Sat Apr 3 02:24:11 2010 +0200

    Add first winjector test and a stub implementation.

commit 0060794dddf5e0263369a95588bb27abe65b4ab9
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 2 07:29:07 2010 +0200

    Add boilerplate for labrats to be used by tests.

commit ed4a6b55b4ac86df45d05d226f87f8c096d861c4
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 2 06:43:45 2010 +0200

    Add test infrastructure.

commit e0c5a0675c3bf3197d5872594dd8bdff21e36485
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Fri Apr 2 06:15:06 2010 +0200

    Refactor common build config into vsprops.

commit 4b141806baaa788d2092c1bcd1cb0a7e937874ae
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 1 23:36:15 2010 +0200

    Basic chat functionality working.

commit a28dd7fc291437bc3e32d6b467dd83619fccf204
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Thu Apr 1 07:06:31 2010 +0200

    Chat feature is getting closer.

commit 94694899f5563752cac90ad9efe19228dd185191
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 31 15:17:10 2010 +0200

    Bump SDK version.

commit d6a7dcec6749a4de981f287db5ed13c9f0e8414a
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Wed Mar 31 14:29:14 2010 +0200

    Early beginnings of UI for chat.

commit 3c1dbbae8618df3fb595fc8209967e8def594357
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 30 04:12:03 2010 +0200

    Login UI usability improvements.

commit feeae7603923891ee0a70b6da07a8e0c213be182
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 30 03:54:30 2010 +0200

    Remember username and password.

commit 2517e515d09ddd3379eb9b9ae4ef5729547dfb42
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Tue Mar 30 00:23:02 2010 +0200

    Add boilerplate for workspace UI.

commit cf3976e210d7a0e2268b334e27d6d6bd1562ea67
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 29 21:40:47 2010 +0200

    Login UI interaction improvements and cleaner generated output.

commit 14d1cd66c6da79be0c0d951035bc9fd8c74aced5
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 29 08:02:33 2010 +0200

    Minor cleanup in root UI.

commit 5a6f3e7a411677cfe749366d6c05f054e0facf93
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 29 06:56:51 2010 +0200

    Hook up Wocky and actually log in, but don't publish presence yet.

commit b8f71375d35d7279481e995bc3d0f087d5a9a603
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 29 03:19:21 2010 +0200

    UPX compress executable in Release builds.

commit 10eebaac1a28331bfa520bf4e52397439bf2b541
Author: Ole André Vadla Ravnås <ole.andre.ravnas@tillitech.com>
Date:   Mon Mar 29 02:49:36 2010 +0200

    Rename kahlo to zed and add some meat.
