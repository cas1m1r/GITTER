======================: FILES :======================
======================: BRANCHES :======================
======================: LOGINFO :======================
commit 2f5e8e5332c2e80cc4168bc1b176549ad8d099df
Merge: 88dd7f7 b429255
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Dec 15 10:24:16 2022 +0100

    Merge pull request #91 from stronk7/point_to_latest
    
    For sqlsrv, switch from 2017-latest to latest

commit b429255a73f0d36610f8f1e4999154dbfb411034
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Dec 11 11:31:13 2022 +0100

    For sqlsrv, switch from 2017-latest to latest
    
    Note that, right now, "latest" is exactly 2017-latest, so
    everything will continue working exactly the same.
    
    But once we finish with the tests @ MDLSITE-6045, we'll make
    2019-latest to become "latest".
    
    That's the reason the comment in the runner says
    "right now 2019-latest", because in hours, if everything
    goes ok, 2019 will become the latest.

commit 88dd7f7c32dd1e3254317d64073cdfc47c899146
Merge: dacb4b9 8c6c8fe
Author: Jun Pataleta <jun@moodle.com>
Date:   Sat Nov 26 19:25:57 2022 +0800

    Merge pull request #88 from junpataleta/41_disablelangupgrades
    
    Disable lang upgrades during 4.1 on-sync
    
    Merging as part of task #4 in packaging release tasks

commit dacb4b96c4d51d5cb1a24f05f9f488129d8fc712
Merge: 6b8f0e8 32ecdaa
Author: Jun Pataleta <jun@moodle.com>
Date:   Sat Nov 26 19:25:03 2022 +0800

    Merge pull request #90 from junpataleta/MR2_41_version
    
    Add Moodle 4.1 version
    
    Merging as part of task #4 in the release packaging tasks

commit 32ecdaa16beeec566d2821157021bbef6a42f890
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Nov 22 23:38:46 2022 +0800

    Add Moodle 4.1 version

commit 8c6c8fe66878f63b5b42e57d58f7b7fe6f056f78
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Nov 22 22:36:40 2022 +0800

    Disable lang upgrades during 4.1 on-sync

commit 6b8f0e857c07c8c1452df201c73769e9e6ca8d3f
Merge: 23d1022 79c14c9
Author: Jun Pataleta <jun@moodle.com>
Date:   Wed Aug 31 14:37:01 2022 +0800

    Merge pull request #85 from stronk7/postgres_replicas_10_and_up
    
    WIP: Make pgsql replicas to work with PostgreSQL 10 and up

commit 79c14c99b2af36686446ddf2b69cfae148902ef7
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 31 00:25:11 2022 +0200

    Make pgsql replicas to work with PostgreSQL 10 and up
    
    This seems to be working for PG 10, 11, 12, 13 and 14. I've finally
    left 9.6 out from the equation because it required to add some more
    shell scripts to be executed conditionally. And I think we can
    ignore that old versions @ CIs already (Moodle 3.9 works with PG 12
    perfectly).
    
    Note the changes here seem more complex, but basically it's because
    I've moved the stuff to be similar to the mysql/mariadb one, aka:
    
    - Create master / slave / standalone directories.
    - Move as much as possible to .sql entry points.
    - Keep shell scripts simple, only doing things really requiring a shell.
    
    Other than that, just renamed some setting or remove some stuff
    that was not needed (archiving, logging...) apparently.
    
    Fixes #79.

commit 23d10229496d8db16f1db3d12a384b8e1afb21d8
Merge: ef96180 6b81082
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Aug 29 16:58:35 2022 +0200

    Merge pull request #83 from stronk7/mariadb_replicas_102_104
    
    Make mariadb replicas to work with 10.2 to 10.7

commit ef96180f7f4c9112cd5559df3446f857671c33f3
Merge: 3891a8f 94a6c51
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Aug 29 10:02:27 2022 +0200

    Merge pull request #82 from stronk7/mysql_replicas_57_80
    
    Make mysql replicas to work with MySQL 5.7 and 8.0

commit 6b81082aa7fd59312deb56a891a78b055bd3930e
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 24 21:11:28 2022 +0200

    Make mariadb replicas to work with 10.2 to 10.7
    
    The code used here is 99% the same than the mysql one. But finally
    I've decided to copy it all over own mariadb.d directory.
    
    The only difference is when creating the replication database user
    because the MySQL sentence:
    
    CREATE USER 'replication'@'%' IDENTIFIED WITH mysql_native_password BY 'replication';
    
    Doesn't work with MariaDB. In fact, since MariaDB 10.2 the
    mysql_native_password is the default authentication plugin
    so it doesn't need to be specified. So this works the same:
    
    CREATE USER 'replication'@'%' IDENTIFIED BY 'replication';
    
    A working alternative is also:
    
    CREATE USER 'replication'@'%' IDENTIFIED WITH mysql_native_password USING PASSWORD('replication');
    
    But I've gone with the simple one because it's future better.
    
    As said, everything else is 100% the same, but better split that making
    complicated conditionals to get both working with the same config files.

commit 94a6c51bd7edeea66c11f9565a8839ed4e314152
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 24 15:54:12 2022 +0200

    Make mysql replicas to work with MySQL 5.7 and 5.8
    
    This fixes #80. It has been detected that MySQL main/replica
    configurations have stopped working. My personal bet is that
    some changes in the MySQL images have leaded to that, or maybe
    they were working for MySQL 5.6 and never have worked to 5.7.
    
    NVM, this commit just makes them back to work for both 5.7 and 8.0,
    that are the currently "supported" MySQL databases.
    
    Note that, after this PR, we'll be checking the MariaDB main/replica
    configurations because they may need similar changes.
    
    Also, while I've tested the solution locally, we are lacking any own
    CI for this product, so I've created an issue about that:
    
    https://github.com/moodlehq/moodle-ci-runner/issues/81
    
    Finally, here there are the explanations about the changes performed:
    
    1. Moved the bin logs from /var/log/mysql to /var/lib/mysql . Reason
       being that the former directory doesn't exist anymore in MySQL 5.7
       and up (and also, that the binary logs are better with data than
       with logs).
    2. Removed the 'multi_admin' user related stuff. Not needed at all.
    3. Minor changes to moodle and root GRANT/IDENTIFIED stuff because
       of changes in MySQL 8 (already deprecated in 5.7). Use ALTER USER
       instead.
    4. Use IDENTIFIED WITH mysql_native_password (the old password schema),
       because MySQL 8, when using the new hashed schema requires
       communications between the hosts to be encrypted. We don't need that
       extra complexity and while it can be disabled as part of the CHANGE MASTER TO
       command... it cannot be disabled for MySQL 5.7. SO the only option
       working in both versions is the used one (force old passwords schema
       for the replication user).
    5. Remove the need of stopping and starting the temp server in the
       replica. All the commands can be executed with the temp server
       running and then the container entrypoint manageing itself will stop
       the temp server and start the final one.
    6. Stop needing gosu completely. Now the replica conf files are made
       available via volume mount (like the standalone or main cases).
    
    And that's all. The changes are small and subtle, but each one is
    for a good reason, I think.

commit 3891a8f4ab36cfc5d4a7f466b0b2c78582eb9a92
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 23 12:06:40 2022 +0200

    Ensure that any Oracle > 11g doesn't use tmpfs anymore
    
    Apart from not giving a real benefit, the new machinery
    in Oracle 12 and up doesn't work well with these devices
    leading to all sort of problems is we also want to change
    system settings.
    
    Hence, disabling tmpfs. There are some more details in the
    long conversation @ https://github.com/gvenzl/oci-oracle-xe/issues/111
    (about that and many other details / iterations)

commit 08389ab2c008f1eedf9e310efc65945114bafd12
Merge: 88b8117 b6d1eaf
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Jun 6 09:13:33 2022 +0200

    Merge pull request #78 from moodlehq/testing
    
    Add support for specifying the DB tags (versions) to use

commit b6d1eafe0bac5fdae384edb516890bc13c5c070f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Jun 5 17:54:07 2022 +0200

    Add support for specifying the DB tags (versions) to use
    
    Added a new parameter, DBTAG, which behaviour is as follows:
    
    - If not specified, every database will use the currently
      pinned version (if there is any) or "latest" if not. Right now,
      the versions are:
        - mariadb: 10.7
        - mysqli: 5.7
        - oracle: latest (11)
        - pgsql: 12
        - sqlsrv: 2017-latest
    - If specified, then that tag will be used, say, for example:
        - mariadb: 10.6, 10.5,...
        - mysqli: 8.0,...
        - oracle: 19, 21,...
        - sqlsrv: 2019-latest,....
    
    So, this change doesn't make any difference in current default
    jobs (only pgsql has been raised to 12 to be ready for 4.1). Everything
    will continue running exactly as it's now.
    
    Only when we add support for that new DBTAG parameter in jobs (and in
    nightlyjobs) is when we'll be able to run alternative versions.

commit 88b8117b7ba8ca7b4e3d06282d160e5a4b23cf3c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue May 24 17:19:22 2022 +0200

    Pin MariaDB to 10.7, new 10.8 and 10.9  have problems (take II)
    
    Again (we unpinned it 3 months ago!), pin MariaDB
    to continue using 10.7, because 10.8 and 10.9 (just released) have some
    startup / init problems.

commit b93a84091e401db4f4186ddf97d76353f219803d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue May 24 16:58:08 2022 +0200

    Pin MariaDB to 10.8, new 10.9 has start problems
    
    Again (we unpinned it 3 months ago!), pin MariaDB
    to continue using 10.8, because 10.9 (just released) has some
    startup / init problems.

commit f977d82b966d0b1ac76b7fdb2f3f08e9c29335d6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 16 16:24:54 2022 +0200

    Remove the local/moodlemobileapp existence condition
    
    Previously the app was only started if the moodlemobileapp
    plugin was installed. But it may be perfectly ok to have
    alternative plugins to that one.

commit fb50f9ce19f3003286963a11431ea48303be62b7
Merge: fdce1d4 e2e1517
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Apr 28 13:56:27 2022 +0200

    Merge pull request #75 from junpataleta/40_enablelangupgrades
    
    Re-enable lang upgrades after the 4.0 on-sync period

commit e2e15170be3b1551a6e87881530be794d73f53da
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 12 11:57:36 2022 +0800

    Re-enable lang upgrades after on-sync

commit fdce1d4d7c20324b04e0d147269633e3237b2477
Merge: 7c7bee2 3a00bd7
Author: Víctor Déniz <victor@moodle.com>
Date:   Mon Apr 18 20:51:31 2022 +0100

    Merge pull request #76 from stronk7/enable_langimport_tests_when_not_skipping
    
    Enable lang install/upgrade tests only if lang upgrades are enabled

commit 3a00bd79fa53e1c0840e4c456570bb11f92f433c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Apr 18 12:37:20 2022 +0200

    Enable lang install/upgrade tests only if lang upgrades are enabled
    
    Over a few days/weeks after a major release, the lang upgrades
    are disabled in testing infrastructure, because the new development
    branch (4.1) in this case, doesn't exist yet.
    
    When we proceed to disable the lang upgrades (part of the release
    process) we need to ensure that all the tests using the languages
    install/upgrade are skipped.
    
    To do so, we don't define the TOOL_LANGIMPORT_REMOTE_TESTS constant
    so all the related tests always will look for it to decide between
    being executed or skipped.
    
    In PHPUnit that's checked with code like:
    
        if (!defined('TOOL_LANGIMPORT_REMOTE_TESTS')) => skip
    
    In Behat that's checked with the step:
    
        Given remote langimport tests are enabled
    
    For more details, see https://tracker.moodle.org/browse/MDL-74512

commit 7c7bee2f295b2f83e7e5ba38aa06ae99386fc2b8
Merge: 1499e43 25d9e32
Author: Jun Pataleta <jun@moodle.com>
Date:   Sun Apr 17 15:53:01 2022 +0800

    Merge pull request #74 from junpataleta/40_disablelangupgrades
    
    Disable lang upgrades during on-sync

commit 25d9e32c3e10c32a7dacb0c1b2340725942b95d3
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 12 11:56:58 2022 +0800

    Disable lang upgrades during on-sync

commit 1499e4388787a77a52cafc9108246458fc84fc91
Merge: 73c20f2 ecebf60
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 5 15:57:11 2022 +0800

    Merge pull request #73 from stronk7/add_ml_python
    
    Add support to run the python mlbackend analytics tests

commit ecebf60f063439c6ea7bbff375c6bf01b0a8038b
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Apr 5 09:39:06 2022 +0200

    Add support to run the python mlbackend analytics tests
    
    Disabled by default, just define `MLBACKEND_PYTHON_VERSION`
    with a correct tag of the docker image and that will make
    the container to run and the PHPUnit jobs to use it. Example:
    
    export MLBACKEND_PYTHON_VERSION=3.0.4-python3.7.5
    
    This it the first step towards adding these tests to CI.

commit 73c20f2fa47b13b55ee443f97f144a40f45989db
Merge: 4498b70 add5d74
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Feb 26 10:05:52 2022 +0100

    Merge pull request #72 from stronk7/unpin_mariadb
    
    Unpin MariaDB

commit add5d74a25780ce672084f5200bfd7bf6459978a
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Feb 26 09:45:57 2022 +0100

    Unpin MariaDB
    
    Now that 10.6.7 and 10.7.3 have been releases and their
    docker images are available, we can unpin it @ GHA.
    
    Fixes #55

commit 4498b708adf0e9fdb3d93a71c8b5495c45f388ec
Merge: 516b323 8db6d8b
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Feb 8 23:04:21 2022 +0100

    Merge pull request #70 from moodlehq/branch_40
    
    Add Moodle 4.0 version

commit 8db6d8b86392184cd3a7c271b3270bde54a69329
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 8 20:38:27 2022 +0800

    Add Moodle 4.0 version

commit 516b323cd729c295f65a017ab9cf6c0217b6de75
Merge: 6399b2f 3f79c0b
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jan 19 16:28:10 2022 +0100

    Merge pull request #69 from stronk7/bring_back_unconditional_xvfb
    
    Revert "Don't start xvfb in headless runs"

commit 3f79c0beec53c2f7e43ccbe5b9a44fcdd34cefcc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jan 19 16:20:12 2022 +0100

    Revert "Don't start xvfb in headless runs"
    
    This reverts commit 520e91ee67cb27c5f9c6973c1c9997167b1942b2.
    
    Immediately after applying #67 we have started to get all
    headless jobs failing with all sort of timeouts and > 8h
    of execution time. Headless runs.
    
    And this is the only change that has been performed since
    then, hence, reverting here and now.

commit 6399b2f204e08a2ad77a8434c834ec3ef115989e
Merge: d1dbed9 d11b5b6
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Wed Jan 19 11:24:47 2022 +0100

    Merge pull request #68 from moodlehq/alwaysFailOnRisky
    
    [runner] Always apply fail-on-risky

commit d11b5b6c4ef19936a2a5614fc16a0d1880b89fda
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Sep 26 13:16:40 2021 +0800

    [runner] Always apply fail-on-risky

commit d1dbed938e2ba091885284219dbd97452287b327
Merge: 191b387 520e91e
Author: Andrew Lyons <andrew@nicols.co.uk>
Date:   Wed Jan 19 08:24:45 2022 +0800

    Merge pull request #67 from moodlehq/xvfb
    
    Don't start xvfb in headless runs

commit 520e91ee67cb27c5f9c6973c1c9997167b1942b2
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 23 14:02:11 2021 +0200

    Don't start xvfb in headless runs
    
    It's not used and for sure will save some resources.

commit 191b387387c71179569812103595bd5fec2d62e5
Merge: adf2361 807f300
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Dec 9 16:35:42 2021 +0100

    Merge pull request #66 from moodlehq/chromedriver_bump
    
    [runner] Update to Chromedriver 96.0 custom

commit 807f300b9e362266aa2b3141ddf67c230aa9ad2f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 1 11:56:01 2021 +0800

    [behat] Force set marionette capability to true
    
    This works around https://github.com/Behat/MinkExtension/issues/376.

commit 1c8c62a863c557b43bae0537619a8108435fd10b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Nov 30 10:38:55 2021 +0800

    [runner] Update to Chromedriver 96.0 custom

commit adf2361b62d1b7575e4280c712576afb9b1a3db9
Merge: f88d0d1 2f8500e
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Nov 18 11:40:11 2021 +0100

    Merge pull request #65 from moodlehq/bbb-container-name
    
    Fix wrong BBB mock server container name

commit 2f8500e499062165875831f03d88bd6fdfa7d96e
Author: Víctor Déniz <victor@moodle.com>
Date:   Thu Nov 18 09:19:26 2021 +0000

    Fix wrong BBB mock server container name
    
    We were using the wrong container name in docker logs and getting errors during testing like "Error: No such container: http://bbbmock9145c76fb054c670"

commit f88d0d184259019a4c9d356e3196392e72c28010
Merge: a356bf8 4557921
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Nov 16 19:43:48 2021 +0100

    Merge pull request #64 from moodlehq/bbb-mock-server
    
    Add bigbluebutton mock server support

commit 4557921c4d11454fa2b9ecd15f976606c56f89c4
Author: Víctor Déniz <victor@moodle.com>
Date:   Tue Nov 16 16:26:22 2021 +0000

    Get BBB mock server image from moodlehq

commit c2f64e4e2f85d4bf4760ee2003695a81e829acc9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Sep 1 12:37:49 2021 +0800

    Add bigbluebutton mock server support

commit a356bf87df4796d291a1b98efce97d7d269622a9
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Oct 21 16:23:17 2021 +0200

    Add RUNCOUNT to de job summary information

commit 7a332221aaba02ab3f0476e7443f1c4a2659cedc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Oct 21 15:07:45 2021 +0200

    Add information about the installed plugins and their commits

commit baa4df45feb5de55fb7a14da1845b7a23bd2e5c8
Merge: 1efdc00 14292c7
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Oct 18 18:24:03 2021 +0200

    Merge pull request #62 from andrewnicols/customchromedriver
    
    [runner] Switch to custom chromedriver image

commit 1efdc007636385fe2f4455408f0ac5bd3698a8c3
Merge: f2f7295 e6d63a4
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Oct 15 09:44:00 2021 +0200

    Merge pull request #60 from andrewnicols/nogit
    
    [runner] Stop installing git

commit 14292c78bea2616b0dad6bfec5b0f5b493114446
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Oct 15 08:10:49 2021 +0800

    [runner] Switch to custom chromedriver image
    
    See https://tracker.moodle.org/browse/MDL-71108 for details on the
    reasons behind this change, and its history.

commit e6d63a4541cea00d5ad91130bdc759f4408a8bb2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Sep 26 11:32:26 2021 +0800

    [runner] Stop installing git
    
    It's installed already.

commit f2f72953bd6ce755ddeca2c47ec35bc9ea783342
Merge: 0bcac46 30e5b98
Author: ilyatregubov <ilya.a.tregubov@gmail.com>
Date:   Tue Sep 14 17:03:06 2021 +0200

    Merge pull request #59 from stronk7/unpin_chome_and_cross_fingers
    
    Unpin chrome version and cross fingers

commit 30e5b98ac88e1db6eab9c39aaeb0dc1ecb699747
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Sep 14 16:56:51 2021 +0200

    Unpin chrome version and cross fingers
    
    We are going brave here and go back to unpinned chrome version, because staying with
    the old Chrome 79 version (3.141.59-zinc) is making things really harder and harder.
    We are aware that, for headed runs, there are some zero-size errors still not fixed,
    but headless ones should run ok. For reference, the problems we are aware are being
    tracked (as of 14 Sep 2021) @:
      - MDL-71108 : zero-size
      - MDL-72306 : feedback

commit 0bcac461b8245b41a57c2fbd182641d9a2428554
Merge: 242d3fc 56741b9
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sun Sep 12 18:20:47 2021 +0200

    Merge pull request #52 from stronk7/enable_classic_accessibility
    
    Revert "Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 242d3fcedb5afbbe614a52e79071b4aa39c2c444
Merge: b039c34 0dc556c
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Aug 27 11:04:44 2021 +0200

    Merge pull request #56 from andrewnicols/mobileAppPort
    
    Allow mobile app port to be customised

commit b039c3490bcba3b4c0d9e5aab5a2a5f929c60472
Merge: 87a90c3 cfc5036
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Aug 27 10:56:47 2021 +0200

    Merge pull request #57 from andrewnicols/removeTerminalFromReruns
    
    Remove terminal from rerun commands

commit 0dc556c8c98a6711d08303466e881cf1d01dd57f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 6 15:09:19 2021 +0800

    Allow mobile app port to be customised

commit cfc5036ae3d6360e6907dde08181d21c544b5cbc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Aug 10 21:53:23 2021 +0800

    Remove terminal from rerun commands

commit 87a90c3a470400b76147906669127820e613cffa
Merge: 90e2530 eed9af3
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jul 14 12:55:28 2021 +0200

    Merge pull request #54 from stronk7/mariadb_10.5_sticky
    
    Make mariadb:10.5 sticky

commit eed9af3e0b5e7887fcd02f854a2a49883bb38891
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jul 14 12:36:35 2021 +0200

    Make mariadb:10.5 sticky
    
    New mariadb:10.6 makes the COMPRESSED row format read-only by default
    because it's deprecated now and will be removed in mariadb:10.7
    
    This is being tracked @ https://tracker.moodle.org/browse/MDL-72131
    
    Once that issue is fixed and we switch to DYNAMIC or whichever the
    final solution is, we'll unpin this.

commit 90e253075284b043da520b882101837a3483b2a1
Merge: d4dafe3 4ed4506
Author: Sara Arjona <sara@moodle.com>
Date:   Tue Jun 22 11:07:36 2021 +0200

    Merge pull request #53 from stronk7/pg10_bump
    
    Pg10 bump

commit 4ed450679cf0b3aa2e2f7e8e71348db536801457
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 21 18:29:13 2021 +0200

    PG10 minor changes (replication related)
    
    Following the information @ https://www.postgresql.org/docs/10/release-10.html
    - rename functions, tools and options referencing "xlog" to "wal".
    - log_directory changed from "pg_log" to "log".
    
    Note that both:
    - wal-method=stream
    - log_directory=log
    
    are default options so, extrictly speaking we shouldn't need to set them
    but it doesn't hurt to have them explicily defined, so keeping them.

commit a4b02874efa1b7e11aba8e1e1d5d65038a1c9c88
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 21 18:08:46 2021 +0200

    Bump to PG10, Moodle 4.0 requirement

commit 56741b9fc2f14dbc09984d8b49dc22d79bd59d14
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Jun 13 23:03:42 2021 +0200

    Revert "Disable accessibility (axe) with classic till MDL-70846 is fixed"
    
    This reverts commit 6772ca686434a36ba1f318682d5083a4f0d2e7e6.
    
    Closes #49

commit d4dafe3b6b261c3fd1b28618161bc61a9523557f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed May 19 18:42:58 2021 +0200

    Move back to our public image, it's working ok since some months ago
    
    In the past we switched to private one because of some problems
    with Oracle & Docker removing access to all Oracle images. Since
    then our wnameless/docker-oracle-xe-11g base image is back so
    we created the -r2 public one based on it.
    
    More info @ MDLSITE-5669

commit e16b54b1b13c4cbd326a597e451166c54cdb6bcd
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Mar 14 15:41:21 2021 +0100

    Revert "Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton"
    
    This reverts commit 8b96786722b4bbada3e05e63fadbe1d5e8d598f6.
    
    We are going back (to Chrome 79) because 2 errors have been
    found with Chrome 89 needing to be fixed before jumping to it.
    
    More info:
    
    https://tracker.moodle.org/browse/MDL-71108

commit d0775338e44eb115274ee38bab3d798bb3b35106
Merge: 612e041 8b96786
Author: Jun Pataleta <jun@moodle.com>
Date:   Fri Mar 12 16:45:18 2021 +0800

    Merge pull request #51 from stronk7/chrome89
    
    Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton

commit 8b96786722b4bbada3e05e63fadbe1d5e8d598f6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Mar 11 17:04:03 2021 +0100

    Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton
    
    We were waiting since some time ago to Chrome 89 to be released
    and, because of that, we had selenium pinned to 3.141.59-zinc
    version (Chrome 79).
    
    The cause for staying sticky was this issue:
        https://bugs.chromium.org/p/chromedriver/issues/detail?id=3682&q=&can=1&sort=-id
    
    Chrome (and chromedriver) 89 have been released and Selenium has
    already build the docker images for them:
    
    https://github.com/SeleniumHQ/docker-selenium/releases/tag/3.141.59-20210311
    
    So now we can unpin the old version and let the machinery to use the
    latest versions available. That's what this PR does.

commit 612e04179e19aafb236b3deebe4f0cdd7f6c5d74
Merge: 67f0ecc 6772ca6
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 19 06:51:48 2021 +0800

    Merge pull request #48 from stronk7/disable_axe_classic
    
    Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 6772ca686434a36ba1f318682d5083a4f0d2e7e6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Feb 18 22:44:46 2021 +0100

    Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 67f0eccccdfc69242fabfb8923fc09bb0d683692
Merge: 3933a35 ddaf3b6
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Wed Feb 10 00:23:58 2021 +0100

    Merge pull request #47 from andrewnicols/axe
    
    Run axe tests on CI

commit ddaf3b680a45531f53baea086bffb4ea36447636
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Feb 7 08:08:31 2021 +0800

    Run axe tests on CI

commit 3933a35e297445bb0599e152cad12efa9ed9d70a
Merge: 101866d 6c65442
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Jan 16 17:45:38 2021 +0100

    Merge pull request #43 from andrewnicols/w3csupport
    
    Add W3C Support to the CI runner

commit 101866d853bdc2a64f3caac01e554bade91201d4
Merge: 50ba133 4f04878
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jan 13 14:48:53 2021 +0100

    Merge pull request #46 from andrewnicols/stopRunningIonic
    
    Stop running ionic when not testing mobile

commit 4f0487876f9528923747c58688a1fa54a49aa795
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 13 20:59:24 2021 +0800

    Stop running ionic when not testing mobile

commit 6c65442a5daf9945126b1e2dd120758c3585d63c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:05:55 2021 +0800

    runner: Add support for headless browsers
    
    A new environment variable, 'BROWSER_HEADLESS', is now respected. When
    present and not falsey, the relevant browser-specific flags are used to
    make browsers run headless.

commit 57227eb2ae778a687f3a615d27bfd0921243938f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:05:39 2021 +0800

    runner: Add browser verbosity control

commit 5ddde8fbe35a6b3cef1eb95828ce5b3997db4d9d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 13 10:07:05 2020 +0800

    runner: Support Mink with W3C driver and browsers
    
    This commit makes changes to support both the legacy instaclick Mink
    driver, and the newer W3C-compatible Mink driver using the php-webdriver
    project.
    
    To support this we now detect whether the instaclick driver is in use,
    and if so use Firefox 47.0.1, and disable marionette in the browser
    configuration.

commit dc64a2e807e966e71b2f1f654703e155fd9abbcb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 10:26:47 2021 +0800

    runner: Always show Job summary
    
    Remove the section tags which cause Jenkins to collapse the Job summary.
    
    The job summary is often useful when identifying jobs and it is
    unnecessarily collapsed in a section.

commit 50ba133b698ee73a0e76d7ef08506d6a6c52228a
Merge: eb46238 cdec51d
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jan 12 18:37:34 2021 +0100

    Merge pull request #45 from andrewnicols/alwaysShowSummary
    
    runner: Always show Job summary

commit eb462380d1819e70b5f59060942858294c34aa12
Merge: bb2765e bf5d2db
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jan 12 18:32:02 2021 +0100

    Merge pull request #44 from andrewnicols/initdbfix
    
    Correct file permissions for DB entrypoints

commit cdec51dc0d49ee1995b7717933e03e1b51362454
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 10:26:47 2021 +0800

    runner: Always show Job summary
    
    Remove the section tags which cause Jenkins to collapse the Job summary.
    
    The job summary is often useful when identifying jobs and it is
    unnecessarily collapsed in a section.

commit bf5d2db9b89bb31e56469ddbf92eb8af719becfb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:10:10 2021 +0800

    Correct file permissions for DB entrypoints
    
    These scripts were missing the executable bit which was causing issues
    on MacOS.

commit bb2765e405f2aae3a675bea2f8c4d2208fe932be
Merge: 1b61851 949de31
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Dec 26 13:02:45 2020 +0100

    Merge pull request #40 from stronk7/enable_lang_upgrade
    
    Enable lang upgrades again

commit 1b618511ce0b38cb99a7b3bdfeb78f576aa84738
Merge: fa35a42 ed19688
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Nov 13 18:50:55 2020 +0100

    Merge pull request #41 from stronk7/311_versions
    
    Add Moodle 3.11 version

commit ed19688323f33d5202d3204005baa5f3ebbe6a8d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Nov 13 17:04:37 2020 +0100

    Add Moodle 3.11 version

commit fa35a4211e2fcae86562c881e745c76539a4ae82
Merge: 459f133 3210a89
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 2 09:06:15 2020 +0800

    Merge pull request #39 from stronk7/logs_take2
    
    Better log file names + also log phpunit images

commit 949de31e7f22733033ad453ecb3ed64284db9cb9
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Nov 1 23:38:59 2020 +0100

    Enable lang upgrades again
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information
    
    Under parallel development, until the new dev branch (310_STABLE in this
    case) language packs are and available.

commit 3210a89b6e017f1faa1c09eb6d7678959d75aa7e
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Nov 1 16:45:48 2020 +0100

    Better log file names + also log phpunit images
    
    This does a couple of things:
    
    1) export all logs using better container names (names instead
       of ids, with some current names improved "run => webserver...)
    2) move the log exporting out from behat section, so it's also
       executed for phpunit runs and we get other logs that could be
       also useful at some point.
    
    This is a followup of https://github.com/moodlehq/moodle-ci-runner/pull/38

commit 459f133ee1e669b2da1848738037e7ef36b99222
Merge: e7d8e7b 1e3d130
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Oct 29 09:50:46 2020 +0100

    Merge pull request #38 from andrewnicols/logs
    
    runner: Store all of the docker container logs

commit 1e3d130c8a82fa4bdfb8e8c23faa6d02e37d47d4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Oct 29 15:52:11 2020 +0800

    runner: Store all of the docker container logs

commit e7d8e7b6f23e51197c25426f35140c9d0e96349a
Merge: ea04e94 21dfcbc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 17 19:32:11 2020 +0800

    Merge pull request #37 from stronk7/unpin_mariadb
    
    Unpin MariaDB and remove deprecated / removed settings from config

commit 21dfcbc2bbbe8c5e5c9385502b7452b51cbf8f98
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Sep 11 23:24:24 2020 +0200

    Unpin MariaDB and remove deprecated / removed settings from config
    
    this shouldn't affect MySQL because current (5.7 and up) defaults
    match the settings.

commit ea04e944683151460664535547542a0d38319343
Merge: 5af1206 bacbb8c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 10 17:56:40 2020 +0800

    Merge pull request #36 from stronk7/show_behat_increase_timeout
    
    Show the BEHAT_INCREASE_TIMEOUT config value on all runs

commit bacbb8c29354cc5487fd7d912d66dc2472c78e44
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Sep 10 11:06:24 2020 +0200

    Show the BEHAT_INCREASE_TIMEOUT config value on all runs

commit 5af1206badce74f734fb98f0ec8b6a6d2c1318ca
Merge: f679b06 8cd284f
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Aug 11 11:35:09 2020 +0200

    Merge pull request #35 from stronk7/disable_lang_upgrade
    
    Disable lang upgrades, to be enabled once the lang branch is available

commit f679b067f2a41892d8db739a102aa319ffc1d8f4
Merge: b9064c7 bedb181
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Aug 11 11:34:52 2020 +0200

    Merge pull request #34 from stronk7/310_versions
    
    Add Moodle 3.10 version

commit 8cd284faa1aa6002b08acf13b4776b9f2a74a90c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Aug 10 11:08:23 2020 +0200

    Disable lang upgrades, to be enabled once the lang branch is available

commit bedb181218d3dd53614fc64eacf2b501ac57826f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Aug 10 11:05:46 2020 +0200

    Add Moodle 3.10 version

commit b9064c7fb5f22c089a22dac45d8079ac0e8c8c4a
Merge: e42c7fd 1a1e718
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 30 06:59:43 2020 +0800

    Merge pull request #32 from stronk7/external_https_exttests
    
    Make unit tests also use exttests docker container for https tests

commit 1a1e718169b0225d752c5303cdaca9571890b314
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Jul 18 12:11:09 2020 +0200

    Make unit tests also use exttests docker container for https tests
    
    While we are already using the exttests docker image for HTTP
    requests (avoiding to use download.moodle.org), we are not using
    it for HTTPS tests.
    
    Looking to codebase, there is only ONE tests using HTTPS and it's
    the one that uses to fail when there are porblems with downloads.
    
    As far as that test doesn't perform any check or validation related
    to certificates, we can, simply, configure unit tests to also use
    the HTTP exttests URL to run the HTTPS test.
    
    If tomorrow we need some real HTTPS test, surely we'll need to
    incorporate some mutual recognised certificates, or a real one..
    
    But right now that's not needed.

commit e42c7fd7a7d15777a9843da9a986e0808ed6791e
Merge: f98d032 c1fa35f
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jun 23 22:58:10 2020 +0200

    Merge pull request #31 from stronk7/enable_lang_upgrade
    
    Enable lang upgrade

commit c1fa35f1b41ae28074a14d80eec75b6cf4a354ce
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:58:22 2020 +0200

    Enable lang upgrades again
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit f98d032dba13d122c8cdc5aaea31e2359182c4e0
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jun 10 15:52:38 2020 +0200

    Add back the recently removed sleep, we need it for now
    
    Once we get https://tracker.moodle.org/browse/MDLSITE-6178
    properly implemented we'll be able to revisit all the
    current harcoded pauses.

commit ac8f7607e45bf74977a111b5586884fab1c714e1
Merge: b622687 8ca70ac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 9 07:24:28 2020 +0800

    Merge pull request #30 from stronk7/disable_lang_upgrade
    
    Disable lang upgrades, to be enabled after on-sync

commit b622687b818b0866238c508fe80f5c15655da18c
Merge: 5e8da83 7a8a42f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 9 07:23:22 2020 +0800

    Merge pull request #29 from stronk7/39_versions
    
    Add Moodle 3.9 version

commit 8ca70ace3475237ca70d5b0bc85b5876c47ba3de
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:55:37 2020 +0200

    Disable lang upgrades, to be enabled after on-sync

commit 7a8a42fd286197d0c12065ffc20b88e35575f5de
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:53:02 2020 +0200

    Add Moodle 3.9 version

commit 5e8da83fde01cffbcf99542cbae5c9bcc886a130
Merge: 8e0fd99 41cceb6
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Jun 2 17:22:43 2020 +0800

    Merge pull request #27 from stronk7/moodlehq_sqlsrv_image
    
    Switch to modern sqlsrv own image

commit 41cceb6171884f25e6774b695ee27ec07ccf138f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 1 01:26:44 2020 +0200

    Switch to modern sqlsrv own image
    
    It comes with important memory reduction, specially important
    now that we are also running sqlsrv unit tests as part of ToBiC.
    
    Also remove not needed commands and pauses because the container
    startup handles both.

commit 8e0fd99de3995d51f90bf22fa463f9dea718183b
Merge: 5a28bb7 2aa7c00
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sun May 24 19:58:33 2020 +0200

    Merge pull request #24 from moodlehq/dbslave
    
    DB Slave support

commit 2aa7c0073ab43a2a94514177695353da233fd2b6
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue May 12 13:49:35 2020 +0800

    runner: MySQL Replicate support

commit 74d4d862c308e745c5add7f0f2c58f7d4553cdc4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 11 15:43:58 2020 +0800

    runner: Support postgres slaves

commit 5a28bb7818272c4435831768441eb42f6456da0c
Merge: c6fc3a0 13936d1
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue May 19 16:17:29 2020 +0200

    Merge pull request #23 from crazyserver/patch-1
    
    Change Moodle App docker repository

commit 13936d19c9e28e9dc758fd72c0d028f73899dc2d
Author: Pau Ferrer Ocaña <crazyserver@users.noreply.github.com>
Date:   Tue May 19 14:58:11 2020 +0200

    Change Moodle App docker repository

commit c6fc3a0974f39eb018d628f1e045c7485bfc4e5d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 18 22:38:18 2020 +0200

    Disable options not directly related with the run type

commit 3d1ff1c4ce7b38c810fbbb1b9235d0ff8b548682
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu May 14 03:02:07 2020 +0200

    Added support for multiple reruns (defaults to current 1)
    
    Now it's possible to perform multiple reruns, controlled by
    the BEHAT_NUM_RERUNS env variable. It defaults to current 1.
    
    Also, if 0 is passed, don't perform any rerun.
    
    Output files (pretty, junit) now will have the format:
    
    - prettyRUN_rerunRERUN.txt
    - logRUN_rerunRERUN.junit
    
    Where RUN is the # of parallel run (empty for single)
    and RERUN is the rerun iteration.

commit 9b8619d417a8131ec34e5ee33d14a74ab975a1fe
Merge: af8ad05 c27cac8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 18 07:16:06 2020 +0800

    Merge pull request #22 from stronk7/avoid_chrome80
    
    Avoid Chrome 80 because it's causing some SCORM tests to fail

commit c27cac893a4f46637464a7d05f4004f5f91d46ad
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Feb 17 17:49:34 2020 +0100

    Avoid Chrome 80 because it's causing some SCORM tests to fail
    
    See https://tracker.moodle.org/browse/MDL-67989 for more information,
    once that is solved, we'll revert this, proceeding with #21

commit af8ad051bb76536d9c97201428aea30927d80383
Merge: b0f1332 4171a80
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Dec 28 11:43:39 2019 +0100

    Merge pull request #20 from stronk7/bump_mariadb_102
    
    Bump MariaDB to 10.2 to fulfill Moodle 3.9 requirements

commit 4171a80b7d02d1fb8931e72d2e6217ee9f705a99
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Dec 28 11:21:25 2019 +0100

    Bump MariaDB to 10.2 to fulfill Moodle 3.9 requirements
    
    See https://tracker.moodle.org/browse/MDL-65809 for details

commit b0f1332755eb460d037da7c5f3bfa58f7029641c
Merge: 9832e97 c88ed81
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Dec 17 23:54:02 2019 +0100

    Merge pull request #19 from stronk7/disable_skiplangupgrade
    
    Disable skiplangupgrade

commit 9832e9799dcdc44b5ca0c4b2e10ce8d4effeac92
Merge: 8e2f14e 024baad
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Nov 16 18:32:38 2019 +0100

    Merge pull request #18 from stronk7/enable_skiplangupgrade
    
    runner: Set skiplangupgrade as part of on-sync period

commit 8e2f14ea7ef584d4550decdfd98a98dbeb2b5d42
Merge: fc97b3d 289f974
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Nov 16 18:32:02 2019 +0100

    Merge pull request #17 from stronk7/38_release
    
    runner: Add Moodle 3.8 version of the runner

commit c88ed81e6492b46c025027a312ab8177e976b628
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:58:34 2019 +0100

    runner: Unset skiplangupgrade after the on-sync period
    
    This is MR4 in the [release
    process](https://docs.moodle.org/dev/Release_process#1_week_prior)
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 024baade98f99dd50b0b5ed5d00e741947547d88
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:55:14 2019 +0100

    runner: Set skiplangupgrade as part of on-sync period
    
    This is MR3 in the [release
    process](https://docs.moodle.org/dev/Release_process#1_week_prior)

commit 289f974d4b0f03950aaf680ae25d4057d1972653
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:52:09 2019 +0100

    runner: Add Moodle 3.8 version of the runner

commit fc97b3d368d29e42e13ef9352916a7de5f8e336f
Merge: 66cc4a1 0e40fe4
Author: Jun Pataleta <jun@moodle.com>
Date:   Mon Oct 14 15:39:19 2019 +0800

    Merge pull request #16 from stronk7/images_summary
    
    Show the creation date and hash/digest of involved images in a run

commit 0e40fe4bd76a45823b3d86adaa66345db200f175
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Oct 11 22:19:55 2019 +0200

    Show the creation date and hash/digest of involved images in a run

commit 66cc4a1261a82a6545bf86bff291c10105d60cf4
Merge: 716f333 a713c0c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:28:41 2019 +0800

    Merge pull request #14 from stronk7/enable_mongodb
    
    Enable mongodb

commit 716f333ace352e73425c12fcb025b430159c1f5c
Merge: 148a3af b3b185b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:28:18 2019 +0800

    Merge pull request #13 from stronk7/enable_memcached
    
    Enable memcached

commit 148a3af6a304889982e4f3061fe32af60d4cf055
Merge: 8e6d745 4881af9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:27:38 2019 +0800

    Merge pull request #12 from stronk7/enable_solr
    
    Enable solr

commit 8e6d745e7be5718d66ba54f6acf6a90e5e911cf2
Merge: dac6a76 d96d7cf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:27:16 2019 +0800

    Merge pull request #11 from stronk7/more_reliable_scriptpath
    
    Make the detection of SCRIPTPATH more reliable

commit dac6a762a73bbd601034304127d85a7953df3aad
Merge: b457662 1fe8710
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:26:11 2019 +0800

    Merge pull request #6 from sarjona/runner-appversionvar
    
     runner: Add support to MOBILE_VERSION and PLUGINSTOINSTALL settings

commit a713c0c137ff60db3c14e9546a60c2418994b135
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 18:50:14 2019 +0200

    Add support for mongodb tests

commit b3b185b648b3a93986b28156291c14a02bc294c1
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 17:04:54 2019 +0200

    Add support for memcached tests

commit 4881af9997f1da4c4c6413399c4275328bdcd7b8
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 16:23:25 2019 +0200

    Enable back solr, it's working with all php images

commit d96d7cf61205fccdfc62e23ac9db1792c7880abc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 13:56:20 2019 +0200

    Make the detection of SCRIPTPATH more reliable
    
    So it can be executed from other scripts, or aliased...

commit 1fe871046e5402d5b2b47806e1071c5f355f9005
Author: Sara Arjona <sara@moodle.com>
Date:   Fri Sep 20 17:31:54 2019 +0200

    runner: improve PLUGINSTOINSTALL and MOBILE_VERSION support
    
    Some improvements have been added, following Andrew's suggestions:
    - If the MOBILE_VERSION is not defined, the moodlemobile docker
    container won't be executed.
    - Instead of creating a temporary folder for the plugins, a new
    setting, PLUGINSDIR, has been added. By default they will be
    downloaded to $WORSPACE/plugins.
    - Those new settings have been added to the README.md

commit 44c4e60038cb731a694fda364a6d9731933e128b
Author: Sara Arjona <sara@moodle.com>
Date:   Fri May 31 12:28:21 2019 +0200

    runner: Add PLUGINSTOINSTALL variable to install external plugins

commit d5ebe8cb8fbfc6a122d572916f8f8bdc52aac9b0
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 16:19:14 2019 +0200

    runner: Add MOBILE_VERSION variable to define the app version to run @app tests

commit b9dcf77fe75a19a1733b01ed7d7605680783b020
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 17:00:39 2019 +0200

    Unpin mobile once that breaking tests are removed (MDL-65869)
    
    This reverts commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f.

commit af3943120701d2532177723c2e7afc79f6e4bd65
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 16:57:36 2019 +0200

    Enable back Redis session tests for PHP 7.2 and up
    
    This reverts commit f36e8081c50dfa7342b9e91736c1febeeedebbd6.

commit fabe6dea67da25f01ccffd38788d3bd7e8d5305f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jun 12 09:08:01 2019 +0800

    Temporarily ping mobile to 3.6.1 until failing tests removed

commit b4576622ce3efd624698ac0bc11b3a576a81b975
Merge: 348685d 51ff441
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 12 21:33:01 2019 +0800

    Merge pull request #10 from stronk7/unpin_mercury
    
    Unpin 3.141.59-mercury and allow any new 3.x release to be used

commit 51ff44139da1fe952fcde88a21579fc1f658957c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Sep 11 16:46:05 2019 +0200

    Unpin 3.141.59-mercury and allow any new 3.x release to be used
    
    With MDL-66378 and, specially, https://github.com/moodlehq/php-webdriver/pull/1
    we can continue using Chrome >= 76 because we are enforcing the
    use of the legacy JsonWire protocol (instead of the default W3C one).
    
    So it has been agreed that we'll allow any 3.x new release to be used in
    order to detect problems earlier (we always can pin again if needed).

commit 348685d0918ea2d5c9ff2f0d4eb2bd49644499d2
Merge: bb20f2c 5779fe2
Author: Adrian Greeve <abgreeve@gmail.com>
Date:   Tue Aug 20 14:41:29 2019 +0800

    Merge pull request #8 from moodlehq/revert-7-chrome_unpin
    
    Revert "Revert "Moving away from 3.141.59-neon coz it's causing problems""

commit 5779fe24d006ca3f1acc8f2dcc5b6919c279bda7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Aug 20 14:38:15 2019 +0800

    Revert "Revert "Moving away from 3.141.59-neon coz it's causing problems""

commit bb20f2cd499f008116fab9a7c47472712e93c84b
Merge: 3fb9dc6 9443e85
Author: Adrian Greeve <abgreeve@gmail.com>
Date:   Tue Aug 20 14:31:09 2019 +0800

    Merge pull request #7 from moodlehq/chrome_unpin
    
    Revert "Moving away from 3.141.59-neon coz it's causing problems"

commit 9443e85a1bfff80333288626fd353769b72392b9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Aug 14 13:48:49 2019 +0800

    Revert "Moving away from 3.141.59-neon coz it's causing problems"
    
    This reverts commit 1bda1c27f698e5a96180836b59b19f254b5fbd58.
    
    Fixed by way of MDL-66378.

commit 3fb9dc6c5ae6268357a22b6e057aaa3e872f736d
Merge: 2d13771 0b953ee
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 28 06:40:00 2019 +0800

    Merge pull request #5 from stronk7/redis_session_tests_are_back
    
    Enable back Redis session tests for PHP 7.2 and up

commit 0b953eecf390263e561d9efc1918e33fbebcc1c1
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 17:00:39 2019 +0200

    Unpin mobile once that breaking tests are removed (MDL-65869)
    
    This reverts commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f.

commit f161c4ecb848b52728c073702624949cb0f887a5
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 16:57:36 2019 +0200

    Enable back Redis session tests for PHP 7.2 and up
    
    This reverts commit f36e8081c50dfa7342b9e91736c1febeeedebbd6.

commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jun 12 09:08:01 2019 +0800

    Temporarily ping mobile to 3.6.1 until failing tests removed

commit 97d40fe45eef9cda9dee4332200927c763b92a0d
Merge: f27d127 318e84b
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri May 31 09:51:04 2019 +0200

    Merge pull request #4 from sarjona/runner-fix-local
    
    runner: Avoid local network collissions

commit 318e84bdc11f66f6d6e8e25505bb942b9029fb86
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 14:39:49 2019 +0200

    runner: Avoid local network collissions

commit f27d127197acb4976a71c2638e21c29d1c5afed8
Merge: c18d21c 70ca27d
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu May 30 22:58:37 2019 +0200

    Merge pull request #3 from sarjona/readme-revision
    
    README: Update themes and add some extra parameters to the doc

commit 70ca27d7b8d7f036c7dffc2f7b9c31abf3fdc302
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 13:58:13 2019 +0200

    README: Update themes and add some extra parameters

commit c18d21c6d38431ca134be6732ebc88a942f02157
Merge: 551b15d ead8faf
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat May 25 00:03:25 2019 +0200

    Merge pull request #2 from andrewnicols/mobiletesting
    
    runner: Add Ionic testing

commit 551b15d59f7c81d26c7838621a9265bd9ca3a0cb
Merge: 2941637 f7078a4
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri May 24 23:55:36 2019 +0200

    Merge pull request #1 from andrewnicols/37_endonsync
    
    runner: Unset skiplangupgrade for end of on-sync period

commit 2941637e67830cef6334ebe3d0da8658828f8323
Author: Mark Johnson <mark.johnson@open.ac.uk>
Date:   Wed Mar 27 09:25:01 2019 +0000

    Add support for increased behat timeout

commit ead8faf6168cc7ae7f4d894827f49a4391cb6d7e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 31 06:53:45 2019 +0800

    runner: Add Ionic testing

commit f36e8081c50dfa7342b9e91736c1febeeedebbd6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 20 22:50:53 2019 +0200

    Disable Redis session tests for PHP 7.2 and up
    
    See MDL-60978 for more information.

commit 8bbcbf0a05c15b15c96d8b743b50c4919f46bb80
Merge: 19fe0f5 6c7dbaf
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun May 19 18:17:43 2019 +0800

    Merge branch '37_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!29

commit 19fe0f5e4cbb50e7de1a870b308919a8d29b4688
Merge: 1bda1c2 fb50503
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun May 19 18:17:29 2019 +0800

    Merge branch '37_release' into 'master'
    
    runner: Add Moodle 3.7 version of runner
    
    See merge request integration/nightlyscripts!28

commit f7078a46484f9b417e33189d7c4ba8ed1df461eb
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:39:57 2019 +0200

    runner: Unset skiplangupgrade for end of on-sync period
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 6c7dbafd94bdf22132ad0d032150079aefeacd98
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:37:21 2019 +0200

    runner: Set skiplangupgrade as part of on-sync period

commit fb50503ce89e26378204c92930821fcbb6fe4829
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:32:59 2019 +0200

    runner: Add Moodle 3.7 version of runner

commit 1bda1c27f698e5a96180836b59b19f254b5fbd58
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Apr 30 16:06:14 2019 +0200

    Moving away from 3.141.59-neon coz it's causing problems
    
    So we are now explicitly using 3.141.59-mercury, from 1 month
    ago that was working till neon arrived (6 days ago). That is
    leading to lots of "invalid session id" errors leading to the
    re-execution of complete jobs (almost 2X execution time)

commit 1c626b647730aca6682147dd7006c177a817c696
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 20:21:57 2019 +0200

    Avoid colors that look horrible (escape seqs) in some clients (take#3)

commit 113c847885ab29bd232060a435f71c35c8c92b7c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 20:14:20 2019 +0200

    Avoid colors that look horrible (escape seqs) in some clients (take#2)

commit d4e30b6abee5fb15c0bcf19639a309ba5e78fa12
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 18:59:32 2019 +0200

    Avoid ansi colors that look horrible (escape seqs) in some clients

commit ed1604b7fa7ad04c4533106419dc500d849c5ea8
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Apr 11 02:18:45 2019 +0200

    Add support for individual features/scenarios (--name)
    
    Also fix some small details, like 1-parallel, reruns and
    some old selenium version.
    
    Finally, note that the --config parameter requires to use
    this syntax:
    
    --config path/to/behat.yml
    
    and doesn't work with
    
    --config path/to/behat.yml
    
    Because of an annoying dependency built in core (MDL-65435). Once
    it's fixed, both syntaxes will work.

commit 39e2cb3eb3ee60056a40361e094227a7419d9a9f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Feb 18 15:05:37 2019 +0800

    runner: Bump chrome to 3.141.59

commit 674bf46278c225cd9507115c5f0344e2563a43ce
Merge: af3a800 a3398e0
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Feb 12 22:57:21 2019 +0800

    Merge branch 'mdlsite-5669' into 'master'
    
    runner: Update oracle image to moodle-db-oci
    
    See merge request integration/nightlyscripts!26

commit a3398e06b56964da1e88645bb7914953e1e99b9c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 12 15:11:55 2019 +0800

    runner: Update oracle image to moodle-db-oci
    
    Fixes MDLSITE-5669

commit af3a8009a6869929e4a67e3c0dbbec46d60465b4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 31 10:11:42 2019 +0800

    Marionette option is for Firefox only

commit d9431cd102f2d1078a2d149417f53933cd3fd48d
Merge: 16b748d c00a229
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu Jan 31 07:20:05 2019 +0800

    Merge branch 'ff_selenium_upgrade' into 'master'
    
    runner: Switch to MoodleHQ selenium image
    
    See merge request integration/nightlyscripts!25

commit c00a229752f41e8dcb1bbebe46dfd111b1c0735e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 12 13:11:52 2018 +0800

    runner: Switch to MoodleHQ selenium image
    
    This image uses a newer version of Selenium, disabling Marionette, but
    the old version of Firefox.
    
    It appears to be more stable than the images we've been using to date.

commit 16b748d2dc729d334c5c5479d121a5ac101fa011
Merge: dd82982 12e1904
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sat Jan 12 20:32:07 2019 +0800

    Merge branch '36_endonsync' into 'master'
    
    runner: Unset skiplangupgrade for end of on-sync period
    
    See merge request integration/nightlyscripts!24

commit dd82982330eed22998a14de9ea8152a9654c0cbd
Merge: 40df230 0c5102c
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun Dec 2 08:20:38 2018 +0800

    Merge branch '36_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!23

commit 40df230cbc64075c384aabfacf806f4f6cf2d080
Merge: 5b37b3f a606c9b
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Fri Nov 30 12:03:28 2018 +0800

    Merge branch '36_release' into 'master'
    
    runner: Add Moodle 3.6 version of runner
    
    See merge request integration/nightlyscripts!22

commit 12e1904875f7497febccff6ee96d813ae2cc2d40
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:52:55 2018 +0100

    runner: Unset skiplangupgrade for end of on-sync period
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 0c5102c821211fa901a9273fecb32da7a8f09b3d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:51:27 2018 +0100

    runner: Set skiplangupgrade as part of on-sync period

commit a606c9b728892022682bfab1a9465f1e813c5947
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:49:02 2018 +0100

    runner: Add Moodle 3.6 version of runner

commit 5b37b3f915313c132299319a1ddf23c8e2cf6916
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 10 12:17:31 2018 +0800

    Revert "runner: Remove suite from behat run command"
    
    Unfortunately I have no idea why I wrote this change.
    The -a=[theme] should work, but does not.
    
    This reverts commit aeafe7d70fce06edd1e1da3137fbf0f857c47b7f.

commit 4aa09c8c19163d2752d2a977cb94b56cb174b4f8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 10 12:17:29 2018 +0800

    runner: Add pathtosassc

commit aeafe7d70fce06edd1e1da3137fbf0f857c47b7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Sep 5 09:37:25 2018 +0800

    runner: Remove suite from behat run command

commit 054d655920b0ce49eb426c6b1f8cc0b87423fc2c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 11:26:00 2018 +0800

    runner: Disable SOLR for now :(

commit a1ff178fa83b8b0710ddf7d6395049610fdbf340
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 09:32:12 2018 +0800

    runner: Add redis to tests

commit e75774849038c688f8cb1f27310d601cf1ebea3d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 09:31:38 2018 +0800

    runner: Add solr to tests

commit 022c84006b6d3ece8a297823d8341e4ed5c1761f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 08:38:54 2018 +0800

    runner: Attempt to seed with cached composer.phar

commit 1cba58a03a674c3e77dd333c9c114b1461a703dc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 12 15:55:24 2018 +0800

    README: Move to project root

commit 00599ef9016ded2f3d535118eb52ade77f568cac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 12 15:55:08 2018 +0800

    runner: Add CODEDIR to readme

commit eb57951e64c8999624097e39d4fd31f654a0d084
Merge: 54a1141 2bd6d1b
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Jun 6 23:33:18 2018 +0800

    Merge branch '35_endonsync' into 'master'
    
    runner: Unset skiplangupgrade for end of on-sync period
    
    See merge request integration/nightlyscripts!18

commit 54a1141bd1f89323a91cb16a454e00a598de4fa0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 31 07:52:51 2018 +0800

    runner: Add default for timing filename

commit 0f8818d02dc8cf405ba4974ae1fe5de2301369e9
Merge: b5c4448 de1d2ff
Author: jun <jun@moodle.com>
Date:   Mon May 28 12:01:22 2018 +0800

    Merge branch 'useTiming' into 'master'
    
    runner: Use behat timing files
    
    See merge request integration/nightlyscripts!21

commit de1d2ffe9151d09034657292ba0c9433b5de1abf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat May 26 09:29:18 2018 +0800

    runner: Use behat timing files

commit b5c44488a857d2148efa34274c685b482b0ded7e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 18 18:14:41 2018 +0800

    runner: Move path to subpath
    
    The /var/www directory is owned by root.
    In 31 we simply append a run number to the behatroot directory - i.e.
    /var/www/behatdata1
    
    In 32 we create them in a subdirectory - i.e.
    /var/www/behatdata/behatrun1
    
    When running as www-data, the user does not have access to create the
    behatdata1 directory.
    
    The previous attempted fix was to add a slash:
    31  - /var/www/behatdata/1
    32+ - /var/www/behatdata/behatrun1
    
    However, the trailing slash seems to cause issues in core in some
    sitautions - specifically the re-run of the test.
    
    This fix, tested on 31, and master with a failing test changes the
    directorty further such that the behat data directory is
      /var/www/behatdata/run
    This makes the new run directories:
    31  - /var/www/behatdata/run1
    32+ - /var/www/behatdata/run/behatrun1
    
    Both of these are acceptable as the www-data user has the required
    permission to create new directories for the run in the subdirectory.

commit 41fb3e3952ad053082cf48b545b9e2a714e0d976
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri May 18 18:33:52 2018 +0200

    Get rid of the extra slash, seems to be causing problems in >=32.
    
    But keep the chown covering the whole /var/www/* to see if that's
    enough for 31. Or at least to keep everything working but 31.

commit b35f21ab4d3f8e6db0dbf108fb50e4141d609a0c
Merge: 4c3d350 34a14dc
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Fri May 18 08:29:14 2018 +0800

    Merge branch 'ocibump' into 'master'
    
    runner: Bump OCI timeout
    
    See merge request integration/nightlyscripts!20

commit 4c3d35069b33c8025694633ae85d8c55a463f1a5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 18 07:44:26 2018 +0800

    runner: Correct rerun path for 31

commit 34a14dceac2921d1cf7cd926be585b860112b0ea
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 14:46:41 2018 +0800

    runner: Bump OCI timeout

commit c9ce81e560cea4e3721c08c9aead8a8bb9f6dcc2
Merge: 0bb2ac5 8ac11f8
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Thu May 17 14:39:49 2018 +0800

    Merge branch 'behatfix' into 'master'
    
    runner: Add fix for behatdata on 31
    
    See merge request integration/nightlyscripts!19

commit 8ac11f8e74a159a0027cb12eb948a94ea790ba6c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 14:00:14 2018 +0800

    runner: Add fix for behatdata on 31

commit 0bb2ac5264561a47be9ac68c303b07f20b9c57f7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 13:33:35 2018 +0800

    runner: Chown with group

commit 7f1b4c87b603cf3bf7be1e971e4405e82cd63738
Merge: 405c773 53614eb
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:32:11 2018 +0800

    Merge branch 'runaswwwdata' into 'master'
    
    runner: Run behat as www-data
    
    See merge request integration/nightlyscripts!15

commit 405c7739d0b92095c738d386ecd7e4f059557edd
Merge: 387fe98 4b866ad
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:31:42 2018 +0800

    Merge branch '35_release' into 'master'
    
    runner: Add Moodle 3.5 version of runner
    
    See merge request integration/nightlyscripts!17

commit 387fe98f3bbab96df64377f69a43bca3e9a5d837
Merge: 6033840 4a886f4
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:31:23 2018 +0800

    Merge branch '35_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!16

commit 2bd6d1b63c16e4097dc254c007bdb4de592336bd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:59:06 2018 +0800

    runner: Unset skiplangupgrade for end of on-sync period

commit 4b866ad334144dda7bfa17817d8b7fe353598afa
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:46:36 2018 +0800

    runner: Add Moodle 3.5 version of runner

commit 4a886f415932418b42fce39ca4cb3f6eff4c80ca
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:41:11 2018 +0800

    runner: Set skiplangupgrade as part of on-sync period

commit 53614eb42297c8cac8caeee7f6feac4c1ab16eba
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 9 08:21:18 2018 +0800

    runner: Run behat as www-data

commit 6033840d3183e33d6af984b358a24c987250feaf
Merge: 9d25a09 2261c5e
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Mon May 14 13:19:04 2018 +0800

    Merge branch 'chownfix_again' into 'master'
    
    runner: Behat has a different datadir
    
    See merge request integration/nightlyscripts!14

commit 2261c5eefa591503bcd47d4ea1fbf4c4ff6917e7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 14 13:18:28 2018 +0800

    runner: Behat has a different datadir

commit 9d25a09583686a7e8aca6f77cd394f90e1f841d0
Merge: dfe3af4 74d8e1f
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Fri May 11 23:21:15 2018 +0800

    Merge branch 'fixchown' into 'master'
    
    runner: Fix bad bashism
    
    See merge request integration/nightlyscripts!13

commit 74d8e1f1b73c8868622ab6d945878c993eb4df3f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 11 23:16:22 2018 +0800

    runner: Fix bad bashism

commit dfe3af4f20b50d1ecadacb30388e7f8e43e2f15c
Merge: 65f3858 8b56620
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue May 8 07:26:08 2018 +0800

    Merge branch 'chromebump' into 'master'
    
    runner: Bump chrome selenium to 3.11.0-dysprosium
    
    See merge request integration/nightlyscripts!12

commit 8b56620b8650c48889ba9d7df840ab8715eb034e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue May 8 07:06:37 2018 +0800

    runner: Bump chrome selenium to 3.11.0-dysprosium
    
    Selenium version 3.11.0-dysprosium (rev e59cfb3)
    Chrome version: 66.0.3359.117
    ChromeDriver version: 2.38.552522

commit 65f3858a655d83b76fbef2c14fcbe8a5489436f8
Merge: 11f0175 6d7e753
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Sat May 5 12:13:43 2018 +0800

    Merge branch 'selspread' into 'master'
    
    runner: Fix parallel runs to use own sel
    
    See merge request integration/nightlyscripts!11

commit 6d7e753f6d35148afc34a6800f119529d725b702
Author: Mark Johnson <mark.johnson@open.ac.uk>
Date:   Fri May 4 22:14:56 2018 +0800

    runner: Fix parallel runs to use own sel

commit 11f0175f567ec57cb08a6b94db96ae79dcaf42fc
Merge: 922c2b2 15afb3c
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 3 17:16:35 2018 +0800

    Merge branch 'chown_after_init' into 'master'
    
    runner: Chown after behat init
    
    See merge request integration/nightlyscripts!10

commit 15afb3cf686248b16a682fefa00e0730250bbe46
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 3 08:08:52 2018 +0800

    runner: Chown after behat init

commit 922c2b20532fac6258026d7d408aca705ef8e1c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Apr 20 12:58:58 2018 +0800

    runner: Extend oracle wait period to 2 mins

commit 4001447d0a615e6348920f5595ba6255127eec16
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Apr 20 12:49:25 2018 +0800

    runner: Correct variable usage

commit 9ea358d3f8934564aa3340ffbaaceec2a3b9fe4e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 09:21:56 2018 +0800

    Revert "runner: Remove wd config from behat_profiles"
    
    This reverts commit e0c4f72be58daddb5d092bca884ebdc866adb574.

commit 116f8f3e6a80409de9398cc23ebb4a5300dd8e4f
Merge: 8269a04 e0c4f72
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Apr 18 08:39:58 2018 +0800

    Merge branch 'selbrok' into 'master'
    
    runner: Remove wd config from behat_profiles
    
    See merge request integration/nightlyscripts!9

commit e0c4f72be58daddb5d092bca884ebdc866adb574
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 08:34:48 2018 +0800

    runner: Remove wd config from behat_profiles

commit 8269a046fcb2855229fc4775c2aea15b0bfe4946
Merge: 960a332 235b954
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Apr 18 07:09:03 2018 +0800

    Merge branch 'oracle_async' into 'master'
    
    runner: Disable async IO on Oracle
    
    See merge request integration/nightlyscripts!8

commit 235b9546035d4f994b858a59209b4a9e049f5eb8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 07:07:23 2018 +0800

    runner: Disable async IO on Oracle

commit 960a332b17a56b5d28753947f7ff93bcbb985f44
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Apr 17 11:25:00 2018 +0800

    runner: Add support for running a single testsuite

commit 7ed139975968fbf64273d230cfbfaec1d41e2b22
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Mar 20 15:58:34 2018 +0100

    Fix for !7, make MOODLE_VERSION global

commit b9943cf42d2237c53cfa8f072374f92c63012a27
Merge: 2f884bd 7839b8a
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Tue Mar 20 20:46:36 2018 +0800

    Merge branch 'no_fail_on_risky_for_31' into 'master'
    
    --fail-on-risk is not available before phpunit 5
    
    See merge request integration/nightlyscripts!7

commit 7839b8a9c9ff06fadddf30c881380bb5a623bc87
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Mar 20 11:43:08 2018 +0100

    --fail-on-risk is not available before phpunit 5
    
    Hence, don't use it for <= 31.

commit 2f884bdcb0baca67e82ad92c93aa7d8b39912eac
Merge: e983eeb 2c08619
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Mar 20 08:43:17 2018 +0800

    Merge branch 'failonrisky' into 'master'
    
    [runner] Fail on risky tests for phpunit
    
    See merge request integration/nightlyscripts!6

commit 2c08619df1d206805f406af51f2bd13f2f82c89f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Mar 20 08:36:12 2018 +0800

    [runner] Fail on risky tests for phpunit

commit e983eeb08d9e7c217f023ed6f63ea43161a19630
Merge: 934f0de 32fb897
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Tue Mar 20 08:02:05 2018 +0800

    Merge branch 'makes_test_output_risky' into 'master'
    
    Be strict about tests output. Mark them as risky.
    
    See merge request integration/nightlyscripts!5

commit 32fb8972f26b1c7e8c492cf80c465a2d8f1bc0cf
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Mar 19 20:24:38 2018 +0100

    Be strict about tests output. Mark them as risky.

commit 934f0de142b53c39eb6ec67b14964ce731ea55bb
Merge: 10d69ae 1239517
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Mar 6 00:53:23 2018 +0800

    Merge branch 'pin_pg_967' into 'master'
    
    Pin postgres to 9.6.7 because 9.6.8 leads to DDL failures
    
    See merge request integration/nightlyscripts!4

commit 1239517482c1cafdf33cdf715afce4920ab9d219
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Mar 5 17:51:19 2018 +0100

    Pin postgres to 9.6.7 because 9.6.8 leads to DDL failures
    
    See https://github.com/moodlehq/moodle-docker/pull/77

commit 10d69ae85da03dab502430e8dbc01c1dff7b79ac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 16 09:22:53 2018 +0800

    [runner] Add copyright information

commit c07c5a379e6cbb1f77b43bef5267eadc50d2391e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 16 09:21:22 2018 +0800

    [general] Archive old nightly scripts
    
    The Old Nightly Infrastructure is dead.
    
    Long live the Old Nightly Infrastructure.

commit 6c097c30eda6441ef66034d8f97b4bc5568ac769
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 6 08:35:59 2018 +0800

    [runner] Correct exitcode for phpunit
    
    This was a fault after the introduction of loops which meant that the
    true exitcode was overwritten.

commit b1b19e4d9a97610dc643e44785cb504ff9866b83
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 6 08:31:18 2018 +0800

    [runner] Add README

commit dd730f31a1a083b2dd51716c01454012d40b1092
Merge: e14c18c eb71f3f
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Mon Feb 5 23:35:21 2018 +0800

    Merge branch 'rajagain' into 'master'
    
    [runner] Switch back to raj images
    
    See merge request integration/nightlyscripts!3

commit eb71f3f9e824bc4891fafd71743586276272f08e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Feb 5 17:31:28 2018 +0800

    [runner] Switch back to raj images
    
    Raj's image seems to have some magic which is not present in the
    Selenium official image, though they appear nearly identical.
    
    This change backs out the hub change and instead uses the
    behat_parallel_runs to setup WD config as appropriate for both Firefox
    and Chrome.

commit e14c18c8bfb8948b0a77b0439580ff882d3f8f9d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Feb 5 13:05:47 2018 +0100

    Get rid of incorrect version and browserVersion caps

commit 32aeae46f8bbee9c16e65473b50e34f33dede2bc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat Feb 3 17:16:16 2018 +0800

    [runner] Save web server logs to file

commit 57e69aae4d08b55ebb2b1f87dffc661753588f38
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 11 15:43:59 2018 +0800

    runner: Use selenium grid with selenium per run

commit 659416237cc13a1626bf7c1a12028ab537b16b3c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 23 13:47:18 2018 +0800

    runner: Do not quote junit path - it tries to write to quote

commit 758be2e0cbf999c04b09a1815e7aaf4982708ff7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 22 13:49:18 2018 +0800

    runner: Add debugging to behat init and run

commit e9c897a76454ae6fd1d28c6a38bea292da994ada
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 16 15:35:17 2018 +0800

    runner: Switch to raj image
    
    Looking to try and remove differences between old and new.

commit d335319a094e17e30534e2773904da70261b1597
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jan 12 15:13:10 2018 +0800

    runner: Assign shared mem to Oracle

commit e2bd778180ecb0ab90cc30284d64945bc7cd0109
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jan 12 10:16:51 2018 +0800

    runner: Adjust how shared memory is allocated to selenium
    
    This is after changes to the recommendations from Selenium in their
    Docker README.md.
    
    They are now suggesting allocating shm to all browsers, not just Chrome
    as they previously suggested.
    They're also suggesting that you can use --shm-size instead of mapping
    /dev/shm which seems like a cleaner approach.

commit d457b833b2913bcf6f2a87186d5ac86f683446c3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 11 13:50:40 2018 +0800

    runner: Switch to Chrome + Selenium 2.7.1

commit d762de8ab7d76702a4eecd4519d4bd589f05393b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 10 13:35:25 2018 +0800

    runner: Support iterations

commit ca84659acbaf2cb3cc6a670ba2e164bde923ad85
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 10 12:24:48 2018 +0800

    runner: Switch to chrome + selenium 3.0.1 as per matrix

commit 9e1fcbdde3ffe13f77bdf2fbf49620976706cb40
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 8 08:10:05 2018 +0800

    runner: Add PHPUnit LDAP tests

commit 2d0e661a1ff80ec61582f0cdae7a4b263e66eb84
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 4 15:05:35 2018 +0800

    runner: Do not expose the selenium port

commit dcc244ccf400c471ddfc6239b773ecf0c10539e5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 2 10:36:14 2018 +0800

    runner: Make cachedir easier to fudge

commit ebcbd526ec20467d3e91e6ad89ac00aac3c1f3ba
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 2 10:20:43 2018 +0800

    runner: Add support for tags

commit 3d59a431fc8f74110923aea81482357a471a6e7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 19 11:30:23 2017 +0800

    runner: Correct variable name

commit 3c5e0da017857ad87938f004175ba880e9050815
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 19 10:44:25 2017 +0800

    runner: Chown workspace files at end of job

commit ba0da291e4ef4b69b4eac6215c0e492810027745
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 18 08:59:23 2017 +0800

    runner: Create nightly network

commit 1f8a3fd4e4eb1c477dcead9f59e7992e72e7b111
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 12 17:15:21 2017 +0800

    cron: Add slave script

commit 0294f7f31a650883c1b9ac2f64e8d5ac55fc2265
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 12 17:04:50 2017 +0800

    start_slave: Add slave starter script

commit 8f38704794db6efa3c1439507b612f6b31965d74
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 15:20:29 2017 +0800

    runner: Correct image name for exttests

commit ffd54a51b2343502a4e5411a1227f5b685c7f4bd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 15:01:27 2017 +0800

    runner: Correct variable name

commit dcaf5ef44faef63417eb796d10d11b3d95ea4bbb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 14:17:35 2017 +0800

    runner: Use external tests
    
    This makes use of the external testing URL now that MDL-60948 has
    landed.

commit 41b7738b0f9a6680ab401c772401171f9dd943a9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:53:46 2017 +0800

    runner: Sleep longer before starting postgres tests

commit ed533cc1bc1ec83fb37fc9245c33520ae8cf9afb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:46:49 2017 +0800

    runner: Syntax fix

commit 15e581022cd5d383d21a018f727347c95b6e3371
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:05:04 2017 +0800

    runner: Handle ALL suites condition for behat

commit 71693c14d9e7f5259a5b7690e891f4fb8e6d0d9d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:02:28 2017 +0800

    runner: Do not normalise mssql to sqlsr
    
    We need to be able to test these individually on 31, and 32.

commit 15b5fa8f18a391cfca88dc73cdb3033a3a5ec05d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Dec 10 11:41:01 2017 +0800

    runner: Correct PHP_VERSION specification

commit 4343f4c23db1584cc19d7096bd47ab081e1a40be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 12:51:15 2017 +0800

    runner: Add back to job summary

commit a4bc164aa3ad2262298120dbbdbd9bcaa49252f9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:44:59 2017 +0800

    runner: Move DB summary to ensure correct info

commit f936648da2f9c35aee8fb1893efd3bbccc6d9ecb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:44:45 2017 +0800

    runner: Use variables for DB creds

commit 7ca3b1ed438053da2c4ca2b3a3c93b3cc9d17957
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:43:54 2017 +0800

    runner: Correct Oracle init

commit 98ce1bc9347275f8626e44a0d5c66b899e179beb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 09:31:43 2017 +0800

    runner: More delimiter fixes

commit d2c7c9e6fe18df9c58b78b4d2c26fbf7eeb3f8a2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 09:21:09 2017 +0800

    runner: Improve section delimiters

commit 489254179dacc5f24e3a6c436f2baa1b4abfe805
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 08:59:13 2017 +0800

    runner: Correct behat init for alternate suite

commit 6ec6ba172a213b10bc1ca10390d0abea1631e0d3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 12:29:50 2017 +0800

    runner: Add markers or console collapse

commit eefb24f88dbedd818c9061d7c71316c1461b7729
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:52:39 2017 +0800

    runner: No need to drop if DB per run

commit 914135a8420407fddc12a5646f712a6d6712021c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:49:33 2017 +0800

    runner: Config belongs to version

commit ba4f4b32de8c1750031239cc2f7ca3c6c0ce10f3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:46:46 2017 +0800

    runner: Add more debugging info

commit d5bddc6c59fde7ddbddd748cc994b9f48f20af3f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 10:55:52 2017 +0800

    runner: Switch to versioned runners

commit e07804a002e5ccab15655672b60ed430a1abb123
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 10:11:27 2017 +0800

    run: Init database per run

commit bd4185f8d77ee19fb9140ad7afb220d642f23731
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:18:58 2017 +0800

    General: Tidy up all old files

commit 18b304a8103cce6071023a1fed4e91701016d07c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:15:32 2017 +0800

    run: Make 31-/32+ config changes clearer

commit bbd9f4720de9dc5904230a163496e544e562f4ab
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:14:51 2017 +0800

    run: Add clearer exitcode info

commit c5c601923acd98eb6a83b875f8d191592db2c4be
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Nov 27 00:04:58 2017 +0100

    config: 35 lang packs available, disable $CFG->skiplangupgrade

commit a1aa6d14ea45c091b357d7b4bfd9060bf87a9c68
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 14:01:24 2017 +0800

    run: More tidyups

commit 277474ca21004edd5ed392646dd447b9ca62af64
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 13:56:13 2017 +0800

    run: Tidy up DB details

commit ac70cfde1eceb5f7225706b609461e393366ba1a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 13:43:09 2017 +0800

    run: Allow configuration of PHP version

commit affd3c837dcb2bcdb711f026f7ad4749920f1ccc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 07:59:11 2017 +0800

    run: Add new job runner

commit 7357e301394db5935acdb15b4d22d2101bd79aa2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 11:44:36 2017 +0800

    configs: Start of on-sync. Skip lang upgrade in cron.

commit e98400eab6abbefce75b9fc26dc8cfa0fb6baef7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 08:49:18 2017 +0800

    docker_run: Add configs from docker image

commit d3327c852165fbfe89cbac7d516db3fa2c330530
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Nov 14 09:28:53 2017 +0800

    exttests: Add HTTP ext tests repo

commit e347a8389df0cdd48924d8ddd89e8593c87bbe9e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:59:41 2017 +0800

    docker_run: More interpolation fixes

commit dd5b6bdbc9da895a304212f979ae77b58c2b0a73
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:53:01 2017 +0800

    docker_run: More interpolation fixes

commit 9924855316b68a98a07835201bd99cf893b33148
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:42:03 2017 +0800

    docker_run: Typo fix

commit 028c4fa484b7f01ffef3f0e71284c5b1fffeaf91
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 12:38:23 2017 +0800

    docker_run: Quote MOODLE_PATH

commit 782b8a2f6ff8591729e9d46a0528dd6a79dfb76b
Merge: e6afa68 2041c1f
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Mon Nov 13 12:23:12 2017 +0800

    Merge branch 'dockerdb_34' into 'master'
    
    dockerdb: Add branches for 34 release
    
    See merge request integration/nightlyscripts!1

commit 2041c1fb344f979721087fc0d4d762b89427cdfd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 12:05:49 2017 +0800

    dockerdb: Add branches for 34 release

commit e6afa686e23c506b5d3448350668d14491ef6723
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 11:44:36 2017 +0800

    configs: Start of on-sync. Skip lang upgrade in cron.

commit bd26b5c923b10773a31e393feac6d97f183c2562
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 8 08:43:54 2017 +0800

    dockerdb: Switch to 2017-GA
    
    This change is now possible as we've switched to use of the overlay2
    docker storage driver.

commit 5bf9826b4f352bf69aff28dda1bd535f6dcf1a14
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:23:30 2017 +0800

    cron: Correct cron format

commit f71fed4d803e791ae3ed1b45a2c9609ceadc80c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:20:34 2017 +0800

    dockercleaner: status = exited

commit cf36cefc225bc6d9351a8ce93ffaeede6800b674
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:18:03 2017 +0800

    cron: Add daily job for dockercleaner

commit b368011028618e584312eac655ec14d27c2e4212
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:12:51 2017 +0800

    dockercleaner: Make this not suck

commit 934e3a853c1c4ec2ce28a50b77a6387642a2d5be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 11:42:52 2017 +0800

    docker_run: Quote MOODLE_PATH

commit b772068b5ce55a7d8ea1931c0fda53c9ce20303a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 10:11:35 2017 +0800

    dockerdb: Switch to use moodlehq image

commit ee752cb4065fbd161b25d844aeffeb2d6506796c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 10:11:26 2017 +0800

    dockerdb: Add DB for php71

commit b11856d97e7200cd1a133e4f685513a179ba6b34
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:35 2017 +0800

    dockerdb: Stop mapping ports.
    
    Welcome to a pure docker world. No more bare-metal builds to have
    headaches with.

commit ca1bfc0f27ecc8a88b7650daf4ab24cb0cb31d75
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:16 2017 +0800

    dockerdb: Add dbs for master

commit 4f9f95d93046607e93c6e996477946e2389d2f70
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:06 2017 +0800

    dockerdb: Remove outdated docs

commit dfed5a9d2cb2eddc80c8b4d3824870c87f2980b2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Aug 3 12:00:55 2017 +0800

    dockerdb: Do not wait for docker DB starts

commit a87eb0e4242eb2acacf7e94950f2a0e6f177dd99
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 13:56:17 2017 +0800

    dockerdb: Correct DB name

commit 443787c7e0adce39a39b156d9a99a7940a1d6014
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 10:51:56 2017 +0800

    docker_run: Switch to official Chrome Selenium image
    
    The previous image we used had a broken commit for :latest, and the
    previous version was not readily available.
    
    I've switched to the official, standalone image.

commit e101af4ae0a5d023c04b6558120d385945efc9c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:15:27 2017 +0800

    dockerdb: Add new DBs for generic job usage

commit 4de9fb6d5c49cf9cf9d9aa53dbdf3e89a6443e62
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:15:06 2017 +0800

    dockerdb: Pin to Postgres:9

commit 6e525795a7366fe88e7ea2b647dc4208aac5f35d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:11:51 2017 +0800

    dockerdb: Improve help for dockerdb

commit 7f82cbcc91fdb5acf981df3729897a1fccca0080
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:59:00 2017 +0800

    dockerdb: Fix mariadb to version 10.1
    
    We don't have compatability with 10.2 (MySQL 8) yet.

commit 07379159cfece3d4927e1a4d31e04cf38576bb00
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:46:50 2017 +0800

    cron: Fix cron scripts
    
    These weren't working before because of a mix of ownership issues, and
    other stuff.
    
    I've changed this to a model of job and script for easier future
    maintenance.

commit a8c2b674f50c189ff4dbcd8f3a0237bbd7bad117
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:16:35 2017 +0800

    docker_run: Make docker stop more resilient, and stop removing container
    
    In some instances, the docker images were stopped and removed before the
    trap was hit. This meant that the test was subsequently failed because
    the container no longer existed.
    
    I've made it more resilient by looping over a list, rather than the
    common shorthand. I've also stopped removing the container because the
    removal means that we lose the logs too.

commit eedbd25f2d5b72d829d628190cf6697dadd22b81
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:14:52 2017 +0800

    dockerdb: Stick to sqlsrv:ctp2-1
    
    sqlsrv:rc1 is buggy and broken on some nodes.

commit 02c8e9ca341c4951d9adf439e2cf7473cc1ab8ae
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:41:33 2017 +0800

    maintenance: Correct file permissions

commit b77ec90f15f2bb6f4d6eda81b82eb7b57610a1fa
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:38:56 2017 +0800

    maintenance: Add config backup script

commit 2a85bdd3fe89bd51dbdb96ab98f7231ea5ae8119
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:29:15 2017 +0800

    docker_run: Add DB Prefix info to job summary

commit 72624fb9daf198d48d6ed70511234b8b30a76ce4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 10:32:39 2017 +0800

    docker_run: Clean up images correctly after run

commit bd0ccda93bb07cee55597838de58125d05dcd135
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 08:45:09 2017 +0800

    dockerdb: Add DB for T.01

commit 6abfeecbbf93d5cfd92bb23f0bc6865f7a6ab00f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 08:43:36 2017 +0800

    docker_run: Remove old MOODLE_BRANCH param

commit 704e0ee73f9121f1417228b8ce3d6c835d73019f
Merge: 9f40477 095784d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jul 24 13:16:04 2017 +0800

    Merge remote-tracking branch 'origin/named_jobs'

commit 095784dd8d5b2203268331411fc042fb98342e5d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat Jul 22 15:45:11 2017 +0800

    docker_run: Silence empty directory removal

commit eefe579c3b889c136cc15fff0eab25b33be9be86
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:38:19 2017 +0800

    docker_run: Run as $UID instead of jenkins

commit a8f964328b50cfa66d7d83d792976ed0c71056f4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:36:47 2017 +0800

    docker_run: Bindmount the composer cache
    
    Note: The images we currently use run as 'rajesh' because of UID
    matches.
    We need to solve this better.

commit ec440419e11dbaffee7c6965204ac52b3cdf7f93
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:36:17 2017 +0800

    docker_run: Stop running composer outside of docker

commit 9f40477e8fac197daf534b9e069ef9371ed2f0c7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:17:34 2017 +0800

    docker_run: Remove commented out code of yesteryear

commit c2793912e22de14e34c9b4c945389343fc19f7db
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:20:51 2017 +0800

    docker_run: Switch from linked image to named on-network image for selenium

commit 2ebbbf935327deaae0ed11e39deea90d1a50465e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:54 2017 +0800

    docker_run: Switch to uuid naming

commit f4c977987cb705453c661102ecc1db4271ac5b3b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:38 2017 +0800

    docker_run: Ensure docker is on a network

commit 24193e89122a6772bf54a2a649c6c86c64efc425
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:29 2017 +0800

    docker_run: Remove more commented

commit 426ace636b8d1d8d8c5be2705a9e7735c216e494
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:02 2017 +0800

    docker_run: Ensure docker is on a network

commit 8b562166645f72ae7898c61a43b7f3bf323e1bc3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:18:31 2017 +0800

    docker_run: Switch to uuid naming

commit dca896e92f9b622dfad9cd4ba1b9bf50124c9209
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jul 13 20:52:41 2017 +0800

    MDLSITE-5153 no exceptions for any php version / database
    
    Moodle 3.4 and up requires php70. mssql is not availale for php70
    (only sqlsrv is) and oracle is too. So commenting any exceptional handling.

commit fc03eba427bd1f743b6368355fdd6419e94e09d2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 5 11:31:30 2017 +0800

    docker_run: Add info about the current run

commit e4b0f7479fcb1fbb408b7a3b566728bb5c910937
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 5 10:55:58 2017 +0800

    dockerdb: We need 31 databases again

commit 65d95d9f13934880103988a825c645b30f4c2dc3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 16 13:39:07 2017 +0800

    dockerdb: Put Oracle data on tmpfs

commit e4f4348e435d0e28abd404fc747774dd83128155
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jun 15 09:51:50 2017 +0800

    cron: Add cron scripts (Fixes MDLSITE-5150)

commit 4d0c445d765efe3bdc622cfe58f82dd014abf77e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 11:53:25 2017 +0800

    dockerdb: Add more MySQL/MariaDB tuning

commit e5ed9d0649a1f365d64e95e1581deca2d5128c7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 10:44:02 2017 +0800

    dockerdb: Add some tuning

commit 8c81986d547e4d0c9332b093a2b51d6eaa0d65b5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:37:16 2017 +0800

    dockerdb: Add improvements found in MariaDB

commit a489d422740bb0eda073cb5a066aa6f7bd2b4687
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:36:57 2017 +0800

    dockerdb: Switch to fixed version of the official mysql image

commit 4b1e69023176821b43d684c803883612515e4cd1
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:36:31 2017 +0800

    dockerdb: Expand mariadb detach option

commit 96adaf626df1e2452acb4c68122fb1a583132001
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:29:00 2017 +0800

    dockerdb: Move MySQL/MariaDB Password to environment
    
    Recent versions of MySQL emit a warning when the password is specified
    as a CLI argument.

commit bdf127cff2de7cd03667ef85ee2c8a6e6bef65b5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:24:08 2017 +0800

    dockerdb: Correct spacing of DB name for new DBs

commit 5bc5491c1c576c8357c37ab6188806cb47bcacf9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jun 1 06:23:35 2017 +0800

    Revert "docker_run: Build in a network"
    
    This reverts commit 9efbb8bdbf02b2b1f3addea489d1bb8a2d0df7a4.

commit 4ff6531e10df7cdd8adb427e22a3f7cbe292cd9e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:48:30 2017 +0800

    dockerdb: Add DB for php7 runs

commit 0ee70b8f75b45c93e755980e4a8430592229b775
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:38:35 2017 +0800

    setup_run_phpunit: Stop changing the MSSQL DBName if we don't need to
    
    The old VM only had one database, whereas the new docker image has one
    database for each run.
    
    We need to preserve the running for the old database in case we need to
    resurrect any old jobs.

commit de6c7b70c173114517b77f39b1f45c5f1c89e036
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:28:40 2017 +0800

    configs: Add parallel boost template found on nightly02

commit f431c5240e3a20284d54a06305d02fe2bccc6f54
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:23:27 2017 +0800

    configs: On-sync has ended. Stop skip langpack upgrades

commit 9e73afd89594cedcd5fd7f139fdfc938cbefd975
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:01:41 2017 +0800

    setup_: Echo out information on which database is being run today

commit 984216dc9744386ad7c3300567259cb2a5ce5437
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:49:57 2017 +0800

    dockerdb: Remove tmpfs from mssql

commit 106f1900994acfc909e00bf8e3bd6c90d953f0be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:42:00 2017 +0800

    setup_run: Add DbPort option

commit b2d1f42768ec382cb4a4c74ce87b45ca19ff9f0d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:40:17 2017 +0800

    configs: Add DbPort to match setup_run_phpunit

commit 0cb102cbfebe11f05fbad6f47997064905e12e67
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:35:34 2017 +0800

    configs: Bring config.php templates into git

commit 9efbb8bdbf02b2b1f3addea489d1bb8a2d0df7a4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:33:16 2017 +0800

    docker_run: Build in a network

commit 4d8e4e1faa7b6c3f3d1752c54aabd265975db986
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:29:49 2017 +0800

    dockerdb: Silence network creation

commit 4f7f121634150a2cecc9b7758c268fa2e4b81612
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:29:31 2017 +0800

    docker_run: Expand out docker run

commit 7d234526c5f9aa14a46a7a5f02868d1eae9803dd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:12:02 2017 +0800

    setup_run_phpunit: Add DbPort option

commit 73f48e29719c07b674095f0fd14a2834f831cc26
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:11:40 2017 +0800

    dockerdb: Add mariadb configuration

commit 2e7da39c72f1593e31bff286814abde3d71aa04d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:11:12 2017 +0800

    dockerdb: Add pgsql tuning

commit daf2b768391559c3ca9624ca9affac4acdbde6d9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:10:52 2017 +0800

    dockerdb: Move database partitions to tmpfs

commit 60f82163aeb3024864a24278cad9fb1ca565a2cd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:09:36 2017 +0800

    Move docker DB servers to their own network for better DNS resolution
    
    This makes use of docker's internal DNS resolution, which is only
    available to hosts running on a custom network.

commit 467b83601e8194df07a2277170fb72bcace7ed0e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:09:09 2017 +0800

    Expand docker run for db setup

commit cf5494b2faa2be57cf2cfe57d8645eb1e7bc457e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:06:55 2017 +0800

    Add support for DB Port to docker_run

commit dbfa320c859cbf9997b7dab94560d18496b63990
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:56:22 2017 +0800

    Move mariadb to tmpfs

commit 06defa01587affac144628d9704f9ed7b9902dec
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:51:18 2017 +0800

    Add .gitignore

commit 5754c93fe748b6423d3e1e9fdbc7b2d629d6aa48
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:50:36 2017 +0800

    Add Jenkins maintenance scripts

commit bb24bbefb3e83e40bb68dc3ad265159a854d45ca
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:50 2017 +0800

    Remove archive

commit f0d65eaaa0b56f71190703bf4cdc2f52ef76abaf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:43 2017 +0800

    Add archive

commit d059d034161e4f159e58c10814acfed8d74a4bf0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:10 2017 +0800

    Note about adding/removing databases

commit e000d5b1d44e6b787e547786d5b2bb91b23cbbdc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:37:25 2017 +0800

    Add a quick readme

commit 452fbb9bb177232fb6d63e294ac41903c612c3d0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:23:14 2017 +0800

    Switch to Dan's Oracle image

commit 2da98ad152dbb3ba371968f1d8b428daafd18dfe
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:23:02 2017 +0800

    Remove 21 databases

commit 261d4af18497ff63db71ead7a16aa6ddf622198f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:22:41 2017 +0800

    Tidy up faildump dir creation

commit f0b2fa4afa2515d739eca10b84653e0208da38b7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 15:44:42 2017 +0800

    Expose the sqlsrv port

commit 51891bb10cf4e61cebd6a0e6a20d88bbf563cd7b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 15:44:29 2017 +0800

    Correct DB init for sqlsrv

commit aea44409111987fd236d4f7e8abb5cfc6463af4a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 14:05:15 2017 +0800

    Correct docs for sqlsrv docker

commit 05b4937c3702d2069d2db48a6474a331a118dad1
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 14:04:19 2017 +0800

    Add M33

commit 04d79d0f0ca77f625731396a4dedc1d02d451c9b
Author: ${username} User <jenkins@nightly.test.in.moodle.com>
Date:   Wed Apr 12 09:16:37 2017 +0800

    Nightly scripts checkin
======================: FILES :======================
======================: BRANCHES :======================
======================: LOGINFO :======================
commit 2f5e8e5332c2e80cc4168bc1b176549ad8d099df
Merge: 88dd7f7 b429255
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Dec 15 10:24:16 2022 +0100

    Merge pull request #91 from stronk7/point_to_latest
    
    For sqlsrv, switch from 2017-latest to latest

commit b429255a73f0d36610f8f1e4999154dbfb411034
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Dec 11 11:31:13 2022 +0100

    For sqlsrv, switch from 2017-latest to latest
    
    Note that, right now, "latest" is exactly 2017-latest, so
    everything will continue working exactly the same.
    
    But once we finish with the tests @ MDLSITE-6045, we'll make
    2019-latest to become "latest".
    
    That's the reason the comment in the runner says
    "right now 2019-latest", because in hours, if everything
    goes ok, 2019 will become the latest.

commit 88dd7f7c32dd1e3254317d64073cdfc47c899146
Merge: dacb4b9 8c6c8fe
Author: Jun Pataleta <jun@moodle.com>
Date:   Sat Nov 26 19:25:57 2022 +0800

    Merge pull request #88 from junpataleta/41_disablelangupgrades
    
    Disable lang upgrades during 4.1 on-sync
    
    Merging as part of task #4 in packaging release tasks

commit dacb4b96c4d51d5cb1a24f05f9f488129d8fc712
Merge: 6b8f0e8 32ecdaa
Author: Jun Pataleta <jun@moodle.com>
Date:   Sat Nov 26 19:25:03 2022 +0800

    Merge pull request #90 from junpataleta/MR2_41_version
    
    Add Moodle 4.1 version
    
    Merging as part of task #4 in the release packaging tasks

commit 32ecdaa16beeec566d2821157021bbef6a42f890
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Nov 22 23:38:46 2022 +0800

    Add Moodle 4.1 version

commit 8c6c8fe66878f63b5b42e57d58f7b7fe6f056f78
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Nov 22 22:36:40 2022 +0800

    Disable lang upgrades during 4.1 on-sync

commit 6b8f0e857c07c8c1452df201c73769e9e6ca8d3f
Merge: 23d1022 79c14c9
Author: Jun Pataleta <jun@moodle.com>
Date:   Wed Aug 31 14:37:01 2022 +0800

    Merge pull request #85 from stronk7/postgres_replicas_10_and_up
    
    WIP: Make pgsql replicas to work with PostgreSQL 10 and up

commit 79c14c99b2af36686446ddf2b69cfae148902ef7
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 31 00:25:11 2022 +0200

    Make pgsql replicas to work with PostgreSQL 10 and up
    
    This seems to be working for PG 10, 11, 12, 13 and 14. I've finally
    left 9.6 out from the equation because it required to add some more
    shell scripts to be executed conditionally. And I think we can
    ignore that old versions @ CIs already (Moodle 3.9 works with PG 12
    perfectly).
    
    Note the changes here seem more complex, but basically it's because
    I've moved the stuff to be similar to the mysql/mariadb one, aka:
    
    - Create master / slave / standalone directories.
    - Move as much as possible to .sql entry points.
    - Keep shell scripts simple, only doing things really requiring a shell.
    
    Other than that, just renamed some setting or remove some stuff
    that was not needed (archiving, logging...) apparently.
    
    Fixes #79.

commit 23d10229496d8db16f1db3d12a384b8e1afb21d8
Merge: ef96180 6b81082
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Aug 29 16:58:35 2022 +0200

    Merge pull request #83 from stronk7/mariadb_replicas_102_104
    
    Make mariadb replicas to work with 10.2 to 10.7

commit ef96180f7f4c9112cd5559df3446f857671c33f3
Merge: 3891a8f 94a6c51
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Aug 29 10:02:27 2022 +0200

    Merge pull request #82 from stronk7/mysql_replicas_57_80
    
    Make mysql replicas to work with MySQL 5.7 and 8.0

commit 6b81082aa7fd59312deb56a891a78b055bd3930e
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 24 21:11:28 2022 +0200

    Make mariadb replicas to work with 10.2 to 10.7
    
    The code used here is 99% the same than the mysql one. But finally
    I've decided to copy it all over own mariadb.d directory.
    
    The only difference is when creating the replication database user
    because the MySQL sentence:
    
    CREATE USER 'replication'@'%' IDENTIFIED WITH mysql_native_password BY 'replication';
    
    Doesn't work with MariaDB. In fact, since MariaDB 10.2 the
    mysql_native_password is the default authentication plugin
    so it doesn't need to be specified. So this works the same:
    
    CREATE USER 'replication'@'%' IDENTIFIED BY 'replication';
    
    A working alternative is also:
    
    CREATE USER 'replication'@'%' IDENTIFIED WITH mysql_native_password USING PASSWORD('replication');
    
    But I've gone with the simple one because it's future better.
    
    As said, everything else is 100% the same, but better split that making
    complicated conditionals to get both working with the same config files.

commit 94a6c51bd7edeea66c11f9565a8839ed4e314152
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 24 15:54:12 2022 +0200

    Make mysql replicas to work with MySQL 5.7 and 5.8
    
    This fixes #80. It has been detected that MySQL main/replica
    configurations have stopped working. My personal bet is that
    some changes in the MySQL images have leaded to that, or maybe
    they were working for MySQL 5.6 and never have worked to 5.7.
    
    NVM, this commit just makes them back to work for both 5.7 and 8.0,
    that are the currently "supported" MySQL databases.
    
    Note that, after this PR, we'll be checking the MariaDB main/replica
    configurations because they may need similar changes.
    
    Also, while I've tested the solution locally, we are lacking any own
    CI for this product, so I've created an issue about that:
    
    https://github.com/moodlehq/moodle-ci-runner/issues/81
    
    Finally, here there are the explanations about the changes performed:
    
    1. Moved the bin logs from /var/log/mysql to /var/lib/mysql . Reason
       being that the former directory doesn't exist anymore in MySQL 5.7
       and up (and also, that the binary logs are better with data than
       with logs).
    2. Removed the 'multi_admin' user related stuff. Not needed at all.
    3. Minor changes to moodle and root GRANT/IDENTIFIED stuff because
       of changes in MySQL 8 (already deprecated in 5.7). Use ALTER USER
       instead.
    4. Use IDENTIFIED WITH mysql_native_password (the old password schema),
       because MySQL 8, when using the new hashed schema requires
       communications between the hosts to be encrypted. We don't need that
       extra complexity and while it can be disabled as part of the CHANGE MASTER TO
       command... it cannot be disabled for MySQL 5.7. SO the only option
       working in both versions is the used one (force old passwords schema
       for the replication user).
    5. Remove the need of stopping and starting the temp server in the
       replica. All the commands can be executed with the temp server
       running and then the container entrypoint manageing itself will stop
       the temp server and start the final one.
    6. Stop needing gosu completely. Now the replica conf files are made
       available via volume mount (like the standalone or main cases).
    
    And that's all. The changes are small and subtle, but each one is
    for a good reason, I think.

commit 3891a8f4ab36cfc5d4a7f466b0b2c78582eb9a92
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 23 12:06:40 2022 +0200

    Ensure that any Oracle > 11g doesn't use tmpfs anymore
    
    Apart from not giving a real benefit, the new machinery
    in Oracle 12 and up doesn't work well with these devices
    leading to all sort of problems is we also want to change
    system settings.
    
    Hence, disabling tmpfs. There are some more details in the
    long conversation @ https://github.com/gvenzl/oci-oracle-xe/issues/111
    (about that and many other details / iterations)

commit 08389ab2c008f1eedf9e310efc65945114bafd12
Merge: 88b8117 b6d1eaf
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Jun 6 09:13:33 2022 +0200

    Merge pull request #78 from moodlehq/testing
    
    Add support for specifying the DB tags (versions) to use

commit b6d1eafe0bac5fdae384edb516890bc13c5c070f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Jun 5 17:54:07 2022 +0200

    Add support for specifying the DB tags (versions) to use
    
    Added a new parameter, DBTAG, which behaviour is as follows:
    
    - If not specified, every database will use the currently
      pinned version (if there is any) or "latest" if not. Right now,
      the versions are:
        - mariadb: 10.7
        - mysqli: 5.7
        - oracle: latest (11)
        - pgsql: 12
        - sqlsrv: 2017-latest
    - If specified, then that tag will be used, say, for example:
        - mariadb: 10.6, 10.5,...
        - mysqli: 8.0,...
        - oracle: 19, 21,...
        - sqlsrv: 2019-latest,....
    
    So, this change doesn't make any difference in current default
    jobs (only pgsql has been raised to 12 to be ready for 4.1). Everything
    will continue running exactly as it's now.
    
    Only when we add support for that new DBTAG parameter in jobs (and in
    nightlyjobs) is when we'll be able to run alternative versions.

commit 88b8117b7ba8ca7b4e3d06282d160e5a4b23cf3c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue May 24 17:19:22 2022 +0200

    Pin MariaDB to 10.7, new 10.8 and 10.9  have problems (take II)
    
    Again (we unpinned it 3 months ago!), pin MariaDB
    to continue using 10.7, because 10.8 and 10.9 (just released) have some
    startup / init problems.

commit b93a84091e401db4f4186ddf97d76353f219803d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue May 24 16:58:08 2022 +0200

    Pin MariaDB to 10.8, new 10.9 has start problems
    
    Again (we unpinned it 3 months ago!), pin MariaDB
    to continue using 10.8, because 10.9 (just released) has some
    startup / init problems.

commit f977d82b966d0b1ac76b7fdb2f3f08e9c29335d6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 16 16:24:54 2022 +0200

    Remove the local/moodlemobileapp existence condition
    
    Previously the app was only started if the moodlemobileapp
    plugin was installed. But it may be perfectly ok to have
    alternative plugins to that one.

commit fb50f9ce19f3003286963a11431ea48303be62b7
Merge: fdce1d4 e2e1517
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Apr 28 13:56:27 2022 +0200

    Merge pull request #75 from junpataleta/40_enablelangupgrades
    
    Re-enable lang upgrades after the 4.0 on-sync period

commit e2e15170be3b1551a6e87881530be794d73f53da
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 12 11:57:36 2022 +0800

    Re-enable lang upgrades after on-sync

commit fdce1d4d7c20324b04e0d147269633e3237b2477
Merge: 7c7bee2 3a00bd7
Author: Víctor Déniz <victor@moodle.com>
Date:   Mon Apr 18 20:51:31 2022 +0100

    Merge pull request #76 from stronk7/enable_langimport_tests_when_not_skipping
    
    Enable lang install/upgrade tests only if lang upgrades are enabled

commit 3a00bd79fa53e1c0840e4c456570bb11f92f433c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Apr 18 12:37:20 2022 +0200

    Enable lang install/upgrade tests only if lang upgrades are enabled
    
    Over a few days/weeks after a major release, the lang upgrades
    are disabled in testing infrastructure, because the new development
    branch (4.1) in this case, doesn't exist yet.
    
    When we proceed to disable the lang upgrades (part of the release
    process) we need to ensure that all the tests using the languages
    install/upgrade are skipped.
    
    To do so, we don't define the TOOL_LANGIMPORT_REMOTE_TESTS constant
    so all the related tests always will look for it to decide between
    being executed or skipped.
    
    In PHPUnit that's checked with code like:
    
        if (!defined('TOOL_LANGIMPORT_REMOTE_TESTS')) => skip
    
    In Behat that's checked with the step:
    
        Given remote langimport tests are enabled
    
    For more details, see https://tracker.moodle.org/browse/MDL-74512

commit 7c7bee2f295b2f83e7e5ba38aa06ae99386fc2b8
Merge: 1499e43 25d9e32
Author: Jun Pataleta <jun@moodle.com>
Date:   Sun Apr 17 15:53:01 2022 +0800

    Merge pull request #74 from junpataleta/40_disablelangupgrades
    
    Disable lang upgrades during on-sync

commit 25d9e32c3e10c32a7dacb0c1b2340725942b95d3
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 12 11:56:58 2022 +0800

    Disable lang upgrades during on-sync

commit 1499e4388787a77a52cafc9108246458fc84fc91
Merge: 73c20f2 ecebf60
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 5 15:57:11 2022 +0800

    Merge pull request #73 from stronk7/add_ml_python
    
    Add support to run the python mlbackend analytics tests

commit ecebf60f063439c6ea7bbff375c6bf01b0a8038b
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Apr 5 09:39:06 2022 +0200

    Add support to run the python mlbackend analytics tests
    
    Disabled by default, just define `MLBACKEND_PYTHON_VERSION`
    with a correct tag of the docker image and that will make
    the container to run and the PHPUnit jobs to use it. Example:
    
    export MLBACKEND_PYTHON_VERSION=3.0.4-python3.7.5
    
    This it the first step towards adding these tests to CI.

commit 73c20f2fa47b13b55ee443f97f144a40f45989db
Merge: 4498b70 add5d74
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Feb 26 10:05:52 2022 +0100

    Merge pull request #72 from stronk7/unpin_mariadb
    
    Unpin MariaDB

commit add5d74a25780ce672084f5200bfd7bf6459978a
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Feb 26 09:45:57 2022 +0100

    Unpin MariaDB
    
    Now that 10.6.7 and 10.7.3 have been releases and their
    docker images are available, we can unpin it @ GHA.
    
    Fixes #55

commit 4498b708adf0e9fdb3d93a71c8b5495c45f388ec
Merge: 516b323 8db6d8b
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Feb 8 23:04:21 2022 +0100

    Merge pull request #70 from moodlehq/branch_40
    
    Add Moodle 4.0 version

commit 8db6d8b86392184cd3a7c271b3270bde54a69329
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 8 20:38:27 2022 +0800

    Add Moodle 4.0 version

commit 516b323cd729c295f65a017ab9cf6c0217b6de75
Merge: 6399b2f 3f79c0b
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jan 19 16:28:10 2022 +0100

    Merge pull request #69 from stronk7/bring_back_unconditional_xvfb
    
    Revert "Don't start xvfb in headless runs"

commit 3f79c0beec53c2f7e43ccbe5b9a44fcdd34cefcc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jan 19 16:20:12 2022 +0100

    Revert "Don't start xvfb in headless runs"
    
    This reverts commit 520e91ee67cb27c5f9c6973c1c9997167b1942b2.
    
    Immediately after applying #67 we have started to get all
    headless jobs failing with all sort of timeouts and > 8h
    of execution time. Headless runs.
    
    And this is the only change that has been performed since
    then, hence, reverting here and now.

commit 6399b2f204e08a2ad77a8434c834ec3ef115989e
Merge: d1dbed9 d11b5b6
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Wed Jan 19 11:24:47 2022 +0100

    Merge pull request #68 from moodlehq/alwaysFailOnRisky
    
    [runner] Always apply fail-on-risky

commit d11b5b6c4ef19936a2a5614fc16a0d1880b89fda
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Sep 26 13:16:40 2021 +0800

    [runner] Always apply fail-on-risky

commit d1dbed938e2ba091885284219dbd97452287b327
Merge: 191b387 520e91e
Author: Andrew Lyons <andrew@nicols.co.uk>
Date:   Wed Jan 19 08:24:45 2022 +0800

    Merge pull request #67 from moodlehq/xvfb
    
    Don't start xvfb in headless runs

commit 520e91ee67cb27c5f9c6973c1c9997167b1942b2
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 23 14:02:11 2021 +0200

    Don't start xvfb in headless runs
    
    It's not used and for sure will save some resources.

commit 191b387387c71179569812103595bd5fec2d62e5
Merge: adf2361 807f300
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Dec 9 16:35:42 2021 +0100

    Merge pull request #66 from moodlehq/chromedriver_bump
    
    [runner] Update to Chromedriver 96.0 custom

commit 807f300b9e362266aa2b3141ddf67c230aa9ad2f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 1 11:56:01 2021 +0800

    [behat] Force set marionette capability to true
    
    This works around https://github.com/Behat/MinkExtension/issues/376.

commit 1c8c62a863c557b43bae0537619a8108435fd10b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Nov 30 10:38:55 2021 +0800

    [runner] Update to Chromedriver 96.0 custom

commit adf2361b62d1b7575e4280c712576afb9b1a3db9
Merge: f88d0d1 2f8500e
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Nov 18 11:40:11 2021 +0100

    Merge pull request #65 from moodlehq/bbb-container-name
    
    Fix wrong BBB mock server container name

commit 2f8500e499062165875831f03d88bd6fdfa7d96e
Author: Víctor Déniz <victor@moodle.com>
Date:   Thu Nov 18 09:19:26 2021 +0000

    Fix wrong BBB mock server container name
    
    We were using the wrong container name in docker logs and getting errors during testing like "Error: No such container: http://bbbmock9145c76fb054c670"

commit f88d0d184259019a4c9d356e3196392e72c28010
Merge: a356bf8 4557921
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Nov 16 19:43:48 2021 +0100

    Merge pull request #64 from moodlehq/bbb-mock-server
    
    Add bigbluebutton mock server support

commit 4557921c4d11454fa2b9ecd15f976606c56f89c4
Author: Víctor Déniz <victor@moodle.com>
Date:   Tue Nov 16 16:26:22 2021 +0000

    Get BBB mock server image from moodlehq

commit c2f64e4e2f85d4bf4760ee2003695a81e829acc9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Sep 1 12:37:49 2021 +0800

    Add bigbluebutton mock server support

commit a356bf87df4796d291a1b98efce97d7d269622a9
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Oct 21 16:23:17 2021 +0200

    Add RUNCOUNT to de job summary information

commit 7a332221aaba02ab3f0476e7443f1c4a2659cedc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Oct 21 15:07:45 2021 +0200

    Add information about the installed plugins and their commits

commit baa4df45feb5de55fb7a14da1845b7a23bd2e5c8
Merge: 1efdc00 14292c7
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Oct 18 18:24:03 2021 +0200

    Merge pull request #62 from andrewnicols/customchromedriver
    
    [runner] Switch to custom chromedriver image

commit 1efdc007636385fe2f4455408f0ac5bd3698a8c3
Merge: f2f7295 e6d63a4
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Oct 15 09:44:00 2021 +0200

    Merge pull request #60 from andrewnicols/nogit
    
    [runner] Stop installing git

commit 14292c78bea2616b0dad6bfec5b0f5b493114446
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Oct 15 08:10:49 2021 +0800

    [runner] Switch to custom chromedriver image
    
    See https://tracker.moodle.org/browse/MDL-71108 for details on the
    reasons behind this change, and its history.

commit e6d63a4541cea00d5ad91130bdc759f4408a8bb2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Sep 26 11:32:26 2021 +0800

    [runner] Stop installing git
    
    It's installed already.

commit f2f72953bd6ce755ddeca2c47ec35bc9ea783342
Merge: 0bcac46 30e5b98
Author: ilyatregubov <ilya.a.tregubov@gmail.com>
Date:   Tue Sep 14 17:03:06 2021 +0200

    Merge pull request #59 from stronk7/unpin_chome_and_cross_fingers
    
    Unpin chrome version and cross fingers

commit 30e5b98ac88e1db6eab9c39aaeb0dc1ecb699747
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Sep 14 16:56:51 2021 +0200

    Unpin chrome version and cross fingers
    
    We are going brave here and go back to unpinned chrome version, because staying with
    the old Chrome 79 version (3.141.59-zinc) is making things really harder and harder.
    We are aware that, for headed runs, there are some zero-size errors still not fixed,
    but headless ones should run ok. For reference, the problems we are aware are being
    tracked (as of 14 Sep 2021) @:
      - MDL-71108 : zero-size
      - MDL-72306 : feedback

commit 0bcac461b8245b41a57c2fbd182641d9a2428554
Merge: 242d3fc 56741b9
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sun Sep 12 18:20:47 2021 +0200

    Merge pull request #52 from stronk7/enable_classic_accessibility
    
    Revert "Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 242d3fcedb5afbbe614a52e79071b4aa39c2c444
Merge: b039c34 0dc556c
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Aug 27 11:04:44 2021 +0200

    Merge pull request #56 from andrewnicols/mobileAppPort
    
    Allow mobile app port to be customised

commit b039c3490bcba3b4c0d9e5aab5a2a5f929c60472
Merge: 87a90c3 cfc5036
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Aug 27 10:56:47 2021 +0200

    Merge pull request #57 from andrewnicols/removeTerminalFromReruns
    
    Remove terminal from rerun commands

commit 0dc556c8c98a6711d08303466e881cf1d01dd57f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 6 15:09:19 2021 +0800

    Allow mobile app port to be customised

commit cfc5036ae3d6360e6907dde08181d21c544b5cbc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Aug 10 21:53:23 2021 +0800

    Remove terminal from rerun commands

commit 87a90c3a470400b76147906669127820e613cffa
Merge: 90e2530 eed9af3
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jul 14 12:55:28 2021 +0200

    Merge pull request #54 from stronk7/mariadb_10.5_sticky
    
    Make mariadb:10.5 sticky

commit eed9af3e0b5e7887fcd02f854a2a49883bb38891
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jul 14 12:36:35 2021 +0200

    Make mariadb:10.5 sticky
    
    New mariadb:10.6 makes the COMPRESSED row format read-only by default
    because it's deprecated now and will be removed in mariadb:10.7
    
    This is being tracked @ https://tracker.moodle.org/browse/MDL-72131
    
    Once that issue is fixed and we switch to DYNAMIC or whichever the
    final solution is, we'll unpin this.

commit 90e253075284b043da520b882101837a3483b2a1
Merge: d4dafe3 4ed4506
Author: Sara Arjona <sara@moodle.com>
Date:   Tue Jun 22 11:07:36 2021 +0200

    Merge pull request #53 from stronk7/pg10_bump
    
    Pg10 bump

commit 4ed450679cf0b3aa2e2f7e8e71348db536801457
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 21 18:29:13 2021 +0200

    PG10 minor changes (replication related)
    
    Following the information @ https://www.postgresql.org/docs/10/release-10.html
    - rename functions, tools and options referencing "xlog" to "wal".
    - log_directory changed from "pg_log" to "log".
    
    Note that both:
    - wal-method=stream
    - log_directory=log
    
    are default options so, extrictly speaking we shouldn't need to set them
    but it doesn't hurt to have them explicily defined, so keeping them.

commit a4b02874efa1b7e11aba8e1e1d5d65038a1c9c88
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 21 18:08:46 2021 +0200

    Bump to PG10, Moodle 4.0 requirement

commit 56741b9fc2f14dbc09984d8b49dc22d79bd59d14
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Jun 13 23:03:42 2021 +0200

    Revert "Disable accessibility (axe) with classic till MDL-70846 is fixed"
    
    This reverts commit 6772ca686434a36ba1f318682d5083a4f0d2e7e6.
    
    Closes #49

commit d4dafe3b6b261c3fd1b28618161bc61a9523557f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed May 19 18:42:58 2021 +0200

    Move back to our public image, it's working ok since some months ago
    
    In the past we switched to private one because of some problems
    with Oracle & Docker removing access to all Oracle images. Since
    then our wnameless/docker-oracle-xe-11g base image is back so
    we created the -r2 public one based on it.
    
    More info @ MDLSITE-5669

commit e16b54b1b13c4cbd326a597e451166c54cdb6bcd
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Mar 14 15:41:21 2021 +0100

    Revert "Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton"
    
    This reverts commit 8b96786722b4bbada3e05e63fadbe1d5e8d598f6.
    
    We are going back (to Chrome 79) because 2 errors have been
    found with Chrome 89 needing to be fixed before jumping to it.
    
    More info:
    
    https://tracker.moodle.org/browse/MDL-71108

commit d0775338e44eb115274ee38bab3d798bb3b35106
Merge: 612e041 8b96786
Author: Jun Pataleta <jun@moodle.com>
Date:   Fri Mar 12 16:45:18 2021 +0800

    Merge pull request #51 from stronk7/chrome89
    
    Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton

commit 8b96786722b4bbada3e05e63fadbe1d5e8d598f6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Mar 11 17:04:03 2021 +0100

    Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton
    
    We were waiting since some time ago to Chrome 89 to be released
    and, because of that, we had selenium pinned to 3.141.59-zinc
    version (Chrome 79).
    
    The cause for staying sticky was this issue:
        https://bugs.chromium.org/p/chromedriver/issues/detail?id=3682&q=&can=1&sort=-id
    
    Chrome (and chromedriver) 89 have been released and Selenium has
    already build the docker images for them:
    
    https://github.com/SeleniumHQ/docker-selenium/releases/tag/3.141.59-20210311
    
    So now we can unpin the old version and let the machinery to use the
    latest versions available. That's what this PR does.

commit 612e04179e19aafb236b3deebe4f0cdd7f6c5d74
Merge: 67f0ecc 6772ca6
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 19 06:51:48 2021 +0800

    Merge pull request #48 from stronk7/disable_axe_classic
    
    Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 6772ca686434a36ba1f318682d5083a4f0d2e7e6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Feb 18 22:44:46 2021 +0100

    Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 67f0eccccdfc69242fabfb8923fc09bb0d683692
Merge: 3933a35 ddaf3b6
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Wed Feb 10 00:23:58 2021 +0100

    Merge pull request #47 from andrewnicols/axe
    
    Run axe tests on CI

commit ddaf3b680a45531f53baea086bffb4ea36447636
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Feb 7 08:08:31 2021 +0800

    Run axe tests on CI

commit 3933a35e297445bb0599e152cad12efa9ed9d70a
Merge: 101866d 6c65442
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Jan 16 17:45:38 2021 +0100

    Merge pull request #43 from andrewnicols/w3csupport
    
    Add W3C Support to the CI runner

commit 101866d853bdc2a64f3caac01e554bade91201d4
Merge: 50ba133 4f04878
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jan 13 14:48:53 2021 +0100

    Merge pull request #46 from andrewnicols/stopRunningIonic
    
    Stop running ionic when not testing mobile

commit 4f0487876f9528923747c58688a1fa54a49aa795
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 13 20:59:24 2021 +0800

    Stop running ionic when not testing mobile

commit 6c65442a5daf9945126b1e2dd120758c3585d63c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:05:55 2021 +0800

    runner: Add support for headless browsers
    
    A new environment variable, 'BROWSER_HEADLESS', is now respected. When
    present and not falsey, the relevant browser-specific flags are used to
    make browsers run headless.

commit 57227eb2ae778a687f3a615d27bfd0921243938f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:05:39 2021 +0800

    runner: Add browser verbosity control

commit 5ddde8fbe35a6b3cef1eb95828ce5b3997db4d9d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 13 10:07:05 2020 +0800

    runner: Support Mink with W3C driver and browsers
    
    This commit makes changes to support both the legacy instaclick Mink
    driver, and the newer W3C-compatible Mink driver using the php-webdriver
    project.
    
    To support this we now detect whether the instaclick driver is in use,
    and if so use Firefox 47.0.1, and disable marionette in the browser
    configuration.

commit dc64a2e807e966e71b2f1f654703e155fd9abbcb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 10:26:47 2021 +0800

    runner: Always show Job summary
    
    Remove the section tags which cause Jenkins to collapse the Job summary.
    
    The job summary is often useful when identifying jobs and it is
    unnecessarily collapsed in a section.

commit 50ba133b698ee73a0e76d7ef08506d6a6c52228a
Merge: eb46238 cdec51d
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jan 12 18:37:34 2021 +0100

    Merge pull request #45 from andrewnicols/alwaysShowSummary
    
    runner: Always show Job summary

commit eb462380d1819e70b5f59060942858294c34aa12
Merge: bb2765e bf5d2db
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jan 12 18:32:02 2021 +0100

    Merge pull request #44 from andrewnicols/initdbfix
    
    Correct file permissions for DB entrypoints

commit cdec51dc0d49ee1995b7717933e03e1b51362454
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 10:26:47 2021 +0800

    runner: Always show Job summary
    
    Remove the section tags which cause Jenkins to collapse the Job summary.
    
    The job summary is often useful when identifying jobs and it is
    unnecessarily collapsed in a section.

commit bf5d2db9b89bb31e56469ddbf92eb8af719becfb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:10:10 2021 +0800

    Correct file permissions for DB entrypoints
    
    These scripts were missing the executable bit which was causing issues
    on MacOS.

commit bb2765e405f2aae3a675bea2f8c4d2208fe932be
Merge: 1b61851 949de31
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Dec 26 13:02:45 2020 +0100

    Merge pull request #40 from stronk7/enable_lang_upgrade
    
    Enable lang upgrades again

commit 1b618511ce0b38cb99a7b3bdfeb78f576aa84738
Merge: fa35a42 ed19688
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Nov 13 18:50:55 2020 +0100

    Merge pull request #41 from stronk7/311_versions
    
    Add Moodle 3.11 version

commit ed19688323f33d5202d3204005baa5f3ebbe6a8d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Nov 13 17:04:37 2020 +0100

    Add Moodle 3.11 version

commit fa35a4211e2fcae86562c881e745c76539a4ae82
Merge: 459f133 3210a89
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 2 09:06:15 2020 +0800

    Merge pull request #39 from stronk7/logs_take2
    
    Better log file names + also log phpunit images

commit 949de31e7f22733033ad453ecb3ed64284db9cb9
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Nov 1 23:38:59 2020 +0100

    Enable lang upgrades again
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information
    
    Under parallel development, until the new dev branch (310_STABLE in this
    case) language packs are and available.

commit 3210a89b6e017f1faa1c09eb6d7678959d75aa7e
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Nov 1 16:45:48 2020 +0100

    Better log file names + also log phpunit images
    
    This does a couple of things:
    
    1) export all logs using better container names (names instead
       of ids, with some current names improved "run => webserver...)
    2) move the log exporting out from behat section, so it's also
       executed for phpunit runs and we get other logs that could be
       also useful at some point.
    
    This is a followup of https://github.com/moodlehq/moodle-ci-runner/pull/38

commit 459f133ee1e669b2da1848738037e7ef36b99222
Merge: e7d8e7b 1e3d130
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Oct 29 09:50:46 2020 +0100

    Merge pull request #38 from andrewnicols/logs
    
    runner: Store all of the docker container logs

commit 1e3d130c8a82fa4bdfb8e8c23faa6d02e37d47d4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Oct 29 15:52:11 2020 +0800

    runner: Store all of the docker container logs

commit e7d8e7b6f23e51197c25426f35140c9d0e96349a
Merge: ea04e94 21dfcbc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 17 19:32:11 2020 +0800

    Merge pull request #37 from stronk7/unpin_mariadb
    
    Unpin MariaDB and remove deprecated / removed settings from config

commit 21dfcbc2bbbe8c5e5c9385502b7452b51cbf8f98
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Sep 11 23:24:24 2020 +0200

    Unpin MariaDB and remove deprecated / removed settings from config
    
    this shouldn't affect MySQL because current (5.7 and up) defaults
    match the settings.

commit ea04e944683151460664535547542a0d38319343
Merge: 5af1206 bacbb8c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 10 17:56:40 2020 +0800

    Merge pull request #36 from stronk7/show_behat_increase_timeout
    
    Show the BEHAT_INCREASE_TIMEOUT config value on all runs

commit bacbb8c29354cc5487fd7d912d66dc2472c78e44
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Sep 10 11:06:24 2020 +0200

    Show the BEHAT_INCREASE_TIMEOUT config value on all runs

commit 5af1206badce74f734fb98f0ec8b6a6d2c1318ca
Merge: f679b06 8cd284f
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Aug 11 11:35:09 2020 +0200

    Merge pull request #35 from stronk7/disable_lang_upgrade
    
    Disable lang upgrades, to be enabled once the lang branch is available

commit f679b067f2a41892d8db739a102aa319ffc1d8f4
Merge: b9064c7 bedb181
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Aug 11 11:34:52 2020 +0200

    Merge pull request #34 from stronk7/310_versions
    
    Add Moodle 3.10 version

commit 8cd284faa1aa6002b08acf13b4776b9f2a74a90c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Aug 10 11:08:23 2020 +0200

    Disable lang upgrades, to be enabled once the lang branch is available

commit bedb181218d3dd53614fc64eacf2b501ac57826f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Aug 10 11:05:46 2020 +0200

    Add Moodle 3.10 version

commit b9064c7fb5f22c089a22dac45d8079ac0e8c8c4a
Merge: e42c7fd 1a1e718
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 30 06:59:43 2020 +0800

    Merge pull request #32 from stronk7/external_https_exttests
    
    Make unit tests also use exttests docker container for https tests

commit 1a1e718169b0225d752c5303cdaca9571890b314
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Jul 18 12:11:09 2020 +0200

    Make unit tests also use exttests docker container for https tests
    
    While we are already using the exttests docker image for HTTP
    requests (avoiding to use download.moodle.org), we are not using
    it for HTTPS tests.
    
    Looking to codebase, there is only ONE tests using HTTPS and it's
    the one that uses to fail when there are porblems with downloads.
    
    As far as that test doesn't perform any check or validation related
    to certificates, we can, simply, configure unit tests to also use
    the HTTP exttests URL to run the HTTPS test.
    
    If tomorrow we need some real HTTPS test, surely we'll need to
    incorporate some mutual recognised certificates, or a real one..
    
    But right now that's not needed.

commit e42c7fd7a7d15777a9843da9a986e0808ed6791e
Merge: f98d032 c1fa35f
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jun 23 22:58:10 2020 +0200

    Merge pull request #31 from stronk7/enable_lang_upgrade
    
    Enable lang upgrade

commit c1fa35f1b41ae28074a14d80eec75b6cf4a354ce
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:58:22 2020 +0200

    Enable lang upgrades again
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit f98d032dba13d122c8cdc5aaea31e2359182c4e0
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jun 10 15:52:38 2020 +0200

    Add back the recently removed sleep, we need it for now
    
    Once we get https://tracker.moodle.org/browse/MDLSITE-6178
    properly implemented we'll be able to revisit all the
    current harcoded pauses.

commit ac8f7607e45bf74977a111b5586884fab1c714e1
Merge: b622687 8ca70ac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 9 07:24:28 2020 +0800

    Merge pull request #30 from stronk7/disable_lang_upgrade
    
    Disable lang upgrades, to be enabled after on-sync

commit b622687b818b0866238c508fe80f5c15655da18c
Merge: 5e8da83 7a8a42f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 9 07:23:22 2020 +0800

    Merge pull request #29 from stronk7/39_versions
    
    Add Moodle 3.9 version

commit 8ca70ace3475237ca70d5b0bc85b5876c47ba3de
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:55:37 2020 +0200

    Disable lang upgrades, to be enabled after on-sync

commit 7a8a42fd286197d0c12065ffc20b88e35575f5de
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:53:02 2020 +0200

    Add Moodle 3.9 version

commit 5e8da83fde01cffbcf99542cbae5c9bcc886a130
Merge: 8e0fd99 41cceb6
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Jun 2 17:22:43 2020 +0800

    Merge pull request #27 from stronk7/moodlehq_sqlsrv_image
    
    Switch to modern sqlsrv own image

commit 41cceb6171884f25e6774b695ee27ec07ccf138f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 1 01:26:44 2020 +0200

    Switch to modern sqlsrv own image
    
    It comes with important memory reduction, specially important
    now that we are also running sqlsrv unit tests as part of ToBiC.
    
    Also remove not needed commands and pauses because the container
    startup handles both.

commit 8e0fd99de3995d51f90bf22fa463f9dea718183b
Merge: 5a28bb7 2aa7c00
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sun May 24 19:58:33 2020 +0200

    Merge pull request #24 from moodlehq/dbslave
    
    DB Slave support

commit 2aa7c0073ab43a2a94514177695353da233fd2b6
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue May 12 13:49:35 2020 +0800

    runner: MySQL Replicate support

commit 74d4d862c308e745c5add7f0f2c58f7d4553cdc4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 11 15:43:58 2020 +0800

    runner: Support postgres slaves

commit 5a28bb7818272c4435831768441eb42f6456da0c
Merge: c6fc3a0 13936d1
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue May 19 16:17:29 2020 +0200

    Merge pull request #23 from crazyserver/patch-1
    
    Change Moodle App docker repository

commit 13936d19c9e28e9dc758fd72c0d028f73899dc2d
Author: Pau Ferrer Ocaña <crazyserver@users.noreply.github.com>
Date:   Tue May 19 14:58:11 2020 +0200

    Change Moodle App docker repository

commit c6fc3a0974f39eb018d628f1e045c7485bfc4e5d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 18 22:38:18 2020 +0200

    Disable options not directly related with the run type

commit 3d1ff1c4ce7b38c810fbbb1b9235d0ff8b548682
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu May 14 03:02:07 2020 +0200

    Added support for multiple reruns (defaults to current 1)
    
    Now it's possible to perform multiple reruns, controlled by
    the BEHAT_NUM_RERUNS env variable. It defaults to current 1.
    
    Also, if 0 is passed, don't perform any rerun.
    
    Output files (pretty, junit) now will have the format:
    
    - prettyRUN_rerunRERUN.txt
    - logRUN_rerunRERUN.junit
    
    Where RUN is the # of parallel run (empty for single)
    and RERUN is the rerun iteration.

commit 9b8619d417a8131ec34e5ee33d14a74ab975a1fe
Merge: af8ad05 c27cac8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 18 07:16:06 2020 +0800

    Merge pull request #22 from stronk7/avoid_chrome80
    
    Avoid Chrome 80 because it's causing some SCORM tests to fail

commit c27cac893a4f46637464a7d05f4004f5f91d46ad
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Feb 17 17:49:34 2020 +0100

    Avoid Chrome 80 because it's causing some SCORM tests to fail
    
    See https://tracker.moodle.org/browse/MDL-67989 for more information,
    once that is solved, we'll revert this, proceeding with #21

commit af8ad051bb76536d9c97201428aea30927d80383
Merge: b0f1332 4171a80
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Dec 28 11:43:39 2019 +0100

    Merge pull request #20 from stronk7/bump_mariadb_102
    
    Bump MariaDB to 10.2 to fulfill Moodle 3.9 requirements

commit 4171a80b7d02d1fb8931e72d2e6217ee9f705a99
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Dec 28 11:21:25 2019 +0100

    Bump MariaDB to 10.2 to fulfill Moodle 3.9 requirements
    
    See https://tracker.moodle.org/browse/MDL-65809 for details

commit b0f1332755eb460d037da7c5f3bfa58f7029641c
Merge: 9832e97 c88ed81
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Dec 17 23:54:02 2019 +0100

    Merge pull request #19 from stronk7/disable_skiplangupgrade
    
    Disable skiplangupgrade

commit 9832e9799dcdc44b5ca0c4b2e10ce8d4effeac92
Merge: 8e2f14e 024baad
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Nov 16 18:32:38 2019 +0100

    Merge pull request #18 from stronk7/enable_skiplangupgrade
    
    runner: Set skiplangupgrade as part of on-sync period

commit 8e2f14ea7ef584d4550decdfd98a98dbeb2b5d42
Merge: fc97b3d 289f974
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Nov 16 18:32:02 2019 +0100

    Merge pull request #17 from stronk7/38_release
    
    runner: Add Moodle 3.8 version of the runner

commit c88ed81e6492b46c025027a312ab8177e976b628
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:58:34 2019 +0100

    runner: Unset skiplangupgrade after the on-sync period
    
    This is MR4 in the [release
    process](https://docs.moodle.org/dev/Release_process#1_week_prior)
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 024baade98f99dd50b0b5ed5d00e741947547d88
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:55:14 2019 +0100

    runner: Set skiplangupgrade as part of on-sync period
    
    This is MR3 in the [release
    process](https://docs.moodle.org/dev/Release_process#1_week_prior)

commit 289f974d4b0f03950aaf680ae25d4057d1972653
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:52:09 2019 +0100

    runner: Add Moodle 3.8 version of the runner

commit fc97b3d368d29e42e13ef9352916a7de5f8e336f
Merge: 66cc4a1 0e40fe4
Author: Jun Pataleta <jun@moodle.com>
Date:   Mon Oct 14 15:39:19 2019 +0800

    Merge pull request #16 from stronk7/images_summary
    
    Show the creation date and hash/digest of involved images in a run

commit 0e40fe4bd76a45823b3d86adaa66345db200f175
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Oct 11 22:19:55 2019 +0200

    Show the creation date and hash/digest of involved images in a run

commit 66cc4a1261a82a6545bf86bff291c10105d60cf4
Merge: 716f333 a713c0c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:28:41 2019 +0800

    Merge pull request #14 from stronk7/enable_mongodb
    
    Enable mongodb

commit 716f333ace352e73425c12fcb025b430159c1f5c
Merge: 148a3af b3b185b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:28:18 2019 +0800

    Merge pull request #13 from stronk7/enable_memcached
    
    Enable memcached

commit 148a3af6a304889982e4f3061fe32af60d4cf055
Merge: 8e6d745 4881af9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:27:38 2019 +0800

    Merge pull request #12 from stronk7/enable_solr
    
    Enable solr

commit 8e6d745e7be5718d66ba54f6acf6a90e5e911cf2
Merge: dac6a76 d96d7cf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:27:16 2019 +0800

    Merge pull request #11 from stronk7/more_reliable_scriptpath
    
    Make the detection of SCRIPTPATH more reliable

commit dac6a762a73bbd601034304127d85a7953df3aad
Merge: b457662 1fe8710
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:26:11 2019 +0800

    Merge pull request #6 from sarjona/runner-appversionvar
    
     runner: Add support to MOBILE_VERSION and PLUGINSTOINSTALL settings

commit a713c0c137ff60db3c14e9546a60c2418994b135
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 18:50:14 2019 +0200

    Add support for mongodb tests

commit b3b185b648b3a93986b28156291c14a02bc294c1
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 17:04:54 2019 +0200

    Add support for memcached tests

commit 4881af9997f1da4c4c6413399c4275328bdcd7b8
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 16:23:25 2019 +0200

    Enable back solr, it's working with all php images

commit d96d7cf61205fccdfc62e23ac9db1792c7880abc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 13:56:20 2019 +0200

    Make the detection of SCRIPTPATH more reliable
    
    So it can be executed from other scripts, or aliased...

commit 1fe871046e5402d5b2b47806e1071c5f355f9005
Author: Sara Arjona <sara@moodle.com>
Date:   Fri Sep 20 17:31:54 2019 +0200

    runner: improve PLUGINSTOINSTALL and MOBILE_VERSION support
    
    Some improvements have been added, following Andrew's suggestions:
    - If the MOBILE_VERSION is not defined, the moodlemobile docker
    container won't be executed.
    - Instead of creating a temporary folder for the plugins, a new
    setting, PLUGINSDIR, has been added. By default they will be
    downloaded to $WORSPACE/plugins.
    - Those new settings have been added to the README.md

commit 44c4e60038cb731a694fda364a6d9731933e128b
Author: Sara Arjona <sara@moodle.com>
Date:   Fri May 31 12:28:21 2019 +0200

    runner: Add PLUGINSTOINSTALL variable to install external plugins

commit d5ebe8cb8fbfc6a122d572916f8f8bdc52aac9b0
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 16:19:14 2019 +0200

    runner: Add MOBILE_VERSION variable to define the app version to run @app tests

commit b9dcf77fe75a19a1733b01ed7d7605680783b020
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 17:00:39 2019 +0200

    Unpin mobile once that breaking tests are removed (MDL-65869)
    
    This reverts commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f.

commit af3943120701d2532177723c2e7afc79f6e4bd65
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 16:57:36 2019 +0200

    Enable back Redis session tests for PHP 7.2 and up
    
    This reverts commit f36e8081c50dfa7342b9e91736c1febeeedebbd6.

commit fabe6dea67da25f01ccffd38788d3bd7e8d5305f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jun 12 09:08:01 2019 +0800

    Temporarily ping mobile to 3.6.1 until failing tests removed

commit b4576622ce3efd624698ac0bc11b3a576a81b975
Merge: 348685d 51ff441
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 12 21:33:01 2019 +0800

    Merge pull request #10 from stronk7/unpin_mercury
    
    Unpin 3.141.59-mercury and allow any new 3.x release to be used

commit 51ff44139da1fe952fcde88a21579fc1f658957c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Sep 11 16:46:05 2019 +0200

    Unpin 3.141.59-mercury and allow any new 3.x release to be used
    
    With MDL-66378 and, specially, https://github.com/moodlehq/php-webdriver/pull/1
    we can continue using Chrome >= 76 because we are enforcing the
    use of the legacy JsonWire protocol (instead of the default W3C one).
    
    So it has been agreed that we'll allow any 3.x new release to be used in
    order to detect problems earlier (we always can pin again if needed).

commit 348685d0918ea2d5c9ff2f0d4eb2bd49644499d2
Merge: bb20f2c 5779fe2
Author: Adrian Greeve <abgreeve@gmail.com>
Date:   Tue Aug 20 14:41:29 2019 +0800

    Merge pull request #8 from moodlehq/revert-7-chrome_unpin
    
    Revert "Revert "Moving away from 3.141.59-neon coz it's causing problems""

commit 5779fe24d006ca3f1acc8f2dcc5b6919c279bda7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Aug 20 14:38:15 2019 +0800

    Revert "Revert "Moving away from 3.141.59-neon coz it's causing problems""

commit bb20f2cd499f008116fab9a7c47472712e93c84b
Merge: 3fb9dc6 9443e85
Author: Adrian Greeve <abgreeve@gmail.com>
Date:   Tue Aug 20 14:31:09 2019 +0800

    Merge pull request #7 from moodlehq/chrome_unpin
    
    Revert "Moving away from 3.141.59-neon coz it's causing problems"

commit 9443e85a1bfff80333288626fd353769b72392b9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Aug 14 13:48:49 2019 +0800

    Revert "Moving away from 3.141.59-neon coz it's causing problems"
    
    This reverts commit 1bda1c27f698e5a96180836b59b19f254b5fbd58.
    
    Fixed by way of MDL-66378.

commit 3fb9dc6c5ae6268357a22b6e057aaa3e872f736d
Merge: 2d13771 0b953ee
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 28 06:40:00 2019 +0800

    Merge pull request #5 from stronk7/redis_session_tests_are_back
    
    Enable back Redis session tests for PHP 7.2 and up

commit 0b953eecf390263e561d9efc1918e33fbebcc1c1
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 17:00:39 2019 +0200

    Unpin mobile once that breaking tests are removed (MDL-65869)
    
    This reverts commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f.

commit f161c4ecb848b52728c073702624949cb0f887a5
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 16:57:36 2019 +0200

    Enable back Redis session tests for PHP 7.2 and up
    
    This reverts commit f36e8081c50dfa7342b9e91736c1febeeedebbd6.

commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jun 12 09:08:01 2019 +0800

    Temporarily ping mobile to 3.6.1 until failing tests removed

commit 97d40fe45eef9cda9dee4332200927c763b92a0d
Merge: f27d127 318e84b
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri May 31 09:51:04 2019 +0200

    Merge pull request #4 from sarjona/runner-fix-local
    
    runner: Avoid local network collissions

commit 318e84bdc11f66f6d6e8e25505bb942b9029fb86
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 14:39:49 2019 +0200

    runner: Avoid local network collissions

commit f27d127197acb4976a71c2638e21c29d1c5afed8
Merge: c18d21c 70ca27d
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu May 30 22:58:37 2019 +0200

    Merge pull request #3 from sarjona/readme-revision
    
    README: Update themes and add some extra parameters to the doc

commit 70ca27d7b8d7f036c7dffc2f7b9c31abf3fdc302
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 13:58:13 2019 +0200

    README: Update themes and add some extra parameters

commit c18d21c6d38431ca134be6732ebc88a942f02157
Merge: 551b15d ead8faf
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat May 25 00:03:25 2019 +0200

    Merge pull request #2 from andrewnicols/mobiletesting
    
    runner: Add Ionic testing

commit 551b15d59f7c81d26c7838621a9265bd9ca3a0cb
Merge: 2941637 f7078a4
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri May 24 23:55:36 2019 +0200

    Merge pull request #1 from andrewnicols/37_endonsync
    
    runner: Unset skiplangupgrade for end of on-sync period

commit 2941637e67830cef6334ebe3d0da8658828f8323
Author: Mark Johnson <mark.johnson@open.ac.uk>
Date:   Wed Mar 27 09:25:01 2019 +0000

    Add support for increased behat timeout

commit ead8faf6168cc7ae7f4d894827f49a4391cb6d7e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 31 06:53:45 2019 +0800

    runner: Add Ionic testing

commit f36e8081c50dfa7342b9e91736c1febeeedebbd6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 20 22:50:53 2019 +0200

    Disable Redis session tests for PHP 7.2 and up
    
    See MDL-60978 for more information.

commit 8bbcbf0a05c15b15c96d8b743b50c4919f46bb80
Merge: 19fe0f5 6c7dbaf
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun May 19 18:17:43 2019 +0800

    Merge branch '37_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!29

commit 19fe0f5e4cbb50e7de1a870b308919a8d29b4688
Merge: 1bda1c2 fb50503
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun May 19 18:17:29 2019 +0800

    Merge branch '37_release' into 'master'
    
    runner: Add Moodle 3.7 version of runner
    
    See merge request integration/nightlyscripts!28

commit f7078a46484f9b417e33189d7c4ba8ed1df461eb
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:39:57 2019 +0200

    runner: Unset skiplangupgrade for end of on-sync period
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 6c7dbafd94bdf22132ad0d032150079aefeacd98
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:37:21 2019 +0200

    runner: Set skiplangupgrade as part of on-sync period

commit fb50503ce89e26378204c92930821fcbb6fe4829
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:32:59 2019 +0200

    runner: Add Moodle 3.7 version of runner

commit 1bda1c27f698e5a96180836b59b19f254b5fbd58
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Apr 30 16:06:14 2019 +0200

    Moving away from 3.141.59-neon coz it's causing problems
    
    So we are now explicitly using 3.141.59-mercury, from 1 month
    ago that was working till neon arrived (6 days ago). That is
    leading to lots of "invalid session id" errors leading to the
    re-execution of complete jobs (almost 2X execution time)

commit 1c626b647730aca6682147dd7006c177a817c696
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 20:21:57 2019 +0200

    Avoid colors that look horrible (escape seqs) in some clients (take#3)

commit 113c847885ab29bd232060a435f71c35c8c92b7c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 20:14:20 2019 +0200

    Avoid colors that look horrible (escape seqs) in some clients (take#2)

commit d4e30b6abee5fb15c0bcf19639a309ba5e78fa12
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 18:59:32 2019 +0200

    Avoid ansi colors that look horrible (escape seqs) in some clients

commit ed1604b7fa7ad04c4533106419dc500d849c5ea8
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Apr 11 02:18:45 2019 +0200

    Add support for individual features/scenarios (--name)
    
    Also fix some small details, like 1-parallel, reruns and
    some old selenium version.
    
    Finally, note that the --config parameter requires to use
    this syntax:
    
    --config path/to/behat.yml
    
    and doesn't work with
    
    --config path/to/behat.yml
    
    Because of an annoying dependency built in core (MDL-65435). Once
    it's fixed, both syntaxes will work.

commit 39e2cb3eb3ee60056a40361e094227a7419d9a9f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Feb 18 15:05:37 2019 +0800

    runner: Bump chrome to 3.141.59

commit 674bf46278c225cd9507115c5f0344e2563a43ce
Merge: af3a800 a3398e0
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Feb 12 22:57:21 2019 +0800

    Merge branch 'mdlsite-5669' into 'master'
    
    runner: Update oracle image to moodle-db-oci
    
    See merge request integration/nightlyscripts!26

commit a3398e06b56964da1e88645bb7914953e1e99b9c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 12 15:11:55 2019 +0800

    runner: Update oracle image to moodle-db-oci
    
    Fixes MDLSITE-5669

commit af3a8009a6869929e4a67e3c0dbbec46d60465b4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 31 10:11:42 2019 +0800

    Marionette option is for Firefox only

commit d9431cd102f2d1078a2d149417f53933cd3fd48d
Merge: 16b748d c00a229
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu Jan 31 07:20:05 2019 +0800

    Merge branch 'ff_selenium_upgrade' into 'master'
    
    runner: Switch to MoodleHQ selenium image
    
    See merge request integration/nightlyscripts!25

commit c00a229752f41e8dcb1bbebe46dfd111b1c0735e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 12 13:11:52 2018 +0800

    runner: Switch to MoodleHQ selenium image
    
    This image uses a newer version of Selenium, disabling Marionette, but
    the old version of Firefox.
    
    It appears to be more stable than the images we've been using to date.

commit 16b748d2dc729d334c5c5479d121a5ac101fa011
Merge: dd82982 12e1904
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sat Jan 12 20:32:07 2019 +0800

    Merge branch '36_endonsync' into 'master'
    
    runner: Unset skiplangupgrade for end of on-sync period
    
    See merge request integration/nightlyscripts!24

commit dd82982330eed22998a14de9ea8152a9654c0cbd
Merge: 40df230 0c5102c
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun Dec 2 08:20:38 2018 +0800

    Merge branch '36_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!23

commit 40df230cbc64075c384aabfacf806f4f6cf2d080
Merge: 5b37b3f a606c9b
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Fri Nov 30 12:03:28 2018 +0800

    Merge branch '36_release' into 'master'
    
    runner: Add Moodle 3.6 version of runner
    
    See merge request integration/nightlyscripts!22

commit 12e1904875f7497febccff6ee96d813ae2cc2d40
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:52:55 2018 +0100

    runner: Unset skiplangupgrade for end of on-sync period
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 0c5102c821211fa901a9273fecb32da7a8f09b3d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:51:27 2018 +0100

    runner: Set skiplangupgrade as part of on-sync period

commit a606c9b728892022682bfab1a9465f1e813c5947
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:49:02 2018 +0100

    runner: Add Moodle 3.6 version of runner

commit 5b37b3f915313c132299319a1ddf23c8e2cf6916
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 10 12:17:31 2018 +0800

    Revert "runner: Remove suite from behat run command"
    
    Unfortunately I have no idea why I wrote this change.
    The -a=[theme] should work, but does not.
    
    This reverts commit aeafe7d70fce06edd1e1da3137fbf0f857c47b7f.

commit 4aa09c8c19163d2752d2a977cb94b56cb174b4f8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 10 12:17:29 2018 +0800

    runner: Add pathtosassc

commit aeafe7d70fce06edd1e1da3137fbf0f857c47b7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Sep 5 09:37:25 2018 +0800

    runner: Remove suite from behat run command

commit 054d655920b0ce49eb426c6b1f8cc0b87423fc2c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 11:26:00 2018 +0800

    runner: Disable SOLR for now :(

commit a1ff178fa83b8b0710ddf7d6395049610fdbf340
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 09:32:12 2018 +0800

    runner: Add redis to tests

commit e75774849038c688f8cb1f27310d601cf1ebea3d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 09:31:38 2018 +0800

    runner: Add solr to tests

commit 022c84006b6d3ece8a297823d8341e4ed5c1761f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 08:38:54 2018 +0800

    runner: Attempt to seed with cached composer.phar

commit 1cba58a03a674c3e77dd333c9c114b1461a703dc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 12 15:55:24 2018 +0800

    README: Move to project root

commit 00599ef9016ded2f3d535118eb52ade77f568cac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 12 15:55:08 2018 +0800

    runner: Add CODEDIR to readme

commit eb57951e64c8999624097e39d4fd31f654a0d084
Merge: 54a1141 2bd6d1b
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Jun 6 23:33:18 2018 +0800

    Merge branch '35_endonsync' into 'master'
    
    runner: Unset skiplangupgrade for end of on-sync period
    
    See merge request integration/nightlyscripts!18

commit 54a1141bd1f89323a91cb16a454e00a598de4fa0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 31 07:52:51 2018 +0800

    runner: Add default for timing filename

commit 0f8818d02dc8cf405ba4974ae1fe5de2301369e9
Merge: b5c4448 de1d2ff
Author: jun <jun@moodle.com>
Date:   Mon May 28 12:01:22 2018 +0800

    Merge branch 'useTiming' into 'master'
    
    runner: Use behat timing files
    
    See merge request integration/nightlyscripts!21

commit de1d2ffe9151d09034657292ba0c9433b5de1abf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat May 26 09:29:18 2018 +0800

    runner: Use behat timing files

commit b5c44488a857d2148efa34274c685b482b0ded7e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 18 18:14:41 2018 +0800

    runner: Move path to subpath
    
    The /var/www directory is owned by root.
    In 31 we simply append a run number to the behatroot directory - i.e.
    /var/www/behatdata1
    
    In 32 we create them in a subdirectory - i.e.
    /var/www/behatdata/behatrun1
    
    When running as www-data, the user does not have access to create the
    behatdata1 directory.
    
    The previous attempted fix was to add a slash:
    31  - /var/www/behatdata/1
    32+ - /var/www/behatdata/behatrun1
    
    However, the trailing slash seems to cause issues in core in some
    sitautions - specifically the re-run of the test.
    
    This fix, tested on 31, and master with a failing test changes the
    directorty further such that the behat data directory is
      /var/www/behatdata/run
    This makes the new run directories:
    31  - /var/www/behatdata/run1
    32+ - /var/www/behatdata/run/behatrun1
    
    Both of these are acceptable as the www-data user has the required
    permission to create new directories for the run in the subdirectory.

commit 41fb3e3952ad053082cf48b545b9e2a714e0d976
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri May 18 18:33:52 2018 +0200

    Get rid of the extra slash, seems to be causing problems in >=32.
    
    But keep the chown covering the whole /var/www/* to see if that's
    enough for 31. Or at least to keep everything working but 31.

commit b35f21ab4d3f8e6db0dbf108fb50e4141d609a0c
Merge: 4c3d350 34a14dc
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Fri May 18 08:29:14 2018 +0800

    Merge branch 'ocibump' into 'master'
    
    runner: Bump OCI timeout
    
    See merge request integration/nightlyscripts!20

commit 4c3d35069b33c8025694633ae85d8c55a463f1a5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 18 07:44:26 2018 +0800

    runner: Correct rerun path for 31

commit 34a14dceac2921d1cf7cd926be585b860112b0ea
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 14:46:41 2018 +0800

    runner: Bump OCI timeout

commit c9ce81e560cea4e3721c08c9aead8a8bb9f6dcc2
Merge: 0bb2ac5 8ac11f8
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Thu May 17 14:39:49 2018 +0800

    Merge branch 'behatfix' into 'master'
    
    runner: Add fix for behatdata on 31
    
    See merge request integration/nightlyscripts!19

commit 8ac11f8e74a159a0027cb12eb948a94ea790ba6c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 14:00:14 2018 +0800

    runner: Add fix for behatdata on 31

commit 0bb2ac5264561a47be9ac68c303b07f20b9c57f7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 13:33:35 2018 +0800

    runner: Chown with group

commit 7f1b4c87b603cf3bf7be1e971e4405e82cd63738
Merge: 405c773 53614eb
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:32:11 2018 +0800

    Merge branch 'runaswwwdata' into 'master'
    
    runner: Run behat as www-data
    
    See merge request integration/nightlyscripts!15

commit 405c7739d0b92095c738d386ecd7e4f059557edd
Merge: 387fe98 4b866ad
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:31:42 2018 +0800

    Merge branch '35_release' into 'master'
    
    runner: Add Moodle 3.5 version of runner
    
    See merge request integration/nightlyscripts!17

commit 387fe98f3bbab96df64377f69a43bca3e9a5d837
Merge: 6033840 4a886f4
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:31:23 2018 +0800

    Merge branch '35_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!16

commit 2bd6d1b63c16e4097dc254c007bdb4de592336bd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:59:06 2018 +0800

    runner: Unset skiplangupgrade for end of on-sync period

commit 4b866ad334144dda7bfa17817d8b7fe353598afa
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:46:36 2018 +0800

    runner: Add Moodle 3.5 version of runner

commit 4a886f415932418b42fce39ca4cb3f6eff4c80ca
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:41:11 2018 +0800

    runner: Set skiplangupgrade as part of on-sync period

commit 53614eb42297c8cac8caeee7f6feac4c1ab16eba
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 9 08:21:18 2018 +0800

    runner: Run behat as www-data

commit 6033840d3183e33d6af984b358a24c987250feaf
Merge: 9d25a09 2261c5e
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Mon May 14 13:19:04 2018 +0800

    Merge branch 'chownfix_again' into 'master'
    
    runner: Behat has a different datadir
    
    See merge request integration/nightlyscripts!14

commit 2261c5eefa591503bcd47d4ea1fbf4c4ff6917e7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 14 13:18:28 2018 +0800

    runner: Behat has a different datadir

commit 9d25a09583686a7e8aca6f77cd394f90e1f841d0
Merge: dfe3af4 74d8e1f
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Fri May 11 23:21:15 2018 +0800

    Merge branch 'fixchown' into 'master'
    
    runner: Fix bad bashism
    
    See merge request integration/nightlyscripts!13

commit 74d8e1f1b73c8868622ab6d945878c993eb4df3f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 11 23:16:22 2018 +0800

    runner: Fix bad bashism

commit dfe3af4f20b50d1ecadacb30388e7f8e43e2f15c
Merge: 65f3858 8b56620
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue May 8 07:26:08 2018 +0800

    Merge branch 'chromebump' into 'master'
    
    runner: Bump chrome selenium to 3.11.0-dysprosium
    
    See merge request integration/nightlyscripts!12

commit 8b56620b8650c48889ba9d7df840ab8715eb034e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue May 8 07:06:37 2018 +0800

    runner: Bump chrome selenium to 3.11.0-dysprosium
    
    Selenium version 3.11.0-dysprosium (rev e59cfb3)
    Chrome version: 66.0.3359.117
    ChromeDriver version: 2.38.552522

commit 65f3858a655d83b76fbef2c14fcbe8a5489436f8
Merge: 11f0175 6d7e753
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Sat May 5 12:13:43 2018 +0800

    Merge branch 'selspread' into 'master'
    
    runner: Fix parallel runs to use own sel
    
    See merge request integration/nightlyscripts!11

commit 6d7e753f6d35148afc34a6800f119529d725b702
Author: Mark Johnson <mark.johnson@open.ac.uk>
Date:   Fri May 4 22:14:56 2018 +0800

    runner: Fix parallel runs to use own sel

commit 11f0175f567ec57cb08a6b94db96ae79dcaf42fc
Merge: 922c2b2 15afb3c
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 3 17:16:35 2018 +0800

    Merge branch 'chown_after_init' into 'master'
    
    runner: Chown after behat init
    
    See merge request integration/nightlyscripts!10

commit 15afb3cf686248b16a682fefa00e0730250bbe46
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 3 08:08:52 2018 +0800

    runner: Chown after behat init

commit 922c2b20532fac6258026d7d408aca705ef8e1c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Apr 20 12:58:58 2018 +0800

    runner: Extend oracle wait period to 2 mins

commit 4001447d0a615e6348920f5595ba6255127eec16
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Apr 20 12:49:25 2018 +0800

    runner: Correct variable usage

commit 9ea358d3f8934564aa3340ffbaaceec2a3b9fe4e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 09:21:56 2018 +0800

    Revert "runner: Remove wd config from behat_profiles"
    
    This reverts commit e0c4f72be58daddb5d092bca884ebdc866adb574.

commit 116f8f3e6a80409de9398cc23ebb4a5300dd8e4f
Merge: 8269a04 e0c4f72
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Apr 18 08:39:58 2018 +0800

    Merge branch 'selbrok' into 'master'
    
    runner: Remove wd config from behat_profiles
    
    See merge request integration/nightlyscripts!9

commit e0c4f72be58daddb5d092bca884ebdc866adb574
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 08:34:48 2018 +0800

    runner: Remove wd config from behat_profiles

commit 8269a046fcb2855229fc4775c2aea15b0bfe4946
Merge: 960a332 235b954
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Apr 18 07:09:03 2018 +0800

    Merge branch 'oracle_async' into 'master'
    
    runner: Disable async IO on Oracle
    
    See merge request integration/nightlyscripts!8

commit 235b9546035d4f994b858a59209b4a9e049f5eb8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 07:07:23 2018 +0800

    runner: Disable async IO on Oracle

commit 960a332b17a56b5d28753947f7ff93bcbb985f44
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Apr 17 11:25:00 2018 +0800

    runner: Add support for running a single testsuite

commit 7ed139975968fbf64273d230cfbfaec1d41e2b22
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Mar 20 15:58:34 2018 +0100

    Fix for !7, make MOODLE_VERSION global

commit b9943cf42d2237c53cfa8f072374f92c63012a27
Merge: 2f884bd 7839b8a
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Tue Mar 20 20:46:36 2018 +0800

    Merge branch 'no_fail_on_risky_for_31' into 'master'
    
    --fail-on-risk is not available before phpunit 5
    
    See merge request integration/nightlyscripts!7

commit 7839b8a9c9ff06fadddf30c881380bb5a623bc87
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Mar 20 11:43:08 2018 +0100

    --fail-on-risk is not available before phpunit 5
    
    Hence, don't use it for <= 31.

commit 2f884bdcb0baca67e82ad92c93aa7d8b39912eac
Merge: e983eeb 2c08619
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Mar 20 08:43:17 2018 +0800

    Merge branch 'failonrisky' into 'master'
    
    [runner] Fail on risky tests for phpunit
    
    See merge request integration/nightlyscripts!6

commit 2c08619df1d206805f406af51f2bd13f2f82c89f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Mar 20 08:36:12 2018 +0800

    [runner] Fail on risky tests for phpunit

commit e983eeb08d9e7c217f023ed6f63ea43161a19630
Merge: 934f0de 32fb897
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Tue Mar 20 08:02:05 2018 +0800

    Merge branch 'makes_test_output_risky' into 'master'
    
    Be strict about tests output. Mark them as risky.
    
    See merge request integration/nightlyscripts!5

commit 32fb8972f26b1c7e8c492cf80c465a2d8f1bc0cf
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Mar 19 20:24:38 2018 +0100

    Be strict about tests output. Mark them as risky.

commit 934f0de142b53c39eb6ec67b14964ce731ea55bb
Merge: 10d69ae 1239517
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Mar 6 00:53:23 2018 +0800

    Merge branch 'pin_pg_967' into 'master'
    
    Pin postgres to 9.6.7 because 9.6.8 leads to DDL failures
    
    See merge request integration/nightlyscripts!4

commit 1239517482c1cafdf33cdf715afce4920ab9d219
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Mar 5 17:51:19 2018 +0100

    Pin postgres to 9.6.7 because 9.6.8 leads to DDL failures
    
    See https://github.com/moodlehq/moodle-docker/pull/77

commit 10d69ae85da03dab502430e8dbc01c1dff7b79ac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 16 09:22:53 2018 +0800

    [runner] Add copyright information

commit c07c5a379e6cbb1f77b43bef5267eadc50d2391e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 16 09:21:22 2018 +0800

    [general] Archive old nightly scripts
    
    The Old Nightly Infrastructure is dead.
    
    Long live the Old Nightly Infrastructure.

commit 6c097c30eda6441ef66034d8f97b4bc5568ac769
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 6 08:35:59 2018 +0800

    [runner] Correct exitcode for phpunit
    
    This was a fault after the introduction of loops which meant that the
    true exitcode was overwritten.

commit b1b19e4d9a97610dc643e44785cb504ff9866b83
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 6 08:31:18 2018 +0800

    [runner] Add README

commit dd730f31a1a083b2dd51716c01454012d40b1092
Merge: e14c18c eb71f3f
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Mon Feb 5 23:35:21 2018 +0800

    Merge branch 'rajagain' into 'master'
    
    [runner] Switch back to raj images
    
    See merge request integration/nightlyscripts!3

commit eb71f3f9e824bc4891fafd71743586276272f08e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Feb 5 17:31:28 2018 +0800

    [runner] Switch back to raj images
    
    Raj's image seems to have some magic which is not present in the
    Selenium official image, though they appear nearly identical.
    
    This change backs out the hub change and instead uses the
    behat_parallel_runs to setup WD config as appropriate for both Firefox
    and Chrome.

commit e14c18c8bfb8948b0a77b0439580ff882d3f8f9d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Feb 5 13:05:47 2018 +0100

    Get rid of incorrect version and browserVersion caps

commit 32aeae46f8bbee9c16e65473b50e34f33dede2bc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat Feb 3 17:16:16 2018 +0800

    [runner] Save web server logs to file

commit 57e69aae4d08b55ebb2b1f87dffc661753588f38
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 11 15:43:59 2018 +0800

    runner: Use selenium grid with selenium per run

commit 659416237cc13a1626bf7c1a12028ab537b16b3c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 23 13:47:18 2018 +0800

    runner: Do not quote junit path - it tries to write to quote

commit 758be2e0cbf999c04b09a1815e7aaf4982708ff7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 22 13:49:18 2018 +0800

    runner: Add debugging to behat init and run

commit e9c897a76454ae6fd1d28c6a38bea292da994ada
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 16 15:35:17 2018 +0800

    runner: Switch to raj image
    
    Looking to try and remove differences between old and new.

commit d335319a094e17e30534e2773904da70261b1597
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jan 12 15:13:10 2018 +0800

    runner: Assign shared mem to Oracle

commit e2bd778180ecb0ab90cc30284d64945bc7cd0109
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jan 12 10:16:51 2018 +0800

    runner: Adjust how shared memory is allocated to selenium
    
    This is after changes to the recommendations from Selenium in their
    Docker README.md.
    
    They are now suggesting allocating shm to all browsers, not just Chrome
    as they previously suggested.
    They're also suggesting that you can use --shm-size instead of mapping
    /dev/shm which seems like a cleaner approach.

commit d457b833b2913bcf6f2a87186d5ac86f683446c3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 11 13:50:40 2018 +0800

    runner: Switch to Chrome + Selenium 2.7.1

commit d762de8ab7d76702a4eecd4519d4bd589f05393b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 10 13:35:25 2018 +0800

    runner: Support iterations

commit ca84659acbaf2cb3cc6a670ba2e164bde923ad85
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 10 12:24:48 2018 +0800

    runner: Switch to chrome + selenium 3.0.1 as per matrix

commit 9e1fcbdde3ffe13f77bdf2fbf49620976706cb40
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 8 08:10:05 2018 +0800

    runner: Add PHPUnit LDAP tests

commit 2d0e661a1ff80ec61582f0cdae7a4b263e66eb84
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 4 15:05:35 2018 +0800

    runner: Do not expose the selenium port

commit dcc244ccf400c471ddfc6239b773ecf0c10539e5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 2 10:36:14 2018 +0800

    runner: Make cachedir easier to fudge

commit ebcbd526ec20467d3e91e6ad89ac00aac3c1f3ba
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 2 10:20:43 2018 +0800

    runner: Add support for tags

commit 3d59a431fc8f74110923aea81482357a471a6e7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 19 11:30:23 2017 +0800

    runner: Correct variable name

commit 3c5e0da017857ad87938f004175ba880e9050815
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 19 10:44:25 2017 +0800

    runner: Chown workspace files at end of job

commit ba0da291e4ef4b69b4eac6215c0e492810027745
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 18 08:59:23 2017 +0800

    runner: Create nightly network

commit 1f8a3fd4e4eb1c477dcead9f59e7992e72e7b111
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 12 17:15:21 2017 +0800

    cron: Add slave script

commit 0294f7f31a650883c1b9ac2f64e8d5ac55fc2265
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 12 17:04:50 2017 +0800

    start_slave: Add slave starter script

commit 8f38704794db6efa3c1439507b612f6b31965d74
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 15:20:29 2017 +0800

    runner: Correct image name for exttests

commit ffd54a51b2343502a4e5411a1227f5b685c7f4bd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 15:01:27 2017 +0800

    runner: Correct variable name

commit dcaf5ef44faef63417eb796d10d11b3d95ea4bbb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 14:17:35 2017 +0800

    runner: Use external tests
    
    This makes use of the external testing URL now that MDL-60948 has
    landed.

commit 41b7738b0f9a6680ab401c772401171f9dd943a9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:53:46 2017 +0800

    runner: Sleep longer before starting postgres tests

commit ed533cc1bc1ec83fb37fc9245c33520ae8cf9afb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:46:49 2017 +0800

    runner: Syntax fix

commit 15e581022cd5d383d21a018f727347c95b6e3371
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:05:04 2017 +0800

    runner: Handle ALL suites condition for behat

commit 71693c14d9e7f5259a5b7690e891f4fb8e6d0d9d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:02:28 2017 +0800

    runner: Do not normalise mssql to sqlsr
    
    We need to be able to test these individually on 31, and 32.

commit 15b5fa8f18a391cfca88dc73cdb3033a3a5ec05d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Dec 10 11:41:01 2017 +0800

    runner: Correct PHP_VERSION specification

commit 4343f4c23db1584cc19d7096bd47ab081e1a40be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 12:51:15 2017 +0800

    runner: Add back to job summary

commit a4bc164aa3ad2262298120dbbdbd9bcaa49252f9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:44:59 2017 +0800

    runner: Move DB summary to ensure correct info

commit f936648da2f9c35aee8fb1893efd3bbccc6d9ecb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:44:45 2017 +0800

    runner: Use variables for DB creds

commit 7ca3b1ed438053da2c4ca2b3a3c93b3cc9d17957
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:43:54 2017 +0800

    runner: Correct Oracle init

commit 98ce1bc9347275f8626e44a0d5c66b899e179beb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 09:31:43 2017 +0800

    runner: More delimiter fixes

commit d2c7c9e6fe18df9c58b78b4d2c26fbf7eeb3f8a2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 09:21:09 2017 +0800

    runner: Improve section delimiters

commit 489254179dacc5f24e3a6c436f2baa1b4abfe805
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 08:59:13 2017 +0800

    runner: Correct behat init for alternate suite

commit 6ec6ba172a213b10bc1ca10390d0abea1631e0d3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 12:29:50 2017 +0800

    runner: Add markers or console collapse

commit eefb24f88dbedd818c9061d7c71316c1461b7729
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:52:39 2017 +0800

    runner: No need to drop if DB per run

commit 914135a8420407fddc12a5646f712a6d6712021c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:49:33 2017 +0800

    runner: Config belongs to version

commit ba4f4b32de8c1750031239cc2f7ca3c6c0ce10f3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:46:46 2017 +0800

    runner: Add more debugging info

commit d5bddc6c59fde7ddbddd748cc994b9f48f20af3f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 10:55:52 2017 +0800

    runner: Switch to versioned runners

commit e07804a002e5ccab15655672b60ed430a1abb123
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 10:11:27 2017 +0800

    run: Init database per run

commit bd4185f8d77ee19fb9140ad7afb220d642f23731
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:18:58 2017 +0800

    General: Tidy up all old files

commit 18b304a8103cce6071023a1fed4e91701016d07c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:15:32 2017 +0800

    run: Make 31-/32+ config changes clearer

commit bbd9f4720de9dc5904230a163496e544e562f4ab
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:14:51 2017 +0800

    run: Add clearer exitcode info

commit c5c601923acd98eb6a83b875f8d191592db2c4be
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Nov 27 00:04:58 2017 +0100

    config: 35 lang packs available, disable $CFG->skiplangupgrade

commit a1aa6d14ea45c091b357d7b4bfd9060bf87a9c68
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 14:01:24 2017 +0800

    run: More tidyups

commit 277474ca21004edd5ed392646dd447b9ca62af64
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 13:56:13 2017 +0800

    run: Tidy up DB details

commit ac70cfde1eceb5f7225706b609461e393366ba1a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 13:43:09 2017 +0800

    run: Allow configuration of PHP version

commit affd3c837dcb2bcdb711f026f7ad4749920f1ccc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 07:59:11 2017 +0800

    run: Add new job runner

commit 7357e301394db5935acdb15b4d22d2101bd79aa2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 11:44:36 2017 +0800

    configs: Start of on-sync. Skip lang upgrade in cron.

commit e98400eab6abbefce75b9fc26dc8cfa0fb6baef7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 08:49:18 2017 +0800

    docker_run: Add configs from docker image

commit d3327c852165fbfe89cbac7d516db3fa2c330530
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Nov 14 09:28:53 2017 +0800

    exttests: Add HTTP ext tests repo

commit e347a8389df0cdd48924d8ddd89e8593c87bbe9e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:59:41 2017 +0800

    docker_run: More interpolation fixes

commit dd5b6bdbc9da895a304212f979ae77b58c2b0a73
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:53:01 2017 +0800

    docker_run: More interpolation fixes

commit 9924855316b68a98a07835201bd99cf893b33148
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:42:03 2017 +0800

    docker_run: Typo fix

commit 028c4fa484b7f01ffef3f0e71284c5b1fffeaf91
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 12:38:23 2017 +0800

    docker_run: Quote MOODLE_PATH

commit 782b8a2f6ff8591729e9d46a0528dd6a79dfb76b
Merge: e6afa68 2041c1f
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Mon Nov 13 12:23:12 2017 +0800

    Merge branch 'dockerdb_34' into 'master'
    
    dockerdb: Add branches for 34 release
    
    See merge request integration/nightlyscripts!1

commit 2041c1fb344f979721087fc0d4d762b89427cdfd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 12:05:49 2017 +0800

    dockerdb: Add branches for 34 release

commit e6afa686e23c506b5d3448350668d14491ef6723
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 11:44:36 2017 +0800

    configs: Start of on-sync. Skip lang upgrade in cron.

commit bd26b5c923b10773a31e393feac6d97f183c2562
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 8 08:43:54 2017 +0800

    dockerdb: Switch to 2017-GA
    
    This change is now possible as we've switched to use of the overlay2
    docker storage driver.

commit 5bf9826b4f352bf69aff28dda1bd535f6dcf1a14
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:23:30 2017 +0800

    cron: Correct cron format

commit f71fed4d803e791ae3ed1b45a2c9609ceadc80c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:20:34 2017 +0800

    dockercleaner: status = exited

commit cf36cefc225bc6d9351a8ce93ffaeede6800b674
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:18:03 2017 +0800

    cron: Add daily job for dockercleaner

commit b368011028618e584312eac655ec14d27c2e4212
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:12:51 2017 +0800

    dockercleaner: Make this not suck

commit 934e3a853c1c4ec2ce28a50b77a6387642a2d5be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 11:42:52 2017 +0800

    docker_run: Quote MOODLE_PATH

commit b772068b5ce55a7d8ea1931c0fda53c9ce20303a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 10:11:35 2017 +0800

    dockerdb: Switch to use moodlehq image

commit ee752cb4065fbd161b25d844aeffeb2d6506796c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 10:11:26 2017 +0800

    dockerdb: Add DB for php71

commit b11856d97e7200cd1a133e4f685513a179ba6b34
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:35 2017 +0800

    dockerdb: Stop mapping ports.
    
    Welcome to a pure docker world. No more bare-metal builds to have
    headaches with.

commit ca1bfc0f27ecc8a88b7650daf4ab24cb0cb31d75
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:16 2017 +0800

    dockerdb: Add dbs for master

commit 4f9f95d93046607e93c6e996477946e2389d2f70
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:06 2017 +0800

    dockerdb: Remove outdated docs

commit dfed5a9d2cb2eddc80c8b4d3824870c87f2980b2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Aug 3 12:00:55 2017 +0800

    dockerdb: Do not wait for docker DB starts

commit a87eb0e4242eb2acacf7e94950f2a0e6f177dd99
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 13:56:17 2017 +0800

    dockerdb: Correct DB name

commit 443787c7e0adce39a39b156d9a99a7940a1d6014
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 10:51:56 2017 +0800

    docker_run: Switch to official Chrome Selenium image
    
    The previous image we used had a broken commit for :latest, and the
    previous version was not readily available.
    
    I've switched to the official, standalone image.

commit e101af4ae0a5d023c04b6558120d385945efc9c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:15:27 2017 +0800

    dockerdb: Add new DBs for generic job usage

commit 4de9fb6d5c49cf9cf9d9aa53dbdf3e89a6443e62
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:15:06 2017 +0800

    dockerdb: Pin to Postgres:9

commit 6e525795a7366fe88e7ea2b647dc4208aac5f35d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:11:51 2017 +0800

    dockerdb: Improve help for dockerdb

commit 7f82cbcc91fdb5acf981df3729897a1fccca0080
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:59:00 2017 +0800

    dockerdb: Fix mariadb to version 10.1
    
    We don't have compatability with 10.2 (MySQL 8) yet.

commit 07379159cfece3d4927e1a4d31e04cf38576bb00
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:46:50 2017 +0800

    cron: Fix cron scripts
    
    These weren't working before because of a mix of ownership issues, and
    other stuff.
    
    I've changed this to a model of job and script for easier future
    maintenance.

commit a8c2b674f50c189ff4dbcd8f3a0237bbd7bad117
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:16:35 2017 +0800

    docker_run: Make docker stop more resilient, and stop removing container
    
    In some instances, the docker images were stopped and removed before the
    trap was hit. This meant that the test was subsequently failed because
    the container no longer existed.
    
    I've made it more resilient by looping over a list, rather than the
    common shorthand. I've also stopped removing the container because the
    removal means that we lose the logs too.

commit eedbd25f2d5b72d829d628190cf6697dadd22b81
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:14:52 2017 +0800

    dockerdb: Stick to sqlsrv:ctp2-1
    
    sqlsrv:rc1 is buggy and broken on some nodes.

commit 02c8e9ca341c4951d9adf439e2cf7473cc1ab8ae
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:41:33 2017 +0800

    maintenance: Correct file permissions

commit b77ec90f15f2bb6f4d6eda81b82eb7b57610a1fa
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:38:56 2017 +0800

    maintenance: Add config backup script

commit 2a85bdd3fe89bd51dbdb96ab98f7231ea5ae8119
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:29:15 2017 +0800

    docker_run: Add DB Prefix info to job summary

commit 72624fb9daf198d48d6ed70511234b8b30a76ce4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 10:32:39 2017 +0800

    docker_run: Clean up images correctly after run

commit bd0ccda93bb07cee55597838de58125d05dcd135
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 08:45:09 2017 +0800

    dockerdb: Add DB for T.01

commit 6abfeecbbf93d5cfd92bb23f0bc6865f7a6ab00f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 08:43:36 2017 +0800

    docker_run: Remove old MOODLE_BRANCH param

commit 704e0ee73f9121f1417228b8ce3d6c835d73019f
Merge: 9f40477 095784d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jul 24 13:16:04 2017 +0800

    Merge remote-tracking branch 'origin/named_jobs'

commit 095784dd8d5b2203268331411fc042fb98342e5d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat Jul 22 15:45:11 2017 +0800

    docker_run: Silence empty directory removal

commit eefe579c3b889c136cc15fff0eab25b33be9be86
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:38:19 2017 +0800

    docker_run: Run as $UID instead of jenkins

commit a8f964328b50cfa66d7d83d792976ed0c71056f4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:36:47 2017 +0800

    docker_run: Bindmount the composer cache
    
    Note: The images we currently use run as 'rajesh' because of UID
    matches.
    We need to solve this better.

commit ec440419e11dbaffee7c6965204ac52b3cdf7f93
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:36:17 2017 +0800

    docker_run: Stop running composer outside of docker

commit 9f40477e8fac197daf534b9e069ef9371ed2f0c7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:17:34 2017 +0800

    docker_run: Remove commented out code of yesteryear

commit c2793912e22de14e34c9b4c945389343fc19f7db
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:20:51 2017 +0800

    docker_run: Switch from linked image to named on-network image for selenium

commit 2ebbbf935327deaae0ed11e39deea90d1a50465e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:54 2017 +0800

    docker_run: Switch to uuid naming

commit f4c977987cb705453c661102ecc1db4271ac5b3b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:38 2017 +0800

    docker_run: Ensure docker is on a network

commit 24193e89122a6772bf54a2a649c6c86c64efc425
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:29 2017 +0800

    docker_run: Remove more commented

commit 426ace636b8d1d8d8c5be2705a9e7735c216e494
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:02 2017 +0800

    docker_run: Ensure docker is on a network

commit 8b562166645f72ae7898c61a43b7f3bf323e1bc3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:18:31 2017 +0800

    docker_run: Switch to uuid naming

commit dca896e92f9b622dfad9cd4ba1b9bf50124c9209
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jul 13 20:52:41 2017 +0800

    MDLSITE-5153 no exceptions for any php version / database
    
    Moodle 3.4 and up requires php70. mssql is not availale for php70
    (only sqlsrv is) and oracle is too. So commenting any exceptional handling.

commit fc03eba427bd1f743b6368355fdd6419e94e09d2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 5 11:31:30 2017 +0800

    docker_run: Add info about the current run

commit e4b0f7479fcb1fbb408b7a3b566728bb5c910937
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 5 10:55:58 2017 +0800

    dockerdb: We need 31 databases again

commit 65d95d9f13934880103988a825c645b30f4c2dc3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 16 13:39:07 2017 +0800

    dockerdb: Put Oracle data on tmpfs

commit e4f4348e435d0e28abd404fc747774dd83128155
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jun 15 09:51:50 2017 +0800

    cron: Add cron scripts (Fixes MDLSITE-5150)

commit 4d0c445d765efe3bdc622cfe58f82dd014abf77e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 11:53:25 2017 +0800

    dockerdb: Add more MySQL/MariaDB tuning

commit e5ed9d0649a1f365d64e95e1581deca2d5128c7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 10:44:02 2017 +0800

    dockerdb: Add some tuning

commit 8c81986d547e4d0c9332b093a2b51d6eaa0d65b5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:37:16 2017 +0800

    dockerdb: Add improvements found in MariaDB

commit a489d422740bb0eda073cb5a066aa6f7bd2b4687
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:36:57 2017 +0800

    dockerdb: Switch to fixed version of the official mysql image

commit 4b1e69023176821b43d684c803883612515e4cd1
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:36:31 2017 +0800

    dockerdb: Expand mariadb detach option

commit 96adaf626df1e2452acb4c68122fb1a583132001
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:29:00 2017 +0800

    dockerdb: Move MySQL/MariaDB Password to environment
    
    Recent versions of MySQL emit a warning when the password is specified
    as a CLI argument.

commit bdf127cff2de7cd03667ef85ee2c8a6e6bef65b5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:24:08 2017 +0800

    dockerdb: Correct spacing of DB name for new DBs

commit 5bc5491c1c576c8357c37ab6188806cb47bcacf9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jun 1 06:23:35 2017 +0800

    Revert "docker_run: Build in a network"
    
    This reverts commit 9efbb8bdbf02b2b1f3addea489d1bb8a2d0df7a4.

commit 4ff6531e10df7cdd8adb427e22a3f7cbe292cd9e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:48:30 2017 +0800

    dockerdb: Add DB for php7 runs

commit 0ee70b8f75b45c93e755980e4a8430592229b775
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:38:35 2017 +0800

    setup_run_phpunit: Stop changing the MSSQL DBName if we don't need to
    
    The old VM only had one database, whereas the new docker image has one
    database for each run.
    
    We need to preserve the running for the old database in case we need to
    resurrect any old jobs.

commit de6c7b70c173114517b77f39b1f45c5f1c89e036
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:28:40 2017 +0800

    configs: Add parallel boost template found on nightly02

commit f431c5240e3a20284d54a06305d02fe2bccc6f54
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:23:27 2017 +0800

    configs: On-sync has ended. Stop skip langpack upgrades

commit 9e73afd89594cedcd5fd7f139fdfc938cbefd975
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:01:41 2017 +0800

    setup_: Echo out information on which database is being run today

commit 984216dc9744386ad7c3300567259cb2a5ce5437
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:49:57 2017 +0800

    dockerdb: Remove tmpfs from mssql

commit 106f1900994acfc909e00bf8e3bd6c90d953f0be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:42:00 2017 +0800

    setup_run: Add DbPort option

commit b2d1f42768ec382cb4a4c74ce87b45ca19ff9f0d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:40:17 2017 +0800

    configs: Add DbPort to match setup_run_phpunit

commit 0cb102cbfebe11f05fbad6f47997064905e12e67
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:35:34 2017 +0800

    configs: Bring config.php templates into git

commit 9efbb8bdbf02b2b1f3addea489d1bb8a2d0df7a4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:33:16 2017 +0800

    docker_run: Build in a network

commit 4d8e4e1faa7b6c3f3d1752c54aabd265975db986
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:29:49 2017 +0800

    dockerdb: Silence network creation

commit 4f7f121634150a2cecc9b7758c268fa2e4b81612
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:29:31 2017 +0800

    docker_run: Expand out docker run

commit 7d234526c5f9aa14a46a7a5f02868d1eae9803dd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:12:02 2017 +0800

    setup_run_phpunit: Add DbPort option

commit 73f48e29719c07b674095f0fd14a2834f831cc26
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:11:40 2017 +0800

    dockerdb: Add mariadb configuration

commit 2e7da39c72f1593e31bff286814abde3d71aa04d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:11:12 2017 +0800

    dockerdb: Add pgsql tuning

commit daf2b768391559c3ca9624ca9affac4acdbde6d9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:10:52 2017 +0800

    dockerdb: Move database partitions to tmpfs

commit 60f82163aeb3024864a24278cad9fb1ca565a2cd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:09:36 2017 +0800

    Move docker DB servers to their own network for better DNS resolution
    
    This makes use of docker's internal DNS resolution, which is only
    available to hosts running on a custom network.

commit 467b83601e8194df07a2277170fb72bcace7ed0e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:09:09 2017 +0800

    Expand docker run for db setup

commit cf5494b2faa2be57cf2cfe57d8645eb1e7bc457e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:06:55 2017 +0800

    Add support for DB Port to docker_run

commit dbfa320c859cbf9997b7dab94560d18496b63990
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:56:22 2017 +0800

    Move mariadb to tmpfs

commit 06defa01587affac144628d9704f9ed7b9902dec
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:51:18 2017 +0800

    Add .gitignore

commit 5754c93fe748b6423d3e1e9fdbc7b2d629d6aa48
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:50:36 2017 +0800

    Add Jenkins maintenance scripts

commit bb24bbefb3e83e40bb68dc3ad265159a854d45ca
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:50 2017 +0800

    Remove archive

commit f0d65eaaa0b56f71190703bf4cdc2f52ef76abaf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:43 2017 +0800

    Add archive

commit d059d034161e4f159e58c10814acfed8d74a4bf0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:10 2017 +0800

    Note about adding/removing databases

commit e000d5b1d44e6b787e547786d5b2bb91b23cbbdc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:37:25 2017 +0800

    Add a quick readme

commit 452fbb9bb177232fb6d63e294ac41903c612c3d0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:23:14 2017 +0800

    Switch to Dan's Oracle image

commit 2da98ad152dbb3ba371968f1d8b428daafd18dfe
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:23:02 2017 +0800

    Remove 21 databases

commit 261d4af18497ff63db71ead7a16aa6ddf622198f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:22:41 2017 +0800

    Tidy up faildump dir creation

commit f0b2fa4afa2515d739eca10b84653e0208da38b7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 15:44:42 2017 +0800

    Expose the sqlsrv port

commit 51891bb10cf4e61cebd6a0e6a20d88bbf563cd7b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 15:44:29 2017 +0800

    Correct DB init for sqlsrv

commit aea44409111987fd236d4f7e8abb5cfc6463af4a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 14:05:15 2017 +0800

    Correct docs for sqlsrv docker

commit 05b4937c3702d2069d2db48a6474a331a118dad1
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 14:04:19 2017 +0800

    Add M33

commit 04d79d0f0ca77f625731396a4dedc1d02d451c9b
Author: ${username} User <jenkins@nightly.test.in.moodle.com>
Date:   Wed Apr 12 09:16:37 2017 +0800

    Nightly scripts checkin
======================: FILES :======================
======================: BRANCHES :======================
======================: LOGINFO :======================
commit 2f5e8e5332c2e80cc4168bc1b176549ad8d099df
Merge: 88dd7f7 b429255
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Dec 15 10:24:16 2022 +0100

    Merge pull request #91 from stronk7/point_to_latest
    
    For sqlsrv, switch from 2017-latest to latest

commit b429255a73f0d36610f8f1e4999154dbfb411034
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Dec 11 11:31:13 2022 +0100

    For sqlsrv, switch from 2017-latest to latest
    
    Note that, right now, "latest" is exactly 2017-latest, so
    everything will continue working exactly the same.
    
    But once we finish with the tests @ MDLSITE-6045, we'll make
    2019-latest to become "latest".
    
    That's the reason the comment in the runner says
    "right now 2019-latest", because in hours, if everything
    goes ok, 2019 will become the latest.

commit 88dd7f7c32dd1e3254317d64073cdfc47c899146
Merge: dacb4b9 8c6c8fe
Author: Jun Pataleta <jun@moodle.com>
Date:   Sat Nov 26 19:25:57 2022 +0800

    Merge pull request #88 from junpataleta/41_disablelangupgrades
    
    Disable lang upgrades during 4.1 on-sync
    
    Merging as part of task #4 in packaging release tasks

commit dacb4b96c4d51d5cb1a24f05f9f488129d8fc712
Merge: 6b8f0e8 32ecdaa
Author: Jun Pataleta <jun@moodle.com>
Date:   Sat Nov 26 19:25:03 2022 +0800

    Merge pull request #90 from junpataleta/MR2_41_version
    
    Add Moodle 4.1 version
    
    Merging as part of task #4 in the release packaging tasks

commit 32ecdaa16beeec566d2821157021bbef6a42f890
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Nov 22 23:38:46 2022 +0800

    Add Moodle 4.1 version

commit 8c6c8fe66878f63b5b42e57d58f7b7fe6f056f78
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Nov 22 22:36:40 2022 +0800

    Disable lang upgrades during 4.1 on-sync

commit 6b8f0e857c07c8c1452df201c73769e9e6ca8d3f
Merge: 23d1022 79c14c9
Author: Jun Pataleta <jun@moodle.com>
Date:   Wed Aug 31 14:37:01 2022 +0800

    Merge pull request #85 from stronk7/postgres_replicas_10_and_up
    
    WIP: Make pgsql replicas to work with PostgreSQL 10 and up

commit 79c14c99b2af36686446ddf2b69cfae148902ef7
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 31 00:25:11 2022 +0200

    Make pgsql replicas to work with PostgreSQL 10 and up
    
    This seems to be working for PG 10, 11, 12, 13 and 14. I've finally
    left 9.6 out from the equation because it required to add some more
    shell scripts to be executed conditionally. And I think we can
    ignore that old versions @ CIs already (Moodle 3.9 works with PG 12
    perfectly).
    
    Note the changes here seem more complex, but basically it's because
    I've moved the stuff to be similar to the mysql/mariadb one, aka:
    
    - Create master / slave / standalone directories.
    - Move as much as possible to .sql entry points.
    - Keep shell scripts simple, only doing things really requiring a shell.
    
    Other than that, just renamed some setting or remove some stuff
    that was not needed (archiving, logging...) apparently.
    
    Fixes #79.

commit 23d10229496d8db16f1db3d12a384b8e1afb21d8
Merge: ef96180 6b81082
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Aug 29 16:58:35 2022 +0200

    Merge pull request #83 from stronk7/mariadb_replicas_102_104
    
    Make mariadb replicas to work with 10.2 to 10.7

commit ef96180f7f4c9112cd5559df3446f857671c33f3
Merge: 3891a8f 94a6c51
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Aug 29 10:02:27 2022 +0200

    Merge pull request #82 from stronk7/mysql_replicas_57_80
    
    Make mysql replicas to work with MySQL 5.7 and 8.0

commit 6b81082aa7fd59312deb56a891a78b055bd3930e
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 24 21:11:28 2022 +0200

    Make mariadb replicas to work with 10.2 to 10.7
    
    The code used here is 99% the same than the mysql one. But finally
    I've decided to copy it all over own mariadb.d directory.
    
    The only difference is when creating the replication database user
    because the MySQL sentence:
    
    CREATE USER 'replication'@'%' IDENTIFIED WITH mysql_native_password BY 'replication';
    
    Doesn't work with MariaDB. In fact, since MariaDB 10.2 the
    mysql_native_password is the default authentication plugin
    so it doesn't need to be specified. So this works the same:
    
    CREATE USER 'replication'@'%' IDENTIFIED BY 'replication';
    
    A working alternative is also:
    
    CREATE USER 'replication'@'%' IDENTIFIED WITH mysql_native_password USING PASSWORD('replication');
    
    But I've gone with the simple one because it's future better.
    
    As said, everything else is 100% the same, but better split that making
    complicated conditionals to get both working with the same config files.

commit 94a6c51bd7edeea66c11f9565a8839ed4e314152
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 24 15:54:12 2022 +0200

    Make mysql replicas to work with MySQL 5.7 and 5.8
    
    This fixes #80. It has been detected that MySQL main/replica
    configurations have stopped working. My personal bet is that
    some changes in the MySQL images have leaded to that, or maybe
    they were working for MySQL 5.6 and never have worked to 5.7.
    
    NVM, this commit just makes them back to work for both 5.7 and 8.0,
    that are the currently "supported" MySQL databases.
    
    Note that, after this PR, we'll be checking the MariaDB main/replica
    configurations because they may need similar changes.
    
    Also, while I've tested the solution locally, we are lacking any own
    CI for this product, so I've created an issue about that:
    
    https://github.com/moodlehq/moodle-ci-runner/issues/81
    
    Finally, here there are the explanations about the changes performed:
    
    1. Moved the bin logs from /var/log/mysql to /var/lib/mysql . Reason
       being that the former directory doesn't exist anymore in MySQL 5.7
       and up (and also, that the binary logs are better with data than
       with logs).
    2. Removed the 'multi_admin' user related stuff. Not needed at all.
    3. Minor changes to moodle and root GRANT/IDENTIFIED stuff because
       of changes in MySQL 8 (already deprecated in 5.7). Use ALTER USER
       instead.
    4. Use IDENTIFIED WITH mysql_native_password (the old password schema),
       because MySQL 8, when using the new hashed schema requires
       communications between the hosts to be encrypted. We don't need that
       extra complexity and while it can be disabled as part of the CHANGE MASTER TO
       command... it cannot be disabled for MySQL 5.7. SO the only option
       working in both versions is the used one (force old passwords schema
       for the replication user).
    5. Remove the need of stopping and starting the temp server in the
       replica. All the commands can be executed with the temp server
       running and then the container entrypoint manageing itself will stop
       the temp server and start the final one.
    6. Stop needing gosu completely. Now the replica conf files are made
       available via volume mount (like the standalone or main cases).
    
    And that's all. The changes are small and subtle, but each one is
    for a good reason, I think.

commit 3891a8f4ab36cfc5d4a7f466b0b2c78582eb9a92
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 23 12:06:40 2022 +0200

    Ensure that any Oracle > 11g doesn't use tmpfs anymore
    
    Apart from not giving a real benefit, the new machinery
    in Oracle 12 and up doesn't work well with these devices
    leading to all sort of problems is we also want to change
    system settings.
    
    Hence, disabling tmpfs. There are some more details in the
    long conversation @ https://github.com/gvenzl/oci-oracle-xe/issues/111
    (about that and many other details / iterations)

commit 08389ab2c008f1eedf9e310efc65945114bafd12
Merge: 88b8117 b6d1eaf
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Jun 6 09:13:33 2022 +0200

    Merge pull request #78 from moodlehq/testing
    
    Add support for specifying the DB tags (versions) to use

commit b6d1eafe0bac5fdae384edb516890bc13c5c070f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Jun 5 17:54:07 2022 +0200

    Add support for specifying the DB tags (versions) to use
    
    Added a new parameter, DBTAG, which behaviour is as follows:
    
    - If not specified, every database will use the currently
      pinned version (if there is any) or "latest" if not. Right now,
      the versions are:
        - mariadb: 10.7
        - mysqli: 5.7
        - oracle: latest (11)
        - pgsql: 12
        - sqlsrv: 2017-latest
    - If specified, then that tag will be used, say, for example:
        - mariadb: 10.6, 10.5,...
        - mysqli: 8.0,...
        - oracle: 19, 21,...
        - sqlsrv: 2019-latest,....
    
    So, this change doesn't make any difference in current default
    jobs (only pgsql has been raised to 12 to be ready for 4.1). Everything
    will continue running exactly as it's now.
    
    Only when we add support for that new DBTAG parameter in jobs (and in
    nightlyjobs) is when we'll be able to run alternative versions.

commit 88b8117b7ba8ca7b4e3d06282d160e5a4b23cf3c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue May 24 17:19:22 2022 +0200

    Pin MariaDB to 10.7, new 10.8 and 10.9  have problems (take II)
    
    Again (we unpinned it 3 months ago!), pin MariaDB
    to continue using 10.7, because 10.8 and 10.9 (just released) have some
    startup / init problems.

commit b93a84091e401db4f4186ddf97d76353f219803d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue May 24 16:58:08 2022 +0200

    Pin MariaDB to 10.8, new 10.9 has start problems
    
    Again (we unpinned it 3 months ago!), pin MariaDB
    to continue using 10.8, because 10.9 (just released) has some
    startup / init problems.

commit f977d82b966d0b1ac76b7fdb2f3f08e9c29335d6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 16 16:24:54 2022 +0200

    Remove the local/moodlemobileapp existence condition
    
    Previously the app was only started if the moodlemobileapp
    plugin was installed. But it may be perfectly ok to have
    alternative plugins to that one.

commit fb50f9ce19f3003286963a11431ea48303be62b7
Merge: fdce1d4 e2e1517
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Apr 28 13:56:27 2022 +0200

    Merge pull request #75 from junpataleta/40_enablelangupgrades
    
    Re-enable lang upgrades after the 4.0 on-sync period

commit e2e15170be3b1551a6e87881530be794d73f53da
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 12 11:57:36 2022 +0800

    Re-enable lang upgrades after on-sync

commit fdce1d4d7c20324b04e0d147269633e3237b2477
Merge: 7c7bee2 3a00bd7
Author: Víctor Déniz <victor@moodle.com>
Date:   Mon Apr 18 20:51:31 2022 +0100

    Merge pull request #76 from stronk7/enable_langimport_tests_when_not_skipping
    
    Enable lang install/upgrade tests only if lang upgrades are enabled

commit 3a00bd79fa53e1c0840e4c456570bb11f92f433c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Apr 18 12:37:20 2022 +0200

    Enable lang install/upgrade tests only if lang upgrades are enabled
    
    Over a few days/weeks after a major release, the lang upgrades
    are disabled in testing infrastructure, because the new development
    branch (4.1) in this case, doesn't exist yet.
    
    When we proceed to disable the lang upgrades (part of the release
    process) we need to ensure that all the tests using the languages
    install/upgrade are skipped.
    
    To do so, we don't define the TOOL_LANGIMPORT_REMOTE_TESTS constant
    so all the related tests always will look for it to decide between
    being executed or skipped.
    
    In PHPUnit that's checked with code like:
    
        if (!defined('TOOL_LANGIMPORT_REMOTE_TESTS')) => skip
    
    In Behat that's checked with the step:
    
        Given remote langimport tests are enabled
    
    For more details, see https://tracker.moodle.org/browse/MDL-74512

commit 7c7bee2f295b2f83e7e5ba38aa06ae99386fc2b8
Merge: 1499e43 25d9e32
Author: Jun Pataleta <jun@moodle.com>
Date:   Sun Apr 17 15:53:01 2022 +0800

    Merge pull request #74 from junpataleta/40_disablelangupgrades
    
    Disable lang upgrades during on-sync

commit 25d9e32c3e10c32a7dacb0c1b2340725942b95d3
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 12 11:56:58 2022 +0800

    Disable lang upgrades during on-sync

commit 1499e4388787a77a52cafc9108246458fc84fc91
Merge: 73c20f2 ecebf60
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 5 15:57:11 2022 +0800

    Merge pull request #73 from stronk7/add_ml_python
    
    Add support to run the python mlbackend analytics tests

commit ecebf60f063439c6ea7bbff375c6bf01b0a8038b
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Apr 5 09:39:06 2022 +0200

    Add support to run the python mlbackend analytics tests
    
    Disabled by default, just define `MLBACKEND_PYTHON_VERSION`
    with a correct tag of the docker image and that will make
    the container to run and the PHPUnit jobs to use it. Example:
    
    export MLBACKEND_PYTHON_VERSION=3.0.4-python3.7.5
    
    This it the first step towards adding these tests to CI.

commit 73c20f2fa47b13b55ee443f97f144a40f45989db
Merge: 4498b70 add5d74
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Feb 26 10:05:52 2022 +0100

    Merge pull request #72 from stronk7/unpin_mariadb
    
    Unpin MariaDB

commit add5d74a25780ce672084f5200bfd7bf6459978a
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Feb 26 09:45:57 2022 +0100

    Unpin MariaDB
    
    Now that 10.6.7 and 10.7.3 have been releases and their
    docker images are available, we can unpin it @ GHA.
    
    Fixes #55

commit 4498b708adf0e9fdb3d93a71c8b5495c45f388ec
Merge: 516b323 8db6d8b
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Feb 8 23:04:21 2022 +0100

    Merge pull request #70 from moodlehq/branch_40
    
    Add Moodle 4.0 version

commit 8db6d8b86392184cd3a7c271b3270bde54a69329
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 8 20:38:27 2022 +0800

    Add Moodle 4.0 version

commit 516b323cd729c295f65a017ab9cf6c0217b6de75
Merge: 6399b2f 3f79c0b
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jan 19 16:28:10 2022 +0100

    Merge pull request #69 from stronk7/bring_back_unconditional_xvfb
    
    Revert "Don't start xvfb in headless runs"

commit 3f79c0beec53c2f7e43ccbe5b9a44fcdd34cefcc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jan 19 16:20:12 2022 +0100

    Revert "Don't start xvfb in headless runs"
    
    This reverts commit 520e91ee67cb27c5f9c6973c1c9997167b1942b2.
    
    Immediately after applying #67 we have started to get all
    headless jobs failing with all sort of timeouts and > 8h
    of execution time. Headless runs.
    
    And this is the only change that has been performed since
    then, hence, reverting here and now.

commit 6399b2f204e08a2ad77a8434c834ec3ef115989e
Merge: d1dbed9 d11b5b6
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Wed Jan 19 11:24:47 2022 +0100

    Merge pull request #68 from moodlehq/alwaysFailOnRisky
    
    [runner] Always apply fail-on-risky

commit d11b5b6c4ef19936a2a5614fc16a0d1880b89fda
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Sep 26 13:16:40 2021 +0800

    [runner] Always apply fail-on-risky

commit d1dbed938e2ba091885284219dbd97452287b327
Merge: 191b387 520e91e
Author: Andrew Lyons <andrew@nicols.co.uk>
Date:   Wed Jan 19 08:24:45 2022 +0800

    Merge pull request #67 from moodlehq/xvfb
    
    Don't start xvfb in headless runs

commit 520e91ee67cb27c5f9c6973c1c9997167b1942b2
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 23 14:02:11 2021 +0200

    Don't start xvfb in headless runs
    
    It's not used and for sure will save some resources.

commit 191b387387c71179569812103595bd5fec2d62e5
Merge: adf2361 807f300
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Dec 9 16:35:42 2021 +0100

    Merge pull request #66 from moodlehq/chromedriver_bump
    
    [runner] Update to Chromedriver 96.0 custom

commit 807f300b9e362266aa2b3141ddf67c230aa9ad2f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 1 11:56:01 2021 +0800

    [behat] Force set marionette capability to true
    
    This works around https://github.com/Behat/MinkExtension/issues/376.

commit 1c8c62a863c557b43bae0537619a8108435fd10b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Nov 30 10:38:55 2021 +0800

    [runner] Update to Chromedriver 96.0 custom

commit adf2361b62d1b7575e4280c712576afb9b1a3db9
Merge: f88d0d1 2f8500e
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Nov 18 11:40:11 2021 +0100

    Merge pull request #65 from moodlehq/bbb-container-name
    
    Fix wrong BBB mock server container name

commit 2f8500e499062165875831f03d88bd6fdfa7d96e
Author: Víctor Déniz <victor@moodle.com>
Date:   Thu Nov 18 09:19:26 2021 +0000

    Fix wrong BBB mock server container name
    
    We were using the wrong container name in docker logs and getting errors during testing like "Error: No such container: http://bbbmock9145c76fb054c670"

commit f88d0d184259019a4c9d356e3196392e72c28010
Merge: a356bf8 4557921
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Nov 16 19:43:48 2021 +0100

    Merge pull request #64 from moodlehq/bbb-mock-server
    
    Add bigbluebutton mock server support

commit 4557921c4d11454fa2b9ecd15f976606c56f89c4
Author: Víctor Déniz <victor@moodle.com>
Date:   Tue Nov 16 16:26:22 2021 +0000

    Get BBB mock server image from moodlehq

commit c2f64e4e2f85d4bf4760ee2003695a81e829acc9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Sep 1 12:37:49 2021 +0800

    Add bigbluebutton mock server support

commit a356bf87df4796d291a1b98efce97d7d269622a9
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Oct 21 16:23:17 2021 +0200

    Add RUNCOUNT to de job summary information

commit 7a332221aaba02ab3f0476e7443f1c4a2659cedc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Oct 21 15:07:45 2021 +0200

    Add information about the installed plugins and their commits

commit baa4df45feb5de55fb7a14da1845b7a23bd2e5c8
Merge: 1efdc00 14292c7
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Oct 18 18:24:03 2021 +0200

    Merge pull request #62 from andrewnicols/customchromedriver
    
    [runner] Switch to custom chromedriver image

commit 1efdc007636385fe2f4455408f0ac5bd3698a8c3
Merge: f2f7295 e6d63a4
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Oct 15 09:44:00 2021 +0200

    Merge pull request #60 from andrewnicols/nogit
    
    [runner] Stop installing git

commit 14292c78bea2616b0dad6bfec5b0f5b493114446
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Oct 15 08:10:49 2021 +0800

    [runner] Switch to custom chromedriver image
    
    See https://tracker.moodle.org/browse/MDL-71108 for details on the
    reasons behind this change, and its history.

commit e6d63a4541cea00d5ad91130bdc759f4408a8bb2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Sep 26 11:32:26 2021 +0800

    [runner] Stop installing git
    
    It's installed already.

commit f2f72953bd6ce755ddeca2c47ec35bc9ea783342
Merge: 0bcac46 30e5b98
Author: ilyatregubov <ilya.a.tregubov@gmail.com>
Date:   Tue Sep 14 17:03:06 2021 +0200

    Merge pull request #59 from stronk7/unpin_chome_and_cross_fingers
    
    Unpin chrome version and cross fingers

commit 30e5b98ac88e1db6eab9c39aaeb0dc1ecb699747
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Sep 14 16:56:51 2021 +0200

    Unpin chrome version and cross fingers
    
    We are going brave here and go back to unpinned chrome version, because staying with
    the old Chrome 79 version (3.141.59-zinc) is making things really harder and harder.
    We are aware that, for headed runs, there are some zero-size errors still not fixed,
    but headless ones should run ok. For reference, the problems we are aware are being
    tracked (as of 14 Sep 2021) @:
      - MDL-71108 : zero-size
      - MDL-72306 : feedback

commit 0bcac461b8245b41a57c2fbd182641d9a2428554
Merge: 242d3fc 56741b9
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sun Sep 12 18:20:47 2021 +0200

    Merge pull request #52 from stronk7/enable_classic_accessibility
    
    Revert "Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 242d3fcedb5afbbe614a52e79071b4aa39c2c444
Merge: b039c34 0dc556c
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Aug 27 11:04:44 2021 +0200

    Merge pull request #56 from andrewnicols/mobileAppPort
    
    Allow mobile app port to be customised

commit b039c3490bcba3b4c0d9e5aab5a2a5f929c60472
Merge: 87a90c3 cfc5036
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Aug 27 10:56:47 2021 +0200

    Merge pull request #57 from andrewnicols/removeTerminalFromReruns
    
    Remove terminal from rerun commands

commit 0dc556c8c98a6711d08303466e881cf1d01dd57f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 6 15:09:19 2021 +0800

    Allow mobile app port to be customised

commit cfc5036ae3d6360e6907dde08181d21c544b5cbc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Aug 10 21:53:23 2021 +0800

    Remove terminal from rerun commands

commit 87a90c3a470400b76147906669127820e613cffa
Merge: 90e2530 eed9af3
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jul 14 12:55:28 2021 +0200

    Merge pull request #54 from stronk7/mariadb_10.5_sticky
    
    Make mariadb:10.5 sticky

commit eed9af3e0b5e7887fcd02f854a2a49883bb38891
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jul 14 12:36:35 2021 +0200

    Make mariadb:10.5 sticky
    
    New mariadb:10.6 makes the COMPRESSED row format read-only by default
    because it's deprecated now and will be removed in mariadb:10.7
    
    This is being tracked @ https://tracker.moodle.org/browse/MDL-72131
    
    Once that issue is fixed and we switch to DYNAMIC or whichever the
    final solution is, we'll unpin this.

commit 90e253075284b043da520b882101837a3483b2a1
Merge: d4dafe3 4ed4506
Author: Sara Arjona <sara@moodle.com>
Date:   Tue Jun 22 11:07:36 2021 +0200

    Merge pull request #53 from stronk7/pg10_bump
    
    Pg10 bump

commit 4ed450679cf0b3aa2e2f7e8e71348db536801457
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 21 18:29:13 2021 +0200

    PG10 minor changes (replication related)
    
    Following the information @ https://www.postgresql.org/docs/10/release-10.html
    - rename functions, tools and options referencing "xlog" to "wal".
    - log_directory changed from "pg_log" to "log".
    
    Note that both:
    - wal-method=stream
    - log_directory=log
    
    are default options so, extrictly speaking we shouldn't need to set them
    but it doesn't hurt to have them explicily defined, so keeping them.

commit a4b02874efa1b7e11aba8e1e1d5d65038a1c9c88
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 21 18:08:46 2021 +0200

    Bump to PG10, Moodle 4.0 requirement

commit 56741b9fc2f14dbc09984d8b49dc22d79bd59d14
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Jun 13 23:03:42 2021 +0200

    Revert "Disable accessibility (axe) with classic till MDL-70846 is fixed"
    
    This reverts commit 6772ca686434a36ba1f318682d5083a4f0d2e7e6.
    
    Closes #49

commit d4dafe3b6b261c3fd1b28618161bc61a9523557f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed May 19 18:42:58 2021 +0200

    Move back to our public image, it's working ok since some months ago
    
    In the past we switched to private one because of some problems
    with Oracle & Docker removing access to all Oracle images. Since
    then our wnameless/docker-oracle-xe-11g base image is back so
    we created the -r2 public one based on it.
    
    More info @ MDLSITE-5669

commit e16b54b1b13c4cbd326a597e451166c54cdb6bcd
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Mar 14 15:41:21 2021 +0100

    Revert "Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton"
    
    This reverts commit 8b96786722b4bbada3e05e63fadbe1d5e8d598f6.
    
    We are going back (to Chrome 79) because 2 errors have been
    found with Chrome 89 needing to be fixed before jumping to it.
    
    More info:
    
    https://tracker.moodle.org/browse/MDL-71108

commit d0775338e44eb115274ee38bab3d798bb3b35106
Merge: 612e041 8b96786
Author: Jun Pataleta <jun@moodle.com>
Date:   Fri Mar 12 16:45:18 2021 +0800

    Merge pull request #51 from stronk7/chrome89
    
    Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton

commit 8b96786722b4bbada3e05e63fadbe1d5e8d598f6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Mar 11 17:04:03 2021 +0100

    Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton
    
    We were waiting since some time ago to Chrome 89 to be released
    and, because of that, we had selenium pinned to 3.141.59-zinc
    version (Chrome 79).
    
    The cause for staying sticky was this issue:
        https://bugs.chromium.org/p/chromedriver/issues/detail?id=3682&q=&can=1&sort=-id
    
    Chrome (and chromedriver) 89 have been released and Selenium has
    already build the docker images for them:
    
    https://github.com/SeleniumHQ/docker-selenium/releases/tag/3.141.59-20210311
    
    So now we can unpin the old version and let the machinery to use the
    latest versions available. That's what this PR does.

commit 612e04179e19aafb236b3deebe4f0cdd7f6c5d74
Merge: 67f0ecc 6772ca6
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 19 06:51:48 2021 +0800

    Merge pull request #48 from stronk7/disable_axe_classic
    
    Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 6772ca686434a36ba1f318682d5083a4f0d2e7e6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Feb 18 22:44:46 2021 +0100

    Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 67f0eccccdfc69242fabfb8923fc09bb0d683692
Merge: 3933a35 ddaf3b6
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Wed Feb 10 00:23:58 2021 +0100

    Merge pull request #47 from andrewnicols/axe
    
    Run axe tests on CI

commit ddaf3b680a45531f53baea086bffb4ea36447636
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Feb 7 08:08:31 2021 +0800

    Run axe tests on CI

commit 3933a35e297445bb0599e152cad12efa9ed9d70a
Merge: 101866d 6c65442
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Jan 16 17:45:38 2021 +0100

    Merge pull request #43 from andrewnicols/w3csupport
    
    Add W3C Support to the CI runner

commit 101866d853bdc2a64f3caac01e554bade91201d4
Merge: 50ba133 4f04878
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jan 13 14:48:53 2021 +0100

    Merge pull request #46 from andrewnicols/stopRunningIonic
    
    Stop running ionic when not testing mobile

commit 4f0487876f9528923747c58688a1fa54a49aa795
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 13 20:59:24 2021 +0800

    Stop running ionic when not testing mobile

commit 6c65442a5daf9945126b1e2dd120758c3585d63c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:05:55 2021 +0800

    runner: Add support for headless browsers
    
    A new environment variable, 'BROWSER_HEADLESS', is now respected. When
    present and not falsey, the relevant browser-specific flags are used to
    make browsers run headless.

commit 57227eb2ae778a687f3a615d27bfd0921243938f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:05:39 2021 +0800

    runner: Add browser verbosity control

commit 5ddde8fbe35a6b3cef1eb95828ce5b3997db4d9d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 13 10:07:05 2020 +0800

    runner: Support Mink with W3C driver and browsers
    
    This commit makes changes to support both the legacy instaclick Mink
    driver, and the newer W3C-compatible Mink driver using the php-webdriver
    project.
    
    To support this we now detect whether the instaclick driver is in use,
    and if so use Firefox 47.0.1, and disable marionette in the browser
    configuration.

commit dc64a2e807e966e71b2f1f654703e155fd9abbcb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 10:26:47 2021 +0800

    runner: Always show Job summary
    
    Remove the section tags which cause Jenkins to collapse the Job summary.
    
    The job summary is often useful when identifying jobs and it is
    unnecessarily collapsed in a section.

commit 50ba133b698ee73a0e76d7ef08506d6a6c52228a
Merge: eb46238 cdec51d
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jan 12 18:37:34 2021 +0100

    Merge pull request #45 from andrewnicols/alwaysShowSummary
    
    runner: Always show Job summary

commit eb462380d1819e70b5f59060942858294c34aa12
Merge: bb2765e bf5d2db
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jan 12 18:32:02 2021 +0100

    Merge pull request #44 from andrewnicols/initdbfix
    
    Correct file permissions for DB entrypoints

commit cdec51dc0d49ee1995b7717933e03e1b51362454
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 10:26:47 2021 +0800

    runner: Always show Job summary
    
    Remove the section tags which cause Jenkins to collapse the Job summary.
    
    The job summary is often useful when identifying jobs and it is
    unnecessarily collapsed in a section.

commit bf5d2db9b89bb31e56469ddbf92eb8af719becfb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:10:10 2021 +0800

    Correct file permissions for DB entrypoints
    
    These scripts were missing the executable bit which was causing issues
    on MacOS.

commit bb2765e405f2aae3a675bea2f8c4d2208fe932be
Merge: 1b61851 949de31
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Dec 26 13:02:45 2020 +0100

    Merge pull request #40 from stronk7/enable_lang_upgrade
    
    Enable lang upgrades again

commit 1b618511ce0b38cb99a7b3bdfeb78f576aa84738
Merge: fa35a42 ed19688
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Nov 13 18:50:55 2020 +0100

    Merge pull request #41 from stronk7/311_versions
    
    Add Moodle 3.11 version

commit ed19688323f33d5202d3204005baa5f3ebbe6a8d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Nov 13 17:04:37 2020 +0100

    Add Moodle 3.11 version

commit fa35a4211e2fcae86562c881e745c76539a4ae82
Merge: 459f133 3210a89
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 2 09:06:15 2020 +0800

    Merge pull request #39 from stronk7/logs_take2
    
    Better log file names + also log phpunit images

commit 949de31e7f22733033ad453ecb3ed64284db9cb9
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Nov 1 23:38:59 2020 +0100

    Enable lang upgrades again
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information
    
    Under parallel development, until the new dev branch (310_STABLE in this
    case) language packs are and available.

commit 3210a89b6e017f1faa1c09eb6d7678959d75aa7e
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Nov 1 16:45:48 2020 +0100

    Better log file names + also log phpunit images
    
    This does a couple of things:
    
    1) export all logs using better container names (names instead
       of ids, with some current names improved "run => webserver...)
    2) move the log exporting out from behat section, so it's also
       executed for phpunit runs and we get other logs that could be
       also useful at some point.
    
    This is a followup of https://github.com/moodlehq/moodle-ci-runner/pull/38

commit 459f133ee1e669b2da1848738037e7ef36b99222
Merge: e7d8e7b 1e3d130
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Oct 29 09:50:46 2020 +0100

    Merge pull request #38 from andrewnicols/logs
    
    runner: Store all of the docker container logs

commit 1e3d130c8a82fa4bdfb8e8c23faa6d02e37d47d4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Oct 29 15:52:11 2020 +0800

    runner: Store all of the docker container logs

commit e7d8e7b6f23e51197c25426f35140c9d0e96349a
Merge: ea04e94 21dfcbc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 17 19:32:11 2020 +0800

    Merge pull request #37 from stronk7/unpin_mariadb
    
    Unpin MariaDB and remove deprecated / removed settings from config

commit 21dfcbc2bbbe8c5e5c9385502b7452b51cbf8f98
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Sep 11 23:24:24 2020 +0200

    Unpin MariaDB and remove deprecated / removed settings from config
    
    this shouldn't affect MySQL because current (5.7 and up) defaults
    match the settings.

commit ea04e944683151460664535547542a0d38319343
Merge: 5af1206 bacbb8c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 10 17:56:40 2020 +0800

    Merge pull request #36 from stronk7/show_behat_increase_timeout
    
    Show the BEHAT_INCREASE_TIMEOUT config value on all runs

commit bacbb8c29354cc5487fd7d912d66dc2472c78e44
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Sep 10 11:06:24 2020 +0200

    Show the BEHAT_INCREASE_TIMEOUT config value on all runs

commit 5af1206badce74f734fb98f0ec8b6a6d2c1318ca
Merge: f679b06 8cd284f
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Aug 11 11:35:09 2020 +0200

    Merge pull request #35 from stronk7/disable_lang_upgrade
    
    Disable lang upgrades, to be enabled once the lang branch is available

commit f679b067f2a41892d8db739a102aa319ffc1d8f4
Merge: b9064c7 bedb181
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Aug 11 11:34:52 2020 +0200

    Merge pull request #34 from stronk7/310_versions
    
    Add Moodle 3.10 version

commit 8cd284faa1aa6002b08acf13b4776b9f2a74a90c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Aug 10 11:08:23 2020 +0200

    Disable lang upgrades, to be enabled once the lang branch is available

commit bedb181218d3dd53614fc64eacf2b501ac57826f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Aug 10 11:05:46 2020 +0200

    Add Moodle 3.10 version

commit b9064c7fb5f22c089a22dac45d8079ac0e8c8c4a
Merge: e42c7fd 1a1e718
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 30 06:59:43 2020 +0800

    Merge pull request #32 from stronk7/external_https_exttests
    
    Make unit tests also use exttests docker container for https tests

commit 1a1e718169b0225d752c5303cdaca9571890b314
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Jul 18 12:11:09 2020 +0200

    Make unit tests also use exttests docker container for https tests
    
    While we are already using the exttests docker image for HTTP
    requests (avoiding to use download.moodle.org), we are not using
    it for HTTPS tests.
    
    Looking to codebase, there is only ONE tests using HTTPS and it's
    the one that uses to fail when there are porblems with downloads.
    
    As far as that test doesn't perform any check or validation related
    to certificates, we can, simply, configure unit tests to also use
    the HTTP exttests URL to run the HTTPS test.
    
    If tomorrow we need some real HTTPS test, surely we'll need to
    incorporate some mutual recognised certificates, or a real one..
    
    But right now that's not needed.

commit e42c7fd7a7d15777a9843da9a986e0808ed6791e
Merge: f98d032 c1fa35f
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jun 23 22:58:10 2020 +0200

    Merge pull request #31 from stronk7/enable_lang_upgrade
    
    Enable lang upgrade

commit c1fa35f1b41ae28074a14d80eec75b6cf4a354ce
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:58:22 2020 +0200

    Enable lang upgrades again
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit f98d032dba13d122c8cdc5aaea31e2359182c4e0
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jun 10 15:52:38 2020 +0200

    Add back the recently removed sleep, we need it for now
    
    Once we get https://tracker.moodle.org/browse/MDLSITE-6178
    properly implemented we'll be able to revisit all the
    current harcoded pauses.

commit ac8f7607e45bf74977a111b5586884fab1c714e1
Merge: b622687 8ca70ac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 9 07:24:28 2020 +0800

    Merge pull request #30 from stronk7/disable_lang_upgrade
    
    Disable lang upgrades, to be enabled after on-sync

commit b622687b818b0866238c508fe80f5c15655da18c
Merge: 5e8da83 7a8a42f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 9 07:23:22 2020 +0800

    Merge pull request #29 from stronk7/39_versions
    
    Add Moodle 3.9 version

commit 8ca70ace3475237ca70d5b0bc85b5876c47ba3de
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:55:37 2020 +0200

    Disable lang upgrades, to be enabled after on-sync

commit 7a8a42fd286197d0c12065ffc20b88e35575f5de
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:53:02 2020 +0200

    Add Moodle 3.9 version

commit 5e8da83fde01cffbcf99542cbae5c9bcc886a130
Merge: 8e0fd99 41cceb6
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Jun 2 17:22:43 2020 +0800

    Merge pull request #27 from stronk7/moodlehq_sqlsrv_image
    
    Switch to modern sqlsrv own image

commit 41cceb6171884f25e6774b695ee27ec07ccf138f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 1 01:26:44 2020 +0200

    Switch to modern sqlsrv own image
    
    It comes with important memory reduction, specially important
    now that we are also running sqlsrv unit tests as part of ToBiC.
    
    Also remove not needed commands and pauses because the container
    startup handles both.

commit 8e0fd99de3995d51f90bf22fa463f9dea718183b
Merge: 5a28bb7 2aa7c00
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sun May 24 19:58:33 2020 +0200

    Merge pull request #24 from moodlehq/dbslave
    
    DB Slave support

commit 2aa7c0073ab43a2a94514177695353da233fd2b6
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue May 12 13:49:35 2020 +0800

    runner: MySQL Replicate support

commit 74d4d862c308e745c5add7f0f2c58f7d4553cdc4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 11 15:43:58 2020 +0800

    runner: Support postgres slaves

commit 5a28bb7818272c4435831768441eb42f6456da0c
Merge: c6fc3a0 13936d1
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue May 19 16:17:29 2020 +0200

    Merge pull request #23 from crazyserver/patch-1
    
    Change Moodle App docker repository

commit 13936d19c9e28e9dc758fd72c0d028f73899dc2d
Author: Pau Ferrer Ocaña <crazyserver@users.noreply.github.com>
Date:   Tue May 19 14:58:11 2020 +0200

    Change Moodle App docker repository

commit c6fc3a0974f39eb018d628f1e045c7485bfc4e5d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 18 22:38:18 2020 +0200

    Disable options not directly related with the run type

commit 3d1ff1c4ce7b38c810fbbb1b9235d0ff8b548682
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu May 14 03:02:07 2020 +0200

    Added support for multiple reruns (defaults to current 1)
    
    Now it's possible to perform multiple reruns, controlled by
    the BEHAT_NUM_RERUNS env variable. It defaults to current 1.
    
    Also, if 0 is passed, don't perform any rerun.
    
    Output files (pretty, junit) now will have the format:
    
    - prettyRUN_rerunRERUN.txt
    - logRUN_rerunRERUN.junit
    
    Where RUN is the # of parallel run (empty for single)
    and RERUN is the rerun iteration.

commit 9b8619d417a8131ec34e5ee33d14a74ab975a1fe
Merge: af8ad05 c27cac8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 18 07:16:06 2020 +0800

    Merge pull request #22 from stronk7/avoid_chrome80
    
    Avoid Chrome 80 because it's causing some SCORM tests to fail

commit c27cac893a4f46637464a7d05f4004f5f91d46ad
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Feb 17 17:49:34 2020 +0100

    Avoid Chrome 80 because it's causing some SCORM tests to fail
    
    See https://tracker.moodle.org/browse/MDL-67989 for more information,
    once that is solved, we'll revert this, proceeding with #21

commit af8ad051bb76536d9c97201428aea30927d80383
Merge: b0f1332 4171a80
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Dec 28 11:43:39 2019 +0100

    Merge pull request #20 from stronk7/bump_mariadb_102
    
    Bump MariaDB to 10.2 to fulfill Moodle 3.9 requirements

commit 4171a80b7d02d1fb8931e72d2e6217ee9f705a99
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Dec 28 11:21:25 2019 +0100

    Bump MariaDB to 10.2 to fulfill Moodle 3.9 requirements
    
    See https://tracker.moodle.org/browse/MDL-65809 for details

commit b0f1332755eb460d037da7c5f3bfa58f7029641c
Merge: 9832e97 c88ed81
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Dec 17 23:54:02 2019 +0100

    Merge pull request #19 from stronk7/disable_skiplangupgrade
    
    Disable skiplangupgrade

commit 9832e9799dcdc44b5ca0c4b2e10ce8d4effeac92
Merge: 8e2f14e 024baad
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Nov 16 18:32:38 2019 +0100

    Merge pull request #18 from stronk7/enable_skiplangupgrade
    
    runner: Set skiplangupgrade as part of on-sync period

commit 8e2f14ea7ef584d4550decdfd98a98dbeb2b5d42
Merge: fc97b3d 289f974
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Nov 16 18:32:02 2019 +0100

    Merge pull request #17 from stronk7/38_release
    
    runner: Add Moodle 3.8 version of the runner

commit c88ed81e6492b46c025027a312ab8177e976b628
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:58:34 2019 +0100

    runner: Unset skiplangupgrade after the on-sync period
    
    This is MR4 in the [release
    process](https://docs.moodle.org/dev/Release_process#1_week_prior)
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 024baade98f99dd50b0b5ed5d00e741947547d88
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:55:14 2019 +0100

    runner: Set skiplangupgrade as part of on-sync period
    
    This is MR3 in the [release
    process](https://docs.moodle.org/dev/Release_process#1_week_prior)

commit 289f974d4b0f03950aaf680ae25d4057d1972653
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:52:09 2019 +0100

    runner: Add Moodle 3.8 version of the runner

commit fc97b3d368d29e42e13ef9352916a7de5f8e336f
Merge: 66cc4a1 0e40fe4
Author: Jun Pataleta <jun@moodle.com>
Date:   Mon Oct 14 15:39:19 2019 +0800

    Merge pull request #16 from stronk7/images_summary
    
    Show the creation date and hash/digest of involved images in a run

commit 0e40fe4bd76a45823b3d86adaa66345db200f175
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Oct 11 22:19:55 2019 +0200

    Show the creation date and hash/digest of involved images in a run

commit 66cc4a1261a82a6545bf86bff291c10105d60cf4
Merge: 716f333 a713c0c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:28:41 2019 +0800

    Merge pull request #14 from stronk7/enable_mongodb
    
    Enable mongodb

commit 716f333ace352e73425c12fcb025b430159c1f5c
Merge: 148a3af b3b185b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:28:18 2019 +0800

    Merge pull request #13 from stronk7/enable_memcached
    
    Enable memcached

commit 148a3af6a304889982e4f3061fe32af60d4cf055
Merge: 8e6d745 4881af9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:27:38 2019 +0800

    Merge pull request #12 from stronk7/enable_solr
    
    Enable solr

commit 8e6d745e7be5718d66ba54f6acf6a90e5e911cf2
Merge: dac6a76 d96d7cf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:27:16 2019 +0800

    Merge pull request #11 from stronk7/more_reliable_scriptpath
    
    Make the detection of SCRIPTPATH more reliable

commit dac6a762a73bbd601034304127d85a7953df3aad
Merge: b457662 1fe8710
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:26:11 2019 +0800

    Merge pull request #6 from sarjona/runner-appversionvar
    
     runner: Add support to MOBILE_VERSION and PLUGINSTOINSTALL settings

commit a713c0c137ff60db3c14e9546a60c2418994b135
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 18:50:14 2019 +0200

    Add support for mongodb tests

commit b3b185b648b3a93986b28156291c14a02bc294c1
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 17:04:54 2019 +0200

    Add support for memcached tests

commit 4881af9997f1da4c4c6413399c4275328bdcd7b8
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 16:23:25 2019 +0200

    Enable back solr, it's working with all php images

commit d96d7cf61205fccdfc62e23ac9db1792c7880abc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 13:56:20 2019 +0200

    Make the detection of SCRIPTPATH more reliable
    
    So it can be executed from other scripts, or aliased...

commit 1fe871046e5402d5b2b47806e1071c5f355f9005
Author: Sara Arjona <sara@moodle.com>
Date:   Fri Sep 20 17:31:54 2019 +0200

    runner: improve PLUGINSTOINSTALL and MOBILE_VERSION support
    
    Some improvements have been added, following Andrew's suggestions:
    - If the MOBILE_VERSION is not defined, the moodlemobile docker
    container won't be executed.
    - Instead of creating a temporary folder for the plugins, a new
    setting, PLUGINSDIR, has been added. By default they will be
    downloaded to $WORSPACE/plugins.
    - Those new settings have been added to the README.md

commit 44c4e60038cb731a694fda364a6d9731933e128b
Author: Sara Arjona <sara@moodle.com>
Date:   Fri May 31 12:28:21 2019 +0200

    runner: Add PLUGINSTOINSTALL variable to install external plugins

commit d5ebe8cb8fbfc6a122d572916f8f8bdc52aac9b0
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 16:19:14 2019 +0200

    runner: Add MOBILE_VERSION variable to define the app version to run @app tests

commit b9dcf77fe75a19a1733b01ed7d7605680783b020
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 17:00:39 2019 +0200

    Unpin mobile once that breaking tests are removed (MDL-65869)
    
    This reverts commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f.

commit af3943120701d2532177723c2e7afc79f6e4bd65
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 16:57:36 2019 +0200

    Enable back Redis session tests for PHP 7.2 and up
    
    This reverts commit f36e8081c50dfa7342b9e91736c1febeeedebbd6.

commit fabe6dea67da25f01ccffd38788d3bd7e8d5305f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jun 12 09:08:01 2019 +0800

    Temporarily ping mobile to 3.6.1 until failing tests removed

commit b4576622ce3efd624698ac0bc11b3a576a81b975
Merge: 348685d 51ff441
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 12 21:33:01 2019 +0800

    Merge pull request #10 from stronk7/unpin_mercury
    
    Unpin 3.141.59-mercury and allow any new 3.x release to be used

commit 51ff44139da1fe952fcde88a21579fc1f658957c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Sep 11 16:46:05 2019 +0200

    Unpin 3.141.59-mercury and allow any new 3.x release to be used
    
    With MDL-66378 and, specially, https://github.com/moodlehq/php-webdriver/pull/1
    we can continue using Chrome >= 76 because we are enforcing the
    use of the legacy JsonWire protocol (instead of the default W3C one).
    
    So it has been agreed that we'll allow any 3.x new release to be used in
    order to detect problems earlier (we always can pin again if needed).

commit 348685d0918ea2d5c9ff2f0d4eb2bd49644499d2
Merge: bb20f2c 5779fe2
Author: Adrian Greeve <abgreeve@gmail.com>
Date:   Tue Aug 20 14:41:29 2019 +0800

    Merge pull request #8 from moodlehq/revert-7-chrome_unpin
    
    Revert "Revert "Moving away from 3.141.59-neon coz it's causing problems""

commit 5779fe24d006ca3f1acc8f2dcc5b6919c279bda7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Aug 20 14:38:15 2019 +0800

    Revert "Revert "Moving away from 3.141.59-neon coz it's causing problems""

commit bb20f2cd499f008116fab9a7c47472712e93c84b
Merge: 3fb9dc6 9443e85
Author: Adrian Greeve <abgreeve@gmail.com>
Date:   Tue Aug 20 14:31:09 2019 +0800

    Merge pull request #7 from moodlehq/chrome_unpin
    
    Revert "Moving away from 3.141.59-neon coz it's causing problems"

commit 9443e85a1bfff80333288626fd353769b72392b9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Aug 14 13:48:49 2019 +0800

    Revert "Moving away from 3.141.59-neon coz it's causing problems"
    
    This reverts commit 1bda1c27f698e5a96180836b59b19f254b5fbd58.
    
    Fixed by way of MDL-66378.

commit 3fb9dc6c5ae6268357a22b6e057aaa3e872f736d
Merge: 2d13771 0b953ee
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 28 06:40:00 2019 +0800

    Merge pull request #5 from stronk7/redis_session_tests_are_back
    
    Enable back Redis session tests for PHP 7.2 and up

commit 0b953eecf390263e561d9efc1918e33fbebcc1c1
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 17:00:39 2019 +0200

    Unpin mobile once that breaking tests are removed (MDL-65869)
    
    This reverts commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f.

commit f161c4ecb848b52728c073702624949cb0f887a5
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 16:57:36 2019 +0200

    Enable back Redis session tests for PHP 7.2 and up
    
    This reverts commit f36e8081c50dfa7342b9e91736c1febeeedebbd6.

commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jun 12 09:08:01 2019 +0800

    Temporarily ping mobile to 3.6.1 until failing tests removed

commit 97d40fe45eef9cda9dee4332200927c763b92a0d
Merge: f27d127 318e84b
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri May 31 09:51:04 2019 +0200

    Merge pull request #4 from sarjona/runner-fix-local
    
    runner: Avoid local network collissions

commit 318e84bdc11f66f6d6e8e25505bb942b9029fb86
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 14:39:49 2019 +0200

    runner: Avoid local network collissions

commit f27d127197acb4976a71c2638e21c29d1c5afed8
Merge: c18d21c 70ca27d
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu May 30 22:58:37 2019 +0200

    Merge pull request #3 from sarjona/readme-revision
    
    README: Update themes and add some extra parameters to the doc

commit 70ca27d7b8d7f036c7dffc2f7b9c31abf3fdc302
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 13:58:13 2019 +0200

    README: Update themes and add some extra parameters

commit c18d21c6d38431ca134be6732ebc88a942f02157
Merge: 551b15d ead8faf
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat May 25 00:03:25 2019 +0200

    Merge pull request #2 from andrewnicols/mobiletesting
    
    runner: Add Ionic testing

commit 551b15d59f7c81d26c7838621a9265bd9ca3a0cb
Merge: 2941637 f7078a4
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri May 24 23:55:36 2019 +0200

    Merge pull request #1 from andrewnicols/37_endonsync
    
    runner: Unset skiplangupgrade for end of on-sync period

commit 2941637e67830cef6334ebe3d0da8658828f8323
Author: Mark Johnson <mark.johnson@open.ac.uk>
Date:   Wed Mar 27 09:25:01 2019 +0000

    Add support for increased behat timeout

commit ead8faf6168cc7ae7f4d894827f49a4391cb6d7e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 31 06:53:45 2019 +0800

    runner: Add Ionic testing

commit f36e8081c50dfa7342b9e91736c1febeeedebbd6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 20 22:50:53 2019 +0200

    Disable Redis session tests for PHP 7.2 and up
    
    See MDL-60978 for more information.

commit 8bbcbf0a05c15b15c96d8b743b50c4919f46bb80
Merge: 19fe0f5 6c7dbaf
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun May 19 18:17:43 2019 +0800

    Merge branch '37_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!29

commit 19fe0f5e4cbb50e7de1a870b308919a8d29b4688
Merge: 1bda1c2 fb50503
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun May 19 18:17:29 2019 +0800

    Merge branch '37_release' into 'master'
    
    runner: Add Moodle 3.7 version of runner
    
    See merge request integration/nightlyscripts!28

commit f7078a46484f9b417e33189d7c4ba8ed1df461eb
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:39:57 2019 +0200

    runner: Unset skiplangupgrade for end of on-sync period
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 6c7dbafd94bdf22132ad0d032150079aefeacd98
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:37:21 2019 +0200

    runner: Set skiplangupgrade as part of on-sync period

commit fb50503ce89e26378204c92930821fcbb6fe4829
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:32:59 2019 +0200

    runner: Add Moodle 3.7 version of runner

commit 1bda1c27f698e5a96180836b59b19f254b5fbd58
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Apr 30 16:06:14 2019 +0200

    Moving away from 3.141.59-neon coz it's causing problems
    
    So we are now explicitly using 3.141.59-mercury, from 1 month
    ago that was working till neon arrived (6 days ago). That is
    leading to lots of "invalid session id" errors leading to the
    re-execution of complete jobs (almost 2X execution time)

commit 1c626b647730aca6682147dd7006c177a817c696
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 20:21:57 2019 +0200

    Avoid colors that look horrible (escape seqs) in some clients (take#3)

commit 113c847885ab29bd232060a435f71c35c8c92b7c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 20:14:20 2019 +0200

    Avoid colors that look horrible (escape seqs) in some clients (take#2)

commit d4e30b6abee5fb15c0bcf19639a309ba5e78fa12
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 18:59:32 2019 +0200

    Avoid ansi colors that look horrible (escape seqs) in some clients

commit ed1604b7fa7ad04c4533106419dc500d849c5ea8
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Apr 11 02:18:45 2019 +0200

    Add support for individual features/scenarios (--name)
    
    Also fix some small details, like 1-parallel, reruns and
    some old selenium version.
    
    Finally, note that the --config parameter requires to use
    this syntax:
    
    --config path/to/behat.yml
    
    and doesn't work with
    
    --config path/to/behat.yml
    
    Because of an annoying dependency built in core (MDL-65435). Once
    it's fixed, both syntaxes will work.

commit 39e2cb3eb3ee60056a40361e094227a7419d9a9f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Feb 18 15:05:37 2019 +0800

    runner: Bump chrome to 3.141.59

commit 674bf46278c225cd9507115c5f0344e2563a43ce
Merge: af3a800 a3398e0
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Feb 12 22:57:21 2019 +0800

    Merge branch 'mdlsite-5669' into 'master'
    
    runner: Update oracle image to moodle-db-oci
    
    See merge request integration/nightlyscripts!26

commit a3398e06b56964da1e88645bb7914953e1e99b9c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 12 15:11:55 2019 +0800

    runner: Update oracle image to moodle-db-oci
    
    Fixes MDLSITE-5669

commit af3a8009a6869929e4a67e3c0dbbec46d60465b4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 31 10:11:42 2019 +0800

    Marionette option is for Firefox only

commit d9431cd102f2d1078a2d149417f53933cd3fd48d
Merge: 16b748d c00a229
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu Jan 31 07:20:05 2019 +0800

    Merge branch 'ff_selenium_upgrade' into 'master'
    
    runner: Switch to MoodleHQ selenium image
    
    See merge request integration/nightlyscripts!25

commit c00a229752f41e8dcb1bbebe46dfd111b1c0735e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 12 13:11:52 2018 +0800

    runner: Switch to MoodleHQ selenium image
    
    This image uses a newer version of Selenium, disabling Marionette, but
    the old version of Firefox.
    
    It appears to be more stable than the images we've been using to date.

commit 16b748d2dc729d334c5c5479d121a5ac101fa011
Merge: dd82982 12e1904
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sat Jan 12 20:32:07 2019 +0800

    Merge branch '36_endonsync' into 'master'
    
    runner: Unset skiplangupgrade for end of on-sync period
    
    See merge request integration/nightlyscripts!24

commit dd82982330eed22998a14de9ea8152a9654c0cbd
Merge: 40df230 0c5102c
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun Dec 2 08:20:38 2018 +0800

    Merge branch '36_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!23

commit 40df230cbc64075c384aabfacf806f4f6cf2d080
Merge: 5b37b3f a606c9b
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Fri Nov 30 12:03:28 2018 +0800

    Merge branch '36_release' into 'master'
    
    runner: Add Moodle 3.6 version of runner
    
    See merge request integration/nightlyscripts!22

commit 12e1904875f7497febccff6ee96d813ae2cc2d40
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:52:55 2018 +0100

    runner: Unset skiplangupgrade for end of on-sync period
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 0c5102c821211fa901a9273fecb32da7a8f09b3d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:51:27 2018 +0100

    runner: Set skiplangupgrade as part of on-sync period

commit a606c9b728892022682bfab1a9465f1e813c5947
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:49:02 2018 +0100

    runner: Add Moodle 3.6 version of runner

commit 5b37b3f915313c132299319a1ddf23c8e2cf6916
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 10 12:17:31 2018 +0800

    Revert "runner: Remove suite from behat run command"
    
    Unfortunately I have no idea why I wrote this change.
    The -a=[theme] should work, but does not.
    
    This reverts commit aeafe7d70fce06edd1e1da3137fbf0f857c47b7f.

commit 4aa09c8c19163d2752d2a977cb94b56cb174b4f8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 10 12:17:29 2018 +0800

    runner: Add pathtosassc

commit aeafe7d70fce06edd1e1da3137fbf0f857c47b7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Sep 5 09:37:25 2018 +0800

    runner: Remove suite from behat run command

commit 054d655920b0ce49eb426c6b1f8cc0b87423fc2c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 11:26:00 2018 +0800

    runner: Disable SOLR for now :(

commit a1ff178fa83b8b0710ddf7d6395049610fdbf340
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 09:32:12 2018 +0800

    runner: Add redis to tests

commit e75774849038c688f8cb1f27310d601cf1ebea3d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 09:31:38 2018 +0800

    runner: Add solr to tests

commit 022c84006b6d3ece8a297823d8341e4ed5c1761f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 08:38:54 2018 +0800

    runner: Attempt to seed with cached composer.phar

commit 1cba58a03a674c3e77dd333c9c114b1461a703dc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 12 15:55:24 2018 +0800

    README: Move to project root

commit 00599ef9016ded2f3d535118eb52ade77f568cac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 12 15:55:08 2018 +0800

    runner: Add CODEDIR to readme

commit eb57951e64c8999624097e39d4fd31f654a0d084
Merge: 54a1141 2bd6d1b
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Jun 6 23:33:18 2018 +0800

    Merge branch '35_endonsync' into 'master'
    
    runner: Unset skiplangupgrade for end of on-sync period
    
    See merge request integration/nightlyscripts!18

commit 54a1141bd1f89323a91cb16a454e00a598de4fa0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 31 07:52:51 2018 +0800

    runner: Add default for timing filename

commit 0f8818d02dc8cf405ba4974ae1fe5de2301369e9
Merge: b5c4448 de1d2ff
Author: jun <jun@moodle.com>
Date:   Mon May 28 12:01:22 2018 +0800

    Merge branch 'useTiming' into 'master'
    
    runner: Use behat timing files
    
    See merge request integration/nightlyscripts!21

commit de1d2ffe9151d09034657292ba0c9433b5de1abf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat May 26 09:29:18 2018 +0800

    runner: Use behat timing files

commit b5c44488a857d2148efa34274c685b482b0ded7e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 18 18:14:41 2018 +0800

    runner: Move path to subpath
    
    The /var/www directory is owned by root.
    In 31 we simply append a run number to the behatroot directory - i.e.
    /var/www/behatdata1
    
    In 32 we create them in a subdirectory - i.e.
    /var/www/behatdata/behatrun1
    
    When running as www-data, the user does not have access to create the
    behatdata1 directory.
    
    The previous attempted fix was to add a slash:
    31  - /var/www/behatdata/1
    32+ - /var/www/behatdata/behatrun1
    
    However, the trailing slash seems to cause issues in core in some
    sitautions - specifically the re-run of the test.
    
    This fix, tested on 31, and master with a failing test changes the
    directorty further such that the behat data directory is
      /var/www/behatdata/run
    This makes the new run directories:
    31  - /var/www/behatdata/run1
    32+ - /var/www/behatdata/run/behatrun1
    
    Both of these are acceptable as the www-data user has the required
    permission to create new directories for the run in the subdirectory.

commit 41fb3e3952ad053082cf48b545b9e2a714e0d976
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri May 18 18:33:52 2018 +0200

    Get rid of the extra slash, seems to be causing problems in >=32.
    
    But keep the chown covering the whole /var/www/* to see if that's
    enough for 31. Or at least to keep everything working but 31.

commit b35f21ab4d3f8e6db0dbf108fb50e4141d609a0c
Merge: 4c3d350 34a14dc
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Fri May 18 08:29:14 2018 +0800

    Merge branch 'ocibump' into 'master'
    
    runner: Bump OCI timeout
    
    See merge request integration/nightlyscripts!20

commit 4c3d35069b33c8025694633ae85d8c55a463f1a5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 18 07:44:26 2018 +0800

    runner: Correct rerun path for 31

commit 34a14dceac2921d1cf7cd926be585b860112b0ea
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 14:46:41 2018 +0800

    runner: Bump OCI timeout

commit c9ce81e560cea4e3721c08c9aead8a8bb9f6dcc2
Merge: 0bb2ac5 8ac11f8
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Thu May 17 14:39:49 2018 +0800

    Merge branch 'behatfix' into 'master'
    
    runner: Add fix for behatdata on 31
    
    See merge request integration/nightlyscripts!19

commit 8ac11f8e74a159a0027cb12eb948a94ea790ba6c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 14:00:14 2018 +0800

    runner: Add fix for behatdata on 31

commit 0bb2ac5264561a47be9ac68c303b07f20b9c57f7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 13:33:35 2018 +0800

    runner: Chown with group

commit 7f1b4c87b603cf3bf7be1e971e4405e82cd63738
Merge: 405c773 53614eb
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:32:11 2018 +0800

    Merge branch 'runaswwwdata' into 'master'
    
    runner: Run behat as www-data
    
    See merge request integration/nightlyscripts!15

commit 405c7739d0b92095c738d386ecd7e4f059557edd
Merge: 387fe98 4b866ad
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:31:42 2018 +0800

    Merge branch '35_release' into 'master'
    
    runner: Add Moodle 3.5 version of runner
    
    See merge request integration/nightlyscripts!17

commit 387fe98f3bbab96df64377f69a43bca3e9a5d837
Merge: 6033840 4a886f4
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:31:23 2018 +0800

    Merge branch '35_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!16

commit 2bd6d1b63c16e4097dc254c007bdb4de592336bd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:59:06 2018 +0800

    runner: Unset skiplangupgrade for end of on-sync period

commit 4b866ad334144dda7bfa17817d8b7fe353598afa
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:46:36 2018 +0800

    runner: Add Moodle 3.5 version of runner

commit 4a886f415932418b42fce39ca4cb3f6eff4c80ca
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:41:11 2018 +0800

    runner: Set skiplangupgrade as part of on-sync period

commit 53614eb42297c8cac8caeee7f6feac4c1ab16eba
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 9 08:21:18 2018 +0800

    runner: Run behat as www-data

commit 6033840d3183e33d6af984b358a24c987250feaf
Merge: 9d25a09 2261c5e
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Mon May 14 13:19:04 2018 +0800

    Merge branch 'chownfix_again' into 'master'
    
    runner: Behat has a different datadir
    
    See merge request integration/nightlyscripts!14

commit 2261c5eefa591503bcd47d4ea1fbf4c4ff6917e7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 14 13:18:28 2018 +0800

    runner: Behat has a different datadir

commit 9d25a09583686a7e8aca6f77cd394f90e1f841d0
Merge: dfe3af4 74d8e1f
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Fri May 11 23:21:15 2018 +0800

    Merge branch 'fixchown' into 'master'
    
    runner: Fix bad bashism
    
    See merge request integration/nightlyscripts!13

commit 74d8e1f1b73c8868622ab6d945878c993eb4df3f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 11 23:16:22 2018 +0800

    runner: Fix bad bashism

commit dfe3af4f20b50d1ecadacb30388e7f8e43e2f15c
Merge: 65f3858 8b56620
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue May 8 07:26:08 2018 +0800

    Merge branch 'chromebump' into 'master'
    
    runner: Bump chrome selenium to 3.11.0-dysprosium
    
    See merge request integration/nightlyscripts!12

commit 8b56620b8650c48889ba9d7df840ab8715eb034e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue May 8 07:06:37 2018 +0800

    runner: Bump chrome selenium to 3.11.0-dysprosium
    
    Selenium version 3.11.0-dysprosium (rev e59cfb3)
    Chrome version: 66.0.3359.117
    ChromeDriver version: 2.38.552522

commit 65f3858a655d83b76fbef2c14fcbe8a5489436f8
Merge: 11f0175 6d7e753
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Sat May 5 12:13:43 2018 +0800

    Merge branch 'selspread' into 'master'
    
    runner: Fix parallel runs to use own sel
    
    See merge request integration/nightlyscripts!11

commit 6d7e753f6d35148afc34a6800f119529d725b702
Author: Mark Johnson <mark.johnson@open.ac.uk>
Date:   Fri May 4 22:14:56 2018 +0800

    runner: Fix parallel runs to use own sel

commit 11f0175f567ec57cb08a6b94db96ae79dcaf42fc
Merge: 922c2b2 15afb3c
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 3 17:16:35 2018 +0800

    Merge branch 'chown_after_init' into 'master'
    
    runner: Chown after behat init
    
    See merge request integration/nightlyscripts!10

commit 15afb3cf686248b16a682fefa00e0730250bbe46
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 3 08:08:52 2018 +0800

    runner: Chown after behat init

commit 922c2b20532fac6258026d7d408aca705ef8e1c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Apr 20 12:58:58 2018 +0800

    runner: Extend oracle wait period to 2 mins

commit 4001447d0a615e6348920f5595ba6255127eec16
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Apr 20 12:49:25 2018 +0800

    runner: Correct variable usage

commit 9ea358d3f8934564aa3340ffbaaceec2a3b9fe4e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 09:21:56 2018 +0800

    Revert "runner: Remove wd config from behat_profiles"
    
    This reverts commit e0c4f72be58daddb5d092bca884ebdc866adb574.

commit 116f8f3e6a80409de9398cc23ebb4a5300dd8e4f
Merge: 8269a04 e0c4f72
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Apr 18 08:39:58 2018 +0800

    Merge branch 'selbrok' into 'master'
    
    runner: Remove wd config from behat_profiles
    
    See merge request integration/nightlyscripts!9

commit e0c4f72be58daddb5d092bca884ebdc866adb574
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 08:34:48 2018 +0800

    runner: Remove wd config from behat_profiles

commit 8269a046fcb2855229fc4775c2aea15b0bfe4946
Merge: 960a332 235b954
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Apr 18 07:09:03 2018 +0800

    Merge branch 'oracle_async' into 'master'
    
    runner: Disable async IO on Oracle
    
    See merge request integration/nightlyscripts!8

commit 235b9546035d4f994b858a59209b4a9e049f5eb8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 07:07:23 2018 +0800

    runner: Disable async IO on Oracle

commit 960a332b17a56b5d28753947f7ff93bcbb985f44
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Apr 17 11:25:00 2018 +0800

    runner: Add support for running a single testsuite

commit 7ed139975968fbf64273d230cfbfaec1d41e2b22
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Mar 20 15:58:34 2018 +0100

    Fix for !7, make MOODLE_VERSION global

commit b9943cf42d2237c53cfa8f072374f92c63012a27
Merge: 2f884bd 7839b8a
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Tue Mar 20 20:46:36 2018 +0800

    Merge branch 'no_fail_on_risky_for_31' into 'master'
    
    --fail-on-risk is not available before phpunit 5
    
    See merge request integration/nightlyscripts!7

commit 7839b8a9c9ff06fadddf30c881380bb5a623bc87
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Mar 20 11:43:08 2018 +0100

    --fail-on-risk is not available before phpunit 5
    
    Hence, don't use it for <= 31.

commit 2f884bdcb0baca67e82ad92c93aa7d8b39912eac
Merge: e983eeb 2c08619
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Mar 20 08:43:17 2018 +0800

    Merge branch 'failonrisky' into 'master'
    
    [runner] Fail on risky tests for phpunit
    
    See merge request integration/nightlyscripts!6

commit 2c08619df1d206805f406af51f2bd13f2f82c89f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Mar 20 08:36:12 2018 +0800

    [runner] Fail on risky tests for phpunit

commit e983eeb08d9e7c217f023ed6f63ea43161a19630
Merge: 934f0de 32fb897
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Tue Mar 20 08:02:05 2018 +0800

    Merge branch 'makes_test_output_risky' into 'master'
    
    Be strict about tests output. Mark them as risky.
    
    See merge request integration/nightlyscripts!5

commit 32fb8972f26b1c7e8c492cf80c465a2d8f1bc0cf
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Mar 19 20:24:38 2018 +0100

    Be strict about tests output. Mark them as risky.

commit 934f0de142b53c39eb6ec67b14964ce731ea55bb
Merge: 10d69ae 1239517
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Mar 6 00:53:23 2018 +0800

    Merge branch 'pin_pg_967' into 'master'
    
    Pin postgres to 9.6.7 because 9.6.8 leads to DDL failures
    
    See merge request integration/nightlyscripts!4

commit 1239517482c1cafdf33cdf715afce4920ab9d219
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Mar 5 17:51:19 2018 +0100

    Pin postgres to 9.6.7 because 9.6.8 leads to DDL failures
    
    See https://github.com/moodlehq/moodle-docker/pull/77

commit 10d69ae85da03dab502430e8dbc01c1dff7b79ac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 16 09:22:53 2018 +0800

    [runner] Add copyright information

commit c07c5a379e6cbb1f77b43bef5267eadc50d2391e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 16 09:21:22 2018 +0800

    [general] Archive old nightly scripts
    
    The Old Nightly Infrastructure is dead.
    
    Long live the Old Nightly Infrastructure.

commit 6c097c30eda6441ef66034d8f97b4bc5568ac769
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 6 08:35:59 2018 +0800

    [runner] Correct exitcode for phpunit
    
    This was a fault after the introduction of loops which meant that the
    true exitcode was overwritten.

commit b1b19e4d9a97610dc643e44785cb504ff9866b83
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 6 08:31:18 2018 +0800

    [runner] Add README

commit dd730f31a1a083b2dd51716c01454012d40b1092
Merge: e14c18c eb71f3f
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Mon Feb 5 23:35:21 2018 +0800

    Merge branch 'rajagain' into 'master'
    
    [runner] Switch back to raj images
    
    See merge request integration/nightlyscripts!3

commit eb71f3f9e824bc4891fafd71743586276272f08e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Feb 5 17:31:28 2018 +0800

    [runner] Switch back to raj images
    
    Raj's image seems to have some magic which is not present in the
    Selenium official image, though they appear nearly identical.
    
    This change backs out the hub change and instead uses the
    behat_parallel_runs to setup WD config as appropriate for both Firefox
    and Chrome.

commit e14c18c8bfb8948b0a77b0439580ff882d3f8f9d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Feb 5 13:05:47 2018 +0100

    Get rid of incorrect version and browserVersion caps

commit 32aeae46f8bbee9c16e65473b50e34f33dede2bc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat Feb 3 17:16:16 2018 +0800

    [runner] Save web server logs to file

commit 57e69aae4d08b55ebb2b1f87dffc661753588f38
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 11 15:43:59 2018 +0800

    runner: Use selenium grid with selenium per run

commit 659416237cc13a1626bf7c1a12028ab537b16b3c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 23 13:47:18 2018 +0800

    runner: Do not quote junit path - it tries to write to quote

commit 758be2e0cbf999c04b09a1815e7aaf4982708ff7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 22 13:49:18 2018 +0800

    runner: Add debugging to behat init and run

commit e9c897a76454ae6fd1d28c6a38bea292da994ada
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 16 15:35:17 2018 +0800

    runner: Switch to raj image
    
    Looking to try and remove differences between old and new.

commit d335319a094e17e30534e2773904da70261b1597
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jan 12 15:13:10 2018 +0800

    runner: Assign shared mem to Oracle

commit e2bd778180ecb0ab90cc30284d64945bc7cd0109
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jan 12 10:16:51 2018 +0800

    runner: Adjust how shared memory is allocated to selenium
    
    This is after changes to the recommendations from Selenium in their
    Docker README.md.
    
    They are now suggesting allocating shm to all browsers, not just Chrome
    as they previously suggested.
    They're also suggesting that you can use --shm-size instead of mapping
    /dev/shm which seems like a cleaner approach.

commit d457b833b2913bcf6f2a87186d5ac86f683446c3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 11 13:50:40 2018 +0800

    runner: Switch to Chrome + Selenium 2.7.1

commit d762de8ab7d76702a4eecd4519d4bd589f05393b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 10 13:35:25 2018 +0800

    runner: Support iterations

commit ca84659acbaf2cb3cc6a670ba2e164bde923ad85
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 10 12:24:48 2018 +0800

    runner: Switch to chrome + selenium 3.0.1 as per matrix

commit 9e1fcbdde3ffe13f77bdf2fbf49620976706cb40
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 8 08:10:05 2018 +0800

    runner: Add PHPUnit LDAP tests

commit 2d0e661a1ff80ec61582f0cdae7a4b263e66eb84
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 4 15:05:35 2018 +0800

    runner: Do not expose the selenium port

commit dcc244ccf400c471ddfc6239b773ecf0c10539e5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 2 10:36:14 2018 +0800

    runner: Make cachedir easier to fudge

commit ebcbd526ec20467d3e91e6ad89ac00aac3c1f3ba
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 2 10:20:43 2018 +0800

    runner: Add support for tags

commit 3d59a431fc8f74110923aea81482357a471a6e7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 19 11:30:23 2017 +0800

    runner: Correct variable name

commit 3c5e0da017857ad87938f004175ba880e9050815
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 19 10:44:25 2017 +0800

    runner: Chown workspace files at end of job

commit ba0da291e4ef4b69b4eac6215c0e492810027745
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 18 08:59:23 2017 +0800

    runner: Create nightly network

commit 1f8a3fd4e4eb1c477dcead9f59e7992e72e7b111
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 12 17:15:21 2017 +0800

    cron: Add slave script

commit 0294f7f31a650883c1b9ac2f64e8d5ac55fc2265
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 12 17:04:50 2017 +0800

    start_slave: Add slave starter script

commit 8f38704794db6efa3c1439507b612f6b31965d74
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 15:20:29 2017 +0800

    runner: Correct image name for exttests

commit ffd54a51b2343502a4e5411a1227f5b685c7f4bd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 15:01:27 2017 +0800

    runner: Correct variable name

commit dcaf5ef44faef63417eb796d10d11b3d95ea4bbb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 14:17:35 2017 +0800

    runner: Use external tests
    
    This makes use of the external testing URL now that MDL-60948 has
    landed.

commit 41b7738b0f9a6680ab401c772401171f9dd943a9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:53:46 2017 +0800

    runner: Sleep longer before starting postgres tests

commit ed533cc1bc1ec83fb37fc9245c33520ae8cf9afb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:46:49 2017 +0800

    runner: Syntax fix

commit 15e581022cd5d383d21a018f727347c95b6e3371
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:05:04 2017 +0800

    runner: Handle ALL suites condition for behat

commit 71693c14d9e7f5259a5b7690e891f4fb8e6d0d9d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:02:28 2017 +0800

    runner: Do not normalise mssql to sqlsr
    
    We need to be able to test these individually on 31, and 32.

commit 15b5fa8f18a391cfca88dc73cdb3033a3a5ec05d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Dec 10 11:41:01 2017 +0800

    runner: Correct PHP_VERSION specification

commit 4343f4c23db1584cc19d7096bd47ab081e1a40be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 12:51:15 2017 +0800

    runner: Add back to job summary

commit a4bc164aa3ad2262298120dbbdbd9bcaa49252f9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:44:59 2017 +0800

    runner: Move DB summary to ensure correct info

commit f936648da2f9c35aee8fb1893efd3bbccc6d9ecb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:44:45 2017 +0800

    runner: Use variables for DB creds

commit 7ca3b1ed438053da2c4ca2b3a3c93b3cc9d17957
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:43:54 2017 +0800

    runner: Correct Oracle init

commit 98ce1bc9347275f8626e44a0d5c66b899e179beb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 09:31:43 2017 +0800

    runner: More delimiter fixes

commit d2c7c9e6fe18df9c58b78b4d2c26fbf7eeb3f8a2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 09:21:09 2017 +0800

    runner: Improve section delimiters

commit 489254179dacc5f24e3a6c436f2baa1b4abfe805
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 08:59:13 2017 +0800

    runner: Correct behat init for alternate suite

commit 6ec6ba172a213b10bc1ca10390d0abea1631e0d3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 12:29:50 2017 +0800

    runner: Add markers or console collapse

commit eefb24f88dbedd818c9061d7c71316c1461b7729
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:52:39 2017 +0800

    runner: No need to drop if DB per run

commit 914135a8420407fddc12a5646f712a6d6712021c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:49:33 2017 +0800

    runner: Config belongs to version

commit ba4f4b32de8c1750031239cc2f7ca3c6c0ce10f3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:46:46 2017 +0800

    runner: Add more debugging info

commit d5bddc6c59fde7ddbddd748cc994b9f48f20af3f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 10:55:52 2017 +0800

    runner: Switch to versioned runners

commit e07804a002e5ccab15655672b60ed430a1abb123
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 10:11:27 2017 +0800

    run: Init database per run

commit bd4185f8d77ee19fb9140ad7afb220d642f23731
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:18:58 2017 +0800

    General: Tidy up all old files

commit 18b304a8103cce6071023a1fed4e91701016d07c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:15:32 2017 +0800

    run: Make 31-/32+ config changes clearer

commit bbd9f4720de9dc5904230a163496e544e562f4ab
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:14:51 2017 +0800

    run: Add clearer exitcode info

commit c5c601923acd98eb6a83b875f8d191592db2c4be
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Nov 27 00:04:58 2017 +0100

    config: 35 lang packs available, disable $CFG->skiplangupgrade

commit a1aa6d14ea45c091b357d7b4bfd9060bf87a9c68
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 14:01:24 2017 +0800

    run: More tidyups

commit 277474ca21004edd5ed392646dd447b9ca62af64
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 13:56:13 2017 +0800

    run: Tidy up DB details

commit ac70cfde1eceb5f7225706b609461e393366ba1a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 13:43:09 2017 +0800

    run: Allow configuration of PHP version

commit affd3c837dcb2bcdb711f026f7ad4749920f1ccc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 07:59:11 2017 +0800

    run: Add new job runner

commit 7357e301394db5935acdb15b4d22d2101bd79aa2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 11:44:36 2017 +0800

    configs: Start of on-sync. Skip lang upgrade in cron.

commit e98400eab6abbefce75b9fc26dc8cfa0fb6baef7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 08:49:18 2017 +0800

    docker_run: Add configs from docker image

commit d3327c852165fbfe89cbac7d516db3fa2c330530
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Nov 14 09:28:53 2017 +0800

    exttests: Add HTTP ext tests repo

commit e347a8389df0cdd48924d8ddd89e8593c87bbe9e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:59:41 2017 +0800

    docker_run: More interpolation fixes

commit dd5b6bdbc9da895a304212f979ae77b58c2b0a73
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:53:01 2017 +0800

    docker_run: More interpolation fixes

commit 9924855316b68a98a07835201bd99cf893b33148
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:42:03 2017 +0800

    docker_run: Typo fix

commit 028c4fa484b7f01ffef3f0e71284c5b1fffeaf91
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 12:38:23 2017 +0800

    docker_run: Quote MOODLE_PATH

commit 782b8a2f6ff8591729e9d46a0528dd6a79dfb76b
Merge: e6afa68 2041c1f
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Mon Nov 13 12:23:12 2017 +0800

    Merge branch 'dockerdb_34' into 'master'
    
    dockerdb: Add branches for 34 release
    
    See merge request integration/nightlyscripts!1

commit 2041c1fb344f979721087fc0d4d762b89427cdfd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 12:05:49 2017 +0800

    dockerdb: Add branches for 34 release

commit e6afa686e23c506b5d3448350668d14491ef6723
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 11:44:36 2017 +0800

    configs: Start of on-sync. Skip lang upgrade in cron.

commit bd26b5c923b10773a31e393feac6d97f183c2562
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 8 08:43:54 2017 +0800

    dockerdb: Switch to 2017-GA
    
    This change is now possible as we've switched to use of the overlay2
    docker storage driver.

commit 5bf9826b4f352bf69aff28dda1bd535f6dcf1a14
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:23:30 2017 +0800

    cron: Correct cron format

commit f71fed4d803e791ae3ed1b45a2c9609ceadc80c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:20:34 2017 +0800

    dockercleaner: status = exited

commit cf36cefc225bc6d9351a8ce93ffaeede6800b674
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:18:03 2017 +0800

    cron: Add daily job for dockercleaner

commit b368011028618e584312eac655ec14d27c2e4212
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:12:51 2017 +0800

    dockercleaner: Make this not suck

commit 934e3a853c1c4ec2ce28a50b77a6387642a2d5be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 11:42:52 2017 +0800

    docker_run: Quote MOODLE_PATH

commit b772068b5ce55a7d8ea1931c0fda53c9ce20303a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 10:11:35 2017 +0800

    dockerdb: Switch to use moodlehq image

commit ee752cb4065fbd161b25d844aeffeb2d6506796c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 10:11:26 2017 +0800

    dockerdb: Add DB for php71

commit b11856d97e7200cd1a133e4f685513a179ba6b34
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:35 2017 +0800

    dockerdb: Stop mapping ports.
    
    Welcome to a pure docker world. No more bare-metal builds to have
    headaches with.

commit ca1bfc0f27ecc8a88b7650daf4ab24cb0cb31d75
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:16 2017 +0800

    dockerdb: Add dbs for master

commit 4f9f95d93046607e93c6e996477946e2389d2f70
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:06 2017 +0800

    dockerdb: Remove outdated docs

commit dfed5a9d2cb2eddc80c8b4d3824870c87f2980b2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Aug 3 12:00:55 2017 +0800

    dockerdb: Do not wait for docker DB starts

commit a87eb0e4242eb2acacf7e94950f2a0e6f177dd99
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 13:56:17 2017 +0800

    dockerdb: Correct DB name

commit 443787c7e0adce39a39b156d9a99a7940a1d6014
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 10:51:56 2017 +0800

    docker_run: Switch to official Chrome Selenium image
    
    The previous image we used had a broken commit for :latest, and the
    previous version was not readily available.
    
    I've switched to the official, standalone image.

commit e101af4ae0a5d023c04b6558120d385945efc9c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:15:27 2017 +0800

    dockerdb: Add new DBs for generic job usage

commit 4de9fb6d5c49cf9cf9d9aa53dbdf3e89a6443e62
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:15:06 2017 +0800

    dockerdb: Pin to Postgres:9

commit 6e525795a7366fe88e7ea2b647dc4208aac5f35d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:11:51 2017 +0800

    dockerdb: Improve help for dockerdb

commit 7f82cbcc91fdb5acf981df3729897a1fccca0080
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:59:00 2017 +0800

    dockerdb: Fix mariadb to version 10.1
    
    We don't have compatability with 10.2 (MySQL 8) yet.

commit 07379159cfece3d4927e1a4d31e04cf38576bb00
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:46:50 2017 +0800

    cron: Fix cron scripts
    
    These weren't working before because of a mix of ownership issues, and
    other stuff.
    
    I've changed this to a model of job and script for easier future
    maintenance.

commit a8c2b674f50c189ff4dbcd8f3a0237bbd7bad117
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:16:35 2017 +0800

    docker_run: Make docker stop more resilient, and stop removing container
    
    In some instances, the docker images were stopped and removed before the
    trap was hit. This meant that the test was subsequently failed because
    the container no longer existed.
    
    I've made it more resilient by looping over a list, rather than the
    common shorthand. I've also stopped removing the container because the
    removal means that we lose the logs too.

commit eedbd25f2d5b72d829d628190cf6697dadd22b81
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:14:52 2017 +0800

    dockerdb: Stick to sqlsrv:ctp2-1
    
    sqlsrv:rc1 is buggy and broken on some nodes.

commit 02c8e9ca341c4951d9adf439e2cf7473cc1ab8ae
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:41:33 2017 +0800

    maintenance: Correct file permissions

commit b77ec90f15f2bb6f4d6eda81b82eb7b57610a1fa
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:38:56 2017 +0800

    maintenance: Add config backup script

commit 2a85bdd3fe89bd51dbdb96ab98f7231ea5ae8119
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:29:15 2017 +0800

    docker_run: Add DB Prefix info to job summary

commit 72624fb9daf198d48d6ed70511234b8b30a76ce4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 10:32:39 2017 +0800

    docker_run: Clean up images correctly after run

commit bd0ccda93bb07cee55597838de58125d05dcd135
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 08:45:09 2017 +0800

    dockerdb: Add DB for T.01

commit 6abfeecbbf93d5cfd92bb23f0bc6865f7a6ab00f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 08:43:36 2017 +0800

    docker_run: Remove old MOODLE_BRANCH param

commit 704e0ee73f9121f1417228b8ce3d6c835d73019f
Merge: 9f40477 095784d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jul 24 13:16:04 2017 +0800

    Merge remote-tracking branch 'origin/named_jobs'

commit 095784dd8d5b2203268331411fc042fb98342e5d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat Jul 22 15:45:11 2017 +0800

    docker_run: Silence empty directory removal

commit eefe579c3b889c136cc15fff0eab25b33be9be86
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:38:19 2017 +0800

    docker_run: Run as $UID instead of jenkins

commit a8f964328b50cfa66d7d83d792976ed0c71056f4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:36:47 2017 +0800

    docker_run: Bindmount the composer cache
    
    Note: The images we currently use run as 'rajesh' because of UID
    matches.
    We need to solve this better.

commit ec440419e11dbaffee7c6965204ac52b3cdf7f93
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:36:17 2017 +0800

    docker_run: Stop running composer outside of docker

commit 9f40477e8fac197daf534b9e069ef9371ed2f0c7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:17:34 2017 +0800

    docker_run: Remove commented out code of yesteryear

commit c2793912e22de14e34c9b4c945389343fc19f7db
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:20:51 2017 +0800

    docker_run: Switch from linked image to named on-network image for selenium

commit 2ebbbf935327deaae0ed11e39deea90d1a50465e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:54 2017 +0800

    docker_run: Switch to uuid naming

commit f4c977987cb705453c661102ecc1db4271ac5b3b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:38 2017 +0800

    docker_run: Ensure docker is on a network

commit 24193e89122a6772bf54a2a649c6c86c64efc425
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:29 2017 +0800

    docker_run: Remove more commented

commit 426ace636b8d1d8d8c5be2705a9e7735c216e494
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:02 2017 +0800

    docker_run: Ensure docker is on a network

commit 8b562166645f72ae7898c61a43b7f3bf323e1bc3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:18:31 2017 +0800

    docker_run: Switch to uuid naming

commit dca896e92f9b622dfad9cd4ba1b9bf50124c9209
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jul 13 20:52:41 2017 +0800

    MDLSITE-5153 no exceptions for any php version / database
    
    Moodle 3.4 and up requires php70. mssql is not availale for php70
    (only sqlsrv is) and oracle is too. So commenting any exceptional handling.

commit fc03eba427bd1f743b6368355fdd6419e94e09d2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 5 11:31:30 2017 +0800

    docker_run: Add info about the current run

commit e4b0f7479fcb1fbb408b7a3b566728bb5c910937
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 5 10:55:58 2017 +0800

    dockerdb: We need 31 databases again

commit 65d95d9f13934880103988a825c645b30f4c2dc3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 16 13:39:07 2017 +0800

    dockerdb: Put Oracle data on tmpfs

commit e4f4348e435d0e28abd404fc747774dd83128155
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jun 15 09:51:50 2017 +0800

    cron: Add cron scripts (Fixes MDLSITE-5150)

commit 4d0c445d765efe3bdc622cfe58f82dd014abf77e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 11:53:25 2017 +0800

    dockerdb: Add more MySQL/MariaDB tuning

commit e5ed9d0649a1f365d64e95e1581deca2d5128c7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 10:44:02 2017 +0800

    dockerdb: Add some tuning

commit 8c81986d547e4d0c9332b093a2b51d6eaa0d65b5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:37:16 2017 +0800

    dockerdb: Add improvements found in MariaDB

commit a489d422740bb0eda073cb5a066aa6f7bd2b4687
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:36:57 2017 +0800

    dockerdb: Switch to fixed version of the official mysql image

commit 4b1e69023176821b43d684c803883612515e4cd1
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:36:31 2017 +0800

    dockerdb: Expand mariadb detach option

commit 96adaf626df1e2452acb4c68122fb1a583132001
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:29:00 2017 +0800

    dockerdb: Move MySQL/MariaDB Password to environment
    
    Recent versions of MySQL emit a warning when the password is specified
    as a CLI argument.

commit bdf127cff2de7cd03667ef85ee2c8a6e6bef65b5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:24:08 2017 +0800

    dockerdb: Correct spacing of DB name for new DBs

commit 5bc5491c1c576c8357c37ab6188806cb47bcacf9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jun 1 06:23:35 2017 +0800

    Revert "docker_run: Build in a network"
    
    This reverts commit 9efbb8bdbf02b2b1f3addea489d1bb8a2d0df7a4.

commit 4ff6531e10df7cdd8adb427e22a3f7cbe292cd9e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:48:30 2017 +0800

    dockerdb: Add DB for php7 runs

commit 0ee70b8f75b45c93e755980e4a8430592229b775
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:38:35 2017 +0800

    setup_run_phpunit: Stop changing the MSSQL DBName if we don't need to
    
    The old VM only had one database, whereas the new docker image has one
    database for each run.
    
    We need to preserve the running for the old database in case we need to
    resurrect any old jobs.

commit de6c7b70c173114517b77f39b1f45c5f1c89e036
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:28:40 2017 +0800

    configs: Add parallel boost template found on nightly02

commit f431c5240e3a20284d54a06305d02fe2bccc6f54
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:23:27 2017 +0800

    configs: On-sync has ended. Stop skip langpack upgrades

commit 9e73afd89594cedcd5fd7f139fdfc938cbefd975
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:01:41 2017 +0800

    setup_: Echo out information on which database is being run today

commit 984216dc9744386ad7c3300567259cb2a5ce5437
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:49:57 2017 +0800

    dockerdb: Remove tmpfs from mssql

commit 106f1900994acfc909e00bf8e3bd6c90d953f0be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:42:00 2017 +0800

    setup_run: Add DbPort option

commit b2d1f42768ec382cb4a4c74ce87b45ca19ff9f0d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:40:17 2017 +0800

    configs: Add DbPort to match setup_run_phpunit

commit 0cb102cbfebe11f05fbad6f47997064905e12e67
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:35:34 2017 +0800

    configs: Bring config.php templates into git

commit 9efbb8bdbf02b2b1f3addea489d1bb8a2d0df7a4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:33:16 2017 +0800

    docker_run: Build in a network

commit 4d8e4e1faa7b6c3f3d1752c54aabd265975db986
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:29:49 2017 +0800

    dockerdb: Silence network creation

commit 4f7f121634150a2cecc9b7758c268fa2e4b81612
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:29:31 2017 +0800

    docker_run: Expand out docker run

commit 7d234526c5f9aa14a46a7a5f02868d1eae9803dd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:12:02 2017 +0800

    setup_run_phpunit: Add DbPort option

commit 73f48e29719c07b674095f0fd14a2834f831cc26
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:11:40 2017 +0800

    dockerdb: Add mariadb configuration

commit 2e7da39c72f1593e31bff286814abde3d71aa04d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:11:12 2017 +0800

    dockerdb: Add pgsql tuning

commit daf2b768391559c3ca9624ca9affac4acdbde6d9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:10:52 2017 +0800

    dockerdb: Move database partitions to tmpfs

commit 60f82163aeb3024864a24278cad9fb1ca565a2cd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:09:36 2017 +0800

    Move docker DB servers to their own network for better DNS resolution
    
    This makes use of docker's internal DNS resolution, which is only
    available to hosts running on a custom network.

commit 467b83601e8194df07a2277170fb72bcace7ed0e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:09:09 2017 +0800

    Expand docker run for db setup

commit cf5494b2faa2be57cf2cfe57d8645eb1e7bc457e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:06:55 2017 +0800

    Add support for DB Port to docker_run

commit dbfa320c859cbf9997b7dab94560d18496b63990
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:56:22 2017 +0800

    Move mariadb to tmpfs

commit 06defa01587affac144628d9704f9ed7b9902dec
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:51:18 2017 +0800

    Add .gitignore

commit 5754c93fe748b6423d3e1e9fdbc7b2d629d6aa48
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:50:36 2017 +0800

    Add Jenkins maintenance scripts

commit bb24bbefb3e83e40bb68dc3ad265159a854d45ca
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:50 2017 +0800

    Remove archive

commit f0d65eaaa0b56f71190703bf4cdc2f52ef76abaf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:43 2017 +0800

    Add archive

commit d059d034161e4f159e58c10814acfed8d74a4bf0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:10 2017 +0800

    Note about adding/removing databases

commit e000d5b1d44e6b787e547786d5b2bb91b23cbbdc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:37:25 2017 +0800

    Add a quick readme

commit 452fbb9bb177232fb6d63e294ac41903c612c3d0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:23:14 2017 +0800

    Switch to Dan's Oracle image

commit 2da98ad152dbb3ba371968f1d8b428daafd18dfe
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:23:02 2017 +0800

    Remove 21 databases

commit 261d4af18497ff63db71ead7a16aa6ddf622198f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:22:41 2017 +0800

    Tidy up faildump dir creation

commit f0b2fa4afa2515d739eca10b84653e0208da38b7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 15:44:42 2017 +0800

    Expose the sqlsrv port

commit 51891bb10cf4e61cebd6a0e6a20d88bbf563cd7b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 15:44:29 2017 +0800

    Correct DB init for sqlsrv

commit aea44409111987fd236d4f7e8abb5cfc6463af4a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 14:05:15 2017 +0800

    Correct docs for sqlsrv docker

commit 05b4937c3702d2069d2db48a6474a331a118dad1
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 14:04:19 2017 +0800

    Add M33

commit 04d79d0f0ca77f625731396a4dedc1d02d451c9b
Author: ${username} User <jenkins@nightly.test.in.moodle.com>
Date:   Wed Apr 12 09:16:37 2017 +0800

    Nightly scripts checkin
======================: FILES :======================
======================: BRANCHES :======================
======================: LOGINFO :======================
commit 2f5e8e5332c2e80cc4168bc1b176549ad8d099df
Merge: 88dd7f7 b429255
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Dec 15 10:24:16 2022 +0100

    Merge pull request #91 from stronk7/point_to_latest
    
    For sqlsrv, switch from 2017-latest to latest

commit b429255a73f0d36610f8f1e4999154dbfb411034
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Dec 11 11:31:13 2022 +0100

    For sqlsrv, switch from 2017-latest to latest
    
    Note that, right now, "latest" is exactly 2017-latest, so
    everything will continue working exactly the same.
    
    But once we finish with the tests @ MDLSITE-6045, we'll make
    2019-latest to become "latest".
    
    That's the reason the comment in the runner says
    "right now 2019-latest", because in hours, if everything
    goes ok, 2019 will become the latest.

commit 88dd7f7c32dd1e3254317d64073cdfc47c899146
Merge: dacb4b9 8c6c8fe
Author: Jun Pataleta <jun@moodle.com>
Date:   Sat Nov 26 19:25:57 2022 +0800

    Merge pull request #88 from junpataleta/41_disablelangupgrades
    
    Disable lang upgrades during 4.1 on-sync
    
    Merging as part of task #4 in packaging release tasks

commit dacb4b96c4d51d5cb1a24f05f9f488129d8fc712
Merge: 6b8f0e8 32ecdaa
Author: Jun Pataleta <jun@moodle.com>
Date:   Sat Nov 26 19:25:03 2022 +0800

    Merge pull request #90 from junpataleta/MR2_41_version
    
    Add Moodle 4.1 version
    
    Merging as part of task #4 in the release packaging tasks

commit 32ecdaa16beeec566d2821157021bbef6a42f890
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Nov 22 23:38:46 2022 +0800

    Add Moodle 4.1 version

commit 8c6c8fe66878f63b5b42e57d58f7b7fe6f056f78
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Nov 22 22:36:40 2022 +0800

    Disable lang upgrades during 4.1 on-sync

commit 6b8f0e857c07c8c1452df201c73769e9e6ca8d3f
Merge: 23d1022 79c14c9
Author: Jun Pataleta <jun@moodle.com>
Date:   Wed Aug 31 14:37:01 2022 +0800

    Merge pull request #85 from stronk7/postgres_replicas_10_and_up
    
    WIP: Make pgsql replicas to work with PostgreSQL 10 and up

commit 79c14c99b2af36686446ddf2b69cfae148902ef7
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 31 00:25:11 2022 +0200

    Make pgsql replicas to work with PostgreSQL 10 and up
    
    This seems to be working for PG 10, 11, 12, 13 and 14. I've finally
    left 9.6 out from the equation because it required to add some more
    shell scripts to be executed conditionally. And I think we can
    ignore that old versions @ CIs already (Moodle 3.9 works with PG 12
    perfectly).
    
    Note the changes here seem more complex, but basically it's because
    I've moved the stuff to be similar to the mysql/mariadb one, aka:
    
    - Create master / slave / standalone directories.
    - Move as much as possible to .sql entry points.
    - Keep shell scripts simple, only doing things really requiring a shell.
    
    Other than that, just renamed some setting or remove some stuff
    that was not needed (archiving, logging...) apparently.
    
    Fixes #79.

commit 23d10229496d8db16f1db3d12a384b8e1afb21d8
Merge: ef96180 6b81082
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Aug 29 16:58:35 2022 +0200

    Merge pull request #83 from stronk7/mariadb_replicas_102_104
    
    Make mariadb replicas to work with 10.2 to 10.7

commit ef96180f7f4c9112cd5559df3446f857671c33f3
Merge: 3891a8f 94a6c51
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Aug 29 10:02:27 2022 +0200

    Merge pull request #82 from stronk7/mysql_replicas_57_80
    
    Make mysql replicas to work with MySQL 5.7 and 8.0

commit 6b81082aa7fd59312deb56a891a78b055bd3930e
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 24 21:11:28 2022 +0200

    Make mariadb replicas to work with 10.2 to 10.7
    
    The code used here is 99% the same than the mysql one. But finally
    I've decided to copy it all over own mariadb.d directory.
    
    The only difference is when creating the replication database user
    because the MySQL sentence:
    
    CREATE USER 'replication'@'%' IDENTIFIED WITH mysql_native_password BY 'replication';
    
    Doesn't work with MariaDB. In fact, since MariaDB 10.2 the
    mysql_native_password is the default authentication plugin
    so it doesn't need to be specified. So this works the same:
    
    CREATE USER 'replication'@'%' IDENTIFIED BY 'replication';
    
    A working alternative is also:
    
    CREATE USER 'replication'@'%' IDENTIFIED WITH mysql_native_password USING PASSWORD('replication');
    
    But I've gone with the simple one because it's future better.
    
    As said, everything else is 100% the same, but better split that making
    complicated conditionals to get both working with the same config files.

commit 94a6c51bd7edeea66c11f9565a8839ed4e314152
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 24 15:54:12 2022 +0200

    Make mysql replicas to work with MySQL 5.7 and 5.8
    
    This fixes #80. It has been detected that MySQL main/replica
    configurations have stopped working. My personal bet is that
    some changes in the MySQL images have leaded to that, or maybe
    they were working for MySQL 5.6 and never have worked to 5.7.
    
    NVM, this commit just makes them back to work for both 5.7 and 8.0,
    that are the currently "supported" MySQL databases.
    
    Note that, after this PR, we'll be checking the MariaDB main/replica
    configurations because they may need similar changes.
    
    Also, while I've tested the solution locally, we are lacking any own
    CI for this product, so I've created an issue about that:
    
    https://github.com/moodlehq/moodle-ci-runner/issues/81
    
    Finally, here there are the explanations about the changes performed:
    
    1. Moved the bin logs from /var/log/mysql to /var/lib/mysql . Reason
       being that the former directory doesn't exist anymore in MySQL 5.7
       and up (and also, that the binary logs are better with data than
       with logs).
    2. Removed the 'multi_admin' user related stuff. Not needed at all.
    3. Minor changes to moodle and root GRANT/IDENTIFIED stuff because
       of changes in MySQL 8 (already deprecated in 5.7). Use ALTER USER
       instead.
    4. Use IDENTIFIED WITH mysql_native_password (the old password schema),
       because MySQL 8, when using the new hashed schema requires
       communications between the hosts to be encrypted. We don't need that
       extra complexity and while it can be disabled as part of the CHANGE MASTER TO
       command... it cannot be disabled for MySQL 5.7. SO the only option
       working in both versions is the used one (force old passwords schema
       for the replication user).
    5. Remove the need of stopping and starting the temp server in the
       replica. All the commands can be executed with the temp server
       running and then the container entrypoint manageing itself will stop
       the temp server and start the final one.
    6. Stop needing gosu completely. Now the replica conf files are made
       available via volume mount (like the standalone or main cases).
    
    And that's all. The changes are small and subtle, but each one is
    for a good reason, I think.

commit 3891a8f4ab36cfc5d4a7f466b0b2c78582eb9a92
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 23 12:06:40 2022 +0200

    Ensure that any Oracle > 11g doesn't use tmpfs anymore
    
    Apart from not giving a real benefit, the new machinery
    in Oracle 12 and up doesn't work well with these devices
    leading to all sort of problems is we also want to change
    system settings.
    
    Hence, disabling tmpfs. There are some more details in the
    long conversation @ https://github.com/gvenzl/oci-oracle-xe/issues/111
    (about that and many other details / iterations)

commit 08389ab2c008f1eedf9e310efc65945114bafd12
Merge: 88b8117 b6d1eaf
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Jun 6 09:13:33 2022 +0200

    Merge pull request #78 from moodlehq/testing
    
    Add support for specifying the DB tags (versions) to use

commit b6d1eafe0bac5fdae384edb516890bc13c5c070f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Jun 5 17:54:07 2022 +0200

    Add support for specifying the DB tags (versions) to use
    
    Added a new parameter, DBTAG, which behaviour is as follows:
    
    - If not specified, every database will use the currently
      pinned version (if there is any) or "latest" if not. Right now,
      the versions are:
        - mariadb: 10.7
        - mysqli: 5.7
        - oracle: latest (11)
        - pgsql: 12
        - sqlsrv: 2017-latest
    - If specified, then that tag will be used, say, for example:
        - mariadb: 10.6, 10.5,...
        - mysqli: 8.0,...
        - oracle: 19, 21,...
        - sqlsrv: 2019-latest,....
    
    So, this change doesn't make any difference in current default
    jobs (only pgsql has been raised to 12 to be ready for 4.1). Everything
    will continue running exactly as it's now.
    
    Only when we add support for that new DBTAG parameter in jobs (and in
    nightlyjobs) is when we'll be able to run alternative versions.

commit 88b8117b7ba8ca7b4e3d06282d160e5a4b23cf3c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue May 24 17:19:22 2022 +0200

    Pin MariaDB to 10.7, new 10.8 and 10.9  have problems (take II)
    
    Again (we unpinned it 3 months ago!), pin MariaDB
    to continue using 10.7, because 10.8 and 10.9 (just released) have some
    startup / init problems.

commit b93a84091e401db4f4186ddf97d76353f219803d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue May 24 16:58:08 2022 +0200

    Pin MariaDB to 10.8, new 10.9 has start problems
    
    Again (we unpinned it 3 months ago!), pin MariaDB
    to continue using 10.8, because 10.9 (just released) has some
    startup / init problems.

commit f977d82b966d0b1ac76b7fdb2f3f08e9c29335d6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 16 16:24:54 2022 +0200

    Remove the local/moodlemobileapp existence condition
    
    Previously the app was only started if the moodlemobileapp
    plugin was installed. But it may be perfectly ok to have
    alternative plugins to that one.

commit fb50f9ce19f3003286963a11431ea48303be62b7
Merge: fdce1d4 e2e1517
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Apr 28 13:56:27 2022 +0200

    Merge pull request #75 from junpataleta/40_enablelangupgrades
    
    Re-enable lang upgrades after the 4.0 on-sync period

commit e2e15170be3b1551a6e87881530be794d73f53da
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 12 11:57:36 2022 +0800

    Re-enable lang upgrades after on-sync

commit fdce1d4d7c20324b04e0d147269633e3237b2477
Merge: 7c7bee2 3a00bd7
Author: Víctor Déniz <victor@moodle.com>
Date:   Mon Apr 18 20:51:31 2022 +0100

    Merge pull request #76 from stronk7/enable_langimport_tests_when_not_skipping
    
    Enable lang install/upgrade tests only if lang upgrades are enabled

commit 3a00bd79fa53e1c0840e4c456570bb11f92f433c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Apr 18 12:37:20 2022 +0200

    Enable lang install/upgrade tests only if lang upgrades are enabled
    
    Over a few days/weeks after a major release, the lang upgrades
    are disabled in testing infrastructure, because the new development
    branch (4.1) in this case, doesn't exist yet.
    
    When we proceed to disable the lang upgrades (part of the release
    process) we need to ensure that all the tests using the languages
    install/upgrade are skipped.
    
    To do so, we don't define the TOOL_LANGIMPORT_REMOTE_TESTS constant
    so all the related tests always will look for it to decide between
    being executed or skipped.
    
    In PHPUnit that's checked with code like:
    
        if (!defined('TOOL_LANGIMPORT_REMOTE_TESTS')) => skip
    
    In Behat that's checked with the step:
    
        Given remote langimport tests are enabled
    
    For more details, see https://tracker.moodle.org/browse/MDL-74512

commit 7c7bee2f295b2f83e7e5ba38aa06ae99386fc2b8
Merge: 1499e43 25d9e32
Author: Jun Pataleta <jun@moodle.com>
Date:   Sun Apr 17 15:53:01 2022 +0800

    Merge pull request #74 from junpataleta/40_disablelangupgrades
    
    Disable lang upgrades during on-sync

commit 25d9e32c3e10c32a7dacb0c1b2340725942b95d3
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 12 11:56:58 2022 +0800

    Disable lang upgrades during on-sync

commit 1499e4388787a77a52cafc9108246458fc84fc91
Merge: 73c20f2 ecebf60
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 5 15:57:11 2022 +0800

    Merge pull request #73 from stronk7/add_ml_python
    
    Add support to run the python mlbackend analytics tests

commit ecebf60f063439c6ea7bbff375c6bf01b0a8038b
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Apr 5 09:39:06 2022 +0200

    Add support to run the python mlbackend analytics tests
    
    Disabled by default, just define `MLBACKEND_PYTHON_VERSION`
    with a correct tag of the docker image and that will make
    the container to run and the PHPUnit jobs to use it. Example:
    
    export MLBACKEND_PYTHON_VERSION=3.0.4-python3.7.5
    
    This it the first step towards adding these tests to CI.

commit 73c20f2fa47b13b55ee443f97f144a40f45989db
Merge: 4498b70 add5d74
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Feb 26 10:05:52 2022 +0100

    Merge pull request #72 from stronk7/unpin_mariadb
    
    Unpin MariaDB

commit add5d74a25780ce672084f5200bfd7bf6459978a
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Feb 26 09:45:57 2022 +0100

    Unpin MariaDB
    
    Now that 10.6.7 and 10.7.3 have been releases and their
    docker images are available, we can unpin it @ GHA.
    
    Fixes #55

commit 4498b708adf0e9fdb3d93a71c8b5495c45f388ec
Merge: 516b323 8db6d8b
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Feb 8 23:04:21 2022 +0100

    Merge pull request #70 from moodlehq/branch_40
    
    Add Moodle 4.0 version

commit 8db6d8b86392184cd3a7c271b3270bde54a69329
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 8 20:38:27 2022 +0800

    Add Moodle 4.0 version

commit 516b323cd729c295f65a017ab9cf6c0217b6de75
Merge: 6399b2f 3f79c0b
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jan 19 16:28:10 2022 +0100

    Merge pull request #69 from stronk7/bring_back_unconditional_xvfb
    
    Revert "Don't start xvfb in headless runs"

commit 3f79c0beec53c2f7e43ccbe5b9a44fcdd34cefcc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jan 19 16:20:12 2022 +0100

    Revert "Don't start xvfb in headless runs"
    
    This reverts commit 520e91ee67cb27c5f9c6973c1c9997167b1942b2.
    
    Immediately after applying #67 we have started to get all
    headless jobs failing with all sort of timeouts and > 8h
    of execution time. Headless runs.
    
    And this is the only change that has been performed since
    then, hence, reverting here and now.

commit 6399b2f204e08a2ad77a8434c834ec3ef115989e
Merge: d1dbed9 d11b5b6
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Wed Jan 19 11:24:47 2022 +0100

    Merge pull request #68 from moodlehq/alwaysFailOnRisky
    
    [runner] Always apply fail-on-risky

commit d11b5b6c4ef19936a2a5614fc16a0d1880b89fda
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Sep 26 13:16:40 2021 +0800

    [runner] Always apply fail-on-risky

commit d1dbed938e2ba091885284219dbd97452287b327
Merge: 191b387 520e91e
Author: Andrew Lyons <andrew@nicols.co.uk>
Date:   Wed Jan 19 08:24:45 2022 +0800

    Merge pull request #67 from moodlehq/xvfb
    
    Don't start xvfb in headless runs

commit 520e91ee67cb27c5f9c6973c1c9997167b1942b2
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 23 14:02:11 2021 +0200

    Don't start xvfb in headless runs
    
    It's not used and for sure will save some resources.

commit 191b387387c71179569812103595bd5fec2d62e5
Merge: adf2361 807f300
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Dec 9 16:35:42 2021 +0100

    Merge pull request #66 from moodlehq/chromedriver_bump
    
    [runner] Update to Chromedriver 96.0 custom

commit 807f300b9e362266aa2b3141ddf67c230aa9ad2f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 1 11:56:01 2021 +0800

    [behat] Force set marionette capability to true
    
    This works around https://github.com/Behat/MinkExtension/issues/376.

commit 1c8c62a863c557b43bae0537619a8108435fd10b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Nov 30 10:38:55 2021 +0800

    [runner] Update to Chromedriver 96.0 custom

commit adf2361b62d1b7575e4280c712576afb9b1a3db9
Merge: f88d0d1 2f8500e
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Nov 18 11:40:11 2021 +0100

    Merge pull request #65 from moodlehq/bbb-container-name
    
    Fix wrong BBB mock server container name

commit 2f8500e499062165875831f03d88bd6fdfa7d96e
Author: Víctor Déniz <victor@moodle.com>
Date:   Thu Nov 18 09:19:26 2021 +0000

    Fix wrong BBB mock server container name
    
    We were using the wrong container name in docker logs and getting errors during testing like "Error: No such container: http://bbbmock9145c76fb054c670"

commit f88d0d184259019a4c9d356e3196392e72c28010
Merge: a356bf8 4557921
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Nov 16 19:43:48 2021 +0100

    Merge pull request #64 from moodlehq/bbb-mock-server
    
    Add bigbluebutton mock server support

commit 4557921c4d11454fa2b9ecd15f976606c56f89c4
Author: Víctor Déniz <victor@moodle.com>
Date:   Tue Nov 16 16:26:22 2021 +0000

    Get BBB mock server image from moodlehq

commit c2f64e4e2f85d4bf4760ee2003695a81e829acc9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Sep 1 12:37:49 2021 +0800

    Add bigbluebutton mock server support

commit a356bf87df4796d291a1b98efce97d7d269622a9
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Oct 21 16:23:17 2021 +0200

    Add RUNCOUNT to de job summary information

commit 7a332221aaba02ab3f0476e7443f1c4a2659cedc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Oct 21 15:07:45 2021 +0200

    Add information about the installed plugins and their commits

commit baa4df45feb5de55fb7a14da1845b7a23bd2e5c8
Merge: 1efdc00 14292c7
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Oct 18 18:24:03 2021 +0200

    Merge pull request #62 from andrewnicols/customchromedriver
    
    [runner] Switch to custom chromedriver image

commit 1efdc007636385fe2f4455408f0ac5bd3698a8c3
Merge: f2f7295 e6d63a4
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Oct 15 09:44:00 2021 +0200

    Merge pull request #60 from andrewnicols/nogit
    
    [runner] Stop installing git

commit 14292c78bea2616b0dad6bfec5b0f5b493114446
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Oct 15 08:10:49 2021 +0800

    [runner] Switch to custom chromedriver image
    
    See https://tracker.moodle.org/browse/MDL-71108 for details on the
    reasons behind this change, and its history.

commit e6d63a4541cea00d5ad91130bdc759f4408a8bb2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Sep 26 11:32:26 2021 +0800

    [runner] Stop installing git
    
    It's installed already.

commit f2f72953bd6ce755ddeca2c47ec35bc9ea783342
Merge: 0bcac46 30e5b98
Author: ilyatregubov <ilya.a.tregubov@gmail.com>
Date:   Tue Sep 14 17:03:06 2021 +0200

    Merge pull request #59 from stronk7/unpin_chome_and_cross_fingers
    
    Unpin chrome version and cross fingers

commit 30e5b98ac88e1db6eab9c39aaeb0dc1ecb699747
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Sep 14 16:56:51 2021 +0200

    Unpin chrome version and cross fingers
    
    We are going brave here and go back to unpinned chrome version, because staying with
    the old Chrome 79 version (3.141.59-zinc) is making things really harder and harder.
    We are aware that, for headed runs, there are some zero-size errors still not fixed,
    but headless ones should run ok. For reference, the problems we are aware are being
    tracked (as of 14 Sep 2021) @:
      - MDL-71108 : zero-size
      - MDL-72306 : feedback

commit 0bcac461b8245b41a57c2fbd182641d9a2428554
Merge: 242d3fc 56741b9
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sun Sep 12 18:20:47 2021 +0200

    Merge pull request #52 from stronk7/enable_classic_accessibility
    
    Revert "Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 242d3fcedb5afbbe614a52e79071b4aa39c2c444
Merge: b039c34 0dc556c
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Aug 27 11:04:44 2021 +0200

    Merge pull request #56 from andrewnicols/mobileAppPort
    
    Allow mobile app port to be customised

commit b039c3490bcba3b4c0d9e5aab5a2a5f929c60472
Merge: 87a90c3 cfc5036
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Aug 27 10:56:47 2021 +0200

    Merge pull request #57 from andrewnicols/removeTerminalFromReruns
    
    Remove terminal from rerun commands

commit 0dc556c8c98a6711d08303466e881cf1d01dd57f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 6 15:09:19 2021 +0800

    Allow mobile app port to be customised

commit cfc5036ae3d6360e6907dde08181d21c544b5cbc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Aug 10 21:53:23 2021 +0800

    Remove terminal from rerun commands

commit 87a90c3a470400b76147906669127820e613cffa
Merge: 90e2530 eed9af3
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jul 14 12:55:28 2021 +0200

    Merge pull request #54 from stronk7/mariadb_10.5_sticky
    
    Make mariadb:10.5 sticky

commit eed9af3e0b5e7887fcd02f854a2a49883bb38891
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jul 14 12:36:35 2021 +0200

    Make mariadb:10.5 sticky
    
    New mariadb:10.6 makes the COMPRESSED row format read-only by default
    because it's deprecated now and will be removed in mariadb:10.7
    
    This is being tracked @ https://tracker.moodle.org/browse/MDL-72131
    
    Once that issue is fixed and we switch to DYNAMIC or whichever the
    final solution is, we'll unpin this.

commit 90e253075284b043da520b882101837a3483b2a1
Merge: d4dafe3 4ed4506
Author: Sara Arjona <sara@moodle.com>
Date:   Tue Jun 22 11:07:36 2021 +0200

    Merge pull request #53 from stronk7/pg10_bump
    
    Pg10 bump

commit 4ed450679cf0b3aa2e2f7e8e71348db536801457
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 21 18:29:13 2021 +0200

    PG10 minor changes (replication related)
    
    Following the information @ https://www.postgresql.org/docs/10/release-10.html
    - rename functions, tools and options referencing "xlog" to "wal".
    - log_directory changed from "pg_log" to "log".
    
    Note that both:
    - wal-method=stream
    - log_directory=log
    
    are default options so, extrictly speaking we shouldn't need to set them
    but it doesn't hurt to have them explicily defined, so keeping them.

commit a4b02874efa1b7e11aba8e1e1d5d65038a1c9c88
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 21 18:08:46 2021 +0200

    Bump to PG10, Moodle 4.0 requirement

commit 56741b9fc2f14dbc09984d8b49dc22d79bd59d14
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Jun 13 23:03:42 2021 +0200

    Revert "Disable accessibility (axe) with classic till MDL-70846 is fixed"
    
    This reverts commit 6772ca686434a36ba1f318682d5083a4f0d2e7e6.
    
    Closes #49

commit d4dafe3b6b261c3fd1b28618161bc61a9523557f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed May 19 18:42:58 2021 +0200

    Move back to our public image, it's working ok since some months ago
    
    In the past we switched to private one because of some problems
    with Oracle & Docker removing access to all Oracle images. Since
    then our wnameless/docker-oracle-xe-11g base image is back so
    we created the -r2 public one based on it.
    
    More info @ MDLSITE-5669

commit e16b54b1b13c4cbd326a597e451166c54cdb6bcd
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Mar 14 15:41:21 2021 +0100

    Revert "Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton"
    
    This reverts commit 8b96786722b4bbada3e05e63fadbe1d5e8d598f6.
    
    We are going back (to Chrome 79) because 2 errors have been
    found with Chrome 89 needing to be fixed before jumping to it.
    
    More info:
    
    https://tracker.moodle.org/browse/MDL-71108

commit d0775338e44eb115274ee38bab3d798bb3b35106
Merge: 612e041 8b96786
Author: Jun Pataleta <jun@moodle.com>
Date:   Fri Mar 12 16:45:18 2021 +0800

    Merge pull request #51 from stronk7/chrome89
    
    Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton

commit 8b96786722b4bbada3e05e63fadbe1d5e8d598f6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Mar 11 17:04:03 2021 +0100

    Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton
    
    We were waiting since some time ago to Chrome 89 to be released
    and, because of that, we had selenium pinned to 3.141.59-zinc
    version (Chrome 79).
    
    The cause for staying sticky was this issue:
        https://bugs.chromium.org/p/chromedriver/issues/detail?id=3682&q=&can=1&sort=-id
    
    Chrome (and chromedriver) 89 have been released and Selenium has
    already build the docker images for them:
    
    https://github.com/SeleniumHQ/docker-selenium/releases/tag/3.141.59-20210311
    
    So now we can unpin the old version and let the machinery to use the
    latest versions available. That's what this PR does.

commit 612e04179e19aafb236b3deebe4f0cdd7f6c5d74
Merge: 67f0ecc 6772ca6
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 19 06:51:48 2021 +0800

    Merge pull request #48 from stronk7/disable_axe_classic
    
    Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 6772ca686434a36ba1f318682d5083a4f0d2e7e6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Feb 18 22:44:46 2021 +0100

    Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 67f0eccccdfc69242fabfb8923fc09bb0d683692
Merge: 3933a35 ddaf3b6
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Wed Feb 10 00:23:58 2021 +0100

    Merge pull request #47 from andrewnicols/axe
    
    Run axe tests on CI

commit ddaf3b680a45531f53baea086bffb4ea36447636
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Feb 7 08:08:31 2021 +0800

    Run axe tests on CI

commit 3933a35e297445bb0599e152cad12efa9ed9d70a
Merge: 101866d 6c65442
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Jan 16 17:45:38 2021 +0100

    Merge pull request #43 from andrewnicols/w3csupport
    
    Add W3C Support to the CI runner

commit 101866d853bdc2a64f3caac01e554bade91201d4
Merge: 50ba133 4f04878
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jan 13 14:48:53 2021 +0100

    Merge pull request #46 from andrewnicols/stopRunningIonic
    
    Stop running ionic when not testing mobile

commit 4f0487876f9528923747c58688a1fa54a49aa795
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 13 20:59:24 2021 +0800

    Stop running ionic when not testing mobile

commit 6c65442a5daf9945126b1e2dd120758c3585d63c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:05:55 2021 +0800

    runner: Add support for headless browsers
    
    A new environment variable, 'BROWSER_HEADLESS', is now respected. When
    present and not falsey, the relevant browser-specific flags are used to
    make browsers run headless.

commit 57227eb2ae778a687f3a615d27bfd0921243938f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:05:39 2021 +0800

    runner: Add browser verbosity control

commit 5ddde8fbe35a6b3cef1eb95828ce5b3997db4d9d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 13 10:07:05 2020 +0800

    runner: Support Mink with W3C driver and browsers
    
    This commit makes changes to support both the legacy instaclick Mink
    driver, and the newer W3C-compatible Mink driver using the php-webdriver
    project.
    
    To support this we now detect whether the instaclick driver is in use,
    and if so use Firefox 47.0.1, and disable marionette in the browser
    configuration.

commit dc64a2e807e966e71b2f1f654703e155fd9abbcb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 10:26:47 2021 +0800

    runner: Always show Job summary
    
    Remove the section tags which cause Jenkins to collapse the Job summary.
    
    The job summary is often useful when identifying jobs and it is
    unnecessarily collapsed in a section.

commit 50ba133b698ee73a0e76d7ef08506d6a6c52228a
Merge: eb46238 cdec51d
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jan 12 18:37:34 2021 +0100

    Merge pull request #45 from andrewnicols/alwaysShowSummary
    
    runner: Always show Job summary

commit eb462380d1819e70b5f59060942858294c34aa12
Merge: bb2765e bf5d2db
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jan 12 18:32:02 2021 +0100

    Merge pull request #44 from andrewnicols/initdbfix
    
    Correct file permissions for DB entrypoints

commit cdec51dc0d49ee1995b7717933e03e1b51362454
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 10:26:47 2021 +0800

    runner: Always show Job summary
    
    Remove the section tags which cause Jenkins to collapse the Job summary.
    
    The job summary is often useful when identifying jobs and it is
    unnecessarily collapsed in a section.

commit bf5d2db9b89bb31e56469ddbf92eb8af719becfb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:10:10 2021 +0800

    Correct file permissions for DB entrypoints
    
    These scripts were missing the executable bit which was causing issues
    on MacOS.

commit bb2765e405f2aae3a675bea2f8c4d2208fe932be
Merge: 1b61851 949de31
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Dec 26 13:02:45 2020 +0100

    Merge pull request #40 from stronk7/enable_lang_upgrade
    
    Enable lang upgrades again

commit 1b618511ce0b38cb99a7b3bdfeb78f576aa84738
Merge: fa35a42 ed19688
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Nov 13 18:50:55 2020 +0100

    Merge pull request #41 from stronk7/311_versions
    
    Add Moodle 3.11 version

commit ed19688323f33d5202d3204005baa5f3ebbe6a8d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Nov 13 17:04:37 2020 +0100

    Add Moodle 3.11 version

commit fa35a4211e2fcae86562c881e745c76539a4ae82
Merge: 459f133 3210a89
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 2 09:06:15 2020 +0800

    Merge pull request #39 from stronk7/logs_take2
    
    Better log file names + also log phpunit images

commit 949de31e7f22733033ad453ecb3ed64284db9cb9
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Nov 1 23:38:59 2020 +0100

    Enable lang upgrades again
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information
    
    Under parallel development, until the new dev branch (310_STABLE in this
    case) language packs are and available.

commit 3210a89b6e017f1faa1c09eb6d7678959d75aa7e
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Nov 1 16:45:48 2020 +0100

    Better log file names + also log phpunit images
    
    This does a couple of things:
    
    1) export all logs using better container names (names instead
       of ids, with some current names improved "run => webserver...)
    2) move the log exporting out from behat section, so it's also
       executed for phpunit runs and we get other logs that could be
       also useful at some point.
    
    This is a followup of https://github.com/moodlehq/moodle-ci-runner/pull/38

commit 459f133ee1e669b2da1848738037e7ef36b99222
Merge: e7d8e7b 1e3d130
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Oct 29 09:50:46 2020 +0100

    Merge pull request #38 from andrewnicols/logs
    
    runner: Store all of the docker container logs

commit 1e3d130c8a82fa4bdfb8e8c23faa6d02e37d47d4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Oct 29 15:52:11 2020 +0800

    runner: Store all of the docker container logs

commit e7d8e7b6f23e51197c25426f35140c9d0e96349a
Merge: ea04e94 21dfcbc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 17 19:32:11 2020 +0800

    Merge pull request #37 from stronk7/unpin_mariadb
    
    Unpin MariaDB and remove deprecated / removed settings from config

commit 21dfcbc2bbbe8c5e5c9385502b7452b51cbf8f98
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Sep 11 23:24:24 2020 +0200

    Unpin MariaDB and remove deprecated / removed settings from config
    
    this shouldn't affect MySQL because current (5.7 and up) defaults
    match the settings.

commit ea04e944683151460664535547542a0d38319343
Merge: 5af1206 bacbb8c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 10 17:56:40 2020 +0800

    Merge pull request #36 from stronk7/show_behat_increase_timeout
    
    Show the BEHAT_INCREASE_TIMEOUT config value on all runs

commit bacbb8c29354cc5487fd7d912d66dc2472c78e44
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Sep 10 11:06:24 2020 +0200

    Show the BEHAT_INCREASE_TIMEOUT config value on all runs

commit 5af1206badce74f734fb98f0ec8b6a6d2c1318ca
Merge: f679b06 8cd284f
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Aug 11 11:35:09 2020 +0200

    Merge pull request #35 from stronk7/disable_lang_upgrade
    
    Disable lang upgrades, to be enabled once the lang branch is available

commit f679b067f2a41892d8db739a102aa319ffc1d8f4
Merge: b9064c7 bedb181
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Aug 11 11:34:52 2020 +0200

    Merge pull request #34 from stronk7/310_versions
    
    Add Moodle 3.10 version

commit 8cd284faa1aa6002b08acf13b4776b9f2a74a90c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Aug 10 11:08:23 2020 +0200

    Disable lang upgrades, to be enabled once the lang branch is available

commit bedb181218d3dd53614fc64eacf2b501ac57826f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Aug 10 11:05:46 2020 +0200

    Add Moodle 3.10 version

commit b9064c7fb5f22c089a22dac45d8079ac0e8c8c4a
Merge: e42c7fd 1a1e718
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 30 06:59:43 2020 +0800

    Merge pull request #32 from stronk7/external_https_exttests
    
    Make unit tests also use exttests docker container for https tests

commit 1a1e718169b0225d752c5303cdaca9571890b314
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Jul 18 12:11:09 2020 +0200

    Make unit tests also use exttests docker container for https tests
    
    While we are already using the exttests docker image for HTTP
    requests (avoiding to use download.moodle.org), we are not using
    it for HTTPS tests.
    
    Looking to codebase, there is only ONE tests using HTTPS and it's
    the one that uses to fail when there are porblems with downloads.
    
    As far as that test doesn't perform any check or validation related
    to certificates, we can, simply, configure unit tests to also use
    the HTTP exttests URL to run the HTTPS test.
    
    If tomorrow we need some real HTTPS test, surely we'll need to
    incorporate some mutual recognised certificates, or a real one..
    
    But right now that's not needed.

commit e42c7fd7a7d15777a9843da9a986e0808ed6791e
Merge: f98d032 c1fa35f
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jun 23 22:58:10 2020 +0200

    Merge pull request #31 from stronk7/enable_lang_upgrade
    
    Enable lang upgrade

commit c1fa35f1b41ae28074a14d80eec75b6cf4a354ce
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:58:22 2020 +0200

    Enable lang upgrades again
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit f98d032dba13d122c8cdc5aaea31e2359182c4e0
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jun 10 15:52:38 2020 +0200

    Add back the recently removed sleep, we need it for now
    
    Once we get https://tracker.moodle.org/browse/MDLSITE-6178
    properly implemented we'll be able to revisit all the
    current harcoded pauses.

commit ac8f7607e45bf74977a111b5586884fab1c714e1
Merge: b622687 8ca70ac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 9 07:24:28 2020 +0800

    Merge pull request #30 from stronk7/disable_lang_upgrade
    
    Disable lang upgrades, to be enabled after on-sync

commit b622687b818b0866238c508fe80f5c15655da18c
Merge: 5e8da83 7a8a42f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 9 07:23:22 2020 +0800

    Merge pull request #29 from stronk7/39_versions
    
    Add Moodle 3.9 version

commit 8ca70ace3475237ca70d5b0bc85b5876c47ba3de
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:55:37 2020 +0200

    Disable lang upgrades, to be enabled after on-sync

commit 7a8a42fd286197d0c12065ffc20b88e35575f5de
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:53:02 2020 +0200

    Add Moodle 3.9 version

commit 5e8da83fde01cffbcf99542cbae5c9bcc886a130
Merge: 8e0fd99 41cceb6
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Jun 2 17:22:43 2020 +0800

    Merge pull request #27 from stronk7/moodlehq_sqlsrv_image
    
    Switch to modern sqlsrv own image

commit 41cceb6171884f25e6774b695ee27ec07ccf138f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 1 01:26:44 2020 +0200

    Switch to modern sqlsrv own image
    
    It comes with important memory reduction, specially important
    now that we are also running sqlsrv unit tests as part of ToBiC.
    
    Also remove not needed commands and pauses because the container
    startup handles both.

commit 8e0fd99de3995d51f90bf22fa463f9dea718183b
Merge: 5a28bb7 2aa7c00
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sun May 24 19:58:33 2020 +0200

    Merge pull request #24 from moodlehq/dbslave
    
    DB Slave support

commit 2aa7c0073ab43a2a94514177695353da233fd2b6
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue May 12 13:49:35 2020 +0800

    runner: MySQL Replicate support

commit 74d4d862c308e745c5add7f0f2c58f7d4553cdc4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 11 15:43:58 2020 +0800

    runner: Support postgres slaves

commit 5a28bb7818272c4435831768441eb42f6456da0c
Merge: c6fc3a0 13936d1
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue May 19 16:17:29 2020 +0200

    Merge pull request #23 from crazyserver/patch-1
    
    Change Moodle App docker repository

commit 13936d19c9e28e9dc758fd72c0d028f73899dc2d
Author: Pau Ferrer Ocaña <crazyserver@users.noreply.github.com>
Date:   Tue May 19 14:58:11 2020 +0200

    Change Moodle App docker repository

commit c6fc3a0974f39eb018d628f1e045c7485bfc4e5d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 18 22:38:18 2020 +0200

    Disable options not directly related with the run type

commit 3d1ff1c4ce7b38c810fbbb1b9235d0ff8b548682
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu May 14 03:02:07 2020 +0200

    Added support for multiple reruns (defaults to current 1)
    
    Now it's possible to perform multiple reruns, controlled by
    the BEHAT_NUM_RERUNS env variable. It defaults to current 1.
    
    Also, if 0 is passed, don't perform any rerun.
    
    Output files (pretty, junit) now will have the format:
    
    - prettyRUN_rerunRERUN.txt
    - logRUN_rerunRERUN.junit
    
    Where RUN is the # of parallel run (empty for single)
    and RERUN is the rerun iteration.

commit 9b8619d417a8131ec34e5ee33d14a74ab975a1fe
Merge: af8ad05 c27cac8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 18 07:16:06 2020 +0800

    Merge pull request #22 from stronk7/avoid_chrome80
    
    Avoid Chrome 80 because it's causing some SCORM tests to fail

commit c27cac893a4f46637464a7d05f4004f5f91d46ad
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Feb 17 17:49:34 2020 +0100

    Avoid Chrome 80 because it's causing some SCORM tests to fail
    
    See https://tracker.moodle.org/browse/MDL-67989 for more information,
    once that is solved, we'll revert this, proceeding with #21

commit af8ad051bb76536d9c97201428aea30927d80383
Merge: b0f1332 4171a80
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Dec 28 11:43:39 2019 +0100

    Merge pull request #20 from stronk7/bump_mariadb_102
    
    Bump MariaDB to 10.2 to fulfill Moodle 3.9 requirements

commit 4171a80b7d02d1fb8931e72d2e6217ee9f705a99
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Dec 28 11:21:25 2019 +0100

    Bump MariaDB to 10.2 to fulfill Moodle 3.9 requirements
    
    See https://tracker.moodle.org/browse/MDL-65809 for details

commit b0f1332755eb460d037da7c5f3bfa58f7029641c
Merge: 9832e97 c88ed81
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Dec 17 23:54:02 2019 +0100

    Merge pull request #19 from stronk7/disable_skiplangupgrade
    
    Disable skiplangupgrade

commit 9832e9799dcdc44b5ca0c4b2e10ce8d4effeac92
Merge: 8e2f14e 024baad
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Nov 16 18:32:38 2019 +0100

    Merge pull request #18 from stronk7/enable_skiplangupgrade
    
    runner: Set skiplangupgrade as part of on-sync period

commit 8e2f14ea7ef584d4550decdfd98a98dbeb2b5d42
Merge: fc97b3d 289f974
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Nov 16 18:32:02 2019 +0100

    Merge pull request #17 from stronk7/38_release
    
    runner: Add Moodle 3.8 version of the runner

commit c88ed81e6492b46c025027a312ab8177e976b628
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:58:34 2019 +0100

    runner: Unset skiplangupgrade after the on-sync period
    
    This is MR4 in the [release
    process](https://docs.moodle.org/dev/Release_process#1_week_prior)
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 024baade98f99dd50b0b5ed5d00e741947547d88
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:55:14 2019 +0100

    runner: Set skiplangupgrade as part of on-sync period
    
    This is MR3 in the [release
    process](https://docs.moodle.org/dev/Release_process#1_week_prior)

commit 289f974d4b0f03950aaf680ae25d4057d1972653
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:52:09 2019 +0100

    runner: Add Moodle 3.8 version of the runner

commit fc97b3d368d29e42e13ef9352916a7de5f8e336f
Merge: 66cc4a1 0e40fe4
Author: Jun Pataleta <jun@moodle.com>
Date:   Mon Oct 14 15:39:19 2019 +0800

    Merge pull request #16 from stronk7/images_summary
    
    Show the creation date and hash/digest of involved images in a run

commit 0e40fe4bd76a45823b3d86adaa66345db200f175
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Oct 11 22:19:55 2019 +0200

    Show the creation date and hash/digest of involved images in a run

commit 66cc4a1261a82a6545bf86bff291c10105d60cf4
Merge: 716f333 a713c0c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:28:41 2019 +0800

    Merge pull request #14 from stronk7/enable_mongodb
    
    Enable mongodb

commit 716f333ace352e73425c12fcb025b430159c1f5c
Merge: 148a3af b3b185b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:28:18 2019 +0800

    Merge pull request #13 from stronk7/enable_memcached
    
    Enable memcached

commit 148a3af6a304889982e4f3061fe32af60d4cf055
Merge: 8e6d745 4881af9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:27:38 2019 +0800

    Merge pull request #12 from stronk7/enable_solr
    
    Enable solr

commit 8e6d745e7be5718d66ba54f6acf6a90e5e911cf2
Merge: dac6a76 d96d7cf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:27:16 2019 +0800

    Merge pull request #11 from stronk7/more_reliable_scriptpath
    
    Make the detection of SCRIPTPATH more reliable

commit dac6a762a73bbd601034304127d85a7953df3aad
Merge: b457662 1fe8710
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:26:11 2019 +0800

    Merge pull request #6 from sarjona/runner-appversionvar
    
     runner: Add support to MOBILE_VERSION and PLUGINSTOINSTALL settings

commit a713c0c137ff60db3c14e9546a60c2418994b135
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 18:50:14 2019 +0200

    Add support for mongodb tests

commit b3b185b648b3a93986b28156291c14a02bc294c1
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 17:04:54 2019 +0200

    Add support for memcached tests

commit 4881af9997f1da4c4c6413399c4275328bdcd7b8
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 16:23:25 2019 +0200

    Enable back solr, it's working with all php images

commit d96d7cf61205fccdfc62e23ac9db1792c7880abc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 13:56:20 2019 +0200

    Make the detection of SCRIPTPATH more reliable
    
    So it can be executed from other scripts, or aliased...

commit 1fe871046e5402d5b2b47806e1071c5f355f9005
Author: Sara Arjona <sara@moodle.com>
Date:   Fri Sep 20 17:31:54 2019 +0200

    runner: improve PLUGINSTOINSTALL and MOBILE_VERSION support
    
    Some improvements have been added, following Andrew's suggestions:
    - If the MOBILE_VERSION is not defined, the moodlemobile docker
    container won't be executed.
    - Instead of creating a temporary folder for the plugins, a new
    setting, PLUGINSDIR, has been added. By default they will be
    downloaded to $WORSPACE/plugins.
    - Those new settings have been added to the README.md

commit 44c4e60038cb731a694fda364a6d9731933e128b
Author: Sara Arjona <sara@moodle.com>
Date:   Fri May 31 12:28:21 2019 +0200

    runner: Add PLUGINSTOINSTALL variable to install external plugins

commit d5ebe8cb8fbfc6a122d572916f8f8bdc52aac9b0
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 16:19:14 2019 +0200

    runner: Add MOBILE_VERSION variable to define the app version to run @app tests

commit b9dcf77fe75a19a1733b01ed7d7605680783b020
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 17:00:39 2019 +0200

    Unpin mobile once that breaking tests are removed (MDL-65869)
    
    This reverts commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f.

commit af3943120701d2532177723c2e7afc79f6e4bd65
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 16:57:36 2019 +0200

    Enable back Redis session tests for PHP 7.2 and up
    
    This reverts commit f36e8081c50dfa7342b9e91736c1febeeedebbd6.

commit fabe6dea67da25f01ccffd38788d3bd7e8d5305f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jun 12 09:08:01 2019 +0800

    Temporarily ping mobile to 3.6.1 until failing tests removed

commit b4576622ce3efd624698ac0bc11b3a576a81b975
Merge: 348685d 51ff441
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 12 21:33:01 2019 +0800

    Merge pull request #10 from stronk7/unpin_mercury
    
    Unpin 3.141.59-mercury and allow any new 3.x release to be used

commit 51ff44139da1fe952fcde88a21579fc1f658957c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Sep 11 16:46:05 2019 +0200

    Unpin 3.141.59-mercury and allow any new 3.x release to be used
    
    With MDL-66378 and, specially, https://github.com/moodlehq/php-webdriver/pull/1
    we can continue using Chrome >= 76 because we are enforcing the
    use of the legacy JsonWire protocol (instead of the default W3C one).
    
    So it has been agreed that we'll allow any 3.x new release to be used in
    order to detect problems earlier (we always can pin again if needed).

commit 348685d0918ea2d5c9ff2f0d4eb2bd49644499d2
Merge: bb20f2c 5779fe2
Author: Adrian Greeve <abgreeve@gmail.com>
Date:   Tue Aug 20 14:41:29 2019 +0800

    Merge pull request #8 from moodlehq/revert-7-chrome_unpin
    
    Revert "Revert "Moving away from 3.141.59-neon coz it's causing problems""

commit 5779fe24d006ca3f1acc8f2dcc5b6919c279bda7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Aug 20 14:38:15 2019 +0800

    Revert "Revert "Moving away from 3.141.59-neon coz it's causing problems""

commit bb20f2cd499f008116fab9a7c47472712e93c84b
Merge: 3fb9dc6 9443e85
Author: Adrian Greeve <abgreeve@gmail.com>
Date:   Tue Aug 20 14:31:09 2019 +0800

    Merge pull request #7 from moodlehq/chrome_unpin
    
    Revert "Moving away from 3.141.59-neon coz it's causing problems"

commit 9443e85a1bfff80333288626fd353769b72392b9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Aug 14 13:48:49 2019 +0800

    Revert "Moving away from 3.141.59-neon coz it's causing problems"
    
    This reverts commit 1bda1c27f698e5a96180836b59b19f254b5fbd58.
    
    Fixed by way of MDL-66378.

commit 3fb9dc6c5ae6268357a22b6e057aaa3e872f736d
Merge: 2d13771 0b953ee
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 28 06:40:00 2019 +0800

    Merge pull request #5 from stronk7/redis_session_tests_are_back
    
    Enable back Redis session tests for PHP 7.2 and up

commit 0b953eecf390263e561d9efc1918e33fbebcc1c1
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 17:00:39 2019 +0200

    Unpin mobile once that breaking tests are removed (MDL-65869)
    
    This reverts commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f.

commit f161c4ecb848b52728c073702624949cb0f887a5
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 16:57:36 2019 +0200

    Enable back Redis session tests for PHP 7.2 and up
    
    This reverts commit f36e8081c50dfa7342b9e91736c1febeeedebbd6.

commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jun 12 09:08:01 2019 +0800

    Temporarily ping mobile to 3.6.1 until failing tests removed

commit 97d40fe45eef9cda9dee4332200927c763b92a0d
Merge: f27d127 318e84b
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri May 31 09:51:04 2019 +0200

    Merge pull request #4 from sarjona/runner-fix-local
    
    runner: Avoid local network collissions

commit 318e84bdc11f66f6d6e8e25505bb942b9029fb86
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 14:39:49 2019 +0200

    runner: Avoid local network collissions

commit f27d127197acb4976a71c2638e21c29d1c5afed8
Merge: c18d21c 70ca27d
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu May 30 22:58:37 2019 +0200

    Merge pull request #3 from sarjona/readme-revision
    
    README: Update themes and add some extra parameters to the doc

commit 70ca27d7b8d7f036c7dffc2f7b9c31abf3fdc302
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 13:58:13 2019 +0200

    README: Update themes and add some extra parameters

commit c18d21c6d38431ca134be6732ebc88a942f02157
Merge: 551b15d ead8faf
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat May 25 00:03:25 2019 +0200

    Merge pull request #2 from andrewnicols/mobiletesting
    
    runner: Add Ionic testing

commit 551b15d59f7c81d26c7838621a9265bd9ca3a0cb
Merge: 2941637 f7078a4
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri May 24 23:55:36 2019 +0200

    Merge pull request #1 from andrewnicols/37_endonsync
    
    runner: Unset skiplangupgrade for end of on-sync period

commit 2941637e67830cef6334ebe3d0da8658828f8323
Author: Mark Johnson <mark.johnson@open.ac.uk>
Date:   Wed Mar 27 09:25:01 2019 +0000

    Add support for increased behat timeout

commit ead8faf6168cc7ae7f4d894827f49a4391cb6d7e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 31 06:53:45 2019 +0800

    runner: Add Ionic testing

commit f36e8081c50dfa7342b9e91736c1febeeedebbd6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 20 22:50:53 2019 +0200

    Disable Redis session tests for PHP 7.2 and up
    
    See MDL-60978 for more information.

commit 8bbcbf0a05c15b15c96d8b743b50c4919f46bb80
Merge: 19fe0f5 6c7dbaf
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun May 19 18:17:43 2019 +0800

    Merge branch '37_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!29

commit 19fe0f5e4cbb50e7de1a870b308919a8d29b4688
Merge: 1bda1c2 fb50503
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun May 19 18:17:29 2019 +0800

    Merge branch '37_release' into 'master'
    
    runner: Add Moodle 3.7 version of runner
    
    See merge request integration/nightlyscripts!28

commit f7078a46484f9b417e33189d7c4ba8ed1df461eb
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:39:57 2019 +0200

    runner: Unset skiplangupgrade for end of on-sync period
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 6c7dbafd94bdf22132ad0d032150079aefeacd98
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:37:21 2019 +0200

    runner: Set skiplangupgrade as part of on-sync period

commit fb50503ce89e26378204c92930821fcbb6fe4829
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:32:59 2019 +0200

    runner: Add Moodle 3.7 version of runner

commit 1bda1c27f698e5a96180836b59b19f254b5fbd58
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Apr 30 16:06:14 2019 +0200

    Moving away from 3.141.59-neon coz it's causing problems
    
    So we are now explicitly using 3.141.59-mercury, from 1 month
    ago that was working till neon arrived (6 days ago). That is
    leading to lots of "invalid session id" errors leading to the
    re-execution of complete jobs (almost 2X execution time)

commit 1c626b647730aca6682147dd7006c177a817c696
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 20:21:57 2019 +0200

    Avoid colors that look horrible (escape seqs) in some clients (take#3)

commit 113c847885ab29bd232060a435f71c35c8c92b7c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 20:14:20 2019 +0200

    Avoid colors that look horrible (escape seqs) in some clients (take#2)

commit d4e30b6abee5fb15c0bcf19639a309ba5e78fa12
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 18:59:32 2019 +0200

    Avoid ansi colors that look horrible (escape seqs) in some clients

commit ed1604b7fa7ad04c4533106419dc500d849c5ea8
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Apr 11 02:18:45 2019 +0200

    Add support for individual features/scenarios (--name)
    
    Also fix some small details, like 1-parallel, reruns and
    some old selenium version.
    
    Finally, note that the --config parameter requires to use
    this syntax:
    
    --config path/to/behat.yml
    
    and doesn't work with
    
    --config path/to/behat.yml
    
    Because of an annoying dependency built in core (MDL-65435). Once
    it's fixed, both syntaxes will work.

commit 39e2cb3eb3ee60056a40361e094227a7419d9a9f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Feb 18 15:05:37 2019 +0800

    runner: Bump chrome to 3.141.59

commit 674bf46278c225cd9507115c5f0344e2563a43ce
Merge: af3a800 a3398e0
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Feb 12 22:57:21 2019 +0800

    Merge branch 'mdlsite-5669' into 'master'
    
    runner: Update oracle image to moodle-db-oci
    
    See merge request integration/nightlyscripts!26

commit a3398e06b56964da1e88645bb7914953e1e99b9c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 12 15:11:55 2019 +0800

    runner: Update oracle image to moodle-db-oci
    
    Fixes MDLSITE-5669

commit af3a8009a6869929e4a67e3c0dbbec46d60465b4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 31 10:11:42 2019 +0800

    Marionette option is for Firefox only

commit d9431cd102f2d1078a2d149417f53933cd3fd48d
Merge: 16b748d c00a229
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu Jan 31 07:20:05 2019 +0800

    Merge branch 'ff_selenium_upgrade' into 'master'
    
    runner: Switch to MoodleHQ selenium image
    
    See merge request integration/nightlyscripts!25

commit c00a229752f41e8dcb1bbebe46dfd111b1c0735e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 12 13:11:52 2018 +0800

    runner: Switch to MoodleHQ selenium image
    
    This image uses a newer version of Selenium, disabling Marionette, but
    the old version of Firefox.
    
    It appears to be more stable than the images we've been using to date.

commit 16b748d2dc729d334c5c5479d121a5ac101fa011
Merge: dd82982 12e1904
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sat Jan 12 20:32:07 2019 +0800

    Merge branch '36_endonsync' into 'master'
    
    runner: Unset skiplangupgrade for end of on-sync period
    
    See merge request integration/nightlyscripts!24

commit dd82982330eed22998a14de9ea8152a9654c0cbd
Merge: 40df230 0c5102c
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun Dec 2 08:20:38 2018 +0800

    Merge branch '36_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!23

commit 40df230cbc64075c384aabfacf806f4f6cf2d080
Merge: 5b37b3f a606c9b
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Fri Nov 30 12:03:28 2018 +0800

    Merge branch '36_release' into 'master'
    
    runner: Add Moodle 3.6 version of runner
    
    See merge request integration/nightlyscripts!22

commit 12e1904875f7497febccff6ee96d813ae2cc2d40
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:52:55 2018 +0100

    runner: Unset skiplangupgrade for end of on-sync period
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 0c5102c821211fa901a9273fecb32da7a8f09b3d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:51:27 2018 +0100

    runner: Set skiplangupgrade as part of on-sync period

commit a606c9b728892022682bfab1a9465f1e813c5947
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:49:02 2018 +0100

    runner: Add Moodle 3.6 version of runner

commit 5b37b3f915313c132299319a1ddf23c8e2cf6916
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 10 12:17:31 2018 +0800

    Revert "runner: Remove suite from behat run command"
    
    Unfortunately I have no idea why I wrote this change.
    The -a=[theme] should work, but does not.
    
    This reverts commit aeafe7d70fce06edd1e1da3137fbf0f857c47b7f.

commit 4aa09c8c19163d2752d2a977cb94b56cb174b4f8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 10 12:17:29 2018 +0800

    runner: Add pathtosassc

commit aeafe7d70fce06edd1e1da3137fbf0f857c47b7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Sep 5 09:37:25 2018 +0800

    runner: Remove suite from behat run command

commit 054d655920b0ce49eb426c6b1f8cc0b87423fc2c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 11:26:00 2018 +0800

    runner: Disable SOLR for now :(

commit a1ff178fa83b8b0710ddf7d6395049610fdbf340
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 09:32:12 2018 +0800

    runner: Add redis to tests

commit e75774849038c688f8cb1f27310d601cf1ebea3d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 09:31:38 2018 +0800

    runner: Add solr to tests

commit 022c84006b6d3ece8a297823d8341e4ed5c1761f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 08:38:54 2018 +0800

    runner: Attempt to seed with cached composer.phar

commit 1cba58a03a674c3e77dd333c9c114b1461a703dc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 12 15:55:24 2018 +0800

    README: Move to project root

commit 00599ef9016ded2f3d535118eb52ade77f568cac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 12 15:55:08 2018 +0800

    runner: Add CODEDIR to readme

commit eb57951e64c8999624097e39d4fd31f654a0d084
Merge: 54a1141 2bd6d1b
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Jun 6 23:33:18 2018 +0800

    Merge branch '35_endonsync' into 'master'
    
    runner: Unset skiplangupgrade for end of on-sync period
    
    See merge request integration/nightlyscripts!18

commit 54a1141bd1f89323a91cb16a454e00a598de4fa0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 31 07:52:51 2018 +0800

    runner: Add default for timing filename

commit 0f8818d02dc8cf405ba4974ae1fe5de2301369e9
Merge: b5c4448 de1d2ff
Author: jun <jun@moodle.com>
Date:   Mon May 28 12:01:22 2018 +0800

    Merge branch 'useTiming' into 'master'
    
    runner: Use behat timing files
    
    See merge request integration/nightlyscripts!21

commit de1d2ffe9151d09034657292ba0c9433b5de1abf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat May 26 09:29:18 2018 +0800

    runner: Use behat timing files

commit b5c44488a857d2148efa34274c685b482b0ded7e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 18 18:14:41 2018 +0800

    runner: Move path to subpath
    
    The /var/www directory is owned by root.
    In 31 we simply append a run number to the behatroot directory - i.e.
    /var/www/behatdata1
    
    In 32 we create them in a subdirectory - i.e.
    /var/www/behatdata/behatrun1
    
    When running as www-data, the user does not have access to create the
    behatdata1 directory.
    
    The previous attempted fix was to add a slash:
    31  - /var/www/behatdata/1
    32+ - /var/www/behatdata/behatrun1
    
    However, the trailing slash seems to cause issues in core in some
    sitautions - specifically the re-run of the test.
    
    This fix, tested on 31, and master with a failing test changes the
    directorty further such that the behat data directory is
      /var/www/behatdata/run
    This makes the new run directories:
    31  - /var/www/behatdata/run1
    32+ - /var/www/behatdata/run/behatrun1
    
    Both of these are acceptable as the www-data user has the required
    permission to create new directories for the run in the subdirectory.

commit 41fb3e3952ad053082cf48b545b9e2a714e0d976
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri May 18 18:33:52 2018 +0200

    Get rid of the extra slash, seems to be causing problems in >=32.
    
    But keep the chown covering the whole /var/www/* to see if that's
    enough for 31. Or at least to keep everything working but 31.

commit b35f21ab4d3f8e6db0dbf108fb50e4141d609a0c
Merge: 4c3d350 34a14dc
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Fri May 18 08:29:14 2018 +0800

    Merge branch 'ocibump' into 'master'
    
    runner: Bump OCI timeout
    
    See merge request integration/nightlyscripts!20

commit 4c3d35069b33c8025694633ae85d8c55a463f1a5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 18 07:44:26 2018 +0800

    runner: Correct rerun path for 31

commit 34a14dceac2921d1cf7cd926be585b860112b0ea
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 14:46:41 2018 +0800

    runner: Bump OCI timeout

commit c9ce81e560cea4e3721c08c9aead8a8bb9f6dcc2
Merge: 0bb2ac5 8ac11f8
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Thu May 17 14:39:49 2018 +0800

    Merge branch 'behatfix' into 'master'
    
    runner: Add fix for behatdata on 31
    
    See merge request integration/nightlyscripts!19

commit 8ac11f8e74a159a0027cb12eb948a94ea790ba6c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 14:00:14 2018 +0800

    runner: Add fix for behatdata on 31

commit 0bb2ac5264561a47be9ac68c303b07f20b9c57f7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 13:33:35 2018 +0800

    runner: Chown with group

commit 7f1b4c87b603cf3bf7be1e971e4405e82cd63738
Merge: 405c773 53614eb
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:32:11 2018 +0800

    Merge branch 'runaswwwdata' into 'master'
    
    runner: Run behat as www-data
    
    See merge request integration/nightlyscripts!15

commit 405c7739d0b92095c738d386ecd7e4f059557edd
Merge: 387fe98 4b866ad
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:31:42 2018 +0800

    Merge branch '35_release' into 'master'
    
    runner: Add Moodle 3.5 version of runner
    
    See merge request integration/nightlyscripts!17

commit 387fe98f3bbab96df64377f69a43bca3e9a5d837
Merge: 6033840 4a886f4
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:31:23 2018 +0800

    Merge branch '35_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!16

commit 2bd6d1b63c16e4097dc254c007bdb4de592336bd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:59:06 2018 +0800

    runner: Unset skiplangupgrade for end of on-sync period

commit 4b866ad334144dda7bfa17817d8b7fe353598afa
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:46:36 2018 +0800

    runner: Add Moodle 3.5 version of runner

commit 4a886f415932418b42fce39ca4cb3f6eff4c80ca
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:41:11 2018 +0800

    runner: Set skiplangupgrade as part of on-sync period

commit 53614eb42297c8cac8caeee7f6feac4c1ab16eba
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 9 08:21:18 2018 +0800

    runner: Run behat as www-data

commit 6033840d3183e33d6af984b358a24c987250feaf
Merge: 9d25a09 2261c5e
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Mon May 14 13:19:04 2018 +0800

    Merge branch 'chownfix_again' into 'master'
    
    runner: Behat has a different datadir
    
    See merge request integration/nightlyscripts!14

commit 2261c5eefa591503bcd47d4ea1fbf4c4ff6917e7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 14 13:18:28 2018 +0800

    runner: Behat has a different datadir

commit 9d25a09583686a7e8aca6f77cd394f90e1f841d0
Merge: dfe3af4 74d8e1f
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Fri May 11 23:21:15 2018 +0800

    Merge branch 'fixchown' into 'master'
    
    runner: Fix bad bashism
    
    See merge request integration/nightlyscripts!13

commit 74d8e1f1b73c8868622ab6d945878c993eb4df3f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 11 23:16:22 2018 +0800

    runner: Fix bad bashism

commit dfe3af4f20b50d1ecadacb30388e7f8e43e2f15c
Merge: 65f3858 8b56620
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue May 8 07:26:08 2018 +0800

    Merge branch 'chromebump' into 'master'
    
    runner: Bump chrome selenium to 3.11.0-dysprosium
    
    See merge request integration/nightlyscripts!12

commit 8b56620b8650c48889ba9d7df840ab8715eb034e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue May 8 07:06:37 2018 +0800

    runner: Bump chrome selenium to 3.11.0-dysprosium
    
    Selenium version 3.11.0-dysprosium (rev e59cfb3)
    Chrome version: 66.0.3359.117
    ChromeDriver version: 2.38.552522

commit 65f3858a655d83b76fbef2c14fcbe8a5489436f8
Merge: 11f0175 6d7e753
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Sat May 5 12:13:43 2018 +0800

    Merge branch 'selspread' into 'master'
    
    runner: Fix parallel runs to use own sel
    
    See merge request integration/nightlyscripts!11

commit 6d7e753f6d35148afc34a6800f119529d725b702
Author: Mark Johnson <mark.johnson@open.ac.uk>
Date:   Fri May 4 22:14:56 2018 +0800

    runner: Fix parallel runs to use own sel

commit 11f0175f567ec57cb08a6b94db96ae79dcaf42fc
Merge: 922c2b2 15afb3c
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 3 17:16:35 2018 +0800

    Merge branch 'chown_after_init' into 'master'
    
    runner: Chown after behat init
    
    See merge request integration/nightlyscripts!10

commit 15afb3cf686248b16a682fefa00e0730250bbe46
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 3 08:08:52 2018 +0800

    runner: Chown after behat init

commit 922c2b20532fac6258026d7d408aca705ef8e1c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Apr 20 12:58:58 2018 +0800

    runner: Extend oracle wait period to 2 mins

commit 4001447d0a615e6348920f5595ba6255127eec16
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Apr 20 12:49:25 2018 +0800

    runner: Correct variable usage

commit 9ea358d3f8934564aa3340ffbaaceec2a3b9fe4e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 09:21:56 2018 +0800

    Revert "runner: Remove wd config from behat_profiles"
    
    This reverts commit e0c4f72be58daddb5d092bca884ebdc866adb574.

commit 116f8f3e6a80409de9398cc23ebb4a5300dd8e4f
Merge: 8269a04 e0c4f72
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Apr 18 08:39:58 2018 +0800

    Merge branch 'selbrok' into 'master'
    
    runner: Remove wd config from behat_profiles
    
    See merge request integration/nightlyscripts!9

commit e0c4f72be58daddb5d092bca884ebdc866adb574
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 08:34:48 2018 +0800

    runner: Remove wd config from behat_profiles

commit 8269a046fcb2855229fc4775c2aea15b0bfe4946
Merge: 960a332 235b954
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Apr 18 07:09:03 2018 +0800

    Merge branch 'oracle_async' into 'master'
    
    runner: Disable async IO on Oracle
    
    See merge request integration/nightlyscripts!8

commit 235b9546035d4f994b858a59209b4a9e049f5eb8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 07:07:23 2018 +0800

    runner: Disable async IO on Oracle

commit 960a332b17a56b5d28753947f7ff93bcbb985f44
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Apr 17 11:25:00 2018 +0800

    runner: Add support for running a single testsuite

commit 7ed139975968fbf64273d230cfbfaec1d41e2b22
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Mar 20 15:58:34 2018 +0100

    Fix for !7, make MOODLE_VERSION global

commit b9943cf42d2237c53cfa8f072374f92c63012a27
Merge: 2f884bd 7839b8a
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Tue Mar 20 20:46:36 2018 +0800

    Merge branch 'no_fail_on_risky_for_31' into 'master'
    
    --fail-on-risk is not available before phpunit 5
    
    See merge request integration/nightlyscripts!7

commit 7839b8a9c9ff06fadddf30c881380bb5a623bc87
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Mar 20 11:43:08 2018 +0100

    --fail-on-risk is not available before phpunit 5
    
    Hence, don't use it for <= 31.

commit 2f884bdcb0baca67e82ad92c93aa7d8b39912eac
Merge: e983eeb 2c08619
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Mar 20 08:43:17 2018 +0800

    Merge branch 'failonrisky' into 'master'
    
    [runner] Fail on risky tests for phpunit
    
    See merge request integration/nightlyscripts!6

commit 2c08619df1d206805f406af51f2bd13f2f82c89f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Mar 20 08:36:12 2018 +0800

    [runner] Fail on risky tests for phpunit

commit e983eeb08d9e7c217f023ed6f63ea43161a19630
Merge: 934f0de 32fb897
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Tue Mar 20 08:02:05 2018 +0800

    Merge branch 'makes_test_output_risky' into 'master'
    
    Be strict about tests output. Mark them as risky.
    
    See merge request integration/nightlyscripts!5

commit 32fb8972f26b1c7e8c492cf80c465a2d8f1bc0cf
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Mar 19 20:24:38 2018 +0100

    Be strict about tests output. Mark them as risky.

commit 934f0de142b53c39eb6ec67b14964ce731ea55bb
Merge: 10d69ae 1239517
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Mar 6 00:53:23 2018 +0800

    Merge branch 'pin_pg_967' into 'master'
    
    Pin postgres to 9.6.7 because 9.6.8 leads to DDL failures
    
    See merge request integration/nightlyscripts!4

commit 1239517482c1cafdf33cdf715afce4920ab9d219
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Mar 5 17:51:19 2018 +0100

    Pin postgres to 9.6.7 because 9.6.8 leads to DDL failures
    
    See https://github.com/moodlehq/moodle-docker/pull/77

commit 10d69ae85da03dab502430e8dbc01c1dff7b79ac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 16 09:22:53 2018 +0800

    [runner] Add copyright information

commit c07c5a379e6cbb1f77b43bef5267eadc50d2391e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 16 09:21:22 2018 +0800

    [general] Archive old nightly scripts
    
    The Old Nightly Infrastructure is dead.
    
    Long live the Old Nightly Infrastructure.

commit 6c097c30eda6441ef66034d8f97b4bc5568ac769
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 6 08:35:59 2018 +0800

    [runner] Correct exitcode for phpunit
    
    This was a fault after the introduction of loops which meant that the
    true exitcode was overwritten.

commit b1b19e4d9a97610dc643e44785cb504ff9866b83
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 6 08:31:18 2018 +0800

    [runner] Add README

commit dd730f31a1a083b2dd51716c01454012d40b1092
Merge: e14c18c eb71f3f
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Mon Feb 5 23:35:21 2018 +0800

    Merge branch 'rajagain' into 'master'
    
    [runner] Switch back to raj images
    
    See merge request integration/nightlyscripts!3

commit eb71f3f9e824bc4891fafd71743586276272f08e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Feb 5 17:31:28 2018 +0800

    [runner] Switch back to raj images
    
    Raj's image seems to have some magic which is not present in the
    Selenium official image, though they appear nearly identical.
    
    This change backs out the hub change and instead uses the
    behat_parallel_runs to setup WD config as appropriate for both Firefox
    and Chrome.

commit e14c18c8bfb8948b0a77b0439580ff882d3f8f9d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Feb 5 13:05:47 2018 +0100

    Get rid of incorrect version and browserVersion caps

commit 32aeae46f8bbee9c16e65473b50e34f33dede2bc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat Feb 3 17:16:16 2018 +0800

    [runner] Save web server logs to file

commit 57e69aae4d08b55ebb2b1f87dffc661753588f38
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 11 15:43:59 2018 +0800

    runner: Use selenium grid with selenium per run

commit 659416237cc13a1626bf7c1a12028ab537b16b3c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 23 13:47:18 2018 +0800

    runner: Do not quote junit path - it tries to write to quote

commit 758be2e0cbf999c04b09a1815e7aaf4982708ff7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 22 13:49:18 2018 +0800

    runner: Add debugging to behat init and run

commit e9c897a76454ae6fd1d28c6a38bea292da994ada
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 16 15:35:17 2018 +0800

    runner: Switch to raj image
    
    Looking to try and remove differences between old and new.

commit d335319a094e17e30534e2773904da70261b1597
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jan 12 15:13:10 2018 +0800

    runner: Assign shared mem to Oracle

commit e2bd778180ecb0ab90cc30284d64945bc7cd0109
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jan 12 10:16:51 2018 +0800

    runner: Adjust how shared memory is allocated to selenium
    
    This is after changes to the recommendations from Selenium in their
    Docker README.md.
    
    They are now suggesting allocating shm to all browsers, not just Chrome
    as they previously suggested.
    They're also suggesting that you can use --shm-size instead of mapping
    /dev/shm which seems like a cleaner approach.

commit d457b833b2913bcf6f2a87186d5ac86f683446c3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 11 13:50:40 2018 +0800

    runner: Switch to Chrome + Selenium 2.7.1

commit d762de8ab7d76702a4eecd4519d4bd589f05393b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 10 13:35:25 2018 +0800

    runner: Support iterations

commit ca84659acbaf2cb3cc6a670ba2e164bde923ad85
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 10 12:24:48 2018 +0800

    runner: Switch to chrome + selenium 3.0.1 as per matrix

commit 9e1fcbdde3ffe13f77bdf2fbf49620976706cb40
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 8 08:10:05 2018 +0800

    runner: Add PHPUnit LDAP tests

commit 2d0e661a1ff80ec61582f0cdae7a4b263e66eb84
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 4 15:05:35 2018 +0800

    runner: Do not expose the selenium port

commit dcc244ccf400c471ddfc6239b773ecf0c10539e5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 2 10:36:14 2018 +0800

    runner: Make cachedir easier to fudge

commit ebcbd526ec20467d3e91e6ad89ac00aac3c1f3ba
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 2 10:20:43 2018 +0800

    runner: Add support for tags

commit 3d59a431fc8f74110923aea81482357a471a6e7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 19 11:30:23 2017 +0800

    runner: Correct variable name

commit 3c5e0da017857ad87938f004175ba880e9050815
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 19 10:44:25 2017 +0800

    runner: Chown workspace files at end of job

commit ba0da291e4ef4b69b4eac6215c0e492810027745
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 18 08:59:23 2017 +0800

    runner: Create nightly network

commit 1f8a3fd4e4eb1c477dcead9f59e7992e72e7b111
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 12 17:15:21 2017 +0800

    cron: Add slave script

commit 0294f7f31a650883c1b9ac2f64e8d5ac55fc2265
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 12 17:04:50 2017 +0800

    start_slave: Add slave starter script

commit 8f38704794db6efa3c1439507b612f6b31965d74
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 15:20:29 2017 +0800

    runner: Correct image name for exttests

commit ffd54a51b2343502a4e5411a1227f5b685c7f4bd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 15:01:27 2017 +0800

    runner: Correct variable name

commit dcaf5ef44faef63417eb796d10d11b3d95ea4bbb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 14:17:35 2017 +0800

    runner: Use external tests
    
    This makes use of the external testing URL now that MDL-60948 has
    landed.

commit 41b7738b0f9a6680ab401c772401171f9dd943a9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:53:46 2017 +0800

    runner: Sleep longer before starting postgres tests

commit ed533cc1bc1ec83fb37fc9245c33520ae8cf9afb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:46:49 2017 +0800

    runner: Syntax fix

commit 15e581022cd5d383d21a018f727347c95b6e3371
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:05:04 2017 +0800

    runner: Handle ALL suites condition for behat

commit 71693c14d9e7f5259a5b7690e891f4fb8e6d0d9d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:02:28 2017 +0800

    runner: Do not normalise mssql to sqlsr
    
    We need to be able to test these individually on 31, and 32.

commit 15b5fa8f18a391cfca88dc73cdb3033a3a5ec05d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Dec 10 11:41:01 2017 +0800

    runner: Correct PHP_VERSION specification

commit 4343f4c23db1584cc19d7096bd47ab081e1a40be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 12:51:15 2017 +0800

    runner: Add back to job summary

commit a4bc164aa3ad2262298120dbbdbd9bcaa49252f9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:44:59 2017 +0800

    runner: Move DB summary to ensure correct info

commit f936648da2f9c35aee8fb1893efd3bbccc6d9ecb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:44:45 2017 +0800

    runner: Use variables for DB creds

commit 7ca3b1ed438053da2c4ca2b3a3c93b3cc9d17957
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:43:54 2017 +0800

    runner: Correct Oracle init

commit 98ce1bc9347275f8626e44a0d5c66b899e179beb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 09:31:43 2017 +0800

    runner: More delimiter fixes

commit d2c7c9e6fe18df9c58b78b4d2c26fbf7eeb3f8a2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 09:21:09 2017 +0800

    runner: Improve section delimiters

commit 489254179dacc5f24e3a6c436f2baa1b4abfe805
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 08:59:13 2017 +0800

    runner: Correct behat init for alternate suite

commit 6ec6ba172a213b10bc1ca10390d0abea1631e0d3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 12:29:50 2017 +0800

    runner: Add markers or console collapse

commit eefb24f88dbedd818c9061d7c71316c1461b7729
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:52:39 2017 +0800

    runner: No need to drop if DB per run

commit 914135a8420407fddc12a5646f712a6d6712021c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:49:33 2017 +0800

    runner: Config belongs to version

commit ba4f4b32de8c1750031239cc2f7ca3c6c0ce10f3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:46:46 2017 +0800

    runner: Add more debugging info

commit d5bddc6c59fde7ddbddd748cc994b9f48f20af3f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 10:55:52 2017 +0800

    runner: Switch to versioned runners

commit e07804a002e5ccab15655672b60ed430a1abb123
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 10:11:27 2017 +0800

    run: Init database per run

commit bd4185f8d77ee19fb9140ad7afb220d642f23731
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:18:58 2017 +0800

    General: Tidy up all old files

commit 18b304a8103cce6071023a1fed4e91701016d07c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:15:32 2017 +0800

    run: Make 31-/32+ config changes clearer

commit bbd9f4720de9dc5904230a163496e544e562f4ab
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:14:51 2017 +0800

    run: Add clearer exitcode info

commit c5c601923acd98eb6a83b875f8d191592db2c4be
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Nov 27 00:04:58 2017 +0100

    config: 35 lang packs available, disable $CFG->skiplangupgrade

commit a1aa6d14ea45c091b357d7b4bfd9060bf87a9c68
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 14:01:24 2017 +0800

    run: More tidyups

commit 277474ca21004edd5ed392646dd447b9ca62af64
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 13:56:13 2017 +0800

    run: Tidy up DB details

commit ac70cfde1eceb5f7225706b609461e393366ba1a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 13:43:09 2017 +0800

    run: Allow configuration of PHP version

commit affd3c837dcb2bcdb711f026f7ad4749920f1ccc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 07:59:11 2017 +0800

    run: Add new job runner

commit 7357e301394db5935acdb15b4d22d2101bd79aa2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 11:44:36 2017 +0800

    configs: Start of on-sync. Skip lang upgrade in cron.

commit e98400eab6abbefce75b9fc26dc8cfa0fb6baef7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 08:49:18 2017 +0800

    docker_run: Add configs from docker image

commit d3327c852165fbfe89cbac7d516db3fa2c330530
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Nov 14 09:28:53 2017 +0800

    exttests: Add HTTP ext tests repo

commit e347a8389df0cdd48924d8ddd89e8593c87bbe9e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:59:41 2017 +0800

    docker_run: More interpolation fixes

commit dd5b6bdbc9da895a304212f979ae77b58c2b0a73
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:53:01 2017 +0800

    docker_run: More interpolation fixes

commit 9924855316b68a98a07835201bd99cf893b33148
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:42:03 2017 +0800

    docker_run: Typo fix

commit 028c4fa484b7f01ffef3f0e71284c5b1fffeaf91
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 12:38:23 2017 +0800

    docker_run: Quote MOODLE_PATH

commit 782b8a2f6ff8591729e9d46a0528dd6a79dfb76b
Merge: e6afa68 2041c1f
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Mon Nov 13 12:23:12 2017 +0800

    Merge branch 'dockerdb_34' into 'master'
    
    dockerdb: Add branches for 34 release
    
    See merge request integration/nightlyscripts!1

commit 2041c1fb344f979721087fc0d4d762b89427cdfd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 12:05:49 2017 +0800

    dockerdb: Add branches for 34 release

commit e6afa686e23c506b5d3448350668d14491ef6723
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 11:44:36 2017 +0800

    configs: Start of on-sync. Skip lang upgrade in cron.

commit bd26b5c923b10773a31e393feac6d97f183c2562
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 8 08:43:54 2017 +0800

    dockerdb: Switch to 2017-GA
    
    This change is now possible as we've switched to use of the overlay2
    docker storage driver.

commit 5bf9826b4f352bf69aff28dda1bd535f6dcf1a14
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:23:30 2017 +0800

    cron: Correct cron format

commit f71fed4d803e791ae3ed1b45a2c9609ceadc80c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:20:34 2017 +0800

    dockercleaner: status = exited

commit cf36cefc225bc6d9351a8ce93ffaeede6800b674
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:18:03 2017 +0800

    cron: Add daily job for dockercleaner

commit b368011028618e584312eac655ec14d27c2e4212
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:12:51 2017 +0800

    dockercleaner: Make this not suck

commit 934e3a853c1c4ec2ce28a50b77a6387642a2d5be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 11:42:52 2017 +0800

    docker_run: Quote MOODLE_PATH

commit b772068b5ce55a7d8ea1931c0fda53c9ce20303a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 10:11:35 2017 +0800

    dockerdb: Switch to use moodlehq image

commit ee752cb4065fbd161b25d844aeffeb2d6506796c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 10:11:26 2017 +0800

    dockerdb: Add DB for php71

commit b11856d97e7200cd1a133e4f685513a179ba6b34
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:35 2017 +0800

    dockerdb: Stop mapping ports.
    
    Welcome to a pure docker world. No more bare-metal builds to have
    headaches with.

commit ca1bfc0f27ecc8a88b7650daf4ab24cb0cb31d75
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:16 2017 +0800

    dockerdb: Add dbs for master

commit 4f9f95d93046607e93c6e996477946e2389d2f70
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:06 2017 +0800

    dockerdb: Remove outdated docs

commit dfed5a9d2cb2eddc80c8b4d3824870c87f2980b2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Aug 3 12:00:55 2017 +0800

    dockerdb: Do not wait for docker DB starts

commit a87eb0e4242eb2acacf7e94950f2a0e6f177dd99
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 13:56:17 2017 +0800

    dockerdb: Correct DB name

commit 443787c7e0adce39a39b156d9a99a7940a1d6014
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 10:51:56 2017 +0800

    docker_run: Switch to official Chrome Selenium image
    
    The previous image we used had a broken commit for :latest, and the
    previous version was not readily available.
    
    I've switched to the official, standalone image.

commit e101af4ae0a5d023c04b6558120d385945efc9c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:15:27 2017 +0800

    dockerdb: Add new DBs for generic job usage

commit 4de9fb6d5c49cf9cf9d9aa53dbdf3e89a6443e62
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:15:06 2017 +0800

    dockerdb: Pin to Postgres:9

commit 6e525795a7366fe88e7ea2b647dc4208aac5f35d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:11:51 2017 +0800

    dockerdb: Improve help for dockerdb

commit 7f82cbcc91fdb5acf981df3729897a1fccca0080
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:59:00 2017 +0800

    dockerdb: Fix mariadb to version 10.1
    
    We don't have compatability with 10.2 (MySQL 8) yet.

commit 07379159cfece3d4927e1a4d31e04cf38576bb00
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:46:50 2017 +0800

    cron: Fix cron scripts
    
    These weren't working before because of a mix of ownership issues, and
    other stuff.
    
    I've changed this to a model of job and script for easier future
    maintenance.

commit a8c2b674f50c189ff4dbcd8f3a0237bbd7bad117
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:16:35 2017 +0800

    docker_run: Make docker stop more resilient, and stop removing container
    
    In some instances, the docker images were stopped and removed before the
    trap was hit. This meant that the test was subsequently failed because
    the container no longer existed.
    
    I've made it more resilient by looping over a list, rather than the
    common shorthand. I've also stopped removing the container because the
    removal means that we lose the logs too.

commit eedbd25f2d5b72d829d628190cf6697dadd22b81
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:14:52 2017 +0800

    dockerdb: Stick to sqlsrv:ctp2-1
    
    sqlsrv:rc1 is buggy and broken on some nodes.

commit 02c8e9ca341c4951d9adf439e2cf7473cc1ab8ae
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:41:33 2017 +0800

    maintenance: Correct file permissions

commit b77ec90f15f2bb6f4d6eda81b82eb7b57610a1fa
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:38:56 2017 +0800

    maintenance: Add config backup script

commit 2a85bdd3fe89bd51dbdb96ab98f7231ea5ae8119
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:29:15 2017 +0800

    docker_run: Add DB Prefix info to job summary

commit 72624fb9daf198d48d6ed70511234b8b30a76ce4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 10:32:39 2017 +0800

    docker_run: Clean up images correctly after run

commit bd0ccda93bb07cee55597838de58125d05dcd135
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 08:45:09 2017 +0800

    dockerdb: Add DB for T.01

commit 6abfeecbbf93d5cfd92bb23f0bc6865f7a6ab00f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 08:43:36 2017 +0800

    docker_run: Remove old MOODLE_BRANCH param

commit 704e0ee73f9121f1417228b8ce3d6c835d73019f
Merge: 9f40477 095784d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jul 24 13:16:04 2017 +0800

    Merge remote-tracking branch 'origin/named_jobs'

commit 095784dd8d5b2203268331411fc042fb98342e5d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat Jul 22 15:45:11 2017 +0800

    docker_run: Silence empty directory removal

commit eefe579c3b889c136cc15fff0eab25b33be9be86
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:38:19 2017 +0800

    docker_run: Run as $UID instead of jenkins

commit a8f964328b50cfa66d7d83d792976ed0c71056f4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:36:47 2017 +0800

    docker_run: Bindmount the composer cache
    
    Note: The images we currently use run as 'rajesh' because of UID
    matches.
    We need to solve this better.

commit ec440419e11dbaffee7c6965204ac52b3cdf7f93
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:36:17 2017 +0800

    docker_run: Stop running composer outside of docker

commit 9f40477e8fac197daf534b9e069ef9371ed2f0c7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:17:34 2017 +0800

    docker_run: Remove commented out code of yesteryear

commit c2793912e22de14e34c9b4c945389343fc19f7db
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:20:51 2017 +0800

    docker_run: Switch from linked image to named on-network image for selenium

commit 2ebbbf935327deaae0ed11e39deea90d1a50465e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:54 2017 +0800

    docker_run: Switch to uuid naming

commit f4c977987cb705453c661102ecc1db4271ac5b3b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:38 2017 +0800

    docker_run: Ensure docker is on a network

commit 24193e89122a6772bf54a2a649c6c86c64efc425
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:29 2017 +0800

    docker_run: Remove more commented

commit 426ace636b8d1d8d8c5be2705a9e7735c216e494
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:02 2017 +0800

    docker_run: Ensure docker is on a network

commit 8b562166645f72ae7898c61a43b7f3bf323e1bc3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:18:31 2017 +0800

    docker_run: Switch to uuid naming

commit dca896e92f9b622dfad9cd4ba1b9bf50124c9209
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jul 13 20:52:41 2017 +0800

    MDLSITE-5153 no exceptions for any php version / database
    
    Moodle 3.4 and up requires php70. mssql is not availale for php70
    (only sqlsrv is) and oracle is too. So commenting any exceptional handling.

commit fc03eba427bd1f743b6368355fdd6419e94e09d2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 5 11:31:30 2017 +0800

    docker_run: Add info about the current run

commit e4b0f7479fcb1fbb408b7a3b566728bb5c910937
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 5 10:55:58 2017 +0800

    dockerdb: We need 31 databases again

commit 65d95d9f13934880103988a825c645b30f4c2dc3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 16 13:39:07 2017 +0800

    dockerdb: Put Oracle data on tmpfs

commit e4f4348e435d0e28abd404fc747774dd83128155
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jun 15 09:51:50 2017 +0800

    cron: Add cron scripts (Fixes MDLSITE-5150)

commit 4d0c445d765efe3bdc622cfe58f82dd014abf77e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 11:53:25 2017 +0800

    dockerdb: Add more MySQL/MariaDB tuning

commit e5ed9d0649a1f365d64e95e1581deca2d5128c7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 10:44:02 2017 +0800

    dockerdb: Add some tuning

commit 8c81986d547e4d0c9332b093a2b51d6eaa0d65b5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:37:16 2017 +0800

    dockerdb: Add improvements found in MariaDB

commit a489d422740bb0eda073cb5a066aa6f7bd2b4687
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:36:57 2017 +0800

    dockerdb: Switch to fixed version of the official mysql image

commit 4b1e69023176821b43d684c803883612515e4cd1
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:36:31 2017 +0800

    dockerdb: Expand mariadb detach option

commit 96adaf626df1e2452acb4c68122fb1a583132001
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:29:00 2017 +0800

    dockerdb: Move MySQL/MariaDB Password to environment
    
    Recent versions of MySQL emit a warning when the password is specified
    as a CLI argument.

commit bdf127cff2de7cd03667ef85ee2c8a6e6bef65b5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:24:08 2017 +0800

    dockerdb: Correct spacing of DB name for new DBs

commit 5bc5491c1c576c8357c37ab6188806cb47bcacf9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jun 1 06:23:35 2017 +0800

    Revert "docker_run: Build in a network"
    
    This reverts commit 9efbb8bdbf02b2b1f3addea489d1bb8a2d0df7a4.

commit 4ff6531e10df7cdd8adb427e22a3f7cbe292cd9e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:48:30 2017 +0800

    dockerdb: Add DB for php7 runs

commit 0ee70b8f75b45c93e755980e4a8430592229b775
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:38:35 2017 +0800

    setup_run_phpunit: Stop changing the MSSQL DBName if we don't need to
    
    The old VM only had one database, whereas the new docker image has one
    database for each run.
    
    We need to preserve the running for the old database in case we need to
    resurrect any old jobs.

commit de6c7b70c173114517b77f39b1f45c5f1c89e036
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:28:40 2017 +0800

    configs: Add parallel boost template found on nightly02

commit f431c5240e3a20284d54a06305d02fe2bccc6f54
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:23:27 2017 +0800

    configs: On-sync has ended. Stop skip langpack upgrades

commit 9e73afd89594cedcd5fd7f139fdfc938cbefd975
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:01:41 2017 +0800

    setup_: Echo out information on which database is being run today

commit 984216dc9744386ad7c3300567259cb2a5ce5437
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:49:57 2017 +0800

    dockerdb: Remove tmpfs from mssql

commit 106f1900994acfc909e00bf8e3bd6c90d953f0be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:42:00 2017 +0800

    setup_run: Add DbPort option

commit b2d1f42768ec382cb4a4c74ce87b45ca19ff9f0d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:40:17 2017 +0800

    configs: Add DbPort to match setup_run_phpunit

commit 0cb102cbfebe11f05fbad6f47997064905e12e67
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:35:34 2017 +0800

    configs: Bring config.php templates into git

commit 9efbb8bdbf02b2b1f3addea489d1bb8a2d0df7a4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:33:16 2017 +0800

    docker_run: Build in a network

commit 4d8e4e1faa7b6c3f3d1752c54aabd265975db986
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:29:49 2017 +0800

    dockerdb: Silence network creation

commit 4f7f121634150a2cecc9b7758c268fa2e4b81612
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:29:31 2017 +0800

    docker_run: Expand out docker run

commit 7d234526c5f9aa14a46a7a5f02868d1eae9803dd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:12:02 2017 +0800

    setup_run_phpunit: Add DbPort option

commit 73f48e29719c07b674095f0fd14a2834f831cc26
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:11:40 2017 +0800

    dockerdb: Add mariadb configuration

commit 2e7da39c72f1593e31bff286814abde3d71aa04d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:11:12 2017 +0800

    dockerdb: Add pgsql tuning

commit daf2b768391559c3ca9624ca9affac4acdbde6d9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:10:52 2017 +0800

    dockerdb: Move database partitions to tmpfs

commit 60f82163aeb3024864a24278cad9fb1ca565a2cd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:09:36 2017 +0800

    Move docker DB servers to their own network for better DNS resolution
    
    This makes use of docker's internal DNS resolution, which is only
    available to hosts running on a custom network.

commit 467b83601e8194df07a2277170fb72bcace7ed0e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:09:09 2017 +0800

    Expand docker run for db setup

commit cf5494b2faa2be57cf2cfe57d8645eb1e7bc457e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:06:55 2017 +0800

    Add support for DB Port to docker_run

commit dbfa320c859cbf9997b7dab94560d18496b63990
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:56:22 2017 +0800

    Move mariadb to tmpfs

commit 06defa01587affac144628d9704f9ed7b9902dec
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:51:18 2017 +0800

    Add .gitignore

commit 5754c93fe748b6423d3e1e9fdbc7b2d629d6aa48
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:50:36 2017 +0800

    Add Jenkins maintenance scripts

commit bb24bbefb3e83e40bb68dc3ad265159a854d45ca
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:50 2017 +0800

    Remove archive

commit f0d65eaaa0b56f71190703bf4cdc2f52ef76abaf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:43 2017 +0800

    Add archive

commit d059d034161e4f159e58c10814acfed8d74a4bf0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:10 2017 +0800

    Note about adding/removing databases

commit e000d5b1d44e6b787e547786d5b2bb91b23cbbdc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:37:25 2017 +0800

    Add a quick readme

commit 452fbb9bb177232fb6d63e294ac41903c612c3d0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:23:14 2017 +0800

    Switch to Dan's Oracle image

commit 2da98ad152dbb3ba371968f1d8b428daafd18dfe
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:23:02 2017 +0800

    Remove 21 databases

commit 261d4af18497ff63db71ead7a16aa6ddf622198f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:22:41 2017 +0800

    Tidy up faildump dir creation

commit f0b2fa4afa2515d739eca10b84653e0208da38b7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 15:44:42 2017 +0800

    Expose the sqlsrv port

commit 51891bb10cf4e61cebd6a0e6a20d88bbf563cd7b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 15:44:29 2017 +0800

    Correct DB init for sqlsrv

commit aea44409111987fd236d4f7e8abb5cfc6463af4a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 14:05:15 2017 +0800

    Correct docs for sqlsrv docker

commit 05b4937c3702d2069d2db48a6474a331a118dad1
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 14:04:19 2017 +0800

    Add M33

commit 04d79d0f0ca77f625731396a4dedc1d02d451c9b
Author: ${username} User <jenkins@nightly.test.in.moodle.com>
Date:   Wed Apr 12 09:16:37 2017 +0800

    Nightly scripts checkin
======================: FILES :======================
======================: BRANCHES :======================
======================: LOGINFO :======================
commit 2f5e8e5332c2e80cc4168bc1b176549ad8d099df
Merge: 88dd7f7 b429255
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Dec 15 10:24:16 2022 +0100

    Merge pull request #91 from stronk7/point_to_latest
    
    For sqlsrv, switch from 2017-latest to latest

commit b429255a73f0d36610f8f1e4999154dbfb411034
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Dec 11 11:31:13 2022 +0100

    For sqlsrv, switch from 2017-latest to latest
    
    Note that, right now, "latest" is exactly 2017-latest, so
    everything will continue working exactly the same.
    
    But once we finish with the tests @ MDLSITE-6045, we'll make
    2019-latest to become "latest".
    
    That's the reason the comment in the runner says
    "right now 2019-latest", because in hours, if everything
    goes ok, 2019 will become the latest.

commit 88dd7f7c32dd1e3254317d64073cdfc47c899146
Merge: dacb4b9 8c6c8fe
Author: Jun Pataleta <jun@moodle.com>
Date:   Sat Nov 26 19:25:57 2022 +0800

    Merge pull request #88 from junpataleta/41_disablelangupgrades
    
    Disable lang upgrades during 4.1 on-sync
    
    Merging as part of task #4 in packaging release tasks

commit dacb4b96c4d51d5cb1a24f05f9f488129d8fc712
Merge: 6b8f0e8 32ecdaa
Author: Jun Pataleta <jun@moodle.com>
Date:   Sat Nov 26 19:25:03 2022 +0800

    Merge pull request #90 from junpataleta/MR2_41_version
    
    Add Moodle 4.1 version
    
    Merging as part of task #4 in the release packaging tasks

commit 32ecdaa16beeec566d2821157021bbef6a42f890
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Nov 22 23:38:46 2022 +0800

    Add Moodle 4.1 version

commit 8c6c8fe66878f63b5b42e57d58f7b7fe6f056f78
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Nov 22 22:36:40 2022 +0800

    Disable lang upgrades during 4.1 on-sync

commit 6b8f0e857c07c8c1452df201c73769e9e6ca8d3f
Merge: 23d1022 79c14c9
Author: Jun Pataleta <jun@moodle.com>
Date:   Wed Aug 31 14:37:01 2022 +0800

    Merge pull request #85 from stronk7/postgres_replicas_10_and_up
    
    WIP: Make pgsql replicas to work with PostgreSQL 10 and up

commit 79c14c99b2af36686446ddf2b69cfae148902ef7
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 31 00:25:11 2022 +0200

    Make pgsql replicas to work with PostgreSQL 10 and up
    
    This seems to be working for PG 10, 11, 12, 13 and 14. I've finally
    left 9.6 out from the equation because it required to add some more
    shell scripts to be executed conditionally. And I think we can
    ignore that old versions @ CIs already (Moodle 3.9 works with PG 12
    perfectly).
    
    Note the changes here seem more complex, but basically it's because
    I've moved the stuff to be similar to the mysql/mariadb one, aka:
    
    - Create master / slave / standalone directories.
    - Move as much as possible to .sql entry points.
    - Keep shell scripts simple, only doing things really requiring a shell.
    
    Other than that, just renamed some setting or remove some stuff
    that was not needed (archiving, logging...) apparently.
    
    Fixes #79.

commit 23d10229496d8db16f1db3d12a384b8e1afb21d8
Merge: ef96180 6b81082
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Aug 29 16:58:35 2022 +0200

    Merge pull request #83 from stronk7/mariadb_replicas_102_104
    
    Make mariadb replicas to work with 10.2 to 10.7

commit ef96180f7f4c9112cd5559df3446f857671c33f3
Merge: 3891a8f 94a6c51
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Aug 29 10:02:27 2022 +0200

    Merge pull request #82 from stronk7/mysql_replicas_57_80
    
    Make mysql replicas to work with MySQL 5.7 and 8.0

commit 6b81082aa7fd59312deb56a891a78b055bd3930e
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 24 21:11:28 2022 +0200

    Make mariadb replicas to work with 10.2 to 10.7
    
    The code used here is 99% the same than the mysql one. But finally
    I've decided to copy it all over own mariadb.d directory.
    
    The only difference is when creating the replication database user
    because the MySQL sentence:
    
    CREATE USER 'replication'@'%' IDENTIFIED WITH mysql_native_password BY 'replication';
    
    Doesn't work with MariaDB. In fact, since MariaDB 10.2 the
    mysql_native_password is the default authentication plugin
    so it doesn't need to be specified. So this works the same:
    
    CREATE USER 'replication'@'%' IDENTIFIED BY 'replication';
    
    A working alternative is also:
    
    CREATE USER 'replication'@'%' IDENTIFIED WITH mysql_native_password USING PASSWORD('replication');
    
    But I've gone with the simple one because it's future better.
    
    As said, everything else is 100% the same, but better split that making
    complicated conditionals to get both working with the same config files.

commit 94a6c51bd7edeea66c11f9565a8839ed4e314152
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 24 15:54:12 2022 +0200

    Make mysql replicas to work with MySQL 5.7 and 5.8
    
    This fixes #80. It has been detected that MySQL main/replica
    configurations have stopped working. My personal bet is that
    some changes in the MySQL images have leaded to that, or maybe
    they were working for MySQL 5.6 and never have worked to 5.7.
    
    NVM, this commit just makes them back to work for both 5.7 and 8.0,
    that are the currently "supported" MySQL databases.
    
    Note that, after this PR, we'll be checking the MariaDB main/replica
    configurations because they may need similar changes.
    
    Also, while I've tested the solution locally, we are lacking any own
    CI for this product, so I've created an issue about that:
    
    https://github.com/moodlehq/moodle-ci-runner/issues/81
    
    Finally, here there are the explanations about the changes performed:
    
    1. Moved the bin logs from /var/log/mysql to /var/lib/mysql . Reason
       being that the former directory doesn't exist anymore in MySQL 5.7
       and up (and also, that the binary logs are better with data than
       with logs).
    2. Removed the 'multi_admin' user related stuff. Not needed at all.
    3. Minor changes to moodle and root GRANT/IDENTIFIED stuff because
       of changes in MySQL 8 (already deprecated in 5.7). Use ALTER USER
       instead.
    4. Use IDENTIFIED WITH mysql_native_password (the old password schema),
       because MySQL 8, when using the new hashed schema requires
       communications between the hosts to be encrypted. We don't need that
       extra complexity and while it can be disabled as part of the CHANGE MASTER TO
       command... it cannot be disabled for MySQL 5.7. SO the only option
       working in both versions is the used one (force old passwords schema
       for the replication user).
    5. Remove the need of stopping and starting the temp server in the
       replica. All the commands can be executed with the temp server
       running and then the container entrypoint manageing itself will stop
       the temp server and start the final one.
    6. Stop needing gosu completely. Now the replica conf files are made
       available via volume mount (like the standalone or main cases).
    
    And that's all. The changes are small and subtle, but each one is
    for a good reason, I think.

commit 3891a8f4ab36cfc5d4a7f466b0b2c78582eb9a92
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 23 12:06:40 2022 +0200

    Ensure that any Oracle > 11g doesn't use tmpfs anymore
    
    Apart from not giving a real benefit, the new machinery
    in Oracle 12 and up doesn't work well with these devices
    leading to all sort of problems is we also want to change
    system settings.
    
    Hence, disabling tmpfs. There are some more details in the
    long conversation @ https://github.com/gvenzl/oci-oracle-xe/issues/111
    (about that and many other details / iterations)

commit 08389ab2c008f1eedf9e310efc65945114bafd12
Merge: 88b8117 b6d1eaf
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Jun 6 09:13:33 2022 +0200

    Merge pull request #78 from moodlehq/testing
    
    Add support for specifying the DB tags (versions) to use

commit b6d1eafe0bac5fdae384edb516890bc13c5c070f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Jun 5 17:54:07 2022 +0200

    Add support for specifying the DB tags (versions) to use
    
    Added a new parameter, DBTAG, which behaviour is as follows:
    
    - If not specified, every database will use the currently
      pinned version (if there is any) or "latest" if not. Right now,
      the versions are:
        - mariadb: 10.7
        - mysqli: 5.7
        - oracle: latest (11)
        - pgsql: 12
        - sqlsrv: 2017-latest
    - If specified, then that tag will be used, say, for example:
        - mariadb: 10.6, 10.5,...
        - mysqli: 8.0,...
        - oracle: 19, 21,...
        - sqlsrv: 2019-latest,....
    
    So, this change doesn't make any difference in current default
    jobs (only pgsql has been raised to 12 to be ready for 4.1). Everything
    will continue running exactly as it's now.
    
    Only when we add support for that new DBTAG parameter in jobs (and in
    nightlyjobs) is when we'll be able to run alternative versions.

commit 88b8117b7ba8ca7b4e3d06282d160e5a4b23cf3c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue May 24 17:19:22 2022 +0200

    Pin MariaDB to 10.7, new 10.8 and 10.9  have problems (take II)
    
    Again (we unpinned it 3 months ago!), pin MariaDB
    to continue using 10.7, because 10.8 and 10.9 (just released) have some
    startup / init problems.

commit b93a84091e401db4f4186ddf97d76353f219803d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue May 24 16:58:08 2022 +0200

    Pin MariaDB to 10.8, new 10.9 has start problems
    
    Again (we unpinned it 3 months ago!), pin MariaDB
    to continue using 10.8, because 10.9 (just released) has some
    startup / init problems.

commit f977d82b966d0b1ac76b7fdb2f3f08e9c29335d6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 16 16:24:54 2022 +0200

    Remove the local/moodlemobileapp existence condition
    
    Previously the app was only started if the moodlemobileapp
    plugin was installed. But it may be perfectly ok to have
    alternative plugins to that one.

commit fb50f9ce19f3003286963a11431ea48303be62b7
Merge: fdce1d4 e2e1517
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Apr 28 13:56:27 2022 +0200

    Merge pull request #75 from junpataleta/40_enablelangupgrades
    
    Re-enable lang upgrades after the 4.0 on-sync period

commit e2e15170be3b1551a6e87881530be794d73f53da
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 12 11:57:36 2022 +0800

    Re-enable lang upgrades after on-sync

commit fdce1d4d7c20324b04e0d147269633e3237b2477
Merge: 7c7bee2 3a00bd7
Author: Víctor Déniz <victor@moodle.com>
Date:   Mon Apr 18 20:51:31 2022 +0100

    Merge pull request #76 from stronk7/enable_langimport_tests_when_not_skipping
    
    Enable lang install/upgrade tests only if lang upgrades are enabled

commit 3a00bd79fa53e1c0840e4c456570bb11f92f433c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Apr 18 12:37:20 2022 +0200

    Enable lang install/upgrade tests only if lang upgrades are enabled
    
    Over a few days/weeks after a major release, the lang upgrades
    are disabled in testing infrastructure, because the new development
    branch (4.1) in this case, doesn't exist yet.
    
    When we proceed to disable the lang upgrades (part of the release
    process) we need to ensure that all the tests using the languages
    install/upgrade are skipped.
    
    To do so, we don't define the TOOL_LANGIMPORT_REMOTE_TESTS constant
    so all the related tests always will look for it to decide between
    being executed or skipped.
    
    In PHPUnit that's checked with code like:
    
        if (!defined('TOOL_LANGIMPORT_REMOTE_TESTS')) => skip
    
    In Behat that's checked with the step:
    
        Given remote langimport tests are enabled
    
    For more details, see https://tracker.moodle.org/browse/MDL-74512

commit 7c7bee2f295b2f83e7e5ba38aa06ae99386fc2b8
Merge: 1499e43 25d9e32
Author: Jun Pataleta <jun@moodle.com>
Date:   Sun Apr 17 15:53:01 2022 +0800

    Merge pull request #74 from junpataleta/40_disablelangupgrades
    
    Disable lang upgrades during on-sync

commit 25d9e32c3e10c32a7dacb0c1b2340725942b95d3
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 12 11:56:58 2022 +0800

    Disable lang upgrades during on-sync

commit 1499e4388787a77a52cafc9108246458fc84fc91
Merge: 73c20f2 ecebf60
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 5 15:57:11 2022 +0800

    Merge pull request #73 from stronk7/add_ml_python
    
    Add support to run the python mlbackend analytics tests

commit ecebf60f063439c6ea7bbff375c6bf01b0a8038b
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Apr 5 09:39:06 2022 +0200

    Add support to run the python mlbackend analytics tests
    
    Disabled by default, just define `MLBACKEND_PYTHON_VERSION`
    with a correct tag of the docker image and that will make
    the container to run and the PHPUnit jobs to use it. Example:
    
    export MLBACKEND_PYTHON_VERSION=3.0.4-python3.7.5
    
    This it the first step towards adding these tests to CI.

commit 73c20f2fa47b13b55ee443f97f144a40f45989db
Merge: 4498b70 add5d74
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Feb 26 10:05:52 2022 +0100

    Merge pull request #72 from stronk7/unpin_mariadb
    
    Unpin MariaDB

commit add5d74a25780ce672084f5200bfd7bf6459978a
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Feb 26 09:45:57 2022 +0100

    Unpin MariaDB
    
    Now that 10.6.7 and 10.7.3 have been releases and their
    docker images are available, we can unpin it @ GHA.
    
    Fixes #55

commit 4498b708adf0e9fdb3d93a71c8b5495c45f388ec
Merge: 516b323 8db6d8b
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Feb 8 23:04:21 2022 +0100

    Merge pull request #70 from moodlehq/branch_40
    
    Add Moodle 4.0 version

commit 8db6d8b86392184cd3a7c271b3270bde54a69329
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 8 20:38:27 2022 +0800

    Add Moodle 4.0 version

commit 516b323cd729c295f65a017ab9cf6c0217b6de75
Merge: 6399b2f 3f79c0b
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jan 19 16:28:10 2022 +0100

    Merge pull request #69 from stronk7/bring_back_unconditional_xvfb
    
    Revert "Don't start xvfb in headless runs"

commit 3f79c0beec53c2f7e43ccbe5b9a44fcdd34cefcc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jan 19 16:20:12 2022 +0100

    Revert "Don't start xvfb in headless runs"
    
    This reverts commit 520e91ee67cb27c5f9c6973c1c9997167b1942b2.
    
    Immediately after applying #67 we have started to get all
    headless jobs failing with all sort of timeouts and > 8h
    of execution time. Headless runs.
    
    And this is the only change that has been performed since
    then, hence, reverting here and now.

commit 6399b2f204e08a2ad77a8434c834ec3ef115989e
Merge: d1dbed9 d11b5b6
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Wed Jan 19 11:24:47 2022 +0100

    Merge pull request #68 from moodlehq/alwaysFailOnRisky
    
    [runner] Always apply fail-on-risky

commit d11b5b6c4ef19936a2a5614fc16a0d1880b89fda
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Sep 26 13:16:40 2021 +0800

    [runner] Always apply fail-on-risky

commit d1dbed938e2ba091885284219dbd97452287b327
Merge: 191b387 520e91e
Author: Andrew Lyons <andrew@nicols.co.uk>
Date:   Wed Jan 19 08:24:45 2022 +0800

    Merge pull request #67 from moodlehq/xvfb
    
    Don't start xvfb in headless runs

commit 520e91ee67cb27c5f9c6973c1c9997167b1942b2
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 23 14:02:11 2021 +0200

    Don't start xvfb in headless runs
    
    It's not used and for sure will save some resources.

commit 191b387387c71179569812103595bd5fec2d62e5
Merge: adf2361 807f300
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Dec 9 16:35:42 2021 +0100

    Merge pull request #66 from moodlehq/chromedriver_bump
    
    [runner] Update to Chromedriver 96.0 custom

commit 807f300b9e362266aa2b3141ddf67c230aa9ad2f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 1 11:56:01 2021 +0800

    [behat] Force set marionette capability to true
    
    This works around https://github.com/Behat/MinkExtension/issues/376.

commit 1c8c62a863c557b43bae0537619a8108435fd10b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Nov 30 10:38:55 2021 +0800

    [runner] Update to Chromedriver 96.0 custom

commit adf2361b62d1b7575e4280c712576afb9b1a3db9
Merge: f88d0d1 2f8500e
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Nov 18 11:40:11 2021 +0100

    Merge pull request #65 from moodlehq/bbb-container-name
    
    Fix wrong BBB mock server container name

commit 2f8500e499062165875831f03d88bd6fdfa7d96e
Author: Víctor Déniz <victor@moodle.com>
Date:   Thu Nov 18 09:19:26 2021 +0000

    Fix wrong BBB mock server container name
    
    We were using the wrong container name in docker logs and getting errors during testing like "Error: No such container: http://bbbmock9145c76fb054c670"

commit f88d0d184259019a4c9d356e3196392e72c28010
Merge: a356bf8 4557921
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Nov 16 19:43:48 2021 +0100

    Merge pull request #64 from moodlehq/bbb-mock-server
    
    Add bigbluebutton mock server support

commit 4557921c4d11454fa2b9ecd15f976606c56f89c4
Author: Víctor Déniz <victor@moodle.com>
Date:   Tue Nov 16 16:26:22 2021 +0000

    Get BBB mock server image from moodlehq

commit c2f64e4e2f85d4bf4760ee2003695a81e829acc9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Sep 1 12:37:49 2021 +0800

    Add bigbluebutton mock server support

commit a356bf87df4796d291a1b98efce97d7d269622a9
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Oct 21 16:23:17 2021 +0200

    Add RUNCOUNT to de job summary information

commit 7a332221aaba02ab3f0476e7443f1c4a2659cedc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Oct 21 15:07:45 2021 +0200

    Add information about the installed plugins and their commits

commit baa4df45feb5de55fb7a14da1845b7a23bd2e5c8
Merge: 1efdc00 14292c7
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Oct 18 18:24:03 2021 +0200

    Merge pull request #62 from andrewnicols/customchromedriver
    
    [runner] Switch to custom chromedriver image

commit 1efdc007636385fe2f4455408f0ac5bd3698a8c3
Merge: f2f7295 e6d63a4
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Oct 15 09:44:00 2021 +0200

    Merge pull request #60 from andrewnicols/nogit
    
    [runner] Stop installing git

commit 14292c78bea2616b0dad6bfec5b0f5b493114446
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Oct 15 08:10:49 2021 +0800

    [runner] Switch to custom chromedriver image
    
    See https://tracker.moodle.org/browse/MDL-71108 for details on the
    reasons behind this change, and its history.

commit e6d63a4541cea00d5ad91130bdc759f4408a8bb2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Sep 26 11:32:26 2021 +0800

    [runner] Stop installing git
    
    It's installed already.

commit f2f72953bd6ce755ddeca2c47ec35bc9ea783342
Merge: 0bcac46 30e5b98
Author: ilyatregubov <ilya.a.tregubov@gmail.com>
Date:   Tue Sep 14 17:03:06 2021 +0200

    Merge pull request #59 from stronk7/unpin_chome_and_cross_fingers
    
    Unpin chrome version and cross fingers

commit 30e5b98ac88e1db6eab9c39aaeb0dc1ecb699747
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Sep 14 16:56:51 2021 +0200

    Unpin chrome version and cross fingers
    
    We are going brave here and go back to unpinned chrome version, because staying with
    the old Chrome 79 version (3.141.59-zinc) is making things really harder and harder.
    We are aware that, for headed runs, there are some zero-size errors still not fixed,
    but headless ones should run ok. For reference, the problems we are aware are being
    tracked (as of 14 Sep 2021) @:
      - MDL-71108 : zero-size
      - MDL-72306 : feedback

commit 0bcac461b8245b41a57c2fbd182641d9a2428554
Merge: 242d3fc 56741b9
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sun Sep 12 18:20:47 2021 +0200

    Merge pull request #52 from stronk7/enable_classic_accessibility
    
    Revert "Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 242d3fcedb5afbbe614a52e79071b4aa39c2c444
Merge: b039c34 0dc556c
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Aug 27 11:04:44 2021 +0200

    Merge pull request #56 from andrewnicols/mobileAppPort
    
    Allow mobile app port to be customised

commit b039c3490bcba3b4c0d9e5aab5a2a5f929c60472
Merge: 87a90c3 cfc5036
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Aug 27 10:56:47 2021 +0200

    Merge pull request #57 from andrewnicols/removeTerminalFromReruns
    
    Remove terminal from rerun commands

commit 0dc556c8c98a6711d08303466e881cf1d01dd57f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 6 15:09:19 2021 +0800

    Allow mobile app port to be customised

commit cfc5036ae3d6360e6907dde08181d21c544b5cbc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Aug 10 21:53:23 2021 +0800

    Remove terminal from rerun commands

commit 87a90c3a470400b76147906669127820e613cffa
Merge: 90e2530 eed9af3
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jul 14 12:55:28 2021 +0200

    Merge pull request #54 from stronk7/mariadb_10.5_sticky
    
    Make mariadb:10.5 sticky

commit eed9af3e0b5e7887fcd02f854a2a49883bb38891
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jul 14 12:36:35 2021 +0200

    Make mariadb:10.5 sticky
    
    New mariadb:10.6 makes the COMPRESSED row format read-only by default
    because it's deprecated now and will be removed in mariadb:10.7
    
    This is being tracked @ https://tracker.moodle.org/browse/MDL-72131
    
    Once that issue is fixed and we switch to DYNAMIC or whichever the
    final solution is, we'll unpin this.

commit 90e253075284b043da520b882101837a3483b2a1
Merge: d4dafe3 4ed4506
Author: Sara Arjona <sara@moodle.com>
Date:   Tue Jun 22 11:07:36 2021 +0200

    Merge pull request #53 from stronk7/pg10_bump
    
    Pg10 bump

commit 4ed450679cf0b3aa2e2f7e8e71348db536801457
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 21 18:29:13 2021 +0200

    PG10 minor changes (replication related)
    
    Following the information @ https://www.postgresql.org/docs/10/release-10.html
    - rename functions, tools and options referencing "xlog" to "wal".
    - log_directory changed from "pg_log" to "log".
    
    Note that both:
    - wal-method=stream
    - log_directory=log
    
    are default options so, extrictly speaking we shouldn't need to set them
    but it doesn't hurt to have them explicily defined, so keeping them.

commit a4b02874efa1b7e11aba8e1e1d5d65038a1c9c88
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 21 18:08:46 2021 +0200

    Bump to PG10, Moodle 4.0 requirement

commit 56741b9fc2f14dbc09984d8b49dc22d79bd59d14
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Jun 13 23:03:42 2021 +0200

    Revert "Disable accessibility (axe) with classic till MDL-70846 is fixed"
    
    This reverts commit 6772ca686434a36ba1f318682d5083a4f0d2e7e6.
    
    Closes #49

commit d4dafe3b6b261c3fd1b28618161bc61a9523557f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed May 19 18:42:58 2021 +0200

    Move back to our public image, it's working ok since some months ago
    
    In the past we switched to private one because of some problems
    with Oracle & Docker removing access to all Oracle images. Since
    then our wnameless/docker-oracle-xe-11g base image is back so
    we created the -r2 public one based on it.
    
    More info @ MDLSITE-5669

commit e16b54b1b13c4cbd326a597e451166c54cdb6bcd
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Mar 14 15:41:21 2021 +0100

    Revert "Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton"
    
    This reverts commit 8b96786722b4bbada3e05e63fadbe1d5e8d598f6.
    
    We are going back (to Chrome 79) because 2 errors have been
    found with Chrome 89 needing to be fixed before jumping to it.
    
    More info:
    
    https://tracker.moodle.org/browse/MDL-71108

commit d0775338e44eb115274ee38bab3d798bb3b35106
Merge: 612e041 8b96786
Author: Jun Pataleta <jun@moodle.com>
Date:   Fri Mar 12 16:45:18 2021 +0800

    Merge pull request #51 from stronk7/chrome89
    
    Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton

commit 8b96786722b4bbada3e05e63fadbe1d5e8d598f6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Mar 11 17:04:03 2021 +0100

    Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton
    
    We were waiting since some time ago to Chrome 89 to be released
    and, because of that, we had selenium pinned to 3.141.59-zinc
    version (Chrome 79).
    
    The cause for staying sticky was this issue:
        https://bugs.chromium.org/p/chromedriver/issues/detail?id=3682&q=&can=1&sort=-id
    
    Chrome (and chromedriver) 89 have been released and Selenium has
    already build the docker images for them:
    
    https://github.com/SeleniumHQ/docker-selenium/releases/tag/3.141.59-20210311
    
    So now we can unpin the old version and let the machinery to use the
    latest versions available. That's what this PR does.

commit 612e04179e19aafb236b3deebe4f0cdd7f6c5d74
Merge: 67f0ecc 6772ca6
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 19 06:51:48 2021 +0800

    Merge pull request #48 from stronk7/disable_axe_classic
    
    Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 6772ca686434a36ba1f318682d5083a4f0d2e7e6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Feb 18 22:44:46 2021 +0100

    Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 67f0eccccdfc69242fabfb8923fc09bb0d683692
Merge: 3933a35 ddaf3b6
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Wed Feb 10 00:23:58 2021 +0100

    Merge pull request #47 from andrewnicols/axe
    
    Run axe tests on CI

commit ddaf3b680a45531f53baea086bffb4ea36447636
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Feb 7 08:08:31 2021 +0800

    Run axe tests on CI

commit 3933a35e297445bb0599e152cad12efa9ed9d70a
Merge: 101866d 6c65442
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Jan 16 17:45:38 2021 +0100

    Merge pull request #43 from andrewnicols/w3csupport
    
    Add W3C Support to the CI runner

commit 101866d853bdc2a64f3caac01e554bade91201d4
Merge: 50ba133 4f04878
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jan 13 14:48:53 2021 +0100

    Merge pull request #46 from andrewnicols/stopRunningIonic
    
    Stop running ionic when not testing mobile

commit 4f0487876f9528923747c58688a1fa54a49aa795
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 13 20:59:24 2021 +0800

    Stop running ionic when not testing mobile

commit 6c65442a5daf9945126b1e2dd120758c3585d63c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:05:55 2021 +0800

    runner: Add support for headless browsers
    
    A new environment variable, 'BROWSER_HEADLESS', is now respected. When
    present and not falsey, the relevant browser-specific flags are used to
    make browsers run headless.

commit 57227eb2ae778a687f3a615d27bfd0921243938f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:05:39 2021 +0800

    runner: Add browser verbosity control

commit 5ddde8fbe35a6b3cef1eb95828ce5b3997db4d9d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 13 10:07:05 2020 +0800

    runner: Support Mink with W3C driver and browsers
    
    This commit makes changes to support both the legacy instaclick Mink
    driver, and the newer W3C-compatible Mink driver using the php-webdriver
    project.
    
    To support this we now detect whether the instaclick driver is in use,
    and if so use Firefox 47.0.1, and disable marionette in the browser
    configuration.

commit dc64a2e807e966e71b2f1f654703e155fd9abbcb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 10:26:47 2021 +0800

    runner: Always show Job summary
    
    Remove the section tags which cause Jenkins to collapse the Job summary.
    
    The job summary is often useful when identifying jobs and it is
    unnecessarily collapsed in a section.

commit 50ba133b698ee73a0e76d7ef08506d6a6c52228a
Merge: eb46238 cdec51d
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jan 12 18:37:34 2021 +0100

    Merge pull request #45 from andrewnicols/alwaysShowSummary
    
    runner: Always show Job summary

commit eb462380d1819e70b5f59060942858294c34aa12
Merge: bb2765e bf5d2db
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jan 12 18:32:02 2021 +0100

    Merge pull request #44 from andrewnicols/initdbfix
    
    Correct file permissions for DB entrypoints

commit cdec51dc0d49ee1995b7717933e03e1b51362454
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 10:26:47 2021 +0800

    runner: Always show Job summary
    
    Remove the section tags which cause Jenkins to collapse the Job summary.
    
    The job summary is often useful when identifying jobs and it is
    unnecessarily collapsed in a section.

commit bf5d2db9b89bb31e56469ddbf92eb8af719becfb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:10:10 2021 +0800

    Correct file permissions for DB entrypoints
    
    These scripts were missing the executable bit which was causing issues
    on MacOS.

commit bb2765e405f2aae3a675bea2f8c4d2208fe932be
Merge: 1b61851 949de31
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Dec 26 13:02:45 2020 +0100

    Merge pull request #40 from stronk7/enable_lang_upgrade
    
    Enable lang upgrades again

commit 1b618511ce0b38cb99a7b3bdfeb78f576aa84738
Merge: fa35a42 ed19688
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Nov 13 18:50:55 2020 +0100

    Merge pull request #41 from stronk7/311_versions
    
    Add Moodle 3.11 version

commit ed19688323f33d5202d3204005baa5f3ebbe6a8d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Nov 13 17:04:37 2020 +0100

    Add Moodle 3.11 version

commit fa35a4211e2fcae86562c881e745c76539a4ae82
Merge: 459f133 3210a89
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 2 09:06:15 2020 +0800

    Merge pull request #39 from stronk7/logs_take2
    
    Better log file names + also log phpunit images

commit 949de31e7f22733033ad453ecb3ed64284db9cb9
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Nov 1 23:38:59 2020 +0100

    Enable lang upgrades again
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information
    
    Under parallel development, until the new dev branch (310_STABLE in this
    case) language packs are and available.

commit 3210a89b6e017f1faa1c09eb6d7678959d75aa7e
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Nov 1 16:45:48 2020 +0100

    Better log file names + also log phpunit images
    
    This does a couple of things:
    
    1) export all logs using better container names (names instead
       of ids, with some current names improved "run => webserver...)
    2) move the log exporting out from behat section, so it's also
       executed for phpunit runs and we get other logs that could be
       also useful at some point.
    
    This is a followup of https://github.com/moodlehq/moodle-ci-runner/pull/38

commit 459f133ee1e669b2da1848738037e7ef36b99222
Merge: e7d8e7b 1e3d130
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Oct 29 09:50:46 2020 +0100

    Merge pull request #38 from andrewnicols/logs
    
    runner: Store all of the docker container logs

commit 1e3d130c8a82fa4bdfb8e8c23faa6d02e37d47d4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Oct 29 15:52:11 2020 +0800

    runner: Store all of the docker container logs

commit e7d8e7b6f23e51197c25426f35140c9d0e96349a
Merge: ea04e94 21dfcbc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 17 19:32:11 2020 +0800

    Merge pull request #37 from stronk7/unpin_mariadb
    
    Unpin MariaDB and remove deprecated / removed settings from config

commit 21dfcbc2bbbe8c5e5c9385502b7452b51cbf8f98
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Sep 11 23:24:24 2020 +0200

    Unpin MariaDB and remove deprecated / removed settings from config
    
    this shouldn't affect MySQL because current (5.7 and up) defaults
    match the settings.

commit ea04e944683151460664535547542a0d38319343
Merge: 5af1206 bacbb8c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 10 17:56:40 2020 +0800

    Merge pull request #36 from stronk7/show_behat_increase_timeout
    
    Show the BEHAT_INCREASE_TIMEOUT config value on all runs

commit bacbb8c29354cc5487fd7d912d66dc2472c78e44
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Sep 10 11:06:24 2020 +0200

    Show the BEHAT_INCREASE_TIMEOUT config value on all runs

commit 5af1206badce74f734fb98f0ec8b6a6d2c1318ca
Merge: f679b06 8cd284f
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Aug 11 11:35:09 2020 +0200

    Merge pull request #35 from stronk7/disable_lang_upgrade
    
    Disable lang upgrades, to be enabled once the lang branch is available

commit f679b067f2a41892d8db739a102aa319ffc1d8f4
Merge: b9064c7 bedb181
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Aug 11 11:34:52 2020 +0200

    Merge pull request #34 from stronk7/310_versions
    
    Add Moodle 3.10 version

commit 8cd284faa1aa6002b08acf13b4776b9f2a74a90c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Aug 10 11:08:23 2020 +0200

    Disable lang upgrades, to be enabled once the lang branch is available

commit bedb181218d3dd53614fc64eacf2b501ac57826f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Aug 10 11:05:46 2020 +0200

    Add Moodle 3.10 version

commit b9064c7fb5f22c089a22dac45d8079ac0e8c8c4a
Merge: e42c7fd 1a1e718
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 30 06:59:43 2020 +0800

    Merge pull request #32 from stronk7/external_https_exttests
    
    Make unit tests also use exttests docker container for https tests

commit 1a1e718169b0225d752c5303cdaca9571890b314
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Jul 18 12:11:09 2020 +0200

    Make unit tests also use exttests docker container for https tests
    
    While we are already using the exttests docker image for HTTP
    requests (avoiding to use download.moodle.org), we are not using
    it for HTTPS tests.
    
    Looking to codebase, there is only ONE tests using HTTPS and it's
    the one that uses to fail when there are porblems with downloads.
    
    As far as that test doesn't perform any check or validation related
    to certificates, we can, simply, configure unit tests to also use
    the HTTP exttests URL to run the HTTPS test.
    
    If tomorrow we need some real HTTPS test, surely we'll need to
    incorporate some mutual recognised certificates, or a real one..
    
    But right now that's not needed.

commit e42c7fd7a7d15777a9843da9a986e0808ed6791e
Merge: f98d032 c1fa35f
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jun 23 22:58:10 2020 +0200

    Merge pull request #31 from stronk7/enable_lang_upgrade
    
    Enable lang upgrade

commit c1fa35f1b41ae28074a14d80eec75b6cf4a354ce
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:58:22 2020 +0200

    Enable lang upgrades again
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit f98d032dba13d122c8cdc5aaea31e2359182c4e0
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jun 10 15:52:38 2020 +0200

    Add back the recently removed sleep, we need it for now
    
    Once we get https://tracker.moodle.org/browse/MDLSITE-6178
    properly implemented we'll be able to revisit all the
    current harcoded pauses.

commit ac8f7607e45bf74977a111b5586884fab1c714e1
Merge: b622687 8ca70ac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 9 07:24:28 2020 +0800

    Merge pull request #30 from stronk7/disable_lang_upgrade
    
    Disable lang upgrades, to be enabled after on-sync

commit b622687b818b0866238c508fe80f5c15655da18c
Merge: 5e8da83 7a8a42f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 9 07:23:22 2020 +0800

    Merge pull request #29 from stronk7/39_versions
    
    Add Moodle 3.9 version

commit 8ca70ace3475237ca70d5b0bc85b5876c47ba3de
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:55:37 2020 +0200

    Disable lang upgrades, to be enabled after on-sync

commit 7a8a42fd286197d0c12065ffc20b88e35575f5de
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:53:02 2020 +0200

    Add Moodle 3.9 version

commit 5e8da83fde01cffbcf99542cbae5c9bcc886a130
Merge: 8e0fd99 41cceb6
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Jun 2 17:22:43 2020 +0800

    Merge pull request #27 from stronk7/moodlehq_sqlsrv_image
    
    Switch to modern sqlsrv own image

commit 41cceb6171884f25e6774b695ee27ec07ccf138f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 1 01:26:44 2020 +0200

    Switch to modern sqlsrv own image
    
    It comes with important memory reduction, specially important
    now that we are also running sqlsrv unit tests as part of ToBiC.
    
    Also remove not needed commands and pauses because the container
    startup handles both.

commit 8e0fd99de3995d51f90bf22fa463f9dea718183b
Merge: 5a28bb7 2aa7c00
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sun May 24 19:58:33 2020 +0200

    Merge pull request #24 from moodlehq/dbslave
    
    DB Slave support

commit 2aa7c0073ab43a2a94514177695353da233fd2b6
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue May 12 13:49:35 2020 +0800

    runner: MySQL Replicate support

commit 74d4d862c308e745c5add7f0f2c58f7d4553cdc4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 11 15:43:58 2020 +0800

    runner: Support postgres slaves

commit 5a28bb7818272c4435831768441eb42f6456da0c
Merge: c6fc3a0 13936d1
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue May 19 16:17:29 2020 +0200

    Merge pull request #23 from crazyserver/patch-1
    
    Change Moodle App docker repository

commit 13936d19c9e28e9dc758fd72c0d028f73899dc2d
Author: Pau Ferrer Ocaña <crazyserver@users.noreply.github.com>
Date:   Tue May 19 14:58:11 2020 +0200

    Change Moodle App docker repository

commit c6fc3a0974f39eb018d628f1e045c7485bfc4e5d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 18 22:38:18 2020 +0200

    Disable options not directly related with the run type

commit 3d1ff1c4ce7b38c810fbbb1b9235d0ff8b548682
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu May 14 03:02:07 2020 +0200

    Added support for multiple reruns (defaults to current 1)
    
    Now it's possible to perform multiple reruns, controlled by
    the BEHAT_NUM_RERUNS env variable. It defaults to current 1.
    
    Also, if 0 is passed, don't perform any rerun.
    
    Output files (pretty, junit) now will have the format:
    
    - prettyRUN_rerunRERUN.txt
    - logRUN_rerunRERUN.junit
    
    Where RUN is the # of parallel run (empty for single)
    and RERUN is the rerun iteration.

commit 9b8619d417a8131ec34e5ee33d14a74ab975a1fe
Merge: af8ad05 c27cac8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 18 07:16:06 2020 +0800

    Merge pull request #22 from stronk7/avoid_chrome80
    
    Avoid Chrome 80 because it's causing some SCORM tests to fail

commit c27cac893a4f46637464a7d05f4004f5f91d46ad
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Feb 17 17:49:34 2020 +0100

    Avoid Chrome 80 because it's causing some SCORM tests to fail
    
    See https://tracker.moodle.org/browse/MDL-67989 for more information,
    once that is solved, we'll revert this, proceeding with #21

commit af8ad051bb76536d9c97201428aea30927d80383
Merge: b0f1332 4171a80
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Dec 28 11:43:39 2019 +0100

    Merge pull request #20 from stronk7/bump_mariadb_102
    
    Bump MariaDB to 10.2 to fulfill Moodle 3.9 requirements

commit 4171a80b7d02d1fb8931e72d2e6217ee9f705a99
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Dec 28 11:21:25 2019 +0100

    Bump MariaDB to 10.2 to fulfill Moodle 3.9 requirements
    
    See https://tracker.moodle.org/browse/MDL-65809 for details

commit b0f1332755eb460d037da7c5f3bfa58f7029641c
Merge: 9832e97 c88ed81
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Dec 17 23:54:02 2019 +0100

    Merge pull request #19 from stronk7/disable_skiplangupgrade
    
    Disable skiplangupgrade

commit 9832e9799dcdc44b5ca0c4b2e10ce8d4effeac92
Merge: 8e2f14e 024baad
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Nov 16 18:32:38 2019 +0100

    Merge pull request #18 from stronk7/enable_skiplangupgrade
    
    runner: Set skiplangupgrade as part of on-sync period

commit 8e2f14ea7ef584d4550decdfd98a98dbeb2b5d42
Merge: fc97b3d 289f974
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Nov 16 18:32:02 2019 +0100

    Merge pull request #17 from stronk7/38_release
    
    runner: Add Moodle 3.8 version of the runner

commit c88ed81e6492b46c025027a312ab8177e976b628
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:58:34 2019 +0100

    runner: Unset skiplangupgrade after the on-sync period
    
    This is MR4 in the [release
    process](https://docs.moodle.org/dev/Release_process#1_week_prior)
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 024baade98f99dd50b0b5ed5d00e741947547d88
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:55:14 2019 +0100

    runner: Set skiplangupgrade as part of on-sync period
    
    This is MR3 in the [release
    process](https://docs.moodle.org/dev/Release_process#1_week_prior)

commit 289f974d4b0f03950aaf680ae25d4057d1972653
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:52:09 2019 +0100

    runner: Add Moodle 3.8 version of the runner

commit fc97b3d368d29e42e13ef9352916a7de5f8e336f
Merge: 66cc4a1 0e40fe4
Author: Jun Pataleta <jun@moodle.com>
Date:   Mon Oct 14 15:39:19 2019 +0800

    Merge pull request #16 from stronk7/images_summary
    
    Show the creation date and hash/digest of involved images in a run

commit 0e40fe4bd76a45823b3d86adaa66345db200f175
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Oct 11 22:19:55 2019 +0200

    Show the creation date and hash/digest of involved images in a run

commit 66cc4a1261a82a6545bf86bff291c10105d60cf4
Merge: 716f333 a713c0c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:28:41 2019 +0800

    Merge pull request #14 from stronk7/enable_mongodb
    
    Enable mongodb

commit 716f333ace352e73425c12fcb025b430159c1f5c
Merge: 148a3af b3b185b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:28:18 2019 +0800

    Merge pull request #13 from stronk7/enable_memcached
    
    Enable memcached

commit 148a3af6a304889982e4f3061fe32af60d4cf055
Merge: 8e6d745 4881af9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:27:38 2019 +0800

    Merge pull request #12 from stronk7/enable_solr
    
    Enable solr

commit 8e6d745e7be5718d66ba54f6acf6a90e5e911cf2
Merge: dac6a76 d96d7cf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:27:16 2019 +0800

    Merge pull request #11 from stronk7/more_reliable_scriptpath
    
    Make the detection of SCRIPTPATH more reliable

commit dac6a762a73bbd601034304127d85a7953df3aad
Merge: b457662 1fe8710
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:26:11 2019 +0800

    Merge pull request #6 from sarjona/runner-appversionvar
    
     runner: Add support to MOBILE_VERSION and PLUGINSTOINSTALL settings

commit a713c0c137ff60db3c14e9546a60c2418994b135
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 18:50:14 2019 +0200

    Add support for mongodb tests

commit b3b185b648b3a93986b28156291c14a02bc294c1
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 17:04:54 2019 +0200

    Add support for memcached tests

commit 4881af9997f1da4c4c6413399c4275328bdcd7b8
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 16:23:25 2019 +0200

    Enable back solr, it's working with all php images

commit d96d7cf61205fccdfc62e23ac9db1792c7880abc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 13:56:20 2019 +0200

    Make the detection of SCRIPTPATH more reliable
    
    So it can be executed from other scripts, or aliased...

commit 1fe871046e5402d5b2b47806e1071c5f355f9005
Author: Sara Arjona <sara@moodle.com>
Date:   Fri Sep 20 17:31:54 2019 +0200

    runner: improve PLUGINSTOINSTALL and MOBILE_VERSION support
    
    Some improvements have been added, following Andrew's suggestions:
    - If the MOBILE_VERSION is not defined, the moodlemobile docker
    container won't be executed.
    - Instead of creating a temporary folder for the plugins, a new
    setting, PLUGINSDIR, has been added. By default they will be
    downloaded to $WORSPACE/plugins.
    - Those new settings have been added to the README.md

commit 44c4e60038cb731a694fda364a6d9731933e128b
Author: Sara Arjona <sara@moodle.com>
Date:   Fri May 31 12:28:21 2019 +0200

    runner: Add PLUGINSTOINSTALL variable to install external plugins

commit d5ebe8cb8fbfc6a122d572916f8f8bdc52aac9b0
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 16:19:14 2019 +0200

    runner: Add MOBILE_VERSION variable to define the app version to run @app tests

commit b9dcf77fe75a19a1733b01ed7d7605680783b020
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 17:00:39 2019 +0200

    Unpin mobile once that breaking tests are removed (MDL-65869)
    
    This reverts commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f.

commit af3943120701d2532177723c2e7afc79f6e4bd65
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 16:57:36 2019 +0200

    Enable back Redis session tests for PHP 7.2 and up
    
    This reverts commit f36e8081c50dfa7342b9e91736c1febeeedebbd6.

commit fabe6dea67da25f01ccffd38788d3bd7e8d5305f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jun 12 09:08:01 2019 +0800

    Temporarily ping mobile to 3.6.1 until failing tests removed

commit b4576622ce3efd624698ac0bc11b3a576a81b975
Merge: 348685d 51ff441
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 12 21:33:01 2019 +0800

    Merge pull request #10 from stronk7/unpin_mercury
    
    Unpin 3.141.59-mercury and allow any new 3.x release to be used

commit 51ff44139da1fe952fcde88a21579fc1f658957c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Sep 11 16:46:05 2019 +0200

    Unpin 3.141.59-mercury and allow any new 3.x release to be used
    
    With MDL-66378 and, specially, https://github.com/moodlehq/php-webdriver/pull/1
    we can continue using Chrome >= 76 because we are enforcing the
    use of the legacy JsonWire protocol (instead of the default W3C one).
    
    So it has been agreed that we'll allow any 3.x new release to be used in
    order to detect problems earlier (we always can pin again if needed).

commit 348685d0918ea2d5c9ff2f0d4eb2bd49644499d2
Merge: bb20f2c 5779fe2
Author: Adrian Greeve <abgreeve@gmail.com>
Date:   Tue Aug 20 14:41:29 2019 +0800

    Merge pull request #8 from moodlehq/revert-7-chrome_unpin
    
    Revert "Revert "Moving away from 3.141.59-neon coz it's causing problems""

commit 5779fe24d006ca3f1acc8f2dcc5b6919c279bda7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Aug 20 14:38:15 2019 +0800

    Revert "Revert "Moving away from 3.141.59-neon coz it's causing problems""

commit bb20f2cd499f008116fab9a7c47472712e93c84b
Merge: 3fb9dc6 9443e85
Author: Adrian Greeve <abgreeve@gmail.com>
Date:   Tue Aug 20 14:31:09 2019 +0800

    Merge pull request #7 from moodlehq/chrome_unpin
    
    Revert "Moving away from 3.141.59-neon coz it's causing problems"

commit 9443e85a1bfff80333288626fd353769b72392b9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Aug 14 13:48:49 2019 +0800

    Revert "Moving away from 3.141.59-neon coz it's causing problems"
    
    This reverts commit 1bda1c27f698e5a96180836b59b19f254b5fbd58.
    
    Fixed by way of MDL-66378.

commit 3fb9dc6c5ae6268357a22b6e057aaa3e872f736d
Merge: 2d13771 0b953ee
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 28 06:40:00 2019 +0800

    Merge pull request #5 from stronk7/redis_session_tests_are_back
    
    Enable back Redis session tests for PHP 7.2 and up

commit 0b953eecf390263e561d9efc1918e33fbebcc1c1
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 17:00:39 2019 +0200

    Unpin mobile once that breaking tests are removed (MDL-65869)
    
    This reverts commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f.

commit f161c4ecb848b52728c073702624949cb0f887a5
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 16:57:36 2019 +0200

    Enable back Redis session tests for PHP 7.2 and up
    
    This reverts commit f36e8081c50dfa7342b9e91736c1febeeedebbd6.

commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jun 12 09:08:01 2019 +0800

    Temporarily ping mobile to 3.6.1 until failing tests removed

commit 97d40fe45eef9cda9dee4332200927c763b92a0d
Merge: f27d127 318e84b
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri May 31 09:51:04 2019 +0200

    Merge pull request #4 from sarjona/runner-fix-local
    
    runner: Avoid local network collissions

commit 318e84bdc11f66f6d6e8e25505bb942b9029fb86
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 14:39:49 2019 +0200

    runner: Avoid local network collissions

commit f27d127197acb4976a71c2638e21c29d1c5afed8
Merge: c18d21c 70ca27d
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu May 30 22:58:37 2019 +0200

    Merge pull request #3 from sarjona/readme-revision
    
    README: Update themes and add some extra parameters to the doc

commit 70ca27d7b8d7f036c7dffc2f7b9c31abf3fdc302
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 13:58:13 2019 +0200

    README: Update themes and add some extra parameters

commit c18d21c6d38431ca134be6732ebc88a942f02157
Merge: 551b15d ead8faf
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat May 25 00:03:25 2019 +0200

    Merge pull request #2 from andrewnicols/mobiletesting
    
    runner: Add Ionic testing

commit 551b15d59f7c81d26c7838621a9265bd9ca3a0cb
Merge: 2941637 f7078a4
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri May 24 23:55:36 2019 +0200

    Merge pull request #1 from andrewnicols/37_endonsync
    
    runner: Unset skiplangupgrade for end of on-sync period

commit 2941637e67830cef6334ebe3d0da8658828f8323
Author: Mark Johnson <mark.johnson@open.ac.uk>
Date:   Wed Mar 27 09:25:01 2019 +0000

    Add support for increased behat timeout

commit ead8faf6168cc7ae7f4d894827f49a4391cb6d7e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 31 06:53:45 2019 +0800

    runner: Add Ionic testing

commit f36e8081c50dfa7342b9e91736c1febeeedebbd6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 20 22:50:53 2019 +0200

    Disable Redis session tests for PHP 7.2 and up
    
    See MDL-60978 for more information.

commit 8bbcbf0a05c15b15c96d8b743b50c4919f46bb80
Merge: 19fe0f5 6c7dbaf
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun May 19 18:17:43 2019 +0800

    Merge branch '37_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!29

commit 19fe0f5e4cbb50e7de1a870b308919a8d29b4688
Merge: 1bda1c2 fb50503
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun May 19 18:17:29 2019 +0800

    Merge branch '37_release' into 'master'
    
    runner: Add Moodle 3.7 version of runner
    
    See merge request integration/nightlyscripts!28

commit f7078a46484f9b417e33189d7c4ba8ed1df461eb
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:39:57 2019 +0200

    runner: Unset skiplangupgrade for end of on-sync period
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 6c7dbafd94bdf22132ad0d032150079aefeacd98
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:37:21 2019 +0200

    runner: Set skiplangupgrade as part of on-sync period

commit fb50503ce89e26378204c92930821fcbb6fe4829
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:32:59 2019 +0200

    runner: Add Moodle 3.7 version of runner

commit 1bda1c27f698e5a96180836b59b19f254b5fbd58
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Apr 30 16:06:14 2019 +0200

    Moving away from 3.141.59-neon coz it's causing problems
    
    So we are now explicitly using 3.141.59-mercury, from 1 month
    ago that was working till neon arrived (6 days ago). That is
    leading to lots of "invalid session id" errors leading to the
    re-execution of complete jobs (almost 2X execution time)

commit 1c626b647730aca6682147dd7006c177a817c696
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 20:21:57 2019 +0200

    Avoid colors that look horrible (escape seqs) in some clients (take#3)

commit 113c847885ab29bd232060a435f71c35c8c92b7c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 20:14:20 2019 +0200

    Avoid colors that look horrible (escape seqs) in some clients (take#2)

commit d4e30b6abee5fb15c0bcf19639a309ba5e78fa12
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 18:59:32 2019 +0200

    Avoid ansi colors that look horrible (escape seqs) in some clients

commit ed1604b7fa7ad04c4533106419dc500d849c5ea8
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Apr 11 02:18:45 2019 +0200

    Add support for individual features/scenarios (--name)
    
    Also fix some small details, like 1-parallel, reruns and
    some old selenium version.
    
    Finally, note that the --config parameter requires to use
    this syntax:
    
    --config path/to/behat.yml
    
    and doesn't work with
    
    --config path/to/behat.yml
    
    Because of an annoying dependency built in core (MDL-65435). Once
    it's fixed, both syntaxes will work.

commit 39e2cb3eb3ee60056a40361e094227a7419d9a9f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Feb 18 15:05:37 2019 +0800

    runner: Bump chrome to 3.141.59

commit 674bf46278c225cd9507115c5f0344e2563a43ce
Merge: af3a800 a3398e0
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Feb 12 22:57:21 2019 +0800

    Merge branch 'mdlsite-5669' into 'master'
    
    runner: Update oracle image to moodle-db-oci
    
    See merge request integration/nightlyscripts!26

commit a3398e06b56964da1e88645bb7914953e1e99b9c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 12 15:11:55 2019 +0800

    runner: Update oracle image to moodle-db-oci
    
    Fixes MDLSITE-5669

commit af3a8009a6869929e4a67e3c0dbbec46d60465b4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 31 10:11:42 2019 +0800

    Marionette option is for Firefox only

commit d9431cd102f2d1078a2d149417f53933cd3fd48d
Merge: 16b748d c00a229
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu Jan 31 07:20:05 2019 +0800

    Merge branch 'ff_selenium_upgrade' into 'master'
    
    runner: Switch to MoodleHQ selenium image
    
    See merge request integration/nightlyscripts!25

commit c00a229752f41e8dcb1bbebe46dfd111b1c0735e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 12 13:11:52 2018 +0800

    runner: Switch to MoodleHQ selenium image
    
    This image uses a newer version of Selenium, disabling Marionette, but
    the old version of Firefox.
    
    It appears to be more stable than the images we've been using to date.

commit 16b748d2dc729d334c5c5479d121a5ac101fa011
Merge: dd82982 12e1904
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sat Jan 12 20:32:07 2019 +0800

    Merge branch '36_endonsync' into 'master'
    
    runner: Unset skiplangupgrade for end of on-sync period
    
    See merge request integration/nightlyscripts!24

commit dd82982330eed22998a14de9ea8152a9654c0cbd
Merge: 40df230 0c5102c
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun Dec 2 08:20:38 2018 +0800

    Merge branch '36_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!23

commit 40df230cbc64075c384aabfacf806f4f6cf2d080
Merge: 5b37b3f a606c9b
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Fri Nov 30 12:03:28 2018 +0800

    Merge branch '36_release' into 'master'
    
    runner: Add Moodle 3.6 version of runner
    
    See merge request integration/nightlyscripts!22

commit 12e1904875f7497febccff6ee96d813ae2cc2d40
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:52:55 2018 +0100

    runner: Unset skiplangupgrade for end of on-sync period
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 0c5102c821211fa901a9273fecb32da7a8f09b3d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:51:27 2018 +0100

    runner: Set skiplangupgrade as part of on-sync period

commit a606c9b728892022682bfab1a9465f1e813c5947
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:49:02 2018 +0100

    runner: Add Moodle 3.6 version of runner

commit 5b37b3f915313c132299319a1ddf23c8e2cf6916
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 10 12:17:31 2018 +0800

    Revert "runner: Remove suite from behat run command"
    
    Unfortunately I have no idea why I wrote this change.
    The -a=[theme] should work, but does not.
    
    This reverts commit aeafe7d70fce06edd1e1da3137fbf0f857c47b7f.

commit 4aa09c8c19163d2752d2a977cb94b56cb174b4f8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 10 12:17:29 2018 +0800

    runner: Add pathtosassc

commit aeafe7d70fce06edd1e1da3137fbf0f857c47b7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Sep 5 09:37:25 2018 +0800

    runner: Remove suite from behat run command

commit 054d655920b0ce49eb426c6b1f8cc0b87423fc2c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 11:26:00 2018 +0800

    runner: Disable SOLR for now :(

commit a1ff178fa83b8b0710ddf7d6395049610fdbf340
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 09:32:12 2018 +0800

    runner: Add redis to tests

commit e75774849038c688f8cb1f27310d601cf1ebea3d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 09:31:38 2018 +0800

    runner: Add solr to tests

commit 022c84006b6d3ece8a297823d8341e4ed5c1761f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 08:38:54 2018 +0800

    runner: Attempt to seed with cached composer.phar

commit 1cba58a03a674c3e77dd333c9c114b1461a703dc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 12 15:55:24 2018 +0800

    README: Move to project root

commit 00599ef9016ded2f3d535118eb52ade77f568cac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 12 15:55:08 2018 +0800

    runner: Add CODEDIR to readme

commit eb57951e64c8999624097e39d4fd31f654a0d084
Merge: 54a1141 2bd6d1b
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Jun 6 23:33:18 2018 +0800

    Merge branch '35_endonsync' into 'master'
    
    runner: Unset skiplangupgrade for end of on-sync period
    
    See merge request integration/nightlyscripts!18

commit 54a1141bd1f89323a91cb16a454e00a598de4fa0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 31 07:52:51 2018 +0800

    runner: Add default for timing filename

commit 0f8818d02dc8cf405ba4974ae1fe5de2301369e9
Merge: b5c4448 de1d2ff
Author: jun <jun@moodle.com>
Date:   Mon May 28 12:01:22 2018 +0800

    Merge branch 'useTiming' into 'master'
    
    runner: Use behat timing files
    
    See merge request integration/nightlyscripts!21

commit de1d2ffe9151d09034657292ba0c9433b5de1abf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat May 26 09:29:18 2018 +0800

    runner: Use behat timing files

commit b5c44488a857d2148efa34274c685b482b0ded7e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 18 18:14:41 2018 +0800

    runner: Move path to subpath
    
    The /var/www directory is owned by root.
    In 31 we simply append a run number to the behatroot directory - i.e.
    /var/www/behatdata1
    
    In 32 we create them in a subdirectory - i.e.
    /var/www/behatdata/behatrun1
    
    When running as www-data, the user does not have access to create the
    behatdata1 directory.
    
    The previous attempted fix was to add a slash:
    31  - /var/www/behatdata/1
    32+ - /var/www/behatdata/behatrun1
    
    However, the trailing slash seems to cause issues in core in some
    sitautions - specifically the re-run of the test.
    
    This fix, tested on 31, and master with a failing test changes the
    directorty further such that the behat data directory is
      /var/www/behatdata/run
    This makes the new run directories:
    31  - /var/www/behatdata/run1
    32+ - /var/www/behatdata/run/behatrun1
    
    Both of these are acceptable as the www-data user has the required
    permission to create new directories for the run in the subdirectory.

commit 41fb3e3952ad053082cf48b545b9e2a714e0d976
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri May 18 18:33:52 2018 +0200

    Get rid of the extra slash, seems to be causing problems in >=32.
    
    But keep the chown covering the whole /var/www/* to see if that's
    enough for 31. Or at least to keep everything working but 31.

commit b35f21ab4d3f8e6db0dbf108fb50e4141d609a0c
Merge: 4c3d350 34a14dc
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Fri May 18 08:29:14 2018 +0800

    Merge branch 'ocibump' into 'master'
    
    runner: Bump OCI timeout
    
    See merge request integration/nightlyscripts!20

commit 4c3d35069b33c8025694633ae85d8c55a463f1a5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 18 07:44:26 2018 +0800

    runner: Correct rerun path for 31

commit 34a14dceac2921d1cf7cd926be585b860112b0ea
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 14:46:41 2018 +0800

    runner: Bump OCI timeout

commit c9ce81e560cea4e3721c08c9aead8a8bb9f6dcc2
Merge: 0bb2ac5 8ac11f8
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Thu May 17 14:39:49 2018 +0800

    Merge branch 'behatfix' into 'master'
    
    runner: Add fix for behatdata on 31
    
    See merge request integration/nightlyscripts!19

commit 8ac11f8e74a159a0027cb12eb948a94ea790ba6c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 14:00:14 2018 +0800

    runner: Add fix for behatdata on 31

commit 0bb2ac5264561a47be9ac68c303b07f20b9c57f7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 13:33:35 2018 +0800

    runner: Chown with group

commit 7f1b4c87b603cf3bf7be1e971e4405e82cd63738
Merge: 405c773 53614eb
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:32:11 2018 +0800

    Merge branch 'runaswwwdata' into 'master'
    
    runner: Run behat as www-data
    
    See merge request integration/nightlyscripts!15

commit 405c7739d0b92095c738d386ecd7e4f059557edd
Merge: 387fe98 4b866ad
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:31:42 2018 +0800

    Merge branch '35_release' into 'master'
    
    runner: Add Moodle 3.5 version of runner
    
    See merge request integration/nightlyscripts!17

commit 387fe98f3bbab96df64377f69a43bca3e9a5d837
Merge: 6033840 4a886f4
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:31:23 2018 +0800

    Merge branch '35_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!16

commit 2bd6d1b63c16e4097dc254c007bdb4de592336bd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:59:06 2018 +0800

    runner: Unset skiplangupgrade for end of on-sync period

commit 4b866ad334144dda7bfa17817d8b7fe353598afa
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:46:36 2018 +0800

    runner: Add Moodle 3.5 version of runner

commit 4a886f415932418b42fce39ca4cb3f6eff4c80ca
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:41:11 2018 +0800

    runner: Set skiplangupgrade as part of on-sync period

commit 53614eb42297c8cac8caeee7f6feac4c1ab16eba
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 9 08:21:18 2018 +0800

    runner: Run behat as www-data

commit 6033840d3183e33d6af984b358a24c987250feaf
Merge: 9d25a09 2261c5e
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Mon May 14 13:19:04 2018 +0800

    Merge branch 'chownfix_again' into 'master'
    
    runner: Behat has a different datadir
    
    See merge request integration/nightlyscripts!14

commit 2261c5eefa591503bcd47d4ea1fbf4c4ff6917e7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 14 13:18:28 2018 +0800

    runner: Behat has a different datadir

commit 9d25a09583686a7e8aca6f77cd394f90e1f841d0
Merge: dfe3af4 74d8e1f
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Fri May 11 23:21:15 2018 +0800

    Merge branch 'fixchown' into 'master'
    
    runner: Fix bad bashism
    
    See merge request integration/nightlyscripts!13

commit 74d8e1f1b73c8868622ab6d945878c993eb4df3f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 11 23:16:22 2018 +0800

    runner: Fix bad bashism

commit dfe3af4f20b50d1ecadacb30388e7f8e43e2f15c
Merge: 65f3858 8b56620
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue May 8 07:26:08 2018 +0800

    Merge branch 'chromebump' into 'master'
    
    runner: Bump chrome selenium to 3.11.0-dysprosium
    
    See merge request integration/nightlyscripts!12

commit 8b56620b8650c48889ba9d7df840ab8715eb034e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue May 8 07:06:37 2018 +0800

    runner: Bump chrome selenium to 3.11.0-dysprosium
    
    Selenium version 3.11.0-dysprosium (rev e59cfb3)
    Chrome version: 66.0.3359.117
    ChromeDriver version: 2.38.552522

commit 65f3858a655d83b76fbef2c14fcbe8a5489436f8
Merge: 11f0175 6d7e753
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Sat May 5 12:13:43 2018 +0800

    Merge branch 'selspread' into 'master'
    
    runner: Fix parallel runs to use own sel
    
    See merge request integration/nightlyscripts!11

commit 6d7e753f6d35148afc34a6800f119529d725b702
Author: Mark Johnson <mark.johnson@open.ac.uk>
Date:   Fri May 4 22:14:56 2018 +0800

    runner: Fix parallel runs to use own sel

commit 11f0175f567ec57cb08a6b94db96ae79dcaf42fc
Merge: 922c2b2 15afb3c
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 3 17:16:35 2018 +0800

    Merge branch 'chown_after_init' into 'master'
    
    runner: Chown after behat init
    
    See merge request integration/nightlyscripts!10

commit 15afb3cf686248b16a682fefa00e0730250bbe46
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 3 08:08:52 2018 +0800

    runner: Chown after behat init

commit 922c2b20532fac6258026d7d408aca705ef8e1c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Apr 20 12:58:58 2018 +0800

    runner: Extend oracle wait period to 2 mins

commit 4001447d0a615e6348920f5595ba6255127eec16
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Apr 20 12:49:25 2018 +0800

    runner: Correct variable usage

commit 9ea358d3f8934564aa3340ffbaaceec2a3b9fe4e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 09:21:56 2018 +0800

    Revert "runner: Remove wd config from behat_profiles"
    
    This reverts commit e0c4f72be58daddb5d092bca884ebdc866adb574.

commit 116f8f3e6a80409de9398cc23ebb4a5300dd8e4f
Merge: 8269a04 e0c4f72
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Apr 18 08:39:58 2018 +0800

    Merge branch 'selbrok' into 'master'
    
    runner: Remove wd config from behat_profiles
    
    See merge request integration/nightlyscripts!9

commit e0c4f72be58daddb5d092bca884ebdc866adb574
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 08:34:48 2018 +0800

    runner: Remove wd config from behat_profiles

commit 8269a046fcb2855229fc4775c2aea15b0bfe4946
Merge: 960a332 235b954
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Apr 18 07:09:03 2018 +0800

    Merge branch 'oracle_async' into 'master'
    
    runner: Disable async IO on Oracle
    
    See merge request integration/nightlyscripts!8

commit 235b9546035d4f994b858a59209b4a9e049f5eb8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 07:07:23 2018 +0800

    runner: Disable async IO on Oracle

commit 960a332b17a56b5d28753947f7ff93bcbb985f44
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Apr 17 11:25:00 2018 +0800

    runner: Add support for running a single testsuite

commit 7ed139975968fbf64273d230cfbfaec1d41e2b22
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Mar 20 15:58:34 2018 +0100

    Fix for !7, make MOODLE_VERSION global

commit b9943cf42d2237c53cfa8f072374f92c63012a27
Merge: 2f884bd 7839b8a
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Tue Mar 20 20:46:36 2018 +0800

    Merge branch 'no_fail_on_risky_for_31' into 'master'
    
    --fail-on-risk is not available before phpunit 5
    
    See merge request integration/nightlyscripts!7

commit 7839b8a9c9ff06fadddf30c881380bb5a623bc87
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Mar 20 11:43:08 2018 +0100

    --fail-on-risk is not available before phpunit 5
    
    Hence, don't use it for <= 31.

commit 2f884bdcb0baca67e82ad92c93aa7d8b39912eac
Merge: e983eeb 2c08619
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Mar 20 08:43:17 2018 +0800

    Merge branch 'failonrisky' into 'master'
    
    [runner] Fail on risky tests for phpunit
    
    See merge request integration/nightlyscripts!6

commit 2c08619df1d206805f406af51f2bd13f2f82c89f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Mar 20 08:36:12 2018 +0800

    [runner] Fail on risky tests for phpunit

commit e983eeb08d9e7c217f023ed6f63ea43161a19630
Merge: 934f0de 32fb897
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Tue Mar 20 08:02:05 2018 +0800

    Merge branch 'makes_test_output_risky' into 'master'
    
    Be strict about tests output. Mark them as risky.
    
    See merge request integration/nightlyscripts!5

commit 32fb8972f26b1c7e8c492cf80c465a2d8f1bc0cf
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Mar 19 20:24:38 2018 +0100

    Be strict about tests output. Mark them as risky.

commit 934f0de142b53c39eb6ec67b14964ce731ea55bb
Merge: 10d69ae 1239517
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Mar 6 00:53:23 2018 +0800

    Merge branch 'pin_pg_967' into 'master'
    
    Pin postgres to 9.6.7 because 9.6.8 leads to DDL failures
    
    See merge request integration/nightlyscripts!4

commit 1239517482c1cafdf33cdf715afce4920ab9d219
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Mar 5 17:51:19 2018 +0100

    Pin postgres to 9.6.7 because 9.6.8 leads to DDL failures
    
    See https://github.com/moodlehq/moodle-docker/pull/77

commit 10d69ae85da03dab502430e8dbc01c1dff7b79ac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 16 09:22:53 2018 +0800

    [runner] Add copyright information

commit c07c5a379e6cbb1f77b43bef5267eadc50d2391e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 16 09:21:22 2018 +0800

    [general] Archive old nightly scripts
    
    The Old Nightly Infrastructure is dead.
    
    Long live the Old Nightly Infrastructure.

commit 6c097c30eda6441ef66034d8f97b4bc5568ac769
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 6 08:35:59 2018 +0800

    [runner] Correct exitcode for phpunit
    
    This was a fault after the introduction of loops which meant that the
    true exitcode was overwritten.

commit b1b19e4d9a97610dc643e44785cb504ff9866b83
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 6 08:31:18 2018 +0800

    [runner] Add README

commit dd730f31a1a083b2dd51716c01454012d40b1092
Merge: e14c18c eb71f3f
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Mon Feb 5 23:35:21 2018 +0800

    Merge branch 'rajagain' into 'master'
    
    [runner] Switch back to raj images
    
    See merge request integration/nightlyscripts!3

commit eb71f3f9e824bc4891fafd71743586276272f08e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Feb 5 17:31:28 2018 +0800

    [runner] Switch back to raj images
    
    Raj's image seems to have some magic which is not present in the
    Selenium official image, though they appear nearly identical.
    
    This change backs out the hub change and instead uses the
    behat_parallel_runs to setup WD config as appropriate for both Firefox
    and Chrome.

commit e14c18c8bfb8948b0a77b0439580ff882d3f8f9d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Feb 5 13:05:47 2018 +0100

    Get rid of incorrect version and browserVersion caps

commit 32aeae46f8bbee9c16e65473b50e34f33dede2bc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat Feb 3 17:16:16 2018 +0800

    [runner] Save web server logs to file

commit 57e69aae4d08b55ebb2b1f87dffc661753588f38
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 11 15:43:59 2018 +0800

    runner: Use selenium grid with selenium per run

commit 659416237cc13a1626bf7c1a12028ab537b16b3c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 23 13:47:18 2018 +0800

    runner: Do not quote junit path - it tries to write to quote

commit 758be2e0cbf999c04b09a1815e7aaf4982708ff7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 22 13:49:18 2018 +0800

    runner: Add debugging to behat init and run

commit e9c897a76454ae6fd1d28c6a38bea292da994ada
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 16 15:35:17 2018 +0800

    runner: Switch to raj image
    
    Looking to try and remove differences between old and new.

commit d335319a094e17e30534e2773904da70261b1597
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jan 12 15:13:10 2018 +0800

    runner: Assign shared mem to Oracle

commit e2bd778180ecb0ab90cc30284d64945bc7cd0109
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jan 12 10:16:51 2018 +0800

    runner: Adjust how shared memory is allocated to selenium
    
    This is after changes to the recommendations from Selenium in their
    Docker README.md.
    
    They are now suggesting allocating shm to all browsers, not just Chrome
    as they previously suggested.
    They're also suggesting that you can use --shm-size instead of mapping
    /dev/shm which seems like a cleaner approach.

commit d457b833b2913bcf6f2a87186d5ac86f683446c3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 11 13:50:40 2018 +0800

    runner: Switch to Chrome + Selenium 2.7.1

commit d762de8ab7d76702a4eecd4519d4bd589f05393b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 10 13:35:25 2018 +0800

    runner: Support iterations

commit ca84659acbaf2cb3cc6a670ba2e164bde923ad85
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 10 12:24:48 2018 +0800

    runner: Switch to chrome + selenium 3.0.1 as per matrix

commit 9e1fcbdde3ffe13f77bdf2fbf49620976706cb40
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 8 08:10:05 2018 +0800

    runner: Add PHPUnit LDAP tests

commit 2d0e661a1ff80ec61582f0cdae7a4b263e66eb84
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 4 15:05:35 2018 +0800

    runner: Do not expose the selenium port

commit dcc244ccf400c471ddfc6239b773ecf0c10539e5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 2 10:36:14 2018 +0800

    runner: Make cachedir easier to fudge

commit ebcbd526ec20467d3e91e6ad89ac00aac3c1f3ba
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 2 10:20:43 2018 +0800

    runner: Add support for tags

commit 3d59a431fc8f74110923aea81482357a471a6e7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 19 11:30:23 2017 +0800

    runner: Correct variable name

commit 3c5e0da017857ad87938f004175ba880e9050815
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 19 10:44:25 2017 +0800

    runner: Chown workspace files at end of job

commit ba0da291e4ef4b69b4eac6215c0e492810027745
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 18 08:59:23 2017 +0800

    runner: Create nightly network

commit 1f8a3fd4e4eb1c477dcead9f59e7992e72e7b111
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 12 17:15:21 2017 +0800

    cron: Add slave script

commit 0294f7f31a650883c1b9ac2f64e8d5ac55fc2265
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 12 17:04:50 2017 +0800

    start_slave: Add slave starter script

commit 8f38704794db6efa3c1439507b612f6b31965d74
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 15:20:29 2017 +0800

    runner: Correct image name for exttests

commit ffd54a51b2343502a4e5411a1227f5b685c7f4bd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 15:01:27 2017 +0800

    runner: Correct variable name

commit dcaf5ef44faef63417eb796d10d11b3d95ea4bbb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 14:17:35 2017 +0800

    runner: Use external tests
    
    This makes use of the external testing URL now that MDL-60948 has
    landed.

commit 41b7738b0f9a6680ab401c772401171f9dd943a9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:53:46 2017 +0800

    runner: Sleep longer before starting postgres tests

commit ed533cc1bc1ec83fb37fc9245c33520ae8cf9afb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:46:49 2017 +0800

    runner: Syntax fix

commit 15e581022cd5d383d21a018f727347c95b6e3371
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:05:04 2017 +0800

    runner: Handle ALL suites condition for behat

commit 71693c14d9e7f5259a5b7690e891f4fb8e6d0d9d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:02:28 2017 +0800

    runner: Do not normalise mssql to sqlsr
    
    We need to be able to test these individually on 31, and 32.

commit 15b5fa8f18a391cfca88dc73cdb3033a3a5ec05d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Dec 10 11:41:01 2017 +0800

    runner: Correct PHP_VERSION specification

commit 4343f4c23db1584cc19d7096bd47ab081e1a40be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 12:51:15 2017 +0800

    runner: Add back to job summary

commit a4bc164aa3ad2262298120dbbdbd9bcaa49252f9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:44:59 2017 +0800

    runner: Move DB summary to ensure correct info

commit f936648da2f9c35aee8fb1893efd3bbccc6d9ecb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:44:45 2017 +0800

    runner: Use variables for DB creds

commit 7ca3b1ed438053da2c4ca2b3a3c93b3cc9d17957
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:43:54 2017 +0800

    runner: Correct Oracle init

commit 98ce1bc9347275f8626e44a0d5c66b899e179beb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 09:31:43 2017 +0800

    runner: More delimiter fixes

commit d2c7c9e6fe18df9c58b78b4d2c26fbf7eeb3f8a2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 09:21:09 2017 +0800

    runner: Improve section delimiters

commit 489254179dacc5f24e3a6c436f2baa1b4abfe805
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 08:59:13 2017 +0800

    runner: Correct behat init for alternate suite

commit 6ec6ba172a213b10bc1ca10390d0abea1631e0d3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 12:29:50 2017 +0800

    runner: Add markers or console collapse

commit eefb24f88dbedd818c9061d7c71316c1461b7729
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:52:39 2017 +0800

    runner: No need to drop if DB per run

commit 914135a8420407fddc12a5646f712a6d6712021c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:49:33 2017 +0800

    runner: Config belongs to version

commit ba4f4b32de8c1750031239cc2f7ca3c6c0ce10f3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:46:46 2017 +0800

    runner: Add more debugging info

commit d5bddc6c59fde7ddbddd748cc994b9f48f20af3f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 10:55:52 2017 +0800

    runner: Switch to versioned runners

commit e07804a002e5ccab15655672b60ed430a1abb123
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 10:11:27 2017 +0800

    run: Init database per run

commit bd4185f8d77ee19fb9140ad7afb220d642f23731
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:18:58 2017 +0800

    General: Tidy up all old files

commit 18b304a8103cce6071023a1fed4e91701016d07c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:15:32 2017 +0800

    run: Make 31-/32+ config changes clearer

commit bbd9f4720de9dc5904230a163496e544e562f4ab
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:14:51 2017 +0800

    run: Add clearer exitcode info

commit c5c601923acd98eb6a83b875f8d191592db2c4be
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Nov 27 00:04:58 2017 +0100

    config: 35 lang packs available, disable $CFG->skiplangupgrade

commit a1aa6d14ea45c091b357d7b4bfd9060bf87a9c68
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 14:01:24 2017 +0800

    run: More tidyups

commit 277474ca21004edd5ed392646dd447b9ca62af64
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 13:56:13 2017 +0800

    run: Tidy up DB details

commit ac70cfde1eceb5f7225706b609461e393366ba1a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 13:43:09 2017 +0800

    run: Allow configuration of PHP version

commit affd3c837dcb2bcdb711f026f7ad4749920f1ccc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 07:59:11 2017 +0800

    run: Add new job runner

commit 7357e301394db5935acdb15b4d22d2101bd79aa2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 11:44:36 2017 +0800

    configs: Start of on-sync. Skip lang upgrade in cron.

commit e98400eab6abbefce75b9fc26dc8cfa0fb6baef7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 08:49:18 2017 +0800

    docker_run: Add configs from docker image

commit d3327c852165fbfe89cbac7d516db3fa2c330530
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Nov 14 09:28:53 2017 +0800

    exttests: Add HTTP ext tests repo

commit e347a8389df0cdd48924d8ddd89e8593c87bbe9e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:59:41 2017 +0800

    docker_run: More interpolation fixes

commit dd5b6bdbc9da895a304212f979ae77b58c2b0a73
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:53:01 2017 +0800

    docker_run: More interpolation fixes

commit 9924855316b68a98a07835201bd99cf893b33148
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:42:03 2017 +0800

    docker_run: Typo fix

commit 028c4fa484b7f01ffef3f0e71284c5b1fffeaf91
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 12:38:23 2017 +0800

    docker_run: Quote MOODLE_PATH

commit 782b8a2f6ff8591729e9d46a0528dd6a79dfb76b
Merge: e6afa68 2041c1f
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Mon Nov 13 12:23:12 2017 +0800

    Merge branch 'dockerdb_34' into 'master'
    
    dockerdb: Add branches for 34 release
    
    See merge request integration/nightlyscripts!1

commit 2041c1fb344f979721087fc0d4d762b89427cdfd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 12:05:49 2017 +0800

    dockerdb: Add branches for 34 release

commit e6afa686e23c506b5d3448350668d14491ef6723
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 11:44:36 2017 +0800

    configs: Start of on-sync. Skip lang upgrade in cron.

commit bd26b5c923b10773a31e393feac6d97f183c2562
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 8 08:43:54 2017 +0800

    dockerdb: Switch to 2017-GA
    
    This change is now possible as we've switched to use of the overlay2
    docker storage driver.

commit 5bf9826b4f352bf69aff28dda1bd535f6dcf1a14
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:23:30 2017 +0800

    cron: Correct cron format

commit f71fed4d803e791ae3ed1b45a2c9609ceadc80c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:20:34 2017 +0800

    dockercleaner: status = exited

commit cf36cefc225bc6d9351a8ce93ffaeede6800b674
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:18:03 2017 +0800

    cron: Add daily job for dockercleaner

commit b368011028618e584312eac655ec14d27c2e4212
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:12:51 2017 +0800

    dockercleaner: Make this not suck

commit 934e3a853c1c4ec2ce28a50b77a6387642a2d5be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 11:42:52 2017 +0800

    docker_run: Quote MOODLE_PATH

commit b772068b5ce55a7d8ea1931c0fda53c9ce20303a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 10:11:35 2017 +0800

    dockerdb: Switch to use moodlehq image

commit ee752cb4065fbd161b25d844aeffeb2d6506796c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 10:11:26 2017 +0800

    dockerdb: Add DB for php71

commit b11856d97e7200cd1a133e4f685513a179ba6b34
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:35 2017 +0800

    dockerdb: Stop mapping ports.
    
    Welcome to a pure docker world. No more bare-metal builds to have
    headaches with.

commit ca1bfc0f27ecc8a88b7650daf4ab24cb0cb31d75
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:16 2017 +0800

    dockerdb: Add dbs for master

commit 4f9f95d93046607e93c6e996477946e2389d2f70
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:06 2017 +0800

    dockerdb: Remove outdated docs

commit dfed5a9d2cb2eddc80c8b4d3824870c87f2980b2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Aug 3 12:00:55 2017 +0800

    dockerdb: Do not wait for docker DB starts

commit a87eb0e4242eb2acacf7e94950f2a0e6f177dd99
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 13:56:17 2017 +0800

    dockerdb: Correct DB name

commit 443787c7e0adce39a39b156d9a99a7940a1d6014
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 10:51:56 2017 +0800

    docker_run: Switch to official Chrome Selenium image
    
    The previous image we used had a broken commit for :latest, and the
    previous version was not readily available.
    
    I've switched to the official, standalone image.

commit e101af4ae0a5d023c04b6558120d385945efc9c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:15:27 2017 +0800

    dockerdb: Add new DBs for generic job usage

commit 4de9fb6d5c49cf9cf9d9aa53dbdf3e89a6443e62
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:15:06 2017 +0800

    dockerdb: Pin to Postgres:9

commit 6e525795a7366fe88e7ea2b647dc4208aac5f35d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:11:51 2017 +0800

    dockerdb: Improve help for dockerdb

commit 7f82cbcc91fdb5acf981df3729897a1fccca0080
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:59:00 2017 +0800

    dockerdb: Fix mariadb to version 10.1
    
    We don't have compatability with 10.2 (MySQL 8) yet.

commit 07379159cfece3d4927e1a4d31e04cf38576bb00
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:46:50 2017 +0800

    cron: Fix cron scripts
    
    These weren't working before because of a mix of ownership issues, and
    other stuff.
    
    I've changed this to a model of job and script for easier future
    maintenance.

commit a8c2b674f50c189ff4dbcd8f3a0237bbd7bad117
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:16:35 2017 +0800

    docker_run: Make docker stop more resilient, and stop removing container
    
    In some instances, the docker images were stopped and removed before the
    trap was hit. This meant that the test was subsequently failed because
    the container no longer existed.
    
    I've made it more resilient by looping over a list, rather than the
    common shorthand. I've also stopped removing the container because the
    removal means that we lose the logs too.

commit eedbd25f2d5b72d829d628190cf6697dadd22b81
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:14:52 2017 +0800

    dockerdb: Stick to sqlsrv:ctp2-1
    
    sqlsrv:rc1 is buggy and broken on some nodes.

commit 02c8e9ca341c4951d9adf439e2cf7473cc1ab8ae
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:41:33 2017 +0800

    maintenance: Correct file permissions

commit b77ec90f15f2bb6f4d6eda81b82eb7b57610a1fa
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:38:56 2017 +0800

    maintenance: Add config backup script

commit 2a85bdd3fe89bd51dbdb96ab98f7231ea5ae8119
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:29:15 2017 +0800

    docker_run: Add DB Prefix info to job summary

commit 72624fb9daf198d48d6ed70511234b8b30a76ce4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 10:32:39 2017 +0800

    docker_run: Clean up images correctly after run

commit bd0ccda93bb07cee55597838de58125d05dcd135
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 08:45:09 2017 +0800

    dockerdb: Add DB for T.01

commit 6abfeecbbf93d5cfd92bb23f0bc6865f7a6ab00f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 08:43:36 2017 +0800

    docker_run: Remove old MOODLE_BRANCH param

commit 704e0ee73f9121f1417228b8ce3d6c835d73019f
Merge: 9f40477 095784d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jul 24 13:16:04 2017 +0800

    Merge remote-tracking branch 'origin/named_jobs'

commit 095784dd8d5b2203268331411fc042fb98342e5d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat Jul 22 15:45:11 2017 +0800

    docker_run: Silence empty directory removal

commit eefe579c3b889c136cc15fff0eab25b33be9be86
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:38:19 2017 +0800

    docker_run: Run as $UID instead of jenkins

commit a8f964328b50cfa66d7d83d792976ed0c71056f4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:36:47 2017 +0800

    docker_run: Bindmount the composer cache
    
    Note: The images we currently use run as 'rajesh' because of UID
    matches.
    We need to solve this better.

commit ec440419e11dbaffee7c6965204ac52b3cdf7f93
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:36:17 2017 +0800

    docker_run: Stop running composer outside of docker

commit 9f40477e8fac197daf534b9e069ef9371ed2f0c7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:17:34 2017 +0800

    docker_run: Remove commented out code of yesteryear

commit c2793912e22de14e34c9b4c945389343fc19f7db
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:20:51 2017 +0800

    docker_run: Switch from linked image to named on-network image for selenium

commit 2ebbbf935327deaae0ed11e39deea90d1a50465e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:54 2017 +0800

    docker_run: Switch to uuid naming

commit f4c977987cb705453c661102ecc1db4271ac5b3b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:38 2017 +0800

    docker_run: Ensure docker is on a network

commit 24193e89122a6772bf54a2a649c6c86c64efc425
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:29 2017 +0800

    docker_run: Remove more commented

commit 426ace636b8d1d8d8c5be2705a9e7735c216e494
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:02 2017 +0800

    docker_run: Ensure docker is on a network

commit 8b562166645f72ae7898c61a43b7f3bf323e1bc3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:18:31 2017 +0800

    docker_run: Switch to uuid naming

commit dca896e92f9b622dfad9cd4ba1b9bf50124c9209
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jul 13 20:52:41 2017 +0800

    MDLSITE-5153 no exceptions for any php version / database
    
    Moodle 3.4 and up requires php70. mssql is not availale for php70
    (only sqlsrv is) and oracle is too. So commenting any exceptional handling.

commit fc03eba427bd1f743b6368355fdd6419e94e09d2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 5 11:31:30 2017 +0800

    docker_run: Add info about the current run

commit e4b0f7479fcb1fbb408b7a3b566728bb5c910937
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 5 10:55:58 2017 +0800

    dockerdb: We need 31 databases again

commit 65d95d9f13934880103988a825c645b30f4c2dc3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 16 13:39:07 2017 +0800

    dockerdb: Put Oracle data on tmpfs

commit e4f4348e435d0e28abd404fc747774dd83128155
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jun 15 09:51:50 2017 +0800

    cron: Add cron scripts (Fixes MDLSITE-5150)

commit 4d0c445d765efe3bdc622cfe58f82dd014abf77e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 11:53:25 2017 +0800

    dockerdb: Add more MySQL/MariaDB tuning

commit e5ed9d0649a1f365d64e95e1581deca2d5128c7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 10:44:02 2017 +0800

    dockerdb: Add some tuning

commit 8c81986d547e4d0c9332b093a2b51d6eaa0d65b5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:37:16 2017 +0800

    dockerdb: Add improvements found in MariaDB

commit a489d422740bb0eda073cb5a066aa6f7bd2b4687
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:36:57 2017 +0800

    dockerdb: Switch to fixed version of the official mysql image

commit 4b1e69023176821b43d684c803883612515e4cd1
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:36:31 2017 +0800

    dockerdb: Expand mariadb detach option

commit 96adaf626df1e2452acb4c68122fb1a583132001
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:29:00 2017 +0800

    dockerdb: Move MySQL/MariaDB Password to environment
    
    Recent versions of MySQL emit a warning when the password is specified
    as a CLI argument.

commit bdf127cff2de7cd03667ef85ee2c8a6e6bef65b5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:24:08 2017 +0800

    dockerdb: Correct spacing of DB name for new DBs

commit 5bc5491c1c576c8357c37ab6188806cb47bcacf9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jun 1 06:23:35 2017 +0800

    Revert "docker_run: Build in a network"
    
    This reverts commit 9efbb8bdbf02b2b1f3addea489d1bb8a2d0df7a4.

commit 4ff6531e10df7cdd8adb427e22a3f7cbe292cd9e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:48:30 2017 +0800

    dockerdb: Add DB for php7 runs

commit 0ee70b8f75b45c93e755980e4a8430592229b775
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:38:35 2017 +0800

    setup_run_phpunit: Stop changing the MSSQL DBName if we don't need to
    
    The old VM only had one database, whereas the new docker image has one
    database for each run.
    
    We need to preserve the running for the old database in case we need to
    resurrect any old jobs.

commit de6c7b70c173114517b77f39b1f45c5f1c89e036
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:28:40 2017 +0800

    configs: Add parallel boost template found on nightly02

commit f431c5240e3a20284d54a06305d02fe2bccc6f54
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:23:27 2017 +0800

    configs: On-sync has ended. Stop skip langpack upgrades

commit 9e73afd89594cedcd5fd7f139fdfc938cbefd975
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:01:41 2017 +0800

    setup_: Echo out information on which database is being run today

commit 984216dc9744386ad7c3300567259cb2a5ce5437
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:49:57 2017 +0800

    dockerdb: Remove tmpfs from mssql

commit 106f1900994acfc909e00bf8e3bd6c90d953f0be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:42:00 2017 +0800

    setup_run: Add DbPort option

commit b2d1f42768ec382cb4a4c74ce87b45ca19ff9f0d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:40:17 2017 +0800

    configs: Add DbPort to match setup_run_phpunit

commit 0cb102cbfebe11f05fbad6f47997064905e12e67
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:35:34 2017 +0800

    configs: Bring config.php templates into git

commit 9efbb8bdbf02b2b1f3addea489d1bb8a2d0df7a4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:33:16 2017 +0800

    docker_run: Build in a network

commit 4d8e4e1faa7b6c3f3d1752c54aabd265975db986
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:29:49 2017 +0800

    dockerdb: Silence network creation

commit 4f7f121634150a2cecc9b7758c268fa2e4b81612
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:29:31 2017 +0800

    docker_run: Expand out docker run

commit 7d234526c5f9aa14a46a7a5f02868d1eae9803dd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:12:02 2017 +0800

    setup_run_phpunit: Add DbPort option

commit 73f48e29719c07b674095f0fd14a2834f831cc26
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:11:40 2017 +0800

    dockerdb: Add mariadb configuration

commit 2e7da39c72f1593e31bff286814abde3d71aa04d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:11:12 2017 +0800

    dockerdb: Add pgsql tuning

commit daf2b768391559c3ca9624ca9affac4acdbde6d9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:10:52 2017 +0800

    dockerdb: Move database partitions to tmpfs

commit 60f82163aeb3024864a24278cad9fb1ca565a2cd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:09:36 2017 +0800

    Move docker DB servers to their own network for better DNS resolution
    
    This makes use of docker's internal DNS resolution, which is only
    available to hosts running on a custom network.

commit 467b83601e8194df07a2277170fb72bcace7ed0e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:09:09 2017 +0800

    Expand docker run for db setup

commit cf5494b2faa2be57cf2cfe57d8645eb1e7bc457e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:06:55 2017 +0800

    Add support for DB Port to docker_run

commit dbfa320c859cbf9997b7dab94560d18496b63990
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:56:22 2017 +0800

    Move mariadb to tmpfs

commit 06defa01587affac144628d9704f9ed7b9902dec
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:51:18 2017 +0800

    Add .gitignore

commit 5754c93fe748b6423d3e1e9fdbc7b2d629d6aa48
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:50:36 2017 +0800

    Add Jenkins maintenance scripts

commit bb24bbefb3e83e40bb68dc3ad265159a854d45ca
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:50 2017 +0800

    Remove archive

commit f0d65eaaa0b56f71190703bf4cdc2f52ef76abaf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:43 2017 +0800

    Add archive

commit d059d034161e4f159e58c10814acfed8d74a4bf0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:10 2017 +0800

    Note about adding/removing databases

commit e000d5b1d44e6b787e547786d5b2bb91b23cbbdc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:37:25 2017 +0800

    Add a quick readme

commit 452fbb9bb177232fb6d63e294ac41903c612c3d0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:23:14 2017 +0800

    Switch to Dan's Oracle image

commit 2da98ad152dbb3ba371968f1d8b428daafd18dfe
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:23:02 2017 +0800

    Remove 21 databases

commit 261d4af18497ff63db71ead7a16aa6ddf622198f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:22:41 2017 +0800

    Tidy up faildump dir creation

commit f0b2fa4afa2515d739eca10b84653e0208da38b7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 15:44:42 2017 +0800

    Expose the sqlsrv port

commit 51891bb10cf4e61cebd6a0e6a20d88bbf563cd7b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 15:44:29 2017 +0800

    Correct DB init for sqlsrv

commit aea44409111987fd236d4f7e8abb5cfc6463af4a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 14:05:15 2017 +0800

    Correct docs for sqlsrv docker

commit 05b4937c3702d2069d2db48a6474a331a118dad1
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 14:04:19 2017 +0800

    Add M33

commit 04d79d0f0ca77f625731396a4dedc1d02d451c9b
Author: ${username} User <jenkins@nightly.test.in.moodle.com>
Date:   Wed Apr 12 09:16:37 2017 +0800

    Nightly scripts checkin
======================: FILES :======================
======================: BRANCHES :======================
======================: LOGINFO :======================
commit 2f5e8e5332c2e80cc4168bc1b176549ad8d099df
Merge: 88dd7f7 b429255
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Dec 15 10:24:16 2022 +0100

    Merge pull request #91 from stronk7/point_to_latest
    
    For sqlsrv, switch from 2017-latest to latest

commit b429255a73f0d36610f8f1e4999154dbfb411034
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Dec 11 11:31:13 2022 +0100

    For sqlsrv, switch from 2017-latest to latest
    
    Note that, right now, "latest" is exactly 2017-latest, so
    everything will continue working exactly the same.
    
    But once we finish with the tests @ MDLSITE-6045, we'll make
    2019-latest to become "latest".
    
    That's the reason the comment in the runner says
    "right now 2019-latest", because in hours, if everything
    goes ok, 2019 will become the latest.

commit 88dd7f7c32dd1e3254317d64073cdfc47c899146
Merge: dacb4b9 8c6c8fe
Author: Jun Pataleta <jun@moodle.com>
Date:   Sat Nov 26 19:25:57 2022 +0800

    Merge pull request #88 from junpataleta/41_disablelangupgrades
    
    Disable lang upgrades during 4.1 on-sync
    
    Merging as part of task #4 in packaging release tasks

commit dacb4b96c4d51d5cb1a24f05f9f488129d8fc712
Merge: 6b8f0e8 32ecdaa
Author: Jun Pataleta <jun@moodle.com>
Date:   Sat Nov 26 19:25:03 2022 +0800

    Merge pull request #90 from junpataleta/MR2_41_version
    
    Add Moodle 4.1 version
    
    Merging as part of task #4 in the release packaging tasks

commit 32ecdaa16beeec566d2821157021bbef6a42f890
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Nov 22 23:38:46 2022 +0800

    Add Moodle 4.1 version

commit 8c6c8fe66878f63b5b42e57d58f7b7fe6f056f78
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Nov 22 22:36:40 2022 +0800

    Disable lang upgrades during 4.1 on-sync

commit 6b8f0e857c07c8c1452df201c73769e9e6ca8d3f
Merge: 23d1022 79c14c9
Author: Jun Pataleta <jun@moodle.com>
Date:   Wed Aug 31 14:37:01 2022 +0800

    Merge pull request #85 from stronk7/postgres_replicas_10_and_up
    
    WIP: Make pgsql replicas to work with PostgreSQL 10 and up

commit 79c14c99b2af36686446ddf2b69cfae148902ef7
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 31 00:25:11 2022 +0200

    Make pgsql replicas to work with PostgreSQL 10 and up
    
    This seems to be working for PG 10, 11, 12, 13 and 14. I've finally
    left 9.6 out from the equation because it required to add some more
    shell scripts to be executed conditionally. And I think we can
    ignore that old versions @ CIs already (Moodle 3.9 works with PG 12
    perfectly).
    
    Note the changes here seem more complex, but basically it's because
    I've moved the stuff to be similar to the mysql/mariadb one, aka:
    
    - Create master / slave / standalone directories.
    - Move as much as possible to .sql entry points.
    - Keep shell scripts simple, only doing things really requiring a shell.
    
    Other than that, just renamed some setting or remove some stuff
    that was not needed (archiving, logging...) apparently.
    
    Fixes #79.

commit 23d10229496d8db16f1db3d12a384b8e1afb21d8
Merge: ef96180 6b81082
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Aug 29 16:58:35 2022 +0200

    Merge pull request #83 from stronk7/mariadb_replicas_102_104
    
    Make mariadb replicas to work with 10.2 to 10.7

commit ef96180f7f4c9112cd5559df3446f857671c33f3
Merge: 3891a8f 94a6c51
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Aug 29 10:02:27 2022 +0200

    Merge pull request #82 from stronk7/mysql_replicas_57_80
    
    Make mysql replicas to work with MySQL 5.7 and 8.0

commit 6b81082aa7fd59312deb56a891a78b055bd3930e
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 24 21:11:28 2022 +0200

    Make mariadb replicas to work with 10.2 to 10.7
    
    The code used here is 99% the same than the mysql one. But finally
    I've decided to copy it all over own mariadb.d directory.
    
    The only difference is when creating the replication database user
    because the MySQL sentence:
    
    CREATE USER 'replication'@'%' IDENTIFIED WITH mysql_native_password BY 'replication';
    
    Doesn't work with MariaDB. In fact, since MariaDB 10.2 the
    mysql_native_password is the default authentication plugin
    so it doesn't need to be specified. So this works the same:
    
    CREATE USER 'replication'@'%' IDENTIFIED BY 'replication';
    
    A working alternative is also:
    
    CREATE USER 'replication'@'%' IDENTIFIED WITH mysql_native_password USING PASSWORD('replication');
    
    But I've gone with the simple one because it's future better.
    
    As said, everything else is 100% the same, but better split that making
    complicated conditionals to get both working with the same config files.

commit 94a6c51bd7edeea66c11f9565a8839ed4e314152
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 24 15:54:12 2022 +0200

    Make mysql replicas to work with MySQL 5.7 and 5.8
    
    This fixes #80. It has been detected that MySQL main/replica
    configurations have stopped working. My personal bet is that
    some changes in the MySQL images have leaded to that, or maybe
    they were working for MySQL 5.6 and never have worked to 5.7.
    
    NVM, this commit just makes them back to work for both 5.7 and 8.0,
    that are the currently "supported" MySQL databases.
    
    Note that, after this PR, we'll be checking the MariaDB main/replica
    configurations because they may need similar changes.
    
    Also, while I've tested the solution locally, we are lacking any own
    CI for this product, so I've created an issue about that:
    
    https://github.com/moodlehq/moodle-ci-runner/issues/81
    
    Finally, here there are the explanations about the changes performed:
    
    1. Moved the bin logs from /var/log/mysql to /var/lib/mysql . Reason
       being that the former directory doesn't exist anymore in MySQL 5.7
       and up (and also, that the binary logs are better with data than
       with logs).
    2. Removed the 'multi_admin' user related stuff. Not needed at all.
    3. Minor changes to moodle and root GRANT/IDENTIFIED stuff because
       of changes in MySQL 8 (already deprecated in 5.7). Use ALTER USER
       instead.
    4. Use IDENTIFIED WITH mysql_native_password (the old password schema),
       because MySQL 8, when using the new hashed schema requires
       communications between the hosts to be encrypted. We don't need that
       extra complexity and while it can be disabled as part of the CHANGE MASTER TO
       command... it cannot be disabled for MySQL 5.7. SO the only option
       working in both versions is the used one (force old passwords schema
       for the replication user).
    5. Remove the need of stopping and starting the temp server in the
       replica. All the commands can be executed with the temp server
       running and then the container entrypoint manageing itself will stop
       the temp server and start the final one.
    6. Stop needing gosu completely. Now the replica conf files are made
       available via volume mount (like the standalone or main cases).
    
    And that's all. The changes are small and subtle, but each one is
    for a good reason, I think.

commit 3891a8f4ab36cfc5d4a7f466b0b2c78582eb9a92
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 23 12:06:40 2022 +0200

    Ensure that any Oracle > 11g doesn't use tmpfs anymore
    
    Apart from not giving a real benefit, the new machinery
    in Oracle 12 and up doesn't work well with these devices
    leading to all sort of problems is we also want to change
    system settings.
    
    Hence, disabling tmpfs. There are some more details in the
    long conversation @ https://github.com/gvenzl/oci-oracle-xe/issues/111
    (about that and many other details / iterations)

commit 08389ab2c008f1eedf9e310efc65945114bafd12
Merge: 88b8117 b6d1eaf
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Jun 6 09:13:33 2022 +0200

    Merge pull request #78 from moodlehq/testing
    
    Add support for specifying the DB tags (versions) to use

commit b6d1eafe0bac5fdae384edb516890bc13c5c070f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Jun 5 17:54:07 2022 +0200

    Add support for specifying the DB tags (versions) to use
    
    Added a new parameter, DBTAG, which behaviour is as follows:
    
    - If not specified, every database will use the currently
      pinned version (if there is any) or "latest" if not. Right now,
      the versions are:
        - mariadb: 10.7
        - mysqli: 5.7
        - oracle: latest (11)
        - pgsql: 12
        - sqlsrv: 2017-latest
    - If specified, then that tag will be used, say, for example:
        - mariadb: 10.6, 10.5,...
        - mysqli: 8.0,...
        - oracle: 19, 21,...
        - sqlsrv: 2019-latest,....
    
    So, this change doesn't make any difference in current default
    jobs (only pgsql has been raised to 12 to be ready for 4.1). Everything
    will continue running exactly as it's now.
    
    Only when we add support for that new DBTAG parameter in jobs (and in
    nightlyjobs) is when we'll be able to run alternative versions.

commit 88b8117b7ba8ca7b4e3d06282d160e5a4b23cf3c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue May 24 17:19:22 2022 +0200

    Pin MariaDB to 10.7, new 10.8 and 10.9  have problems (take II)
    
    Again (we unpinned it 3 months ago!), pin MariaDB
    to continue using 10.7, because 10.8 and 10.9 (just released) have some
    startup / init problems.

commit b93a84091e401db4f4186ddf97d76353f219803d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue May 24 16:58:08 2022 +0200

    Pin MariaDB to 10.8, new 10.9 has start problems
    
    Again (we unpinned it 3 months ago!), pin MariaDB
    to continue using 10.8, because 10.9 (just released) has some
    startup / init problems.

commit f977d82b966d0b1ac76b7fdb2f3f08e9c29335d6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 16 16:24:54 2022 +0200

    Remove the local/moodlemobileapp existence condition
    
    Previously the app was only started if the moodlemobileapp
    plugin was installed. But it may be perfectly ok to have
    alternative plugins to that one.

commit fb50f9ce19f3003286963a11431ea48303be62b7
Merge: fdce1d4 e2e1517
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Apr 28 13:56:27 2022 +0200

    Merge pull request #75 from junpataleta/40_enablelangupgrades
    
    Re-enable lang upgrades after the 4.0 on-sync period

commit e2e15170be3b1551a6e87881530be794d73f53da
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 12 11:57:36 2022 +0800

    Re-enable lang upgrades after on-sync

commit fdce1d4d7c20324b04e0d147269633e3237b2477
Merge: 7c7bee2 3a00bd7
Author: Víctor Déniz <victor@moodle.com>
Date:   Mon Apr 18 20:51:31 2022 +0100

    Merge pull request #76 from stronk7/enable_langimport_tests_when_not_skipping
    
    Enable lang install/upgrade tests only if lang upgrades are enabled

commit 3a00bd79fa53e1c0840e4c456570bb11f92f433c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Apr 18 12:37:20 2022 +0200

    Enable lang install/upgrade tests only if lang upgrades are enabled
    
    Over a few days/weeks after a major release, the lang upgrades
    are disabled in testing infrastructure, because the new development
    branch (4.1) in this case, doesn't exist yet.
    
    When we proceed to disable the lang upgrades (part of the release
    process) we need to ensure that all the tests using the languages
    install/upgrade are skipped.
    
    To do so, we don't define the TOOL_LANGIMPORT_REMOTE_TESTS constant
    so all the related tests always will look for it to decide between
    being executed or skipped.
    
    In PHPUnit that's checked with code like:
    
        if (!defined('TOOL_LANGIMPORT_REMOTE_TESTS')) => skip
    
    In Behat that's checked with the step:
    
        Given remote langimport tests are enabled
    
    For more details, see https://tracker.moodle.org/browse/MDL-74512

commit 7c7bee2f295b2f83e7e5ba38aa06ae99386fc2b8
Merge: 1499e43 25d9e32
Author: Jun Pataleta <jun@moodle.com>
Date:   Sun Apr 17 15:53:01 2022 +0800

    Merge pull request #74 from junpataleta/40_disablelangupgrades
    
    Disable lang upgrades during on-sync

commit 25d9e32c3e10c32a7dacb0c1b2340725942b95d3
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 12 11:56:58 2022 +0800

    Disable lang upgrades during on-sync

commit 1499e4388787a77a52cafc9108246458fc84fc91
Merge: 73c20f2 ecebf60
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 5 15:57:11 2022 +0800

    Merge pull request #73 from stronk7/add_ml_python
    
    Add support to run the python mlbackend analytics tests

commit ecebf60f063439c6ea7bbff375c6bf01b0a8038b
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Apr 5 09:39:06 2022 +0200

    Add support to run the python mlbackend analytics tests
    
    Disabled by default, just define `MLBACKEND_PYTHON_VERSION`
    with a correct tag of the docker image and that will make
    the container to run and the PHPUnit jobs to use it. Example:
    
    export MLBACKEND_PYTHON_VERSION=3.0.4-python3.7.5
    
    This it the first step towards adding these tests to CI.

commit 73c20f2fa47b13b55ee443f97f144a40f45989db
Merge: 4498b70 add5d74
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Feb 26 10:05:52 2022 +0100

    Merge pull request #72 from stronk7/unpin_mariadb
    
    Unpin MariaDB

commit add5d74a25780ce672084f5200bfd7bf6459978a
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Feb 26 09:45:57 2022 +0100

    Unpin MariaDB
    
    Now that 10.6.7 and 10.7.3 have been releases and their
    docker images are available, we can unpin it @ GHA.
    
    Fixes #55

commit 4498b708adf0e9fdb3d93a71c8b5495c45f388ec
Merge: 516b323 8db6d8b
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Feb 8 23:04:21 2022 +0100

    Merge pull request #70 from moodlehq/branch_40
    
    Add Moodle 4.0 version

commit 8db6d8b86392184cd3a7c271b3270bde54a69329
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 8 20:38:27 2022 +0800

    Add Moodle 4.0 version

commit 516b323cd729c295f65a017ab9cf6c0217b6de75
Merge: 6399b2f 3f79c0b
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jan 19 16:28:10 2022 +0100

    Merge pull request #69 from stronk7/bring_back_unconditional_xvfb
    
    Revert "Don't start xvfb in headless runs"

commit 3f79c0beec53c2f7e43ccbe5b9a44fcdd34cefcc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jan 19 16:20:12 2022 +0100

    Revert "Don't start xvfb in headless runs"
    
    This reverts commit 520e91ee67cb27c5f9c6973c1c9997167b1942b2.
    
    Immediately after applying #67 we have started to get all
    headless jobs failing with all sort of timeouts and > 8h
    of execution time. Headless runs.
    
    And this is the only change that has been performed since
    then, hence, reverting here and now.

commit 6399b2f204e08a2ad77a8434c834ec3ef115989e
Merge: d1dbed9 d11b5b6
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Wed Jan 19 11:24:47 2022 +0100

    Merge pull request #68 from moodlehq/alwaysFailOnRisky
    
    [runner] Always apply fail-on-risky

commit d11b5b6c4ef19936a2a5614fc16a0d1880b89fda
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Sep 26 13:16:40 2021 +0800

    [runner] Always apply fail-on-risky

commit d1dbed938e2ba091885284219dbd97452287b327
Merge: 191b387 520e91e
Author: Andrew Lyons <andrew@nicols.co.uk>
Date:   Wed Jan 19 08:24:45 2022 +0800

    Merge pull request #67 from moodlehq/xvfb
    
    Don't start xvfb in headless runs

commit 520e91ee67cb27c5f9c6973c1c9997167b1942b2
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 23 14:02:11 2021 +0200

    Don't start xvfb in headless runs
    
    It's not used and for sure will save some resources.

commit 191b387387c71179569812103595bd5fec2d62e5
Merge: adf2361 807f300
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Dec 9 16:35:42 2021 +0100

    Merge pull request #66 from moodlehq/chromedriver_bump
    
    [runner] Update to Chromedriver 96.0 custom

commit 807f300b9e362266aa2b3141ddf67c230aa9ad2f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 1 11:56:01 2021 +0800

    [behat] Force set marionette capability to true
    
    This works around https://github.com/Behat/MinkExtension/issues/376.

commit 1c8c62a863c557b43bae0537619a8108435fd10b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Nov 30 10:38:55 2021 +0800

    [runner] Update to Chromedriver 96.0 custom

commit adf2361b62d1b7575e4280c712576afb9b1a3db9
Merge: f88d0d1 2f8500e
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Nov 18 11:40:11 2021 +0100

    Merge pull request #65 from moodlehq/bbb-container-name
    
    Fix wrong BBB mock server container name

commit 2f8500e499062165875831f03d88bd6fdfa7d96e
Author: Víctor Déniz <victor@moodle.com>
Date:   Thu Nov 18 09:19:26 2021 +0000

    Fix wrong BBB mock server container name
    
    We were using the wrong container name in docker logs and getting errors during testing like "Error: No such container: http://bbbmock9145c76fb054c670"

commit f88d0d184259019a4c9d356e3196392e72c28010
Merge: a356bf8 4557921
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Nov 16 19:43:48 2021 +0100

    Merge pull request #64 from moodlehq/bbb-mock-server
    
    Add bigbluebutton mock server support

commit 4557921c4d11454fa2b9ecd15f976606c56f89c4
Author: Víctor Déniz <victor@moodle.com>
Date:   Tue Nov 16 16:26:22 2021 +0000

    Get BBB mock server image from moodlehq

commit c2f64e4e2f85d4bf4760ee2003695a81e829acc9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Sep 1 12:37:49 2021 +0800

    Add bigbluebutton mock server support

commit a356bf87df4796d291a1b98efce97d7d269622a9
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Oct 21 16:23:17 2021 +0200

    Add RUNCOUNT to de job summary information

commit 7a332221aaba02ab3f0476e7443f1c4a2659cedc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Oct 21 15:07:45 2021 +0200

    Add information about the installed plugins and their commits

commit baa4df45feb5de55fb7a14da1845b7a23bd2e5c8
Merge: 1efdc00 14292c7
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Oct 18 18:24:03 2021 +0200

    Merge pull request #62 from andrewnicols/customchromedriver
    
    [runner] Switch to custom chromedriver image

commit 1efdc007636385fe2f4455408f0ac5bd3698a8c3
Merge: f2f7295 e6d63a4
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Oct 15 09:44:00 2021 +0200

    Merge pull request #60 from andrewnicols/nogit
    
    [runner] Stop installing git

commit 14292c78bea2616b0dad6bfec5b0f5b493114446
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Oct 15 08:10:49 2021 +0800

    [runner] Switch to custom chromedriver image
    
    See https://tracker.moodle.org/browse/MDL-71108 for details on the
    reasons behind this change, and its history.

commit e6d63a4541cea00d5ad91130bdc759f4408a8bb2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Sep 26 11:32:26 2021 +0800

    [runner] Stop installing git
    
    It's installed already.

commit f2f72953bd6ce755ddeca2c47ec35bc9ea783342
Merge: 0bcac46 30e5b98
Author: ilyatregubov <ilya.a.tregubov@gmail.com>
Date:   Tue Sep 14 17:03:06 2021 +0200

    Merge pull request #59 from stronk7/unpin_chome_and_cross_fingers
    
    Unpin chrome version and cross fingers

commit 30e5b98ac88e1db6eab9c39aaeb0dc1ecb699747
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Sep 14 16:56:51 2021 +0200

    Unpin chrome version and cross fingers
    
    We are going brave here and go back to unpinned chrome version, because staying with
    the old Chrome 79 version (3.141.59-zinc) is making things really harder and harder.
    We are aware that, for headed runs, there are some zero-size errors still not fixed,
    but headless ones should run ok. For reference, the problems we are aware are being
    tracked (as of 14 Sep 2021) @:
      - MDL-71108 : zero-size
      - MDL-72306 : feedback

commit 0bcac461b8245b41a57c2fbd182641d9a2428554
Merge: 242d3fc 56741b9
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sun Sep 12 18:20:47 2021 +0200

    Merge pull request #52 from stronk7/enable_classic_accessibility
    
    Revert "Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 242d3fcedb5afbbe614a52e79071b4aa39c2c444
Merge: b039c34 0dc556c
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Aug 27 11:04:44 2021 +0200

    Merge pull request #56 from andrewnicols/mobileAppPort
    
    Allow mobile app port to be customised

commit b039c3490bcba3b4c0d9e5aab5a2a5f929c60472
Merge: 87a90c3 cfc5036
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Aug 27 10:56:47 2021 +0200

    Merge pull request #57 from andrewnicols/removeTerminalFromReruns
    
    Remove terminal from rerun commands

commit 0dc556c8c98a6711d08303466e881cf1d01dd57f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 6 15:09:19 2021 +0800

    Allow mobile app port to be customised

commit cfc5036ae3d6360e6907dde08181d21c544b5cbc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Aug 10 21:53:23 2021 +0800

    Remove terminal from rerun commands

commit 87a90c3a470400b76147906669127820e613cffa
Merge: 90e2530 eed9af3
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jul 14 12:55:28 2021 +0200

    Merge pull request #54 from stronk7/mariadb_10.5_sticky
    
    Make mariadb:10.5 sticky

commit eed9af3e0b5e7887fcd02f854a2a49883bb38891
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jul 14 12:36:35 2021 +0200

    Make mariadb:10.5 sticky
    
    New mariadb:10.6 makes the COMPRESSED row format read-only by default
    because it's deprecated now and will be removed in mariadb:10.7
    
    This is being tracked @ https://tracker.moodle.org/browse/MDL-72131
    
    Once that issue is fixed and we switch to DYNAMIC or whichever the
    final solution is, we'll unpin this.

commit 90e253075284b043da520b882101837a3483b2a1
Merge: d4dafe3 4ed4506
Author: Sara Arjona <sara@moodle.com>
Date:   Tue Jun 22 11:07:36 2021 +0200

    Merge pull request #53 from stronk7/pg10_bump
    
    Pg10 bump

commit 4ed450679cf0b3aa2e2f7e8e71348db536801457
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 21 18:29:13 2021 +0200

    PG10 minor changes (replication related)
    
    Following the information @ https://www.postgresql.org/docs/10/release-10.html
    - rename functions, tools and options referencing "xlog" to "wal".
    - log_directory changed from "pg_log" to "log".
    
    Note that both:
    - wal-method=stream
    - log_directory=log
    
    are default options so, extrictly speaking we shouldn't need to set them
    but it doesn't hurt to have them explicily defined, so keeping them.

commit a4b02874efa1b7e11aba8e1e1d5d65038a1c9c88
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 21 18:08:46 2021 +0200

    Bump to PG10, Moodle 4.0 requirement

commit 56741b9fc2f14dbc09984d8b49dc22d79bd59d14
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Jun 13 23:03:42 2021 +0200

    Revert "Disable accessibility (axe) with classic till MDL-70846 is fixed"
    
    This reverts commit 6772ca686434a36ba1f318682d5083a4f0d2e7e6.
    
    Closes #49

commit d4dafe3b6b261c3fd1b28618161bc61a9523557f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed May 19 18:42:58 2021 +0200

    Move back to our public image, it's working ok since some months ago
    
    In the past we switched to private one because of some problems
    with Oracle & Docker removing access to all Oracle images. Since
    then our wnameless/docker-oracle-xe-11g base image is back so
    we created the -r2 public one based on it.
    
    More info @ MDLSITE-5669

commit e16b54b1b13c4cbd326a597e451166c54cdb6bcd
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Mar 14 15:41:21 2021 +0100

    Revert "Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton"
    
    This reverts commit 8b96786722b4bbada3e05e63fadbe1d5e8d598f6.
    
    We are going back (to Chrome 79) because 2 errors have been
    found with Chrome 89 needing to be fixed before jumping to it.
    
    More info:
    
    https://tracker.moodle.org/browse/MDL-71108

commit d0775338e44eb115274ee38bab3d798bb3b35106
Merge: 612e041 8b96786
Author: Jun Pataleta <jun@moodle.com>
Date:   Fri Mar 12 16:45:18 2021 +0800

    Merge pull request #51 from stronk7/chrome89
    
    Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton

commit 8b96786722b4bbada3e05e63fadbe1d5e8d598f6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Mar 11 17:04:03 2021 +0100

    Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton
    
    We were waiting since some time ago to Chrome 89 to be released
    and, because of that, we had selenium pinned to 3.141.59-zinc
    version (Chrome 79).
    
    The cause for staying sticky was this issue:
        https://bugs.chromium.org/p/chromedriver/issues/detail?id=3682&q=&can=1&sort=-id
    
    Chrome (and chromedriver) 89 have been released and Selenium has
    already build the docker images for them:
    
    https://github.com/SeleniumHQ/docker-selenium/releases/tag/3.141.59-20210311
    
    So now we can unpin the old version and let the machinery to use the
    latest versions available. That's what this PR does.

commit 612e04179e19aafb236b3deebe4f0cdd7f6c5d74
Merge: 67f0ecc 6772ca6
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 19 06:51:48 2021 +0800

    Merge pull request #48 from stronk7/disable_axe_classic
    
    Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 6772ca686434a36ba1f318682d5083a4f0d2e7e6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Feb 18 22:44:46 2021 +0100

    Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 67f0eccccdfc69242fabfb8923fc09bb0d683692
Merge: 3933a35 ddaf3b6
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Wed Feb 10 00:23:58 2021 +0100

    Merge pull request #47 from andrewnicols/axe
    
    Run axe tests on CI

commit ddaf3b680a45531f53baea086bffb4ea36447636
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Feb 7 08:08:31 2021 +0800

    Run axe tests on CI

commit 3933a35e297445bb0599e152cad12efa9ed9d70a
Merge: 101866d 6c65442
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Jan 16 17:45:38 2021 +0100

    Merge pull request #43 from andrewnicols/w3csupport
    
    Add W3C Support to the CI runner

commit 101866d853bdc2a64f3caac01e554bade91201d4
Merge: 50ba133 4f04878
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jan 13 14:48:53 2021 +0100

    Merge pull request #46 from andrewnicols/stopRunningIonic
    
    Stop running ionic when not testing mobile

commit 4f0487876f9528923747c58688a1fa54a49aa795
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 13 20:59:24 2021 +0800

    Stop running ionic when not testing mobile

commit 6c65442a5daf9945126b1e2dd120758c3585d63c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:05:55 2021 +0800

    runner: Add support for headless browsers
    
    A new environment variable, 'BROWSER_HEADLESS', is now respected. When
    present and not falsey, the relevant browser-specific flags are used to
    make browsers run headless.

commit 57227eb2ae778a687f3a615d27bfd0921243938f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:05:39 2021 +0800

    runner: Add browser verbosity control

commit 5ddde8fbe35a6b3cef1eb95828ce5b3997db4d9d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 13 10:07:05 2020 +0800

    runner: Support Mink with W3C driver and browsers
    
    This commit makes changes to support both the legacy instaclick Mink
    driver, and the newer W3C-compatible Mink driver using the php-webdriver
    project.
    
    To support this we now detect whether the instaclick driver is in use,
    and if so use Firefox 47.0.1, and disable marionette in the browser
    configuration.

commit dc64a2e807e966e71b2f1f654703e155fd9abbcb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 10:26:47 2021 +0800

    runner: Always show Job summary
    
    Remove the section tags which cause Jenkins to collapse the Job summary.
    
    The job summary is often useful when identifying jobs and it is
    unnecessarily collapsed in a section.

commit 50ba133b698ee73a0e76d7ef08506d6a6c52228a
Merge: eb46238 cdec51d
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jan 12 18:37:34 2021 +0100

    Merge pull request #45 from andrewnicols/alwaysShowSummary
    
    runner: Always show Job summary

commit eb462380d1819e70b5f59060942858294c34aa12
Merge: bb2765e bf5d2db
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jan 12 18:32:02 2021 +0100

    Merge pull request #44 from andrewnicols/initdbfix
    
    Correct file permissions for DB entrypoints

commit cdec51dc0d49ee1995b7717933e03e1b51362454
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 10:26:47 2021 +0800

    runner: Always show Job summary
    
    Remove the section tags which cause Jenkins to collapse the Job summary.
    
    The job summary is often useful when identifying jobs and it is
    unnecessarily collapsed in a section.

commit bf5d2db9b89bb31e56469ddbf92eb8af719becfb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:10:10 2021 +0800

    Correct file permissions for DB entrypoints
    
    These scripts were missing the executable bit which was causing issues
    on MacOS.

commit bb2765e405f2aae3a675bea2f8c4d2208fe932be
Merge: 1b61851 949de31
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Dec 26 13:02:45 2020 +0100

    Merge pull request #40 from stronk7/enable_lang_upgrade
    
    Enable lang upgrades again

commit 1b618511ce0b38cb99a7b3bdfeb78f576aa84738
Merge: fa35a42 ed19688
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Nov 13 18:50:55 2020 +0100

    Merge pull request #41 from stronk7/311_versions
    
    Add Moodle 3.11 version

commit ed19688323f33d5202d3204005baa5f3ebbe6a8d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Nov 13 17:04:37 2020 +0100

    Add Moodle 3.11 version

commit fa35a4211e2fcae86562c881e745c76539a4ae82
Merge: 459f133 3210a89
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 2 09:06:15 2020 +0800

    Merge pull request #39 from stronk7/logs_take2
    
    Better log file names + also log phpunit images

commit 949de31e7f22733033ad453ecb3ed64284db9cb9
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Nov 1 23:38:59 2020 +0100

    Enable lang upgrades again
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information
    
    Under parallel development, until the new dev branch (310_STABLE in this
    case) language packs are and available.

commit 3210a89b6e017f1faa1c09eb6d7678959d75aa7e
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Nov 1 16:45:48 2020 +0100

    Better log file names + also log phpunit images
    
    This does a couple of things:
    
    1) export all logs using better container names (names instead
       of ids, with some current names improved "run => webserver...)
    2) move the log exporting out from behat section, so it's also
       executed for phpunit runs and we get other logs that could be
       also useful at some point.
    
    This is a followup of https://github.com/moodlehq/moodle-ci-runner/pull/38

commit 459f133ee1e669b2da1848738037e7ef36b99222
Merge: e7d8e7b 1e3d130
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Oct 29 09:50:46 2020 +0100

    Merge pull request #38 from andrewnicols/logs
    
    runner: Store all of the docker container logs

commit 1e3d130c8a82fa4bdfb8e8c23faa6d02e37d47d4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Oct 29 15:52:11 2020 +0800

    runner: Store all of the docker container logs

commit e7d8e7b6f23e51197c25426f35140c9d0e96349a
Merge: ea04e94 21dfcbc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 17 19:32:11 2020 +0800

    Merge pull request #37 from stronk7/unpin_mariadb
    
    Unpin MariaDB and remove deprecated / removed settings from config

commit 21dfcbc2bbbe8c5e5c9385502b7452b51cbf8f98
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Sep 11 23:24:24 2020 +0200

    Unpin MariaDB and remove deprecated / removed settings from config
    
    this shouldn't affect MySQL because current (5.7 and up) defaults
    match the settings.

commit ea04e944683151460664535547542a0d38319343
Merge: 5af1206 bacbb8c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 10 17:56:40 2020 +0800

    Merge pull request #36 from stronk7/show_behat_increase_timeout
    
    Show the BEHAT_INCREASE_TIMEOUT config value on all runs

commit bacbb8c29354cc5487fd7d912d66dc2472c78e44
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Sep 10 11:06:24 2020 +0200

    Show the BEHAT_INCREASE_TIMEOUT config value on all runs

commit 5af1206badce74f734fb98f0ec8b6a6d2c1318ca
Merge: f679b06 8cd284f
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Aug 11 11:35:09 2020 +0200

    Merge pull request #35 from stronk7/disable_lang_upgrade
    
    Disable lang upgrades, to be enabled once the lang branch is available

commit f679b067f2a41892d8db739a102aa319ffc1d8f4
Merge: b9064c7 bedb181
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Aug 11 11:34:52 2020 +0200

    Merge pull request #34 from stronk7/310_versions
    
    Add Moodle 3.10 version

commit 8cd284faa1aa6002b08acf13b4776b9f2a74a90c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Aug 10 11:08:23 2020 +0200

    Disable lang upgrades, to be enabled once the lang branch is available

commit bedb181218d3dd53614fc64eacf2b501ac57826f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Aug 10 11:05:46 2020 +0200

    Add Moodle 3.10 version

commit b9064c7fb5f22c089a22dac45d8079ac0e8c8c4a
Merge: e42c7fd 1a1e718
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 30 06:59:43 2020 +0800

    Merge pull request #32 from stronk7/external_https_exttests
    
    Make unit tests also use exttests docker container for https tests

commit 1a1e718169b0225d752c5303cdaca9571890b314
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Jul 18 12:11:09 2020 +0200

    Make unit tests also use exttests docker container for https tests
    
    While we are already using the exttests docker image for HTTP
    requests (avoiding to use download.moodle.org), we are not using
    it for HTTPS tests.
    
    Looking to codebase, there is only ONE tests using HTTPS and it's
    the one that uses to fail when there are porblems with downloads.
    
    As far as that test doesn't perform any check or validation related
    to certificates, we can, simply, configure unit tests to also use
    the HTTP exttests URL to run the HTTPS test.
    
    If tomorrow we need some real HTTPS test, surely we'll need to
    incorporate some mutual recognised certificates, or a real one..
    
    But right now that's not needed.

commit e42c7fd7a7d15777a9843da9a986e0808ed6791e
Merge: f98d032 c1fa35f
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jun 23 22:58:10 2020 +0200

    Merge pull request #31 from stronk7/enable_lang_upgrade
    
    Enable lang upgrade

commit c1fa35f1b41ae28074a14d80eec75b6cf4a354ce
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:58:22 2020 +0200

    Enable lang upgrades again
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit f98d032dba13d122c8cdc5aaea31e2359182c4e0
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jun 10 15:52:38 2020 +0200

    Add back the recently removed sleep, we need it for now
    
    Once we get https://tracker.moodle.org/browse/MDLSITE-6178
    properly implemented we'll be able to revisit all the
    current harcoded pauses.

commit ac8f7607e45bf74977a111b5586884fab1c714e1
Merge: b622687 8ca70ac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 9 07:24:28 2020 +0800

    Merge pull request #30 from stronk7/disable_lang_upgrade
    
    Disable lang upgrades, to be enabled after on-sync

commit b622687b818b0866238c508fe80f5c15655da18c
Merge: 5e8da83 7a8a42f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 9 07:23:22 2020 +0800

    Merge pull request #29 from stronk7/39_versions
    
    Add Moodle 3.9 version

commit 8ca70ace3475237ca70d5b0bc85b5876c47ba3de
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:55:37 2020 +0200

    Disable lang upgrades, to be enabled after on-sync

commit 7a8a42fd286197d0c12065ffc20b88e35575f5de
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:53:02 2020 +0200

    Add Moodle 3.9 version

commit 5e8da83fde01cffbcf99542cbae5c9bcc886a130
Merge: 8e0fd99 41cceb6
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Jun 2 17:22:43 2020 +0800

    Merge pull request #27 from stronk7/moodlehq_sqlsrv_image
    
    Switch to modern sqlsrv own image

commit 41cceb6171884f25e6774b695ee27ec07ccf138f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 1 01:26:44 2020 +0200

    Switch to modern sqlsrv own image
    
    It comes with important memory reduction, specially important
    now that we are also running sqlsrv unit tests as part of ToBiC.
    
    Also remove not needed commands and pauses because the container
    startup handles both.

commit 8e0fd99de3995d51f90bf22fa463f9dea718183b
Merge: 5a28bb7 2aa7c00
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sun May 24 19:58:33 2020 +0200

    Merge pull request #24 from moodlehq/dbslave
    
    DB Slave support

commit 2aa7c0073ab43a2a94514177695353da233fd2b6
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue May 12 13:49:35 2020 +0800

    runner: MySQL Replicate support

commit 74d4d862c308e745c5add7f0f2c58f7d4553cdc4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 11 15:43:58 2020 +0800

    runner: Support postgres slaves

commit 5a28bb7818272c4435831768441eb42f6456da0c
Merge: c6fc3a0 13936d1
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue May 19 16:17:29 2020 +0200

    Merge pull request #23 from crazyserver/patch-1
    
    Change Moodle App docker repository

commit 13936d19c9e28e9dc758fd72c0d028f73899dc2d
Author: Pau Ferrer Ocaña <crazyserver@users.noreply.github.com>
Date:   Tue May 19 14:58:11 2020 +0200

    Change Moodle App docker repository

commit c6fc3a0974f39eb018d628f1e045c7485bfc4e5d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 18 22:38:18 2020 +0200

    Disable options not directly related with the run type

commit 3d1ff1c4ce7b38c810fbbb1b9235d0ff8b548682
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu May 14 03:02:07 2020 +0200

    Added support for multiple reruns (defaults to current 1)
    
    Now it's possible to perform multiple reruns, controlled by
    the BEHAT_NUM_RERUNS env variable. It defaults to current 1.
    
    Also, if 0 is passed, don't perform any rerun.
    
    Output files (pretty, junit) now will have the format:
    
    - prettyRUN_rerunRERUN.txt
    - logRUN_rerunRERUN.junit
    
    Where RUN is the # of parallel run (empty for single)
    and RERUN is the rerun iteration.

commit 9b8619d417a8131ec34e5ee33d14a74ab975a1fe
Merge: af8ad05 c27cac8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 18 07:16:06 2020 +0800

    Merge pull request #22 from stronk7/avoid_chrome80
    
    Avoid Chrome 80 because it's causing some SCORM tests to fail

commit c27cac893a4f46637464a7d05f4004f5f91d46ad
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Feb 17 17:49:34 2020 +0100

    Avoid Chrome 80 because it's causing some SCORM tests to fail
    
    See https://tracker.moodle.org/browse/MDL-67989 for more information,
    once that is solved, we'll revert this, proceeding with #21

commit af8ad051bb76536d9c97201428aea30927d80383
Merge: b0f1332 4171a80
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Dec 28 11:43:39 2019 +0100

    Merge pull request #20 from stronk7/bump_mariadb_102
    
    Bump MariaDB to 10.2 to fulfill Moodle 3.9 requirements

commit 4171a80b7d02d1fb8931e72d2e6217ee9f705a99
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Dec 28 11:21:25 2019 +0100

    Bump MariaDB to 10.2 to fulfill Moodle 3.9 requirements
    
    See https://tracker.moodle.org/browse/MDL-65809 for details

commit b0f1332755eb460d037da7c5f3bfa58f7029641c
Merge: 9832e97 c88ed81
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Dec 17 23:54:02 2019 +0100

    Merge pull request #19 from stronk7/disable_skiplangupgrade
    
    Disable skiplangupgrade

commit 9832e9799dcdc44b5ca0c4b2e10ce8d4effeac92
Merge: 8e2f14e 024baad
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Nov 16 18:32:38 2019 +0100

    Merge pull request #18 from stronk7/enable_skiplangupgrade
    
    runner: Set skiplangupgrade as part of on-sync period

commit 8e2f14ea7ef584d4550decdfd98a98dbeb2b5d42
Merge: fc97b3d 289f974
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Nov 16 18:32:02 2019 +0100

    Merge pull request #17 from stronk7/38_release
    
    runner: Add Moodle 3.8 version of the runner

commit c88ed81e6492b46c025027a312ab8177e976b628
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:58:34 2019 +0100

    runner: Unset skiplangupgrade after the on-sync period
    
    This is MR4 in the [release
    process](https://docs.moodle.org/dev/Release_process#1_week_prior)
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 024baade98f99dd50b0b5ed5d00e741947547d88
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:55:14 2019 +0100

    runner: Set skiplangupgrade as part of on-sync period
    
    This is MR3 in the [release
    process](https://docs.moodle.org/dev/Release_process#1_week_prior)

commit 289f974d4b0f03950aaf680ae25d4057d1972653
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:52:09 2019 +0100

    runner: Add Moodle 3.8 version of the runner

commit fc97b3d368d29e42e13ef9352916a7de5f8e336f
Merge: 66cc4a1 0e40fe4
Author: Jun Pataleta <jun@moodle.com>
Date:   Mon Oct 14 15:39:19 2019 +0800

    Merge pull request #16 from stronk7/images_summary
    
    Show the creation date and hash/digest of involved images in a run

commit 0e40fe4bd76a45823b3d86adaa66345db200f175
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Oct 11 22:19:55 2019 +0200

    Show the creation date and hash/digest of involved images in a run

commit 66cc4a1261a82a6545bf86bff291c10105d60cf4
Merge: 716f333 a713c0c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:28:41 2019 +0800

    Merge pull request #14 from stronk7/enable_mongodb
    
    Enable mongodb

commit 716f333ace352e73425c12fcb025b430159c1f5c
Merge: 148a3af b3b185b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:28:18 2019 +0800

    Merge pull request #13 from stronk7/enable_memcached
    
    Enable memcached

commit 148a3af6a304889982e4f3061fe32af60d4cf055
Merge: 8e6d745 4881af9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:27:38 2019 +0800

    Merge pull request #12 from stronk7/enable_solr
    
    Enable solr

commit 8e6d745e7be5718d66ba54f6acf6a90e5e911cf2
Merge: dac6a76 d96d7cf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:27:16 2019 +0800

    Merge pull request #11 from stronk7/more_reliable_scriptpath
    
    Make the detection of SCRIPTPATH more reliable

commit dac6a762a73bbd601034304127d85a7953df3aad
Merge: b457662 1fe8710
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:26:11 2019 +0800

    Merge pull request #6 from sarjona/runner-appversionvar
    
     runner: Add support to MOBILE_VERSION and PLUGINSTOINSTALL settings

commit a713c0c137ff60db3c14e9546a60c2418994b135
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 18:50:14 2019 +0200

    Add support for mongodb tests

commit b3b185b648b3a93986b28156291c14a02bc294c1
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 17:04:54 2019 +0200

    Add support for memcached tests

commit 4881af9997f1da4c4c6413399c4275328bdcd7b8
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 16:23:25 2019 +0200

    Enable back solr, it's working with all php images

commit d96d7cf61205fccdfc62e23ac9db1792c7880abc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 13:56:20 2019 +0200

    Make the detection of SCRIPTPATH more reliable
    
    So it can be executed from other scripts, or aliased...

commit 1fe871046e5402d5b2b47806e1071c5f355f9005
Author: Sara Arjona <sara@moodle.com>
Date:   Fri Sep 20 17:31:54 2019 +0200

    runner: improve PLUGINSTOINSTALL and MOBILE_VERSION support
    
    Some improvements have been added, following Andrew's suggestions:
    - If the MOBILE_VERSION is not defined, the moodlemobile docker
    container won't be executed.
    - Instead of creating a temporary folder for the plugins, a new
    setting, PLUGINSDIR, has been added. By default they will be
    downloaded to $WORSPACE/plugins.
    - Those new settings have been added to the README.md

commit 44c4e60038cb731a694fda364a6d9731933e128b
Author: Sara Arjona <sara@moodle.com>
Date:   Fri May 31 12:28:21 2019 +0200

    runner: Add PLUGINSTOINSTALL variable to install external plugins

commit d5ebe8cb8fbfc6a122d572916f8f8bdc52aac9b0
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 16:19:14 2019 +0200

    runner: Add MOBILE_VERSION variable to define the app version to run @app tests

commit b9dcf77fe75a19a1733b01ed7d7605680783b020
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 17:00:39 2019 +0200

    Unpin mobile once that breaking tests are removed (MDL-65869)
    
    This reverts commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f.

commit af3943120701d2532177723c2e7afc79f6e4bd65
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 16:57:36 2019 +0200

    Enable back Redis session tests for PHP 7.2 and up
    
    This reverts commit f36e8081c50dfa7342b9e91736c1febeeedebbd6.

commit fabe6dea67da25f01ccffd38788d3bd7e8d5305f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jun 12 09:08:01 2019 +0800

    Temporarily ping mobile to 3.6.1 until failing tests removed

commit b4576622ce3efd624698ac0bc11b3a576a81b975
Merge: 348685d 51ff441
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 12 21:33:01 2019 +0800

    Merge pull request #10 from stronk7/unpin_mercury
    
    Unpin 3.141.59-mercury and allow any new 3.x release to be used

commit 51ff44139da1fe952fcde88a21579fc1f658957c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Sep 11 16:46:05 2019 +0200

    Unpin 3.141.59-mercury and allow any new 3.x release to be used
    
    With MDL-66378 and, specially, https://github.com/moodlehq/php-webdriver/pull/1
    we can continue using Chrome >= 76 because we are enforcing the
    use of the legacy JsonWire protocol (instead of the default W3C one).
    
    So it has been agreed that we'll allow any 3.x new release to be used in
    order to detect problems earlier (we always can pin again if needed).

commit 348685d0918ea2d5c9ff2f0d4eb2bd49644499d2
Merge: bb20f2c 5779fe2
Author: Adrian Greeve <abgreeve@gmail.com>
Date:   Tue Aug 20 14:41:29 2019 +0800

    Merge pull request #8 from moodlehq/revert-7-chrome_unpin
    
    Revert "Revert "Moving away from 3.141.59-neon coz it's causing problems""

commit 5779fe24d006ca3f1acc8f2dcc5b6919c279bda7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Aug 20 14:38:15 2019 +0800

    Revert "Revert "Moving away from 3.141.59-neon coz it's causing problems""

commit bb20f2cd499f008116fab9a7c47472712e93c84b
Merge: 3fb9dc6 9443e85
Author: Adrian Greeve <abgreeve@gmail.com>
Date:   Tue Aug 20 14:31:09 2019 +0800

    Merge pull request #7 from moodlehq/chrome_unpin
    
    Revert "Moving away from 3.141.59-neon coz it's causing problems"

commit 9443e85a1bfff80333288626fd353769b72392b9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Aug 14 13:48:49 2019 +0800

    Revert "Moving away from 3.141.59-neon coz it's causing problems"
    
    This reverts commit 1bda1c27f698e5a96180836b59b19f254b5fbd58.
    
    Fixed by way of MDL-66378.

commit 3fb9dc6c5ae6268357a22b6e057aaa3e872f736d
Merge: 2d13771 0b953ee
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 28 06:40:00 2019 +0800

    Merge pull request #5 from stronk7/redis_session_tests_are_back
    
    Enable back Redis session tests for PHP 7.2 and up

commit 0b953eecf390263e561d9efc1918e33fbebcc1c1
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 17:00:39 2019 +0200

    Unpin mobile once that breaking tests are removed (MDL-65869)
    
    This reverts commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f.

commit f161c4ecb848b52728c073702624949cb0f887a5
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 16:57:36 2019 +0200

    Enable back Redis session tests for PHP 7.2 and up
    
    This reverts commit f36e8081c50dfa7342b9e91736c1febeeedebbd6.

commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jun 12 09:08:01 2019 +0800

    Temporarily ping mobile to 3.6.1 until failing tests removed

commit 97d40fe45eef9cda9dee4332200927c763b92a0d
Merge: f27d127 318e84b
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri May 31 09:51:04 2019 +0200

    Merge pull request #4 from sarjona/runner-fix-local
    
    runner: Avoid local network collissions

commit 318e84bdc11f66f6d6e8e25505bb942b9029fb86
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 14:39:49 2019 +0200

    runner: Avoid local network collissions

commit f27d127197acb4976a71c2638e21c29d1c5afed8
Merge: c18d21c 70ca27d
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu May 30 22:58:37 2019 +0200

    Merge pull request #3 from sarjona/readme-revision
    
    README: Update themes and add some extra parameters to the doc

commit 70ca27d7b8d7f036c7dffc2f7b9c31abf3fdc302
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 13:58:13 2019 +0200

    README: Update themes and add some extra parameters

commit c18d21c6d38431ca134be6732ebc88a942f02157
Merge: 551b15d ead8faf
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat May 25 00:03:25 2019 +0200

    Merge pull request #2 from andrewnicols/mobiletesting
    
    runner: Add Ionic testing

commit 551b15d59f7c81d26c7838621a9265bd9ca3a0cb
Merge: 2941637 f7078a4
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri May 24 23:55:36 2019 +0200

    Merge pull request #1 from andrewnicols/37_endonsync
    
    runner: Unset skiplangupgrade for end of on-sync period

commit 2941637e67830cef6334ebe3d0da8658828f8323
Author: Mark Johnson <mark.johnson@open.ac.uk>
Date:   Wed Mar 27 09:25:01 2019 +0000

    Add support for increased behat timeout

commit ead8faf6168cc7ae7f4d894827f49a4391cb6d7e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 31 06:53:45 2019 +0800

    runner: Add Ionic testing

commit f36e8081c50dfa7342b9e91736c1febeeedebbd6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 20 22:50:53 2019 +0200

    Disable Redis session tests for PHP 7.2 and up
    
    See MDL-60978 for more information.

commit 8bbcbf0a05c15b15c96d8b743b50c4919f46bb80
Merge: 19fe0f5 6c7dbaf
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun May 19 18:17:43 2019 +0800

    Merge branch '37_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!29

commit 19fe0f5e4cbb50e7de1a870b308919a8d29b4688
Merge: 1bda1c2 fb50503
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun May 19 18:17:29 2019 +0800

    Merge branch '37_release' into 'master'
    
    runner: Add Moodle 3.7 version of runner
    
    See merge request integration/nightlyscripts!28

commit f7078a46484f9b417e33189d7c4ba8ed1df461eb
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:39:57 2019 +0200

    runner: Unset skiplangupgrade for end of on-sync period
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 6c7dbafd94bdf22132ad0d032150079aefeacd98
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:37:21 2019 +0200

    runner: Set skiplangupgrade as part of on-sync period

commit fb50503ce89e26378204c92930821fcbb6fe4829
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:32:59 2019 +0200

    runner: Add Moodle 3.7 version of runner

commit 1bda1c27f698e5a96180836b59b19f254b5fbd58
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Apr 30 16:06:14 2019 +0200

    Moving away from 3.141.59-neon coz it's causing problems
    
    So we are now explicitly using 3.141.59-mercury, from 1 month
    ago that was working till neon arrived (6 days ago). That is
    leading to lots of "invalid session id" errors leading to the
    re-execution of complete jobs (almost 2X execution time)

commit 1c626b647730aca6682147dd7006c177a817c696
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 20:21:57 2019 +0200

    Avoid colors that look horrible (escape seqs) in some clients (take#3)

commit 113c847885ab29bd232060a435f71c35c8c92b7c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 20:14:20 2019 +0200

    Avoid colors that look horrible (escape seqs) in some clients (take#2)

commit d4e30b6abee5fb15c0bcf19639a309ba5e78fa12
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 18:59:32 2019 +0200

    Avoid ansi colors that look horrible (escape seqs) in some clients

commit ed1604b7fa7ad04c4533106419dc500d849c5ea8
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Apr 11 02:18:45 2019 +0200

    Add support for individual features/scenarios (--name)
    
    Also fix some small details, like 1-parallel, reruns and
    some old selenium version.
    
    Finally, note that the --config parameter requires to use
    this syntax:
    
    --config path/to/behat.yml
    
    and doesn't work with
    
    --config path/to/behat.yml
    
    Because of an annoying dependency built in core (MDL-65435). Once
    it's fixed, both syntaxes will work.

commit 39e2cb3eb3ee60056a40361e094227a7419d9a9f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Feb 18 15:05:37 2019 +0800

    runner: Bump chrome to 3.141.59

commit 674bf46278c225cd9507115c5f0344e2563a43ce
Merge: af3a800 a3398e0
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Feb 12 22:57:21 2019 +0800

    Merge branch 'mdlsite-5669' into 'master'
    
    runner: Update oracle image to moodle-db-oci
    
    See merge request integration/nightlyscripts!26

commit a3398e06b56964da1e88645bb7914953e1e99b9c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 12 15:11:55 2019 +0800

    runner: Update oracle image to moodle-db-oci
    
    Fixes MDLSITE-5669

commit af3a8009a6869929e4a67e3c0dbbec46d60465b4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 31 10:11:42 2019 +0800

    Marionette option is for Firefox only

commit d9431cd102f2d1078a2d149417f53933cd3fd48d
Merge: 16b748d c00a229
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu Jan 31 07:20:05 2019 +0800

    Merge branch 'ff_selenium_upgrade' into 'master'
    
    runner: Switch to MoodleHQ selenium image
    
    See merge request integration/nightlyscripts!25

commit c00a229752f41e8dcb1bbebe46dfd111b1c0735e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 12 13:11:52 2018 +0800

    runner: Switch to MoodleHQ selenium image
    
    This image uses a newer version of Selenium, disabling Marionette, but
    the old version of Firefox.
    
    It appears to be more stable than the images we've been using to date.

commit 16b748d2dc729d334c5c5479d121a5ac101fa011
Merge: dd82982 12e1904
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sat Jan 12 20:32:07 2019 +0800

    Merge branch '36_endonsync' into 'master'
    
    runner: Unset skiplangupgrade for end of on-sync period
    
    See merge request integration/nightlyscripts!24

commit dd82982330eed22998a14de9ea8152a9654c0cbd
Merge: 40df230 0c5102c
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun Dec 2 08:20:38 2018 +0800

    Merge branch '36_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!23

commit 40df230cbc64075c384aabfacf806f4f6cf2d080
Merge: 5b37b3f a606c9b
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Fri Nov 30 12:03:28 2018 +0800

    Merge branch '36_release' into 'master'
    
    runner: Add Moodle 3.6 version of runner
    
    See merge request integration/nightlyscripts!22

commit 12e1904875f7497febccff6ee96d813ae2cc2d40
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:52:55 2018 +0100

    runner: Unset skiplangupgrade for end of on-sync period
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 0c5102c821211fa901a9273fecb32da7a8f09b3d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:51:27 2018 +0100

    runner: Set skiplangupgrade as part of on-sync period

commit a606c9b728892022682bfab1a9465f1e813c5947
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:49:02 2018 +0100

    runner: Add Moodle 3.6 version of runner

commit 5b37b3f915313c132299319a1ddf23c8e2cf6916
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 10 12:17:31 2018 +0800

    Revert "runner: Remove suite from behat run command"
    
    Unfortunately I have no idea why I wrote this change.
    The -a=[theme] should work, but does not.
    
    This reverts commit aeafe7d70fce06edd1e1da3137fbf0f857c47b7f.

commit 4aa09c8c19163d2752d2a977cb94b56cb174b4f8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 10 12:17:29 2018 +0800

    runner: Add pathtosassc

commit aeafe7d70fce06edd1e1da3137fbf0f857c47b7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Sep 5 09:37:25 2018 +0800

    runner: Remove suite from behat run command

commit 054d655920b0ce49eb426c6b1f8cc0b87423fc2c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 11:26:00 2018 +0800

    runner: Disable SOLR for now :(

commit a1ff178fa83b8b0710ddf7d6395049610fdbf340
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 09:32:12 2018 +0800

    runner: Add redis to tests

commit e75774849038c688f8cb1f27310d601cf1ebea3d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 09:31:38 2018 +0800

    runner: Add solr to tests

commit 022c84006b6d3ece8a297823d8341e4ed5c1761f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 08:38:54 2018 +0800

    runner: Attempt to seed with cached composer.phar

commit 1cba58a03a674c3e77dd333c9c114b1461a703dc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 12 15:55:24 2018 +0800

    README: Move to project root

commit 00599ef9016ded2f3d535118eb52ade77f568cac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 12 15:55:08 2018 +0800

    runner: Add CODEDIR to readme

commit eb57951e64c8999624097e39d4fd31f654a0d084
Merge: 54a1141 2bd6d1b
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Jun 6 23:33:18 2018 +0800

    Merge branch '35_endonsync' into 'master'
    
    runner: Unset skiplangupgrade for end of on-sync period
    
    See merge request integration/nightlyscripts!18

commit 54a1141bd1f89323a91cb16a454e00a598de4fa0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 31 07:52:51 2018 +0800

    runner: Add default for timing filename

commit 0f8818d02dc8cf405ba4974ae1fe5de2301369e9
Merge: b5c4448 de1d2ff
Author: jun <jun@moodle.com>
Date:   Mon May 28 12:01:22 2018 +0800

    Merge branch 'useTiming' into 'master'
    
    runner: Use behat timing files
    
    See merge request integration/nightlyscripts!21

commit de1d2ffe9151d09034657292ba0c9433b5de1abf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat May 26 09:29:18 2018 +0800

    runner: Use behat timing files

commit b5c44488a857d2148efa34274c685b482b0ded7e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 18 18:14:41 2018 +0800

    runner: Move path to subpath
    
    The /var/www directory is owned by root.
    In 31 we simply append a run number to the behatroot directory - i.e.
    /var/www/behatdata1
    
    In 32 we create them in a subdirectory - i.e.
    /var/www/behatdata/behatrun1
    
    When running as www-data, the user does not have access to create the
    behatdata1 directory.
    
    The previous attempted fix was to add a slash:
    31  - /var/www/behatdata/1
    32+ - /var/www/behatdata/behatrun1
    
    However, the trailing slash seems to cause issues in core in some
    sitautions - specifically the re-run of the test.
    
    This fix, tested on 31, and master with a failing test changes the
    directorty further such that the behat data directory is
      /var/www/behatdata/run
    This makes the new run directories:
    31  - /var/www/behatdata/run1
    32+ - /var/www/behatdata/run/behatrun1
    
    Both of these are acceptable as the www-data user has the required
    permission to create new directories for the run in the subdirectory.

commit 41fb3e3952ad053082cf48b545b9e2a714e0d976
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri May 18 18:33:52 2018 +0200

    Get rid of the extra slash, seems to be causing problems in >=32.
    
    But keep the chown covering the whole /var/www/* to see if that's
    enough for 31. Or at least to keep everything working but 31.

commit b35f21ab4d3f8e6db0dbf108fb50e4141d609a0c
Merge: 4c3d350 34a14dc
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Fri May 18 08:29:14 2018 +0800

    Merge branch 'ocibump' into 'master'
    
    runner: Bump OCI timeout
    
    See merge request integration/nightlyscripts!20

commit 4c3d35069b33c8025694633ae85d8c55a463f1a5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 18 07:44:26 2018 +0800

    runner: Correct rerun path for 31

commit 34a14dceac2921d1cf7cd926be585b860112b0ea
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 14:46:41 2018 +0800

    runner: Bump OCI timeout

commit c9ce81e560cea4e3721c08c9aead8a8bb9f6dcc2
Merge: 0bb2ac5 8ac11f8
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Thu May 17 14:39:49 2018 +0800

    Merge branch 'behatfix' into 'master'
    
    runner: Add fix for behatdata on 31
    
    See merge request integration/nightlyscripts!19

commit 8ac11f8e74a159a0027cb12eb948a94ea790ba6c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 14:00:14 2018 +0800

    runner: Add fix for behatdata on 31

commit 0bb2ac5264561a47be9ac68c303b07f20b9c57f7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 13:33:35 2018 +0800

    runner: Chown with group

commit 7f1b4c87b603cf3bf7be1e971e4405e82cd63738
Merge: 405c773 53614eb
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:32:11 2018 +0800

    Merge branch 'runaswwwdata' into 'master'
    
    runner: Run behat as www-data
    
    See merge request integration/nightlyscripts!15

commit 405c7739d0b92095c738d386ecd7e4f059557edd
Merge: 387fe98 4b866ad
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:31:42 2018 +0800

    Merge branch '35_release' into 'master'
    
    runner: Add Moodle 3.5 version of runner
    
    See merge request integration/nightlyscripts!17

commit 387fe98f3bbab96df64377f69a43bca3e9a5d837
Merge: 6033840 4a886f4
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:31:23 2018 +0800

    Merge branch '35_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!16

commit 2bd6d1b63c16e4097dc254c007bdb4de592336bd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:59:06 2018 +0800

    runner: Unset skiplangupgrade for end of on-sync period

commit 4b866ad334144dda7bfa17817d8b7fe353598afa
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:46:36 2018 +0800

    runner: Add Moodle 3.5 version of runner

commit 4a886f415932418b42fce39ca4cb3f6eff4c80ca
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:41:11 2018 +0800

    runner: Set skiplangupgrade as part of on-sync period

commit 53614eb42297c8cac8caeee7f6feac4c1ab16eba
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 9 08:21:18 2018 +0800

    runner: Run behat as www-data

commit 6033840d3183e33d6af984b358a24c987250feaf
Merge: 9d25a09 2261c5e
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Mon May 14 13:19:04 2018 +0800

    Merge branch 'chownfix_again' into 'master'
    
    runner: Behat has a different datadir
    
    See merge request integration/nightlyscripts!14

commit 2261c5eefa591503bcd47d4ea1fbf4c4ff6917e7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 14 13:18:28 2018 +0800

    runner: Behat has a different datadir

commit 9d25a09583686a7e8aca6f77cd394f90e1f841d0
Merge: dfe3af4 74d8e1f
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Fri May 11 23:21:15 2018 +0800

    Merge branch 'fixchown' into 'master'
    
    runner: Fix bad bashism
    
    See merge request integration/nightlyscripts!13

commit 74d8e1f1b73c8868622ab6d945878c993eb4df3f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 11 23:16:22 2018 +0800

    runner: Fix bad bashism

commit dfe3af4f20b50d1ecadacb30388e7f8e43e2f15c
Merge: 65f3858 8b56620
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue May 8 07:26:08 2018 +0800

    Merge branch 'chromebump' into 'master'
    
    runner: Bump chrome selenium to 3.11.0-dysprosium
    
    See merge request integration/nightlyscripts!12

commit 8b56620b8650c48889ba9d7df840ab8715eb034e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue May 8 07:06:37 2018 +0800

    runner: Bump chrome selenium to 3.11.0-dysprosium
    
    Selenium version 3.11.0-dysprosium (rev e59cfb3)
    Chrome version: 66.0.3359.117
    ChromeDriver version: 2.38.552522

commit 65f3858a655d83b76fbef2c14fcbe8a5489436f8
Merge: 11f0175 6d7e753
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Sat May 5 12:13:43 2018 +0800

    Merge branch 'selspread' into 'master'
    
    runner: Fix parallel runs to use own sel
    
    See merge request integration/nightlyscripts!11

commit 6d7e753f6d35148afc34a6800f119529d725b702
Author: Mark Johnson <mark.johnson@open.ac.uk>
Date:   Fri May 4 22:14:56 2018 +0800

    runner: Fix parallel runs to use own sel

commit 11f0175f567ec57cb08a6b94db96ae79dcaf42fc
Merge: 922c2b2 15afb3c
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 3 17:16:35 2018 +0800

    Merge branch 'chown_after_init' into 'master'
    
    runner: Chown after behat init
    
    See merge request integration/nightlyscripts!10

commit 15afb3cf686248b16a682fefa00e0730250bbe46
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 3 08:08:52 2018 +0800

    runner: Chown after behat init

commit 922c2b20532fac6258026d7d408aca705ef8e1c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Apr 20 12:58:58 2018 +0800

    runner: Extend oracle wait period to 2 mins

commit 4001447d0a615e6348920f5595ba6255127eec16
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Apr 20 12:49:25 2018 +0800

    runner: Correct variable usage

commit 9ea358d3f8934564aa3340ffbaaceec2a3b9fe4e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 09:21:56 2018 +0800

    Revert "runner: Remove wd config from behat_profiles"
    
    This reverts commit e0c4f72be58daddb5d092bca884ebdc866adb574.

commit 116f8f3e6a80409de9398cc23ebb4a5300dd8e4f
Merge: 8269a04 e0c4f72
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Apr 18 08:39:58 2018 +0800

    Merge branch 'selbrok' into 'master'
    
    runner: Remove wd config from behat_profiles
    
    See merge request integration/nightlyscripts!9

commit e0c4f72be58daddb5d092bca884ebdc866adb574
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 08:34:48 2018 +0800

    runner: Remove wd config from behat_profiles

commit 8269a046fcb2855229fc4775c2aea15b0bfe4946
Merge: 960a332 235b954
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Apr 18 07:09:03 2018 +0800

    Merge branch 'oracle_async' into 'master'
    
    runner: Disable async IO on Oracle
    
    See merge request integration/nightlyscripts!8

commit 235b9546035d4f994b858a59209b4a9e049f5eb8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 07:07:23 2018 +0800

    runner: Disable async IO on Oracle

commit 960a332b17a56b5d28753947f7ff93bcbb985f44
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Apr 17 11:25:00 2018 +0800

    runner: Add support for running a single testsuite

commit 7ed139975968fbf64273d230cfbfaec1d41e2b22
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Mar 20 15:58:34 2018 +0100

    Fix for !7, make MOODLE_VERSION global

commit b9943cf42d2237c53cfa8f072374f92c63012a27
Merge: 2f884bd 7839b8a
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Tue Mar 20 20:46:36 2018 +0800

    Merge branch 'no_fail_on_risky_for_31' into 'master'
    
    --fail-on-risk is not available before phpunit 5
    
    See merge request integration/nightlyscripts!7

commit 7839b8a9c9ff06fadddf30c881380bb5a623bc87
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Mar 20 11:43:08 2018 +0100

    --fail-on-risk is not available before phpunit 5
    
    Hence, don't use it for <= 31.

commit 2f884bdcb0baca67e82ad92c93aa7d8b39912eac
Merge: e983eeb 2c08619
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Mar 20 08:43:17 2018 +0800

    Merge branch 'failonrisky' into 'master'
    
    [runner] Fail on risky tests for phpunit
    
    See merge request integration/nightlyscripts!6

commit 2c08619df1d206805f406af51f2bd13f2f82c89f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Mar 20 08:36:12 2018 +0800

    [runner] Fail on risky tests for phpunit

commit e983eeb08d9e7c217f023ed6f63ea43161a19630
Merge: 934f0de 32fb897
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Tue Mar 20 08:02:05 2018 +0800

    Merge branch 'makes_test_output_risky' into 'master'
    
    Be strict about tests output. Mark them as risky.
    
    See merge request integration/nightlyscripts!5

commit 32fb8972f26b1c7e8c492cf80c465a2d8f1bc0cf
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Mar 19 20:24:38 2018 +0100

    Be strict about tests output. Mark them as risky.

commit 934f0de142b53c39eb6ec67b14964ce731ea55bb
Merge: 10d69ae 1239517
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Mar 6 00:53:23 2018 +0800

    Merge branch 'pin_pg_967' into 'master'
    
    Pin postgres to 9.6.7 because 9.6.8 leads to DDL failures
    
    See merge request integration/nightlyscripts!4

commit 1239517482c1cafdf33cdf715afce4920ab9d219
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Mar 5 17:51:19 2018 +0100

    Pin postgres to 9.6.7 because 9.6.8 leads to DDL failures
    
    See https://github.com/moodlehq/moodle-docker/pull/77

commit 10d69ae85da03dab502430e8dbc01c1dff7b79ac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 16 09:22:53 2018 +0800

    [runner] Add copyright information

commit c07c5a379e6cbb1f77b43bef5267eadc50d2391e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 16 09:21:22 2018 +0800

    [general] Archive old nightly scripts
    
    The Old Nightly Infrastructure is dead.
    
    Long live the Old Nightly Infrastructure.

commit 6c097c30eda6441ef66034d8f97b4bc5568ac769
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 6 08:35:59 2018 +0800

    [runner] Correct exitcode for phpunit
    
    This was a fault after the introduction of loops which meant that the
    true exitcode was overwritten.

commit b1b19e4d9a97610dc643e44785cb504ff9866b83
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 6 08:31:18 2018 +0800

    [runner] Add README

commit dd730f31a1a083b2dd51716c01454012d40b1092
Merge: e14c18c eb71f3f
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Mon Feb 5 23:35:21 2018 +0800

    Merge branch 'rajagain' into 'master'
    
    [runner] Switch back to raj images
    
    See merge request integration/nightlyscripts!3

commit eb71f3f9e824bc4891fafd71743586276272f08e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Feb 5 17:31:28 2018 +0800

    [runner] Switch back to raj images
    
    Raj's image seems to have some magic which is not present in the
    Selenium official image, though they appear nearly identical.
    
    This change backs out the hub change and instead uses the
    behat_parallel_runs to setup WD config as appropriate for both Firefox
    and Chrome.

commit e14c18c8bfb8948b0a77b0439580ff882d3f8f9d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Feb 5 13:05:47 2018 +0100

    Get rid of incorrect version and browserVersion caps

commit 32aeae46f8bbee9c16e65473b50e34f33dede2bc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat Feb 3 17:16:16 2018 +0800

    [runner] Save web server logs to file

commit 57e69aae4d08b55ebb2b1f87dffc661753588f38
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 11 15:43:59 2018 +0800

    runner: Use selenium grid with selenium per run

commit 659416237cc13a1626bf7c1a12028ab537b16b3c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 23 13:47:18 2018 +0800

    runner: Do not quote junit path - it tries to write to quote

commit 758be2e0cbf999c04b09a1815e7aaf4982708ff7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 22 13:49:18 2018 +0800

    runner: Add debugging to behat init and run

commit e9c897a76454ae6fd1d28c6a38bea292da994ada
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 16 15:35:17 2018 +0800

    runner: Switch to raj image
    
    Looking to try and remove differences between old and new.

commit d335319a094e17e30534e2773904da70261b1597
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jan 12 15:13:10 2018 +0800

    runner: Assign shared mem to Oracle

commit e2bd778180ecb0ab90cc30284d64945bc7cd0109
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jan 12 10:16:51 2018 +0800

    runner: Adjust how shared memory is allocated to selenium
    
    This is after changes to the recommendations from Selenium in their
    Docker README.md.
    
    They are now suggesting allocating shm to all browsers, not just Chrome
    as they previously suggested.
    They're also suggesting that you can use --shm-size instead of mapping
    /dev/shm which seems like a cleaner approach.

commit d457b833b2913bcf6f2a87186d5ac86f683446c3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 11 13:50:40 2018 +0800

    runner: Switch to Chrome + Selenium 2.7.1

commit d762de8ab7d76702a4eecd4519d4bd589f05393b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 10 13:35:25 2018 +0800

    runner: Support iterations

commit ca84659acbaf2cb3cc6a670ba2e164bde923ad85
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 10 12:24:48 2018 +0800

    runner: Switch to chrome + selenium 3.0.1 as per matrix

commit 9e1fcbdde3ffe13f77bdf2fbf49620976706cb40
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 8 08:10:05 2018 +0800

    runner: Add PHPUnit LDAP tests

commit 2d0e661a1ff80ec61582f0cdae7a4b263e66eb84
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 4 15:05:35 2018 +0800

    runner: Do not expose the selenium port

commit dcc244ccf400c471ddfc6239b773ecf0c10539e5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 2 10:36:14 2018 +0800

    runner: Make cachedir easier to fudge

commit ebcbd526ec20467d3e91e6ad89ac00aac3c1f3ba
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 2 10:20:43 2018 +0800

    runner: Add support for tags

commit 3d59a431fc8f74110923aea81482357a471a6e7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 19 11:30:23 2017 +0800

    runner: Correct variable name

commit 3c5e0da017857ad87938f004175ba880e9050815
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 19 10:44:25 2017 +0800

    runner: Chown workspace files at end of job

commit ba0da291e4ef4b69b4eac6215c0e492810027745
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 18 08:59:23 2017 +0800

    runner: Create nightly network

commit 1f8a3fd4e4eb1c477dcead9f59e7992e72e7b111
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 12 17:15:21 2017 +0800

    cron: Add slave script

commit 0294f7f31a650883c1b9ac2f64e8d5ac55fc2265
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 12 17:04:50 2017 +0800

    start_slave: Add slave starter script

commit 8f38704794db6efa3c1439507b612f6b31965d74
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 15:20:29 2017 +0800

    runner: Correct image name for exttests

commit ffd54a51b2343502a4e5411a1227f5b685c7f4bd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 15:01:27 2017 +0800

    runner: Correct variable name

commit dcaf5ef44faef63417eb796d10d11b3d95ea4bbb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 14:17:35 2017 +0800

    runner: Use external tests
    
    This makes use of the external testing URL now that MDL-60948 has
    landed.

commit 41b7738b0f9a6680ab401c772401171f9dd943a9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:53:46 2017 +0800

    runner: Sleep longer before starting postgres tests

commit ed533cc1bc1ec83fb37fc9245c33520ae8cf9afb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:46:49 2017 +0800

    runner: Syntax fix

commit 15e581022cd5d383d21a018f727347c95b6e3371
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:05:04 2017 +0800

    runner: Handle ALL suites condition for behat

commit 71693c14d9e7f5259a5b7690e891f4fb8e6d0d9d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:02:28 2017 +0800

    runner: Do not normalise mssql to sqlsr
    
    We need to be able to test these individually on 31, and 32.

commit 15b5fa8f18a391cfca88dc73cdb3033a3a5ec05d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Dec 10 11:41:01 2017 +0800

    runner: Correct PHP_VERSION specification

commit 4343f4c23db1584cc19d7096bd47ab081e1a40be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 12:51:15 2017 +0800

    runner: Add back to job summary

commit a4bc164aa3ad2262298120dbbdbd9bcaa49252f9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:44:59 2017 +0800

    runner: Move DB summary to ensure correct info

commit f936648da2f9c35aee8fb1893efd3bbccc6d9ecb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:44:45 2017 +0800

    runner: Use variables for DB creds

commit 7ca3b1ed438053da2c4ca2b3a3c93b3cc9d17957
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:43:54 2017 +0800

    runner: Correct Oracle init

commit 98ce1bc9347275f8626e44a0d5c66b899e179beb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 09:31:43 2017 +0800

    runner: More delimiter fixes

commit d2c7c9e6fe18df9c58b78b4d2c26fbf7eeb3f8a2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 09:21:09 2017 +0800

    runner: Improve section delimiters

commit 489254179dacc5f24e3a6c436f2baa1b4abfe805
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 08:59:13 2017 +0800

    runner: Correct behat init for alternate suite

commit 6ec6ba172a213b10bc1ca10390d0abea1631e0d3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 12:29:50 2017 +0800

    runner: Add markers or console collapse

commit eefb24f88dbedd818c9061d7c71316c1461b7729
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:52:39 2017 +0800

    runner: No need to drop if DB per run

commit 914135a8420407fddc12a5646f712a6d6712021c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:49:33 2017 +0800

    runner: Config belongs to version

commit ba4f4b32de8c1750031239cc2f7ca3c6c0ce10f3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:46:46 2017 +0800

    runner: Add more debugging info

commit d5bddc6c59fde7ddbddd748cc994b9f48f20af3f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 10:55:52 2017 +0800

    runner: Switch to versioned runners

commit e07804a002e5ccab15655672b60ed430a1abb123
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 10:11:27 2017 +0800

    run: Init database per run

commit bd4185f8d77ee19fb9140ad7afb220d642f23731
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:18:58 2017 +0800

    General: Tidy up all old files

commit 18b304a8103cce6071023a1fed4e91701016d07c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:15:32 2017 +0800

    run: Make 31-/32+ config changes clearer

commit bbd9f4720de9dc5904230a163496e544e562f4ab
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:14:51 2017 +0800

    run: Add clearer exitcode info

commit c5c601923acd98eb6a83b875f8d191592db2c4be
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Nov 27 00:04:58 2017 +0100

    config: 35 lang packs available, disable $CFG->skiplangupgrade

commit a1aa6d14ea45c091b357d7b4bfd9060bf87a9c68
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 14:01:24 2017 +0800

    run: More tidyups

commit 277474ca21004edd5ed392646dd447b9ca62af64
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 13:56:13 2017 +0800

    run: Tidy up DB details

commit ac70cfde1eceb5f7225706b609461e393366ba1a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 13:43:09 2017 +0800

    run: Allow configuration of PHP version

commit affd3c837dcb2bcdb711f026f7ad4749920f1ccc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 07:59:11 2017 +0800

    run: Add new job runner

commit 7357e301394db5935acdb15b4d22d2101bd79aa2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 11:44:36 2017 +0800

    configs: Start of on-sync. Skip lang upgrade in cron.

commit e98400eab6abbefce75b9fc26dc8cfa0fb6baef7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 08:49:18 2017 +0800

    docker_run: Add configs from docker image

commit d3327c852165fbfe89cbac7d516db3fa2c330530
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Nov 14 09:28:53 2017 +0800

    exttests: Add HTTP ext tests repo

commit e347a8389df0cdd48924d8ddd89e8593c87bbe9e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:59:41 2017 +0800

    docker_run: More interpolation fixes

commit dd5b6bdbc9da895a304212f979ae77b58c2b0a73
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:53:01 2017 +0800

    docker_run: More interpolation fixes

commit 9924855316b68a98a07835201bd99cf893b33148
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:42:03 2017 +0800

    docker_run: Typo fix

commit 028c4fa484b7f01ffef3f0e71284c5b1fffeaf91
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 12:38:23 2017 +0800

    docker_run: Quote MOODLE_PATH

commit 782b8a2f6ff8591729e9d46a0528dd6a79dfb76b
Merge: e6afa68 2041c1f
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Mon Nov 13 12:23:12 2017 +0800

    Merge branch 'dockerdb_34' into 'master'
    
    dockerdb: Add branches for 34 release
    
    See merge request integration/nightlyscripts!1

commit 2041c1fb344f979721087fc0d4d762b89427cdfd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 12:05:49 2017 +0800

    dockerdb: Add branches for 34 release

commit e6afa686e23c506b5d3448350668d14491ef6723
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 11:44:36 2017 +0800

    configs: Start of on-sync. Skip lang upgrade in cron.

commit bd26b5c923b10773a31e393feac6d97f183c2562
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 8 08:43:54 2017 +0800

    dockerdb: Switch to 2017-GA
    
    This change is now possible as we've switched to use of the overlay2
    docker storage driver.

commit 5bf9826b4f352bf69aff28dda1bd535f6dcf1a14
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:23:30 2017 +0800

    cron: Correct cron format

commit f71fed4d803e791ae3ed1b45a2c9609ceadc80c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:20:34 2017 +0800

    dockercleaner: status = exited

commit cf36cefc225bc6d9351a8ce93ffaeede6800b674
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:18:03 2017 +0800

    cron: Add daily job for dockercleaner

commit b368011028618e584312eac655ec14d27c2e4212
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:12:51 2017 +0800

    dockercleaner: Make this not suck

commit 934e3a853c1c4ec2ce28a50b77a6387642a2d5be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 11:42:52 2017 +0800

    docker_run: Quote MOODLE_PATH

commit b772068b5ce55a7d8ea1931c0fda53c9ce20303a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 10:11:35 2017 +0800

    dockerdb: Switch to use moodlehq image

commit ee752cb4065fbd161b25d844aeffeb2d6506796c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 10:11:26 2017 +0800

    dockerdb: Add DB for php71

commit b11856d97e7200cd1a133e4f685513a179ba6b34
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:35 2017 +0800

    dockerdb: Stop mapping ports.
    
    Welcome to a pure docker world. No more bare-metal builds to have
    headaches with.

commit ca1bfc0f27ecc8a88b7650daf4ab24cb0cb31d75
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:16 2017 +0800

    dockerdb: Add dbs for master

commit 4f9f95d93046607e93c6e996477946e2389d2f70
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:06 2017 +0800

    dockerdb: Remove outdated docs

commit dfed5a9d2cb2eddc80c8b4d3824870c87f2980b2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Aug 3 12:00:55 2017 +0800

    dockerdb: Do not wait for docker DB starts

commit a87eb0e4242eb2acacf7e94950f2a0e6f177dd99
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 13:56:17 2017 +0800

    dockerdb: Correct DB name

commit 443787c7e0adce39a39b156d9a99a7940a1d6014
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 10:51:56 2017 +0800

    docker_run: Switch to official Chrome Selenium image
    
    The previous image we used had a broken commit for :latest, and the
    previous version was not readily available.
    
    I've switched to the official, standalone image.

commit e101af4ae0a5d023c04b6558120d385945efc9c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:15:27 2017 +0800

    dockerdb: Add new DBs for generic job usage

commit 4de9fb6d5c49cf9cf9d9aa53dbdf3e89a6443e62
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:15:06 2017 +0800

    dockerdb: Pin to Postgres:9

commit 6e525795a7366fe88e7ea2b647dc4208aac5f35d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:11:51 2017 +0800

    dockerdb: Improve help for dockerdb

commit 7f82cbcc91fdb5acf981df3729897a1fccca0080
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:59:00 2017 +0800

    dockerdb: Fix mariadb to version 10.1
    
    We don't have compatability with 10.2 (MySQL 8) yet.

commit 07379159cfece3d4927e1a4d31e04cf38576bb00
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:46:50 2017 +0800

    cron: Fix cron scripts
    
    These weren't working before because of a mix of ownership issues, and
    other stuff.
    
    I've changed this to a model of job and script for easier future
    maintenance.

commit a8c2b674f50c189ff4dbcd8f3a0237bbd7bad117
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:16:35 2017 +0800

    docker_run: Make docker stop more resilient, and stop removing container
    
    In some instances, the docker images were stopped and removed before the
    trap was hit. This meant that the test was subsequently failed because
    the container no longer existed.
    
    I've made it more resilient by looping over a list, rather than the
    common shorthand. I've also stopped removing the container because the
    removal means that we lose the logs too.

commit eedbd25f2d5b72d829d628190cf6697dadd22b81
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:14:52 2017 +0800

    dockerdb: Stick to sqlsrv:ctp2-1
    
    sqlsrv:rc1 is buggy and broken on some nodes.

commit 02c8e9ca341c4951d9adf439e2cf7473cc1ab8ae
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:41:33 2017 +0800

    maintenance: Correct file permissions

commit b77ec90f15f2bb6f4d6eda81b82eb7b57610a1fa
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:38:56 2017 +0800

    maintenance: Add config backup script

commit 2a85bdd3fe89bd51dbdb96ab98f7231ea5ae8119
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:29:15 2017 +0800

    docker_run: Add DB Prefix info to job summary

commit 72624fb9daf198d48d6ed70511234b8b30a76ce4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 10:32:39 2017 +0800

    docker_run: Clean up images correctly after run

commit bd0ccda93bb07cee55597838de58125d05dcd135
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 08:45:09 2017 +0800

    dockerdb: Add DB for T.01

commit 6abfeecbbf93d5cfd92bb23f0bc6865f7a6ab00f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 08:43:36 2017 +0800

    docker_run: Remove old MOODLE_BRANCH param

commit 704e0ee73f9121f1417228b8ce3d6c835d73019f
Merge: 9f40477 095784d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jul 24 13:16:04 2017 +0800

    Merge remote-tracking branch 'origin/named_jobs'

commit 095784dd8d5b2203268331411fc042fb98342e5d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat Jul 22 15:45:11 2017 +0800

    docker_run: Silence empty directory removal

commit eefe579c3b889c136cc15fff0eab25b33be9be86
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:38:19 2017 +0800

    docker_run: Run as $UID instead of jenkins

commit a8f964328b50cfa66d7d83d792976ed0c71056f4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:36:47 2017 +0800

    docker_run: Bindmount the composer cache
    
    Note: The images we currently use run as 'rajesh' because of UID
    matches.
    We need to solve this better.

commit ec440419e11dbaffee7c6965204ac52b3cdf7f93
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:36:17 2017 +0800

    docker_run: Stop running composer outside of docker

commit 9f40477e8fac197daf534b9e069ef9371ed2f0c7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:17:34 2017 +0800

    docker_run: Remove commented out code of yesteryear

commit c2793912e22de14e34c9b4c945389343fc19f7db
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:20:51 2017 +0800

    docker_run: Switch from linked image to named on-network image for selenium

commit 2ebbbf935327deaae0ed11e39deea90d1a50465e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:54 2017 +0800

    docker_run: Switch to uuid naming

commit f4c977987cb705453c661102ecc1db4271ac5b3b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:38 2017 +0800

    docker_run: Ensure docker is on a network

commit 24193e89122a6772bf54a2a649c6c86c64efc425
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:29 2017 +0800

    docker_run: Remove more commented

commit 426ace636b8d1d8d8c5be2705a9e7735c216e494
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:02 2017 +0800

    docker_run: Ensure docker is on a network

commit 8b562166645f72ae7898c61a43b7f3bf323e1bc3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:18:31 2017 +0800

    docker_run: Switch to uuid naming

commit dca896e92f9b622dfad9cd4ba1b9bf50124c9209
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jul 13 20:52:41 2017 +0800

    MDLSITE-5153 no exceptions for any php version / database
    
    Moodle 3.4 and up requires php70. mssql is not availale for php70
    (only sqlsrv is) and oracle is too. So commenting any exceptional handling.

commit fc03eba427bd1f743b6368355fdd6419e94e09d2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 5 11:31:30 2017 +0800

    docker_run: Add info about the current run

commit e4b0f7479fcb1fbb408b7a3b566728bb5c910937
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 5 10:55:58 2017 +0800

    dockerdb: We need 31 databases again

commit 65d95d9f13934880103988a825c645b30f4c2dc3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 16 13:39:07 2017 +0800

    dockerdb: Put Oracle data on tmpfs

commit e4f4348e435d0e28abd404fc747774dd83128155
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jun 15 09:51:50 2017 +0800

    cron: Add cron scripts (Fixes MDLSITE-5150)

commit 4d0c445d765efe3bdc622cfe58f82dd014abf77e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 11:53:25 2017 +0800

    dockerdb: Add more MySQL/MariaDB tuning

commit e5ed9d0649a1f365d64e95e1581deca2d5128c7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 10:44:02 2017 +0800

    dockerdb: Add some tuning

commit 8c81986d547e4d0c9332b093a2b51d6eaa0d65b5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:37:16 2017 +0800

    dockerdb: Add improvements found in MariaDB

commit a489d422740bb0eda073cb5a066aa6f7bd2b4687
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:36:57 2017 +0800

    dockerdb: Switch to fixed version of the official mysql image

commit 4b1e69023176821b43d684c803883612515e4cd1
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:36:31 2017 +0800

    dockerdb: Expand mariadb detach option

commit 96adaf626df1e2452acb4c68122fb1a583132001
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:29:00 2017 +0800

    dockerdb: Move MySQL/MariaDB Password to environment
    
    Recent versions of MySQL emit a warning when the password is specified
    as a CLI argument.

commit bdf127cff2de7cd03667ef85ee2c8a6e6bef65b5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:24:08 2017 +0800

    dockerdb: Correct spacing of DB name for new DBs

commit 5bc5491c1c576c8357c37ab6188806cb47bcacf9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jun 1 06:23:35 2017 +0800

    Revert "docker_run: Build in a network"
    
    This reverts commit 9efbb8bdbf02b2b1f3addea489d1bb8a2d0df7a4.

commit 4ff6531e10df7cdd8adb427e22a3f7cbe292cd9e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:48:30 2017 +0800

    dockerdb: Add DB for php7 runs

commit 0ee70b8f75b45c93e755980e4a8430592229b775
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:38:35 2017 +0800

    setup_run_phpunit: Stop changing the MSSQL DBName if we don't need to
    
    The old VM only had one database, whereas the new docker image has one
    database for each run.
    
    We need to preserve the running for the old database in case we need to
    resurrect any old jobs.

commit de6c7b70c173114517b77f39b1f45c5f1c89e036
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:28:40 2017 +0800

    configs: Add parallel boost template found on nightly02

commit f431c5240e3a20284d54a06305d02fe2bccc6f54
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:23:27 2017 +0800

    configs: On-sync has ended. Stop skip langpack upgrades

commit 9e73afd89594cedcd5fd7f139fdfc938cbefd975
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:01:41 2017 +0800

    setup_: Echo out information on which database is being run today

commit 984216dc9744386ad7c3300567259cb2a5ce5437
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:49:57 2017 +0800

    dockerdb: Remove tmpfs from mssql

commit 106f1900994acfc909e00bf8e3bd6c90d953f0be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:42:00 2017 +0800

    setup_run: Add DbPort option

commit b2d1f42768ec382cb4a4c74ce87b45ca19ff9f0d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:40:17 2017 +0800

    configs: Add DbPort to match setup_run_phpunit

commit 0cb102cbfebe11f05fbad6f47997064905e12e67
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:35:34 2017 +0800

    configs: Bring config.php templates into git

commit 9efbb8bdbf02b2b1f3addea489d1bb8a2d0df7a4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:33:16 2017 +0800

    docker_run: Build in a network

commit 4d8e4e1faa7b6c3f3d1752c54aabd265975db986
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:29:49 2017 +0800

    dockerdb: Silence network creation

commit 4f7f121634150a2cecc9b7758c268fa2e4b81612
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:29:31 2017 +0800

    docker_run: Expand out docker run

commit 7d234526c5f9aa14a46a7a5f02868d1eae9803dd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:12:02 2017 +0800

    setup_run_phpunit: Add DbPort option

commit 73f48e29719c07b674095f0fd14a2834f831cc26
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:11:40 2017 +0800

    dockerdb: Add mariadb configuration

commit 2e7da39c72f1593e31bff286814abde3d71aa04d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:11:12 2017 +0800

    dockerdb: Add pgsql tuning

commit daf2b768391559c3ca9624ca9affac4acdbde6d9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:10:52 2017 +0800

    dockerdb: Move database partitions to tmpfs

commit 60f82163aeb3024864a24278cad9fb1ca565a2cd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:09:36 2017 +0800

    Move docker DB servers to their own network for better DNS resolution
    
    This makes use of docker's internal DNS resolution, which is only
    available to hosts running on a custom network.

commit 467b83601e8194df07a2277170fb72bcace7ed0e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:09:09 2017 +0800

    Expand docker run for db setup

commit cf5494b2faa2be57cf2cfe57d8645eb1e7bc457e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:06:55 2017 +0800

    Add support for DB Port to docker_run

commit dbfa320c859cbf9997b7dab94560d18496b63990
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:56:22 2017 +0800

    Move mariadb to tmpfs

commit 06defa01587affac144628d9704f9ed7b9902dec
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:51:18 2017 +0800

    Add .gitignore

commit 5754c93fe748b6423d3e1e9fdbc7b2d629d6aa48
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:50:36 2017 +0800

    Add Jenkins maintenance scripts

commit bb24bbefb3e83e40bb68dc3ad265159a854d45ca
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:50 2017 +0800

    Remove archive

commit f0d65eaaa0b56f71190703bf4cdc2f52ef76abaf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:43 2017 +0800

    Add archive

commit d059d034161e4f159e58c10814acfed8d74a4bf0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:10 2017 +0800

    Note about adding/removing databases

commit e000d5b1d44e6b787e547786d5b2bb91b23cbbdc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:37:25 2017 +0800

    Add a quick readme

commit 452fbb9bb177232fb6d63e294ac41903c612c3d0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:23:14 2017 +0800

    Switch to Dan's Oracle image

commit 2da98ad152dbb3ba371968f1d8b428daafd18dfe
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:23:02 2017 +0800

    Remove 21 databases

commit 261d4af18497ff63db71ead7a16aa6ddf622198f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:22:41 2017 +0800

    Tidy up faildump dir creation

commit f0b2fa4afa2515d739eca10b84653e0208da38b7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 15:44:42 2017 +0800

    Expose the sqlsrv port

commit 51891bb10cf4e61cebd6a0e6a20d88bbf563cd7b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 15:44:29 2017 +0800

    Correct DB init for sqlsrv

commit aea44409111987fd236d4f7e8abb5cfc6463af4a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 14:05:15 2017 +0800

    Correct docs for sqlsrv docker

commit 05b4937c3702d2069d2db48a6474a331a118dad1
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 14:04:19 2017 +0800

    Add M33

commit 04d79d0f0ca77f625731396a4dedc1d02d451c9b
Author: ${username} User <jenkins@nightly.test.in.moodle.com>
Date:   Wed Apr 12 09:16:37 2017 +0800

    Nightly scripts checkin
======================: FILES :======================
======================: BRANCHES :======================
======================: LOGINFO :======================
commit 2f5e8e5332c2e80cc4168bc1b176549ad8d099df
Merge: 88dd7f7 b429255
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Dec 15 10:24:16 2022 +0100

    Merge pull request #91 from stronk7/point_to_latest
    
    For sqlsrv, switch from 2017-latest to latest

commit b429255a73f0d36610f8f1e4999154dbfb411034
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Dec 11 11:31:13 2022 +0100

    For sqlsrv, switch from 2017-latest to latest
    
    Note that, right now, "latest" is exactly 2017-latest, so
    everything will continue working exactly the same.
    
    But once we finish with the tests @ MDLSITE-6045, we'll make
    2019-latest to become "latest".
    
    That's the reason the comment in the runner says
    "right now 2019-latest", because in hours, if everything
    goes ok, 2019 will become the latest.

commit 88dd7f7c32dd1e3254317d64073cdfc47c899146
Merge: dacb4b9 8c6c8fe
Author: Jun Pataleta <jun@moodle.com>
Date:   Sat Nov 26 19:25:57 2022 +0800

    Merge pull request #88 from junpataleta/41_disablelangupgrades
    
    Disable lang upgrades during 4.1 on-sync
    
    Merging as part of task #4 in packaging release tasks

commit dacb4b96c4d51d5cb1a24f05f9f488129d8fc712
Merge: 6b8f0e8 32ecdaa
Author: Jun Pataleta <jun@moodle.com>
Date:   Sat Nov 26 19:25:03 2022 +0800

    Merge pull request #90 from junpataleta/MR2_41_version
    
    Add Moodle 4.1 version
    
    Merging as part of task #4 in the release packaging tasks

commit 32ecdaa16beeec566d2821157021bbef6a42f890
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Nov 22 23:38:46 2022 +0800

    Add Moodle 4.1 version

commit 8c6c8fe66878f63b5b42e57d58f7b7fe6f056f78
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Nov 22 22:36:40 2022 +0800

    Disable lang upgrades during 4.1 on-sync

commit 6b8f0e857c07c8c1452df201c73769e9e6ca8d3f
Merge: 23d1022 79c14c9
Author: Jun Pataleta <jun@moodle.com>
Date:   Wed Aug 31 14:37:01 2022 +0800

    Merge pull request #85 from stronk7/postgres_replicas_10_and_up
    
    WIP: Make pgsql replicas to work with PostgreSQL 10 and up

commit 79c14c99b2af36686446ddf2b69cfae148902ef7
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 31 00:25:11 2022 +0200

    Make pgsql replicas to work with PostgreSQL 10 and up
    
    This seems to be working for PG 10, 11, 12, 13 and 14. I've finally
    left 9.6 out from the equation because it required to add some more
    shell scripts to be executed conditionally. And I think we can
    ignore that old versions @ CIs already (Moodle 3.9 works with PG 12
    perfectly).
    
    Note the changes here seem more complex, but basically it's because
    I've moved the stuff to be similar to the mysql/mariadb one, aka:
    
    - Create master / slave / standalone directories.
    - Move as much as possible to .sql entry points.
    - Keep shell scripts simple, only doing things really requiring a shell.
    
    Other than that, just renamed some setting or remove some stuff
    that was not needed (archiving, logging...) apparently.
    
    Fixes #79.

commit 23d10229496d8db16f1db3d12a384b8e1afb21d8
Merge: ef96180 6b81082
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Aug 29 16:58:35 2022 +0200

    Merge pull request #83 from stronk7/mariadb_replicas_102_104
    
    Make mariadb replicas to work with 10.2 to 10.7

commit ef96180f7f4c9112cd5559df3446f857671c33f3
Merge: 3891a8f 94a6c51
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Aug 29 10:02:27 2022 +0200

    Merge pull request #82 from stronk7/mysql_replicas_57_80
    
    Make mysql replicas to work with MySQL 5.7 and 8.0

commit 6b81082aa7fd59312deb56a891a78b055bd3930e
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 24 21:11:28 2022 +0200

    Make mariadb replicas to work with 10.2 to 10.7
    
    The code used here is 99% the same than the mysql one. But finally
    I've decided to copy it all over own mariadb.d directory.
    
    The only difference is when creating the replication database user
    because the MySQL sentence:
    
    CREATE USER 'replication'@'%' IDENTIFIED WITH mysql_native_password BY 'replication';
    
    Doesn't work with MariaDB. In fact, since MariaDB 10.2 the
    mysql_native_password is the default authentication plugin
    so it doesn't need to be specified. So this works the same:
    
    CREATE USER 'replication'@'%' IDENTIFIED BY 'replication';
    
    A working alternative is also:
    
    CREATE USER 'replication'@'%' IDENTIFIED WITH mysql_native_password USING PASSWORD('replication');
    
    But I've gone with the simple one because it's future better.
    
    As said, everything else is 100% the same, but better split that making
    complicated conditionals to get both working with the same config files.

commit 94a6c51bd7edeea66c11f9565a8839ed4e314152
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 24 15:54:12 2022 +0200

    Make mysql replicas to work with MySQL 5.7 and 5.8
    
    This fixes #80. It has been detected that MySQL main/replica
    configurations have stopped working. My personal bet is that
    some changes in the MySQL images have leaded to that, or maybe
    they were working for MySQL 5.6 and never have worked to 5.7.
    
    NVM, this commit just makes them back to work for both 5.7 and 8.0,
    that are the currently "supported" MySQL databases.
    
    Note that, after this PR, we'll be checking the MariaDB main/replica
    configurations because they may need similar changes.
    
    Also, while I've tested the solution locally, we are lacking any own
    CI for this product, so I've created an issue about that:
    
    https://github.com/moodlehq/moodle-ci-runner/issues/81
    
    Finally, here there are the explanations about the changes performed:
    
    1. Moved the bin logs from /var/log/mysql to /var/lib/mysql . Reason
       being that the former directory doesn't exist anymore in MySQL 5.7
       and up (and also, that the binary logs are better with data than
       with logs).
    2. Removed the 'multi_admin' user related stuff. Not needed at all.
    3. Minor changes to moodle and root GRANT/IDENTIFIED stuff because
       of changes in MySQL 8 (already deprecated in 5.7). Use ALTER USER
       instead.
    4. Use IDENTIFIED WITH mysql_native_password (the old password schema),
       because MySQL 8, when using the new hashed schema requires
       communications between the hosts to be encrypted. We don't need that
       extra complexity and while it can be disabled as part of the CHANGE MASTER TO
       command... it cannot be disabled for MySQL 5.7. SO the only option
       working in both versions is the used one (force old passwords schema
       for the replication user).
    5. Remove the need of stopping and starting the temp server in the
       replica. All the commands can be executed with the temp server
       running and then the container entrypoint manageing itself will stop
       the temp server and start the final one.
    6. Stop needing gosu completely. Now the replica conf files are made
       available via volume mount (like the standalone or main cases).
    
    And that's all. The changes are small and subtle, but each one is
    for a good reason, I think.

commit 3891a8f4ab36cfc5d4a7f466b0b2c78582eb9a92
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 23 12:06:40 2022 +0200

    Ensure that any Oracle > 11g doesn't use tmpfs anymore
    
    Apart from not giving a real benefit, the new machinery
    in Oracle 12 and up doesn't work well with these devices
    leading to all sort of problems is we also want to change
    system settings.
    
    Hence, disabling tmpfs. There are some more details in the
    long conversation @ https://github.com/gvenzl/oci-oracle-xe/issues/111
    (about that and many other details / iterations)

commit 08389ab2c008f1eedf9e310efc65945114bafd12
Merge: 88b8117 b6d1eaf
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Jun 6 09:13:33 2022 +0200

    Merge pull request #78 from moodlehq/testing
    
    Add support for specifying the DB tags (versions) to use

commit b6d1eafe0bac5fdae384edb516890bc13c5c070f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Jun 5 17:54:07 2022 +0200

    Add support for specifying the DB tags (versions) to use
    
    Added a new parameter, DBTAG, which behaviour is as follows:
    
    - If not specified, every database will use the currently
      pinned version (if there is any) or "latest" if not. Right now,
      the versions are:
        - mariadb: 10.7
        - mysqli: 5.7
        - oracle: latest (11)
        - pgsql: 12
        - sqlsrv: 2017-latest
    - If specified, then that tag will be used, say, for example:
        - mariadb: 10.6, 10.5,...
        - mysqli: 8.0,...
        - oracle: 19, 21,...
        - sqlsrv: 2019-latest,....
    
    So, this change doesn't make any difference in current default
    jobs (only pgsql has been raised to 12 to be ready for 4.1). Everything
    will continue running exactly as it's now.
    
    Only when we add support for that new DBTAG parameter in jobs (and in
    nightlyjobs) is when we'll be able to run alternative versions.

commit 88b8117b7ba8ca7b4e3d06282d160e5a4b23cf3c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue May 24 17:19:22 2022 +0200

    Pin MariaDB to 10.7, new 10.8 and 10.9  have problems (take II)
    
    Again (we unpinned it 3 months ago!), pin MariaDB
    to continue using 10.7, because 10.8 and 10.9 (just released) have some
    startup / init problems.

commit b93a84091e401db4f4186ddf97d76353f219803d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue May 24 16:58:08 2022 +0200

    Pin MariaDB to 10.8, new 10.9 has start problems
    
    Again (we unpinned it 3 months ago!), pin MariaDB
    to continue using 10.8, because 10.9 (just released) has some
    startup / init problems.

commit f977d82b966d0b1ac76b7fdb2f3f08e9c29335d6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 16 16:24:54 2022 +0200

    Remove the local/moodlemobileapp existence condition
    
    Previously the app was only started if the moodlemobileapp
    plugin was installed. But it may be perfectly ok to have
    alternative plugins to that one.

commit fb50f9ce19f3003286963a11431ea48303be62b7
Merge: fdce1d4 e2e1517
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Apr 28 13:56:27 2022 +0200

    Merge pull request #75 from junpataleta/40_enablelangupgrades
    
    Re-enable lang upgrades after the 4.0 on-sync period

commit e2e15170be3b1551a6e87881530be794d73f53da
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 12 11:57:36 2022 +0800

    Re-enable lang upgrades after on-sync

commit fdce1d4d7c20324b04e0d147269633e3237b2477
Merge: 7c7bee2 3a00bd7
Author: Víctor Déniz <victor@moodle.com>
Date:   Mon Apr 18 20:51:31 2022 +0100

    Merge pull request #76 from stronk7/enable_langimport_tests_when_not_skipping
    
    Enable lang install/upgrade tests only if lang upgrades are enabled

commit 3a00bd79fa53e1c0840e4c456570bb11f92f433c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Apr 18 12:37:20 2022 +0200

    Enable lang install/upgrade tests only if lang upgrades are enabled
    
    Over a few days/weeks after a major release, the lang upgrades
    are disabled in testing infrastructure, because the new development
    branch (4.1) in this case, doesn't exist yet.
    
    When we proceed to disable the lang upgrades (part of the release
    process) we need to ensure that all the tests using the languages
    install/upgrade are skipped.
    
    To do so, we don't define the TOOL_LANGIMPORT_REMOTE_TESTS constant
    so all the related tests always will look for it to decide between
    being executed or skipped.
    
    In PHPUnit that's checked with code like:
    
        if (!defined('TOOL_LANGIMPORT_REMOTE_TESTS')) => skip
    
    In Behat that's checked with the step:
    
        Given remote langimport tests are enabled
    
    For more details, see https://tracker.moodle.org/browse/MDL-74512

commit 7c7bee2f295b2f83e7e5ba38aa06ae99386fc2b8
Merge: 1499e43 25d9e32
Author: Jun Pataleta <jun@moodle.com>
Date:   Sun Apr 17 15:53:01 2022 +0800

    Merge pull request #74 from junpataleta/40_disablelangupgrades
    
    Disable lang upgrades during on-sync

commit 25d9e32c3e10c32a7dacb0c1b2340725942b95d3
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 12 11:56:58 2022 +0800

    Disable lang upgrades during on-sync

commit 1499e4388787a77a52cafc9108246458fc84fc91
Merge: 73c20f2 ecebf60
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 5 15:57:11 2022 +0800

    Merge pull request #73 from stronk7/add_ml_python
    
    Add support to run the python mlbackend analytics tests

commit ecebf60f063439c6ea7bbff375c6bf01b0a8038b
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Apr 5 09:39:06 2022 +0200

    Add support to run the python mlbackend analytics tests
    
    Disabled by default, just define `MLBACKEND_PYTHON_VERSION`
    with a correct tag of the docker image and that will make
    the container to run and the PHPUnit jobs to use it. Example:
    
    export MLBACKEND_PYTHON_VERSION=3.0.4-python3.7.5
    
    This it the first step towards adding these tests to CI.

commit 73c20f2fa47b13b55ee443f97f144a40f45989db
Merge: 4498b70 add5d74
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Feb 26 10:05:52 2022 +0100

    Merge pull request #72 from stronk7/unpin_mariadb
    
    Unpin MariaDB

commit add5d74a25780ce672084f5200bfd7bf6459978a
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Feb 26 09:45:57 2022 +0100

    Unpin MariaDB
    
    Now that 10.6.7 and 10.7.3 have been releases and their
    docker images are available, we can unpin it @ GHA.
    
    Fixes #55

commit 4498b708adf0e9fdb3d93a71c8b5495c45f388ec
Merge: 516b323 8db6d8b
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Feb 8 23:04:21 2022 +0100

    Merge pull request #70 from moodlehq/branch_40
    
    Add Moodle 4.0 version

commit 8db6d8b86392184cd3a7c271b3270bde54a69329
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 8 20:38:27 2022 +0800

    Add Moodle 4.0 version

commit 516b323cd729c295f65a017ab9cf6c0217b6de75
Merge: 6399b2f 3f79c0b
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jan 19 16:28:10 2022 +0100

    Merge pull request #69 from stronk7/bring_back_unconditional_xvfb
    
    Revert "Don't start xvfb in headless runs"

commit 3f79c0beec53c2f7e43ccbe5b9a44fcdd34cefcc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jan 19 16:20:12 2022 +0100

    Revert "Don't start xvfb in headless runs"
    
    This reverts commit 520e91ee67cb27c5f9c6973c1c9997167b1942b2.
    
    Immediately after applying #67 we have started to get all
    headless jobs failing with all sort of timeouts and > 8h
    of execution time. Headless runs.
    
    And this is the only change that has been performed since
    then, hence, reverting here and now.

commit 6399b2f204e08a2ad77a8434c834ec3ef115989e
Merge: d1dbed9 d11b5b6
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Wed Jan 19 11:24:47 2022 +0100

    Merge pull request #68 from moodlehq/alwaysFailOnRisky
    
    [runner] Always apply fail-on-risky

commit d11b5b6c4ef19936a2a5614fc16a0d1880b89fda
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Sep 26 13:16:40 2021 +0800

    [runner] Always apply fail-on-risky

commit d1dbed938e2ba091885284219dbd97452287b327
Merge: 191b387 520e91e
Author: Andrew Lyons <andrew@nicols.co.uk>
Date:   Wed Jan 19 08:24:45 2022 +0800

    Merge pull request #67 from moodlehq/xvfb
    
    Don't start xvfb in headless runs

commit 520e91ee67cb27c5f9c6973c1c9997167b1942b2
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 23 14:02:11 2021 +0200

    Don't start xvfb in headless runs
    
    It's not used and for sure will save some resources.

commit 191b387387c71179569812103595bd5fec2d62e5
Merge: adf2361 807f300
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Dec 9 16:35:42 2021 +0100

    Merge pull request #66 from moodlehq/chromedriver_bump
    
    [runner] Update to Chromedriver 96.0 custom

commit 807f300b9e362266aa2b3141ddf67c230aa9ad2f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 1 11:56:01 2021 +0800

    [behat] Force set marionette capability to true
    
    This works around https://github.com/Behat/MinkExtension/issues/376.

commit 1c8c62a863c557b43bae0537619a8108435fd10b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Nov 30 10:38:55 2021 +0800

    [runner] Update to Chromedriver 96.0 custom

commit adf2361b62d1b7575e4280c712576afb9b1a3db9
Merge: f88d0d1 2f8500e
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Nov 18 11:40:11 2021 +0100

    Merge pull request #65 from moodlehq/bbb-container-name
    
    Fix wrong BBB mock server container name

commit 2f8500e499062165875831f03d88bd6fdfa7d96e
Author: Víctor Déniz <victor@moodle.com>
Date:   Thu Nov 18 09:19:26 2021 +0000

    Fix wrong BBB mock server container name
    
    We were using the wrong container name in docker logs and getting errors during testing like "Error: No such container: http://bbbmock9145c76fb054c670"

commit f88d0d184259019a4c9d356e3196392e72c28010
Merge: a356bf8 4557921
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Nov 16 19:43:48 2021 +0100

    Merge pull request #64 from moodlehq/bbb-mock-server
    
    Add bigbluebutton mock server support

commit 4557921c4d11454fa2b9ecd15f976606c56f89c4
Author: Víctor Déniz <victor@moodle.com>
Date:   Tue Nov 16 16:26:22 2021 +0000

    Get BBB mock server image from moodlehq

commit c2f64e4e2f85d4bf4760ee2003695a81e829acc9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Sep 1 12:37:49 2021 +0800

    Add bigbluebutton mock server support

commit a356bf87df4796d291a1b98efce97d7d269622a9
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Oct 21 16:23:17 2021 +0200

    Add RUNCOUNT to de job summary information

commit 7a332221aaba02ab3f0476e7443f1c4a2659cedc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Oct 21 15:07:45 2021 +0200

    Add information about the installed plugins and their commits

commit baa4df45feb5de55fb7a14da1845b7a23bd2e5c8
Merge: 1efdc00 14292c7
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Oct 18 18:24:03 2021 +0200

    Merge pull request #62 from andrewnicols/customchromedriver
    
    [runner] Switch to custom chromedriver image

commit 1efdc007636385fe2f4455408f0ac5bd3698a8c3
Merge: f2f7295 e6d63a4
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Oct 15 09:44:00 2021 +0200

    Merge pull request #60 from andrewnicols/nogit
    
    [runner] Stop installing git

commit 14292c78bea2616b0dad6bfec5b0f5b493114446
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Oct 15 08:10:49 2021 +0800

    [runner] Switch to custom chromedriver image
    
    See https://tracker.moodle.org/browse/MDL-71108 for details on the
    reasons behind this change, and its history.

commit e6d63a4541cea00d5ad91130bdc759f4408a8bb2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Sep 26 11:32:26 2021 +0800

    [runner] Stop installing git
    
    It's installed already.

commit f2f72953bd6ce755ddeca2c47ec35bc9ea783342
Merge: 0bcac46 30e5b98
Author: ilyatregubov <ilya.a.tregubov@gmail.com>
Date:   Tue Sep 14 17:03:06 2021 +0200

    Merge pull request #59 from stronk7/unpin_chome_and_cross_fingers
    
    Unpin chrome version and cross fingers

commit 30e5b98ac88e1db6eab9c39aaeb0dc1ecb699747
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Sep 14 16:56:51 2021 +0200

    Unpin chrome version and cross fingers
    
    We are going brave here and go back to unpinned chrome version, because staying with
    the old Chrome 79 version (3.141.59-zinc) is making things really harder and harder.
    We are aware that, for headed runs, there are some zero-size errors still not fixed,
    but headless ones should run ok. For reference, the problems we are aware are being
    tracked (as of 14 Sep 2021) @:
      - MDL-71108 : zero-size
      - MDL-72306 : feedback

commit 0bcac461b8245b41a57c2fbd182641d9a2428554
Merge: 242d3fc 56741b9
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sun Sep 12 18:20:47 2021 +0200

    Merge pull request #52 from stronk7/enable_classic_accessibility
    
    Revert "Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 242d3fcedb5afbbe614a52e79071b4aa39c2c444
Merge: b039c34 0dc556c
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Aug 27 11:04:44 2021 +0200

    Merge pull request #56 from andrewnicols/mobileAppPort
    
    Allow mobile app port to be customised

commit b039c3490bcba3b4c0d9e5aab5a2a5f929c60472
Merge: 87a90c3 cfc5036
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Aug 27 10:56:47 2021 +0200

    Merge pull request #57 from andrewnicols/removeTerminalFromReruns
    
    Remove terminal from rerun commands

commit 0dc556c8c98a6711d08303466e881cf1d01dd57f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 6 15:09:19 2021 +0800

    Allow mobile app port to be customised

commit cfc5036ae3d6360e6907dde08181d21c544b5cbc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Aug 10 21:53:23 2021 +0800

    Remove terminal from rerun commands

commit 87a90c3a470400b76147906669127820e613cffa
Merge: 90e2530 eed9af3
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jul 14 12:55:28 2021 +0200

    Merge pull request #54 from stronk7/mariadb_10.5_sticky
    
    Make mariadb:10.5 sticky

commit eed9af3e0b5e7887fcd02f854a2a49883bb38891
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jul 14 12:36:35 2021 +0200

    Make mariadb:10.5 sticky
    
    New mariadb:10.6 makes the COMPRESSED row format read-only by default
    because it's deprecated now and will be removed in mariadb:10.7
    
    This is being tracked @ https://tracker.moodle.org/browse/MDL-72131
    
    Once that issue is fixed and we switch to DYNAMIC or whichever the
    final solution is, we'll unpin this.

commit 90e253075284b043da520b882101837a3483b2a1
Merge: d4dafe3 4ed4506
Author: Sara Arjona <sara@moodle.com>
Date:   Tue Jun 22 11:07:36 2021 +0200

    Merge pull request #53 from stronk7/pg10_bump
    
    Pg10 bump

commit 4ed450679cf0b3aa2e2f7e8e71348db536801457
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 21 18:29:13 2021 +0200

    PG10 minor changes (replication related)
    
    Following the information @ https://www.postgresql.org/docs/10/release-10.html
    - rename functions, tools and options referencing "xlog" to "wal".
    - log_directory changed from "pg_log" to "log".
    
    Note that both:
    - wal-method=stream
    - log_directory=log
    
    are default options so, extrictly speaking we shouldn't need to set them
    but it doesn't hurt to have them explicily defined, so keeping them.

commit a4b02874efa1b7e11aba8e1e1d5d65038a1c9c88
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 21 18:08:46 2021 +0200

    Bump to PG10, Moodle 4.0 requirement

commit 56741b9fc2f14dbc09984d8b49dc22d79bd59d14
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Jun 13 23:03:42 2021 +0200

    Revert "Disable accessibility (axe) with classic till MDL-70846 is fixed"
    
    This reverts commit 6772ca686434a36ba1f318682d5083a4f0d2e7e6.
    
    Closes #49

commit d4dafe3b6b261c3fd1b28618161bc61a9523557f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed May 19 18:42:58 2021 +0200

    Move back to our public image, it's working ok since some months ago
    
    In the past we switched to private one because of some problems
    with Oracle & Docker removing access to all Oracle images. Since
    then our wnameless/docker-oracle-xe-11g base image is back so
    we created the -r2 public one based on it.
    
    More info @ MDLSITE-5669

commit e16b54b1b13c4cbd326a597e451166c54cdb6bcd
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Mar 14 15:41:21 2021 +0100

    Revert "Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton"
    
    This reverts commit 8b96786722b4bbada3e05e63fadbe1d5e8d598f6.
    
    We are going back (to Chrome 79) because 2 errors have been
    found with Chrome 89 needing to be fixed before jumping to it.
    
    More info:
    
    https://tracker.moodle.org/browse/MDL-71108

commit d0775338e44eb115274ee38bab3d798bb3b35106
Merge: 612e041 8b96786
Author: Jun Pataleta <jun@moodle.com>
Date:   Fri Mar 12 16:45:18 2021 +0800

    Merge pull request #51 from stronk7/chrome89
    
    Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton

commit 8b96786722b4bbada3e05e63fadbe1d5e8d598f6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Mar 11 17:04:03 2021 +0100

    Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton
    
    We were waiting since some time ago to Chrome 89 to be released
    and, because of that, we had selenium pinned to 3.141.59-zinc
    version (Chrome 79).
    
    The cause for staying sticky was this issue:
        https://bugs.chromium.org/p/chromedriver/issues/detail?id=3682&q=&can=1&sort=-id
    
    Chrome (and chromedriver) 89 have been released and Selenium has
    already build the docker images for them:
    
    https://github.com/SeleniumHQ/docker-selenium/releases/tag/3.141.59-20210311
    
    So now we can unpin the old version and let the machinery to use the
    latest versions available. That's what this PR does.

commit 612e04179e19aafb236b3deebe4f0cdd7f6c5d74
Merge: 67f0ecc 6772ca6
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 19 06:51:48 2021 +0800

    Merge pull request #48 from stronk7/disable_axe_classic
    
    Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 6772ca686434a36ba1f318682d5083a4f0d2e7e6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Feb 18 22:44:46 2021 +0100

    Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 67f0eccccdfc69242fabfb8923fc09bb0d683692
Merge: 3933a35 ddaf3b6
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Wed Feb 10 00:23:58 2021 +0100

    Merge pull request #47 from andrewnicols/axe
    
    Run axe tests on CI

commit ddaf3b680a45531f53baea086bffb4ea36447636
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Feb 7 08:08:31 2021 +0800

    Run axe tests on CI

commit 3933a35e297445bb0599e152cad12efa9ed9d70a
Merge: 101866d 6c65442
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Jan 16 17:45:38 2021 +0100

    Merge pull request #43 from andrewnicols/w3csupport
    
    Add W3C Support to the CI runner

commit 101866d853bdc2a64f3caac01e554bade91201d4
Merge: 50ba133 4f04878
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jan 13 14:48:53 2021 +0100

    Merge pull request #46 from andrewnicols/stopRunningIonic
    
    Stop running ionic when not testing mobile

commit 4f0487876f9528923747c58688a1fa54a49aa795
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 13 20:59:24 2021 +0800

    Stop running ionic when not testing mobile

commit 6c65442a5daf9945126b1e2dd120758c3585d63c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:05:55 2021 +0800

    runner: Add support for headless browsers
    
    A new environment variable, 'BROWSER_HEADLESS', is now respected. When
    present and not falsey, the relevant browser-specific flags are used to
    make browsers run headless.

commit 57227eb2ae778a687f3a615d27bfd0921243938f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:05:39 2021 +0800

    runner: Add browser verbosity control

commit 5ddde8fbe35a6b3cef1eb95828ce5b3997db4d9d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 13 10:07:05 2020 +0800

    runner: Support Mink with W3C driver and browsers
    
    This commit makes changes to support both the legacy instaclick Mink
    driver, and the newer W3C-compatible Mink driver using the php-webdriver
    project.
    
    To support this we now detect whether the instaclick driver is in use,
    and if so use Firefox 47.0.1, and disable marionette in the browser
    configuration.

commit dc64a2e807e966e71b2f1f654703e155fd9abbcb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 10:26:47 2021 +0800

    runner: Always show Job summary
    
    Remove the section tags which cause Jenkins to collapse the Job summary.
    
    The job summary is often useful when identifying jobs and it is
    unnecessarily collapsed in a section.

commit 50ba133b698ee73a0e76d7ef08506d6a6c52228a
Merge: eb46238 cdec51d
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jan 12 18:37:34 2021 +0100

    Merge pull request #45 from andrewnicols/alwaysShowSummary
    
    runner: Always show Job summary

commit eb462380d1819e70b5f59060942858294c34aa12
Merge: bb2765e bf5d2db
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jan 12 18:32:02 2021 +0100

    Merge pull request #44 from andrewnicols/initdbfix
    
    Correct file permissions for DB entrypoints

commit cdec51dc0d49ee1995b7717933e03e1b51362454
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 10:26:47 2021 +0800

    runner: Always show Job summary
    
    Remove the section tags which cause Jenkins to collapse the Job summary.
    
    The job summary is often useful when identifying jobs and it is
    unnecessarily collapsed in a section.

commit bf5d2db9b89bb31e56469ddbf92eb8af719becfb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:10:10 2021 +0800

    Correct file permissions for DB entrypoints
    
    These scripts were missing the executable bit which was causing issues
    on MacOS.

commit bb2765e405f2aae3a675bea2f8c4d2208fe932be
Merge: 1b61851 949de31
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Dec 26 13:02:45 2020 +0100

    Merge pull request #40 from stronk7/enable_lang_upgrade
    
    Enable lang upgrades again

commit 1b618511ce0b38cb99a7b3bdfeb78f576aa84738
Merge: fa35a42 ed19688
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Nov 13 18:50:55 2020 +0100

    Merge pull request #41 from stronk7/311_versions
    
    Add Moodle 3.11 version

commit ed19688323f33d5202d3204005baa5f3ebbe6a8d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Nov 13 17:04:37 2020 +0100

    Add Moodle 3.11 version

commit fa35a4211e2fcae86562c881e745c76539a4ae82
Merge: 459f133 3210a89
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 2 09:06:15 2020 +0800

    Merge pull request #39 from stronk7/logs_take2
    
    Better log file names + also log phpunit images

commit 949de31e7f22733033ad453ecb3ed64284db9cb9
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Nov 1 23:38:59 2020 +0100

    Enable lang upgrades again
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information
    
    Under parallel development, until the new dev branch (310_STABLE in this
    case) language packs are and available.

commit 3210a89b6e017f1faa1c09eb6d7678959d75aa7e
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Nov 1 16:45:48 2020 +0100

    Better log file names + also log phpunit images
    
    This does a couple of things:
    
    1) export all logs using better container names (names instead
       of ids, with some current names improved "run => webserver...)
    2) move the log exporting out from behat section, so it's also
       executed for phpunit runs and we get other logs that could be
       also useful at some point.
    
    This is a followup of https://github.com/moodlehq/moodle-ci-runner/pull/38

commit 459f133ee1e669b2da1848738037e7ef36b99222
Merge: e7d8e7b 1e3d130
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Oct 29 09:50:46 2020 +0100

    Merge pull request #38 from andrewnicols/logs
    
    runner: Store all of the docker container logs

commit 1e3d130c8a82fa4bdfb8e8c23faa6d02e37d47d4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Oct 29 15:52:11 2020 +0800

    runner: Store all of the docker container logs

commit e7d8e7b6f23e51197c25426f35140c9d0e96349a
Merge: ea04e94 21dfcbc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 17 19:32:11 2020 +0800

    Merge pull request #37 from stronk7/unpin_mariadb
    
    Unpin MariaDB and remove deprecated / removed settings from config

commit 21dfcbc2bbbe8c5e5c9385502b7452b51cbf8f98
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Sep 11 23:24:24 2020 +0200

    Unpin MariaDB and remove deprecated / removed settings from config
    
    this shouldn't affect MySQL because current (5.7 and up) defaults
    match the settings.

commit ea04e944683151460664535547542a0d38319343
Merge: 5af1206 bacbb8c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 10 17:56:40 2020 +0800

    Merge pull request #36 from stronk7/show_behat_increase_timeout
    
    Show the BEHAT_INCREASE_TIMEOUT config value on all runs

commit bacbb8c29354cc5487fd7d912d66dc2472c78e44
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Sep 10 11:06:24 2020 +0200

    Show the BEHAT_INCREASE_TIMEOUT config value on all runs

commit 5af1206badce74f734fb98f0ec8b6a6d2c1318ca
Merge: f679b06 8cd284f
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Aug 11 11:35:09 2020 +0200

    Merge pull request #35 from stronk7/disable_lang_upgrade
    
    Disable lang upgrades, to be enabled once the lang branch is available

commit f679b067f2a41892d8db739a102aa319ffc1d8f4
Merge: b9064c7 bedb181
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Aug 11 11:34:52 2020 +0200

    Merge pull request #34 from stronk7/310_versions
    
    Add Moodle 3.10 version

commit 8cd284faa1aa6002b08acf13b4776b9f2a74a90c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Aug 10 11:08:23 2020 +0200

    Disable lang upgrades, to be enabled once the lang branch is available

commit bedb181218d3dd53614fc64eacf2b501ac57826f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Aug 10 11:05:46 2020 +0200

    Add Moodle 3.10 version

commit b9064c7fb5f22c089a22dac45d8079ac0e8c8c4a
Merge: e42c7fd 1a1e718
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 30 06:59:43 2020 +0800

    Merge pull request #32 from stronk7/external_https_exttests
    
    Make unit tests also use exttests docker container for https tests

commit 1a1e718169b0225d752c5303cdaca9571890b314
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Jul 18 12:11:09 2020 +0200

    Make unit tests also use exttests docker container for https tests
    
    While we are already using the exttests docker image for HTTP
    requests (avoiding to use download.moodle.org), we are not using
    it for HTTPS tests.
    
    Looking to codebase, there is only ONE tests using HTTPS and it's
    the one that uses to fail when there are porblems with downloads.
    
    As far as that test doesn't perform any check or validation related
    to certificates, we can, simply, configure unit tests to also use
    the HTTP exttests URL to run the HTTPS test.
    
    If tomorrow we need some real HTTPS test, surely we'll need to
    incorporate some mutual recognised certificates, or a real one..
    
    But right now that's not needed.

commit e42c7fd7a7d15777a9843da9a986e0808ed6791e
Merge: f98d032 c1fa35f
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jun 23 22:58:10 2020 +0200

    Merge pull request #31 from stronk7/enable_lang_upgrade
    
    Enable lang upgrade

commit c1fa35f1b41ae28074a14d80eec75b6cf4a354ce
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:58:22 2020 +0200

    Enable lang upgrades again
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit f98d032dba13d122c8cdc5aaea31e2359182c4e0
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jun 10 15:52:38 2020 +0200

    Add back the recently removed sleep, we need it for now
    
    Once we get https://tracker.moodle.org/browse/MDLSITE-6178
    properly implemented we'll be able to revisit all the
    current harcoded pauses.

commit ac8f7607e45bf74977a111b5586884fab1c714e1
Merge: b622687 8ca70ac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 9 07:24:28 2020 +0800

    Merge pull request #30 from stronk7/disable_lang_upgrade
    
    Disable lang upgrades, to be enabled after on-sync

commit b622687b818b0866238c508fe80f5c15655da18c
Merge: 5e8da83 7a8a42f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 9 07:23:22 2020 +0800

    Merge pull request #29 from stronk7/39_versions
    
    Add Moodle 3.9 version

commit 8ca70ace3475237ca70d5b0bc85b5876c47ba3de
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:55:37 2020 +0200

    Disable lang upgrades, to be enabled after on-sync

commit 7a8a42fd286197d0c12065ffc20b88e35575f5de
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:53:02 2020 +0200

    Add Moodle 3.9 version

commit 5e8da83fde01cffbcf99542cbae5c9bcc886a130
Merge: 8e0fd99 41cceb6
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Jun 2 17:22:43 2020 +0800

    Merge pull request #27 from stronk7/moodlehq_sqlsrv_image
    
    Switch to modern sqlsrv own image

commit 41cceb6171884f25e6774b695ee27ec07ccf138f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 1 01:26:44 2020 +0200

    Switch to modern sqlsrv own image
    
    It comes with important memory reduction, specially important
    now that we are also running sqlsrv unit tests as part of ToBiC.
    
    Also remove not needed commands and pauses because the container
    startup handles both.

commit 8e0fd99de3995d51f90bf22fa463f9dea718183b
Merge: 5a28bb7 2aa7c00
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sun May 24 19:58:33 2020 +0200

    Merge pull request #24 from moodlehq/dbslave
    
    DB Slave support

commit 2aa7c0073ab43a2a94514177695353da233fd2b6
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue May 12 13:49:35 2020 +0800

    runner: MySQL Replicate support

commit 74d4d862c308e745c5add7f0f2c58f7d4553cdc4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 11 15:43:58 2020 +0800

    runner: Support postgres slaves

commit 5a28bb7818272c4435831768441eb42f6456da0c
Merge: c6fc3a0 13936d1
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue May 19 16:17:29 2020 +0200

    Merge pull request #23 from crazyserver/patch-1
    
    Change Moodle App docker repository

commit 13936d19c9e28e9dc758fd72c0d028f73899dc2d
Author: Pau Ferrer Ocaña <crazyserver@users.noreply.github.com>
Date:   Tue May 19 14:58:11 2020 +0200

    Change Moodle App docker repository

commit c6fc3a0974f39eb018d628f1e045c7485bfc4e5d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 18 22:38:18 2020 +0200

    Disable options not directly related with the run type

commit 3d1ff1c4ce7b38c810fbbb1b9235d0ff8b548682
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu May 14 03:02:07 2020 +0200

    Added support for multiple reruns (defaults to current 1)
    
    Now it's possible to perform multiple reruns, controlled by
    the BEHAT_NUM_RERUNS env variable. It defaults to current 1.
    
    Also, if 0 is passed, don't perform any rerun.
    
    Output files (pretty, junit) now will have the format:
    
    - prettyRUN_rerunRERUN.txt
    - logRUN_rerunRERUN.junit
    
    Where RUN is the # of parallel run (empty for single)
    and RERUN is the rerun iteration.

commit 9b8619d417a8131ec34e5ee33d14a74ab975a1fe
Merge: af8ad05 c27cac8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 18 07:16:06 2020 +0800

    Merge pull request #22 from stronk7/avoid_chrome80
    
    Avoid Chrome 80 because it's causing some SCORM tests to fail

commit c27cac893a4f46637464a7d05f4004f5f91d46ad
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Feb 17 17:49:34 2020 +0100

    Avoid Chrome 80 because it's causing some SCORM tests to fail
    
    See https://tracker.moodle.org/browse/MDL-67989 for more information,
    once that is solved, we'll revert this, proceeding with #21

commit af8ad051bb76536d9c97201428aea30927d80383
Merge: b0f1332 4171a80
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Dec 28 11:43:39 2019 +0100

    Merge pull request #20 from stronk7/bump_mariadb_102
    
    Bump MariaDB to 10.2 to fulfill Moodle 3.9 requirements

commit 4171a80b7d02d1fb8931e72d2e6217ee9f705a99
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Dec 28 11:21:25 2019 +0100

    Bump MariaDB to 10.2 to fulfill Moodle 3.9 requirements
    
    See https://tracker.moodle.org/browse/MDL-65809 for details

commit b0f1332755eb460d037da7c5f3bfa58f7029641c
Merge: 9832e97 c88ed81
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Dec 17 23:54:02 2019 +0100

    Merge pull request #19 from stronk7/disable_skiplangupgrade
    
    Disable skiplangupgrade

commit 9832e9799dcdc44b5ca0c4b2e10ce8d4effeac92
Merge: 8e2f14e 024baad
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Nov 16 18:32:38 2019 +0100

    Merge pull request #18 from stronk7/enable_skiplangupgrade
    
    runner: Set skiplangupgrade as part of on-sync period

commit 8e2f14ea7ef584d4550decdfd98a98dbeb2b5d42
Merge: fc97b3d 289f974
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Nov 16 18:32:02 2019 +0100

    Merge pull request #17 from stronk7/38_release
    
    runner: Add Moodle 3.8 version of the runner

commit c88ed81e6492b46c025027a312ab8177e976b628
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:58:34 2019 +0100

    runner: Unset skiplangupgrade after the on-sync period
    
    This is MR4 in the [release
    process](https://docs.moodle.org/dev/Release_process#1_week_prior)
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 024baade98f99dd50b0b5ed5d00e741947547d88
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:55:14 2019 +0100

    runner: Set skiplangupgrade as part of on-sync period
    
    This is MR3 in the [release
    process](https://docs.moodle.org/dev/Release_process#1_week_prior)

commit 289f974d4b0f03950aaf680ae25d4057d1972653
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:52:09 2019 +0100

    runner: Add Moodle 3.8 version of the runner

commit fc97b3d368d29e42e13ef9352916a7de5f8e336f
Merge: 66cc4a1 0e40fe4
Author: Jun Pataleta <jun@moodle.com>
Date:   Mon Oct 14 15:39:19 2019 +0800

    Merge pull request #16 from stronk7/images_summary
    
    Show the creation date and hash/digest of involved images in a run

commit 0e40fe4bd76a45823b3d86adaa66345db200f175
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Oct 11 22:19:55 2019 +0200

    Show the creation date and hash/digest of involved images in a run

commit 66cc4a1261a82a6545bf86bff291c10105d60cf4
Merge: 716f333 a713c0c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:28:41 2019 +0800

    Merge pull request #14 from stronk7/enable_mongodb
    
    Enable mongodb

commit 716f333ace352e73425c12fcb025b430159c1f5c
Merge: 148a3af b3b185b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:28:18 2019 +0800

    Merge pull request #13 from stronk7/enable_memcached
    
    Enable memcached

commit 148a3af6a304889982e4f3061fe32af60d4cf055
Merge: 8e6d745 4881af9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:27:38 2019 +0800

    Merge pull request #12 from stronk7/enable_solr
    
    Enable solr

commit 8e6d745e7be5718d66ba54f6acf6a90e5e911cf2
Merge: dac6a76 d96d7cf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:27:16 2019 +0800

    Merge pull request #11 from stronk7/more_reliable_scriptpath
    
    Make the detection of SCRIPTPATH more reliable

commit dac6a762a73bbd601034304127d85a7953df3aad
Merge: b457662 1fe8710
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:26:11 2019 +0800

    Merge pull request #6 from sarjona/runner-appversionvar
    
     runner: Add support to MOBILE_VERSION and PLUGINSTOINSTALL settings

commit a713c0c137ff60db3c14e9546a60c2418994b135
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 18:50:14 2019 +0200

    Add support for mongodb tests

commit b3b185b648b3a93986b28156291c14a02bc294c1
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 17:04:54 2019 +0200

    Add support for memcached tests

commit 4881af9997f1da4c4c6413399c4275328bdcd7b8
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 16:23:25 2019 +0200

    Enable back solr, it's working with all php images

commit d96d7cf61205fccdfc62e23ac9db1792c7880abc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 13:56:20 2019 +0200

    Make the detection of SCRIPTPATH more reliable
    
    So it can be executed from other scripts, or aliased...

commit 1fe871046e5402d5b2b47806e1071c5f355f9005
Author: Sara Arjona <sara@moodle.com>
Date:   Fri Sep 20 17:31:54 2019 +0200

    runner: improve PLUGINSTOINSTALL and MOBILE_VERSION support
    
    Some improvements have been added, following Andrew's suggestions:
    - If the MOBILE_VERSION is not defined, the moodlemobile docker
    container won't be executed.
    - Instead of creating a temporary folder for the plugins, a new
    setting, PLUGINSDIR, has been added. By default they will be
    downloaded to $WORSPACE/plugins.
    - Those new settings have been added to the README.md

commit 44c4e60038cb731a694fda364a6d9731933e128b
Author: Sara Arjona <sara@moodle.com>
Date:   Fri May 31 12:28:21 2019 +0200

    runner: Add PLUGINSTOINSTALL variable to install external plugins

commit d5ebe8cb8fbfc6a122d572916f8f8bdc52aac9b0
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 16:19:14 2019 +0200

    runner: Add MOBILE_VERSION variable to define the app version to run @app tests

commit b9dcf77fe75a19a1733b01ed7d7605680783b020
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 17:00:39 2019 +0200

    Unpin mobile once that breaking tests are removed (MDL-65869)
    
    This reverts commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f.

commit af3943120701d2532177723c2e7afc79f6e4bd65
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 16:57:36 2019 +0200

    Enable back Redis session tests for PHP 7.2 and up
    
    This reverts commit f36e8081c50dfa7342b9e91736c1febeeedebbd6.

commit fabe6dea67da25f01ccffd38788d3bd7e8d5305f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jun 12 09:08:01 2019 +0800

    Temporarily ping mobile to 3.6.1 until failing tests removed

commit b4576622ce3efd624698ac0bc11b3a576a81b975
Merge: 348685d 51ff441
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 12 21:33:01 2019 +0800

    Merge pull request #10 from stronk7/unpin_mercury
    
    Unpin 3.141.59-mercury and allow any new 3.x release to be used

commit 51ff44139da1fe952fcde88a21579fc1f658957c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Sep 11 16:46:05 2019 +0200

    Unpin 3.141.59-mercury and allow any new 3.x release to be used
    
    With MDL-66378 and, specially, https://github.com/moodlehq/php-webdriver/pull/1
    we can continue using Chrome >= 76 because we are enforcing the
    use of the legacy JsonWire protocol (instead of the default W3C one).
    
    So it has been agreed that we'll allow any 3.x new release to be used in
    order to detect problems earlier (we always can pin again if needed).

commit 348685d0918ea2d5c9ff2f0d4eb2bd49644499d2
Merge: bb20f2c 5779fe2
Author: Adrian Greeve <abgreeve@gmail.com>
Date:   Tue Aug 20 14:41:29 2019 +0800

    Merge pull request #8 from moodlehq/revert-7-chrome_unpin
    
    Revert "Revert "Moving away from 3.141.59-neon coz it's causing problems""

commit 5779fe24d006ca3f1acc8f2dcc5b6919c279bda7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Aug 20 14:38:15 2019 +0800

    Revert "Revert "Moving away from 3.141.59-neon coz it's causing problems""

commit bb20f2cd499f008116fab9a7c47472712e93c84b
Merge: 3fb9dc6 9443e85
Author: Adrian Greeve <abgreeve@gmail.com>
Date:   Tue Aug 20 14:31:09 2019 +0800

    Merge pull request #7 from moodlehq/chrome_unpin
    
    Revert "Moving away from 3.141.59-neon coz it's causing problems"

commit 9443e85a1bfff80333288626fd353769b72392b9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Aug 14 13:48:49 2019 +0800

    Revert "Moving away from 3.141.59-neon coz it's causing problems"
    
    This reverts commit 1bda1c27f698e5a96180836b59b19f254b5fbd58.
    
    Fixed by way of MDL-66378.

commit 3fb9dc6c5ae6268357a22b6e057aaa3e872f736d
Merge: 2d13771 0b953ee
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 28 06:40:00 2019 +0800

    Merge pull request #5 from stronk7/redis_session_tests_are_back
    
    Enable back Redis session tests for PHP 7.2 and up

commit 0b953eecf390263e561d9efc1918e33fbebcc1c1
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 17:00:39 2019 +0200

    Unpin mobile once that breaking tests are removed (MDL-65869)
    
    This reverts commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f.

commit f161c4ecb848b52728c073702624949cb0f887a5
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 16:57:36 2019 +0200

    Enable back Redis session tests for PHP 7.2 and up
    
    This reverts commit f36e8081c50dfa7342b9e91736c1febeeedebbd6.

commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jun 12 09:08:01 2019 +0800

    Temporarily ping mobile to 3.6.1 until failing tests removed

commit 97d40fe45eef9cda9dee4332200927c763b92a0d
Merge: f27d127 318e84b
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri May 31 09:51:04 2019 +0200

    Merge pull request #4 from sarjona/runner-fix-local
    
    runner: Avoid local network collissions

commit 318e84bdc11f66f6d6e8e25505bb942b9029fb86
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 14:39:49 2019 +0200

    runner: Avoid local network collissions

commit f27d127197acb4976a71c2638e21c29d1c5afed8
Merge: c18d21c 70ca27d
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu May 30 22:58:37 2019 +0200

    Merge pull request #3 from sarjona/readme-revision
    
    README: Update themes and add some extra parameters to the doc

commit 70ca27d7b8d7f036c7dffc2f7b9c31abf3fdc302
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 13:58:13 2019 +0200

    README: Update themes and add some extra parameters

commit c18d21c6d38431ca134be6732ebc88a942f02157
Merge: 551b15d ead8faf
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat May 25 00:03:25 2019 +0200

    Merge pull request #2 from andrewnicols/mobiletesting
    
    runner: Add Ionic testing

commit 551b15d59f7c81d26c7838621a9265bd9ca3a0cb
Merge: 2941637 f7078a4
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri May 24 23:55:36 2019 +0200

    Merge pull request #1 from andrewnicols/37_endonsync
    
    runner: Unset skiplangupgrade for end of on-sync period

commit 2941637e67830cef6334ebe3d0da8658828f8323
Author: Mark Johnson <mark.johnson@open.ac.uk>
Date:   Wed Mar 27 09:25:01 2019 +0000

    Add support for increased behat timeout

commit ead8faf6168cc7ae7f4d894827f49a4391cb6d7e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 31 06:53:45 2019 +0800

    runner: Add Ionic testing

commit f36e8081c50dfa7342b9e91736c1febeeedebbd6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 20 22:50:53 2019 +0200

    Disable Redis session tests for PHP 7.2 and up
    
    See MDL-60978 for more information.

commit 8bbcbf0a05c15b15c96d8b743b50c4919f46bb80
Merge: 19fe0f5 6c7dbaf
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun May 19 18:17:43 2019 +0800

    Merge branch '37_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!29

commit 19fe0f5e4cbb50e7de1a870b308919a8d29b4688
Merge: 1bda1c2 fb50503
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun May 19 18:17:29 2019 +0800

    Merge branch '37_release' into 'master'
    
    runner: Add Moodle 3.7 version of runner
    
    See merge request integration/nightlyscripts!28

commit f7078a46484f9b417e33189d7c4ba8ed1df461eb
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:39:57 2019 +0200

    runner: Unset skiplangupgrade for end of on-sync period
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 6c7dbafd94bdf22132ad0d032150079aefeacd98
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:37:21 2019 +0200

    runner: Set skiplangupgrade as part of on-sync period

commit fb50503ce89e26378204c92930821fcbb6fe4829
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:32:59 2019 +0200

    runner: Add Moodle 3.7 version of runner

commit 1bda1c27f698e5a96180836b59b19f254b5fbd58
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Apr 30 16:06:14 2019 +0200

    Moving away from 3.141.59-neon coz it's causing problems
    
    So we are now explicitly using 3.141.59-mercury, from 1 month
    ago that was working till neon arrived (6 days ago). That is
    leading to lots of "invalid session id" errors leading to the
    re-execution of complete jobs (almost 2X execution time)

commit 1c626b647730aca6682147dd7006c177a817c696
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 20:21:57 2019 +0200

    Avoid colors that look horrible (escape seqs) in some clients (take#3)

commit 113c847885ab29bd232060a435f71c35c8c92b7c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 20:14:20 2019 +0200

    Avoid colors that look horrible (escape seqs) in some clients (take#2)

commit d4e30b6abee5fb15c0bcf19639a309ba5e78fa12
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 18:59:32 2019 +0200

    Avoid ansi colors that look horrible (escape seqs) in some clients

commit ed1604b7fa7ad04c4533106419dc500d849c5ea8
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Apr 11 02:18:45 2019 +0200

    Add support for individual features/scenarios (--name)
    
    Also fix some small details, like 1-parallel, reruns and
    some old selenium version.
    
    Finally, note that the --config parameter requires to use
    this syntax:
    
    --config path/to/behat.yml
    
    and doesn't work with
    
    --config path/to/behat.yml
    
    Because of an annoying dependency built in core (MDL-65435). Once
    it's fixed, both syntaxes will work.

commit 39e2cb3eb3ee60056a40361e094227a7419d9a9f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Feb 18 15:05:37 2019 +0800

    runner: Bump chrome to 3.141.59

commit 674bf46278c225cd9507115c5f0344e2563a43ce
Merge: af3a800 a3398e0
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Feb 12 22:57:21 2019 +0800

    Merge branch 'mdlsite-5669' into 'master'
    
    runner: Update oracle image to moodle-db-oci
    
    See merge request integration/nightlyscripts!26

commit a3398e06b56964da1e88645bb7914953e1e99b9c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 12 15:11:55 2019 +0800

    runner: Update oracle image to moodle-db-oci
    
    Fixes MDLSITE-5669

commit af3a8009a6869929e4a67e3c0dbbec46d60465b4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 31 10:11:42 2019 +0800

    Marionette option is for Firefox only

commit d9431cd102f2d1078a2d149417f53933cd3fd48d
Merge: 16b748d c00a229
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu Jan 31 07:20:05 2019 +0800

    Merge branch 'ff_selenium_upgrade' into 'master'
    
    runner: Switch to MoodleHQ selenium image
    
    See merge request integration/nightlyscripts!25

commit c00a229752f41e8dcb1bbebe46dfd111b1c0735e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 12 13:11:52 2018 +0800

    runner: Switch to MoodleHQ selenium image
    
    This image uses a newer version of Selenium, disabling Marionette, but
    the old version of Firefox.
    
    It appears to be more stable than the images we've been using to date.

commit 16b748d2dc729d334c5c5479d121a5ac101fa011
Merge: dd82982 12e1904
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sat Jan 12 20:32:07 2019 +0800

    Merge branch '36_endonsync' into 'master'
    
    runner: Unset skiplangupgrade for end of on-sync period
    
    See merge request integration/nightlyscripts!24

commit dd82982330eed22998a14de9ea8152a9654c0cbd
Merge: 40df230 0c5102c
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun Dec 2 08:20:38 2018 +0800

    Merge branch '36_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!23

commit 40df230cbc64075c384aabfacf806f4f6cf2d080
Merge: 5b37b3f a606c9b
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Fri Nov 30 12:03:28 2018 +0800

    Merge branch '36_release' into 'master'
    
    runner: Add Moodle 3.6 version of runner
    
    See merge request integration/nightlyscripts!22

commit 12e1904875f7497febccff6ee96d813ae2cc2d40
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:52:55 2018 +0100

    runner: Unset skiplangupgrade for end of on-sync period
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 0c5102c821211fa901a9273fecb32da7a8f09b3d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:51:27 2018 +0100

    runner: Set skiplangupgrade as part of on-sync period

commit a606c9b728892022682bfab1a9465f1e813c5947
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:49:02 2018 +0100

    runner: Add Moodle 3.6 version of runner

commit 5b37b3f915313c132299319a1ddf23c8e2cf6916
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 10 12:17:31 2018 +0800

    Revert "runner: Remove suite from behat run command"
    
    Unfortunately I have no idea why I wrote this change.
    The -a=[theme] should work, but does not.
    
    This reverts commit aeafe7d70fce06edd1e1da3137fbf0f857c47b7f.

commit 4aa09c8c19163d2752d2a977cb94b56cb174b4f8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 10 12:17:29 2018 +0800

    runner: Add pathtosassc

commit aeafe7d70fce06edd1e1da3137fbf0f857c47b7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Sep 5 09:37:25 2018 +0800

    runner: Remove suite from behat run command

commit 054d655920b0ce49eb426c6b1f8cc0b87423fc2c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 11:26:00 2018 +0800

    runner: Disable SOLR for now :(

commit a1ff178fa83b8b0710ddf7d6395049610fdbf340
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 09:32:12 2018 +0800

    runner: Add redis to tests

commit e75774849038c688f8cb1f27310d601cf1ebea3d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 09:31:38 2018 +0800

    runner: Add solr to tests

commit 022c84006b6d3ece8a297823d8341e4ed5c1761f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 08:38:54 2018 +0800

    runner: Attempt to seed with cached composer.phar

commit 1cba58a03a674c3e77dd333c9c114b1461a703dc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 12 15:55:24 2018 +0800

    README: Move to project root

commit 00599ef9016ded2f3d535118eb52ade77f568cac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 12 15:55:08 2018 +0800

    runner: Add CODEDIR to readme

commit eb57951e64c8999624097e39d4fd31f654a0d084
Merge: 54a1141 2bd6d1b
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Jun 6 23:33:18 2018 +0800

    Merge branch '35_endonsync' into 'master'
    
    runner: Unset skiplangupgrade for end of on-sync period
    
    See merge request integration/nightlyscripts!18

commit 54a1141bd1f89323a91cb16a454e00a598de4fa0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 31 07:52:51 2018 +0800

    runner: Add default for timing filename

commit 0f8818d02dc8cf405ba4974ae1fe5de2301369e9
Merge: b5c4448 de1d2ff
Author: jun <jun@moodle.com>
Date:   Mon May 28 12:01:22 2018 +0800

    Merge branch 'useTiming' into 'master'
    
    runner: Use behat timing files
    
    See merge request integration/nightlyscripts!21

commit de1d2ffe9151d09034657292ba0c9433b5de1abf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat May 26 09:29:18 2018 +0800

    runner: Use behat timing files

commit b5c44488a857d2148efa34274c685b482b0ded7e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 18 18:14:41 2018 +0800

    runner: Move path to subpath
    
    The /var/www directory is owned by root.
    In 31 we simply append a run number to the behatroot directory - i.e.
    /var/www/behatdata1
    
    In 32 we create them in a subdirectory - i.e.
    /var/www/behatdata/behatrun1
    
    When running as www-data, the user does not have access to create the
    behatdata1 directory.
    
    The previous attempted fix was to add a slash:
    31  - /var/www/behatdata/1
    32+ - /var/www/behatdata/behatrun1
    
    However, the trailing slash seems to cause issues in core in some
    sitautions - specifically the re-run of the test.
    
    This fix, tested on 31, and master with a failing test changes the
    directorty further such that the behat data directory is
      /var/www/behatdata/run
    This makes the new run directories:
    31  - /var/www/behatdata/run1
    32+ - /var/www/behatdata/run/behatrun1
    
    Both of these are acceptable as the www-data user has the required
    permission to create new directories for the run in the subdirectory.

commit 41fb3e3952ad053082cf48b545b9e2a714e0d976
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri May 18 18:33:52 2018 +0200

    Get rid of the extra slash, seems to be causing problems in >=32.
    
    But keep the chown covering the whole /var/www/* to see if that's
    enough for 31. Or at least to keep everything working but 31.

commit b35f21ab4d3f8e6db0dbf108fb50e4141d609a0c
Merge: 4c3d350 34a14dc
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Fri May 18 08:29:14 2018 +0800

    Merge branch 'ocibump' into 'master'
    
    runner: Bump OCI timeout
    
    See merge request integration/nightlyscripts!20

commit 4c3d35069b33c8025694633ae85d8c55a463f1a5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 18 07:44:26 2018 +0800

    runner: Correct rerun path for 31

commit 34a14dceac2921d1cf7cd926be585b860112b0ea
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 14:46:41 2018 +0800

    runner: Bump OCI timeout

commit c9ce81e560cea4e3721c08c9aead8a8bb9f6dcc2
Merge: 0bb2ac5 8ac11f8
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Thu May 17 14:39:49 2018 +0800

    Merge branch 'behatfix' into 'master'
    
    runner: Add fix for behatdata on 31
    
    See merge request integration/nightlyscripts!19

commit 8ac11f8e74a159a0027cb12eb948a94ea790ba6c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 14:00:14 2018 +0800

    runner: Add fix for behatdata on 31

commit 0bb2ac5264561a47be9ac68c303b07f20b9c57f7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 13:33:35 2018 +0800

    runner: Chown with group

commit 7f1b4c87b603cf3bf7be1e971e4405e82cd63738
Merge: 405c773 53614eb
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:32:11 2018 +0800

    Merge branch 'runaswwwdata' into 'master'
    
    runner: Run behat as www-data
    
    See merge request integration/nightlyscripts!15

commit 405c7739d0b92095c738d386ecd7e4f059557edd
Merge: 387fe98 4b866ad
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:31:42 2018 +0800

    Merge branch '35_release' into 'master'
    
    runner: Add Moodle 3.5 version of runner
    
    See merge request integration/nightlyscripts!17

commit 387fe98f3bbab96df64377f69a43bca3e9a5d837
Merge: 6033840 4a886f4
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:31:23 2018 +0800

    Merge branch '35_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!16

commit 2bd6d1b63c16e4097dc254c007bdb4de592336bd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:59:06 2018 +0800

    runner: Unset skiplangupgrade for end of on-sync period

commit 4b866ad334144dda7bfa17817d8b7fe353598afa
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:46:36 2018 +0800

    runner: Add Moodle 3.5 version of runner

commit 4a886f415932418b42fce39ca4cb3f6eff4c80ca
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:41:11 2018 +0800

    runner: Set skiplangupgrade as part of on-sync period

commit 53614eb42297c8cac8caeee7f6feac4c1ab16eba
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 9 08:21:18 2018 +0800

    runner: Run behat as www-data

commit 6033840d3183e33d6af984b358a24c987250feaf
Merge: 9d25a09 2261c5e
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Mon May 14 13:19:04 2018 +0800

    Merge branch 'chownfix_again' into 'master'
    
    runner: Behat has a different datadir
    
    See merge request integration/nightlyscripts!14

commit 2261c5eefa591503bcd47d4ea1fbf4c4ff6917e7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 14 13:18:28 2018 +0800

    runner: Behat has a different datadir

commit 9d25a09583686a7e8aca6f77cd394f90e1f841d0
Merge: dfe3af4 74d8e1f
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Fri May 11 23:21:15 2018 +0800

    Merge branch 'fixchown' into 'master'
    
    runner: Fix bad bashism
    
    See merge request integration/nightlyscripts!13

commit 74d8e1f1b73c8868622ab6d945878c993eb4df3f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 11 23:16:22 2018 +0800

    runner: Fix bad bashism

commit dfe3af4f20b50d1ecadacb30388e7f8e43e2f15c
Merge: 65f3858 8b56620
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue May 8 07:26:08 2018 +0800

    Merge branch 'chromebump' into 'master'
    
    runner: Bump chrome selenium to 3.11.0-dysprosium
    
    See merge request integration/nightlyscripts!12

commit 8b56620b8650c48889ba9d7df840ab8715eb034e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue May 8 07:06:37 2018 +0800

    runner: Bump chrome selenium to 3.11.0-dysprosium
    
    Selenium version 3.11.0-dysprosium (rev e59cfb3)
    Chrome version: 66.0.3359.117
    ChromeDriver version: 2.38.552522

commit 65f3858a655d83b76fbef2c14fcbe8a5489436f8
Merge: 11f0175 6d7e753
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Sat May 5 12:13:43 2018 +0800

    Merge branch 'selspread' into 'master'
    
    runner: Fix parallel runs to use own sel
    
    See merge request integration/nightlyscripts!11

commit 6d7e753f6d35148afc34a6800f119529d725b702
Author: Mark Johnson <mark.johnson@open.ac.uk>
Date:   Fri May 4 22:14:56 2018 +0800

    runner: Fix parallel runs to use own sel

commit 11f0175f567ec57cb08a6b94db96ae79dcaf42fc
Merge: 922c2b2 15afb3c
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 3 17:16:35 2018 +0800

    Merge branch 'chown_after_init' into 'master'
    
    runner: Chown after behat init
    
    See merge request integration/nightlyscripts!10

commit 15afb3cf686248b16a682fefa00e0730250bbe46
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 3 08:08:52 2018 +0800

    runner: Chown after behat init

commit 922c2b20532fac6258026d7d408aca705ef8e1c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Apr 20 12:58:58 2018 +0800

    runner: Extend oracle wait period to 2 mins

commit 4001447d0a615e6348920f5595ba6255127eec16
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Apr 20 12:49:25 2018 +0800

    runner: Correct variable usage

commit 9ea358d3f8934564aa3340ffbaaceec2a3b9fe4e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 09:21:56 2018 +0800

    Revert "runner: Remove wd config from behat_profiles"
    
    This reverts commit e0c4f72be58daddb5d092bca884ebdc866adb574.

commit 116f8f3e6a80409de9398cc23ebb4a5300dd8e4f
Merge: 8269a04 e0c4f72
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Apr 18 08:39:58 2018 +0800

    Merge branch 'selbrok' into 'master'
    
    runner: Remove wd config from behat_profiles
    
    See merge request integration/nightlyscripts!9

commit e0c4f72be58daddb5d092bca884ebdc866adb574
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 08:34:48 2018 +0800

    runner: Remove wd config from behat_profiles

commit 8269a046fcb2855229fc4775c2aea15b0bfe4946
Merge: 960a332 235b954
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Apr 18 07:09:03 2018 +0800

    Merge branch 'oracle_async' into 'master'
    
    runner: Disable async IO on Oracle
    
    See merge request integration/nightlyscripts!8

commit 235b9546035d4f994b858a59209b4a9e049f5eb8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 07:07:23 2018 +0800

    runner: Disable async IO on Oracle

commit 960a332b17a56b5d28753947f7ff93bcbb985f44
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Apr 17 11:25:00 2018 +0800

    runner: Add support for running a single testsuite

commit 7ed139975968fbf64273d230cfbfaec1d41e2b22
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Mar 20 15:58:34 2018 +0100

    Fix for !7, make MOODLE_VERSION global

commit b9943cf42d2237c53cfa8f072374f92c63012a27
Merge: 2f884bd 7839b8a
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Tue Mar 20 20:46:36 2018 +0800

    Merge branch 'no_fail_on_risky_for_31' into 'master'
    
    --fail-on-risk is not available before phpunit 5
    
    See merge request integration/nightlyscripts!7

commit 7839b8a9c9ff06fadddf30c881380bb5a623bc87
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Mar 20 11:43:08 2018 +0100

    --fail-on-risk is not available before phpunit 5
    
    Hence, don't use it for <= 31.

commit 2f884bdcb0baca67e82ad92c93aa7d8b39912eac
Merge: e983eeb 2c08619
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Mar 20 08:43:17 2018 +0800

    Merge branch 'failonrisky' into 'master'
    
    [runner] Fail on risky tests for phpunit
    
    See merge request integration/nightlyscripts!6

commit 2c08619df1d206805f406af51f2bd13f2f82c89f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Mar 20 08:36:12 2018 +0800

    [runner] Fail on risky tests for phpunit

commit e983eeb08d9e7c217f023ed6f63ea43161a19630
Merge: 934f0de 32fb897
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Tue Mar 20 08:02:05 2018 +0800

    Merge branch 'makes_test_output_risky' into 'master'
    
    Be strict about tests output. Mark them as risky.
    
    See merge request integration/nightlyscripts!5

commit 32fb8972f26b1c7e8c492cf80c465a2d8f1bc0cf
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Mar 19 20:24:38 2018 +0100

    Be strict about tests output. Mark them as risky.

commit 934f0de142b53c39eb6ec67b14964ce731ea55bb
Merge: 10d69ae 1239517
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Mar 6 00:53:23 2018 +0800

    Merge branch 'pin_pg_967' into 'master'
    
    Pin postgres to 9.6.7 because 9.6.8 leads to DDL failures
    
    See merge request integration/nightlyscripts!4

commit 1239517482c1cafdf33cdf715afce4920ab9d219
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Mar 5 17:51:19 2018 +0100

    Pin postgres to 9.6.7 because 9.6.8 leads to DDL failures
    
    See https://github.com/moodlehq/moodle-docker/pull/77

commit 10d69ae85da03dab502430e8dbc01c1dff7b79ac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 16 09:22:53 2018 +0800

    [runner] Add copyright information

commit c07c5a379e6cbb1f77b43bef5267eadc50d2391e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 16 09:21:22 2018 +0800

    [general] Archive old nightly scripts
    
    The Old Nightly Infrastructure is dead.
    
    Long live the Old Nightly Infrastructure.

commit 6c097c30eda6441ef66034d8f97b4bc5568ac769
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 6 08:35:59 2018 +0800

    [runner] Correct exitcode for phpunit
    
    This was a fault after the introduction of loops which meant that the
    true exitcode was overwritten.

commit b1b19e4d9a97610dc643e44785cb504ff9866b83
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 6 08:31:18 2018 +0800

    [runner] Add README

commit dd730f31a1a083b2dd51716c01454012d40b1092
Merge: e14c18c eb71f3f
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Mon Feb 5 23:35:21 2018 +0800

    Merge branch 'rajagain' into 'master'
    
    [runner] Switch back to raj images
    
    See merge request integration/nightlyscripts!3

commit eb71f3f9e824bc4891fafd71743586276272f08e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Feb 5 17:31:28 2018 +0800

    [runner] Switch back to raj images
    
    Raj's image seems to have some magic which is not present in the
    Selenium official image, though they appear nearly identical.
    
    This change backs out the hub change and instead uses the
    behat_parallel_runs to setup WD config as appropriate for both Firefox
    and Chrome.

commit e14c18c8bfb8948b0a77b0439580ff882d3f8f9d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Feb 5 13:05:47 2018 +0100

    Get rid of incorrect version and browserVersion caps

commit 32aeae46f8bbee9c16e65473b50e34f33dede2bc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat Feb 3 17:16:16 2018 +0800

    [runner] Save web server logs to file

commit 57e69aae4d08b55ebb2b1f87dffc661753588f38
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 11 15:43:59 2018 +0800

    runner: Use selenium grid with selenium per run

commit 659416237cc13a1626bf7c1a12028ab537b16b3c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 23 13:47:18 2018 +0800

    runner: Do not quote junit path - it tries to write to quote

commit 758be2e0cbf999c04b09a1815e7aaf4982708ff7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 22 13:49:18 2018 +0800

    runner: Add debugging to behat init and run

commit e9c897a76454ae6fd1d28c6a38bea292da994ada
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 16 15:35:17 2018 +0800

    runner: Switch to raj image
    
    Looking to try and remove differences between old and new.

commit d335319a094e17e30534e2773904da70261b1597
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jan 12 15:13:10 2018 +0800

    runner: Assign shared mem to Oracle

commit e2bd778180ecb0ab90cc30284d64945bc7cd0109
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jan 12 10:16:51 2018 +0800

    runner: Adjust how shared memory is allocated to selenium
    
    This is after changes to the recommendations from Selenium in their
    Docker README.md.
    
    They are now suggesting allocating shm to all browsers, not just Chrome
    as they previously suggested.
    They're also suggesting that you can use --shm-size instead of mapping
    /dev/shm which seems like a cleaner approach.

commit d457b833b2913bcf6f2a87186d5ac86f683446c3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 11 13:50:40 2018 +0800

    runner: Switch to Chrome + Selenium 2.7.1

commit d762de8ab7d76702a4eecd4519d4bd589f05393b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 10 13:35:25 2018 +0800

    runner: Support iterations

commit ca84659acbaf2cb3cc6a670ba2e164bde923ad85
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 10 12:24:48 2018 +0800

    runner: Switch to chrome + selenium 3.0.1 as per matrix

commit 9e1fcbdde3ffe13f77bdf2fbf49620976706cb40
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 8 08:10:05 2018 +0800

    runner: Add PHPUnit LDAP tests

commit 2d0e661a1ff80ec61582f0cdae7a4b263e66eb84
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 4 15:05:35 2018 +0800

    runner: Do not expose the selenium port

commit dcc244ccf400c471ddfc6239b773ecf0c10539e5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 2 10:36:14 2018 +0800

    runner: Make cachedir easier to fudge

commit ebcbd526ec20467d3e91e6ad89ac00aac3c1f3ba
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 2 10:20:43 2018 +0800

    runner: Add support for tags

commit 3d59a431fc8f74110923aea81482357a471a6e7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 19 11:30:23 2017 +0800

    runner: Correct variable name

commit 3c5e0da017857ad87938f004175ba880e9050815
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 19 10:44:25 2017 +0800

    runner: Chown workspace files at end of job

commit ba0da291e4ef4b69b4eac6215c0e492810027745
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 18 08:59:23 2017 +0800

    runner: Create nightly network

commit 1f8a3fd4e4eb1c477dcead9f59e7992e72e7b111
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 12 17:15:21 2017 +0800

    cron: Add slave script

commit 0294f7f31a650883c1b9ac2f64e8d5ac55fc2265
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 12 17:04:50 2017 +0800

    start_slave: Add slave starter script

commit 8f38704794db6efa3c1439507b612f6b31965d74
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 15:20:29 2017 +0800

    runner: Correct image name for exttests

commit ffd54a51b2343502a4e5411a1227f5b685c7f4bd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 15:01:27 2017 +0800

    runner: Correct variable name

commit dcaf5ef44faef63417eb796d10d11b3d95ea4bbb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 14:17:35 2017 +0800

    runner: Use external tests
    
    This makes use of the external testing URL now that MDL-60948 has
    landed.

commit 41b7738b0f9a6680ab401c772401171f9dd943a9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:53:46 2017 +0800

    runner: Sleep longer before starting postgres tests

commit ed533cc1bc1ec83fb37fc9245c33520ae8cf9afb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:46:49 2017 +0800

    runner: Syntax fix

commit 15e581022cd5d383d21a018f727347c95b6e3371
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:05:04 2017 +0800

    runner: Handle ALL suites condition for behat

commit 71693c14d9e7f5259a5b7690e891f4fb8e6d0d9d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:02:28 2017 +0800

    runner: Do not normalise mssql to sqlsr
    
    We need to be able to test these individually on 31, and 32.

commit 15b5fa8f18a391cfca88dc73cdb3033a3a5ec05d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Dec 10 11:41:01 2017 +0800

    runner: Correct PHP_VERSION specification

commit 4343f4c23db1584cc19d7096bd47ab081e1a40be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 12:51:15 2017 +0800

    runner: Add back to job summary

commit a4bc164aa3ad2262298120dbbdbd9bcaa49252f9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:44:59 2017 +0800

    runner: Move DB summary to ensure correct info

commit f936648da2f9c35aee8fb1893efd3bbccc6d9ecb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:44:45 2017 +0800

    runner: Use variables for DB creds

commit 7ca3b1ed438053da2c4ca2b3a3c93b3cc9d17957
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:43:54 2017 +0800

    runner: Correct Oracle init

commit 98ce1bc9347275f8626e44a0d5c66b899e179beb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 09:31:43 2017 +0800

    runner: More delimiter fixes

commit d2c7c9e6fe18df9c58b78b4d2c26fbf7eeb3f8a2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 09:21:09 2017 +0800

    runner: Improve section delimiters

commit 489254179dacc5f24e3a6c436f2baa1b4abfe805
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 08:59:13 2017 +0800

    runner: Correct behat init for alternate suite

commit 6ec6ba172a213b10bc1ca10390d0abea1631e0d3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 12:29:50 2017 +0800

    runner: Add markers or console collapse

commit eefb24f88dbedd818c9061d7c71316c1461b7729
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:52:39 2017 +0800

    runner: No need to drop if DB per run

commit 914135a8420407fddc12a5646f712a6d6712021c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:49:33 2017 +0800

    runner: Config belongs to version

commit ba4f4b32de8c1750031239cc2f7ca3c6c0ce10f3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:46:46 2017 +0800

    runner: Add more debugging info

commit d5bddc6c59fde7ddbddd748cc994b9f48f20af3f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 10:55:52 2017 +0800

    runner: Switch to versioned runners

commit e07804a002e5ccab15655672b60ed430a1abb123
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 10:11:27 2017 +0800

    run: Init database per run

commit bd4185f8d77ee19fb9140ad7afb220d642f23731
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:18:58 2017 +0800

    General: Tidy up all old files

commit 18b304a8103cce6071023a1fed4e91701016d07c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:15:32 2017 +0800

    run: Make 31-/32+ config changes clearer

commit bbd9f4720de9dc5904230a163496e544e562f4ab
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:14:51 2017 +0800

    run: Add clearer exitcode info

commit c5c601923acd98eb6a83b875f8d191592db2c4be
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Nov 27 00:04:58 2017 +0100

    config: 35 lang packs available, disable $CFG->skiplangupgrade

commit a1aa6d14ea45c091b357d7b4bfd9060bf87a9c68
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 14:01:24 2017 +0800

    run: More tidyups

commit 277474ca21004edd5ed392646dd447b9ca62af64
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 13:56:13 2017 +0800

    run: Tidy up DB details

commit ac70cfde1eceb5f7225706b609461e393366ba1a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 13:43:09 2017 +0800

    run: Allow configuration of PHP version

commit affd3c837dcb2bcdb711f026f7ad4749920f1ccc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 07:59:11 2017 +0800

    run: Add new job runner

commit 7357e301394db5935acdb15b4d22d2101bd79aa2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 11:44:36 2017 +0800

    configs: Start of on-sync. Skip lang upgrade in cron.

commit e98400eab6abbefce75b9fc26dc8cfa0fb6baef7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 08:49:18 2017 +0800

    docker_run: Add configs from docker image

commit d3327c852165fbfe89cbac7d516db3fa2c330530
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Nov 14 09:28:53 2017 +0800

    exttests: Add HTTP ext tests repo

commit e347a8389df0cdd48924d8ddd89e8593c87bbe9e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:59:41 2017 +0800

    docker_run: More interpolation fixes

commit dd5b6bdbc9da895a304212f979ae77b58c2b0a73
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:53:01 2017 +0800

    docker_run: More interpolation fixes

commit 9924855316b68a98a07835201bd99cf893b33148
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:42:03 2017 +0800

    docker_run: Typo fix

commit 028c4fa484b7f01ffef3f0e71284c5b1fffeaf91
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 12:38:23 2017 +0800

    docker_run: Quote MOODLE_PATH

commit 782b8a2f6ff8591729e9d46a0528dd6a79dfb76b
Merge: e6afa68 2041c1f
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Mon Nov 13 12:23:12 2017 +0800

    Merge branch 'dockerdb_34' into 'master'
    
    dockerdb: Add branches for 34 release
    
    See merge request integration/nightlyscripts!1

commit 2041c1fb344f979721087fc0d4d762b89427cdfd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 12:05:49 2017 +0800

    dockerdb: Add branches for 34 release

commit e6afa686e23c506b5d3448350668d14491ef6723
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 11:44:36 2017 +0800

    configs: Start of on-sync. Skip lang upgrade in cron.

commit bd26b5c923b10773a31e393feac6d97f183c2562
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 8 08:43:54 2017 +0800

    dockerdb: Switch to 2017-GA
    
    This change is now possible as we've switched to use of the overlay2
    docker storage driver.

commit 5bf9826b4f352bf69aff28dda1bd535f6dcf1a14
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:23:30 2017 +0800

    cron: Correct cron format

commit f71fed4d803e791ae3ed1b45a2c9609ceadc80c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:20:34 2017 +0800

    dockercleaner: status = exited

commit cf36cefc225bc6d9351a8ce93ffaeede6800b674
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:18:03 2017 +0800

    cron: Add daily job for dockercleaner

commit b368011028618e584312eac655ec14d27c2e4212
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:12:51 2017 +0800

    dockercleaner: Make this not suck

commit 934e3a853c1c4ec2ce28a50b77a6387642a2d5be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 11:42:52 2017 +0800

    docker_run: Quote MOODLE_PATH

commit b772068b5ce55a7d8ea1931c0fda53c9ce20303a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 10:11:35 2017 +0800

    dockerdb: Switch to use moodlehq image

commit ee752cb4065fbd161b25d844aeffeb2d6506796c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 10:11:26 2017 +0800

    dockerdb: Add DB for php71

commit b11856d97e7200cd1a133e4f685513a179ba6b34
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:35 2017 +0800

    dockerdb: Stop mapping ports.
    
    Welcome to a pure docker world. No more bare-metal builds to have
    headaches with.

commit ca1bfc0f27ecc8a88b7650daf4ab24cb0cb31d75
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:16 2017 +0800

    dockerdb: Add dbs for master

commit 4f9f95d93046607e93c6e996477946e2389d2f70
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:06 2017 +0800

    dockerdb: Remove outdated docs

commit dfed5a9d2cb2eddc80c8b4d3824870c87f2980b2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Aug 3 12:00:55 2017 +0800

    dockerdb: Do not wait for docker DB starts

commit a87eb0e4242eb2acacf7e94950f2a0e6f177dd99
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 13:56:17 2017 +0800

    dockerdb: Correct DB name

commit 443787c7e0adce39a39b156d9a99a7940a1d6014
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 10:51:56 2017 +0800

    docker_run: Switch to official Chrome Selenium image
    
    The previous image we used had a broken commit for :latest, and the
    previous version was not readily available.
    
    I've switched to the official, standalone image.

commit e101af4ae0a5d023c04b6558120d385945efc9c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:15:27 2017 +0800

    dockerdb: Add new DBs for generic job usage

commit 4de9fb6d5c49cf9cf9d9aa53dbdf3e89a6443e62
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:15:06 2017 +0800

    dockerdb: Pin to Postgres:9

commit 6e525795a7366fe88e7ea2b647dc4208aac5f35d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:11:51 2017 +0800

    dockerdb: Improve help for dockerdb

commit 7f82cbcc91fdb5acf981df3729897a1fccca0080
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:59:00 2017 +0800

    dockerdb: Fix mariadb to version 10.1
    
    We don't have compatability with 10.2 (MySQL 8) yet.

commit 07379159cfece3d4927e1a4d31e04cf38576bb00
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:46:50 2017 +0800

    cron: Fix cron scripts
    
    These weren't working before because of a mix of ownership issues, and
    other stuff.
    
    I've changed this to a model of job and script for easier future
    maintenance.

commit a8c2b674f50c189ff4dbcd8f3a0237bbd7bad117
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:16:35 2017 +0800

    docker_run: Make docker stop more resilient, and stop removing container
    
    In some instances, the docker images were stopped and removed before the
    trap was hit. This meant that the test was subsequently failed because
    the container no longer existed.
    
    I've made it more resilient by looping over a list, rather than the
    common shorthand. I've also stopped removing the container because the
    removal means that we lose the logs too.

commit eedbd25f2d5b72d829d628190cf6697dadd22b81
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:14:52 2017 +0800

    dockerdb: Stick to sqlsrv:ctp2-1
    
    sqlsrv:rc1 is buggy and broken on some nodes.

commit 02c8e9ca341c4951d9adf439e2cf7473cc1ab8ae
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:41:33 2017 +0800

    maintenance: Correct file permissions

commit b77ec90f15f2bb6f4d6eda81b82eb7b57610a1fa
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:38:56 2017 +0800

    maintenance: Add config backup script

commit 2a85bdd3fe89bd51dbdb96ab98f7231ea5ae8119
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:29:15 2017 +0800

    docker_run: Add DB Prefix info to job summary

commit 72624fb9daf198d48d6ed70511234b8b30a76ce4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 10:32:39 2017 +0800

    docker_run: Clean up images correctly after run

commit bd0ccda93bb07cee55597838de58125d05dcd135
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 08:45:09 2017 +0800

    dockerdb: Add DB for T.01

commit 6abfeecbbf93d5cfd92bb23f0bc6865f7a6ab00f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 08:43:36 2017 +0800

    docker_run: Remove old MOODLE_BRANCH param

commit 704e0ee73f9121f1417228b8ce3d6c835d73019f
Merge: 9f40477 095784d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jul 24 13:16:04 2017 +0800

    Merge remote-tracking branch 'origin/named_jobs'

commit 095784dd8d5b2203268331411fc042fb98342e5d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat Jul 22 15:45:11 2017 +0800

    docker_run: Silence empty directory removal

commit eefe579c3b889c136cc15fff0eab25b33be9be86
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:38:19 2017 +0800

    docker_run: Run as $UID instead of jenkins

commit a8f964328b50cfa66d7d83d792976ed0c71056f4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:36:47 2017 +0800

    docker_run: Bindmount the composer cache
    
    Note: The images we currently use run as 'rajesh' because of UID
    matches.
    We need to solve this better.

commit ec440419e11dbaffee7c6965204ac52b3cdf7f93
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:36:17 2017 +0800

    docker_run: Stop running composer outside of docker

commit 9f40477e8fac197daf534b9e069ef9371ed2f0c7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:17:34 2017 +0800

    docker_run: Remove commented out code of yesteryear

commit c2793912e22de14e34c9b4c945389343fc19f7db
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:20:51 2017 +0800

    docker_run: Switch from linked image to named on-network image for selenium

commit 2ebbbf935327deaae0ed11e39deea90d1a50465e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:54 2017 +0800

    docker_run: Switch to uuid naming

commit f4c977987cb705453c661102ecc1db4271ac5b3b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:38 2017 +0800

    docker_run: Ensure docker is on a network

commit 24193e89122a6772bf54a2a649c6c86c64efc425
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:29 2017 +0800

    docker_run: Remove more commented

commit 426ace636b8d1d8d8c5be2705a9e7735c216e494
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:02 2017 +0800

    docker_run: Ensure docker is on a network

commit 8b562166645f72ae7898c61a43b7f3bf323e1bc3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:18:31 2017 +0800

    docker_run: Switch to uuid naming

commit dca896e92f9b622dfad9cd4ba1b9bf50124c9209
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jul 13 20:52:41 2017 +0800

    MDLSITE-5153 no exceptions for any php version / database
    
    Moodle 3.4 and up requires php70. mssql is not availale for php70
    (only sqlsrv is) and oracle is too. So commenting any exceptional handling.

commit fc03eba427bd1f743b6368355fdd6419e94e09d2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 5 11:31:30 2017 +0800

    docker_run: Add info about the current run

commit e4b0f7479fcb1fbb408b7a3b566728bb5c910937
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 5 10:55:58 2017 +0800

    dockerdb: We need 31 databases again

commit 65d95d9f13934880103988a825c645b30f4c2dc3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 16 13:39:07 2017 +0800

    dockerdb: Put Oracle data on tmpfs

commit e4f4348e435d0e28abd404fc747774dd83128155
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jun 15 09:51:50 2017 +0800

    cron: Add cron scripts (Fixes MDLSITE-5150)

commit 4d0c445d765efe3bdc622cfe58f82dd014abf77e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 11:53:25 2017 +0800

    dockerdb: Add more MySQL/MariaDB tuning

commit e5ed9d0649a1f365d64e95e1581deca2d5128c7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 10:44:02 2017 +0800

    dockerdb: Add some tuning

commit 8c81986d547e4d0c9332b093a2b51d6eaa0d65b5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:37:16 2017 +0800

    dockerdb: Add improvements found in MariaDB

commit a489d422740bb0eda073cb5a066aa6f7bd2b4687
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:36:57 2017 +0800

    dockerdb: Switch to fixed version of the official mysql image

commit 4b1e69023176821b43d684c803883612515e4cd1
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:36:31 2017 +0800

    dockerdb: Expand mariadb detach option

commit 96adaf626df1e2452acb4c68122fb1a583132001
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:29:00 2017 +0800

    dockerdb: Move MySQL/MariaDB Password to environment
    
    Recent versions of MySQL emit a warning when the password is specified
    as a CLI argument.

commit bdf127cff2de7cd03667ef85ee2c8a6e6bef65b5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:24:08 2017 +0800

    dockerdb: Correct spacing of DB name for new DBs

commit 5bc5491c1c576c8357c37ab6188806cb47bcacf9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jun 1 06:23:35 2017 +0800

    Revert "docker_run: Build in a network"
    
    This reverts commit 9efbb8bdbf02b2b1f3addea489d1bb8a2d0df7a4.

commit 4ff6531e10df7cdd8adb427e22a3f7cbe292cd9e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:48:30 2017 +0800

    dockerdb: Add DB for php7 runs

commit 0ee70b8f75b45c93e755980e4a8430592229b775
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:38:35 2017 +0800

    setup_run_phpunit: Stop changing the MSSQL DBName if we don't need to
    
    The old VM only had one database, whereas the new docker image has one
    database for each run.
    
    We need to preserve the running for the old database in case we need to
    resurrect any old jobs.

commit de6c7b70c173114517b77f39b1f45c5f1c89e036
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:28:40 2017 +0800

    configs: Add parallel boost template found on nightly02

commit f431c5240e3a20284d54a06305d02fe2bccc6f54
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:23:27 2017 +0800

    configs: On-sync has ended. Stop skip langpack upgrades

commit 9e73afd89594cedcd5fd7f139fdfc938cbefd975
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:01:41 2017 +0800

    setup_: Echo out information on which database is being run today

commit 984216dc9744386ad7c3300567259cb2a5ce5437
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:49:57 2017 +0800

    dockerdb: Remove tmpfs from mssql

commit 106f1900994acfc909e00bf8e3bd6c90d953f0be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:42:00 2017 +0800

    setup_run: Add DbPort option

commit b2d1f42768ec382cb4a4c74ce87b45ca19ff9f0d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:40:17 2017 +0800

    configs: Add DbPort to match setup_run_phpunit

commit 0cb102cbfebe11f05fbad6f47997064905e12e67
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:35:34 2017 +0800

    configs: Bring config.php templates into git

commit 9efbb8bdbf02b2b1f3addea489d1bb8a2d0df7a4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:33:16 2017 +0800

    docker_run: Build in a network

commit 4d8e4e1faa7b6c3f3d1752c54aabd265975db986
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:29:49 2017 +0800

    dockerdb: Silence network creation

commit 4f7f121634150a2cecc9b7758c268fa2e4b81612
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:29:31 2017 +0800

    docker_run: Expand out docker run

commit 7d234526c5f9aa14a46a7a5f02868d1eae9803dd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:12:02 2017 +0800

    setup_run_phpunit: Add DbPort option

commit 73f48e29719c07b674095f0fd14a2834f831cc26
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:11:40 2017 +0800

    dockerdb: Add mariadb configuration

commit 2e7da39c72f1593e31bff286814abde3d71aa04d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:11:12 2017 +0800

    dockerdb: Add pgsql tuning

commit daf2b768391559c3ca9624ca9affac4acdbde6d9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:10:52 2017 +0800

    dockerdb: Move database partitions to tmpfs

commit 60f82163aeb3024864a24278cad9fb1ca565a2cd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:09:36 2017 +0800

    Move docker DB servers to their own network for better DNS resolution
    
    This makes use of docker's internal DNS resolution, which is only
    available to hosts running on a custom network.

commit 467b83601e8194df07a2277170fb72bcace7ed0e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:09:09 2017 +0800

    Expand docker run for db setup

commit cf5494b2faa2be57cf2cfe57d8645eb1e7bc457e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:06:55 2017 +0800

    Add support for DB Port to docker_run

commit dbfa320c859cbf9997b7dab94560d18496b63990
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:56:22 2017 +0800

    Move mariadb to tmpfs

commit 06defa01587affac144628d9704f9ed7b9902dec
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:51:18 2017 +0800

    Add .gitignore

commit 5754c93fe748b6423d3e1e9fdbc7b2d629d6aa48
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:50:36 2017 +0800

    Add Jenkins maintenance scripts

commit bb24bbefb3e83e40bb68dc3ad265159a854d45ca
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:50 2017 +0800

    Remove archive

commit f0d65eaaa0b56f71190703bf4cdc2f52ef76abaf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:43 2017 +0800

    Add archive

commit d059d034161e4f159e58c10814acfed8d74a4bf0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:10 2017 +0800

    Note about adding/removing databases

commit e000d5b1d44e6b787e547786d5b2bb91b23cbbdc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:37:25 2017 +0800

    Add a quick readme

commit 452fbb9bb177232fb6d63e294ac41903c612c3d0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:23:14 2017 +0800

    Switch to Dan's Oracle image

commit 2da98ad152dbb3ba371968f1d8b428daafd18dfe
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:23:02 2017 +0800

    Remove 21 databases

commit 261d4af18497ff63db71ead7a16aa6ddf622198f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:22:41 2017 +0800

    Tidy up faildump dir creation

commit f0b2fa4afa2515d739eca10b84653e0208da38b7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 15:44:42 2017 +0800

    Expose the sqlsrv port

commit 51891bb10cf4e61cebd6a0e6a20d88bbf563cd7b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 15:44:29 2017 +0800

    Correct DB init for sqlsrv

commit aea44409111987fd236d4f7e8abb5cfc6463af4a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 14:05:15 2017 +0800

    Correct docs for sqlsrv docker

commit 05b4937c3702d2069d2db48a6474a331a118dad1
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 14:04:19 2017 +0800

    Add M33

commit 04d79d0f0ca77f625731396a4dedc1d02d451c9b
Author: ${username} User <jenkins@nightly.test.in.moodle.com>
Date:   Wed Apr 12 09:16:37 2017 +0800

    Nightly scripts checkin
======================: FILES :======================
======================: BRANCHES :======================
======================: LOGINFO :======================
commit 2f5e8e5332c2e80cc4168bc1b176549ad8d099df
Merge: 88dd7f7 b429255
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Dec 15 10:24:16 2022 +0100

    Merge pull request #91 from stronk7/point_to_latest
    
    For sqlsrv, switch from 2017-latest to latest

commit b429255a73f0d36610f8f1e4999154dbfb411034
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Dec 11 11:31:13 2022 +0100

    For sqlsrv, switch from 2017-latest to latest
    
    Note that, right now, "latest" is exactly 2017-latest, so
    everything will continue working exactly the same.
    
    But once we finish with the tests @ MDLSITE-6045, we'll make
    2019-latest to become "latest".
    
    That's the reason the comment in the runner says
    "right now 2019-latest", because in hours, if everything
    goes ok, 2019 will become the latest.

commit 88dd7f7c32dd1e3254317d64073cdfc47c899146
Merge: dacb4b9 8c6c8fe
Author: Jun Pataleta <jun@moodle.com>
Date:   Sat Nov 26 19:25:57 2022 +0800

    Merge pull request #88 from junpataleta/41_disablelangupgrades
    
    Disable lang upgrades during 4.1 on-sync
    
    Merging as part of task #4 in packaging release tasks

commit dacb4b96c4d51d5cb1a24f05f9f488129d8fc712
Merge: 6b8f0e8 32ecdaa
Author: Jun Pataleta <jun@moodle.com>
Date:   Sat Nov 26 19:25:03 2022 +0800

    Merge pull request #90 from junpataleta/MR2_41_version
    
    Add Moodle 4.1 version
    
    Merging as part of task #4 in the release packaging tasks

commit 32ecdaa16beeec566d2821157021bbef6a42f890
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Nov 22 23:38:46 2022 +0800

    Add Moodle 4.1 version

commit 8c6c8fe66878f63b5b42e57d58f7b7fe6f056f78
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Nov 22 22:36:40 2022 +0800

    Disable lang upgrades during 4.1 on-sync

commit 6b8f0e857c07c8c1452df201c73769e9e6ca8d3f
Merge: 23d1022 79c14c9
Author: Jun Pataleta <jun@moodle.com>
Date:   Wed Aug 31 14:37:01 2022 +0800

    Merge pull request #85 from stronk7/postgres_replicas_10_and_up
    
    WIP: Make pgsql replicas to work with PostgreSQL 10 and up

commit 79c14c99b2af36686446ddf2b69cfae148902ef7
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 31 00:25:11 2022 +0200

    Make pgsql replicas to work with PostgreSQL 10 and up
    
    This seems to be working for PG 10, 11, 12, 13 and 14. I've finally
    left 9.6 out from the equation because it required to add some more
    shell scripts to be executed conditionally. And I think we can
    ignore that old versions @ CIs already (Moodle 3.9 works with PG 12
    perfectly).
    
    Note the changes here seem more complex, but basically it's because
    I've moved the stuff to be similar to the mysql/mariadb one, aka:
    
    - Create master / slave / standalone directories.
    - Move as much as possible to .sql entry points.
    - Keep shell scripts simple, only doing things really requiring a shell.
    
    Other than that, just renamed some setting or remove some stuff
    that was not needed (archiving, logging...) apparently.
    
    Fixes #79.

commit 23d10229496d8db16f1db3d12a384b8e1afb21d8
Merge: ef96180 6b81082
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Aug 29 16:58:35 2022 +0200

    Merge pull request #83 from stronk7/mariadb_replicas_102_104
    
    Make mariadb replicas to work with 10.2 to 10.7

commit ef96180f7f4c9112cd5559df3446f857671c33f3
Merge: 3891a8f 94a6c51
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Aug 29 10:02:27 2022 +0200

    Merge pull request #82 from stronk7/mysql_replicas_57_80
    
    Make mysql replicas to work with MySQL 5.7 and 8.0

commit 6b81082aa7fd59312deb56a891a78b055bd3930e
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 24 21:11:28 2022 +0200

    Make mariadb replicas to work with 10.2 to 10.7
    
    The code used here is 99% the same than the mysql one. But finally
    I've decided to copy it all over own mariadb.d directory.
    
    The only difference is when creating the replication database user
    because the MySQL sentence:
    
    CREATE USER 'replication'@'%' IDENTIFIED WITH mysql_native_password BY 'replication';
    
    Doesn't work with MariaDB. In fact, since MariaDB 10.2 the
    mysql_native_password is the default authentication plugin
    so it doesn't need to be specified. So this works the same:
    
    CREATE USER 'replication'@'%' IDENTIFIED BY 'replication';
    
    A working alternative is also:
    
    CREATE USER 'replication'@'%' IDENTIFIED WITH mysql_native_password USING PASSWORD('replication');
    
    But I've gone with the simple one because it's future better.
    
    As said, everything else is 100% the same, but better split that making
    complicated conditionals to get both working with the same config files.

commit 94a6c51bd7edeea66c11f9565a8839ed4e314152
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 24 15:54:12 2022 +0200

    Make mysql replicas to work with MySQL 5.7 and 5.8
    
    This fixes #80. It has been detected that MySQL main/replica
    configurations have stopped working. My personal bet is that
    some changes in the MySQL images have leaded to that, or maybe
    they were working for MySQL 5.6 and never have worked to 5.7.
    
    NVM, this commit just makes them back to work for both 5.7 and 8.0,
    that are the currently "supported" MySQL databases.
    
    Note that, after this PR, we'll be checking the MariaDB main/replica
    configurations because they may need similar changes.
    
    Also, while I've tested the solution locally, we are lacking any own
    CI for this product, so I've created an issue about that:
    
    https://github.com/moodlehq/moodle-ci-runner/issues/81
    
    Finally, here there are the explanations about the changes performed:
    
    1. Moved the bin logs from /var/log/mysql to /var/lib/mysql . Reason
       being that the former directory doesn't exist anymore in MySQL 5.7
       and up (and also, that the binary logs are better with data than
       with logs).
    2. Removed the 'multi_admin' user related stuff. Not needed at all.
    3. Minor changes to moodle and root GRANT/IDENTIFIED stuff because
       of changes in MySQL 8 (already deprecated in 5.7). Use ALTER USER
       instead.
    4. Use IDENTIFIED WITH mysql_native_password (the old password schema),
       because MySQL 8, when using the new hashed schema requires
       communications between the hosts to be encrypted. We don't need that
       extra complexity and while it can be disabled as part of the CHANGE MASTER TO
       command... it cannot be disabled for MySQL 5.7. SO the only option
       working in both versions is the used one (force old passwords schema
       for the replication user).
    5. Remove the need of stopping and starting the temp server in the
       replica. All the commands can be executed with the temp server
       running and then the container entrypoint manageing itself will stop
       the temp server and start the final one.
    6. Stop needing gosu completely. Now the replica conf files are made
       available via volume mount (like the standalone or main cases).
    
    And that's all. The changes are small and subtle, but each one is
    for a good reason, I think.

commit 3891a8f4ab36cfc5d4a7f466b0b2c78582eb9a92
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 23 12:06:40 2022 +0200

    Ensure that any Oracle > 11g doesn't use tmpfs anymore
    
    Apart from not giving a real benefit, the new machinery
    in Oracle 12 and up doesn't work well with these devices
    leading to all sort of problems is we also want to change
    system settings.
    
    Hence, disabling tmpfs. There are some more details in the
    long conversation @ https://github.com/gvenzl/oci-oracle-xe/issues/111
    (about that and many other details / iterations)

commit 08389ab2c008f1eedf9e310efc65945114bafd12
Merge: 88b8117 b6d1eaf
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Jun 6 09:13:33 2022 +0200

    Merge pull request #78 from moodlehq/testing
    
    Add support for specifying the DB tags (versions) to use

commit b6d1eafe0bac5fdae384edb516890bc13c5c070f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Jun 5 17:54:07 2022 +0200

    Add support for specifying the DB tags (versions) to use
    
    Added a new parameter, DBTAG, which behaviour is as follows:
    
    - If not specified, every database will use the currently
      pinned version (if there is any) or "latest" if not. Right now,
      the versions are:
        - mariadb: 10.7
        - mysqli: 5.7
        - oracle: latest (11)
        - pgsql: 12
        - sqlsrv: 2017-latest
    - If specified, then that tag will be used, say, for example:
        - mariadb: 10.6, 10.5,...
        - mysqli: 8.0,...
        - oracle: 19, 21,...
        - sqlsrv: 2019-latest,....
    
    So, this change doesn't make any difference in current default
    jobs (only pgsql has been raised to 12 to be ready for 4.1). Everything
    will continue running exactly as it's now.
    
    Only when we add support for that new DBTAG parameter in jobs (and in
    nightlyjobs) is when we'll be able to run alternative versions.

commit 88b8117b7ba8ca7b4e3d06282d160e5a4b23cf3c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue May 24 17:19:22 2022 +0200

    Pin MariaDB to 10.7, new 10.8 and 10.9  have problems (take II)
    
    Again (we unpinned it 3 months ago!), pin MariaDB
    to continue using 10.7, because 10.8 and 10.9 (just released) have some
    startup / init problems.

commit b93a84091e401db4f4186ddf97d76353f219803d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue May 24 16:58:08 2022 +0200

    Pin MariaDB to 10.8, new 10.9 has start problems
    
    Again (we unpinned it 3 months ago!), pin MariaDB
    to continue using 10.8, because 10.9 (just released) has some
    startup / init problems.

commit f977d82b966d0b1ac76b7fdb2f3f08e9c29335d6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 16 16:24:54 2022 +0200

    Remove the local/moodlemobileapp existence condition
    
    Previously the app was only started if the moodlemobileapp
    plugin was installed. But it may be perfectly ok to have
    alternative plugins to that one.

commit fb50f9ce19f3003286963a11431ea48303be62b7
Merge: fdce1d4 e2e1517
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Apr 28 13:56:27 2022 +0200

    Merge pull request #75 from junpataleta/40_enablelangupgrades
    
    Re-enable lang upgrades after the 4.0 on-sync period

commit e2e15170be3b1551a6e87881530be794d73f53da
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 12 11:57:36 2022 +0800

    Re-enable lang upgrades after on-sync

commit fdce1d4d7c20324b04e0d147269633e3237b2477
Merge: 7c7bee2 3a00bd7
Author: Víctor Déniz <victor@moodle.com>
Date:   Mon Apr 18 20:51:31 2022 +0100

    Merge pull request #76 from stronk7/enable_langimport_tests_when_not_skipping
    
    Enable lang install/upgrade tests only if lang upgrades are enabled

commit 3a00bd79fa53e1c0840e4c456570bb11f92f433c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Apr 18 12:37:20 2022 +0200

    Enable lang install/upgrade tests only if lang upgrades are enabled
    
    Over a few days/weeks after a major release, the lang upgrades
    are disabled in testing infrastructure, because the new development
    branch (4.1) in this case, doesn't exist yet.
    
    When we proceed to disable the lang upgrades (part of the release
    process) we need to ensure that all the tests using the languages
    install/upgrade are skipped.
    
    To do so, we don't define the TOOL_LANGIMPORT_REMOTE_TESTS constant
    so all the related tests always will look for it to decide between
    being executed or skipped.
    
    In PHPUnit that's checked with code like:
    
        if (!defined('TOOL_LANGIMPORT_REMOTE_TESTS')) => skip
    
    In Behat that's checked with the step:
    
        Given remote langimport tests are enabled
    
    For more details, see https://tracker.moodle.org/browse/MDL-74512

commit 7c7bee2f295b2f83e7e5ba38aa06ae99386fc2b8
Merge: 1499e43 25d9e32
Author: Jun Pataleta <jun@moodle.com>
Date:   Sun Apr 17 15:53:01 2022 +0800

    Merge pull request #74 from junpataleta/40_disablelangupgrades
    
    Disable lang upgrades during on-sync

commit 25d9e32c3e10c32a7dacb0c1b2340725942b95d3
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 12 11:56:58 2022 +0800

    Disable lang upgrades during on-sync

commit 1499e4388787a77a52cafc9108246458fc84fc91
Merge: 73c20f2 ecebf60
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 5 15:57:11 2022 +0800

    Merge pull request #73 from stronk7/add_ml_python
    
    Add support to run the python mlbackend analytics tests

commit ecebf60f063439c6ea7bbff375c6bf01b0a8038b
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Apr 5 09:39:06 2022 +0200

    Add support to run the python mlbackend analytics tests
    
    Disabled by default, just define `MLBACKEND_PYTHON_VERSION`
    with a correct tag of the docker image and that will make
    the container to run and the PHPUnit jobs to use it. Example:
    
    export MLBACKEND_PYTHON_VERSION=3.0.4-python3.7.5
    
    This it the first step towards adding these tests to CI.

commit 73c20f2fa47b13b55ee443f97f144a40f45989db
Merge: 4498b70 add5d74
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Feb 26 10:05:52 2022 +0100

    Merge pull request #72 from stronk7/unpin_mariadb
    
    Unpin MariaDB

commit add5d74a25780ce672084f5200bfd7bf6459978a
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Feb 26 09:45:57 2022 +0100

    Unpin MariaDB
    
    Now that 10.6.7 and 10.7.3 have been releases and their
    docker images are available, we can unpin it @ GHA.
    
    Fixes #55

commit 4498b708adf0e9fdb3d93a71c8b5495c45f388ec
Merge: 516b323 8db6d8b
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Feb 8 23:04:21 2022 +0100

    Merge pull request #70 from moodlehq/branch_40
    
    Add Moodle 4.0 version

commit 8db6d8b86392184cd3a7c271b3270bde54a69329
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 8 20:38:27 2022 +0800

    Add Moodle 4.0 version

commit 516b323cd729c295f65a017ab9cf6c0217b6de75
Merge: 6399b2f 3f79c0b
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jan 19 16:28:10 2022 +0100

    Merge pull request #69 from stronk7/bring_back_unconditional_xvfb
    
    Revert "Don't start xvfb in headless runs"

commit 3f79c0beec53c2f7e43ccbe5b9a44fcdd34cefcc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jan 19 16:20:12 2022 +0100

    Revert "Don't start xvfb in headless runs"
    
    This reverts commit 520e91ee67cb27c5f9c6973c1c9997167b1942b2.
    
    Immediately after applying #67 we have started to get all
    headless jobs failing with all sort of timeouts and > 8h
    of execution time. Headless runs.
    
    And this is the only change that has been performed since
    then, hence, reverting here and now.

commit 6399b2f204e08a2ad77a8434c834ec3ef115989e
Merge: d1dbed9 d11b5b6
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Wed Jan 19 11:24:47 2022 +0100

    Merge pull request #68 from moodlehq/alwaysFailOnRisky
    
    [runner] Always apply fail-on-risky

commit d11b5b6c4ef19936a2a5614fc16a0d1880b89fda
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Sep 26 13:16:40 2021 +0800

    [runner] Always apply fail-on-risky

commit d1dbed938e2ba091885284219dbd97452287b327
Merge: 191b387 520e91e
Author: Andrew Lyons <andrew@nicols.co.uk>
Date:   Wed Jan 19 08:24:45 2022 +0800

    Merge pull request #67 from moodlehq/xvfb
    
    Don't start xvfb in headless runs

commit 520e91ee67cb27c5f9c6973c1c9997167b1942b2
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 23 14:02:11 2021 +0200

    Don't start xvfb in headless runs
    
    It's not used and for sure will save some resources.

commit 191b387387c71179569812103595bd5fec2d62e5
Merge: adf2361 807f300
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Dec 9 16:35:42 2021 +0100

    Merge pull request #66 from moodlehq/chromedriver_bump
    
    [runner] Update to Chromedriver 96.0 custom

commit 807f300b9e362266aa2b3141ddf67c230aa9ad2f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 1 11:56:01 2021 +0800

    [behat] Force set marionette capability to true
    
    This works around https://github.com/Behat/MinkExtension/issues/376.

commit 1c8c62a863c557b43bae0537619a8108435fd10b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Nov 30 10:38:55 2021 +0800

    [runner] Update to Chromedriver 96.0 custom

commit adf2361b62d1b7575e4280c712576afb9b1a3db9
Merge: f88d0d1 2f8500e
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Nov 18 11:40:11 2021 +0100

    Merge pull request #65 from moodlehq/bbb-container-name
    
    Fix wrong BBB mock server container name

commit 2f8500e499062165875831f03d88bd6fdfa7d96e
Author: Víctor Déniz <victor@moodle.com>
Date:   Thu Nov 18 09:19:26 2021 +0000

    Fix wrong BBB mock server container name
    
    We were using the wrong container name in docker logs and getting errors during testing like "Error: No such container: http://bbbmock9145c76fb054c670"

commit f88d0d184259019a4c9d356e3196392e72c28010
Merge: a356bf8 4557921
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Nov 16 19:43:48 2021 +0100

    Merge pull request #64 from moodlehq/bbb-mock-server
    
    Add bigbluebutton mock server support

commit 4557921c4d11454fa2b9ecd15f976606c56f89c4
Author: Víctor Déniz <victor@moodle.com>
Date:   Tue Nov 16 16:26:22 2021 +0000

    Get BBB mock server image from moodlehq

commit c2f64e4e2f85d4bf4760ee2003695a81e829acc9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Sep 1 12:37:49 2021 +0800

    Add bigbluebutton mock server support

commit a356bf87df4796d291a1b98efce97d7d269622a9
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Oct 21 16:23:17 2021 +0200

    Add RUNCOUNT to de job summary information

commit 7a332221aaba02ab3f0476e7443f1c4a2659cedc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Oct 21 15:07:45 2021 +0200

    Add information about the installed plugins and their commits

commit baa4df45feb5de55fb7a14da1845b7a23bd2e5c8
Merge: 1efdc00 14292c7
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Oct 18 18:24:03 2021 +0200

    Merge pull request #62 from andrewnicols/customchromedriver
    
    [runner] Switch to custom chromedriver image

commit 1efdc007636385fe2f4455408f0ac5bd3698a8c3
Merge: f2f7295 e6d63a4
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Oct 15 09:44:00 2021 +0200

    Merge pull request #60 from andrewnicols/nogit
    
    [runner] Stop installing git

commit 14292c78bea2616b0dad6bfec5b0f5b493114446
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Oct 15 08:10:49 2021 +0800

    [runner] Switch to custom chromedriver image
    
    See https://tracker.moodle.org/browse/MDL-71108 for details on the
    reasons behind this change, and its history.

commit e6d63a4541cea00d5ad91130bdc759f4408a8bb2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Sep 26 11:32:26 2021 +0800

    [runner] Stop installing git
    
    It's installed already.

commit f2f72953bd6ce755ddeca2c47ec35bc9ea783342
Merge: 0bcac46 30e5b98
Author: ilyatregubov <ilya.a.tregubov@gmail.com>
Date:   Tue Sep 14 17:03:06 2021 +0200

    Merge pull request #59 from stronk7/unpin_chome_and_cross_fingers
    
    Unpin chrome version and cross fingers

commit 30e5b98ac88e1db6eab9c39aaeb0dc1ecb699747
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Sep 14 16:56:51 2021 +0200

    Unpin chrome version and cross fingers
    
    We are going brave here and go back to unpinned chrome version, because staying with
    the old Chrome 79 version (3.141.59-zinc) is making things really harder and harder.
    We are aware that, for headed runs, there are some zero-size errors still not fixed,
    but headless ones should run ok. For reference, the problems we are aware are being
    tracked (as of 14 Sep 2021) @:
      - MDL-71108 : zero-size
      - MDL-72306 : feedback

commit 0bcac461b8245b41a57c2fbd182641d9a2428554
Merge: 242d3fc 56741b9
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sun Sep 12 18:20:47 2021 +0200

    Merge pull request #52 from stronk7/enable_classic_accessibility
    
    Revert "Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 242d3fcedb5afbbe614a52e79071b4aa39c2c444
Merge: b039c34 0dc556c
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Aug 27 11:04:44 2021 +0200

    Merge pull request #56 from andrewnicols/mobileAppPort
    
    Allow mobile app port to be customised

commit b039c3490bcba3b4c0d9e5aab5a2a5f929c60472
Merge: 87a90c3 cfc5036
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Aug 27 10:56:47 2021 +0200

    Merge pull request #57 from andrewnicols/removeTerminalFromReruns
    
    Remove terminal from rerun commands

commit 0dc556c8c98a6711d08303466e881cf1d01dd57f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 6 15:09:19 2021 +0800

    Allow mobile app port to be customised

commit cfc5036ae3d6360e6907dde08181d21c544b5cbc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Aug 10 21:53:23 2021 +0800

    Remove terminal from rerun commands

commit 87a90c3a470400b76147906669127820e613cffa
Merge: 90e2530 eed9af3
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jul 14 12:55:28 2021 +0200

    Merge pull request #54 from stronk7/mariadb_10.5_sticky
    
    Make mariadb:10.5 sticky

commit eed9af3e0b5e7887fcd02f854a2a49883bb38891
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jul 14 12:36:35 2021 +0200

    Make mariadb:10.5 sticky
    
    New mariadb:10.6 makes the COMPRESSED row format read-only by default
    because it's deprecated now and will be removed in mariadb:10.7
    
    This is being tracked @ https://tracker.moodle.org/browse/MDL-72131
    
    Once that issue is fixed and we switch to DYNAMIC or whichever the
    final solution is, we'll unpin this.

commit 90e253075284b043da520b882101837a3483b2a1
Merge: d4dafe3 4ed4506
Author: Sara Arjona <sara@moodle.com>
Date:   Tue Jun 22 11:07:36 2021 +0200

    Merge pull request #53 from stronk7/pg10_bump
    
    Pg10 bump

commit 4ed450679cf0b3aa2e2f7e8e71348db536801457
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 21 18:29:13 2021 +0200

    PG10 minor changes (replication related)
    
    Following the information @ https://www.postgresql.org/docs/10/release-10.html
    - rename functions, tools and options referencing "xlog" to "wal".
    - log_directory changed from "pg_log" to "log".
    
    Note that both:
    - wal-method=stream
    - log_directory=log
    
    are default options so, extrictly speaking we shouldn't need to set them
    but it doesn't hurt to have them explicily defined, so keeping them.

commit a4b02874efa1b7e11aba8e1e1d5d65038a1c9c88
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 21 18:08:46 2021 +0200

    Bump to PG10, Moodle 4.0 requirement

commit 56741b9fc2f14dbc09984d8b49dc22d79bd59d14
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Jun 13 23:03:42 2021 +0200

    Revert "Disable accessibility (axe) with classic till MDL-70846 is fixed"
    
    This reverts commit 6772ca686434a36ba1f318682d5083a4f0d2e7e6.
    
    Closes #49

commit d4dafe3b6b261c3fd1b28618161bc61a9523557f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed May 19 18:42:58 2021 +0200

    Move back to our public image, it's working ok since some months ago
    
    In the past we switched to private one because of some problems
    with Oracle & Docker removing access to all Oracle images. Since
    then our wnameless/docker-oracle-xe-11g base image is back so
    we created the -r2 public one based on it.
    
    More info @ MDLSITE-5669

commit e16b54b1b13c4cbd326a597e451166c54cdb6bcd
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Mar 14 15:41:21 2021 +0100

    Revert "Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton"
    
    This reverts commit 8b96786722b4bbada3e05e63fadbe1d5e8d598f6.
    
    We are going back (to Chrome 79) because 2 errors have been
    found with Chrome 89 needing to be fixed before jumping to it.
    
    More info:
    
    https://tracker.moodle.org/browse/MDL-71108

commit d0775338e44eb115274ee38bab3d798bb3b35106
Merge: 612e041 8b96786
Author: Jun Pataleta <jun@moodle.com>
Date:   Fri Mar 12 16:45:18 2021 +0800

    Merge pull request #51 from stronk7/chrome89
    
    Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton

commit 8b96786722b4bbada3e05e63fadbe1d5e8d598f6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Mar 11 17:04:03 2021 +0100

    Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton
    
    We were waiting since some time ago to Chrome 89 to be released
    and, because of that, we had selenium pinned to 3.141.59-zinc
    version (Chrome 79).
    
    The cause for staying sticky was this issue:
        https://bugs.chromium.org/p/chromedriver/issues/detail?id=3682&q=&can=1&sort=-id
    
    Chrome (and chromedriver) 89 have been released and Selenium has
    already build the docker images for them:
    
    https://github.com/SeleniumHQ/docker-selenium/releases/tag/3.141.59-20210311
    
    So now we can unpin the old version and let the machinery to use the
    latest versions available. That's what this PR does.

commit 612e04179e19aafb236b3deebe4f0cdd7f6c5d74
Merge: 67f0ecc 6772ca6
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 19 06:51:48 2021 +0800

    Merge pull request #48 from stronk7/disable_axe_classic
    
    Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 6772ca686434a36ba1f318682d5083a4f0d2e7e6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Feb 18 22:44:46 2021 +0100

    Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 67f0eccccdfc69242fabfb8923fc09bb0d683692
Merge: 3933a35 ddaf3b6
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Wed Feb 10 00:23:58 2021 +0100

    Merge pull request #47 from andrewnicols/axe
    
    Run axe tests on CI

commit ddaf3b680a45531f53baea086bffb4ea36447636
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Feb 7 08:08:31 2021 +0800

    Run axe tests on CI

commit 3933a35e297445bb0599e152cad12efa9ed9d70a
Merge: 101866d 6c65442
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Jan 16 17:45:38 2021 +0100

    Merge pull request #43 from andrewnicols/w3csupport
    
    Add W3C Support to the CI runner

commit 101866d853bdc2a64f3caac01e554bade91201d4
Merge: 50ba133 4f04878
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jan 13 14:48:53 2021 +0100

    Merge pull request #46 from andrewnicols/stopRunningIonic
    
    Stop running ionic when not testing mobile

commit 4f0487876f9528923747c58688a1fa54a49aa795
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 13 20:59:24 2021 +0800

    Stop running ionic when not testing mobile

commit 6c65442a5daf9945126b1e2dd120758c3585d63c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:05:55 2021 +0800

    runner: Add support for headless browsers
    
    A new environment variable, 'BROWSER_HEADLESS', is now respected. When
    present and not falsey, the relevant browser-specific flags are used to
    make browsers run headless.

commit 57227eb2ae778a687f3a615d27bfd0921243938f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:05:39 2021 +0800

    runner: Add browser verbosity control

commit 5ddde8fbe35a6b3cef1eb95828ce5b3997db4d9d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 13 10:07:05 2020 +0800

    runner: Support Mink with W3C driver and browsers
    
    This commit makes changes to support both the legacy instaclick Mink
    driver, and the newer W3C-compatible Mink driver using the php-webdriver
    project.
    
    To support this we now detect whether the instaclick driver is in use,
    and if so use Firefox 47.0.1, and disable marionette in the browser
    configuration.

commit dc64a2e807e966e71b2f1f654703e155fd9abbcb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 10:26:47 2021 +0800

    runner: Always show Job summary
    
    Remove the section tags which cause Jenkins to collapse the Job summary.
    
    The job summary is often useful when identifying jobs and it is
    unnecessarily collapsed in a section.

commit 50ba133b698ee73a0e76d7ef08506d6a6c52228a
Merge: eb46238 cdec51d
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jan 12 18:37:34 2021 +0100

    Merge pull request #45 from andrewnicols/alwaysShowSummary
    
    runner: Always show Job summary

commit eb462380d1819e70b5f59060942858294c34aa12
Merge: bb2765e bf5d2db
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jan 12 18:32:02 2021 +0100

    Merge pull request #44 from andrewnicols/initdbfix
    
    Correct file permissions for DB entrypoints

commit cdec51dc0d49ee1995b7717933e03e1b51362454
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 10:26:47 2021 +0800

    runner: Always show Job summary
    
    Remove the section tags which cause Jenkins to collapse the Job summary.
    
    The job summary is often useful when identifying jobs and it is
    unnecessarily collapsed in a section.

commit bf5d2db9b89bb31e56469ddbf92eb8af719becfb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:10:10 2021 +0800

    Correct file permissions for DB entrypoints
    
    These scripts were missing the executable bit which was causing issues
    on MacOS.

commit bb2765e405f2aae3a675bea2f8c4d2208fe932be
Merge: 1b61851 949de31
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Dec 26 13:02:45 2020 +0100

    Merge pull request #40 from stronk7/enable_lang_upgrade
    
    Enable lang upgrades again

commit 1b618511ce0b38cb99a7b3bdfeb78f576aa84738
Merge: fa35a42 ed19688
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Nov 13 18:50:55 2020 +0100

    Merge pull request #41 from stronk7/311_versions
    
    Add Moodle 3.11 version

commit ed19688323f33d5202d3204005baa5f3ebbe6a8d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Nov 13 17:04:37 2020 +0100

    Add Moodle 3.11 version

commit fa35a4211e2fcae86562c881e745c76539a4ae82
Merge: 459f133 3210a89
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 2 09:06:15 2020 +0800

    Merge pull request #39 from stronk7/logs_take2
    
    Better log file names + also log phpunit images

commit 949de31e7f22733033ad453ecb3ed64284db9cb9
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Nov 1 23:38:59 2020 +0100

    Enable lang upgrades again
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information
    
    Under parallel development, until the new dev branch (310_STABLE in this
    case) language packs are and available.

commit 3210a89b6e017f1faa1c09eb6d7678959d75aa7e
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Nov 1 16:45:48 2020 +0100

    Better log file names + also log phpunit images
    
    This does a couple of things:
    
    1) export all logs using better container names (names instead
       of ids, with some current names improved "run => webserver...)
    2) move the log exporting out from behat section, so it's also
       executed for phpunit runs and we get other logs that could be
       also useful at some point.
    
    This is a followup of https://github.com/moodlehq/moodle-ci-runner/pull/38

commit 459f133ee1e669b2da1848738037e7ef36b99222
Merge: e7d8e7b 1e3d130
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Oct 29 09:50:46 2020 +0100

    Merge pull request #38 from andrewnicols/logs
    
    runner: Store all of the docker container logs

commit 1e3d130c8a82fa4bdfb8e8c23faa6d02e37d47d4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Oct 29 15:52:11 2020 +0800

    runner: Store all of the docker container logs

commit e7d8e7b6f23e51197c25426f35140c9d0e96349a
Merge: ea04e94 21dfcbc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 17 19:32:11 2020 +0800

    Merge pull request #37 from stronk7/unpin_mariadb
    
    Unpin MariaDB and remove deprecated / removed settings from config

commit 21dfcbc2bbbe8c5e5c9385502b7452b51cbf8f98
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Sep 11 23:24:24 2020 +0200

    Unpin MariaDB and remove deprecated / removed settings from config
    
    this shouldn't affect MySQL because current (5.7 and up) defaults
    match the settings.

commit ea04e944683151460664535547542a0d38319343
Merge: 5af1206 bacbb8c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 10 17:56:40 2020 +0800

    Merge pull request #36 from stronk7/show_behat_increase_timeout
    
    Show the BEHAT_INCREASE_TIMEOUT config value on all runs

commit bacbb8c29354cc5487fd7d912d66dc2472c78e44
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Sep 10 11:06:24 2020 +0200

    Show the BEHAT_INCREASE_TIMEOUT config value on all runs

commit 5af1206badce74f734fb98f0ec8b6a6d2c1318ca
Merge: f679b06 8cd284f
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Aug 11 11:35:09 2020 +0200

    Merge pull request #35 from stronk7/disable_lang_upgrade
    
    Disable lang upgrades, to be enabled once the lang branch is available

commit f679b067f2a41892d8db739a102aa319ffc1d8f4
Merge: b9064c7 bedb181
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Aug 11 11:34:52 2020 +0200

    Merge pull request #34 from stronk7/310_versions
    
    Add Moodle 3.10 version

commit 8cd284faa1aa6002b08acf13b4776b9f2a74a90c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Aug 10 11:08:23 2020 +0200

    Disable lang upgrades, to be enabled once the lang branch is available

commit bedb181218d3dd53614fc64eacf2b501ac57826f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Aug 10 11:05:46 2020 +0200

    Add Moodle 3.10 version

commit b9064c7fb5f22c089a22dac45d8079ac0e8c8c4a
Merge: e42c7fd 1a1e718
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 30 06:59:43 2020 +0800

    Merge pull request #32 from stronk7/external_https_exttests
    
    Make unit tests also use exttests docker container for https tests

commit 1a1e718169b0225d752c5303cdaca9571890b314
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Jul 18 12:11:09 2020 +0200

    Make unit tests also use exttests docker container for https tests
    
    While we are already using the exttests docker image for HTTP
    requests (avoiding to use download.moodle.org), we are not using
    it for HTTPS tests.
    
    Looking to codebase, there is only ONE tests using HTTPS and it's
    the one that uses to fail when there are porblems with downloads.
    
    As far as that test doesn't perform any check or validation related
    to certificates, we can, simply, configure unit tests to also use
    the HTTP exttests URL to run the HTTPS test.
    
    If tomorrow we need some real HTTPS test, surely we'll need to
    incorporate some mutual recognised certificates, or a real one..
    
    But right now that's not needed.

commit e42c7fd7a7d15777a9843da9a986e0808ed6791e
Merge: f98d032 c1fa35f
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jun 23 22:58:10 2020 +0200

    Merge pull request #31 from stronk7/enable_lang_upgrade
    
    Enable lang upgrade

commit c1fa35f1b41ae28074a14d80eec75b6cf4a354ce
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:58:22 2020 +0200

    Enable lang upgrades again
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit f98d032dba13d122c8cdc5aaea31e2359182c4e0
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jun 10 15:52:38 2020 +0200

    Add back the recently removed sleep, we need it for now
    
    Once we get https://tracker.moodle.org/browse/MDLSITE-6178
    properly implemented we'll be able to revisit all the
    current harcoded pauses.

commit ac8f7607e45bf74977a111b5586884fab1c714e1
Merge: b622687 8ca70ac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 9 07:24:28 2020 +0800

    Merge pull request #30 from stronk7/disable_lang_upgrade
    
    Disable lang upgrades, to be enabled after on-sync

commit b622687b818b0866238c508fe80f5c15655da18c
Merge: 5e8da83 7a8a42f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 9 07:23:22 2020 +0800

    Merge pull request #29 from stronk7/39_versions
    
    Add Moodle 3.9 version

commit 8ca70ace3475237ca70d5b0bc85b5876c47ba3de
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:55:37 2020 +0200

    Disable lang upgrades, to be enabled after on-sync

commit 7a8a42fd286197d0c12065ffc20b88e35575f5de
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:53:02 2020 +0200

    Add Moodle 3.9 version

commit 5e8da83fde01cffbcf99542cbae5c9bcc886a130
Merge: 8e0fd99 41cceb6
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Jun 2 17:22:43 2020 +0800

    Merge pull request #27 from stronk7/moodlehq_sqlsrv_image
    
    Switch to modern sqlsrv own image

commit 41cceb6171884f25e6774b695ee27ec07ccf138f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 1 01:26:44 2020 +0200

    Switch to modern sqlsrv own image
    
    It comes with important memory reduction, specially important
    now that we are also running sqlsrv unit tests as part of ToBiC.
    
    Also remove not needed commands and pauses because the container
    startup handles both.

commit 8e0fd99de3995d51f90bf22fa463f9dea718183b
Merge: 5a28bb7 2aa7c00
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sun May 24 19:58:33 2020 +0200

    Merge pull request #24 from moodlehq/dbslave
    
    DB Slave support

commit 2aa7c0073ab43a2a94514177695353da233fd2b6
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue May 12 13:49:35 2020 +0800

    runner: MySQL Replicate support

commit 74d4d862c308e745c5add7f0f2c58f7d4553cdc4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 11 15:43:58 2020 +0800

    runner: Support postgres slaves

commit 5a28bb7818272c4435831768441eb42f6456da0c
Merge: c6fc3a0 13936d1
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue May 19 16:17:29 2020 +0200

    Merge pull request #23 from crazyserver/patch-1
    
    Change Moodle App docker repository

commit 13936d19c9e28e9dc758fd72c0d028f73899dc2d
Author: Pau Ferrer Ocaña <crazyserver@users.noreply.github.com>
Date:   Tue May 19 14:58:11 2020 +0200

    Change Moodle App docker repository

commit c6fc3a0974f39eb018d628f1e045c7485bfc4e5d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 18 22:38:18 2020 +0200

    Disable options not directly related with the run type

commit 3d1ff1c4ce7b38c810fbbb1b9235d0ff8b548682
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu May 14 03:02:07 2020 +0200

    Added support for multiple reruns (defaults to current 1)
    
    Now it's possible to perform multiple reruns, controlled by
    the BEHAT_NUM_RERUNS env variable. It defaults to current 1.
    
    Also, if 0 is passed, don't perform any rerun.
    
    Output files (pretty, junit) now will have the format:
    
    - prettyRUN_rerunRERUN.txt
    - logRUN_rerunRERUN.junit
    
    Where RUN is the # of parallel run (empty for single)
    and RERUN is the rerun iteration.

commit 9b8619d417a8131ec34e5ee33d14a74ab975a1fe
Merge: af8ad05 c27cac8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 18 07:16:06 2020 +0800

    Merge pull request #22 from stronk7/avoid_chrome80
    
    Avoid Chrome 80 because it's causing some SCORM tests to fail

commit c27cac893a4f46637464a7d05f4004f5f91d46ad
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Feb 17 17:49:34 2020 +0100

    Avoid Chrome 80 because it's causing some SCORM tests to fail
    
    See https://tracker.moodle.org/browse/MDL-67989 for more information,
    once that is solved, we'll revert this, proceeding with #21

commit af8ad051bb76536d9c97201428aea30927d80383
Merge: b0f1332 4171a80
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Dec 28 11:43:39 2019 +0100

    Merge pull request #20 from stronk7/bump_mariadb_102
    
    Bump MariaDB to 10.2 to fulfill Moodle 3.9 requirements

commit 4171a80b7d02d1fb8931e72d2e6217ee9f705a99
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Dec 28 11:21:25 2019 +0100

    Bump MariaDB to 10.2 to fulfill Moodle 3.9 requirements
    
    See https://tracker.moodle.org/browse/MDL-65809 for details

commit b0f1332755eb460d037da7c5f3bfa58f7029641c
Merge: 9832e97 c88ed81
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Dec 17 23:54:02 2019 +0100

    Merge pull request #19 from stronk7/disable_skiplangupgrade
    
    Disable skiplangupgrade

commit 9832e9799dcdc44b5ca0c4b2e10ce8d4effeac92
Merge: 8e2f14e 024baad
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Nov 16 18:32:38 2019 +0100

    Merge pull request #18 from stronk7/enable_skiplangupgrade
    
    runner: Set skiplangupgrade as part of on-sync period

commit 8e2f14ea7ef584d4550decdfd98a98dbeb2b5d42
Merge: fc97b3d 289f974
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Nov 16 18:32:02 2019 +0100

    Merge pull request #17 from stronk7/38_release
    
    runner: Add Moodle 3.8 version of the runner

commit c88ed81e6492b46c025027a312ab8177e976b628
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:58:34 2019 +0100

    runner: Unset skiplangupgrade after the on-sync period
    
    This is MR4 in the [release
    process](https://docs.moodle.org/dev/Release_process#1_week_prior)
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 024baade98f99dd50b0b5ed5d00e741947547d88
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:55:14 2019 +0100

    runner: Set skiplangupgrade as part of on-sync period
    
    This is MR3 in the [release
    process](https://docs.moodle.org/dev/Release_process#1_week_prior)

commit 289f974d4b0f03950aaf680ae25d4057d1972653
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:52:09 2019 +0100

    runner: Add Moodle 3.8 version of the runner

commit fc97b3d368d29e42e13ef9352916a7de5f8e336f
Merge: 66cc4a1 0e40fe4
Author: Jun Pataleta <jun@moodle.com>
Date:   Mon Oct 14 15:39:19 2019 +0800

    Merge pull request #16 from stronk7/images_summary
    
    Show the creation date and hash/digest of involved images in a run

commit 0e40fe4bd76a45823b3d86adaa66345db200f175
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Oct 11 22:19:55 2019 +0200

    Show the creation date and hash/digest of involved images in a run

commit 66cc4a1261a82a6545bf86bff291c10105d60cf4
Merge: 716f333 a713c0c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:28:41 2019 +0800

    Merge pull request #14 from stronk7/enable_mongodb
    
    Enable mongodb

commit 716f333ace352e73425c12fcb025b430159c1f5c
Merge: 148a3af b3b185b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:28:18 2019 +0800

    Merge pull request #13 from stronk7/enable_memcached
    
    Enable memcached

commit 148a3af6a304889982e4f3061fe32af60d4cf055
Merge: 8e6d745 4881af9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:27:38 2019 +0800

    Merge pull request #12 from stronk7/enable_solr
    
    Enable solr

commit 8e6d745e7be5718d66ba54f6acf6a90e5e911cf2
Merge: dac6a76 d96d7cf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:27:16 2019 +0800

    Merge pull request #11 from stronk7/more_reliable_scriptpath
    
    Make the detection of SCRIPTPATH more reliable

commit dac6a762a73bbd601034304127d85a7953df3aad
Merge: b457662 1fe8710
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:26:11 2019 +0800

    Merge pull request #6 from sarjona/runner-appversionvar
    
     runner: Add support to MOBILE_VERSION and PLUGINSTOINSTALL settings

commit a713c0c137ff60db3c14e9546a60c2418994b135
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 18:50:14 2019 +0200

    Add support for mongodb tests

commit b3b185b648b3a93986b28156291c14a02bc294c1
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 17:04:54 2019 +0200

    Add support for memcached tests

commit 4881af9997f1da4c4c6413399c4275328bdcd7b8
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 16:23:25 2019 +0200

    Enable back solr, it's working with all php images

commit d96d7cf61205fccdfc62e23ac9db1792c7880abc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 13:56:20 2019 +0200

    Make the detection of SCRIPTPATH more reliable
    
    So it can be executed from other scripts, or aliased...

commit 1fe871046e5402d5b2b47806e1071c5f355f9005
Author: Sara Arjona <sara@moodle.com>
Date:   Fri Sep 20 17:31:54 2019 +0200

    runner: improve PLUGINSTOINSTALL and MOBILE_VERSION support
    
    Some improvements have been added, following Andrew's suggestions:
    - If the MOBILE_VERSION is not defined, the moodlemobile docker
    container won't be executed.
    - Instead of creating a temporary folder for the plugins, a new
    setting, PLUGINSDIR, has been added. By default they will be
    downloaded to $WORSPACE/plugins.
    - Those new settings have been added to the README.md

commit 44c4e60038cb731a694fda364a6d9731933e128b
Author: Sara Arjona <sara@moodle.com>
Date:   Fri May 31 12:28:21 2019 +0200

    runner: Add PLUGINSTOINSTALL variable to install external plugins

commit d5ebe8cb8fbfc6a122d572916f8f8bdc52aac9b0
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 16:19:14 2019 +0200

    runner: Add MOBILE_VERSION variable to define the app version to run @app tests

commit b9dcf77fe75a19a1733b01ed7d7605680783b020
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 17:00:39 2019 +0200

    Unpin mobile once that breaking tests are removed (MDL-65869)
    
    This reverts commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f.

commit af3943120701d2532177723c2e7afc79f6e4bd65
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 16:57:36 2019 +0200

    Enable back Redis session tests for PHP 7.2 and up
    
    This reverts commit f36e8081c50dfa7342b9e91736c1febeeedebbd6.

commit fabe6dea67da25f01ccffd38788d3bd7e8d5305f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jun 12 09:08:01 2019 +0800

    Temporarily ping mobile to 3.6.1 until failing tests removed

commit b4576622ce3efd624698ac0bc11b3a576a81b975
Merge: 348685d 51ff441
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 12 21:33:01 2019 +0800

    Merge pull request #10 from stronk7/unpin_mercury
    
    Unpin 3.141.59-mercury and allow any new 3.x release to be used

commit 51ff44139da1fe952fcde88a21579fc1f658957c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Sep 11 16:46:05 2019 +0200

    Unpin 3.141.59-mercury and allow any new 3.x release to be used
    
    With MDL-66378 and, specially, https://github.com/moodlehq/php-webdriver/pull/1
    we can continue using Chrome >= 76 because we are enforcing the
    use of the legacy JsonWire protocol (instead of the default W3C one).
    
    So it has been agreed that we'll allow any 3.x new release to be used in
    order to detect problems earlier (we always can pin again if needed).

commit 348685d0918ea2d5c9ff2f0d4eb2bd49644499d2
Merge: bb20f2c 5779fe2
Author: Adrian Greeve <abgreeve@gmail.com>
Date:   Tue Aug 20 14:41:29 2019 +0800

    Merge pull request #8 from moodlehq/revert-7-chrome_unpin
    
    Revert "Revert "Moving away from 3.141.59-neon coz it's causing problems""

commit 5779fe24d006ca3f1acc8f2dcc5b6919c279bda7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Aug 20 14:38:15 2019 +0800

    Revert "Revert "Moving away from 3.141.59-neon coz it's causing problems""

commit bb20f2cd499f008116fab9a7c47472712e93c84b
Merge: 3fb9dc6 9443e85
Author: Adrian Greeve <abgreeve@gmail.com>
Date:   Tue Aug 20 14:31:09 2019 +0800

    Merge pull request #7 from moodlehq/chrome_unpin
    
    Revert "Moving away from 3.141.59-neon coz it's causing problems"

commit 9443e85a1bfff80333288626fd353769b72392b9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Aug 14 13:48:49 2019 +0800

    Revert "Moving away from 3.141.59-neon coz it's causing problems"
    
    This reverts commit 1bda1c27f698e5a96180836b59b19f254b5fbd58.
    
    Fixed by way of MDL-66378.

commit 3fb9dc6c5ae6268357a22b6e057aaa3e872f736d
Merge: 2d13771 0b953ee
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 28 06:40:00 2019 +0800

    Merge pull request #5 from stronk7/redis_session_tests_are_back
    
    Enable back Redis session tests for PHP 7.2 and up

commit 0b953eecf390263e561d9efc1918e33fbebcc1c1
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 17:00:39 2019 +0200

    Unpin mobile once that breaking tests are removed (MDL-65869)
    
    This reverts commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f.

commit f161c4ecb848b52728c073702624949cb0f887a5
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 16:57:36 2019 +0200

    Enable back Redis session tests for PHP 7.2 and up
    
    This reverts commit f36e8081c50dfa7342b9e91736c1febeeedebbd6.

commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jun 12 09:08:01 2019 +0800

    Temporarily ping mobile to 3.6.1 until failing tests removed

commit 97d40fe45eef9cda9dee4332200927c763b92a0d
Merge: f27d127 318e84b
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri May 31 09:51:04 2019 +0200

    Merge pull request #4 from sarjona/runner-fix-local
    
    runner: Avoid local network collissions

commit 318e84bdc11f66f6d6e8e25505bb942b9029fb86
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 14:39:49 2019 +0200

    runner: Avoid local network collissions

commit f27d127197acb4976a71c2638e21c29d1c5afed8
Merge: c18d21c 70ca27d
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu May 30 22:58:37 2019 +0200

    Merge pull request #3 from sarjona/readme-revision
    
    README: Update themes and add some extra parameters to the doc

commit 70ca27d7b8d7f036c7dffc2f7b9c31abf3fdc302
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 13:58:13 2019 +0200

    README: Update themes and add some extra parameters

commit c18d21c6d38431ca134be6732ebc88a942f02157
Merge: 551b15d ead8faf
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat May 25 00:03:25 2019 +0200

    Merge pull request #2 from andrewnicols/mobiletesting
    
    runner: Add Ionic testing

commit 551b15d59f7c81d26c7838621a9265bd9ca3a0cb
Merge: 2941637 f7078a4
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri May 24 23:55:36 2019 +0200

    Merge pull request #1 from andrewnicols/37_endonsync
    
    runner: Unset skiplangupgrade for end of on-sync period

commit 2941637e67830cef6334ebe3d0da8658828f8323
Author: Mark Johnson <mark.johnson@open.ac.uk>
Date:   Wed Mar 27 09:25:01 2019 +0000

    Add support for increased behat timeout

commit ead8faf6168cc7ae7f4d894827f49a4391cb6d7e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 31 06:53:45 2019 +0800

    runner: Add Ionic testing

commit f36e8081c50dfa7342b9e91736c1febeeedebbd6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 20 22:50:53 2019 +0200

    Disable Redis session tests for PHP 7.2 and up
    
    See MDL-60978 for more information.

commit 8bbcbf0a05c15b15c96d8b743b50c4919f46bb80
Merge: 19fe0f5 6c7dbaf
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun May 19 18:17:43 2019 +0800

    Merge branch '37_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!29

commit 19fe0f5e4cbb50e7de1a870b308919a8d29b4688
Merge: 1bda1c2 fb50503
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun May 19 18:17:29 2019 +0800

    Merge branch '37_release' into 'master'
    
    runner: Add Moodle 3.7 version of runner
    
    See merge request integration/nightlyscripts!28

commit f7078a46484f9b417e33189d7c4ba8ed1df461eb
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:39:57 2019 +0200

    runner: Unset skiplangupgrade for end of on-sync period
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 6c7dbafd94bdf22132ad0d032150079aefeacd98
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:37:21 2019 +0200

    runner: Set skiplangupgrade as part of on-sync period

commit fb50503ce89e26378204c92930821fcbb6fe4829
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:32:59 2019 +0200

    runner: Add Moodle 3.7 version of runner

commit 1bda1c27f698e5a96180836b59b19f254b5fbd58
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Apr 30 16:06:14 2019 +0200

    Moving away from 3.141.59-neon coz it's causing problems
    
    So we are now explicitly using 3.141.59-mercury, from 1 month
    ago that was working till neon arrived (6 days ago). That is
    leading to lots of "invalid session id" errors leading to the
    re-execution of complete jobs (almost 2X execution time)

commit 1c626b647730aca6682147dd7006c177a817c696
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 20:21:57 2019 +0200

    Avoid colors that look horrible (escape seqs) in some clients (take#3)

commit 113c847885ab29bd232060a435f71c35c8c92b7c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 20:14:20 2019 +0200

    Avoid colors that look horrible (escape seqs) in some clients (take#2)

commit d4e30b6abee5fb15c0bcf19639a309ba5e78fa12
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 18:59:32 2019 +0200

    Avoid ansi colors that look horrible (escape seqs) in some clients

commit ed1604b7fa7ad04c4533106419dc500d849c5ea8
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Apr 11 02:18:45 2019 +0200

    Add support for individual features/scenarios (--name)
    
    Also fix some small details, like 1-parallel, reruns and
    some old selenium version.
    
    Finally, note that the --config parameter requires to use
    this syntax:
    
    --config path/to/behat.yml
    
    and doesn't work with
    
    --config path/to/behat.yml
    
    Because of an annoying dependency built in core (MDL-65435). Once
    it's fixed, both syntaxes will work.

commit 39e2cb3eb3ee60056a40361e094227a7419d9a9f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Feb 18 15:05:37 2019 +0800

    runner: Bump chrome to 3.141.59

commit 674bf46278c225cd9507115c5f0344e2563a43ce
Merge: af3a800 a3398e0
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Feb 12 22:57:21 2019 +0800

    Merge branch 'mdlsite-5669' into 'master'
    
    runner: Update oracle image to moodle-db-oci
    
    See merge request integration/nightlyscripts!26

commit a3398e06b56964da1e88645bb7914953e1e99b9c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 12 15:11:55 2019 +0800

    runner: Update oracle image to moodle-db-oci
    
    Fixes MDLSITE-5669

commit af3a8009a6869929e4a67e3c0dbbec46d60465b4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 31 10:11:42 2019 +0800

    Marionette option is for Firefox only

commit d9431cd102f2d1078a2d149417f53933cd3fd48d
Merge: 16b748d c00a229
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu Jan 31 07:20:05 2019 +0800

    Merge branch 'ff_selenium_upgrade' into 'master'
    
    runner: Switch to MoodleHQ selenium image
    
    See merge request integration/nightlyscripts!25

commit c00a229752f41e8dcb1bbebe46dfd111b1c0735e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 12 13:11:52 2018 +0800

    runner: Switch to MoodleHQ selenium image
    
    This image uses a newer version of Selenium, disabling Marionette, but
    the old version of Firefox.
    
    It appears to be more stable than the images we've been using to date.

commit 16b748d2dc729d334c5c5479d121a5ac101fa011
Merge: dd82982 12e1904
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sat Jan 12 20:32:07 2019 +0800

    Merge branch '36_endonsync' into 'master'
    
    runner: Unset skiplangupgrade for end of on-sync period
    
    See merge request integration/nightlyscripts!24

commit dd82982330eed22998a14de9ea8152a9654c0cbd
Merge: 40df230 0c5102c
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun Dec 2 08:20:38 2018 +0800

    Merge branch '36_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!23

commit 40df230cbc64075c384aabfacf806f4f6cf2d080
Merge: 5b37b3f a606c9b
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Fri Nov 30 12:03:28 2018 +0800

    Merge branch '36_release' into 'master'
    
    runner: Add Moodle 3.6 version of runner
    
    See merge request integration/nightlyscripts!22

commit 12e1904875f7497febccff6ee96d813ae2cc2d40
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:52:55 2018 +0100

    runner: Unset skiplangupgrade for end of on-sync period
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 0c5102c821211fa901a9273fecb32da7a8f09b3d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:51:27 2018 +0100

    runner: Set skiplangupgrade as part of on-sync period

commit a606c9b728892022682bfab1a9465f1e813c5947
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:49:02 2018 +0100

    runner: Add Moodle 3.6 version of runner

commit 5b37b3f915313c132299319a1ddf23c8e2cf6916
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 10 12:17:31 2018 +0800

    Revert "runner: Remove suite from behat run command"
    
    Unfortunately I have no idea why I wrote this change.
    The -a=[theme] should work, but does not.
    
    This reverts commit aeafe7d70fce06edd1e1da3137fbf0f857c47b7f.

commit 4aa09c8c19163d2752d2a977cb94b56cb174b4f8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 10 12:17:29 2018 +0800

    runner: Add pathtosassc

commit aeafe7d70fce06edd1e1da3137fbf0f857c47b7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Sep 5 09:37:25 2018 +0800

    runner: Remove suite from behat run command

commit 054d655920b0ce49eb426c6b1f8cc0b87423fc2c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 11:26:00 2018 +0800

    runner: Disable SOLR for now :(

commit a1ff178fa83b8b0710ddf7d6395049610fdbf340
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 09:32:12 2018 +0800

    runner: Add redis to tests

commit e75774849038c688f8cb1f27310d601cf1ebea3d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 09:31:38 2018 +0800

    runner: Add solr to tests

commit 022c84006b6d3ece8a297823d8341e4ed5c1761f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 08:38:54 2018 +0800

    runner: Attempt to seed with cached composer.phar

commit 1cba58a03a674c3e77dd333c9c114b1461a703dc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 12 15:55:24 2018 +0800

    README: Move to project root

commit 00599ef9016ded2f3d535118eb52ade77f568cac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 12 15:55:08 2018 +0800

    runner: Add CODEDIR to readme

commit eb57951e64c8999624097e39d4fd31f654a0d084
Merge: 54a1141 2bd6d1b
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Jun 6 23:33:18 2018 +0800

    Merge branch '35_endonsync' into 'master'
    
    runner: Unset skiplangupgrade for end of on-sync period
    
    See merge request integration/nightlyscripts!18

commit 54a1141bd1f89323a91cb16a454e00a598de4fa0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 31 07:52:51 2018 +0800

    runner: Add default for timing filename

commit 0f8818d02dc8cf405ba4974ae1fe5de2301369e9
Merge: b5c4448 de1d2ff
Author: jun <jun@moodle.com>
Date:   Mon May 28 12:01:22 2018 +0800

    Merge branch 'useTiming' into 'master'
    
    runner: Use behat timing files
    
    See merge request integration/nightlyscripts!21

commit de1d2ffe9151d09034657292ba0c9433b5de1abf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat May 26 09:29:18 2018 +0800

    runner: Use behat timing files

commit b5c44488a857d2148efa34274c685b482b0ded7e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 18 18:14:41 2018 +0800

    runner: Move path to subpath
    
    The /var/www directory is owned by root.
    In 31 we simply append a run number to the behatroot directory - i.e.
    /var/www/behatdata1
    
    In 32 we create them in a subdirectory - i.e.
    /var/www/behatdata/behatrun1
    
    When running as www-data, the user does not have access to create the
    behatdata1 directory.
    
    The previous attempted fix was to add a slash:
    31  - /var/www/behatdata/1
    32+ - /var/www/behatdata/behatrun1
    
    However, the trailing slash seems to cause issues in core in some
    sitautions - specifically the re-run of the test.
    
    This fix, tested on 31, and master with a failing test changes the
    directorty further such that the behat data directory is
      /var/www/behatdata/run
    This makes the new run directories:
    31  - /var/www/behatdata/run1
    32+ - /var/www/behatdata/run/behatrun1
    
    Both of these are acceptable as the www-data user has the required
    permission to create new directories for the run in the subdirectory.

commit 41fb3e3952ad053082cf48b545b9e2a714e0d976
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri May 18 18:33:52 2018 +0200

    Get rid of the extra slash, seems to be causing problems in >=32.
    
    But keep the chown covering the whole /var/www/* to see if that's
    enough for 31. Or at least to keep everything working but 31.

commit b35f21ab4d3f8e6db0dbf108fb50e4141d609a0c
Merge: 4c3d350 34a14dc
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Fri May 18 08:29:14 2018 +0800

    Merge branch 'ocibump' into 'master'
    
    runner: Bump OCI timeout
    
    See merge request integration/nightlyscripts!20

commit 4c3d35069b33c8025694633ae85d8c55a463f1a5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 18 07:44:26 2018 +0800

    runner: Correct rerun path for 31

commit 34a14dceac2921d1cf7cd926be585b860112b0ea
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 14:46:41 2018 +0800

    runner: Bump OCI timeout

commit c9ce81e560cea4e3721c08c9aead8a8bb9f6dcc2
Merge: 0bb2ac5 8ac11f8
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Thu May 17 14:39:49 2018 +0800

    Merge branch 'behatfix' into 'master'
    
    runner: Add fix for behatdata on 31
    
    See merge request integration/nightlyscripts!19

commit 8ac11f8e74a159a0027cb12eb948a94ea790ba6c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 14:00:14 2018 +0800

    runner: Add fix for behatdata on 31

commit 0bb2ac5264561a47be9ac68c303b07f20b9c57f7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 13:33:35 2018 +0800

    runner: Chown with group

commit 7f1b4c87b603cf3bf7be1e971e4405e82cd63738
Merge: 405c773 53614eb
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:32:11 2018 +0800

    Merge branch 'runaswwwdata' into 'master'
    
    runner: Run behat as www-data
    
    See merge request integration/nightlyscripts!15

commit 405c7739d0b92095c738d386ecd7e4f059557edd
Merge: 387fe98 4b866ad
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:31:42 2018 +0800

    Merge branch '35_release' into 'master'
    
    runner: Add Moodle 3.5 version of runner
    
    See merge request integration/nightlyscripts!17

commit 387fe98f3bbab96df64377f69a43bca3e9a5d837
Merge: 6033840 4a886f4
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:31:23 2018 +0800

    Merge branch '35_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!16

commit 2bd6d1b63c16e4097dc254c007bdb4de592336bd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:59:06 2018 +0800

    runner: Unset skiplangupgrade for end of on-sync period

commit 4b866ad334144dda7bfa17817d8b7fe353598afa
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:46:36 2018 +0800

    runner: Add Moodle 3.5 version of runner

commit 4a886f415932418b42fce39ca4cb3f6eff4c80ca
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:41:11 2018 +0800

    runner: Set skiplangupgrade as part of on-sync period

commit 53614eb42297c8cac8caeee7f6feac4c1ab16eba
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 9 08:21:18 2018 +0800

    runner: Run behat as www-data

commit 6033840d3183e33d6af984b358a24c987250feaf
Merge: 9d25a09 2261c5e
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Mon May 14 13:19:04 2018 +0800

    Merge branch 'chownfix_again' into 'master'
    
    runner: Behat has a different datadir
    
    See merge request integration/nightlyscripts!14

commit 2261c5eefa591503bcd47d4ea1fbf4c4ff6917e7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 14 13:18:28 2018 +0800

    runner: Behat has a different datadir

commit 9d25a09583686a7e8aca6f77cd394f90e1f841d0
Merge: dfe3af4 74d8e1f
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Fri May 11 23:21:15 2018 +0800

    Merge branch 'fixchown' into 'master'
    
    runner: Fix bad bashism
    
    See merge request integration/nightlyscripts!13

commit 74d8e1f1b73c8868622ab6d945878c993eb4df3f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 11 23:16:22 2018 +0800

    runner: Fix bad bashism

commit dfe3af4f20b50d1ecadacb30388e7f8e43e2f15c
Merge: 65f3858 8b56620
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue May 8 07:26:08 2018 +0800

    Merge branch 'chromebump' into 'master'
    
    runner: Bump chrome selenium to 3.11.0-dysprosium
    
    See merge request integration/nightlyscripts!12

commit 8b56620b8650c48889ba9d7df840ab8715eb034e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue May 8 07:06:37 2018 +0800

    runner: Bump chrome selenium to 3.11.0-dysprosium
    
    Selenium version 3.11.0-dysprosium (rev e59cfb3)
    Chrome version: 66.0.3359.117
    ChromeDriver version: 2.38.552522

commit 65f3858a655d83b76fbef2c14fcbe8a5489436f8
Merge: 11f0175 6d7e753
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Sat May 5 12:13:43 2018 +0800

    Merge branch 'selspread' into 'master'
    
    runner: Fix parallel runs to use own sel
    
    See merge request integration/nightlyscripts!11

commit 6d7e753f6d35148afc34a6800f119529d725b702
Author: Mark Johnson <mark.johnson@open.ac.uk>
Date:   Fri May 4 22:14:56 2018 +0800

    runner: Fix parallel runs to use own sel

commit 11f0175f567ec57cb08a6b94db96ae79dcaf42fc
Merge: 922c2b2 15afb3c
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 3 17:16:35 2018 +0800

    Merge branch 'chown_after_init' into 'master'
    
    runner: Chown after behat init
    
    See merge request integration/nightlyscripts!10

commit 15afb3cf686248b16a682fefa00e0730250bbe46
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 3 08:08:52 2018 +0800

    runner: Chown after behat init

commit 922c2b20532fac6258026d7d408aca705ef8e1c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Apr 20 12:58:58 2018 +0800

    runner: Extend oracle wait period to 2 mins

commit 4001447d0a615e6348920f5595ba6255127eec16
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Apr 20 12:49:25 2018 +0800

    runner: Correct variable usage

commit 9ea358d3f8934564aa3340ffbaaceec2a3b9fe4e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 09:21:56 2018 +0800

    Revert "runner: Remove wd config from behat_profiles"
    
    This reverts commit e0c4f72be58daddb5d092bca884ebdc866adb574.

commit 116f8f3e6a80409de9398cc23ebb4a5300dd8e4f
Merge: 8269a04 e0c4f72
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Apr 18 08:39:58 2018 +0800

    Merge branch 'selbrok' into 'master'
    
    runner: Remove wd config from behat_profiles
    
    See merge request integration/nightlyscripts!9

commit e0c4f72be58daddb5d092bca884ebdc866adb574
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 08:34:48 2018 +0800

    runner: Remove wd config from behat_profiles

commit 8269a046fcb2855229fc4775c2aea15b0bfe4946
Merge: 960a332 235b954
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Apr 18 07:09:03 2018 +0800

    Merge branch 'oracle_async' into 'master'
    
    runner: Disable async IO on Oracle
    
    See merge request integration/nightlyscripts!8

commit 235b9546035d4f994b858a59209b4a9e049f5eb8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 07:07:23 2018 +0800

    runner: Disable async IO on Oracle

commit 960a332b17a56b5d28753947f7ff93bcbb985f44
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Apr 17 11:25:00 2018 +0800

    runner: Add support for running a single testsuite

commit 7ed139975968fbf64273d230cfbfaec1d41e2b22
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Mar 20 15:58:34 2018 +0100

    Fix for !7, make MOODLE_VERSION global

commit b9943cf42d2237c53cfa8f072374f92c63012a27
Merge: 2f884bd 7839b8a
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Tue Mar 20 20:46:36 2018 +0800

    Merge branch 'no_fail_on_risky_for_31' into 'master'
    
    --fail-on-risk is not available before phpunit 5
    
    See merge request integration/nightlyscripts!7

commit 7839b8a9c9ff06fadddf30c881380bb5a623bc87
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Mar 20 11:43:08 2018 +0100

    --fail-on-risk is not available before phpunit 5
    
    Hence, don't use it for <= 31.

commit 2f884bdcb0baca67e82ad92c93aa7d8b39912eac
Merge: e983eeb 2c08619
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Mar 20 08:43:17 2018 +0800

    Merge branch 'failonrisky' into 'master'
    
    [runner] Fail on risky tests for phpunit
    
    See merge request integration/nightlyscripts!6

commit 2c08619df1d206805f406af51f2bd13f2f82c89f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Mar 20 08:36:12 2018 +0800

    [runner] Fail on risky tests for phpunit

commit e983eeb08d9e7c217f023ed6f63ea43161a19630
Merge: 934f0de 32fb897
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Tue Mar 20 08:02:05 2018 +0800

    Merge branch 'makes_test_output_risky' into 'master'
    
    Be strict about tests output. Mark them as risky.
    
    See merge request integration/nightlyscripts!5

commit 32fb8972f26b1c7e8c492cf80c465a2d8f1bc0cf
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Mar 19 20:24:38 2018 +0100

    Be strict about tests output. Mark them as risky.

commit 934f0de142b53c39eb6ec67b14964ce731ea55bb
Merge: 10d69ae 1239517
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Mar 6 00:53:23 2018 +0800

    Merge branch 'pin_pg_967' into 'master'
    
    Pin postgres to 9.6.7 because 9.6.8 leads to DDL failures
    
    See merge request integration/nightlyscripts!4

commit 1239517482c1cafdf33cdf715afce4920ab9d219
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Mar 5 17:51:19 2018 +0100

    Pin postgres to 9.6.7 because 9.6.8 leads to DDL failures
    
    See https://github.com/moodlehq/moodle-docker/pull/77

commit 10d69ae85da03dab502430e8dbc01c1dff7b79ac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 16 09:22:53 2018 +0800

    [runner] Add copyright information

commit c07c5a379e6cbb1f77b43bef5267eadc50d2391e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 16 09:21:22 2018 +0800

    [general] Archive old nightly scripts
    
    The Old Nightly Infrastructure is dead.
    
    Long live the Old Nightly Infrastructure.

commit 6c097c30eda6441ef66034d8f97b4bc5568ac769
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 6 08:35:59 2018 +0800

    [runner] Correct exitcode for phpunit
    
    This was a fault after the introduction of loops which meant that the
    true exitcode was overwritten.

commit b1b19e4d9a97610dc643e44785cb504ff9866b83
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 6 08:31:18 2018 +0800

    [runner] Add README

commit dd730f31a1a083b2dd51716c01454012d40b1092
Merge: e14c18c eb71f3f
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Mon Feb 5 23:35:21 2018 +0800

    Merge branch 'rajagain' into 'master'
    
    [runner] Switch back to raj images
    
    See merge request integration/nightlyscripts!3

commit eb71f3f9e824bc4891fafd71743586276272f08e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Feb 5 17:31:28 2018 +0800

    [runner] Switch back to raj images
    
    Raj's image seems to have some magic which is not present in the
    Selenium official image, though they appear nearly identical.
    
    This change backs out the hub change and instead uses the
    behat_parallel_runs to setup WD config as appropriate for both Firefox
    and Chrome.

commit e14c18c8bfb8948b0a77b0439580ff882d3f8f9d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Feb 5 13:05:47 2018 +0100

    Get rid of incorrect version and browserVersion caps

commit 32aeae46f8bbee9c16e65473b50e34f33dede2bc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat Feb 3 17:16:16 2018 +0800

    [runner] Save web server logs to file

commit 57e69aae4d08b55ebb2b1f87dffc661753588f38
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 11 15:43:59 2018 +0800

    runner: Use selenium grid with selenium per run

commit 659416237cc13a1626bf7c1a12028ab537b16b3c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 23 13:47:18 2018 +0800

    runner: Do not quote junit path - it tries to write to quote

commit 758be2e0cbf999c04b09a1815e7aaf4982708ff7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 22 13:49:18 2018 +0800

    runner: Add debugging to behat init and run

commit e9c897a76454ae6fd1d28c6a38bea292da994ada
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 16 15:35:17 2018 +0800

    runner: Switch to raj image
    
    Looking to try and remove differences between old and new.

commit d335319a094e17e30534e2773904da70261b1597
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jan 12 15:13:10 2018 +0800

    runner: Assign shared mem to Oracle

commit e2bd778180ecb0ab90cc30284d64945bc7cd0109
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jan 12 10:16:51 2018 +0800

    runner: Adjust how shared memory is allocated to selenium
    
    This is after changes to the recommendations from Selenium in their
    Docker README.md.
    
    They are now suggesting allocating shm to all browsers, not just Chrome
    as they previously suggested.
    They're also suggesting that you can use --shm-size instead of mapping
    /dev/shm which seems like a cleaner approach.

commit d457b833b2913bcf6f2a87186d5ac86f683446c3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 11 13:50:40 2018 +0800

    runner: Switch to Chrome + Selenium 2.7.1

commit d762de8ab7d76702a4eecd4519d4bd589f05393b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 10 13:35:25 2018 +0800

    runner: Support iterations

commit ca84659acbaf2cb3cc6a670ba2e164bde923ad85
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 10 12:24:48 2018 +0800

    runner: Switch to chrome + selenium 3.0.1 as per matrix

commit 9e1fcbdde3ffe13f77bdf2fbf49620976706cb40
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 8 08:10:05 2018 +0800

    runner: Add PHPUnit LDAP tests

commit 2d0e661a1ff80ec61582f0cdae7a4b263e66eb84
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 4 15:05:35 2018 +0800

    runner: Do not expose the selenium port

commit dcc244ccf400c471ddfc6239b773ecf0c10539e5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 2 10:36:14 2018 +0800

    runner: Make cachedir easier to fudge

commit ebcbd526ec20467d3e91e6ad89ac00aac3c1f3ba
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 2 10:20:43 2018 +0800

    runner: Add support for tags

commit 3d59a431fc8f74110923aea81482357a471a6e7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 19 11:30:23 2017 +0800

    runner: Correct variable name

commit 3c5e0da017857ad87938f004175ba880e9050815
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 19 10:44:25 2017 +0800

    runner: Chown workspace files at end of job

commit ba0da291e4ef4b69b4eac6215c0e492810027745
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 18 08:59:23 2017 +0800

    runner: Create nightly network

commit 1f8a3fd4e4eb1c477dcead9f59e7992e72e7b111
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 12 17:15:21 2017 +0800

    cron: Add slave script

commit 0294f7f31a650883c1b9ac2f64e8d5ac55fc2265
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 12 17:04:50 2017 +0800

    start_slave: Add slave starter script

commit 8f38704794db6efa3c1439507b612f6b31965d74
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 15:20:29 2017 +0800

    runner: Correct image name for exttests

commit ffd54a51b2343502a4e5411a1227f5b685c7f4bd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 15:01:27 2017 +0800

    runner: Correct variable name

commit dcaf5ef44faef63417eb796d10d11b3d95ea4bbb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 14:17:35 2017 +0800

    runner: Use external tests
    
    This makes use of the external testing URL now that MDL-60948 has
    landed.

commit 41b7738b0f9a6680ab401c772401171f9dd943a9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:53:46 2017 +0800

    runner: Sleep longer before starting postgres tests

commit ed533cc1bc1ec83fb37fc9245c33520ae8cf9afb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:46:49 2017 +0800

    runner: Syntax fix

commit 15e581022cd5d383d21a018f727347c95b6e3371
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:05:04 2017 +0800

    runner: Handle ALL suites condition for behat

commit 71693c14d9e7f5259a5b7690e891f4fb8e6d0d9d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:02:28 2017 +0800

    runner: Do not normalise mssql to sqlsr
    
    We need to be able to test these individually on 31, and 32.

commit 15b5fa8f18a391cfca88dc73cdb3033a3a5ec05d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Dec 10 11:41:01 2017 +0800

    runner: Correct PHP_VERSION specification

commit 4343f4c23db1584cc19d7096bd47ab081e1a40be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 12:51:15 2017 +0800

    runner: Add back to job summary

commit a4bc164aa3ad2262298120dbbdbd9bcaa49252f9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:44:59 2017 +0800

    runner: Move DB summary to ensure correct info

commit f936648da2f9c35aee8fb1893efd3bbccc6d9ecb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:44:45 2017 +0800

    runner: Use variables for DB creds

commit 7ca3b1ed438053da2c4ca2b3a3c93b3cc9d17957
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:43:54 2017 +0800

    runner: Correct Oracle init

commit 98ce1bc9347275f8626e44a0d5c66b899e179beb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 09:31:43 2017 +0800

    runner: More delimiter fixes

commit d2c7c9e6fe18df9c58b78b4d2c26fbf7eeb3f8a2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 09:21:09 2017 +0800

    runner: Improve section delimiters

commit 489254179dacc5f24e3a6c436f2baa1b4abfe805
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 08:59:13 2017 +0800

    runner: Correct behat init for alternate suite

commit 6ec6ba172a213b10bc1ca10390d0abea1631e0d3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 12:29:50 2017 +0800

    runner: Add markers or console collapse

commit eefb24f88dbedd818c9061d7c71316c1461b7729
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:52:39 2017 +0800

    runner: No need to drop if DB per run

commit 914135a8420407fddc12a5646f712a6d6712021c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:49:33 2017 +0800

    runner: Config belongs to version

commit ba4f4b32de8c1750031239cc2f7ca3c6c0ce10f3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:46:46 2017 +0800

    runner: Add more debugging info

commit d5bddc6c59fde7ddbddd748cc994b9f48f20af3f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 10:55:52 2017 +0800

    runner: Switch to versioned runners

commit e07804a002e5ccab15655672b60ed430a1abb123
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 10:11:27 2017 +0800

    run: Init database per run

commit bd4185f8d77ee19fb9140ad7afb220d642f23731
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:18:58 2017 +0800

    General: Tidy up all old files

commit 18b304a8103cce6071023a1fed4e91701016d07c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:15:32 2017 +0800

    run: Make 31-/32+ config changes clearer

commit bbd9f4720de9dc5904230a163496e544e562f4ab
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:14:51 2017 +0800

    run: Add clearer exitcode info

commit c5c601923acd98eb6a83b875f8d191592db2c4be
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Nov 27 00:04:58 2017 +0100

    config: 35 lang packs available, disable $CFG->skiplangupgrade

commit a1aa6d14ea45c091b357d7b4bfd9060bf87a9c68
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 14:01:24 2017 +0800

    run: More tidyups

commit 277474ca21004edd5ed392646dd447b9ca62af64
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 13:56:13 2017 +0800

    run: Tidy up DB details

commit ac70cfde1eceb5f7225706b609461e393366ba1a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 13:43:09 2017 +0800

    run: Allow configuration of PHP version

commit affd3c837dcb2bcdb711f026f7ad4749920f1ccc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 07:59:11 2017 +0800

    run: Add new job runner

commit 7357e301394db5935acdb15b4d22d2101bd79aa2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 11:44:36 2017 +0800

    configs: Start of on-sync. Skip lang upgrade in cron.

commit e98400eab6abbefce75b9fc26dc8cfa0fb6baef7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 08:49:18 2017 +0800

    docker_run: Add configs from docker image

commit d3327c852165fbfe89cbac7d516db3fa2c330530
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Nov 14 09:28:53 2017 +0800

    exttests: Add HTTP ext tests repo

commit e347a8389df0cdd48924d8ddd89e8593c87bbe9e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:59:41 2017 +0800

    docker_run: More interpolation fixes

commit dd5b6bdbc9da895a304212f979ae77b58c2b0a73
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:53:01 2017 +0800

    docker_run: More interpolation fixes

commit 9924855316b68a98a07835201bd99cf893b33148
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:42:03 2017 +0800

    docker_run: Typo fix

commit 028c4fa484b7f01ffef3f0e71284c5b1fffeaf91
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 12:38:23 2017 +0800

    docker_run: Quote MOODLE_PATH

commit 782b8a2f6ff8591729e9d46a0528dd6a79dfb76b
Merge: e6afa68 2041c1f
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Mon Nov 13 12:23:12 2017 +0800

    Merge branch 'dockerdb_34' into 'master'
    
    dockerdb: Add branches for 34 release
    
    See merge request integration/nightlyscripts!1

commit 2041c1fb344f979721087fc0d4d762b89427cdfd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 12:05:49 2017 +0800

    dockerdb: Add branches for 34 release

commit e6afa686e23c506b5d3448350668d14491ef6723
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 11:44:36 2017 +0800

    configs: Start of on-sync. Skip lang upgrade in cron.

commit bd26b5c923b10773a31e393feac6d97f183c2562
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 8 08:43:54 2017 +0800

    dockerdb: Switch to 2017-GA
    
    This change is now possible as we've switched to use of the overlay2
    docker storage driver.

commit 5bf9826b4f352bf69aff28dda1bd535f6dcf1a14
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:23:30 2017 +0800

    cron: Correct cron format

commit f71fed4d803e791ae3ed1b45a2c9609ceadc80c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:20:34 2017 +0800

    dockercleaner: status = exited

commit cf36cefc225bc6d9351a8ce93ffaeede6800b674
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:18:03 2017 +0800

    cron: Add daily job for dockercleaner

commit b368011028618e584312eac655ec14d27c2e4212
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:12:51 2017 +0800

    dockercleaner: Make this not suck

commit 934e3a853c1c4ec2ce28a50b77a6387642a2d5be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 11:42:52 2017 +0800

    docker_run: Quote MOODLE_PATH

commit b772068b5ce55a7d8ea1931c0fda53c9ce20303a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 10:11:35 2017 +0800

    dockerdb: Switch to use moodlehq image

commit ee752cb4065fbd161b25d844aeffeb2d6506796c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 10:11:26 2017 +0800

    dockerdb: Add DB for php71

commit b11856d97e7200cd1a133e4f685513a179ba6b34
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:35 2017 +0800

    dockerdb: Stop mapping ports.
    
    Welcome to a pure docker world. No more bare-metal builds to have
    headaches with.

commit ca1bfc0f27ecc8a88b7650daf4ab24cb0cb31d75
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:16 2017 +0800

    dockerdb: Add dbs for master

commit 4f9f95d93046607e93c6e996477946e2389d2f70
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:06 2017 +0800

    dockerdb: Remove outdated docs

commit dfed5a9d2cb2eddc80c8b4d3824870c87f2980b2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Aug 3 12:00:55 2017 +0800

    dockerdb: Do not wait for docker DB starts

commit a87eb0e4242eb2acacf7e94950f2a0e6f177dd99
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 13:56:17 2017 +0800

    dockerdb: Correct DB name

commit 443787c7e0adce39a39b156d9a99a7940a1d6014
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 10:51:56 2017 +0800

    docker_run: Switch to official Chrome Selenium image
    
    The previous image we used had a broken commit for :latest, and the
    previous version was not readily available.
    
    I've switched to the official, standalone image.

commit e101af4ae0a5d023c04b6558120d385945efc9c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:15:27 2017 +0800

    dockerdb: Add new DBs for generic job usage

commit 4de9fb6d5c49cf9cf9d9aa53dbdf3e89a6443e62
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:15:06 2017 +0800

    dockerdb: Pin to Postgres:9

commit 6e525795a7366fe88e7ea2b647dc4208aac5f35d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:11:51 2017 +0800

    dockerdb: Improve help for dockerdb

commit 7f82cbcc91fdb5acf981df3729897a1fccca0080
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:59:00 2017 +0800

    dockerdb: Fix mariadb to version 10.1
    
    We don't have compatability with 10.2 (MySQL 8) yet.

commit 07379159cfece3d4927e1a4d31e04cf38576bb00
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:46:50 2017 +0800

    cron: Fix cron scripts
    
    These weren't working before because of a mix of ownership issues, and
    other stuff.
    
    I've changed this to a model of job and script for easier future
    maintenance.

commit a8c2b674f50c189ff4dbcd8f3a0237bbd7bad117
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:16:35 2017 +0800

    docker_run: Make docker stop more resilient, and stop removing container
    
    In some instances, the docker images were stopped and removed before the
    trap was hit. This meant that the test was subsequently failed because
    the container no longer existed.
    
    I've made it more resilient by looping over a list, rather than the
    common shorthand. I've also stopped removing the container because the
    removal means that we lose the logs too.

commit eedbd25f2d5b72d829d628190cf6697dadd22b81
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:14:52 2017 +0800

    dockerdb: Stick to sqlsrv:ctp2-1
    
    sqlsrv:rc1 is buggy and broken on some nodes.

commit 02c8e9ca341c4951d9adf439e2cf7473cc1ab8ae
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:41:33 2017 +0800

    maintenance: Correct file permissions

commit b77ec90f15f2bb6f4d6eda81b82eb7b57610a1fa
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:38:56 2017 +0800

    maintenance: Add config backup script

commit 2a85bdd3fe89bd51dbdb96ab98f7231ea5ae8119
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:29:15 2017 +0800

    docker_run: Add DB Prefix info to job summary

commit 72624fb9daf198d48d6ed70511234b8b30a76ce4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 10:32:39 2017 +0800

    docker_run: Clean up images correctly after run

commit bd0ccda93bb07cee55597838de58125d05dcd135
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 08:45:09 2017 +0800

    dockerdb: Add DB for T.01

commit 6abfeecbbf93d5cfd92bb23f0bc6865f7a6ab00f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 08:43:36 2017 +0800

    docker_run: Remove old MOODLE_BRANCH param

commit 704e0ee73f9121f1417228b8ce3d6c835d73019f
Merge: 9f40477 095784d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jul 24 13:16:04 2017 +0800

    Merge remote-tracking branch 'origin/named_jobs'

commit 095784dd8d5b2203268331411fc042fb98342e5d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat Jul 22 15:45:11 2017 +0800

    docker_run: Silence empty directory removal

commit eefe579c3b889c136cc15fff0eab25b33be9be86
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:38:19 2017 +0800

    docker_run: Run as $UID instead of jenkins

commit a8f964328b50cfa66d7d83d792976ed0c71056f4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:36:47 2017 +0800

    docker_run: Bindmount the composer cache
    
    Note: The images we currently use run as 'rajesh' because of UID
    matches.
    We need to solve this better.

commit ec440419e11dbaffee7c6965204ac52b3cdf7f93
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:36:17 2017 +0800

    docker_run: Stop running composer outside of docker

commit 9f40477e8fac197daf534b9e069ef9371ed2f0c7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:17:34 2017 +0800

    docker_run: Remove commented out code of yesteryear

commit c2793912e22de14e34c9b4c945389343fc19f7db
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:20:51 2017 +0800

    docker_run: Switch from linked image to named on-network image for selenium

commit 2ebbbf935327deaae0ed11e39deea90d1a50465e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:54 2017 +0800

    docker_run: Switch to uuid naming

commit f4c977987cb705453c661102ecc1db4271ac5b3b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:38 2017 +0800

    docker_run: Ensure docker is on a network

commit 24193e89122a6772bf54a2a649c6c86c64efc425
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:29 2017 +0800

    docker_run: Remove more commented

commit 426ace636b8d1d8d8c5be2705a9e7735c216e494
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:02 2017 +0800

    docker_run: Ensure docker is on a network

commit 8b562166645f72ae7898c61a43b7f3bf323e1bc3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:18:31 2017 +0800

    docker_run: Switch to uuid naming

commit dca896e92f9b622dfad9cd4ba1b9bf50124c9209
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jul 13 20:52:41 2017 +0800

    MDLSITE-5153 no exceptions for any php version / database
    
    Moodle 3.4 and up requires php70. mssql is not availale for php70
    (only sqlsrv is) and oracle is too. So commenting any exceptional handling.

commit fc03eba427bd1f743b6368355fdd6419e94e09d2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 5 11:31:30 2017 +0800

    docker_run: Add info about the current run

commit e4b0f7479fcb1fbb408b7a3b566728bb5c910937
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 5 10:55:58 2017 +0800

    dockerdb: We need 31 databases again

commit 65d95d9f13934880103988a825c645b30f4c2dc3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 16 13:39:07 2017 +0800

    dockerdb: Put Oracle data on tmpfs

commit e4f4348e435d0e28abd404fc747774dd83128155
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jun 15 09:51:50 2017 +0800

    cron: Add cron scripts (Fixes MDLSITE-5150)

commit 4d0c445d765efe3bdc622cfe58f82dd014abf77e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 11:53:25 2017 +0800

    dockerdb: Add more MySQL/MariaDB tuning

commit e5ed9d0649a1f365d64e95e1581deca2d5128c7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 10:44:02 2017 +0800

    dockerdb: Add some tuning

commit 8c81986d547e4d0c9332b093a2b51d6eaa0d65b5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:37:16 2017 +0800

    dockerdb: Add improvements found in MariaDB

commit a489d422740bb0eda073cb5a066aa6f7bd2b4687
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:36:57 2017 +0800

    dockerdb: Switch to fixed version of the official mysql image

commit 4b1e69023176821b43d684c803883612515e4cd1
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:36:31 2017 +0800

    dockerdb: Expand mariadb detach option

commit 96adaf626df1e2452acb4c68122fb1a583132001
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:29:00 2017 +0800

    dockerdb: Move MySQL/MariaDB Password to environment
    
    Recent versions of MySQL emit a warning when the password is specified
    as a CLI argument.

commit bdf127cff2de7cd03667ef85ee2c8a6e6bef65b5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:24:08 2017 +0800

    dockerdb: Correct spacing of DB name for new DBs

commit 5bc5491c1c576c8357c37ab6188806cb47bcacf9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jun 1 06:23:35 2017 +0800

    Revert "docker_run: Build in a network"
    
    This reverts commit 9efbb8bdbf02b2b1f3addea489d1bb8a2d0df7a4.

commit 4ff6531e10df7cdd8adb427e22a3f7cbe292cd9e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:48:30 2017 +0800

    dockerdb: Add DB for php7 runs

commit 0ee70b8f75b45c93e755980e4a8430592229b775
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:38:35 2017 +0800

    setup_run_phpunit: Stop changing the MSSQL DBName if we don't need to
    
    The old VM only had one database, whereas the new docker image has one
    database for each run.
    
    We need to preserve the running for the old database in case we need to
    resurrect any old jobs.

commit de6c7b70c173114517b77f39b1f45c5f1c89e036
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:28:40 2017 +0800

    configs: Add parallel boost template found on nightly02

commit f431c5240e3a20284d54a06305d02fe2bccc6f54
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:23:27 2017 +0800

    configs: On-sync has ended. Stop skip langpack upgrades

commit 9e73afd89594cedcd5fd7f139fdfc938cbefd975
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:01:41 2017 +0800

    setup_: Echo out information on which database is being run today

commit 984216dc9744386ad7c3300567259cb2a5ce5437
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:49:57 2017 +0800

    dockerdb: Remove tmpfs from mssql

commit 106f1900994acfc909e00bf8e3bd6c90d953f0be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:42:00 2017 +0800

    setup_run: Add DbPort option

commit b2d1f42768ec382cb4a4c74ce87b45ca19ff9f0d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:40:17 2017 +0800

    configs: Add DbPort to match setup_run_phpunit

commit 0cb102cbfebe11f05fbad6f47997064905e12e67
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:35:34 2017 +0800

    configs: Bring config.php templates into git

commit 9efbb8bdbf02b2b1f3addea489d1bb8a2d0df7a4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:33:16 2017 +0800

    docker_run: Build in a network

commit 4d8e4e1faa7b6c3f3d1752c54aabd265975db986
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:29:49 2017 +0800

    dockerdb: Silence network creation

commit 4f7f121634150a2cecc9b7758c268fa2e4b81612
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:29:31 2017 +0800

    docker_run: Expand out docker run

commit 7d234526c5f9aa14a46a7a5f02868d1eae9803dd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:12:02 2017 +0800

    setup_run_phpunit: Add DbPort option

commit 73f48e29719c07b674095f0fd14a2834f831cc26
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:11:40 2017 +0800

    dockerdb: Add mariadb configuration

commit 2e7da39c72f1593e31bff286814abde3d71aa04d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:11:12 2017 +0800

    dockerdb: Add pgsql tuning

commit daf2b768391559c3ca9624ca9affac4acdbde6d9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:10:52 2017 +0800

    dockerdb: Move database partitions to tmpfs

commit 60f82163aeb3024864a24278cad9fb1ca565a2cd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:09:36 2017 +0800

    Move docker DB servers to their own network for better DNS resolution
    
    This makes use of docker's internal DNS resolution, which is only
    available to hosts running on a custom network.

commit 467b83601e8194df07a2277170fb72bcace7ed0e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:09:09 2017 +0800

    Expand docker run for db setup

commit cf5494b2faa2be57cf2cfe57d8645eb1e7bc457e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:06:55 2017 +0800

    Add support for DB Port to docker_run

commit dbfa320c859cbf9997b7dab94560d18496b63990
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:56:22 2017 +0800

    Move mariadb to tmpfs

commit 06defa01587affac144628d9704f9ed7b9902dec
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:51:18 2017 +0800

    Add .gitignore

commit 5754c93fe748b6423d3e1e9fdbc7b2d629d6aa48
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:50:36 2017 +0800

    Add Jenkins maintenance scripts

commit bb24bbefb3e83e40bb68dc3ad265159a854d45ca
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:50 2017 +0800

    Remove archive

commit f0d65eaaa0b56f71190703bf4cdc2f52ef76abaf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:43 2017 +0800

    Add archive

commit d059d034161e4f159e58c10814acfed8d74a4bf0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:10 2017 +0800

    Note about adding/removing databases

commit e000d5b1d44e6b787e547786d5b2bb91b23cbbdc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:37:25 2017 +0800

    Add a quick readme

commit 452fbb9bb177232fb6d63e294ac41903c612c3d0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:23:14 2017 +0800

    Switch to Dan's Oracle image

commit 2da98ad152dbb3ba371968f1d8b428daafd18dfe
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:23:02 2017 +0800

    Remove 21 databases

commit 261d4af18497ff63db71ead7a16aa6ddf622198f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:22:41 2017 +0800

    Tidy up faildump dir creation

commit f0b2fa4afa2515d739eca10b84653e0208da38b7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 15:44:42 2017 +0800

    Expose the sqlsrv port

commit 51891bb10cf4e61cebd6a0e6a20d88bbf563cd7b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 15:44:29 2017 +0800

    Correct DB init for sqlsrv

commit aea44409111987fd236d4f7e8abb5cfc6463af4a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 14:05:15 2017 +0800

    Correct docs for sqlsrv docker

commit 05b4937c3702d2069d2db48a6474a331a118dad1
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 14:04:19 2017 +0800

    Add M33

commit 04d79d0f0ca77f625731396a4dedc1d02d451c9b
Author: ${username} User <jenkins@nightly.test.in.moodle.com>
Date:   Wed Apr 12 09:16:37 2017 +0800

    Nightly scripts checkin
======================: FILES :======================
======================: BRANCHES :======================
======================: LOGINFO :======================
commit 2f5e8e5332c2e80cc4168bc1b176549ad8d099df
Merge: 88dd7f7 b429255
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Dec 15 10:24:16 2022 +0100

    Merge pull request #91 from stronk7/point_to_latest
    
    For sqlsrv, switch from 2017-latest to latest

commit b429255a73f0d36610f8f1e4999154dbfb411034
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Dec 11 11:31:13 2022 +0100

    For sqlsrv, switch from 2017-latest to latest
    
    Note that, right now, "latest" is exactly 2017-latest, so
    everything will continue working exactly the same.
    
    But once we finish with the tests @ MDLSITE-6045, we'll make
    2019-latest to become "latest".
    
    That's the reason the comment in the runner says
    "right now 2019-latest", because in hours, if everything
    goes ok, 2019 will become the latest.

commit 88dd7f7c32dd1e3254317d64073cdfc47c899146
Merge: dacb4b9 8c6c8fe
Author: Jun Pataleta <jun@moodle.com>
Date:   Sat Nov 26 19:25:57 2022 +0800

    Merge pull request #88 from junpataleta/41_disablelangupgrades
    
    Disable lang upgrades during 4.1 on-sync
    
    Merging as part of task #4 in packaging release tasks

commit dacb4b96c4d51d5cb1a24f05f9f488129d8fc712
Merge: 6b8f0e8 32ecdaa
Author: Jun Pataleta <jun@moodle.com>
Date:   Sat Nov 26 19:25:03 2022 +0800

    Merge pull request #90 from junpataleta/MR2_41_version
    
    Add Moodle 4.1 version
    
    Merging as part of task #4 in the release packaging tasks

commit 32ecdaa16beeec566d2821157021bbef6a42f890
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Nov 22 23:38:46 2022 +0800

    Add Moodle 4.1 version

commit 8c6c8fe66878f63b5b42e57d58f7b7fe6f056f78
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Nov 22 22:36:40 2022 +0800

    Disable lang upgrades during 4.1 on-sync

commit 6b8f0e857c07c8c1452df201c73769e9e6ca8d3f
Merge: 23d1022 79c14c9
Author: Jun Pataleta <jun@moodle.com>
Date:   Wed Aug 31 14:37:01 2022 +0800

    Merge pull request #85 from stronk7/postgres_replicas_10_and_up
    
    WIP: Make pgsql replicas to work with PostgreSQL 10 and up

commit 79c14c99b2af36686446ddf2b69cfae148902ef7
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 31 00:25:11 2022 +0200

    Make pgsql replicas to work with PostgreSQL 10 and up
    
    This seems to be working for PG 10, 11, 12, 13 and 14. I've finally
    left 9.6 out from the equation because it required to add some more
    shell scripts to be executed conditionally. And I think we can
    ignore that old versions @ CIs already (Moodle 3.9 works with PG 12
    perfectly).
    
    Note the changes here seem more complex, but basically it's because
    I've moved the stuff to be similar to the mysql/mariadb one, aka:
    
    - Create master / slave / standalone directories.
    - Move as much as possible to .sql entry points.
    - Keep shell scripts simple, only doing things really requiring a shell.
    
    Other than that, just renamed some setting or remove some stuff
    that was not needed (archiving, logging...) apparently.
    
    Fixes #79.

commit 23d10229496d8db16f1db3d12a384b8e1afb21d8
Merge: ef96180 6b81082
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Aug 29 16:58:35 2022 +0200

    Merge pull request #83 from stronk7/mariadb_replicas_102_104
    
    Make mariadb replicas to work with 10.2 to 10.7

commit ef96180f7f4c9112cd5559df3446f857671c33f3
Merge: 3891a8f 94a6c51
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Aug 29 10:02:27 2022 +0200

    Merge pull request #82 from stronk7/mysql_replicas_57_80
    
    Make mysql replicas to work with MySQL 5.7 and 8.0

commit 6b81082aa7fd59312deb56a891a78b055bd3930e
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 24 21:11:28 2022 +0200

    Make mariadb replicas to work with 10.2 to 10.7
    
    The code used here is 99% the same than the mysql one. But finally
    I've decided to copy it all over own mariadb.d directory.
    
    The only difference is when creating the replication database user
    because the MySQL sentence:
    
    CREATE USER 'replication'@'%' IDENTIFIED WITH mysql_native_password BY 'replication';
    
    Doesn't work with MariaDB. In fact, since MariaDB 10.2 the
    mysql_native_password is the default authentication plugin
    so it doesn't need to be specified. So this works the same:
    
    CREATE USER 'replication'@'%' IDENTIFIED BY 'replication';
    
    A working alternative is also:
    
    CREATE USER 'replication'@'%' IDENTIFIED WITH mysql_native_password USING PASSWORD('replication');
    
    But I've gone with the simple one because it's future better.
    
    As said, everything else is 100% the same, but better split that making
    complicated conditionals to get both working with the same config files.

commit 94a6c51bd7edeea66c11f9565a8839ed4e314152
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Aug 24 15:54:12 2022 +0200

    Make mysql replicas to work with MySQL 5.7 and 5.8
    
    This fixes #80. It has been detected that MySQL main/replica
    configurations have stopped working. My personal bet is that
    some changes in the MySQL images have leaded to that, or maybe
    they were working for MySQL 5.6 and never have worked to 5.7.
    
    NVM, this commit just makes them back to work for both 5.7 and 8.0,
    that are the currently "supported" MySQL databases.
    
    Note that, after this PR, we'll be checking the MariaDB main/replica
    configurations because they may need similar changes.
    
    Also, while I've tested the solution locally, we are lacking any own
    CI for this product, so I've created an issue about that:
    
    https://github.com/moodlehq/moodle-ci-runner/issues/81
    
    Finally, here there are the explanations about the changes performed:
    
    1. Moved the bin logs from /var/log/mysql to /var/lib/mysql . Reason
       being that the former directory doesn't exist anymore in MySQL 5.7
       and up (and also, that the binary logs are better with data than
       with logs).
    2. Removed the 'multi_admin' user related stuff. Not needed at all.
    3. Minor changes to moodle and root GRANT/IDENTIFIED stuff because
       of changes in MySQL 8 (already deprecated in 5.7). Use ALTER USER
       instead.
    4. Use IDENTIFIED WITH mysql_native_password (the old password schema),
       because MySQL 8, when using the new hashed schema requires
       communications between the hosts to be encrypted. We don't need that
       extra complexity and while it can be disabled as part of the CHANGE MASTER TO
       command... it cannot be disabled for MySQL 5.7. SO the only option
       working in both versions is the used one (force old passwords schema
       for the replication user).
    5. Remove the need of stopping and starting the temp server in the
       replica. All the commands can be executed with the temp server
       running and then the container entrypoint manageing itself will stop
       the temp server and start the final one.
    6. Stop needing gosu completely. Now the replica conf files are made
       available via volume mount (like the standalone or main cases).
    
    And that's all. The changes are small and subtle, but each one is
    for a good reason, I think.

commit 3891a8f4ab36cfc5d4a7f466b0b2c78582eb9a92
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 23 12:06:40 2022 +0200

    Ensure that any Oracle > 11g doesn't use tmpfs anymore
    
    Apart from not giving a real benefit, the new machinery
    in Oracle 12 and up doesn't work well with these devices
    leading to all sort of problems is we also want to change
    system settings.
    
    Hence, disabling tmpfs. There are some more details in the
    long conversation @ https://github.com/gvenzl/oci-oracle-xe/issues/111
    (about that and many other details / iterations)

commit 08389ab2c008f1eedf9e310efc65945114bafd12
Merge: 88b8117 b6d1eaf
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Jun 6 09:13:33 2022 +0200

    Merge pull request #78 from moodlehq/testing
    
    Add support for specifying the DB tags (versions) to use

commit b6d1eafe0bac5fdae384edb516890bc13c5c070f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Jun 5 17:54:07 2022 +0200

    Add support for specifying the DB tags (versions) to use
    
    Added a new parameter, DBTAG, which behaviour is as follows:
    
    - If not specified, every database will use the currently
      pinned version (if there is any) or "latest" if not. Right now,
      the versions are:
        - mariadb: 10.7
        - mysqli: 5.7
        - oracle: latest (11)
        - pgsql: 12
        - sqlsrv: 2017-latest
    - If specified, then that tag will be used, say, for example:
        - mariadb: 10.6, 10.5,...
        - mysqli: 8.0,...
        - oracle: 19, 21,...
        - sqlsrv: 2019-latest,....
    
    So, this change doesn't make any difference in current default
    jobs (only pgsql has been raised to 12 to be ready for 4.1). Everything
    will continue running exactly as it's now.
    
    Only when we add support for that new DBTAG parameter in jobs (and in
    nightlyjobs) is when we'll be able to run alternative versions.

commit 88b8117b7ba8ca7b4e3d06282d160e5a4b23cf3c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue May 24 17:19:22 2022 +0200

    Pin MariaDB to 10.7, new 10.8 and 10.9  have problems (take II)
    
    Again (we unpinned it 3 months ago!), pin MariaDB
    to continue using 10.7, because 10.8 and 10.9 (just released) have some
    startup / init problems.

commit b93a84091e401db4f4186ddf97d76353f219803d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue May 24 16:58:08 2022 +0200

    Pin MariaDB to 10.8, new 10.9 has start problems
    
    Again (we unpinned it 3 months ago!), pin MariaDB
    to continue using 10.8, because 10.9 (just released) has some
    startup / init problems.

commit f977d82b966d0b1ac76b7fdb2f3f08e9c29335d6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 16 16:24:54 2022 +0200

    Remove the local/moodlemobileapp existence condition
    
    Previously the app was only started if the moodlemobileapp
    plugin was installed. But it may be perfectly ok to have
    alternative plugins to that one.

commit fb50f9ce19f3003286963a11431ea48303be62b7
Merge: fdce1d4 e2e1517
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Apr 28 13:56:27 2022 +0200

    Merge pull request #75 from junpataleta/40_enablelangupgrades
    
    Re-enable lang upgrades after the 4.0 on-sync period

commit e2e15170be3b1551a6e87881530be794d73f53da
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 12 11:57:36 2022 +0800

    Re-enable lang upgrades after on-sync

commit fdce1d4d7c20324b04e0d147269633e3237b2477
Merge: 7c7bee2 3a00bd7
Author: Víctor Déniz <victor@moodle.com>
Date:   Mon Apr 18 20:51:31 2022 +0100

    Merge pull request #76 from stronk7/enable_langimport_tests_when_not_skipping
    
    Enable lang install/upgrade tests only if lang upgrades are enabled

commit 3a00bd79fa53e1c0840e4c456570bb11f92f433c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Apr 18 12:37:20 2022 +0200

    Enable lang install/upgrade tests only if lang upgrades are enabled
    
    Over a few days/weeks after a major release, the lang upgrades
    are disabled in testing infrastructure, because the new development
    branch (4.1) in this case, doesn't exist yet.
    
    When we proceed to disable the lang upgrades (part of the release
    process) we need to ensure that all the tests using the languages
    install/upgrade are skipped.
    
    To do so, we don't define the TOOL_LANGIMPORT_REMOTE_TESTS constant
    so all the related tests always will look for it to decide between
    being executed or skipped.
    
    In PHPUnit that's checked with code like:
    
        if (!defined('TOOL_LANGIMPORT_REMOTE_TESTS')) => skip
    
    In Behat that's checked with the step:
    
        Given remote langimport tests are enabled
    
    For more details, see https://tracker.moodle.org/browse/MDL-74512

commit 7c7bee2f295b2f83e7e5ba38aa06ae99386fc2b8
Merge: 1499e43 25d9e32
Author: Jun Pataleta <jun@moodle.com>
Date:   Sun Apr 17 15:53:01 2022 +0800

    Merge pull request #74 from junpataleta/40_disablelangupgrades
    
    Disable lang upgrades during on-sync

commit 25d9e32c3e10c32a7dacb0c1b2340725942b95d3
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 12 11:56:58 2022 +0800

    Disable lang upgrades during on-sync

commit 1499e4388787a77a52cafc9108246458fc84fc91
Merge: 73c20f2 ecebf60
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Apr 5 15:57:11 2022 +0800

    Merge pull request #73 from stronk7/add_ml_python
    
    Add support to run the python mlbackend analytics tests

commit ecebf60f063439c6ea7bbff375c6bf01b0a8038b
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Apr 5 09:39:06 2022 +0200

    Add support to run the python mlbackend analytics tests
    
    Disabled by default, just define `MLBACKEND_PYTHON_VERSION`
    with a correct tag of the docker image and that will make
    the container to run and the PHPUnit jobs to use it. Example:
    
    export MLBACKEND_PYTHON_VERSION=3.0.4-python3.7.5
    
    This it the first step towards adding these tests to CI.

commit 73c20f2fa47b13b55ee443f97f144a40f45989db
Merge: 4498b70 add5d74
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Feb 26 10:05:52 2022 +0100

    Merge pull request #72 from stronk7/unpin_mariadb
    
    Unpin MariaDB

commit add5d74a25780ce672084f5200bfd7bf6459978a
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Feb 26 09:45:57 2022 +0100

    Unpin MariaDB
    
    Now that 10.6.7 and 10.7.3 have been releases and their
    docker images are available, we can unpin it @ GHA.
    
    Fixes #55

commit 4498b708adf0e9fdb3d93a71c8b5495c45f388ec
Merge: 516b323 8db6d8b
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Feb 8 23:04:21 2022 +0100

    Merge pull request #70 from moodlehq/branch_40
    
    Add Moodle 4.0 version

commit 8db6d8b86392184cd3a7c271b3270bde54a69329
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 8 20:38:27 2022 +0800

    Add Moodle 4.0 version

commit 516b323cd729c295f65a017ab9cf6c0217b6de75
Merge: 6399b2f 3f79c0b
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jan 19 16:28:10 2022 +0100

    Merge pull request #69 from stronk7/bring_back_unconditional_xvfb
    
    Revert "Don't start xvfb in headless runs"

commit 3f79c0beec53c2f7e43ccbe5b9a44fcdd34cefcc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jan 19 16:20:12 2022 +0100

    Revert "Don't start xvfb in headless runs"
    
    This reverts commit 520e91ee67cb27c5f9c6973c1c9997167b1942b2.
    
    Immediately after applying #67 we have started to get all
    headless jobs failing with all sort of timeouts and > 8h
    of execution time. Headless runs.
    
    And this is the only change that has been performed since
    then, hence, reverting here and now.

commit 6399b2f204e08a2ad77a8434c834ec3ef115989e
Merge: d1dbed9 d11b5b6
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Wed Jan 19 11:24:47 2022 +0100

    Merge pull request #68 from moodlehq/alwaysFailOnRisky
    
    [runner] Always apply fail-on-risky

commit d11b5b6c4ef19936a2a5614fc16a0d1880b89fda
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Sep 26 13:16:40 2021 +0800

    [runner] Always apply fail-on-risky

commit d1dbed938e2ba091885284219dbd97452287b327
Merge: 191b387 520e91e
Author: Andrew Lyons <andrew@nicols.co.uk>
Date:   Wed Jan 19 08:24:45 2022 +0800

    Merge pull request #67 from moodlehq/xvfb
    
    Don't start xvfb in headless runs

commit 520e91ee67cb27c5f9c6973c1c9997167b1942b2
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 23 14:02:11 2021 +0200

    Don't start xvfb in headless runs
    
    It's not used and for sure will save some resources.

commit 191b387387c71179569812103595bd5fec2d62e5
Merge: adf2361 807f300
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Dec 9 16:35:42 2021 +0100

    Merge pull request #66 from moodlehq/chromedriver_bump
    
    [runner] Update to Chromedriver 96.0 custom

commit 807f300b9e362266aa2b3141ddf67c230aa9ad2f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 1 11:56:01 2021 +0800

    [behat] Force set marionette capability to true
    
    This works around https://github.com/Behat/MinkExtension/issues/376.

commit 1c8c62a863c557b43bae0537619a8108435fd10b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Nov 30 10:38:55 2021 +0800

    [runner] Update to Chromedriver 96.0 custom

commit adf2361b62d1b7575e4280c712576afb9b1a3db9
Merge: f88d0d1 2f8500e
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Nov 18 11:40:11 2021 +0100

    Merge pull request #65 from moodlehq/bbb-container-name
    
    Fix wrong BBB mock server container name

commit 2f8500e499062165875831f03d88bd6fdfa7d96e
Author: Víctor Déniz <victor@moodle.com>
Date:   Thu Nov 18 09:19:26 2021 +0000

    Fix wrong BBB mock server container name
    
    We were using the wrong container name in docker logs and getting errors during testing like "Error: No such container: http://bbbmock9145c76fb054c670"

commit f88d0d184259019a4c9d356e3196392e72c28010
Merge: a356bf8 4557921
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Nov 16 19:43:48 2021 +0100

    Merge pull request #64 from moodlehq/bbb-mock-server
    
    Add bigbluebutton mock server support

commit 4557921c4d11454fa2b9ecd15f976606c56f89c4
Author: Víctor Déniz <victor@moodle.com>
Date:   Tue Nov 16 16:26:22 2021 +0000

    Get BBB mock server image from moodlehq

commit c2f64e4e2f85d4bf4760ee2003695a81e829acc9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Sep 1 12:37:49 2021 +0800

    Add bigbluebutton mock server support

commit a356bf87df4796d291a1b98efce97d7d269622a9
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Oct 21 16:23:17 2021 +0200

    Add RUNCOUNT to de job summary information

commit 7a332221aaba02ab3f0476e7443f1c4a2659cedc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Oct 21 15:07:45 2021 +0200

    Add information about the installed plugins and their commits

commit baa4df45feb5de55fb7a14da1845b7a23bd2e5c8
Merge: 1efdc00 14292c7
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Mon Oct 18 18:24:03 2021 +0200

    Merge pull request #62 from andrewnicols/customchromedriver
    
    [runner] Switch to custom chromedriver image

commit 1efdc007636385fe2f4455408f0ac5bd3698a8c3
Merge: f2f7295 e6d63a4
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Oct 15 09:44:00 2021 +0200

    Merge pull request #60 from andrewnicols/nogit
    
    [runner] Stop installing git

commit 14292c78bea2616b0dad6bfec5b0f5b493114446
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Oct 15 08:10:49 2021 +0800

    [runner] Switch to custom chromedriver image
    
    See https://tracker.moodle.org/browse/MDL-71108 for details on the
    reasons behind this change, and its history.

commit e6d63a4541cea00d5ad91130bdc759f4408a8bb2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Sep 26 11:32:26 2021 +0800

    [runner] Stop installing git
    
    It's installed already.

commit f2f72953bd6ce755ddeca2c47ec35bc9ea783342
Merge: 0bcac46 30e5b98
Author: ilyatregubov <ilya.a.tregubov@gmail.com>
Date:   Tue Sep 14 17:03:06 2021 +0200

    Merge pull request #59 from stronk7/unpin_chome_and_cross_fingers
    
    Unpin chrome version and cross fingers

commit 30e5b98ac88e1db6eab9c39aaeb0dc1ecb699747
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Sep 14 16:56:51 2021 +0200

    Unpin chrome version and cross fingers
    
    We are going brave here and go back to unpinned chrome version, because staying with
    the old Chrome 79 version (3.141.59-zinc) is making things really harder and harder.
    We are aware that, for headed runs, there are some zero-size errors still not fixed,
    but headless ones should run ok. For reference, the problems we are aware are being
    tracked (as of 14 Sep 2021) @:
      - MDL-71108 : zero-size
      - MDL-72306 : feedback

commit 0bcac461b8245b41a57c2fbd182641d9a2428554
Merge: 242d3fc 56741b9
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sun Sep 12 18:20:47 2021 +0200

    Merge pull request #52 from stronk7/enable_classic_accessibility
    
    Revert "Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 242d3fcedb5afbbe614a52e79071b4aa39c2c444
Merge: b039c34 0dc556c
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Aug 27 11:04:44 2021 +0200

    Merge pull request #56 from andrewnicols/mobileAppPort
    
    Allow mobile app port to be customised

commit b039c3490bcba3b4c0d9e5aab5a2a5f929c60472
Merge: 87a90c3 cfc5036
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Aug 27 10:56:47 2021 +0200

    Merge pull request #57 from andrewnicols/removeTerminalFromReruns
    
    Remove terminal from rerun commands

commit 0dc556c8c98a6711d08303466e881cf1d01dd57f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 6 15:09:19 2021 +0800

    Allow mobile app port to be customised

commit cfc5036ae3d6360e6907dde08181d21c544b5cbc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Aug 10 21:53:23 2021 +0800

    Remove terminal from rerun commands

commit 87a90c3a470400b76147906669127820e613cffa
Merge: 90e2530 eed9af3
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jul 14 12:55:28 2021 +0200

    Merge pull request #54 from stronk7/mariadb_10.5_sticky
    
    Make mariadb:10.5 sticky

commit eed9af3e0b5e7887fcd02f854a2a49883bb38891
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jul 14 12:36:35 2021 +0200

    Make mariadb:10.5 sticky
    
    New mariadb:10.6 makes the COMPRESSED row format read-only by default
    because it's deprecated now and will be removed in mariadb:10.7
    
    This is being tracked @ https://tracker.moodle.org/browse/MDL-72131
    
    Once that issue is fixed and we switch to DYNAMIC or whichever the
    final solution is, we'll unpin this.

commit 90e253075284b043da520b882101837a3483b2a1
Merge: d4dafe3 4ed4506
Author: Sara Arjona <sara@moodle.com>
Date:   Tue Jun 22 11:07:36 2021 +0200

    Merge pull request #53 from stronk7/pg10_bump
    
    Pg10 bump

commit 4ed450679cf0b3aa2e2f7e8e71348db536801457
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 21 18:29:13 2021 +0200

    PG10 minor changes (replication related)
    
    Following the information @ https://www.postgresql.org/docs/10/release-10.html
    - rename functions, tools and options referencing "xlog" to "wal".
    - log_directory changed from "pg_log" to "log".
    
    Note that both:
    - wal-method=stream
    - log_directory=log
    
    are default options so, extrictly speaking we shouldn't need to set them
    but it doesn't hurt to have them explicily defined, so keeping them.

commit a4b02874efa1b7e11aba8e1e1d5d65038a1c9c88
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 21 18:08:46 2021 +0200

    Bump to PG10, Moodle 4.0 requirement

commit 56741b9fc2f14dbc09984d8b49dc22d79bd59d14
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Jun 13 23:03:42 2021 +0200

    Revert "Disable accessibility (axe) with classic till MDL-70846 is fixed"
    
    This reverts commit 6772ca686434a36ba1f318682d5083a4f0d2e7e6.
    
    Closes #49

commit d4dafe3b6b261c3fd1b28618161bc61a9523557f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed May 19 18:42:58 2021 +0200

    Move back to our public image, it's working ok since some months ago
    
    In the past we switched to private one because of some problems
    with Oracle & Docker removing access to all Oracle images. Since
    then our wnameless/docker-oracle-xe-11g base image is back so
    we created the -r2 public one based on it.
    
    More info @ MDLSITE-5669

commit e16b54b1b13c4cbd326a597e451166c54cdb6bcd
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Mar 14 15:41:21 2021 +0100

    Revert "Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton"
    
    This reverts commit 8b96786722b4bbada3e05e63fadbe1d5e8d598f6.
    
    We are going back (to Chrome 79) because 2 errors have been
    found with Chrome 89 needing to be fixed before jumping to it.
    
    More info:
    
    https://tracker.moodle.org/browse/MDL-71108

commit d0775338e44eb115274ee38bab3d798bb3b35106
Merge: 612e041 8b96786
Author: Jun Pataleta <jun@moodle.com>
Date:   Fri Mar 12 16:45:18 2021 +0800

    Merge pull request #51 from stronk7/chrome89
    
    Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton

commit 8b96786722b4bbada3e05e63fadbe1d5e8d598f6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Mar 11 17:04:03 2021 +0100

    Unpin selenium 3.141.59-zinc (Chrome 79) so 89 takes the baton
    
    We were waiting since some time ago to Chrome 89 to be released
    and, because of that, we had selenium pinned to 3.141.59-zinc
    version (Chrome 79).
    
    The cause for staying sticky was this issue:
        https://bugs.chromium.org/p/chromedriver/issues/detail?id=3682&q=&can=1&sort=-id
    
    Chrome (and chromedriver) 89 have been released and Selenium has
    already build the docker images for them:
    
    https://github.com/SeleniumHQ/docker-selenium/releases/tag/3.141.59-20210311
    
    So now we can unpin the old version and let the machinery to use the
    latest versions available. That's what this PR does.

commit 612e04179e19aafb236b3deebe4f0cdd7f6c5d74
Merge: 67f0ecc 6772ca6
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 19 06:51:48 2021 +0800

    Merge pull request #48 from stronk7/disable_axe_classic
    
    Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 6772ca686434a36ba1f318682d5083a4f0d2e7e6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Feb 18 22:44:46 2021 +0100

    Disable accessibility (axe) with classic till MDL-70846 is fixed

commit 67f0eccccdfc69242fabfb8923fc09bb0d683692
Merge: 3933a35 ddaf3b6
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Wed Feb 10 00:23:58 2021 +0100

    Merge pull request #47 from andrewnicols/axe
    
    Run axe tests on CI

commit ddaf3b680a45531f53baea086bffb4ea36447636
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Feb 7 08:08:31 2021 +0800

    Run axe tests on CI

commit 3933a35e297445bb0599e152cad12efa9ed9d70a
Merge: 101866d 6c65442
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Jan 16 17:45:38 2021 +0100

    Merge pull request #43 from andrewnicols/w3csupport
    
    Add W3C Support to the CI runner

commit 101866d853bdc2a64f3caac01e554bade91201d4
Merge: 50ba133 4f04878
Author: Sara Arjona <sara@moodle.com>
Date:   Wed Jan 13 14:48:53 2021 +0100

    Merge pull request #46 from andrewnicols/stopRunningIonic
    
    Stop running ionic when not testing mobile

commit 4f0487876f9528923747c58688a1fa54a49aa795
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 13 20:59:24 2021 +0800

    Stop running ionic when not testing mobile

commit 6c65442a5daf9945126b1e2dd120758c3585d63c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:05:55 2021 +0800

    runner: Add support for headless browsers
    
    A new environment variable, 'BROWSER_HEADLESS', is now respected. When
    present and not falsey, the relevant browser-specific flags are used to
    make browsers run headless.

commit 57227eb2ae778a687f3a615d27bfd0921243938f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:05:39 2021 +0800

    runner: Add browser verbosity control

commit 5ddde8fbe35a6b3cef1eb95828ce5b3997db4d9d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 13 10:07:05 2020 +0800

    runner: Support Mink with W3C driver and browsers
    
    This commit makes changes to support both the legacy instaclick Mink
    driver, and the newer W3C-compatible Mink driver using the php-webdriver
    project.
    
    To support this we now detect whether the instaclick driver is in use,
    and if so use Firefox 47.0.1, and disable marionette in the browser
    configuration.

commit dc64a2e807e966e71b2f1f654703e155fd9abbcb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 10:26:47 2021 +0800

    runner: Always show Job summary
    
    Remove the section tags which cause Jenkins to collapse the Job summary.
    
    The job summary is often useful when identifying jobs and it is
    unnecessarily collapsed in a section.

commit 50ba133b698ee73a0e76d7ef08506d6a6c52228a
Merge: eb46238 cdec51d
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jan 12 18:37:34 2021 +0100

    Merge pull request #45 from andrewnicols/alwaysShowSummary
    
    runner: Always show Job summary

commit eb462380d1819e70b5f59060942858294c34aa12
Merge: bb2765e bf5d2db
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jan 12 18:32:02 2021 +0100

    Merge pull request #44 from andrewnicols/initdbfix
    
    Correct file permissions for DB entrypoints

commit cdec51dc0d49ee1995b7717933e03e1b51362454
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 10:26:47 2021 +0800

    runner: Always show Job summary
    
    Remove the section tags which cause Jenkins to collapse the Job summary.
    
    The job summary is often useful when identifying jobs and it is
    unnecessarily collapsed in a section.

commit bf5d2db9b89bb31e56469ddbf92eb8af719becfb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 11 09:10:10 2021 +0800

    Correct file permissions for DB entrypoints
    
    These scripts were missing the executable bit which was causing issues
    on MacOS.

commit bb2765e405f2aae3a675bea2f8c4d2208fe932be
Merge: 1b61851 949de31
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Dec 26 13:02:45 2020 +0100

    Merge pull request #40 from stronk7/enable_lang_upgrade
    
    Enable lang upgrades again

commit 1b618511ce0b38cb99a7b3bdfeb78f576aa84738
Merge: fa35a42 ed19688
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri Nov 13 18:50:55 2020 +0100

    Merge pull request #41 from stronk7/311_versions
    
    Add Moodle 3.11 version

commit ed19688323f33d5202d3204005baa5f3ebbe6a8d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Nov 13 17:04:37 2020 +0100

    Add Moodle 3.11 version

commit fa35a4211e2fcae86562c881e745c76539a4ae82
Merge: 459f133 3210a89
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 2 09:06:15 2020 +0800

    Merge pull request #39 from stronk7/logs_take2
    
    Better log file names + also log phpunit images

commit 949de31e7f22733033ad453ecb3ed64284db9cb9
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Nov 1 23:38:59 2020 +0100

    Enable lang upgrades again
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information
    
    Under parallel development, until the new dev branch (310_STABLE in this
    case) language packs are and available.

commit 3210a89b6e017f1faa1c09eb6d7678959d75aa7e
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Nov 1 16:45:48 2020 +0100

    Better log file names + also log phpunit images
    
    This does a couple of things:
    
    1) export all logs using better container names (names instead
       of ids, with some current names improved "run => webserver...)
    2) move the log exporting out from behat section, so it's also
       executed for phpunit runs and we get other logs that could be
       also useful at some point.
    
    This is a followup of https://github.com/moodlehq/moodle-ci-runner/pull/38

commit 459f133ee1e669b2da1848738037e7ef36b99222
Merge: e7d8e7b 1e3d130
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu Oct 29 09:50:46 2020 +0100

    Merge pull request #38 from andrewnicols/logs
    
    runner: Store all of the docker container logs

commit 1e3d130c8a82fa4bdfb8e8c23faa6d02e37d47d4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Oct 29 15:52:11 2020 +0800

    runner: Store all of the docker container logs

commit e7d8e7b6f23e51197c25426f35140c9d0e96349a
Merge: ea04e94 21dfcbc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 17 19:32:11 2020 +0800

    Merge pull request #37 from stronk7/unpin_mariadb
    
    Unpin MariaDB and remove deprecated / removed settings from config

commit 21dfcbc2bbbe8c5e5c9385502b7452b51cbf8f98
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Sep 11 23:24:24 2020 +0200

    Unpin MariaDB and remove deprecated / removed settings from config
    
    this shouldn't affect MySQL because current (5.7 and up) defaults
    match the settings.

commit ea04e944683151460664535547542a0d38319343
Merge: 5af1206 bacbb8c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 10 17:56:40 2020 +0800

    Merge pull request #36 from stronk7/show_behat_increase_timeout
    
    Show the BEHAT_INCREASE_TIMEOUT config value on all runs

commit bacbb8c29354cc5487fd7d912d66dc2472c78e44
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Sep 10 11:06:24 2020 +0200

    Show the BEHAT_INCREASE_TIMEOUT config value on all runs

commit 5af1206badce74f734fb98f0ec8b6a6d2c1318ca
Merge: f679b06 8cd284f
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Aug 11 11:35:09 2020 +0200

    Merge pull request #35 from stronk7/disable_lang_upgrade
    
    Disable lang upgrades, to be enabled once the lang branch is available

commit f679b067f2a41892d8db739a102aa319ffc1d8f4
Merge: b9064c7 bedb181
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Aug 11 11:34:52 2020 +0200

    Merge pull request #34 from stronk7/310_versions
    
    Add Moodle 3.10 version

commit 8cd284faa1aa6002b08acf13b4776b9f2a74a90c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Aug 10 11:08:23 2020 +0200

    Disable lang upgrades, to be enabled once the lang branch is available

commit bedb181218d3dd53614fc64eacf2b501ac57826f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Aug 10 11:05:46 2020 +0200

    Add Moodle 3.10 version

commit b9064c7fb5f22c089a22dac45d8079ac0e8c8c4a
Merge: e42c7fd 1a1e718
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 30 06:59:43 2020 +0800

    Merge pull request #32 from stronk7/external_https_exttests
    
    Make unit tests also use exttests docker container for https tests

commit 1a1e718169b0225d752c5303cdaca9571890b314
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Jul 18 12:11:09 2020 +0200

    Make unit tests also use exttests docker container for https tests
    
    While we are already using the exttests docker image for HTTP
    requests (avoiding to use download.moodle.org), we are not using
    it for HTTPS tests.
    
    Looking to codebase, there is only ONE tests using HTTPS and it's
    the one that uses to fail when there are porblems with downloads.
    
    As far as that test doesn't perform any check or validation related
    to certificates, we can, simply, configure unit tests to also use
    the HTTP exttests URL to run the HTTPS test.
    
    If tomorrow we need some real HTTPS test, surely we'll need to
    incorporate some mutual recognised certificates, or a real one..
    
    But right now that's not needed.

commit e42c7fd7a7d15777a9843da9a986e0808ed6791e
Merge: f98d032 c1fa35f
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Jun 23 22:58:10 2020 +0200

    Merge pull request #31 from stronk7/enable_lang_upgrade
    
    Enable lang upgrade

commit c1fa35f1b41ae28074a14d80eec75b6cf4a354ce
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:58:22 2020 +0200

    Enable lang upgrades again
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit f98d032dba13d122c8cdc5aaea31e2359182c4e0
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Jun 10 15:52:38 2020 +0200

    Add back the recently removed sleep, we need it for now
    
    Once we get https://tracker.moodle.org/browse/MDLSITE-6178
    properly implemented we'll be able to revisit all the
    current harcoded pauses.

commit ac8f7607e45bf74977a111b5586884fab1c714e1
Merge: b622687 8ca70ac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 9 07:24:28 2020 +0800

    Merge pull request #30 from stronk7/disable_lang_upgrade
    
    Disable lang upgrades, to be enabled after on-sync

commit b622687b818b0866238c508fe80f5c15655da18c
Merge: 5e8da83 7a8a42f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 9 07:23:22 2020 +0800

    Merge pull request #29 from stronk7/39_versions
    
    Add Moodle 3.9 version

commit 8ca70ace3475237ca70d5b0bc85b5876c47ba3de
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:55:37 2020 +0200

    Disable lang upgrades, to be enabled after on-sync

commit 7a8a42fd286197d0c12065ffc20b88e35575f5de
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Jun 9 00:53:02 2020 +0200

    Add Moodle 3.9 version

commit 5e8da83fde01cffbcf99542cbae5c9bcc886a130
Merge: 8e0fd99 41cceb6
Author: Jun Pataleta <jun@moodle.com>
Date:   Tue Jun 2 17:22:43 2020 +0800

    Merge pull request #27 from stronk7/moodlehq_sqlsrv_image
    
    Switch to modern sqlsrv own image

commit 41cceb6171884f25e6774b695ee27ec07ccf138f
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Jun 1 01:26:44 2020 +0200

    Switch to modern sqlsrv own image
    
    It comes with important memory reduction, specially important
    now that we are also running sqlsrv unit tests as part of ToBiC.
    
    Also remove not needed commands and pauses because the container
    startup handles both.

commit 8e0fd99de3995d51f90bf22fa463f9dea718183b
Merge: 5a28bb7 2aa7c00
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sun May 24 19:58:33 2020 +0200

    Merge pull request #24 from moodlehq/dbslave
    
    DB Slave support

commit 2aa7c0073ab43a2a94514177695353da233fd2b6
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue May 12 13:49:35 2020 +0800

    runner: MySQL Replicate support

commit 74d4d862c308e745c5add7f0f2c58f7d4553cdc4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 11 15:43:58 2020 +0800

    runner: Support postgres slaves

commit 5a28bb7818272c4435831768441eb42f6456da0c
Merge: c6fc3a0 13936d1
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue May 19 16:17:29 2020 +0200

    Merge pull request #23 from crazyserver/patch-1
    
    Change Moodle App docker repository

commit 13936d19c9e28e9dc758fd72c0d028f73899dc2d
Author: Pau Ferrer Ocaña <crazyserver@users.noreply.github.com>
Date:   Tue May 19 14:58:11 2020 +0200

    Change Moodle App docker repository

commit c6fc3a0974f39eb018d628f1e045c7485bfc4e5d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 18 22:38:18 2020 +0200

    Disable options not directly related with the run type

commit 3d1ff1c4ce7b38c810fbbb1b9235d0ff8b548682
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu May 14 03:02:07 2020 +0200

    Added support for multiple reruns (defaults to current 1)
    
    Now it's possible to perform multiple reruns, controlled by
    the BEHAT_NUM_RERUNS env variable. It defaults to current 1.
    
    Also, if 0 is passed, don't perform any rerun.
    
    Output files (pretty, junit) now will have the format:
    
    - prettyRUN_rerunRERUN.txt
    - logRUN_rerunRERUN.junit
    
    Where RUN is the # of parallel run (empty for single)
    and RERUN is the rerun iteration.

commit 9b8619d417a8131ec34e5ee33d14a74ab975a1fe
Merge: af8ad05 c27cac8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 18 07:16:06 2020 +0800

    Merge pull request #22 from stronk7/avoid_chrome80
    
    Avoid Chrome 80 because it's causing some SCORM tests to fail

commit c27cac893a4f46637464a7d05f4004f5f91d46ad
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Feb 17 17:49:34 2020 +0100

    Avoid Chrome 80 because it's causing some SCORM tests to fail
    
    See https://tracker.moodle.org/browse/MDL-67989 for more information,
    once that is solved, we'll revert this, proceeding with #21

commit af8ad051bb76536d9c97201428aea30927d80383
Merge: b0f1332 4171a80
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Dec 28 11:43:39 2019 +0100

    Merge pull request #20 from stronk7/bump_mariadb_102
    
    Bump MariaDB to 10.2 to fulfill Moodle 3.9 requirements

commit 4171a80b7d02d1fb8931e72d2e6217ee9f705a99
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Dec 28 11:21:25 2019 +0100

    Bump MariaDB to 10.2 to fulfill Moodle 3.9 requirements
    
    See https://tracker.moodle.org/browse/MDL-65809 for details

commit b0f1332755eb460d037da7c5f3bfa58f7029641c
Merge: 9832e97 c88ed81
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Tue Dec 17 23:54:02 2019 +0100

    Merge pull request #19 from stronk7/disable_skiplangupgrade
    
    Disable skiplangupgrade

commit 9832e9799dcdc44b5ca0c4b2e10ce8d4effeac92
Merge: 8e2f14e 024baad
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Nov 16 18:32:38 2019 +0100

    Merge pull request #18 from stronk7/enable_skiplangupgrade
    
    runner: Set skiplangupgrade as part of on-sync period

commit 8e2f14ea7ef584d4550decdfd98a98dbeb2b5d42
Merge: fc97b3d 289f974
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat Nov 16 18:32:02 2019 +0100

    Merge pull request #17 from stronk7/38_release
    
    runner: Add Moodle 3.8 version of the runner

commit c88ed81e6492b46c025027a312ab8177e976b628
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:58:34 2019 +0100

    runner: Unset skiplangupgrade after the on-sync period
    
    This is MR4 in the [release
    process](https://docs.moodle.org/dev/Release_process#1_week_prior)
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 024baade98f99dd50b0b5ed5d00e741947547d88
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:55:14 2019 +0100

    runner: Set skiplangupgrade as part of on-sync period
    
    This is MR3 in the [release
    process](https://docs.moodle.org/dev/Release_process#1_week_prior)

commit 289f974d4b0f03950aaf680ae25d4057d1972653
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Nov 9 19:52:09 2019 +0100

    runner: Add Moodle 3.8 version of the runner

commit fc97b3d368d29e42e13ef9352916a7de5f8e336f
Merge: 66cc4a1 0e40fe4
Author: Jun Pataleta <jun@moodle.com>
Date:   Mon Oct 14 15:39:19 2019 +0800

    Merge pull request #16 from stronk7/images_summary
    
    Show the creation date and hash/digest of involved images in a run

commit 0e40fe4bd76a45823b3d86adaa66345db200f175
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri Oct 11 22:19:55 2019 +0200

    Show the creation date and hash/digest of involved images in a run

commit 66cc4a1261a82a6545bf86bff291c10105d60cf4
Merge: 716f333 a713c0c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:28:41 2019 +0800

    Merge pull request #14 from stronk7/enable_mongodb
    
    Enable mongodb

commit 716f333ace352e73425c12fcb025b430159c1f5c
Merge: 148a3af b3b185b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:28:18 2019 +0800

    Merge pull request #13 from stronk7/enable_memcached
    
    Enable memcached

commit 148a3af6a304889982e4f3061fe32af60d4cf055
Merge: 8e6d745 4881af9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:27:38 2019 +0800

    Merge pull request #12 from stronk7/enable_solr
    
    Enable solr

commit 8e6d745e7be5718d66ba54f6acf6a90e5e911cf2
Merge: dac6a76 d96d7cf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:27:16 2019 +0800

    Merge pull request #11 from stronk7/more_reliable_scriptpath
    
    Make the detection of SCRIPTPATH more reliable

commit dac6a762a73bbd601034304127d85a7953df3aad
Merge: b457662 1fe8710
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 9 08:26:11 2019 +0800

    Merge pull request #6 from sarjona/runner-appversionvar
    
     runner: Add support to MOBILE_VERSION and PLUGINSTOINSTALL settings

commit a713c0c137ff60db3c14e9546a60c2418994b135
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 18:50:14 2019 +0200

    Add support for mongodb tests

commit b3b185b648b3a93986b28156291c14a02bc294c1
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 17:04:54 2019 +0200

    Add support for memcached tests

commit 4881af9997f1da4c4c6413399c4275328bdcd7b8
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 16:23:25 2019 +0200

    Enable back solr, it's working with all php images

commit d96d7cf61205fccdfc62e23ac9db1792c7880abc
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sat Oct 5 13:56:20 2019 +0200

    Make the detection of SCRIPTPATH more reliable
    
    So it can be executed from other scripts, or aliased...

commit 1fe871046e5402d5b2b47806e1071c5f355f9005
Author: Sara Arjona <sara@moodle.com>
Date:   Fri Sep 20 17:31:54 2019 +0200

    runner: improve PLUGINSTOINSTALL and MOBILE_VERSION support
    
    Some improvements have been added, following Andrew's suggestions:
    - If the MOBILE_VERSION is not defined, the moodlemobile docker
    container won't be executed.
    - Instead of creating a temporary folder for the plugins, a new
    setting, PLUGINSDIR, has been added. By default they will be
    downloaded to $WORSPACE/plugins.
    - Those new settings have been added to the README.md

commit 44c4e60038cb731a694fda364a6d9731933e128b
Author: Sara Arjona <sara@moodle.com>
Date:   Fri May 31 12:28:21 2019 +0200

    runner: Add PLUGINSTOINSTALL variable to install external plugins

commit d5ebe8cb8fbfc6a122d572916f8f8bdc52aac9b0
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 16:19:14 2019 +0200

    runner: Add MOBILE_VERSION variable to define the app version to run @app tests

commit b9dcf77fe75a19a1733b01ed7d7605680783b020
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 17:00:39 2019 +0200

    Unpin mobile once that breaking tests are removed (MDL-65869)
    
    This reverts commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f.

commit af3943120701d2532177723c2e7afc79f6e4bd65
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 16:57:36 2019 +0200

    Enable back Redis session tests for PHP 7.2 and up
    
    This reverts commit f36e8081c50dfa7342b9e91736c1febeeedebbd6.

commit fabe6dea67da25f01ccffd38788d3bd7e8d5305f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jun 12 09:08:01 2019 +0800

    Temporarily ping mobile to 3.6.1 until failing tests removed

commit b4576622ce3efd624698ac0bc11b3a576a81b975
Merge: 348685d 51ff441
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Sep 12 21:33:01 2019 +0800

    Merge pull request #10 from stronk7/unpin_mercury
    
    Unpin 3.141.59-mercury and allow any new 3.x release to be used

commit 51ff44139da1fe952fcde88a21579fc1f658957c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Wed Sep 11 16:46:05 2019 +0200

    Unpin 3.141.59-mercury and allow any new 3.x release to be used
    
    With MDL-66378 and, specially, https://github.com/moodlehq/php-webdriver/pull/1
    we can continue using Chrome >= 76 because we are enforcing the
    use of the legacy JsonWire protocol (instead of the default W3C one).
    
    So it has been agreed that we'll allow any 3.x new release to be used in
    order to detect problems earlier (we always can pin again if needed).

commit 348685d0918ea2d5c9ff2f0d4eb2bd49644499d2
Merge: bb20f2c 5779fe2
Author: Adrian Greeve <abgreeve@gmail.com>
Date:   Tue Aug 20 14:41:29 2019 +0800

    Merge pull request #8 from moodlehq/revert-7-chrome_unpin
    
    Revert "Revert "Moving away from 3.141.59-neon coz it's causing problems""

commit 5779fe24d006ca3f1acc8f2dcc5b6919c279bda7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Aug 20 14:38:15 2019 +0800

    Revert "Revert "Moving away from 3.141.59-neon coz it's causing problems""

commit bb20f2cd499f008116fab9a7c47472712e93c84b
Merge: 3fb9dc6 9443e85
Author: Adrian Greeve <abgreeve@gmail.com>
Date:   Tue Aug 20 14:31:09 2019 +0800

    Merge pull request #7 from moodlehq/chrome_unpin
    
    Revert "Moving away from 3.141.59-neon coz it's causing problems"

commit 9443e85a1bfff80333288626fd353769b72392b9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Aug 14 13:48:49 2019 +0800

    Revert "Moving away from 3.141.59-neon coz it's causing problems"
    
    This reverts commit 1bda1c27f698e5a96180836b59b19f254b5fbd58.
    
    Fixed by way of MDL-66378.

commit 3fb9dc6c5ae6268357a22b6e057aaa3e872f736d
Merge: 2d13771 0b953ee
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 28 06:40:00 2019 +0800

    Merge pull request #5 from stronk7/redis_session_tests_are_back
    
    Enable back Redis session tests for PHP 7.2 and up

commit 0b953eecf390263e561d9efc1918e33fbebcc1c1
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 17:00:39 2019 +0200

    Unpin mobile once that breaking tests are removed (MDL-65869)
    
    This reverts commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f.

commit f161c4ecb848b52728c073702624949cb0f887a5
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jun 20 16:57:36 2019 +0200

    Enable back Redis session tests for PHP 7.2 and up
    
    This reverts commit f36e8081c50dfa7342b9e91736c1febeeedebbd6.

commit 2d137717e3808fe50b8f191fc106aa2f61f6f67f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jun 12 09:08:01 2019 +0800

    Temporarily ping mobile to 3.6.1 until failing tests removed

commit 97d40fe45eef9cda9dee4332200927c763b92a0d
Merge: f27d127 318e84b
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri May 31 09:51:04 2019 +0200

    Merge pull request #4 from sarjona/runner-fix-local
    
    runner: Avoid local network collissions

commit 318e84bdc11f66f6d6e8e25505bb942b9029fb86
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 14:39:49 2019 +0200

    runner: Avoid local network collissions

commit f27d127197acb4976a71c2638e21c29d1c5afed8
Merge: c18d21c 70ca27d
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Thu May 30 22:58:37 2019 +0200

    Merge pull request #3 from sarjona/readme-revision
    
    README: Update themes and add some extra parameters to the doc

commit 70ca27d7b8d7f036c7dffc2f7b9c31abf3fdc302
Author: Sara Arjona <sara@moodle.com>
Date:   Thu May 30 13:58:13 2019 +0200

    README: Update themes and add some extra parameters

commit c18d21c6d38431ca134be6732ebc88a942f02157
Merge: 551b15d ead8faf
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Sat May 25 00:03:25 2019 +0200

    Merge pull request #2 from andrewnicols/mobiletesting
    
    runner: Add Ionic testing

commit 551b15d59f7c81d26c7838621a9265bd9ca3a0cb
Merge: 2941637 f7078a4
Author: Eloy Lafuente <stronk7@moodle.org>
Date:   Fri May 24 23:55:36 2019 +0200

    Merge pull request #1 from andrewnicols/37_endonsync
    
    runner: Unset skiplangupgrade for end of on-sync period

commit 2941637e67830cef6334ebe3d0da8658828f8323
Author: Mark Johnson <mark.johnson@open.ac.uk>
Date:   Wed Mar 27 09:25:01 2019 +0000

    Add support for increased behat timeout

commit ead8faf6168cc7ae7f4d894827f49a4391cb6d7e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 31 06:53:45 2019 +0800

    runner: Add Ionic testing

commit f36e8081c50dfa7342b9e91736c1febeeedebbd6
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 20 22:50:53 2019 +0200

    Disable Redis session tests for PHP 7.2 and up
    
    See MDL-60978 for more information.

commit 8bbcbf0a05c15b15c96d8b743b50c4919f46bb80
Merge: 19fe0f5 6c7dbaf
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun May 19 18:17:43 2019 +0800

    Merge branch '37_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!29

commit 19fe0f5e4cbb50e7de1a870b308919a8d29b4688
Merge: 1bda1c2 fb50503
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun May 19 18:17:29 2019 +0800

    Merge branch '37_release' into 'master'
    
    runner: Add Moodle 3.7 version of runner
    
    See merge request integration/nightlyscripts!28

commit f7078a46484f9b417e33189d7c4ba8ed1df461eb
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:39:57 2019 +0200

    runner: Unset skiplangupgrade for end of on-sync period
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 6c7dbafd94bdf22132ad0d032150079aefeacd98
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:37:21 2019 +0200

    runner: Set skiplangupgrade as part of on-sync period

commit fb50503ce89e26378204c92930821fcbb6fe4829
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon May 13 01:32:59 2019 +0200

    runner: Add Moodle 3.7 version of runner

commit 1bda1c27f698e5a96180836b59b19f254b5fbd58
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Apr 30 16:06:14 2019 +0200

    Moving away from 3.141.59-neon coz it's causing problems
    
    So we are now explicitly using 3.141.59-mercury, from 1 month
    ago that was working till neon arrived (6 days ago). That is
    leading to lots of "invalid session id" errors leading to the
    re-execution of complete jobs (almost 2X execution time)

commit 1c626b647730aca6682147dd7006c177a817c696
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 20:21:57 2019 +0200

    Avoid colors that look horrible (escape seqs) in some clients (take#3)

commit 113c847885ab29bd232060a435f71c35c8c92b7c
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 20:14:20 2019 +0200

    Avoid colors that look horrible (escape seqs) in some clients (take#2)

commit d4e30b6abee5fb15c0bcf19639a309ba5e78fa12
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Sun Apr 28 18:59:32 2019 +0200

    Avoid ansi colors that look horrible (escape seqs) in some clients

commit ed1604b7fa7ad04c4533106419dc500d849c5ea8
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Apr 11 02:18:45 2019 +0200

    Add support for individual features/scenarios (--name)
    
    Also fix some small details, like 1-parallel, reruns and
    some old selenium version.
    
    Finally, note that the --config parameter requires to use
    this syntax:
    
    --config path/to/behat.yml
    
    and doesn't work with
    
    --config path/to/behat.yml
    
    Because of an annoying dependency built in core (MDL-65435). Once
    it's fixed, both syntaxes will work.

commit 39e2cb3eb3ee60056a40361e094227a7419d9a9f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Feb 18 15:05:37 2019 +0800

    runner: Bump chrome to 3.141.59

commit 674bf46278c225cd9507115c5f0344e2563a43ce
Merge: af3a800 a3398e0
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Feb 12 22:57:21 2019 +0800

    Merge branch 'mdlsite-5669' into 'master'
    
    runner: Update oracle image to moodle-db-oci
    
    See merge request integration/nightlyscripts!26

commit a3398e06b56964da1e88645bb7914953e1e99b9c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 12 15:11:55 2019 +0800

    runner: Update oracle image to moodle-db-oci
    
    Fixes MDLSITE-5669

commit af3a8009a6869929e4a67e3c0dbbec46d60465b4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 31 10:11:42 2019 +0800

    Marionette option is for Firefox only

commit d9431cd102f2d1078a2d149417f53933cd3fd48d
Merge: 16b748d c00a229
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu Jan 31 07:20:05 2019 +0800

    Merge branch 'ff_selenium_upgrade' into 'master'
    
    runner: Switch to MoodleHQ selenium image
    
    See merge request integration/nightlyscripts!25

commit c00a229752f41e8dcb1bbebe46dfd111b1c0735e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 12 13:11:52 2018 +0800

    runner: Switch to MoodleHQ selenium image
    
    This image uses a newer version of Selenium, disabling Marionette, but
    the old version of Firefox.
    
    It appears to be more stable than the images we've been using to date.

commit 16b748d2dc729d334c5c5479d121a5ac101fa011
Merge: dd82982 12e1904
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sat Jan 12 20:32:07 2019 +0800

    Merge branch '36_endonsync' into 'master'
    
    runner: Unset skiplangupgrade for end of on-sync period
    
    See merge request integration/nightlyscripts!24

commit dd82982330eed22998a14de9ea8152a9654c0cbd
Merge: 40df230 0c5102c
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Sun Dec 2 08:20:38 2018 +0800

    Merge branch '36_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!23

commit 40df230cbc64075c384aabfacf806f4f6cf2d080
Merge: 5b37b3f a606c9b
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Fri Nov 30 12:03:28 2018 +0800

    Merge branch '36_release' into 'master'
    
    runner: Add Moodle 3.6 version of runner
    
    See merge request integration/nightlyscripts!22

commit 12e1904875f7497febccff6ee96d813ae2cc2d40
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:52:55 2018 +0100

    runner: Unset skiplangupgrade for end of on-sync period
    
    Note: This pull request should not be completed until the end of the on-sync period.
    See https://docs.moodle.org/dev/Release_process#2_weeks_after for further information

commit 0c5102c821211fa901a9273fecb32da7a8f09b3d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:51:27 2018 +0100

    runner: Set skiplangupgrade as part of on-sync period

commit a606c9b728892022682bfab1a9465f1e813c5947
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Nov 29 21:49:02 2018 +0100

    runner: Add Moodle 3.6 version of runner

commit 5b37b3f915313c132299319a1ddf23c8e2cf6916
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 10 12:17:31 2018 +0800

    Revert "runner: Remove suite from behat run command"
    
    Unfortunately I have no idea why I wrote this change.
    The -a=[theme] should work, but does not.
    
    This reverts commit aeafe7d70fce06edd1e1da3137fbf0f857c47b7f.

commit 4aa09c8c19163d2752d2a977cb94b56cb174b4f8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Oct 10 12:17:29 2018 +0800

    runner: Add pathtosassc

commit aeafe7d70fce06edd1e1da3137fbf0f857c47b7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Sep 5 09:37:25 2018 +0800

    runner: Remove suite from behat run command

commit 054d655920b0ce49eb426c6b1f8cc0b87423fc2c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 11:26:00 2018 +0800

    runner: Disable SOLR for now :(

commit a1ff178fa83b8b0710ddf7d6395049610fdbf340
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 09:32:12 2018 +0800

    runner: Add redis to tests

commit e75774849038c688f8cb1f27310d601cf1ebea3d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 09:31:38 2018 +0800

    runner: Add solr to tests

commit 022c84006b6d3ece8a297823d8341e4ed5c1761f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 31 08:38:54 2018 +0800

    runner: Attempt to seed with cached composer.phar

commit 1cba58a03a674c3e77dd333c9c114b1461a703dc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 12 15:55:24 2018 +0800

    README: Move to project root

commit 00599ef9016ded2f3d535118eb52ade77f568cac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jun 12 15:55:08 2018 +0800

    runner: Add CODEDIR to readme

commit eb57951e64c8999624097e39d4fd31f654a0d084
Merge: 54a1141 2bd6d1b
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Jun 6 23:33:18 2018 +0800

    Merge branch '35_endonsync' into 'master'
    
    runner: Unset skiplangupgrade for end of on-sync period
    
    See merge request integration/nightlyscripts!18

commit 54a1141bd1f89323a91cb16a454e00a598de4fa0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 31 07:52:51 2018 +0800

    runner: Add default for timing filename

commit 0f8818d02dc8cf405ba4974ae1fe5de2301369e9
Merge: b5c4448 de1d2ff
Author: jun <jun@moodle.com>
Date:   Mon May 28 12:01:22 2018 +0800

    Merge branch 'useTiming' into 'master'
    
    runner: Use behat timing files
    
    See merge request integration/nightlyscripts!21

commit de1d2ffe9151d09034657292ba0c9433b5de1abf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat May 26 09:29:18 2018 +0800

    runner: Use behat timing files

commit b5c44488a857d2148efa34274c685b482b0ded7e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 18 18:14:41 2018 +0800

    runner: Move path to subpath
    
    The /var/www directory is owned by root.
    In 31 we simply append a run number to the behatroot directory - i.e.
    /var/www/behatdata1
    
    In 32 we create them in a subdirectory - i.e.
    /var/www/behatdata/behatrun1
    
    When running as www-data, the user does not have access to create the
    behatdata1 directory.
    
    The previous attempted fix was to add a slash:
    31  - /var/www/behatdata/1
    32+ - /var/www/behatdata/behatrun1
    
    However, the trailing slash seems to cause issues in core in some
    sitautions - specifically the re-run of the test.
    
    This fix, tested on 31, and master with a failing test changes the
    directorty further such that the behat data directory is
      /var/www/behatdata/run
    This makes the new run directories:
    31  - /var/www/behatdata/run1
    32+ - /var/www/behatdata/run/behatrun1
    
    Both of these are acceptable as the www-data user has the required
    permission to create new directories for the run in the subdirectory.

commit 41fb3e3952ad053082cf48b545b9e2a714e0d976
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Fri May 18 18:33:52 2018 +0200

    Get rid of the extra slash, seems to be causing problems in >=32.
    
    But keep the chown covering the whole /var/www/* to see if that's
    enough for 31. Or at least to keep everything working but 31.

commit b35f21ab4d3f8e6db0dbf108fb50e4141d609a0c
Merge: 4c3d350 34a14dc
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Fri May 18 08:29:14 2018 +0800

    Merge branch 'ocibump' into 'master'
    
    runner: Bump OCI timeout
    
    See merge request integration/nightlyscripts!20

commit 4c3d35069b33c8025694633ae85d8c55a463f1a5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 18 07:44:26 2018 +0800

    runner: Correct rerun path for 31

commit 34a14dceac2921d1cf7cd926be585b860112b0ea
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 14:46:41 2018 +0800

    runner: Bump OCI timeout

commit c9ce81e560cea4e3721c08c9aead8a8bb9f6dcc2
Merge: 0bb2ac5 8ac11f8
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Thu May 17 14:39:49 2018 +0800

    Merge branch 'behatfix' into 'master'
    
    runner: Add fix for behatdata on 31
    
    See merge request integration/nightlyscripts!19

commit 8ac11f8e74a159a0027cb12eb948a94ea790ba6c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 14:00:14 2018 +0800

    runner: Add fix for behatdata on 31

commit 0bb2ac5264561a47be9ac68c303b07f20b9c57f7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 13:33:35 2018 +0800

    runner: Chown with group

commit 7f1b4c87b603cf3bf7be1e971e4405e82cd63738
Merge: 405c773 53614eb
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:32:11 2018 +0800

    Merge branch 'runaswwwdata' into 'master'
    
    runner: Run behat as www-data
    
    See merge request integration/nightlyscripts!15

commit 405c7739d0b92095c738d386ecd7e4f059557edd
Merge: 387fe98 4b866ad
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:31:42 2018 +0800

    Merge branch '35_release' into 'master'
    
    runner: Add Moodle 3.5 version of runner
    
    See merge request integration/nightlyscripts!17

commit 387fe98f3bbab96df64377f69a43bca3e9a5d837
Merge: 6033840 4a886f4
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 17 08:31:23 2018 +0800

    Merge branch '35_onsync' into 'master'
    
    runner: Set skiplangupgrade as part of on-sync period
    
    See merge request integration/nightlyscripts!16

commit 2bd6d1b63c16e4097dc254c007bdb4de592336bd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:59:06 2018 +0800

    runner: Unset skiplangupgrade for end of on-sync period

commit 4b866ad334144dda7bfa17817d8b7fe353598afa
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:46:36 2018 +0800

    runner: Add Moodle 3.5 version of runner

commit 4a886f415932418b42fce39ca4cb3f6eff4c80ca
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 17 07:41:11 2018 +0800

    runner: Set skiplangupgrade as part of on-sync period

commit 53614eb42297c8cac8caeee7f6feac4c1ab16eba
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 9 08:21:18 2018 +0800

    runner: Run behat as www-data

commit 6033840d3183e33d6af984b358a24c987250feaf
Merge: 9d25a09 2261c5e
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Mon May 14 13:19:04 2018 +0800

    Merge branch 'chownfix_again' into 'master'
    
    runner: Behat has a different datadir
    
    See merge request integration/nightlyscripts!14

commit 2261c5eefa591503bcd47d4ea1fbf4c4ff6917e7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 14 13:18:28 2018 +0800

    runner: Behat has a different datadir

commit 9d25a09583686a7e8aca6f77cd394f90e1f841d0
Merge: dfe3af4 74d8e1f
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Fri May 11 23:21:15 2018 +0800

    Merge branch 'fixchown' into 'master'
    
    runner: Fix bad bashism
    
    See merge request integration/nightlyscripts!13

commit 74d8e1f1b73c8868622ab6d945878c993eb4df3f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 11 23:16:22 2018 +0800

    runner: Fix bad bashism

commit dfe3af4f20b50d1ecadacb30388e7f8e43e2f15c
Merge: 65f3858 8b56620
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue May 8 07:26:08 2018 +0800

    Merge branch 'chromebump' into 'master'
    
    runner: Bump chrome selenium to 3.11.0-dysprosium
    
    See merge request integration/nightlyscripts!12

commit 8b56620b8650c48889ba9d7df840ab8715eb034e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue May 8 07:06:37 2018 +0800

    runner: Bump chrome selenium to 3.11.0-dysprosium
    
    Selenium version 3.11.0-dysprosium (rev e59cfb3)
    Chrome version: 66.0.3359.117
    ChromeDriver version: 2.38.552522

commit 65f3858a655d83b76fbef2c14fcbe8a5489436f8
Merge: 11f0175 6d7e753
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Sat May 5 12:13:43 2018 +0800

    Merge branch 'selspread' into 'master'
    
    runner: Fix parallel runs to use own sel
    
    See merge request integration/nightlyscripts!11

commit 6d7e753f6d35148afc34a6800f119529d725b702
Author: Mark Johnson <mark.johnson@open.ac.uk>
Date:   Fri May 4 22:14:56 2018 +0800

    runner: Fix parallel runs to use own sel

commit 11f0175f567ec57cb08a6b94db96ae79dcaf42fc
Merge: 922c2b2 15afb3c
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Thu May 3 17:16:35 2018 +0800

    Merge branch 'chown_after_init' into 'master'
    
    runner: Chown after behat init
    
    See merge request integration/nightlyscripts!10

commit 15afb3cf686248b16a682fefa00e0730250bbe46
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu May 3 08:08:52 2018 +0800

    runner: Chown after behat init

commit 922c2b20532fac6258026d7d408aca705ef8e1c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Apr 20 12:58:58 2018 +0800

    runner: Extend oracle wait period to 2 mins

commit 4001447d0a615e6348920f5595ba6255127eec16
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Apr 20 12:49:25 2018 +0800

    runner: Correct variable usage

commit 9ea358d3f8934564aa3340ffbaaceec2a3b9fe4e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 09:21:56 2018 +0800

    Revert "runner: Remove wd config from behat_profiles"
    
    This reverts commit e0c4f72be58daddb5d092bca884ebdc866adb574.

commit 116f8f3e6a80409de9398cc23ebb4a5300dd8e4f
Merge: 8269a04 e0c4f72
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Apr 18 08:39:58 2018 +0800

    Merge branch 'selbrok' into 'master'
    
    runner: Remove wd config from behat_profiles
    
    See merge request integration/nightlyscripts!9

commit e0c4f72be58daddb5d092bca884ebdc866adb574
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 08:34:48 2018 +0800

    runner: Remove wd config from behat_profiles

commit 8269a046fcb2855229fc4775c2aea15b0bfe4946
Merge: 960a332 235b954
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Wed Apr 18 07:09:03 2018 +0800

    Merge branch 'oracle_async' into 'master'
    
    runner: Disable async IO on Oracle
    
    See merge request integration/nightlyscripts!8

commit 235b9546035d4f994b858a59209b4a9e049f5eb8
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Apr 18 07:07:23 2018 +0800

    runner: Disable async IO on Oracle

commit 960a332b17a56b5d28753947f7ff93bcbb985f44
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Apr 17 11:25:00 2018 +0800

    runner: Add support for running a single testsuite

commit 7ed139975968fbf64273d230cfbfaec1d41e2b22
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Mar 20 15:58:34 2018 +0100

    Fix for !7, make MOODLE_VERSION global

commit b9943cf42d2237c53cfa8f072374f92c63012a27
Merge: 2f884bd 7839b8a
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Tue Mar 20 20:46:36 2018 +0800

    Merge branch 'no_fail_on_risky_for_31' into 'master'
    
    --fail-on-risk is not available before phpunit 5
    
    See merge request integration/nightlyscripts!7

commit 7839b8a9c9ff06fadddf30c881380bb5a623bc87
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Tue Mar 20 11:43:08 2018 +0100

    --fail-on-risk is not available before phpunit 5
    
    Hence, don't use it for <= 31.

commit 2f884bdcb0baca67e82ad92c93aa7d8b39912eac
Merge: e983eeb 2c08619
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Mar 20 08:43:17 2018 +0800

    Merge branch 'failonrisky' into 'master'
    
    [runner] Fail on risky tests for phpunit
    
    See merge request integration/nightlyscripts!6

commit 2c08619df1d206805f406af51f2bd13f2f82c89f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Mar 20 08:36:12 2018 +0800

    [runner] Fail on risky tests for phpunit

commit e983eeb08d9e7c217f023ed6f63ea43161a19630
Merge: 934f0de 32fb897
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Tue Mar 20 08:02:05 2018 +0800

    Merge branch 'makes_test_output_risky' into 'master'
    
    Be strict about tests output. Mark them as risky.
    
    See merge request integration/nightlyscripts!5

commit 32fb8972f26b1c7e8c492cf80c465a2d8f1bc0cf
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Mar 19 20:24:38 2018 +0100

    Be strict about tests output. Mark them as risky.

commit 934f0de142b53c39eb6ec67b14964ce731ea55bb
Merge: 10d69ae 1239517
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Tue Mar 6 00:53:23 2018 +0800

    Merge branch 'pin_pg_967' into 'master'
    
    Pin postgres to 9.6.7 because 9.6.8 leads to DDL failures
    
    See merge request integration/nightlyscripts!4

commit 1239517482c1cafdf33cdf715afce4920ab9d219
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Mar 5 17:51:19 2018 +0100

    Pin postgres to 9.6.7 because 9.6.8 leads to DDL failures
    
    See https://github.com/moodlehq/moodle-docker/pull/77

commit 10d69ae85da03dab502430e8dbc01c1dff7b79ac
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 16 09:22:53 2018 +0800

    [runner] Add copyright information

commit c07c5a379e6cbb1f77b43bef5267eadc50d2391e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Feb 16 09:21:22 2018 +0800

    [general] Archive old nightly scripts
    
    The Old Nightly Infrastructure is dead.
    
    Long live the Old Nightly Infrastructure.

commit 6c097c30eda6441ef66034d8f97b4bc5568ac769
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 6 08:35:59 2018 +0800

    [runner] Correct exitcode for phpunit
    
    This was a fault after the introduction of loops which meant that the
    true exitcode was overwritten.

commit b1b19e4d9a97610dc643e44785cb504ff9866b83
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Feb 6 08:31:18 2018 +0800

    [runner] Add README

commit dd730f31a1a083b2dd51716c01454012d40b1092
Merge: e14c18c eb71f3f
Author: Eloy Lafuente <stronk7@moodle.com>
Date:   Mon Feb 5 23:35:21 2018 +0800

    Merge branch 'rajagain' into 'master'
    
    [runner] Switch back to raj images
    
    See merge request integration/nightlyscripts!3

commit eb71f3f9e824bc4891fafd71743586276272f08e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Feb 5 17:31:28 2018 +0800

    [runner] Switch back to raj images
    
    Raj's image seems to have some magic which is not present in the
    Selenium official image, though they appear nearly identical.
    
    This change backs out the hub change and instead uses the
    behat_parallel_runs to setup WD config as appropriate for both Firefox
    and Chrome.

commit e14c18c8bfb8948b0a77b0439580ff882d3f8f9d
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Feb 5 13:05:47 2018 +0100

    Get rid of incorrect version and browserVersion caps

commit 32aeae46f8bbee9c16e65473b50e34f33dede2bc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat Feb 3 17:16:16 2018 +0800

    [runner] Save web server logs to file

commit 57e69aae4d08b55ebb2b1f87dffc661753588f38
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 11 15:43:59 2018 +0800

    runner: Use selenium grid with selenium per run

commit 659416237cc13a1626bf7c1a12028ab537b16b3c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 23 13:47:18 2018 +0800

    runner: Do not quote junit path - it tries to write to quote

commit 758be2e0cbf999c04b09a1815e7aaf4982708ff7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 22 13:49:18 2018 +0800

    runner: Add debugging to behat init and run

commit e9c897a76454ae6fd1d28c6a38bea292da994ada
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 16 15:35:17 2018 +0800

    runner: Switch to raj image
    
    Looking to try and remove differences between old and new.

commit d335319a094e17e30534e2773904da70261b1597
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jan 12 15:13:10 2018 +0800

    runner: Assign shared mem to Oracle

commit e2bd778180ecb0ab90cc30284d64945bc7cd0109
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jan 12 10:16:51 2018 +0800

    runner: Adjust how shared memory is allocated to selenium
    
    This is after changes to the recommendations from Selenium in their
    Docker README.md.
    
    They are now suggesting allocating shm to all browsers, not just Chrome
    as they previously suggested.
    They're also suggesting that you can use --shm-size instead of mapping
    /dev/shm which seems like a cleaner approach.

commit d457b833b2913bcf6f2a87186d5ac86f683446c3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 11 13:50:40 2018 +0800

    runner: Switch to Chrome + Selenium 2.7.1

commit d762de8ab7d76702a4eecd4519d4bd589f05393b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 10 13:35:25 2018 +0800

    runner: Support iterations

commit ca84659acbaf2cb3cc6a670ba2e164bde923ad85
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jan 10 12:24:48 2018 +0800

    runner: Switch to chrome + selenium 3.0.1 as per matrix

commit 9e1fcbdde3ffe13f77bdf2fbf49620976706cb40
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jan 8 08:10:05 2018 +0800

    runner: Add PHPUnit LDAP tests

commit 2d0e661a1ff80ec61582f0cdae7a4b263e66eb84
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jan 4 15:05:35 2018 +0800

    runner: Do not expose the selenium port

commit dcc244ccf400c471ddfc6239b773ecf0c10539e5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 2 10:36:14 2018 +0800

    runner: Make cachedir easier to fudge

commit ebcbd526ec20467d3e91e6ad89ac00aac3c1f3ba
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jan 2 10:20:43 2018 +0800

    runner: Add support for tags

commit 3d59a431fc8f74110923aea81482357a471a6e7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 19 11:30:23 2017 +0800

    runner: Correct variable name

commit 3c5e0da017857ad87938f004175ba880e9050815
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 19 10:44:25 2017 +0800

    runner: Chown workspace files at end of job

commit ba0da291e4ef4b69b4eac6215c0e492810027745
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 18 08:59:23 2017 +0800

    runner: Create nightly network

commit 1f8a3fd4e4eb1c477dcead9f59e7992e72e7b111
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 12 17:15:21 2017 +0800

    cron: Add slave script

commit 0294f7f31a650883c1b9ac2f64e8d5ac55fc2265
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Dec 12 17:04:50 2017 +0800

    start_slave: Add slave starter script

commit 8f38704794db6efa3c1439507b612f6b31965d74
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 15:20:29 2017 +0800

    runner: Correct image name for exttests

commit ffd54a51b2343502a4e5411a1227f5b685c7f4bd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 15:01:27 2017 +0800

    runner: Correct variable name

commit dcaf5ef44faef63417eb796d10d11b3d95ea4bbb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 14:17:35 2017 +0800

    runner: Use external tests
    
    This makes use of the external testing URL now that MDL-60948 has
    landed.

commit 41b7738b0f9a6680ab401c772401171f9dd943a9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:53:46 2017 +0800

    runner: Sleep longer before starting postgres tests

commit ed533cc1bc1ec83fb37fc9245c33520ae8cf9afb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:46:49 2017 +0800

    runner: Syntax fix

commit 15e581022cd5d383d21a018f727347c95b6e3371
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:05:04 2017 +0800

    runner: Handle ALL suites condition for behat

commit 71693c14d9e7f5259a5b7690e891f4fb8e6d0d9d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Dec 11 10:02:28 2017 +0800

    runner: Do not normalise mssql to sqlsr
    
    We need to be able to test these individually on 31, and 32.

commit 15b5fa8f18a391cfca88dc73cdb3033a3a5ec05d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sun Dec 10 11:41:01 2017 +0800

    runner: Correct PHP_VERSION specification

commit 4343f4c23db1584cc19d7096bd47ab081e1a40be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 12:51:15 2017 +0800

    runner: Add back to job summary

commit a4bc164aa3ad2262298120dbbdbd9bcaa49252f9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:44:59 2017 +0800

    runner: Move DB summary to ensure correct info

commit f936648da2f9c35aee8fb1893efd3bbccc6d9ecb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:44:45 2017 +0800

    runner: Use variables for DB creds

commit 7ca3b1ed438053da2c4ca2b3a3c93b3cc9d17957
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 10:43:54 2017 +0800

    runner: Correct Oracle init

commit 98ce1bc9347275f8626e44a0d5c66b899e179beb
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 09:31:43 2017 +0800

    runner: More delimiter fixes

commit d2c7c9e6fe18df9c58b78b4d2c26fbf7eeb3f8a2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 09:21:09 2017 +0800

    runner: Improve section delimiters

commit 489254179dacc5f24e3a6c436f2baa1b4abfe805
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Dec 8 08:59:13 2017 +0800

    runner: Correct behat init for alternate suite

commit 6ec6ba172a213b10bc1ca10390d0abea1631e0d3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 12:29:50 2017 +0800

    runner: Add markers or console collapse

commit eefb24f88dbedd818c9061d7c71316c1461b7729
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:52:39 2017 +0800

    runner: No need to drop if DB per run

commit 914135a8420407fddc12a5646f712a6d6712021c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:49:33 2017 +0800

    runner: Config belongs to version

commit ba4f4b32de8c1750031239cc2f7ca3c6c0ce10f3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 11:46:46 2017 +0800

    runner: Add more debugging info

commit d5bddc6c59fde7ddbddd748cc994b9f48f20af3f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 10:55:52 2017 +0800

    runner: Switch to versioned runners

commit e07804a002e5ccab15655672b60ed430a1abb123
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Dec 7 10:11:27 2017 +0800

    run: Init database per run

commit bd4185f8d77ee19fb9140ad7afb220d642f23731
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:18:58 2017 +0800

    General: Tidy up all old files

commit 18b304a8103cce6071023a1fed4e91701016d07c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:15:32 2017 +0800

    run: Make 31-/32+ config changes clearer

commit bbd9f4720de9dc5904230a163496e544e562f4ab
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Dec 6 10:14:51 2017 +0800

    run: Add clearer exitcode info

commit c5c601923acd98eb6a83b875f8d191592db2c4be
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Mon Nov 27 00:04:58 2017 +0100

    config: 35 lang packs available, disable $CFG->skiplangupgrade

commit a1aa6d14ea45c091b357d7b4bfd9060bf87a9c68
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 14:01:24 2017 +0800

    run: More tidyups

commit 277474ca21004edd5ed392646dd447b9ca62af64
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 13:56:13 2017 +0800

    run: Tidy up DB details

commit ac70cfde1eceb5f7225706b609461e393366ba1a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 13:43:09 2017 +0800

    run: Allow configuration of PHP version

commit affd3c837dcb2bcdb711f026f7ad4749920f1ccc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 07:59:11 2017 +0800

    run: Add new job runner

commit 7357e301394db5935acdb15b4d22d2101bd79aa2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 11:44:36 2017 +0800

    configs: Start of on-sync. Skip lang upgrade in cron.

commit e98400eab6abbefce75b9fc26dc8cfa0fb6baef7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 15 08:49:18 2017 +0800

    docker_run: Add configs from docker image

commit d3327c852165fbfe89cbac7d516db3fa2c330530
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Nov 14 09:28:53 2017 +0800

    exttests: Add HTTP ext tests repo

commit e347a8389df0cdd48924d8ddd89e8593c87bbe9e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:59:41 2017 +0800

    docker_run: More interpolation fixes

commit dd5b6bdbc9da895a304212f979ae77b58c2b0a73
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:53:01 2017 +0800

    docker_run: More interpolation fixes

commit 9924855316b68a98a07835201bd99cf893b33148
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 13:42:03 2017 +0800

    docker_run: Typo fix

commit 028c4fa484b7f01ffef3f0e71284c5b1fffeaf91
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 12:38:23 2017 +0800

    docker_run: Quote MOODLE_PATH

commit 782b8a2f6ff8591729e9d46a0528dd6a79dfb76b
Merge: e6afa68 2041c1f
Author: Andrew Nicols <andrewn@moodle.com>
Date:   Mon Nov 13 12:23:12 2017 +0800

    Merge branch 'dockerdb_34' into 'master'
    
    dockerdb: Add branches for 34 release
    
    See merge request integration/nightlyscripts!1

commit 2041c1fb344f979721087fc0d4d762b89427cdfd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 12:05:49 2017 +0800

    dockerdb: Add branches for 34 release

commit e6afa686e23c506b5d3448350668d14491ef6723
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Nov 13 11:44:36 2017 +0800

    configs: Start of on-sync. Skip lang upgrade in cron.

commit bd26b5c923b10773a31e393feac6d97f183c2562
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Nov 8 08:43:54 2017 +0800

    dockerdb: Switch to 2017-GA
    
    This change is now possible as we've switched to use of the overlay2
    docker storage driver.

commit 5bf9826b4f352bf69aff28dda1bd535f6dcf1a14
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:23:30 2017 +0800

    cron: Correct cron format

commit f71fed4d803e791ae3ed1b45a2c9609ceadc80c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:20:34 2017 +0800

    dockercleaner: status = exited

commit cf36cefc225bc6d9351a8ce93ffaeede6800b674
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:18:03 2017 +0800

    cron: Add daily job for dockercleaner

commit b368011028618e584312eac655ec14d27c2e4212
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Nov 3 09:12:51 2017 +0800

    dockercleaner: Make this not suck

commit 934e3a853c1c4ec2ce28a50b77a6387642a2d5be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 11:42:52 2017 +0800

    docker_run: Quote MOODLE_PATH

commit b772068b5ce55a7d8ea1931c0fda53c9ce20303a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 10:11:35 2017 +0800

    dockerdb: Switch to use moodlehq image

commit ee752cb4065fbd161b25d844aeffeb2d6506796c
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Oct 17 10:11:26 2017 +0800

    dockerdb: Add DB for php71

commit b11856d97e7200cd1a133e4f685513a179ba6b34
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:35 2017 +0800

    dockerdb: Stop mapping ports.
    
    Welcome to a pure docker world. No more bare-metal builds to have
    headaches with.

commit ca1bfc0f27ecc8a88b7650daf4ab24cb0cb31d75
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:16 2017 +0800

    dockerdb: Add dbs for master

commit 4f9f95d93046607e93c6e996477946e2389d2f70
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Aug 4 08:58:06 2017 +0800

    dockerdb: Remove outdated docs

commit dfed5a9d2cb2eddc80c8b4d3824870c87f2980b2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Aug 3 12:00:55 2017 +0800

    dockerdb: Do not wait for docker DB starts

commit a87eb0e4242eb2acacf7e94950f2a0e6f177dd99
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 13:56:17 2017 +0800

    dockerdb: Correct DB name

commit 443787c7e0adce39a39b156d9a99a7940a1d6014
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 10:51:56 2017 +0800

    docker_run: Switch to official Chrome Selenium image
    
    The previous image we used had a broken commit for :latest, and the
    previous version was not readily available.
    
    I've switched to the official, standalone image.

commit e101af4ae0a5d023c04b6558120d385945efc9c0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:15:27 2017 +0800

    dockerdb: Add new DBs for generic job usage

commit 4de9fb6d5c49cf9cf9d9aa53dbdf3e89a6443e62
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:15:06 2017 +0800

    dockerdb: Pin to Postgres:9

commit 6e525795a7366fe88e7ea2b647dc4208aac5f35d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 09:11:51 2017 +0800

    dockerdb: Improve help for dockerdb

commit 7f82cbcc91fdb5acf981df3729897a1fccca0080
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:59:00 2017 +0800

    dockerdb: Fix mariadb to version 10.1
    
    We don't have compatability with 10.2 (MySQL 8) yet.

commit 07379159cfece3d4927e1a4d31e04cf38576bb00
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:46:50 2017 +0800

    cron: Fix cron scripts
    
    These weren't working before because of a mix of ownership issues, and
    other stuff.
    
    I've changed this to a model of job and script for easier future
    maintenance.

commit a8c2b674f50c189ff4dbcd8f3a0237bbd7bad117
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:16:35 2017 +0800

    docker_run: Make docker stop more resilient, and stop removing container
    
    In some instances, the docker images were stopped and removed before the
    trap was hit. This meant that the test was subsequently failed because
    the container no longer existed.
    
    I've made it more resilient by looping over a list, rather than the
    common shorthand. I've also stopped removing the container because the
    removal means that we lose the logs too.

commit eedbd25f2d5b72d829d628190cf6697dadd22b81
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 26 08:14:52 2017 +0800

    dockerdb: Stick to sqlsrv:ctp2-1
    
    sqlsrv:rc1 is buggy and broken on some nodes.

commit 02c8e9ca341c4951d9adf439e2cf7473cc1ab8ae
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:41:33 2017 +0800

    maintenance: Correct file permissions

commit b77ec90f15f2bb6f4d6eda81b82eb7b57610a1fa
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:38:56 2017 +0800

    maintenance: Add config backup script

commit 2a85bdd3fe89bd51dbdb96ab98f7231ea5ae8119
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 15:29:15 2017 +0800

    docker_run: Add DB Prefix info to job summary

commit 72624fb9daf198d48d6ed70511234b8b30a76ce4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 10:32:39 2017 +0800

    docker_run: Clean up images correctly after run

commit bd0ccda93bb07cee55597838de58125d05dcd135
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 08:45:09 2017 +0800

    dockerdb: Add DB for T.01

commit 6abfeecbbf93d5cfd92bb23f0bc6865f7a6ab00f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Tue Jul 25 08:43:36 2017 +0800

    docker_run: Remove old MOODLE_BRANCH param

commit 704e0ee73f9121f1417228b8ce3d6c835d73019f
Merge: 9f40477 095784d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon Jul 24 13:16:04 2017 +0800

    Merge remote-tracking branch 'origin/named_jobs'

commit 095784dd8d5b2203268331411fc042fb98342e5d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Sat Jul 22 15:45:11 2017 +0800

    docker_run: Silence empty directory removal

commit eefe579c3b889c136cc15fff0eab25b33be9be86
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:38:19 2017 +0800

    docker_run: Run as $UID instead of jenkins

commit a8f964328b50cfa66d7d83d792976ed0c71056f4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:36:47 2017 +0800

    docker_run: Bindmount the composer cache
    
    Note: The images we currently use run as 'rajesh' because of UID
    matches.
    We need to solve this better.

commit ec440419e11dbaffee7c6965204ac52b3cdf7f93
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jul 20 19:36:17 2017 +0800

    docker_run: Stop running composer outside of docker

commit 9f40477e8fac197daf534b9e069ef9371ed2f0c7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:17:34 2017 +0800

    docker_run: Remove commented out code of yesteryear

commit c2793912e22de14e34c9b4c945389343fc19f7db
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:20:51 2017 +0800

    docker_run: Switch from linked image to named on-network image for selenium

commit 2ebbbf935327deaae0ed11e39deea90d1a50465e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:54 2017 +0800

    docker_run: Switch to uuid naming

commit f4c977987cb705453c661102ecc1db4271ac5b3b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:38 2017 +0800

    docker_run: Ensure docker is on a network

commit 24193e89122a6772bf54a2a649c6c86c64efc425
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:29 2017 +0800

    docker_run: Remove more commented

commit 426ace636b8d1d8d8c5be2705a9e7735c216e494
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:19:02 2017 +0800

    docker_run: Ensure docker is on a network

commit 8b562166645f72ae7898c61a43b7f3bf323e1bc3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jul 7 11:18:31 2017 +0800

    docker_run: Switch to uuid naming

commit dca896e92f9b622dfad9cd4ba1b9bf50124c9209
Author: Eloy Lafuente (stronk7) <stronk7@moodle.org>
Date:   Thu Jul 13 20:52:41 2017 +0800

    MDLSITE-5153 no exceptions for any php version / database
    
    Moodle 3.4 and up requires php70. mssql is not availale for php70
    (only sqlsrv is) and oracle is too. So commenting any exceptional handling.

commit fc03eba427bd1f743b6368355fdd6419e94e09d2
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 5 11:31:30 2017 +0800

    docker_run: Add info about the current run

commit e4b0f7479fcb1fbb408b7a3b566728bb5c910937
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed Jul 5 10:55:58 2017 +0800

    dockerdb: We need 31 databases again

commit 65d95d9f13934880103988a825c645b30f4c2dc3
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 16 13:39:07 2017 +0800

    dockerdb: Put Oracle data on tmpfs

commit e4f4348e435d0e28abd404fc747774dd83128155
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jun 15 09:51:50 2017 +0800

    cron: Add cron scripts (Fixes MDLSITE-5150)

commit 4d0c445d765efe3bdc622cfe58f82dd014abf77e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 11:53:25 2017 +0800

    dockerdb: Add more MySQL/MariaDB tuning

commit e5ed9d0649a1f365d64e95e1581deca2d5128c7f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 10:44:02 2017 +0800

    dockerdb: Add some tuning

commit 8c81986d547e4d0c9332b093a2b51d6eaa0d65b5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:37:16 2017 +0800

    dockerdb: Add improvements found in MariaDB

commit a489d422740bb0eda073cb5a066aa6f7bd2b4687
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:36:57 2017 +0800

    dockerdb: Switch to fixed version of the official mysql image

commit 4b1e69023176821b43d684c803883612515e4cd1
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:36:31 2017 +0800

    dockerdb: Expand mariadb detach option

commit 96adaf626df1e2452acb4c68122fb1a583132001
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:29:00 2017 +0800

    dockerdb: Move MySQL/MariaDB Password to environment
    
    Recent versions of MySQL emit a warning when the password is specified
    as a CLI argument.

commit bdf127cff2de7cd03667ef85ee2c8a6e6bef65b5
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri Jun 2 09:24:08 2017 +0800

    dockerdb: Correct spacing of DB name for new DBs

commit 5bc5491c1c576c8357c37ab6188806cb47bcacf9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Thu Jun 1 06:23:35 2017 +0800

    Revert "docker_run: Build in a network"
    
    This reverts commit 9efbb8bdbf02b2b1f3addea489d1bb8a2d0df7a4.

commit 4ff6531e10df7cdd8adb427e22a3f7cbe292cd9e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:48:30 2017 +0800

    dockerdb: Add DB for php7 runs

commit 0ee70b8f75b45c93e755980e4a8430592229b775
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:38:35 2017 +0800

    setup_run_phpunit: Stop changing the MSSQL DBName if we don't need to
    
    The old VM only had one database, whereas the new docker image has one
    database for each run.
    
    We need to preserve the running for the old database in case we need to
    resurrect any old jobs.

commit de6c7b70c173114517b77f39b1f45c5f1c89e036
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:28:40 2017 +0800

    configs: Add parallel boost template found on nightly02

commit f431c5240e3a20284d54a06305d02fe2bccc6f54
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:23:27 2017 +0800

    configs: On-sync has ended. Stop skip langpack upgrades

commit 9e73afd89594cedcd5fd7f139fdfc938cbefd975
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 10:01:41 2017 +0800

    setup_: Echo out information on which database is being run today

commit 984216dc9744386ad7c3300567259cb2a5ce5437
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:49:57 2017 +0800

    dockerdb: Remove tmpfs from mssql

commit 106f1900994acfc909e00bf8e3bd6c90d953f0be
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:42:00 2017 +0800

    setup_run: Add DbPort option

commit b2d1f42768ec382cb4a4c74ce87b45ca19ff9f0d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:40:17 2017 +0800

    configs: Add DbPort to match setup_run_phpunit

commit 0cb102cbfebe11f05fbad6f47997064905e12e67
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:35:34 2017 +0800

    configs: Bring config.php templates into git

commit 9efbb8bdbf02b2b1f3addea489d1bb8a2d0df7a4
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:33:16 2017 +0800

    docker_run: Build in a network

commit 4d8e4e1faa7b6c3f3d1752c54aabd265975db986
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:29:49 2017 +0800

    dockerdb: Silence network creation

commit 4f7f121634150a2cecc9b7758c268fa2e4b81612
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:29:31 2017 +0800

    docker_run: Expand out docker run

commit 7d234526c5f9aa14a46a7a5f02868d1eae9803dd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:12:02 2017 +0800

    setup_run_phpunit: Add DbPort option

commit 73f48e29719c07b674095f0fd14a2834f831cc26
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:11:40 2017 +0800

    dockerdb: Add mariadb configuration

commit 2e7da39c72f1593e31bff286814abde3d71aa04d
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:11:12 2017 +0800

    dockerdb: Add pgsql tuning

commit daf2b768391559c3ca9624ca9affac4acdbde6d9
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:10:52 2017 +0800

    dockerdb: Move database partitions to tmpfs

commit 60f82163aeb3024864a24278cad9fb1ca565a2cd
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:09:36 2017 +0800

    Move docker DB servers to their own network for better DNS resolution
    
    This makes use of docker's internal DNS resolution, which is only
    available to hosts running on a custom network.

commit 467b83601e8194df07a2277170fb72bcace7ed0e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:09:09 2017 +0800

    Expand docker run for db setup

commit cf5494b2faa2be57cf2cfe57d8645eb1e7bc457e
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Wed May 31 09:06:55 2017 +0800

    Add support for DB Port to docker_run

commit dbfa320c859cbf9997b7dab94560d18496b63990
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:56:22 2017 +0800

    Move mariadb to tmpfs

commit 06defa01587affac144628d9704f9ed7b9902dec
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:51:18 2017 +0800

    Add .gitignore

commit 5754c93fe748b6423d3e1e9fdbc7b2d629d6aa48
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:50:36 2017 +0800

    Add Jenkins maintenance scripts

commit bb24bbefb3e83e40bb68dc3ad265159a854d45ca
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:50 2017 +0800

    Remove archive

commit f0d65eaaa0b56f71190703bf4cdc2f52ef76abaf
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:43 2017 +0800

    Add archive

commit d059d034161e4f159e58c10814acfed8d74a4bf0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:49:10 2017 +0800

    Note about adding/removing databases

commit e000d5b1d44e6b787e547786d5b2bb91b23cbbdc
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:37:25 2017 +0800

    Add a quick readme

commit 452fbb9bb177232fb6d63e294ac41903c612c3d0
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:23:14 2017 +0800

    Switch to Dan's Oracle image

commit 2da98ad152dbb3ba371968f1d8b428daafd18dfe
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:23:02 2017 +0800

    Remove 21 databases

commit 261d4af18497ff63db71ead7a16aa6ddf622198f
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Mon May 29 09:22:41 2017 +0800

    Tidy up faildump dir creation

commit f0b2fa4afa2515d739eca10b84653e0208da38b7
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 15:44:42 2017 +0800

    Expose the sqlsrv port

commit 51891bb10cf4e61cebd6a0e6a20d88bbf563cd7b
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 15:44:29 2017 +0800

    Correct DB init for sqlsrv

commit aea44409111987fd236d4f7e8abb5cfc6463af4a
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 14:05:15 2017 +0800

    Correct docs for sqlsrv docker

commit 05b4937c3702d2069d2db48a6474a331a118dad1
Author: Andrew Nicols <andrew@nicols.co.uk>
Date:   Fri May 26 14:04:19 2017 +0800

    Add M33

commit 04d79d0f0ca77f625731396a4dedc1d02d451c9b
Author: ${username} User <jenkins@nightly.test.in.moodle.com>
Date:   Wed Apr 12 09:16:37 2017 +0800

    Nightly scripts checkin
